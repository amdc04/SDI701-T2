(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"+/ch":function(e,t,i){"use strict";i.d(t,"a",function(){return ve}),i.d(t,"b",function(){return ye});var a=i("fXoL"),o=i("f0Wu"),c=i("c3rA"),n=i("LEq2"),s=i("MguC"),r=i("2Vo4"),l=i("itXk"),d=i("XNiG"),u=i("LRne"),p=i("l5mm"),m=i("A/Rp"),h=i("jJQC"),b=i("lJxs"),g=i("eIep"),f=i("1G5W"),_=i("pLZG"),v=i("PZkE"),y=i("wO+i"),w=i("/uUt"),k=i("zP0r"),x=i("aGrj"),T=i("zp1y"),S=i("+3VI"),j=i("SJHZ"),O=i("MPcj"),I=i("o7Ov"),D=i("kRoH"),C=i("ofXK"),P=i("8it8"),$=i("l7P3"),z=i("PSyB"),M=i("jJW4"),E=i("rLOZ"),L=i("tyNb"),A=i("Jf2N"),F=i("LdyQ"),U=i("MJvn"),N=i("n+1/"),R=i("UdVN"),G=i("NsZK"),q=i("PJRi"),B=i("9gfC"),W=i("pxPQ"),V=i("XNeh"),X=i("T+Bz"),H=i("BTFG"),Y=i("ucZS"),Z=i("rbgZ"),Q=i("VhLi");const K=["dropdown"];function J(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-calendar-picker",23),a.qc("onDateChange",function(t){return a.Uc(e),a.uc().viewDateChanged(t.dueDate.toDate())}),a.vc(1,"async"),a.bc()}if(2&e){const e=a.uc();a.Dc("selectedDate",a.wc(1,4,e.viewDate$))("startHour",0)("allowClear",!1)("showInputs",!1)}}const ee=function(){return{"=1":"Calendar",other:"Calendars"}};function te(e,t){if(1&e&&(a.ac(0),a.gc(1,24),a.vc(2,"i18nPlural"),a.vc(3,"async"),a.Zb()),2&e){const e=a.uc();a.Ib(3),a.kc(a.xc(2,1,a.wc(3,4,e.totalCalendarsSelected$),a.Gc(6,ee))),a.hc(1)}}function ie(e,t){if(1&e){const e=a.dc();a.cc(0,"div",29),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(3).toggleGoogleCalendar(i.id)}),a.vc(1,"async"),a.cc(2,"div",30),a.cc(3,"div",31),a.Xb(4,"div",32),a.cc(5,"div",33),a.dd(6),a.bc(),a.bc(),a.bc(),a.bc()}if(2&e){const e=t.$implicit,i=a.uc(3);a.Ob("cu-user-profile-calendar__header-calendar-dropdown-menu-item-active",a.wc(1,3,i.viewPreferences$).googleCalendars[e.id]),a.Ib(6),a.fd(" ",e.calendar_name," ")}}function ae(e,t){if(1&e&&(a.ac(0),a.bd(1,ie,7,5,"div",27),a.vc(2,"async"),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngForOf",a.wc(2,2,e.googleCalendars$))("ngForTrackBy",e.trackById)}}function oe(e,t){if(1&e){const e=a.dc();a.cc(0,"div",29),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(2).toggleHolidayCountry(i.id)}),a.cc(1,"div",30),a.cc(2,"div",31),a.Xb(3,"div",34),a.vc(4,"lowercase"),a.cc(5,"div",33),a.dd(6),a.bc(),a.bc(),a.bc(),a.bc()}if(2&e){const e=t.$implicit;a.Ob("cu-user-profile-calendar__header-calendar-dropdown-menu-item-active",e.enabled),a.Ib(3),a.Dc("ngClass","flag-icon-"+a.wc(4,4,e.country.code)),a.Ib(3),a.fd(" ",e.country.name," ")}}const ce=function(e){return{id:"google",title:e,icon:"google-calendar"}},ne=function(e){return{id:"national",title:e,icon:"cu3-earth"}},se=function(e,t){return[e,t]},re=function(e,t){return{id:"",title:e,subitems:t}};function le(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-dropdown-list-item",35),a.qc("onSelect",function(t){return a.Uc(e),a.uc(2).addCalendar(t.id)}),a.bc()}if(2&e){const e=a.uc(2);a.Dc("item",a.Ic(8,re,e.addCalendarText,a.Ic(5,se,a.Hc(1,ce,e.commonStringsService.googleCalendarText),a.Hc(3,ne,e.commonStringsService.nationalHolidaysText))))}}function de(e,t){if(1&e&&(a.cc(0,"div"),a.cc(1,"div",25),a.Xb(2,"cu-dropdown-list-title",26),a.bd(3,ae,3,4,"ng-container",15),a.vc(4,"async"),a.bd(5,oe,7,6,"div",27),a.vc(6,"async"),a.bd(7,le,1,11,"cu-dropdown-list-item",28),a.vc(8,"async"),a.bc(),a.bc()),2&e){const e=a.uc();let t=null,i=null;a.Ib(2),a.Dc("title","Calendars"),a.Ib(1),a.Dc("ngIf",e.user.id===(null==(t=a.wc(4,5,e.currentUser$))?null:t.id)),a.Ib(2),a.Dc("ngForOf",a.wc(6,7,e.holidayCountries$))("ngForTrackBy",e.trackById),a.Ib(2),a.Dc("ngIf",e.user.id===(null==(i=a.wc(8,9,e.currentUser$))?null:i.id))}}function ue(e,t){if(1&e){const e=a.dc();a.cc(0,"div",36),a.cc(1,"cu-calendar-settings-menu",37),a.qc("onChangeShowSubtasks",function(t){return a.Uc(e),a.uc().updateCalendarSettings({subtasksType:t})})("updateViewPreferences",function(t){return a.Uc(e),a.uc().updateCalendarSettings(t)})("timeFormatChanged",function(){return a.Uc(e),a.uc().refresh$.next()}),a.vc(2,"async"),a.vc(3,"async"),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Dc("viewPreferences",a.wc(2,2,e.viewPreferences$))("subtasksType",a.wc(3,4,e.viewPreferences$).subtasksType)}}function pe(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-calendar-content-week-view",38),a.qc("eventClicked",function(t){return a.Uc(e),a.uc().eventClicked(t)})("eventTimesChanged",function(t){return a.Uc(e),a.uc().eventTimesChanged(t)}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.bc()}if(2&e){const e=t.ngIf,i=a.uc(),o=a.Rc(33);a.Dc("viewDate",a.wc(1,14,i.viewDate$))("events",e)("weekStartsOn",a.wc(2,16,i.weekStartsOn$))("daysInWeek",1)("milestoneEvents",a.wc(3,18,i.milestoneEvents$))("viewPreferences",a.wc(4,20,i.viewPreferences$))("eventInnerTemplate",o)("snapDraggedEvents",!1)("eventSnapSize",15)("canOpenTasks",!0)("dragElementAppendTo",i.isHome?void 0:i.cdkOverlayContainer)("refresh",i.refresh$)("minimumEventHeight",15)("showCurrentTimeLabel",!0)}}function me(e,t){1&e&&a.Xb(0,"cu-loader")}const he=function(){return{}};function be(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-calendar-event",41),a.qc("openDependencyModal",function(){a.Uc(e);const t=a.uc().event;return a.uc().openDependencyModal(t.meta.task)})("confirmRemap",function(t){a.Uc(e);const i=a.uc().event;return a.uc().confirmRemap(i.meta.task,t)}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.bc()}if(2&e){const e=a.uc(),t=e.event,i=e.inlineTime,o=e.tempEvent,c=e.disableRemapPopover,n=a.uc();a.Dc("task",t.meta.task)("isRecurring",t.meta.isRecurring)("disableEventTooltips",a.wc(1,15,n.disableEventTooltips$))("project",t.meta.project)("team",a.wc(2,17,n.team$))("showEventItems",a.Gc(23,he))("inlineTime",i)("taskStatuses",t.meta.taskStatuses)("tempStartDate",null==o?null:o.start)("tempDueDate",null==o?null:o.end)("showRemapPopover",!!a.wc(3,19,n.showRemapSubtaskPopovers$)[t.id]&&!c)("user",a.wc(4,21,n.currentUser$))("backgroundGradient",t.meta.backgroundGradient)("hideStatus",!0)("hideMenu",!0)}}function ge(e,t){if(1&e&&(a.Xb(0,"cu-google-calendar-event",42),a.vc(1,"async")),2&e){const e=a.uc(),t=e.event,i=e.inlineTime,o=a.uc();a.Dc("event",t.meta.gcalEvent)("calendar",t.meta.calendar)("inlineTime",i)("user",a.wc(1,8,o.currentUser$))("backgroundGradient",t.meta.backgroundGradient)("allDay",t.allDay)("color",t.color.primary)("smallEvent",t.meta.smallEvent)}}function fe(e,t){if(1&e&&(a.bd(0,be,5,24,"cu-calendar-event",39),a.bd(1,ge,2,10,"cu-google-calendar-event",40)),2&e){const e=t.event;a.Dc("ngIf",e.meta.task),a.Ib(1),a.Dc("ngIf",e.meta.gcalEvent)}}const _e=function(){return["bottom-right","top-right","auto"]},ve="profile-calendar-settings";let ye=(()=>{class e{constructor(e,t,i,p,m,f,_,v,y){this.commonStringsService=e,this.store=t,this.publicViewHelper=i,this.sharedData=p,this.localStorage=m,this.router=f,this.modal=_,this.injector=v,this.document=y,this.isHome=!1,this.visibleCalendarsChanged=new a.o,this.viewDate$=new r.a(o().toDate()),this.weekStartsOn$=this.store.select(c.getWeekStartsOn),this.currentUser$=this.store.select(c.getUser),this.team$=this.store.select(c.getTeam),this.disableEventTooltips$=this.store.select(n.g),this.showRemapSubtaskPopovers$=this.store.select(n.K),this.googleCalendars$=this.store.select(n.n),this.viewPreferences$=new r.a({fadePastEvents:!0,subtasksType:s.h.None,showTimeEvents:!0,colorTasksBy:{source:"taskStatus"},googleCalendars:{},holidayCountries:{}}),this.holidayCountries$=Object(l.a)([this.store.select(n.k),this.viewPreferences$]).pipe(Object(b.a)(([e,t])=>e.map(e=>Object.assign(Object.assign({},e),{enabled:t.holidayCountries[e.id]})))),this.refresh$=new d.a,this.user$=new r.a(null),this.totalCalendarsSelected$=Object(l.a)([this.viewPreferences$,this.user$,this.currentUser$,this.googleCalendars$,this.holidayCountries$]).pipe(Object(b.a)(([e,t,i,a,o])=>{const c=t.id===i.id?(a||[]).filter(t=>e.googleCalendars[t.id]).length:0;return(o||[]).filter(t=>e.holidayCountries[t.id]).length+c})),this.taskEvents$=Object(l.a)([this.viewPreferences$,this.user$,this.viewDate$]).pipe(Object(g.a)(([e,t,i])=>this.store.select(Object(n.x)(t.id,this.getDateRange(i),e.subtasksType===s.h.StandAlone,Object.assign(Object.assign({},e),{showMeViewScheduledTasks:!1}))))),this.googleEvents$=Object(l.a)([this.viewPreferences$,this.viewDate$,this.user$,this.currentUser$]).pipe(Object(g.a)(([e,t,i,a])=>i.id!==a.id?Object(u.a)([]):this.store.select(Object(n.y)(this.getDateRange(t),Object.entries(e.googleCalendars).filter(([,e])=>e).map(([e])=>e))))),this.events$=Object(l.a)([this.taskEvents$,this.googleEvents$]).pipe(Object(b.a)(([e,t])=>{if(e&&t)return[...e,...t]})),this.milestoneEvents$=Object(l.a)([this.viewPreferences$,this.viewDate$]).pipe(Object(g.a)(([e,t])=>this.store.select(Object(n.z)(this.getDateRange(t),Object.entries(e.holidayCountries).filter(([,e])=>e).map(([e])=>e))))),this.trackById=Object(h.d)("id"),this.destroy$=new d.a,this.loadGoogleCalendarEvents$=new d.a,this.addCalendarText=$localize`:@@common_add-calendar:Add Calendar`,this.cdkOverlayContainer=this.document.body.querySelector(".cdk-overlay-container")}ngOnInit(){this.updateCalendarSettings(this.localStorage.get(ve)||{}),this.store.dispatch(new m.C),this.store.dispatch(new m.F),Object(p.a)(6e4).pipe(Object(f.a)(this.destroy$)).subscribe(()=>{this.store.dispatch(new m.hb({currentTime:o().toDate().toISOString()}))}),Object(l.a)([this.user$.pipe(Object(_.a)(e=>!!e),Object(v.a)("id")),this.viewPreferences$.pipe(Object(y.a)("subtasksType"),Object(w.a)())]).pipe(Object(k.a)(1),Object(f.a)(this.destroy$)).subscribe(()=>{this.store.dispatch(new m.R({range:this.getDateRange(this.viewDate$.value),userId:this.user.id,showSubtasks:this.viewPreferences$.value.subtasksType===s.h.StandAlone}))}),this.loadGoogleCalendarEvents$.pipe(Object(_.a)(()=>this.user.id===this.sharedData.currentUser.value.id),Object(x.a)(this.googleCalendars$.pipe(Object(_.a)(e=>!!e),Object(v.a)("length"))),Object(T.a)(this.viewPreferences$),Object(f.a)(this.destroy$)).subscribe(([e,t])=>{const i=e.filter(e=>t.googleCalendars[e.id]),a=this.getDateRange(this.viewDate$.value);this.store.dispatch(new m.z({range:a,syncIds:i.map(e=>e.sync_id)}))}),this.viewDateChanged(this.viewDate$.value)}ngOnChanges(e){e.user&&this.user$.next(this.user)}ngOnDestroy(){this.destroy$.next()}eventClicked({mouseEvent:e,event:t}){e&&e.target&&e.target.closest(".cu-linkify-link")||!t.meta.task||this.publicViewHelper.openTask(t.meta.task)}openDependencyModal(e){this.store.dispatch(new O.x({task:e,project:this.sharedData.compatCurrentProject}))}updateCalendarSettings(e){this.viewPreferences$.next(Object.assign(Object.assign({},this.viewPreferences$.value),e)),this.localStorage.set(ve,this.viewPreferences$.value)}viewDateChanged(e){this.viewDate$.next(e);const t=this.getDateRange(e);this.loadGoogleCalendarEvents$.next(),this.store.dispatch(new m.I({range:t})),this.store.dispatch(new m.R({range:t,userId:this.user.id,showSubtasks:this.viewPreferences$.value.subtasksType===s.h.StandAlone}))}toggleGoogleCalendar(e){const t=Object.assign(Object.assign({},this.viewPreferences$.value.googleCalendars),{[e]:!this.viewPreferences$.value.googleCalendars[e]});this.updateCalendarSettings({googleCalendars:t}),this.loadGoogleCalendarEvents$.next(),this.visibleCalendarsChanged.emit(t)}toggleHolidayCountry(e){this.updateCalendarSettings({holidayCountries:Object.assign(Object.assign({},this.viewPreferences$.value.holidayCountries),{[e]:!this.viewPreferences$.value.holidayCountries[e]})})}addCalendar(e){if("google"===e)this.store.dispatch(Object(j.a)()),this.store.dispatch(new I.Ri(this.router.url)),this.router.navigate(["/",this.sharedData.compatCurrentTeam.id,"settings","calendar"]);else if("national"===e){this.dropdown.close();const e=this.modal.openComponent(S.a,this.injector,{blank:!0,modifier:"cu-calendar-add-holiday-country-modal__modal"});e.instance.countryAdded.pipe(Object(f.a)(e.instance.destroy$)).subscribe(e=>{this.toggleHolidayCountry(e.code)})}}eventTimesChanged(e){"task"in e.event.meta?(this.store.dispatch(new m.f(Object.assign(Object.assign({},e),{view:"day",profile:!0}))),e.type===D.c.Drop&&this.store.dispatch(new m.a({userId:this.user.id,showSubtasks:this.viewPreferences$.value.subtasksType===s.h.StandAlone,range:this.getDateRange(this.viewDate$.value),taskId:e.event.meta.task.id}))):"gcalEvent"in e.event.meta&&this.store.dispatch(new m.r(e))}confirmRemap(e,t){this.store.dispatch(new m.d({taskId:e.id,remapAction:t,task:e}))}getDateRange(e){return{start:o(e).startOf("day").toDate(),end:o(e).endOf("day").toDate()}}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(P.a),a.Wb($.Store),a.Wb(z.a),a.Wb(M.a),a.Wb(E.b),a.Wb(L.h),a.Wb(A.a),a.Wb(a.t),a.Wb(C.d))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-user-profile-calendar"]],viewQuery:function(e,t){if(1&e&&a.jd(K,1),2&e){let e;a.Qc(e=a.rc())&&(t.dropdown=e.first)}},hostAttrs:[1,"cu-user-profile-calendar"],hostVars:2,hostBindings:function(e,t){2&e&&a.Ob("cu-user-profile-calendar_home",t.isHome)},inputs:{user:"user",isHome:"isHome"},outputs:{visibleCalendarsChanged:"visibleCalendarsChanged"},features:[a.Gb],decls:34,vars:31,consts:function(){let e,t;return e=$localize`:@@common_today␟aae911c5e8545a38513bf6b474165c570682a9dd␟7102539169730512772: Today `,t=$localize`:@@cu-user-profile-calendar__calendars-selected-count␟99d7011908a5315900196576f63b31c02073da26␟6234544969376707078: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[1,"cu-user-profile-calendar__header"],["cuDropdown","",1,"cu-user-profile-calendar__header-date"],["cuDropdownToggle","",1,"cu-user-profile-calendar__header-date-toggle"],[3,"selectedDate","startHour","allowClear","showInputs","onDateChange",4,"cuDropdownMenu"],[1,"cu-user-profile-calendar__header-arrows"],["icon","cu2-angle-right","mwlCalendarPreviousView","",1,"cu-user-profile-calendar__header-arrow","cu-user-profile-calendar__header-arrow-left",3,"view","viewDate","viewDateChange"],["icon","cu2-angle-right","mwlCalendarNextView","",1,"cu-user-profile-calendar__header-arrow",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"cu-user-profile-calendar__header-today",3,"viewDate","viewDateChange"],e,["cuDropdown","",3,"dropdownCloseOnInsideClick","cuTooltip"],["dropdown","dropdown"],["cuDropdownToggle",""],[1,"cu-user-profile-calendar__header-calendar-dropdown"],["icon","cu2-calendar",1,"cu-user-profile-calendar__header-calendar-dropdown-icon"],[1,"cu-user-profile-calendar__header-calendar-dropdown-label"],[4,"ngIf"],[4,"cuDropdownMenu"],["cuDropdown","",3,"dropdownPlacement","dropdownCloseOnInsideClick"],["cuDropdownToggle","",1,"cu-user-profile-calendar__header-settings",3,"icon"],["class","cu-dropdown__menu cu-dropdown__menu_overflow-hidden",4,"cuDropdownMenu"],["class","cu-user-profile-calendar__day-view",3,"viewDate","events","weekStartsOn","daysInWeek","milestoneEvents","viewPreferences","eventInnerTemplate","snapDraggedEvents","eventSnapSize","canOpenTasks","dragElementAppendTo","refresh","minimumEventHeight","showCurrentTimeLabel","eventClicked","eventTimesChanged",4,"ngIf","ngIfElse"],["loading",""],["eventInnerTemplate",""],[3,"selectedDate","startHour","allowClear","showInputs","onDateChange"],t,[1,"cu-user-profile-calendar__header-calendar-dropdown-menu"],[3,"title"],["class","cu-dropdown-list-item cu-user-profile-calendar__header-calendar-dropdown-menu-item",3,"cu-user-profile-calendar__header-calendar-dropdown-menu-item-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item","onSelect",4,"ngIf"],[1,"cu-dropdown-list-item","cu-user-profile-calendar__header-calendar-dropdown-menu-item",3,"click"],[1,"cu-dropdown-list-item__link-container"],[1,"cu-dropdown-list-item__link"],["icon","google-calendar"],[1,"cu-dropdown-list-item__title"],[1,"flag-icon",3,"ngClass"],[3,"item","onSelect"],[1,"cu-dropdown__menu","cu-dropdown__menu_overflow-hidden"],[3,"viewPreferences","subtasksType","onChangeShowSubtasks","updateViewPreferences","timeFormatChanged"],[1,"cu-user-profile-calendar__day-view",3,"viewDate","events","weekStartsOn","daysInWeek","milestoneEvents","viewPreferences","eventInnerTemplate","snapDraggedEvents","eventSnapSize","canOpenTasks","dragElementAppendTo","refresh","minimumEventHeight","showCurrentTimeLabel","eventClicked","eventTimesChanged"],[3,"task","isRecurring","disableEventTooltips","project","team","showEventItems","inlineTime","taskStatuses","tempStartDate","tempDueDate","showRemapPopover","user","backgroundGradient","hideStatus","hideMenu","openDependencyModal","confirmRemap",4,"ngIf"],[3,"event","calendar","inlineTime","user","backgroundGradient","allDay","color","smallEvent",4,"ngIf"],[3,"task","isRecurring","disableEventTooltips","project","team","showEventItems","inlineTime","taskStatuses","tempStartDate","tempDueDate","showRemapPopover","user","backgroundGradient","hideStatus","hideMenu","openDependencyModal","confirmRemap"],[3,"event","calendar","inlineTime","user","backgroundGradient","allDay","color","smallEvent"]]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.cc(2,"div",2),a.dd(3),a.vc(4,"momentDate"),a.vc(5,"async"),a.bc(),a.bd(6,J,2,6,"cu-calendar-picker",3),a.bc(),a.cc(7,"div",4),a.cc(8,"div",5),a.qc("viewDateChange",function(e){return t.viewDateChanged(e)}),a.vc(9,"async"),a.bc(),a.cc(10,"div",6),a.qc("viewDateChange",function(e){return t.viewDateChanged(e)}),a.vc(11,"async"),a.bc(),a.bc(),a.cc(12,"div",7),a.qc("viewDateChange",function(e){return t.viewDateChanged(e)}),a.gc(13,8),a.vc(14,"async"),a.bc(),a.cc(15,"div",9,10),a.cc(17,"div",11),a.cc(18,"div",12),a.Xb(19,"div",13),a.cc(20,"div",14),a.dd(21),a.vc(22,"async"),a.bd(23,te,4,7,"ng-container",15),a.bc(),a.bc(),a.bc(),a.bd(24,de,9,11,"div",16),a.bc(),a.cc(25,"div",17),a.Xb(26,"div",18),a.bd(27,ue,4,6,"div",19),a.bc(),a.bc(),a.bd(28,pe,5,22,"cu-calendar-content-week-view",20),a.vc(29,"async"),a.bd(30,me,1,0,"ng-template",null,21,a.cd),a.bd(32,fe,2,2,"ng-template",null,22,a.cd)),2&e){const e=a.Rc(31);a.Ib(3),a.fd(" ",a.xc(4,15,a.wc(5,18,t.viewDate$),t.isHome?"MMM D, ddd":"MMM D, dddd")," "),a.Ib(5),a.Dc("view","day")("viewDate",a.wc(9,20,t.viewDate$)),a.Ib(2),a.Dc("view","day")("viewDate",a.wc(11,22,t.viewDate$)),a.Ib(2),a.Dc("viewDate",a.wc(14,24,t.viewDate$)),a.Ib(3),a.Ec("cuTooltip",t.addCalendarText),a.Dc("dropdownCloseOnInsideClick",!1),a.Ib(6),a.fd(" ",a.wc(22,26,t.totalCalendarsSelected$)," "),a.Ib(2),a.Dc("ngIf",!t.isHome),a.Ib(2),a.Dc("dropdownPlacement",a.Gc(30,_e))("dropdownCloseOnInsideClick",!1),a.Ib(1),a.Dc("icon",t.isHome?"cu2-ellipsis":"cog"),a.Ib(2),a.Dc("ngIf",a.wc(29,28,t.events$))("ngIfElse",e)}},directives:[F.b,U.a,N.a,R.a,D.n,D.o,D.p,G.a,C.q,q.a,B.a,C.p,C.o,W.a,V.a,X.a,H.a,Y.a,Z.a],pipes:[Q.a,C.b,C.h,C.n],styles:['.cu-dropdown-list-item{display:flex;cursor:pointer;min-height:32px}.cu-dropdown-list-item:hover{background-color:#fafbfc}.dark-theme .cu-dropdown-list-item:hover{background:#2b343b}.cu-dropdown-list-item_text-highlighted .cu-dropdown-list-item__title-text{font-weight:500}.cu-dropdown-list-item_highlighted{background-color:#fafbfc}.dark-theme .cu-dropdown-list-item_highlighted{background:#2b343b}.cu-dropdown-list-item_dropdown{padding:0;display:block;width:100%}.cu-dropdown-list-item_disabled{opacity:.5}.cu-dropdown-list-item_disabled>*{pointer-events:none}.cu-dropdown-list-item_readonly{cursor:pointer}.cu-dropdown-list-item_readonly>*{pointer-events:none}.cu-dropdown-list-item_switch{cursor:default}.cu-dropdown-list-item_switch .cu-dropdown-list-item__link-container{cursor:pointer}.cu-dropdown-list-item_footer{border-top:1px solid #e9ebf0;background:#fafbfc}.dark-theme .cu-dropdown-list-item_footer{border-top-color:#1e272e;background:#1e272e}.cu-dropdown-list-item_footer .cu-dropdown-list-item__title{color:#7b68ee;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;text-align:center;font-weight:500}@supports (--theme-main-color:#7b68ee){.cu-dropdown-list-item_footer .cu-dropdown-list-item__title{color:var(--theme-main-color)}}.dark-theme .cu-dropdown-list-item_footer .cu-dropdown-list-item__title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-dropdown-list-item_footer .cu-dropdown-list-item__title{color:var(--theme-main-color)}}.cu-dropdown-list-item_footer .cu-dropdown-list-item__title:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-dropdown-list-item_footer .cu-dropdown-list-item__title:hover{color:var(--theme-main-color-dark)}}.cu-dropdown-list-item_separator{min-height:0;padding:0}.cu-dropdown-list-item__link{display:flex;align-items:center;flex-grow:1;padding:0 15px}.cu-dropdown-list-item__link-container{display:flex;flex-direction:column;width:100%;min-width:0;padding:8px 0}.cu-dropdown-list-item__link-description{font:400 10px/1 Gotham Pro,Proxima Nova,arial,serif;padding:0 15px;margin-top:2px;color:rgba(34,34,34,.3)}.contrast_high .cu-dropdown-list-item__link-description{color:#858585}.dark-theme .cu-dropdown-list-item__link-description{color:#828588}.cu-dropdown-list-item__link-description_icon{padding-left:37px}.cu-dropdown-list-item__link-description_variant-1{white-space:normal;width:100%;margin-top:10px;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;line-height:16px}.cu-dropdown-list-item__default{padding:3px 4px;border-radius:4px;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;margin-left:2px;background:#bcc0c7}.dark-theme .cu-dropdown-list-item__default{background:#828588}.cu-dropdown-list-item__question{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:14px;height:14px;cursor:pointer;margin-left:4px;pointer-events:all;fill:#ccc}.dark-theme .cu-dropdown-list-item__question{fill:#828588}.cu-dropdown-list-item__question:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-dropdown-list-item__question:hover{fill:var(--theme-main-color)}}.cu-dropdown-list-item__icon{width:16px;height:16px;margin:-2px 8px -2px -2px;fill:#292d34}.dark-theme .cu-dropdown-list-item__icon{fill:#d5d6d7}.cu-dropdown-list-item__icon_edit{padding:1px;stroke:#292d34}.dark-theme .cu-dropdown-list-item__icon_edit{stroke:#d5d6d7}.cu-dropdown-list-item__icon_remove,.dark-theme .cu-dropdown-list-item__icon_remove{fill:#ff80b9;stroke:#ff80b9}.cu-dropdown-list-item__icon_remove.favorite{stroke:transparent}.cu-dropdown-list-item__icon_delete,.dark-theme .cu-dropdown-list-item__icon_delete{fill:#ff80b9}.cu-dropdown-list-item__icon_viewfullscreen{padding:1px}.cu-dropdown-list-item__icon_showlegend{padding:1px;stroke:#292d34}.dark-theme .cu-dropdown-list-item__icon_showlegend{stroke:#d5d6d7}.cu-dropdown-list-item__icon_open-url{stroke:#292d34}.dark-theme .cu-dropdown-list-item__icon_open-url{stroke:#d5d6d7}.cu-dropdown-list-item__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;flex-grow:1;color:#292d34;white-space:nowrap;position:relative;display:flex;align-items:center;min-width:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-dropdown-list-item__title{font-family:var(--global-font-support)}}.dark-theme .cu-dropdown-list-item__title{color:#d5d6d7}.cu-dropdown-list-item__title_bold{font-weight:700}.cu-dropdown-list-item__title.cu-radio__label .cu-dropdown-list-item__icon{margin:-2px 5px -2px 1px}.cu-dropdown-list-item__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:inherit}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-dropdown-list-item__title-text{font-family:var(--global-font-support)}}.cu-dropdown-list-item__title.space-between{justify-content:space-between}.cu-dropdown-list-item__title-right-text{font-size:12px;opacity:.7}.cu-dropdown-list-item__title-tooltip-icon{width:12px;height:12px;fill:#b9bec7;cursor:pointer;margin-left:5px}.cu-dropdown-list-item__check{fill:#7b68ee;width:14px;height:14px;margin:-2px 0 0 10px;display:none}@supports (--theme-main-color:#7b68ee){.cu-dropdown-list-item__check{fill:var(--theme-main-color)}}.cu-dropdown-list-item__check_active{display:block}.cu-dropdown-list-item__switch{margin-right:15px;display:inline-flex;align-items:center}.cu-dropdown-list-item__separator{height:1px;width:100%;border-bottom:1px solid #e9ebf0}.dark-theme .cu-dropdown-list-item__separator{border-bottom-color:#1e272e}.cu-dropdown-list-item_is-label{pointer-events:none;min-height:28px}.cu-dropdown-list-item_is-label:hover,.dark-theme .cu-dropdown-list-item_is-label:hover{background:transparent}.cu-dropdown-list-item_is-label .cu-dropdown-list-item__title{font-weight:400;font-size:11px;line-height:1;color:rgba(34,34,34,.3)}.contrast_high .cu-dropdown-list-item_is-label .cu-dropdown-list-item__title{color:#858585}.dark-theme .cu-dropdown-list-item_is-label .cu-dropdown-list-item__title{color:#828588}.cu-dropdown-list-item_is-label .cu-dropdown-list-item__link-container{padding:0 0 10px;border-bottom:1px solid #e9ebf0}.dark-theme .cu-dropdown-list-item_is-label .cu-dropdown-list-item__link-container{border-bottom-color:#1e272e}.cu-dropdown-list-item_no-padding .cu-dropdown-list-item__link,.cu-dropdown-list-item_no-padding .cu-dropdown-list-item__link-container{padding:0}.cu-dropdown-list-item__submenu{width:14px;height:14px;flex-shrink:0;margin-right:-5px;margin-left:5px}.cu-dropdown-list-item__submenu use{fill:#82868d}.cu-dropdown-list-item__sort{display:flex;flex-direction:column;border-radius:2px;background-color:#f2f2f2;align-items:center;justify-content:center;width:18px;height:20px;margin-right:5px}.cu-dropdown-list-item__sort_with-icons{margin-right:7px;margin-left:-3px}.dark-theme .cu-dropdown-list-item__sort{background-color:#1e272e}.cu-dropdown-list-item__sort .icon{width:8px;height:8px;fill:#c1c1c1}.cu-dropdown-list-item__sort_active.icon{fill:var(--theme-main-color)}.cu-dropdown-list-item__sort_asc-icon{transform:rotate(90deg)}.cu-dropdown-list-item__sort_desc-icon{transform:rotate(-90deg)}.cu-dropdown-list-item__input{background-color:#fafbfc;padding:0 15px;align-items:center}.cu-dropdown-list-item__input .cu-editable{flex-grow:1}.cu-dropdown-list-item__input .cu-editable__input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-dropdown-list-item__input .cu-editable__input{font-family:var(--global-font-support)}}.cu-dropdown-list-item__input .icon{fill:#292d34;height:14px;width:14px}.dark-theme .cu-dropdown-list-item__input .icon{fill:#b9bec7}.cu-dropdown-list-item__extra-padding .cu-dropdown-list-item__link-container{padding:18px 0}.cu-dropdown-list-item__downward{margin-right:0;height:12px;width:12px;transform:rotate(-90deg)}.cu-dropdown-list-item__badge{font:600 9px/1 Gotham Pro,Proxima Nova,arial,serif;border-radius:3px;padding:3px 4px 2px;margin-left:auto;color:#b9bec7;border:1px solid #e9ebf0}.dark-theme .cu-dropdown-list-item__badge{color:#828588;border-color:#7c828d}.cu-user-profile-calendar{flex:1;display:flex;flex-direction:column;min-height:0}.cu-user-profile-calendar__header{display:flex;align-items:center;border-bottom:1px solid #e9ebf0;background-color:#fff;padding:0 20px;height:45px}.dark-theme .cu-user-profile-calendar__header{background-color:#384047;border-color:#1e272e}.cu-user-profile-calendar_home .cu-user-profile-calendar__header{height:52px;padding:0 10px 0 15px;position:sticky;top:60px;z-index:40;border-radius:6px 6px 0 0;background:#fff}.dark-theme .cu-user-profile-calendar_home .cu-user-profile-calendar__header{background:#1e272e}.cu-user-profile-calendar__header-today{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;display:flex;align-items:center;justify-content:center;cursor:pointer;height:24px;padding:0 8px 1px;margin-right:auto;border-radius:4px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-user-profile-calendar__header-today{font-family:var(--global-font-support)}}.dark-theme .cu-user-profile-calendar__header-today{color:#abaeb0}.cu-user-profile-calendar__header-today:hover{background:#f2f2f2}.dark-theme .cu-user-profile-calendar__header-today:hover{background:#2b343b}.cu-user-profile-calendar__header-arrows{display:flex;align-items:center}.cu-user-profile-calendar__header-arrow{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:24px;height:24px;padding:4px;cursor:pointer;border-radius:4px;fill:#7c828d}.dark-theme .cu-user-profile-calendar__header-arrow{fill:#abaeb0}.cu-user-profile-calendar__header-arrow:hover{background:#f2f2f2}.dark-theme .cu-user-profile-calendar__header-arrow:hover{background:#2b343b}.cu-user-profile-calendar__header-arrow-left{transform:rotate(180deg)}.cu-user-profile-calendar__header-date{display:flex;align-items:center;width:150px}.cu-user-profile-calendar_home .cu-user-profile-calendar__header-date{width:95px}.cu-user-profile-calendar__header-date-toggle{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-user-profile-calendar__header-date-toggle{font-family:var(--global-font-support)}}.dark-theme .cu-user-profile-calendar__header-date-toggle{color:#d5d6d7}.cu-user-profile-calendar__header-date-toggle:hover{color:var(--theme-main-color)}.cu-user-profile-calendar__header-calendar-dropdown{display:flex;align-items:center;border-radius:4px;height:24px;padding:0 8px 1px;margin-bottom:-1px;cursor:pointer}.cu-user-profile-calendar__header-calendar-dropdown:hover,.cu-user-profile-calendar__header .cu-dropdown_open .cu-user-profile-calendar__header-calendar-dropdown{background:#f2f2f2}.dark-theme .cu-user-profile-calendar__header-calendar-dropdown:hover,.dark-theme .cu-user-profile-calendar__header .cu-dropdown_open .cu-user-profile-calendar__header-calendar-dropdown{background:#2b343b}.cu-user-profile-calendar__header-calendar-dropdown-icon{width:14px;height:14px;margin-right:5px;fill:#7c828d}.dark-theme .cu-user-profile-calendar__header-calendar-dropdown-icon{fill:#abaeb0}.cu-user-profile-calendar__header-calendar-dropdown-icon_calendar{margin-top:-1px}.cu-user-profile-calendar__header-calendar-dropdown-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-user-profile-calendar__header-calendar-dropdown-label{color:#abaeb0}.cu-user-profile-calendar__header-calendar-dropdown-menu{min-width:250px;max-width:250px}.cu-user-profile-calendar__header-calendar-dropdown-menu-item{opacity:.5}.cu-user-profile-calendar__header-calendar-dropdown-menu-item .flag-icon,.cu-user-profile-calendar__header-calendar-dropdown-menu-item .icon{width:16px;height:16px;margin-right:8px}.cu-user-profile-calendar__header-calendar-dropdown-menu-item .cu-dropdown-list-item__link{position:relative}.cu-user-profile-calendar__header-calendar-dropdown-menu-item .cu-dropdown-list-item__link:after{content:"";position:absolute;width:16px;height:16px;border:1px solid #e9ebf0;border-radius:50%;right:15px;top:0}.cu-user-profile-calendar__header-calendar-dropdown-menu-item .cu-dropdown-list-item__link:before{content:"";position:absolute;width:8px;height:8px;background-color:var(--theme-main-color);border-radius:50%;right:19px;top:4px;opacity:0}.cu-user-profile-calendar__header-calendar-dropdown-menu-item .cu-dropdown-list-item__title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;padding-right:20px;display:block}.cu-user-profile-calendar__header-calendar-dropdown-menu-item-active,.cu-user-profile-calendar__header-calendar-dropdown-menu-item-active .cu-dropdown-list-item__link:before{opacity:1}.cu-user-profile-calendar__header-settings{width:24px;height:24px;padding:5px;border-radius:4px;cursor:pointer;fill:#7c828d}.dark-theme .cu-user-profile-calendar__header-settings{fill:#abaeb0}.cu-user-profile-calendar__header-settings:hover,.cu-user-profile-calendar__header .cu-dropdown_open .cu-user-profile-calendar__header-settings{background:#f2f2f2}.dark-theme .cu-user-profile-calendar__header-settings:hover,.dark-theme .cu-user-profile-calendar__header .cu-dropdown_open .cu-user-profile-calendar__header-settings{background:#2b343b}.cu-user-profile-calendar__header .cu-dropdown{height:24px}.cu-user-profile-calendar__header .cu-dropdown+.cu-dropdown{margin-left:5px}.cu-user-profile-calendar__day-view{flex:1;min-height:0}'],encapsulation:2,changeDetection:0}),e})()},"+3VI":function(e,t,i){"use strict";i.d(t,"a",function(){return y});var a=i("fXoL"),o=i("LEq2"),c=i("lJxs"),n=i("zp1y"),s=i("IzEk"),r=i("A/Rp"),l=i("c3rA"),d=i("XNiG"),u=i("l7P3"),p=i("Jf2N"),m=i("O5gs"),h=i("ofXK"),b=i("UdVN");const g=["countryNameTemplate"];function f(e,t){if(1&e&&(a.Xb(0,"div",13),a.vc(1,"lowercase"),a.cc(2,"div",14),a.dd(3),a.bc()),2&e){const e=t.item;a.Dc("ngClass","flag-icon-"+a.wc(1,2,e.customPayload.code)),a.Ib(3),a.ed(e.title)}}function _(e,t){if(1&e&&(a.ac(0),a.Xb(1,"div",13),a.vc(2,"lowercase"),a.cc(3,"div",15),a.dd(4),a.bc(),a.Xb(5,"div",16),a.Zb()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngClass","flag-icon-"+a.wc(2,2,e.selectedCountry.code)),a.Ib(3),a.fd(" ",e.selectedCountry.name," ")}}function v(e,t){1&e&&(a.ac(0),a.cc(1,"div",15),a.gc(2,17),a.bc(),a.Xb(3,"div",16),a.Zb())}let y=(()=>{class e{constructor(e,t){this.store=e,this.modal=t,this.countryAdded=new a.o,this.countries$=this.store.select(o.h),this.dropdownListItems$=this.countries$.pipe(Object(c.a)(e=>e.map(({country:e})=>({id:e.code,title:e.name,customPayload:e,textTemplate:this.countryNameTemplate})))),this.destroy$=new d.a}ngOnInit(){this.store.select(l.getIpData).pipe(Object(n.a)(this.countries$),Object(s.a)(1)).subscribe(([e,t])=>{const i=t.find(t=>t.country.code===(null==e?void 0:e.country_code));this.selectedCountry=i?i.country:void 0}),document.body.classList.add("cu-calendar-add-holiday-country-modal__body")}ngOnDestroy(){document.body.classList.remove("cu-calendar-add-holiday-country-modal__body"),this.destroy$.next()}closeModal(){this.modal.close()}addSelectedCountry(){this.store.dispatch(new r.o({code:this.selectedCountry.code})),this.countryAdded.emit(this.selectedCountry),this.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(u.Store),a.Wb(p.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-calendar-add-holiday-country-modal"]],viewQuery:function(e,t){if(1&e&&a.jd(g,3),2&e){let e;a.Qc(e=a.rc())&&(t.countryNameTemplate=e.first)}},hostAttrs:[1,"cu-calendar-add-holiday-country-modal"],outputs:{countryAdded:"countryAdded"},decls:16,vars:11,consts:function(){let e,t,i,a,o;return e=$localize`:@@common_holidays␟4e6be7b06ec88d8333fd2d337c72056b1da99a28␟291120850363817244: Holidays
`,t=$localize`:@@cu-calendar-add-holiday-country-modal__select-country-message␟6a7e158af38224c0edaa063c69e76211d4a89a37␟6570193988504836384: Please select a country which national holidays you want to add to the calendar.
`,i=$localize`:@@common_cancel␟e67bebb0291cbe76b190e83225878cdd3a8a6df6␟4233344881307710716: Cancel `,a=$localize`:@@common_add␟471dacbd8bce85756ead9d3220829d4e0d909522␟1781718482115615420: Add `,o=$localize`:@@common_none␟0ecc0882e014fc706d80fec04d319890faee58b2␟6861747152541249909: None `,[[1,"cu-calendar-add-holiday-country-modal__title"],e,[1,"cu-calendar-add-holiday-country-modal__subtitle"],t,["countryNameTemplate",""],[3,"items","showSearch","autoFocusSearch","menuContainerModifier","menuModifier","useRxFor","onSelect"],[1,"cu-calendar-add-holiday-country-modal__dropdown"],[4,"ngIf"],[1,"cu-calendar-add-holiday-country-modal__buttons"],[1,"cu-calendar-add-holiday-country-modal__cancel",3,"click"],i,[1,"cu-calendar-add-holiday-country-modal__add",3,"disabled","click"],a,[1,"flag-icon",3,"ngClass"],[1,"cu-dropdown-list-item__title-text"],[1,"cu-calendar-add-holiday-country-modal__dropdown-name"],["icon","cu2-angle-down"],o]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.gc(1,1),a.bc(),a.cc(2,"div",2),a.gc(3,3),a.bc(),a.bd(4,f,4,4,"ng-template",null,4,a.cd),a.cc(6,"cu-dropdown-list",5),a.qc("onSelect",function(e){return t.selectedCountry=e.customPayload}),a.vc(7,"async"),a.cc(8,"div",6),a.bd(9,_,6,4,"ng-container",7),a.bd(10,v,4,0,"ng-container",7),a.bc(),a.bc(),a.cc(11,"div",8),a.cc(12,"button",9),a.qc("click",function(){return t.closeModal()}),a.gc(13,10),a.bc(),a.cc(14,"button",11),a.qc("click",function(){return t.addSelectedCountry()}),a.gc(15,12),a.bc(),a.bc()),2&e&&(a.Ib(6),a.Dc("items",a.wc(7,9,t.dropdownListItems$))("showSearch",!0)("autoFocusSearch",!0)("menuContainerModifier","cu-calendar-add-holiday-country-modal__dropdown-menu-container")("menuModifier","cu-calendar-add-holiday-country-modal__dropdown-menu")("useRxFor",!0),a.Ib(3),a.Dc("ngIf",t.selectedCountry),a.Ib(1),a.Dc("ngIf",!t.selectedCountry),a.Ib(4),a.Dc("disabled",!t.selectedCountry))},directives:[m.a,h.q,h.o,b.a],pipes:[h.b,h.n],styles:['.cu-calendar-add-holiday-country-modal__modal{z-index:1001}.cu-calendar-add-holiday-country-modal__modal .cu-modal__dialog{width:340px!important;padding:24px}.cu-calendar-add-holiday-country-modal__modal .cu-modal__body{min-height:0}.cu-calendar-add-holiday-country-modal__body .cdk-overlay-container{z-index:100003}.cu-calendar-add-holiday-country-modal__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:22px;line-height:1;color:#292d34;padding-bottom:16px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-calendar-add-holiday-country-modal__title{font-family:var(--global-font-support)}}.dark-theme .cu-calendar-add-holiday-country-modal__title{color:#d5d6d7}.cu-calendar-add-holiday-country-modal__subtitle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;color:#7c828d;padding-bottom:12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-calendar-add-holiday-country-modal__subtitle{font-family:var(--global-font-support)}}.dark-theme .cu-calendar-add-holiday-country-modal__subtitle{color:#828588}.cu-calendar-add-holiday-country-modal__dropdown{display:flex;align-items:center;min-height:40px;width:100%;border:1px solid #e9ebf0;background:transparent;border-radius:6px;padding:8px 12px}.dark-theme .cu-calendar-add-holiday-country-modal__dropdown{border-color:#1e272e}.cu-calendar-add-holiday-country-modal__dropdown .flag-icon{width:24px;height:24px;margin:-4px 12px -4px 0;flex-shrink:0;border-radius:2px}.cu-calendar-add-holiday-country-modal__dropdown-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1.2;color:#292d34;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-calendar-add-holiday-country-modal__dropdown-name{font-family:var(--global-font-support)}}.dark-theme .cu-calendar-add-holiday-country-modal__dropdown-name{color:#d5d6d7}.cu-calendar-add-holiday-country-modal__dropdown .icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7c828d;width:12px;height:12px}.cu-calendar-add-holiday-country-modal__dropdown .icon:hover{transition:none}.cu-dropdown_open .cu-calendar-add-holiday-country-modal__dropdown .icon{transform:rotate(180deg)}.cu-calendar-add-holiday-country-modal__buttons{display:flex;align-items:center;justify-content:space-between;margin-top:20px}.cu-calendar-add-holiday-country-modal__buttons button{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:700;font-size:13px 1;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;width:136px;height:40px;cursor:pointer;border-radius:3px;border:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-calendar-add-holiday-country-modal__buttons button{font-family:var(--global-font-support)}}.cu-calendar-add-holiday-country-modal__buttons button:disabled{opacity:.6;cursor:not-allowed}.cu-calendar-add-holiday-country-modal__cancel{background:#e9ebf0;color:#7c828d}.cu-calendar-add-holiday-country-modal__cancel:hover{background:#dadde6}.cu-calendar-add-holiday-country-modal__add{background:var(--theme-main-color);color:#fff}.cu-calendar-add-holiday-country-modal__add:hover{background:var(--theme-main-color-dark)}.cu-calendar-add-holiday-country-modal__dropdown-menu-container .cu-dropdown-list-item__title .flag-icon{width:24px;height:24px;margin:-4px 12px -4px 0;flex-shrink:0;border-radius:2px}.cu-calendar-add-holiday-country-modal__dropdown-menu{width:250px}'],encapsulation:2,changeDetection:0}),e})()},"+pq2":function(e,t,i){"use strict";i.d(t,"a",function(){return m});var a=i("l7P3"),o=i("1G5W"),c=i("Dc74"),n=i("XNiG"),s=i("c3rA"),r=i("hr9B"),l=i("fXoL"),d=i("jJW4"),u=i("ofXK");function p(e,t){if(1&e&&(l.cc(0,"div"),l.dd(1),l.bc()),2&e){const e=l.uc();l.Mb("cu-unseen-notifications-counter__body ",e.modifier,""),l.Dc("@unseenNotifications",void 0),l.Ib(1),l.fd(" ",e.unseenNotifications,"\n")}}let m=(()=>{class e{constructor(e,t,i){this.sharedData=e,this.store=t,this.cdr=i,this.unseenNotifications=0,this.team$=this.store.select(s.getTeam),this.destroy$=new n.a,this.modifier=""}ngOnInit(){this.store.pipe(Object(a.select)(c.a),Object(o.a)(this.destroy$)).subscribe(e=>{this.availableAll=e,this.setUnseen()}),this.team$.pipe(Object(o.a)(this.destroy$)).subscribe(()=>this.setUnseen())}setUnseen(){this.unseenNotifications=this.sharedData.compatCurrentTeam&&this.availableAll&&this.availableAll[this.sharedData.compatCurrentTeam.id]?this.availableAll[this.sharedData.compatCurrentTeam.id].unseen:0,this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(d.a),l.Wb(a.Store),l.Wb(l.h))},e.\u0275cmp=l.Qb({type:e,selectors:[["cu-unseen-notifications-counter"]],hostAttrs:[1,"cu-unseen-notifications-counter"],inputs:{modifier:"modifier"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"]],template:function(e,t){1&e&&l.bd(0,p,2,5,"div",0),2&e&&l.Dc("ngIf",t.unseenNotifications)},directives:[u.q],styles:[".cu-unseen-notifications-counter__body{display:flex;align-items:center;justify-content:center;min-width:12px;height:12px;padding:0 3px;border-radius:6px;background:#fd71af;position:absolute;top:-5px;right:-5px;color:#fff;font:400 8px/1 Gotham Pro,Proxima Nova,arial,serif}.cu-unseen-notifications-counter__body_sidebar{min-width:14px;height:14px;border-radius:7px;top:2px;right:auto;left:calc(50% + 1px);border:1px solid #fff}.dark-theme .cu-unseen-notifications-counter__body_sidebar{border-color:#2b343b}.cu-simple-bar__item:hover .cu-unseen-notifications-counter__body_sidebar{border-color:#f6f7f9}.dark-theme .cu-simple-bar__item:hover .cu-unseen-notifications-counter__body_sidebar{border-color:#384047}.cu-unseen-notifications-counter__body_sidebar_top{top:-1px}"],encapsulation:2,data:{animation:[r.l]},changeDetection:0}),e})()},"1Spw":function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"d",function(){return o}),i.d(t,"e",function(){return c}),i.d(t,"a",function(){return n}),i.d(t,"g",function(){return s}),i.d(t,"f",function(){return r}),i.d(t,"c",function(){return l});var a=function(e){return e.List="list",e.CustomField="custom_field",e.Sprints="sprints",e}({}),o=function(e){return e.TAG="time_tag",e.BILLABLE="time_billable",e.USER="time_user",e.ESTIMATE="show_estimate",e}({}),c=function(e){return e.Left="left",e.Right="right",e.Bottom="bottom",e}({}),n=function(e){return e[e.LineChart=1]="LineChart",e[e.BarChart=2]="BarChart",e[e.PieChart=3]="PieChart",e[e.BatteryChart=4]="BatteryChart",e[e.Calculation=16]="Calculation",e[e.TaskList=6]="TaskList",e[e.Chat=7]="Chat",e[e.View=6]="View",e[e.Portfolio=7]="Portfolio",e[e.Description=8]="Description",e[e.CompletedReport=10]="CompletedReport",e[e.WorkedOn=11]="WorkedOn",e[e.WorkSpacePoints=12]="WorkSpacePoints",e[e.WhoseBehind=13]="WhoseBehind",e[e.TimeTracked=14]="TimeTracked",e[e.TimeEstimated=15]="TimeEstimated",e[e.TimeReporting=18]="TimeReporting",e[e.TimeSheet=19]="TimeSheet",e}({});const s={[n.TimeTracked]:{time_tracked:{}},[n.TimeEstimated]:{time_estimated:{},time_tracked:{},remaining:{}},[n.WorkedOn]:{worked_on_count:{}},[n.CompletedReport]:{completed_count:{}},[n.WorkSpacePoints]:{cleared_notifs:{},comments_added:{},comments_resolved:{},tasks_completed:{},tasks_worked_on:{},totals:{}},[n.WhoseBehind]:{tasks_overdue:{},uncleared_notifs:{}}},r={[n.TimeEstimated]:[{id:"time_estimated",name:"time estimated"},{id:"time_tracked",name:"time tracked"},{id:"remaining",name:"remaining"}],[n.TimeTracked]:[{id:"time_tracked",name:"time tracked"}],[n.WorkedOn]:[{id:"worked_on_count",name:"worked on count"}],[n.CompletedReport]:[{id:"completed_count",name:"completed"}],[n.WorkSpacePoints]:[{id:"cleared_notifs",name:"cleared notifications"},{id:"comments_added",name:"comments added"},{id:"comments_resolved",name:"resolved comments"},{id:"tasks_completed",name:"tasks completed"},{id:"tasks_worked_on",name:"worked on",cssClass:"medium-cell"},{id:"totals",name:"total points",cssClass:"small-cell"}],[n.WhoseBehind]:[{id:"uncleared_notifs",name:"total uncleared notifications"},{id:"tasks_overdue",name:"total overdue tasks"}]};var l=function(e){return e.Users="users",e.Statuses="statuses",e.Tags="tags",e.Locations="location",e.CustomFields="customFields",e.TimeTags="time-tags",e.Category="category",e}({})},"27jl":function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a=i("qJfo"),o=i("fXoL"),c=i("UdVN"),n=i("ofXK"),s=i("AjG6");function r(e,t){if(1&e){const e=o.dc();o.cc(0,"cu-template-list",5,6),o.qc("onCreate",function(){return o.Uc(e),o.uc().clickNew()})("onDelete",function(t){return o.Uc(e),o.uc().showRemoveConfirmModal(t)})("onRename",function(t){return o.Uc(e),o.uc().rename(t)})("onSelect",function(t){return o.Uc(e),o.uc().select(t)})("onPage",function(){return o.Uc(e),o.uc().pageTaskTemplates()}),o.vc(2,"async"),o.bc()}if(2&e){const e=o.uc();o.Dc("listTitle",e.listTitle)("readOnlyMode",e.readOnlyMode)("groupByProject",e.groupByProject)("allowCustom",e.allowCustom)("templateList",e.templateList)("type",e.type)("query",o.wc(2,12,e.searchTerm$))("fetching",e.fetching)("loading",e.loading)("donePaging",e.donePaging)("showNone",e.showNone)("selectedItem",e.selectedTemplate)}}let l=(()=>{class e extends a.a{}return e.\u0275fac=function(t){return d(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["cu-inline-template-list"]],features:[o.Fb],decls:7,vars:1,consts:function(){let e;return e=$localize`:@@cu-inline-template-list__form-placeholder_search-template␟4dd20009b43b2d6d7bc337556ced80b76c5f7175␟2490352819013095686:Search template...`,[[1,"cu-search","cu-search_compact"],["type","text","placeholder",e,1,"cu-search__input","cu-search__input_centered",3,"keydown","blur"],["input","","search",""],["icon","search",1,"cu-search__icon"],[3,"listTitle","readOnlyMode","groupByProject","allowCustom","templateList","type","query","fetching","loading","donePaging","showNone","selectedItem","onCreate","onDelete","onRename","onSelect","onPage",4,"ngIf"],[3,"listTitle","readOnlyMode","groupByProject","allowCustom","templateList","type","query","fetching","loading","donePaging","showNone","selectedItem","onCreate","onDelete","onRename","onSelect","onPage"],["templateListComp",""]]},template:function(e,t){1&e&&(o.cc(0,"div"),o.cc(1,"div",0),o.cc(2,"input",1,2),o.qc("keydown",function(e){return t.onKeyDown(e)})("blur",function(){return t.onSearchInputBlur()}),o.bc(),o.Xb(5,"div",3),o.bc(),o.bd(6,r,3,14,"cu-template-list",4),o.bc()),2&e&&(o.Ib(6),o.Dc("ngIf",!t.hideDropdown))},directives:[c.a,n.q,s.a],pipes:[n.b],encapsulation:2}),e})();const d=o.ec(l)},"2OkI":function(e,t,i){"use strict";i.d(t,"a",function(){return m});var a=i("fXoL"),o=i("l7P3"),c=i("dTHz"),n=i("PBBv"),s=i("c3rA"),r=i("ofXK"),l=i("UdVN");function d(e,t){if(1&e){const e=a.dc();a.cc(0,"div",3),a.qc("click",function(){return a.Uc(e),a.uc().close()})("keyup.Esc",function(){return a.Uc(e),a.uc().close()},!1,a.Sc),a.bc()}}function u(e,t){if(1&e){const e=a.dc();a.cc(0,"div",4),a.qc("click",function(){return a.Uc(e),a.uc().toggleCollapse()}),a.bc()}if(2&e){const e=a.uc();a.Ob("cu2-right-sidebar__collapse-btn_collapsed",e.collapsed)}}const p=["*"];let m=(()=>{class e{constructor(e){this.store=e,this.zIndex=1e3,this.modifier="",this.closeSidebar=new a.o,this.toggleSidebar=new a.o,this.LayoutVersion=c.b,this.user$=this.store.select(s.getUser),this.favoritesPinned$=this.store.pipe(Object(o.select)(n.g))}close(){this.closeSidebar.emit()}toggleCollapse(){this.toggleSidebar.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.Store))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu2-right-sidebar"]],inputs:{width:"width",zIndex:"zIndex",collapsed:"collapsed",modifier:"modifier",simpleLayout:"simpleLayout"},outputs:{closeSidebar:"closeSidebar",toggleSidebar:"toggleSidebar"},ngContentSelectors:p,decls:8,vars:23,consts:[["class","cu2-right-sidebar__close-btn","icon","close-modal",3,"click","keyup.Esc",4,"ngIf"],["class","cu2-right-sidebar__collapse-btn","icon","cu2-angle-right",3,"cu2-right-sidebar__collapse-btn_collapsed","click",4,"ngIf"],[1,"cu2-right-sidebar__inner"],["icon","close-modal",1,"cu2-right-sidebar__close-btn",3,"click","keyup.Esc"],["icon","cu2-angle-right",1,"cu2-right-sidebar__collapse-btn",3,"click"]],template:function(e,t){if(1&e&&(a.Cc(),a.cc(0,"div"),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.bd(4,d,1,0,"div",0),a.bd(5,u,1,2,"div",1),a.cc(6,"div",2),a.Bc(7),a.bc(),a.bc()),2&e){let e=null;a.Mb("cu2-right-sidebar ",t.modifier,""),a.ad("width",t.width,"px")("z-index",t.zIndex),a.Ob("cu2-right-sidebar_collapsed",t.collapsed)("cu2-right-sidebar_two-rows",(null==(e=a.wc(1,17,t.user$))?null:e.dashboard)===t.LayoutVersion.Three||(null==(e=a.wc(2,19,t.user$))?null:e.dashboard)===t.LayoutVersion.Four)("cu2-right-sidebar_favorites-pinned",a.wc(3,21,t.favoritesPinned$))("cu2-right-sidebar_simple",t.simpleLayout),a.Ib(4),a.Dc("ngIf",!t.simpleLayout),a.Ib(1),a.Dc("ngIf",!t.simpleLayout)}},directives:[r.q,l.a],pipes:[r.b],styles:['.cu2-right-sidebar{border-top:3px solid;position:absolute;top:0;bottom:0;right:0;width:500px;z-index:1000;animation:slideRightSidebar .3s cubic-bezier(.785,.135,.15,.86) forwards}@supports (--theme-main-color:#7b68ee){.cu2-right-sidebar{border-top-color:var(--theme-main-color)}}.attachments-viewer_open .cu2-right-sidebar{z-index:1001!important}.cu2-right-sidebar_user-profile-sidebar{transform:translate3d(830px,0,0)}.cu2-right-sidebar_list-details-sidebar{transform:translate3d(575px,0,0)}.cu2-right-sidebar_list-details-sidebar-with-comments{transform:translate3d(1020px,0,0)}.cu2-right-sidebar_team-users-sidebar{transform:translate3d(100%,0,0);width:350px;margin-top:50px;border-top:1px solid #e9ebf0;border-left:1px solid #e9ebf0}.dark-theme .cu2-right-sidebar_team-users-sidebar{border-top-color:#1e272e;border-left-color:#1e272e}.layout-size_compact .cu2-right-sidebar_team-users-sidebar{margin-top:50px}.layout-size_default .cu2-right-sidebar_team-users-sidebar{margin-top:55px}.layout-size_large .cu2-right-sidebar_team-users-sidebar{margin-top:59px}.cu2-right-sidebar_team-users-sidebar:before{display:none}.cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows,.layout-size_compact .cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows{margin-top:50px}.layout-size_default .cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows{margin-top:55px}.layout-size_large .cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows{margin-top:59px}.cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows.cu2-right-sidebar_favorites-pinned,.layout-size_compact .cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows.cu2-right-sidebar_favorites-pinned{margin-top:86px}.layout-size_default .cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows.cu2-right-sidebar_favorites-pinned{margin-top:91px}.layout-size_large .cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_two-rows.cu2-right-sidebar_favorites-pinned{margin-top:95px}.cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_collapsed{width:55px}.cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_collapsed .cu-search-input{height:0}.cu2-right-sidebar_team-users-sidebar.cu2-right-sidebar_simple{width:244px!important;margin-top:50px}.cu2-right-sidebar__collapse-btn{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;display:none;position:absolute;top:15px;left:-10px;background-color:#fff;width:20px;height:20px;border-radius:50%;cursor:pointer;z-index:700;padding:3px 3px 3px 4px;fill:#82868d;border:1px solid #e9ebf0}.contrast_high .cu2-right-sidebar__collapse-btn{border-color:#dedede}.dark-theme .cu2-right-sidebar__collapse-btn{background:#384047;border-color:#1e272e;fill:#828588}.cu2-right-sidebar__collapse-btn svg{transform:rotate(0deg)}.cu2-right-sidebar__collapse-btn_collapsed svg{transform:rotate(180deg)}.cu2-right-sidebar__collapse-btn:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-right-sidebar__collapse-btn:hover{fill:var(--theme-main-color)}}.cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__collapse-btn{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:block;top:0;left:0;width:18px;height:18px;padding:2px;border-radius:0 0 4px 0;border:0;border-bottom:1px solid #e9ebf0;border-right:1px solid #e9ebf0;z-index:700;transform:none;background:#fff;fill:#7c828d}.dark-theme .cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__collapse-btn{background:#2b343b;border-color:#1e272e}.cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__collapse-btn:hover{transform:none;background:#f2f2f2}.dark-theme .cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__collapse-btn:hover{background:#1e272e}.cu2-right-sidebar:before{content:"";position:absolute;right:0;left:0;top:0;bottom:0;box-shadow:0 0 130px 5px rgba(0,0,0,.33)}.cu2-right-sidebar__inner{background:#fff;height:100%;overflow:hidden;width:100%;position:relative}.dark-theme .cu2-right-sidebar__inner{background:#384047}.cu-gantt__fullscreen .cu2-right-sidebar__inner{display:none}.cu2-right-sidebar__close-btn{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:10px;left:-46px;width:36px;height:36px;padding:11px;background:#fff;border:none;outline:none;border-radius:50%;box-shadow:0 1px 15px rgba(0,0,0,.07);stroke:#979797;cursor:pointer}.cu2-right-sidebar__close-btn:hover{transform:rotate(180deg)}.cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__close-btn{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;top:0;left:auto;right:0;width:18px;height:18px;padding:4px;border-radius:0 0 0 4px;border-bottom:1px solid #e9ebf0;border-left:1px solid #e9ebf0;z-index:700;background:#fff;fill:#7c828d;stroke:#7c828d}.dark-theme .cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__close-btn{background:#2b343b;border-color:#1e272e}.cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__close-btn:hover{transform:none;background:#f2f2f2}.dark-theme .cu2-right-sidebar_team-users-sidebar .cu2-right-sidebar__close-btn:hover{background:#1e272e}.cu-gantt__fullscreen .cu2-right-sidebar{display:none}@keyframes slideRightSidebar{to{transform:translateZ(0)}}'],encapsulation:2,changeDetection:0}),e})()},"2WXQ":function(e,t,i){"use strict";i.d(t,"a",function(){return ge});var a=i("oE8l"),o=i("ofXK"),c=i("UJt2"),n=i("/qmH"),s=i("K0KF"),r=i("3Pt+"),l=i("gb9A"),d=i("1M0N"),u=i("C8uC"),p=i("3x2b"),m=i("bFKe"),h=i("FpDt"),b=i("HIOz"),g=i("fXoL"),f=i("GXRk"),_=i("c3rA"),v=i("l7P3"),y=i("UdVN"),w=i("nm3x"),k=i("LdyQ"),x=i("loh9"),T=i("MJvn"),S=i("n+1/"),j=i("KbVY"),O=i("NsZK"),I=i("cjvU"),D=i("uDQY"),C=i("2uWK"),P=i("XaMR"),$=i("dN7M"),z=i("sl2P"),M=i("ENHh"),E=i("KX9h");function L(e,t){if(1&e&&(g.cc(0,"div",14),g.dd(1),g.bc()),2&e){const e=g.uc();g.Ib(1),g.fd(" ",(null==e.event.meta.task.subtask_parent_task?null:e.event.meta.task.subtask_parent_task.name)||(null==e.event.meta.task.parent_task?null:e.event.meta.task.parent_task.name),"\n")}}function A(e,t){if(1&e&&(g.ac(0),g.dd(1),g.Zb()),2&e){const e=g.uc(2);g.Ib(1),g.fd(" ",null==e.event.meta.task?null:e.event.meta.task.project_name," > ")}}function F(e,t){if(1&e&&(g.cc(0,"span"),g.dd(1),g.bc()),2&e){const e=g.uc(2);g.Ib(1),g.fd(" ",e.event.meta.task.category.name," > ")}}function U(e,t){if(1&e&&(g.cc(0,"div",14),g.bd(1,A,2,1,"ng-container",15),g.vc(2,"async"),g.bd(3,F,2,1,"span",15),g.vc(4,"async"),g.dd(5),g.bc()),2&e){const e=g.uc();g.Ib(1),g.Dc("ngIf",!g.wc(2,3,e.currentProject$)),g.Ib(2),g.Dc("ngIf",!g.wc(4,5,e.category$)&&!e.event.meta.task.category.hidden),g.Ib(2),g.fd(" ",e.event.meta.task.subcategory.name,"\n")}}function N(e,t){if(1&e){const e=g.dc();g.cc(0,"div",19),g.cc(1,"cu-status-list",20),g.qc("onChange",function(t){return g.Uc(e),g.uc(2).setStatus.emit(t)}),g.vc(2,"async"),g.bc(),g.bc()}if(2&e){const e=g.uc(2);let t=null;g.Ib(1),g.Dc("showSearch",!1)("activeStatus",null==e.event.meta.task?null:e.event.meta.task.status)("statuses",e.event.meta.taskStatuses)("hasCustomType",!(null==e.event.meta.task||!e.event.meta.task.custom_type))("groupByStatusType",null==(t=g.wc(2,5,e.team$))?null:t.unstarted_status_group)}}const R=function(e){return{color:e}};function G(e,t){if(1&e&&(g.cc(0,"div",16),g.Xb(1,"div",17),g.vc(2,"isColorDarkerThan"),g.bd(3,N,3,7,"div",18),g.bc()),2&e){const e=g.uc();g.Ob("lv-task__status-custom-type",(null==e.event.meta.project||null==e.event.meta.project.features||null==e.event.meta.project.features.milestones?null:e.event.meta.project.features.milestones.enabled)&&!(null==e.event.meta.task||!e.event.meta.task.custom_type)),g.Dc("dropdownDisabled",!(null!=e.event.meta.task&&e.event.meta.task.permissions&&null!=e.event.meta.task&&null!=e.event.meta.task.permissions&&e.event.meta.task.permissions.change_status&&e.allowChangeStatus)),g.Ib(1),g.Ob("lv-task__status_light",!g.xc(2,6,null==e.event.meta.task||null==e.event.meta.task.status?null:e.event.meta.task.status.color,.86)),g.Dc("ngStyle",g.Hc(9,R,null==e.event.meta.task||null==e.event.meta.task.status?null:e.event.meta.task.status.color))}}const q=function(e){return{"lv-task__done-btn_active":e}};function B(e,t){if(1&e){const e=g.dc();g.cc(0,"div",21),g.qc("click",function(){return g.Uc(e),g.uc().toggleSimpleStatus.emit()}),g.bc()}if(2&e){const e=g.uc();g.Dc("ngClass",g.Hc(2,q,e.event.meta.task.status.type===e.StatusTypes.Closed))("icon","check")}}function W(e,t){1&e&&g.Xb(0,"div",22)}function V(e,t){if(1&e&&g.Xb(0,"div",23),2&e){const e=g.uc();g.Dc("icon","cu2-subtask")("cuTooltip",null==e.event.meta.task.parent_task?null:e.event.meta.task.parent_task.name)}}function X(e,t){if(1&e&&(g.Xb(0,"div",24),g.vc(1,"linkify")),2&e){const e=g.uc();g.Ob("cu-dashboard-time__custom-type-title",(null==e.event.meta.project||null==e.event.meta.project.features||null==e.event.meta.project.features.milestones?null:e.event.meta.project.features.milestones.enabled)&&!(null==e.event.meta.task||!e.event.meta.task.custom_type)),g.Dc("cuTooltip",e.showTooltip?e.event.title:"")("tooltipDisabledIfTextNotTruncated",!0)("innerHTML",g.wc(1,5,e.event.title),g.Vc)}}function H(e,t){if(1&e&&g.Xb(0,"cu-datetime",25),2&e){const e=g.uc();g.Dc("date",e.event.meta.task.due_date)("showTime",e.event.meta.task.due_date_time)("isOnTime",e.event.meta.task.date_closed&&e.event.meta.task.date_closed<=e.event.meta.task.due_date||e.event.meta.task.date_done&&e.event.meta.task.date_done<=e.event.meta.task.due_date)("noHighlight",e.event.meta.task.date_closed||e.event.meta.task.date_done)}}function Y(e,t){if(1&e){const e=g.dc();g.cc(0,"cu-quick-actions-menu-editor",26),g.qc("onAction",function(t){return g.Uc(e),g.uc().renameEvent.emit(t.name)})("click",function(e){return e.stopPropagation()}),g.bc()}if(2&e){const e=g.uc();g.Dc("name",e.event.meta.task.name)("forTags",!1)}}function Z(e,t){if(1&e&&(g.cc(0,"div",27),g.cc(1,"div",28),g.tc(),g.cc(2,"svg",29),g.cc(3,"g",30),g.Xb(4,"path",31),g.Xb(5,"rect",32),g.Xb(6,"rect",33),g.bc(),g.bc(),g.bc(),g.dd(7),g.vc(8,"async"),g.vc(9,"timeTracked"),g.vc(10,"async"),g.vc(11,"async"),g.vc(12,"timeTracked"),g.vc(13,"async"),g.vc(14,"async"),g.bc()),2&e){const e=g.uc();let t=null;g.Ib(7),g.fd(" ",!e.event.meta.task.parent&&null!=(t=g.wc(8,1,e.team$))&&t.time_estimate_rollup?g.zc(9,3,e.event.meta.task.rolled_up_time_estimate,null==(t=g.wc(10,8,e.team$))?null:t.hours_per_day,!1,null==(t=g.wc(11,10,e.team$))?null:t.time_estimate_display_hours):g.zc(12,12,e.event.meta.task.time_estimate,null==(t=g.wc(13,17,e.team$))?null:t.hours_per_day,!1,null==(t=g.wc(14,19,e.team$))?null:t.time_estimate_display_hours)," ")}}function Q(e,t){if(1&e&&(g.cc(0,"div",27),g.Xb(1,"cu-points-estimates-display",34),g.vc(2,"async"),g.bc()),2&e){const e=g.uc();let t=null;g.Ib(1),g.Dc("points",!e.event.meta.task.parent&&null!=(t=g.wc(2,1,e.team$))&&t.points_estimate_rollup?e.event.meta.task.rolled_up_points_estimate:null==e.event.meta.task?null:e.event.meta.task.points)}}function K(e,t){if(1&e&&(g.cc(0,"div",35),g.Xb(1,"cu-priorities-view",36),g.bc()),2&e){const e=g.uc();g.Ib(1),g.Dc("priority",e.event.meta.task.priority)}}function J(e,t){if(1&e){const e=g.dc();g.cc(0,"cu-calendar-event-assignee",37),g.qc("reloadTask",function(){return g.Uc(e),g.uc().reloadTask.emit()})("updateTask",function(t){return g.Uc(e),g.uc().updateTask.emit(t)}),g.bc()}if(2&e){const e=g.uc();g.Dc("task",e.event.meta.task)("project",e.event.meta.project)("isRecurring",e.event.meta.isRecurring)}}let ee=(()=>{class e{constructor(e){this.store=e,this.StatusTypes=f.g,this.showTooltip=!1,this.isOverdue=!1,this.allowChangeStatus=!0,this.renameEvent=new g.o,this.setStatus=new g.o,this.toggleSimpleStatus=new g.o,this.reloadTask=new g.o,this.updateTask=new g.o,this.category$=this.store.select(_.getCategory),this.currentProject$=this.store.select(_.getProject),this.team$=this.store.select(_.getTeam)}}return e.\u0275fac=function(t){return new(t||e)(g.Wb(v.Store))},e.\u0275cmp=g.Qb({type:e,selectors:[["cu-calendar-sidebar-event"]],hostAttrs:[1,"cu-calendar-sidebar-event"],inputs:{event:"event",showTooltip:"showTooltip",eventIdToRename:"eventIdToRename",showEventItems:"showEventItems",isOverdue:"isOverdue",allowChangeStatus:"allowChangeStatus"},outputs:{renameEvent:"renameEvent",setStatus:"setStatus",toggleSimpleStatus:"toggleSimpleStatus",reloadTask:"reloadTask",updateTask:"updateTask"},decls:16,vars:15,consts:[["icon","handle4-no-color",1,"cu-calendar-sidebar-event__handle"],["class","cu-calendar-sidebar-event__parent",4,"ngIf"],[1,"cu-calendar-sidebar-event__inner"],["cuDropdown","","class","lv-task__status-container",3,"dropdownDisabled","lv-task__status-custom-type","cuPreventDefault",4,"ngIf"],[3,"cuColors","disabled"],["class","lv-task__done-btn",3,"ngClass","icon","cuPreventDefault","click",4,"ngIf"],["class","lv-task__private-icon","icon","lock5",4,"ngIf"],["class","cu-calendar-sidebar-event__subtask-icon",3,"icon","cuTooltip",4,"ngIf"],["class","cu-calendar-sidebar-event__title",3,"cu-dashboard-time__custom-type-title","cuTooltip","tooltipDisabledIfTextNotTruncated","innerHTML",4,"ngIf"],["dateTimeTitle","Due Date\xa0",3,"date","showTime","isOnTime","noHighlight",4,"ngIf"],[3,"name","forTags","onAction","click",4,"ngIf"],["class","cu-calendar-sidebar-event__time-estimate",4,"ngIf"],["class","cu-calendar-sidebar-event__priority",4,"ngIf"],["class","cu-calendar-sidebar-event__assignees",3,"task","project","isRecurring","reloadTask","updateTask",4,"ngIf"],[1,"cu-calendar-sidebar-event__parent"],[4,"ngIf"],["cuDropdown","",1,"lv-task__status-container",3,"dropdownDisabled","cuPreventDefault"],["cuDropdownToggle","",1,"lv-task__status",3,"ngStyle"],["class","cu-dropdown__menu cu-dropdown__menu_overflow-hidden",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","cu-dropdown__menu_overflow-hidden"],[3,"showSearch","activeStatus","statuses","hasCustomType","groupByStatusType","onChange"],[1,"lv-task__done-btn",3,"ngClass","icon","cuPreventDefault","click"],["icon","lock5",1,"lv-task__private-icon"],[1,"cu-calendar-sidebar-event__subtask-icon",3,"icon","cuTooltip"],[1,"cu-calendar-sidebar-event__title",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","innerHTML"],["dateTimeTitle","Due Date\xa0",3,"date","showTime","isOnTime","noHighlight"],[3,"name","forTags","onAction","click"],[1,"cu-calendar-sidebar-event__time-estimate"],[1,"icon"],["width","10","height","14","xmlns","http://www.w3.org/2000/svg"],["transform","translate(1 1)","stroke-width",".726","fill","none","fill-rule","evenodd",1,"cu-stroke"],["d","M1.28000544,1.46667573 L1.28000544,3.28000544 C1.28000544,4.78221697 2.49778847,6 4,6 C5.50221153,6 6.71999453,4.78221697 6.71999453,3.28000544 L6.71999453,1.46667573 L1.28000544,1.46667573 Z M1.28000544,10.5333243 L6.71999453,10.5333243 L6.71999453,8.71999453 C6.71999453,7.217783 5.50221153,6 4,6 C2.49778847,6 1.28000544,7.217783 1.28000544,8.71999453 L1.28000544,10.5333243 Z"],["x",".071","y",".258","width","7.858","height","1.209","rx",".604"],["x",".071","y","10.533","width","7.858","height","1.209","rx",".604"],[3,"points"],[1,"cu-calendar-sidebar-event__priority"],[3,"priority"],[1,"cu-calendar-sidebar-event__assignees",3,"task","project","isRecurring","reloadTask","updateTask"]],template:function(e,t){1&e&&(g.Xb(0,"div",0),g.bd(1,L,2,1,"div",1),g.bd(2,U,6,7,"div",1),g.cc(3,"div",2),g.bd(4,G,4,11,"div",3),g.cc(5,"cu-sparks",4),g.bd(6,B,1,4,"div",5),g.bc(),g.bd(7,W,1,0,"div",6),g.bd(8,V,1,2,"div",7),g.bd(9,X,2,7,"div",8),g.bd(10,H,1,4,"cu-datetime",9),g.bd(11,Y,1,2,"cu-quick-actions-menu-editor",10),g.bd(12,Z,15,21,"div",11),g.bd(13,Q,3,3,"div",11),g.bd(14,K,2,1,"div",12),g.bd(15,J,1,3,"cu-calendar-event-assignee",13),g.bc()),2&e&&(g.Ib(1),g.Dc("ngIf",(null==t.showEventItems?null:t.showEventItems.parentName)&&((null==t.event.meta.task.subtask_parent_task?null:t.event.meta.task.subtask_parent_task.name)||(null==t.event.meta.task.parent_task?null:t.event.meta.task.parent_task.name))),g.Ib(1),g.Dc("ngIf",t.showEventItems.location),g.Ib(2),g.Dc("ngIf",!t.event.meta.task.simple_statuses||(null==t.event.meta.project||null==t.event.meta.project.features||null==t.event.meta.project.features.milestones?null:t.event.meta.project.features.milestones.enabled)&&!(null==t.event.meta.task||!t.event.meta.task.custom_type)),g.Ib(1),g.Dc("cuColors",!0)("disabled",t.event.meta.task.status.type===t.StatusTypes.Closed),g.Ib(1),g.Dc("ngIf",t.event.meta.task.simple_statuses&&!(null!=t.event.meta.project&&null!=t.event.meta.project.features&&null!=t.event.meta.project.features.milestones&&t.event.meta.project.features.milestones.enabled&&null!=t.event.meta.task&&t.event.meta.task.custom_type)),g.Ib(1),g.Dc("ngIf",t.event.meta.task.private),g.Ib(1),g.Dc("ngIf",t.event.meta.task.parent),g.Ib(1),g.Dc("ngIf",t.event.id!==t.eventIdToRename),g.Ib(1),g.Dc("ngIf",t.isOverdue&&t.event.id!==t.eventIdToRename),g.Ib(1),g.Dc("ngIf",t.event.id===t.eventIdToRename),g.Ib(1),g.Dc("ngIf",(null==t.event.meta.project||null==t.event.meta.project.features||null==t.event.meta.project.features.time_estimates?null:t.event.meta.project.features.time_estimates.enabled)&&(t.event.meta.task.time_estimate_string||t.event.meta.task.rolled_up_time_estimate)&&t.showEventItems.timeEstimate),g.Ib(1),g.Dc("ngIf",(null==t.event.meta.project||null==t.event.meta.project.features||null==t.event.meta.project.features.points?null:t.event.meta.project.features.points.enabled)&&(t.event.meta.task.points||t.event.meta.task.rolled_up_points_estimate)&&t.showEventItems.pointsEstimate),g.Ib(1),g.Dc("ngIf",(null==t.event.meta.project||null==t.event.meta.project.features||null==t.event.meta.project.features.priorities?null:t.event.meta.project.features.priorities.enabled)&&t.event.meta.task.priority&&t.showEventItems.priority),g.Ib(1),g.Dc("ngIf",t.showEventItems.assignee))},directives:[y.a,o.q,w.a,k.b,x.a,T.a,o.t,S.a,j.a,o.o,O.a,I.a,D.a,C.a,P.a,$.a],pipes:[o.b,z.a,M.a,E.a],styles:['.cu-calendar-sidebar-event{display:flex;flex-direction:column;margin:0 10px;border-radius:4px;border:1px solid transparent;min-height:38px;position:relative}.cu-calendar-sidebar-event:hover{background:#fafbfc}.dark-theme .cu-calendar-sidebar-event:hover{background:#384047}.cu-calendar-sidebar-event:hover .cu-calendar-sidebar-event__title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-calendar-sidebar-event:hover .cu-calendar-sidebar-event__title{color:var(--theme-main-color)}}.cu-calendar-sidebar-event:hover .cu-calendar-sidebar-event__handle{opacity:1}.cu-calendar-sidebar-event.drag-border .cu-calendar-sidebar-event__handle{opacity:1;cursor:pointer}.cu-calendar-sidebar-event_selected{border:1px dashed #7b68ee}@supports (--theme-main-color:#7b68ee){.cu-calendar-sidebar-event_selected{border-color:var(--theme-main-color)}}.cu-calendar-sidebar-event__handle{position:absolute;left:4px;top:50%;transform:translateY(-50%);flex-shrink:0;width:7px;padding:0;height:18px;opacity:0;cursor:move;fill:#b9bec7}.dark-theme .cu-calendar-sidebar-event__handle{fill:#7c828d}.cal-undraggable .cu-calendar-sidebar-event__handle{display:none}.cu-calendar-sidebar-event__inner{display:flex;flex:1;align-items:center;height:36px;padding:0 5px 0 15px}.cu-calendar-sidebar-event__subtask-icon{height:15px;width:15px;margin-top:-2px;margin-right:5px;display:inline-flex;fill:#aeacb0}.cu-calendar-sidebar-event__parent{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.4;font:300 10px/1.1 Gotham Pro,Proxima Nova,arial,serif;margin:4px 0 -5px;padding:0 15px;height:12px;color:#343434}.contrast_high .cu-calendar-sidebar-event__parent{color:#858585}.dark-theme .cu-calendar-sidebar-event__parent{color:#d5d6d7}.cu-calendar-sidebar-event__title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:300;font-size:12px;line-height:1.15;color:#343434;flex-grow:1;padding-right:5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-calendar-sidebar-event__title{font-family:var(--global-font-support)}}.cu-calendar-sidebar-event__title.cu-dashboard-time__custom-type-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:600}.dark-theme .cu-calendar-sidebar-event__title{color:#d5d6d7}.cu-calendar-sidebar-event__status{position:relative;margin:-2px 10px 0 0;width:10px;height:10px;border-radius:3px;flex-shrink:0}.cu-calendar-sidebar-event .cu-avatar.cu-avatar_lg{width:24px;height:24px}.cu-calendar-sidebar-event .cu-user-group__more.cu-user-group__more_lg{letter-spacing:0;width:24px;height:24px}.cu-calendar-sidebar-event .cu-priorities-view__icon{width:15px;height:15px;margin-right:3px}.cu-calendar-sidebar-event .cu-user-group__remove{width:15px;height:15px}.cu-calendar-sidebar-event .cu-quick-actions-menu-editor{flex:1;margin-right:3px}.cu-calendar-sidebar-event--subtask{width:100%}.cu-calendar-sidebar-event-nothing{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;padding-left:15px;flex-grow:1;color:#343434;font-size:13px}.dark-theme .cu-calendar-sidebar-event-nothing{color:#d5d6d7}.cu-calendar-sidebar-event__assignees,.cu-calendar-sidebar-event__priority{margin-left:5px}.cu-calendar-sidebar-event__priority .cu-priorities-view__icon{margin-right:0}.cu-calendar-sidebar-event__time-estimate{display:flex;align-items:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;flex-shrink:0;margin-left:5px;color:#343434}.dark-theme .cu-calendar-sidebar-event__time-estimate{color:#abaeb0}.cu-calendar-sidebar-event__time-estimate .icon{width:14px;height:14px}.cu-calendar-sidebar-event .due-date__info-value{white-space:nowrap}'],encapsulation:2,changeDetection:0}),e})();var te=i("MTKx"),ie=i("dzSB"),ae=i("KyjD"),oe=i("rjFr"),ce=i("UDEt"),ne=i("WL/q"),se=i("bx+h"),re=i("AGVE"),le=i("vi4T"),de=i("vxfF"),ue=i("csDc"),pe=i("peMq"),me=i("BTFG"),he=i("hUS4"),be=i("0bNS");let ge=(()=>{class e{}return e.\u0275mod=g.Ub({type:e}),e.\u0275inj=g.Tb({factory:function(t){return new(t||e)},imports:[[o.c,n.b,s.a,r.l,l.a,d.a,u.LoaderModule,p.a,m.b,h.a,b.a,te.a,ie.a,ae.a,oe.a,ce.a,ne.a,se.a,re.a,le.a,de.e,ue.a,a.a]]}),e})();g.Yc(c.a,[o.q,y.a,o.o,r.c,r.p,r.s,O.a,k.b,T.a,S.a,o.p,pe.a,me.a,de.c,de.a,p.b,he.a,m.a,de.b,ee,p.c,be.a],[])},"3vfw":function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("fXoL"),o=i("8kh7"),c=i("UdVN");let n=(()=>{class e{constructor(e){this.quickSwitcherService=e,this.modifier="",this.iconModifier="cu2-bolt"}openQuickSwitcher(){this.quickSwitcherService.openQuickSwitcher.next()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-header-quick-switcher"]],hostVars:4,hostBindings:function(e,t){2&e&&(a.Lb(t.modifier),a.Ob("cu-header-quick-switcher",!0))},inputs:{modifier:"modifier",iconModifier:"iconModifier"},decls:1,vars:1,consts:[[1,"cu-header-quick-switcher__inner",3,"icon","click"]],template:function(e,t){1&e&&(a.cc(0,"div",0),a.qc("click",function(){return t.openQuickSwitcher()}),a.bc()),2&e&&a.Ec("icon",t.iconModifier)},directives:[c.a],styles:[".cu-header-quick-switcher{transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;width:30px;height:30px;flex-shrink:0}.cu-header-quick-switcher:hover .cu-header-quick-switcher__inner{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-header-quick-switcher:hover .cu-header-quick-switcher__inner{fill:var(--theme-main-color)}}.cu-header-quick-switcher__inner{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;padding:5px;cursor:pointer;width:100%;height:100%;fill:#292d34}.dark-theme .cu-header-quick-switcher__inner{fill:#d5d6d7}.cu-header-quick-switcher_simple-layout{width:32px;height:100%;margin-left:4px;border-radius:4px;background:#f6f7f9}.dark-theme .cu-header-quick-switcher_simple-layout{background:#384047}.cu-simple-bar.dark-theme .cu-header-quick-switcher_simple-layout{background:#2b343b}.cu-header-quick-switcher_simple-layout:hover .cu-header-quick-switcher__inner{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-header-quick-switcher_simple-layout:hover .cu-header-quick-switcher__inner{fill:var(--theme-main-color)}}.dark-theme .cu-header-quick-switcher_simple-layout:hover .cu-header-quick-switcher__inner{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-header-quick-switcher_simple-layout:hover .cu-header-quick-switcher__inner{fill:var(--theme-main-color)}}.cu-header-quick-switcher_simple-layout .cu-header-quick-switcher__inner{padding:0 10px;fill:rgba(124,130,141,.7)}.dark-theme .cu-header-quick-switcher_simple-layout .cu-header-quick-switcher__inner{fill:#7c828d}"],encapsulation:2,changeDetection:0}),e})()},"3x2b":function(e,t,i){"use strict";i.d(t,"a",function(){return K}),i.d(t,"d",function(){return V}),i.d(t,"c",function(){return Y}),i.d(t,"b",function(){return Q});var a=i("XNiG"),o=i("HDdC"),c=i("jtHE"),n=i("VRyK"),s=i("itXk"),r=i("xgIS"),l=i("ofXK");function d(e,t){var i,a;return a=t,"function"==typeof(e=void 0===(i=e)?void 0===a?i:a:i)?function(){for(var t=arguments,i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=t[o];return!!e.apply(this,a)}:e?function(){return!0}:function(){return!1}}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},p=function(e){return null!=e&&"object"===(void 0===e?"undefined":u(e))&&1===e.nodeType&&"object"===u(e.style)&&"object"===u(e.ownerDocument)};function m(e,t){if(t=_(t,!0),!p(t))return-1;for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}function h(e,t){return-1!==m(e,t)}function b(e,t){for(var i=0;i<t.length;i++)h(e,t[i])||e.push(t[i]);return t}function g(e){for(var t=arguments,i=[],a=arguments.length-1;a-- >0;)i[a]=t[a+1];return b(e,i=i.map(_))}function f(e){for(var t=arguments,i=[],a=arguments.length-1;a-- >0;)i[a]=t[a+1];return i.map(_).reduce(function(t,i){var a=m(e,i);return-1!==a?t.concat(e.splice(a,1)):t},[])}function _(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(i){throw i}if(!p(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function v(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(i){throw new TypeError("Can't call getBoundingClientRect on "+e)}}var y,w=void 0;"function"!=typeof Object.create?(y=function(){},w=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");y.prototype=e||{};var i=new y;return y.prototype=null,void 0!==t&&Object.defineProperties(i,t),null===e&&(i.__proto__=null),i}):w=Object.create;var k=w,x=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function T(e,t){t=t||{};for(var i=k(e),a=0;a<x.length;a++)void 0!==t[x[a]]&&(i[x[a]]=t[x[a]]);return i}function S(e,t){e.data=t||{},e.dispatched="mousemove"}var j=["webkit","moz","ms","o"],O=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=j.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[j[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),a=Math.max(0,16-t-i),o=window.setTimeout(function(){return e(t+a)},a);return i=t+a,o}}return window.requestAnimationFrame.bind(window)}(),I=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=j.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[j[e]+"CancelAnimationFrame"]||window[j[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function D(e,t){void 0===t&&(t={});var i=this,a=4,o=!1;if("object"!=typeof t.margin){var c=t.margin||-1;this.margin={left:c,right:c,top:c,bottom:c}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var n,s={},r=function(e,t){var i=d((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,i(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var a=t.target&&t.target.ownerDocument||document,o=a.documentElement,c=a.body;e.pageX=t.clientX+(o&&o.scrollLeft||c&&c.scrollLeft||0)-(o&&o.clientLeft||c&&c.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||c&&c.scrollTop||0)-(o&&o.clientTop||c&&c.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(s),l=(n={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null},{destroy:function(){n=null},dispatch:MouseEvent?function(e,t,i){var a=new MouseEvent("mousemove",T(n,t));return S(a,i),e.dispatchEvent(a)}:"function"==typeof document.createEvent?function(e,t,i){var a=T(n,t),o=document.createEvent("MouseEvents");return o.initMouseEvent("mousemove",!0,!0,window,0,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget),S(o,i),e.dispatchEvent(o)}:"function"==typeof document.createEventObject?function(e,t,i){var a=document.createEventObject(),o=T(n,t);for(var c in o)a[c]=o[c];return S(a,i),e.dispatchEvent(a)}:void 0}),u=!1;window.addEventListener("mousemove",r,!1),window.addEventListener("touchmove",r,!1),isNaN(t.maxSpeed)||(a=t.maxSpeed),"object"!=typeof a&&(a={left:a,right:a,top:a,bottom:a}),this.autoScroll=d(t.autoScroll),this.syncMove=d(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",r,!1),window.removeEventListener("touchmove",r,!1),window.removeEventListener("mousedown",k,!1),window.removeEventListener("touchstart",k,!1),window.removeEventListener("mouseup",x,!1),window.removeEventListener("touchend",x,!1),window.removeEventListener("pointerup",x,!1),window.removeEventListener("mouseleave",D,!1),window.removeEventListener("mousemove",$,!1),window.removeEventListener("touchmove",$,!1),window.removeEventListener("scroll",w,!0),e=[],t&&j()},this.add=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return g.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return f.apply(void 0,[e].concat(t))};var p,m,b=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),m=e,e=[],m.forEach(function(e){e===window?b=window:i.add(e)}),Object.defineProperties(this,{down:{get:function(){return u}},maxSpeed:{get:function(){return a}},point:{get:function(){return s}},scrolling:{get:function(){return o}}});var _,y=null;function w(t){for(var i=0;i<e.length;i++)if(e[i]===t.target){o=!0;break}o&&O(function(){return o=!1})}function k(){u=!0}function x(){u=!1,j()}function j(){I(_),I(p)}function D(){u=!1}function P(){for(var t=null,i=0;i<e.length;i++)C(s,e[i])&&(t=e[i]);return t}function $(t){if(i.autoScroll()&&!t.dispatched){var a=t.target,o=document.body;y&&!C(s,y)&&(i.scrollWhenOutside||(y=null)),a&&a.parentNode===o?a=P():(a=function(t){if(!t)return null;if(y===t)return t;if(h(e,t))return t;for(;t=t.parentNode;)if(h(e,t))return t;return null}(a))||(a=P()),a&&a!==y&&(y=a),b&&(I(p),p=O(z)),y&&(I(_),_=O(M))}}function z(){E(b),I(p),p=O(z)}function M(){y&&(E(y),I(_),_=O(M))}function E(e){var t,a,o=v(e);t=s.x<o.left+i.margin.left?Math.floor(Math.max(-1,(s.x-o.left)/i.margin.left-1)*i.maxSpeed.left):s.x>o.right-i.margin.right?Math.ceil(Math.min(1,(s.x-o.right)/i.margin.right+1)*i.maxSpeed.right):0,a=s.y<o.top+i.margin.top?Math.floor(Math.max(-1,(s.y-o.top)/i.margin.top-1)*i.maxSpeed.top):s.y>o.bottom-i.margin.bottom?Math.ceil(Math.min(1,(s.y-o.bottom)/i.margin.bottom+1)*i.maxSpeed.bottom):0,i.syncMove()&&l.dispatch(e,{pageX:s.pageX+t,pageY:s.pageY+a,clientX:s.x+t,clientY:s.y+a}),setTimeout(function(){a&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,a),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)})}window.addEventListener("mousedown",k,!1),window.addEventListener("touchstart",k,!1),window.addEventListener("mouseup",x,!1),window.addEventListener("touchend",x,!1),window.addEventListener("pointerup",x,!1),window.addEventListener("mousemove",$,!1),window.addEventListener("touchmove",$,!1),window.addEventListener("mouseleave",D,!1),window.addEventListener("scroll",w,!0)}function C(e,t,i){return i?e.y>i.top&&e.y<i.bottom&&e.x>i.left&&e.x<i.right:function(e,t){var i=v(t);return e.y>i.top&&e.y<i.bottom&&e.x>i.left&&e.x<i.right}(e,t)}var P=i("fXoL"),$=i("pLZG"),z=i("5+tZ"),M=i("JX91"),E=i("lJxs"),L=i("w1tV"),A=i("1G5W"),F=i("IzEk"),U=i("BFxc"),N=i("7o/Q");class R{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new G(e,this.predicate,this.source))}}class G extends N.a{constructor(e,t,i){super(e),this.predicate=t,this.source=i,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(i){return void this.destination.error(i)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var q=i("Zy1z"),B=i("/uUt");let W=(()=>{class e{constructor(){this.currentDrag=new a.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=P.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(P.X)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),V=(()=>{class e{constructor(e){this.elementRef=e,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return e.\u0275fac=function(t){return new(t||e)(P.Wb(P.m))},e.\u0275dir=P.Rb({type:e,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),e})();function X(e,t,i){i&&i.split(" ").forEach(i=>e.addClass(t.nativeElement,i))}function H(e,t,i){i&&i.split(" ").forEach(i=>e.removeClass(t.nativeElement,i))}let Y=(()=>{class e{constructor(e,t,i,o,c,n,s){this.element=e,this.renderer=t,this.draggableHelper=i,this.zone=o,this.vcr=c,this.scrollContainer=n,this.document=s,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new P.o,this.dragStart=new P.o,this.ghostElementCreated=new P.o,this.dragging=new P.o,this.dragEnd=new P.o,this.pointerDown$=new a.a,this.pointerMove$=new a.a,this.pointerUp$=new a.a,this.eventListenerSubscriptions={},this.destroy$=new a.a,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Object($.a)(()=>this.canDrag()),Object(z.a)(e=>{e.event.stopPropagation&&!this.scrollContainer&&e.event.stopPropagation();const t=this.renderer.createElement("style");this.renderer.setAttribute(t,"type","text/css"),this.renderer.appendChild(t,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(t)});const i=this.getScrollPosition(),r=new o.a(e=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",t=>e.next(t))).pipe(Object(M.a)(i),Object(E.a)(()=>this.getScrollPosition())),l=new a.a,d=new c.a;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const u=Object(n.a)(this.pointerUp$,this.pointerDown$,d,this.destroy$).pipe(Object(L.a)()),p=Object(s.a)([this.pointerMove$,r]).pipe(Object(E.a)(([t,i])=>({currentDrag$:l,transformX:t.clientX-e.clientX,transformY:t.clientY-e.clientY,clientX:t.clientX,clientY:t.clientY,scrollLeft:i.left,scrollTop:i.top,target:t.event.target})),Object(E.a)(e=>(this.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),e)),Object(E.a)(e=>(this.dragAxis.x||(e.transformX=0),this.dragAxis.y||(e.transformY=0),e)),Object(E.a)(e=>Object.assign({},e,{x:e.transformX+(e.scrollLeft-i.left),y:e.transformY+(e.scrollTop-i.top)})),Object($.a)(({x:e,y:t,transformX:i,transformY:a})=>!this.validateDrag||this.validateDrag({x:e,y:t,transform:{x:i,y:a}})),Object(A.a)(u),Object(L.a)()),m=p.pipe(Object(F.a)(1),Object(L.a)()),h=p.pipe(Object(U.a)(1),Object(L.a)());return m.subscribe(({clientX:e,clientY:t,x:i,y:a})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:d})}),this.scroller=new D([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),X(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const o=this.element.nativeElement.getBoundingClientRect(),c=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(c):this.element.nativeElement.parentNode.insertBefore(c,this.element.nativeElement.nextSibling),this.ghostElement=c,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(c,{position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px",height:o.height+"px",cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const e=this.vcr.createEmbeddedView(this.ghostElementTemplate);c.innerHTML="",e.rootNodes.filter(e=>e instanceof Node).forEach(e=>{c.appendChild(e)}),h.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(e))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:e-i,clientY:t-a,element:c})}),h.subscribe(()=>{c.parentElement.removeChild(c),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),h.pipe(Object(z.a)(e=>{const t=d.pipe(e=>e.lift(new R(void 0,e)),Object(F.a)(1),Object(E.a)(t=>Object.assign({},e,{dragCancelled:t>0})));return d.complete(),t})).subscribe(({x:e,y:t,dragCancelled:i})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:e,y:t,dragCancelled:i})}),H(this.renderer,this.element,this.dragActiveClass),l.complete()}),Object(n.a)(u,h).pipe(Object(F.a)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(t)})}),p}),Object(L.a)());Object(n.a)(e.pipe(Object(F.a)(1),Object(E.a)(e=>[,e])),e.pipe(Object(q.a)())).pipe(Object($.a)(([e,t])=>!e||e.x!==t.x||e.y!==t.y),Object(E.a)(([e,t])=>t)).subscribe(({x:e,y:t,currentDrag$:i,clientX:a,clientY:o,transformX:c,transformY:n,target:s})=>{this.zone.run(()=>{this.dragging.next({x:e,y:t})}),requestAnimationFrame(()=>{if(this.ghostElement){const e=`translate3d(${c}px, ${n}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:e,"-webkit-transform":e,"-ms-transform":e,"-moz-transform":e,"-o-transform":e})}}),i.next({clientX:a,clientY:o,dropData:this.dropData,target:s})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),t=Object.keys(this.eventListenerSubscriptions).length>0;e&&!t?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",e=>{this.onMouseDown(e)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",e=>{this.onMouseUp(e)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",e=>{this.onTouchStart(e)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&t&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",e=>{this.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let t,i,a;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),i=!1,a=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const o=Object(r.a)(this.document,"contextmenu").subscribe(e=>{e.preventDefault()}),c=Object(r.a)(this.document,"touchmove",{passive:!1}).subscribe(o=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!i&&a&&(i=this.shouldBeginDrag(e,o,t)),(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&a&&!i||(o.preventDefault(),this.pointerMove$.next({event:o,clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),c.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,t){Object.keys(t).forEach(i=>{this.renderer.setStyle(e,i,t[i])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,t,i){const a=this.getScrollPosition(),o=Math.abs(a.top-i.top),c=Math.abs(a.left-i.left),n=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-c,s=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-o,r=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(n+s>r.delta||o>0||c>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=r.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(P.Wb(P.m),P.Wb(P.H),P.Wb(W),P.Wb(P.B),P.Wb(P.U),P.Wb(V,8),P.Wb(l.d))},e.\u0275dir=P.Rb({type:e,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[P.Gb]}),e})();function Z(e,t,i){return e>=i.left&&e<=i.right&&t>=i.top&&t<=i.bottom}let Q=(()=>{class e{constructor(e,t,i,a,o){this.element=e,this.draggableHelper=t,this.zone=i,this.renderer=a,this.scrollContainer=o,this.dragEnter=new P.o,this.dragLeave=new P.o,this.dragOver=new P.o,this.drop=new P.o}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{X(this.renderer,this.element,this.dragActiveClass);const t={updateCache:!0},i=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{t.updateCache=!0});let a;const o=e.pipe(Object(E.a)(({clientX:e,clientY:i,dropData:o,target:c})=>{a=o,t.updateCache&&(t.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(t.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),t.updateCache=!1);const n=Z(e,i,t.rect),s=!this.validateDrop||this.validateDrop({clientX:e,clientY:i,target:c});return t.scrollContainerRect?n&&s&&Z(e,i,t.scrollContainerRect):n&&s})),c=o.pipe(Object(B.a)());let n;c.pipe(Object($.a)(e=>e)).subscribe(()=>{n=!0,X(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:a})})}),o.pipe(Object($.a)(e=>e)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:a})})}),c.pipe(Object(q.a)(),Object($.a)(([e,t])=>e&&!t)).subscribe(()=>{n=!1,H(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:a})})}),e.subscribe({complete:()=>{i(),H(this.renderer,this.element,this.dragActiveClass),n&&(H(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:a})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(P.Wb(P.m),P.Wb(W),P.Wb(P.B),P.Wb(P.H),P.Wb(V,8))},e.\u0275dir=P.Rb({type:e,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),e})(),K=(()=>{class e{}return e.\u0275mod=P.Ub({type:e}),e.\u0275inj=P.Tb({factory:function(t){return new(t||e)}}),e})()},"4uk/":function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},"523H":function(e,t,i){"use strict";i.d(t,"c",function(){return d}),i.d(t,"d",function(){return u}),i.d(t,"b",function(){return p}),i.d(t,"a",function(){return h});var a=i("A/Rp"),o=i("f0Wu"),c=i("BeL+"),n=i("XIp8"),s=i("GXRk"),r=i("qr2t");const l={tasks:[],searchText:"",allProjectCategories:[],highlightToday:!1,viewDate:o().toDate(),selectedTaskIds:[],showRemapSubtaskPopovers:{},eventsDragOver:!1,isExternalDragActive:!1,multiSelectActive:!1,eventsWereDragSelected:!1,disableEventTooltips:!1,enableDragToSelect:!1,loading:{scheduled:!1,unscheduled:!1,overdue:!1,more:{scheduled:!1,overdue:!1}},sidebarTaskIds:{overdue:[],unscheduled:[]},scheduledDayLoadedTaskIds:[],currentTime:o().toDate().toISOString(),googleCalendarEvents:{},holidays:{},profileData:{}};function d(e){return Boolean(e.due_date||e.start_date)}function u(e){return!d(e)}function p(e){return![s.g.Closed,s.g.Done].includes(e.status.type)&&e.due_date&&Number(e.due_date)<Date.now()&&(e.due_date_time||!o(+e.due_date).isSame(o(),"day"))}function m(e){const t=[],i=o(e.start).startOf("day"),a=o(e.end);for(;i<a;)t.push(i.format("YYYY-MM-dd")),i.add(1,"day");return t}function h(e=l,t){switch(t.type){case a.c.LoadScheduledTasksStart:const i=m(t.payload.range).every(t=>e.scheduledDayLoadedTaskIds.includes(t));return!t.payload.showLoading||!t.payload.clearCachedTasks&&i?e:Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{scheduled:!0})});case a.c.LoadScheduledTasksError:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{scheduled:!1})});case a.c.LoadScheduledTasksSuccess:return Object.assign(Object.assign({},e),{tasks:[...e.tasks.filter(i=>(!t.payload.clearCachedTasks||!d(i)||e.sidebarTaskIds.overdue.includes(i.id))&&!t.payload.tasks.find(e=>e.id===i.id)),...t.payload.tasks],loading:Object.assign(Object.assign({},e.loading),{scheduled:!1}),scheduledDayLoadedTaskIds:Object(c.a)([...t.payload.clearCachedTasks?[]:e.scheduledDayLoadedTaskIds,...m(t.payload.range)])});case a.c.LoadInitialSidebarTasksStart:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{[t.payload.type]:t.payload.showLoading||0===e.sidebarTaskIds[t.payload.type].length}),sidebarTaskIds:Object.assign(Object.assign({},e.sidebarTaskIds),{[t.payload.type]:t.payload.showLoading?[]:e.sidebarTaskIds[t.payload.type]})});case a.c.LoadInitialSidebarTasksSuccess:const s="overdue"===t.payload.type?()=>!1:u;return Object.assign(Object.assign({},e),{tasks:[...e.tasks.filter(e=>(!s(e)||t.payload.taskIds.some(t=>e.id===t))&&!t.payload.tasks.find(t=>t.id===e.id)),...t.payload.tasks],sidebarTaskIds:Object.assign(Object.assign({},e.sidebarTaskIds),{[t.payload.type]:t.payload.taskIds}),loading:Object.assign(Object.assign({},e.loading),{[t.payload.type]:!1})});case a.c.LoadInitialSidebarTasksError:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{[t.payload.type]:!1})});case a.c.LoadMoreSidebarTasksStart:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{more:Object.assign(Object.assign({},e.loading.more),{[t.payload.type]:!0})})});case a.c.LoadMoreSidebarTasksSuccess:return Object.assign(Object.assign({},e),{tasks:[...e.tasks.filter(e=>!t.payload.tasks.find(t=>t.id===e.id)),...t.payload.tasks],loading:Object.assign(Object.assign({},e.loading),{more:Object.assign(Object.assign({},e.loading.more),{[t.payload.type]:!1})})});case a.c.LoadMoreSidebarTasksError:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{more:Object.assign(Object.assign({},e.loading.more),{[t.payload.type]:!1})})});case a.c.ReloadSidebarTasksSuccess:return Object.assign(Object.assign({},e),{sidebarTaskIds:Object.assign(Object.assign({},e.sidebarTaskIds),{[t.payload.type]:t.payload.taskIds})});case a.c.SetSearchText:return Object.assign(Object.assign({},e),{searchText:t.payload.searchText});case a.c.LoadCategoriesSuccess:return Object.assign(Object.assign({},e),{allProjectCategories:t.payload.allProjectCategories||e.allProjectCategories});case a.c.SetHighlightToday:return Object.assign(Object.assign({},e),{highlightToday:t.payload.highlightToday});case a.c.SetViewDate:return Object.assign(Object.assign({},e),{viewDate:t.payload.viewDate});case a.c.Reset:const h=Object(n.a)(l);return Object.assign(Object.assign({},h),{viewDate:t.payload.viewPreferences&&t.payload.viewPreferences.viewDate?o(t.payload.viewPreferences.viewDate).toDate():h.viewDate,googleCalendars:e.googleCalendars,holidayCountries:e.holidayCountries,holidays:e.holidays,profileData:e.profileData});case a.c.DeleteTask:return Object.assign(Object.assign({},e),{tasks:e.tasks.filter(e=>e.id!==t.payload.id),sidebarTaskIds:{overdue:e.sidebarTaskIds.overdue.filter(e=>e!==t.payload.id),unscheduled:e.sidebarTaskIds.unscheduled.filter(e=>e!==t.payload.id)}});case a.c.UpdateTask:{const i=Object.assign(Object.assign({},t.payload.task),{tags:[...t.payload.task.tags]}),a=e.tasks.find(e=>e.id===t.payload.task.id);a&&i.priority&&a.priority&&(i.priority=Object.assign(Object.assign({},i.priority),{orderindex:a.priority.orderindex}));const o=e.tasks.map(e=>e.id===i.id?i:e);a||o.push(i);let c=e.sidebarTaskIds.overdue;return p(i)||(c=c.filter(e=>e!==i.id)),Object.assign(Object.assign({},e),{tasks:o,sidebarTaskIds:Object.assign(Object.assign({},e.sidebarTaskIds),{overdue:c})})}case a.c.AddTask:return Object.assign(Object.assign({},e),{tasks:[...e.tasks,t.payload.task]});case a.c.RenameTaskStart:return Object.assign(Object.assign({},e),{renameTaskId:t.payload.taskId});case a.c.RenameTaskSave:return t.payload.name?Object.assign(Object.assign({},e),{tasks:e.tasks.map(i=>i.id===e.renameTaskId?Object.assign(Object.assign({},i),{name:t.payload.name}):i)}):e;case a.c.SelectTask:{const i=e.tasks.find(e=>e.id===t.payload.id);return i.permissions&&i.permissions.change_due_date&&!e.selectedTaskIds.includes(t.payload.id)?Object.assign(Object.assign({},e),{selectedTaskIds:[...e.selectedTaskIds,t.payload.id]}):e}case a.c.DeselectTask:return Object.assign(Object.assign({},e),{selectedTaskIds:e.selectedTaskIds.filter(e=>e!==t.payload.id)});case a.c.DeselectAllTasks:return Object.assign(Object.assign({},e),{selectedTaskIds:[]});case a.c.ShowSubtaskRemapPopover:return Object.assign(Object.assign({},e),{showRemapSubtaskPopovers:Object.assign(Object.assign({},e.showRemapSubtaskPopovers),{[t.payload.taskId]:t.payload.remap})});case a.c.HideSubtaskRemapPopover:const b=Object.assign({},e.showRemapSubtaskPopovers);return delete b[t.payload.taskId],Object.assign(Object.assign({},e),{showRemapSubtaskPopovers:b});case a.c.SetEventsDragOver:return Object.assign(Object.assign({},e),{eventsDragOver:t.payload.value});case a.c.SetIsExternalDragActive:return Object.assign(Object.assign({},e),{isExternalDragActive:t.payload.value});case a.c.SetMultiSelectActive:return Object.assign(Object.assign({},e),{multiSelectActive:t.payload.value});case a.c.SetEventsWereDragSelected:return Object.assign(Object.assign({},e),{eventsWereDragSelected:t.payload.value});case a.c.SetDisableEventTooltips:return Object.assign(Object.assign({},e),{disableEventTooltips:t.payload.value});case a.c.SetDragToSelectEnabled:return Object.assign(Object.assign({},e),{enableDragToSelect:t.payload.enabled});case a.c.DragToCreateEventStart:return Object.assign(Object.assign({},e),{dragToCreateEvent:{start:t.payload.date,end:o(t.payload.date).add(30,"minutes").toDate()}});case a.c.DragToCreateEventMove:return Object.assign(Object.assign({},e),{dragToCreateEvent:e.dragToCreateEvent?{start:e.dragToCreateEvent.start,end:t.payload.date}:void 0});case a.c.DragToCreateEventEnd:return Object.assign(Object.assign({},e),{dragToCreateEvent:void 0});case a.c.SetSidebarTaskIds:return Object.assign(Object.assign({},e),{sidebarTaskIds:Object.assign(Object.assign({},e.sidebarTaskIds),{[t.payload.type]:t.payload.taskIds})});case a.c.UpdateTaskDatesPersist:{const i=e.tasks.find(e=>e.id===t.payload.task.id),a=u(Object.assign(Object.assign({},i),t.payload.taskUpdates));let o=[...e.sidebarTaskIds.unscheduled];return a&&!o.includes(t.payload.task.id)?o.push(t.payload.task.id):!a&&o.includes(t.payload.task.id)&&(o=o.filter(e=>e!==t.payload.task.id)),Object.assign(Object.assign({},e),{sidebarTaskIds:Object.assign(Object.assign({},e.sidebarTaskIds),{unscheduled:o})})}case a.c.SetCurrentTime:return Object.assign(Object.assign({},e),{currentTime:t.payload.currentTime});case a.c.LoadGoogleCalendarEventsSuccess:const g=`${t.payload.range.start.toISOString()}-${t.payload.range.end.toISOString()}`;return Object.assign(Object.assign({},e),{googleCalendarEvents:Object.assign(Object.assign({},e.googleCalendarEvents),{[g]:{events:t.payload.events}})});case a.c.LoadGoogleCalendarsSuccess:return Object.assign(Object.assign({},e),{googleCalendars:t.payload.calendars});case a.c.ToggleGoogleCalendarVisible:return Object.assign(Object.assign({},e),{googleCalendars:e.googleCalendars.map(e=>e.calendar_id===t.payload.id?Object.assign(Object.assign({},e),{overlay_on_calendar:!e.overlay_on_calendar}):e)});case a.c.LoadHolidayCountriesSuccess:return Object.assign(Object.assign({},e),{holidayCountries:t.payload.countries.map(e=>({country:e,enabled:t.payload.enabledCountries.some(t=>void 0!==t[e.code]),visible:t.payload.enabledCountries.some(t=>t[e.code])}))});case a.c.ToggleHolidayCountryVisible:return Object.assign(Object.assign({},e),{holidayCountries:e.holidayCountries.map(e=>e.country.code===t.payload.code?Object.assign(Object.assign({},e),{visible:!e.visible}):e)});case a.c.EnableHolidayCountry:return Object.assign(Object.assign({},e),{holidayCountries:e.holidayCountries.map(e=>e.country.code===t.payload.code?Object.assign(Object.assign({},e),{enabled:!0,visible:!0}):e)});case a.c.DisableHolidayCountry:return Object.assign(Object.assign({},e),{holidayCountries:e.holidayCountries.map(e=>e.country.code===t.payload.code?Object.assign(Object.assign({},e),{enabled:!1,visible:!1}):e)});case a.c.DeleteGoogleCalendar:return Object.assign(Object.assign({},e),{googleCalendars:e.googleCalendars.filter(e=>e.calendar_id!==t.payload.id)});case a.c.LoadHolidaysSuccess:const f=Object.assign({},e.holidays);return t.payload.buckets.forEach(({country:e,year:t,month:i,holidays:a})=>{f[`${e}-${t}-${i}`]=a}),Object.assign(Object.assign({},e),{holidays:f});case a.c.LoadProfileTasksSuccess:return Object.assign(Object.assign({},e),{profileData:Object.assign(Object.assign({},e.profileData),{[Object(r.h)(t.payload.userId,t.payload.range,t.payload.showSubtasks)]:{taskIds:t.payload.taskIds}})});case a.c.UpdateGoogleCalendarEvent:return Object.assign(Object.assign({},e),{googleCalendarEvents:Object.fromEntries(Object.entries(e.googleCalendarEvents).map(([e,{events:i}])=>[e,{events:i.map(e=>e.event.id===t.payload.eventId?Object.assign(Object.assign({},e),{event:Object.assign(Object.assign({},e.event),t.payload.changes)}):e)}]))});case a.c.AddProfileTask:const _=Object(r.h)(t.payload.userId,t.payload.range,t.payload.showSubtasks);return!e.profileData[_]||e.profileData[_].taskIds.includes(t.payload.taskId)?e:Object.assign(Object.assign({},e),{profileData:Object.assign(Object.assign({},e.profileData),{[_]:{taskIds:[...e.profileData[_].taskIds,t.payload.taskId]}})});default:return e}}},"5LIf":function(e,t,i){e.exports=i.p+"twitter.ba4ac994deaeac90b849.svg"},"5LUp":function(e,t,i){"use strict";i.d(t,"a",function(){return V});var a=i("o7Ov"),o=i("y5jv"),c=i("JX/H"),n=i("c3rA"),s=i("Gj5t"),r=i("fXoL"),l=i("+2Ly"),d=i("dTHz"),u=i("z/Gx"),p=i("U4aC"),m=i("4zIx"),h=i("un3I"),b=i("1G5W"),g=i("XNiG"),f=i("7ycA"),_=i("Tm/s"),v=i("Jf2N"),y=i("8it8"),w=i("6kbF"),k=i("ofXK"),x=i("3Pt+");function T(e,t){if(1&e&&(r.cc(0,"div",13),r.cc(1,"div",14),r.dd(2),r.bc(),r.bc()),2&e){const e=r.uc();r.Ib(2),r.ed(e.errorMessage)}}const S=function(){return{standalone:!0}};function j(e,t){if(1&e){const e=r.dc();r.cc(0,"div",15),r.cc(1,"div",16),r.gc(2,17),r.bc(),r.cc(3,"div",18),r.cc(4,"input",19),r.qc("ngModelChange",function(t){return r.Uc(e),r.uc().newName=t}),r.bc(),r.bc(),r.bc()}if(2&e){const e=r.uc();r.Ib(4),r.Dc("value",e.newName)("ngModel",e.newName)("ngModelOptions",r.Gc(3,S))}}let O=(()=>{class e{constructor(e,t,i,a,o){this.navService=e,this.modalService=t,this.changeDetectorRef=i,this.injector=a,this.commonStringsService=o,this.allowFolderless=!0,this.onMove=new g.a,this.errorMessage="",this.errorName=!1}ngOnInit(){this.newName=this.section?this.section.name:""}ngOnDestroy(){this.onMove.complete()}selectCategory(e){this.selectedCategory&&e.category&&this.selectedCategory.id!==e.category.id&&(this.errorMessage=null,this.errorName=!1),this.selectedCategory=e.category,this.selectedProject=e.project,this.changeDetectorRef.markForCheck()}selectProject(e){this.selectCategory({project:e,category:this.selectedCategory&&this.selectedCategory.id===s.d?this.selectedCategory:null})}cancel(){this.modalService.close()}move(){if(this.selectedProject){if(this.selectedCategory.id===s.d&&this.section.hiddenCategory&&this.selectedProject.id===this.section.project_id)return void this.cancel();if(this.section&&this.section.sprint&&this.selectedProject&&this.selectedProject.features&&this.selectedProject.features.sprints&&this.selectedProject.features.sprints.enabled){const e=this.modalService.openComponent(f.a,this.injector,{title:this.commonStringsService.moveSprintText,modifier:"cu-sprints-settings__modal"});e.instance.categoryId=this.selectedCategory.id,e.instance.categoryName=this.selectedCategory.name,e.instance.projectId=this.selectedProject.id,e.instance.forMove=!0,e.instance.subcategoryName=this.section.name,e.instance.onConvert.pipe(Object(b.a)(e.instance.destroy$)).subscribe(e=>{this.moveSection(e.name,!0,e),this.modalService.close()})}else this.moveSection(this.errorName?this.newName:null,!0)}}moveSection(e,t,i,a=!0,o=!1,c=!1,n,s){this.navService.moveSection(this.section,this.selectedCategory.id,e,t,this.selectedProject.id,a,o,c,n,s,i).subscribe(()=>{this.onMove.next(this.selectedCategory),this.cancel()},e=>{"TASKO_025"===e.ECODE?(this.errorName=!0,this.errorMessage=$localize`:@@cu-nav-move-section__error-msg_target-category-have-duplicate-list-names:Whoops! ${this.selectedCategory.name}:categoryName: already has a List named ${this.section.name}:listName:. Please rename this List to continue moving it.`):this.errorMessage=e.err,this.changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(_.a),r.Wb(v.a),r.Wb(r.h),r.Wb(r.t),r.Wb(y.a))},e.\u0275cmp=r.Qb({type:e,selectors:[["cu-nav-move-section"]],inputs:{section:"section",allowFolderless:"allowFolderless"},decls:17,vars:6,consts:function(){let e,t,i,a,o;return e=$localize`:@@cu-nav-move-section__header_move-section-to␟e1c1274f1689ba65249d4ef5c21f45adfd67b931␟3877994799110680591:Move ${"\ufffd#4\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN: to`,t=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,i=$localize`:@@common_move␟57cf305f9bfd681c70dc26e914108d06384ade9f␟2354817630223808522:Move`,a=$localize`:@@common_new-list-name␟524d7114c690a5b39c44beb1fedccbb54835b9d4␟6833881806162567814: New List name `,o=$localize`:@@common_enter-list-name-1␟3b94d60d9d8c8994618f61841b941e8cc4201be4␟6647497505370990842:Enter List na﻿me`,[[1,"move-category"],[1,"move-category__header"],e,[1,"move-category__body"],["mode","project",3,"excludeCategoryId","allowFolderless","onSelect","onChangeProject"],["class","move-category__error",4,"ngIf"],["class","cu-form__row move-category__input-block",4,"ngIf"],[1,"move-category__footer"],[1,"cu-btn","cu-btn_confirm-cancel","btn",3,"click"],[1,"cu-btn__text"],t,[1,"cu-btn",3,"disabled","click"],i,[1,"move-category__error"],[1,"cu-form__error-text"],[1,"cu-form__row","move-category__input-block"],[1,"cu-form__label","data-list__label__title"],a,[1,"cu-form__field"],["type","text","placeholder",o,1,"cu-form__input","move-category__input",3,"value","ngModel","ngModelOptions","ngModelChange"]]},template:function(e,t){1&e&&(r.cc(0,"div",0),r.cc(1,"div",1),r.ac(2),r.mc(3,2),r.Xb(4,"span"),r.jc(),r.Zb(),r.dd(5,": "),r.bc(),r.cc(6,"div",3),r.cc(7,"cu-category-list-legacy",4),r.qc("onSelect",function(e){return t.selectCategory(e)})("onChangeProject",function(e){return t.selectProject(e)}),r.bc(),r.bc(),r.bd(8,T,3,1,"div",5),r.bd(9,j,5,4,"div",6),r.cc(10,"div",7),r.cc(11,"button",8),r.qc("click",function(){return t.cancel()}),r.cc(12,"div",9),r.gc(13,10),r.bc(),r.bc(),r.cc(14,"button",11),r.qc("click",function(){return t.move()}),r.cc(15,"div",9),r.gc(16,12),r.bc(),r.bc(),r.bc(),r.bc()),2&e&&(r.Ib(4),r.kc(t.section.name),r.hc(3),r.Ib(3),r.Dc("excludeCategoryId",null==t.section?null:t.section.category)("allowFolderless",t.allowFolderless),r.Ib(1),r.Dc("ngIf",t.errorMessage),r.Ib(1),r.Dc("ngIf",t.errorName),r.Ib(5),r.Dc("disabled",!t.selectedCategory))},directives:[w.a,k.q,x.c,x.p,x.s],encapsulation:2,changeDetection:0}),e})();i("Yx0S");var I=i("l7P3"),D=i("2Vo4"),C=i("itXk"),P=i("LRne"),$=i("pLZG"),z=i("lJxs"),M=i("IzEk"),E=i("PZkE"),L=i("eIep"),A=i("zp1y"),F=i("PBBv"),U=i("7G3y"),N=i("bV87"),R=i("jJW4"),G=i("cGJt"),q=i("AeD3"),B=i("rLOZ");const W=["*"];let V=(()=>{class e{constructor(e,t,i,a,o,c,s,l,u){this.sharedData=e,this.store=t,this.navService=i,this.listDetailsService=a,this.dataService=o,this.modalService=c,this.injector=s,this.localStorage=l,this.commonStringsService=u,this.showListInfo=!0,this.folderless=!1,this.isSprint=!1,this.canDelete=!0,this.showSelectAll=!1,this.isSelectedAll=!1,this.allowMove=!1,this.showSprints=!1,this.renameStart=new r.o,this.menuOpen=new r.o,this.menuClose=new r.o,this.createSubcategory=new r.o,this.moveComplete=new r.o,this.checkAll=new r.o,this.isSharedSpace$=this.store.select(n.getIsSharedSpaceOrGuest),this.team$=this.store.select(n.getTeam),this.UserPermission=d.e,this.subcategory$=new D.a(null),this.emailUrl$=this.subcategory$.pipe(Object($.a)(e=>!!e),Object(z.a)(e=>`"ClickUp list: ${e.name}"<${e.incoming_address}>`)),this.category$=new D.a(null),this.favorite$=Object(C.a)([this.subcategory$,this.store.select(F.i)]).pipe(Object(z.a)(([e,t])=>e&&t.find(t=>t.subcategory&&t.subcategory.id===e.id))),this.listSettingsText=$localize`:@@cu2-list-details-menu__tooltip-msg_list-settings:List Settings`,this.loadSubcategory$=new g.a,this.destroy$=new g.a}get subcategory(){return this.subcategory$.value||this.dirtySubcategory}get subcategoryLoaded$(){return this.subcategory$.pipe(Object($.a)(e=>!!e),Object(M.a)(1))}get categoryLoaded$(){return this.category$.pipe(Object($.a)(e=>!!e),Object(M.a)(1))}get categoryId(){return"object"==typeof this.subcategory.category?this.subcategory.category.id:this.subcategory.category}get projectId(){return"object"==typeof this.subcategory.project?this.subcategory.project.id:this.subcategory.project_id}ngOnInit(){this.loadSubcategory$.pipe(Object($.a)(e=>!!e),Object(E.a)("id"),Object(L.a)(e=>{const t=this.categoryId;return Object(C.a)([this.store.select(Object(n.getSubcategoryById)(e.id,t,this.projectId,!0)).pipe(Object(L.a)(t=>t?Object(P.a)(t):this.dataService.getSubcategoryById(e.id))),this.store.select(Object(n.getCategoryById)(t,this.projectId)).pipe(Object(A.a)(this.isSharedSpace$),Object(L.a)(([e,i])=>e||i?Object(P.a)(e):this.dataService.getCategoryById(t)))])}),Object(b.a)(this.destroy$)).subscribe(([e,t])=>{t&&t.hidden&&(e=Object.assign(Object.assign({},e),{hiddenCategory:t})),this.subcategory$.next(e),this.category$.next(t)})}ngOnChanges(e){e.dirtySubcategory&&(this.subcategory$.value&&this.dirtySubcategory.id===this.subcategory$.value.id||!this.subcategory$.value)&&this.subcategory$.next(Object.assign(Object.assign({},this.subcategory$.value),this.dirtySubcategory))}ngOnDestroy(){this.destroy$.next(),this.category$.complete(),this.subcategory$.complete()}moveFolderless(){this.store.pipe(Object(I.select)(n.getHiddenCategoriesMap),Object(M.a)(1)).subscribe(e=>{let t=100;const i=e[this.subcategory.project_id]||[];i.length&&(t=i[i.length-1].orderindex+t),this.navService.moveSection(Object.assign(Object.assign({},this.subcategory),{orderindex:t}),s.d,"",!1,this.subcategory.project_id).subscribe()})}convertSprint(){const e=this.modalService.openComponent(f.a,this.injector,{title:$localize`:title|used in modal as title@@common_convert-to-sprint:Convert to Sprint`,modifier:"cu-sprints-settings__modal"});e.instance.subcategoryId=this.subcategory.id,e.instance.categoryId=this.categoryId,e.instance.projectId=this.projectId,e.instance.forConvert=!0,e.instance.onConvert.pipe(Object(b.a)(e.instance.destroy$)).subscribe(e=>{this.store.dispatch(new a.nk(Object.assign(Object.assign({},this.subcategory),e),this.categoryId,this.projectId)),this.store.dispatch(new a.Fm(this.subcategory.id,this.categoryId,this.projectId,e))})}newSprint(){const e=this.modalService.openComponent(f.a,this.injector,{title:this.commonStringsService.createSprintsText,modifier:"cu-sprints-settings__modal"});e.instance.forCreate=!0,e.instance.categoryId=this.categoryId,e.instance.projectId=this.projectId,e.instance.onCreate.pipe(Object(b.a)(e.instance.destroy$)).subscribe(({sprints:e})=>{this.store.dispatch(new a.Si(Object.assign(Object.assign({},this.category$.value),{subcategories:[...this.category$.value.subcategories,...e]}))),this.store.dispatch(new a.Nb({categoryId:this.category$.value.id,data:{subcategories:e}}))})}create(){this.createSubcategory.emit()}createFromTemplate(){this.store.select(Object(n.getProjectById)(this.subcategory.project_id,!0)).pipe(Object(M.a)(1),Object(A.a)(this.subcategoryLoaded$)).subscribe(([e,t])=>{const i=this.category$.value;this.store.dispatch(new a.Oe({open:!0,parent:i&&i.hidden?e:i,parentType:i&&i.hidden?N.d.Space:N.d.Folder,initialType:N.d.ListInitialType,initialTypeData:t}))})}createTask(){this.sharedData.createTaskModalState={isOpen:!0,categoryId:this.categoryId,subcategoryId:this.subcategory.id,projectId:this.projectId}}updateExistingTemplate(){Object(C.a)([this.subcategoryLoaded$,this.store.pipe(Object(I.select)(n.getMembers),Object(z.a)(e=>e.map(e=>e.user))),this.store.select(n.getUser)]).pipe(Object(M.a)(1)).subscribe(([e,t,i])=>{this.store.dispatch(new a.Oe({open:!0,parent:this.category$.value,parentType:N.d.List,initialType:N.d.ListInitialType,itemToSave:e,updateExisting:!0}))})}openSaveTemplate(){Object(C.a)([this.subcategoryLoaded$,this.store.pipe(Object(I.select)(n.getMembers),Object(z.a)(e=>e.map(e=>e.user))),this.store.select(n.getUser)]).pipe(Object(M.a)(1)).subscribe(([e,t,i])=>{this.store.dispatch(new a.Oe({open:!0,parent:this.category$.value,parentType:N.d.List,initialType:N.d.ListInitialType,itemToSave:e}))})}openTemplateManager(e,t,i,a){const c=this.modalService.openComponent(o.a,this.injector,{name:"templateSelector",cannotClose:!1,preventExternalClick:!0,modifier:"cu-folder-list-template-selector__modal",dialogModifier:"",bodyModifier:""});c.instance.space=i,c.instance.folder=a,c.instance.initTemplateId=e?"1":null,c.instance.initTemplateType=t}move(){this.subcategoryLoaded$.subscribe(e=>{const t=this.modalService.openComponent(O,this.injector,{title:"Move List"});t.instance.section=e,t.instance.allowFolderless=!this.showSprints||!this.isSprint,t.instance.onMove.subscribe(e=>{this.moveComplete.emit({category:e})})})}copy(){this.subcategoryLoaded$.subscribe(e=>{const t=this.modalService.openComponent(p.a,this.injector,{title:this.commonStringsService.copyListText});t.instance.category={id:e.category,hidden:!!e.hiddenCategory},t.instance.section=e,t.instance.type="list"})}remove(){this.subcategoryLoaded$.subscribe(e=>{this.navService.remove("list",e)}),this.loadSubcategory$.next(this.dirtySubcategory)}archive(){this.subcategoryLoaded$.subscribe(e=>{if(e&&e.archived)this.navService.archive("list",e,!1);else{const t=this.modalService.openComponent(u.a,this.injector,{title:"Archive"});t.instance.instanceType="list",t.instance.item=e}}),this.loadSubcategory$.next(this.dirtySubcategory)}showEmailModal(){this.subcategoryLoaded$.subscribe(e=>{const t=this.modalService.openComponent(c.a,this.injector,{title:"Create tasks by email"});t.instance.emailType=c.b.Task,t.instance.list=e,t.instance.skipModal=!!this.localStorage.get(c.c)})}showSharingModal(){Object(C.a)([this.subcategoryLoaded$,this.store.select(Object(n.getProjectById)(this.subcategory.project_id))]).pipe(Object(M.a)(1)).subscribe(([e,t])=>{this.store.dispatch(new a.Le("list",e,null,null,t))})}edit(){Object(C.a)([this.subcategoryLoaded$,this.categoryLoaded$,this.store.select(Object(n.getProjectById)(this.projectId))]).pipe(Object(M.a)(1)).subscribe(([e,t,i])=>{const a=this.modalService.openComponent(m.a,this.injector,{name:"forceCreateCategory",preventExternalClick:!0,modifier:"cu-modal__create-new-space",dialogModifier:"cu-modal__dialog-space",bodyModifier:"cu-modal__body_no-min-height"});a.instance.projectId=i.id,a.instance.subcategoryToEdit=Object.assign({},e),a.instance.parentCategory=Object.assign({},t),a.instance.onEditSubcategory.pipe(Object(b.a)(this.destroy$)).subscribe(e=>{this.modalService.close(),this.navService.updateSection(e.subcategory,!0,e.changeMap)})})}rename(){this.renameStart.emit()}showListDetails(){this.listDetailsService.openSidebar(this.subcategory.id)}checkForEmailModal(){if(this.localStorage.get(c.c)){const e={title:this.commonStringsService.emailLinkCopiedText,forced:!0,clickAction:this.showEmailModal.bind(this)};this.sharedData.addToastItem(e)}else this.showEmailModal()}editCustomFields(){this.modalService.openComponent(l.a,this.injector,{title:this.commonStringsService.manageCustomFieldText(this.subcategory.name),dialogModifier:"cu-modal__dialog-custom-fields",preventExternalClick:!0,bodyModifier:"cu-modal__body_no-min-height"}).instance.setEntity({type:"subcategory",id:this.subcategory.id,name:this.subcategory.name})}menuOpened(){this.loadSubcategory$.next(this.dirtySubcategory),this.menuOpen.emit()}open(){this.menu.open()}addFavorite(){this.store.dispatch(Object(U.d)({subcategory:this.subcategory}))}removeFavorite(e){this.store.dispatch(Object(U.r)({favoriteId:e})),this.menu.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(R.a),r.Wb(I.Store),r.Wb(_.a),r.Wb(G.a),r.Wb(q.a),r.Wb(v.a),r.Wb(r.t),r.Wb(B.b),r.Wb(y.a))},e.\u0275cmp=r.Qb({type:e,selectors:[["cu2-list-details-menu"]],viewQuery:function(e,t){if(1&e&&r.jd(h.a,3),2&e){let e;r.Qc(e=r.rc())&&(t.menu=e.first)}},hostAttrs:[1,"cu2-list-details-menu"],inputs:{dirtySubcategory:"dirtySubcategory",newSubcategoryParent:"newSubcategoryParent",showListInfo:"showListInfo",folderless:"folderless",isSprint:"isSprint",canDelete:"canDelete",showSelectAll:"showSelectAll",isSelectedAll:"isSelectedAll",allowMove:"allowMove",showSprints:"showSprints"},outputs:{renameStart:"renameStart",menuOpen:"menuOpen",menuClose:"menuClose",createSubcategory:"createSubcategory",moveComplete:"moveComplete",checkAll:"checkAll"},features:[r.Gb],ngContentSelectors:W,decls:9,vars:31,consts:[[1,"cu2-list-details-menu",3,"target","type","emailUrl","canDelete","isSprint","archived","permissions","limited","newTab","showCheckAll","showUncheckAll","showCreateList","showSprints","allowMove","favorite","showListInfo","tooltip","rename","createTask","showEmailModal","archive","remove","create","moveFolderless","convertSprint","createFromTemplate","edit","editCustomFields","move","copy","openSaveTemplate","updateExistingTemplate","showSharingModal","showListDetails","openMenu","closeMenu","newSprint","checkAll","addFavorite","removeFavorite"]],template:function(e,t){if(1&e&&(r.Cc(),r.cc(0,"cu-nav-menu",0),r.qc("rename",function(){return t.rename()})("createTask",function(){return t.createTask()})("showEmailModal",function(){return t.checkForEmailModal()})("archive",function(){return t.archive()})("remove",function(){return t.remove()})("create",function(){return t.create()})("moveFolderless",function(){return t.moveFolderless()})("convertSprint",function(){return t.convertSprint()})("createFromTemplate",function(){return t.createFromTemplate()})("edit",function(){return t.edit()})("editCustomFields",function(){return t.editCustomFields()})("move",function(){return t.move()})("copy",function(){return t.copy()})("openSaveTemplate",function(){return t.openSaveTemplate()})("updateExistingTemplate",function(){return t.updateExistingTemplate()})("showSharingModal",function(){return t.showSharingModal()})("showListDetails",function(){return t.showListDetails()})("openMenu",function(){return t.menuOpened()})("closeMenu",function(){return t.menuClose.emit()})("newSprint",function(){return t.newSprint()})("checkAll",function(e){return t.checkAll.emit(e)})("addFavorite",function(){return t.addFavorite()})("removeFavorite",function(e){return t.removeFavorite(e.id)}),r.vc(1,"async"),r.vc(2,"async"),r.vc(3,"async"),r.vc(4,"async"),r.vc(5,"async"),r.vc(6,"async"),r.vc(7,"async"),r.Bc(8),r.bc()),2&e){let e=null,i=null,a=null;r.Dc("target",r.wc(1,17,t.subcategory$))("type","list")("emailUrl",r.wc(2,19,t.emailUrl$))("canDelete",t.canDelete)("isSprint",t.isSprint)("archived",null==(e=r.wc(3,21,t.subcategory$))?null:e.archived)("permissions",null==(i=r.wc(4,23,t.subcategory$))?null:i.permissions)("limited",(null==t.subcategory?null:t.subcategory.permission_level)!==t.UserPermission.CREATE)("newTab","/"+(null==(a=r.wc(5,25,t.team$))?null:a.id)+"/v/li/"+(null==(a=r.wc(6,27,t.subcategory$))?null:a.id))("showCheckAll",t.showSelectAll&&!t.isSelectedAll)("showUncheckAll",t.showSelectAll&&t.isSelectedAll)("showCreateList",!0)("showSprints",t.showSprints&&!t.folderless)("allowMove",t.allowMove)("favorite",r.wc(7,29,t.favorite$))("showListInfo",t.showListInfo)("tooltip",t.listSettingsText)}},directives:[h.a],pipes:[k.b],styles:[".cu2-list-details-menu{min-width:0}.cu2-list-details-menu .cu-dropdown__toggle{display:inline-flex;align-items:center}.cu-views-bar-title .cu2-list-details-menu .cu-dropdown__toggle{max-width:100%}.cu-list-group__name-container .cu2-list-details-menu .cu-dropdown__toggle{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:3px;padding:4px 5px 4px 2px;margin:-4px -5px -4px -16px}.cu-list-group__name-container .cu2-list-details-menu .cu-dropdown__toggle:hover{background:rgba(188,192,199,.3)}"],encapsulation:2,changeDetection:0}),e})()},"5Mp/":function(e,t,i){"use strict";i.d(t,"a",function(){return $});var a=i("MguC"),o=i("fXoL"),c=i("ofXK"),n=i("LdyQ"),s=i("NsZK"),r=i("MJvn"),l=i("UdVN"),d=i("n+1/"),u=i("bFKe"),p=i("jJQC"),m=i("jJW4"),h=i("tyNb"),b=i("CG/S");function g(e,t){if(1&e&&(o.cc(0,"div",11),o.dd(1),o.bc()),2&e){const e=o.uc().$implicit;o.Ib(1),o.fd(" ",e.name," ")}}function f(e,t){1&e&&(o.cc(0,"div",12),o.gc(1,13),o.bc())}function _(e,t){1&e&&o.Xb(0,"div",19)}function v(e,t){if(1&e&&(o.ac(0),o.cc(1,"div",17),o.dd(2),o.bc(),o.bd(3,_,1,0,"div",18),o.Zb()),2&e){const e=o.uc(2).$implicit;o.Ib(2),o.fd(" ",null==e||null==e.hierarchy||null==e.hierarchy.project?null:e.hierarchy.project.name," "),o.Ib(1),o.Dc("ngIf",null==e||null==e.hierarchy?null:e.hierarchy.category)}}function y(e,t){1&e&&o.Xb(0,"div",19)}function w(e,t){if(1&e&&(o.ac(0),o.cc(1,"div",17),o.dd(2),o.bc(),o.bd(3,y,1,0,"div",18),o.Zb()),2&e){const e=o.uc(2).$implicit;o.Ib(2),o.fd(" ",null==e||null==e.hierarchy||null==e.hierarchy.category?null:e.hierarchy.category.name," "),o.Ib(1),o.Dc("ngIf",null==e||null==e.hierarchy?null:e.hierarchy.subcategory)}}function k(e,t){if(1&e&&(o.ac(0),o.cc(1,"div",17),o.dd(2),o.bc(),o.Zb()),2&e){const e=o.uc(2).$implicit;o.Ib(2),o.fd(" ",null==e||null==e.hierarchy||null==e.hierarchy.subcategory?null:e.hierarchy.subcategory.name," ")}}function x(e,t){if(1&e&&(o.cc(0,"div",14),o.ac(1),o.gc(2,15),o.Zb(),o.bd(3,v,4,2,"ng-container",16),o.bd(4,w,4,2,"ng-container",16),o.bd(5,k,3,1,"ng-container",16),o.bc()),2&e){const e=o.uc().$implicit;o.Ib(3),o.Dc("ngIf",null==e||null==e.hierarchy?null:e.hierarchy.project),o.Ib(1),o.Dc("ngIf",(null==e||null==e.hierarchy?null:e.hierarchy.category)&&!(null!=e&&null!=e.hierarchy&&null!=e.hierarchy.category&&e.hierarchy.category.hidden)),o.Ib(1),o.Dc("ngIf",null==e||null==e.hierarchy?null:e.hierarchy.subcategory)}}const T=function(e,t){return["/",e,"docs",t]},S=function(e,t,i){return["/",e,"v",t,i]};function j(e,t){if(1&e&&(o.cc(0,"a",3),o.vc(1,"async"),o.vc(2,"async"),o.Xb(3,"div",4),o.cc(4,"div",5),o.cc(5,"div",6),o.bd(6,g,2,1,"div",7),o.bd(7,f,2,0,"ng-template",null,8,o.cd),o.cc(9,"div",9),o.dd(10),o.vc(11,"duration"),o.vc(12,"duration"),o.bc(),o.bc(),o.bd(13,x,6,3,"div",10),o.bc(),o.bc()),2&e){const e=t.$implicit,i=o.Rc(8),a=o.uc();let c=null;o.Dc("routerLink",+(null==e||null==e.parent?null:e.parent.type)===a.DataViewParentType.Task?o.Ic(14,T,null==(c=o.wc(1,6,a.sharedData.compatCurrentTeam$))?null:c.id,null==e?null:e.id):o.Jc(17,S,null==(c=o.wc(2,8,a.sharedData.compatCurrentTeam$))?null:c.id,a.prefix,null==e?null:e.id)),o.Ib(3),o.Dc("icon","cu2-view-"+e.type),o.Ib(3),o.Dc("ngIf",e.name)("ngIfElse",i),o.Ib(4),o.fd(" ",null!=e&&e.date_updated?o.wc(11,10,null==e?null:e.date_updated):o.wc(12,12,null==e?null:e.date_created)," "),o.Ib(3),o.Dc("ngIf",null==e||null==e.hierarchy?null:e.hierarchy.project)}}let O=(()=>{class e{constructor(e){this.sharedData=e,this.DataViewParentType=a.e,this.trackById=Object(p.d)("id")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(m.a))},e.\u0275cmp=o.Qb({type:e,selectors:[["cu-convo-doc-visibility-row"]],inputs:{items:"items",title:"title",prefix:"prefix"},decls:4,vars:3,consts:function(){let e,t;return e=$localize`:@@cu-convo-doc-visibility-row__no-name␟81ce81e4737896e6102b7de809df5efd545d655c␟274555547934717571: No name `,t=$localize`:@@cu-convo-doc-visibility-row__location-in␟cb0f69bdd4dea41d7d45c74b6e07f98de8a2ab26␟7136018875175606726:in`,[[1,"cu-convo-doc-visibility__title"],["icon","close",1,"cu-convo-doc-visibility__close"],["class","cu-convo-doc-visibility__row",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-convo-doc-visibility__row",3,"routerLink"],[1,"cu-convo-doc-visibility__icon",3,"icon"],[1,"cu-convo-doc-visibility__info"],[1,"cu-convo-doc-visibility__info-name"],["class","cu-convo-doc-visibility__info-name-text",4,"ngIf","ngIfElse"],["noName",""],[1,"cu-convo-doc-visibility__duration"],["class","cu-convo-doc-visibility__location",4,"ngIf"],[1,"cu-convo-doc-visibility__info-name-text"],[1,"cu-convo-doc-visibility__info-name-text","cu-convo-doc-visibility__info-name-text_no-name"],e,[1,"cu-convo-doc-visibility__location"],t,[4,"ngIf"],[1,"cu-convo-doc-visibility__hier"],["class","cu-convo-doc-visibility__arrow","icon","angle-right-no-padding",4,"ngIf"],["icon","angle-right-no-padding",1,"cu-convo-doc-visibility__arrow"]]},template:function(e,t){1&e&&(o.cc(0,"div",0),o.dd(1),o.Xb(2,"div",1),o.bc(),o.bd(3,j,14,21,"a",2)),2&e&&(o.Ib(1),o.fd(" ",t.title," "),o.Ib(2),o.Dc("ngForOf",t.items)("ngForTrackBy",t.trackById))},directives:[l.a,c.p,h.k,c.q],pipes:[c.b,b.a],encapsulation:2,changeDetection:0}),e})();function I(e,t){if(1&e&&(o.cc(0,"div"),o.cc(1,"div",7),o.Xb(2,"cu-convo-doc-visibility-row",8),o.bc(),o.bc()),2&e){const e=o.uc(2);o.Ib(2),o.Dc("items",e.docs)("title","DOCS")("prefix","dc")}}function D(e,t){if(1&e){const e=o.dc();o.cc(0,"div",1),o.qc("dropdownOpen",function(){return o.Uc(e),o.uc().dropdownOpen.emit()})("dropdownClose",function(){return o.Uc(e),o.uc().dropdownClose.emit()}),o.cc(1,"div",2),o.Xb(2,"div",3),o.cc(3,"div",4),o.gc(4,5),o.bc(),o.bc(),o.bd(5,I,3,3,"div",6),o.bc()}if(2&e){const e=o.uc();o.Dc("cuTooltip",e.docsTooltip),o.Ib(2),o.Dc("icon","cu2-doc"),o.Ib(2),o.kc(e.docs.length)(e.docs.length),o.hc(4)}}function C(e,t){if(1&e&&(o.cc(0,"div"),o.cc(1,"div",7),o.Xb(2,"cu-convo-doc-visibility-row",8),o.bc(),o.bc()),2&e){const e=o.uc(2);o.Ib(2),o.Dc("items",e.convos)("title","CHATS")("prefix","cn")}}function P(e,t){if(1&e){const e=o.dc();o.cc(0,"div",1),o.qc("dropdownOpen",function(){return o.Uc(e),o.uc().dropdownOpen.emit()})("dropdownClose",function(){return o.Uc(e),o.uc().dropdownClose.emit()}),o.cc(1,"div",2),o.Xb(2,"div",9),o.cc(3,"div",4),o.gc(4,10),o.bc(),o.bc(),o.bd(5,C,3,3,"div",6),o.bc()}if(2&e){const e=o.uc();o.Dc("cuTooltip",e.convosTooltip),o.Ib(2),o.Dc("icon","cu2-convo"),o.Ib(2),o.kc(e.convos.length)(e.convos.length),o.hc(4)}}let $=(()=>{class e{constructor(){this.modifier="",this.convosTooltip="",this.docsTooltip="",this.dropdownOpen=new o.o,this.dropdownClose=new o.o,this.DataViewType=a.i}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["cu-convo-doc-visibility"]],hostVars:4,hostBindings:function(e,t){2&e&&(o.Lb(t.modifier),o.Ob("cu-convo-doc-visibility",!0))},inputs:{convos:"convos",docs:"docs",modifier:"modifier",convosTooltip:"convosTooltip",docsTooltip:"docsTooltip"},outputs:{dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},decls:2,vars:2,consts:function(){let e,t,i,a;return e=$localize`:␟32b50d81389b070f55646aebdc0460f3cd46e61e␟838121430339409815:{VAR_PLURAL, plural, =0 {Doc} =1 {Doc} other {Docs}}`,e=o.lc(e,{VAR_PLURAL:"\ufffd1\ufffd"}),t=$localize`:@@cu-convo-doc-visibility__docs_plural␟66ba562d2a66cc7be44d9f730bf320aa9f7427ce␟6727696119027653036: ${"\ufffd0\ufffd"}:INTERPOLATION: ${e}:ICU: `,i=$localize`:␟0b5c4e296b8abde04fb58cd7cb76f430450b0dde␟135017785407494915:{VAR_PLURAL, plural, =0 {Chat} =1 {Chat} other {Chats}}`,i=o.lc(i,{VAR_PLURAL:"\ufffd1\ufffd"}),a=$localize`:@@cu-convo-doc-visibility__chats_plural␟02bedb6d63edf9df61b69530cfafdf8b4395a495␟6092196014615035288: ${"\ufffd0\ufffd"}:INTERPOLATION: ${i}:ICU: `,[["cuDropdown","","class","cu-convo-doc-visibility__container","tooltipModifier","tooltip_right",3,"cuTooltip","dropdownOpen","dropdownClose",4,"ngIf"],["cuDropdown","","tooltipModifier","tooltip_right",1,"cu-convo-doc-visibility__container",3,"cuTooltip","dropdownOpen","dropdownClose"],["cuDropdownToggle","",1,"cu-convo-doc-visibility__container-toggle"],[1,"cu-convo-doc-visibility__icon",3,"icon"],[1,"cu-convo-doc-visibility__container-toggle-text"],t,[4,"cuDropdownMenu"],[1,"cu-convo-doc-visibility__menu",3,"perfectScrollbar"],[3,"items","title","prefix"],[1,"cu-convo-doc-visibility__icon","cu-convo-doc-visibility__icon_chat",3,"icon"],a]},template:function(e,t){1&e&&(o.bd(0,D,6,4,"div",0),o.bd(1,P,6,4,"div",0)),2&e&&(o.Dc("ngIf",null==t.docs?null:t.docs.length),o.Ib(1),o.Dc("ngIf",null==t.convos?null:t.convos.length))},directives:[c.q,n.b,s.a,r.a,l.a,d.a,u.a,O],styles:[".cu-convo-doc-visibility{display:flex;padding:10px}.cu2-sidebar__body_v5 .cu-convo-doc-visibility{padding-left:38px}.cu-simple-bar .cu-convo-doc-visibility{padding-left:20px}.cu-convo-doc-visibility_absolute{position:absolute;top:0;left:0}.cu-convo-doc-visibility__duration{flex-shrink:0;font:200 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-convo-doc-visibility__duration{color:#abaeb0}.cu-convo-doc-visibility__container{margin-right:6px;min-width:0}.cu-convo-doc-visibility__container.cu-dropdown_open .cu-convo-doc-visibility__container-toggle,.cu-convo-doc-visibility__container:hover .cu-convo-doc-visibility__container-toggle{background:#e9ebf0}.dark-theme .cu-convo-doc-visibility__container.cu-dropdown_open .cu-convo-doc-visibility__container-toggle,.dark-theme .cu-convo-doc-visibility__container:hover .cu-convo-doc-visibility__container-toggle{background:#1e272e}.cu-left-sidebar.dark-theme .cu-convo-doc-visibility__container.cu-dropdown_open .cu-convo-doc-visibility__container-toggle,.cu-left-sidebar.dark-theme .cu-convo-doc-visibility__container:hover .cu-convo-doc-visibility__container-toggle{background:#2b343b}.cu-convo-doc-visibility__container.cu-dropdown_open .cu-convo-doc-visibility__container-toggle .cu-convo-doc-visibility__icon,.cu-convo-doc-visibility__container:hover .cu-convo-doc-visibility__container-toggle .cu-convo-doc-visibility__icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-convo-doc-visibility__container.cu-dropdown_open .cu-convo-doc-visibility__container-toggle .cu-convo-doc-visibility__icon,.cu-convo-doc-visibility__container:hover .cu-convo-doc-visibility__container-toggle .cu-convo-doc-visibility__icon{fill:var(--theme-main-color)}}.cu-convo-doc-visibility__container-toggle{display:flex;align-items:center;height:24px;padding:0 10px 0 7px;border-radius:4px;background:rgba(233,235,240,.5)}.dark-theme .cu-convo-doc-visibility__container-toggle{background:rgba(30,39,46,.5)}.cu-left-sidebar.dark-theme .cu-convo-doc-visibility__container-toggle{background:rgba(43,52,59,.8)}.cu-convo-doc-visibility__container-toggle-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#292d34;font:400 12.5px/1 Gotham Pro,Proxima Nova,arial,serif}.dark-theme .cu-convo-doc-visibility__container-toggle-text{color:#fff}.cu-convo-doc-visibility__menu{min-width:230px;max-width:350px;max-height:calc(100vh - 100px)}.cu-convo-doc-visibility__icon{height:12px;width:12px;margin-right:8px;fill:#7c828d}.cu-convo-doc-visibility__icon_chat{height:11px;width:11px}.cu-convo-doc-visibility__menu .cu-convo-doc-visibility__icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-convo-doc-visibility__menu .cu-convo-doc-visibility__icon{fill:var(--theme-main-color)}}.cu-convo-doc-visibility__row{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;padding:10px 15px}.cu-convo-doc-visibility__row:hover{background:#fafbfc}.dark-theme .cu-convo-doc-visibility__row:hover{background:#2b343b}.cu-convo-doc-visibility__row+.cu-convo-doc-visibility__row{border-top:1px solid #e9ebf0}.dark-theme .cu-convo-doc-visibility__row+.cu-convo-doc-visibility__row{border-top-color:#1e272e}.cu-convo-doc-visibility__location{display:flex;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;margin-top:5px}.cu-convo-doc-visibility__hier{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:5px;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.cu-convo-doc-visibility__arrow{margin-left:7px;width:6px;height:8px;margin-top:2px;fill:#7c828d}.cu-convo-doc-visibility__info{margin-left:10px;min-width:0;flex:1 0 0}.cu-convo-doc-visibility__info-name{display:flex;justify-content:space-between}.cu-convo-doc-visibility__info-name-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-convo-doc-visibility__info-name-text{color:#d5d6d7}.cu-convo-doc-visibility__info-name-text_no-name{font-style:italic}.cu-convo-doc-visibility__title{display:flex;justify-content:space-between;padding:15px 10px 5px 15px;color:#b9bec7;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;position:sticky;top:0;background:#fff}.dark-theme .cu-convo-doc-visibility__title{background:#384047}.cu-convo-doc-visibility__close{width:12px;height:12px;margin-top:-4px;cursor:pointer;stroke:#b9bec7}.dark-theme .cu-convo-doc-visibility__close{fill:#828588}.cu-convo-doc-visibility__close:hover{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-convo-doc-visibility__close:hover{stroke:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),e})()},"5Mx3":function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return o}),i.d(t,"c",function(){return c});const a="goalFolderDisplayPreference",o=(e,t)=>{const i=e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{}),a=t.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{}),o=e.filter(e=>!a[e.id]).map(e=>e.id);return{added:t.filter(e=>!i[e.id]).map(e=>e.id),removed:o}},c=e=>{if(e%1==0)return e;let t=e.toString();return t=t.slice(0,t.indexOf(".")+3),Number(t)}},"5PTc":function(e,t,i){"use strict";i.d(t,"b",function(){return D}),i.d(t,"a",function(){return C});var a=i("fXoL"),o=i("XNiG"),c=i("YAnr"),n=i("PoDU"),s=i("1G5W"),r=i("3Pt+"),l=i("Jf2N"),d=i("ofXK"),u=i("jJQC"),p=i("8it8"),m=i("kGnP");function h(e,t){1&e&&a.Yb(0)}const b=function(e,t,i,a){return{className:e,url:t,title:i,icon:a}};function g(e,t){if(1&e&&(a.ac(0),a.bd(1,h,1,0,"ng-container",7),a.Zb()),2&e){const e=t.$implicit;a.uc();const i=a.Rc(8);a.Ib(1),a.Dc("ngTemplateOutlet",i)("ngTemplateOutletContext",a.Kc(2,b,"cu2-embed-ideas__idea "+(e.modifier?"cu2-embed-ideas__idea_"+e.modifier:""),e.url,e.title,e.icon))}}function f(e,t){if(1&e&&(a.cc(0,"a",10),a.vc(1,"safe"),a.Xb(2,"img",11),a.bc()),2&e){const e=a.uc(),t=e.url,i=e.icon,o=e.title;a.Lb(e.className),a.Dc("href",a.wc(1,6,t),a.Xc),a.Ib(2),a.Dc("src",i,a.Xc)("alt",o)}}function _(e,t){if(1&e&&(a.cc(0,"a",12),a.Xb(1,"img",11),a.bc()),2&e){const e=a.uc(),t=e.icon,i=e.title;a.Lb(e.className),a.Ib(1),a.Dc("src",t,a.Xc)("alt",i)}}function v(e,t){if(1&e&&(a.bd(0,f,3,8,"a",8),a.bd(1,_,2,5,"a",9)),2&e){const e=t.url;a.Dc("ngIf",e),a.Ib(1),a.Dc("ngIf",!e)}}const y=function(e){return{"cu2-embed-ideas_active":e}},w={modifier:"typeform",title:$localize`:@@cu2-embed-ideas__typeform:Typeform`,url:"https://www.typeform.com/help/embed-a-typeform/",icon:i("vFi+")};let k=(()=>{class e{constructor(e){this.commonStringsService=e,this.EmbedModalOutputType=n.a,this.ideasForEmbedFromURL=[{modifier:"youtube",title:$localize`:@@common_youtube:YouTube`,icon:i("KrQW")},{modifier:"figma",title:$localize`:@@common_figma:Figma`,icon:i("fSN5")},{modifier:"miro",title:$localize`:@@common_miro:Miro`,icon:i("RdfU")},{modifier:"invision",title:$localize`:@@cu2-embed-ideas__invision:Invision`,url:"https://support.invisionapp.com/hc/en-us/articles/360027579812-Embedding-Screens-Prototypes",icon:i("P2vR")},{modifier:"google-doc",title:$localize`:@@common_google--doc:Google Doc`,icon:i("ALb9")},{modifier:"google-sheet",title:$localize`:@@common_google--sheet:Google Sheet`,icon:i("ph3Q")},{title:this.commonStringsService.googleCalendarText,icon:i("VLZn")},{title:$localize`:@@cu2-embed-ideas__google-data-studio:Google Data Studio`,icon:i("6owa")},Object.assign(Object.assign({},w),{url:null}),{title:$localize`:@@cu2-embed-ideas__soundcloud:Soundcloud`,icon:i("Jzn3")}],this.ideasForEmbedFromHTML=[{modifier:"airtable",title:$localize`:@@cu2-embed-ideas__airtable:Airtable`,url:"https://support.airtable.com/hc/en-us/articles/217846478-Embedding-a-view-or-base",icon:i("Eb0V")},w,{modifier:"spotify",title:$localize`:@@cu2-embed-ideas__spotify:Spotify`,url:"https://newsroom.spotify.com/2018-09-04/how-to-embed-spotifys-play-button/",icon:i("Ku6O")},{title:$localize`:@@cu2-embed-ideas__github-gists:Github Gists`,url:"https://help.github.com/en/articles/about-gists#embedding-gists",icon:i("C2Xg")},{modifier:"google-maps",title:$localize`:@@cu2-embed-ideas__google-maps:Google Maps`,url:"https://support.google.com/maps/answer/144361?co=GENIE.Platform%3DDesktop&hl=en",icon:i("ZH2L")},{title:$localize`:@@common_twitter:Twitter`,icon:i("5LIf")}],this.trackByTitle=Object(u.d)("title")}get ideas(){return this.type===n.a.URL?this.ideasForEmbedFromURL:this.ideasForEmbedFromHTML}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(p.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu2-embed-ideas"]],inputs:{type:"type",isActive:"isActive"},decls:9,vars:5,consts:function(){let e;return e=$localize`:@@common_ideas␟277c2fc07cafcfd549c932c023c5925ca59f159c␟1733032782702468487:Ideas`,[[1,"cu2-embed-ideas",3,"ngClass"],[1,"cu2-embed-ideas__label"],[1,"cu2-embed-ideas__label-icon"],e,[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu2-embed-ideas__disable"],["link",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank",3,"class","href",4,"ngIf"],["target","_blank",3,"class",4,"ngIf"],["target","_blank",3,"href"],[1,"cu2-embed-ideas__image",3,"src","alt"],["target","_blank"]]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.Xb(2,"span",2),a.ac(3),a.gc(4,3),a.Zb(),a.bc(),a.bd(5,g,2,7,"ng-container",4),a.Xb(6,"div",5),a.bc(),a.bd(7,v,2,2,"ng-template",null,6,a.cd)),2&e&&(a.Dc("ngClass",a.Hc(3,y,t.isActive)),a.Ib(5),a.Dc("ngForOf",t.ideas)("ngForTrackBy",t.trackByTitle))},directives:[d.o,d.p,d.x,d.q],pipes:[m.a],styles:[".cu2-embed-ideas[_ngcontent-%COMP%]{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;height:20px;margin:12px 0;opacity:.2;position:relative}.cu2-embed-ideas[_ngcontent-%COMP%]:hover{transition:none}.cu2-embed-ideas__label[_ngcontent-%COMP%]{font-weight:400;font-size:10px;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:.8px;text-transform:uppercase;color:#cdc9c9;margin-right:9px}.cu2-embed-ideas__label-icon[_ngcontent-%COMP%]{display:inline-block;width:16px;height:17px;background:url(embed-ideas.5724b423973cc051430e.svg);vertical-align:middle;margin-bottom:8px}.cu2-embed-ideas__image[_ngcontent-%COMP%]{max-height:20px}.cu2-embed-ideas__disable[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0}.cu2-embed-ideas_active[_ngcontent-%COMP%]{opacity:1}.cu2-embed-ideas_active[_ngcontent-%COMP%]   .cu2-embed-ideas__disable[_ngcontent-%COMP%]{display:none}.cu2-embed-ideas__idea[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-right:11px}.cu2-embed-ideas__idea_typeform[_ngcontent-%COMP%], .cu2-embed-ideas__idea_youtube[_ngcontent-%COMP%]{margin-right:10px}.cu2-embed-ideas__idea_typeform[_ngcontent-%COMP%]   .cu2-embed-ideas__image[_ngcontent-%COMP%]{max-height:30px}.cu2-embed-ideas__idea_miro[_ngcontent-%COMP%]   .cu2-embed-ideas__image[_ngcontent-%COMP%]{height:20px}.cu2-embed-ideas__idea_airtable[_ngcontent-%COMP%]   .cu2-embed-ideas__image[_ngcontent-%COMP%]{margin-top:4px}.cu2-embed-ideas__idea_spotify[_ngcontent-%COMP%]   .cu2-embed-ideas__image[_ngcontent-%COMP%]{margin-top:3px}.cu2-embed-ideas__idea_google-maps[_ngcontent-%COMP%]   .cu2-embed-ideas__image[_ngcontent-%COMP%]{max-height:22px;display:block}.cu2-embed-ideas__idea[href][_ngcontent-%COMP%]:hover{opacity:.8}"],changeDetection:0}),e})();const x=["html"],T=["url"];function S(e,t){1&e&&(a.cc(0,"div",21),a.cc(1,"div",22),a.Xb(2,"div",23),a.bc(),a.cc(3,"div",24),a.gc(4,25),a.bc(),a.bc())}function j(e,t){1&e&&(a.ac(0),a.gc(1,26),a.Zb())}function O(e,t){1&e&&(a.ac(0),a.gc(1,27),a.Zb())}const I=function(e){return{"cu-form__row_error":e}};function D(e){if(Object(c.x)(e)&&e.startsWith("https://")){const t=document.createElement("a");t.href=e;const i=document.createElement("a");i.href="/";const a=i.host;if(t.host&&t.host!==a)return!0}return!1}let C=(()=>{class e{constructor(e,t){this.fb=e,this.modal=t,this.EmbedModalOutputType=n.a,this.initialDataSet=!1,this.output=new a.o,this.destroy$=new o.a,this.cache={url:"",html:""}}get isUrlError(){return!!(this.embedForm&&this.embedForm.value.url&&this.embedForm.value.outputType===n.a.URL&&this.embedForm.controls.url.dirty&&this.embedForm.controls.url.touched&&this.embedForm.controls.url.errors)}ngOnInit(){this.embedForm||this.embedFormInit({url:n.a.URL})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}onSubmit(){const{outputType:e,html:t,url:i}=this.embedForm.value,a=e===n.a.HTML?t:this.normaliseUrl(i);this.output.emit({type:e,payload:a}),this.modal.close()}setInitialData(e){this.embedForm||this.embedFormInit(e);const t=e.html?n.a.HTML:n.a.URL;this.embedForm.setValue({outputType:t,html:t===n.a.HTML?e.html:"",url:t===n.a.URL?e.url:""}),this.initialDataSet=!0}setOutputType(e){const{html:t,url:i,outputType:a}=this.embedForm.value;a!==e&&(this.embedForm.setValue({outputType:e,html:t||"",url:i||""}),setTimeout(()=>this.focusSelectedInput(e)))}embedFormInit(e){const t=e&&e.url?n.a.URL:n.a.HTML;this.embedForm=this.fb.group({url:[t===n.a.URL?"":{value:"",disabled:!0},e=>this.validateURL(e)],html:[t===n.a.HTML?"":{value:"",disabled:!0}],outputType:[t]},{validators:e=>this.requiredAtLestOneValidator(e)}),this.initEmbedFormChanges()}focusSelectedInput(e){e===n.a.URL&&this.url.nativeElement.focus(),e===n.a.HTML&&this.html.nativeElement.focus()}initEmbedFormChanges(){return this.embedForm.valueChanges.pipe(Object(s.a)(this.destroy$)).subscribe(e=>{e.outputType===n.a.URL?this.embedForm.controls.url.disabled&&(this.embedForm.controls.url.enable(),this.embedForm.controls.html.disable(),this.embedForm.setValue({outputType:e.outputType,html:e.html||"",url:this.cache.url||""}),this.cache.html=e.html,this.cache.url=""):e.outputType===n.a.HTML&&this.embedForm.controls.html.disabled&&(this.embedForm.controls.html.enable(),this.embedForm.controls.url.disable(),this.embedForm.setValue({outputType:e.outputType,html:this.cache.html||"",url:e.url||""}),this.cache.url=e.url,this.cache.html="")})}requiredAtLestOneValidator(e){return e.value.url||e.value.html?null:{requiredAtLeastOne:!0}}validateURL(e){return D(this.normaliseUrl(e.value))?null:{validateURL:{valid:!1}}}normaliseUrl(e){return!e||e.startsWith("http")?e:"https://"+e}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(r.f),a.Wb(l.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu2-embed-modal"]],viewQuery:function(e,t){if(1&e&&(a.jd(x,3),a.jd(T,3)),2&e){let e;a.Qc(e=a.rc())&&(t.html=e.first),a.Qc(e=a.rc())&&(t.url=e.first)}},outputs:{output:"output"},decls:28,vars:14,consts:function(){let e,t,i,a,o,c,n;return e=$localize`:@@common_embed-url␟b300763cbc81d86241ff5e7864f76cabb97acd6b␟5048247116051245079: Embed URL `,t=$localize`:@@cu2-embed-modal__form-placeholder_embed-url␟ec12fe79238073208866a99b92ef3e0655d0bee1␟603189554015645897:Enter embed URL`,i=$localize`:@@forms_label--embed-html␟09a3282e045a6fe0a9d08db9eff68fafe7e34bea␟5318115600645486559: Embed HTML `,a=$localize`:@@forms_placeholder--embed-html␟e9d49faedb33bab1771549261a95b1bb89754dba␟4108067225535654370:Enter embed HTML`,o=$localize`:@@cu2-embed-modal__form-error_invalid-url␟284edbb647d0bfac20ed39994ae21959633f4ee5␟4522863579182981249: Not a valid url `,c=$localize`:@@common_update␟047f50bc5b5d17b5bec0196355953e1a5c590ddb␟4021752662928002901:Update`,n=$localize`:@@common_create␟70a67e04629f6d412db0a12d51820b480788d795␟5674286808255988565:Create`,[[1,"cu2-dashboard-embed-modal",3,"formGroup","ngSubmit"],[1,"cu-form__row",3,"ngClass","click"],[1,"cu-form__label","cu2-dashboard-embed-modal__label"],[1,"cu-radio","cu2-dashboard-embed-modal__radio-btn"],["type","radio","formControlName","outputType",1,"cu-radio__input","cu2-dashboard-embed-modal__radio-btn-input",3,"value"],[1,"cu-radio__label","cu2-dashboard-embed-modal__radio-btn-label"],e,[1,"cu-form__field","cu2-dashboard-embed-modal__field"],["placeholder",t,"formControlName","url","type","text",1,"cu-form__input"],["url",""],["class","cu-form__error",4,"ngIf"],[3,"type","isActive"],[1,"cu-form__row",3,"click"],i,["placeholder",a,"formControlName","html",1,"cu-form__input","cu2-dashboard-embed-modal__input","cu2-dashboard-embed-modal__input-html"],["html",""],[1,"cu-form__row","cu-form__row_last"],["type","submit",1,"cu-btn","cu-btn_md",3,"disabled"],[1,"cu-btn__text"],[4,"ngIf","ngIfElse"],["createTmpl",""],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],o,c,n]},template:function(e,t){if(1&e&&(a.cc(0,"form",0),a.qc("ngSubmit",function(){return t.onSubmit()}),a.cc(1,"div",1),a.qc("click",function(){return t.setOutputType(t.EmbedModalOutputType.URL)}),a.cc(2,"div",2),a.cc(3,"div",3),a.Xb(4,"input",4),a.cc(5,"div",5),a.gc(6,6),a.bc(),a.bc(),a.bc(),a.cc(7,"div",7),a.Xb(8,"input",8,9),a.bc(),a.bd(10,S,5,0,"div",10),a.Xb(11,"cu2-embed-ideas",11),a.bc(),a.cc(12,"div",12),a.qc("click",function(){return t.setOutputType(t.EmbedModalOutputType.HTML)}),a.cc(13,"div",2),a.cc(14,"div",3),a.Xb(15,"input",4),a.cc(16,"div",5),a.gc(17,13),a.bc(),a.bc(),a.bc(),a.cc(18,"div",7),a.Xb(19,"textarea",14,15),a.bc(),a.Xb(21,"cu2-embed-ideas",11),a.bc(),a.cc(22,"div",16),a.cc(23,"button",17),a.cc(24,"div",18),a.bd(25,j,2,0,"ng-container",19),a.bd(26,O,2,0,"ng-template",null,20,a.cd),a.bc(),a.bc(),a.bc(),a.bc()),2&e){const e=a.Rc(27);a.Dc("formGroup",t.embedForm),a.Ib(1),a.Dc("ngClass",a.Hc(12,I,t.isUrlError)),a.Ib(3),a.Dc("value",t.EmbedModalOutputType.URL),a.Ib(6),a.Dc("ngIf",t.isUrlError),a.Ib(1),a.Dc("type",t.EmbedModalOutputType.URL)("isActive",t.embedForm.value.outputType===t.EmbedModalOutputType.URL),a.Ib(4),a.Dc("value",t.EmbedModalOutputType.HTML),a.Ib(6),a.Dc("type",t.EmbedModalOutputType.HTML)("isActive",t.embedForm.value.outputType===t.EmbedModalOutputType.HTML),a.Ib(2),a.Dc("disabled",t.embedForm.pristine||t.embedForm.invalid),a.Ib(2),a.Dc("ngIf",t.initialDataSet)("ngIfElse",e)}},directives:[r.C,r.q,r.k,d.o,r.w,r.c,r.p,r.i,d.q,k],styles:[".cu2-dashboard-embed-modal__label[_ngcontent-%COMP%]{display:flex}.cu2-dashboard-embed-modal__radio-btn-input[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;cursor:pointer;z-index:1}.cu2-dashboard-embed-modal__radio-btn-label[_ngcontent-%COMP%]{padding:0 0 0 36px;font-size:11px;line-height:21px;font-weight:500}.cu2-dashboard-embed-modal__radio-btn-label[_ngcontent-%COMP%]:before{width:21px;height:21px}.cu2-dashboard-embed-modal__radio-btn-label[_ngcontent-%COMP%]:after{top:4px;left:4px;width:13px;height:13px}.cu2-dashboard-embed-modal__field[_ngcontent-%COMP%]{padding-left:36px}.cu2-dashboard-embed-modal__input-html[_ngcontent-%COMP%]{white-space:pre-wrap;font-family:monospace;font-size:90%;line-height:150%;background:#f7f7f7;color:#8959a8;margin:5px 0;padding:15px}"],changeDetection:0}),e})()},"6hm0":function(e,t,i){"use strict";i.d(t,"a",function(){return I});var a=i("f0Wu"),o=i("yR4P"),c=i("jJQC"),n=i("pHS2"),s=i("YAnr"),r=i("fXoL"),l=i("Jf2N"),d=i("UdVN"),u=i("ofXK"),p=i("FrPa");function m(e,t){if(1&e&&(r.cc(0,"a",17),r.dd(1),r.bc()),2&e){const e=r.uc(2);r.Dc("href",e.event.location,r.Xc),r.Ib(1),r.ed(e.event.location)}}function h(e,t){if(1&e&&r.dd(0),2&e){const e=r.uc(2);r.ed(e.event.location)}}function b(e,t){if(1&e&&(r.cc(0,"div",8),r.cc(1,"div",4),r.Xb(2,"div",19),r.bc(),r.cc(3,"div",6),r.bd(4,m,2,2,"a",20),r.vc(5,"slice"),r.bd(6,h,1,1,"ng-template",null,21,r.cd),r.bc(),r.bc()),2&e){const e=r.Rc(7),t=r.uc();r.Ib(4),r.Dc("ngIf","http"===r.yc(5,2,t.event.location,0,4))("ngIfElse",e)}}function g(e,t){if(1&e&&(r.ac(0),r.cc(1,"b"),r.dd(2,"\u2022"),r.bc(),r.cc(3,"span",22),r.gc(4,23),r.bc(),r.Zb()),2&e){const e=r.uc();r.Ib(4),r.kc(e.attendeeCounts.accepted),r.hc(4)}}function f(e,t){if(1&e&&(r.ac(0),r.cc(1,"b"),r.dd(2,"\u2022"),r.bc(),r.cc(3,"span",24),r.gc(4,25),r.bc(),r.Zb()),2&e){const e=r.uc();r.Ib(4),r.kc(e.attendeeCounts.declined),r.hc(4)}}function _(e,t){if(1&e&&(r.ac(0),r.cc(1,"b"),r.dd(2,"\u2022"),r.bc(),r.cc(3,"span"),r.gc(4,26),r.bc(),r.Zb()),2&e){const e=r.uc();r.Ib(4),r.kc(e.attendeeCounts.tentative),r.hc(4)}}function v(e,t){if(1&e&&(r.ac(0),r.cc(1,"b"),r.dd(2,"\u2022"),r.bc(),r.cc(3,"span"),r.gc(4,27),r.bc(),r.Zb()),2&e){const e=r.uc();r.Ib(4),r.kc(e.attendeeCounts.needsAction),r.hc(4)}}function y(e,t){1&e&&(r.cc(0,"div",34),r.gc(1,35),r.bc())}function w(e,t){if(1&e&&(r.cc(0,"div",28),r.cc(1,"div",29),r.Xb(2,"div",30),r.bc(),r.cc(3,"div",31),r.cc(4,"a",32),r.dd(5),r.bc(),r.bd(6,y,2,0,"div",33),r.bc(),r.bc()),2&e){const e=t.$implicit,i=r.uc();r.Ob("cu-google-calendar-event-details__row-guest-accepted","accepted"===e.responseStatus)("cu-google-calendar-event-details__row-guest-declined","declined"===e.responseStatus),r.Ib(4),r.Dc("href","mailto:"+e.email,r.Xc),r.Ib(1),r.ed(e.email),r.Ib(1),r.Dc("ngIf",e.email===(null==i.event.full_data||null==i.event.full_data.creator?null:i.event.full_data.creator.email))}}function k(e,t){if(1&e&&(r.cc(0,"div"),r.gc(1,39),r.bc()),2&e){const e=r.uc(2);r.Ib(1),r.kc(e.eventAddon.meetingCode),r.hc(1)}}function x(e,t){if(1&e&&(r.cc(0,"div"),r.gc(1,40),r.bc()),2&e){const e=r.uc(2);r.Ib(1),r.kc(e.eventAddon.passcode),r.hc(1)}}function T(e,t){if(1&e&&(r.cc(0,"div",8),r.cc(1,"div",4),r.Xb(2,"div",41),r.bc(),r.cc(3,"div",6),r.cc(4,"a",17),r.gc(5,42),r.bc(),r.bc(),r.bc()),2&e){const e=r.uc(2);r.Ib(2),r.Dc("icon","cu2-external-link-alt"),r.Ib(2),r.Dc("href",e.eventAddon.moreLink,r.Xc)}}function S(e,t){if(1&e&&(r.cc(0,"div",8),r.cc(1,"div",4),r.Xb(2,"img",36),r.bc(),r.cc(3,"div",6),r.cc(4,"a",37),r.gc(5,38),r.bc(),r.bd(6,k,2,1,"div",12),r.bd(7,x,2,1,"div",12),r.bc(),r.bc(),r.bd(8,T,6,2,"div",7)),2&e){const e=r.uc();r.Ib(2),r.Dc("src",e.eventAddon.icon,r.Xc),r.Ib(2),r.Dc("href",e.eventAddon.link,r.Xc),r.Ib(1),r.kc(e.eventAddon.name),r.hc(5),r.Ib(1),r.Dc("ngIf",e.eventAddon.meetingCode),r.Ib(1),r.Dc("ngIf",e.eventAddon.passcode),r.Ib(1),r.Dc("ngIf",e.eventAddon.moreLink)}}function j(e,t){if(1&e&&(r.Xb(0,"div",45),r.vc(1,"trustHTML")),2&e){const e=r.uc(2);r.Dc("innerHtml",r.wc(1,1,e.description),r.Vc)}}function O(e,t){if(1&e&&(r.cc(0,"div",8),r.cc(1,"div",4),r.Xb(2,"div",43),r.bc(),r.cc(3,"div",6),r.bd(4,j,2,3,"div",44),r.bc(),r.bc()),2&e){const e=r.uc();r.Ib(4),r.Dc("ngIf",e.event.description)}}let I=(()=>{class e{constructor(e){this.modal=e,this.dateString="",this.trackByEmail=Object(c.d)("email")}ngOnInit(){var e,t,i,c,r,l,d,u,p,m;const h=a(+this.event.start_date),b=a(+this.event.end_date),g=h.isSame(b,"day"),f=Object(o.k)(this.user.date_format),_=Object(o.f)(this.user.twenty_four_hr_setting),v="dateTime"in this.event.start_obj?f+" "+_:f,y=g?_:v,w="date"in this.event.start_obj&&"date"in this.event.end_obj&&h.clone().add(1,"day").isSame(b,"day");if(this.dateString=h.format(v)+(w?"":" - "+b.format(y)),this.attendeeCounts=Object.fromEntries(Object.entries(Object(n.a)(this.event.attendees,"responseStatus")).map(([e,t])=>[e,t.length])),this.event.description){const e=this.event.description.includes("<br>");this.description=e?this.event.description:Object(s.z)(this.event.description).replace(/\n/g,"<br>")}if("addOn"===(null===(c=null===(i=null===(t=null===(e=this.event.full_data)||void 0===e?void 0:e.conferenceData)||void 0===t?void 0:t.conferenceSolution)||void 0===i?void 0:i.key)||void 0===c?void 0:c.type)){const e=null===(l=null===(r=this.event.full_data)||void 0===r?void 0:r.conferenceData)||void 0===l?void 0:l.entryPoints.find(e=>"video"===e.entryPointType);e&&(this.eventAddon={icon:null===(d=this.event.full_data)||void 0===d?void 0:d.conferenceData.conferenceSolution.iconUri,name:this.event.full_data.conferenceData.conferenceSolution.name,link:e.uri,passcode:e.passcode,meetingCode:e.meetingCode,moreLink:null===(m=null===(p=null===(u=this.event.full_data)||void 0===u?void 0:u.conferenceData)||void 0===p?void 0:p.entryPoints.find(e=>"more"===e.entryPointType))||void 0===m?void 0:m.uri})}}close(){this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(l.a))},e.\u0275cmp=r.Qb({type:e,selectors:[["cu-google-calendar-event-details"]],hostAttrs:[1,"cu-google-calendar-event-details"],inputs:{event:"event",user:"user"},decls:27,vars:14,consts:function(){let e,t,i,a,o,c,n,s,l,d,u,p;return e=$localize`:␟3c770e9cb057976f62e1507e2d7470c5925d1b00␟1765530996307581881:{VAR_PLURAL, plural, =1 {guest} other {guests}}`,e=r.lc(e,{VAR_PLURAL:"\ufffd1\ufffd"}),t=$localize`:@@cu-google-calendar-event-details__event-attendees-count␟da21b69401a720c3adeb83c8be24a8e38730b171␟1791180564695289023: ${"\ufffd0\ufffd"}:INTERPOLATION: ${e}:ICU: `,i=$localize`:@@cu-google-calendar-event-details__link-txt_view-in-google-calendar␟c9b1f430f81d46e97dd62ab5fbfb0c82daa12993␟4320753308715064203:View in Google Calendar`,a=$localize`:@@cu-google-calendar-event-details__event-attendees-accepted-count␟96c699e8afd731fb5161ed542659f8cf62cee1de␟678360890066329801: ${"\ufffd0\ufffd"}:INTERPOLATION: Yes `,o=$localize`:@@cu-google-calendar-event-details__event-attendees-declined-count␟00a79dad0e57d47848fff3797af598b7ba575984␟274758448601919503: ${"\ufffd0\ufffd"}:INTERPOLATION: No `,c=$localize`:@@cu-google-calendar-event-details__event-attendees-maybe-count␟dcc11ec3f8d61d6e5e8570e65e7c9bfc2b6eb1ba␟6992122291324206666: ${"\ufffd0\ufffd"}:INTERPOLATION: Maybe `,n=$localize`:@@cu-google-calendar-event-details__event-attendees-awaiting-count␟9524775a4e5d8420a95202f859172d5a00a11de9␟4735089909481970156: ${"\ufffd0\ufffd"}:INTERPOLATION: Awaiting `,s=$localize`:@@cu-google-calendar-event-details__row-creator␟4331fedca24ca503d5731c984f9a7dbab3a68145␟4700920217690252410: Creator `,l=$localize`:@@cu-google-calendar-event-details__addon-link␟daacb5c026f06aa309ebabc0e9760e8393d397b5␟584418440563780915: Join ${"\ufffd0\ufffd"}:INTERPOLATION: `,d=$localize`:@@cu-google-calendar-event-details__addon-id␟ceabf4fb9fea951ca04208706f808caade34a1d2␟2158241873155859543: ID: ${"\ufffd0\ufffd"}:INTERPOLATION: `,u=$localize`:@@cu-google-calendar-event-details__addon-passcode␟335b9894d92db139157245a8cdc97ce54d13fdbf␟5367613773743505046: Passcode: ${"\ufffd0\ufffd"}:INTERPOLATION: `,p=$localize`:@@cu-google-calendar-event-details__addon-joining-instructions␟04e0379b0cd5cb5aaaf6732220aeda8e4f3a7c24␟8034020686628066310: Joining instructions `,[[1,"cu-google-calendar-event-details__header"],[1,"cu-google-calendar-event-details__header-title"],["icon","close-modal",1,"cu-google-calendar-event-details__header-close",3,"click"],[1,"cu-google-calendar-event-details__row","cu-google-calendar-event-details__row-date"],[1,"cu-google-calendar-event-details__row-left"],["icon","cu2-clock-solid"],[1,"cu-google-calendar-event-details__row-right"],["class","cu-google-calendar-event-details__row",4,"ngIf"],[1,"cu-google-calendar-event-details__row"],["icon","cu2-assignees-everyone"],[1,"cu-google-calendar-event-details__row-right","cu-google-calendar-event-details__row-guests"],t,[4,"ngIf"],[1,"cu-google-calendar-event-details__row-guest-items"],["class","cu-google-calendar-event-details__row-guest",3,"cu-google-calendar-event-details__row-guest-accepted","cu-google-calendar-event-details__row-guest-declined",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngIf"],[1,"cu-google-calendar-event-details__footer"],["target","_blank",3,"href"],i,["icon","cu2-pin"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["notLink",""],[1,"cu-google-calendar-event-details__row-right-green"],a,[1,"cu-google-calendar-event-details__row-right-red"],o,c,n,[1,"cu-google-calendar-event-details__row-guest"],[1,"cu-google-calendar-event-details__row-guest-icon"],["icon","cu2-assignees-me"],[1,"cu-google-calendar-event-details__row-guest-body"],[3,"href"],["class","cu-google-calendar-event-details__row-creator",4,"ngIf"],[1,"cu-google-calendar-event-details__row-creator"],s,[1,"icon",3,"src"],["target","_blank",1,"cu-google-calendar-event-details__addon-link",3,"href"],l,d,u,[3,"icon"],p,["icon","info2"],[3,"innerHtml",4,"ngIf"],[3,"innerHtml"]]},template:function(e,t){1&e&&(r.cc(0,"div",0),r.cc(1,"div",1),r.dd(2),r.bc(),r.cc(3,"div",2),r.qc("click",function(){return t.close()}),r.bc(),r.bc(),r.cc(4,"div",3),r.cc(5,"div",4),r.Xb(6,"div",5),r.bc(),r.cc(7,"div",6),r.dd(8),r.bc(),r.bc(),r.bd(9,b,8,6,"div",7),r.cc(10,"div",8),r.cc(11,"div",4),r.Xb(12,"div",9),r.bc(),r.cc(13,"div",10),r.ac(14),r.gc(15,11),r.Zb(),r.bd(16,g,5,1,"ng-container",12),r.bd(17,f,5,1,"ng-container",12),r.bd(18,_,5,1,"ng-container",12),r.bd(19,v,5,1,"ng-container",12),r.cc(20,"div",13),r.bd(21,w,7,7,"div",14),r.bc(),r.bc(),r.bc(),r.bd(22,S,9,6,"ng-template",15),r.bd(23,O,5,1,"div",7),r.cc(24,"div",16),r.cc(25,"a",17),r.gc(26,18),r.bc(),r.bc()),2&e&&(r.Ib(2),r.fd(" ",t.event.summary," "),r.Ib(6),r.fd(" ",t.dateString," "),r.Ib(1),r.Dc("ngIf",t.event.location),r.Ib(6),r.kc(t.event.attendees.length)(t.event.attendees.length),r.hc(15),r.Ib(1),r.Dc("ngIf",t.attendeeCounts.accepted>0),r.Ib(1),r.Dc("ngIf",t.attendeeCounts.declined>0),r.Ib(1),r.Dc("ngIf",t.attendeeCounts.tentative>0),r.Ib(1),r.Dc("ngIf",t.attendeeCounts.needsAction>0),r.Ib(2),r.Dc("ngForOf",t.event.attendees)("ngForTrackBy",t.trackByEmail),r.Ib(1),r.Dc("ngIf",t.eventAddon),r.Ib(1),r.Dc("ngIf",t.description&&t.description.length),r.Ib(2),r.Dc("href",t.event.link,r.Xc))},directives:[d.a,u.q,u.p],pipes:[u.A,p.a],styles:['.cu-google-calendar-event-details__modal{background:transparent}.cu-google-calendar-event-details__modal .cu-modal__dialog{padding:24px 24px 0;width:415px!important;box-shadow:0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12),0 11px 15px -7px rgba(0,0,0,.2)}.cu-google-calendar-event-details__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:25px}.cu-google-calendar-event-details__header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px 1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-google-calendar-event-details__header-title{font-family:var(--global-font-support)}}.dark-theme .cu-google-calendar-event-details__header-title{color:#d5d6d7}.cu-google-calendar-event-details__header-close{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;stroke:#b9bec7;width:16px;height:16px;padding:2px;cursor:pointer}.cu-google-calendar-event-details__header-close:hover{transform:rotate(180deg)}.cu-google-calendar-event-details__row{display:flex;align-items:flex-start;margin-bottom:20px}.cu-google-calendar-event-details__row-left{width:15px;margin-right:25px}.cu-google-calendar-event-details__row-left .icon{width:15px;height:15px;fill:#b9bec7;margin-top:2px}.cu-google-calendar-event-details__row-right{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:22px;flex-grow:1;min-width:0;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-google-calendar-event-details__row-right{font-family:var(--global-font-support)}}.dark-theme .cu-google-calendar-event-details__row-right{color:#d5d6d7}.cu-google-calendar-event-details__row-right a{cursor:pointer}.cu-google-calendar-event-details__row-right a:hover{color:var(--theme-main-color)}.cu-google-calendar-event-details__row-right-green{color:#6bc950}.cu-google-calendar-event-details__row-right-red{color:#fd7171}.cu-google-calendar-event-details__row-date .cu-google-calendar-event-details__row-right{font-weight:500}.cu-google-calendar-event-details__row-guests span{font-weight:500;font-size:11px}.cu-google-calendar-event-details__row-guests b{position:relative;top:1px;color:rgba(185,190,199,.5)}.cu-google-calendar-event-details__row-guest-items{display:flex;flex-direction:column}.cu-google-calendar-event-details__row-guest{line-height:1;display:flex;align-items:center;margin:6px 0}.cu-google-calendar-event-details__row-guest:first-of-type{margin-top:12px}.cu-google-calendar-event-details__row-guest:last-of-type{margin-bottom:0}.cu-google-calendar-event-details__row-guest-icon{border:1px solid rgba(107,201,80,.5);background:rgba(107,201,80,.1);height:24px;width:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;margin-right:8px;flex-shrink:0}.cu-google-calendar-event-details__row-guest-icon .icon{height:12px;width:12px;fill:#6bc950}.cu-google-calendar-event-details__row-guest-body{min-width:0}.cu-google-calendar-event-details__row-guest-declined .cu-google-calendar-event-details__row-guest-icon{background:rgba(253,113,113,.1);border:1px solid rgba(253,113,113,.5)}.cu-google-calendar-event-details__row-guest-declined .cu-google-calendar-event-details__row-guest-icon .icon{fill:#fd7171}.cu-google-calendar-event-details__row-guest a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.cu-google-calendar-event-details__row-creator{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-top:2px;color:#7c828d}.dark-theme .cu-google-calendar-event-details__row-creator{color:#828588}.cu-google-calendar-event-details__footer{display:flex;align-items:center;justify-content:center;height:32px;border-top:1px solid #e9ebf0;width:calc(100% + 48px);margin-left:-24px}.dark-theme .cu-google-calendar-event-details__footer{border-color:#1e272e}.cu-google-calendar-event-details__footer a{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;color:var(--theme-main-color)}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-google-calendar-event-details__footer a{font-family:var(--global-font-support)}}.cu-google-calendar-event-details__footer a:hover{text-decoration:underline}.cu-google-calendar-event-details__addon-link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-google-calendar-event-details__addon-link{color:var(--theme-main-color)}}'],encapsulation:2,changeDetection:0}),e})()},"6n/F":function(e,t,i){var a,o,c;o="undefined"!=typeof window?window:this,c=function(e){function t(e,t,i,a){e.hasOwnProperty(t)||(e[t]=a.apply(null,i))}var i={};return t(i,"parts/Globals.js",[],function(){var t=void 0!==e?e:"undefined"!=typeof window?window:{},i=t.document,a=t.navigator&&t.navigator.userAgent||"",o=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c=/(edge|msie|trident)/i.test(a)&&!t.opera,n=-1!==a.indexOf("Firefox"),s=-1!==a.indexOf("Chrome"),r=n&&4>parseInt(a.split("Firefox/")[1],10);return{product:"Highcharts",version:"8.0.0",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:r,hasTouch:!!t.TouchEvent,isMS:c,isWebKit:-1!==a.indexOf("AppleWebKit"),isFirefox:n,isChrome:s,isSafari:!s&&-1!==a.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(a),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:t,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[],dateFormats:{}}}),t(i,"parts/Utilities.js",[i["parts/Globals.js"]],function(e){function t(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function a(e){return"[object Array]"===(e=Object.prototype.toString.call(e))||"[object Array Iterator]"===e}function o(e,t){return!(!e||"object"!=typeof e||t&&a(e))}function c(e){return o(e)&&"number"==typeof e.nodeType}function n(e){var t=e&&e.constructor;return!(!o(e,!0)||c(e)||!t||!t.name||"Object"===t.name)}function s(e){return"number"==typeof e&&!isNaN(e)&&1/0>e&&-1/0<e}function r(e){return null!=e}function l(e,t,a){var o;return i(t)?r(a)?e.setAttribute(t,a):e&&e.getAttribute&&((o=e.getAttribute(t))||"class"!==t||(o=e.getAttribute(t+"Name"))):b(t,function(t,i){e.setAttribute(i,t)}),o}function d(e,t){var i;for(i in e||(e={}),t)e[i]=t[i];return e}function u(){for(var e=arguments,t=e.length,i=0;i<t;i++){var a=e[i];if(null!=a)return a}}function p(e,t){var i=function(){};return d(i.prototype=new e,t),i}function m(e,t){return parseFloat(e.toPrecision(t||14))}function h(i,a,o,c){a=+a;var n=e.defaultOptions.lang,r=((i=+i||0).toString().split(".")[1]||"").split("e")[0].length,l=i.toString().split("e");if(-1===a)a=Math.min(r,20);else if(s(a)){if(a&&l[1]&&0>l[1]){var d=a+ +l[1];0<=d?(l[0]=(+l[0]).toExponential(d).split("e")[0],a=d):(l[0]=l[0].split(".")[0]||0,i=20>a?(l[0]*Math.pow(10,l[1])).toFixed(a):0,l[1]=0)}}else a=2;var p=(Math.abs(l[1]?l[0]:i)+Math.pow(10,-Math.max(a,r)-1)).toFixed(a);return d=3<(r=String(t(p))).length?r.length%3:0,o=u(o,n.decimalPoint),c=u(c,n.thousandsSep),i=(0>i?"-":"")+(d?r.substr(0,d)+c:""),i+=r.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+c),a&&(i+=o+p.slice(-a)),l[1]&&0!=+i&&(i+="e"+l[1]),i}function b(e,t,i){for(var a in e)Object.hasOwnProperty.call(e,a)&&t.call(i||e[a],e[a],a,e)}e.timers=[];var g=e.charts,f=e.doc,_=e.win;return e.error=function(t,i,a,o){var c=s(t),n=c?"Highcharts error #"+t+": www.highcharts.com/errors/"+t+"/":t.toString(),r=function(){if(i)throw Error(n)};if(void 0!==o){var l="";c&&(n+="?"),e.objectEach(o,function(e,t){l+="\n"+t+": "+e,c&&(n+=encodeURI(t)+"="+encodeURI(e))}),n+=l}a?e.fireEvent(a,"displayError",{code:t,message:n,params:o},r):r()},e.Fx=function(e,t,i){this.options=t,this.elem=e,this.prop=i},e.Fx.prototype={dSetter:function(){var e=this.paths[0],t=this.paths[1],i=[],a=this.now,o=e.length;if(1===a)i=this.toD;else if(o===t.length&&1>a)for(;o--;){var c=parseFloat(e[o]);i[o]=isNaN(c)||"A"===t[o-4]||"A"===t[o-5]?t[o]:a*parseFloat(""+(t[o]-c))+c}else i=t;this.elem.attr("d",i,null,!0)},update:function(){var e=this.elem,t=this.prop,i=this.now,a=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,i,null,!0):e.style[t]=i+this.unit,a&&a.call(e,i,this)},run:function(t,i,a){var o=this,c=o.options,n=function(e){return!n.stopped&&o.step(e)},s=_.requestAnimationFrame||function(e){setTimeout(e,13)},r=function(){for(var t=0;t<e.timers.length;t++)e.timers[t]()||e.timers.splice(t--,1);e.timers.length&&s(r)};t!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=i,this.unit=a,this.now=this.start,this.pos=0,n.elem=this.elem,n.prop=this.prop,n()&&1===e.timers.push(n)&&s(r)):(delete c.curAnim[this.prop],c.complete&&0===Object.keys(c.curAnim).length&&c.complete.call(this.elem))},step:function(e){var t=+new Date,i=this.options,a=this.elem,o=i.complete,c=i.duration,n=i.curAnim;if(a.attr&&!a.element)e=!1;else if(e||t>=c+this.startTime){this.now=this.end,this.pos=1,this.update();var s=n[this.prop]=!0;b(n,function(e){!0!==e&&(s=!1)}),s&&o&&o.call(a),e=!1}else this.pos=i.easing((t-this.startTime)/c),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(e,t,i){function a(e){for(r=e.length;r--;){var t="M"===e[r]||"L"===e[r],i=/[a-zA-Z]/.test(e[r+3]);t&&i&&e.splice(r+1,0,e[r+1],e[r+2],e[r+1],e[r+2])}}function o(e,t){for(;e.length<f;){e[0]=t[f-e.length];var i=e.slice(0,p);[].splice.apply(e,[0,0].concat(i)),m&&(i=e.slice(e.length-p),[].splice.apply(e,[e.length,0].concat(i)),r--)}e[0]="M"}function c(e,t){for(var i=(f-e.length)/p;0<i&&i--;)(n=e.slice().splice(e.length/h-p,p*h))[0]=t[f-p-i*p],u&&(n[p-6]=n[p-2],n[p-5]=n[p-1]),[].splice.apply(e,[e.length/h,0].concat(n)),m&&i--}var n,r,l=e.startX,d=e.endX,u=-1<(t=t||"").indexOf("C"),p=u?7:3;t=t.split(" "),i=i.slice();var m=e.isArea,h=m?2:1;if(u&&(a(t),a(i)),l&&d){for(r=0;r<l.length;r++){if(l[r]===d[0]){var b=r;break}if(l[0]===d[d.length-l.length+r]){b=r;var g=!0;break}if(l[l.length-1]===d[d.length-l.length+r]){b=l.length-r;break}}void 0===b&&(t=[])}if(t.length&&s(b)){var f=i.length+b*h*p;g?(o(t,i),c(i,t)):(o(i,t),c(t,i))}return[t,i]},fillSetter:function(){e.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,e.color(this.start).tweenTo(e.color(this.end),this.pos),null,!0)}},e.merge=function(){var e,t=arguments,i={},a=function(e,t){return"object"!=typeof e&&(e={}),b(t,function(i,s){e[s]=!o(i,!0)||n(i)||c(i)?t[s]:a(e[s]||{},i)}),e};!0===t[0]&&(i=t[1],t=Array.prototype.slice.call(t,2));var s=t.length;for(e=0;e<s;e++)i=a(i,t[e]);return i},e.clearTimeout=function(e){r(e)&&clearTimeout(e)},e.css=function(t,i){e.isMS&&!e.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),d(t.style,i)},e.createElement=function(t,i,a,o,c){t=f.createElement(t);var n=e.css;return i&&d(t,i),c&&n(t,{padding:"0",border:"none",margin:"0"}),a&&n(t,a),o&&o.appendChild(t),t},e.datePropsToTimestamps=function(t){b(t,function(i,c){o(i)&&"function"==typeof i.getTime?t[c]=i.getTime():(o(i)||a(i))&&e.datePropsToTimestamps(i)})},e.formatSingle=function(t,i,a){var o=/\.([0-9])/,c=e.defaultOptions.lang,n=a&&a.time||e.time;return a=a&&a.numberFormatter||h,/f$/.test(t)?(o=(o=t.match(o))?o[1]:-1,null!==i&&(i=a(i,o,c.decimalPoint,-1<t.indexOf(",")?c.thousandsSep:""))):i=n.dateFormat(t,i),i},e.format=function(t,i,a){for(var o,c,n,s,r,l="{",d=!1,u=[];t&&-1!==(l=t.indexOf(l));){if(o=t.slice(0,l),d){for(s=(c=(o=o.split(":")).shift().split(".")).length,r=i,n=0;n<s;n++)r&&(r=r[c[n]]);o.length&&(r=e.formatSingle(o.join(":"),r,a)),u.push(r)}else u.push(o);t=t.slice(l+1),l=(d=!d)?"}":"{"}return u.push(t),u.join("")},e.getMagnitude=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},e.normalizeTickInterval=function(e,t,i,a,o){var c=e,n=e/(i=u(i,1));for(t||(t=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===a&&(1===i?t=t.filter(function(e){return 0==e%1}):.1>=i&&(t=[1/i]))),a=0;a<t.length&&(c=t[a],!(o&&c*i>=e||!o&&n<=(t[a]+(t[a+1]||t[a]))/2));a++);return m(c*i,-Math.round(Math.log(.001)/Math.LN10))},e.stableSort=function(e,t){var i,a,o=e.length;for(a=0;a<o;a++)e[a].safeI=a;for(e.sort(function(e,a){return 0===(i=t(e,a))?e.safeI-a.safeI:i}),a=0;a<o;a++)delete e[a].safeI},e.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getStyle=function(i,a,o){return"width"===a?(a=Math.min(i.offsetWidth,i.scrollWidth),(o=i.getBoundingClientRect&&i.getBoundingClientRect().width)<a&&o>=a-1&&(a=Math.floor(o)),Math.max(0,a-e.getStyle(i,"padding-left")-e.getStyle(i,"padding-right"))):"height"===a?Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-e.getStyle(i,"padding-top")-e.getStyle(i,"padding-bottom")):(_.getComputedStyle||e.error(27,!0),(i=_.getComputedStyle(i,void 0))&&(i=i.getPropertyValue(a),u(o,"opacity"!==a)&&(i=t(i))),i)},e.inArray=function(e,t,i){return t.indexOf(e,i)},e.find=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){var i,a=e.length;for(i=0;i<a;i++)if(t(e[i],i))return e[i]},e.keys=Object.keys,e.stop=function(t,i){for(var a=e.timers.length;a--;)e.timers[a].elem!==t||i&&i!==e.timers[a].prop||(e.timers[a].stopped=!0)},b({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(t,i){e[i]=function(e){return Array.prototype[t].apply(e,[].slice.call(arguments,1))}}),e.addEvent=function(t,i,a,o){void 0===o&&(o={});var c=t.addEventListener||e.addEventListenerPolyfill,n="function"==typeof t&&t.prototype?t.prototype.protoEvents=t.prototype.protoEvents||{}:t.hcEvents=t.hcEvents||{};return e.Point&&t instanceof e.Point&&t.series&&t.series.chart&&(t.series.chart.runTrackerClick=!0),c&&c.call(t,i,a,!1),n[i]||(n[i]=[]),n[i].push({fn:a,order:"number"==typeof o.order?o.order:1/0}),n[i].sort(function(e,t){return e.order-t.order}),function(){e.removeEvent(t,i,a)}},e.removeEvent=function(t,i,a){function o(i,a){var o=t.removeEventListener||e.removeEventListenerPolyfill;o&&o.call(t,i,a,!1)}function c(e){var a;if(t.nodeName){if(i){var c={};c[i]=!0}else c=e;b(c,function(t,i){if(e[i])for(a=e[i].length;a--;)o(i,e[i][a].fn)})}}var n;["protoEvents","hcEvents"].forEach(function(e,s){var r=(s=s?t:t.prototype)&&s[e];r&&(i?(n=r[i]||[],a?(r[i]=n.filter(function(e){return a!==e.fn}),o(i,a)):(c(r),r[i]=[])):(c(r),s[e]={}))})},e.fireEvent=function(e,t,i,a){var o;if(i=i||{},f.createEvent&&(e.dispatchEvent||e.fireEvent)){var c=f.createEvent("Events");c.initEvent(t,!0,!0),d(c,i),e.dispatchEvent?e.dispatchEvent(c):e.fireEvent(t,c)}else i.target||d(i,{preventDefault:function(){i.defaultPrevented=!0},target:e,type:t}),function(t,a){void 0===t&&(t=[]),void 0===a&&(a=[]);var c=0,n=0,s=t.length+a.length;for(o=0;o<s;o++)!1===(t[c]?a[n]?t[c].order<=a[n].order?t[c++]:a[n++]:t[c++]:a[n++]).fn.call(e,i)&&i.preventDefault()}(e.protoEvents&&e.protoEvents[t],e.hcEvents&&e.hcEvents[t]);a&&!i.defaultPrevented&&a.call(e,i)},e.animate=function(t,i,a){var c,n,r,l="";if(!o(a)){var d=arguments;a={duration:d[2],easing:d[3],complete:d[4]}}s(a.duration)||(a.duration=400),a.easing="function"==typeof a.easing?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=e.merge(i),b(i,function(o,s){e.stop(t,s),r=new e.Fx(t,a,s),n=null,"d"===s?(r.paths=r.initPath(t,t.d,i.d),r.toD=i.d,c=0,n=1):t.attr?c=t.attr(s):(c=parseFloat(e.getStyle(t,s))||0,"opacity"!==s&&(l="px")),n||(n=o),n&&n.match&&n.match("px")&&(n=n.replace(/px/g,"")),r.run(c,n,l)})},e.seriesType=function(t,i,a,o,c){var n=e.getOptions(),s=e.seriesTypes;return n.plotOptions[t]=e.merge(n.plotOptions[i],a),s[t]=p(s[i]||function(){},o),s[t].prototype.type=t,c&&(s[t].prototype.pointClass=p(e.Point,c)),s[t]},e.uniqueKey=function(){var e=Math.random().toString(36).substring(2,9),t=0;return function(){return"highcharts-"+e+"-"+t++}}(),e.isFunction=function(e){return"function"==typeof e},_.jQuery&&(_.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(e[i(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):g[l(this[0],"data-highcharts-chart")]}),{animObject:function(t){return o(t)?e.merge(t):{duration:t?500:0}},arrayMax:function(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i},arrayMin:function(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i},attr:l,clamp:function(e,t,i){return e>t?e<i?e:i:t},correctFloat:m,defined:r,destroyObjectProperties:function(e,t){b(e,function(i,a){i&&i!==t&&i.destroy&&i.destroy(),delete e[a]})},discardElement:function(t){var i=e.garbageBin;i||(i=e.createElement("div")),t&&i.appendChild(t),i.innerHTML=""},erase:function(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}},extend:d,extendClass:p,isArray:a,isClass:n,isDOMElement:c,isNumber:s,isObject:o,isString:i,numberFormat:h,objectEach:b,offset:function(e){var t=f.documentElement;return{top:(e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0}).top+(_.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(_.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},pad:function(e,t,i){return Array((t||2)+1-String(e).replace("-","").length).join(i||"0")+e},pick:u,pInt:t,relativeLength:function(e,t,i){return/%$/.test(e)?t*parseFloat(e)/100+(i||0):parseFloat(e)},setAnimation:function(e,t){t.renderer.globalAnimation=u(e,t.options.chart.animation,!0)},splat:function(e){return a(e)?e:[e]},syncTimeout:function(e,t,i){return 0<t?setTimeout(e,t,i):(e.call(0,i),-1)},wrap:function(e,t,i){var a=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,o=this;return o.proceed=function(){a.apply(o,arguments.length?arguments:t)},e.unshift(a),e=i.apply(this,e),o.proceed=null,e}}}}),t(i,"parts/Color.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.isNumber,a=t.pInt,o=e.merge;e.Color=function(t){if(!(this instanceof e.Color))return new e.Color(t);this.init(t)},e.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[a(e[1]),a(e[2]),a(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[a(e[1]),a(e[2]),a(e[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var i,a;if((this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=t.stops.map(function(t){return new e.Color(t[1])});else{if(t&&t.charAt&&"#"===t.charAt()){var o=t.length;t=parseInt(t.substr(1),16),7===o?i=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===o&&(i=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])}if(!i)for(a=this.parsers.length;a--&&!i;){var c=this.parsers[a];(o=c.regex.exec(t))&&(i=c.parse(o))}}this.rgba=i||[]},get:function(e){var t=this.input,a=this.rgba;if(this.stops){var c=o(t);c.stops=[].concat(c.stops),this.stops.forEach(function(t,i){c.stops[i]=[c.stops[i][0],t.get(e)]})}else c=a&&i(a[0])?"rgb"===e||!e&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===e?a[3]:"rgba("+a.join(",")+")":t;return c},brighten:function(e){var t,o=this.rgba;if(this.stops)this.stops.forEach(function(t){t.brighten(e)});else if(i(e)&&0!==e)for(t=0;3>t;t++)o[t]+=a(255*e),0>o[t]&&(o[t]=0),255<o[t]&&(o[t]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this},tweenTo:function(e,t){var i=this.rgba,a=e.rgba;return a.length&&i&&i.length?((e=1!==a[3]||1!==i[3])?"rgba(":"rgb(")+Math.round(a[0]+(i[0]-a[0])*(1-t))+","+Math.round(a[1]+(i[1]-a[1])*(1-t))+","+Math.round(a[2]+(i[2]-a[2])*(1-t))+(e?","+(a[3]+(i[3]-a[3])*(1-t)):"")+")":e.input||"none"}},e.color=function(t){return new e.Color(t)}}),t(i,"parts/SvgRenderer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.animObject,a=t.attr,o=t.defined,c=t.destroyObjectProperties,n=t.erase,s=t.extend,r=t.isArray,l=t.isNumber,d=t.isObject,u=t.isString,p=t.objectEach,m=t.pick,h=t.pInt,b=t.splat,g=e.addEvent,f=e.animate,_=e.charts,v=e.color,y=e.css,w=e.createElement,k=e.deg2rad,x=e.doc,T=e.hasTouch,S=e.isFirefox,j=e.isMS,O=e.isWebKit,I=e.merge,D=e.noop,C=e.removeEvent,P=e.stop,$=e.svg,z=e.SVG_NS,M=e.symbolSizes,E=e.win,L=e.SVGElement=function(){return this};s(L.prototype,{opacity:1,SVG_NS:z,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,i){this.element="span"===i?w(i):x.createElementNS(this.SVG_NS,i),this.renderer=t,e.fireEvent(this,"afterInit")},animate:function(e,t,a){var o=i(m(t,this.renderer.globalAnimation,!0));return m(x.hidden,x.msHidden,x.webkitHidden,!1)&&(o.duration=0),0!==o.duration?(a&&(o.complete=a),f(this,e,o)):(this.attr(e,void 0,a),p(e,function(e,t){o.step&&o.step.call(this,e,{prop:t,pos:1})},this)),this},complexColor:function(t,i,a){var c,n,s,l,d,u,m,h,b,g,f,_,v=this.renderer,y=[];e.fireEvent(this.renderer,"complexColor",{args:arguments},function(){t.radialGradient?n="radialGradient":t.linearGradient&&(n="linearGradient"),n&&(d=v.gradients,m=t.stops,g=a.radialReference,r(s=t[n])&&(t[n]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===n&&g&&!o(s.gradientUnits)&&(s=I(s,v.getRadialAttr(g,l=s),{gradientUnits:"userSpaceOnUse"})),p(s,function(e,t){"id"!==t&&y.push(t,e)}),p(m,function(e){y.push(e)}),y=y.join(","),d[y]?f=d[y].attr("id"):(s.id=f=e.uniqueKey(),d[y]=u=v.createElement(n).attr(s).add(v.defs),u.radAttr=l,u.stops=[],m.forEach(function(t){0===t[1].indexOf("rgba")?(c=e.color(t[1]),h=c.get("rgb"),b=c.get("a")):(h=t[1],b=1),t=v.createElement("stop").attr({offset:t[0],"stop-color":h,"stop-opacity":b}).add(u),u.stops.push(t)})),a.setAttribute(i,_="url("+v.url+"#"+f+")"),a.gradient=y,t.toString=function(){return _})})},applyTextOutline:function(t){var i,o=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(o.style.fill)));var c=(t=t.split(" "))[t.length-1];if((i=t[0])&&"none"!==i&&e.svg){this.fakeTS=!0,t=[].slice.call(o.getElementsByTagName("tspan")),this.ySetter=this.xSetter,i=i.replace(/(^[\d\.]+)(.*?)$/g,function(e,t,i){return 2*t+i}),this.removeTextOutline(t);var n=o.firstChild;t.forEach(function(e,t){0===t&&(e.setAttribute("x",o.getAttribute("x")),t=o.getAttribute("y"),e.setAttribute("y",t||0),null===t&&o.setAttribute("y",0)),e=e.cloneNode(1),a(e,{class:"highcharts-text-outline",fill:c,stroke:c,"stroke-width":i,"stroke-linejoin":"round"}),o.insertBefore(e,n)})}},removeTextOutline:function(e){for(var t,i=e.length;i--;)"highcharts-text-outline"===(t=e[i]).getAttribute("class")&&n(e,this.element.removeChild(t))},symbolCustomAttribs:"x y width height r start end innerR anchorX anchorY rounded".split(" "),attr:function(t,i,a,o){var c,n,s,r=this.element,l=this,d=this.symbolCustomAttribs;if("string"==typeof t&&void 0!==i){var u=t;(t={})[u]=i}return"string"==typeof t?l=(this[t+"Getter"]||this._defaultGetter).call(this,t,r):(p(t,function(i,a){n=!1,o||P(this,a),this.symbolName&&-1!==e.inArray(a,d)&&(c||(this.symbolAttr(t),c=!0),n=!0),!this.rotation||"x"!==a&&"y"!==a||(this.doTransform=!0),n||((s=this[a+"Setter"]||this._defaultSetter).call(this,i,a,r),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(a)&&this.updateShadows(a,i,s))},this),this.afterSetters()),a&&a.call(this),l},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(e,t,i){for(var a=this.shadows,o=a.length;o--;)i.call(a[o],"height"===e?Math.max(t-(a[o].cutHeight||0),0):"d"===e?this.d:t,e,a[o])},addClass:function(e,t){var i=t?"":this.attr("class")||"";return(e=(e||"").split(/ /g).reduce(function(e,t){return-1===i.indexOf(t)&&e.push(t),e},i?[i]:[]).join(" "))!==i&&this.attr("class",e),this},hasClass:function(e){return-1!==(this.attr("class")||"").split(" ").indexOf(e)},removeClass:function(e){return this.attr("class",(this.attr("class")||"").replace(u(e)?new RegExp(" ?"+e+" ?"):e,""))},symbolAttr:function(e){var t=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(i){t[i]=m(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e,t){t=t||e.strokeWidth||0;var i=Math.round(t)%2/2;return e.x=Math.floor(e.x||this.x||0)+i,e.y=Math.floor(e.y||this.y||0)+i,e.width=Math.floor((e.width||this.width||0)-2*i),e.height=Math.floor((e.height||this.height||0)-2*i),o(e.strokeWidth)&&(e.strokeWidth=t),e},css:function(e){var t=this.styles,i={},o=this.element,c="",n=!t,r=["textOutline","textOverflow","width"];if(e&&e.color&&(e.fill=e.color),t&&p(e,function(e,a){e!==t[a]&&(i[a]=e,n=!0)}),n){if(t&&(e=s(t,i)),e)if(null===e.width||"auto"===e.width)delete this.textWidth;else if("text"===o.nodeName.toLowerCase()&&e.width)var l=this.textWidth=h(e.width);if(this.styles=e,l&&!$&&this.renderer.forExport&&delete e.width,o.namespaceURI===this.SVG_NS){var d=function(e,t){return"-"+t.toLowerCase()};p(e,function(e,t){-1===r.indexOf(t)&&(c+=t.replace(/([A-Z])/g,d)+":"+e+";")}),c&&a(o,"style",c)}else y(o,e);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),e&&e.textOutline&&this.applyTextOutline(e.textOutline))}return this},getStyle:function(e){return E.getComputedStyle(this.element||this,"").getPropertyValue(e)},strokeWidth:function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var e=this.getStyle("stroke-width"),t=0;if(e.indexOf("px")===e.length-2)t=h(e);else if(""!==e){var i=x.createElementNS(z,"rect");a(i,{width:e,"stroke-width":0}),this.element.parentNode.appendChild(i),t=i.getBBox().width,i.parentNode.removeChild(i)}return t},on:function(e,t){var i=this,a=i.element;return T&&"click"===e?(a.ontouchstart=function(e){i.touchEventFired=Date.now(),e.preventDefault(),t.call(a,e)},a.onclick=function(e){(-1===E.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&t.call(a,e)}):a["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(e){return this.inverted=e,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,a=this.scaleY,c=this.inverted,n=this.rotation,s=this.matrix,r=this.element;c&&(e+=this.width,t+=this.height),e=["translate("+e+","+t+")"],o(s)&&e.push("matrix("+s.join(",")+")"),c?e.push("rotate(90) scale(-1,1)"):n&&e.push("rotate("+n+" "+m(this.rotationOriginX,r.getAttribute("x"),0)+" "+m(this.rotationOriginY,r.getAttribute("y")||0)+")"),(o(i)||o(a))&&e.push("scale("+m(i,1)+" "+m(a,1)+")"),e.length&&r.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var a,o,c,s={},r=this.renderer,l=r.alignedObjects;e?(this.alignOptions=e,this.alignByTranslate=t,(!i||u(i))&&(this.alignTo=a=i||"renderer",n(l,this),l.push(this),i=null)):(e=this.alignOptions,t=this.alignByTranslate,a=this.alignTo),i=m(i,r[a],r),r=e.verticalAlign,l=(i.x||0)+(e.x||0);var d=(i.y||0)+(e.y||0);return"right"===(a=e.align)?o=1:"center"===a&&(o=2),o&&(l+=(i.width-(e.width||0))/o),s[t?"translateX":"x"]=Math.round(l),"bottom"===r?c=1:"middle"===r&&(c=2),c&&(d+=(i.height-(e.height||0))/c),s[t?"translateY":"y"]=Math.round(d),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},getBBox:function(e,t){var i,a,c=this.renderer,n=this.element,r=this.styles,l=this.textStr,d=c.cache,u=c.cacheKeys,p=n.namespaceURI===this.SVG_NS;t=m(t,this.rotation,0);var h=c.styledMode?n&&L.prototype.getStyle.call(n,"font-size"):r&&r.fontSize;if(o(l)){var b=l.toString();-1===b.indexOf("<")&&(b=b.replace(/[0-9]/g,"0")),b+=["",t,h,this.textWidth,r&&r.textOverflow].join()}if(b&&!e&&(i=d[b]),!i){if(p||c.forExport){try{(a=this.fakeTS&&function(e){[].forEach.call(n.querySelectorAll(".highcharts-text-outline"),function(t){t.style.display=e})})&&a("none"),i=n.getBBox?s({},n.getBBox()):{width:n.offsetWidth,height:n.offsetHeight},a&&a("")}catch(g){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(c.isSVG&&(e=i.width,c=i.height,p&&(i.height=c={"11px,17":14,"13px,20":16}[r&&r.fontSize+","+Math.round(c)]||c),t&&(r=t*k,i.width=Math.abs(c*Math.sin(r))+Math.abs(e*Math.cos(r)),i.height=Math.abs(c*Math.cos(r))+Math.abs(e*Math.sin(r)))),b&&0<i.height){for(;250<u.length;)delete d[u.shift()];d[b]||u.push(b),d[b]=i}}return i},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(e){return this.attr(e?{y:-9999}:{visibility:"hidden"}),this},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,i=this.element;if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&t.buildText(this),this.added=!0,!e||e.handleZ||this.zIndex)var a=this.zIndexSetter();return a||(e?e.element:t.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},i=e.renderer,a=i.isSVG&&"SPAN"===t.nodeName&&e.parentGroup,o=t.ownerSVGElement,c=e.clipPath;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,P(e),c&&o&&([].forEach.call(o.querySelectorAll("[clip-path],[CLIP-PATH]"),function(e){-1<e.getAttribute("clip-path").indexOf(c.element.id)&&e.removeAttribute("clip-path")}),e.clipPath=c.destroy()),e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}for(e.safeRemoveChild(t),i.styledMode||e.destroyShadows();a&&a.div&&0===a.div.childNodes.length;)t=a.parentGroup,e.safeRemoveChild(a.div),delete a.div,a=t;e.alignTo&&n(i.alignedObjects,e),p(e,function(t,i){e[i]&&e[i].parentGroup===e&&e[i].destroy&&e[i].destroy(),delete e[i]})},shadow:function(e,t,i){var o,c=[],n=this.element;if(e){if(!this.shadows){var s=m(e.width,3),r=(e.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+m(e.offsetX,1)+", "+m(e.offsetY,1)+")";for(o=1;o<=s;o++){var d=n.cloneNode(0),u=2*s+1-2*o;a(d,{stroke:e.color||"#000000","stroke-opacity":r*o,"stroke-width":u,transform:"translate"+l,fill:"none"}),d.setAttribute("class",(d.getAttribute("class")||"")+" highcharts-shadow"),i&&(a(d,"height",Math.max(a(d,"height")-u,0)),d.cutHeight=u),t?t.element.appendChild(d):n.parentNode&&n.parentNode.insertBefore(d,n),c.push(d)}this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){(this.shadows||[]).forEach(function(e){this.safeRemoveChild(e)},this),this.shadows=void 0},xGetter:function(e){return"circle"===this.element.nodeName&&("x"===e?e="cx":"y"===e&&(e="cy")),this._defaultGetter(e)},_defaultGetter:function(e){return e=m(this[e+"Value"],this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,i){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this[t]!==e&&(i.setAttribute(t,e),this[t]=e)},dashstyleSetter:function(e){var t,i=this["stroke-width"];if("inherit"===i&&(i=1),e=e&&e.toLowerCase()){for(t=(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;t--;)e[t]=h(e[t])*i;e=e.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){var t={left:"start",center:"middle",right:"end"};t[e]&&(this.alignValue=e,this.element.setAttribute("text-anchor",t[e]))},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=x.createElementNS(this.SVG_NS,"title"),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(x.createTextNode(String(m(e,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,delete this.textPxLength,this.textStr=e,this.added&&this.renderer.buildText(this))},setTextPath:function(t,i){var a=this.element,c={textAnchor:"text-anchor"},n=!1,s=this.textPathWrapper,r=!s,d=(i=I(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},i)).attributes;if(t&&i&&i.enabled){s&&null===s.element.parentNode?(r=!0,s=s.destroy()):s&&this.removeTextOutline.call(s.parentGroup,[].slice.call(a.getElementsByTagName("tspan"))),this.options&&this.options.padding&&(d.dx=-this.options.padding),s||(this.textPathWrapper=s=this.renderer.createElement("textPath"),n=!0);var u=s.element;if((i=t.element.getAttribute("id"))||t.element.setAttribute("id",i=e.uniqueKey()),r)for(t=a.getElementsByTagName("tspan");t.length;)t[0].setAttribute("y",0),l(d.dx)&&t[0].setAttribute("x",-d.dx),u.appendChild(t[0]);n&&s.add({element:this.text?this.text.element:a}),u.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+i),o(d.dy)&&(u.parentNode.setAttribute("dy",d.dy),delete d.dy),o(d.dx)&&(u.parentNode.setAttribute("dx",d.dx),delete d.dx),p(d,function(e,t){u.setAttribute(c[t]||t,e)}),a.removeAttribute("transform"),this.removeTextOutline.call(s,[].slice.call(a.getElementsByTagName("tspan"))),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=D}else s&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(a,t),this.updateTransform(),this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},destroyTextPath:function(e,t){var i=e.getElementsByTagName("text")[0];if(i){if(i.removeAttribute("dx"),i.removeAttribute("dy"),t.element.setAttribute("id",""),i.getElementsByTagName("textPath").length){for(e=this.textPathWrapper.element.childNodes;e.length;)i.appendChild(e[0]);i.removeChild(this.textPathWrapper.element)}}else(e.getAttribute("dx")||e.getAttribute("dy"))&&(e.removeAttribute("dx"),e.removeAttribute("dy"));this.textPathWrapper=this.textPathWrapper.destroy()},fillSetter:function(e,t,i){"string"==typeof e?i.setAttribute(t,e):e&&this.complexColor(e,t,i)},visibilitySetter:function(e,t,i){"inherit"===e?i.removeAttribute(t):this[t]!==e&&i.setAttribute(t,e),this[t]=e},zIndexSetter:function(e,t){var i=this.renderer,a=this.parentGroup,c=(a||i).element||i.box,n=this.element,s=!1;i=c===i.box;var r,l=this.added;if(o(e)?(n.setAttribute("data-z-index",e),this[t]===(e=+e)&&(l=!1)):o(this[t])&&n.removeAttribute("data-z-index"),this[t]=e,l){for((e=this.zIndex)&&a&&(a.handleZ=!0),r=(t=c.childNodes).length-1;0<=r&&!s;r--){l=(a=t[r]).getAttribute("data-z-index");var d=!o(l);a!==n&&(0>e&&d&&!i&&!r?(c.insertBefore(n,t[r]),s=!0):(h(l)<=e||d&&(!o(e)||0<=e))&&(c.insertBefore(n,t[r+1]||null),s=!0))}s||(c.insertBefore(n,t[i?3:0]||null),s=!0)}return s},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}}),L.prototype.yGetter=L.prototype.xGetter,L.prototype.translateXSetter=L.prototype.translateYSetter=L.prototype.rotationSetter=L.prototype.verticalAlignSetter=L.prototype.rotationOriginXSetter=L.prototype.rotationOriginYSetter=L.prototype.scaleXSetter=L.prototype.scaleYSetter=L.prototype.matrixSetter=function(e,t){this[t]=e,this.doTransform=!0},L.prototype["stroke-widthSetter"]=L.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this["stroke-width"]?(L.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke?(i.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},t=e.SVGRenderer=function(){this.init.apply(this,arguments)},s(t.prototype,{Element:L,SVG_NS:z,init:function(e,t,i,o,c,n,s){var r,l=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"});s||l.css(this.getStyle(o)),e.appendChild(o=l.element),a(e,"dir","ltr"),-1===e.innerHTML.indexOf("xmlns")&&a(o,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=o,this.boxWrapper=l,this.alignedObjects=[],this.url=(S||O)&&x.getElementsByTagName("base").length?E.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(x.createTextNode("Created with Highcharts 8.0.0")),this.defs=this.createElement("defs").add(),this.allowHTML=n,this.forExport=c,this.styledMode=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,i,!1),S&&e.getBoundingClientRect&&((t=function(){y(e,{left:0,top:0}),r=e.getBoundingClientRect(),y(e,{left:Math.ceil(r.left)-r.left+"px",top:Math.ceil(r.top)-r.top+"px"})})(),this.unSubPixelFix=g(E,"resize",t))},definition:function(e){var t=this;return function e(i,a){var o;return b(i).forEach(function(i){var c=t.createElement(i.tagName),n={};p(i,function(e,t){"tagName"!==t&&"children"!==t&&"textContent"!==t&&(n[t]=e)}),c.attr(n),c.add(a||t.defs),i.textContent&&c.element.appendChild(x.createTextNode(i.textContent)),e(i.children||[],c),o=c}),o}(e)},getStyle:function(e){return this.style=s({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},setStyle:function(e){this.boxWrapper.css(this.getStyle(e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),c(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:D,getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},truncate:function(e,t,i,a,o,c,n){var s,r,l=this,d=e.rotation,u=a?1:0,p=(i||a).length,m=p,h=[],b=function(e){t.firstChild&&t.removeChild(t.firstChild),e&&t.appendChild(x.createTextNode(e))},g=function(c,s){if(void 0===h[s=s||c])if(t.getSubStringLength)try{h[s]=o+t.getSubStringLength(0,a?s+1:s)}catch(r){}else l.getSpanWidth&&(b(n(i||a,c)),h[s]=o+l.getSpanWidth(e,t));return h[s]};e.rotation=0;var f=g(t.textContent.length);if(r=o+f>c){for(;u<=p;)m=Math.ceil((u+p)/2),a&&(s=n(a,m)),f=g(m,s&&s.length-1),u===p?u=p+1:f>c?p=m-1:u=m;0===p?b(""):i&&p===i.length-1||b(s||n(i||a,m))}return a&&a.splice(0,m),e.actualWidth=f,e.rotation=d,r},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(e){var t,i,o=e.element,c=this,n=c.forExport,s=m(e.textStr,"").toString(),r=-1!==s.indexOf("<"),l=o.childNodes,d=a(o,"x"),u=e.styles,b=e.textWidth,g=u&&u.lineHeight,f=u&&u.textOutline,_=u&&"ellipsis"===u.textOverflow,v=u&&"nowrap"===u.whiteSpace,w=u&&u.fontSize,k=l.length;u=b&&!e.added&&this.box;var T=function(e){var t;return c.styledMode||(t=/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:w||c.style.fontSize||12),g?h(g):c.fontMetrics(t,e.getAttribute("style")?e:o).h},S=function(e,t){return p(c.escapes,function(i,a){t&&-1!==t.indexOf(i)||(e=e.toString().replace(new RegExp(i,"g"),a))}),e},j=function(e,t){var i=e.indexOf("<");if(-1!==(i=(e=e.substring(i,e.indexOf(">")-i)).indexOf(t+"="))&&('"'===(t=e.charAt(i=i+t.length+1))||"'"===t))return(e=e.substring(i+1)).substring(0,e.indexOf(t))},O=/<br.*?>/g,I=[s,_,v,g,f,w,b].join();if(I!==e.textCache){for(e.textCache=I;k--;)o.removeChild(l[k]);r||f||_||b||-1!==s.indexOf(" ")&&(!v||O.test(s))?(u&&u.appendChild(o),(s=(s=r?(s=c.styledMode?s.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">')).replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(O):[s]).filter(function(e){return""!==e})).forEach(function(s,r){var l=0,u=0,p=(s=s.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||")).split("|||");p.forEach(function(s){if(""!==s||1===p.length){var m,h,g={},f=x.createElementNS(c.SVG_NS,"tspan");if((m=j(s,"class"))&&a(f,"class",m),(m=j(s,"style"))&&(m=m.replace(/(;| |^)color([ :])/,"$1fill$2"),a(f,"style",m)),(h=j(s,"href"))&&!n&&(a(f,"onclick",'location.href="'+h+'"'),a(f,"class","highcharts-anchor"),c.styledMode||y(f,{cursor:"pointer"}))," "!==(s=S(s.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(f.appendChild(x.createTextNode(s)),l?g.dx=0:r&&null!==d&&(g.x=d),a(f,g),o.appendChild(f),!l&&i&&(!$&&n&&y(f,{display:"block"}),a(f,"dy",T(f))),b){var k=s.replace(/([^\^])-/g,"$1- ").split(" ");g=!v&&(1<p.length||r||1<k.length),h=0;var O=T(f);if(_)t=c.truncate(e,f,s,void 0,0,Math.max(0,b-parseInt(w||12,10)),function(e,t){return e.substring(0,t)+"\u2026"});else if(g)for(;k.length;)k.length&&!v&&0<h&&(f=x.createElementNS(z,"tspan"),a(f,{dy:O,x:d}),m&&a(f,"style",m),f.appendChild(x.createTextNode(k.join(" ").replace(/- /g,"-"))),o.appendChild(f)),c.truncate(e,f,null,k,0===h?u:0,b,function(e,t){return k.slice(0,t).join(" ").replace(/- /g,"-")}),u=e.actualWidth,h++}l++}}}),i=i||o.childNodes.length}),_&&t&&e.attr("title",S(e.textStr,["&lt;","&gt;"])),u&&u.removeChild(o),f&&e.applyTextOutline&&e.applyTextOutline(f)):o.appendChild(x.createTextNode(S(s)))}},getContrast:function(e){return(e=v(e).rgba)[0]*=1,e[1]*=1.2,e[2]*=.5,459<e[0]+e[1]+e[2]?"#000000":"#FFFFFF"},button:function(e,t,i,a,o,c,n,r,l,d){var u=this.label(e,t,i,l,null,null,d,null,"button"),p=0,m=this.styledMode;if(u.attr(I({padding:8,r:2},o)),!m){var h=(o=I({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o)).style;delete o.style;var b=(c=I(o,{fill:"#e6e6e6"},c)).style;delete c.style;var f=(n=I(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},n)).style;delete n.style;var _=(r=I(o,{style:{color:"#cccccc"}},r)).style;delete r.style}return g(u.element,j?"mouseover":"mouseenter",function(){3!==p&&u.setState(1)}),g(u.element,j?"mouseout":"mouseleave",function(){3!==p&&u.setState(p)}),u.setState=function(e){1!==e&&(u.state=p=e),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][e||0]),m||u.attr([o,c,n,r][e||0]).css([h,b,f,_][e||0])},m||u.attr(o).css(s({cursor:"default"},h)),u.on("click",function(e){3!==p&&a.call(u,e)})},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=Math.round(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=Math.round(e[2])+t%2/2),e},path:function(e){var t=this.styledMode?{}:{fill:"none"};return r(e)?t.d=e:d(e)&&s(t,e),this.createElement("path").attr(t)},circle:function(e,t,i){return e=d(e)?e:void 0===e?{}:{x:e,y:t,r:i},(t=this.createElement("circle")).xSetter=t.ySetter=function(e,t,i){i.setAttribute("c"+t,e)},t.attr(e)},arc:function(e,t,i,a,o,c){return d(e)?(t=(a=e).y,i=a.r,e=a.x):a={innerR:a,start:o,end:c},(e=this.symbol("arc",e,t,i,i,a)).r=i,e},rect:function(e,t,i,o,c,n){c=d(e)?e.r:c;var s=this.createElement("rect");return e=d(e)?e:void 0===e?{}:{x:e,y:t,width:Math.max(i,0),height:Math.max(o,0)},this.styledMode||(void 0!==n&&(e.strokeWidth=n,e=s.crisp(e)),e.fill="none"),c&&(e.r=c),s.rSetter=function(e,t,i){s.r=e,a(i,{rx:e,ry:e})},s.rGetter=function(){return s.r},s.attr(e)},setSize:function(e,t,i){var a=this.alignedObjects,o=a.length;for(this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:m(i,!0)?void 0:0});o--;)a[o].align()},g:function(e){var t=this.createElement("g");return e?t.attr({class:"highcharts-"+e}):t},image:function(e,t,i,a,o,c){var n={preserveAspectRatio:"none"},r=function(e,t){e.setAttributeNS?e.setAttributeNS("http://www.w3.org/1999/xlink","href",t):e.setAttribute("hc-svg-href",t)},l=function(t){r(d.element,e),c.call(d,t)};1<arguments.length&&s(n,{x:t,y:i,width:a,height:o});var d=this.createElement("image").attr(n);return c?(r(d.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n=new E.Image,g(n,"load",l),n.src=e,n.complete&&l({})):r(d.element,e),d},symbol:function(e,t,i,a,c,n){var r=this,l=/^url\((.*?)\)$/,d=l.test(e),u=!d&&(this.symbols[e]?e:"circle"),p=u&&this.symbols[u],h=o(t)&&p&&p.call(this.symbols,Math.round(t),Math.round(i),a,c,n);if(p){var b=this.path(h);r.styledMode||b.attr("fill","none"),s(b,{symbolName:u,x:t,y:i,width:a,height:c}),n&&s(b,n)}else if(d){var g=e.match(l)[1];(b=this.image(g)).imgwidth=m(M[g]&&M[g].width,n&&n.width),b.imgheight=m(M[g]&&M[g].height,n&&n.height);var f=function(){b.attr({width:b.width,height:b.height})};["width","height"].forEach(function(e){b[e+"Setter"]=function(e,t){var i={},a=this["img"+t],c="width"===t?"translateX":"translateY";this[t]=e,o(a)&&(n&&"within"===n.backgroundSize&&this.width&&this.height&&(a=Math.round(a*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(t,a),this.alignByTranslate||(i[c]=((this[t]||0)-a)/2,this.attr(i)))}}),o(t)&&b.attr({x:t,y:i}),b.isImg=!0,o(b.imgwidth)&&o(b.imgheight)?f():(b.attr({width:0,height:0}),w("img",{onload:function(){var e=_[r.chartIndex];0===this.width&&(y(this,{position:"absolute",top:"-999em"}),x.body.appendChild(this)),M[g]={width:this.width,height:this.height},b.imgwidth=this.width,b.imgheight=this.height,b.element&&f(),this.parentNode&&this.parentNode.removeChild(this),r.imgCount--,!r.imgCount&&e&&e.onload&&e.onload()},src:g}),this.imgCount++)}return b},symbols:{circle:function(e,t,i,a){return this.arc(e+i/2,t+a/2,i/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(e,t,i,a){return["M",e,t,"L",e+i,t,e+i,t+a,e,t+a,"Z"]},triangle:function(e,t,i,a){return["M",e+i/2,t,"L",e+i,t+a,e,t+a,"Z"]},"triangle-down":function(e,t,i,a){return["M",e,t,"L",e+i,t,e+i/2,t+a,"Z"]},diamond:function(e,t,i,a){return["M",e+i/2,t,"L",e+i,t+a/2,e+i/2,t+a,e,t+a/2,"Z"]},arc:function(e,t,i,a,c){var n=c.start,s=c.r||i,r=c.r||a||i,l=c.end-.001;i=c.innerR,a=m(c.open,.001>Math.abs(c.end-c.start-2*Math.PI));var d=Math.cos(n),u=Math.sin(n),p=Math.cos(l);return l=Math.sin(l),s=["M",e+s*d,t+r*u,"A",s,r,0,n=m(c.longArc,.001>c.end-n-Math.PI?0:1),m(c.clockwise,1),e+s*p,t+r*l],o(i)&&s.push(a?"M":"L",e+i*p,t+i*l,"A",i,i,0,n,o(c.clockwise)?1-c.clockwise:0,e+i*d,t+i*u),s.push(a?"":"Z"),s},callout:function(e,t,i,a,o){var c=Math.min(o&&o.r||0,i,a),n=c+6,s=o&&o.anchorX;o=o&&o.anchorY;var r=["M",e+c,t,"L",e+i-c,t,"C",e+i,t,e+i,t,e+i,t+c,"L",e+i,t+a-c,"C",e+i,t+a,e+i,t+a,e+i-c,t+a,"L",e+c,t+a,"C",e,t+a,e,t+a,e,t+a-c,"L",e,t+c,"C",e,t,e,t,e+c,t];return s&&s>i?o>t+n&&o<t+a-n?r.splice(13,3,"L",e+i,o-6,e+i+6,o,e+i,o+6,e+i,t+a-c):r.splice(13,3,"L",e+i,a/2,s,o,e+i,a/2,e+i,t+a-c):s&&0>s?o>t+n&&o<t+a-n?r.splice(33,3,"L",e,o+6,e-6,o,e,o-6,e,t+c):r.splice(33,3,"L",e,a/2,s,o,e,a/2,e,t+c):o&&o>a&&s>e+n&&s<e+i-n?r.splice(23,3,"L",s+6,t+a,s,t+a+6,s-6,t+a,e+c,t+a):o&&0>o&&s>e+n&&s<e+i-n&&r.splice(3,3,"L",s-6,t,s,t-6,s+6,t,i-c,t),r}},clipRect:function(t,i,a,o){var c=e.uniqueKey()+"-",n=this.createElement("clipPath").attr({id:c}).add(this.defs);return(t=this.rect(t,i,a,o,0).add(n)).id=c,t.clipPath=n,t.count=0,t},text:function(e,t,i,a){var c={};return!a||!this.allowHTML&&this.forExport?(c.x=Math.round(t||0),i&&(c.y=Math.round(i)),o(e)&&(c.text=e),e=this.createElement("text").attr(c),a||(e.xSetter=function(e,t,i){var a,o=i.getElementsByTagName("tspan"),c=i.getAttribute(t);for(a=0;a<o.length;a++){var n=o[a];n.getAttribute(t)===c&&n.setAttribute(t,e)}i.setAttribute(t,e)}),e):this.html(e,t,i)},fontMetrics:function(e,t){return e=!this.styledMode&&/px/.test(e)||!E.getComputedStyle?e||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize:t&&L.prototype.getStyle.call(t,"font-size"),{h:t=24>(e=/px/.test(e)?h(e):12)?e+3:Math.round(1.2*e),b:Math.round(.8*t),f:e}},rotCorr:function(e,t,i){var a=e;return t&&i&&(a=Math.max(a*Math.cos(t*k),4)),{x:-e/3*Math.sin(t*k),y:a}},label:function(e,t,i,a,c,n,r,d,u){var p,m,h,b,g,f,_,v,y,w=this,k=w.styledMode,x=w.g("button"!==u&&"label"),T=x.text=w.text("",0,0,r).attr({zIndex:1}),S=0,j=3,O=0,D={},P=/^url\((.*?)\)$/.test(a),$=k||P,z=function(){return k?p.strokeWidth()%2/2:(v?parseInt(v,10):0)%2/2};u&&x.addClass("highcharts-"+u);var M=function(){var e=T.element.style,t={};m=(void 0===h||void 0===b||_)&&o(T.textStr)&&T.getBBox(),x.width=(h||m.width||0)+2*j+O,x.height=(b||m.height||0)+2*j,y=j+Math.min(w.fontMetrics(e&&e.fontSize,T).b,m?m.height:1/0),$&&(p||(x.box=p=w.symbols[a]||P?w.symbol(a):w.rect(),p.addClass(("button"===u?"":"highcharts-label-box")+(u?" highcharts-"+u+"-box":"")),p.add(x),e=z(),t.x=e,t.y=(d?-y:0)+e),t.width=Math.round(x.width),t.height=Math.round(x.height),p.attr(s(t,D)),D={})},E=function(){var e=O+j,t=d?0:y;o(h)&&m&&("center"===_||"right"===_)&&(e+={center:.5,right:1}[_]*(h-m.width)),e===T.x&&t===T.y||(T.attr("x",e),T.hasBoxWidthChanged&&(m=T.getBBox(!0),M()),void 0!==t&&T.attr("y",t)),T.x=e,T.y=t},A=function(e,t){p?p.attr(e,t):D[e]=t};x.onAdd=function(){T.add(x),x.attr({text:e||0===e?e:"",x:t,y:i}),p&&o(c)&&x.attr({anchorX:c,anchorY:n})},x.widthSetter=function(e){h=l(e)?e:null},x.heightSetter=function(e){b=e},x["text-alignSetter"]=function(e){_=e},x.paddingSetter=function(e){o(e)&&e!==j&&(j=x.padding=e,E())},x.paddingLeftSetter=function(e){o(e)&&e!==O&&(O=e,E())},x.alignSetter=function(e){(e={left:0,center:.5,right:1}[e])!==S&&(S=e,m&&x.attr({x:g}))},x.textSetter=function(e){void 0!==e&&T.attr({text:e}),M(),E()},x["stroke-widthSetter"]=function(e,t){e&&($=!0),v=this["stroke-width"]=e,A(t,e)},k?x.rSetter=function(e,t){A(t,e)}:x.strokeSetter=x.fillSetter=x.rSetter=function(e,t){"r"!==t&&("fill"===t&&e&&($=!0),x[t]=e),A(t,e)},x.anchorXSetter=function(e,t){c=x.anchorX=e,A(t,Math.round(e)-z()-g)},x.anchorYSetter=function(e,t){n=x.anchorY=e,A(t,e-f)},x.xSetter=function(e){x.x=e,S&&(e-=S*((h||m.width)+2*j),x["forceAnimate:x"]=!0),g=Math.round(e),x.attr("translateX",g)},x.ySetter=function(e){f=x.y=Math.round(e),x.attr("translateY",f)};var F=x.css;return r={css:function(e){if(e){var t={};e=I(e),x.textProps.forEach(function(i){void 0!==e[i]&&(t[i]=e[i],delete e[i])}),T.css(t),"width"in t&&M(),"fontSize"in t&&(M(),E())}return F.call(x,e)},getBBox:function(){return{width:m.width+2*j,height:m.height+2*j,x:m.x-j,y:m.y-j}},destroy:function(){C(x.element,"mouseenter"),C(x.element,"mouseleave"),T&&(T=T.destroy()),p&&(p=p.destroy()),L.prototype.destroy.call(x),x=w=M=E=A=null}},k||(r.shadow=function(e){return e&&(M(),p&&p.shadow(e)),x}),s(x,r)}}),e.Renderer=t}),t(i,"parts/Html.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.attr,a=t.defined,o=t.extend,c=t.pick,n=t.pInt,s=e.createElement,r=e.css,l=e.isFirefox,d=e.isMS,u=e.isWebKit,p=e.SVGElement;t=e.SVGRenderer;var m=e.win;o(p.prototype,{htmlCss:function(e){var t="SPAN"===this.element.tagName&&e&&"width"in e,i=c(t&&e.width,void 0);if(t){delete e.width,this.textWidth=i;var a=!0}return e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=o(this.styles,e),r(this.element,e),a&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var e=this.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,o=this.translateY||0,c=this.x||0,s=this.y||0,l=this.textAlign||"left",d={left:0,center:.5,right:1}[l],u=this.styles,p=u&&u.whiteSpace;if(r(t,{marginLeft:i,marginTop:o}),!e.styledMode&&this.shadows&&this.shadows.forEach(function(e){r(e,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&[].forEach.call(t.childNodes,function(i){e.invertChild(i,t)}),"SPAN"===t.tagName){u=this.rotation;var m,h=this.textWidth&&n(this.textWidth),b=[u,l,t.innerHTML,this.textWidth,this.textAlign].join();(m=h!==this.oldTextWidth)&&!(m=h>this.oldTextWidth)&&((m=this.textPxLength)||(r(t,{width:"",whiteSpace:p||"nowrap"}),m=t.offsetWidth),m=m>h),m&&(/[ \-]/.test(t.textContent||t.innerText)||"ellipsis"===t.style.textOverflow)?(r(t,{width:h+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=h,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,b!==this.cTT&&(p=e.fontMetrics(t.style.fontSize,t).b,!a(u)||u===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(u,d,p),this.getSpanCorrection(!a(u)&&this.textPxLength||t.offsetWidth,p,d,u,l)),r(t,{left:c+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=b,this.oldRotation=u,this.oldAlign=l}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,i){var a={},o=this.renderer.getTransformKey();a[o]=a.transform="rotate("+e+"deg)",a[o+(l?"Origin":"-origin")]=a.transformOrigin=100*t+"% "+i+"px",r(this.element,a)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),o(t.prototype,{getTransformKey:function(){return d&&!/Edge/.test(m.navigator.userAgent)?"-ms-transform":u?"-webkit-transform":l?"MozTransform":m.opera?"-o-transform":""},html:function(e,t,a){var n=this.createElement("span"),r=n.element,l=n.renderer,d=l.isSVG,u=function(e,t){["opacity","visibility"].forEach(function(i){e[i+"Setter"]=function(a,o,c){var n=e.div?e.div.style:t;p.prototype[i+"Setter"].call(this,a,o,c),n&&(n[o]=a)}}),e.addedSetters=!0};return n.textSetter=function(e){e!==r.innerHTML&&(delete this.bBox,delete this.oldTextWidth),this.textStr=e,r.innerHTML=c(e,""),n.doTransform=!0},d&&u(n,n.element.style),n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),n[t]=e,n.doTransform=!0},n.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},n.attr({text:e,x:Math.round(t),y:Math.round(a)}).css({position:"absolute"}),l.styledMode||n.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",n.css=n.htmlCss,d&&(n.add=function(e){var t=l.box.parentNode,a=[];if(this.parentGroup=e){var c=e.div;if(!c){for(;e;)a.push(e),e=e.parentGroup;a.reverse().forEach(function(e){function r(t,i){e[i]=t,"translateX"===i?d.left=t+"px":d.top=t+"px",e.doTransform=!0}var l=i(e.element,"class"),d=(c=e.div=e.div||s("div",l?{className:l}:void 0,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},c||t)).style;o(e,{classSetter:function(e){return function(t){this.element.setAttribute("class",t),e.className=t}}(c),on:function(){return a[0].div&&n.on.apply({element:a[0].div},arguments),e},translateXSetter:r,translateYSetter:r}),e.addedSetters||u(e)})}}else c=t;return c.appendChild(r),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}})}),t(i,"parts/Time.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.defined,a=t.extend,o=t.isObject,c=t.objectEach,n=t.pad,s=t.pick,r=t.splat,l=e.merge,d=e.timeUnits,u=e.win;e.Time=function(e){this.update(e,!1)},e.Time.prototype={defaultOptions:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},update:function(e){var t=s(e&&e.useUTC,!0),i=this;this.options=e=l(!0,this.options||{},e),this.Date=e.Date||u.Date||Date,this.timezoneOffset=(this.useUTC=t)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(t&&!e.getTimezoneOffset&&!e.timezone))||this.timezoneOffset?(this.get=function(e,t){var a=t.getTime(),o=a-i.getTimezoneOffset(t);return t.setTime(o),e=t["getUTC"+e](),t.setTime(a),e},this.set=function(e,t,a){if("Milliseconds"===e||"Seconds"===e||"Minutes"===e&&0==t.getTimezoneOffset()%60)t["set"+e](a);else{var o=i.getTimezoneOffset(t);o=t.getTime()-o,t.setTime(o),t["setUTC"+e](a),e=i.getTimezoneOffset(t),o=t.getTime()+e,t.setTime(o)}}):t?(this.get=function(e,t){return t["getUTC"+e]()},this.set=function(e,t,i){return t["setUTC"+e](i)}):(this.get=function(e,t){return t["get"+e]()},this.set=function(e,t,i){return t["set"+e](i)})},makeTime:function(t,i,a,o,c,n){if(this.useUTC){var r=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(r),d=this.getTimezoneOffset(r+=l);l!==d?r+=d-l:l-36e5!==this.getTimezoneOffset(r-36e5)||e.isSafari||(r-=36e5)}else r=new this.Date(t,i,s(a,1),s(o,0),s(c,0),s(n,0)).getTime();return r},timezoneOffsetFunction:function(){var t=this,i=this.options,a=u.moment;if(!this.useUTC)return function(e){return 6e4*new Date(e).getTimezoneOffset()};if(i.timezone){if(a)return function(e){return 6e4*-a.tz(e,i.timezone).utcOffset()};e.error(25)}return this.useUTC&&i.getTimezoneOffset?function(e){return 6e4*i.getTimezoneOffset(e)}:function(){return 6e4*(t.timezoneOffset||0)}},dateFormat:function(t,o,r){if(!i(o)||isNaN(o))return e.defaultOptions.lang.invalidDate||"";t=s(t,"%Y-%m-%d %H:%M:%S");var l=this,d=new this.Date(o),u=this.get("Hours",d),p=this.get("Day",d),m=this.get("Date",d),h=this.get("Month",d),b=this.get("FullYear",d),g=e.defaultOptions.lang,f=g.weekdays,_=g.shortWeekdays;return d=a({a:_?_[p]:f[p].substr(0,3),A:f[p],d:n(m),e:n(m,2," "),w:p,b:g.shortMonths[h],B:g.months[h],m:n(h+1),o:h+1,y:b.toString().substr(2,2),Y:b,H:n(u),k:u,I:n(u%12||12),l:u%12||12,M:n(l.get("Minutes",d)),p:12>u?"AM":"PM",P:12>u?"am":"pm",S:n(d.getSeconds()),L:n(Math.floor(o%1e3),3)},e.dateFormats),c(d,function(e,i){for(;-1!==t.indexOf("%"+i);)t=t.replace("%"+i,"function"==typeof e?e.call(l,o):e)}),r?t.substr(0,1).toUpperCase()+t.substr(1):t},resolveDTLFormat:function(e){return o(e,!0)?e:{main:(e=r(e))[0],from:e[1],to:e[2]}},getTimeTicks:function(e,t,o,c){var n,r=this,l=[],u={},p=new r.Date(t),m=e.unitRange,h=e.count||1;if(c=s(c,1),i(t)){if(r.set("Milliseconds",p,m>=d.second?0:h*Math.floor(r.get("Milliseconds",p)/h)),m>=d.second&&r.set("Seconds",p,m>=d.minute?0:h*Math.floor(r.get("Seconds",p)/h)),m>=d.minute&&r.set("Minutes",p,m>=d.hour?0:h*Math.floor(r.get("Minutes",p)/h)),m>=d.hour&&r.set("Hours",p,m>=d.day?0:h*Math.floor(r.get("Hours",p)/h)),m>=d.day&&r.set("Date",p,m>=d.month?1:Math.max(1,h*Math.floor(r.get("Date",p)/h))),m>=d.month){r.set("Month",p,m>=d.year?0:h*Math.floor(r.get("Month",p)/h));var b=r.get("FullYear",p)}m>=d.year&&r.set("FullYear",p,b-b%h),m===d.week&&(b=r.get("Day",p),r.set("Date",p,r.get("Date",p)-b+c+(b<c?-7:0))),b=r.get("FullYear",p),c=r.get("Month",p);var g=r.get("Date",p),f=r.get("Hours",p);for(t=p.getTime(),r.variableTimezone&&(n=o-t>4*d.month||r.getTimezoneOffset(t)!==r.getTimezoneOffset(o)),t=p.getTime(),p=1;t<o;)l.push(t),t=m===d.year?r.makeTime(b+p*h,0):m===d.month?r.makeTime(b,c+p*h):!n||m!==d.day&&m!==d.week?n&&m===d.hour&&1<h?r.makeTime(b,c,g,f+p*h):t+m*h:r.makeTime(b,c,g+p*h*(m===d.day?1:7)),p++;l.push(t),m<=d.hour&&1e4>l.length&&l.forEach(function(e){0==e%18e5&&"000000000"===r.dateFormat("%H%M%S%L",e)&&(u[e]="day")})}return l.info=a(e,{higherRanks:u,totalRange:m*h}),l}}}),t(i,"parts/Options.js",[i["parts/Globals.js"]],function(e){var t=e.color,i=e.merge;e.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:e.Time.prototype.defaultOptions,chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:e.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:e.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:t("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},e.setOptions=function(t){return e.defaultOptions=i(!0,e.defaultOptions,t),(t.time||t.global)&&e.time.update(i(e.defaultOptions.global,e.defaultOptions.time,t.global,t.time)),e.defaultOptions},e.getOptions=function(){return e.defaultOptions},e.defaultPlotOptions=e.defaultOptions.plotOptions,e.time=new e.Time(i(e.defaultOptions.global,e.defaultOptions.time)),e.dateFormat=function(t,i,a){return e.time.dateFormat(t,i,a)}}),t(i,"parts/Tick.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.clamp,a=t.correctFloat,o=t.defined,c=t.destroyObjectProperties,n=t.extend,s=t.isNumber,r=t.objectEach,l=t.pick,d=e.fireEvent,u=e.merge,p=e.deg2rad;e.Tick=function(e,t,i,a,o){this.axis=e,this.pos=t,this.type=i||"",this.isNewLabel=this.isNew=!0,this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,i||a||this.addLabel()},e.Tick.prototype={addLabel:function(){var e=this,t=e.axis,i=t.options,c=t.chart,s=t.categories,r=t.names,d=e.pos,u=l(e.options&&e.options.labels,i.labels),p=t.tickPositions,m=d===p[0],h=d===p[p.length-1];r=this.parameters.category||(s?l(s[d],r[d],d):d);var b,g,f=e.label;if(s=(!u.step||1===u.step)&&1===t.tickInterval,p=p.info,t.isDatetimeAxis&&p)var _=c.time.resolveDTLFormat(i.dateTimeLabelFormats[!i.grid&&p.higherRanks[d]||p.unitName]),v=_.main;e.isFirst=m,e.isLast=h,e.formatCtx={axis:t,chart:c,isFirst:m,isLast:h,dateTimeLabelFormat:v,tickPositionInfo:p,value:t.isLog?a(t.lin2log(r)):r,pos:d},i=t.labelFormatter.call(e.formatCtx,this.formatCtx),(g=_&&_.list)&&(e.shortenLabel=function(){for(b=0;b<g.length;b++)if(f.attr({text:t.labelFormatter.call(n(e.formatCtx,{dateTimeLabelFormat:g[b]}))}),f.getBBox().width<t.getSlotWidth(e)-2*l(u.padding,5))return;f.attr({text:""})}),s&&t._addedPlotLB&&t.isXAxis&&e.moveLabel(i,u),o(f)||e.movedLabel?f&&f.textStr!==i&&!s&&(!f.textWidth||u.style&&u.style.width||f.styles.width||f.css({width:null}),f.attr({text:i}),f.textPxLength=f.getBBox().width):(e.label=f=e.createLabel({x:0,y:0},i,u),e.rotation=0)},moveLabel:function(e,t){var i=this,a=i.label,o=!1,c=i.axis,n=c.reversed,s=c.chart.inverted;if(a&&a.textStr===e?(i.movedLabel=a,o=!0,delete i.label):r(c.ticks,function(t){o||t.isNew||t===i||!t.label||t.label.textStr!==e||(i.movedLabel=t.label,o=!0,t.labelPos=i.movedLabel.xy,delete t.label)}),!o&&(i.labelPos||a)){var l=i.labelPos||a.xy;i.movedLabel=i.createLabel({x:a=s?l.x:n?0:c.width+c.left,y:c=s?n?c.width+c.left:0:l.y},e,t),i.movedLabel&&i.movedLabel.attr({opacity:0})}},createLabel:function(e,t,i){var a=this.axis,c=a.chart;return(e=o(t)&&i.enabled?c.renderer.text(t,e.x,e.y,i.useHTML).add(a.labelGroup):null)&&(c.styledMode||e.css(u(i.style)),e.textPxLength=e.getBBox().width),e},replaceMovedLabel:function(){var e=this.label,t=this.axis,i=t.reversed,a=this.axis.chart.inverted;e&&!this.isNew&&(e.animate({x:a?e.xy.x:i?t.left:t.width+t.left,y:i=a?i?t.width+t.top:t.top:e.xy.y,opacity:0},void 0,e.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t=this.axis,i=t.options.labels,a=e.x,o=t.chart.chartWidth,c=t.chart.spacing,n=l(t.labelLeft,Math.min(t.pos,c[3]));c=l(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,o-c[1]));var s,r=this.label,d=this.rotation,u={left:0,center:.5,right:1}[t.labelAlign||r.attr("align")],m=r.getBBox().width,h=t.getSlotWidth(this),b=h,g=1,f={};d||"justify"!==l(i.overflow,"justify")?0>d&&a-u*m<n?s=Math.round(a/Math.cos(d*p)-n):0<d&&a+u*m>c&&(s=Math.round((o-a)/Math.cos(d*p))):(o=a+(1-u)*m,a-u*m<n?b=e.x+b*(1-u)-n:o>c&&(b=c-e.x+b*u,g=-1),(b=Math.min(h,b))<h&&"center"===t.labelAlign&&(e.x+=g*(h-b-u*(h-Math.min(m,b)))),(m>b||t.autoRotation&&(r.styles||{}).width)&&(s=b)),s&&(this.shortenLabel?this.shortenLabel():(f.width=Math.floor(s),(i.style||{}).textOverflow||(f.textOverflow="ellipsis"),r.css(f)))},getPosition:function(e,t,o,c){var n=this.axis,s=n.chart,r=c&&s.oldChartHeight||s.chartHeight;return(e={x:e?a(n.translate(t+o,null,null,c)+n.transB):n.left+n.offset+(n.opposite?(c&&s.oldChartWidth||s.chartWidth)-n.right-n.left:0),y:e?r-n.bottom+n.offset-(n.opposite?n.height:0):a(r-n.translate(t+o,null,null,c)-n.transB)}).y=i(e.y,-1e5,1e5),d(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(e,t,i,a,c,n,s,r){var l=this.axis,u=l.transA,m=l.isLinked&&l.linkedParent?l.linkedParent.reversed:l.reversed,h=l.staggerLines,b=l.tickRotCorr||{x:0,y:0},g=c.y,f=a||l.reserveSpaceDefault?0:-l.labelOffset*("center"===l.labelAlign?.5:1),_={};return o(g)||(g=0===l.side?i.rotation?-8:-i.getBBox().height:2===l.side?b.y+8:Math.cos(i.rotation*p)*(b.y-i.getBBox(!1,0).height/2)),t=t+g-(n&&!a?n*u*(m?1:-1):0),h&&(i=s/(r||1)%h,l.opposite&&(i=h-i-1),t+=l.labelOffset/h*i),_.x=e=e+c.x+f+b.x-(n&&a?n*u*(m?-1:1):0),_.y=Math.round(t),d(this,"afterGetLabelPosition",{pos:_,tickmarkOffset:n,index:s}),_},getMarkPath:function(e,t,i,a,o,c){return c.crispLine(["M",e,t,"L",e+(o?0:-i),t+(o?i:0)],a)},renderGridLine:function(e,t,i){var a=this.axis,o=a.options,c=this.gridLine,n={},s=this.pos,r=this.type,d=l(this.tickmarkOffset,a.tickmarkOffset),u=a.chart.renderer,p=r?r+"Grid":"grid",m=o[p+"LineWidth"],h=o[p+"LineColor"];o=o[p+"LineDashStyle"],c||(a.chart.styledMode||(n.stroke=h,n["stroke-width"]=m,o&&(n.dashstyle=o)),r||(n.zIndex=1),e&&(t=0),this.gridLine=c=u.path().attr(n).addClass("highcharts-"+(r?r+"-":"")+"grid-line").add(a.gridGroup)),c&&(i=a.getPlotLinePath({value:s+d,lineWidth:c.strokeWidth()*i,force:"pass",old:e}))&&c[e||this.isNew?"attr":"animate"]({d:i,opacity:t})},renderMark:function(e,t,i){var a=this.axis,o=a.options,c=a.chart.renderer,n=this.type,s=n?n+"Tick":"tick",r=a.tickSize(s),d=this.mark,u=!d,p=e.x;e=e.y;var m=l(o[s+"Width"],!n&&a.isXAxis?1:0);o=o[s+"Color"],r&&(a.opposite&&(r[0]=-r[0]),u&&(this.mark=d=c.path().addClass("highcharts-"+(n?n+"-":"")+"tick").add(a.axisGroup),a.chart.styledMode||d.attr({stroke:o,"stroke-width":m})),d[u?"attr":"animate"]({d:this.getMarkPath(p,e,r[0],d.strokeWidth()*i,a.horiz,c),opacity:t}))},renderLabel:function(e,t,i,a){var o=this.axis,c=o.horiz,n=o.options,r=this.label,d=n.labels,u=d.step;o=l(this.tickmarkOffset,o.tickmarkOffset);var p=!0,m=e.x;e=e.y,r&&s(m)&&(r.xy=e=this.getLabelPosition(m,e,r,c,d,o,a,u),this.isFirst&&!this.isLast&&!l(n.showFirstLabel,1)||this.isLast&&!this.isFirst&&!l(n.showLastLabel,1)?p=!1:!c||d.step||d.rotation||t||0===i||this.handleOverflow(e),u&&a%u&&(p=!1),p&&s(e.y)?(e.opacity=i,r[this.isNewLabel?"attr":"animate"](e),this.isNewLabel=!1):(r.attr("y",-9999),this.isNewLabel=!0))},render:function(t,i,a){var o=this.axis,c=o.horiz,n=this.pos,s=l(this.tickmarkOffset,o.tickmarkOffset);s=(n=this.getPosition(c,n,s,i)).x,o=c&&s===o.pos+o.len||!c&&n.y===o.pos?-1:1,a=l(a,1),this.isActive=!0,this.renderGridLine(i,a,o),this.renderMark(n,a,o),this.renderLabel(n,i,a,t),this.isNew=!1,e.fireEvent(this,"afterRender")},destroy:function(){c(this,this.axis)}}}),t(i,"parts/Axis.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.animObject,a=t.arrayMax,o=t.arrayMin,c=t.clamp,n=t.correctFloat,s=t.defined,r=t.destroyObjectProperties,l=t.extend,d=t.isArray,u=t.isNumber,p=t.isString,m=t.objectEach,h=t.pick,b=t.relativeLength,g=t.splat,f=t.syncTimeout,_=e.addEvent,v=e.color,y=e.defaultOptions,w=e.deg2rad,k=e.fireEvent,x=e.format,T=e.getMagnitude,S=e.merge,j=e.normalizeTickInterval,O=e.removeEvent,I=e.seriesTypes,D=e.Tick;return l((t=function(){this.init.apply(this,arguments)}).prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},init:function(t,i){var a=i.isX,o=this;o.chart=t,o.horiz=t.inverted&&!o.isZAxis?!a:a,o.isXAxis=a,o.coll=o.coll||(a?"xAxis":"yAxis"),k(this,"init",{userOptions:i}),o.opposite=i.opposite,o.side=i.side||(o.horiz?o.opposite?0:2:o.opposite?1:3),o.setOptions(i);var c=this.options,n=c.type;o.labelFormatter=c.labels.formatter||o.defaultLabelFormatter,o.userOptions=i,o.minPixelPadding=0,o.reversed=c.reversed,o.visible=!1!==c.visible,o.zoomEnabled=!1!==c.zoomEnabled,o.hasNames="category"===n||!0===c.categories,o.categories=c.categories||o.hasNames,o.names||(o.names=[],o.names.keys={}),o.plotLinesAndBandsGroups={},o.isLog="logarithmic"===n,o.isDatetimeAxis="datetime"===n,o.positiveValuesOnly=o.isLog&&!o.allowNegativeLog,o.isLinked=s(c.linkedTo),o.ticks={},o.labelEdge=[],o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.minRange=o.userMinRange=c.minRange||c.maxZoom,o.range=c.range,o.offset=c.offset||0,o.stacks={},o.oldStacks={},o.stacksTouched=0,o.max=null,o.min=null,o.crosshair=h(c.crosshair,g(t.options.tooltip.crosshairs)[a?0:1],!1),i=o.options.events,-1===t.axes.indexOf(o)&&(a?t.axes.splice(t.xAxis.length,0,o):t.axes.push(o),t[o.coll].push(o)),o.series=o.series||[],t.inverted&&!o.isZAxis&&a&&void 0===o.reversed&&(o.reversed=!0),m(i,function(t,i){e.isFunction(t)&&_(o,i,t)}),o.lin2log=c.linearToLogConverter||o.lin2log,o.isLog&&(o.val2lin=o.log2lin,o.lin2val=o.lin2log),k(this,"afterInit")},setOptions:function(e){this.options=S(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],S(y[this.coll],e)),k(this,"afterSetOptions",{userOptions:e})},defaultLabelFormatter:function(){var e=this.axis,t=this.value,i=e.chart.time,a=e.categories,o=this.dateTimeLabelFormat,c=y.lang,n=c.numericSymbols;c=c.numericSymbolMagnitude||1e3;var s=n&&n.length,r=e.options.labels.format;e=e.isLog?Math.abs(t):e.tickInterval;var l=this.chart,d=l.numberFormatter;if(r)var u=x(r,this,l);else if(a)u=t;else if(o)u=i.dateFormat(o,t);else if(s&&1e3<=e)for(;s--&&void 0===u;)e>=(i=Math.pow(c,s+1))&&0==10*t%i&&null!==n[s]&&0!==t&&(u=d(t/i,-1)+n[s]);return void 0===u&&(u=1e4<=Math.abs(t)?d(t,-1):d(t,-1,void 0,"")),u},getSeriesExtremes:function(){var e,t=this,i=t.chart;k(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),t.series.forEach(function(a){if(a.visible||!i.options.chart.ignoreHiddenSeries){var o=a.options,c=o.threshold;if(t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=c&&(c=null),t.isXAxis){if((o=a.xData).length){var n=(e=a.getXExtremes(o)).min,r=e.max;u(n)||n instanceof Date||(o=o.filter(u),n=(e=a.getXExtremes(o)).min,r=e.max),o.length&&(t.dataMin=Math.min(h(t.dataMin,n),n),t.dataMax=Math.max(h(t.dataMax,r),r))}}else a.getExtremes(),r=a.dataMax,s(n=a.dataMin)&&s(r)&&(t.dataMin=Math.min(h(t.dataMin,n),n),t.dataMax=Math.max(h(t.dataMax,r),r)),s(c)&&(t.threshold=c),(!o.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1)}})}),k(this,"afterGetSeriesExtremes")},translate:function(e,t,i,a,o,c){var n=this.linkedParent||this,s=1,r=0,l=a?n.oldTransA:n.transA;a=a?n.oldMin:n.min;var d=n.minPixelPadding;return o=(n.isOrdinal||n.isBroken||n.isLog&&o)&&n.lin2val,l||(l=n.transA),i&&(s*=-1,r=n.len),n.reversed&&(r-=(s*=-1)*(n.sector||n.len)),t?(e=(e*s+r-d)/l+a,o&&(e=n.lin2val(e))):(o&&(e=n.val2lin(e)),e=u(a)?s*(e-a)*l+r+s*d+(u(c)?l*c:0):void 0),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e){var t,i,a,o,n,s=this,r=s.chart,l=s.left,d=s.top,p=e.old,m=e.value,b=e.translatedValue,g=e.lineWidth,f=e.force,_=p&&r.oldChartHeight||r.chartHeight,v=p&&r.oldChartWidth||r.chartWidth,y=s.transB,w=function(e,t,i){return("pass"!==f&&e<t||e>i)&&(f?e=c(e,t,i):n=!0),e};return k(this,"getPlotLinePath",e={value:m,lineWidth:g,old:p,force:f,acrossPanes:e.acrossPanes,translatedValue:b},function(e){b=h(b,s.translate(m,null,null,p)),b=c(b,-1e5,1e5),t=a=Math.round(b+y),i=o=Math.round(_-b-y),u(b)?s.horiz?(i=d,o=_-s.bottom,t=a=w(t,l,l+s.width)):(t=l,a=v-s.right,i=o=w(i,d,d+s.height)):(n=!0,f=!1),e.path=n&&!f?null:r.renderer.crispLine(["M",t,i,"L",a,o],g||1)}),e.path},getLinearTickPositions:function(e,t,i){var a=n(Math.floor(t/e)*e);i=n(Math.ceil(i/e)*e);var o,c=[];if(n(a+e)===a&&(o=20),this.single)return[t];for(t=a;t<=i&&(c.push(t),(t=n(t+e,o))!==s);)var s=t;return c},getMinorTickInterval:function(){var e=this.options;return!0===e.minorTicks?h(e.minorTickInterval,"auto"):!1===e.minorTicks?null:e.minorTickInterval},getMinorTickPositions:function(){var e=this,t=e.options,i=e.tickPositions,a=e.minorTickInterval,o=[],c=e.pointRangePadding||0,n=e.min-c,s=(c=e.max+c)-n;if(s&&s/a<e.len/3)if(e.isLog)this.paddedTicks.forEach(function(t,i,c){i&&o.push.apply(o,e.getLogTickPositions(a,c[i-1],c[i],!0))});else if(e.isDatetimeAxis&&"auto"===this.getMinorTickInterval())o=o.concat(e.getTimeTicks(e.normalizeTimeTickInterval(a),n,c,t.startOfWeek));else for(t=n+(i[0]-n)%a;t<=c&&t!==o[0];t+=a)o.push(t);return 0!==o.length&&e.trimTicks(o),o},adjustForMinRange:function(){var e,t,i,c,n=this.options,r=this.min,l=this.max;if(this.isXAxis&&void 0===this.minRange&&!this.isLog&&(s(n.min)||s(n.max)?this.minRange=null:(this.series.forEach(function(a){for(c=a.xData,t=a.xIncrement?1:c.length-1;0<t;t--)i=c[t]-c[t-1],(void 0===e||i<e)&&(e=i)}),this.minRange=Math.min(5*e,this.dataMax-this.dataMin))),l-r<this.minRange){var d=this.dataMax-this.dataMin>=this.minRange,u=this.minRange,p=(u-l+r)/2;p=[r-p,h(n.min,r-p)],d&&(p[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),l=[(r=a(p))+u,h(n.max,r+u)],d&&(l[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(l=o(l))-r<u&&(p[0]=l-u,p[1]=h(n.min,l-u),r=a(p))}this.min=r,this.max=l},getClosest:function(){var e;return this.categories?e=1:this.series.forEach(function(t){var i=t.closestPointRange,a=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&s(i)&&a&&(e=s(e)?Math.min(e,i):i)}),e},nameToX:function(e){var t=d(this.categories),i=t?this.categories:this.names,a=e.options.x;if(e.series.requireSorting=!1,s(a)||(a=!1===this.options.uniqueNames?e.series.autoIncrement():t?i.indexOf(e.name):h(i.keys[e.name],-1)),-1===a){if(!t)var o=i.length}else o=a;return void 0!==o&&(this.names[o]=e.name,this.names.keys[e.name]=o),o},updateNames:function(){var e=this,t=this.names;0<t.length&&(Object.keys(t.keys).forEach(function(e){delete t.keys[e]}),t.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(e.max=Math.max(e.max,t.xData.length-1),t.processData(),t.generatePoints()),t.data.forEach(function(i,a){if(i&&i.options&&void 0!==i.name){var o=e.nameToX(i);void 0!==o&&o!==i.x&&(i.x=o,t.xData[a]=o)}})}))},setAxisTranslation:function(e){var t=this,i=t.max-t.min,a=t.axisPointRange||0,o=0,c=0,n=t.linkedParent,s=!!t.categories,r=t.transA,l=t.isXAxis;if(l||s||a){var d=t.getClosest();n?(o=n.minPointOffset,c=n.pointRangePadding):t.series.forEach(function(e){var i=s?1:l?h(e.options.pointRange,d,0):t.axisPointRange||0,n=e.options.pointPlacement;a=Math.max(a,i),t.single&&!s||(e=I.xrange&&e instanceof I.xrange?!l:l,o=Math.max(o,e&&p(n)?0:i/2),c=Math.max(c,e&&"on"===n?0:i))}),t.minPointOffset=o*=n=t.ordinalSlope&&d?t.ordinalSlope/d:1,t.pointRangePadding=c*=n,t.pointRange=Math.min(a,t.single&&s?1:i),l&&(t.closestPointRange=d)}e&&(t.oldTransA=r),t.translationSlope=t.transA=r=t.staticScale||t.len/(i+c||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=r*o,k(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var i=this,a=i.chart,o=i.options,c=i.isLog,r=i.isDatetimeAxis,l=i.isXAxis,d=i.isLinked,p=o.maxPadding,m=o.minPadding,b=o.tickInterval,g=o.tickPixelInterval,f=i.categories,_=u(i.threshold)?i.threshold:null,v=i.softThreshold;r||f||d||this.getTickAmount();var y=h(i.userMin,o.min),w=h(i.userMax,o.max);if(d){i.linkedParent=a[i.coll][o.linkedTo];var x=i.linkedParent.getExtremes();i.min=h(x.min,x.dataMin),i.max=h(x.max,x.dataMax),o.type!==i.linkedParent.options.type&&e.error(11,1,a)}else{if(!v&&s(_))if(i.dataMin>=_)x=_,m=0;else if(i.dataMax<=_){var S=_;p=0}i.min=h(y,x,i.dataMin),i.max=h(w,S,i.dataMax)}c&&(i.positiveValuesOnly&&!t&&0>=Math.min(i.min,h(i.dataMin,i.min))&&e.error(10,1,a),i.min=n(i.log2lin(i.min),16),i.max=n(i.log2lin(i.max),16)),i.range&&s(i.max)&&(i.userMin=i.min=y=Math.max(i.dataMin,i.minFromRange()),i.userMax=w=i.max,i.range=null),k(i,"foundExtremes"),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),!(f||i.axisPointRange||i.usePercentage||d)&&s(i.min)&&s(i.max)&&(a=i.max-i.min)&&(!s(y)&&m&&(i.min-=a*m),!s(w)&&p&&(i.max+=a*p)),u(i.userMin)||(u(o.softMin)&&o.softMin<i.min&&(i.min=y=o.softMin),u(o.floor)&&(i.min=Math.max(i.min,o.floor))),u(i.userMax)||(u(o.softMax)&&o.softMax>i.max&&(i.max=w=o.softMax),u(o.ceiling)&&(i.max=Math.min(i.max,o.ceiling))),v&&s(i.dataMin)&&(_=_||0,!s(y)&&i.min<_&&i.dataMin>=_?i.min=i.options.minRange?Math.min(_,i.max-i.minRange):_:!s(w)&&i.max>_&&i.dataMax<=_&&(i.max=i.options.minRange?Math.max(_,i.min+i.minRange):_)),i.tickInterval=i.min===i.max||void 0===i.min||void 0===i.max?1:d&&!b&&g===i.linkedParent.options.tickPixelInterval?b=i.linkedParent.tickInterval:h(b,this.tickAmount?(i.max-i.min)/Math.max(this.tickAmount-1,1):void 0,f?1:(i.max-i.min)*g/Math.max(i.len,g)),l&&!t&&i.series.forEach(function(e){e.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&!b&&(i.tickInterval=Math.max(i.pointRange,i.tickInterval)),t=h(o.minTickInterval,i.isDatetimeAxis&&i.closestPointRange),!b&&i.tickInterval<t&&(i.tickInterval=t),r||c||b||(i.tickInterval=j(i.tickInterval,null,T(i.tickInterval),h(o.allowDecimals,!(.5<i.tickInterval&&5>i.tickInterval&&1e3<i.max&&9999>i.max)),!!this.tickAmount)),this.tickAmount||(i.tickInterval=i.unsquish()),this.setTickPositions()},setTickPositions:function(){var t=this.options,i=t.tickPositions,a=this.getMinorTickInterval(),o=t.tickPositioner,c=t.startOnTick,n=t.endOnTick;this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===a&&this.tickInterval?this.tickInterval/5:a,this.single=this.min===this.max&&s(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),this.tickPositions=a=i&&i.slice(),!a&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(a=[this.min,this.max],e.error(19,!1,this.chart)):a=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),a.length>this.len&&(a=[a[0],a.pop()])[0]===a[1]&&(a.length=1),this.tickPositions=a,o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=a=o),this.paddedTicks=a.slice(0),this.trimTicks(a,c,n),this.isLinked||(this.single&&2>a.length&&!this.categories&&(this.min-=.5,this.max+=.5),i||o||this.adjustTickAmount()),k(this,"afterSetTickPositions")},trimTicks:function(e,t,i){var a=e[0],o=e[e.length-1],c=this.minPointOffset||0;if(k(this,"trimTicks"),!this.isLinked){if(t&&-1/0!==a)this.min=a;else for(;this.min-c>e[0];)e.shift();if(i)this.max=o;else for(;this.max+c<e[e.length-1];)e.pop();0===e.length&&s(a)&&!this.options.tickPositions&&e.push((o+a)/2)}},alignToOthers:function(){var e,t={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||this.chart[this.coll].forEach(function(i){var a=i.options;a=[i.horiz?a.left:a.top,a.width,a.height,a.pane].join(),i.series.length&&(t[a]?e=!0:t[a]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,i=e.tickPixelInterval;!s(e.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=Math.ceil(this.len/i)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e,t=this.options,i=this.tickInterval,a=this.tickPositions,o=this.tickAmount,c=this.finalTickAmt,r=a&&a.length,l=h(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<o){for(e=this.min;a.length<o;)a.length%2||e===l?a.push(n(a[a.length-1]+i)):a.unshift(n(a[0]-i));this.transA*=(r-1)/(o-1),this.min=t.startOnTick?a[0]:Math.min(this.min,a[0]),this.max=t.endOnTick?a[a.length-1]:Math.max(this.max,a[a.length-1])}else r>o&&(this.tickInterval*=2,this.setTickPositions());if(s(c)){for(i=t=a.length;i--;)(3===c&&1==i%2||2>=c&&0<i&&i<t-1)&&a.splice(i,1);this.finalTickAmt=void 0}}},setScale:function(){var e,t=this.series.some(function(e){return e.isDirtyData||e.isDirty||e.xAxis&&e.xAxis.isDirty});this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(e=this.len!==this.oldAxisLength)||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),k(this,"afterSetScale")},setExtremes:function(e,t,i,a,o){var c=this,n=c.chart;i=h(i,!0),c.series.forEach(function(e){delete e.kdTree}),o=l(o,{min:e,max:t}),k(c,"setExtremes",o,function(){c.userMin=e,c.userMax=t,c.eventArgs=o,i&&n.redraw(a)})},zoom:function(e,t){var i=this.dataMin,a=this.dataMax,o=this.options,c=Math.min(i,h(o.min,i)),n=Math.max(a,h(o.max,a));return k(this,"zoom",e={newMin:e,newMax:t},function(e){var t=e.newMin,o=e.newMax;t===this.min&&o===this.max||(this.allowZoomOutside||(s(i)&&(t<c&&(t=c),t>n&&(t=n)),s(a)&&(o<c&&(o=c),o>n&&(o=n))),this.displayBtn=void 0!==t||void 0!==o,this.setExtremes(t,o,!1,void 0,{trigger:"zoom"})),e.zoomed=!0}),e.zoomed},setAxisSize:function(){var e=this.chart,t=this.options,i=t.offsets||[0,0,0,0],a=this.horiz,o=this.width=Math.round(b(h(t.width,e.plotWidth-i[3]+i[1]),e.plotWidth)),c=this.height=Math.round(b(h(t.height,e.plotHeight-i[0]+i[2]),e.plotHeight)),n=this.top=Math.round(b(h(t.top,e.plotTop+i[0]),e.plotHeight,e.plotTop));t=this.left=Math.round(b(h(t.left,e.plotLeft+i[3]),e.plotWidth,e.plotLeft)),this.bottom=e.chartHeight-c-n,this.right=e.chartWidth-o-t,this.len=Math.max(a?o:c,0),this.pos=a?t:n},getExtremes:function(){var e=this.isLog;return{min:e?n(this.lin2log(this.min)):this.min,max:e?n(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=t?this.lin2log(this.min):this.min;return t=t?this.lin2log(this.max):this.max,null===e||-1/0===e?e=i:1/0===e?e=t:i>e?e=i:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t=(h(e,0)-90*this.side+720)%360;return k(this,"autoLabelAlign",e={align:"center"},function(e){15<t&&165>t?e.align="right":195<t&&345>t&&(e.align="left")}),e.align},tickSize:function(e){var t=this.options,i=t[e+"Length"],a=h(t[e+"Width"],"tick"===e&&this.isXAxis&&!this.categories?1:0);if(a&&i){"inside"===t[e+"Position"]&&(i=-i);var o=[i,a]}return k(this,"afterTickSize",e={tickSize:o}),e.tickSize},labelMetrics:function(){var e=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[e]&&this.ticks[e].label)},unsquish:function(){var e,t,i,a=this.options.labels,o=this.horiz,c=this.tickInterval,r=c,l=this.len/(((this.categories?1:0)+this.max-this.min)/c),d=a.rotation,u=this.labelMetrics(),p=Number.MAX_VALUE,m=this.max-this.min,b=function(e){var t=e/(l||1);return(t=1<t?Math.ceil(t):1)*c>m&&1/0!==e&&1/0!==l&&m&&(t=Math.ceil(m/c)),n(t*c)};return o?(i=!a.staggerLines&&!a.step&&(s(d)?[d]:l<h(a.autoRotationLimit,80)&&a.autoRotation))&&i.forEach(function(i){if(i===d||i&&-90<=i&&90>=i){var a=(t=b(Math.abs(u.h/Math.sin(w*i))))+Math.abs(i/360);a<p&&(p=a,e=i,r=t)}}):a.step||(r=b(u.h)),this.autoRotation=i,this.labelRotation=h(e,d),r},getSlotWidth:function(e){var t=this.chart,i=this.horiz,a=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),c=t.margin[3];return e&&e.slotWidth||i&&2>(a.step||0)&&!a.rotation&&(this.staggerLines||1)*this.len/o||!i&&(a.style&&parseInt(a.style.width,10)||c&&c-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var e=this.chart,t=e.renderer,i=this.tickPositions,a=this.ticks,o=this.options.labels,c=o&&o.style||{},n=this.horiz,s=this.getSlotWidth(),r=Math.max(1,Math.round(s-2*(o.padding||5))),l={},d=this.labelMetrics(),u=o.style&&o.style.textOverflow,m=0;if(p(o.rotation)||(l.rotation=o.rotation||0),i.forEach(function(e){(e=a[e]).movedLabel&&e.replaceMovedLabel(),e&&e.label&&e.label.textPxLength>m&&(m=e.label.textPxLength)}),this.maxLabelLength=m,this.autoRotation)m>r&&m>d.h?l.rotation=this.labelRotation:this.labelRotation=0;else if(s){var h=r;if(!u){var b="clip";for(r=i.length;!n&&r--;){var g=i[r];(g=a[g].label)&&(g.styles&&"ellipsis"===g.styles.textOverflow?g.css({textOverflow:"clip"}):g.textPxLength>s&&g.css({width:s+"px"}),g.getBBox().height>this.len/i.length-(d.h-d.f)&&(g.specificTextOverflow="ellipsis"))}}}l.rotation&&(h=m>.5*e.chartHeight?.33*e.chartHeight:m,u||(b="ellipsis")),(this.labelAlign=o.align||this.autoLabelAlign(this.labelRotation))&&(l.align=this.labelAlign),i.forEach(function(e){var t=(e=a[e])&&e.label,i=c.width,o={};t&&(t.attr(l),e.shortenLabel?e.shortenLabel():h&&!i&&"nowrap"!==c.whiteSpace&&(h<t.textPxLength||"SPAN"===t.element.tagName)?(o.width=h,u||(o.textOverflow=t.specificTextOverflow||b),t.css(o)):t.styles&&t.styles.width&&!o.width&&!i&&t.css({width:null}),delete t.specificTextOverflow,e.rotation=l.rotation)},this),this.tickRotCorr=t.rotCorr(d.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.series.some(function(e){return e.hasData()})||this.options.showEmpty&&s(this.min)&&s(this.max)},addTitle:function(e){var t,i=this.opposite,a=this.options.title,o=this.chart.styledMode;this.axisTitle||((t=a.textAlign)||(t=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:i?"right":"left",middle:"center",high:i?"left":"right"})[a.align]),this.axisTitle=this.chart.renderer.text(a.text,0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation||0,align:t}).addClass("highcharts-axis-title"),o||this.axisTitle.css(S(a.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||a.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[e?"show":"hide"](e)},generateTick:function(e){var t=this.ticks;t[e]?t[e].addLabel():t[e]=new D(this,e)},getOffset:function(){var e,t=this,i=t.chart,a=i.renderer,o=t.options,c=t.tickPositions,n=t.ticks,r=t.horiz,l=t.side,d=i.inverted&&!t.isZAxis?[1,0,3,2][l]:l,u=0,p=0,b=o.title,g=o.labels,f=0,_=i.axisOffset;i=i.clipOffset;var v=[-1,1,1,-1][l],y=o.className,w=t.axisParent,x=t.hasData();if(t.showAxis=e=x||h(o.showEmpty,!0),t.staggerLines=t.horiz&&g.staggerLines,t.axisGroup||(t.gridGroup=a.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(y||"")).add(w),t.axisGroup=a.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(y||"")).add(w),t.labelGroup=a.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+t.coll.toLowerCase()+"-labels "+(y||"")).add(w)),x||t.isLinked?(c.forEach(function(e,i){t.generateTick(e,i)}),t.renderUnsquish(),t.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===t.labelAlign,h(g.reserveSpace,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&c.forEach(function(e){f=Math.max(n[e].getLabelSize(),f)}),t.staggerLines&&(f*=t.staggerLines),t.labelOffset=f*(t.opposite?-1:1)):m(n,function(e,t){e.destroy(),delete n[t]}),b&&b.text&&!1!==b.enabled&&(t.addTitle(e),e&&!1!==b.reserveSpace)){t.titleOffset=u=t.axisTitle.getBBox()[r?"height":"width"];var T=b.offset;p=s(T)?0:h(b.margin,r?5:10)}t.renderLine(),t.offset=v*h(o.offset,_[l]?_[l]+(o.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},a=0===l?-t.labelMetrics().h:2===l?t.tickRotCorr.y:0,p=Math.abs(f)+p,f&&(p=p-a+v*(r?h(g.y,t.tickRotCorr.y+8*v):g.x)),t.axisTitleMargin=h(T,p),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(n,c)),r=this.tickSize("tick"),_[l]=Math.max(_[l],t.axisTitleMargin+u+v*t.offset,p,c&&c.length&&r?r[0]+v*t.offset:0),o=o.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),i[d]=Math.max(i[d],o),k(this,"afterGetOffset")},getLinePath:function(e){var t=this.chart,i=this.opposite,a=this.offset,o=this.horiz,c=this.left+(i?this.width:0)+a;return a=t.chartHeight-this.bottom-(i?this.height:0)+a,i&&(e*=-1),t.renderer.crispLine(["M",o?this.left:c,o?a:this.top,"L",o?t.chartWidth-this.right:c,o?a:t.chartHeight-this.bottom],e)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,a=this.len,o=this.options.title,c=e?t:i,n=this.opposite,s=this.offset,r=o.x||0,l=o.y||0,d=this.axisTitle,u=this.chart.renderer.fontMetrics(o.style&&o.style.fontSize,d);return d=Math.max(d.getBBox(null,0).height-u.h-1,0),a={low:c+(e?0:a),middle:c+a/2,high:c+(e?a:0)}[o.align],t=(e?i+this.height:t)+(e?1:-1)*(n?-1:1)*this.axisTitleMargin+[-d,d,u.f,-d][this.side],k(this,"afterGetTitlePosition",{titlePosition:e={x:e?a+r:t+(n?this.width:0)+s+r,y:e?t+l-(n?this.height:0)+s:a+l}}),e},renderMinorTick:function(e){var t=this.chart.hasRendered&&u(this.oldMin),i=this.minorTicks;i[e]||(i[e]=new D(this,e,"minor")),t&&i[e].isNew&&i[e].render(null,!0),i[e].render(null,!1,1)},renderTick:function(e,t){var i=this.isLinked,a=this.ticks,o=this.chart.hasRendered&&u(this.oldMin);(!i||e>=this.min&&e<=this.max)&&(a[e]||(a[e]=new D(this,e)),o&&a[e].isNew&&a[e].render(t,!0,-1),a[e].render(t))},render:function(){var t,a,o=this,c=o.chart,n=o.options,s=o.isLog,r=o.isLinked,l=o.tickPositions,d=o.axisTitle,p=o.ticks,h=o.minorTicks,b=o.alternateBands,g=n.stackLabels,_=n.alternateGridColor,v=o.tickmarkOffset,y=o.axisLine,w=o.showAxis,x=i(c.renderer.globalAnimation);o.labelEdge.length=0,o.overlap=!1,[p,h,b].forEach(function(e){m(e,function(e){e.isActive=!1})}),(o.hasData()||r)&&(o.minorTickInterval&&!o.categories&&o.getMinorTickPositions().forEach(function(e){o.renderMinorTick(e)}),l.length&&(l.forEach(function(e,t){o.renderTick(e,t)}),v&&(0===o.min||o.single)&&(p[-1]||(p[-1]=new D(o,-1,null,!0)),p[-1].render(-1))),_&&l.forEach(function(i,n){a=void 0!==l[n+1]?l[n+1]+v:o.max-v,0==n%2&&i<o.max&&a<=o.max+(c.polar?-v:v)&&(b[i]||(b[i]=new e.PlotLineOrBand(o)),t=i+v,b[i].options={from:s?o.lin2log(t):t,to:s?o.lin2log(a):a,color:_},b[i].render(),b[i].isActive=!0)}),o._addedPlotLB||((n.plotLines||[]).concat(n.plotBands||[]).forEach(function(e){o.addPlotBandOrLine(e)}),o._addedPlotLB=!0)),[p,h,b].forEach(function(e){var t,i=[],a=x.duration;m(e,function(e,t){e.isActive||(e.render(t,!1,0),e.isActive=!1,i.push(t))}),f(function(){for(t=i.length;t--;)e[i[t]]&&!e[i[t]].isActive&&(e[i[t]].destroy(),delete e[i[t]])},e!==b&&c.hasRendered&&a?a:0)}),y&&(y[y.isPlaced?"animate":"attr"]({d:this.getLinePath(y.strokeWidth())}),y.isPlaced=!0,y[w?"show":"hide"](w)),d&&w&&(n=o.getTitlePosition(),u(n.y)?(d[d.isNew?"attr":"animate"](n),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),g&&g.enabled&&o.renderStackTotals(),o.isDirty=!1,k(this,"afterRender")},redraw:function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(e){e.render()})),this.series.forEach(function(e){e.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(e){var t,i=this,a=i.stacks,o=i.plotLinesAndBands;if(k(this,"destroy",{keepEvents:e}),e||O(i),m(a,function(e,t){r(e),a[t]=null}),[i.ticks,i.minorTicks,i.alternateBands].forEach(function(e){r(e)}),o)for(e=o.length;e--;)o[e].destroy();for(t in"stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(e){i[e]&&(i[e]=i[e].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[t]=i.plotLinesAndBandsGroups[t].destroy();m(i,function(e,t){-1===i.keepProps.indexOf(t)&&delete i[t]})},drawCrosshair:function(e,t){var i,a=this.crosshair,o=h(a.snap,!0),c=this.cross;if(k(this,"drawCrosshair",{e,point:t}),e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(s(t)||!o)){if(o?s(t)&&(i=h("colorAxis"!==this.coll?t.crosshairPos:null,this.isXAxis?t.plotX:this.len-t.plotY)):i=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),s(i)){var n={value:t&&(this.isXAxis?t.x:h(t.stackY,t.y)),translatedValue:i};this.chart.polar&&l(n,{isCrosshair:!0,chartX:e&&e.chartX,chartY:e&&e.chartY,point:t}),n=this.getPlotLinePath(n)||null}if(!s(n))return void this.hideCrosshair();o=this.categories&&!this.isRadial,c||(this.cross=c=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+a.className).attr({zIndex:h(a.zIndex,2)}).add(),this.chart.styledMode||(c.attr({stroke:a.color||(o?v("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":h(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&c.attr({dashstyle:a.dashStyle}))),c.show().attr({d:n}),o&&!a.width&&c.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();k(this,"afterDrawCrosshair",{e,point:t})},hideCrosshair:function(){this.cross&&this.cross.hide(),k(this,"afterHideCrosshair")}}),e.Axis=t}),t(i,"parts/DateTimeAxis.js",[i["parts/Globals.js"]],function(e){var t=e.Axis,i=e.getMagnitude,a=e.normalizeTickInterval,o=e.timeUnits;t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},t.prototype.normalizeTimeTickInterval=function(e,t){var c,n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],s=o[(t=n[n.length-1])[0]],r=t[1];for(c=0;c<n.length&&(s=o[(t=n[c])[0]],r=t[1],!(n[c+1]&&e<=(s*r[r.length-1]+o[n[c+1][0]])/2));c++);return s===o.year&&e<5*s&&(r=[1,2,5]),{unitRange:s,count:e=a(e/s,r,"year"===t[0]?Math.max(i(e/s),1):1),unitName:t[0]}}}),t(i,"parts/LogarithmicAxis.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.pick,a=e.getMagnitude,o=e.normalizeTickInterval;(t=e.Axis).prototype.getLogTickPositions=function(e,t,c,n){var s=this.options,r=this.len,l=[];if(n||(this._minorAutoInterval=null),.5<=e)e=Math.round(e),l=this.getLinearTickPositions(e,t,c);else if(.08<=e){var d,u;for(r=Math.floor(t),s=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];r<c+1&&!u;r++){var p=s.length;for(d=0;d<p&&!u;d++){var m=this.log2lin(this.lin2log(r)*s[d]);m>t&&(!n||h<=c)&&void 0!==h&&l.push(h),h>c&&(u=!0);var h=m}}}else t=this.lin2log(t),c=this.lin2log(c),e=n?this.getMinorTickInterval():s.tickInterval,e=i("auto"===e?null:e,this._minorAutoInterval,s.tickPixelInterval/(n?5:1)*(c-t)/((n?r/this.tickPositions.length:r)||1)),e=o(e,null,a(e)),l=this.getLinearTickPositions(e,t,c).map(this.log2lin),n||(this._minorAutoInterval=e/5);return n||(this.tickInterval=e),l},t.prototype.log2lin=function(e){return Math.log(e)/Math.LN10},t.prototype.lin2log=function(e){return Math.pow(10,e)}}),t(i,"parts/PlotLineOrBand.js",[i["parts/Globals.js"],i["parts/Axis.js"],i["parts/Utilities.js"]],function(e,t,i){var a=i.arrayMax,o=i.arrayMin,c=i.defined,n=i.destroyObjectProperties,s=i.erase,r=i.extend,l=i.objectEach,d=i.pick,u=e.merge;e.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},e.PlotLineOrBand.prototype={render:function(){e.fireEvent(this,"render");var t=this,i=t.axis,a=i.horiz,o=t.options,n=o.label,s=t.label,r=o.to,p=o.from,m=o.value,h=c(p)&&c(r),b=c(m),g=t.svgElem,f=!g,_=[],v=o.color,y=d(o.zIndex,0),w=o.events;_={class:"highcharts-plot-"+(h?"band ":"line ")+(o.className||"")};var k={},x=i.chart.renderer,T=h?"bands":"lines";if(i.isLog&&(p=i.log2lin(p),r=i.log2lin(r),m=i.log2lin(m)),i.chart.styledMode||(b?(_.stroke=v||"#999999",_["stroke-width"]=d(o.width,1),o.dashStyle&&(_.dashstyle=o.dashStyle)):h&&(_.fill=v||"#e6ebf5",o.borderWidth&&(_.stroke=o.borderColor,_["stroke-width"]=o.borderWidth))),k.zIndex=y,(v=i.plotLinesAndBandsGroups[T+="-"+y])||(i.plotLinesAndBandsGroups[T]=v=x.g("plot-"+T).attr(k).add()),f&&(t.svgElem=g=x.path().attr(_).add(v)),b)_=i.getPlotLinePath({value:m,lineWidth:g.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!h)return;_=i.getPlotBandPath(p,r,o)}return(f||!g.d)&&_&&_.length?(g.attr({d:_}),w&&l(w,function(e,i){g.on(i,function(e){w[i].apply(t,[e])})})):g&&(_?(g.show(!0),g.animate({d:_})):g.d&&(g.hide(),s&&(t.label=s=s.destroy()))),n&&(c(n.text)||c(n.formatter))&&_&&_.length&&0<i.width&&0<i.height&&!_.isFlat?(n=u({align:a&&h&&"center",x:a?!h&&4:10,verticalAlign:!a&&h&&"middle",y:a?h?16:10:h?6:-4,rotation:a&&!h&&90},n),this.renderLabel(n,_,h,y)):s&&s.hide(),t},renderLabel:function(e,t,i,c){var n=this.label,s=this.axis.chart.renderer;n||((n={align:e.textAlign||e.align,rotation:e.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(e.className||"")}).zIndex=c,c=this.getLabelText(e),this.label=n=s.text(c,0,0,e.useHTML).attr(n).add(),this.axis.chart.styledMode||n.css(e.style)),s=t.xBounds||[t[1],t[4],i?t[6]:t[1]],t=t.yBounds||[t[2],t[5],i?t[7]:t[2]],i=o(s),c=o(t),n.align(e,!1,{x:i,y:c,width:a(s)-i,height:a(t)-c}),n.show(!0)},getLabelText:function(e){return c(e.formatter)?e.formatter.call(this):e.text},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,n(this)}},r(t.prototype,{getPlotBandPath:function(e,t){var i=this.getPlotLinePath({value:t,force:!0,acrossPanes:this.options.acrossPanes}),a=this.getPlotLinePath({value:e,force:!0,acrossPanes:this.options.acrossPanes}),o=[],c=this.horiz,n=1;if(e=e<this.min&&t<this.min||e>this.max&&t>this.max,a&&i){if(e){var s=a.toString()===i.toString();n=0}for(e=0;e<a.length;e+=6)c&&i[e+1]===a[e+1]?(i[e+1]+=n,i[e+4]+=n):c||i[e+2]!==a[e+2]||(i[e+2]+=n,i[e+5]+=n),o.push("M",a[e+1],a[e+2],"L",a[e+4],a[e+5],i[e+4],i[e+5],i[e+1],i[e+2],"z"),o.isFlat=s}return o},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(t,i){var a=new e.PlotLineOrBand(this,t).render(),o=this.userOptions;if(a){if(i){var c=o[i]||[];c.push(t),o[i]=c}this.plotLinesAndBands.push(a)}return a},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,a=this.userOptions,o=t.length;o--;)t[o].id===e&&t[o].destroy();[i.plotLines||[],a.plotLines||[],i.plotBands||[],a.plotBands||[]].forEach(function(t){for(o=t.length;o--;)t[o].id===e&&s(t,t[o])})},removePlotBand:function(e){this.removePlotBandOrLine(e)},removePlotLine:function(e){this.removePlotBandOrLine(e)}})}),t(i,"parts/Tooltip.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.clamp,a=t.defined,o=t.discardElement,c=t.extend,n=t.isNumber,s=t.isString,r=t.pick,l=t.splat,d=t.syncTimeout,u=e.doc,p=e.format,m=e.merge,h=e.timeUnits;e.Tooltip=function(){this.init.apply(this,arguments)},e.Tooltip.prototype={init:function(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!e.inverted&&!e.polar,this.shared=t.shared||this.split,this.outside=r(t.outside,!(!e.scrollablePixelsX&&!e.scrollablePixelsY))},cleanSplit:function(e){this.chart.series.forEach(function(t){var i=t&&t.tt;i&&(!i.isActive||e?t.tt=i.destroy():i.isActive=!1)})},applyFilter:function(){var e=this.chart;e.renderer.definition({tagName:"filter",id:"drop-shadow-"+e.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),e.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+e.index+"{filter:url(#drop-shadow-"+e.index+")}"})},getLabel:function(){var t,i=this,o=this.chart.renderer,c=this.chart.styledMode,n=this.options,s="tooltip"+(a(n.className)?" "+n.className:"");if(!this.label){if(this.outside&&(this.container=t=e.doc.createElement("div"),t.className="highcharts-tooltip-container",e.css(t,{position:"absolute",top:"1px",pointerEvents:n.style&&n.style.pointerEvents,zIndex:3}),e.doc.body.appendChild(t),this.renderer=o=new e.Renderer(t,0,0,{},void 0,void 0,o.styledMode)),this.split?this.label=o.g(s):(this.label=o.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,s).attr({padding:n.padding,r:n.borderRadius}),c||this.label.attr({fill:n.backgroundColor,"stroke-width":n.borderWidth}).css(n.style).shadow(n.shadow)),c&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),i.outside&&!i.split){var r={x:this.label.xSetter,y:this.label.ySetter};this.label.xSetter=function(e,a){r[a].call(this.label,i.distance),t.style.left=e+"px"},this.label.ySetter=function(e,a){r[a].call(this.label,i.distance),t.style.top=e+"px"}}this.label.attr({zIndex:8}).add()}return this.label},update:function(e){this.destroy(),m(!0,this.chart.options.tooltip.userOptions,e),this.init(this.chart,m(!0,this.options,e))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),o(this.container)),e.clearTimeout(this.hideTimer),e.clearTimeout(this.tooltipTimeout)},move:function(t,i,a,o){var n=this,s=n.now,r=!1!==n.options.animation&&!n.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(i-s.y)),l=n.followPointer||1<n.len;c(s,{x:r?(2*s.x+t)/3:t,y:r?(s.y+i)/2:i,anchorX:l?void 0:r?(2*s.anchorX+a)/3:a,anchorY:l?void 0:r?(s.anchorY+o)/2:o}),n.getLabel().attr(s),r&&(e.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){n&&n.move(t,i,a,o)},32))},hide:function(t){var i=this;e.clearTimeout(this.hideTimer),t=r(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){i.getLabel()[t?"fadeOut":"hide"](),i.isHidden=!0},t))},getAnchor:function(e,t){var i,a,o=this.chart,c=o.pointer,n=o.inverted,s=o.plotTop,r=o.plotLeft,d=0,u=0;return e=l(e),this.followPointer&&t?(void 0===t.chartX&&(t=c.normalize(t)),e=[t.chartX-o.plotLeft,t.chartY-s]):e[0].tooltipPos?e=e[0].tooltipPos:(e.forEach(function(e){i=e.series.yAxis,a=e.series.xAxis,d+=e.plotX+(!n&&a?a.left-r:0),u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!n&&i?i.top-s:0)}),d/=e.length,u/=e.length,e=[n?o.plotWidth-u:d,this.shared&&!n&&1<e.length&&t?t.chartY-s:n?o.plotHeight-d:u]),e.map(Math.round)},getPosition:function(e,t,i){var a,o=this.chart,c=this.distance,n={},s=o.inverted&&i.h||0,l=this.outside,d=l?u.documentElement.clientWidth-2*c:o.chartWidth,p=l?Math.max(u.body.scrollHeight,u.documentElement.scrollHeight,u.body.offsetHeight,u.documentElement.offsetHeight,u.documentElement.clientHeight):o.chartHeight,m=o.pointer.getChartPosition(),h=o.containerScaling,b=function(e){return h?e*h.scaleX:e},g=function(e){return h?e*h.scaleY:e},f=function(a){var n="x"===a;return[a,n?d:p,n?e:t].concat(l?[n?b(e):g(t),n?m.left-c+b(i.plotX+o.plotLeft):m.top-c+g(i.plotY+o.plotTop),0,n?d:p]:[n?e:t,n?i.plotX+o.plotLeft:i.plotY+o.plotTop,n?o.plotLeft:o.plotTop,n?o.plotLeft+o.plotWidth:o.plotTop+o.plotHeight])},_=f("y"),v=f("x"),y=!this.followPointer&&r(i.ttBelow,!o.inverted==!!i.negative),w=function(e,t,i,a,o,r,l){var d="y"===e?g(c):b(c),u=(i-a)/2,p=a<o-c,m=o+c+a<t,h=o-d-i+u;if(o=o+d-u,y&&m)n[e]=o;else if(!y&&p)n[e]=h;else if(p)n[e]=Math.min(l-a,0>h-s?h:h-s);else{if(!m)return!1;n[e]=Math.max(r,o+s+i>t?o:o+s)}},k=function(e,t,i,a,o){var s;return o<c||o>t-c?s=!1:n[e]=o<i/2?1:o>t-a/2?t-a-2:o-i/2,s},x=function(e){var t=_;_=v,v=t,a=e},T=function(){!1!==w.apply(0,_)?!1!==k.apply(0,v)||a||(x(!0),T()):a?n.x=n.y=0:(x(!0),T())};return(o.inverted||1<this.len)&&x(),T(),n},defaultFormatter:function(e){var t=this.points||l(this),i=[e.tooltipFooterHeaderFormatter(t[0])];return(i=i.concat(e.bodyFormatter(t))).push(e.tooltipFooterHeaderFormatter(t[0],!0)),i},refresh:function(t,i){var a=this.chart,o=this.options,c=t,n={},s=[],d=o.formatter||this.defaultFormatter;n=this.shared;var u=a.styledMode;if(o.enabled){e.clearTimeout(this.hideTimer),this.followPointer=l(c)[0].series.tooltipOptions.followPointer;var p=this.getAnchor(c,i);i=p[0];var m=p[1];!n||c.series&&c.series.noSharedTooltip?n=c.getLabelConfig():(a.pointer.applyInactiveState(c),c.forEach(function(e){e.setState("hover"),s.push(e.getLabelConfig())}),(n={x:c[0].category,y:c[0].y}).points=s,c=c[0]),this.len=s.length,a=d.call(n,this),this.distance=r((d=c.series).tooltipOptions.distance,16),!1===a?this.hide():(this.split?this.renderSplit(a,l(t)):(t=this.getLabel(),o.style.width&&!u||t.css({width:this.chart.spacingBox.width}),t.attr({text:a&&a.join?a.join(""):a}),t.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+r(c.colorIndex,d.colorIndex)),u||t.attr({stroke:o.borderColor||c.color||d.color||"#666666"}),this.updatePosition({plotX:i,plotY:m,negative:c.negative,ttBelow:c.ttBelow,h:p[2]||0})),this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1),e.fireEvent(this,"refresh")}},renderSplit:function(t,a){function o(e,t,a,o,c){return void 0===c&&(c=!0),a?(t=O?0:C,e=i(e-o/2,S.left,S.right-o)):(t-=I,e=i(e=c?e-o-k:e+k,c?e:S.left,S.right)),{x:e,y:t}}var n=this,l=n.chart,d=n.chart,u=d.plotHeight,p=d.plotLeft,m=d.plotTop,h=d.pointer,b=d.renderer,g=d.scrollablePixelsX,f=d.scrollablePixelsY,_=void 0===f?0:f,v=(f=void 0===(f=d.scrollingContainer)?{scrollLeft:0,scrollTop:0}:f).scrollLeft,y=f.scrollTop,w=d.styledMode,k=n.distance,x=n.options,T=n.options.positioner,S={left:(g=void 0===g?0:g)?p:0,right:g?p+d.plotWidth-g:d.chartWidth,top:_?m:0,bottom:_?m+u-_:d.chartHeight},j=n.getLabel(),O=!(!l.xAxis[0]||!l.xAxis[0].opposite),I=m,D=0,C=u-_;s(t)&&(t=[!1,t]),t=t.slice(0,a.length+1).reduce(function(e,t,c){if(!1!==t&&""!==t){var s=(c=a[c-1]||{isHeader:!0,plotX:a[0].plotX,plotY:u,series:{}}).isHeader,l=s?n:c.series,d=l.tt,h=c.isHeader,g=c.series,f="highcharts-color-"+r(c.colorIndex,g.colorIndex,"none");d||(d={padding:x.padding,r:x.borderRadius},w||(d.fill=x.backgroundColor,d["stroke-width"]=x.borderWidth),d=b.label(null,null,null,x[h?"headerShape":"shape"]||"callout",null,null,x.useHTML).addClass(h?"highcharts-tooltip-header ":"highcharts-tooltip-box "+f).attr(d).add(j)),d.isActive=!0,d.attr({text:t}),w||d.css(x.style).shadow(x.shadow).attr({stroke:x.borderColor||c.color||g.color||"#333333"}),t=l.tt=d,l=(h=t.getBBox()).width+t.strokeWidth(),s&&(C+=D=h.height,O&&(I-=D)),g=void 0===(g=c.plotX)?0:g,f=void 0===(f=c.plotY)?0:f;var P=c.series;c.isHeader?(g=p+g-v,f=m+(u-_)/2):(d=P.xAxis,P=P.yAxis,g=d.pos+i(g,-k,d.len+k)-v,f=P.pos+i(f,0,P.len)-y),g=i(g,S.left-k,S.right+k),f=i(f,S.top,S.bottom),h=h.height+1,d=T?T.call(n,l,h,c):o(g,f,s,l),e.push({align:T?0:void 0,anchorX:g,anchorY:f,boxWidth:l,point:c,rank:r(d.rank,s?1:0),size:h,target:d.y,tt:t,x:d.x})}return e},[]),!T&&t.some(function(e){return 0>e.x})&&(t=t.map(function(e){var t=o(e.anchorX,e.anchorY,e.point.isHeader,e.boxWidth,!1);return c(e,{target:t.y,x:t.x})})),n.cleanSplit(),e.distribute(t,C,void 0),t.forEach(function(e){var t=e.pos;e.tt.attr({visibility:void 0===t?"hidden":"inherit",x:e.x,y:t+I,anchorX:e.anchorX,anchorY:e.anchorY})}),t=n.container,l=n.renderer,n.outside&&t&&l&&(d=j.getBBox(),l.setSize(d.width+d.x,d.height+d.y,!1),h=h.getChartPosition(),t.style.left=h.left+"px",t.style.top=h.top+"px")},updatePosition:function(t){var i=this.chart,a=i.pointer,o=this.getLabel(),c=t.plotX+i.plotLeft,n=t.plotY+i.plotTop;if(a=a.getChartPosition(),t=(this.options.positioner||this.getPosition).call(this,o.width,o.height,t),this.outside){var s=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(o.width+s,o.height+s,!1),(i=i.containerScaling)&&(e.css(this.container,{transform:"scale("+i.scaleX+", "+i.scaleY+")"}),c*=i.scaleX,n*=i.scaleY),c+=a.left-t.x,n+=a.top-t.y}this.move(Math.round(t.x),Math.round(t.y||0),c,n)},getDateFormat:function(e,t,i,a){var o=this.chart.time,c=o.dateFormat("%m-%d %H:%M:%S.%L",t),n={millisecond:15,second:12,minute:9,hour:6,day:3},s="millisecond";for(r in h){if(e===h.week&&+o.dateFormat("%w",t)===i&&"00:00:00.000"===c.substr(6)){var r="week";break}if(h[r]>e){r=s;break}if(n[r]&&c.substr(n[r])!=="01-01 00:00:00.000".substr(n[r]))break;"week"!==r&&(s=r)}if(r)var l=o.resolveDTLFormat(a[r]).main;return l},getXDateFormat:function(e,t,i){t=t.dateTimeLabelFormats;var a=i&&i.closestPointRange;return(a?this.getDateFormat(a,e.x,i.options.startOfWeek,t):t.day)||t.year},tooltipFooterHeaderFormatter:function(t,i){var a=i?"footer":"header",o=t.series,c=o.tooltipOptions,s=c.xDateFormat,r=o.xAxis,l=r&&"datetime"===r.options.type&&n(t.key),d=c[a+"Format"];return e.fireEvent(this,"headerFormatter",i={isFooter:i,labelConfig:t},function(e){l&&!s&&(s=this.getXDateFormat(t,c,r)),l&&s&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach(function(e){d=d.replace("{point."+e+"}","{point."+e+":"+s+"}")}),o.chart.styledMode&&(d=this.styledModeFormat(d)),e.text=p(d,{point:t,series:o},this.chart)}),i.text},bodyFormatter:function(e){return e.map(function(e){var t=e.series.tooltipOptions;return(t[(e.point.formatPrefix||"point")+"Formatter"]||e.point.tooltipFormatter).call(e.point,t[(e.point.formatPrefix||"point")+"Format"]||"")})},styledModeFormat:function(e){return e.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')}}}),t(i,"parts/Pointer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.attr,a=t.defined,o=t.extend,c=t.isNumber,n=t.isObject,s=t.objectEach,r=t.offset,l=t.pick,d=t.splat,u=e.addEvent,p=e.charts,m=e.color,h=e.css,b=e.find,g=e.fireEvent,f=e.Tooltip;e.Pointer=function(e,t){this.init(e,t)},e.Pointer.prototype={init:function(e,t){this.options=t,this.chart=e,this.runChartClick=t.chart.events&&!!t.chart.events.click,this.pinchDown=[],this.lastValidTouch={},f&&(e.tooltip=new f(e,t.tooltip),this.followTouchMove=l(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(e){var t=this.chart,i=t.options.chart,a=i.zoomType||"";t=t.inverted,/touch/.test(e.type)&&(a=l(i.pinchType,a)),this.zoomX=e=/x/.test(a),this.zoomY=a=/y/.test(a),this.zoomHor=e&&!t||a&&t,this.zoomVert=a&&!t||e&&t,this.hasZoom=e||a},getChartPosition:function(){var e=this.chart;return e=e.scrollingContainer||e.container,this.chartPosition||(this.chartPosition=r(e))},normalize:function(e,t){var i=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e;t||(t=this.getChartPosition());var a=i.pageX-t.left;return t=i.pageY-t.top,(i=this.chart.containerScaling)&&(a/=i.scaleX,t/=i.scaleY),o(e,{chartX:Math.round(a),chartY:Math.round(t)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(e[i.horiz?"chartX":"chartY"])})}),t},findNearestKDPoint:function(e,t,i){var a;return e.forEach(function(e){var o=!(e.noSharedTooltip&&t)&&0>e.options.findNearestPointBy.indexOf("y");if(e=e.searchPoint(i,o),(o=n(e,!0))&&!(o=!n(a,!0))){var c=a.dist-e.dist,s=(e.series.group&&e.series.group.zIndex)-(a.series.group&&a.series.group.zIndex);o=0<(0!=(o=a.distX-e.distX)&&t?o:0!==c?c:0!==s?s:a.series.index>e.series.index?-1:1)}o&&(a=e)}),a},getPointFromEvent:function(e){e=e.target;for(var t;e&&!t;)t=e.point,e=e.parentNode;return t},getChartCoordinatesFromPoint:function(e,t){var i=e.series,a=i.xAxis;i=i.yAxis;var o=l(e.clientX,e.plotX),c=e.shapeArgs;return a&&i?t?{chartX:a.len+a.pos-o,chartY:i.len+i.pos-e.plotY}:{chartX:o+a.pos,chartY:e.plotY+i.pos}:c&&c.x&&c.y?{chartX:c.x,chartY:c.y}:void 0},getHoverData:function(e,t,i,a,o,c){var s,r=[];a=!(!a||!e);var d=t&&!t.stickyTracking?[t]:i.filter(function(e){return e.visible&&!(!o&&e.directTouch)&&l(e.options.enableMouseTracking,!0)&&e.stickyTracking});return t=(s=a||!c?e:this.findNearestKDPoint(d,o,c))&&s.series,s&&(o&&!t.noSharedTooltip?(d=i.filter(function(e){return e.visible&&!(!o&&e.directTouch)&&l(e.options.enableMouseTracking,!0)&&!e.noSharedTooltip})).forEach(function(e){var t=b(e.points,function(e){return e.x===s.x&&!e.isNull});n(t)&&(e.chart.isBoosting&&(t=e.getPoint(t)),r.push(t))}):r.push(s)),{hoverPoint:s,hoverSeries:t,hoverPoints:r}},runPointActions:function(t,i){var a=this.chart,o=a.tooltip&&a.tooltip.options.enabled?a.tooltip:void 0,c=!!o&&o.shared,n=i||a.hoverPoint,s=n&&n.series||a.hoverSeries;n=(s=this.getHoverData(n,s,a.series,(!t||"touchmove"!==t.type)&&(!!i||s&&s.directTouch&&this.isDirectTouch),c,t)).hoverPoint;var r=s.hoverPoints;if(i=(s=s.hoverSeries)&&s.tooltipOptions.followPointer,c=c&&s&&!s.noSharedTooltip,n&&(n!==a.hoverPoint||o&&o.isHidden)){if((a.hoverPoints||[]).forEach(function(e){-1===r.indexOf(e)&&e.setState()}),a.hoverSeries!==s&&s.onMouseOver(),this.applyInactiveState(r),(r||[]).forEach(function(e){e.setState("hover")}),a.hoverPoint&&a.hoverPoint.firePointEvent("mouseOut"),!n.series)return;n.firePointEvent("mouseOver"),a.hoverPoints=r,a.hoverPoint=n,o&&o.refresh(c?r:n,t)}else i&&o&&!o.isHidden&&(n=o.getAnchor([{}],t),o.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=u(a.container.ownerDocument,"mousemove",function(t){var i=p[e.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(t)})),a.axes.forEach(function(i){var a=l(i.crosshair.snap,!0),o=a?e.find(r,function(e){return e.series[i.coll]===i}):void 0;o||!a?i.drawCrosshair(t,o):i.hideCrosshair()})},applyInactiveState:function(e){var t,i=[];(e||[]).forEach(function(e){i.push(t=e.series),t.linkedParent&&i.push(t.linkedParent),t.linkedSeries&&(i=i.concat(t.linkedSeries)),t.navigatorSeries&&i.push(t.navigatorSeries)}),this.chart.series.forEach(function(e){-1===i.indexOf(e)?e.setState("inactive",!0):e.options.inactiveOtherPoints&&e.setAllPointsToState("inactive")})},reset:function(e,t){var i=this.chart,a=i.hoverSeries,o=i.hoverPoint,c=i.hoverPoints,n=i.tooltip,s=n&&n.shared?c:o;e&&s&&d(s).forEach(function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?n&&s&&d(s).length&&(n.refresh(s),n.shared&&c?c.forEach(function(e){e.setState(e.state,!0),e.series.isCartesian&&(e.series.xAxis.crosshair&&e.series.xAxis.drawCrosshair(null,e),e.series.yAxis.crosshair&&e.series.yAxis.drawCrosshair(null,e))}):o&&(o.setState(o.state,!0),i.axes.forEach(function(e){e.crosshair&&o.series[e.coll]===e&&e.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),c&&c.forEach(function(e){e.setState()}),a&&a.onMouseOut(),n&&n.hide(t),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(e){e.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(e,t){var i,a=this.chart;a.series.forEach(function(o){i=e||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&o.group&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(t?a.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),a.clipRect.attr(t||a.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,i=t.options.chart,a=e.chartX,o=e.chartY,c=this.zoomHor,s=this.zoomVert,r=t.plotLeft,l=t.plotTop,d=t.plotWidth,u=t.plotHeight,p=this.selectionMarker,h=this.mouseDownX,b=this.mouseDownY,g=n(i.panning)?i.panning&&i.panning.enabled:i.panning,f=i.panKey&&e[i.panKey+"Key"];if((!p||!p.touch)&&(a<r?a=r:a>r+d&&(a=r+d),o<l?o=l:o>l+u&&(o=l+u),this.hasDragged=Math.sqrt(Math.pow(h-a,2)+Math.pow(b-o,2)),10<this.hasDragged)){var _=t.isInsidePlot(h-r,b-l);t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&_&&!f&&!p&&(this.selectionMarker=p=t.renderer.rect(r,l,c?1:d,s?1:u,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),t.styledMode||p.attr({fill:i.selectionMarkerFill||m("#335cad").setOpacity(.25).get()})),p&&c&&(a-=h,p.attr({width:Math.abs(a),x:(0<a?0:a)+h})),p&&s&&(a=o-b,p.attr({height:Math.abs(a),y:(0<a?0:a)+b})),_&&!p&&g&&t.pan(e,i.panning)}},drop:function(e){var t=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,r={originalEvent:e,xAxis:[],yAxis:[]},l=this.selectionMarker,d=l.attr?l.attr("x"):l.x,u=l.attr?l.attr("y"):l.y,p=l.attr?l.attr("width"):l.width,m=l.attr?l.attr("height"):l.height;(this.hasDragged||n)&&(i.axes.forEach(function(i){if(i.zoomEnabled&&a(i.min)&&(n||t[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,c="touchend"===e.type?i.minPixelPadding:0,l=i.toValue((o?d:u)+c);o=i.toValue((o?d+p:u+m)-c),r[i.coll].push({axis:i,min:Math.min(l,o),max:Math.max(l,o)}),s=!0}}),s&&g(i,"selection",r,function(e){i.zoom(o(e,n?{animation:!1}:null))})),c(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),n&&this.scaleGroups()}i&&c(i.index)&&(h(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){2!==(e=this.normalize(e)).button&&(this.zoomOption(e),e.preventDefault&&e.preventDefault(),this.dragStart(e))},onDocumentMouseUp:function(t){p[e.hoverChartIndex]&&p[e.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition;e=this.normalize(e,i),!i||this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(t){var i=p[e.hoverChartIndex];i&&(t.relatedTarget||t.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=void 0)},onContainerMouseMove:function(t){var i=this.chart;a(e.hoverChartIndex)&&p[e.hoverChartIndex]&&p[e.hoverChartIndex].mouseIsDown||(e.hoverChartIndex=i.index),(t=this.normalize(t)).preventDefault||(t.returnValue=!1),"mousedown"===i.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)||i.openMenu||this.runPointActions(t)},inClass:function(e,t){for(var a;e;){if(a=i(e,"class")){if(-1!==a.indexOf(t))return!0;if(-1!==a.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;e=e.relatedTarget||e.toElement,this.isDirectTouch=!1,!t||!e||t.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)&&this.inClass(e,"highcharts-tracker")||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,i=t.hoverPoint,a=t.plotLeft,c=t.plotTop;e=this.normalize(e),t.cancelClick||(i&&this.inClass(e.target,"highcharts-tracker")?(g(i.series,"click",o(e,{point:i})),t.hoverPoint&&i.firePointEvent("click",e)):(o(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-a,e.chartY-c)&&g(t,"click",e)))},setDOMEvents:function(){var t=this,i=t.chart.container,a=i.ownerDocument;i.onmousedown=function(e){t.onContainerMouseDown(e)},i.onmousemove=function(e){t.onContainerMouseMove(e)},i.onclick=function(e){t.onContainerClick(e)},this.unbindContainerMouseLeave=u(i,"mouseleave",t.onContainerMouseLeave),e.unbindDocumentMouseUp||(e.unbindDocumentMouseUp=u(a,"mouseup",t.onDocumentMouseUp)),e.hasTouch&&(u(i,"touchstart",function(e){t.onContainerTouchStart(e)}),u(i,"touchmove",function(e){t.onContainerTouchMove(e)}),e.unbindDocumentTouchEnd||(e.unbindDocumentTouchEnd=u(a,"touchend",t.onDocumentTouchEnd)))},destroy:function(){var t=this;t.unDocMouseMove&&t.unDocMouseMove(),this.unbindContainerMouseLeave(),e.chartCount||(e.unbindDocumentMouseUp&&(e.unbindDocumentMouseUp=e.unbindDocumentMouseUp()),e.unbindDocumentTouchEnd&&(e.unbindDocumentTouchEnd=e.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),s(t,function(e,i){t[i]=null})}}}),t(i,"parts/TouchPointer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.extend,a=t.pick,o=e.charts,c=e.noop;i(e.Pointer.prototype,{pinchTranslate:function(e,t,i,a,o,c){this.zoomHor&&this.pinchTranslateDirection(!0,e,t,i,a,o,c),this.zoomVert&&this.pinchTranslateDirection(!1,e,t,i,a,o,c)},pinchTranslateDirection:function(e,t,i,a,o,c,n,s){var r,l,d=this.chart,u=e?"x":"y",p=e?"X":"Y",m="chart"+p,h=e?"width":"height",b=d["plot"+(e?"Left":"Top")],g=s||1,f=d.inverted,_=d.bounds[e?"h":"v"],v=1===t.length,y=t[0][m],w=i[0][m],k=!v&&t[1][m],x=!v&&i[1][m];if((i=function(){!v&&20<Math.abs(y-k)&&(g=s||Math.abs(w-x)/Math.abs(y-k)),l=(b-w)/g+y,r=d["plot"+(e?"Width":"Height")]/g})(),(t=l)<_.min){t=_.min;var T=!0}else t+r>_.max&&(t=_.max-r,T=!0);T?(w-=.8*(w-n[u][0]),v||(x-=.8*(x-n[u][1])),i()):n[u]=[w,x],f||(c[u]=l-b,c[h]=r),c=f?1/g:g,o[h]=r,o[u]=t,a[f?e?"scaleY":"scaleX":"scale"+p]=g,a["translate"+p]=c*b+(w-c*y)},pinch:function(e){var t=this,o=t.chart,n=t.pinchDown,s=e.touches,r=s.length,l=t.lastValidTouch,d=t.hasZoom,u=t.selectionMarker,p={},m=1===r&&(t.inClass(e.target,"highcharts-tracker")&&o.runTrackerClick||t.runChartClick),h={};1<r&&(t.initiated=!0),d&&t.initiated&&!m&&e.preventDefault(),[].map.call(s,function(e){return t.normalize(e)}),"touchstart"===e.type?([].forEach.call(s,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),l.x=[n[0].chartX,n[1]&&n[1].chartX],l.y=[n[0].chartY,n[1]&&n[1].chartY],o.axes.forEach(function(e){if(e.zoomEnabled){var t=o.bounds[e.horiz?"h":"v"],i=e.minPixelPadding,c=e.toPixels(Math.min(a(e.options.min,e.dataMin),e.dataMin)),n=e.toPixels(Math.max(a(e.options.max,e.dataMax),e.dataMax)),s=Math.max(c,n);t.min=Math.min(e.pos,Math.min(c,n)-i),t.max=Math.max(e.pos+e.len,s+i)}}),t.res=!0):t.followTouchMove&&1===r?this.runPointActions(t.normalize(e)):n.length&&(u||(t.selectionMarker=u=i({destroy:c,touch:!0},o.plotBox)),t.pinchTranslate(n,s,p,u,h,l),t.hasPinched=d,t.scaleGroups(p,h),t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(t,i){var o=this.chart;if(o.index!==e.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),e.hoverChartIndex=o.index,1===t.touches.length)if(t=this.normalize(t),o.isInsidePlot(t.chartX-o.plotLeft,t.chartY-o.plotTop)&&!o.openMenu){if(i&&this.runPointActions(t),"touchmove"===t.type)var c=!!(i=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-t.chartX,2)+Math.pow(i[0].chartY-t.chartY,2));a(c,!0)&&this.pinch(t)}else i&&this.reset();else 2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(e){this.zoomOption(e),this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(t){o[e.hoverChartIndex]&&o[e.hoverChartIndex].pointer.drop(t)}})}),t(i,"parts/MSPointer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.extend,a=t.objectEach;t=t.wrap;var o=e.addEvent,c=e.charts,n=e.css,s=e.doc,r=e.noop,l=e.Pointer,d=e.removeEvent,u=e.win;if(!e.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var p={},m=!!u.PointerEvent,h=function(){var e=[];return e.item=function(e){return this[e]},a(p,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},b=function(t,i,a,o){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!c[e.hoverChartIndex]||(o(t),(o=c[e.hoverChartIndex].pointer)[i]({type:a,target:t.currentTarget,preventDefault:r,touches:h()}))};i(l.prototype,{onContainerPointerDown:function(e){b(e,"onContainerTouchStart","touchstart",function(e){p[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){b(e,"onContainerTouchMove","touchmove",function(e){p[e.pointerId]={pageX:e.pageX,pageY:e.pageY},p[e.pointerId].target||(p[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){b(e,"onDocumentTouchEnd","touchend",function(e){delete p[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,m?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,m?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(s,m?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),t(l.prototype,"init",function(e,t,i){e.call(this,t,i),this.hasZoom&&n(t.container,{"-ms-touch-action":"none","touch-action":"none"})}),t(l.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(o)}),t(l.prototype,"destroy",function(e){this.batchMSEvents(d),e.call(this)})}}),t(i,"parts/Legend.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.defined,a=t.discardElement,o=t.isNumber,c=t.pick,n=t.relativeLength,s=t.setAnimation,r=t.syncTimeout;t=t.wrap;var l=e.addEvent,d=e.css,u=e.fireEvent,p=e.isFirefox,m=e.marginNames,h=e.merge,b=e.stableSort,g=e.win;e.Legend=function(e,t){this.init(e,t)},e.Legend.prototype={init:function(e,t){this.chart=e,this.setOptions(t),t.enabled&&(this.render(),l(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=l(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(e){var t=c(e.padding,8);this.options=e,this.chart.styledMode||(this.itemStyle=e.itemStyle,this.itemHiddenStyle=h(this.itemStyle,e.itemHiddenStyle)),this.itemMarginTop=e.itemMarginTop||0,this.itemMarginBottom=e.itemMarginBottom||0,this.padding=t,this.initialItemY=t-5,this.symbolWidth=c(e.symbolWidth,16),this.pages=[],this.proximate="proximate"===e.layout&&!this.chart.inverted},update:function(e,t){var i=this.chart;this.setOptions(h(!0,this.options,e)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,c(t,!0)&&i.redraw(),u(this,"afterUpdate")},colorizeItem:function(e,t){if(e.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var i=this.options,a=e.legendItem,o=e.legendLine,c=e.legendSymbol,n=this.itemHiddenStyle.color;i=t?i.itemStyle.color:n;var s=t&&e.color||n,r=e.options&&e.options.marker,l={fill:s};a&&a.css({fill:i,color:i}),o&&o.attr({stroke:s}),c&&(r&&c.isMarker&&(l=e.pointAttribs(),t||(l.stroke=l.fill=n)),c.attr(l))}u(this,"afterColorizeItem",{item:e,visible:t})},positionItems:function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(e){var t=this.options,a=t.symbolPadding;t=!t.rtl;var o=e._legendItemPos,c=o[0];o=o[1];var n=e.checkbox;(e=e.legendGroup)&&e.element&&e[i(e.translateY)?"animate":"attr"]({translateX:t?c:this.legendWidth-c-2*a-4,translateY:o}),n&&(n.x=c,n.y=o)},destroyItem:function(e){var t=e.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(t){e[t]&&(e[t]=e[t].destroy())}),t&&a(e.checkbox)},destroy:function(){function e(e){this[e]&&(this[e]=this[e].destroy())}this.getAllItems().forEach(function(t){["legendItem","legendGroup"].forEach(e,t)}),"clipRect up down pager nav box title group".split(" ").forEach(e,this),this.display=null},positionCheckboxes:function(){var e=this.group&&this.group.alignAttr,t=this.clipHeight||this.legendHeight,i=this.titleHeight;if(e){var a=e.translateY;this.allItems.forEach(function(o){var c=o.checkbox;if(c){var n=a+i+c.y+(this.scrollOffset||0)+3;d(c,{left:e.translateX+o.checkboxOffset+c.x-20+"px",top:n+"px",display:this.proximate||n>a-6&&n<a+t-6?"":"none"})}},this)}},renderTitle:function(){var e=this.options,t=this.padding,i=e.title,a=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,t-3,t-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),a=(e=this.title.getBBox()).height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},setText:function(t){var i=this.options;t.legendItem.attr({text:i.labelFormat?e.format(i.labelFormat,t,this.chart):i.labelFormatter.call(t)})},renderItem:function(e){var t=this.chart,i=t.renderer,a=this.options,o=this.symbolWidth,n=a.symbolPadding,s=this.itemStyle,r=this.itemHiddenStyle,l="horizontal"===a.layout?c(a.itemDistance,20):0,d=!a.rtl,u=e.legendItem,p=!e.series,m=!p&&e.series.drawLegendSymbol?e.series:e,b=m.options;l=o+n+l+((b=this.createCheckboxForItem&&b&&b.showCheckbox)?20:0);var g=a.useHTML,f=e.options.className;u||(e.legendGroup=i.g("legend-item").addClass("highcharts-"+m.type+"-series highcharts-color-"+e.colorIndex+(f?" "+f:"")+(p?" highcharts-series-"+e.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.legendItem=u=i.text("",d?o+n:-n,this.baseline||0,g),t.styledMode||u.css(h(e.visible?s:r)),u.attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(t.styledMode?12:s.fontSize,u),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,u.attr("y",this.baseline)),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,m.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,u,g)),b&&!e.checkbox&&this.createCheckboxForItem(e),this.colorizeItem(e,e.visible),!t.styledMode&&s.width||u.css({width:(a.itemWidth||this.widthOption||t.spacingBox.width)-l}),this.setText(e),t=u.getBBox(),e.itemWidth=e.checkboxOffset=a.itemWidth||e.legendItemWidth||t.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,e.itemWidth),this.totalItemWidth+=e.itemWidth,this.itemHeight=e.itemHeight=Math.round(e.legendItemHeight||t.height||this.symbolHeight)},layoutItem:function(e){var t=this.options,i=this.padding,a="horizontal"===t.layout,o=e.itemHeight,n=this.itemMarginBottom,s=this.itemMarginTop,r=a?c(t.itemDistance,20):0,l=this.maxLegendWidth;t=t.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:e.itemWidth,a&&this.itemX-i+t>l&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=s+this.lastLineHeight+n),this.lastLineHeight=0),this.lastItemY=s+this.itemY+n,this.lastLineHeight=Math.max(o,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=t:(this.itemY+=s+o+n,this.lastLineHeight=o),this.offsetWidth=this.widthOption||Math.max((a?this.itemX-i-(e.checkbox?0:r):t)+i,this.offsetWidth)},getAllItems:function(){var e=[];return this.chart.series.forEach(function(t){var a=t&&t.options;t&&c(a.showInLegend,!i(a.linkedTo)&&void 0,!0)&&(e=e.concat(t.legendItems||("point"===a.legendType?t.data:t)))}),u(this,"afterGetAllItems",{allItems:e}),e},getAlignment:function(){var e=this.options;return this.proximate?e.align.charAt(0)+"tv":e.floating?"":e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)},adjustMargins:function(e,t){var a=this.chart,o=this.options,n=this.getAlignment();n&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(s,r){s.test(n)&&!i(e[r])&&(a[m[r]]=Math.max(a[m[r]],a.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*o[r%2?"x":"y"]+c(o.margin,12)+t[r]+(a.titleOffset[r]||0)))})},proximatePositions:function(){var t=this.chart,i=[],a="left"===this.options.align;this.allItems.forEach(function(c){var n=a;if(c.yAxis&&c.points){c.xAxis.options.reversed&&(n=!n);var s=e.find(n?c.points:c.points.slice(0).reverse(),function(e){return o(e.plotY)});n=this.itemMarginTop+c.legendItem.getBBox().height+this.itemMarginBottom;var r=c.yAxis.top-t.plotTop;c.visible?(s=s?s.plotY:c.yAxis.height,s+=r-.3*n):s=r+c.yAxis.height,i.push({target:s,size:n,item:c})}},this),e.distribute(i,t.plotHeight),i.forEach(function(e){e.item._legendItemPos[1]=t.plotTop-t.spacing[0]+e.pos})},render:function(){var e,t=this.chart,i=t.renderer,a=this.group,o=this.box,c=this.options,s=this.padding;this.itemX=s,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=n(c.width,t.spacingBox.width-s);var r=t.spacingBox.width-2*s-c.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(r/=2),this.maxLegendWidth=this.widthOption||r,a||(this.group=a=i.g("legend").attr({zIndex:7}).add(),this.contentGroup=i.g().attr({zIndex:1}).add(a),this.scrollGroup=i.g().add(this.contentGroup)),this.renderTitle(),r=this.getAllItems(),b(r,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&r.reverse(),this.allItems=r,this.display=e=!!r.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,r.forEach(this.renderItem,this),r.forEach(this.layoutItem,this),r=(this.widthOption||this.offsetWidth)+s;var l=this.lastItemY+this.lastLineHeight+this.titleHeight;l=this.handleOverflow(l),l+=s,o||(this.box=o=i.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(a),o.isNew=!0),t.styledMode||o.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),0<r&&0<l&&(o[o.isNew?"attr":"animate"](o.crisp.call({},{x:0,y:0,width:r,height:l},o.strokeWidth())),o.isNew=!1),o[e?"show":"hide"](),t.styledMode&&"none"===a.getStyle("display")&&(r=l=0),this.legendWidth=r,this.legendHeight=l,e&&(o=(i=t.spacingBox).y,/(lth|ct|rth)/.test(this.getAlignment())&&0<t.titleOffset[0]?o+=t.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<t.titleOffset[2]&&(o-=t.titleOffset[2]),o!==i.y&&(i=h(i,{y:o})),a.align(h(c,{width:r,height:l,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,i)),this.proximate||this.positionItems(),u(this,"afterRender")},handleOverflow:function(e){var t=this,i=this.chart,a=i.renderer,o=this.options,n=o.y,s=this.padding;n=i.spacingBox.height+("top"===o.verticalAlign?-n:n)-s;var r,l,d=o.maxHeight,u=this.clipRect,p=o.navigation,m=c(p.animation,!0),h=p.arrowSize||12,b=this.nav,g=this.pages,f=this.allItems,_=function(e){"number"==typeof e?u.attr({height:e}):u&&(t.clipRect=u.destroy(),t.contentGroup.clip()),t.contentGroup.div&&(t.contentGroup.div.style.clip=e?"rect("+s+"px,9999px,"+(s+e)+"px,0)":"auto")},v=function(e){return t[e]=a.circle(0,0,1.3*h).translate(h/2,h/2).add(b),i.styledMode||t[e].attr("fill","rgba(0,0,0,0.0001)"),t[e]};return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(n/=2),d&&(n=Math.min(n,d)),g.length=0,e>n&&!1!==p.enabled?(this.clipHeight=r=Math.max(n-20-this.titleHeight-s,0),this.currentPage=c(this.currentPage,1),this.fullHeight=e,f.forEach(function(e,t){var i=e._legendItemPos[1],a=Math.round(e.legendItem.getBBox().height),o=g.length;(!o||i-g[o-1]>r&&(l||i)!==g[o-1])&&(g.push(l||i),o++),e.pageIx=o-1,l&&(f[t-1].pageIx=o-1),t===f.length-1&&i+a-g[o-1]>r&&i!==l&&(g.push(i),e.pageIx=o),i!==l&&(l=i)}),u||(u=t.clipRect=a.clipRect(0,s,9999,0),t.contentGroup.clip(u)),_(r),b||(this.nav=b=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,h,h).add(b),v("upTracker").on("click",function(){t.scroll(-1,m)}),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation"),i.styledMode||this.pager.css(p.style),this.pager.add(b),this.down=a.symbol("triangle-down",0,0,h,h).add(b),v("downTracker").on("click",function(){t.scroll(1,m)})),t.scroll(0),e=n):b&&(_(),this.nav=b.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(t,i){var a=this,o=this.chart,n=this.pages,l=n.length,d=this.currentPage+t;t=this.clipHeight;var p=this.options.navigation,m=this.pager,h=this.padding;d>l&&(d=l),0<d&&(void 0!==i&&s(i,o),this.nav.attr({translateX:h,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(e){e.attr({class:1===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),m.attr({text:d+"/"+l}),[this.down,this.downTracker].forEach(function(e){e.attr({x:18+this.pager.getBBox().width,class:d===l?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),o.styledMode||(this.up.attr({fill:1===d?p.inactiveColor:p.activeColor}),this.upTracker.css({cursor:1===d?"default":"pointer"}),this.down.attr({fill:d===l?p.inactiveColor:p.activeColor}),this.downTracker.css({cursor:d===l?"default":"pointer"})),this.scrollOffset=-n[d-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=d,this.positionCheckboxes(),i=e.animObject(c(i,o.renderer.globalAnimation,!0)),r(function(){u(a,"afterScroll",{currentPage:d})},i.duration||0))}},e.LegendSymbolMixin={drawRectangle:function(e,t){var i=e.symbolHeight,a=e.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(a?(e.symbolWidth-i)/2:0,e.baseline-i+1,a?i:e.symbolWidth,i,c(e.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,i=t.marker,a=e.symbolWidth,o=e.symbolHeight,n=o/2,s=this.chart.renderer,r=this.legendGroup;e=e.baseline-Math.round(.3*e.fontMetrics.b);var l={};this.chart.styledMode||(l={"stroke-width":t.lineWidth||0},t.dashStyle&&(l.dashstyle=t.dashStyle)),this.legendLine=s.path(["M",0,e,"L",a,e]).addClass("highcharts-graph").attr(l).add(r),i&&!1!==i.enabled&&a&&(t=Math.min(c(i.radius,n),n),0===this.symbol.indexOf("url")&&(i=h(i,{width:o,height:o}),t=0),this.legendSymbol=i=s.symbol(this.symbol,a/2-t,e-t,2*t,2*t,i).addClass("highcharts-point").add(r),i.isMarker=!0)}},(/Trident\/7\.0/.test(g.navigator&&g.navigator.userAgent)||p)&&t(e.Legend.prototype,"positionItem",function(e,t){var i=this,a=function(){t._legendItemPos&&e.call(i,t)};a(),i.bubbleLegend||setTimeout(a)})}),t(i,"parts/Chart.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.animObject,a=t.attr,o=t.defined,c=t.discardElement,n=t.erase,s=t.extend,r=t.isArray,l=t.isNumber,d=t.isObject,u=t.isString,p=t.numberFormat,m=t.objectEach,h=t.pick,b=t.pInt,g=t.relativeLength,f=t.setAnimation,_=t.splat,v=t.syncTimeout,y=e.addEvent,w=e.animate,k=e.doc,x=e.Axis,T=e.createElement,S=e.defaultOptions,j=e.charts,O=e.css,I=e.find,D=e.fireEvent,C=e.Legend,P=e.marginNames,$=e.merge,z=e.Pointer,M=e.removeEvent,E=e.seriesTypes,L=e.win,A=e.Chart=function(){this.getArgs.apply(this,arguments)};e.chart=function(e,t,i){return new A(e,t,i)},s(A.prototype,{callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(u(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(t,i){var a,o=t.series,c=t.plotOptions||{};D(this,"init",{args:arguments},function(){t.series=null,a=$(S,t),m(a.plotOptions,function(e,t){d(e)&&(e.tooltip=c[t]&&$(c[t].tooltip)||void 0)}),a.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,a.series=t.series=o,this.userOptions=t;var n=a.chart,s=n.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new e.Time(t.time):e.time,this.numberFormatter=n.numberFormatter||p,this.styledMode=n.styledMode,this.hasCartesianSeries=n.showAxes;var r=this;r.index=j.length,j.push(r),e.chartCount++,s&&m(s,function(t,i){e.isFunction(t)&&y(r,i,t)}),r.xAxis=[],r.yAxis=[],r.pointCount=r.colorCounter=r.symbolCounter=0,D(r,"afterInit"),r.firstRender()})},initSeries:function(t){var i=this.options.chart,a=E[i=t.type||i.type||i.defaultSeriesType];return a||e.error(17,!0,this,{missingModuleFor:i}),(i=new a).init(this,t),i},setSeriesData:function(){this.getSeriesOrderByLinks().forEach(function(e){e.points||e.data||!e.enabledDataSorting||e.setData(e.options.data,!1)})},getSeriesOrderByLinks:function(){return this.series.concat().sort(function(e,t){return e.linkedSeries.length||t.linkedSeries.length?t.linkedSeries.length-e.linkedSeries.length:0})},orderSeries:function(e){var t=this.series;for(e=e||0;e<t.length;e++)t[e]&&(t[e].index=e,t[e].name=t[e].getName())},isInsidePlot:function(e,t,i){var a=i?t:e;return e=i?e:t,0<=a&&a<=this.plotWidth&&0<=e&&e<=this.plotHeight},redraw:function(e){D(this,"beforeRedraw");var t=this.axes,i=this.series,a=this.pointer,o=this.legend,c=this.userOptions.legend,n=this.isDirtyLegend,r=this.hasCartesianSeries,l=this.isDirtyBox,d=this.renderer,u=d.isHidden(),p=[];for(this.setResponsive&&this.setResponsive(!1),f(e,this),u&&this.temporaryDisplay(),this.layOutTitles(),e=i.length;e--;){var m=i[e];if(m.options.stacking){var h=!0;if(m.isDirty){var b=!0;break}}}if(b)for(e=i.length;e--;)(m=i[e]).options.stacking&&(m.isDirty=!0);i.forEach(function(e){e.isDirty&&("point"===e.options.legendType?(e.updateTotals&&e.updateTotals(),n=!0):c&&(c.labelFormatter||c.labelFormat)&&(n=!0)),e.isDirtyData&&D(e,"updatedData")}),n&&o&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),h&&this.getStacks(),r&&t.forEach(function(e){e.updateNames(),e.setScale()}),this.getMargins(),r&&(t.forEach(function(e){e.isDirty&&(l=!0)}),t.forEach(function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,p.push(function(){D(e,"afterSetExtremes",s(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(l||h)&&e.redraw()})),l&&this.drawChartBox(),D(this,"predraw"),i.forEach(function(e){(l||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1}),a&&a.reset(!0),d.draw(),D(this,"redraw"),D(this,"render"),u&&this.temporaryDisplay(!0),p.forEach(function(e){e.call()})},get:function(e){function t(t){return t.id===e||t.options&&t.options.id===e}var i,a=this.series,o=I(this.axes,t)||I(this.series,t);for(i=0;!o&&i<a.length;i++)o=I(a[i].points||[],t);return o},getAxes:function(){var e=this,t=this.options,i=t.xAxis=_(t.xAxis||{});t=t.yAxis=_(t.yAxis||{}),D(this,"getAxes"),i.forEach(function(e,t){e.index=t,e.isX=!0}),t.forEach(function(e,t){e.index=t}),i.concat(t).forEach(function(t){new x(e,t)}),D(this,"afterGetAxes")},getSelectedPoints:function(){var e=[];return this.series.forEach(function(t){e=e.concat((t[t.hasGroupedData?"points":"data"]||[]).filter(function(e){return h(e.selectedStaging,e.selected)}))}),e},getSelectedSeries:function(){return this.series.filter(function(e){return e.selected})},setTitle:function(e,t,i){this.applyDescription("title",e),this.applyDescription("subtitle",t),this.applyDescription("caption",void 0),this.layOutTitles(i)},applyDescription:function(e,t){var i=this,a="title"===e?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};a=this.options[e]=$(!this.styledMode&&{style:a},this.options[e],t);var o=this[e];o&&t&&(this[e]=o=o.destroy()),a&&!o&&((o=this.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,class:"highcharts-"+e,zIndex:a.zIndex||4}).add()).update=function(t){i[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[e]](t)},this.styledMode||o.css(a.style),this[e]=o)},layOutTitles:function(e){var t=[0,0,0],i=this.renderer,a=this.spacingBox;["title","subtitle","caption"].forEach(function(e){var o=this[e],c=this.options[e],n=c.verticalAlign||"top";if(e="title"===e?-3:"top"===n?t[0]+2:0,o){if(!this.styledMode)var r=c.style.fontSize;r=i.fontMetrics(r,o).b,o.css({width:(c.width||a.width+(c.widthAdjust||0))+"px"});var l=Math.round(o.getBBox(c.useHTML).height);o.align(s({y:"bottom"===n?r:e+r,height:l},c),!1,"spacingBox"),c.floating||("top"===n?t[0]=Math.ceil(t[0]+l):"bottom"===n&&(t[2]=Math.ceil(t[2]+l)))}},this),t[0]&&"top"===(this.options.title.verticalAlign||"top")&&(t[0]+=this.options.title.margin),t[2]&&"bottom"===this.options.caption.verticalAlign&&(t[2]+=this.options.caption.margin);var o=!this.titleOffset||this.titleOffset.join(",")!==t.join(",");this.titleOffset=t,D(this,"afterLayOutTitles"),!this.isDirtyBox&&o&&(this.isDirtyBox=this.isDirtyLegend=o,this.hasRendered&&h(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,i=t.width;t=t.height;var a=this.renderTo;o(i)||(this.containerWidth=e.getStyle(a,"width")),o(t)||(this.containerHeight=e.getStyle(a,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,g(t,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(t){var i=this.renderTo;if(t)for(;i&&i.style;)i.hcOrigStyle&&(e.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(k.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(k.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,k.body.appendChild(i)),("none"===e.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},t={display:"block",overflow:"hidden"},i!==this.renderTo&&(t.height=0),e.css(i,t),i.offsetWidth||i.style.setProperty("display","block","important")),(i=i.parentNode)!==k.body););},setClassName:function(e){this.container.className="highcharts-container "+(e||"")},getContainer:function(){var t,i,o=this.options,c=o.chart,n=this.renderTo,r=e.uniqueKey();n||(this.renderTo=n=c.renderTo),u(n)&&(this.renderTo=n=k.getElementById(n)),n||e.error(13,!0,this);var d=b(a(n,"data-highcharts-chart"));l(d)&&j[d]&&j[d].hasRendered&&j[d].destroy(),a(n,"data-highcharts-chart",this.index),n.innerHTML="",c.skipClone||n.offsetWidth||this.temporaryDisplay(),this.getChartSize(),d=this.chartWidth;var p=this.chartHeight;if(O(n,{overflow:"hidden"}),this.styledMode||(t=s({position:"relative",overflow:"hidden",width:d+"px",height:p+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},c.style)),this.container=n=T("div",{id:r},t,n),this._cursor=n.style.cursor,this.renderer=new(e[c.renderer]||e.Renderer)(n,d,p,null,c.forExport,o.exporting&&o.exporting.allowHTML,this.styledMode),this.setClassName(c.className),this.styledMode)for(i in o.defs)this.renderer.definition(o.defs[i]);else this.renderer.setStyle(c.style);this.renderer.chartIndex=this.index,D(this,"afterGetContainer")},getMargins:function(e){var t=this.spacing,i=this.margin,a=this.titleOffset;this.resetMargins(),a[0]&&!o(i[0])&&(this.plotTop=Math.max(this.plotTop,a[0]+t[0])),a[2]&&!o(i[2])&&(this.marginBottom=Math.max(this.marginBottom,a[2]+t[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,t),D(this,"getMargins"),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],i=e.colorAxis,a=e.margin,c=function(e){e.forEach(function(e){e.visible&&e.getOffset()})};e.hasCartesianSeries?c(e.axes):i&&i.length&&c(i),P.forEach(function(i,c){o(a[c])||(e[i]+=t[c])}),e.setChartSize()},reflow:function(t){var i=this,a=i.options.chart,c=i.renderTo,n=o(a.width)&&o(a.height),s=a.width||e.getStyle(c,"width");a=a.height||e.getStyle(c,"height"),c=t?t.target:L,n||i.isPrinting||!s||!a||c!==L&&c!==k||(s===i.containerWidth&&a===i.containerHeight||(e.clearTimeout(i.reflowTimeout),i.reflowTimeout=v(function(){i.container&&i.setSize(void 0,void 0,!1)},t?100:0)),i.containerWidth=s,i.containerHeight=a)},setReflow:function(e){var t=this;!1===e||this.unbindReflow?!1===e&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=y(L,"resize",function(e){t.options&&t.reflow(e)}),y(this,"destroy",this.unbindReflow))},setSize:function(e,t,a){var o=this,c=o.renderer;if(o.isResizing+=1,f(a,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==e&&(o.options.chart.width=e),void 0!==t&&(o.options.chart.height=t),o.getChartSize(),!o.styledMode){var n=c.globalAnimation;(n?w:O)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},n)}o.setChartSize(!0),c.setSize(o.chartWidth,o.chartHeight,a),o.axes.forEach(function(e){e.isDirty=!0,e.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(a),o.oldChartHeight=null,D(o,"resize"),v(function(){o&&D(o,"endResize",null,function(){--o.isResizing})},i(n).duration||0)},setChartSize:function(e){var t,i,a,o,c=this.inverted,n=this.renderer,s=this.chartWidth,r=this.chartHeight,l=this.options.chart,d=this.spacing,u=this.clipOffset;this.plotLeft=t=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=a=Math.max(0,Math.round(s-t-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(r-i-this.marginBottom)),this.plotSizeX=c?o:a,this.plotSizeY=c?a:o,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:d[3],y:d[0],width:s-d[3]-d[1],height:r-d[0]-d[2]},this.plotBox=n.plotBox={x:t,y:i,width:a,height:o},s=2*Math.floor(this.plotBorderWidth/2),c=Math.ceil(Math.max(s,u[3])/2),n=Math.ceil(Math.max(s,u[0])/2),this.clipBox={x:c,y:n,width:Math.floor(this.plotSizeX-Math.max(s,u[1])/2-c),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,u[2])/2-n))},e||this.axes.forEach(function(e){e.setAxisSize(),e.setAxisTranslation()}),D(this,"afterSetChartSize",{skipAxes:e})},resetMargins:function(){D(this,"resetMargins");var e=this,t=e.options.chart;["margin","spacing"].forEach(function(i){var a=t[i],o=d(a)?a:[a,a,a,a];["Top","Right","Bottom","Left"].forEach(function(a,c){e[i][c]=h(t[i+a],o[c])})}),P.forEach(function(t,i){e[t]=h(e.margin[i],e.spacing[i])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,i=this.renderer,a=this.chartWidth,o=this.chartHeight,c=this.chartBackground,n=this.plotBackground,s=this.plotBorder,r=this.styledMode,l=this.plotBGImage,d=t.backgroundColor,u=t.plotBackgroundColor,p=t.plotBackgroundImage,m=this.plotLeft,h=this.plotTop,b=this.plotWidth,g=this.plotHeight,f=this.plotBox,_=this.clipRect,v=this.clipBox,y="animate";if(c||(this.chartBackground=c=i.rect().addClass("highcharts-background").add(),y="attr"),r)var w=e=c.strokeWidth();else e=(w=t.borderWidth||0)+(t.shadow?8:0),d={fill:d||"none"},(w||c["stroke-width"])&&(d.stroke=t.borderColor,d["stroke-width"]=w),c.attr(d).shadow(t.shadow);c[y]({x:e/2,y:e/2,width:a-e-w%2,height:o-e-w%2,r:t.borderRadius}),y="animate",n||(y="attr",this.plotBackground=n=i.rect().addClass("highcharts-plot-background").add()),n[y](f),r||(n.attr({fill:u||"none"}).shadow(t.plotShadow),p&&(l?(p!==l.attr("href")&&l.attr("href",p),l.animate(f)):this.plotBGImage=i.image(p,m,h,b,g).add())),_?_.animate({width:v.width,height:v.height}):this.clipRect=i.clipRect(v),y="animate",s||(y="attr",this.plotBorder=s=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),r||s.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),s[y](s.crisp({x:m,y:h,width:b,height:g},-s.strokeWidth())),this.isDirtyBox=!1,D(this,"afterDrawChartBox")},propFromSeries:function(){var e,t,i,a=this,o=a.options.chart,c=a.options.series;["inverted","angular","polar"].forEach(function(n){for(e=E[o.type||o.defaultSeriesType],i=o[n]||e&&e.prototype[n],t=c&&c.length;!i&&t--;)(e=E[c[t].type])&&e.prototype[n]&&(i=!0);a[n]=i})},linkSeries:function(){var e=this,t=e.series;t.forEach(function(e){e.linkedSeries.length=0}),t.forEach(function(t){var i=t.options.linkedTo;u(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,i.enabledDataSorting&&t.setDataSortingOptions(),t.visible=h(t.options.visible,i.options.visible,t.visible))}),D(this,"afterLinkSeries")},renderSeries:function(){this.series.forEach(function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&t.items.forEach(function(i){var a=s(t.style,i.style),o=b(a.left)+e.plotLeft,c=b(a.top)+e.plotTop+12;delete a.left,delete a.top,e.renderer.text(i.html,o,c).attr({zIndex:2}).css(a).add()})},render:function(){var e=this.axes,t=this.colorAxis,i=this.renderer,a=this.options,o=0,c=function(e){e.forEach(function(e){e.visible&&e.render()})};this.setTitle(),this.legend=new C(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),a=this.plotWidth,e.some(function(e){if(e.horiz&&e.visible&&e.options.labels.enabled&&e.series.length)return o=21,!0});var n=this.plotHeight=Math.max(this.plotHeight-o,0);e.forEach(function(e){e.setScale()}),this.getAxisMargins();var s=1.1<a/this.plotWidth,r=1.05<n/this.plotHeight;(s||r)&&(e.forEach(function(e){(e.horiz&&s||!e.horiz&&r)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?c(e):t&&t.length&&c(t),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.updateContainerScaling(),this.hasRendered=!0},addCredits:function(e){var t=this;(e=$(!0,this.options.credits,e)).enabled&&!this.credits&&(this.credits=this.renderer.text(e.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){e.href&&(L.location.href=e.href)}).attr({align:e.position.align,zIndex:8}),t.styledMode||this.credits.css(e.style),this.credits.add().align(e.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})},updateContainerScaling:function(){var e=this.container;if(e.offsetWidth&&e.offsetHeight&&e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=t.width/e.offsetWidth;e=t.height/e.offsetHeight,1!==i||1!==e?this.containerScaling={scaleX:i,scaleY:e}:delete this.containerScaling}},destroy:function(){var t,i=this,a=i.axes,o=i.series,s=i.container,r=s&&s.parentNode;for(D(i,"destroy"),i.renderer.forExport?n(j,i):j[i.index]=void 0,e.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),M(i),t=a.length;t--;)a[t]=a[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=o.length;t--;)o[t]=o[t].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(e){var t=i[e];t&&t.destroy&&(i[e]=t.destroy())}),s&&(s.innerHTML="",M(s),r&&c(s)),m(i,function(e,t){delete i[t]})},firstRender:function(){var e=this,t=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),(r(t.series)?t.series:[]).forEach(function(t){e.initSeries(t)}),e.linkSeries(),e.setSeriesData(),D(e,"beforeRender"),z&&(e.pointer=new z(e,t)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){this.callbacks.concat([this.callback]).forEach(function(e){e&&void 0!==this.index&&e.apply(this,[this])},this),D(this,"load"),D(this,"render"),o(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}),t(i,"parts/ScrollablePlotArea.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.pick,a=e.addEvent;a(t=e.Chart,"afterSetChartSize",function(t){var i=this.options.chart.scrollablePlotArea,a=i&&i.minWidth;if(i=i&&i.minHeight,!this.renderer.forExport){if(a){if(this.scrollablePixelsX=a=Math.max(0,a-this.chartWidth)){this.plotWidth+=a,this.inverted?(this.clipBox.height+=a,this.plotBox.height+=a):(this.clipBox.width+=a,this.plotBox.width+=a);var o={1:{name:"right",value:a}}}}else i&&(this.scrollablePixelsY=a=Math.max(0,i-this.chartHeight))&&(this.plotHeight+=a,this.inverted?(this.clipBox.width+=a,this.plotBox.width+=a):(this.clipBox.height+=a,this.plotBox.height+=a),o={2:{name:"bottom",value:a}});o&&!t.skipAxes&&this.axes.forEach(function(t){o[t.side]?t.getPlotLinePath=function(){var i=o[t.side].name,a=this[i];this[i]=a-o[t.side].value;var c=e.Axis.prototype.getPlotLinePath.apply(this,arguments);return this[i]=a,c}:(t.setAxisSize(),t.setAxisTranslation())})}}),a(t,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),t.prototype.setUpScrolling=function(){var t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingContainer=e.createElement("div",{className:"highcharts-scrolling"},t,this.renderTo),this.innerContainer=e.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},t.prototype.moveFixedElements=function(){var e,t=this.container,i=this.fixedRenderer,a=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?e=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?e=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(e=".highcharts-yaxis"),a.push(e,e+"-labels"),a.forEach(function(e){[].forEach.call(t.querySelectorAll(e),function(e){(e.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(e),e.style.pointerEvents="auto"})})},t.prototype.applyFixed=function(){var t,o=!this.fixedDiv,c=this.options.chart.scrollablePlotArea;o?(this.fixedDiv=e.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.renderTo.style.overflow="visible",this.fixedRenderer=t=new e.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight),this.scrollableMask=t.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":i(c.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),t=this.chartWidth+(this.scrollablePixelsX||0);var n=this.chartHeight+(this.scrollablePixelsY||0);e.stop(this.container),this.container.style.width=t+"px",this.container.style.height=n+"px",this.renderer.boxWrapper.attr({width:t,height:n,viewBox:[0,0,t,n].join(" ")}),this.chartBackground.attr({width:t,height:n}),this.scrollablePixelsY&&(this.scrollingContainer.style.height=this.chartHeight+"px"),o&&(c.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*c.scrollPositionX),c.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*c.scrollPositionY)),o=this.plotTop-(n=this.axisOffset)[0]-1,c=this.plotLeft-n[3]-1,t=this.plotTop+this.plotHeight+n[2]+1,n=this.plotLeft+this.plotWidth+n[1]+1;var s=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),r=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);o=this.scrollablePixelsX?["M",0,o,"L",this.plotLeft-1,o,"L",this.plotLeft-1,t,"L",0,t,"Z","M",s,o,"L",this.chartWidth,o,"L",this.chartWidth,t,"L",s,t,"Z"]:this.scrollablePixelsY?["M",c,0,"L",c,this.plotTop-1,"L",n,this.plotTop-1,"L",n,0,"Z","M",c,r,"L",c,this.chartHeight,"L",n,this.chartHeight,"L",n,r,"Z"]:["M",0,0],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:o})}}),t(i,"parts/Point.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i,a=t.animObject,o=t.defined,c=t.erase,n=t.extend,s=t.isArray,r=t.isNumber,l=t.isObject,d=t.syncTimeout,u=t.pick,p=e.fireEvent,m=e.format,h=e.uniqueKey,b=e.removeEvent;e.Point=i=function(){},e.Point.prototype={init:function(e,t,i){return this.series=e,this.applyOptions(t,i),this.id=o(this.id)?this.id:h(),this.resolveColor(),e.chart.pointCount++,p(this,"afterInit"),this},resolveColor:function(){var e=this.series,t=e.chart.options.chart.colorCount,i=e.chart.styledMode;i||this.options.color||(this.color=e.color),e.options.colorByPoint?(i||(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter],t=t.length),i=e.colorCounter,e.colorCounter++,e.colorCounter===t&&(e.colorCounter=0)):i=e.colorIndex,this.colorIndex=u(this.colorIndex,i)},applyOptions:function(e,t){var a=this.series,o=a.options.pointValKey||a.pointValKey;return e=i.prototype.optionsToObject.call(this,e),n(this,e),this.options=this.options?n(this.options,e):e,e.group&&delete this.group,e.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.formatPrefix=(this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!r(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===t&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),void 0===this.x&&a&&(this.x=void 0===t?a.autoIncrement(this):t),this},setNestedProperty:function(e,t,i){return i.split(".").reduce(function(e,i,a,o){return e[i]=o.length-1===a?t:l(e[i],!0)?e[i]:{},e[i]},e),e},optionsToObject:function(t){var i={},a=this.series,o=a.options.keys,c=o||a.pointArrayMap||["y"],n=c.length,l=0,d=0;if(r(t)||null===t)i[c[0]]=t;else if(s(t))for(!o&&t.length>n&&("string"==(a=typeof t[0])?i.name=t[0]:"number"===a&&(i.x=t[0]),l++);d<n;)o&&void 0===t[l]||(0<c[d].indexOf(".")?e.Point.prototype.setNestedProperty(i,t[l],c[d]):i[c[d]]=t[l]),l++,d++;else"object"==typeof t&&(i=t,t.dataLabels&&(a._hasPointLabels=!0),t.marker&&(a._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var e=this.series,t=e.zones;e=e.zoneAxis||"y";var i,a=0;for(i=t[a];this[e]>=i.value;)i=t[++a];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=i&&i.color&&!this.options.color?i.color:this.nonZonedColor,i},hasNewShapeType:function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},destroy:function(){function e(){for(n in s&&(t.setState(),c(s,t),s.length||(o.hoverPoints=null)),t===o.hoverPoint&&t.onMouseOut(),(t.graphic||t.dataLabel||t.dataLabels)&&(b(t),t.destroyElements()),t)t[n]=null}var t=this,i=t.series,o=i.chart;i=i.options.dataSorting;var n,s=o.hoverPoints,r=a(t.series.chart.renderer.globalAnimation);i&&i.enabled?(this.animateBeforeDestroy(),d(e,r.duration)):e(),o.pointCount--,t.legendItem&&o.legend.destroyItem(t)},animateBeforeDestroy:function(){var e=this,t={x:e.startXPos,opacity:0},i=e.getGraphicalProps();i.singular.forEach(function(i){e[i]=e[i].animate("dataLabel"===i?{x:e[i].startXPos,y:e[i].startYPos,opacity:0}:t)}),i.plural.forEach(function(t){e[t].forEach(function(t){t.element&&t.animate(n({x:e.startXPos},t.startYPos?{x:t.startXPos,y:t.startYPos}:{}))})})},destroyElements:function(e){var t=this;(e=t.getGraphicalProps(e)).singular.forEach(function(e){t[e]=t[e].destroy()}),e.plural.forEach(function(e){t[e].forEach(function(e){e.element&&e.destroy()}),delete t[e]})},getGraphicalProps:function(e){var t,i=this,a=[],o={singular:[],plural:[]};for((e=e||{graphic:1,dataLabel:1}).graphic&&a.push("graphic","shadowGroup"),e.dataLabel&&a.push("dataLabel","dataLabelUpper","connector"),t=a.length;t--;){var c=a[t];i[c]&&o.singular.push(c)}return["dataLabel","connector"].forEach(function(t){var a=t+"s";e[t]&&i[a]&&o.plural.push(a)}),o},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,a=u(i.valueDecimals,""),o=i.valuePrefix||"",c=i.valueSuffix||"";return t.chart.styledMode&&(e=t.chart.tooltip.styledModeFormat(e)),(t.pointArrayMap||["y"]).forEach(function(t){t="{point."+t,(o||c)&&(e=e.replace(RegExp(t+"}","g"),o+t+"}"+c)),e=e.replace(RegExp(t+"}","g"),t+":,."+a+"f}")}),m(e,{point:this,series:this.series},t.chart)},firePointEvent:function(e,t,i){var a=this,o=this.series.options;(o.point.events[e]||a.options&&a.options.events&&a.options.events[e])&&this.importEvents(),"click"===e&&o.allowPointSelect&&(i=function(e){a.select&&a.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),p(this,e,t,i)},visible:!0}}),t(i,"parts/Series.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.animObject,a=t.arrayMax,o=t.arrayMin,c=t.clamp,n=t.correctFloat,s=t.defined,r=t.erase,l=t.extend,d=t.isArray,u=t.isNumber,p=t.isString,m=t.objectEach,h=t.pick,b=t.splat,g=t.syncTimeout,f=e.addEvent,_=e.defaultOptions,v=e.defaultPlotOptions,y=e.fireEvent,w=e.merge,k=e.removeEvent,x=e.SVGElement,T=e.win;e.Series=e.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,eventsToUnbind:[],isCartesian:!0,parallelArrays:["x","y"],pointClass:e.Point,requireSorting:!0,sorted:!0,init:function(t,i){y(this,"init",{options:i});var a,o=this,c=t.series;this.eventOptions=this.eventOptions||{},o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),l(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected});var n=i.events;m(n,function(t,i){e.isFunction(t)&&o.eventOptions[i]!==t&&(e.isFunction(o.eventOptions[i])&&k(o,i,o.eventOptions[i]),o.eventOptions[i]=t,f(o,i,t))}),(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),o.parallelArrays.forEach(function(e){o[e+"Data"]||(o[e+"Data"]=[])}),o.isCartesian&&(t.hasCartesianSeries=!0),c.length&&(a=c[c.length-1]),o._i=h(a&&a._i,-1)+1,t.orderSeries(this.insert(c)),i.dataSorting&&i.dataSorting.enabled?o.setDataSortingOptions():o.points||o.data||o.setData(i.data,!1),y(this,"afterInit")},insert:function(e){var t,i=this.options.index;if(u(i)){for(t=e.length;t--;)if(i>=h(e[t].options.index,e[t]._i)){e.splice(t+1,0,this);break}-1===t&&e.unshift(this),t+=1}else e.push(this);return h(t,e.length-1)},bindAxes:function(){var t,i=this,a=i.options,o=i.chart;y(this,"bindAxes",null,function(){(i.axisTypes||[]).forEach(function(c){o[c].forEach(function(e){(a[c]===(t=e.options).index||void 0!==a[c]&&a[c]===t.id||void 0===a[c]&&0===t.index)&&(i.insert(e.series),i[c]=e,e.isDirty=!0)}),i[c]||i.optionalAxis===c||e.error(18,!0,o)})})},updateParallelArrays:function(e,t){var i=e.series,a=arguments,o=u(t)?function(a){var o="y"===a&&i.toYData?i.toYData(e):e[a];i[a+"Data"][t]=o}:function(e){Array.prototype[t].apply(i[e+"Data"],Array.prototype.slice.call(a,2))};i.parallelArrays.forEach(o)},hasData:function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},autoIncrement:function(){var e,t=this.options,i=this.xIncrement,a=t.pointIntervalUnit,o=this.chart.time;return i=h(i,t.pointStart,0),this.pointInterval=e=h(this.pointInterval,t.pointInterval,1),a&&(t=new o.Date(i),"day"===a?o.set("Date",t,o.get("Date",t)+e):"month"===a?o.set("Month",t,o.get("Month",t)+e):"year"===a&&o.set("FullYear",t,o.get("FullYear",t)+e),e=t.getTime()-i),this.xIncrement=i+e,i},setDataSortingOptions:function(){var e=this.options;l(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),s(e.pointRange)||(e.pointRange=1)},setOptions:function(e){var t=this.chart,i=t.options,a=i.plotOptions,o=t.userOptions||{};e=w(e),t=t.styledMode;var c={plotOptions:a,userOptions:e};y(this,"setOptions",c);var n=c.plotOptions[this.type],r=o.plotOptions||{};return this.userOptions=c.userOptions,o=w(n,a.series,o.plotOptions&&o.plotOptions[this.type],e),this.tooltipOptions=w(_.tooltip,_.plotOptions.series&&_.plotOptions.series.tooltip,_.plotOptions[this.type].tooltip,i.tooltip.userOptions,a.series&&a.series.tooltip,a[this.type].tooltip,e.tooltip),this.stickyTracking=h(e.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||o.stickyTracking),null===n.marker&&delete o.marker,this.zoneAxis=o.zoneAxis,i=this.zones=(o.zones||[]).slice(),!o.negativeColor&&!o.negativeFillColor||o.zones||(a={value:o[this.zoneAxis+"Threshold"]||o.threshold||0,className:"highcharts-negative"},t||(a.color=o.negativeColor,a.fillColor=o.negativeFillColor),i.push(a)),i.length&&s(i[i.length-1].value)&&i.push(t?{}:{color:this.color,fillColor:this.fillColor}),y(this,"afterSetOptions",{options:o}),o},getName:function(){return h(this.options.name,"Series "+(this.index+1))},getCyclic:function(e,t,i){var a=this.chart,o=this.userOptions,c=e+"Index",n=e+"Counter",r=i?i.length:h(a.options.chart[e+"Count"],a[e+"Count"]);if(!t){var l=h(o[c],o["_"+c]);s(l)||(a.series.length||(a[n]=0),o["_"+c]=l=a[n]%r,a[n]+=1),i&&(t=i[l])}void 0!==l&&(this[c]=l),this[e]=t},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||v[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},findPointIndex:function(t,i){var a,o=t.id,c=t.x,n=this.points,s=this.options.dataSorting;if(o)var r=this.chart.get(o);else if(this.linkedParent||this.enabledDataSorting){var l=s&&s.matchByName?"name":"index";if(!(r=e.find(n,function(e){return!e.touched&&e[l]===t[l]})))return}if(r){var d=r&&r.index;void 0!==d&&(a=!0)}return void 0===d&&u(c)&&(d=this.xData.indexOf(c,i)),-1!==d&&void 0!==d&&this.cropped&&(d=d>=this.cropStart?d-this.cropStart:d),!a&&n[d]&&n[d].touched&&(d=void 0),d},drawLegendSymbol:e.LegendSymbolMixin.drawLineMarker,updateData:function(e,t){var i,o,c,n=this.options,r=n.dataSorting,l=this.points,d=[],p=this.requireSorting,m=e.length===l.length,h=!0;if(this.xIncrement=null,e.forEach(function(e,t){var a=s(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e)||{},o=a.x;a.id||u(o)?(-1===(o=this.findPointIndex(a,c))||void 0===o?d.push(e):l[o]&&e!==n.data[o]?(l[o].update(e,!1,null,!1),l[o].touched=!0,p&&(c=o+1)):l[o]&&(l[o].touched=!0),(!m||t!==o||r&&r.enabled||this.hasDerivedData)&&(i=!0)):d.push(e)},this),i)for(e=l.length;e--;)(o=l[e])&&!o.touched&&o.remove&&o.remove(!1,t);else!m||r&&r.enabled?h=!1:(e.forEach(function(e,t){l[t].update&&e!==l[t].y&&l[t].update(e,!1,null,!1)}),d.length=0);return l.forEach(function(e){e&&(e.touched=!1)}),!!h&&(d.forEach(function(e){this.addPoint(e,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=a(this.xData),this.autoIncrement()),!0)},setData:function(t,i,a,o){var c,n=this,s=n.points,r=s&&s.length||0,l=n.options,m=n.chart,b=l.dataSorting,g=null,f=n.xAxis;g=l.turboThreshold;var _,v=this.xData,y=this.yData,w=(c=n.pointArrayMap)&&c.length,k=l.keys,x=0,T=1;if(c=(t=t||[]).length,i=h(i,!0),b&&b.enabled&&(t=this.sortData(t)),!1!==o&&c&&r&&!n.cropped&&!n.hasGroupedData&&n.visible&&!n.isSeriesBoosting&&(_=this.updateData(t,a)),!_){if(n.xIncrement=null,n.colorCounter=0,this.parallelArrays.forEach(function(e){n[e+"Data"].length=0}),g&&c>g)if(g=n.getFirstValidPoint(t),u(g))for(a=0;a<c;a++)v[a]=this.autoIncrement(),y[a]=t[a];else if(d(g))if(w)for(a=0;a<c;a++)v[a]=(o=t[a])[0],y[a]=o.slice(1,w+1);else for(k&&(x=0<=(x=k.indexOf("x"))?x:0,T=0<=(T=k.indexOf("y"))?T:1),a=0;a<c;a++)v[a]=(o=t[a])[x],y[a]=o[T];else e.error(12,!1,m);else for(a=0;a<c;a++)void 0!==t[a]&&(n.pointClass.prototype.applyOptions.apply(o={series:n},[t[a]]),n.updateParallelArrays(o,a));for(y&&p(y[0])&&e.error(14,!0,m),n.data=[],n.options.data=n.userOptions.data=t,a=r;a--;)s[a]&&s[a].destroy&&s[a].destroy();f&&(f.minRange=f.userMinRange),n.isDirty=m.isDirtyBox=!0,n.isDirtyData=!!s,a=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),i&&m.redraw(a)},sortData:function(e){var t=this,i=t.options.dataSorting.sortKey||"y",a=function(e,t){return s(t)&&e.pointClass.prototype.optionsToObject.call({series:e},t)||{}};return e.forEach(function(i,o){e[o]=a(t,i),e[o].index=o},this),e.concat().sort(function(e,t){return u(t[i])?t[i]-e[i]:-1}).forEach(function(e,t){e.x=t},this),t.linkedSeries&&t.linkedSeries.forEach(function(t){var i=t.options,o=i.data;i.dataSorting&&i.dataSorting.enabled||!o||(o.forEach(function(i,c){o[c]=a(t,i),e[c]&&(o[c].x=e[c].x,o[c].index=c)}),t.setData(o,!1))}),e},processData:function(t){var i=this.xData,a=this.yData,o=i.length,c=0,n=this.xAxis,s=this.options,r=s.cropThreshold,l=this.getExtremesFromAll||s.getExtremesFromAll,d=this.isCartesian;s=n&&n.val2lin;var u=n&&n.isLog,p=this.requireSorting;if(d&&!this.isDirty&&!n.isDirty&&!this.yAxis.isDirty&&!t)return!1;if(n)var m=(t=n.getExtremes()).min,h=t.max;if(d&&this.sorted&&!l&&(!r||o>r||this.forceCrop))if(i[o-1]<m||i[0]>h)i=[],a=[];else if(this.yData&&(i[0]<m||i[o-1]>h)){i=(c=this.cropData(this.xData,this.yData,m,h)).xData,a=c.yData,c=c.start;var b=!0}for(r=i.length||1;--r;)if(0<(o=u?s(i[r])-s(i[r-1]):i[r]-i[r-1])&&(void 0===g||o<g))var g=o;else 0>o&&p&&(e.error(15,!1,this.chart),p=!1);this.cropped=b,this.cropStart=c,this.processedXData=i,this.processedYData=a,this.closestPointRange=this.basePointRange=g},cropData:function(e,t,i,a,o){var c,n=e.length,s=0,r=n;for(o=h(o,this.cropShoulder),c=0;c<n;c++)if(e[c]>=i){s=Math.max(0,c-o);break}for(i=c;i<n;i++)if(e[i]>a){r=i+o;break}return{xData:e.slice(s,r),yData:t.slice(s,r),start:s,end:r}},generatePoints:function(){var e,t=this.options,i=t.data,a=this.data,o=this.processedXData,c=this.processedYData,n=this.pointClass,s=o.length,r=this.cropStart||0,d=this.hasGroupedData;t=t.keys;var u,p=[];for(a||d||((a=[]).length=i.length,a=this.data=a),t&&d&&(this.options.keys=!1),u=0;u<s;u++){var m=r+u;if(d){var h=(new n).init(this,[o[u]].concat(b(c[u])));h.dataGroup=this.groupMap[u],h.dataGroup.options&&(h.options=h.dataGroup.options,l(h,h.dataGroup.options),delete h.dataLabels)}else(h=a[m])||void 0===i[m]||(a[m]=h=(new n).init(this,i[m],o[u]));h&&(h.index=m,p[u]=h)}if(this.options.keys=t,a&&(s!==(e=a.length)||d))for(u=0;u<e;u++)u!==r||d||(u+=s),a[u]&&(a[u].destroyElements(),a[u].plotX=void 0);this.data=a,this.points=p,y(this,"afterGeneratePoints")},getXExtremes:function(e){return{min:o(e),max:a(e)}},getExtremes:function(e){var t,i=this.xAxis,c=this.yAxis,n=this.processedXData||this.xData,s=[],r=0,l=0,p=0,m=this.requireSorting?this.cropShoulder:0,h=!!c&&c.positiveValuesOnly;for(c=(e=e||this.stackedYData||this.processedYData||[]).length,i&&(l=(p=i.getExtremes()).min,p=p.max),t=0;t<c;t++){var b=n[t],g=e[t],f=(u(g)||d(g))&&(g.length||0<g||!h);if(b=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(n[t+m]||b)>=l&&(n[t-m]||b)<=p,f&&b)if(f=g.length)for(;f--;)u(g[f])&&(s[r++]=g[f]);else s[r++]=g}this.dataMin=o(s),this.dataMax=a(s),y(this,"afterGetExtremes")},getFirstValidPoint:function(e){for(var t=null,i=e.length,a=0;null===t&&a<i;)t=e[a],a++;return t},translate:function(){this.processedXData||this.processData(),this.generatePoints();var e,t,i=this.options,a=i.stacking,o=this.xAxis,r=o.categories,l=this.enabledDataSorting,p=this.yAxis,m=this.points,b=m.length,g=!!this.modifyValue,f=this.pointPlacementToXValue(),_=u(f),v=i.threshold,w=i.startFromThreshold?v:0,k=this.zoneAxis||"y",x=Number.MAX_VALUE;for(e=0;e<b;e++){var T=m[e],S=T.x,j=T.y,O=T.low,I=a&&p.stacks[(this.negStacks&&j<(w?0:v)?"-":"")+this.stackKey];if(p.positiveValuesOnly&&null!==j&&0>=j&&(T.isNull=!0),T.plotX=t=n(c(o.translate(S,0,0,0,1,f,"flags"===this.type),-1e5,1e5)),a&&this.visible&&I&&I[S]){var D=this.getStackIndicator(D,S,this.index);if(!T.isNull)var C=I[S],P=C.points[D.key]}if(d(P)&&(j=P[1],(O=P[0])===w&&D.key===I[S].base&&(O=h(u(v)&&v,p.min)),p.positiveValuesOnly&&0>=O&&(O=null),T.total=T.stackTotal=C.total,T.percentage=C.total&&T.y/C.total*100,T.stackY=j,this.irregularWidths||C.setOffset(this.pointXOffset||0,this.barW||0)),T.yBottom=s(O)?c(p.translate(O,0,1,0,1),-1e5,1e5):null,g&&(j=this.modifyValue(j,T)),T.plotY=j="number"==typeof j&&1/0!==j?c(p.translate(j,0,1,0,1),-1e5,1e5):void 0,T.isInside=void 0!==j&&0<=j&&j<=p.len&&0<=t&&t<=o.len,T.clientX=_?n(o.translate(S,0,0,0,1,f)):t,T.negative=T[k]<(i[k+"Threshold"]||v||0),T.category=r&&void 0!==r[T.x]?r[T.x]:T.x,!T.isNull&&!1!==T.visible){void 0!==$&&(x=Math.min(x,Math.abs(t-$)));var $=t}T.zone=this.zones.length&&T.getZone(),!T.graphic&&this.group&&l&&(T.isNew=!0)}this.closestPointRangePx=x,y(this,"afterTranslate")},getValidPoints:function(e,t,i){var a=this.chart;return(e||this.points||[]).filter(function(e){return!(t&&!a.isInsidePlot(e.plotX,e.plotY,a.inverted))&&!1!==e.visible&&(i||!e.isNull)})},getClipBox:function(e,t){var i=this.chart,a=this.xAxis,o=a&&this.yAxis;return e&&!1===this.options.clip&&o?e=i.inverted?{y:-i.chartWidth+o.len+o.pos,height:i.chartWidth,width:i.chartHeight,x:-i.chartHeight+a.len+a.pos}:{y:-o.pos,height:i.chartHeight,width:i.chartWidth,x:-a.pos}:(e=this.clipBox||i.clipBox,t&&(e.width=i.plotSizeX,e.x=0)),t?{width:e.width,x:e.x}:e},setClip:function(e){var t=this.chart,i=this.options,a=t.renderer,o=t.inverted,c=this.clipBox,n=this.getClipBox(e),s=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,n.height,i.xAxis,i.yAxis].join(),r=t[s],l=t[s+"m"];r||(e&&(n.width=0,o&&(n.x=t.plotSizeX+(!1!==i.clip?0:t.plotTop)),t[s+"m"]=l=a.clipRect(o?t.plotSizeX+99:-99,o?-t.plotLeft:-t.plotTop,99,o?t.chartWidth:t.chartHeight)),t[s]=r=a.clipRect(n),r.count={length:0}),e&&!r.count[this.index]&&(r.count[this.index]=!0,r.count.length+=1),(!1!==i.clip||e)&&(this.group.clip(e||c?r:t.clipRect),this.markerGroup.clip(l),this.sharedClipKey=s),e||(r.count[this.index]&&(delete r.count[this.index],--r.count.length),0===r.count.length&&s&&t[s]&&(c||(t[s]=t[s].destroy()),t[s+"m"]&&(t[s+"m"]=t[s+"m"].destroy())))},animate:function(e){var t=this.chart,a=i(this.options.animation);if(e)this.setClip(a);else{var o=this.sharedClipKey;e=t[o];var c=this.getClipBox(a,!0);e&&e.animate(c,a),t[o+"m"]&&t[o+"m"].animate({width:c.width+99,x:c.x-(t.inverted?0:99)},a),this.animate=null}},afterAnimate:function(){this.setClip(),y(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var e,t,i=this.points,a=this.chart,o=this.options.marker,c=this[this.specialGroup]||this.markerGroup,n=this.xAxis,s=h(o.enabled,!(n&&!n.isRadial)||null,this.closestPointRangePx>=o.enabledThreshold*o.radius);if(!1!==o.enabled||this._hasPointMarkers)for(e=0;e<i.length;e++){var r=i[e],l=(t=r.graphic)?"animate":"attr",d=r.marker||{},u=!!r.marker;if((s&&void 0===d.enabled||d.enabled)&&!r.isNull&&!1!==r.visible){var p=h(d.symbol,this.symbol),m=this.markerAttribs(r,r.selected&&"select");this.enabledDataSorting&&(r.startXPos=n.reversed?-m.width:n.width);var b=!1!==r.isInside;t?t[b?"show":"hide"](b).animate(m):b&&(0<m.width||r.hasImage)&&(r.graphic=t=a.renderer.symbol(p,m.x,m.y,m.width,m.height,u?d:o).add(c),this.enabledDataSorting&&a.hasRendered&&(t.attr({x:r.startXPos}),l="animate")),t&&"animate"===l&&t[b?"show":"hide"](b).animate(m),t&&!a.styledMode&&t[l](this.pointAttribs(r,r.selected&&"select")),t&&t.addClass(r.getClassName(),!0)}else t&&(r.graphic=t.destroy())}},markerAttribs:function(e,t){var i=this.options.marker,a=e.marker||{},o=a.symbol||i.symbol,c=h(a.radius,i.radius);return t&&(i=i.states[t],c=h((t=a.states&&a.states[t])&&t.radius,i&&i.radius,c+(i&&i.radiusPlus||0))),e.hasImage=o&&0===o.indexOf("url"),e.hasImage&&(c=0),e={x:Math.floor(e.plotX)-c,y:e.plotY-c},c&&(e.width=e.height=2*c),e},pointAttribs:function(e,t){var i=this.options.marker,a=e&&e.options,o=a&&a.marker||{},c=this.color,n=a&&a.color,s=e&&e.color;a=h(o.lineWidth,i.lineWidth);var r=e&&e.zone&&e.zone.color;return e=1,c=n||r||s||c,n=o.fillColor||i.fillColor||c,c=o.lineColor||i.lineColor||c,i=i.states[t=t||"normal"],a=h((t=o.states&&o.states[t]||{}).lineWidth,i.lineWidth,a+h(t.lineWidthPlus,i.lineWidthPlus,0)),{stroke:c=t.lineColor||i.lineColor||c,"stroke-width":a,fill:n=t.fillColor||i.fillColor||n,opacity:e=h(t.opacity,i.opacity,e)}},destroy:function(t){var i,a,o,c=this,n=c.chart,s=/AppleWebKit\/533/.test(T.navigator.userAgent),l=c.data||[];for(y(c,"destroy"),this.removeEvents(t),(c.axisTypes||[]).forEach(function(e){(o=c[e])&&o.series&&(r(o.series,c),o.isDirty=o.forceRedraw=!0)}),c.legendItem&&c.chart.legend.destroyItem(c),i=l.length;i--;)(a=l[i])&&a.destroy&&a.destroy();c.points=null,e.clearTimeout(c.animationTimeout),m(c,function(e,t){e instanceof x&&!e.survive&&e[s&&"group"===t?"hide":"destroy"]()}),n.hoverSeries===c&&(n.hoverSeries=null),r(n.series,c),n.orderSeries(),m(c,function(e,i){t&&"hcEvents"===i||delete c[i]})},getGraphPath:function(e,t,i){var a,o,c=this,n=c.options,r=n.step,l=[],d=[];return(a=(e=e||c.points).reversed)&&e.reverse(),(r={right:1,center:2}[r]||r&&3)&&a&&(r=4-r),(e=this.getValidPoints(e,!1,!(n.connectNulls&&!t&&!i))).forEach(function(a,u){var p=a.plotX,m=a.plotY,h=e[u-1];(a.leftCliff||h&&h.rightCliff)&&!i&&(o=!0),a.isNull&&!s(t)&&0<u?o=!n.connectNulls:a.isNull&&!t?o=!0:(0===u||o?u=["M",a.plotX,a.plotY]:c.getPointSpline?u=c.getPointSpline(e,a,u):r?(u=1===r?["L",h.plotX,m]:2===r?["L",(h.plotX+p)/2,h.plotY,"L",(h.plotX+p)/2,m]:["L",p,h.plotY]).push("L",p,m):u=["L",p,m],d.push(a.x),r&&(d.push(a.x),2===r&&d.push(a.x)),l.push.apply(l,u),o=!1)}),l.xMap=d,c.graphPath=l},drawGraph:function(){var e=this,t=this.options,i=(this.gappedPath||this.getGraphPath).call(this),a=this.chart.styledMode,o=[["graph","highcharts-graph"]];a||o[0].push(t.lineColor||this.color||"#cccccc",t.dashStyle),(o=e.getZonesGraphs(o)).forEach(function(o,c){var n=o[0],s=e[n],r=s?"animate":"attr";s?(s.endX=e.preventGraphAnimation?null:i.xMap,s.animate({d:i})):i.length&&(e[n]=s=e.chart.renderer.path(i).addClass(o[1]).attr({zIndex:1}).add(e.group)),s&&!a&&(n={stroke:o[2],"stroke-width":t.lineWidth,fill:e.fillGraph&&e.color||"none"},o[3]?n.dashstyle=o[3]:"square"!==t.linecap&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),s[r](n).shadow(2>c&&t.shadow)),s&&(s.startX=i.xMap,s.isArea=i.isArea)})},getZonesGraphs:function(e){return this.zones.forEach(function(t,i){i=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(t.className||"")],this.chart.styledMode||i.push(t.color||this.color,t.dashStyle||this.options.dashStyle),e.push(i)},this),e},applyZones:function(){var e,t,i,a,o,n,s=this,r=this.chart,l=r.renderer,d=this.zones,u=this.clips||[],p=this.graph,m=this.area,b=Math.max(r.chartWidth,r.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],f=r.inverted,_=!1;if(d.length&&(p||m)&&g&&void 0!==g.min){var v=g.reversed,y=g.horiz;p&&!this.showLine&&p.hide(),m&&m.hide();var w=g.getExtremes();d.forEach(function(d,k){e=v?y?r.plotWidth:0:y?0:g.toPixels(w.min)||0,e=c(h(t,e),0,b),t=c(Math.round(g.toPixels(h(d.value,w.max),!0)||0),0,b),_&&(e=t=g.toPixels(w.max)),a=Math.abs(e-t),o=Math.min(e,t),n=Math.max(e,t),g.isXAxis?(i={x:f?n:o,y:0,width:a,height:b},y||(i.x=r.plotHeight-i.x)):(i={x:0,y:f?n:o,width:b,height:a},y&&(i.y=r.plotWidth-i.y)),f&&l.isVML&&(i=g.isXAxis?{x:0,y:v?o:n,height:i.width,width:r.chartWidth}:{x:i.y-r.plotLeft-r.spacingBox.x,y:0,width:i.height,height:r.chartHeight}),u[k]?u[k].animate(i):u[k]=l.clipRect(i),p&&s["zone-graph-"+k].clip(u[k]),m&&s["zone-area-"+k].clip(u[k]),_=d.value>w.max,s.resetZones&&0===t&&(t=void 0)}),this.clips=u}else s.visible&&(p&&p.show(!0),m&&m.show(!0))},invertGroups:function(e){function t(){["group","markerGroup"].forEach(function(t){i[t]&&(a.renderer.isVML&&i[t].attr({width:i.yAxis.len,height:i.xAxis.len}),i[t].width=i.yAxis.len,i[t].height=i.xAxis.len,i[t].invert(!i.isRadialSeries&&e))})}var i=this,a=i.chart;i.xAxis&&(i.eventsToUnbind.push(f(a,"resize",t)),t(),i.invertGroups=t)},plotGroup:function(e,t,i,a,o){var c=this[e],n=!c;return n&&(this[e]=c=this.chart.renderer.g().attr({zIndex:a||.1}).add(o)),c.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(s(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(c.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),c.attr({visibility:i})[n?"attr":"animate"](this.getPlotBox()),c},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},removeEvents:function(e){e?this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(e){e()}),this.eventsToUnbind.length=0):k(this)},render:function(){var e=this,t=e.chart,a=e.options,o=!!e.animate&&t.renderer.isSVG&&i(a.animation).duration,c=e.visible?"inherit":"hidden",n=a.zIndex,s=e.hasRendered,r=t.seriesGroup,l=t.inverted;y(this,"render");var d=e.plotGroup("group","series",c,n,r);e.markerGroup=e.plotGroup("markerGroup","markers",c,n,r),o&&e.animate(!0),d.inverted=!(!e.isCartesian&&!e.invertable)&&l,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.visible&&e.drawPoints(),e.drawDataLabels&&e.drawDataLabels(),e.redrawPoints&&e.redrawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(l),!1===a.clip||e.sharedClipKey||s||d.clip(t.clipRect),o&&e.animate(),s||(e.animationTimeout=g(function(){e.afterAnimate()},o||0)),e.isDirty=!1,e.hasRendered=!0,y(e,"afterRender")},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,i=this.group,a=this.xAxis,o=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:h(a&&a.left,e.plotLeft),translateY:h(o&&o.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var i=this.xAxis,a=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?i.len-e.chartY+i.pos:e.chartX-i.pos,plotY:o?a.len-e.chartX+a.pos:e.chartY-a.pos},t,e)},buildKDTree:function(e){function t(e,a,o){var c;if(c=e&&e.length){var n=i.kdAxisArray[a%o];return e.sort(function(e,t){return e[n]-t[n]}),{point:e[c=Math.floor(c/2)],left:t(e.slice(0,c),a+1,o),right:t(e.slice(c+1),a+1,o)}}}this.buildingKdTree=!0;var i=this,a=-1<i.options.findNearestPointBy.indexOf("y")?2:1;delete i.kdTree,g(function(){i.kdTree=t(i.getValidPoints(null,!i.directTouch),a,a),i.buildingKdTree=!1},i.options.kdNow||e&&"touchstart"===e.type?0:1)},searchKDTree:function(e,t,i){var a=this,o=this.kdAxisArray[0],c=this.kdAxisArray[1],n=t?"distX":"dist";if(t=-1<a.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function e(t,i,r,l){var d=i.point,u=a.kdAxisArray[r%l],p=d,m=s(t[o])&&s(d[o])?Math.pow(t[o]-d[o],2):null,h=s(t[c])&&s(d[c])?Math.pow(t[c]-d[c],2):null;return d.dist=s(h=(m||0)+(h||0))?Math.sqrt(h):Number.MAX_VALUE,d.distX=s(m)?Math.sqrt(m):Number.MAX_VALUE,m=0>(u=t[u]-d[u])?"right":"left",i[h=0>u?"left":"right"]&&(p=(h=e(t,i[h],r+1,l))[n]<p[n]?h:d),i[m]&&Math.sqrt(u*u)<p[n]&&(p=(t=e(t,i[m],r+1,l))[n]<p[n]?t:p),p}(e,this.kdTree,t,t)},pointPlacementToXValue:function(){var e=this.xAxis,t=this.options.pointPlacement;return"between"===t&&(t=e.reversed?-.5:.5),u(t)&&(t*=h(this.options.pointRange||e.pointRange)),t}})}),t(i,"parts/Stacking.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.correctFloat,a=t.defined,o=t.destroyObjectProperties,c=t.objectEach,n=t.pick;t=e.Axis;var s=e.Chart,r=e.format,l=e.Series;e.StackItem=function(e,t,i,a,o){var c=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t=t||{},this.x=a,this.total=null,this.points={},this.stack=o,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(c?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(c?"middle":i?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(c?i?"right":"left":"center")},e.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(e){var t=this.axis.chart,i=this.options,a=i.format;a=a?r(a,this,t):i.formatter.call(this),this.label?this.label.attr({text:a,visibility:"hidden"}):(this.label=t.renderer.label(a,null,null,i.shape,null,null,i.useHTML,!1,"stack-labels"),a={text:a,align:this.textAlign,rotation:i.rotation,padding:n(i.padding,0),visibility:"hidden"},this.label.attr(a),t.styledMode||this.label.css(i.style),this.label.added||this.label.add(e)),this.label.labelrank=t.plotHeight},setOffset:function(e,t,i,o,c){var s=this.axis,r=s.chart;if(o=s.translate(s.usePercentage?100:o||this.total,0,0,0,1),i=s.translate(i||0),i=a(o)&&Math.abs(o-i),e=n(c,r.xAxis[0].translate(this.x))+e,s=a(o)&&this.getStackBox(r,this,e,o,t,i,s),t=this.label,e=this.isNegative,c="justify"===n(this.options.overflow,"justify"),t&&s){i=t.getBBox();var d=r.inverted?e?i.width:0:i.width/2,u=r.inverted?i.height/2:e?-4:i.height+4;this.alignOptions.x=n(this.options.x,0),t.align(this.alignOptions,null,s),o=t.alignAttr,t.show(),o.y-=u,c&&(o.x-=d,l.prototype.justifyDataLabel.call(this.axis,t,this.alignOptions,o,i,s),o.x+=d),o.x=t.alignAttr.x,t.attr({x:o.x,y:o.y}),n(!c&&this.options.crop,!0)&&((r=r.isInsidePlot(t.x+(r.inverted?0:-i.width/2),t.y)&&r.isInsidePlot(t.x+(r.inverted?e?-i.width:i.width:i.width/2),t.y+i.height))||t.hide())}},getStackBox:function(e,t,i,a,o,c,n){var s=t.axis.reversed,r=e.inverted;return e=n.height+n.pos-(r?e.plotLeft:e.plotTop),t=t.isNegative&&!s||!t.isNegative&&s,{x:r?t?a:a-c:i,y:r?e-i-o:t?e-a-c:e-a,width:r?c:o,height:r?o:c}}},s.prototype.getStacks=function(){var e=this,t=e.inverted;e.yAxis.forEach(function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),e.series.forEach(function(i){var a=i.xAxis&&i.xAxis.options||{};!i.options.stacking||!0!==i.visible&&!1!==e.options.chart.ignoreHiddenSeries||(i.stackKey=[i.type,n(i.options.stack,""),t?a.top:a.left,t?a.height:a.width].join())})},t.prototype.buildStacks=function(){var t,i=this.series,a=n(this.options.reversedStacks,!0),o=i.length;if(!this.isXAxis){for(this.usePercentage=!1,t=o;t--;)i[a?t:o-t-1].setStackedPoints();for(t=0;t<o;t++)i[t].modifyStacks();e.fireEvent(this,"afterBuildStacks")}},t.prototype.renderStackTotals=function(){var e=this.chart,t=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.renderer.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(e.plotLeft,e.plotTop),c(t,function(e){c(e,function(e){e.render(i)})})},t.prototype.resetStacks=function(){var e=this;e.isXAxis||c(e.stacks,function(t){c(t,function(i,a){i.touched<e.stacksTouched?(i.destroy(),delete t[a]):(i.total=null,i.cumulative=null)})})},t.prototype.cleanStacks=function(){if(!this.isXAxis){if(this.oldStacks)var e=this.stacks=this.oldStacks;c(e,function(e){c(e,function(e){e.cumulative=e.total})})}},l.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t=this.processedXData,o=this.processedYData,c=[],s=o.length,r=this.options,l=r.threshold,d=n(r.startFromThreshold&&l,0),u=r.stack;r=r.stacking;var p,m,h=this.stackKey,b="-"+h,g=this.negStacks,f=this.yAxis,_=f.stacks,v=f.oldStacks;for(f.stacksTouched+=1,m=0;m<s;m++){var y=t[m],w=o[m],k=this.getStackIndicator(k,y,this.index),x=k.key,T=(p=g&&w<(d?0:l))?b:h;_[T]||(_[T]={}),_[T][y]||(v[T]&&v[T][y]?(_[T][y]=v[T][y],_[T][y].total=null):_[T][y]=new e.StackItem(f,f.options.stackLabels,p,y,u)),T=_[T][y],null!==w?(T.points[x]=T.points[this.index]=[n(T.cumulative,d)],a(T.cumulative)||(T.base=x),T.touched=f.stacksTouched,0<k.index&&!1===this.singleStacks&&(T.points[x][0]=T.points[this.index+","+y+",0"][0])):T.points[x]=T.points[this.index]=null,"percent"===r?(p=p?h:b,T.total=g&&_[p]&&_[p][y]?(p=_[p][y]).total=Math.max(p.total,T.total)+Math.abs(w)||0:i(T.total+(Math.abs(w)||0))):T.total=i(T.total+(w||0)),T.cumulative=n(T.cumulative,d)+(w||0),null!==w&&(T.points[x].push(T.cumulative),c[m]=T.cumulative)}"percent"===r&&(f.usePercentage=!0),this.stackedYData=c,f.oldStacks={}}},l.prototype.modifyStacks=function(){var e,t=this,i=t.stackKey,a=t.yAxis.stacks,o=t.processedXData,c=t.options.stacking;t[c+"Stacker"]&&[i,"-"+i].forEach(function(i){for(var n,s,r=o.length;r--;)e=t.getStackIndicator(e,n=o[r],t.index,i),(s=(n=a[i]&&a[i][n])&&n.points[e.key])&&t[c+"Stacker"](s,n,r)})},l.prototype.percentStacker=function(e,t,a){e[0]=i(e[0]*(t=t.total?100/t.total:0)),e[1]=i(e[1]*t),this.stackedYData[a]=e[1]},l.prototype.getStackIndicator=function(e,t,i,o){return!a(e)||e.x!==t||o&&e.key!==o?e={x:t,index:0,key:o}:e.index++,e.key=[i,t,e.index].join(),e}}),t(i,"parts/Dynamics.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.defined,a=t.erase,o=t.extend,c=t.isArray,n=t.isNumber,s=t.isObject,r=t.isString,l=t.objectEach,d=t.pick,u=t.relativeLength,p=t.setAnimation,m=t.splat,h=e.addEvent,b=e.animate,g=e.Axis;t=e.Chart;var f=e.createElement,_=e.css,v=e.fireEvent,y=e.merge,w=e.Point,k=e.Series,x=e.seriesTypes;e.cleanRecursively=function(t,i){var a={};return l(t,function(o,c){s(t[c],!0)&&!t.nodeType&&i[c]?(o=e.cleanRecursively(t[c],i[c]),Object.keys(o).length&&(a[c]=o)):(s(t[c])||t[c]!==i[c])&&(a[c]=t[c])}),a},o(t.prototype,{addSeries:function(e,t,i){var a,o=this;return e&&(t=d(t,!0),v(o,"addSeries",{options:e},function(){a=o.initSeries(e),o.isDirtyLegend=!0,o.linkSeries(),a.enabledDataSorting&&a.setData(e.data,!1),v(o,"afterAddSeries",{series:a}),t&&o.redraw(i)})),a},addAxis:function(e,t,i,a){return this.createAxis(t?"xAxis":"yAxis",{axis:e,redraw:i,animation:a})},addColorAxis:function(e,t,i){return this.createAxis("colorAxis",{axis:e,redraw:t,animation:i})},createAxis:function(t,i){var a=this.options,o="colorAxis"===t,c=i.redraw,n=i.animation;i=y(i.axis,{index:this[t].length,isX:"xAxis"===t});var s=o?new e.ColorAxis(this,i):new g(this,i);return a[t]=m(a[t]||{}),a[t].push(i),o&&(this.isDirtyLegend=!0,this.axes.forEach(function(e){e.series=[]}),this.series.forEach(function(e){e.bindAxes(),e.isDirtyData=!0})),d(c,!0)&&this.redraw(n),s},showLoading:function(e){var t=this,i=t.options,a=t.loadingDiv,c=i.loading,n=function(){a&&_(a,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};a||(t.loadingDiv=a=f("div",{className:"highcharts-loading highcharts-loading-hidden"},null,t.container),t.loadingSpan=f("span",{className:"highcharts-loading-inner"},null,a),h(t,"redraw",n)),a.className="highcharts-loading",t.loadingSpan.innerHTML=d(e,i.lang.loading,""),t.styledMode||(_(a,o(c.style,{zIndex:10})),_(t.loadingSpan,c.labelStyle),t.loadingShown||(_(a,{opacity:0,display:""}),b(a,{opacity:c.style.opacity||.5},{duration:c.showDuration||0}))),t.loadingShown=!0,n()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden",this.styledMode||b(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){_(t,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:["xAxis","yAxis","zAxis","series"],update:function(t,a,o,c){var s,p,h,b=this,g={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},f=t.isResponsiveOptions,_=[];if(v(b,"update",{options:t}),f||b.setResponsive(!1,!0),t=e.cleanRecursively(t,b.options),y(!0,b.userOptions,t),s=t.chart){if(y(!0,b.options.chart,s),"className"in s&&b.setClassName(s.className),"reflow"in s&&b.setReflow(s.reflow),"inverted"in s||"polar"in s||"type"in s){b.propFromSeries();var w=!0}"alignTicks"in s&&(w=!0),l(s,function(e,t){-1!==b.propsRequireUpdateSeries.indexOf("chart."+t)&&(p=!0),-1!==b.propsRequireDirtyBox.indexOf(t)&&(b.isDirtyBox=!0),f||-1===b.propsRequireReflow.indexOf(t)||(h=!0)}),!b.styledMode&&"style"in s&&b.renderer.setStyle(s.style)}!b.styledMode&&t.colors&&(this.options.colors=t.colors),t.plotOptions&&y(!0,this.options.plotOptions,t.plotOptions),t.time&&this.time===e.time&&(this.time=new e.Time(t.time)),l(t,function(e,t){b[t]&&"function"==typeof b[t].update?b[t].update(e,!1):"function"==typeof b[g[t]]&&b[g[t]](e),"chart"!==t&&-1!==b.propsRequireUpdateSeries.indexOf(t)&&(p=!0)}),this.collectionsWithUpdate.forEach(function(e){if(t[e]){if("series"===e){var a=[];b[e].forEach(function(e,t){e.options.isInternal||a.push(d(e.options.index,t))})}m(t[e]).forEach(function(t,c){(c=i(t.id)&&b.get(t.id)||b[e][a?a[c]:c])&&c.coll===e&&(c.update(t,!1),o&&(c.touched=!0)),!c&&o&&b.collectionsWithInit[e]&&(b.collectionsWithInit[e][0].apply(b,[t].concat(b.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)}),o&&b[e].forEach(function(e){e.touched||e.options.isInternal?delete e.touched:_.push(e)})}}),_.forEach(function(e){e.remove&&e.remove(!1)}),w&&b.axes.forEach(function(e){e.update({},!1)}),p&&b.getSeriesOrderByLinks().forEach(function(e){e.chart&&e.update({},!1)},this),t.loading&&y(!0,b.options.loading,t.loading),w=s&&s.width,r(s=s&&s.height)&&(s=u(s,w||b.chartWidth)),h||n(w)&&w!==b.chartWidth||n(s)&&s!==b.chartHeight?b.setSize(w,s,c):d(a,!0)&&b.redraw(c),v(b,"afterUpdate",{options:t,redraw:a,animation:c})},setSubtitle:function(e,t){this.applyDescription("subtitle",e),this.layOutTitles(t)},setCaption:function(e,t){this.applyDescription("caption",e),this.layOutTitles(t)}}),t.prototype.collectionsWithInit={xAxis:[t.prototype.addAxis,[!0]],yAxis:[t.prototype.addAxis,[!1]],series:[t.prototype.addSeries]},o(w.prototype,{update:function(e,t,i,a){function o(){n.applyOptions(e),null===n.y&&l&&(n.graphic=l.destroy()),s(e,!0)&&(l&&l.element&&e&&e.marker&&void 0!==e.marker.symbol&&(n.graphic=l.destroy()),e&&e.dataLabels&&n.dataLabel&&(n.dataLabel=n.dataLabel.destroy()),n.connector&&(n.connector=n.connector.destroy())),r.updateParallelArrays(n,c=n.index),p.data[c]=s(p.data[c],!0)||s(e,!0)?n.options:d(e,p.data[c]),r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===p.legendType&&(u.isDirtyLegend=!0),t&&u.redraw(i)}var c,n=this,r=n.series,l=n.graphic,u=r.chart,p=r.options;t=d(t,!0),!1===a?o():n.firePointEvent("update",{options:e},o)},remove:function(e,t){this.series.removePoint(this.series.data.indexOf(this),e,t)}}),o(k.prototype,{addPoint:function(e,t,i,a,o){var c=this.options,n=this.data,s=this.chart,r=this.xAxis;r=r&&r.hasNames&&r.names;var l,u=c.data,p=this.xData;t=d(t,!0);var m={series:this};this.pointClass.prototype.applyOptions.apply(m,[e]);var h=m.x,b=p.length;if(this.requireSorting&&h<p[b-1])for(l=!0;b&&p[b-1]>h;)b--;this.updateParallelArrays(m,"splice",b,0,0),this.updateParallelArrays(m,b),r&&m.name&&(r[h]=m.name),u.splice(b,0,e),l&&(this.data.splice(b,0,null),this.processData()),"point"===c.legendType&&this.generatePoints(),i&&(n[0]&&n[0].remove?n[0].remove(!1):(n.shift(),this.updateParallelArrays(m,"shift"),u.shift())),!1!==o&&v(this,"addPoint",{point:m}),this.isDirtyData=this.isDirty=!0,t&&s.redraw(a)},removePoint:function(e,t,i){var a=this,o=a.data,c=o[e],n=a.points,s=a.chart,r=function(){n&&n.length===o.length&&n.splice(e,1),o.splice(e,1),a.options.data.splice(e,1),a.updateParallelArrays(c||{series:a},"splice",e,1),c&&c.destroy(),a.isDirty=!0,a.isDirtyData=!0,t&&s.redraw()};p(i,s),t=d(t,!0),c?c.firePointEvent("remove",null,r):r()},remove:function(e,t,i,a){function o(){c.destroy(a),c.remove=null,n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),d(e,!0)&&n.redraw(t)}var c=this,n=c.chart;!1!==i?v(c,"remove",null,o):o()},update:function(t,i){t=e.cleanRecursively(t,this.userOptions),v(this,"update",{options:t});var a,c=this,n=c.chart,s=c.userOptions,r=c.initialType||c.type,l=t.type||s.type||n.options.chart.type,u=!(this.hasDerivedData||t.dataGrouping||l&&l!==this.type||void 0!==t.pointStart||t.pointInterval||t.pointIntervalUnit||t.keys),p=x[r].prototype,m=["group","markerGroup","dataLabelsGroup","transformGroup"],h=["eventOptions","navigatorSeries","baseSeries"],b=c.finishedAnimating&&{animation:!1},g={};for(a in u&&(h.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","_hasPointMarkers","_hasPointLabels","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&h.push("area","graph"),c.parallelArrays.forEach(function(e){h.push(e+"Data")}),t.data&&(t.dataSorting&&o(c.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=y(s,b,{index:void 0===s.index?c.index:s.index,pointStart:d(s.pointStart,c.xData[0])},!u&&{data:c.options.data},t),u&&t.data&&(t.data=c.options.data),(h=m.concat(h)).forEach(function(e){h[e]=c[e],delete c[e]}),c.remove(!1,null,!1,!0),p)c[a]=void 0;if(x[l||r]?o(c,x[l||r].prototype):e.error(17,!0,n,{missingModuleFor:l||r}),h.forEach(function(e){c[e]=h[e]}),c.init(n,t),u&&this.points){var f=c.options;!1===f.visible?(g.graphic=1,g.dataLabel=1):c._hasPointLabels||(p=f.dataLabels,(l=f.marker)&&(!1===l.enabled||"symbol"in l)&&(g.graphic=1),p&&!1===p.enabled&&(g.dataLabel=1)),this.points.forEach(function(e){e&&e.series&&(e.resolveColor(),Object.keys(g).length&&e.destroyElements(g),!1===f.showInLegend&&e.legendItem&&n.legend.destroyItem(e))},this)}t.zIndex!==s.zIndex&&m.forEach(function(e){c[e]&&c[e].attr({zIndex:t.zIndex})}),c.initialType=r,n.linkSeries(),v(this,"afterUpdate"),d(i,!0)&&n.redraw(!!u&&void 0)},setName:function(e){this.name=this.options.name=this.userOptions.name=e,this.chart.isDirtyLegend=!0}}),o(g.prototype,{update:function(e,t){var i=this.chart,a=e&&e.events||{};e=y(this.userOptions,e),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=e),l(i.options[this.coll].events,function(e,t){void 0===a[t]&&(a[t]=void 0)}),this.destroy(!0),this.init(i,o(e,{events:a})),i.isDirtyBox=!0,d(t,!0)&&i.redraw()},remove:function(e){for(var t=this.chart,i=this.coll,o=this.series,n=o.length;n--;)o[n]&&o[n].remove(!1);a(t.axes,this),a(t[i],this),c(t.options[i])?t.options[i].splice(this.options.index,1):delete t.options[i],t[i].forEach(function(e,t){e.options.index=e.userOptions.index=t}),this.destroy(),t.isDirtyBox=!0,d(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}})}),t(i,"parts/AreaSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.objectEach,a=t.pick,o=e.color,c=e.Series;(t=e.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var t,o=[],c=[],n=this.xAxis,s=this.yAxis,r=s.stacks[this.stackKey],l={},d=this.index,u=s.series,p=u.length,m=a(s.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(t=0;t<e.length;t++)e[t].leftNull=e[t].rightNull=void 0,l[e[t].x]=e[t];i(r,function(e,t){null!==e.total&&c.push(t)}),c.sort(function(e,t){return e-t});var h=u.map(function(e){return e.visible});c.forEach(function(e,i){var a,u,b=0;if(l[e]&&!l[e].isNull)o.push(l[e]),[-1,1].forEach(function(o){var n=1===o?"rightNull":"leftNull",s=0,b=r[c[i+o]];if(b)for(t=d;0<=t&&t<p;)(a=b.points[t])||(t===d?l[e][n]=!0:h[t]&&(u=r[e].points[t])&&(s-=u[1]-u[0])),t+=m;l[e][1===o?"rightCliff":"leftCliff"]=s});else{for(t=d;0<=t&&t<p;){if(a=r[e].points[t]){b=a[1];break}t+=m}b=s.translate(b,0,1,0,1),o.push({isNull:!0,plotX:n.translate(e,0,0,0,1),x:e,plotY:b,yBottom:b})}})}return o},getGraphPath:function(e){var t,i=c.prototype.getGraphPath,o=this.options,n=o.stacking,s=this.yAxis,r=[],l=[],d=this.index,u=s.stacks[this.stackKey],p=o.threshold,m=Math.round(s.getThreshold(o.threshold));o=a(o.connectNulls,"percent"===n);var h=function(t,i,a){var o=e[t];t=n&&u[o.x].points[d];var c=o[a+"Null"]||0;if(a=o[a+"Cliff"]||0,o=!0,a||c){var h=(c?t[0]:t[1])+a,b=t[0]+a;o=!!c}else!n&&e[i]&&e[i].isNull&&(h=b=p);void 0!==h&&(l.push({plotX:g,plotY:null===h?m:s.getThreshold(h),isNull:o,isCliff:!0}),r.push({plotX:g,plotY:null===b?m:s.getThreshold(b),doCurve:!1}))};for(e=e||this.points,n&&(e=this.getStackPoints(e)),t=0;t<e.length;t++){n||(e[t].leftCliff=e[t].rightCliff=e[t].leftNull=e[t].rightNull=void 0);var b=e[t].isNull,g=a(e[t].rectPlotX,e[t].plotX),f=a(e[t].yBottom,m);b&&!o||(o||h(t,t-1,"left"),b&&!n&&o||(l.push(e[t]),r.push({x:t,plotX:g,plotY:f})),o||h(t,t+1,"right"))}return t=i.call(this,l,!0,!0),r.reversed=!0,(b=i.call(this,r,!0,!0)).length&&(b[0]="L"),b=t.concat(b),i=i.call(this,l,!1,o),b.xMap=t.xMap,this.areaPath=b,i},drawGraph:function(){this.areaPath=[],c.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,i=this.options,n=[["area","highcharts-area",this.color,i.fillColor]];this.zones.forEach(function(t,a){n.push(["zone-area-"+a,"highcharts-area highcharts-zone-area-"+a+" "+t.className,t.color||e.color,t.fillColor||i.fillColor])}),n.forEach(function(c){var n=c[0],s=e[n],r=s?"animate":"attr",l={};s?(s.endX=e.preventGraphAnimation?null:t.xMap,s.animate({d:t})):(l.zIndex=0,(s=e[n]=e.chart.renderer.path(t).addClass(c[1]).add(e.group)).isArea=!0),e.chart.styledMode||(l.fill=a(c[3],o(c[2]).setOpacity(a(i.fillOpacity,.75)).get())),s[r](l),s.startX=t.xMap,s.shiftUnit=i.step?2:1})},drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}),t(i,"parts/SplineSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.pick;(e=e.seriesType)("spline","line",{},{getPointSpline:function(e,t,a){var o=t.plotX,c=t.plotY,n=e[a-1];if(a=e[a+1],n&&!n.isNull&&!1!==n.doCurve&&!t.isCliff&&a&&!a.isNull&&!1!==a.doCurve&&!t.isCliff){var s=a.plotX,r=0,l=(1.5*o+n.plotX)/2.5,d=(1.5*c+(e=n.plotY))/2.5,u=(1.5*c+(a=a.plotY))/2.5;(s=(1.5*o+s)/2.5)!==l&&(r=(u-d)*(s-o)/(s-l)+c-u),u+=r,(d+=r)>e&&d>c?u=2*c-(d=Math.max(e,c)):d<e&&d<c&&(u=2*c-(d=Math.min(e,c))),u>a&&u>c?d=2*c-(u=Math.max(a,c)):u<a&&u<c&&(d=2*c-(u=Math.min(a,c))),t.rightContX=s,t.rightContY=u}return t=["C",i(n.rightContX,n.plotX),i(n.rightContY,n.plotY),i(l,o),i(d,c),o,c],n.rightContX=n.rightContY=null,t}})}),t(i,"parts/AreaSplineSeries.js",[i["parts/Globals.js"]],function(e){var t=e.seriesTypes.area.prototype;(0,e.seriesType)("areaspline","spline",e.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,drawGraph:t.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}),t(i,"parts/ColumnSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.animObject,a=t.clamp,o=t.defined,c=t.extend,n=t.isNumber,s=t.pick,r=e.color,l=e.merge,d=e.Series,u=e.svg;(t=e.seriesType)("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){d.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&t.series.forEach(function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e=this,t=e.options,i=e.xAxis,a=e.yAxis,o=i.options.reversedStacks;o=i.reversed&&!o||!i.reversed&&o;var c,n={},r=0;!1===t.grouping?r=1:e.chart.series.forEach(function(t){var i=t.yAxis,o=t.options;if(t.type===e.type&&(t.visible||!e.chart.options.chart.ignoreHiddenSeries)&&a.len===i.len&&a.pos===i.pos){if(o.stacking){void 0===n[c=t.stackKey]&&(n[c]=r++);var s=n[c]}else!1!==o.grouping&&(s=r++);t.columnIndex=s}});var l=Math.min(Math.abs(i.transA)*(i.ordinalSlope||t.pointRange||i.closestPointRange||i.tickInterval||1),i.len),d=l*t.groupPadding,u=(l-2*d)/(r||1);return t=Math.min(t.maxPointWidth||i.len,s(t.pointWidth,u*(1-2*t.pointPadding))),e.columnMetrics={width:t,offset:(u-t)/2+(d+((e.columnIndex||0)+(o?1:0))*u-l/2)*(o?-1:1)},e.columnMetrics},crispCol:function(e,t,i,a){var o=this.chart,c=this.borderWidth,n=-(c%2?.5:0);return c=c%2?.5:1,o.inverted&&o.renderer.isVML&&(c+=1),this.options.crisp&&(i=Math.round(e+i)+n,i-=e=Math.round(e)+n),a=Math.round(t+a)+c,n=.5>=Math.abs(t)&&.5<a,a-=t=Math.round(t)+c,n&&a&&(--t,a+=1),{x:e,y:t,width:i,height:a}},translate:function(){var e=this,t=e.chart,i=e.options,c=e.dense=2>e.closestPointRange*e.xAxis.transA;c=e.borderWidth=s(i.borderWidth,c?0:1);var n=e.yAxis,r=i.threshold,l=e.translatedThreshold=n.getThreshold(r),u=s(i.minPointLength,5),p=e.getColumnMetrics(),m=p.width,h=e.barW=Math.max(m,1+2*c),b=e.pointXOffset=p.offset,g=e.dataMin,f=e.dataMax;t.inverted&&(l-=.5),i.pointPadding&&(h=Math.ceil(h)),d.prototype.translate.apply(e),e.points.forEach(function(i){var c=s(i.yBottom,l),d=999+Math.abs(c),p=m;d=a(i.plotY,-d,n.len+d);var _=i.plotX+b,v=h,y=Math.min(d,c),w=Math.max(d,c)-y;if(u&&Math.abs(w)<u){w=u;var k=!n.reversed&&!i.negative||n.reversed&&i.negative;i.y===r&&e.dataMax<=r&&n.min<r&&g!==f&&(k=!k),y=Math.abs(y-l)>u?c-u:l-(k?u:0)}o(i.options.pointWidth)&&(p=v=Math.ceil(i.options.pointWidth),_-=Math.round((p-m)/2)),i.barX=_,i.pointWidth=p,i.tooltipPos=t.inverted?[n.len+n.pos-t.plotLeft-d,e.xAxis.len-_-v/2,w]:[_+v/2,d+n.pos-t.plotTop,w],i.shapeType=e.pointClass.prototype.shapeType||"rect",i.shapeArgs=e.crispCol.apply(e,i.isNull?[_,l,v,0]:[_,y,v,w])})},getSymbol:e.noop,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(e,t){var i=this.options,a=this.pointAttrToOptions||{},o=a.stroke||"borderColor",c=a["stroke-width"]||"borderWidth",n=e&&e.color||this.color,d=e&&e[o]||i[o]||this.color||n,u=e&&e[c]||i[c]||this[c]||0;a=e&&e.options.dashStyle||i.dashStyle;var p=s(e&&e.opacity,i.opacity,1);if(e&&this.zones.length){var m=e.getZone();n=e.options.color||m&&(m.color||e.nonZonedColor)||this.color,m&&(d=m.borderColor||d,a=m.dashStyle||a,u=m.borderWidth||u)}return t&&e&&(t=(e=l(i.states[t],e.options.states&&e.options.states[t]||{})).brightness,n=e.color||void 0!==t&&r(n).brighten(e.brightness).get()||n,d=e[o]||d,u=e[c]||u,a=e.dashStyle||a,p=s(e.opacity,p)),o={fill:n,stroke:d,"stroke-width":u,opacity:p},a&&(o.dashstyle=a),o},drawPoints:function(){var e,t=this,i=this.chart,a=t.options,o=i.renderer,c=a.animationLimit||250;t.points.forEach(function(s){var r=s.graphic,d=!!r,u=r&&i.pointCount<c?"animate":"attr";n(s.plotY)&&null!==s.y?(e=s.shapeArgs,r&&s.hasNewShapeType()&&(r=r.destroy()),t.enabledDataSorting&&(s.startXPos=t.xAxis.reversed?-(e?e.width:0):t.xAxis.width),r||(s.graphic=r=o[s.shapeType](e).add(s.group||t.group))&&t.enabledDataSorting&&i.hasRendered&&i.pointCount<c&&(r.attr({x:s.startXPos}),d=!0,u="animate"),r&&d&&r[u](l(e)),a.borderRadius&&r[u]({r:a.borderRadius}),i.styledMode||r[u](t.pointAttribs(s,s.selected&&"select")).shadow(!1!==s.allowShadow&&a.shadow,null,a.stacking&&!a.borderRadius),r.addClass(s.getClassName(),!0)):r&&(s.graphic=r.destroy())})},animate:function(e){var t=this,o=this.yAxis,n=t.options,s=this.chart.inverted,r={},l=s?"translateX":"translateY";if(u)if(e)r.scaleY=.001,e=a(o.toPixels(n.threshold),o.pos,o.pos+o.len),s?r.translateX=e-o.len:r.translateY=e,t.clipBox&&t.setClip(),t.group.attr(r);else{var d=t.group.attr(l);t.group.animate({scaleY:1},c(i(t.options.animation),{step:function(e,i){r[l]=d+i.pos*(o.pos-d),t.group.attr(r)}})),t.animate=null}},remove:function(){var e=this,t=e.chart;t.hasRendered&&t.series.forEach(function(t){t.type===e.type&&(t.isDirty=!0)}),d.prototype.remove.apply(e,arguments)}})}),t(i,"parts/BarSeries.js",[i["parts/Globals.js"]],function(e){(e=e.seriesType)("bar","column",null,{inverted:!0})}),t(i,"parts/ScatterSeries.js",[i["parts/Globals.js"]],function(e){var t=e.Series;(0,e.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)},applyJitter:function(){var e=this,t=this.options.jitter,i=this.points.length;t&&this.points.forEach(function(a,o){["x","y"].forEach(function(c,n){var s="plot"+c.toUpperCase();if(t[c]&&!a.isNull){var r=e[c+"Axis"],l=t[c]*r.transA;if(r&&!r.isLog){var d=Math.max(0,a[s]-l);r=Math.min(r.len,a[s]+l),n=1e4*Math.sin(o+n*i),a[s]=d+(r-d)*(n-Math.floor(n)),"x"===c&&(a.clientX=a.plotX)}}})})}}),e.addEvent(t,"afterTranslate",function(){this.applyJitter&&this.applyJitter()})}),t(i,"mixins/centered-series.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.isNumber,a=t.pick,o=t.relativeLength,c=e.deg2rad;e.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,i=2*(e.slicedOffset||0),c=t.plotWidth-2*i;t=t.plotHeight-2*i;var n=e.center;n=[a(n[0],"50%"),a(n[1],"50%"),e.size||"100%",e.innerSize||0];var s,r=Math.min(c,t);for(s=0;4>s;++s){var l=n[s];e=2>s||2===s&&/%$/.test(l),n[s]=o(l,[c,t,r,n[2]][s])+(e?i:0)}return n[3]>n[2]&&(n[3]=n[2]),n},getStartAndEndRadians:function(e,t){return e=i(e)?e:0,t=i(t)&&t>e&&360>t-e?t:e+360,{start:c*(e+-90),end:c*(t+-90)}}}}),t(i,"parts/PieSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.clamp,a=t.defined,o=t.isNumber,c=t.pick,n=t.relativeLength,s=t.setAnimation,r=e.addEvent,l=(t=e.CenteredSeriesMixin).getStartAndEndRadians,d=e.merge,u=e.noop,p=e.Point,m=e.Series,h=e.fireEvent;(0,e.seriesType)("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:e.seriesTypes.column.prototype.pointAttribs,animate:function(e){var t=this,i=t.startAngleRad;e||(t.points.forEach(function(e){var a=e.graphic,o=e.shapeArgs;a&&o&&(a.attr({r:c(e.startR,t.center&&t.center[3]/2),start:i,end:i}),a.animate({r:o.r,start:o.start,end:o.end},t.options.animation))}),t.animate=null)},hasData:function(){return!!this.processedXData.length},updateTotals:function(){var e,t=0,i=this.points,a=i.length,o=this.options.ignoreHiddenPoint;for(e=0;e<a;e++){var c=i[e];t+=o&&!c.visible||c.isNull?0:c.y}for(this.total=t,e=0;e<a;e++)(c=i[e]).percentage=0<t&&(c.visible||!o)?c.y/t*100:0,c.total=t},generatePoints:function(){m.prototype.generatePoints.call(this),this.updateTotals()},getX:function(e,t,a){var o=this.center,c=this.radii?this.radii[a.index]:o[2]/2;return e=Math.asin(i((e-o[1])/(c+a.labelDistance),-1,1)),o[0]+(t?-1:1)*Math.cos(e)*(c+a.labelDistance)+(0<a.labelDistance?(t?-1:1)*this.options.dataLabels.padding:0)},translate:function(e){this.generatePoints();var t=0,i=this.options,a=i.slicedOffset,o=a+(i.borderWidth||0),s=l(i.startAngle,i.endAngle),r=this.startAngleRad=s.start;s=(this.endAngleRad=s.end)-r;var d=this.points,u=i.dataLabels.distance;i=i.ignoreHiddenPoint;var p,m=d.length;for(e||(this.center=e=this.getCenter()),p=0;p<m;p++){var b=d[p],g=r+t*s;i&&!b.visible||(t+=b.percentage/100);var f=r+t*s;b.shapeType="arc",b.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*g)/1e3,end:Math.round(1e3*f)/1e3},b.labelDistance=c(b.options.dataLabels&&b.options.dataLabels.distance,u),b.labelDistance=n(b.labelDistance,b.shapeArgs.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,b.labelDistance),(f=(f+g)/2)>1.5*Math.PI?f-=2*Math.PI:f<-Math.PI/2&&(f+=2*Math.PI),b.slicedTranslation={translateX:Math.round(Math.cos(f)*a),translateY:Math.round(Math.sin(f)*a)};var _=Math.cos(f)*e[2]/2,v=Math.sin(f)*e[2]/2;b.tooltipPos=[e[0]+.7*_,e[1]+.7*v],b.half=f<-Math.PI/2||f>Math.PI/2?1:0,b.angle=f,g=Math.min(o,b.labelDistance/5),b.labelPosition={natural:{x:e[0]+_+Math.cos(f)*b.labelDistance,y:e[1]+v+Math.sin(f)*b.labelDistance},final:{},alignment:0>b.labelDistance?"center":b.half?"right":"left",connectorPosition:{breakAt:{x:e[0]+_+Math.cos(f)*g,y:e[1]+v+Math.sin(f)*g},touchingSliceAt:{x:e[0]+_,y:e[1]+v}}}}h(this,"afterTranslate")},drawEmpty:function(){var e=this.options;if(0===this.total){var t=this.center[0],i=this.center[1];this.graph||(this.graph=this.chart.renderer.circle(t,i,0).addClass("highcharts-graph").add(this.group)),this.graph.animate({"stroke-width":e.borderWidth,cx:t,cy:i,r:this.center[2]/2,fill:e.fillColor||"none",stroke:e.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},redrawPoints:function(){var e,t,i,a,o=this,c=o.chart,n=c.renderer,s=o.options.shadow;this.drawEmpty(),!s||o.shadowGroup||c.styledMode||(o.shadowGroup=n.g("shadow").attr({zIndex:-1}).add(o.group)),o.points.forEach(function(r){var l={};if(t=r.graphic,!r.isNull&&t){if(a=r.shapeArgs,e=r.getTranslate(),!c.styledMode){var u=r.shadowGroup;s&&!u&&(u=r.shadowGroup=n.g("shadow").add(o.shadowGroup)),u&&u.attr(e),i=o.pointAttribs(r,r.selected&&"select")}r.delayedRendering?(t.setRadialReference(o.center).attr(a).attr(e),c.styledMode||t.attr(i).attr({"stroke-linejoin":"round"}).shadow(s,u),r.delayedRendering=!1):(t.setRadialReference(o.center),c.styledMode||d(!0,l,i),d(!0,l,a,e),t.animate(l)),t.attr({visibility:r.visible?"inherit":"hidden"}),t.addClass(r.getClassName())}else t&&(r.graphic=t.destroy())})},drawPoints:function(){var e=this.chart.renderer;this.points.forEach(function(t){t.graphic||(t.graphic=e[t.shapeType](t.shapeArgs).add(t.series.group),t.delayedRendering=!0)})},searchPoint:u,sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,getCenter:t.getCenter,getSymbol:u,drawGraph:null},{init:function(){p.prototype.init.apply(this,arguments);var e=this;e.name=c(e.name,"Slice");var t=function(t){e.slice("select"===t.type)};return r(e,"select",t),r(e,"unselect",t),e},isValid:function(){return o(this.y)&&0<=this.y},setVisible:function(e,t){var i=this,a=i.series,o=a.chart,n=a.options.ignoreHiddenPoint;t=c(t,n),e!==i.visible&&(i.visible=i.options.visible=e=void 0===e?!i.visible:e,a.options.data[a.data.indexOf(i)]=i.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(t){i[t]&&i[t][e?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,e),e||"hover"!==i.state||i.setState(""),n&&(a.isDirty=!0),t&&o.redraw())},slice:function(e,t,i){var o=this.series;s(i,o.chart),c(t,!0),this.sliced=this.options.sliced=a(e)?e:!this.sliced,o.options.data[o.data.indexOf(this)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(e){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:t.r-1,start:t.start,end:t.end})},connectorShapes:{fixedOffset:function(e,t,i){var a=t.breakAt;return t=t.touchingSliceAt,["M",e.x,e.y].concat(i.softConnector?["C",e.x+("left"===e.alignment?-5:5),e.y,2*a.x-t.x,2*a.y-t.y,a.x,a.y]:["L",a.x,a.y]).concat(["L",t.x,t.y])},straight:function(e,t){return["M",e.x,e.y,"L",(t=t.touchingSliceAt).x,t.y]},crookedLine:function(e,t,i){t=t.touchingSliceAt;var a=this.series,o=a.center[0],c=a.chart.plotWidth,s=a.chart.plotLeft;a=e.alignment;var r=this.shapeArgs.r;return i=n(i.crookDistance,1),o=["L",i="left"===a?o+r+(c+s-o-r)*(1-i):s+(o-r)*i,e.y],("left"===a?i>e.x||i<t.x:i<e.x||i>t.x)&&(o=[]),["M",e.x,e.y].concat(o).concat(["L",t.x,t.y])}},getConnectorPath:function(){var e=this.labelPosition,t=this.series.options.dataLabels,i=t.connectorShape,a=this.connectorShapes;return a[i]&&(i=a[i]),i.call(this,{x:e.final.x,y:e.final.y,alignment:e.alignment},e.connectorPosition,t)}})}),t(i,"parts/DataLabels.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.animObject,a=t.arrayMax,o=t.clamp,c=t.defined,n=t.extend,s=t.isArray,r=t.objectEach,l=t.pick,d=t.relativeLength,u=t.splat,p=e.format,m=e.merge;t=e.noop;var h=e.Series,b=e.seriesTypes,g=e.stableSort;e.distribute=function(t,i,a){function c(e,t){return e.target-t.target}var n,s=!0,r=t,d=[],u=0,p=r.reducedLen||i;for(n=t.length;n--;)u+=t[n].size;if(u>p){for(g(t,function(e,t){return(t.rank||0)-(e.rank||0)}),u=n=0;u<=p;)u+=t[n].size,n++;d=t.splice(n-1,t.length)}for(g(t,c),t=t.map(function(e){return{size:e.size,targets:[e.target],align:l(e.align,.5)}});s;){for(n=t.length;n--;)s=t[n],u=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=o(u-s.size*s.align,0,i-s.size);for(n=t.length,s=!1;n--;)0<n&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].align=.5,t[n-1].pos+t[n-1].size>i&&(t[n-1].pos=i-t[n-1].size),t.splice(n,1),s=!0)}r.push.apply(r,d),n=0,t.some(function(t){var o=0;if(t.targets.some(function(){if(r[n].pos=t.pos+o,Math.abs(r[n].pos-r[n].target)>a)return r.slice(0,n+1).forEach(function(e){delete e.pos}),r.reducedLen=(r.reducedLen||i)-.1*i,r.reducedLen>.1*i&&e.distribute(r,i,a),!0;o+=r[n].size,n++}))return!0}),g(r,c)},h.prototype.drawDataLabels=function(){function t(e,t){var i,a=[];if(s(e)&&!s(t))a=e.map(function(e){return m(e,t)});else if(s(t)&&!s(e))a=t.map(function(t){return m(e,t)});else if(s(e)||s(t))for(i=Math.max(e.length,t.length);i--;)a[i]=m(e[i],t[i]);else a=m(e,t);return a}var a=this,o=a.chart,n=a.options,d=n.dataLabels,h=a.points,b=a.hasRendered||0,g=i(n.animation).duration,f=Math.min(g,200),_=!o.renderer.forExport&&l(d.defer,0<f),v=o.renderer;if(d=t(t(o.options.plotOptions&&o.options.plotOptions.series&&o.options.plotOptions.series.dataLabels,o.options.plotOptions&&o.options.plotOptions[a.type]&&o.options.plotOptions[a.type].dataLabels),d),e.fireEvent(this,"drawDataLabels"),s(d)||d.enabled||a._hasPointLabels){var y=a.plotGroup("dataLabelsGroup","data-labels",_&&!b?"hidden":"inherit",d.zIndex||6);_&&(y.attr({opacity:+b}),b||setTimeout(function(){var e=a.dataLabelsGroup;e&&(a.visible&&y.show(!0),e[n.animation?"animate":"attr"]({opacity:1},{duration:f}))},g-f)),h.forEach(function(e){u(t(d,e.dlOptions||e.options&&e.options.dataLabels)).forEach(function(t,i){var s=t.enabled&&(!e.isNull||e.dataLabelOnNull)&&function(e,t){var i=t.filter;return!i||(t=i.operator,e=e[i.property],i=i.value,">"===t&&e>i||"<"===t&&e<i||">="===t&&e>=i||"<="===t&&e<=i||"=="===t&&e==i||"==="===t&&e===i)}(e,t),d=e.dataLabels?e.dataLabels[i]:e.dataLabel,u=e.connectors?e.connectors[i]:e.connector,m=l(t.distance,e.labelDistance),h=!d;if(s){var b=e.getLabelConfig(),g=l(t[e.formatPrefix+"Format"],t.format);b=c(g)?p(g,b,o):(t[e.formatPrefix+"Formatter"]||t.formatter).call(b,t),g=t.style;var f=t.rotation;o.styledMode||(g.color=l(t.color,g.color,a.color,"#000000"),"contrast"===g.color?(e.contrastColor=v.getContrast(e.color||a.color),g.color=!c(m)&&t.inside||0>m||n.stacking?e.contrastColor:"#000000"):delete e.contrastColor,n.cursor&&(g.cursor=n.cursor));var _={r:t.borderRadius||0,rotation:f,padding:t.padding,zIndex:1};o.styledMode||(_.fill=t.backgroundColor,_.stroke=t.borderColor,_["stroke-width"]=t.borderWidth),r(_,function(e,t){void 0===e&&delete _[t]})}!d||s&&c(b)?s&&c(b)&&(d?_.text=b:(e.dataLabels=e.dataLabels||[],d=e.dataLabels[i]=f?v.text(b,0,-9999).addClass("highcharts-data-label"):v.label(b,0,-9999,t.shape,null,null,t.useHTML,null,"data-label"),i||(e.dataLabel=d),d.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(t.className||"")+(t.useHTML?" highcharts-tracker":""))),d.options=t,d.attr(_),o.styledMode||d.css(g).shadow(t.shadow),d.added||d.add(y),t.textPath&&!t.useHTML&&(d.setTextPath(e.getDataLabelPath&&e.getDataLabelPath(d)||e.graphic,t.textPath),e.dataLabelPath&&!t.textPath.enabled&&(e.dataLabelPath=e.dataLabelPath.destroy())),a.alignDataLabel(e,d,t,null,h)):(e.dataLabel=e.dataLabel&&e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[i]),i||delete e.dataLabel,u&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[i])))})})}e.fireEvent(this,"afterDrawDataLabels")},h.prototype.alignDataLabel=function(e,t,i,a,o){var c=this,s=this.chart,r=this.isCartesian&&s.inverted,d=this.enabledDataSorting,u=l(e.dlBox&&e.dlBox.centerX,e.plotX,-9999),p=l(e.plotY,-9999),m=t.getBBox(),h=i.rotation,b=i.align,g=s.isInsidePlot(u,Math.round(p),r),f="justify"===l(i.overflow,d?"none":"justify"),_=this.visible&&(e.series.forceDL||d&&!f||g||a&&s.isInsidePlot(u,r?a.x+1:a.y+a.height-1,r)),v=function(i){d&&c.xAxis&&!f&&c.setDataLabelStartPos(e,t,o,g,i)};if(_){var y=s.renderer.fontMetrics(s.styledMode?void 0:i.style.fontSize,t).b;a=n({x:r?this.yAxis.len-p:u,y:Math.round(r?this.xAxis.len-u:p),width:0,height:0},a),n(i,{width:m.width,height:m.height}),h?(f=!1,u=s.renderer.rotCorr(y,h),v(u={x:a.x+i.x+a.width/2+u.x,y:a.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*a.height}),t[o?"attr":"animate"](u).attr({align:b}),v=180<(v=(h+720)%360)&&360>v,"left"===b?u.y-=v?m.height:0:"center"===b?(u.x-=m.width/2,u.y-=m.height/2):"right"===b&&(u.x-=m.width,u.y-=v?0:m.height),t.placed=!0,t.alignAttr=u):(v(a),t.align(i,null,a),u=t.alignAttr),f&&0<=a.height?this.justifyDataLabel(t,i,u,m,a,o):l(i.crop,!0)&&(_=s.isInsidePlot(u.x,u.y)&&s.isInsidePlot(u.x+m.width,u.y+m.height)),i.shape&&!h&&t[o?"attr":"animate"]({anchorX:r?s.plotWidth-e.plotY:e.plotX,anchorY:r?s.plotHeight-e.plotX:e.plotY})}o&&d&&(t.placed=!1),_||d&&!f||(t.hide(!0),t.placed=!1)},h.prototype.setDataLabelStartPos=function(e,t,i,a,o){var c=this.chart,n=c.inverted,s=this.xAxis,r=s.reversed,l=n?t.height/2:t.width/2;e=(e=e.pointWidth)?e/2:0,s=n?o.x:r?-l-e:s.width-l+e,o=n?r?this.yAxis.height-l+e:-l-e:o.y,t.startXPos=s,t.startYPos=o,a?"hidden"===t.visibility&&(t.show(),t.attr({opacity:0}).animate({opacity:1})):t.attr({opacity:1}).animate({opacity:0},void 0,t.hide),c.hasRendered&&(i&&t.attr({x:t.startXPos,y:t.startYPos}),t.placed=!0)},h.prototype.justifyDataLabel=function(e,t,i,a,o,c){var n=this.chart,s=t.align,r=t.verticalAlign,l=e.box?0:e.padding||0,d=i.x+l;if(0>d){"right"===s?(t.align="left",t.inside=!0):t.x=-d;var u=!0}return(d=i.x+a.width-l)>n.plotWidth&&("left"===s?(t.align="right",t.inside=!0):t.x=n.plotWidth-d,u=!0),0>(d=i.y+l)&&("bottom"===r?(t.verticalAlign="top",t.inside=!0):t.y=-d,u=!0),(d=i.y+a.height-l)>n.plotHeight&&("top"===r?(t.verticalAlign="bottom",t.inside=!0):t.y=n.plotHeight-d,u=!0),u&&(e.placed=!c,e.align(t,null,o)),u},b.pie&&(b.pie.prototype.dataLabelPositioners={radialDistributionY:function(e){return e.top+e.distributeBox.pos},radialDistributionX:function(e,t,i,a){return e.getX(i<t.top+2||i>t.bottom-2?a:i,t.half,t)},justify:function(e,t,i){return i[0]+(e.half?-1:1)*(t+e.labelDistance)},alignToPlotEdges:function(e,t,i,a){return e=e.getBBox().width,t?e+a:i-e-a},alignToConnectors:function(e,t,i,a){var o,c=0;return e.forEach(function(e){(o=e.dataLabel.getBBox().width)>c&&(c=o)}),t?c+a:i-c-a}},b.pie.prototype.drawDataLabels=function(){var t,i,o,n,s,r,d,u,p,b,g,f,_=this,v=_.data,y=_.chart,w=_.options.dataLabels,k=w.connectorPadding,x=y.plotWidth,T=y.plotHeight,S=y.plotLeft,j=Math.round(y.chartWidth/3),O=_.center,I=O[2]/2,D=O[1],C=[[],[]],P=[0,0,0,0],$=_.dataLabelPositioners;_.visible&&(w.enabled||_._hasPointLabels)&&(v.forEach(function(e){e.dataLabel&&e.visible&&e.dataLabel.shortened&&(e.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),e.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(_),v.forEach(function(e){e.dataLabel&&(e.visible?(C[e.half].push(e),e.dataLabel._pos=null,!c(w.style.width)&&!c(e.options.dataLabels&&e.options.dataLabels.style&&e.options.dataLabels.style.width)&&e.dataLabel.getBBox().width>j&&(e.dataLabel.css({width:.7*j}),e.dataLabel.shortened=!0)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&1===e.dataLabels.length&&delete e.dataLabels))}),C.forEach(function(i,a){var o,m=i.length,h=[];if(m){if(_.sortByAngle(i,a-.5),0<_.maxLabelDistance){var f=Math.max(0,D-I-_.maxLabelDistance),v=Math.min(D+I+_.maxLabelDistance,y.plotHeight);i.forEach(function(e){0<e.labelDistance&&e.dataLabel&&(e.top=Math.max(0,D-I-e.labelDistance),e.bottom=Math.min(D+I+e.labelDistance,y.plotHeight),o=e.dataLabel.getBBox().height||21,e.distributeBox={target:e.labelPosition.natural.y-e.top+o/2,size:o,rank:e.y},h.push(e.distributeBox))}),e.distribute(h,f=v+o-f,f/5)}for(g=0;g<m;g++){if(n=(t=i[g]).dataLabel,b=!1===t.visible?"hidden":"inherit",p=f=(r=t.labelPosition).natural.y,h&&c(t.distributeBox)&&(void 0===t.distributeBox.pos?b="hidden":(d=t.distributeBox.size,p=$.radialDistributionY(t))),delete t.positionIndex,w.justify)u=$.justify(t,I,O);else switch(w.alignTo){case"connectors":u=$.alignToConnectors(i,a,x,S);break;case"plotEdges":u=$.alignToPlotEdges(n,a,x,S);break;default:u=$.radialDistributionX(_,t,p,f)}n._attr={visibility:b,align:r.alignment},n._pos={x:u+w.x+({left:k,right:-k}[r.alignment]||0),y:p+w.y-10},r.final.x=u,r.final.y=p,l(w.crop,!0)&&(s=n.getBBox().width,f=null,u-s<k&&1===a?(f=Math.round(s-u+k),P[3]=Math.max(f,P[3])):u+s>x-k&&0===a&&(f=Math.round(u+s-x+k),P[1]=Math.max(f,P[1])),0>p-d/2?P[0]=Math.max(Math.round(d/2-p),P[0]):p+d/2>T&&(P[2]=Math.max(Math.round(p+d/2-T),P[2])),n.sideOverflow=f)}}}),0===a(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),this.points.forEach(function(e){var t;f=m(w,e.options.dataLabels),(i=l(f.connectorWidth,1))&&(o=e.connector,(n=e.dataLabel)&&n._pos&&e.visible&&0<e.labelDistance?(b=n._attr.visibility,(t=!o)&&(e.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(_.dataLabelsGroup),y.styledMode||o.attr({"stroke-width":i,stroke:f.connectorColor||e.color||"#666666"})),o[t?"attr":"animate"]({d:e.getConnectorPath()}),o.attr("visibility",b)):o&&(e.connector=o.destroy()))}))},b.pie.prototype.placeDataLabels=function(){this.points.forEach(function(e){var t,i=e.dataLabel;i&&e.visible&&((t=i._pos)?(i.sideOverflow&&(i._attr.width=Math.max(i.getBBox().width-i.sideOverflow,0),i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](t),i.moved=!0):i&&i.attr({y:-9999})),delete e.distributeBox},this)},b.pie.prototype.alignDataLabel=t,b.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,i=this.options,a=i.center,c=i.minSize||80,n=null!==i.size;if(!n){if(null!==a[0])var s=Math.max(t[2]-Math.max(e[1],e[3]),c);else s=Math.max(t[2]-e[1]-e[3],c),t[0]+=(e[3]-e[1])/2;null!==a[1]?s=o(s,c,t[2]-Math.max(e[0],e[2])):(s=o(s,c,t[2]-e[0]-e[2]),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=Math.min(d(i.innerSize||0,s),s),this.translate(t),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}),b.column&&(b.column.prototype.alignDataLabel=function(e,t,i,a,o){var c=this.chart.inverted,n=e.series,s=e.dlBox||e.shapeArgs,r=l(e.below,e.plotY>l(this.translatedThreshold,n.yAxis.len)),d=l(i.inside,!!this.options.stacking);s&&(0>(a=m(s)).y&&(a.height+=a.y,a.y=0),0<(s=a.y+a.height-n.yAxis.len)&&(a.height-=s),c&&(a={x:n.yAxis.len-a.y-a.height,y:n.xAxis.len-a.x-a.width,width:a.height,height:a.width}),d||(c?(a.x+=r?0:a.width,a.width=0):(a.y+=r?a.height:0,a.height=0))),i.align=l(i.align,!c||d?"center":r?"right":"left"),i.verticalAlign=l(i.verticalAlign,c||d?"middle":r?"top":"bottom"),h.prototype.alignDataLabel.call(this,e,t,i,a,o),a&&(0>=a.height&&a.y===this.chart.plotHeight||0>=a.width&&0===a.x)&&(t.hide(!0),t.placed=!1),i.inside&&e.contrastColor&&t.css({color:e.contrastColor})})}),t(i,"modules/overlapping-datalabels.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.isArray,a=t.objectEach,o=t.pick,c=e.fireEvent;(0,e.addEvent)(t=e.Chart,"render",function(){var e=[];(this.labelCollectors||[]).forEach(function(t){e=e.concat(t())}),(this.yAxis||[]).forEach(function(t){t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&a(t.stacks,function(t){a(t,function(t){e.push(t.label)})})}),(this.series||[]).forEach(function(t){t.visible&&(!1!==t.options.dataLabels.enabled||t._hasPointLabels)&&t.points.forEach(function(t){t.visible&&(i(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[]).forEach(function(i){var a=i.options;i.labelrank=o(a.labelrank,t.labelrank,t.shapeArgs&&t.shapeArgs.height),a.allowOverlap||e.push(i)})})}),this.hideOverlappingLabels(e)}),t.prototype.hideOverlappingLabels=function(e){var t,i,a,o=this,n=e.length,s=o.renderer,r=!1,l=function(e){var t=e.box?0:e.padding||0,i=0;if(e&&(!e.alignAttr||e.placed)){var a=e.alignAttr||{x:e.attr("x"),y:e.attr("y")},o=e.parentGroup;return e.width||(i=e.getBBox(),e.width=i.width,e.height=i.height,i=s.fontMetrics(null,e.element).h),{x:a.x+(o.translateX||0)+t,y:a.y+(o.translateY||0)+t-i,width:e.width-2*t,height:e.height-2*t}}};for(i=0;i<n;i++)(t=e[i])&&(t.oldOpacity=t.opacity,t.newOpacity=1,t.absoluteBox=l(t));for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),i=0;i<n;i++){var d=(l=e[i])&&l.absoluteBox;for(t=i+1;t<n;++t){var u=(a=e[t])&&a.absoluteBox;!d||!u||l===a||0===l.newOpacity||0===a.newOpacity||u.x>d.x+d.width||u.x+u.width<d.x||u.y>d.y+d.height||u.y+u.height<d.y||((l.labelrank<a.labelrank?l:a).newOpacity=0)}}e.forEach(function(e){var t;if(e){var i=e.newOpacity;e.oldOpacity!==i&&(e.alignAttr&&e.placed?(i?e.show(!0):t=function(){e.hide(!0),e.placed=!1},r=!0,e.alignAttr.opacity=i,e[e.isOld?"animate":"attr"](e.alignAttr,null,t),c(o,"afterHideOverlappingLabel")):e.attr({opacity:i})),e.isOld=!0}}),r&&c(o,"afterHideAllOverlappingLabels")}}),t(i,"parts/Interaction.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.defined,a=t.extend,o=t.isArray,c=t.isObject,n=t.objectEach,s=t.pick,r=e.addEvent;t=e.Chart;var l=e.createElement,d=e.css,u=e.defaultOptions,p=e.defaultPlotOptions,m=e.fireEvent,h=e.hasTouch,b=e.Legend,g=e.merge,f=e.Point,_=e.Series,v=e.seriesTypes,y=e.svg,w=e.TrackerMixin={drawTrackerPoint:function(){var e,t=this,i=t.chart,a=i.pointer,c=function(e){var t=a.getPointFromEvent(e);void 0!==t&&(a.isDirectTouch=!0,t.onMouseOver(e))};t.points.forEach(function(t){e=o(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach(function(e){e.div?e.div.point=t:e.element.point=t})}),t._hasTracking||(t.trackerGroups.forEach(function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(e){a.onTrackerMouseOut(e)}),h&&t[e].on("touchstart",c),!i.styledMode&&t.options.cursor&&t[e].css(d).css({cursor:t.options.cursor}))}),t._hasTracking=!0),m(this,"afterDrawTracker")},drawTrackerGraph:function(){var e,t=this,i=t.options,a=i.trackByArea,o=[].concat(a?t.areaPath:t.graphPath),c=o.length,n=t.chart,s=n.pointer,r=n.renderer,l=n.options.tooltip.snap,d=t.tracker,u=function(){n.hoverSeries!==t&&t.onMouseOver()},p="rgba(192,192,192,"+(y?1e-4:.002)+")";if(c&&!a)for(e=c+1;e--;)"M"===o[e]&&o.splice(e+1,0,o[e+1]-l,o[e+2],"L"),(e&&"M"===o[e]||e===c)&&o.splice(e,0,"L",o[e-2]+l,o[e-1]);d?d.attr({d:o}):t.graph&&(t.tracker=r.path(o).attr({visibility:t.visible?"visible":"hidden",zIndex:2}).addClass(a?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),n.styledMode||t.tracker.attr({"stroke-linejoin":"round",stroke:p,fill:a?p:"none","stroke-width":t.graph.strokeWidth()+(a?0:2*l)}),[t.tracker,t.markerGroup].forEach(function(e){e.addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(e){s.onTrackerMouseOut(e)}),i.cursor&&!n.styledMode&&e.css({cursor:i.cursor}),h&&e.on("touchstart",u)})),m(this,"afterDrawTracker")}};v.column&&(v.column.prototype.drawTracker=w.drawTrackerPoint),v.pie&&(v.pie.prototype.drawTracker=w.drawTrackerPoint),v.scatter&&(v.scatter.prototype.drawTracker=w.drawTrackerPoint),a(b.prototype,{setItemEvents:function(e,t,i){var a=this,o=a.chart.renderer.boxWrapper,c=e instanceof f,n="highcharts-legend-"+(c?"point":"series")+"-active",s=a.chart.styledMode;(i?t:e.legendGroup).on("mouseover",function(){e.visible&&a.allItems.forEach(function(t){e!==t&&t.setState("inactive",!c)}),e.setState("hover"),e.visible&&o.addClass(n),s||t.css(a.options.itemHoverStyle)}).on("mouseout",function(){a.chart.styledMode||t.css(g(e.visible?a.itemStyle:a.itemHiddenStyle)),a.allItems.forEach(function(t){e!==t&&t.setState("",!c)}),o.removeClass(n),e.setState()}).on("click",function(t){var i=function(){e.setVisible&&e.setVisible(),a.allItems.forEach(function(t){e!==t&&t.setState(e.visible?"inactive":"",!c)})};o.removeClass(n),t={browserEvent:t},e.firePointEvent?e.firePointEvent("legendItemClick",t,i):m(e,"legendItemClick",t,i)})},createCheckboxForItem:function(e){e.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),r(e.checkbox,"click",function(t){m(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),a(t.prototype,{showResetZoom:function(){function e(){t.zoomOut()}var t=this,i=u.lang,a=t.options.chart.resetZoomButton,o=a.theme,c=o.states,n="chart"===a.relativeTo||"spaceBox"===a.relativeTo?null:"plotBox";m(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(i.resetZoom,null,null,e,o,c&&c.hover).attr({align:a.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(a.position,!1,n)}),m(this,"afterShowResetZoom")},zoomOut:function(){m(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(e){var t,a=this,o=a.pointer,n=!1,r=a.inverted?o.mouseDownX:o.mouseDownY;!e||e.resetSelection?(a.axes.forEach(function(e){t=e.zoom()}),o.initiated=!1):e.xAxis.concat(e.yAxis).forEach(function(e){var c=e.axis,s=a.inverted?c.left:c.top,l=c.isXAxis,d=!1;(!l&&r>=s&&r<=(a.inverted?s+c.width:s+c.height)||l||!i(r))&&(d=!0),o[l?"zoomX":"zoomY"]&&d&&(t=c.zoom(e.min,e.max),c.displayBtn&&(n=!0))});var l=a.resetZoomButton;n&&!l?a.showResetZoom():!n&&c(l)&&(a.resetZoomButton=l.destroy()),t&&a.redraw(s(a.options.chart.animation,e&&e.animation,100>a.pointCount))},pan:function(e,t){var i,a=this,o=a.hoverPoints,c=a.options.chart;t="object"==typeof t?t:{enabled:t,type:"x"},c&&c.panning&&(c.panning=t);var n=t.type;m(this,"pan",{originalEvent:e},function(){o&&o.forEach(function(e){e.setState()});var t=[1];"xy"===n?t=[1,0]:"y"===n&&(t=[0]),t.forEach(function(t){var o=a[t?"xAxis":"yAxis"][0],c=o.options,n=o.horiz,s=e[n?"chartX":"chartY"],r=a[n=n?"mouseDownX":"mouseDownY"],l=(o.pointRange||0)/2,d=o.reversed&&!a.inverted||!o.reversed&&a.inverted?-1:1,u=o.getExtremes(),p=o.toValue(r-s,!0)+l*d,m=(d=o.toValue(r+o.len-s,!0)-l*d)<p;r=m?d:p,p=m?p:d,d=Math.min(u.dataMin,l?u.min:o.toValue(o.toPixels(u.min)-o.minPixelPadding)),l=Math.max(u.dataMax,l?u.max:o.toValue(o.toPixels(u.max)+o.minPixelPadding)),c.ordinal||(t&&(0<(c=d-r)&&(p+=c,r=d),0<(c=p-l)&&(p=l,r-=c)),(o.series.length&&r!==u.min&&p!==u.max&&t||o.panningState&&r>=o.panningState.startMin&&p<=o.panningState.startMax)&&(o.setExtremes(r,p,!1,!1,{trigger:"pan"}),i=!0),a[n]=s)}),i&&a.redraw(!1),d(a.container,{cursor:"move"})})}}),a(f.prototype,{select:function(e,t){var i=this,a=i.series,o=a.chart;this.selectedStaging=e=s(e,!i.selected),i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=i.options.selected=e,a.options.data[a.data.indexOf(i)]=i.options,i.setState(e&&"select"),t||o.getSelectedPoints().forEach(function(e){var t=e.series;e.selected&&e!==i&&(e.selected=e.options.selected=!1,t.options.data[t.data.indexOf(e)]=e.options,e.setState(o.hoverPoints&&t.options.inactiveOtherPoints?"inactive":""),e.firePointEvent("unselect"))})}),delete this.selectedStaging},onMouseOver:function(e){var t=this.series.chart,i=t.pointer;e=e?i.normalize(e):i.getChartCoordinatesFromPoint(this,t.inverted),i.runPointActions(e,this)},onMouseOut:function(){var e=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(e.hoverPoints||[]).forEach(function(e){e.setState()}),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=this,i=g(t.series.options.point,t.options).events;t.events=i,n(i,function(i,a){e.isFunction(i)&&r(t,a,i)}),this.hasImportedEvents=!0}},setState:function(e,t){var i,o=this.series,c=this.state,n=o.options.states[e||"normal"]||{},r=p[o.type].marker&&o.options.marker,l=r&&r.states&&r.states[e||"normal"]||{},d=o.stateMarkerGraphic,u=this.marker||{},h=o.chart,b=o.halo,g=r&&o.markerAttribs;if(!((e=e||"")===this.state&&!t||this.selected&&"select"!==e||!1===n.enabled||e&&(!1===l.enabled||r&&!1===r.enabled&&!1===l.enabled)||e&&u.states&&u.states[e]&&!1===u.states[e].enabled)){if(this.state=e,g&&(i=o.markerAttribs(this,e)),this.graphic){if(c&&this.graphic.removeClass("highcharts-point-"+c),e&&this.graphic.addClass("highcharts-point-"+e),!h.styledMode){var f=o.pointAttribs(this,e),_=s(h.options.chart.animation,n.animation);o.options.inactiveOtherPoints&&((this.dataLabels||[]).forEach(function(e){e&&e.animate({opacity:f.opacity},_)}),this.connector&&this.connector.animate({opacity:f.opacity},_)),this.graphic.animate(f,_)}i&&this.graphic.animate(i,s(h.options.chart.animation,l.animation,r.animation)),d&&d.hide()}else e&&l&&(c=u.symbol||o.symbol,d&&d.currentSymbol!==c&&(d=d.destroy()),i&&(d?d[t?"animate":"attr"]({x:i.x,y:i.y}):c&&(o.stateMarkerGraphic=d=h.renderer.symbol(c,i.x,i.y,i.width,i.height).add(o.markerGroup),d.currentSymbol=c)),!h.styledMode&&d&&d.attr(o.pointAttribs(this,e))),d&&(d[e&&this.isInside?"show":"hide"](),d.element.point=this);e=n.halo,n=(d=this.graphic||d)&&d.visibility||"inherit",e&&e.size&&d&&"hidden"!==n&&!this.isCluster?(b||(o.halo=b=h.renderer.path().add(d.parentGroup)),b.show()[t?"animate":"attr"]({d:this.haloPath(e.size)}),b.attr({class:"highcharts-halo highcharts-color-"+s(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),visibility:n,zIndex:-1}),b.point=this,h.styledMode||b.attr(a({fill:this.color||o.color,"fill-opacity":e.opacity},e.attributes))):b&&b.point&&b.point.haloPath&&b.animate({d:b.point.haloPath(0)},null,b.hide),m(this,"afterSetState")}},haloPath:function(e){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-e,this.plotY-e,2*e,2*e)}}),a(_.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&m(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,a=t.hoverPoint;t.hoverSeries=null,a&&a.onMouseOut(),this&&e.events.mouseOut&&m(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),t.series.forEach(function(e){e.setState("",!0)})},setState:function(e,t){var i=this,a=i.options,o=i.graph,c=a.inactiveOtherPoints,n=a.states,r=a.lineWidth,l=a.opacity,d=s(n[e||"normal"]&&n[e||"normal"].animation,i.chart.options.chart.animation);if(a=0,i.state!==(e=e||"")&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(t){t&&(i.state&&t.removeClass("highcharts-series-"+i.state),e&&t.addClass("highcharts-series-"+e))}),i.state=e,!i.chart.styledMode)){if(n[e]&&!1===n[e].enabled)return;if(e&&(r=n[e].lineWidth||r+(n[e].lineWidthPlus||0),l=s(n[e].opacity,l)),o&&!o.dashstyle)for(o.animate(n={"stroke-width":r},d);i["zone-graph-"+a];)i["zone-graph-"+a].attr(n),a+=1;c||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(e){e&&e.animate({opacity:l},d)})}t&&c&&i.points&&i.setAllPointsToState(e)},setAllPointsToState:function(e){this.points.forEach(function(t){t.setState&&t.setState(e)})},setVisible:function(e,t){var i=this,a=i.chart,o=i.legendItem,c=a.options.chart.ignoreHiddenSeries,n=(i.visible=e=i.options.visible=i.userOptions.visible=void 0===e?!i.visible:e)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(e){i[e]&&i[e][n]()}),a.hoverSeries!==i&&(a.hoverPoint&&a.hoverPoint.series)!==i||i.onMouseOut(),o&&a.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&a.series.forEach(function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),i.linkedSeries.forEach(function(t){t.setVisible(e,!1)}),c&&(a.isDirtyBox=!0),m(i,n),!1!==t&&a.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=this.options.selected=void 0===e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),m(this,e?"select":"unselect")},drawTracker:w.drawTrackerGraph})}),t(i,"parts/Responsive.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var i=t.isArray,a=t.isObject,o=t.objectEach,c=t.pick,n=t.splat;(t=e.Chart).prototype.setResponsive=function(t,i){var a=this.options.responsive,o=[],c=this.currentResponsive;!i&&a&&a.rules&&a.rules.forEach(function(t){void 0===t._id&&(t._id=e.uniqueKey()),this.matchResponsiveRule(t,o)},this),(i=e.merge.apply(0,o.map(function(t){return e.find(a.rules,function(e){return e._id===t}).chartOptions}))).isResponsiveOptions=!0,(o=o.toString()||void 0)!==(c&&c.ruleIds)&&(c&&this.update(c.undoOptions,t,!0),o?((c=this.currentOptions(i)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:o,mergedOptions:i,undoOptions:c},this.update(i,t,!0)):this.currentResponsive=void 0)},t.prototype.matchResponsiveRule=function(e,t){var i=e.condition;(i.callback||function(){return this.chartWidth<=c(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=c(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=c(i.minWidth,0)&&this.chartHeight>=c(i.minHeight,0)}).call(this)&&t.push(e._id)},t.prototype.currentOptions=function(e){var t=this,c={};return function e(c,s,r,l){var d;o(c,function(o,c){if(!l&&-1<t.collectionsWithUpdate.indexOf(c))for(o=n(o),r[c]=[],d=0;d<o.length;d++)s[c][d]&&(r[c][d]={},e(o[d],s[c][d],r[c][d],l+1));else a(o)?(r[c]=i(o)?[]:{},e(o,s[c]||{},r[c],l+1)):r[c]=void 0===s[c]?null:s[c]})}(e,this.options,c,0),c}}),t(i,"masters/highcharts.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){return(0,t.extend)(e,{animObject:t.animObject,arrayMax:t.arrayMax,arrayMin:t.arrayMin,attr:t.attr,correctFloat:t.correctFloat,defined:t.defined,destroyObjectProperties:t.destroyObjectProperties,discardElement:t.discardElement,erase:t.erase,extend:t.extend,extendClass:t.extendClass,isArray:t.isArray,isClass:t.isClass,isDOMElement:t.isDOMElement,isNumber:t.isNumber,isObject:t.isObject,isString:t.isString,numberFormat:t.numberFormat,objectEach:t.objectEach,offset:t.offset,pad:t.pad,pick:t.pick,pInt:t.pInt,relativeLength:t.relativeLength,setAnimation:t.setAnimation,splat:t.splat,syncTimeout:t.syncTimeout,wrap:t.wrap}),e}),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]},e.exports?(c.default=c,e.exports=o.document?c(o):c):void 0===(a=(function(){return c(o)}).call(t,i,t,e))||(e.exports=a)},"6nYW":function(e,t,i){"use strict";i.d(t,"c",function(){return c}),i.d(t,"i",function(){return n}),i.d(t,"a",function(){return s}),i.d(t,"e",function(){return r}),i.d(t,"d",function(){return l}),i.d(t,"h",function(){return d}),i.d(t,"g",function(){return u}),i.d(t,"b",function(){return p}),i.d(t,"f",function(){return m});var a=i("f0Wu"),o=i.n(a);function c(){return o()().startOf("day").valueOf()}function n(e,t=1){return o()(e).add(t,"day").valueOf()}function s(e){const t=o()().startOf("day");let i=o()(e).startOf("day");return i.isAfter(t)&&(i=t),i.valueOf()}function r(e,t=!0){return o()(e).add(t?0:8,"hour").valueOf()}function l(e,t=!0){return o()(e).add(t?24:12,"hour").valueOf()}function d(e){return o()(e).isSame(o()(),"day")}function u(e){return e.isAfter(o()(),"day")}function p(e){const t=e.map(e=>Math.floor(e)),i=t.reduce((e,t)=>e+t,0),a=100-i;if(i<=100){if(i<100){let e=a;return t.map(t=>t>0||e<=0?t:(e--,t+1))}return t}const o=[...e];return o.sort((e,t)=>Math.floor(e)-e-(Math.floor(t)-t)),o.map((e,t)=>t<a?Math.floor(e)+1:Math.floor(e))}function m(e){return o()().add(-12,"hour").valueOf()}},"6owa":function(e,t,i){e.exports=i.p+"google-data-studio.5d6d233e4fe242dd171f.svg"},"73lP":function(e,t,i){"use strict";i.d(t,"a",function(){return g});var a=i("ofXK"),o=i("1M0N"),c=i("mcWp"),n=i("bx+h"),s=i("tGh3"),r=i("tyNb"),l=i("K0KF"),d=i("bFKe"),u=i("gb9A"),p=i("EDFS"),m=i("y71m"),h=i("pcgY"),b=i("fXoL");let g=(()=>{class e{}return e.\u0275mod=b.Ub({type:e}),e.\u0275inj=b.Tb({factory:function(t){return new(t||e)},imports:[[a.c,h.a,o.a,c.a,n.a,s.a,r.l,l.a,d.b,u.a,p.d,m.a]]}),e})()},"7A2k":function(e,t,i){"use strict";i.d(t,"a",function(){return d});var a=i("ofXK"),o=i("hby3"),c=i("K0KF"),n=i("bx+h"),s=i("tyNb"),r=i("gb9A"),l=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=l.Ub({type:e}),e.\u0275inj=l.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.a,s.l,r.a]]}),e})()},"7Vji":function(e,t,i){"use strict";i.d(t,"a",function(){return d});var a=i("XNiG"),o=i("JX91"),c=i("eIep"),n=i("1G5W"),s=i("4f6Q"),r=i("tMYF"),l=i("fXoL");let d=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.destroy$=new a.a}ngAfterContentInit(){this.weekViewEvents.changes.pipe(Object(o.a)(this.weekViewEvents),Object(c.a)(()=>Object(s.a)(this.weekViewEvents.map(e=>e.elementRef.nativeElement))),Object(n.a)(this.destroy$)).subscribe(()=>{const e=Math.max(...this.weekViewEvents.map(e=>e.elementRef.nativeElement.offsetHeight));this.renderer.setStyle(this.elementRef.nativeElement,"height",e+"px")})}ngOnDestroy(){this.destroy$.next()}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(l.m),l.Wb(l.H))},e.\u0275dir=l.Rb({type:e,selectors:[["","cuCalendarContentWeekViewEventRow",""]],contentQueries:function(e,t,i){if(1&e&&l.Pb(i,r.a,1),2&e){let e;l.Qc(e=l.rc())&&(t.weekViewEvents=e)}}}),e})()},"7dUY":function(e,t,i){"use strict";i.d(t,"a",function(){return O});var a=i("fXoL"),o=i("jJQC"),c=i("mrTC"),n=i("S1QS"),s=i("2Vo4"),r=i("lJxs"),l=i("ofXK");function d(e,t){if(1&e){const e=a.dc();a.cc(0,"div",2),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc().onSelect.emit(i)}),a.dd(1),a.bc()}if(2&e){const e=t.$implicit;a.Ob("cu-home-tabs__tab_active",e.selected),a.Ib(1),a.fd(" ",e.name,"\n")}}const u=[[["","rightActionArea",""]]],p=["[rightActionArea]"];let m=(()=>{class e{constructor(){this.onSelect=new a.o,this.trackById=Object(o.d)("id")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-home-tabs"]],hostAttrs:[1,"cu-home-tabs"],inputs:{tabs:"tabs"},outputs:{onSelect:"onSelect"},ngContentSelectors:p,decls:3,vars:2,consts:[["class","cu-home-tabs__tab",3,"cu-home-tabs__tab_active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-home-tabs__actions"],[1,"cu-home-tabs__tab",3,"click"]],template:function(e,t){1&e&&(a.Cc(u),a.bd(0,d,2,3,"div",0),a.cc(1,"div",1),a.Bc(2),a.bc()),2&e&&a.Dc("ngForOf",t.tabs)("ngForTrackBy",t.trackById)},directives:[l.p],styles:['.cu-home-tabs{position:sticky;top:0;width:calc(100% + 20px);display:flex;align-items:center;padding:0 10px;margin:0 -10px;z-index:40;background:#fff}.dark-theme .cu-home-tabs{background:#1e272e}.cu-user-profile-block__user-inbox .cu-home-tabs{padding:5px 20px 0;width:100%;margin:0}.cu-home-tabs:after{content:"";display:block;position:absolute;left:10px;right:10px;width:calc(100% - 20px);height:1px;bottom:-1px;background:#e9ebf0}.dark-theme .cu-home-tabs:after{background:#384047}.cu-home-tabs__tab{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;cursor:pointer;padding:20px 0;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;z-index:10;color:#7c828d}.dark-theme .cu-home-tabs__tab{color:#abaeb0}.cu-home-tabs__tab:hover{color:#292d34}.dark-theme .cu-home-tabs__tab:hover{color:#d5d6d7}.cu-home-tabs__tab_active{color:#292d34}.dark-theme .cu-home-tabs__tab_active{color:#d5d6d7}.cu-home-tabs__tab_active:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;bottom:-1px;width:100%;height:3px;border-radius:3px 3px 0 0}@supports (--theme-main-color:#7b68ee){.cu-home-tabs__tab_active:after{background:var(--theme-main-color)}}.cu-home-tabs__tab+.cu-home-tabs__tab{margin-left:24px}.cu-home-tabs__actions{display:flex;align-items:center;margin-left:auto}'],encapsulation:2,changeDetection:0}),e})();var h=i("Xk4g"),b=i("l7P3"),g=i("czmj");function f(e,t){1&e&&(a.cc(0,"div"),a.gc(1,3),a.bc())}let _=(()=>{class e{constructor(e){this.store=e,this.comments$=this.store.select(n.e),this.commentsPagination$=this.store.select(Object(n.g)("assignedComments"))}loadMoreComments(){this.store.dispatch(Object(n.m)({loadMore:!0}))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(b.Store))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-home-assigned-comments"]],hostAttrs:[1,"cu-home-assigned-comments"],inputs:{team:"team"},decls:7,vars:14,consts:function(){let e;return e=$localize`:@@cu-home-assigned-comments__empty␟0f1af810717a49d895dcb69c6e46d007c08e87fc␟1505715692576546660: You have no assigned comments `,[[1,"cu-assigned-comments__body"],[3,"team","groups","moreLoading","hasMore","forAssigned","onLoadMore"],[4,"ngIf"],e]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"cu-comment-list",1),a.qc("onLoadMore",function(){return t.loadMoreComments()}),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.bc(),a.bd(5,f,2,0,"div",2),a.vc(6,"async"),a.bc()),2&e){let e=null,i=null,o=null;a.Ib(1),a.Dc("team",t.team)("groups",a.wc(2,6,t.comments$))("moreLoading",null==(e=a.wc(3,8,t.commentsPagination$))?null:e.moreLoading)("hasMore",null==(i=a.wc(4,10,t.commentsPagination$))?null:i.hasMore)("forAssigned",!0),a.Ib(4),a.Dc("ngIf",0===(null==(o=a.wc(6,12,t.comments$))?null:o.length))}},directives:[g.a,l.q],pipes:[l.b],styles:[".cu-home-assigned-comments{position:relative;display:block;margin-top:20px}.cu-home-assigned-comments__body{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));column-gap:20px;position:relative;padding:12px;border-radius:15px;background:rgba(233,235,240,.7)}.contrast_high .cu-home-assigned-comments__body{background:#f2f4f7}.dark-theme .cu-home-assigned-comments__body{background:rgba(43,52,59,.3)}"],encapsulation:2,changeDetection:0}),e})();function v(e,t){if(1&e&&(a.ac(0),a.Xb(1,"cu-inbox-section",6),a.Zb()),2&e){const e=t.$implicit,i=a.uc(2);a.Ib(1),a.Dc("tab",e)("user",i.user)("scrollContainer",i.scrollContainer)}}function y(e,t){if(1&e&&(a.ac(0),a.bd(1,v,2,3,"ng-container",5),a.Zb()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngForOf",e.showUnscheduled?e.inboxTabsFull:e.inboxTabsMin)("ngForTrackBy",e.trackByValue)}}function w(e,t){if(1&e&&a.Xb(0,"cu-home-assigned-comments",7),2&e){const e=a.uc();a.Dc("team",e.team)}}function k(e,t){if(1&e&&a.Xb(0,"cu-inbox-section",8),2&e){const e=a.uc();a.Dc("tab",e.InboxTabs.Done)("user",e.user)("scrollContainer",e.scrollContainer)("expandable",!1)}}function x(e,t){if(1&e&&a.Xb(0,"cu-inbox-section",8),2&e){const e=a.uc();a.Dc("tab",e.InboxTabs.Delegated)("user",e.user)("scrollContainer",e.scrollContainer)("expandable",!1)}}const T=[[["","homeTabsRightActionArea",""]]],S=["[homeTabsRightActionArea]"],j=[{id:n.c.Inbox,name:$localize`:@@inbox_tab_to-do:To do`},{id:n.c.Comments,name:$localize`:@@inbox_tab_comments:Comments`},{id:n.c.Done,name:$localize`:@@inbox_tab_done:Done`},{id:n.c.Delegated,name:$localize`:@@inbox_tab_delegated:Delegated`}];let O=(()=>{class e{constructor(){this.showComments=!0,this.showUnscheduled=!0,this.onSelectTab=new a.o,this.InboxTabs=c.a,this.TodoTabs=n.c,this.inboxTabsFull=[c.a.Today,c.a.Overdue,c.a.Next,c.a.Unscheduled],this.inboxTabsMin=[c.a.Today,c.a.Overdue,c.a.Next],this.trackByValue=o.f,this.todoTab$=new s.a(null),this.todoTabs$=this.todoTab$.pipe(Object(r.a)(e=>(this.showComments?j:j.filter(e=>e.id!==n.c.Comments)).map(t=>Object.assign(Object.assign({},t),{selected:t.id===e}))))}ngOnChanges(e){e.tab&&this.todoTab$.next(this.tab)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-user-inbox"]],inputs:{team:"team",user:"user",tab:"tab",showComments:"showComments",showUnscheduled:"showUnscheduled",scrollContainer:"scrollContainer"},outputs:{onSelectTab:"onSelectTab"},features:[a.Gb],ngContentSelectors:S,decls:8,vars:8,consts:[[3,"tabs","onSelect"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"team",4,"ngSwitchCase"],[3,"tab","user","scrollContainer","expandable",4,"ngSwitchCase"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"tab","user","scrollContainer"],[3,"team"],[3,"tab","user","scrollContainer","expandable"]],template:function(e,t){1&e&&(a.Cc(T),a.cc(0,"cu-home-tabs",0),a.qc("onSelect",function(e){return t.onSelectTab.emit(e.id)}),a.vc(1,"async"),a.Bc(2,0,["rightActionArea",""]),a.bc(),a.ac(3,1),a.bd(4,y,2,2,"ng-container",2),a.bd(5,w,1,1,"cu-home-assigned-comments",3),a.bd(6,k,1,4,"cu-inbox-section",4),a.bd(7,x,1,4,"cu-inbox-section",4),a.Zb()),2&e&&(a.Dc("tabs",a.wc(1,6,t.todoTabs$)),a.Ib(3),a.Dc("ngSwitch",t.tab),a.Ib(1),a.Dc("ngSwitchCase",t.TodoTabs.Inbox),a.Ib(1),a.Dc("ngSwitchCase",t.TodoTabs.Comments),a.Ib(1),a.Dc("ngSwitchCase",t.TodoTabs.Done),a.Ib(1),a.Dc("ngSwitchCase",t.TodoTabs.Delegated))},directives:[m,l.u,l.v,l.p,h.a,_],pipes:[l.b],styles:[""],changeDetection:0}),e})()},"7ycA":function(e,t,i){"use strict";i.d(t,"a",function(){return ee});var a=i("Q/P0"),o=i("HcPq"),c=i("Gj5t"),n=i("o7Ov"),s=i("VKdm"),r=i("c3rA"),l=i("pLZG"),d=i("eIep"),u=i("lJxs"),p=i("IzEk"),m=i("1G5W"),h=i("zp1y"),b=i("91me"),g=i("XNiG"),f=i("2Vo4"),_=i("itXk"),v=i("fXoL"),y=i("f0Wu"),w=i.n(y),k=i("/qOb"),x=i("Jf2N"),T=i("l7P3"),S=i("AeD3"),j=i("ofXK"),O=i("O5gs"),I=i("UdVN"),D=i("3Pt+"),C=i("JNrn");const P=["dateValues"];function $(e,t){1&e&&(v.cc(0,"div",31),v.gc(1,32),v.bc())}function z(e,t){if(1&e&&(v.cc(0,"span"),v.gc(1,33),v.bc()),2&e){const e=v.uc();v.Ib(1),v.kc(e.subcategoryName),v.hc(1)}}function M(e,t){1&e&&(v.ac(0),v.gc(1,34),v.Zb())}function E(e,t){if(1&e){const e=v.dc();v.ac(0),v.ac(1),v.gc(2,35),v.Zb(),v.cc(3,"div",36),v.cc(4,"input",37),v.qc("keydown",function(t){return v.Uc(e),v.uc().checkNumbers(t)})("ngModelChange",function(t){return v.Uc(e),v.uc().startingIndex=t})("ngModelChange",function(){return v.Uc(e),v.uc().validateStartIndex()}),v.bc(),v.bc(),v.Zb()}if(2&e){const e=v.uc();v.Ib(3),v.Ob("cu-sprints-settings__invalid",!e.startingIndex),v.Ib(1),v.Dc("autosize",e.startingIndex)("ngModel",e.startingIndex)}}function L(e,t){1&e&&(v.ac(0),v.gc(1,38),v.Zb())}function A(e,t){1&e&&(v.ac(0),v.gc(1,39),v.Zb())}function F(e,t){1&e&&(v.cc(0,"div",46),v.gc(1,47),v.bc())}function U(e,t){1&e&&(v.cc(0,"div",46),v.gc(1,49),v.bc())}function N(e,t){if(1&e&&v.bd(0,U,2,0,"div",48),2&e){const e=v.uc(2);v.Dc("ngIf",e.numSprintsError)}}function R(e,t){if(1&e){const e=v.dc();v.cc(0,"div",4),v.cc(1,"div",5),v.gc(2,40),v.bc(),v.cc(3,"div",8),v.cc(4,"div",41),v.cc(5,"input",42),v.qc("keydown",function(t){return v.Uc(e),v.uc().checkNumbers(t)})("ngModelChange",function(t){return v.Uc(e),v.uc().numSprints=t})("ngModelChange",function(){return v.Uc(e),v.uc().validate()}),v.bc(),v.bc(),v.bd(6,F,2,0,"div",43),v.bd(7,N,1,1,"ng-template",null,44,v.cd),v.cc(9,"div",15),v.gc(10,45),v.bc(),v.bc(),v.bc()}if(2&e){const e=v.Rc(8),t=v.uc();v.Ib(4),v.Ob("cu-sprints-settings__invalid",!t.numSprints||t.numSprints>50||t.numSprintsError),v.Ib(1),v.Dc("ngModel",t.numSprints),v.Ib(1),v.Dc("ngIf",t.numSprints>50)("ngIfElse",e)}}function G(e,t){1&e&&(v.ac(0),v.gc(1,50),v.Zb())}function q(e,t){if(1&e&&(v.ac(0),v.bd(1,G,2,0,"ng-container",6),v.vc(2,"async"),v.Zb()),2&e){const e=v.uc(),t=v.Rc(40);v.Ib(1),v.Dc("ngIf",v.wc(2,2,e.saving$))("ngIfElse",t)}}function B(e,t){1&e&&(v.ac(0),v.gc(1,51),v.Zb())}function W(e,t){1&e&&(v.ac(0),v.gc(1,52),v.Zb())}function V(e,t){if(1&e&&(v.ac(0),v.bd(1,W,2,0,"ng-container",6),v.vc(2,"async"),v.Zb()),2&e){const e=v.uc(2),t=v.Rc(44);v.Ib(1),v.Dc("ngIf",v.wc(2,2,e.saving$))("ngIfElse",t)}}function X(e,t){if(1&e&&v.bd(0,V,3,4,"ng-container",6),2&e){const e=v.uc(),t=v.Rc(46);v.Dc("ngIf",e.forMove)("ngIfElse",t)}}function H(e,t){if(1&e&&(v.ac(0),v.gc(1,53),v.Zb()),2&e){const e=v.uc();v.Ib(1),v.kc(e.categoryName),v.hc(1)}}function Y(e,t){1&e&&(v.ac(0),v.gc(1,54),v.Zb())}function Z(e,t){if(1&e&&(v.bd(0,Y,2,0,"ng-container",6),v.vc(1,"async")),2&e){const e=v.uc(),t=v.Rc(48);v.Dc("ngIf",v.wc(1,2,e.saving$))("ngIfElse",t)}}function Q(e,t){1&e&&(v.ac(0),v.gc(1,55),v.Zb())}function K(e,t){if(1&e&&(v.cc(0,"div",13),v.dd(1),v.bc()),2&e){const e=v.uc().values;v.Ib(1),v.gd(" ",e.start," - ",e.end," ")}}function J(e,t){1&e&&v.bd(0,K,2,2,"div",56),2&e&&v.Dc("ngIf",t.values)}let ee=(()=>{class e{constructor(e,t,i,a,o){this.modal=e,this.store=t,this.cdr=i,this.injector=a,this.dataService=o,this.numSprints=1,this.numSprintsError=!1,this.startingIndex=1,this.destroy$=new g.a,this.forCreate=!1,this.forConvert=!1,this.forMove=!1,this.onConvert=new v.o,this.onCreate=new v.o,this.subcategoryId$=new f.a(null),this.categoryId$=new f.a(null),this.projectId$=new f.a(null),this.saving$=new f.a(!1),this.numSprintOptions$=new f.a(20),this.selectedSprintIndex$=new f.a(0),this.team$=this.store.select(r.getTeam),this.category$=Object(_.a)([this.categoryId$,this.projectId$]).pipe(Object(l.a)(([e,t])=>!(!e||!t)),Object(d.a)(([e,t])=>this.store.select(Object(r.getCategoryById)(e,t,!0)))),this.sprintSettings$=Object(_.a)([this.team$,this.category$]).pipe(Object(u.a)(([e,t])=>t&&t.features&&t.features.sprints&&t.features.sprints.enabled&&t.features.sprints.settings&&Object(s.g)(t.features.sprints.settings.start_day)?t.features.sprints.settings:e&&e.sprint_settings&&Object(s.g)(e.sprint_settings.start_day)?e.sprint_settings:b.i)),this.sprintSubs$=this.category$.pipe(Object(l.a)(e=>!!e),Object(u.a)(e=>(e&&e.subcategories||[]).filter(e=>e.sprint).sort((e,t)=>+e.sprint_start_date-+t.sprint_start_date))),this.nameOptions$=Object(_.a)([this.sprintSubs$,this.sprintSettings$,this.numSprintOptions$,this.selectedSprintIndex$]).pipe(Object(u.a)(([e,t,i,a])=>Object(s.d)(e,t,i,a,!0,this.dateValues))),this.selectedSprintTitle$=Object(_.a)([this.nameOptions$,this.selectedSprintIndex$]).pipe(Object(u.a)(([e,t])=>{if(!e||!e.length)return"";const i=e[t];return i&&i.title})),this.selectedSprintTitleDates$=Object(_.a)([this.nameOptions$,this.selectedSprintIndex$,this.sprintSettings$,this.sprintSubs$]).pipe(Object(u.a)(([e,t,i,a])=>{if(!(e&&e.length&&a&&a.length))return"";const o=e[t];return o&&o.customPayload&&o.customPayload.values?`${o.customPayload.values.start} - ${o.customPayload.values.end}`:""}))}ngOnInit(){this.subcategoryId$.next(this.subcategoryId),this.categoryId$.next(this.categoryId),this.projectId$.next(this.projectId),this.categoryId&&this.categoryId!==c.d&&this.store.dispatch(new n.Jf(this.categoryId,"sprint settings"))}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngOnChanges(e){(e.subcategoryId||e.categoryId||e.projectId)&&(this.subcategoryId$.next(this.subcategoryId),this.categoryId$.next(this.categoryId),this.projectId$.next(this.projectId))}cancel(){this.modal.close()}openSprintsSettings(){this.category$.pipe(Object(l.a)(e=>!!e),Object(p.a)(1),Object(m.a)(this.destroy$)).subscribe(e=>{const t=this.modal.openComponent(o.a,this.injector);t.instance.sprintSettingsType=a.c.CATEGORY,t.instance.category$.next(e),this.dataService.getCategoryById(this.categoryId).subscribe(e=>t.instance.category$.next(e)),t.instance.onPickSprint.pipe(Object(m.a)(t.instance.destroy$)).subscribe(({numSprints:e})=>{this.numSprints=e,this.cdr.detectChanges()})})}convert(){this.selectedSprintIndex$.pipe(Object(h.a)(this.sprintSubs$,this.sprintSettings$,this.numSprintOptions$),Object(p.a)(1),Object(m.a)(this.destroy$)).subscribe(([e,t,i,a])=>{this.saving$.next(!0);const o=Object(s.d)(t,i,this.numSprints+a,e),c=o[this.selectedSprintIndex$.value].customPayload,n=0===t.length,r=t.length?c.index:this.startingIndex;if(this.forCreate){const e=t.length?0:this.startingIndex-c.index,a=[Object(s.c)(!0,c.start,c.end,i.name_format,i.date_format,r)],l=n?Object(s.b)(w()(c.start).tz(b.f),i,this.numSprints,r):null;for(let t=1;t<this.numSprints;t++){const c=n?l[t-1]:o[this.selectedSprintIndex$.value+t];c&&a.push(Object(s.c)(!0,c.customPayload.start,c.customPayload.end,i.name_format,i.date_format,c.customPayload.index+(n?0:e)))}this.onCreate.emit({sprints:a})}else this.onConvert.emit(Object(s.c)(!0,c.start,c.end,i.name_format,i.date_format,r));this.saving$.next(!1),this.cancel()})}selectSprint(e){this.selectedSprintIndex$.next(e.index)}validate(){this.numSprintsError=!1,this.numSprints=0===this.numSprints?1:this.numSprints<0?-1*this.numSprints:this.numSprints,this.numSprintsError=!Number.isInteger(this.numSprints)||this.numSprints>50||this.numSprints<1,this.cdr.markForCheck()}validateStartIndex(){this.startingIndex=0===this.startingIndex?1:this.startingIndex<0?-1*this.startingIndex:this.startingIndex,this.cdr.markForCheck()}checkNumbers(e){k.b.includes(e.which)||e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(v.Wb(x.a),v.Wb(T.Store),v.Wb(v.h),v.Wb(v.t),v.Wb(S.a))},e.\u0275cmp=v.Qb({type:e,selectors:[["cu-sprint-convert"]],viewQuery:function(e,t){if(1&e&&v.jd(P,3),2&e){let e;v.Qc(e=v.rc())&&(t.dateValues=e.first)}},inputs:{subcategoryId:"subcategoryId",categoryId:"categoryId",categoryName:"categoryName",projectId:"projectId",forCreate:"forCreate",forConvert:"forConvert",forMove:"forMove",subcategoryName:"subcategoryName"},outputs:{onConvert:"onConvert",onCreate:"onCreate"},features:[v.Gb],decls:51,vars:29,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f;return e=$localize`:@@cu-sprint-convert__edit-sprint-names-via-settings␟d84be5c09d5efd91f7a2423e5639b0b0424d3494␟7401923216055956791: You can edit sprint names via ${"\ufffd#28\ufffd"}:START_TAG_SPAN:sprints settings.${"\ufffd/#28\ufffd"}:CLOSE_TAG_SPAN:`,t=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,i=$localize`:@@cu-sprint-convert__header-info_convert-to-list␟9d6deadcb8143a2393661202c3b248da82592ecb␟957836870010984331: You can convert back to a regular List later. `,a=$localize`:@@cu-sprint-convert__header-info_move-list-to-folder␟1a2486a2f872ea7e0a980674c1440e55b7ce62c7␟1871422921599464410:You are moving ${"\ufffd0\ufffd"}:INTERPOLATION: to a new Folder.`,o=$localize`:@@cu-sprint-convert__header-info_select-dates-for-sprint␟a0707f61e8194b77b3d06e496715180569d0b70f␟4447346600732903766:Please select dates you want to use for this sprint.`,c=$localize`:@@cu-sprint-convert__header-info_first-sprint-in-folder-starting-index␟fe6f53396b95527d371daabf203e117ea8f671ba␟8366892175324165375: This will be your first sprint in this Folder, with index starting at `,n=$localize`:@@cu-sprint-convert__form-label_select-sprint-dates␟e346ae3e7922bc4477fb0eaae8061e975a2d2a6b␟2771028959650369438:Select sprint dates`,s=$localize`:@@cu-sprint-convert__form-label_first-sprint-select-dates␟ee57684a23bd4530e1304bbadca8c7617d21fafa␟6731914913542222032:Select dates for your first sprint`,r=$localize`:@@cu-sprint-convert__form-label_create-n-sprints␟7263cb2cce24d79a0aff8790f5d8f0b92a651ebb␟2197400628083671361: How many sprints do you want to create? `,l=$localize`:@@cu-sprint-convert__form-hint_max-sprint-count␟9cccff0be0e5ca74642e56331e8201cf3fba8289␟2802065136146306946: Max 50 `,d=$localize`:@@cu-sprint-convert__form-error_max-sprint-count-reached␟0f8bb1aa4e2f905a4d81010ffd4e098a1f016da9␟8296461195753022404: You can create a maximum of 50 sprints at a time `,u=$localize`:@@cu-sprint-convert__form-error_sprint-count-invalid-integer␟4fd2b16bc910d7863ec1295f815a6aec1fc91880␟8140204003958754697: The number of sprints must be a positive integer. `,p=$localize`:@@common_creating␟7ac78ecbb9c14b6a423829e71bf78bc945a40d34␟4392937809790226797:Creating...`,m=$localize`:@@common_create-sprints␟527803eb1814afb3c87ad8480c0c98e7a158b5d0␟4382007774315374200:Create Sprints`,h=$localize`:@@cu-sprint-convert__btn-txt_move-in-progress␟fccfc371d8e231cad22c39c2741c1415048e5b15␟9039711103783034387:Moving...`,b=$localize`:@@cu-sprint-convert__btn-txt_move-to-category␟e5234e23e10fbe3760363d2f68a294439e566724␟6366400609821377740:Move to ${"\ufffd0\ufffd"}:INTERPOLATION:`,g=$localize`:@@cu-sprint-convert__btn-txt_convert-in-progress␟5d75d8f408aa4d71552ece7468c766eb375a3b42␟6123432723397414422:Converting...`,f=$localize`:button text|@@common_convert-to-sprint␟60fe8701c763cde329b37f4f228560ee9f032d96␟3282265422866264338:Convert to Sprint`,[[1,"cu-sprints-settings"],["class","cu-sprints-settings__header-info",4,"ngIf"],[1,"cu-sprints-settings__header-info","inline"],[4,"ngIf"],[1,"cu-form__row","margin-top"],[1,"cu-form__label"],[4,"ngIf","ngIfElse"],["firstSprintLabelTmpl",""],[1,"cu-sprints-settings__row"],[1,"cu-sprints-settings__row-item"],["menuContainerModifier","cu-sprints-settings__dropdown-modifier",3,"items","onSelect"],[1,"cu-sprints-settings__toggle"],[1,"cu-sprints-settings__dropdown-end"],[1,"cu-sprints-settings__dropdown-date"],["icon","arrow-down",1,"cu-sprints-settings__toggle-arrow"],[1,"cu-sprints-settings__description"],e,[1,"cu-sprints-settings__open",3,"click"],["class","cu-form__row margin-top",4,"ngIf"],[1,"cu-sprints-settings__footer"],[1,"cu-sprints-settings__footer-item","cancel",3,"click"],t,[1,"cu-sprints-settings__footer-item"],[1,"cu-btn","cu-btn_font-size-15",3,"disabled","click"],[1,"cu-btn__text"],["createSprintsTmpl",""],["forMoveTmpl",""],["moveToTmpl",""],["convertTmpl",""],["convertToSprintTmpl",""],["dateValues",""],[1,"cu-sprints-settings__header-info"],i,a,o,c,[1,"cu-sprints-settings__row-item","first-sprint","inline-input"],["type","number",1,"cu-form__input",3,"autosize","ngModel","keydown","ngModelChange"],n,s,r,[1,"cu-sprints-settings__row-item","small"],["type","number",1,"cu-form__input",3,"ngModel","keydown","ngModelChange"],["class","cu-sprints-settings__note red padding-top",4,"ngIf","ngIfElse"],["nonIntegerCheck",""],l,[1,"cu-sprints-settings__note","red","padding-top"],d,["class","cu-sprints-settings__note red padding-top",4,"ngIf"],u,p,m,h,b,g,f,["class","cu-sprints-settings__dropdown-date",4,"ngIf"]]},template:function(e,t){if(1&e&&(v.cc(0,"div",0),v.bd(1,$,2,0,"div",1),v.cc(2,"div",2),v.bd(3,z,2,1,"span",3),v.bd(4,M,2,0,"ng-container",3),v.vc(5,"async"),v.bd(6,E,5,4,"ng-container",3),v.vc(7,"async"),v.bc(),v.cc(8,"div",4),v.cc(9,"div",5),v.bd(10,L,2,0,"ng-container",6),v.vc(11,"async"),v.bd(12,A,2,0,"ng-template",null,7,v.cd),v.bc(),v.cc(14,"div",8),v.cc(15,"div",9),v.cc(16,"cu-dropdown-list",10),v.qc("onSelect",function(e){return t.selectSprint(e)}),v.vc(17,"async"),v.cc(18,"div",11),v.dd(19),v.vc(20,"async"),v.cc(21,"div",12),v.cc(22,"div",13),v.dd(23),v.vc(24,"async"),v.bc(),v.Xb(25,"div",14),v.bc(),v.bc(),v.bc(),v.bc(),v.bc(),v.cc(26,"div",15),v.mc(27,16),v.cc(28,"span",17),v.qc("click",function(){return t.openSprintsSettings()}),v.bc(),v.jc(),v.bc(),v.bc(),v.bd(29,R,11,5,"div",18),v.cc(30,"div",19),v.cc(31,"div",20),v.qc("click",function(){return t.cancel()}),v.gc(32,21),v.bc(),v.cc(33,"div",22),v.cc(34,"button",23),v.qc("click",function(){return t.convert()}),v.vc(35,"async"),v.vc(36,"async"),v.cc(37,"div",24),v.bd(38,q,3,4,"ng-container",6),v.bd(39,B,2,0,"ng-template",null,25,v.cd),v.bd(41,X,1,2,"ng-template",null,26,v.cd),v.bd(43,H,2,1,"ng-template",null,27,v.cd),v.bd(45,Z,2,4,"ng-template",null,28,v.cd),v.bd(47,Q,2,0,"ng-template",null,29,v.cd),v.bc(),v.bc(),v.bc(),v.bc(),v.bc(),v.bd(49,J,1,1,"ng-template",null,30,v.cd)),2&e){const e=v.Rc(13),i=v.Rc(42);let a=null,o=null,c=null;v.Ib(1),v.Dc("ngIf",t.forConvert),v.Ib(2),v.Dc("ngIf",t.forMove),v.Ib(1),v.Dc("ngIf",null==(a=v.wc(5,13,t.sprintSubs$))?null:a.length),v.Ib(2),v.Dc("ngIf",!(null!=(o=v.wc(7,15,t.sprintSubs$))&&o.length)),v.Ib(4),v.Dc("ngIf",null==(c=v.wc(11,17,t.sprintSubs$))?null:c.length)("ngIfElse",e),v.Ib(6),v.Dc("items",v.wc(17,19,t.nameOptions$)),v.Ib(3),v.fd(" ",v.wc(20,21,t.selectedSprintTitle$)," "),v.Ib(4),v.fd(" ",v.wc(24,23,t.selectedSprintTitleDates$)," "),v.Ib(6),v.Dc("ngIf",t.forCreate),v.Ib(5),v.Dc("disabled",v.wc(35,25,t.saving$)||t.numSprintsError||t.numSprints>50||!t.numSprints||!v.wc(36,27,t.selectedSprintTitle$)||!t.startingIndex),v.Ib(4),v.Dc("ngIf",t.forCreate)("ngIfElse",i)}},directives:[j.q,O.a,I.a,D.u,C.a,D.c,D.p,D.s],pipes:[j.b],styles:['.cu-sprints-settings__modal .cu-modal__dialog{width:600px}.cu-sprints-settings__modal .cu-modal__body{min-height:0}.cu-sprints-settings__dropdown-modifier .cu-dropdown-list__menu{max-width:350px;width:350px}.cu-sprints-settings__dropdown-end{display:flex;align-items:center}.cu-sprints-settings__dropdown-date{font:300 10px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px}.cu-sprints-settings__title{display:flex;align-items:center;position:absolute;top:-48px}.cu-sprints-settings__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-text{font-family:var(--global-font-support)}}.cu-sprints-settings__title .icon{width:18px;height:14px;fill:#d2d0d5;margin-right:5px}.cu-sprints-settings__title-folder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin-left:12px;display:flex;align-items:center;height:30px;border:1px solid #e9ebf0;padding:12px 12px 12px 8px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-folder{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__title-folder{border-color:#1e272e}.cu-sprints-settings__cf-footer{display:flex;align-items:center;justify-content:center;padding:5px 8px;border-top:1px solid #e4e4e4}.cu-sprints-settings__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;margin-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header{font-family:var(--global-font-support)}}.cu-sprints-settings__header a{text-decoration:underline;color:var(--theme-main-color);cursor:pointer}.cu-sprints-settings__header-info{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header-info{font-family:var(--global-font-support)}}.cu-sprints-settings__header-info.inline{display:inline}.cu-sprints-settings__header.banner{width:100%;text-align:center;background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:5px 36px;line-height:18px;border-radius:4px;margin-bottom:20px;position:relative}.dark-theme .cu-sprints-settings__header.banner span{color:#292d34}.cu-sprints-settings__header.banner .icon{position:absolute;right:16px;top:12px;width:14px;height:14px;padding:2px;cursor:pointer;stroke:var(--theme-main-color)}.cu-sprints-settings__header.banner b{font-weight:500}.dark-theme .cu-sprints-settings__header.banner b{color:#292d34}.dark-theme .cu-sprints-settings__header svg{fill:#d5d6d7}.cu-sprints-settings__header-video-link{cursor:pointer;color:var(--theme-main-color)}.cu-sprints-settings .cu-form__row{margin-bottom:0}.cu-sprints-settings .cu-form__row.margin-top{margin-top:28px}.cu-sprints-settings .cu-form__row .cu-form__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings .cu-form__row .cu-form__label{font-family:var(--global-font-support)}}.cu-sprints-settings .cu-form__row .cu-form__label.margin-top{margin-top:10px}.cu-sprints-settings .cu-form__row.margin-bottom{margin-bottom:20px}.cu-sprints-settings .cu-form__row.margin-bottom-10{margin-bottom:10px}.cu-sprints-settings__description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:20px;margin-top:5px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__description{font-family:var(--global-font-support)}}.cu-sprints-settings__description span{color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);cursor:pointer}.cu-sprints-settings__learn{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__learn{color:var(--theme-main-color)}}.cu-sprints-settings__paywall-badge{background:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:4px;text-transform:uppercase;padding:3px 4px 2px;white-space:nowrap;display:inline-flex;align-items:center;margin-left:10px}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__paywall-badge{background:var(--theme-main-color)}}.cu-sprints-settings__open{color:#7b68ee;-webkit-text-decoration:dashed;text-decoration:dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__open{color:var(--theme-main-color)}}.cu-sprints-settings__help-question-mark{width:12px;height:12px;margin-left:5px;fill:#b9bec7}.dark-theme .cu-sprints-settings__help-question-mark{fill:#7c828d}.cu-sprints-settings__help-question-mark:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__help-question-mark:hover{fill:var(--theme-main-color)}}.cu-sprints-settings__label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__label{font-family:var(--global-font-support)}}.cu-sprints-settings__label.margin-top{margin-top:20px}.cu-sprints-settings__label.no-margin-bottom{margin-bottom:0}.cu-sprints-settings__automations{border:1px solid #e9ebf0;padding:24px;background:#fafbfc;margin:25px 0;border-radius:5px;position:relative}.dark-theme .cu-sprints-settings__automations{background-color:#2b343b;border-color:#1e272e}.cu-sprints-settings__automations .icon{right:18px;top:18px;position:absolute;width:25px;height:25px;fill:#b9bec7}.cu-sprints-settings__automations-container{position:relative}.cu-sprints-settings__automations-disabled{opacity:.5}.cu-sprints-settings__automations-cover{position:absolute;width:100%;height:100%;top:0}.cu-sprints-settings__automations-cover .cu-sprints-settings__paywall-badge{position:absolute;right:60px;top:25px}.cu-sprints-settings__automations-new{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;padding:10px 0 0;flex-wrap:wrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-new{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-new.disabled{color:#7c828d}.cu-sprints-settings__automations-items{margin-top:15px}.cu-sprints-settings__automations-item{margin-bottom:10px}.cu-sprints-settings__automations-item-break{background:#e9ebf0;margin:15px 0;width:100%;height:1px}.cu-sprints-settings__automations-item-blockquote{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin-top:15px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-blockquote{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-item-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin:10px 0;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-desc{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations .cu-checkbox__label{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__footer{display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cu-sprints-settings__footer .cu-btn{height:48px;font-size:16px;padding:0 26px}.cu-sprints-settings__footer .cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__footer .cancel{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;display:flex;align-items:center;justify-content:space-between;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__toggle{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;width:9px;height:7px;fill:#292d34}.dark-theme .cu-sprints-settings__toggle-arrow{fill:#d5d6d7}.cu-sprints-settings__row-item .cu-dropdown_open .cu-sprints-settings__toggle-arrow{transform:rotate(180deg)}.cu-sprints-settings__row{padding:5px 0}.cu-sprints-settings__row-paywall{background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:18px;border-radius:5px;margin:20px 0}.cu-sprints-settings__row-paywall-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1.2;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall-text{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall-text{color:#292d34}.cu-sprints-settings__row-paywall-checkbox{display:flex;align-items:center}.cu-sprints-settings__row-paywall .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall .cu-checkbox__label{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall .cu-checkbox__label{color:#292d34}.cu-sprints-settings__row-paywall .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__row-item,.cu-sprints-settings__row-items{display:flex;align-items:center}.cu-sprints-settings__row-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;position:relative;overflow:hidden;cursor:default;padding:0 12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-item{font-family:var(--global-font-support)}}.cu-sprints-settings__row-item.first-sprint{display:inline;padding:0 3px}.cu-sprints-settings__row-item.first-sprint .cu-form__input{font-size:11px;max-width:36px;flex-grow:0;display:inline}.dark-theme .cu-sprints-settings__row-item{border-color:#1e272e}.cu-sprints-settings__row-item.settings-duration{width:50px;margin-right:10px}.cu-sprints-settings__row-item.settings-future{padding:0;border:none;flex-wrap:wrap;display:inline-block;font-size:11px;line-height:18px}.cu-sprints-settings__row-item.settings-future.disabled .cu-sprints-settings__row-item.settings-future{color:#7c828d}.cu-sprints-settings__row-item.settings-future .cu-form__input{font-size:14px;text-align:center;margin:0 5px;width:30px;height:20px;border:1px solid #e9ebf0;display:inline}.cu-sprints-settings__row-item.settings-future .cu-form__input.disabled{cursor:not-allowed}.dark-theme .cu-sprints-settings__row-item.settings-future .cu-form__input{border-color:#1e272e}.cu-sprints-settings__row-item.settings-future .cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item.settings-name{width:100%}.cu-sprints-settings__row-item .cu-form__input{padding:0}.cu-sprints-settings__row-item .cu-form__input::-webkit-inner-spin-button,.cu-sprints-settings__row-item .cu-form__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.cu-sprints-settings__row-item.cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item .cu-dropdown-list{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown{width:100%;height:100%}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown__toggle{width:100%;height:100%;display:flex;justify-content:space-between}.cu-sprints-settings__row-item.inline-input{border:none;border-radius:0}.cu-sprints-settings__row-item.inline-input input{font-size:14px!important;text-align:center;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color)}.cu-sprints-settings__row-item.small{width:64px;height:40px}.cu-sprints-settings__row-item.settings-duration-week{width:180px;border:none!important}.cu-sprints-settings__row input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row input{font-family:var(--global-font-support)}}.cu-sprints-settings__note{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;max-width:340px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__note{font-family:var(--global-font-support)}}.cu-sprints-settings__note b{font-weight:500;color:#7c828d}.cu-sprints-settings__note.padding-top{padding-top:10px}.cu-sprints-settings__note.red{color:#d16464}.cu-sprints-settings__estimation-container{width:550px;margin-left:-12px;margin-top:1px!important}.cu-sprints-settings__estimation-menu{width:100%;max-width:none}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__title{flex-grow:0}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__submenu{margin-left:auto}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__check{width:11px;height:8px;margin:0 0 0 10px}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points{position:relative}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;position:absolute;top:9px;right:16px;content:"RECOMMENDED";height:14px;border:1px solid #7c828d;border-radius:3px;color:#7c828d;display:flex;align-items:center;padding:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{color:#828588;border-color:#828588}.cu-form__row.cu-sprints-settings__row-disabled{opacity:.5;cursor:not-allowed}'],encapsulation:2,changeDetection:0}),e})()},"8Gxz":function(e,t,i){"use strict";i.d(t,"a",function(){return y});var a=i("ofXK"),o=i("tyNb"),c=i("AcQF"),n=i("1M0N"),s=i("/qmH"),r=i("WTPp"),l=i("JXEA"),d=i("KI6Y"),u=i("l7P3"),p=i("9jGm"),m=i("vV3l"),h=i("TT1W"),b=i("K0KF"),g=i("gb9A"),f=i("/SUI"),_=i("cTuH"),v=i("fXoL");let y=(()=>{class e{}return e.\u0275mod=v.Ub({type:e}),e.\u0275inj=v.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.l,c.a,n.a,s.b,r.a,l.a,d.a,u.StoreModule.forFeature("gridView",h.d),p.b.forFeature([m.a]),b.a,g.a,f.a,_.a]]}),e})()},"8OWJ":function(e,t,i){"use strict";i.d(t,"a",function(){return ne});var a=i("fXoL"),o=i("2Vo4"),c=i("XNiG"),n=i("VRyK"),s=i("xgIS"),r=i("eNwd"),l=i("PqYM"),d=i("Kj3r"),u=i("1G5W"),p=i("l7P3"),m=i("c3rA"),h=i("lI7e"),b=i("dTHz"),g=i("PBBv"),f=i("7G3y"),_=i("tyNb"),v=i("lJxs"),y=i("pLZG"),w=function(e){return e.Rename="rename",e.Remove="remove",e}({}),k=i("x1J0"),x=i("TyK0"),T=i("jJQC"),S=i("GkwO"),j=i("ofXK"),O=i("5+WD"),I=i("BTFG"),D=i("G2WA"),C=i("xog/"),P=i("EtbL"),$=i("NQa4"),z=i("NsZK"),M=i("SA+E"),E=i("loh9"),L=i("O5gs"),A=i("UdVN");const F=["menuTrigger"],U=["menuContainer"],N=["dropdownOptions"];function R(e,t){if(1&e&&a.Xb(0,"div",8),2&e){const e=a.uc();a.Ob("cu2-nav-favorites-item__item-icon_stroke",!e.favorite.noStrokeIcon),a.Dc("icon",e.favorite.icon)}}const G=function(e,t,i){return{"cu2-nav-favorites-item__item_selected":e,"cu2-nav-favorites-item__item_is-menu-item":t,"cu2-nav-favorites-item__item_is-editing":i}},q=function(e){return{"cu2-nav-favorites-item__item-name-label_hidden":e}},B=function(){return["bottom-right","top-right","auto"]};let W=(()=>{class e{constructor(e,t,i,o,n){this.elementRef=e,this.changeDetectorRef=t,this.sharedTaskService=i,this.router=o,this.helperService=n,this.forSidebar=!1,this.onAction=new a.o,this.dropdownOpen=new a.o,this.dropdownClose=new a.o,this.editing=!1,this.menuItems=[{id:w.Rename,title:$localize`:@@common_rename:Rename`,icon:"cu3-edit"},{id:w.Remove,title:$localize`:@@cu2-nav-favorites-item__menu-item_remove-favorite:Remove favorite`,icon:"cu2-trash"}],this.destroy$=new c.a}get editableInputModifier(){return"cu-editable__input_without-background cu-editable__input_font-12"}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}onContextMenu(e){this.editing||(e.preventDefault(),e.stopPropagation(),this.dropdownOptions.open())}rename(e){this.onAction.emit({action:w.Rename,newName:e})}selectAction(e){switch(e.id){case w.Rename:this.editing=!0;break;case w.Remove:this.onAction.emit({action:w.Remove})}this.changeDetectorRef.markForCheck()}linkClicked(e){e[this.helperService.SHORTKEY]||("task"===this.favorite.type?this.sharedTaskService.clickTaskLink({id:this.favorite.favorite.task_id,teamId:this.teamId,customId:this.favorite.favorite.custom_id},e):(e.preventDefault(),this.router.navigate(this.favorite.link)))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.m),a.Wb(a.h),a.Wb(D.a),a.Wb(_.h),a.Wb(C.b))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu2-nav-favorites-item"]],viewQuery:function(e,t){if(1&e&&(a.jd(F,1),a.jd(U,1,a.U),a.jd(N,3)),2&e){let e;a.Qc(e=a.rc())&&(t.menuTrigger=e.first),a.Qc(e=a.rc())&&(t.menuContainer=e.first),a.Qc(e=a.rc())&&(t.dropdownOptions=e.first)}},hostVars:2,hostBindings:function(e,t){1&e&&a.qc("contextmenu",function(e){return t.onContextMenu(e)}),2&e&&a.Ob("cu2-nav-favorites-item",!0)},inputs:{favorite:"favorite",teamId:"teamId",viewId:"viewId",deselect:"deselect",isMenuItem:"isMenuItem",forSidebar:"forSidebar"},outputs:{onAction:"onAction",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},decls:9,vars:25,consts:function(){let e;return e=$localize`:@@cu2-nav-favorites-item__title_favorite-options␟1642d001811cc86489d6890f03256bd168d0f3c3␟8161432459173786459:Favorite options`,[[1,"cu2-header__btn","cu2-nav-favorites-item__item",3,"cuDraggable","ngClass","cuLink","allowSlash","click"],[1,"cu2-nav-favorites-item__item-name","cu2-header__btn-label",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],[1,"cu2-nav-favorites-item__item-name-label",3,"ngClass"],[1,"cu2-nav-favorites-item__item-name-editable",3,"cuPreventDefault","text","editing","autosize","allowEmpty","inputModifier","onChange","onCancel"],["class","cu2-nav-favorites-item__item-icon",3,"cu2-nav-favorites-item__item-icon_stroke","icon",4,"ngIf"],["title",e,3,"items","dropdownHostElement","dropdownPlacement","cuPreventDefault","onSelect","onOpen","onClose"],["dropdownOptions",""],["icon","ellipsis",1,"cu2-nav-favorites-item__item-ellipsis"],[1,"cu2-nav-favorites-item__item-icon",3,"icon"]]},template:function(e,t){1&e&&(a.cc(0,"a",0),a.qc("click",function(e){return t.linkClicked(e)}),a.cc(1,"div",1),a.cc(2,"span",2),a.dd(3),a.bc(),a.cc(4,"cu-editable",3),a.qc("onChange",function(e){return t.rename(e)})("onCancel",function(){return t.editing=!1}),a.bc(),a.bc(),a.bd(5,R,1,3,"div",4),a.cc(6,"cu-dropdown-list",5,6),a.qc("onSelect",function(e){return t.selectAction(e)})("onOpen",function(){return t.dropdownOpen.emit()})("onClose",function(){return t.dropdownClose.emit()}),a.Xb(8,"div",7),a.bc(),a.bc()),2&e&&(a.Dc("cuDraggable",!1)("ngClass",a.Jc(18,G,!t.deselect&&t.favorite.active,t.isMenuItem,t.editing))("cuLink",t.favorite.link)("allowSlash",!0),a.Ib(1),a.Dc("cuTooltip",t.favorite.name)("tooltipDisabledIfTextNotTruncated",!0),a.Ib(1),a.Dc("ngClass",a.Hc(22,q,t.editing)),a.Ib(1),a.fd(" ",t.favorite.name," "),a.Ib(1),a.Dc("cuPreventDefault",t.editing)("text",t.favorite.name)("editing",t.editing)("autosize",!1)("allowEmpty",!0)("inputModifier",t.editableInputModifier),a.Ib(1),a.Dc("ngIf",t.forSidebar),a.Ib(1),a.Dc("items",t.menuItems)("dropdownHostElement",t.elementRef.nativeElement)("dropdownPlacement",a.Gc(24,B)))},directives:[P.a,j.o,$.a,z.a,M.a,E.a,j.q,L.a,A.a],styles:['.cu2-nav-favorites-item{display:flex;align-items:center;height:24px}.cu2-nav-favorites-item.nav-favorites__menu-item{width:100%;height:32px}.cu2-nav-favorites-item:not(:last-of-type){margin-right:5px}.cu-simple-bar__body .cu2-nav-favorites-item{margin:0;height:32px}.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar{margin-right:0;position:relative}.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar:after{content:"";position:absolute;display:block;right:0;width:1px;height:17px;background:#e9ebf0}.dark-theme .cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar:after{background:#1e272e}.cu-nav-favorites-bar.dark-theme .cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar:after{background:#384047}.cu2-nav-favorites-item__item .cu2-nav-favorites-item_bar{height:38px;margin:0 3px}.cu2-nav-favorites-item__item .cu2-nav-favorites-item_bar:not(:last-of-type){margin-right:3px}.cu2-nav-favorites-item__item{position:relative}.cu-simple-bar__body .cu2-nav-favorites-item__item{padding:0 15px 0 20px}.cu2-nav-favorites-item__item:hover .cu-editable__input{color:#292d34}.dark-theme .cu2-nav-favorites-item__item:hover .cu-editable__input{color:#fff}.cu-simple-bar__body .cu2-nav-favorites-item__item:hover:before{content:"";display:block;position:absolute;width:100%;height:100%;left:0;background:#f6f7f9}.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item:hover:before{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item:hover:before{background:#2b343b}.cu2-nav-favorites-item__item-icon{position:relative;width:14px;height:14px;fill:#b9bec7;margin-right:2px}.cu2-nav-favorites-item__item-icon_stroke{stroke:#b9bec7}.cu2-nav-favorites-item__item-name{position:relative;max-width:200px;overflow:hidden;text-overflow:ellipsis;display:block}.cu2-nav-favorites-item__item-name-label{font-weight:400;font-size:12px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;color:#343434}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-nav-favorites-item__item-name-label{font-family:var(--global-font-support)}}.dark-theme .cu2-nav-favorites-item__item-name-label{color:#d5d6d7}.cu2-nav-favorites-item__item-name-label_hidden{opacity:0;visibility:hidden}.cu-simple-bar__body .cu2-nav-favorites-item__item-name-label{font-weight:400;font-size:13px;line-height:1}.cu2-nav-favorites-item__item-name-editable{position:absolute;left:0;right:0;top:0;bottom:0;display:flex}.cu2-nav-favorites-item__item-ellipsis{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;display:none;width:36px;height:24px;padding:0 10px;fill:#292d34;cursor:pointer}.dark-theme .cu2-nav-favorites-item__item-ellipsis{fill:#fff}.dark-theme .cu2-nav-favorites-item__item-ellipsis:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-nav-favorites-item__item-ellipsis:hover{fill:var(--theme-main-color)}}.cu2-nav-favorites-item__item-ellipsis:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-nav-favorites-item__item-ellipsis:hover{fill:var(--theme-main-color)}}.cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover,.cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name,.cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover,.cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name,.cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.dark-theme .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover,.dark-theme .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name,.dark-theme .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover,.dark-theme .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name,.dark-theme .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.cu-simple-bar__body .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover,.cu-simple-bar__body .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name,.cu-simple-bar__body .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name-label{color:#343434}.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover,.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name,.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item:not(.cu2-nav-favorites-item__item_selected):hover .cu2-nav-favorites-item__item-name-label{color:#d5d6d7}.cu2-nav-favorites-item__item cu-dropdown-list{position:absolute;right:0;opacity:0;visibility:hidden}.cu2-nav-favorites-item__item .cu-editable__input{color:#292d34}.dark-theme .cu2-nav-favorites-item__item .cu-editable__input{color:#fff}.cu2-nav-favorites-item__item_selected{cursor:default}.cu2-nav-favorites-item__item_selected:hover cu-dropdown-list{transition:all .2s cubic-bezier(.785,.135,.15,.86) .2s;visibility:visible;opacity:1}.cu2-nav-favorites-item__item_selected:hover .cu2-nav-favorites-item__item-name{padding-right:26px}.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name,.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name,.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name,.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name,.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.cu-simple-bar__body .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name,.cu-simple-bar__body .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{font-weight:500}.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon{fill:var(--theme-main-color)}}.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon{fill:var(--theme-main-color)}}.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon_stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon_stroke{stroke:var(--theme-main-color)}}.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon_stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-icon_stroke{stroke:var(--theme-main-color)}}.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-ellipsis{display:block}.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;padding-right:0}.cu2-nav-favorites-item__item_selected .cu-editable__input{color:#292d34}.dark-theme .cu2-nav-favorites-item__item_selected .cu-editable__input{color:#fff}.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:before,.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:before{background:#7b68ee;content:"";display:block;position:absolute;width:100%;height:100%;left:0;opacity:.08}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:before,.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:before{background:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:before,.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:before,.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:before{background:var(--theme-main-color)}}.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:before,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:before,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:before{background:var(--theme-main-color)}}.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:after,.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;top:0;height:100%;width:3px;border-radius:0 3px 3px 0}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:after,.cu-simple-bar__body .cu2-nav-favorites-item__item_selected:hover:after{background:var(--theme-main-color)}}.cu2-nav-favorites-item__item_is-menu-item{padding:0 15px;margin:0;height:100%!important;width:100%;display:flex;align-items:center;justify-content:flex-start!important}.cu2-nav-favorites-item__item_is-menu-item .cu2-nav-favorites-item__item-name-label{color:#292d34;font-weight:400}.dark-theme .cu2-nav-favorites-item__item_is-menu-item .cu2-nav-favorites-item__item-name-label{color:#d5d6d7}.cu2-nav-favorites-item__item_is-menu-item .cu2-nav-favorites-item__item-ellipsis{display:block}.cu2-nav-favorites-item__item_is-menu-item .cu2-nav-favorites-item__item-name,.cu2-nav-favorites-item__item_is-menu-item:hover .cu2-nav-favorites-item__item-name{padding-right:20px}.cu2-nav-favorites-item__item_is-menu-item:hover cu-dropdown-list{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;visibility:visible;opacity:1}.cu2-nav-favorites-item__item_is-menu-item.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{font-weight:500}.cu2-nav-favorites-item__item_is-editing .cu2-nav-favorites-item__item-name,.cu2-nav-favorites-item__item_is-editing .cu2-nav-favorites-item__item-name-editable,.cu2-nav-favorites-item__item_is-editing .cu2-nav-favorites-item__item-name span,.cu2-nav-favorites-item__item_is-editing .cu-editable__input{min-width:100px}.cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item{margin:0;padding:0 10px;border:0;height:auto;display:flex;align-items:center;background:transparent}.dark-theme .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item{border:0;background:transparent}.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item{padding:0 15px}.cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item:hover,.dark-theme .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item:hover{background:transparent}.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item:hover .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item:hover .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.dark-theme .cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item:hover .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item:hover .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item .cu2-nav-favorites-item__item-name-label{font-weight:500;color:#292d34}.dark-theme .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item .cu2-nav-favorites-item__item-name-label{color:#d5d6d7}.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item .cu2-nav-favorites-item__item-name-label{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item .cu2-nav-favorites-item__item-name-label{font-family:var(--global-font-support)}}.dark-theme .cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item .cu2-nav-favorites-item__item-name-label{color:#abaeb0}.cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.dark-theme .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{color:var(--theme-main-color)}}.cu-nav-favorites-bar__list_v6 .cu2-nav-favorites-item_bar .cu2-nav-favorites-item__item.cu2-nav-favorites-item__item_selected .cu2-nav-favorites-item__item-name-label{font-weight:500}.cu2-nav-favorites-item.cu2-nav-favorites-item_sidebar-dropdown.cdk-drag-preview{width:150px!important}.cu2-nav-favorites-item.cu2-nav-favorites-item_sidebar-dropdown.cdk-drag-placeholder{opacity:.7}.cu2-nav-favorites-item.cu2-nav-favorites-item_sidebar-dropdown .cu2-nav-favorites-item__item{display:flex;width:100%}.cu-sidebar-favorites_dropdown .cu2-nav-favorites-item.cdk-drag-preview{opacity:.7}.cu-sidebar-favorites_dropdown .cu2-nav-favorites-item.cdk-drag-placeholder{opacity:.3;pointer-events:none}.cdk-drop-list-dragging .cu2-nav-favorites-item.cdk-drag:not(.cdk-drag-placeholder){transition:transform .2s cubic-bezier(0,0,.2,1)}.cu2-nav-favorites-item.cdk-drag-animating{transition:transform .15s cubic-bezier(0,0,.2,1)}'],encapsulation:2,changeDetection:0}),e})();var V=i("sf8M");const X=["list"],H=["favoriteMenuItemTemplate"],Y=["hiddenFavoritesDropdown"],Z=["itemElements"];function Q(e,t){1&e&&a.Xb(0,"cu-loader")}function K(e,t){if(1&e){const e=a.dc();a.mc(0,9,1),a.ac(1),a.cc(2,"a",11),a.qc("click",function(){return a.Uc(e),a.uc(2).hideFavorites()}),a.bc(),a.Zb(),a.jc()}}function J(e,t){if(1&e&&(a.cc(0,"div",8),a.mc(1,9),a.Xb(2,"a",10),a.bd(3,K,3,0,"ng-container",1),a.jc(),a.bc()),2&e){const e=a.uc();a.Ib(3),a.Dc("ngIf",!e.forSidebarDropdown)}}function ee(e,t){if(1&e){const e=a.dc();a.cc(0,"cu2-nav-favorites-item",13,14),a.qc("onAction",function(t){a.Uc(e);const i=a.uc().$implicit;return a.uc().itemAction(t,i)})("dropdownOpen",function(){return a.Uc(e),a.uc(2).dropdownOpen.emit()})("dropdownClose",function(){return a.Uc(e),a.uc(2).dropdownClose.emit()}),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.vc(5,"async"),a.bc()}if(2&e){const e=a.Rc(1),t=a.uc().$implicit,i=a.uc(),o=a.Rc(6);a.Dc("ngClass",i.itemModifier)("viewId",a.wc(2,11,i.viewId$))("teamId",a.wc(3,13,i.teamId$))("favorite",t)("deselect",a.wc(4,15,i.deselect$))("forSidebar",i.forSidebar)("cdkDragData",t)("cdkDragStartDelay",a.wc(5,17,i.isTouchDevice$)?500:0)("cdkDragLockAxis",i.forSidebar||i.forSidebarDropdown||i.v4ExpandedSpacesBar?"y":"x")("cdkDragDisabled",e.editing)("cuDragScrollContainer",o)}}function te(e,t){if(1&e&&(a.ac(0),a.bd(1,ee,6,19,"cu2-nav-favorites-item",12),a.Zb()),2&e){const e=t.$implicit,i=a.uc();a.Ib(1),a.Dc("ngIf",i.forCalculations||!i.hiddenFavoritesMap[e.id]||i.forSidebar)}}function ie(e,t){if(1&e&&(a.cc(0,"cu-dropdown-list",15,16),a.cc(2,"button",17),a.vc(3,"async"),a.cc(4,"span",18),a.gc(5,19),a.bc(),a.bc(),a.bc()),2&e){const e=a.uc();let t=null;a.Dc("items",e.favouritesMenuItems)("autoClose",!1)("menuContainerModifier",e.isSidebarDark?"dark-theme":null),a.Ib(2),a.Ob("nav-favorites__show-more-btn_hidden-all",e.favoritesToHide.length===(null==(t=a.wc(3,7,e.favorites$))?null:t.length)),a.Dc("ngClass",e.moreModifier),a.Ib(3),a.kc(e.favoritesToHide.length),a.hc(5)}}function ae(e,t){if(1&e){const e=a.dc();a.cc(0,"cu2-nav-favorites-item",20),a.qc("onAction",function(i){a.Uc(e);const o=t.item.customPayload;return a.uc().itemAction(i,o)}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.bc()}if(2&e){const e=t.item.customPayload,i=a.uc();a.Dc("favorite",e)("viewId",a.wc(1,5,i.viewId$))("teamId",a.wc(2,7,i.teamId$))("deselect",a.wc(3,9,i.deselect$))("isMenuItem",!0)}}let oe=(()=>{class e{constructor(e,t,i){this.store=e,this.router=t,this.element=i,this.favoritesToHide=null,this.forCalculations=!1,this.itemModifier="",this.moreModifier="",this.forSidebar=!1,this.forSidebarDropdown=!1,this.v4ExpandedSpacesBar=!1,this.isSidebarDark=!1,this.dropdownOpen=new a.o,this.dropdownClose=new a.o,this.favorites$=this.store.select(g.a),this.isLoading$=this.store.select(g.f),this.teamId$=this.store.select(m.getSelectedTeamId),this.viewId$=this.store.select(S.qb).pipe(Object(v.a)(e=>e?e.id:null)),this.subcategory$=this.store.select(m.getSubcategory),this.favoritesEmpty$=this.store.select(g.e),this.isTouchDevice$=x.a,this.favouritesMenuItems=[],this.hiddenFavoritesMap={},this.trackById=Object(T.d)("id"),this.destroy$=new c.a}ngOnInit(){this.deselect$=new o.a(this.checkUrlForDeselecting(this.router.url)),this.initUpdateEvents()}ngOnChanges(e){if(e.favoritesToHide){const e=this.favoritesToHide||[];this.favouritesMenuItems=e.map(e=>({id:e.id,title:e.name,textTemplate:this.favoriteMenuItemTemplate,customPayload:e,customClass:"cu-dropdown-list-item_no-padding"})).reduce((e,t)=>e.concat(t,{id:"-",title:"",type:k.a.Separator}),[]).slice(0,2*e.length-1).reverse(),this.hiddenFavoritesMap={},e.forEach(e=>{this.hiddenFavoritesMap[e.id]=!0})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}hideFavorites(){this.store.dispatch(f.v({active:!1})),this.store.dispatch(f.w({active:!1}))}itemAction(e,t){switch(e.action){case w.Remove:this.store.dispatch(f.q({favorite:t}));break;case w.Rename:this.store.dispatch(f.h({favorite:t,newName:e.newName}))}}drop(e){const t=e.currentIndex;this.store.dispatch(f.n({position:t,favorite:e.item.data,fromIndex:e.previousIndex,toIndex:t}))}initUpdateEvents(){this.router.events.pipe(Object(y.a)(e=>e instanceof _.c),Object(u.a)(this.destroy$)).subscribe(e=>{this.deselect$.next(this.checkUrlForDeselecting(e.url)),this.hiddenFavoritesDropdown&&this.hiddenFavoritesDropdown.dropdown&&this.hiddenFavoritesDropdown.dropdown.close()})}checkUrlForDeselecting(e){return e.includes("home")||e.includes("inbox")||e.includes("notifications")||e.includes("dashboards")||e.includes("docs")||e.includes("pulse")||e.includes("goals")||e.includes("portfolios")||e.includes("reporting")}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(p.Store),a.Wb(_.h),a.Wb(a.m))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu2-nav-favorites-list"]],viewQuery:function(e,t){if(1&e&&(a.jd(X,3),a.jd(H,3),a.jd(Y,1),a.jd(Z,1)),2&e){let e;a.Qc(e=a.rc())&&(t.list=e.first),a.Qc(e=a.rc())&&(t.favoriteMenuItemTemplate=e.first),a.Qc(e=a.rc())&&(t.hiddenFavoritesDropdown=e.first),a.Qc(e=a.rc())&&(t.itemElements=e)}},inputs:{favoritesToHide:"favoritesToHide",forCalculations:"forCalculations",itemModifier:"itemModifier",moreModifier:"moreModifier",forSidebar:"forSidebar",forSidebarDropdown:"forSidebarDropdown",v4ExpandedSpacesBar:"v4ExpandedSpacesBar",isSidebarDark:"isSidebarDark"},outputs:{dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},features:[a.Gb],decls:13,vars:16,consts:function(){let e,t;return e=$localize`:@@cu2-nav-favorites-list__empty-favorites␟329dc070116e1d995981b7dbffcd2004c675ce90␟846225774464397292: You don't have any Favorites yet. ${"\ufffd#2\ufffd"}:START_LINK:Learn how to create one${"[\ufffd/#2\ufffd|\ufffd/#2:1\ufffd]"}:CLOSE_LINK:${"\ufffd*3:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: or ${"\ufffd#2:1\ufffd"}:START_LINK_1:hide this${"[\ufffd/#2\ufffd|\ufffd/#2:1\ufffd]"}:CLOSE_LINK:${"\ufffd/#1:1\ufffd\ufffd/*3:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:. `,e=a.lc(e),t=$localize`:@@cu2-nav-favorites-list__show-more-favorites-count␟74389e713be91bd0b392e6c6b0986a94b9f1f0bd␟5916504262707198459:${"\ufffd0\ufffd"}:INTERPOLATION: more`,[[1,"nav-favorites"],[4,"ngIf"],["class","nav-favorites__empty",4,"ngIf"],["cdkDropList","",1,"nav-favorites__list",3,"cdkDropListOrientation","cdkDropListDropped"],["list",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"items","autoClose","menuContainerModifier",4,"ngIf"],["favoriteMenuItemTemplate",""],[1,"nav-favorites__empty"],e,["href","https://docs.clickup.com/features/favorites","target","_blank"],[3,"click"],["cdkDrag","","cuDragScroll","",3,"ngClass","viewId","teamId","favorite","deselect","forSidebar","cdkDragData","cdkDragStartDelay","cdkDragLockAxis","cdkDragDisabled","cuDragScrollContainer","onAction","dropdownOpen","dropdownClose",4,"ngIf"],["cdkDrag","","cuDragScroll","",3,"ngClass","viewId","teamId","favorite","deselect","forSidebar","cdkDragData","cdkDragStartDelay","cdkDragLockAxis","cdkDragDisabled","cuDragScrollContainer","onAction","dropdownOpen","dropdownClose"],["itemElements",""],[3,"items","autoClose","menuContainerModifier"],["hiddenFavoritesDropdown",""],[1,"nav-favorites__show-more-btn","cu2-header__btn",3,"ngClass"],[1,"cu2-header__btn-label"],t,[1,"nav-favorites__menu-item",3,"favorite","viewId","teamId","deselect","isMenuItem","onAction"]]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.bd(1,Q,1,0,"cu-loader",1),a.vc(2,"async"),a.bd(3,J,4,1,"div",2),a.vc(4,"async"),a.cc(5,"div",3,4),a.qc("cdkDropListDropped",function(e){return t.drop(e)}),a.vc(7,"async"),a.bd(8,te,2,1,"ng-container",5),a.vc(9,"async"),a.bd(10,ie,6,9,"cu-dropdown-list",6),a.bc(),a.bc(),a.bd(11,ae,4,11,"ng-template",null,7,a.cd)),2&e&&(a.Ib(1),a.Dc("ngIf",a.wc(2,8,t.isLoading$)),a.Ib(2),a.Dc("ngIf",a.wc(4,10,t.favoritesEmpty$)),a.Ib(2),a.Ob("cu-hidden",a.wc(7,12,t.isLoading$)&&!t.forCalculations),a.Dc("cdkDropListOrientation",t.forSidebar||t.forSidebarDropdown||t.v4ExpandedSpacesBar?"vertical":"horizontal"),a.Ib(3),a.Dc("ngForOf",a.wc(9,14,t.favorites$))("ngForTrackBy",t.trackById),a.Ib(2),a.Dc("ngIf",!t.forCalculations&&t.favoritesToHide&&t.favoritesToHide.length>0))},directives:[j.q,O.d,j.p,I.a,W,O.a,V.a,j.o,L.a],pipes:[j.b],styles:[':host{height:40px}.nav-favorites{display:flex;height:100%;align-items:center;overflow:hidden}.nav-favorites__list{display:flex}.nav-favorites__empty{color:#fff;font-size:12px;padding:0}.cu-nav-favorites-bar .nav-favorites__empty,.cu-sidebar-favorites .nav-favorites__empty,.sidebar-section__favorites .nav-favorites__empty{color:#292d34}.cu-nav-favorites-bar.dark-theme .nav-favorites__empty,.dark-theme .cu-nav-favorites-bar .nav-favorites__empty,.dark-theme .cu-sidebar-favorites .nav-favorites__empty,.dark-theme .sidebar-section__favorites .nav-favorites__empty{color:#d5d6d7}.sidebar-section__favorites .nav-favorites__empty{padding:10px 16px 0}.cu-sidebar-favorites .nav-favorites__empty{padding:5px 0}.cu-simple-bar .nav-favorites__empty{padding:15px 20px 10px}.nav-favorites__empty a{color:#fff;text-decoration:underline;cursor:pointer}.cu-nav-favorites-bar .nav-favorites__empty a,.cu-sidebar-favorites .nav-favorites__empty a,.sidebar-section__favorites .nav-favorites__empty a{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#292d34}.dark-theme .cu-nav-favorites-bar .nav-favorites__empty a,.dark-theme .cu-sidebar-favorites .nav-favorites__empty a,.dark-theme .sidebar-section__favorites .nav-favorites__empty a{color:#d5d6d7}.cu-nav-favorites-bar .nav-favorites__empty a:hover,.cu-sidebar-favorites .nav-favorites__empty a:hover,.sidebar-section__favorites .nav-favorites__empty a:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-nav-favorites-bar .nav-favorites__empty a:hover,.cu-sidebar-favorites .nav-favorites__empty a:hover,.sidebar-section__favorites .nav-favorites__empty a:hover{color:var(--theme-main-color)}}.cu-nav-favorites-bar.dark-theme .nav-favorites__empty a{color:#d5d6d7}.nav-favorites__arrow{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;background:#7c4dff;position:absolute;z-index:1;width:26px;height:24px;margin-top:8px;border-radius:3px;display:flex;fill:#fff;overflow:hidden;box-shadow:0 0 10px rgba(0,0,0,.15)}@supports (--theme-main-header-color:#7c4dff){.nav-favorites__arrow{background:var(--theme-main-header-color)}}.dark-theme .nav-favorites__arrow{background:#2b343b}.nav-favorites__arrow:before{content:"";display:block;position:absolute;left:0;right:0;top:0;bottom:0;background:linear-gradient(0deg,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.1) 300%)}.dark-theme .nav-favorites__arrow:before{display:none}.nav-favorites__arrow-btn{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:26px;height:24px;border:none;border-radius:3px;padding:2px;position:relative;background:hsla(0,0%,100%,.25)}.dark-theme .nav-favorites__arrow-btn{background:hsla(0,0%,100%,.1)}.nav-favorites__arrow-btn:hover{fill:#7b68ee;background:#fff}@supports (--theme-main-color:#7b68ee){.nav-favorites__arrow-btn:hover{fill:var(--theme-main-color)}}.dark-theme .nav-favorites__arrow-btn:hover{background-color:#1e272e}.nav-favorites__arrow_left{left:10px}.nav-favorites__arrow_left:after{right:0}.nav-favorites__arrow_left .nav-favorites__arrow-btn{transform:rotateY(180deg);padding-right:1px}.nav-favorites__arrow_right{right:10px;justify-content:flex-end}.nav-favorites__arrow_right .nav-favorites__arrow-btn{padding-left:4px}.nav-favorites__arrow_right:after{left:0}.nav-favorites__arrow_hidden{opacity:0;width:0}.nav-favorites__show-more-btn{margin-top:3px}.nav-favorites__show-more-btn:not(.nav-favorites__show-more-btn_hidden-all){margin-left:5px}.nav-favorites__show-more-btn_bar{border:0;padding:0;white-space:nowrap;background:transparent!important}.dark-theme .nav-favorites__show-more-btn_bar{background:transparent!important}.cu-nav-favorites-bar__list_v6 .nav-favorites__show-more-btn_bar:not(.nav-favorites__show-more-btn_bar_hidden-all){margin-left:15px}.nav-favorites__show-more-btn_bar .cu2-header__btn-label{transition:color .2s cubic-bezier(.785,.135,.15,.86),border-bottom-color .2s cubic-bezier(.785,.135,.15,.86);font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34;border-bottom:1px dashed #292d34}.dark-theme .nav-favorites__show-more-btn_bar .cu2-header__btn-label{color:#d5d6d7;border-bottom-color:#d5d6d7}.cu-nav-favorites-bar__list_v6 .nav-favorites__show-more-btn_bar .cu2-header__btn-label{color:#7c828d;border-bottom-color:#7c828d}.dark-theme .cu-nav-favorites-bar__list_v6 .nav-favorites__show-more-btn_bar .cu2-header__btn-label{color:#abaeb0;border-bottom-color:#abaeb0}.nav-favorites__show-more-btn_bar:hover .cu2-header__btn-label{color:#7b68ee;border-bottom-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-favorites__show-more-btn_bar:hover .cu2-header__btn-label{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.dark-theme .nav-favorites__show-more-btn_bar:hover .cu2-header__btn-label{color:#7b68ee;border-bottom-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .nav-favorites__show-more-btn_bar:hover .cu2-header__btn-label{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}'],encapsulation:2,changeDetection:0}),e})();const ce=["forCalculations"];let ne=(()=>{class e{constructor(e){this.store=e,this.itemModifier="",this.moreModifier="",this.forSidebar=!1,this.forSidebarDropdown=!1,this.dropdownOpen=new a.o,this.dropdownClose=new a.o,this.LayoutVersion=b.b,this.LeftSidebarTheme=b.c,this.favoritesToHide$=new o.a(null),this.user$=this.store.select(m.getUser),this.isSpacesBarCollapsed$=this.store.pipe(Object(p.select)(m.getSpacesBarIsCollapsedOption)),this.favoritesPinned$=this.store.pipe(Object(p.select)(g.g)),this.favorites$=this.store.select(g.k),this.isGuestTeam$=this.store.select(m.isGuestTeam),this.isSharedTasks$=this.store.select(m.getSharedTasksParam),this.project$=this.store.select(m.getProject),this.category$=this.store.select(m.getCategory),this.subcategory$=this.store.select(m.getSubcategory),this.hideBackLink$=this.store.select(h.i),this.destroy$=new c.a}ngOnInit(){setTimeout(()=>{this.updateFavoritesListeners()},0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateFavoritesListeners(){Object(n.a)(Object(s.a)(window,"resize"),this.favorites$,this.isSharedTasks$,this.isGuestTeam$,this.project$,this.category$,this.subcategory$,this.hideBackLink$).pipe(Object(d.a)(100,r.a),Object(u.a)(this.destroy$)).subscribe(()=>this.calculateFavoritesToHide()),Object(l.a)(0,r.a).pipe(Object(u.a)(this.destroy$)).subscribe(()=>this.calculateFavoritesToHide())}calculateFavoritesToHide(){if(this.forCalculations&&this.forCalculations.element&&this.forCalculations.element.nativeElement&&this.headerCenter){const e=this.headerCenter.clientWidth-10,t=this.forCalculations.element.nativeElement.getBoundingClientRect().width;this.favoritesToHide$.next(t<=e?[]:this.getFavoritesToHide(t,e))}}getFavoritesToHide(e,t){let i=e+70;const a=[];return this.forCalculations.itemElements.toArray().reverse().forEach(e=>{i>t&&(i-=e.elementRef.nativeElement.clientWidth-5,a.push(e.favorite))}),a}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(p.Store))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu2-nav-favorites"]],viewQuery:function(e,t){if(1&e&&a.jd(ce,3),2&e){let e;a.Qc(e=a.rc())&&(t.forCalculations=e.first)}},hostAttrs:[1,"cu2-nav-favorites"],inputs:{headerCenter:"headerCenter",itemModifier:"itemModifier",moreModifier:"moreModifier",forSidebar:"forSidebar",forSidebarDropdown:"forSidebarDropdown"},outputs:{dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},decls:9,vars:20,consts:[[1,"cu2-header__favorites",3,"favoritesToHide","itemModifier","moreModifier","forSidebar","forSidebarDropdown","v4ExpandedSpacesBar","isSidebarDark","dropdownOpen","dropdownClose"],[1,"cu2-header__favorites-for-calculations"],[1,"cu2-header__favorites",3,"forCalculations","itemModifier","moreModifier"],["forCalculations",""]],template:function(e,t){if(1&e&&(a.cc(0,"cu2-nav-favorites-list",0),a.qc("dropdownOpen",function(){return t.dropdownOpen.emit()})("dropdownClose",function(){return t.dropdownClose.emit()}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.vc(5,"async"),a.bc(),a.cc(6,"div",1),a.Xb(7,"cu2-nav-favorites-list",2,3),a.bc()),2&e){let e=null,i=null;a.Dc("favoritesToHide",a.wc(1,10,t.favoritesToHide$))("itemModifier",t.itemModifier)("moreModifier",t.moreModifier)("forSidebar",t.forSidebar)("forSidebarDropdown",t.forSidebarDropdown)("v4ExpandedSpacesBar",(null==(e=a.wc(2,12,t.user$))?null:e.dashboard)===t.LayoutVersion.Four&&!a.wc(3,14,t.isSpacesBarCollapsed$)&&!a.wc(4,16,t.favoritesPinned$))("isSidebarDark",(null==(i=a.wc(5,18,t.user$))?null:i.sidebar_theme)===t.LeftSidebarTheme.Dark),a.Ib(7),a.Dc("forCalculations",!0)("itemModifier",t.itemModifier)("moreModifier",t.moreModifier)}},directives:[oe],pipes:[j.b],styles:[".cu2-nav-favorites{height:40px;min-width:0;overflow:hidden;display:flex;position:relative}.cu2-header__favorites-for-calculations{position:absolute;visibility:hidden;opacity:0;pointer-events:none}"],encapsulation:2,changeDetection:0}),e})()},"8coG":function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return r}),i.d(t,"l",function(){return l}),i.d(t,"i",function(){return d}),i.d(t,"g",function(){return u}),i.d(t,"j",function(){return p}),i.d(t,"h",function(){return m}),i.d(t,"d",function(){return h}),i.d(t,"e",function(){return b}),i.d(t,"f",function(){return g}),i.d(t,"k",function(){return f}),i.d(t,"m",function(){return _});var a=i("9+lH"),o=i("l7P3"),c=i("zJDR");const n=Object(o.createFeatureSelector)("goalAdd"),s=Object(o.createSelector)(n,a.b),r=Object(o.createSelector)(n,a.a),l=Object(o.createSelector)(n,a.k),d=(Object(o.createSelector)(n,a.h),Object(o.createSelector)(n,a.i)),u=Object(o.createSelector)(n,a.f),p=Object(o.createSelector)(n,a.j),m=Object(o.createSelector)(n,a.g),h=Object(o.createSelector)(n,a.c),b=Object(o.createSelector)(n,a.d),g=Object(o.createSelector)(n,a.e),f=Object(o.createSelector)(d,u,(e,t)=>!e||!t||t.isAfter(e)),_=Object(o.createSelector)(n,e=>{switch(e.step){case c.a.NAME:return!!e.name;case c.a.ASSIGN:case c.a.PRIVACY:return!0;case c.a.DATES:return!(e.startDate&&e.endDate)||e.startDate.isBefore(e.endDate);default:return!1}})},"8kh7":function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("fXoL");let o=(()=>{class e{constructor(){this.openQuickSwitcher=new a.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"9+lH":function(e,t,i){"use strict";i.d(t,"l",function(){return n}),i.d(t,"b",function(){return s}),i.d(t,"j",function(){return r}),i.d(t,"a",function(){return l}),i.d(t,"k",function(){return d}),i.d(t,"i",function(){return u}),i.d(t,"f",function(){return p}),i.d(t,"h",function(){return m}),i.d(t,"c",function(){return h}),i.d(t,"d",function(){return b}),i.d(t,"e",function(){return g}),i.d(t,"g",function(){return f});var a=i("zJDR"),o=i("axEd");const c={step:a.a.NAME,owners:[],usersGoalIsFor:[],isPrivate:!1,startDate:null,endDate:null,description:null,name:"",forceScroll:!1,createError:null,created:null,creating:!1,color:"#757380"};function n(e=c,t){switch(t.type){case o.q:{const{step:i}=t.payload;return Object.assign(Object.assign({},e),{step:i})}case o.i:{const{owner:i}=t.payload,a=e.owners.filter(e=>e.id!==i.id);return Object.assign(Object.assign({},e),{owners:a})}case o.l:return Object.assign(Object.assign({},e),{forceScroll:!1});case o.k:return c;case o.w:{let{step:i}=t.payload,o=!1,c=!1;return i!==a.a.ASSIGN&&i!==a.a.PRIVACY&&i!==a.a.DATES&&i!==a.a.DESCRIPTION||e.name||(i=a.a.NAME,o=!0,c=!0),c||i!==a.a.DESCRIPTION||e.startDate&&e.endDate&&e.endDate.isBefore(e.startDate)&&(i=a.a.DATES,o=!0,c=!0),Object.assign(Object.assign({},e),{step:i,forceScroll:o})}case o.j:{const{user:i}=t.payload,a=e.usersGoalIsFor.filter(e=>e.id!==i.id);return Object.assign(Object.assign({},e),{usersGoalIsFor:a})}case o.u:{const{owners:i}=t.payload;return Object.assign(Object.assign({},e),{owners:i})}case o.x:{const{usersGoalIsFor:i}=t.payload;return Object.assign(Object.assign({},e),{usersGoalIsFor:i})}case o.v:{const{isPrivate:i}=t.payload,a=[...e.usersGoalIsFor];return i&&!a.some(e=>e.id===t.payload.currentUser.id)&&a.push(t.payload.currentUser),Object.assign(Object.assign({},e),{isPrivate:i,usersGoalIsFor:a})}case o.t:{const{name:i}=t.payload;return Object.assign(Object.assign({},e),{name:i})}case o.r:{const{endDate:i,startDate:a,inputValue:o,forInput:c,forEnd:n}=t.payload;return Object.assign(Object.assign({},e),c?n?{endDate:o}:{startDate:o}:{endDate:i,startDate:a})}case o.s:{const i=JSON.stringify(t.payload.description);return Object.assign(Object.assign({},e),{description:i})}case o.a:return Object.assign(Object.assign({},e),{createError:null,creating:!0});case o.c:{const{goal:i}=t.payload;return Object.assign(Object.assign({},e),{created:i.pretty_id,creating:!1})}case o.b:return Object.assign(Object.assign({},e),{creating:!1,createError:t.payload.err});default:return e}}const s=e=>e.step,r=e=>e.isPrivate,l=e=>e.owners,d=e=>e.usersGoalIsFor,u=e=>e.startDate,p=e=>e.endDate,m=e=>e.name,h=e=>e.createError,b=e=>e.created,g=e=>e.creating,f=e=>e.forceScroll},"94G7":function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},"97dl":function(e,t,i){"use strict";i.d(t,"a",function(){return x});var a=i("fXoL"),o=i("l7P3"),c=i("7G3y"),n=i("PBBv"),s=i("hr9B"),r=i("R0Ic"),l=i("dTHz"),d=i("c3rA"),u=i("ofXK"),p=i("8OWJ"),m=i("UdVN");function h(e,t){if(1&e){const e=a.dc();a.cc(0,"span",9),a.qc("click",function(){a.Uc(e);const t=a.uc();return t.forDropdown?null:t.toggleFavorites(!0)}),a.gc(1,10),a.bc()}}function b(e,t){if(1&e){const e=a.dc();a.cc(0,"span",9),a.qc("click",function(){a.Uc(e);const t=a.uc();return t.forDropdown?null:t.toggleFavorites(!1)}),a.gc(1,11),a.bc()}}function g(e,t){if(1&e){const e=a.dc();a.cc(0,"div",13),a.qc("click",function(){return a.Uc(e),a.uc(2).toggleFavorites(!0)}),a.gc(1,14),a.bc()}2&e&&a.Dc("@loadingEnter",void 0)}function f(e,t){if(1&e){const e=a.dc();a.cc(0,"div",13),a.qc("click",function(){return a.Uc(e),a.uc(2).toggleFavorites(!1)}),a.gc(1,15),a.bc()}2&e&&a.Dc("@loadingEnter",void 0)}function _(e,t){if(1&e&&(a.ac(0),a.bd(1,g,2,1,"div",12),a.vc(2,"async"),a.bd(3,f,2,1,"div",12),a.vc(4,"async"),a.Zb()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngIf",!a.wc(2,2,e.favoritesActive$)),a.Ib(2),a.Dc("ngIf",a.wc(4,4,e.favoritesActive$))}}function v(e,t){if(1&e){const e=a.dc();a.cc(0,"div",16),a.qc("click",function(){return a.Uc(e),a.uc().pinFavorites(!0)}),a.bc()}}function y(e,t){if(1&e){const e=a.dc();a.cc(0,"div",17),a.qc("click",function(){return a.Uc(e),a.uc().pinFavorites(!0)}),a.Xb(1,"div",18),a.ac(2),a.gc(3,19),a.Zb(),a.bc()}}function w(e,t){1&e&&a.Xb(0,"div",20)}const k=function(e,t){return{"cu-sidebar-favorites__header_active":e,"cu-sidebar-favorites__header_pinned":t}};let x=(()=>{class e{constructor(e){this.store=e,this.favoritesActive$=this.store.pipe(Object(o.select)(n.d)),this.favoritesPinned$=this.store.pipe(Object(o.select)(n.g)),this.user$=this.store.select(d.getUser),this.LayoutVersion=l.b,this.forDropdown=!1,this.forSimpleBar=!1,this.dropdownOpen=new a.o,this.dropdownClose=new a.o}ngOnInit(){this.store.dispatch(c.l()),this.store.dispatch(c.m())}toggleFavorites(e){this.store.dispatch(c.v({active:e}))}pinFavorites(e){this.store.dispatch(c.w({active:e}))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.Store))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-sidebar-favorites"]],hostVars:4,hostBindings:function(e,t){2&e&&(a.Lb(t.modifier),a.Ob("cu-sidebar-favorites",!0))},inputs:{modifier:"modifier",forDropdown:"forDropdown",forSimpleBar:"forSimpleBar"},outputs:{dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},decls:18,vars:28,consts:function(){let e,t,i,a,o;return e=$localize`:@@common_favorites␟0add707baf7b167d0c0e9cdeb80f946aa1bd2223␟4085930761302974863:Favorites`,t=$localize`:@@common_favorites␟0add707baf7b167d0c0e9cdeb80f946aa1bd2223␟4085930761302974863:Favorites`,i=$localize`:@@common_show␟6ea6964cc6ca1f44f61744e4dcdb391b0562edc4␟6999941171283446528: Show `,a=$localize`:@@common_hide␟669739a56ab5efac57bfbd7166d9675c8e0f5276␟6210143939592559490: Hide `,o=$localize`:@@common_pin␟32d40747d801c0d4f51f2fbbdb368e265c307305␟4475093671158329161:Pin`,[[1,"cu-sidebar-favorites__header",3,"ngClass"],[1,"cu-sidebar-favorites__title"],["class","cu-sidebar-favorites__title-text",3,"click",4,"ngIf"],[4,"ngIf"],["class","cu-sidebar-favorites__pin","icon","cu2-thumbtack-solid",3,"click",4,"ngIf","ngIfElse"],["pinWithLabel",""],["class","cu-sidebar-favorites__header-arrow","icon","cu2-angle-right",4,"ngIf"],[1,"cu-sidebar-favorites__list"],[3,"forSidebar","forSidebarDropdown","itemModifier","dropdownOpen","dropdownClose"],[1,"cu-sidebar-favorites__title-text",3,"click"],e,t,["class","cu-sidebar-favorites__action",3,"click",4,"ngIf"],[1,"cu-sidebar-favorites__action",3,"click"],i,a,["icon","cu2-thumbtack-solid",1,"cu-sidebar-favorites__pin",3,"click"],[1,"cu-sidebar-favorites__pin-label",3,"click"],["icon","cu2-thumbtack-solid",1,"cu-sidebar-favorites__pin"],o,["icon","cu2-angle-right",1,"cu-sidebar-favorites__header-arrow"]]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.cc(4,"div",1),a.bd(5,h,2,0,"span",2),a.vc(6,"async"),a.bd(7,b,2,0,"span",2),a.vc(8,"async"),a.bc(),a.bd(9,_,5,6,"ng-container",3),a.bd(10,v,1,0,"div",4),a.bd(11,y,4,0,"ng-template",null,5,a.cd),a.bd(13,w,1,0,"div",6),a.bc(),a.cc(14,"div",7),a.vc(15,"async"),a.vc(16,"async"),a.cc(17,"cu2-nav-favorites",8),a.qc("dropdownOpen",function(){return t.dropdownOpen.emit()})("dropdownClose",function(){return t.dropdownClose.emit()}),a.bc(),a.bc()),2&e){const e=a.Rc(12);a.Dc("ngClass",a.Ic(25,k,a.wc(1,11,t.favoritesActive$)&&!a.wc(2,13,t.favoritesPinned$),a.wc(3,15,t.favoritesPinned$))),a.Ib(5),a.Dc("ngIf",!a.wc(6,17,t.favoritesActive$)),a.Ib(2),a.Dc("ngIf",a.wc(8,19,t.favoritesActive$)),a.Ib(2),a.Dc("ngIf",!t.forDropdown&&!t.forSimpleBar),a.Ib(1),a.Dc("ngIf",!t.forDropdown)("ngIfElse",e),a.Ib(3),a.Dc("ngIf",t.forSimpleBar),a.Ib(1),a.Dc("@favoritesList",a.wc(15,21,t.favoritesActive$)&&!a.wc(16,23,t.favoritesPinned$)||t.forDropdown?"showed":"hidden"),a.Ib(3),a.Dc("forSidebar",!0)("forSidebarDropdown",t.forDropdown)("itemModifier","cu2-nav-favorites-item_sidebar-dropdown")}},directives:[u.o,u.q,p.a,m.a],pipes:[u.b],styles:['.cu-sidebar-favorites{position:relative;flex-shrink:0;overflow:hidden}.cu-sidebar-favorites_hidden{border:0}.cu-sidebar-favorites_spaces-bar{border-bottom:0;margin:15px 0 0}.cu-simple-bar__body .cu-sidebar-favorites{overflow:visible;border-bottom:1px solid #e9ebf0}.dark-theme .cu-simple-bar__body .cu-sidebar-favorites{border-bottom-color:#1e272e}.cu-left-sidebar.dark-theme .cu-sidebar-favorites,.cu-simple-bar.dark-theme .cu-sidebar-favorites{border-bottom-color:#384047}.cu-sidebar-favorites_dropdown{border-bottom:0;margin:0;width:200px;display:block;padding:10px 0}.cu-sidebar-favorites__header{display:flex;align-items:center}.cu-sidebar-favorites_sidebar .cu-sidebar-favorites__header{padding:0 16px}.layout-size_compact .cu-sidebar-favorites_sidebar .cu-sidebar-favorites__header{padding-left:16px}.layout-size_default .cu-sidebar-favorites_sidebar .cu-sidebar-favorites__header{padding-left:19px}.layout-size_large .cu-sidebar-favorites_sidebar .cu-sidebar-favorites__header{padding-left:22px}.cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__header{padding:0 16px 10px;height:28px}.layout-size_compact .cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__header{padding-left:16px}.layout-size_default .cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__header{padding-left:19px}.layout-size_large .cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__header{padding-left:22px}.cu-sidebar-favorites_dropdown .cu-sidebar-favorites__header{padding:0 12px;margin:0 0 5px}.cu-sidebar-favorites_dropdown .cu-sidebar-favorites__header .cu-sidebar-favorites__title{pointer-events:none}.cu-sidebar-favorites_sidebar .cu-sidebar-favorites__header{height:35px;padding-top:15px}.cu-sidebar-favorites_sidebar .cu-sidebar-favorites__header_pinned{height:38px}.cu-simple-bar__body .cu-sidebar-favorites__header{display:flex;align-items:center;cursor:pointer}.cu-simple-bar__body .cu-sidebar-favorites__header:hover{background:#f8f9f9;z-index:20}.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header:hover{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header:hover{background:#2b343b}.cu-simple-bar__body .cu-sidebar-favorites__header .cu-sidebar-favorites__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-transform:uppercase;font:600 11px/47px Gotham Pro,Proxima Nova,arial,serif;padding-top:1px;padding-left:20px;color:#979797}.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header .cu-sidebar-favorites__title-text{color:#abaeb0}.cu-simple-bar__body .cu-sidebar-favorites__header_active{overflow:visible;position:sticky;top:0;z-index:10;background:#fff}.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header_active{background:#2b343b}.cu-left-sidebar.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header_active,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header_active{background:#20262b}.cu-simple-bar__body .cu-sidebar-favorites__header_active .cu-sidebar-favorites__title-text{font-weight:600;color:#53575e}.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header_active .cu-sidebar-favorites__title-text{color:#d5d6d7}.cu-simple-bar__body .cu-sidebar-favorites__header-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;right:20px;width:4px;height:11px;pointer-events:none;fill:#7c828d}.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header-arrow{fill:#abaeb0}.cu-simple-bar__body .cu-sidebar-favorites__header_active .cu-sidebar-favorites__header-arrow{transform:rotate(90deg);fill:#53575e}.dark-theme .cu-simple-bar__body .cu-sidebar-favorites__header_active .cu-sidebar-favorites__header-arrow{fill:#d5d6d7}.cu-sidebar-favorites__title{flex-grow:1;min-width:0}.cu-sidebar-favorites__title-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;text-transform:uppercase;color:#7c828d;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;display:block}.cu2-sidebar__body_v5 .cu-sidebar-favorites__title-text{font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;text-transform:capitalize;color:#292d34}.dark-theme .cu2-sidebar__body_v5 .cu-sidebar-favorites__title-text{color:#d5d6d7}.cu-sidebar-favorites__title-text:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sidebar-favorites__title-text:hover{color:var(--theme-main-color)}}.dark-theme .cu-sidebar-favorites__title-text:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-sidebar-favorites__title-text:hover{color:var(--theme-main-color)}}.cu-sidebar-favorites__action{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:color .2s cubic-bezier(.785,.135,.15,.86);font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:10px;margin-left:5px;cursor:pointer;display:none;color:#b9bec7}.cu-sidebar-favorites__action:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sidebar-favorites__action:hover{color:var(--theme-main-color)}}.cu-sidebar-favorites__header:hover .cu-sidebar-favorites__action{display:block}.cu-sidebar-favorites__pin{transition:fill .2s cubic-bezier(.785,.135,.15,.86);width:16px;height:18px;padding:4px;cursor:pointer;display:none;fill:#b9bec7}.dark-theme .cu-sidebar-favorites__pin{fill:#828588}.cu-sidebar-favorites__pin:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sidebar-favorites__pin:hover{fill:var(--theme-main-color)}}.cu-sidebar-favorites__header:hover .cu-sidebar-favorites__pin,.cu-sidebar-favorites_dropdown .cu-sidebar-favorites__pin,.cu-simple-bar__body .cu-sidebar-favorites__header_active .cu-sidebar-favorites__pin{display:block}.cu-simple-bar__body .cu-sidebar-favorites__pin{position:absolute;right:40px}.cu-sidebar-favorites__pin-label{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;color:#b9bec7}.cu-sidebar-favorites__pin-label:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sidebar-favorites__pin-label:hover{color:var(--theme-main-color)}}.cu-sidebar-favorites__pin-label:hover .icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sidebar-favorites__pin-label:hover .icon{fill:var(--theme-main-color)}}.cu-sidebar-favorites__list{max-height:160px;overflow-y:auto;overflow-x:hidden}.cu-os-win .cu-sidebar-favorites__list{scrollbar-width:thin}.cu-os-win .cu-sidebar-favorites__list::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-sidebar-favorites__list::-webkit-scrollbar-track,.cu-os-win .cu-sidebar-favorites__list::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-sidebar-favorites__list::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-sidebar-favorites__list::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-sidebar-favorites__list::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar,.cu-os-win .dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar,.cu-os-win.dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-track{background-color:#2b343b}.cu-os-win.dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-track:hover{background-color:#2b343b}.cu-os-win.dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-sidebar-favorites__list::-webkit-scrollbar-thumb:hover{border-color:#2b343b}@-moz-document url-prefix(){.cu-os-win .cu-sidebar-favorites__list{scrollbar-color:#fff #fff}.cu-os-win.dark-theme .cu-sidebar-favorites__list{scrollbar-color:#384047 #384047}.cu-os-win .cu-sidebar-favorites__list:hover{scrollbar-color:#a0a0a5 #fff}.cu-os-win.dark-theme .cu-sidebar-favorites__list:hover{scrollbar-color:#828588 #384047}}.dark-theme .cu-sidebar-favorites__list{background:#2b343b}.cu-left-sidebar.dark-theme .cu-sidebar-favorites__list,.cu-simple-bar.dark-theme .cu-sidebar-favorites__list{background:#20262b}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu-sidebar-favorites__list{background:#2b343b}.cu-sidebar-favorites_sidebar .cu-sidebar-favorites__list{margin-top:5px;padding:0 16px}.layout-size_compact .cu-sidebar-favorites_sidebar .cu-sidebar-favorites__list{padding-left:16px}.layout-size_default .cu-sidebar-favorites_sidebar .cu-sidebar-favorites__list{padding-left:19px}.layout-size_large .cu-sidebar-favorites_sidebar .cu-sidebar-favorites__list{padding-left:22px}.cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__list{padding:0 18px;margin-bottom:5px}.layout-size_compact .cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__list{padding-left:18px}.layout-size_default .cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__list{padding-left:19px}.layout-size_large .cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__list{padding-left:22px}.cu-simple-bar__body .cu-sidebar-favorites__list{max-height:none;overflow:hidden}.cu-sidebar-favorites_dropdown .cu-sidebar-favorites__list{padding:0 12px;margin:0}.dark-theme .cu-sidebar-favorites_dropdown .cu-sidebar-favorites__list{background:#384047}.cu-sidebar-favorites_dropdown .cu-sidebar-favorites__list:before{background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu-sidebar-favorites_dropdown .cu-sidebar-favorites__list:before{background:linear-gradient(180deg,#384047 0,rgba(56,64,71,0))}.cu-sidebar-favorites_dropdown .cu-sidebar-favorites__list:after{background:linear-gradient(0deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu-sidebar-favorites_dropdown .cu-sidebar-favorites__list:after{background:linear-gradient(0deg,#384047 0,rgba(56,64,71,0))}.cu-sidebar-favorites__list:before{content:"";display:block;position:sticky;width:100%;top:0;height:5px;margin-bottom:-5px;z-index:1;pointer-events:none;background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu-sidebar-favorites__list:before{background:linear-gradient(180deg,#2b343b 0,rgba(43,52,59,0))}.cu-left-sidebar.dark-theme .cu-sidebar-favorites__list:before{background:linear-gradient(180deg,#20262b 0,rgba(32,38,43,0))}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu-sidebar-favorites__list:before{background:linear-gradient(180deg,#2b343b 0,rgba(43,52,59,0))}.cu-simple-bar__body .cu-sidebar-favorites__list:before{display:none}.cu-sidebar-favorites__list:after{content:"";display:block;position:sticky;width:100%;bottom:-1px;height:8px;margin-top:-8px;z-index:1;pointer-events:none;background:linear-gradient(0deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu-sidebar-favorites__list:after{background:linear-gradient(0deg,#2b343b 0,rgba(43,52,59,0))}.cu-left-sidebar.dark-theme .cu-sidebar-favorites__list:after{background:linear-gradient(0deg,#20262b 0,rgba(32,38,43,0))}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu-sidebar-favorites__list:after{background:linear-gradient(0deg,#2b343b 0,rgba(43,52,59,0))}.cu-simple-bar__body .cu-sidebar-favorites__list:after{display:none}.cu-sidebar-favorites__list .cu2-nav-favorites{height:auto;flex-direction:column}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites{height:auto}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites{flex-direction:column}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list{overflow:hidden;height:auto;flex-direction:column;width:100%;padding:0 0 10px}.cu-sidebar-favorites_dropdown .cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list,.cu-sidebar-favorites_spaces-bar .cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list{padding:0}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item{width:100%}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item:hover .cu2-nav-favorites-item__item-icon{display:none}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item:hover .cu-dropdown{opacity:1;visibility:visible;display:block}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item{display:flex;align-items:center;justify-content:flex-start;background:transparent;width:100%;height:100%}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item-name{max-width:none;flex-grow:1}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item cu-dropdown-list{position:relative;opacity:1;visibility:visible}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item .cu-dropdown{display:none}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item .cu-dropdown.cu-dropdown_open{opacity:1;visibility:visible;display:block}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item .cu-dropdown .cu2-nav-favorites-item__item-ellipsis{height:24px;display:flex;margin-right:-10px;fill:#c4c4c4}.dark-theme .cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item .cu-dropdown .cu2-nav-favorites-item__item-ellipsis{fill:#abaeb0}.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item .cu-dropdown .cu2-nav-favorites-item__item-ellipsis:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sidebar-favorites__list .cu2-nav-favorites .cu2-header__favorites .nav-favorites__list .cu2-nav-favorites-item__item .cu-dropdown .cu2-nav-favorites-item__item-ellipsis:hover{fill:var(--theme-main-color)}}'],encapsulation:2,data:{animation:[s.f,Object(r.m)("favoritesList",[Object(r.j)("showed",Object(r.k)({height:"*",opacity:1})),Object(r.j)("hidden",Object(r.k)({height:"0",opacity:.5})),Object(r.l)("showed => hidden",[Object(r.e)("0.2s 0s ease-in-out")]),Object(r.l)("hidden => showed",[Object(r.e)("0.2s 0s ease-in-out")])])]},changeDetection:0}),e})()},"9BuY":function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},"A/Rp":function(e,t,i){"use strict";i.d(t,"c",function(){return a}),i.d(t,"pb",function(){return o}),i.d(t,"zb",function(){return c}),i.d(t,"sb",function(){return n}),i.d(t,"w",function(){return s}),i.d(t,"x",function(){return r}),i.d(t,"Eb",function(){return l}),i.d(t,"u",function(){return d}),i.d(t,"t",function(){return u}),i.d(t,"mb",function(){return p}),i.d(t,"ub",function(){return m}),i.d(t,"db",function(){return h}),i.d(t,"tb",function(){return b}),i.d(t,"h",function(){return g}),i.d(t,"Bb",function(){return f}),i.d(t,"b",function(){return _}),i.d(t,"ab",function(){return v}),i.d(t,"cb",function(){return y}),i.d(t,"bb",function(){return w}),i.d(t,"gb",function(){return k}),i.d(t,"j",function(){return x}),i.d(t,"yb",function(){return T}),i.d(t,"i",function(){return S}),i.d(t,"vb",function(){return j}),i.d(t,"s",function(){return O}),i.d(t,"Db",function(){return I}),i.d(t,"Cb",function(){return D}),i.d(t,"d",function(){return C}),i.d(t,"kb",function(){return P}),i.d(t,"nb",function(){return $}),i.d(t,"ob",function(){return z}),i.d(t,"lb",function(){return M}),i.d(t,"ib",function(){return E}),i.d(t,"q",function(){return L}),i.d(t,"X",function(){return A}),i.d(t,"p",function(){return F}),i.d(t,"r",function(){return U}),i.d(t,"W",function(){return N}),i.d(t,"f",function(){return R}),i.d(t,"jb",function(){return G}),i.d(t,"rb",function(){return q}),i.d(t,"U",function(){return B}),i.d(t,"V",function(){return W}),i.d(t,"T",function(){return V}),i.d(t,"n",function(){return X}),i.d(t,"m",function(){return H}),i.d(t,"l",function(){return Y}),i.d(t,"eb",function(){return Z}),i.d(t,"e",function(){return Q}),i.d(t,"qb",function(){return K}),i.d(t,"L",function(){return J}),i.d(t,"M",function(){return ee}),i.d(t,"K",function(){return te}),i.d(t,"v",function(){return ie}),i.d(t,"O",function(){return ae}),i.d(t,"P",function(){return oe}),i.d(t,"N",function(){return ce}),i.d(t,"Y",function(){return ne}),i.d(t,"Z",function(){return se}),i.d(t,"hb",function(){return re}),i.d(t,"z",function(){return le}),i.d(t,"A",function(){return de}),i.d(t,"y",function(){return ue}),i.d(t,"C",function(){return pe}),i.d(t,"D",function(){return me}),i.d(t,"B",function(){return he}),i.d(t,"wb",function(){return be}),i.d(t,"F",function(){return ge}),i.d(t,"G",function(){return fe}),i.d(t,"E",function(){return _e}),i.d(t,"xb",function(){return ve}),i.d(t,"o",function(){return ye}),i.d(t,"k",function(){return we}),i.d(t,"g",function(){return ke}),i.d(t,"I",function(){return xe}),i.d(t,"fb",function(){return Te}),i.d(t,"J",function(){return Se}),i.d(t,"H",function(){return je}),i.d(t,"R",function(){return Oe}),i.d(t,"S",function(){return Ie}),i.d(t,"Q",function(){return De}),i.d(t,"Ab",function(){return Ce}),i.d(t,"a",function(){return Pe});var a=function(e){return e.SetSearchText="[Calendar view] set search text",e.ToggleSortByDirection="[Calendar view] toggle sort by direction",e.SetSortByField="[Calendar view] set sort by field",e.LoadCategoriesStart="[Calendar view] load categories start",e.LoadCategoriesSuccess="[Calendar view] load categories success",e.UpdateViewPreferences="[Calendar view] update view preferences",e.HighlightTodayStart="[Calendar view] highlight today start",e.HighlightTodayComplete="[Calendar view] highlight today complete",e.SetHighlightToday="[Calendar view] set highlight today",e.SetViewDate="[Calendar view] set view date",e.Reset="[Calendar view] reset",e.SetView="[Calendar view] set view",e.DeleteTask="[Calendar view] delete task",e.UpdateTask="[Calendar view] update task",e.AddTask="[Calendar view] add task",e.ReloadTasks="[Calendar view] reload tasks",e.RenameTaskStart="[Calendar view] rename task start",e.RenameTaskSave="[Calendar view] rename task save",e.SelectTask="[Calendar view] select task",e.DeselectTask="[Calendar view] deselect task",e.ToggleSelectedTask="[Calendar view] toggle selected task",e.DeselectAllTasks="[Calendar view] deselect all tasks",e.ShowSubtaskRemapPopover="[Calendar view] show subtask remap popover",e.HideSubtaskRemapPopover="[Calendar view] hide subtask remap popover",e.UpdateTaskDatesStart="[Calendar view] update task dates start",e.UpdateTaskDatesPersist="[Calendar view] update task dates persist",e.ConfirmRemapSubtasks="[Calendar view] confirm remap subtasks",e.SetEventsDragOver="[Calendar view] set events drag over",e.SetIsExternalDragActive="[Calendar view] set is external drag active",e.SetMultiSelectActive="[Calendar view] multi select active",e.SetEventsWereDragSelected="[Calendar view] set events were drag selected",e.SetDisableEventTooltips="[Calendar view] disable event tooltips",e.EventsDragSelected="[Calendar view] events drag selected",e.MoveScheduledToUnscheduledEvent="[Calendar view] move scheduled to unscheduled event",e.EventTimesChanged="[Calendar view] event times changed",e.GoogleCalendarEventTimesChanged="[Calendar view] google calendar event times changed",e.MonthViewExternalEventDropped="[Calendar view] month view external event dropped",e.DayOrWeekEventTimesChanged="[Calendar view] day or week event times changed",e.SetDragToSelectEnabled="[Calendar view] toggle drag to select enabled",e.SetSidebarTaskType="[Calendar view] set sidebar task type",e.LoadScheduledTasksStart="[Calendar view] load scheduled tasks start",e.LoadScheduledTasksSuccess="[Calendar view] load scheduled tasks success",e.LoadScheduledTasksError="[Calendar view] load scheduled tasks error",e.DragToCreateEventStart="[Calendar view] drag to create start",e.DragToCreateEventMove="[Calendar view] drag to create move",e.DragToCreateEventEnd="[Calendar view] drag to create end",e.ResizeUnscheduledEventsSidebar="[Calendar view] resize unscheduled events sidebar",e.CreateTask="[Calendar view] create task",e.SetSidebarTaskIds="[Calendar view] set sidebar task ids",e.LoadInitialSidebarTasksStart="[Calendar view] load initial sidebar tasks start",e.LoadInitialSidebarTasksSuccess="[Calendar view] load initial sidebar tasks success",e.LoadInitialSidebarTasksError="[Calendar view] load initial sidebar tasks error",e.LoadMoreSidebarTasksStart="[Calendar view] load more sidebar tasks start",e.LoadMoreSidebarTasksSuccess="[Calendar view] load more sidebar tasks success",e.LoadMoreSidebarTasksError="[Calendar view] load more sidebar tasks error",e.LoadAllTasks="[Calendar view] load all tasks",e.ReloadSidebarTasksStart="[Calendar view] reload unscheduled tasks start",e.ReloadSidebarTasksSuccess="[Calendar view] reload unscheduled tasks success",e.SetCurrentTime="[Calendar view] set current time",e.LoadGoogleCalendarEventsStart="[Calendar view] load google calendar events start",e.LoadGoogleCalendarEventsSuccess="[Calendar view] load google calendar events success",e.LoadGoogleCalendarEventsError="[Calendar view] load google calendar events error",e.LoadGoogleCalendarsStart="[Calendar view] load google calendars start",e.LoadGoogleCalendarsSuccess="[Calendar view] load google calendars success",e.LoadGoogleCalendarsError="[Calendar view] load google calendars error",e.ToggleGoogleCalendarVisible="[Calendar view] toggle google calendar visible",e.LoadHolidayCountriesStart="[Calendar view] load holiday countries start",e.LoadHolidayCountriesSuccess="[Calendar view] load holiday countries success",e.LoadHolidayCountriesError="[Calendar view] load holiday countries error",e.ToggleHolidayCountryVisible="[Calendar view] toggle holiday country visible",e.EnableHolidayCountry="[Calendar view] enable holiday country",e.DisableHolidayCountry="[Calendar view] disable holiday country",e.DeleteGoogleCalendar="[Calendar view] delete google calendar",e.LoadHolidaysStart="[Calendar view] load holidays start",e.LoadHolidaysSuccess="[Calendar view] load holidays success",e.LoadHolidaysError="[Calendar view] load holidays error",e.LoadProfileTasksStart="[Calendar view] load profile tasks start",e.LoadProfileTasksSuccess="[Calendar view] load profile tasks success",e.LoadProfileTasksError="[Calendar view] load profile tasks error",e.UpdateGoogleCalendarEvent="[Calendar view] update google calendar event",e.SaveHolidays="[Calendar view] save holidays",e.AddProfileTask="[Calendar view] add profile task",e}({});class o{constructor(e){this.payload=e,this.type=a.SetSearchText}}class c{constructor(){this.type=a.ToggleSortByDirection}}class n{constructor(e){this.payload=e,this.type=a.SetSortByField}}class s{constructor(){this.type=a.LoadCategoriesStart}}class r{constructor(e){this.payload=e,this.type=a.LoadCategoriesSuccess}}class l{constructor(e){this.payload=e,this.type=a.UpdateViewPreferences}}class d{constructor(){this.type=a.HighlightTodayStart}}class u{constructor(){this.type=a.HighlightTodayComplete}}class p{constructor(e){this.payload=e,this.type=a.SetHighlightToday}}class m{constructor(e){this.payload=e,this.type=a.SetViewDate}}class h{constructor(e){this.payload=e,this.type=a.Reset}}class b{constructor(e){this.payload=e,this.type=a.SetView}}class g{constructor(e){this.payload=e,this.type=a.DeleteTask}}class f{constructor(e){this.payload=e,this.type=a.UpdateTask}}class _{constructor(e){this.payload=e,this.type=a.AddTask}}class v{constructor(e){this.payload=e,this.type=a.ReloadTasks}}class y{constructor(e){this.payload=e,this.type=a.RenameTaskStart}}class w{constructor(e){this.payload=e,this.type=a.RenameTaskSave}}class k{constructor(e){this.payload=e,this.type=a.SelectTask}}class x{constructor(e){this.payload=e,this.type=a.DeselectTask}}class T{constructor(e){this.payload=e,this.type=a.ToggleSelectedTask}}class S{constructor(){this.type=a.DeselectAllTasks}}class j{constructor(e){this.payload=e,this.type=a.ShowSubtaskRemapPopover}}class O{constructor(e){this.payload=e,this.type=a.HideSubtaskRemapPopover}}class I{constructor(e){this.payload=e,this.type=a.UpdateTaskDatesStart}}class D{constructor(e){this.payload=e,this.type=a.UpdateTaskDatesPersist}}class C{constructor(e){this.payload=e,this.type=a.ConfirmRemapSubtasks}}class P{constructor(e){this.payload=e,this.type=a.SetEventsDragOver}}class ${constructor(e){this.payload=e,this.type=a.SetIsExternalDragActive}}class z{constructor(e){this.payload=e,this.type=a.SetMultiSelectActive}}class M{constructor(e){this.payload=e,this.type=a.SetEventsWereDragSelected}}class E{constructor(e){this.payload=e,this.type=a.SetDisableEventTooltips}}class L{constructor(e){this.payload=e,this.type=a.EventsDragSelected}}class A{constructor(e){this.payload=e,this.type=a.MoveScheduledToUnscheduledEvent}}class F{constructor(e){this.payload=e,this.type=a.EventTimesChanged}}class U{constructor(e){this.payload=e,this.type=a.GoogleCalendarEventTimesChanged}}class N{constructor(e){this.payload=e,this.type=a.MonthViewExternalEventDropped}}class R{constructor(e){this.payload=e,this.type=a.DayOrWeekEventTimesChanged}}class G{constructor(e){this.payload=e,this.type=a.SetDragToSelectEnabled}}class q{constructor(e){this.payload=e,this.type=a.SetSidebarTaskType}}class B{constructor(e){this.payload=e,this.type=a.LoadScheduledTasksStart}}class W{constructor(e){this.payload=e,this.type=a.LoadScheduledTasksSuccess}}class V{constructor(e){this.payload=e,this.type=a.LoadScheduledTasksError}}class X{constructor(e){this.payload=e,this.type=a.DragToCreateEventStart}}class H{constructor(e){this.payload=e,this.type=a.DragToCreateEventMove}}class Y{constructor(){this.type=a.DragToCreateEventEnd}}class Z{constructor(e){this.payload=e,this.type=a.ResizeUnscheduledEventsSidebar}}class Q{constructor(e){this.payload=e,this.type=a.CreateTask}}class K{constructor(e){this.payload=e,this.type=a.SetSidebarTaskIds}}class J{constructor(e){this.payload=e,this.type=a.LoadInitialSidebarTasksStart}}class ee{constructor(e){this.payload=e,this.type=a.LoadInitialSidebarTasksSuccess}}class te{constructor(e){this.payload=e,this.type=a.LoadInitialSidebarTasksError}}class ie{constructor(e){this.payload=e,this.type=a.LoadAllTasks}}class ae{constructor(e){this.payload=e,this.type=a.LoadMoreSidebarTasksStart}}class oe{constructor(e){this.payload=e,this.type=a.LoadMoreSidebarTasksSuccess}}class ce{constructor(e){this.payload=e,this.type=a.LoadMoreSidebarTasksError}}class ne{constructor(e){this.payload=e,this.type=a.ReloadSidebarTasksStart}}class se{constructor(e){this.payload=e,this.type=a.ReloadSidebarTasksSuccess}}class re{constructor(e){this.payload=e,this.type=a.SetCurrentTime}}class le{constructor(e){this.payload=e,this.type=a.LoadGoogleCalendarEventsStart}}class de{constructor(e){this.payload=e,this.type=a.LoadGoogleCalendarEventsSuccess}}class ue{constructor(e){this.payload=e,this.type=a.LoadGoogleCalendarEventsError}}class pe{constructor(){this.type=a.LoadGoogleCalendarsStart}}class me{constructor(e){this.payload=e,this.type=a.LoadGoogleCalendarsSuccess}}class he{constructor(e){this.payload=e,this.type=a.LoadGoogleCalendarsError}}class be{constructor(e){this.payload=e,this.type=a.ToggleGoogleCalendarVisible}}class ge{constructor(){this.type=a.LoadHolidayCountriesStart}}class fe{constructor(e){this.payload=e,this.type=a.LoadHolidayCountriesSuccess}}class _e{constructor(e){this.payload=e,this.type=a.LoadHolidayCountriesError}}class ve{constructor(e){this.payload=e,this.type=a.ToggleHolidayCountryVisible}}class ye{constructor(e){this.payload=e,this.type=a.EnableHolidayCountry}}class we{constructor(e){this.payload=e,this.type=a.DisableHolidayCountry}}class ke{constructor(e){this.payload=e,this.type=a.DeleteGoogleCalendar}}class xe{constructor(e){this.payload=e,this.type=a.LoadHolidaysStart}}class Te{constructor(){this.type=a.SaveHolidays}}class Se{constructor(e){this.payload=e,this.type=a.LoadHolidaysSuccess}}class je{constructor(e){this.payload=e,this.type=a.LoadHolidaysError}}class Oe{constructor(e){this.payload=e,this.type=a.LoadProfileTasksStart}}class Ie{constructor(e){this.payload=e,this.type=a.LoadProfileTasksSuccess}}class De{constructor(e){this.payload=e,this.type=a.LoadProfileTasksError}}class Ce{constructor(e){this.payload=e,this.type=a.UpdateGoogleCalendarEvent}}class Pe{constructor(e){this.payload=e,this.type=a.AddProfileTask}}},A2Mv:function(e,t,i){"use strict";i.d(t,"a",function(){return O});var a=i("fXoL"),o=i("3Pt+"),c=i("XNiG"),n=i("9jGm"),s=i("1G5W"),r=i("o7Ov"),l=i("Jf2N"),d=i("l7P3"),u=i("ofXK"),p=i("WoFS");function m(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.fd("",e.configForm.controls.prefix.value.length," / 10")}}function h(e,t){if(1&e&&(a.ac(0),a.gc(1,35),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.kc(e.minPrefixCharacters),a.hc(1)}}function b(e,t){if(1&e&&(a.cc(0,"div",32),a.cc(1,"div"),a.gc(2,33),a.bc(),a.cc(3,"div"),a.bd(4,m,2,1,"ng-container",25),a.bd(5,h,2,1,"ng-template",null,34,a.cd),a.bc(),a.bc()),2&e){const e=a.Rc(6),t=a.uc();a.Ib(4),a.Dc("ngIf",t.configForm.controls.prefix.value.length>=t.minPrefixCharacters)("ngIfElse",e)}}function g(e,t){if(1&e&&(a.ac(0),a.gc(1,38),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.kc(e.minPrefixCharacters),a.hc(1)}}function f(e,t){1&e&&(a.ac(0),a.gc(1,39),a.Zb())}function _(e,t){1&e&&(a.ac(0),a.gc(1,41),a.Zb())}function v(e,t){1&e&&(a.ac(0),a.gc(1,42),a.Zb())}function y(e,t){if(1&e&&(a.ac(0),a.bd(1,_,2,0,"ng-container",25),a.vc(2,"lowercase"),a.bd(3,v,2,0,"ng-template",null,40,a.cd),a.Zb()),2&e){const e=a.Rc(4),t=a.uc(2);a.Ib(1),a.Dc("ngIf","cu"===a.wc(2,2,t.configForm.value.prefix))("ngIfElse",e)}}function w(e,t){if(1&e&&(a.cc(0,"div",36),a.bd(1,g,2,1,"ng-container",37),a.bd(2,f,2,0,"ng-container",37),a.bd(3,y,5,4,"ng-container",37),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngIf",e.configForm.controls.prefix.errors.minlength||e.configForm.controls.prefix.errors.required),a.Ib(1),a.Dc("ngIf",e.configForm.controls.prefix.errors.maxlength),a.Ib(1),a.Dc("ngIf",e.configForm.controls.prefix.errors.pattern&&!e.configForm.controls.prefix.errors.minlength&&!e.configForm.controls.prefix.errors.maxlength)}}function k(e,t){1&e&&(a.cc(0,"div",36),a.gc(1,43),a.bc())}function x(e,t){if(1&e&&(a.cc(0,"div",32),a.gc(1,44),a.vc(2,"uppercase"),a.bc()),2&e){const e=a.uc();a.Ib(2),a.kc(a.wc(2,2,e.configForm.controls.prefix.value))(e.configForm.controls.startFrom.value||1),a.hc(1)}}function T(e,t){1&e&&(a.ac(0),a.gc(1,45),a.Zb())}function S(e,t){1&e&&(a.ac(0),a.gc(1,46),a.Zb())}function j(e,t){1&e&&(a.cc(0,"div",47),a.mc(1,48),a.Xb(2,"br"),a.jc(),a.bc())}let O=(()=>{class e{constructor(e,t,i,n){this.modal=e,this.store=t,this.actions=i,this.cdr=n,this.projectUpdated=new a.o,this.minPrefixCharacters=2,this.configForm=new o.j({prefix:new o.g("",[o.A.required,o.A.minLength(this.minPrefixCharacters),o.A.maxLength(10),o.A.pattern(new RegExp(/^\w+$/)),o.A.pattern(new RegExp(/^(?!cu$)/i))]),startFrom:new o.g(1,[o.A.pattern(new RegExp(/^\d+$/)),o.A.min(1)])}),this.displayOnTaskView=!0,this.loading=!1,this.destroy$=new c.a}ngOnInit(){this.configForm.patchValue({prefix:this.project.project_prefix||"",startFrom:this.project.project_prefix&&this.project.custom_task_ids_start||1}),this.project.project_prefix&&this.configForm.controls.startFrom.disable(),"boolean"==typeof this.project.custom_task_ids_display&&this.project.project_prefix&&(this.displayOnTaskView=this.project.custom_task_ids_display),this.actions.pipe(Object(n.d)(r.Tl),Object(s.a)(this.destroy$)).subscribe(()=>{this.projectUpdated.emit(this.getChanges()),this.cancel()}),this.actions.pipe(Object(n.d)(r.Sl),Object(s.a)(this.destroy$)).subscribe(()=>{this.loading=!1,this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next()}cancel(){this.modal.close()}submit(){this.configForm.valid?(this.loading=!0,this.store.dispatch(new r.ym({id:this.project.id,data:this.getChanges()}))):this.configForm.markAllAsTouched()}getChanges(){return{project_prefix:this.configForm.value.prefix.toUpperCase(),custom_task_ids_start:this.configForm.value.startFrom,custom_task_ids_display:this.displayOnTaskView}}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(l.a),a.Wb(d.Store),a.Wb(n.a),a.Wb(a.h))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-custom-task-ids-modal"]],hostAttrs:[1,"cu-custom-task-ids-modal"],inputs:{project:"project"},outputs:{projectUpdated:"projectUpdated"},decls:40,vars:16,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f;return e=$localize`:@@cu-custom-task-ids-modal__title_customize-task-id-for-project␟8dbcf08989f865d368b52f7bae3e5e645492f514␟3230966211623781601: Customize Task ID for ${"\ufffd0\ufffd"}:INTERPOLATION:
`,t=$localize`:@@cu-custom-task-ids-modal__description␟962d5ae1cbc98e26ac21ca99edcd4c78e8b568ac␟3233328073686630668: ClickUp's normal Task IDs are random and hard to remember. Custom Task IDs are short and start with any word you choose. IDs are incremented by +1 when new tasks are created. `,i=$localize`:@@common_learn-more␟1801bfa6ba6eb7a02fd61bafb37e35f5d0aebfdc␟7002955679222677443:Learn More`,a=$localize`:@@cu-custom-task-ids-modal__form-label_custom-prefix␟4fc30df75d8bf37a8f25da0e379ad4fe69603ae0␟9039589477130068411:Custom Prefix`,o=$localize`:@@cu-custom-task-ids-modal__form-label_start-index-from␟5dbb9645fa2293c223b0ec1ff10c665d78847dfc␟6846872864369506196:Start index from`,c=$localize`:@@cu-custom-task-ids-modal__form-label_show-task-id-in-task-view␟a36cfae1e4d443067c18e0964131b8a95bc382bf␟7072242037945165802:Show Task ID in the Task view`,n=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,s=$localize`:@@cu-custom-task-ids-modal__form-hint_custom-prefix␟b4eb357b29a95255e6dbef883e8bae0313b9c36c␟6060699575141463829: Ex) SALES, DEV, DESIGN `,r=$localize`:@@cu-custom-task-ids-modal__form-hint_custom-prefix-min-chars␟4298cba29a00706667a772ac22f77355964a7798␟3045936018811633161:Min. ${"\ufffd0\ufffd"}:INTERPOLATION: Character`,l=$localize`:@@cu-custom-task-ids-modal__form-error_custom-prefix-min-chars␟d23b4071a078d2edb4a74b37bb512c74cd0621ad␟6842216548212084596:Min ${"\ufffd0\ufffd"}:INTERPOLATION: characters needed`,d=$localize`:@@cu-custom-task-ids-modal__form-error_custom-prefix-max-chars␟c8fad53b963751b9c8e4f6ac2f065d392c1f9967␟6092488774101924584:Max 10 characters allowed`,u=$localize`:@@cu-custom-task-ids-modal__form-error_custom-prefix-pattern-restricted␟2a7d24e36fc357ea614e7b003d069e8dba67a525␟4917718245010008141:You cannot use CU as the custom prefix`,p=$localize`:@@cu-custom-task-ids-modal__form-error_custom-prefix-pattern-alphanum␟316c6c7d57f55661d3956d7fa03d59151f073709␟7810449911122378998:Only alpha-numeric characters allowed`,m=$localize`:@@cu-custom-task-ids-modal__form-error_numeric-values-gt-0␟6c6f1e7c7494c30bfa2397153a94106d1572b77d␟9043566104831814882: Only numeric values greater than 0 `,h=$localize`:@@cu-custom-task-ids-modal__form-hint_first-id␟1aaa17a144baa085b6fdfce3624dee421ae1ebb9␟38713276293370709: Your first ID will be ${"\ufffd0\ufffd"}:INTERPOLATION:-${"\ufffd1\ufffd"}:INTERPOLATION_1: `,b=$localize`:@@common_save-changes␟5b3075e8dc3f3921ec316b0bd83b6d14a06c1a4f␟7000649363168371045:Save changes`,g=$localize`:@@common_create␟70a67e04629f6d412db0a12d51820b480788d795␟5674286808255988565:Create`,f=$localize`:@@cu-custom-task-ids-modal__existing-custom-task-id-format␟f50b8983779a93427f22e5dab04137aba9fbc8e4␟468239877875844962: You have already created a Custom Task ID format for this Space.${"\ufffd#2\ufffd\ufffd/#2\ufffd"}:LINE_BREAK: All previously created tasks will be able to be referenced by the existing ID or the new ID.
`,[[1,"cu-custom-task-ids-modal__title"],e,[1,"cu-custom-task-ids-modal__description"],t,["target","_blank",1,"cu-custom-task-ids-modal__description-link"],i,[1,"cu-custom-task-ids-modal__form",3,"formGroup"],[1,"cu-custom-task-ids-modal__form-column"],[1,"cu-custom-task-ids-modal__form-label"],a,["placeholder","Prefix","formControlName","prefix",1,"cu-form__input","cu-custom-task-ids-modal__form-input","cu-custom-task-ids-modal__form-input_uppercase"],["class","cu-custom-task-ids-modal__form-input-help",4,"ngIf","ngIfElse"],["prefixInvalid",""],[1,"cu-custom-task-ids-modal__form-column-separator"],o,["formControlName","startFrom","inputmode","numeric",1,"cu-form__input","cu-custom-task-ids-modal__form-input"],["class","cu-custom-task-ids-modal__form-input-help cu-custom-task-ids-modal__form-input-help_error",4,"ngIf"],["class","cu-custom-task-ids-modal__form-input-help",4,"ngIf"],[1,"cu-custom-task-ids-modal__footer"],[3,"modifier","checked","onChange"],c,[1,"cu-btn","cu-btn_sm","cu-btn_grey",3,"click"],n,[1,"cu-btn","cu-btn_sm","cu-btn_spinner",3,"disabled","click"],[1,"cu-btn__text"],[4,"ngIf","ngIfElse"],["createTmpl",""],[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"],["class","cu-custom-task-ids-modal__footer-extra",4,"ngIf"],[1,"cu-custom-task-ids-modal__form-input-help"],s,["minChars",""],r,[1,"cu-custom-task-ids-modal__form-input-help","cu-custom-task-ids-modal__form-input-help_error"],[4,"ngIf"],l,d,["customPrefixPatternErrorTmpl",""],u,p,m,h,b,g,[1,"cu-custom-task-ids-modal__footer-extra"],f]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.gc(1,1),a.bc(),a.cc(2,"div",2),a.ac(3),a.gc(4,3),a.Zb(),a.cc(5,"a",4),a.gc(6,5),a.bc(),a.bc(),a.cc(7,"form",6),a.cc(8,"div",7),a.cc(9,"label",8),a.gc(10,9),a.bc(),a.Xb(11,"input",10),a.bd(12,b,7,2,"div",11),a.bd(13,w,4,3,"ng-template",null,12,a.cd),a.bc(),a.cc(15,"div",13),a.dd(16,"-"),a.bc(),a.cc(17,"div",7),a.cc(18,"label",8),a.gc(19,14),a.bc(),a.Xb(20,"input",15),a.bd(21,k,2,0,"div",16),a.bd(22,x,3,4,"div",17),a.bc(),a.bc(),a.cc(23,"div",18),a.cc(24,"div"),a.cc(25,"cu-checkbox",19),a.qc("onChange",function(){return t.displayOnTaskView=!t.displayOnTaskView}),a.gc(26,20),a.bc(),a.bc(),a.cc(27,"div"),a.cc(28,"button",21),a.qc("click",function(){return t.cancel()}),a.gc(29,22),a.bc(),a.cc(30,"button",23),a.qc("click",function(){return t.submit()}),a.cc(31,"div",24),a.bd(32,T,2,0,"ng-container",25),a.bd(33,S,2,0,"ng-template",null,26,a.cd),a.bc(),a.cc(35,"div",27),a.Xb(36,"div",28),a.Xb(37,"div",29),a.Xb(38,"div",30),a.bc(),a.bc(),a.bc(),a.bc(),a.bd(39,j,3,0,"div",31)),2&e){const e=a.Rc(14),i=a.Rc(34);a.Ib(1),a.kc(t.project.name),a.hc(1),a.Ib(6),a.Dc("formGroup",t.configForm),a.Ib(4),a.Ob("cu-custom-task-ids-modal__form-input_error",(t.configForm.controls.prefix.touched||t.project.project_prefix)&&t.configForm.controls.prefix.invalid||(null==t.configForm.controls.prefix.errors?null:t.configForm.controls.prefix.errors.maxlength)),a.Ib(1),a.Dc("ngIf",(!t.configForm.controls.prefix.touched&&!t.project.project_prefix||t.configForm.controls.prefix.valid)&&!(null!=t.configForm.controls.prefix.errors&&t.configForm.controls.prefix.errors.maxlength))("ngIfElse",e),a.Ib(8),a.Ob("cu-custom-task-ids-modal__form-input_error",t.configForm.controls.startFrom.invalid),a.Ib(1),a.Dc("ngIf",t.configForm.controls.startFrom.invalid),a.Ib(1),a.Dc("ngIf",t.configForm.valid),a.Ib(3),a.Dc("modifier","cu-checkbox__label_light")("checked",t.displayOnTaskView),a.Ib(5),a.Dc("disabled",t.loading),a.Ib(2),a.Dc("ngIf",t.project.project_prefix)("ngIfElse",i),a.Ib(7),a.Dc("ngIf",t.project.project_prefix)}},directives:[o.C,o.q,o.k,o.c,o.p,o.i,u.q,p.a],pipes:[u.n,u.B],styles:['.cu-custom-task-ids-modal{font-family:Gotham Pro,Proxima Nova,arial,serif}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-custom-task-ids-modal{font-family:var(--global-font-support)}}.cu-custom-task-ids-modal__title{text-align:center;color:#292d34;font-weight:500;font-size:24px}.dark-theme .cu-custom-task-ids-modal__title{color:#d5d6d7}.cu-custom-task-ids-modal__description{text-align:center;color:#7c828d;padding:19px 16px;font-size:12px;line-height:19px;letter-spacing:-.005em}.dark-theme .cu-custom-task-ids-modal__description{color:#d5d6d7}.cu-custom-task-ids-modal__description-link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-custom-task-ids-modal__description-link{color:var(--theme-main-color)}}.dark-theme .cu-custom-task-ids-modal__description-link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-custom-task-ids-modal__description-link{color:var(--theme-main-color)}}.cu-custom-task-ids-modal__form{display:flex}.cu-custom-task-ids-modal__form-column{flex:1}.cu-custom-task-ids-modal__form-column-separator{color:#e9ebf0;margin-top:40px;padding:0 7px}.dark-theme .cu-custom-task-ids-modal__form-column-separator{color:#1e272e}.cu-custom-task-ids-modal__form-label{color:#292d34;font-weight:500;font-size:13px;line-height:12px;margin-bottom:11px;display:inline-block}.dark-theme .cu-custom-task-ids-modal__form-label{color:#d5d6d7}.cu-custom-task-ids-modal__form-input{border:1px solid #e9ebf0;border-radius:6px;padding-left:11px;margin-bottom:9px}.dark-theme .cu-custom-task-ids-modal__form-input{border-color:#1e272e}.cu-custom-task-ids-modal__form-input_uppercase{text-transform:uppercase}.cu-custom-task-ids-modal__form-input_error,.dark-theme .cu-custom-task-ids-modal__form-input_error{border-color:#fd7179}.cu-custom-task-ids-modal__form-input-help{display:flex;justify-content:space-between;font-size:10px;line-height:10px;color:#7c828d}.dark-theme .cu-custom-task-ids-modal__form-input-help{color:#d5d6d7}.cu-custom-task-ids-modal__form-input-help_error,.dark-theme .cu-custom-task-ids-modal__form-input-help_error{color:#fd7179}.cu-custom-task-ids-modal__footer{display:flex;justify-content:space-between;align-items:center;margin-top:30px}.cu-custom-task-ids-modal__footer-extra{text-align:center;padding:16px 0;color:#000;font-weight:400;font-size:11px;line-height:18px;margin:30px -50px -50px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;background-color:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu-custom-task-ids-modal__footer-extra{background-color:var(--theme-main-color-light)}}'],encapsulation:2,changeDetection:0}),e})()},ALb9:function(e,t,i){e.exports=i.p+"google-doc.ebd1f6502e6c809174dd.svg"},BbXJ:function(e,t,i){"use strict";i.d(t,"g",function(){return n}),i.d(t,"f",function(){return g}),i.d(t,"d",function(){return f}),i.d(t,"b",function(){return _}),i.d(t,"a",function(){return v}),i.d(t,"c",function(){return y}),i.d(t,"e",function(){return w});var a=i("XIp8"),o=i("Zrce");const c={comment_assigned:{parentIndex:1,orderIndex:1,name:"Assigned comments",tooltip:"Will notify you when any comment is assigned to a team member in a task you're watching"},comment_resolved:{parentIndex:1,orderIndex:2,name:"Resolved comments"},comment_assigned_to_me:{parentIndex:1,orderIndex:3,name:"Comment assigned to me",tooltip:"Will notify you when a team member assigns you a comment"},comment_tagged:{parentIndex:1,orderIndex:4,name:"Comments I'm @mentioned in"},comment:{parentIndex:1,orderIndex:5,name:"New comments"},reaction:{parentIndex:1,orderIndex:6,name:"Reactions"},task_creation:{parentIndex:2,orderIndex:0,name:""},assignee:{parentIndex:2,orderIndex:1,name:"Assignee changes"},recur:{parentIndex:2,orderIndex:2,name:"Recurring Notifications"},status:{parentIndex:2,orderIndex:3,name:"Status changes"},assigned_to_me:{parentIndex:2,orderIndex:4,name:"Tasks assigned to me"},depends_on:{parentIndex:2,orderIndex:5,name:"Dependency: Waiting on"},dependency_of:{parentIndex:2,orderIndex:6,name:"Dependency: Blocking"},unblocked:{parentIndex:2,orderIndex:7,name:"Dependency: Unblocked"},linked_task:{parentIndex:2,orderIndex:8,name:"Dependency: Linked"},section_moved:{parentIndex:2,orderIndex:9,name:"Location changes"},content:{parentIndex:2,orderIndex:10,name:"Description updated"},description_tag:{parentIndex:2,orderIndex:11,name:"Descriptions I'm @mentioned in"},attachments:{parentIndex:2,orderIndex:12,name:"Attachment changes"},name:{parentIndex:2,orderIndex:13,name:"Task name changes"},duplicate:{parentIndex:2,orderIndex:14,name:"Merged"},checklist_items_added:{parentIndex:2,orderIndex:15,name:"Checklist items created"},checklist_item_assignee_to_me:{parentIndex:2,orderIndex:16,name:"Checklist items assigned to me"},checklist_item_resolved:{parentIndex:2,orderIndex:17,name:"Checklist item resolved"},custom_field:{parentIndex:2,orderIndex:18,name:"Custom field change"},due_date:{parentIndex:3,orderIndex:0,name:"Due Date changes"},due_date_missed:{parentIndex:3,orderIndex:1,name:"Due Date overdue",tooltip:"Send a notification as soon as the task becomes overdue"},due_date_reminder:{parentIndex:3,orderIndex:7,name:"After overdue reminder",front:"After ",middle:"overdue"},due_date_reminder2:{parentIndex:3,orderIndex:6,name:"Before Due Date reminder",front:"Before ",middle:"Due Date"},start_date_reminder:{parentIndex:3,orderIndex:5,name:"Before Start Date reminder",front:"Before ",middle:"Start Date"},due_date_summary:{parentIndex:3,orderIndex:8,name:"Daily Due Dates summary email"},start_date:{parentIndex:3,orderIndex:9,name:"Start date changes"},priority:{parentIndex:4,orderIndex:0,name:"Priority changed"},tag:{parentIndex:4,orderIndex:1,name:"Tags added"},tag_removed:{parentIndex:4,orderIndex:2,name:"Tag removed"},time_estimate:{parentIndex:4,orderIndex:3,name:"Time estimate added/changed"},time_spent:{parentIndex:4,orderIndex:4,name:"Time tracking added/changed"},points:{parentIndex:4,orderIndex:5,name:"Sprint points added/changed"},resolved_items:{parentIndex:4,orderIndex:6,name:"Incomplete warning resolved"},gh_commit:{parentIndex:5,orderIndex:0,name:"GitHub",extraFields:["gh_pull_request","gh_task_branch"]},gl_commit:{parentIndex:5,orderIndex:1,name:"GitLab",extraFields:["gl_issue","gl_merge_request","gl_task_branch"]},bb_commit:{parentIndex:5,orderIndex:2,name:"Bitbucket",extraFields:["bb_pr_created","bb_pr_updated","bb_pr_approved","bb_pr_unapproved","bb_pr_fulfilled","bb_pr_rejected","bb_issue","bb_issue_updated"]},comment_assigned_subcat:{parentIndex:6,orderIndex:0,name:"Assigned comments",tooltip:"Will notify you when any comment is assigned to a team member in a List you're watching",hideMobile:!0},comment_resolved_subcat:{parentIndex:6,orderIndex:1,name:"Resolved comments",hideMobile:!0},comment_assigned_to_me_subcat:{parentIndex:6,orderIndex:2,name:"Comment assigned to me",tooltip:"Will notify you when a team member assigns you a comment",hideMobile:!0},comment_tagged_subcat:{parentIndex:6,orderIndex:3,name:"Comments I'm @mentioned in",hideMobile:!0},description_tag_subcat:{parentIndex:6,orderIndex:4,name:"Descriptions I'm @mentioned in"},comment_subcat:{parentIndex:6,orderIndex:5,name:"New comments",hideMobile:!0},reaction_subcat:{parentIndex:6,orderIndex:6,name:"Reactions",hideMobile:!0},assignee_subcat:{parentIndex:6,orderIndex:7,name:"Assignee changes",hideMobile:!0},assigned_to_me_subcat:{parentIndex:6,orderIndex:8,name:"Lists assigned to me",hideMobile:!0},attachments_subcat:{parentIndex:6,orderIndex:9,name:"Attachment changes",hideMobile:!0},priority_subcat:{parentIndex:6,orderIndex:10,name:"Priority changed",hideMobile:!0},status_subcat:{parentIndex:6,orderIndex:11,name:"Status changed",hideMobile:!0},comment_tagged_view:{parentIndex:7,orderIndex:0,name:"Comments I'm @mentioned in",hideMobile:!0},comment_view:{parentIndex:7,orderIndex:1,name:"New comments",hideMobile:!0},reaction_view:{parentIndex:7,orderIndex:2,name:"Reactions",hideMobile:!0},reminders:{parentIndex:8,orderIndex:1,name:"Reminders",hideWeb:!0,hideEmail:!0},shared_with_me:{parentIndex:9,orderIndex:1,name:"Task Shared",hideMobile:!0,hideBrowser:!0,tooltip:"Will notify you when a team member shares a task with you"},shared_with_me_subcat:{parentIndex:9,orderIndex:2,name:"List Shared",hideMobile:!0,hideBrowser:!0,tooltip:"Will notify you when a team member shares a List with you"},shared_with_me_cat:{parentIndex:9,orderIndex:3,name:"Folder Shared",hideMobile:!0,hideBrowser:!0,tooltip:"Will notify you when a team member shares a Folder with you"},description_tag_view:{parentIndex:10,orderIndex:0,name:"Pages I'm @mentioned in"}},n={5:{value:"5 minutes"},15:{value:"15 minutes"},30:{value:"30 minutes"},60:{value:"1 hour"},120:{value:"2 hours"},180:{value:"3 hours"},360:{value:"6 hours"},480:{value:"8 hours"},720:{value:"12 hours"},1440:{value:"1 day"},2880:{value:"2 days"},4320:{value:"3 days"}},s=["due_date","due_date_missed","due_date_summary","due_date_reminder","due_date_reminder2","start_date_reminder"],r=["due_date_summary"],l=["due_date_reminder"],d=["due_date_reminder2","start_date_reminder"],u=["due_date_reminder"],p=["due_date_summary"],m=["resolved_items"],h=["comment_assigned_to_me","assigned_to_me","comment_assigned","comment","status","checklist_item_assignee_to_me","comment_tagged","task_creation","description_tag","description_tag_subcat","description_tag_view"],b={isTwentyFourHr:!1,members:{new_task_notifs:0,new_subtasks_of_followed_parents:0,new_subtask:{email_enabled:0,mobile_push:0,web_app:0,browser_enabled:0}},table:[{name:"New Tasks",options:[]},{name:"Comments",options:[]},{name:"Tasks",options:[]},{name:"Start & Due Dates",options:[]},{name:"ClickApps",options:[]},{name:"Integrations",options:[]},{name:"List Info",options:[]},{name:"Chat views",options:[]},{name:"Inbox",options:[]},{name:"Sharing",options:[]},{name:"Docs",options:[]}],chromeOrMozilla:!1,serviceWorkerHasStart:!1,serviceWorkerData:null,notificationPermission:"",startServiceWorker:!1};function g(e=Object.assign({},b),t){const i=["email_enabled","mobile_push","web_app","browser_enabled"];switch(t.type){case o.g:{const t=e.startServiceWorker;return Object.assign(Object.assign(Object.assign({},e),b),{startServiceWorker:t,table:Object(a.a)(b.table)})}case o.q:{const i=Object.keys(t.payload),a=Object.assign({},e.members);return i.forEach(e=>{void 0!==a[e]&&(a[e]=t.payload[e])}),Object.assign(Object.assign({},e),{members:a})}case o.f:{const i=t.payload;return Object.assign(Object.assign({},e),{isTwentyFourHr:i})}case o.a:{const i={};Object.keys(t.payload.member_settings).forEach(e=>{i[e]=t.payload.member_settings[e],"wait_before_push"===e&&null===i[e]&&(i[e]=0)});const o=e.isTwentyFourHr,b=Object(a.a)(e.table);return t.payload.settings.map(a.a).forEach(e=>{const t=c[e.field];t&&(e.orderIndex=t.orderIndex,e.name=t.name,e.front=t.front,e.middle=t.middle,e.extraFields=t.extraFields,e.hideMobile=t.hideMobile,e.hideEmail=t.hideEmail,e.hideWeb=t.hideWeb,e.hideBrowser=t.hideBrowser,e.tooltip=t.tooltip,h.indexOf(e.field)>=0&&(e.web_app=2),s.indexOf(e.field)>=0?(e.email_my_tasks=e.email_my_tasks||0,e.mobile_push_my_tasks=e.mobile_push_my_tasks||0,e.web_app_my_tasks=e.web_app_my_tasks||0,e.browser_my_tasks=e.browser_my_tasks||0):e.email_my_tasks>=0&&(delete e.email_my_tasks,delete e.mobile_push_my_tasks,delete e.web_app_my_tasks,delete e.browser_my_tasks),l.indexOf(e.field)>=0&&(e.hasTimeSelectorSwitcher=1),r.indexOf(e.field)>=0&&(e.dontSetAngleAndSound=1),m.indexOf(e.field)>=0&&(e.isAllwaysEmailDisable=1),d.indexOf(e.field)>=0&&((!e.minutes_after||e.minutes_after>=0)&&(e.minutes_after=-1*Number(Object.keys(n)[0])),e.timeDropdownShow=1),p.indexOf(e.field)>=0&&(e.hasTimePeriods=!0,e.time_of_day_minute||(e.time_of_day_hour||0===e.time_of_day_hour||(e.time_of_day_hour=12),e.time_of_day_minute=0),Number(e.time_of_day_hour)>=12?(e.time_half_zone=1,o||12===Number(e.time_of_day_hour)||(e.time_of_day_hour-=12)):(o||0!==Number(e.time_of_day_hour)||(e.time_of_day_hour=12),e.time_half_zone=0),1===String(e.time_of_day_minute).length&&(e.time_of_day_minute="0"+String(e.time_of_day_minute)),1===String(e.time_of_day_hour).length&&(e.time_of_day_hour="0"+String(e.time_of_day_hour))),u.indexOf(e.field)>=0&&((!e.minutes_after||e.minutes_after<=0)&&(e.minutes_after=Object.keys(n)[0]),e.timeDropdownShow=1),e.mobile_push_sound||(e.mobile_push_sound=0),-1===t.parentIndex?i[e.field]=e:b[t.parentIndex].options.push(e))}),b.forEach(e=>{e.options.sort((e,t)=>Number(e.orderIndex)<Number(t.orderIndex)?-1:1)}),Object.assign(Object.assign({},e),{table:b,members:i})}case o.v:{const i=t.payload,a=[...e.table];if((!a[i.tableIndex].options[i.rowIndex].isAllwaysEmailDisable||"email_enabled"!==i.optionIndex&&a[i.tableIndex].options[i.rowIndex].isAllwaysEmailDisable)&&a[i.tableIndex].options[i.rowIndex][i.optionIndex]<2){a[i.tableIndex].options[i.rowIndex][i.optionIndex]+=1,a[i.tableIndex].options[i.rowIndex][i.optionIndex]%=2;const e=[];[a[i.tableIndex].options[i.rowIndex].field,...a[i.tableIndex].options[i.rowIndex].extraFields||[]].forEach(t=>{const o={field:t,[i.optionIndex]:a[i.tableIndex].options[i.rowIndex][i.optionIndex]};(d.indexOf(a[i.tableIndex].options[i.rowIndex].field)>=0||u.indexOf(a[i.tableIndex].options[i.rowIndex].field)>=0)&&(o.minutes_after=a[i.tableIndex].options[i.rowIndex].minutes_after||0),"due_date_summary"===a[i.tableIndex].options[i.rowIndex].field&&(o.time_of_day_minute=Number(a[i.tableIndex].options[i.rowIndex].time_of_day_minute||0),o.time_of_day_hour=Number(a[i.tableIndex].options[i.rowIndex].time_of_day_hour||0)),e.push(o)}),t.payload.res={settings:e}}return Object.assign(Object.assign({},e),{table:a})}case o.s:{const i=t.payload;let a=i.timeKey;const o=[...e.table];o[i.tableIndex].options[i.rowIndex].minutes_after<0&&(a*=-1),o[i.tableIndex].options[i.rowIndex].minutes_after=a;const c={};return c.field=o[i.tableIndex].options[i.rowIndex].field,c.minutes_after=a,t.payload.res={settings:[c]},Object.assign({},e)}case o.y:{const i=t.payload,a=[...e.table];a[i.tableIndex].options[i.rowIndex][i.optionKey]=i.nextValue;const o={};return o.field=a[i.tableIndex].options[i.rowIndex].field,o.time_of_day_minute=Number(a[i.tableIndex].options[i.rowIndex].time_of_day_minute),o.time_of_day_hour=Number(a[i.tableIndex].options[i.rowIndex].time_of_day_hour),o.email_enabled=Number(a[i.tableIndex].options[i.rowIndex].email_enabled),1===Number(a[i.tableIndex].options[i.rowIndex].time_half_zone)?t.payload.twentyFourHr||o.time_of_day_hour<=11&&(o.time_of_day_hour+=12):t.payload.twentyFourHr||12===o.time_of_day_hour&&(o.time_of_day_hour=0),t.payload.res={settings:[o]},Object.assign(Object.assign({},e),{table:a})}case o.r:{const i=t.payload,a=[...e.table],o={};o.field=a[i.tableIndex].options[i.rowIndex].field;const c=i.optionIndex;return a[i.tableIndex].options[i.rowIndex].email_my_tasks=c,a[i.tableIndex].options[i.rowIndex].mobile_push_my_tasks=c,a[i.tableIndex].options[i.rowIndex].web_app_my_tasks=c,a[i.tableIndex].options[i.rowIndex].browser_my_tasks=c,o.email_my_tasks=c,o.mobile_push_my_tasks=c,o.web_app_my_tasks=c,o.browser_my_tasks=c,t.payload.res={settings:[o]},Object.assign(Object.assign({},e),{table:a})}case o.x:{const i=t.payload,a=[...e.table];a[i.tableIndex].options[i.rowIndex].mobile_push_sound+=1,a[i.tableIndex].options[i.rowIndex].mobile_push_sound%=2;const o=[a[i.tableIndex].options[i.rowIndex].field,...a[i.tableIndex].options[i.rowIndex].extraFields||[]];return t.payload.res={settings:o.map(e=>({field:e,mobile_push_sound:a[i.tableIndex].options[i.rowIndex].mobile_push_sound}))},Object.assign(Object.assign({},e),{table:a})}case o.I:return Object.assign({},e);case o.u:{const a=t.payload,o=[...e.table];let c=[];if(a.res)c=a.res;else{let e=1;const t={};i.forEach(t=>{if(!o[a.tableIndex].options[a.rowIndex].dontSetAngleAndSound&&(!o[a.tableIndex].options[a.rowIndex].isAllwaysEmailDisable||o[a.tableIndex].options[a.rowIndex].isAllwaysEmailDisable&&"email_enabled"!==t)&&(e*=Number(o[a.tableIndex].options[a.rowIndex][t]),0===e))return!1}),e>1&&(e=1),e=(e+1)%2,i.forEach(i=>{Number(o[a.tableIndex].options[a.rowIndex][i])<2&&(o[a.tableIndex].options[a.rowIndex][i]=e,t[i]=e)}),(d.indexOf(o[a.tableIndex].options[a.rowIndex].field)>=0||u.indexOf(o[a.tableIndex].options[a.rowIndex].field)>=0)&&(t.minutes_after=o[a.tableIndex].options[a.rowIndex].minutes_after||0),[o[a.tableIndex].options[a.rowIndex].field,...o[a.tableIndex].options[a.rowIndex].extraFields||[]].forEach(e=>{c.push(Object.assign(Object.assign({},t),{field:e}))})}return t.payload.res={settings:c},Object.assign(Object.assign({},e),{table:o})}case o.t:{const i=t.payload;let a=1;const o=[],c=[...e.table];return c[i.tableIndex].options.forEach(e=>{if(!e[i.optionName].dontSetAngleAndSound&&(a*=Number(e[i.optionName]),0===a))return!1}),a>1&&(a=1),c[i.tableIndex].options.forEach((e,n)=>{(c[i.tableIndex].options[n][i.optionName]<2&&!c[i.tableIndex].options[n].dontSetAngleAndSound||c[i.tableIndex].options[n][i.optionName]<2&&"due_date_summary"===c[i.tableIndex].options[n].field)&&(c[i.tableIndex].options[n][i.optionName]=(a+1)%2,[c[i.tableIndex].options[n].field,...c[i.tableIndex].options[n].extraFields||[]].forEach(e=>{const t={field:e};t[i.optionName]=c[i.tableIndex].options[n][i.optionName],o.push(t)})),t.payload.res={settings:o}}),Object.assign(Object.assign({},e),{table:c})}case o.w:{const i=t.payload,a=[...e.table];let o=1;const c=[];return a[i.tableIndex].options.forEach(e=>{if(!e.dontSetAngleAndSound&&(o*=Number(e.mobile_push_sound),0===o))return!1}),o+=1,o%=2,a[i.tableIndex].options.forEach((e,t)=>{a[i.tableIndex].options[t].dontSetAngleAndSound||(a[i.tableIndex].options[t].mobile_push_sound=o,[a[i.tableIndex].options[t].field,...a[i.tableIndex].options[t].extraFields||[]].forEach(e=>{c.push({field:e,mobile_push_sound:a[i.tableIndex].options[t].mobile_push_sound})}))}),t.payload.res={settings:c},Object.assign(Object.assign({},e),{table:a})}case o.o:{if("undefined"==typeof Notification)return Object.assign(Object.assign({},e),{notificationPermission:"denied"});let t,i=!1;if("serviceWorker"in navigator){i=!0;const e=!!document.documentMode,a=!e&&!!window.StyleMedia;t=navigator.userAgent.search(/(chrome)|firefox/i)>=0&&navigator.userAgent.search(/(opr)|(electron)|(YaBrowser)/i)<0&&!e&&!a?Notification.permission:"denied"}return Object.assign(Object.assign({},e),{serviceWorkerHasStart:i,notificationPermission:t})}case o.h:{const t=!0;return Object.assign(Object.assign({},e),{startServiceWorker:t})}case o.i:{const i=JSON.parse(t.payload.notificationData);return Object.assign(Object.assign({},e),{serviceWorkerData:i})}case o.i:{const i=JSON.parse(t.payload.notificationData);return Object.assign(Object.assign({},e),{serviceWorkerData:i})}default:return e}}const f=e=>e.table,_=e=>e.notificationPermission,v=e=>e.members,y=e=>e.serviceWorkerData,w=e=>e.startServiceWorker},Bcga:function(e,t,i){"use strict";i.d(t,"U",function(){return _}),i.d(t,"p",function(){return v}),i.d(t,"r",function(){return y}),i.d(t,"q",function(){return w}),i.d(t,"W",function(){return k}),i.d(t,"X",function(){return T}),i.d(t,"n",function(){return j}),i.d(t,"z",function(){return O}),i.d(t,"e",function(){return I}),i.d(t,"j",function(){return D}),i.d(t,"N",function(){return C}),i.d(t,"P",function(){return P}),i.d(t,"I",function(){return $}),i.d(t,"y",function(){return z}),i.d(t,"u",function(){return M}),i.d(t,"w",function(){return E}),i.d(t,"x",function(){return L}),i.d(t,"s",function(){return A}),i.d(t,"R",function(){return F}),i.d(t,"S",function(){return U}),i.d(t,"Q",function(){return N}),i.d(t,"v",function(){return R}),i.d(t,"J",function(){return G}),i.d(t,"f",function(){return q}),i.d(t,"i",function(){return B}),i.d(t,"A",function(){return W}),i.d(t,"K",function(){return V}),i.d(t,"k",function(){return X}),i.d(t,"B",function(){return H}),i.d(t,"h",function(){return Y}),i.d(t,"T",function(){return Z}),i.d(t,"O",function(){return Q}),i.d(t,"F",function(){return K}),i.d(t,"E",function(){return J}),i.d(t,"G",function(){return ee}),i.d(t,"C",function(){return te}),i.d(t,"D",function(){return ie}),i.d(t,"m",function(){return ae}),i.d(t,"o",function(){return oe}),i.d(t,"V",function(){return ce}),i.d(t,"l",function(){return ne}),i.d(t,"M",function(){return se}),i.d(t,"L",function(){return re}),i.d(t,"d",function(){return le}),i.d(t,"H",function(){return de}),i.d(t,"g",function(){return ue}),i.d(t,"t",function(){return pe}),i.d(t,"ab",function(){return Le}),i.d(t,"a",function(){return Be}),i.d(t,"b",function(){return Xe}),i.d(t,"c",function(){return Xt}),i.d(t,"Y",function(){return Ht}),i.d(t,"Z",function(){return Yt});var a=i("CgHv"),o=i("GXRk"),c=i("f0Wu"),n=i.n(c),s=i("P3yg"),r=i("1Spw"),l=i("MguC"),d=i("Gj5t"),u=i("XIp8"),p=i("xWuZ"),m=i("5PTc"),h=i("uslN"),b=i("42vj"),g=i("R4vD"),f=i("ByW2");const _={id:"type",title:$localize`:@@common_type:Type`},v={id:"groupBy",title:$localize`:@@common_group-by:Group by`},y={id:"groupByVelocity",title:$localize`:@@grid-widget-data__param-item_group-by-velocity:Status group counted as completion`},w={id:"groupBy2",title:$localize`:@@common_group-by:Group by`},k={id:"xAxis",title:"X Axis"},x=Object.assign(Object.assign({},k),{title:$localize`:@@common_group-by:Group by`,validate:e=>e&&e.x_axis&&e.x_axis.unit?null:$localize`:@@grid-widget-data__param-item-msg_group-by-required:Group by field is required`}),T={id:"yAxis",title:$localize`:@@grid-widget-data__param-item_y-axis:Y Axis`},S=Object.assign(Object.assign({},T),{title:$localize`:@@common_value:Value`}),j={id:"filter",title:$localize`:@@grid-widget-data__param-item_task-filter:Task Filter`},O={id:"location",title:$localize`:@@common_location:Location`},I={id:"categories_or_subcategories",title:$localize`:@@grid-widget-data__param-item_add-folders-lists:Add Folders or Lists`},D={id:"description",title:$localize`:@@common_description:Description`},C={id:"source",title:$localize`:@@common_source:Source`},P={id:"stacked",title:$localize`:@@grid-widget-data__param-item_stacked:Stacked`},$={id:"show_average",title:$localize`:@@grid-widget-data__param-item_show-ave:Show average`},z={id:"include_subtasks",title:$localize`:@@grid-widget-data__param-item_include-subtasks:Include subtasks`},M={id:"include_archived",title:$localize`:@@grid-widget-data__param-item_include-archived:Include archived`},E={id:"show_estimate",title:$localize`:@@grid-widget-data__param-item_show-time-ests:Show Time Estimates`},L={id:"include_multiple_lists",title:$localize`:@@grid-widget-data__param-item_include-tasks-in-n-lists:Include tasks in Multiple Lists`,tooltip:$localize`:@@grid-widget-data__param-item-tooltip_include-tasks-in-n-lists:When turned on, we'll include tasks that live in Multiple Lists. Otherwise, tasks will only show up in their home (first) List.`},A={id:"show_historical_list_data",title:$localize`:@@grid-widget-data__param-item_historical-data:Show historical data`,tooltip:$localize`:@@grid-widget-data__param-item-tooltip_historical-data:When on, this will show the full scope of a Sprint even after incomplete tasks have been moved to another Sprint.`},F={id:r.d.TAG,title:$localize`:@@grid-widget-data__param-item_time-tags:Time Tags`},U={id:r.d.USER,title:$localize`:@@common_people:People`},N={id:r.d.BILLABLE,title:$localize`:@@common_billable:Billable`},R={id:"hide_caught_up",title:$localize`:@@grid-widget-data__param-item_inc-caught-up:Include caught up users`},G={id:"show_closed",title:$localize`:@@common_show-closed:Show closed`},q={id:"compare_with_previous",title:$localize`:@@grid-widget-data__param-item_compare-previous:Compare with previous`},B={id:"delta",title:$localize`:@@grid-widget-data__param-item_delta:Show changes from day to day (instead of actual values)`},W={id:"not_started",title:$localize`:@@grid-widget-data__param-item_group-by-status-type:Group by Status Type`},V={id:"show_subtask_parent_names",title:$localize`:@@common_show-subtask-parent-names:Show subtask parent names`},X={id:"display_data_type",title:$localize`:@@grid-widget-data__param-item_display-unit:Display unit`},H={id:"range",title:$localize`:@@grid-widget-data__param-item_time-range:Time range`,validate(e,t){const i=Object(s.t)(t);if(e&&e.x_axis&&e.x_axis.start&&e.x_axis.unit===s.R.Time&&i.isAfter(n()(e.x_axis.start)))return Object(s.u)(i)}},Y={id:"date_start",title:$localize`:@@common_start-date:Start Date`},Z={id:"two_groups",title:$localize`:@@common_grouping:Grouping`},Q={id:"sprint_length",title:"Sprint Length"},K={id:"range_dates_report",title:$localize`:@@grid-widget-data__param-item_time-range:Time range`,validate:e=>e&&e.range_type===s.G.rolling&&(isNaN(e.end)||e.end<1)?$localize`:@@grid-widget-data__param-item-msg_time-range-rolling-days:Rolling days must be a number greater than 0`:null},J={id:"range_dates",title:$localize`:@@grid-widget-data__param-item_time-range:Time range`,validate:(e,t)=>e&&e.x_axis&&e.x_axis.start&&e.x_axis.end?H.validate(e,t):$localize`:@@grid-widget-data__param-item-msg_time-range-required:Time range is required`},ee=Object.assign(Object.assign({},H),{id:"range_velocity"}),te=Object.assign(Object.assign({},H),{id:"range_burn"}),ie=Object.assign(Object.assign({},H),{id:"burn_range"}),ae={id:"calc_field",title:$localize`:@@common_field:Field`},oe={id:"aggregation_func",title:$localize`:@@grid-widget-data__param-item_function:Function`},ce={id:"unit",title:$localize`:@@grid-widget-data__param-item_unit:Unit`},ne={id:"embed_url_or_html",title:$localize`:@@common_embed-url:Embed URL`,validate:e=>e.view.embed_settings&&(e.view.embed_settings.url||e.view.embed_settings.html)?e.view.embed_settings.url&&!Object(m.b)(e.view.embed_settings.url)?$localize`:@@grid-widget-data__param-item-msg_embed-url-invalid:Please enter a valid URL`:void 0:$localize`:@@grid-widget-data__param-item-msg_embed-url-required:Please enter an embed URL or HTML`},se={id:"show_value",title:$localize`:@@grid-widget-data__param-item_percent-display:Display as percent`},re={id:"show_task_locations",title:$localize`:@@grid-widget-data__param-item_show-breadcrumbs:Show Breadcrumbs`},le={id:"activityFields",title:$localize`:@@grid-widget-data__param-item_activity-fields:Activity fields`},de={id:"sample_period",title:$localize`:@@grid-widget-data__param-item_sample-period:Sample period`,validate:e=>isNaN(e.sample_period)||e.sample_period<1?$localize`:@@grid-widget-data__param-item-msg_sample-period-gt-0:Sample period must be a number greater than 0`:null},ue={id:"cycle_unit",title:$localize`:@@grid-widget-data__param-item_calculate-options:Calculate Options`},pe={id:"include_active_cycle",title:$localize`:@@grid-widget-data__param-item_active-cycle:Include active cycle`},me=[_,O,k,T,v,w,j,P,$,z,M,G,L,H],he=[O,Object.assign(Object.assign({},k),{hasFilter:!0}),H,T,v,$,z,M,G,L,B,j],be=[O,K,j,M,L,V],ge=[K,Z,F,U,N,j,E,M],fe=[K,U,N,M,j],_e=[O,j,M,L,V,R],ve=[O,K,j,M,L],ye=[O,H,T,Object.assign(Object.assign({},v),{hasFilter:!0}),P,z,M,G,L,B,j],we=[O,Object.assign(Object.assign({},x),{hasFilter:!0}),S,z,M,G,L,j,se],ke=[O,Object.assign(Object.assign({},x),{hasFilter:!0}),S,z,M,G,L,j,se],xe=[O,z,M,G,L,B,j],Te=[O,Object.assign(Object.assign({},x),{hasFilter:!0}),z,M,G,L,se,j],Se=[O,z,M,L,G],je=[O,H,z,M,G,L,B,j],Oe=[O,H,de,y,z,M,L,pe,j],Ie=[C,Y,ie,Q,Object.assign(Object.assign({},T),{title:$localize`:@@grid-widget-data__param-item_work-amt:Amount of work`}),z,M,L,A,j],De=[C,H,Object.assign(Object.assign({},T),{title:$localize`:@@grid-widget-data__param-item_work-amt:Amount of work`}),z,M,L,A,j],Ce=[C,H,Object.assign(Object.assign({},T),{title:$localize`:@@grid-widget-data__param-item_work-amt:Amount of work`}),z,M,G,L,W,j],Pe=[C,ee,Object.assign(Object.assign({},T),{title:$localize`:@@grid-widget-data__param-item_work-amt:Amount of work`}),y,z,M,L,j],$e=[O,ae,oe,ce,z,M,G,L,j],ze=[O,v,z,M,G,Object.assign(Object.assign({},L),{title:$localize`:@@grid-widget-data__param-item_show-tasks-in-n-lists:Show tasks that are in multiple Lists more than once`,tooltip:$localize`:@@grid-widget-data__param-item-tooltip_show-tasks-in-n-lists:Tasks that live in multiple Lists may be shown more than once, resulting in duplicates.`}),re,j],Me=[O,z,M,G,L,re,le,j],Ee=[D],Le={id:"custom",title:$localize`:@@grid-widget-data__tmpl-item_chart:Chart`,desc:$localize`:@@grid-widget-data__tmpl-item-description_chart:Custom chart`,data:Object.assign({},s.m),params:me},Ae={location:[],filters:{fields:[],search:"",show_closed:!0,op:null},include_archived:!0,show_subtask_parent_names:!1,range_type:s.G.thisDay,x:0,y:0,rows:3,cols:6},Fe={id:"completed_report",title:$localize`:@@grid-widget-data__tmpl-item_completed-report:Completed Report`,desc:$localize`:@@common_completed-tasks-by-assignee:Tasks completed broken down by assignee.`,icon:"cu2-clipboard-2",iconColor:"#FD71AF",data:Object.assign(Object.assign({},Ae),{type:r.a.CompletedReport}),params:be},Ue={id:"worked_on_report",title:$localize`:@@common_worked-on:Worked On`,desc:$localize`:@@grid-widget-data__tmpl-item-description_worked-on:See what people have worked on determined by activity on a task`,data:Object.assign(Object.assign({},Ae),{type:r.a.WorkedOn}),icon:"cu2-clipboard-2",iconColor:"#49CCF9",params:be,paywallImage:"./assets/images/reporting/worked_on.jpg"},Ne={id:"worked_space_points",title:$localize`:@@common_workspace-points:Workspace Points`,desc:$localize`:@@common_workspace-points--description:See who's communicating efficiently, checking their tasks, and providing the most output.`,icon:"cu2-clipboard-2",iconColor:"#FFC800",data:Object.assign(Object.assign({},Ae),{type:r.a.WorkSpacePoints,cols:12}),params:ve,paywallImage:"./assets/images/reporting/team_table.jpg"},Re={id:"whose_behind",title:$localize`:@@common_whos-behind:Who's Behind`,desc:$localize`:@@common_whos-behind--description:See who's behind on notifications and overdue tasks.`,icon:"cu2-clipboard-2",iconColor:"#FD7171",data:Object.assign(Object.assign({},Ae),{type:r.a.WhoseBehind}),params:_e.filter(e=>e.id!==V.id),paywallImage:"./assets/images/reporting/behind.jpg"},Ge={id:"time_tracked",title:$localize`:@@grid-widget-data__tmpl-item_time-tracked-legacy:Time Tracked (legacy)`,desc:$localize`:@@grid-widget-data__tmpl-item-description_time-tracked:See tasks that have time tracked`,icon:"cu2-clipboard-2",iconColor:"#00B884",data:Object.assign(Object.assign({},Ae),{type:r.a.TimeTracked}),params:be,paywallImage:"./assets/images/paywall/time-tracking.svg"},qe={id:"time_reporting",title:$localize`:@@grid-widget-data__tmpl-item_time-reporting:Time Reporting`,desc:$localize`:@@grid-widget-data__tmpl-item-description_time-tracked:See tasks that have time tracked`,icon:"cu2-clipboard-2",iconColor:"#00B884",data:Object.assign(Object.assign({},Ae),{type:r.a.TimeReporting,group_by:{type:s.H.user},group_by_2:{type:null},include_archived:!1,cols:12,range_type:s.G.thisWeek}),params:ge,paywallImage:"./assets/images/paywall/time-tracking.svg"},Be=Object.assign(Object.assign({},qe.data),{pre_made:"time_reporting",title:$localize`:@@grid-widget-data__tmpl-item_time-reporting:Time Reporting`}),We={id:"billable_reporting",title:$localize`:@@grid-widget-data__tmpl-item_billable-report:Billable Report`,desc:$localize`:@@grid-widget-data__tmpl-item-description_billable-report:Track billable time entries`,icon:"cu2-clipboard-2",iconColor:"#00B884",data:Object.assign(Object.assign({},Ae),{type:r.a.TimeReporting,group_by:{type:s.H.user},group_by_2:{type:s.H.list},include_archived:!1,cols:12,filters:{fields:[{field:r.d.BILLABLE,op:"EQ"},{field:r.d.ESTIMATE,op:"NOT"}],search:"",show_closed:!0,op:null},exclude_multiple_lists:!0,range_type:s.G.thisMonth}),params:ge,paywallImage:"./assets/images/paywall/time-tracking.svg"},Ve={id:"time_sheet",title:$localize`:@@grid-widget-data__tmpl-item_timesheet:Timesheet`,desc:$localize`:@@grid-widget-data__tmpl-item-description_timesheet:See a timesheet`,icon:"cu2-clipboard-2",iconColor:"#00B884",data:Object.assign(Object.assign({},Ae),{type:r.a.TimeSheet,group_by:{type:s.H.user},group_by_2:{type:s.H.task},include_archived:!1,range_type:s.G.thisWeek,cols:12}),params:fe,paywallImage:"./assets/images/paywall/time-tracking.svg",minimumPlanId:h.f.BUSINESS},Xe=Object.assign(Object.assign({},Ve.data),{pre_made:"time_sheet",title:$localize`:@@grid-widget-data__tmpl-item_timesheet:Timesheet`}),He={id:"time_estimated",title:$localize`:@@grid-widget-data__tmpl-item_time-estimated-legacy:Time Estimated (legacy)`,desc:$localize`:@@grid-widget-data__tmpl-item-description_time-estimated-legacy:See tasks that have time estimated`,icon:"cu2-clipboard-2",iconColor:"#6bc950",data:Object.assign(Object.assign({},Ae),{type:r.a.TimeEstimated}),params:_e.filter(e=>e.id!==R.id),paywallImage:"./assets/images/paywall/time-tracking.svg"},Ye={id:"custom_line_chart",title:$localize`:@@common_chart--line:Line Chart`,desc:$localize`:@@grid-widget-data__tmpl-item-description_line-chart:Custom line chart with any data`,icon:"cu2-chart-line",iconColor:"#419AED",data:Object.assign(Object.assign({},s.m),{type:r.a.LineChart,x_axis:{unit:s.R.Time,step:s.E.day,range_type:s.G.thisMonth},visual_filter:[]}),params:ye,paywallImage:"./assets/images/paywall/dashboards/custom-line.svg"},Ze={id:"custom_bar_chart",title:$localize`:@@common_chart--bar:Bar Chart`,desc:$localize`:@@grid-widget-data__tmpl-item-description_bar-chart:Custom bar chart with any data`,icon:"cu2-chart-bar",iconColor:"#C94867",data:Object.assign(Object.assign({},s.m),{type:r.a.BarChart,stacked:!0,x_axis:{label:null,unit:null,step:s.E.day,range_type:s.G.thisMonth},group_by:{type:null}}),params:he,paywallImage:"./assets/images/paywall/dashboards/custom-bar.svg"},Qe={id:"custom_pie_chart",title:$localize`:@@common_chart--pie:Pie Chart`,desc:$localize`:@@grid-widget-data__tmpl-item-description_pie-chart:Custom pie chart with any data`,icon:"cu2-chart-pie",iconColor:"#4BB5A8",data:Object.assign(Object.assign({},s.m),{type:r.a.PieChart,x_axis:{label:null,unit:null},show_value:1}),params:we,paywallImage:"./assets/images/paywall/dashboards/custom-pie.svg"},Ke={id:"custom_battery_chart",title:$localize`:@@common_chart--battery:Battery Chart`,desc:$localize`:@@grid-widget-data__tmpl-item-description_battery-chart:Custom battery chart with any data`,icon:"cu2-battery-three-quarters",iconColor:"#7ABC52",data:Object.assign(Object.assign({},s.m),{type:r.a.BatteryChart,x_axis:{label:null,unit:null},show_value:1}),params:ke,paywallImage:"./assets/images/paywall/dashboards/custom-battery.svg"},Je={id:"statuses_burnup",title:$localize`:@@grid-widget-data__tmpl-item_burnup:Burnup`,desc:$localize`:@@grid-widget-data__tmpl-item-description_burnup:Amount of work done in a sprint`,icon:"cu2-fire",iconColor:"#FFC800",data:Object.assign(Object.assign({},s.m),{type:r.a.LineChart,group_by:{type:s.R.StatusType},x_axis:{unit:s.R.Time,range_type:s.G.range,step:s.E.day},y_axis:{unit:s.R.Tasks},target_line:{enabled:!0},x:null,y:null,visual_filter:[o.f.done,o.f.closed]}),params:De,paywallImage:"./assets/images/paywall/dashboards/burnup.svg"},et=Object.assign(Object.assign({},Je),{id:"statuses_burndown",title:$localize`:@@grid-widget-data__tmpl-item_burndown:Burndown`,desc:$localize`:@@grid-widget-data__tmpl-item-description_burndown:Amount of work left to do in a sprint`,icon:"cu2-fire",iconColor:"#ED6A41",data:Object.assign(Object.assign({},Je.data),{visual_filter:[o.f.active],target_line:null}),params:Ie,paywallImage:"./assets/images/paywall/dashboards/burndown.svg"}),tt=Object.assign(Object.assign({},Qe),{id:"statuses_pie_tasks",title:$localize`:@@grid-widget-data__tmpl-item_workload-by-status:Workload by Status`,desc:$localize`:@@grid-widget-data__tmpl-item-description_workload-by-status-pie:Display a Pie chart of your statuses usage across locations`,iconBadge:"arrow-left-bold",data:Object.assign(Object.assign({},s.m),{type:r.a.PieChart,group_by:{type:null},x_axis:{unit:s.R.Status},y_axis:{unit:s.R.Tasks}}),params:Te}),it=Object.assign(Object.assign({},Ke),{id:"statuses_battery_tasks",title:$localize`:@@grid-widget-data__tmpl-item_workload-by-status:Workload by Status`,desc:$localize`:@@grid-widget-data__tmpl-item-description_workload-by-status-breakdown:Display a breakdown of your statuses across locations`,iconBadge:"arrow-left-bold",data:Object.assign(Object.assign({},s.m),{type:r.a.BatteryChart,group_by:{type:null},x_axis:{unit:s.R.Status},y_axis:{unit:s.R.Tasks}}),params:Te}),at=Object.assign(Object.assign({},Ze),{id:"statuses_bar_tasks",title:$localize`:@@grid-widget-data__tmpl-item_workload-by-status:Workload by Status`,desc:$localize`:@@grid-widget-data__tmpl-item-description_workload-by-status-bar:Display a bar chart of your statuses usage across locations`,iconBadge:"arrow-left-bold",data:Object.assign(Object.assign({},s.m),{type:r.a.BarChart,group_by:{type:null},x_axis:{unit:s.R.Status},y_axis:{unit:s.R.Tasks}}),params:xe}),ot=Object.assign(Object.assign({},Ze),{id:"statuses_time_in_status",title:$localize`:@@common_time-in-status:Time in Status`,desc:$localize`:@@grid-widget-data__tmpl-item-description_time-in-status:See total time across multiple tasks as a bar chart`,iconBadge:"arrow-left-bold",icon:"cu2-chart-bar",data:Object.assign(Object.assign({},Ze.data),{y_axis:{unit:s.R.TimeInStatus},filters:Object.assign(Object.assign({},Ze.data.filters),{show_closed:!0}),x_axis:{unit:s.R.Status,step:s.E.day,range_type:s.G.thisMonth},compare_with_previous:!1,display_data_type:"hour"}),params:[O,H,q,X,$,z,M,L,j],minimumPlanId:h.f.BUSINESS,clickappTeamField:"time_in_status"}),ct=Object.assign(Object.assign({},Ye),{id:"statuses_line_tasks",title:$localize`:@@grid-widget-data__tmpl-item_status-over-time:Status Over Time`,desc:$localize`:@@grid-widget-data__tmpl-item-description_status-over-time:Display your status task count over time`,iconBadge:"arrow-left-bold",data:Object.assign(Object.assign({},s.m),{type:r.a.LineChart,group_by:{type:s.R.Status},x_axis:{unit:s.R.Time,range_type:s.G.thisMonth,step:s.E.week},y_axis:{unit:s.R.Tasks}}),params:je,paywallImage:"./assets/images/paywall/dashboards/statuses-over-time.svg"}),nt=Object.assign(Object.assign({},Qe),{id:"tags_pie_tasks",title:$localize`:@@common_tag-usage:Tag Usage`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tag-usage-pie:Display a pie chart of tags used across locations`,iconBadge:"cu2-tag",data:Object.assign(Object.assign({},s.m),{type:r.a.PieChart,group_by:{type:null},x_axis:{unit:s.R.Tag},y_axis:{unit:s.R.Tasks}}),params:Te}),st=Object.assign(Object.assign({},Ke),{id:"tags_battery_tasks",title:$localize`:@@common_tag-usage:Tag Usage`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tag-usage-battery:Display a Battery of tags used across locations`,iconBadge:"cu2-tag",data:Object.assign(Object.assign({},s.m),{type:r.a.BatteryChart,group_by:{type:null},x_axis:{unit:s.R.Tag},y_axis:{unit:s.R.Tasks}}),params:Te}),rt=Object.assign(Object.assign({},Ze),{id:"tags_bar_tasks",title:$localize`:@@common_tag-usage:Tag Usage`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tag-usage-bar:Display a bar chart of tags used across locations`,iconBadge:"cu2-tag",data:Object.assign(Object.assign({},s.m),{type:r.a.BarChart,group_by:{type:null},x_axis:{unit:s.R.Tag},y_axis:{unit:s.R.Tasks}}),params:xe}),lt=Object.assign(Object.assign({},Ye),{id:"tags_line_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tag-usage-over-time:Tag Usage Over Time`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tag-usage-over-time:Display your tag usage across locations over time`,iconBadge:"cu2-tag",data:Object.assign(Object.assign({},s.m),{type:r.a.LineChart,group_by:{type:s.R.Tag},x_axis:{unit:s.R.Time,range_type:s.G.thisMonth,step:s.E.week},y_axis:{unit:s.R.Tasks}}),params:je,paywallImage:"./assets/images/paywall/dashboards/tags-over-time.svg"}),dt=Object.assign(Object.assign({},Qe),{id:"assignees_pie_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-by-assignee:Tasks by Assignee`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-by-assignee-pie:Display a pie chart of your total tasks by Assignee`,iconBadge:"cu2-user-circle",data:Object.assign(Object.assign({},s.m),{type:r.a.PieChart,group_by:{type:null},x_axis:{unit:s.R.Assignee},y_axis:{unit:s.R.Tasks}}),params:Te}),ut=Object.assign(Object.assign({},Ze),{id:"assignees_bar_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-by-assignee:Tasks by Assignee`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-by-assignee-bar:Display a bar graph of your total tasks by Assignee`,iconBadge:"cu2-user-circle",data:Object.assign(Object.assign({},s.m),{type:r.a.BarChart,group_by:{type:null},x_axis:{unit:s.R.Assignee},y_axis:{unit:s.R.Tasks}}),params:xe}),pt=Object.assign(Object.assign({},Ke),{id:"assignees_baterry_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-by-assignee:Tasks by Assignee`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-by-assignee-battery:Display a battery of your total tasks by Assignee`,iconBadge:"cu2-user-circle",data:Object.assign(Object.assign({},s.m),{type:r.a.BatteryChart,group_by:{type:null},x_axis:{unit:s.R.Assignee},y_axis:{unit:s.R.Tasks}}),params:Te}),mt=Object.assign(Object.assign({},Qe),{id:"priority_pie_tasks",title:$localize`:@@common_priority-breakdown:Priority Breakdown`,desc:$localize`:@@grid-widget-data__tmpl-item-description_priority-breakdown-pie:Display a pie chart of tasks broken down by priority`,iconBadge:"priorities",data:Object.assign(Object.assign({},s.m),{type:r.a.PieChart,group_by:{type:null},x_axis:{unit:s.R.Priority},y_axis:{unit:s.R.Tasks}}),params:Te}),ht=Object.assign(Object.assign({},Ke),{id:"priority_battery_tasks",title:$localize`:@@common_priority-breakdown:Priority Breakdown`,desc:$localize`:@@grid-widget-data__tmpl-item-description_priority-breakdown-battery:Display a battery of tasks broken down by priority`,iconBadge:"priorities",data:Object.assign(Object.assign({},s.m),{type:r.a.BatteryChart,group_by:{type:null},x_axis:{unit:s.R.Priority},y_axis:{unit:s.R.Tasks}}),params:Te}),bt=Object.assign(Object.assign({},Ze),{id:"priority_bar_tasks",title:$localize`:@@common_priority-breakdown:Priority Breakdown`,desc:$localize`:@@grid-widget-data__tmpl-item-description_priority-breakdown-bar:Display a bar graph of tasks broken down by priority`,iconBadge:"priorities",data:Object.assign(Object.assign({},s.m),{type:r.a.BarChart,group_by:{type:null},x_axis:{unit:s.R.Priority},y_axis:{unit:s.R.Tasks}}),params:xe}),gt=Object.assign(Object.assign({},Ye),{id:"priority_line_tasks",title:$localize`:@@grid-widget-data__tmpl-item_priority-over-time:Priority Over Time`,desc:$localize`:@@grid-widget-data__tmpl-item-description_priority-over-time:See your priority over time`,iconBadge:"priorities",data:Object.assign(Object.assign({},s.m),{type:r.a.LineChart,group_by:{type:s.R.Priority},x_axis:{unit:s.R.Time,range_type:s.G.thisMonth,step:s.E.day},y_axis:{unit:s.R.Tasks}}),params:je,paywallImage:"./assets/images/paywall/dashboards/priority-over-time.svg"}),ft={id:"acumulative_flow",title:$localize`:@@common_cumulative-flow:Cumulative Flow`,desc:$localize`:@@grid-widget-data__tmpl-item-description_cumulative-flow:Amount of work at each stage in sprints`,icon:"cu2-chart-area",iconColor:"#68C660",data:Object.assign(Object.assign({},s.m),{type:r.a.LineChart,stacked:!0,group_by:{type:s.R.StatusType},x_axis:{unit:s.R.Time,range_type:s.G.range,step:s.E.day},y_axis:{unit:s.R.Tasks}}),params:Ce,paywallImage:"./assets/images/paywall/dashboards/cumulative-flow.svg"},_t=Object.assign(Object.assign({},Ze),{id:"velocity",title:$localize`:@@grid-widget-data__tmpl-item_velocity-chart:Velocity Chart`,desc:$localize`:@@grid-widget-data__tmpl-item-description_velocity-chart:Total amount of work done in two or more sprints`,data:Object.assign(Object.assign({},Ze.data),{show_average:!0,stacked:!0,group_by:{type:s.R.DateDone},group_by_2:{type:s.R.Subcategory},x_axis:{unit:s.R.Time,range_type:s.G.last7d,step:s.E.week},filters:Object.assign(Object.assign({},Ze.data.filters),{show_closed:!0}),include_archived:!0}),params:Pe,paywallImage:"./assets/images/paywall/dashboards/velocity.svg"}),vt={id:"custom_calculation",title:$localize`:@@common_calculation:Calculation`,desc:$localize`:@@grid-widget-data__tmpl-item-description_calculation:Calculate sums, averages, and so much more for your tasks`,icon:"cu2-square-root-alt",iconColor:"#58AA6A",data:Object.assign(Object.assign({},s.m),{type:r.a.Calculation,calculation:{field:s.R.TaskCount,func:s.c.sum,unit:"",unit_side:r.e.Left}}),params:$e,paywallImage:"./assets/images/paywall/dashboards/custom-calculation.svg"},yt={id:"custom_task_list",title:$localize`:@@grid-widget-data__tmpl-item_task-list:Task List`,desc:$localize`:@@grid-widget-data__tmpl-item-description_task-list:Create a List view using tasks from any location`,icon:"cu2-list",iconColor:"#7B68EE",data:Object.assign(Object.assign({},s.m),{type:r.a.View,view:Object(u.a)(d.Gb.find(e=>e.defaultDataViewAPIPayload.type===l.i.List).defaultDataViewAPIPayload)}),params:ze},wt={id:"custom_activity_view",title:$localize`:@@grid-widget-data__tmpl-item_activity-view:Activity view`,desc:$localize`:@@grid-widget-data__tmpl-item-description_activity-view:Create a Activity view`,icon:"cu2-view-17",iconColor:"#7B68EE",data:Object.assign(Object.assign({},s.m),{type:r.a.View,view:Object(u.a)(d.Gb.find(e=>e.defaultDataViewAPIPayload.type===l.i.Activity).defaultDataViewAPIPayload)}),params:Me},kt={id:"embed_portfolio",title:$localize`:@@grid-widget-data__tmpl-item_portfolio:Portfolio`,desc:$localize`:@@grid-widget-data__tmpl-item-description_portfolio:Categorize and track progress of Lists & Folders`,icon:"cu2-briefcase",iconColor:"#7A7DBB",data:{type:r.a.Portfolio,include_subtasks:!0,location:[],cols:12,rows:2},params:[I,z,M,Object.assign(Object.assign({},L),{title:$localize`:@@grid-widget-data__param-item_show-tasks-in-n-lists:Show tasks that are in multiple Lists more than once`,tooltip:$localize`:@@grid-widget-data__param-item-tooltip_show-tasks-in-n-lists-1:If your Portfolios contain tasks that live in multiple Lists, then enabling this may result in counting duplicates for those tasks.`})],previewImage:"./assets/images/components/grid/widgets/previewImagePortfolio.svg",paywallImage:"./assets/images/components/grid/widgets/previewImagePortfolio.svg"},xt={id:"people_chat",title:$localize`:@@common_chat:Chat`,desc:$localize`:@@grid-widget-data__tmpl-item-description_chat:A conversation widget`,icon:"cu2-view-8",iconColor:"#46ABE3",data:{type:r.a.View,cols:6,rows:2,view:Object(u.a)(d.Gb.find(e=>e.defaultDataViewAPIPayload.type===l.i.Conversation).defaultDataViewAPIPayload)},params:[],previewImage:"./assets/images/paywall/dashboards/custom-chat.png",titleRequired:!0},Tt={id:"embed_custom",title:$localize`:@@common_custom-embed:Custom Embed`,desc:$localize`:@@grid-widget-data__tmpl-item-description_custom-embed:Embed anything via URL or HTML`,icon:"cu2-view-6",iconColor:"#CD60C2",data:{type:r.a.View,cols:6,rows:2,view:Object(u.a)(d.Gb.find(e=>e.defaultDataViewAPIPayload.type===l.i.Embed).defaultDataViewAPIPayload)},params:[ne]},St=Object.assign(Object.assign({},Tt),{id:"embed_google_doc",title:$localize`:@@common_google--doc:Google Doc`,desc:$localize`:@@grid-widget-data__tmpl-item-description_google-doc:Embed a Google Document`,icon:"google-docs-symbol",iconColor:"#aeacb0"}),jt=Object.assign(Object.assign({},Tt),{id:"embed_google_sheet",title:$localize`:@@common_google--sheet:Google Sheet`,desc:$localize`:@@grid-widget-data__tmpl-item-description_google-sheet:Embed a Google Sheet`,icon:"google-sheets-symbol",iconColor:"#aeacb0"}),Ot=Object.assign(Object.assign({},Tt),{id:"embed_google_slides",title:$localize`:@@common_google--slides:Google Slides`,desc:$localize`:@@grid-widget-data__tmpl-item-description_google-slides:Embed Google Slides`,icon:"google-slides-symbol",iconColor:"#aeacb0"}),It=Object.assign(Object.assign({},Tt),{id:"embed_youtube",title:$localize`:@@common_youtube:YouTube`,desc:$localize`:@@grid-widget-data__tmpl-item-description_youtube:Embed a YouTube video`,icon:"youtube-symbol_color",iconColor:"#aeacb0"}),Dt=Object.assign(Object.assign({},Tt),{id:"embed_figma",title:$localize`:@@common_figma:Figma`,desc:$localize`:@@grid-widget-data__tmpl-item-description_figma:Embed a Figma prototype`,icon:"figma-symbol_color",iconColor:"#aeacb0"}),Ct=Object.assign(Object.assign({},Tt),{id:"embed_invision",title:$localize`:@@common_invision:InVision`,desc:$localize`:@@grid-widget-data__tmpl-item-description_invision:Embed an InVision prototype`,icon:"invision-symbol_pink",iconColor:"#aeacb0"}),Pt=Object.assign(Object.assign({},Tt),{id:"embed_twitter",title:$localize`:@@common_twitter:Twitter`,desc:$localize`:@@grid-widget-data__tmpl-item-description_twitter:Embed a Twitter feed`,icon:"twitter-symbol_blue",iconColor:"#aeacb0"}),$t=Object.assign(Object.assign({},Tt),{id:"embed_typeform",title:$localize`:@@grid-widget-data__tmpl-item_typeform:TypeForm`,desc:$localize`:@@grid-widget-data__tmpl-item-description_typeform:Embed a TypeForm`,icon:"typeform-symbol",iconColor:"#aeacb0"}),zt={id:"custom_description",title:$localize`:@@grid-widget-data__tmpl-item_text-block:Text Block`,desc:$localize`:@@grid-widget-data__tmpl-item-description_text-block:Add rich text, images, and even use /slash commands to add context to your Dashboards`,icon:"cu2-align-left",iconColor:"#F55858",data:Object.assign(Object.assign({},s.m),{type:r.a.Description}),params:Ee,useBlankTitleByDefault:!0},Mt=Object.assign(Object.assign({},vt),{id:"statuses_calc_open_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-in-progress-count:Number of Tasks in Progress`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-in-progress-count:See how many tasks are in progress in any location`,iconBadge:"arrow-left-bold",data:Object.assign(Object.assign({},s.m),{type:r.a.Calculation,calculation:{field:s.R.TaskCount,func:s.c.sum,unit:"tasks in progress",unit_side:r.e.Bottom},include_subtasks:!1,filters:{fields:[{field:a.S.name,op:"EQ",determinor:null,idx:1,values:[{type:"active"}]}],search:"",show_closed:!1,op:null}}),params:Se}),Et=Object.assign(Object.assign({},vt),{id:"statuses_calc_closed_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-closed-count:Number of Tasks Closed`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-closed-count:See how many tasks are closed in any location`,iconBadge:"arrow-left-bold",data:Object.assign(Object.assign({},s.m),{type:r.a.Calculation,calculation:{field:s.R.TaskCount,func:s.c.sum,unit:"tasks closed",unit_side:r.e.Bottom},include_subtasks:!1,filters:{fields:[{field:a.S.name,op:"EQ",determinor:null,idx:1,values:[{type:"closed"}]}],search:"",show_closed:!1,op:null}}),params:Se}),Lt=Object.assign(Object.assign({},vt),{id:"statuses_calc_done_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-completed-count:Number of Tasks Completed`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-completed-count:See how many tasks are done in any location`,iconBadge:"arrow-left-bold",data:Object.assign(Object.assign({},s.m),{type:r.a.Calculation,calculation:{field:s.R.TaskCount,func:s.c.sum,unit:"tasks completed",unit_side:r.e.Bottom},include_subtasks:!1,filters:{fields:[{field:a.S.name,op:"EQ",determinor:null,idx:1,values:[{type:"done"},{type:"closed"}]}],search:"",show_closed:!1,op:null}}),params:Se});function At(e){const t=Object(g.c)(e.priority);return Object.assign(Object.assign({},vt),{id:`priority_calc_${e.priority}_tasks`,title:$localize`:@@grid-widget-data__tmpl-item_tasks-with-specific-priority:Total ${t}:priorityTypeText: Tasks`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-with-specific-priority:Display the total amount of ${e.priority}:priorityText: tasks by location`,iconBadge:"priorities",data:Object.assign(Object.assign({},s.m),{type:r.a.Calculation,calculation:{field:s.R.TaskCount,func:s.c.sum,unit:t+" Tasks",unit_side:r.e.Bottom},include_subtasks:!1,filters:{fields:[{field:a.M.name,op:"EQ",determinor:null,idx:1,values:[e.id]}],search:"",show_closed:!1,op:null}}),params:Se})}const Ft=At(b.g),Ut=At(b.c),Nt=At(b.e),Rt=At(b.d),Gt=At(b.f),qt=Object.assign(Object.assign({},vt),{id:"assignee_calc_unassigned_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-unassigned-count:Total Unassigned Tasks`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-unassigned-count:See how many tasks are not assigned in any location`,iconBadge:"cu2-user-circle",data:Object.assign(Object.assign({},s.m),{type:r.a.Calculation,calculation:{field:s.R.TaskCount,func:s.c.sum,unit:"tasks",unit_side:r.e.Bottom},include_subtasks:!1,filters:{fields:[{field:a.k.name,op:"ANY",determinor:null,idx:1,values:["unassigned"]},{field:a.S.name,op:"NOT",determinor:null,idx:1,values:[{type:"done"},{type:"closed"}]}],search:"",show_closed:!1,op:f.a.And}}),params:Se}),Bt=Object.assign(Object.assign({},vt),{id:"assignee_calc_assigned_tasks",title:$localize`:@@grid-widget-data__tmpl-item_tasks-assigned-count:Total Assigned (Not Completed) Tasks`,desc:$localize`:@@grid-widget-data__tmpl-item-description_tasks-assigned-count:See how many tasks have assignees in any location`,iconBadge:"cu2-user-circle",data:Object.assign(Object.assign({},s.m),{type:r.a.Calculation,calculation:{field:s.R.TaskCount,func:s.c.sum,unit:"tasks",unit_side:r.e.Bottom},include_subtasks:!1,filters:{fields:[{field:a.k.name,op:"NOT ANY",determinor:null,idx:1,values:["unassigned"]},{field:a.S.name,op:"NOT",determinor:null,idx:1,values:[{type:"done"},{type:"closed"}]}],search:"",show_closed:!1,op:f.a.And}}),params:Se}),Wt=Object.assign(Object.assign({},Ye),{id:"cycle",title:$localize`:@@grid-widget-data__tmpl-item_cycle-time:Cycle time`,desc:$localize`:@@grid-widget-data__tmpl-item-description_cycle-time:Display a rolling average from date placed in active status`,data:Object.assign(Object.assign({},s.m),{type:r.a.LineChart,group_by:{type:s.R.DateDone},x_axis:{unit:s.R.Time,range_type:s.G.thisMonth,step:s.E.week},y_axis:{unit:s.R.cycleTime},sample_period:14}),params:Oe,paywallImage:"./assets/images/paywall/dashboards/statuses-over-time.svg"}),Vt=Object.assign(Object.assign({},Wt),{id:"lead",title:$localize`:@@common__lead-time:Lead time`,desc:$localize`:@@grid-widget-data__tmpl-item-description_lead-time:Display a rolling average from date created`,data:Object.assign(Object.assign({},Wt.data),{y_axis:{unit:s.R.leadTime}})}),Xt={id:"featured",title:$localize`:@@grid-widget-data__item-group_featured:Featured`,widgets:[yt,Object.assign(Object.assign({},tt),{disabled:!1}),Object.assign(Object.assign({},vt),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},qe),{minimumPlanId:h.f.UNLIMITED}),Object.assign(Object.assign({},kt),{disabled:!1,minimumPlanId:h.f.UNLIMITED}),Object.assign(Object.assign({},dt),{disabled:!1}),zt,Object.assign(Object.assign({},xt),{disabled:!1})]},Ht=[{id:"custom",title:"Custom",widgets:[Object.assign(Object.assign({},Ye),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},Ze),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},Qe),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},Ke),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},vt),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},kt),{disabled:!1,minimumPlanId:h.f.UNLIMITED}),zt,Object.assign(Object.assign({},xt),{disabled:!1})]},{id:"sprints",title:$localize`:@@common_sprints:Sprints`,widgets:[Object.assign(Object.assign({},Je),{minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},et),{minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},ft),{minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},_t),{minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},Wt),{minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},Vt),{minimumPlanId:h.f.BUSINESS})]},{id:"statuses",title:$localize`:@@common_statuses:Statuses`,widgets:[Object.assign(Object.assign({},tt),{disabled:!1}),Object.assign(Object.assign({},it),{disabled:!1}),Object.assign(Object.assign({},at),{disabled:!1}),Object.assign(Object.assign({},ct),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Mt,Et,Lt,ot].filter(Boolean)},{id:"tags",title:$localize`:@@common_tags:Tags`,widgets:[Object.assign(Object.assign({},nt),{disabled:!1}),Object.assign(Object.assign({},st),{disabled:!1}),Object.assign(Object.assign({},rt),{disabled:!1}),Object.assign(Object.assign({},lt),{disabled:!1,minimumPlanId:h.f.BUSINESS})]},{id:"assignees",title:$localize`:@@common_assignees:Assignees`,widgets:[Object.assign(Object.assign({},dt),{disabled:!1}),Object.assign(Object.assign({},pt),{disabled:!1}),Object.assign(Object.assign({},ut),{disabled:!1}),qt,Bt]},{id:"priorities",title:$localize`:@@common_priorities:Priorities`,widgets:[Object.assign(Object.assign({},mt),{disabled:!1}),Object.assign(Object.assign({},ht),{disabled:!1}),Object.assign(Object.assign({},bt),{disabled:!1}),Object.assign(Object.assign({},gt),{disabled:!1,minimumPlanId:h.f.BUSINESS}),Ft,Ut,Nt,Rt,Gt]},{id:"time-tracking",title:$localize`:@@common_time-tracking:Time Tracking`,widgets:[Object.assign(Object.assign({},qe),{minimumPlanId:h.f.UNLIMITED}),Object.assign(Object.assign({},Ve),{minimumPlanId:h.f.BUSINESS}),Object.assign(Object.assign({},We),{minimumPlanId:h.f.UNLIMITED}),Object.assign(Object.assign({},He),{disabled:!1,minimumPlanId:h.f.UNLIMITED}),Object.assign(Object.assign({},Ge),{disabled:!1,minimumPlanId:h.f.UNLIMITED})]},{id:"reports",title:$localize`:@@grid-widget-data__item-group_tables:Tables`,widgets:[yt,Object.assign(Object.assign({},Fe),{disabled:!1}),Object.assign(Object.assign({},Ue),{disabled:!1,minimumPlanId:h.f.UNLIMITED}),Object.assign(Object.assign({},Ne),{disabled:!1,minimumPlanId:h.f.UNLIMITED}),Object.assign(Object.assign({},Re),{disabled:!1,minimumPlanId:h.f.UNLIMITED}),wt]},{id:"embed",title:$localize`:@@common_embed:Embed`,widgets:[Object.assign(Object.assign({},Tt),{disabled:!1}),Object.assign(Object.assign({},St),{disabled:!1}),Object.assign(Object.assign({},jt),{disabled:!1}),Object.assign(Object.assign({},Ot),{disabled:!1}),Object.assign(Object.assign({},It),{disabled:!1}),Object.assign(Object.assign({},Dt),{disabled:!1}),Object.assign(Object.assign({},Ct),{disabled:!1}),Object.assign(Object.assign({},Pt),{disabled:!1}),Object.assign(Object.assign({},$t),{disabled:!1})]}],Yt=Object(p.a)(Ht.map(e=>e.widgets)).reduce((e,t)=>(e[t.id]=t,e),{})},BeWh:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("2p4s"),o=i("fXoL"),c=i("tk/3"),n=i("irDL");let s=(()=>{class e{constructor(e,t){this.http=e,this.errorHandler=t,this.apiUrl=a.a.apiUrl}getPortfolios(e){return this.http.get(`${this.apiUrl}/team/${e}/portfolio`).pipe(this.errorHandler.http())}getPortfolio(e,t,i,a){return this.http.get(`${this.apiUrl}/team/${e}/portfolio/${t}`,{params:Object.assign({pretty_id:String(i),include_categories:"true"},a?{page:"true",last_orderindex:void 0!==a.lastOrderIndex?String(a.lastOrderIndex):void 0,last_sort_id:a.lastSortId,count:String(a.count)}:{})}).pipe(this.errorHandler.http())}createPortfolio(e,t){return this.http.post(`${this.apiUrl}/team/${e}/portfolio`,t,{params:{include_categories:"true"}}).pipe(this.errorHandler.http())}updatePortfolio(e,t,i){return this.http.put(`${this.apiUrl}/team/${e}/portfolio/${t}`,i,{params:{include_categories:"true"}}).pipe(this.errorHandler.http())}deletePortfolio(e,t){return this.http.delete(`${this.apiUrl}/team/${e}/portfolio/${t}`).pipe(this.errorHandler.http())}editPortfolioSubcategory(e,t,i){return this.http.put(`${this.apiUrl}/portfolio/${e}/subcategory/${t}`,i).pipe(this.errorHandler.http())}editPortfolioCategory(e,t,i){return this.http.put(`${this.apiUrl}/portfolio/${e}/category/${t}`,i).pipe(this.errorHandler.http())}}return e.\u0275fac=function(t){return new(t||e)(o.nc(c.b),o.nc(n.a))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},C2Xg:function(e,t,i){e.exports=i.p+"gist.0fe4196f3ba6791a4bdb.svg"},CXZW:function(e,t,i){"use strict";i.d(t,"a",function(){return K}),i.d(t,"b",function(){return Z}),i.d(t,"c",function(){return G});var a=i("ofXK"),o=i("fXoL"),c=i("xgIS"),n=i("VRyK"),s=i("2Vo4"),r=i("XNiG"),l=i("itXk"),d=i("Cfvw"),u=i("D0XW"),p=i("lJxs"),m=i("zp1y"),h=i("pLZG"),b=i("/uUt"),g=i("w1tV"),f=i("vkgz"),_=i("eIep"),v=i("1G5W"),y=i("CqXF"),w=i("3UWI"),k=i("SxV6"),x=i("pxpQ"),T=i("JX91"),S=i("bOdf");const j=["selectBox"],O=["*"],I={selectedClass:"selected",shortcuts:{moveRangeStart:"shift+r",disableSelection:"alt",toggleSingleItem:"meta",addToSelection:"shift",removeFromSelection:"shift+meta"}},D=e=>e&&"object"==typeof e&&!Array.isArray(e)&&null!==e;function C(e,t){return D(e)&&D(t)&&Object.keys(t).forEach(i=>{D(t[i])?(e[i]||Object.assign(e,{[i]:{}}),C(e[i],t[i])):Object.assign(e,{[i]:t[i]})}),e}const P=(e,t=5,i=5)=>e.width>t||e.height>i,$=(e,t)=>t.left<=e.x&&e.x<=t.left+t.width&&t.top<=e.y&&e.y<=t.top+t.height,z=(e,t)=>e.left<=t.left+t.width&&e.left+e.width>=t.left&&e.top<=t.top+t.height&&e.top+e.height>=t.top,M=e=>e.getBoundingClientRect(),E=e=>({x:e.clientX,y:e.clientY}),L=(e,t)=>{const{x:i,y:a}=E(e),o=document&&document.documentElement?{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}:{x:0,y:0},c=(t.boundingClientRect.width-t.clientWidth)/2;return{x:i-c-(t.boundingClientRect.left+o.x-window.pageXOffset)+t.scrollLeft,y:a-c-(t.boundingClientRect.top+o.y-window.pageYOffset)+t.scrollTop}},A=()=>e=>e.pipe(Object(b.a)((e,t)=>e&&t&&e.code===t.code));let F=(()=>{class e{constructor(e){this.platformId=e,Object(a.G)(this.platformId)&&this._initializeKeyboardStreams()}_initializeKeyboardStreams(){this.keydown$=Object(c.a)(window,"keydown").pipe(Object(g.a)()),this.keyup$=Object(c.a)(window,"keyup").pipe(Object(g.a)()),this.distinctKeydown$=this.keydown$.pipe(A(),Object(g.a)()),this.distinctKeyup$=this.keyup$.pipe(A(),Object(g.a)()),this.mouseup$=Object(c.a)(window,"mouseup").pipe(Object(g.a)()),this.mousemove$=Object(c.a)(window,"mousemove").pipe(Object(g.a)())}}return e.\u0275fac=function(t){return new(t||e)(o.nc(o.D))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac}),e})();const U=new o.s("DRAG_TO_SELECT_CONFIG"),N=new o.s("USER_CONFIG"),R=Symbol();let G=(()=>{class e{constructor(e,t,i,a){this.config=e,this.platformId=t,this.host=i,this.renderer=a,this.selected=!1,this.rangeStart=!1}get value(){return this.dtsSelectItem?this.dtsSelectItem:this}ngOnInit(){this.nativeElememnt[R]=this}ngDoCheck(){this.applySelectedClass()}toggleRangeStart(){this.rangeStart=!this.rangeStart}get nativeElememnt(){return this.host.nativeElement}getBoundingClientRect(){return Object(a.G)(this.platformId)&&!this._boundingClientRect&&this.calculateBoundingClientRect(),this._boundingClientRect}calculateBoundingClientRect(){const e=M(this.host.nativeElement);return this._boundingClientRect=e,e}_select(){this.selected=!0}_deselect(){this.selected=!1}applySelectedClass(){this.selected?this.renderer.addClass(this.host.nativeElement,this.config.selectedClass):this.renderer.removeClass(this.host.nativeElement,this.config.selectedClass)}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(U),o.Wb(o.D),o.Wb(o.m),o.Wb(o.H))},e.\u0275dir=o.Rb({type:e,selectors:[["","dtsSelectItem",""]],hostAttrs:[1,"dts-select-item"],hostVars:2,hostBindings:function(e,t){2&e&&o.Ob("dts-range-start",t.rangeStart)},inputs:{dtsSelectItem:"dtsSelectItem"},exportAs:["dtsSelectItem"]}),e})();const q={alt:!0,shift:!0,meta:!0,ctrl:!0},B=/[a-z]/,W={meta:["ctrl","meta"]},V={moveRangeStart:!0,disableSelection:!0,toggleSingleItem:!0,addToSelection:!0,removeFromSelection:!0};let X=(()=>{class e{constructor(e,t,i){if(this.platformId=e,this.keyboardEvents=i,this._shortcuts={},this._latestShortcut=new Map,this._shortcuts=this._createShortcutsFromConfig(t.shortcuts),Object(a.G)(this.platformId)){const e=this.keyboardEvents.keydown$.pipe(Object(p.a)(e=>({code:e.code,pressed:!0}))),t=this.keyboardEvents.keyup$.pipe(Object(p.a)(e=>({code:e.code,pressed:!1})));Object(n.a)(e,t).pipe(Object(b.a)((e,t)=>e.pressed===t.pressed&&e.code===t.code)).subscribe(e=>{e.pressed?this._latestShortcut.set(e.code,!0):this._latestShortcut.delete(e.code)})}}disableSelection(e){return this._isShortcutPressed("disableSelection",e)}moveRangeStart(e){return this._isShortcutPressed("moveRangeStart",e)}toggleSingleItem(e){return this._isShortcutPressed("toggleSingleItem",e)}addToSelection(e){return this._isShortcutPressed("addToSelection",e)}removeFromSelection(e){return this._isShortcutPressed("removeFromSelection",e)}extendedSelectionShortcut(e){return this.addToSelection(e)||this.removeFromSelection(e)}_createShortcutsFromConfig(e){const t={};for(const[i,a]of Object.entries(e)){if(!this._isSupportedShortcut(i))throw new Error(this._getErrorMessage(`Shortcut ${i} not supported`));a.replace(/ /g,"").split(",").forEach(e=>{t[i]||(t[i]=[]);const a=e.split("+");this._substituteKey(e,a,"meta").forEach(a=>{const o=this._isSupportedCombo(a);if(o)throw new Error(this._getErrorMessage(`Key '${o}' in shortcut ${e} not supported`));t[i].push(a.map(e=>q[e]?e+"Key":"Key"+e.toUpperCase()))})})}return t}_substituteKey(e,t,i){const a=e.includes(i),o=[];if(a){const e=t.filter(e=>"meta"!==e);W.meta.forEach(t=>{o.push([...e,t])})}else o.push(t);return o}_getErrorMessage(e){return"[ShortcutService] "+e}_isShortcutPressed(e,t){return this._shortcuts[e].some(e=>e.every(e=>this._isKeyPressed(t,e)))}_isKeyPressed(e,t){return t.startsWith("Key")?this._latestShortcut.has(t):e[t]}_isSupportedCombo(e){let t=null;return e.forEach(e=>{q[e]||B.test(e)&&!this._isSingleChar(e)||(t=e)}),t}_isSingleChar(e){return e.length>1}_isSupportedShortcut(e){return V[e]}}return e.\u0275fac=function(t){return new(t||e)(o.nc(o.D),o.nc(U),o.nc(F))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac}),e})();var H=function(e){return e[e.Add=0]="Add",e[e.Remove=1]="Remove",e}({}),Y=function(e){return e[e.Add=0]="Add",e[e.Delete=1]="Delete",e[e.None=2]="None",e}({});let Z=(()=>{class e{constructor(e,t,i,a,c,n){this.platformId=e,this.shortcuts=t,this.keyboardEvents=i,this.hostElementRef=a,this.renderer=c,this.ngZone=n,this.selectOnDrag=!0,this.disabled=!1,this.disableDrag=!1,this.disableRangeSelection=!1,this.selectMode=!1,this.selectWithShortcut=!1,this.custom=!1,this.selectedItemsChange=new o.o,this.select=new o.o,this.itemSelected=new o.o,this.itemDeselected=new o.o,this.selectionStarted=new o.o,this.selectionEnded=new o.o,this._tmpItems=new Map,this._selectedItems$=new s.a([]),this._selectableItems=[],this.updateItems$=new r.a,this.destroy$=new r.a,this._lastRange=[-1,-1],this._lastStartIndex=void 0,this._newRangeStart=!1,this._lastRangeSelection=new Map}ngAfterViewInit(){if(Object(a.G)(this.platformId)){this.host=this.hostElementRef.nativeElement,this._initSelectedItemsChange(),this._calculateBoundingClientRect(),this._observeBoundingRectChanges(),this._observeSelectableItems();const t=this.keyboardEvents.mouseup$.pipe(Object(h.a)(()=>!this.disabled),Object(f.a)(()=>this._onMouseUp()),Object(g.a)()),i=this.keyboardEvents.mousemove$.pipe(Object(h.a)(()=>!this.disabled),Object(g.a)()),a=Object(c.a)(this.host,"mousedown").pipe(Object(h.a)(e=>0===e.button),Object(h.a)(()=>!this.disabled),Object(f.a)(e=>this._onMouseDown(e)),Object(g.a)()),o=a.pipe(Object(h.a)(e=>!this.shortcuts.disableSelection(e)),Object(h.a)(()=>!this.selectMode),Object(h.a)(()=>!this.disableDrag),Object(_.a)(()=>i.pipe(Object(v.a)(t))),Object(g.a)()),s=a.pipe(Object(p.a)(e=>L(e,this.host))),r=o.pipe(Object(y.a)(1)),d=t.pipe(Object(y.a)(0)),u=Object(n.a)(r,d).pipe(Object(b.a)()),x=Object(l.a)([o,u,s]).pipe((e=this.host,t=>t.pipe(Object(p.a)(([t,i,{x:a,y:o}])=>{const c=L(t,e),n=i>0?c.x-a:0,s=i>0?c.y-o:0;return{top:s<0?c.y:o,left:n<0?c.x:a,width:Math.abs(n),height:Math.abs(s),opacity:i}}))),Object(g.a)());this.selectBoxClasses$=Object(n.a)(o,t,this.keyboardEvents.distinctKeydown$,this.keyboardEvents.distinctKeyup$).pipe(Object(w.a)(16),Object(m.a)(x),Object(p.a)(([e,t])=>({"dts-adding":P(t,0,0)&&!this.shortcuts.removeFromSelection(e),"dts-removing":this.shortcuts.removeFromSelection(e)})),Object(b.a)((e,t)=>JSON.stringify(e)===JSON.stringify(t)));const T=o.pipe(Object(h.a)(()=>!this.selectOnDrag),Object(h.a)(()=>!this.selectMode),Object(h.a)(e=>this._cursorWithinHost(e)),Object(_.a)(e=>t.pipe(Object(k.a)())),Object(h.a)(e=>!this.shortcuts.disableSelection(e)&&!this.shortcuts.toggleSingleItem(e)||this.shortcuts.removeFromSelection(e))),S=x.pipe(Object(w.a)(16),Object(m.a)(i,(e,t)=>({selectBox:e,event:t})),Object(h.a)(()=>this.selectOnDrag),Object(h.a)(({selectBox:e})=>P(e)),Object(p.a)(({event:e})=>e)),j=Object(n.a)(this.keyboardEvents.distinctKeydown$,this.keyboardEvents.distinctKeyup$).pipe(Object(w.a)(16),(e=>t=>t.pipe(Object(m.a)(e),Object(h.a)(([,e])=>P(e,0,0)),Object(p.a)(([e,t])=>e)))(x),Object(f.a)(e=>{this._isExtendedSelection(e)?this._tmpItems.clear():this._flushItems()}));Object(n.a)(T,S,j).pipe(Object(v.a)(this.destroy$)).subscribe(e=>this._selectItems(e)),this.selectBoxStyles$=x.pipe(Object(p.a)(e=>({top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",opacity:e.opacity}))),this._initSelectionOutputs(a,t)}var e}ngAfterContentInit(){this._selectableItems=this.$selectableItems.toArray()}selectAll(){this.$selectableItems.forEach(e=>{this._selectItem(e)})}toggleItems(e){this._filterSelectableItems(e).subscribe(e=>this._toggleItem(e))}selectItems(e){this._filterSelectableItems(e).subscribe(e=>this._selectItem(e))}deselectItems(e){this._filterSelectableItems(e).subscribe(e=>this._deselectItem(e))}clearSelection(){this.$selectableItems.forEach(e=>{this._deselectItem(e)})}update(){this._calculateBoundingClientRect(),this.$selectableItems.forEach(e=>e.calculateBoundingClientRect())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}_filterSelectableItems(e){return Object(d.a)(this._selectableItems).pipe(Object(h.a)(t=>e(t.value)))}_initSelectedItemsChange(){this._selectedItems$.pipe(Object(w.a)(16),Object(v.a)(this.destroy$)).subscribe({next:e=>{this.selectedItemsChange.emit(e),this.select.emit(e)},complete:()=>{this.selectedItemsChange.emit([])}})}_observeSelectableItems(){this.updateItems$.pipe(Object(m.a)(this._selectedItems$),Object(v.a)(this.destroy$)).subscribe(([e,t])=>{const i=e.item;switch(e.type){case H.Add:this._addItem(i,t)&&i._select();break;case H.Remove:this._removeItem(i,t)&&i._deselect()}}),this.$selectableItems.changes.pipe(Object(m.a)(this._selectedItems$),Object(x.b)(u.b),Object(v.a)(this.destroy$)).subscribe(([e,t])=>{const i=e.toArray();this._selectableItems=i;const a=t.filter(e=>!i.includes(e.value));a.length&&a.forEach(e=>this._removeItem(e,t)),this.update()})}_observeBoundingRectChanges(){this.ngZone.runOutsideAngular(()=>{const e=Object(c.a)(window,"resize"),t=Object(c.a)(window,"scroll"),i=Object(c.a)(this.host,"scroll");Object(n.a)(e,t,i).pipe(Object(T.a)("INITIAL_UPDATE"),Object(w.a)(16),Object(v.a)(this.destroy$)).subscribe(()=>{this.update()})})}_initSelectionOutputs(e,t){var i;e.pipe(Object(h.a)(e=>this._cursorWithinHost(e)),Object(f.a)(()=>this.selectionStarted.emit()),(i=t.pipe(Object(k.a)()),Object(S.a)(()=>i,void 0)),Object(m.a)(this._selectedItems$),Object(p.a)(([,e])=>e),Object(v.a)(this.destroy$)).subscribe(e=>{this.selectionEnded.emit(e)})}_calculateBoundingClientRect(){this.host.boundingClientRect=M(this.host)}_cursorWithinHost(e){return((e,t)=>{const i=E(e);return $(i,M(t))})(e,this.host)}_onMouseUp(){this._flushItems(),this.renderer.removeClass(document.body,"dts-no-select")}_onMouseDown(e){if(this.shortcuts.disableSelection(e)||this.disabled)return;if((e=>{const t=e.getSelection();t&&(t.removeAllRanges?t.removeAllRanges():t.empty&&t.empty())})(window),this.disableDrag||this.renderer.addClass(document.body,"dts-no-select"),this.shortcuts.removeFromSelection(e))return;const t=E(e),[i,a]=this._getClosestSelectItem(e);let[o,c]=this._lastRange;const n=this.shortcuts.moveRangeStart(e),s=!this.shortcuts.extendedSelectionShortcut(e)||n||this.disableRangeSelection;s&&this._resetRangeStart(),s&&!this.disableRangeSelection&&(i>-1?(this._newRangeStart=!0,this._lastStartIndex=i,a.toggleRangeStart(),this._lastRangeSelection.clear()):this._lastStartIndex=-1),i>-1&&(o=Math.min(this._lastStartIndex,i),c=Math.max(this._lastStartIndex,i),this._lastRange=[o,c]),n||(this.$selectableItems.forEach((a,n)=>{const s=a.getBoundingClientRect(),r=$(t,s);if(this.shortcuts.extendedSelectionShortcut(e)&&this.disableRangeSelection)return;const l=this.shortcuts.extendedSelectionShortcut(e)&&o>-1&&c>-1&&n>=o&&n<=c&&o!==c,d=r&&!this.shortcuts.toggleSingleItem(e)&&!this.selectMode&&!this.selectWithShortcut||this.shortcuts.extendedSelectionShortcut(e)&&a.selected&&!this._lastRangeSelection.get(a)||l||r&&this.shortcuts.toggleSingleItem(e)&&!a.selected||!r&&this.shortcuts.toggleSingleItem(e)&&a.selected||r&&!a.selected&&this.selectMode||!r&&a.selected&&this.selectMode,u=!r&&!this.shortcuts.toggleSingleItem(e)&&!this.selectMode&&!this.shortcuts.extendedSelectionShortcut(e)&&!this.selectWithShortcut||this.shortcuts.extendedSelectionShortcut(e)&&i>-1||!r&&this.shortcuts.toggleSingleItem(e)&&!a.selected||r&&this.shortcuts.toggleSingleItem(e)&&a.selected||!r&&!a.selected&&this.selectMode||r&&a.selected&&this.selectMode;d?this._selectItem(a):u&&this._deselectItem(a),l&&!this._lastRangeSelection.get(a)?this._lastRangeSelection.set(a,!0):l||this._newRangeStart||a.selected||this._lastRangeSelection.delete(a)}),this.shortcuts.toggleSingleItem(e)||(this._newRangeStart=!1))}_selectItems(e){const t=M(this.$selectBox.nativeElement);this.$selectableItems.forEach((i,a)=>{this._isExtendedSelection(e)?this._extendedSelectionMode(t,i,e):(this._normalSelectionMode(t,i,e),this._lastStartIndex<0&&i.selected&&(i.toggleRangeStart(),this._lastStartIndex=a))})}_isExtendedSelection(e){return this.shortcuts.extendedSelectionShortcut(e)&&this.selectOnDrag}_normalSelectionMode(e,t,i){const a=z(e,t.getBoundingClientRect()),o=a&&!t.selected&&!this.shortcuts.removeFromSelection(i),c=!a&&t.selected&&!this.shortcuts.addToSelection(i)||a&&t.selected&&this.shortcuts.removeFromSelection(i);o?this._selectItem(t):c&&this._deselectItem(t)}_extendedSelectionMode(e,t,i){const a=z(e,t.getBoundingClientRect()),o=a&&!t.selected&&!this.shortcuts.removeFromSelection(i)&&!this._tmpItems.has(t)||a&&t.selected&&this.shortcuts.removeFromSelection(i)&&!this._tmpItems.has(t),c=!a&&t.selected&&this.shortcuts.addToSelection(i)&&this._tmpItems.has(t)||!a&&!t.selected&&this.shortcuts.removeFromSelection(i)&&this._tmpItems.has(t);if(o){t.selected?t._deselect():t._select();const e=this.shortcuts.removeFromSelection(i)?Y.Delete:this.shortcuts.addToSelection(i)?Y.Add:Y.None;this._tmpItems.set(t,e)}else c&&(this.shortcuts.removeFromSelection(i)?t._select():t._deselect(),this._tmpItems.delete(t))}_flushItems(){this._tmpItems.forEach((e,t)=>{e===Y.Add&&this._selectItem(t),e===Y.Delete&&this._deselectItem(t)}),this._tmpItems.clear()}_addItem(e,t){let i=!1;return this._hasItem(e,t)||(i=!0,t.push(e.value),this._selectedItems$.next(t),this.itemSelected.emit(e.value)),i}_removeItem(e,t){let i=!1;const a=t.indexOf(e instanceof G?e.value:e);return a>-1&&(i=!0,t.splice(a,1),this._selectedItems$.next(t),this.itemDeselected.emit(e.value)),i}_toggleItem(e){e.selected?this._deselectItem(e):this._selectItem(e)}_selectItem(e){this.updateItems$.next({type:H.Add,item:e})}_deselectItem(e){this.updateItems$.next({type:H.Remove,item:e})}_hasItem(e,t){return t.includes(e.value)}_getClosestSelectItem(e){const t=e.target.closest(".dts-select-item");let i=-1,a=null;return t&&(a=t[R],i=this._selectableItems.indexOf(a)),[i,a]}_resetRangeStart(){this._lastRange=[-1,-1];const e=this._getLastRangeSelection();e&&e.rangeStart&&e.toggleRangeStart()}_getLastRangeSelection(){return this._lastStartIndex>=0?this._selectableItems[this._lastStartIndex]:null}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(o.D),o.Wb(X),o.Wb(F),o.Wb(o.m),o.Wb(o.H),o.Wb(o.B))},e.\u0275cmp=o.Qb({type:e,selectors:[["dts-select-container"]],contentQueries:function(e,t,i){if(1&e&&o.Pb(i,G,1),2&e){let e;o.Qc(e=o.rc())&&(t.$selectableItems=e)}},viewQuery:function(e,t){if(1&e&&o.jd(j,3),2&e){let e;o.Qc(e=o.rc())&&(t.$selectBox=e.first)}},hostAttrs:[1,"dts-select-container"],hostVars:2,hostBindings:function(e,t){2&e&&o.Ob("dts-custom",t.custom)},inputs:{selectOnDrag:"selectOnDrag",disabled:"disabled",disableDrag:"disableDrag",disableRangeSelection:"disableRangeSelection",selectMode:"selectMode",selectWithShortcut:"selectWithShortcut",custom:"custom",selectedItems:"selectedItems"},outputs:{selectedItemsChange:"selectedItemsChange",select:"select",itemSelected:"itemSelected",itemDeselected:"itemDeselected",selectionStarted:"selectionStarted",selectionEnded:"selectionEnded"},exportAs:["dts-select-container"],ngContentSelectors:O,decls:5,vars:6,consts:[[1,"dts-select-box",3,"ngClass","ngStyle"],["selectBox",""]],template:function(e,t){1&e&&(o.Cc(),o.Bc(0),o.Xb(1,"div",0,1),o.vc(3,"async"),o.vc(4,"async")),2&e&&(o.Ib(1),o.Dc("ngClass",o.wc(3,2,t.selectBoxClasses$))("ngStyle",o.wc(4,4,t.selectBoxStyles$)))},directives:[a.o,a.t],pipes:[a.b],styles:["[_nghost-%COMP%]{display:block;position:relative}"]}),e})();function Q(e){return C(I,e)}let K=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[X,F,{provide:N,useValue:t},{provide:U,useFactory:Q,deps:[N]}]}}}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},CZAz:function(e,t,i){"use strict";i.d(t,"d",function(){return n}),i.d(t,"a",function(){return s}),i.d(t,"c",function(){return r}),i.d(t,"b",function(){return l}),i.d(t,"e",function(){return d});var a=i("BbXJ"),o=i("l7P3");const c=Object(o.createFeatureSelector)("notificationSettings"),n=Object(o.createSelector)(c,a.d),s=Object(o.createSelector)(c,a.a),r=Object(o.createSelector)(c,a.c),l=Object(o.createSelector)(c,a.b),d=Object(o.createSelector)(c,a.e)},Cmjk:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("ofXK"),o=i("Y+hj"),c=i("KyjD"),n=i("fXoL");let s=(()=>{class e{}return e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a]]}),e})()},"D+Sl":function(e,t,i){"use strict";i.d(t,"j",function(){return d}),i.d(t,"i",function(){return u}),i.d(t,"k",function(){return p}),i.d(t,"h",function(){return m}),i.d(t,"l",function(){return h}),i.d(t,"c",function(){return b}),i.d(t,"f",function(){return g}),i.d(t,"d",function(){return _}),i.d(t,"e",function(){return v}),i.d(t,"g",function(){return y}),i.d(t,"b",function(){return w}),i.d(t,"a",function(){return k});var a=i("4F4K"),o=i("l7P3"),c=i("+GyZ"),n=i("1Lli"),s=i("IlGD"),r=i("c3rA");const l=Object(o.createFeatureSelector)("portfolios"),d=e=>Object(o.createSelector)(l,t=>t[e]||Object(c.d)()),u=e=>Object(o.createSelector)(d(e),e=>e.portfolios.map(e=>Object.assign(Object.assign({},e),{pretty_id:String(e.pretty_id)}))),p=e=>Object(o.createSelector)(d(e),e=>e.selectedPortfolio),m=e=>Object(o.createSelector)(d(e),e=>e.loading),h=e=>Object(o.createSelector)(d(e),e=>e.teamId),b=e=>Object(o.createSelector)(d(e),e=>e.columns),g=e=>Object(o.createSelector)(d(e),e=>!!e.selectedPortfolio&&e.selectedPortfolio.show_subtasks),f=e=>Object(o.createSelector)(b(e),e=>Object.values(e).find(e=>e.sort.active)),_=e=>Object(o.createSelector)(f(e),r.isGuestTeam,(e,t)=>!!t||!!e&&!c.e.find(t=>t.id===e.id).groupRows),v=e=>Object(o.createSelector)(f(e),e=>!!e&&!!c.e.find(t=>t.id===e.id).groupRows),y=e=>Object(o.createSelector)(d(e),f(e),(e=>Object(o.createSelector)(d(e),e=>e.collapsedSortGroups))(e),r.getTeam,r.getAllProjects,a.g,(e,t,i,a,o,r)=>{if(!e.selectedPortfolio)return[];let l=e.selectedPortfolio.rows.map((t,i)=>{const n="subcategory"===t.type?t.subcategory:t.category,l="subcategory"===t.type&&t.subcategory.status?{borderLeft:t.subcategory.status.color,background:t.subcategory.status.color}:{borderLeft:"#DEDEDE",background:"#fff"},d=n.total_task_counts,u=(e,t)=>0===t?0:Math.round(e/t*100);let p;const m="subcategory"===t.type?"subcategory_"+t.id:"category_"+t.id;if(e.calculationsMap[e.selectedPortfolio.id]&&e.calculationsMap[e.selectedPortfolio.id][m]){const{fieldId:t,calculationTypeId:i,calculatedValue:a,loading:o,statuses:c}=e.calculationsMap[e.selectedPortfolio.id][m];p={field:n.fields.find(e=>e.id===t),calculationType:s.c.find(e=>e.key===i),calculatedValue:a||"0",loading:o,statuses:c}}const h={id:t.id,archived:n.archived,name:n.name,tasksComplete:n.tasks_complete,overdueTasks:n.overdue_tasks,colors:l,totalTasks:d,percentageComplete:u(n.tasks_complete,d),orderIndex:i,taskStatuses:(n.task_status_counts||[]).map(e=>({id:e.status,status:Object.assign(Object.assign({},e),{color:e.color||e.colors[0]}),percentage:u(e.count||0,d)})),calculation:p,fields:n.fields};if("subcategory"===t.type){const e=[];let i=0;return t.subcategory.milestones&&t.subcategory.milestones.all_ids&&t.subcategory.milestones.all_ids.length&&(i=t.subcategory.milestones.all_ids.length,t.subcategory.milestones.all_ids.forEach(t=>{r[t]&&e.push(r[t])})),Object.assign(Object.assign({},h),{list:t.subcategory,milestoneTasks:e,milestoneCount:i,urlSegments:["/",a.id,"v","li",n.id],type:c.b.List,path:t.subcategory.project_details.name+(t.subcategory.category_details.hidden?"":" > "+t.subcategory.category_details.name),statuses:t.subcategory.statuses})}{const e=o.find(e=>e.id===t.category.project_id),i=[];let s=0;return t.category.milestones&&t.category.milestones.all_ids&&t.category.milestones.all_ids.length&&(s=t.category.milestones.all_ids.length,t.category.milestones.all_ids.forEach(e=>{r[e]&&i.push(r[e])})),Object.assign(Object.assign({},h),{milestoneTasks:i,milestoneCount:s,category:t.category,type:c.b.Category,urlSegments:["/",a.id,"v","f",n.id],path:e&&e.name,statuses:t.category.grouped_statuses.map(e=>Object.assign(Object.assign({},e),{color:e.colors[0]}))})}});if(t){const e=c.e.find(e=>e.id===t.id);if(l=function(e,t,i){return Object(n.a)(e,[t,"orderIndex"],[i,"asc"])}(l,e.sortRowsBy,t.sort.direction),e.groupRows)return e.groupRows(l,t.sort.direction,i)}return l}),w=e=>Object(o.createSelector)(y(e),e=>e.length>0&&!e.some(e=>e.type===c.b.List)),k=e=>Object(o.createSelector)(p(e),m(e),(e,t)=>!t.more&&e&&!1===e.last_page)},DIUN:function(e,t,i){"use strict";i.d(t,"a",function(){return D});var a=i("HcPq"),o=i("c3rA"),c=i("lJxs"),n=i("zp1y"),s=i("IzEk"),r=i("MguC"),l=i("1G5W"),d=i("4zIx"),u=i("fXoL"),p=i("dTHz"),m=i("o7Ov"),h=i("un3I"),b=i("+2Ly"),g=i("Q/P0"),f=i("2Vo4"),_=i("itXk"),v=i("PBBv"),y=i("7G3y"),w=i("bV87"),k=i("l7P3"),x=i("Tm/s"),T=i("Jf2N"),S=i("jJW4"),j=i("AeD3"),O=i("ofXK");const I=["*"];let D=(()=>{class e{constructor(e,t,i,a,n,s){this.store=e,this.navService=t,this.modalService=i,this.injector=a,this.sharedData=n,this.dataService=s,this.updateSubcategory=!1,this.canDelete=!0,this.showSprints=!1,this.isSprint=!1,this.onCreateFromTemplate=new u.o,this.openMenu=new u.o,this.closeMenu=new u.o,this.rename=new u.o,this.create=new u.o,this.onNewSprint=new u.o,this.UserPermission=p.e,this.team$=this.store.select(o.getTeam),this.category$=new f.a(null),this.favorite$=Object(_.a)([this.category$,this.store.select(v.b)]).pipe(Object(c.a)(([e,t])=>({categoryFavorite:e&&t.find(t=>t.category&&t.category===e.id&&!t.current_sprint),sprintFavorite:e&&t.find(t=>t.category&&t.category===e.id&&t.current_sprint)}))),this.folderSettingsText=$localize`:@@cu-category-menu__tooltip-msg_folder_settings:Folder Settings`}ngOnInit(){}ngOnChanges(e){e.category&&this.category$.next(this.category)}archive(){this.navService.onArchive.emit({type:"project",category:this.category})}remove(){this.navService.onRemove.emit({type:"project",category:this.category})}createFromTemplate(){this.onCreateFromTemplate.emit()}edit(){this.store.select(o.getCategoriesMap).pipe(Object(n.a)(this.store.select(Object(o.getProjectById)(this.category.project_id))),Object(s.a)(1)).subscribe(([e,t])=>{const i=e[this.category.project_id],a={type:"project",project:this.category};this.projectToEdit=null,this.subcategoryToEdit=null,this.parentCategory=null,"project"===a.type&&(this.projectToEdit=(i||[]).find(e=>e.id===a.project.id)),this.updateSubcategory=a.updateSubcategory,this.openCategoryModal("Statuses",!1,t)})}openSprintSettings(){const e=this.modalService.openComponent(a.a,this.injector);e.instance.sprintSettingsType=g.c.CATEGORY,e.instance.category$.next(this.category),e.instance.onPickSprint.pipe(Object(l.a)(e.instance.destroy$)).subscribe(({numSprints:e})=>{this.newSprint(e)}),this.dataService.getCategoryById(this.category.id).subscribe(t=>e.instance.category$.next(t))}newSprint(e=0){this.onNewSprint.emit({numSprints:e})}openCategoryModal(e,t=!1,i){if(!(i=i||this.sharedData.compatCurrentProject)){if(!(this.sharedData.compatProjectList&&this.sharedData.compatProjectList.length>0))return;i=this.sharedData.compatProjectList[0]}const a=this.modalService.openComponent(d.a,this.injector,{name:"forceCreateCategory",cannotClose:t,preventExternalClick:!0,modifier:"cu-modal__create-new-space",dialogModifier:"cu-modal__dialog-space",bodyModifier:"cu-modal__body_no-min-height"});a.instance.projectId=i.id,a.instance.categoryId=this.createCategoryId,a.instance.projectToEdit=this.projectToEdit,a.instance.subcategoryToEdit=this.subcategoryToEdit,a.instance.parentCategory=this.parentCategory,a.instance.onCreateNew.pipe(Object(l.a)(a.instance.destroy$)).subscribe(e=>{this.addCategory(e)}),a.instance.onEditProject.pipe(Object(l.a)(a.instance.destroy$)).subscribe(e=>{const{project:t,changeMap:a}=e;this.editProject(t,i,a)})}editProject(e,t,i){this.modalService.close(),t?this.navService.updateCategory(e,!0,i):this.navService.updateCategory(e)}addCategory(e){let t;this.modalService.close(),this.navService.addCategory(e,!0),t=e&&(e.subcategories||[]).length?{parentId:e.subcategories[0].id,parentType:r.e.Subcategory}:{parentId:e.id,parentType:r.e.Category},this.store.dispatch(new m.hc(t))}editCustomFields(){const e={type:"category",id:this.category.id,name:this.category.name};this.modalService.openComponent(b.a,this.injector,b.a.getModalOptions(e)).instance.setEntity(e)}move(){this.navService.onMove.emit({type:"project",category:this.category})}copy(){this.navService.onCopy.emit({type:"project",category:this.category})}updateExistingTemplate(){this.store.select(Object(o.getProjectById)(this.projectId)).pipe(Object(s.a)(1)).subscribe(e=>{this.store.dispatch(new m.Oe({open:!0,parent:e,parentType:w.d.Space,initialType:w.d.Folder,itemToSave:this.category,updateExisting:!0}))})}openSaveTemplate(){this.store.select(Object(o.getProjectById)(this.projectId)).pipe(Object(s.a)(1)).subscribe(e=>{this.store.dispatch(new m.Oe({open:!0,parent:e,parentType:w.d.Space,initialType:w.d.Folder,itemToSave:this.category}))})}showSharingModal(){this.store.select(Object(o.getProjectById)(this.category.project_id)).pipe(Object(s.a)(1)).subscribe(e=>{this.store.dispatch(new m.Le("project",this.category,null,null,e))})}open(){this.menu.open()}reorder(){this.store.dispatch(new m.tg({projectId:this.category.project_id,categoryId:this.category.id}))}addFavorite(e){this.store.dispatch(Object(y.d)({category:this.category,currentSprint:e}))}removeFavorite(e){this.store.dispatch(Object(y.r)({favoriteId:e})),this.menu.close()}}return e.\u0275fac=function(t){return new(t||e)(u.Wb(k.Store),u.Wb(x.a),u.Wb(T.a),u.Wb(u.t),u.Wb(S.a),u.Wb(j.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["cu-category-menu"]],viewQuery:function(e,t){if(1&e&&u.jd(h.a,1),2&e){let e;u.Qc(e=u.rc())&&(t.menu=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&u.Ob("cu-category-menu",!0)},inputs:{category:"category",projectId:"projectId",canDelete:"canDelete",showSprints:"showSprints",isSprint:"isSprint"},outputs:{onCreateFromTemplate:"onCreateFromTemplate",openMenu:"openMenu",closeMenu:"closeMenu",rename:"rename",create:"create",onNewSprint:"onNewSprint"},features:[u.Gb],ngContentSelectors:I,decls:5,vars:18,consts:[[3,"type","target","archived","permissions","limited","newTab","canDelete","showSprints","favorite","sprintFavorite","isSprint","tooltip","openMenu","closeMenu","rename","archive","remove","create","createFromTemplate","edit","editCustomFields","move","copy","sprintSettings","newSprint","reorder","openSaveTemplate","updateExistingTemplate","showSharingModal","addFavorite","removeFavorite"]],template:function(e,t){if(1&e&&(u.Cc(),u.cc(0,"cu-nav-menu",0),u.qc("openMenu",function(){return t.openMenu.emit()})("closeMenu",function(){return t.closeMenu.emit()})("rename",function(){return t.rename.emit()})("archive",function(){return t.archive()})("remove",function(){return t.remove()})("create",function(){return t.create.emit()})("createFromTemplate",function(){return t.createFromTemplate()})("edit",function(){return t.edit()})("editCustomFields",function(){return t.editCustomFields()})("move",function(){return t.move()})("copy",function(){return t.copy()})("sprintSettings",function(){return t.openSprintSettings()})("newSprint",function(){return t.newSprint()})("reorder",function(){return t.reorder()})("openSaveTemplate",function(){return t.openSaveTemplate()})("updateExistingTemplate",function(){return t.updateExistingTemplate()})("showSharingModal",function(){return t.showSharingModal()})("addFavorite",function(e){return t.addFavorite(e.sprint)})("removeFavorite",function(e){return t.removeFavorite(e.id)}),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.Bc(4),u.bc()),2&e){let e=null,i=null,a=null;u.Dc("type","project")("target",t.category)("archived",null==t.category?null:t.category.archived)("permissions",null==t.category?null:t.category.permissions)("limited",(null==t.category?null:t.category.permission_level)!==t.UserPermission.CREATE)("newTab","/"+(null==(e=u.wc(1,12,t.team$))?null:e.id)+"/v/f/"+t.category.id+"/"+t.projectId||!1)("canDelete",t.canDelete)("showSprints",t.showSprints)("favorite",null==(i=u.wc(2,14,t.favorite$))?null:i.categoryFavorite)("sprintFavorite",null==(a=u.wc(3,16,t.favorite$))?null:a.sprintFavorite)("isSprint",t.isSprint)("tooltip",t.folderSettingsText)}},directives:[h.a],pipes:[O.b],styles:[".cu-category-menu{min-width:0}"],encapsulation:2,changeDetection:0}),e})()},DmVh:function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o});const a=["assignees","dependency_state","simple_statuses","subtasks_count","subtasks_by_status","tags","customFields","totalTimeSpent","rolledUpTimeSpent","rolledUpTimeEstimate","time_estimates_by_user","rolledUpPointsEstimate","points_by_user","followers"];function o(e){return e.loadedFields&&a.every(t=>e.loadedFields.includes(t))}},DzOF:function(e,t,i){"use strict";i.d(t,"t",function(){return _}),i.d(t,"b",function(){return y}),i.d(t,"a",function(){return w}),i.d(t,"s",function(){return k}),i.d(t,"u",function(){return x}),i.d(t,"i",function(){return T}),i.d(t,"j",function(){return S}),i.d(t,"g",function(){return j}),i.d(t,"h",function(){return O}),i.d(t,"q",function(){return I}),i.d(t,"f",function(){return D}),i.d(t,"p",function(){return C}),i.d(t,"l",function(){return P}),i.d(t,"r",function(){return $}),i.d(t,"m",function(){return z}),i.d(t,"c",function(){return M}),i.d(t,"n",function(){return E}),i.d(t,"o",function(){return L}),i.d(t,"v",function(){return A}),i.d(t,"e",function(){return F}),i.d(t,"d",function(){return U}),i.d(t,"k",function(){return R});var a=i("R4vD"),o=i("bV87"),c=i("f0Wu"),n=i("dTHz"),s=i("pHS2"),r=i("MkRQ"),l=i("26kz"),d=function(e,t){var i=[];return Object(l.a)(e,function(e,a,o){t(e,a,o)&&i.push(e)}),i},u=i("fywt"),p=i("/1FC"),m=function(e,t){return(Object(p.a)(e)?r.a:d)(e,Object(u.a)(t,3))},h=i("MguC"),b=i("x1J0"),g=i("Zss7"),f=function(e){return e[e.AS_IS=0]="AS_IS",e[e.CUSTOM=1]="CUSTOM",e}({});const _=["project","category","subcategory","task","doc","view"],v=["view","doc","task"],y=[{title:"Tasks",key:"include_tasks"},{title:"Views",key:"includeViews"},{title:"Automations",key:"automation"}],w=[{title:"Due dates",key:"dueDate"},{title:"Assignees",key:"assignees"},{title:"Start date",key:"startDate"},{title:"Attachments",key:"attachment"},{title:"Watchers",key:"followers"},{title:"Comment Attachments",key:"commentAttachment"},{title:"Keep task statuses",key:"oldStatus"},{title:"Recurring settings",key:"recurring"},{title:"Dependencies",key:"dependencies"},{title:"Tags",key:"tags"},{title:"Description",key:"content"},{title:$localize`:@@common_priority:Priority`,key:"priority"},{title:"Copy settings for Statuses",key:"statuses"},{title:$localize`:@@common_custom-fields:Custom Fields`,key:"customFields"},{title:"Time Estimate",key:"timeEstimate"},{title:"Subtasks",key:"subtask"},{title:"Checklists",key:"checklists"}],k=["Beginner","Intermediate","Advanced"],x=[{id:"title",type:b.a.Header,title:$localize`:@@common_template-center:Template Center`},{id:"browseTemplates",title:$localize`:@@common_browse-templates:Browse Templates`,icon:"template-center"},{id:"seperator",title:"",type:b.a.Separator},{id:"saveAsTemplate",title:"Save as Template",icon:"cu2-save2"},{id:"updateExistingTemplate",title:$localize`:@@common_update-existing-template:Update existing Template`,icon:"cu2-refresh"}];function T(e,t){var i,a,c,n;if(e.dataViewType=e.type,e.type=t,"string"==typeof e.template_visibility&&(e.template_visibility=parseInt(e.template_visibility,10)),e.name||(e.name="no name"),e.type===o.d.View&&(e.icon=e.dataViewType?"cu2-view-"+e.dataViewType:"template-type-view"),e.options&&e.options.count_details&&e.options.count_details.views&&e.options.count_details.views.length){const t=Object(s.a)(e.options.count_details.views,e=>e.type),i=[];for(const e in t)t.hasOwnProperty(e)&&i.push({name:N(e),type:e});e.options.count_details.viewTypes=i}if(e.options&&e.options.count_details&&e.options.count_details.statuses&&e.options.count_details.statuses.length){const t=Object(s.a)(e.options.count_details.statuses,e=>e.status_group),i=[];for(const e in t)t.hasOwnProperty(e)&&i.push(t[e]);e.options.count_details.statusGroups=i,e.options.count_details.statusGroupsExtra={}}return(null===(c=null===(a=null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.count_details)||void 0===a?void 0:a.tags)||void 0===c?void 0:c.length)&&(e.options.count_details.tags=G(e.options.count_details.tags)),(null===(n=e.images)||void 0===n?void 0:n.length)&&(e.attachments=[...e.images]),e.term="category"===e.type?"Folder":"project"===e.type?"Space":"subcategory"===e.type?"List":e.type,e}function S(e,t){const i=[];return(t&&t.role===n.f.GUEST?v:_).forEach(t=>{e[t]&&(e[t].templates&&e[t].templates.forEach(e=>{e=T(e,t)}),i.push({id:t,type:t,count:e[t].count,last_page:e[t].last_page,start_type:t,start:e[t].paging.start,templates:e[t].templates,name:"category"===t?"Folder":"project"===t?"Space":"subcategory"===t?"List":t}))}),i}function j(e,t){const i=[];return(t.role===n.f.GUEST?e.map(e=>Object.assign(Object.assign({},e),{templates:e.templates.filter(e=>v.includes(e.type))})):e).forEach(e=>{e.templates.forEach(e=>{var t,i,a;if(e.type===o.d.View&&(e.dataViewType=e.type),e.clickUp=!0,e.type===o.d.View&&(e.icon=e.dataViewType?"cu2-view-"+e.dataViewType:"template-type-view"),e.options&&e.options.count_details&&e.options.count_details.views&&e.options.count_details.views.length){const t=Object(s.a)(e.options.count_details.views,e=>e.type),i=[];for(const e in t)t.hasOwnProperty(e)&&i.push({name:N(e),type:e});e.options.count_details.viewTypes=i}if(e.options&&e.options.count_details&&e.options.count_details.statuses&&e.options.count_details.statuses.length){const t=Object(s.a)(e.options.count_details.statuses,e=>e.status_group),i=[];for(const e in t)t.hasOwnProperty(e)&&i.push(t[e]);e.options.count_details.statusGroups=i}(null===(a=null===(i=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.count_details)||void 0===i?void 0:i.tags)||void 0===a?void 0:a.length)&&(e.options.count_details.tags=G(e.options.count_details.tags)),e.term="category"===e.type?"Folder":"project"===e.type?"Space":"subcategory"===e.type?"List":e.type}),i.push({id:e.id,templates:e.templates,name:e.use_case?e.use_case:"Template Group"})}),i}function O(e,t){return e.forEach(e=>{var t,i,a;if(e.clickUp=!0,e.dataViewType=e.type,e.type===o.d.View&&(e.icon=e.dataViewType&&"view"!==e.dataViewType?"cu2-view-"+e.dataViewType:"template-type-view"),e.options&&e.options.count_details&&e.options.count_details.views&&e.options.count_details.views.length){const t=Object(s.a)(e.options.count_details.views,e=>e.type),i=[];for(const e in t)t.hasOwnProperty(e)&&i.push({name:N(e),type:e});e.options.count_details.viewTypes=i}if(e.options&&e.options.count_details&&e.options.count_details.statuses&&e.options.count_details.statuses.length){const t=Object(s.a)(e.options.count_details.statuses,e=>e.status_group),i=[];for(const e in t)t.hasOwnProperty(e)&&i.push(t[e]);e.options.count_details.statusGroups=i}(null===(a=null===(i=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.count_details)||void 0===i?void 0:i.tags)||void 0===a?void 0:a.length)&&(e.options.count_details.tags=G(e.options.count_details.tags))}),{templates:e,id:t,name:t}}function I(e){let t=0;return e.forEach(e=>{null!=e.count&&(t+=null!=e.count.count?e.count.count:e.count)}),t}function D(e,t){const i=[];return(t.role===n.f.GUEST?v:_).forEach(t=>{e[t]&&i.push({name:t,count:e[t]})}),i}function C(e,t){let i=0;return(t.role===n.f.GUEST?v:_).forEach(t=>{e[t]&&(i+=e[t])}),i}function P(e,t){if(!e)return"";let i="Import all ";if(t===o.d.Task)return"Import everything exactly as is.";for(const o in e)if(e.hasOwnProperty(o)&&"number"!=typeof e[o]&&e[o]){let e;"include_tasks"===o?e=$localize`:@@common_tasks:Tasks`:"includeViews"===o?e=$localize`:@@common_views:Views`:"priority"===o?e=$localize`:@@common_priorities:Priorities`:"oldStatus"===o?e=$localize`:@@common_old-statuses:Old Statuses`:"recurring"===o?e=$localize`:@@common_recurring-settings-1:Recurring Settings`:"followers"===o?e=$localize`:@@common_watchers:Watchers`:(e=Object(a.b)(o,!0),"s"!==e.charAt(e.length-1)&&(e=e.concat("s"))),i=i.concat(", "+e)}return i=i.concat(" as is."),i=i.replace("Import all ,","Import all"),i=i.replace(/,(?=[^,]*$)/," and "),i}function $(e){const t={dueDate:!0,startDate:!0,assignees:!0,followers:!0,subtask:!0,attachment:!0,commentAttachment:!0,statuses:!0,oldStatus:!0,tags:!0,content:!0,recurring:!0,priority:!0,dependencies:!0,checklists:!0,customFields:!0,timeEstimate:!0,includeViews:!0,automation:!0,include_tasks:!0};return e.options&&(t.attachment=e.options.attachments,t.commentAttachment=e.options.comment_attachments,t.assignees=e.options.old_assignees,t.followers=e.options.old_followers,t.dueDate=e.options.old_due_date,t.startDate=e.options.old_start_date,t.subtask=e.options.subtasks,t.statuses=e.options.old_statuses,t.oldStatus=e.options.old_status,t.tags=e.options.old_tags,t.content=e.options.content,t.checklists=e.options.old_checklists,t.recurring=e.options.recur_settings,t.priority=e.options.priority,t.dependencies=e.options.internal_dependencies||e.options.external_dependencies,t.customFields=e.options.custom_fields,t.timeEstimate=e.options.time_estimate,t.includeViews=e.options.include_views,t.automation=e.options.automation,t.include_tasks=!1!==e.options.include_tasks),t}function z(e){return w.filter(t=>"checklists"===t.key||"oldStatus"===t.key?e===o.d.Folder||e===o.d.Space||e===o.d.List||e===o.d.Task:"statuses"===t.key?e===o.d.Folder||e===o.d.Space||e===o.d.Task:"recurring"===t.key?e===o.d.Folder||e===o.d.Space||e===o.d.List||e===o.d.Task:"includeViews"===t.key?e===o.d.Folder||e===o.d.Space||e===o.d.List:"content"===t.key?e===o.d.List||e===o.d.Task:"timeEstimate"===t.key?e===o.d.Task:"automation"!==t.key||e===o.d.Folder||e===o.d.Space||e===o.d.List)}function M(){return!0}function E(e,t,i,a,n,s,r,l,d,u,p,m,h,b,g,_){const v={task_id:null,name:e.trim(),remap_start_date:i.remapStartDate,old_assignees:i.assignees,old_subtask_assignees:i.assignees,old_followers:i.followers,old_tags:i.tags,attachments:i.attachment,comment_attachments:i.commentAttachment,old_status:i.oldStatus,old_statuses:i.statuses,subtasks:i.subtask,content:i.content,old_checklists:i.checklists,recur_settings:i.recurring,priority:i.priority,internal_dependencies:i.dependencies,external_dependencies:i.dependencies,return_immediately:!0,custom_fields:i.customFields,time_estimate:i.timeEstimate,include_views:i.includeViews,automation:i.automation,template_id:t.id};switch(!1===i.include_tasks&&(v.include_tasks=!1),n===f.CUSTOM&&s?(v.due_date=s,v.due_date_time=r):(v.old_due_date=i.dueDate,v.old_start_date=i.startDate),t.clickUp&&(v.avoid_name_collision=!0,v.due_date=c().hours(4).startOf("hour").startOf("minute").valueOf(),v.due_date_time=!0,delete v.old_due_date,delete v.old_start_date),a){case o.d.Space:v.team_id=l.id,v.archived=d.no?0:d.archived?1:null,v.v2_sub_template=!0,v.old_due_date=n===f.AS_IS,v.old_start_date=n===f.AS_IS,u&&(v.skip_weekends=!0),p&&m&&(v.start_date=p),h&&b&&(v.due_date=h);break;case o.d.Folder:v.project_id=g.id,v.archived=d.no?0:d.archived?1:null,v.v2_sub_template=!0,v.old_due_date=n===f.AS_IS,v.old_start_date=n===f.AS_IS,u&&(v.skip_weekends=!0),p&&m&&(v.start_date=p),h&&b&&(v.due_date=h);break;case o.d.List:v.archived=d.no?0:d.archived?1:null,v.v2_sub_template=!0,v.old_due_date=n===f.AS_IS,v.old_start_date=n===f.AS_IS,u&&(v.skip_weekends=!0),p&&m&&(v.start_date=p),h&&b&&(v.due_date=h),g.hidden||_===o.d.Space?v.project_id=g.id:v.category_id=g.id;break;case o.d.Task:v.remap_subtask_due_dates=n===f.CUSTOM,n===f.CUSTOM&&(v.old_start_date=i.startDate),g&&(v.subcategory_id=g.id?g.id:g);break;case o.d.Checklist:v.task_id=g.id}return v}function L(e,t,i,a,c,n,s,r,l,d,u){const p={name:e,template_id:i.template?i.template.id:u||null,old_due_date:i.dueDate,old_start_date:i.startDate,old_assignees:i.assignees,old_subtask_assignees:i.assignees,old_followers:i.followers,old_statuses:i.statuses,old_status:i.oldStatus,old_tags:i.tags,attachments:i.attachment,comment_attachments:i.commentAttachment,custom_fields:i.customFields,subtasks:i.subtask,content:i.content,old_checklists:i.checklists,recur_settings:i.recurring,priority:i.priority,internal_dependencies:i.dependencies,external_dependencies:i.dependencies,return_immediately:!0,time_estimate:i.timeEstimate,include_views:i.includeViews,automation:i.automation,include_tasks:i.include_tasks};return(n&&n.length||u)&&(p.tags=n),c&&c.length&&(p.description=c),s&&s.length&&(p.template_members=s.map(e=>e.id)),t===o.d.Folder&&(p.archived=o.a.KeepArchived),t===o.d.List&&(p.archived=o.a.KeepArchived),Object.assign(Object.assign({},p),d)}function A(e,t){return t.forEach(t=>{t.type&&e[t.type]&&null!=e[t.type].count&&(null!=e[t.type].count.count?t.count+=e[t.type].count.count:t.count=e[t.type].count)}),t}function F(e,t){if(!e||!t)return null;let i=[];const a=[];let o=null;for(const c in e)e.hasOwnProperty(c)&&(i=i.concat(e[c].templates));return i.forEach(e=>{e.name===t&&a.push(e)}),a.length>1?o=a[0]:a.forEach(e=>{(!o||parseInt(e.date_created,10)>parseInt(e.date_created,10))&&(o=e)}),o}function U(e,t){if(!t)return e;const i=e.findIndex(e=>e.type===o.d.View);return-1!==i?(e[i].templates=m(e[i].templates,e=>e.dataViewType===t),e[i].count=e[i].templates.length,e):e}function N(e){return(e=parseInt(e,10))===h.i.List?"List":e===h.i.Board?"Board":e===h.i.Box?"Box":e===h.i.Calendar?"Calendar":e===h.i.Embed?"Embed":e===h.i.Gantt?"Gantt":e===h.i.Conversation?"Conversation":e===h.i.Doc?"Doc":e===h.i.Form?"Form":e===h.i.Timeline?"Timeline":e===h.i.Activity?"Activity":e===h.i.Workload?"Workload":e===h.i.MindMap?"MindMap":e===h.i.Grid?"Grid":e===h.i.Map?"Map":void 0}function R(e){return e&&e.length?(e.forEach(e=>{e.tag_fg=e.color,e.tag_bg=e.color}),e):[]}function G(e){const t=[];return e.forEach(e=>{t.push({name:(null==e?void 0:e.name)||e,color:(null==e?void 0:e.tag_bg)||g.random().toHexString()})}),t}},Eb0V:function(e,t,i){e.exports=i.p+"airtable.dad69f31849cc502fc3c.svg"},Em9N:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("qr2t"),o=i("fXoL"),c=i("jJW4"),n=i("8it8");let s=(()=>{class e{constructor(e,t,i,a){this.renderer=e,this.elm=t,this.sharedData=i,this.commonStringsService=a,this.dragActive=!1}mouseDown(e){this.doCheck&&(this.mouseDownEvent=e)}mouseMove(e){if(this.mouseDownEvent){const t=Math.abs(this.mouseDownEvent.clientX-e.clientX),i=Math.abs(this.mouseDownEvent.clientY-e.clientY);this.dragActive=t>a.b||i>a.b,this.renderer.setStyle(this.elm.nativeElement,"pointerEvents",this.dragActive?"none":null)}}mouseUp(){this.dragActive&&(this.sharedData.addToastItem({title:this.commonStringsService.dndDisabledText,description:$localize`:@@permissions_move-task-not-allowed:Whoops! You don't have permission to move this task.`}),this.renderer.setStyle(this.elm.nativeElement,"pointerEvents",null)),this.dragActive=!1,this.mouseDownEvent=null}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(o.H),o.Wb(o.m),o.Wb(c.a),o.Wb(n.a))},e.\u0275dir=o.Rb({type:e,selectors:[["","cuCalendarContentDragDisabledCheck",""]],hostBindings:function(e,t){1&e&&o.qc("mousedown.out-zone",function(e){return t.mouseDown(e)})("mousemove.out-zone",function(e){return t.mouseMove(e)},!1,o.Sc)("mouseup.out-zone",function(){return t.mouseUp()},!1,o.Sc)},inputs:{doCheck:["cuCalendarContentDragDisabledCheck","doCheck"]}}),e})()},"G/1d":function(e,t,i){"use strict";i.d(t,"p",function(){return b}),i.d(t,"u",function(){return f}),i.d(t,"i",function(){return _}),i.d(t,"e",function(){return v}),i.d(t,"q",function(){return w}),i.d(t,"w",function(){return k}),i.d(t,"x",function(){return x}),i.d(t,"r",function(){return T}),i.d(t,"D",function(){return S}),i.d(t,"E",function(){return O}),i.d(t,"t",function(){return I}),i.d(t,"y",function(){return D}),i.d(t,"a",function(){return C}),i.d(t,"A",function(){return P}),i.d(t,"v",function(){return $}),i.d(t,"z",function(){return z}),i.d(t,"G",function(){return M}),i.d(t,"H",function(){return E}),i.d(t,"s",function(){return L}),i.d(t,"h",function(){return A}),i.d(t,"F",function(){return F}),i.d(t,"j",function(){return U}),i.d(t,"k",function(){return N}),i.d(t,"l",function(){return R}),i.d(t,"d",function(){return G}),i.d(t,"C",function(){return B}),i.d(t,"B",function(){return W}),i.d(t,"o",function(){return V}),i.d(t,"g",function(){return X}),i.d(t,"b",function(){return H}),i.d(t,"c",function(){return Y}),i.d(t,"n",function(){return Z}),i.d(t,"f",function(){return Q}),i.d(t,"m",function(){return K});var a=i("ZeNw"),o=i("LN6Z"),c=i("l7P3"),n=i("dTHz"),s=i("WluX"),r=i("c3rA"),l=i("Ll/8");const d=Object(c.createFeatureSelector)("goals"),u=Object(c.createFeatureSelector)("goalsRestriction"),p=Object(c.createSelector)(u,o.a),m=Object(c.createSelector)(d,a.i),h=Object(c.createSelector)(d,a.c),b=Object(c.createSelector)(d,a.h),g=Object(c.createSelector)(d,a.g),f=Object(c.createSelector)(d,a.m),_=Object(c.createSelector)(d,a.f),v=Object(c.createSelector)(d,a.d),y=Object(c.createSelector)(d,a.e),w=Object(c.createSelector)(d,a.j),k=Object(c.createSelector)(d,a.o),x=Object(c.createSelector)(d,a.p),T=Object(c.createSelector)(d,a.k),S=Object(c.createSelector)(d,a.s),j=Object(c.createSelector)(d,a.b),O=Object(c.createSelector)(d,a.u),I=Object(c.createSelector)(d,a.l),D=Object(c.createSelector)(d,a.q),C=Object(c.createSelector)(d,a.a),P=Object(c.createSelector)(d,a.r),$=Object(c.createSelector)(d,a.n),z=Object(c.createSelector)(P,e=>{const{start:t,current:i,end:a}=e;return!i&&0!==i||!t&&0!==t||!a&&0!==a?"Whoops!  Need valid values for current, start, and goal.":a===t?"Whoops!  Goal and start values must be different":""}),M=Object(c.createSelector)(D,P,z,(e,t,i)=>{if(i||!e||!t)return!1;const{start:a,current:o,end:c,increment:n,unit:s}=t;return!!n||a!==e.steps_start||o!==e.steps_current||c!==e.steps_end||s!==e.unit}),E=Object(c.createSelector)(D,P,z,(e,t,i)=>{if(i||!e||!t)return!1;const{start:a,current:o,end:c,unit:n}=t;return a!==e.steps_start||o!==e.steps_current||c!==e.steps_end||n!==e.unit}),L=Object(c.createSelector)(m,$,f,(e,t,i)=>i.map(t=>e[t]).filter(e=>!!e&&(t?e.archived:!e.archived))),A=Object(c.createSelector)(y,_,(e,t)=>t.map(t=>e[t]).filter(e=>!!e)),F=Object(c.createSelector)(p,r.getTeam,(e,t)=>e||t.goal_usage_exceeded),U=Object(c.createSelector)(m,g,(e,t)=>{if(t)return e[t]}),N=e=>Object(c.createSelector)(m,y,(t,i)=>{if(!e)return;let a=t[e];return a||Object.entries(i).forEach(([t,i])=>{a||(a=(i.goals||[]).find(t=>t.pretty_id===e))}),a}),R=Object(c.createSelector)(y,U,(e,t)=>t&&t.folder_id?e[t.folder_id]:null),G=Object(c.createSelector)(y,v,(e,t)=>{if(t)return e[t]}),q=(e,t)=>{if(!e||!t)return"read";let i="edit";if(e&&t){const a=(t.members||[]).find(t=>t.id===e.id);a&&(i=a.permission_level)}return i},B=(e,t)=>Object(c.createSelector)(r.getUser,r.isGuestTeam,(i,a)=>i&&e&&t?q(i,e.members&&e.members.length&&(e.private||a)?e:t):"read"),W=e=>Object(c.createSelector)(r.getUser,t=>q(t,e)),V=Object(c.createSelector)(r.getUser,U,R,r.isGuestTeam,(e,t,i,a)=>q(e,i?t.members&&t.members.length&&(t.private||a)?t:i:t)),X=Object(c.createSelector)(r.getUser,G,(e,t)=>q(e,t)),H=Object(c.createSelector)(j,r.getUser,(e,t)=>{const i=Object.entries(e).map(([e,t])=>t).filter(e=>"edit"===q(t,e));return i.sort((e,t)=>{const i=e.name.toUpperCase(),a=t.name.toUpperCase();return i<a?-1:i>a?1:0}),i}),Y=Object(c.createSelector)(h,j,r.isGuestTeam,r.getUser,(e,t,i,a)=>e.filter(e=>{let o;return o=e.folder_id&&!e.folder_access?"read":q(a,e.folder_id?e.members&&e.members.length&&(e.private||i)?e:t[e.folder_id]:e),"edit"===o})),Z=e=>Object(c.createSelector)(r.getTeam,r.getUser,N(e),(e,t,i)=>{let a=!1;return t&&i&&e&&(i.creator===t.id||e.role<=n.f.ADMIN||-1!==(i.owners||[]).findIndex(e=>e.id===t.id))&&(a=!0),a}),Q=Object(c.createSelector)(r.getTeam,r.getUser,G,(e,t,i)=>{let a=!1;return t&&i&&e&&(i.creator===t.id||e.role<=n.f.ADMIN)&&(a=!0),a}),K=(e,t,i)=>{return Object(c.createSelector)(e?t?N(t):U:G,i?(a=i,Object(c.createSelector)(y,e=>{if(a)return e[a]})):R,Object(s.l)([n.f.GUEST]),r.getMembers,(t,i,a)=>{if(!t)return;const{parentMembers:o,members:c}=((e,t,i,a)=>{let o=e.members||[];a&&!e.private&&t&&(o=[...o,...t.members||[]]),o=Object(l.p)(o,"id");const c=(o||[]).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{}),s=(i||[]).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.user.id]:t}),{}),r=e.private||a&&t&&t.private?[]:i.map(e=>{let t=Object.assign({},e);return e.permission_level>n.e.EDIT&&(t=Object.assign(Object.assign({},t),{permission_level:n.e.EDIT})),e.permission_level<n.e.EDIT&&(t=Object.assign(Object.assign({},t),{permission_level:n.e.READ})),c[e.user.id]&&(t.permission_level="read"===c[e.user.id].permission_level?n.e.READ:n.e.EDIT),t}),d=[];return(o||[]).forEach(i=>{(!s[i.id]||(e.private||a&&t&&t.private)&&s[i.id])&&d.push({user:i,role:s[i.id]?s[i.id].role:n.f.GUEST,permission_level:"edit"===i.permission_level?n.e.EDIT:n.e.READ,source:{id:e.id,name:e.name,type:a?"goal":"folder"}})}),{parentMembers:r,members:d}})(t,i,a,e);return{parentMembers:o,members:c}});var a}},"GQj/":function(e,t,i){"use strict";i.d(t,"a",function(){return f});var a=i("fXoL"),o=i("lJxs"),c=i("uslN"),n=i("c3rA"),s=i("l7P3"),r=i("8it8"),l=i("ofXK"),d=i("keUj"),u=i("EDFS"),p=i("XaMR"),m=i("8r6i");const h=function(e){return[e]};function b(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-priority-list-dropdown",2),a.qc("onChange",function(t){return a.Uc(e),a.uc().updatePriority.emit(t)}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.Xb(4,"cu-priorities-view",3),a.bc()}if(2&e){const e=a.uc(),t=a.Rc(2);a.Dc("prioritySelected",a.Hc(12,h,e.subcategory.priority))("disabled",!e.subcategory.permissions.edit_list_details||!e.subcategory.permissions.change_priority||a.wc(1,6,e.isFreePlan$))("popover",t)("triggers",a.wc(2,8,e.isFreePlan$)&&!a.wc(3,10,e.isSharedSpaceOrGuest$)?"click":""),a.Ib(4),a.Dc("priority",null==e.subcategory?null:e.subcategory.priority)("prioritiesTooltip",null!=e.subcategory&&null!=e.subcategory.permissions&&e.subcategory.permissions.change_priority?e.commonStringsService.setPriorityText:e.commonStringsService.noPermissionToChangeText)}}function g(e,t){1&e&&a.Xb(0,"cu-paywall-popover",4),2&e&&a.Dc("amplitudeLabel","Priorities on Lists")}let f=(()=>{class e{constructor(e,t){this.store=e,this.commonStringsService=t,this.updatePriority=new a.o,this.isFreePlan$=this.store.select(n.getTeam).pipe(Object(o.a)(e=>e.plan_id===c.f.FREE)),this.isSharedSpaceOrGuest$=this.store.select(n.getIsSharedSpaceOrGuest)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(s.Store),a.Wb(r.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-list-details-priority"]],inputs:{project:"project",subcategory:"subcategory"},outputs:{updatePriority:"updatePriority"},decls:3,vars:1,consts:function(){let e,t;return e=$localize`:@@paywall_text--list-priorities␟200d85c9fb1eac19afa7e6b22573752092d03cc3␟4944355797726012662:To add priorities to Lists and remove all limits, upgrade to Unlimited for $5/month.`,t=$localize`:@@paywall_email-subject--list-priorities␟37bb231213dede20b1391c269af0e21af4668f4c␟7215930802494652012:Please upgrade ClickUp so we can set priorities on Lists`,[["class","cu2-list-details__priority","containerClass","popover_white","placement","bottom","outsideClick","true","container","body",3,"prioritySelected","disabled","popover","triggers","onChange",4,"ngIf"],["priorityPaywallPopoverTemplate",""],["containerClass","popover_white","placement","bottom","outsideClick","true","container","body",1,"cu2-list-details__priority",3,"prioritySelected","disabled","popover","triggers","onChange"],["modifier","cu-priorities-view__icon-task-lv","selectModifier","cu-priorities-view__icon-select_sm","placeModifier","lv-task",3,"priority","prioritiesTooltip"],["text",e,"emailSubject",t,3,"amplitudeLabel"]]},template:function(e,t){1&e&&(a.bd(0,b,5,14,"cu-priority-list-dropdown",0),a.bd(1,g,1,1,"ng-template",null,1,a.cd)),2&e&&a.Dc("ngIf",((null==t.subcategory?null:t.subcategory.priority)||(null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.edit_list_details)&&(null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.change_priority))&&(null==t.project||null==t.project.features||null==t.project.features.priorities?null:t.project.features.priorities.enabled))},directives:[l.q,d.a,u.c,p.a,m.a],pipes:[l.b],styles:[""],changeDetection:0}),e})()},GhnD:function(e,t,i){"use strict";i.d(t,"a",function(){return h});var a=i("fXoL"),o=i("EDFS"),c=i("yECk"),n=i("ofXK"),s=i("3Pt+");const r=["categoryListDropdownComponent"],l=["searchInput"];function d(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc();a.Ib(1),a.ed(null==e.selectedProject?null:e.selectedProject.name)}}function u(e,t){1&e&&(a.ac(0),a.gc(1,24),a.Zb())}function p(e,t){if(1&e&&(a.cc(0,"div",17),a.cc(1,"div",18),a.cc(2,"div",19),a.dd(3),a.bc(),a.bc(),a.bc()),2&e){const e=a.uc();a.Ib(3),a.fd(" ",null==e.selectedCategory?null:e.selectedCategory.name," ")}}const m=function(e){return{"cu-hidden":e}};let h=(()=>{class e{constructor(e){this.changeDetector=e,this.categoryDropdownOpen=!1,this.query="",this.onSelect=new a.o,this.onDropdown=new a.o,this.onKeydown=new a.o,this.title="Location"}ngOnInit(){}categoryDropdownToggle(e){this.categoryDropdownOpen=e,e&&setTimeout(()=>this.focus(),100),this.changeDetector.markForCheck()}search(){}focus(){this.searchInput&&this.searchInput.nativeElement.focus()}searchClick(e){e&&this.categoryDropdownOpen&&e&&(e.stopPropagation(),e.preventDefault())}keydown(e){this.categoryListDropdownComponent.keydown(e),this.onKeydown.emit(e)}open(){this.categoryListDropdownComponent.open()}close(){this.categoryListDropdownComponent.close()}isOpened(){return this.categoryDropdownOpen}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.h))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-create-task-nav-selector"]],viewQuery:function(e,t){if(1&e&&(a.jd(r,3),a.jd(l,3)),2&e){let e;a.Qc(e=a.rc())&&(t.categoryListDropdownComponent=e.first),a.Qc(e=a.rc())&&(t.searchInput=e.first)}},inputs:{selectedProject:"selectedProject",selectedCategory:"selectedCategory",selectedSubcategory:"selectedSubcategory",popoverTemplate:"popoverTemplate",title:"title"},outputs:{onSelect:"onSelect",onDropdown:"onDropdown",onKeydown:"onKeydown"},decls:30,vars:26,consts:function(){let e,t,i;return e=$localize`:@@common_search-list␟ca667f2828a4c6d80f36c54564807c4e12d93b04␟3594716242944541317:Search List...`,t=$localize`:@@common_select-list␟91574e3514d702a6c99a8e0d9109e28c8986b198␟3061883557059744430: Select List... `,i=$localize`:@@common_shared-with-me␟faed3331fc2986525dfb414e4547af49aebd3a4a␟231920238966427751:Shared with me`,[[1,""],["triggers","","placement","right",1,"cu-form__label","cu-form__label-sec",3,"popover"],["section","bs-popover"],[1,"cu-create-task-nav-selector__category-selection-row"],[1,"cu-create-task-nav-selector__category-list",3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","singleCategory","displaySearch","query","onSelect","onClearSearch","onOpen","onClose"],["categoryListDropdownComponent",""],[1,"cu-create-task-nav-selector__category-selector"],[1,"cu-search","cu-search_lg",3,"ngClass"],["type","text","placeholder",e,1,"cu-search__input",3,"ngClass","ngModel","ngModelChange","click","keydown"],["searchInput",""],[1,"cu-dropdown__toggle-text",3,"ngClass"],t,[1,"cu-search__icon"],[1,"cu-icon","cu-icon_search"],[1,"cu-search__spinner"],[1,"cu-icon","cu-icon_spinner"],[1,"cu-create-task-nav-selector__category-selector-body",3,"ngClass"],[1,"cu-create-task-nav-selector__category-selection"],[1,"cu-create-task-nav-selector__selection-text"],[1,"cu-create-task-nav-selector__selection-text_truncate"],[4,"ngIf","ngIfElse"],["sharedWithMe",""],["class","cu-create-task-nav-selector__category-selection",4,"ngIf"],[1,"cu-create-task-nav-selector__category-selection","cu-create-task-nav-selector__category-selection_highlight"],i]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div"),a.cc(2,"label",1,2),a.dd(4),a.bc(),a.cc(5,"div",3),a.cc(6,"cu-category-list-dropdown",4,5),a.qc("onSelect",function(e){return t.onSelect.emit(e)})("onClearSearch",function(){return t.query=""})("onOpen",function(){return t.categoryDropdownToggle(!0),t.onDropdown.emit(!0)})("onClose",function(){return t.categoryDropdownToggle(!1),t.onDropdown.emit(!1)}),a.cc(8,"div",6),a.cc(9,"div",7),a.cc(10,"input",8,9),a.qc("ngModelChange",function(e){return t.query=e})("ngModelChange",function(){return t.search()})("click",function(e){return t.searchClick(e)})("keydown",function(e){return t.keydown(e)}),a.bc(),a.cc(12,"div",10),a.gc(13,11),a.bc(),a.cc(14,"div",12),a.Xb(15,"i",13),a.bc(),a.cc(16,"div",14),a.Xb(17,"i",15),a.bc(),a.bc(),a.cc(18,"div",16),a.cc(19,"div",17),a.cc(20,"div",18),a.cc(21,"div",19),a.bd(22,d,2,1,"ng-container",20),a.bd(23,u,2,0,"ng-template",null,21,a.cd),a.bc(),a.bc(),a.bc(),a.bd(25,p,4,1,"div",22),a.cc(26,"div",23),a.cc(27,"div",18),a.cc(28,"div",19),a.dd(29),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.bc()),2&e){const e=a.Rc(24);a.Ib(2),a.Dc("popover",t.popoverTemplate),a.Ib(2),a.fd(" ",t.title," "),a.Ib(2),a.Dc("selectableProject",!0)("defaultProject",t.selectedProject)("selectedCategory",null==t.selectedCategory?null:t.selectedCategory.id)("selectedSubcategory",null==t.selectedSubcategory?null:t.selectedSubcategory.id)("singleCategory",!1)("displaySearch",!1)("query",t.query),a.Ib(3),a.Dc("ngClass",a.Hc(18,m,t.selectedCategory&&!t.categoryDropdownOpen)),a.Ib(1),a.Dc("ngClass",a.Hc(20,m,!t.categoryDropdownOpen))("ngModel",t.query),a.Ib(2),a.Dc("ngClass",a.Hc(22,m,t.categoryDropdownOpen)),a.Ib(6),a.Dc("ngClass",a.Hc(24,m,!t.selectedCategory||t.categoryDropdownOpen)),a.Ib(4),a.Dc("ngIf",!(null==t.selectedProject||!t.selectedProject.name))("ngIfElse",e),a.Ib(3),a.Dc("ngIf",!(null!=t.selectedCategory&&t.selectedCategory.hidden)),a.Ib(4),a.fd(" ",null==t.selectedSubcategory?null:t.selectedSubcategory.name," ")}},directives:[o.c,c.a,n.o,s.c,s.p,s.s,n.q],styles:['.cu-sections__dropdown>.cu-dropdown__menu{max-height:500px;overflow-y:scroll;margin-bottom:100px}.cu-create-task-nav-selector__category-selection_highlight{font-weight:600}.cu-create-task-nav-selector__category-selection-row{display:inline-flex;width:100%;height:40px}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-search{display:inline-flex;height:100%;width:60%}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-search .cu-create-task-nav-selector__search{padding-left:5px;padding-bottom:5px;border-bottom:0}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__favorite-selector{display:flex;align-items:center;height:40px;padding:2px 0 0;margin:0 0 0 10px;position:relative;border:1px solid #e4e4e4;border-radius:.3em;cursor:pointer}.dark-theme .cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__favorite-selector{border:1px solid #1e272e}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__favorite-selector:hover .cu-create-task-nav-selector__favorite-selector-icon_hover-state{display:block}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__favorite-selector-icon{width:36px;flex-shrink:1;padding:0 10px;color:#343434}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__favorite-selector-icon .cu-create-task-nav-selector__favorite-selector-icon_hover-state{display:none}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector{display:flex;width:100%;height:40px;padding:0;margin:0;position:relative;border:1px solid #e4e4e4;border-radius:.3em;cursor:pointer}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector-body{display:flex;justify-content:space-around;flex-grow:1;min-width:0}.dark-theme .cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector{border:1px solid #1e272e}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-dropdown__toggle-text{padding:10px 20px 10px 60px;font-size:15px}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector.cu-create-task-nav-selector__category-selector_selecting{background-color:#f0f0f0}.dark-theme .cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector.cu-create-task-nav-selector__category-selector_selecting{background:#2b343b}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:last-of-type{width:33%;min-width:0;display:table-cell;height:40px;position:relative;padding:0;margin:0;text-align:center}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:last-of-type .cu-create-task-nav-selector__selection-text{position:relative;line-height:40px;height:100%;width:100%}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:last-of-type .cu-create-task-nav-selector__selection-text_truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Proxima Nova,arial,serif;margin:0 10px 0 25px}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:last-of-type .cu-create-task-nav-selector__selection-text_truncate{font-family:var(--global-second-font-support)}}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:not(:last-of-type){width:33%;min-width:0;display:table-cell;height:40px;position:relative;padding:0;margin:0;text-align:center;border-right:0;border-radius:.3em}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:not(:last-of-type) .cu-create-task-nav-selector__selection-text{position:relative;line-height:40px;height:100%;width:100%;font-weight:400}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:not(:last-of-type) .cu-create-task-nav-selector__selection-text_truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Proxima Nova,arial,serif;margin:0 0 0 25px}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:not(:last-of-type) .cu-create-task-nav-selector__selection-text_truncate{font-family:var(--global-second-font-support)}}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:not(:last-of-type) .cu-create-task-nav-selector__selection-text:before{content:"";display:inline-block;width:28px;height:28px;left:100%;margin-left:-12px;top:5px;position:absolute;z-index:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transform:rotate(45deg);border-color:#e4e4e4;border-style:solid;border-width:1px 1px 0 0}.dark-theme .cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:not(:last-of-type) .cu-create-task-nav-selector__selection-text:before{border-color:#1e272e}.cu-create-task-nav-selector__category-selection-row .cu-create-task-nav-selector__category-selector .cu-create-task-nav-selector__category-selection:first-of-type .cu-create-task-nav-selector__selection-text_truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0 0 0 10px}.cu-create-task-nav-selector__category-selection-row .cu-dropdown.cu-dropdown_favorite-list>.cu-dropdown__menu{right:0;left:auto}.cu-create-task-nav-selector__category-list{width:100%;min-width:0}.cu-create-task-nav-selector__category-list .category-list_dropdown{width:100%}.cu-create-task-nav-selector__category-list .cu-search__input{padding:10px 20px 10px 60px;background:transparent;border-bottom:none}.cu-create-task-nav-selector__category-list .category-list,.cu-create-task-nav-selector__category-list .category-list_dropdown{max-height:40%}'],encapsulation:2,changeDetection:0}),e})()},HSHF:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("fXoL");let o=(()=>{class e{transform(e){const t=e.replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Vb({name:"enumToText",type:e,pure:!0}),e})()},HcPq:function(e,t,i){"use strict";i.d(t,"a",function(){return ge});var a=i("uslN"),o=i("VKdm"),c=i("HHlo"),n=i("o7Ov"),s=i("Q/P0"),r=i("91me"),l=i("2Vo4"),d=i("itXk"),u=i("XNiG"),p=i("pLZG"),m=i("lJxs"),h=i("eIep"),b=i("IzEk"),g=i("vkgz"),f=i("1G5W"),_=i("c3rA"),v=i("l7P3"),y=i("fXoL"),w=i("f0Wu"),k=i.n(w),x=i("YwDF"),T=i("Bar4"),S=i("2eDp"),j=i("Jf2N"),O=i("AeD3"),I=i("DkPU"),D=i("ofXK"),C=i("NsZK"),P=i("3Pt+"),$=i("O5gs");let z=(()=>{class e{constructor(){this.tooltipMsg=$localize`:@@cu-sprint-duration__tooltip-msg_cant-change-sprint-cadence:You can't change sprint cadence once it's already been saved.  You will need to create a new Folder to put sprints into.`,this.invalidDuration=!1,this.onChange=new y.o}ngOnInit(){}ngOnChanges(e){if(e.items&&this.items){const e=this.items.find(e=>e.checked);this.timeframeTitle=e&&e.title,this.timeframeTitle=this.timeframeTitle.replace("s","(s)")}}validateDuration(){this.duration=0===this.duration?1:this.duration<0?-1*this.duration:this.duration,this.onChange.emit({duration_number:this.duration})}selectTimeframe(e){this.onChange.emit({duration_timeframe:e.id})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=y.Qb({type:e,selectors:[["cu-sprint-duration"]],inputs:{duration:"duration",items:"items",invalidDuration:"invalidDuration",disabled:"disabled"},outputs:{onChange:"onChange"},features:[y.Gb],decls:11,vars:10,consts:function(){let e;return e=$localize`:@@common_sprint-duration␟47b6690792d56fd11524288ee23592e82c056688␟7776016277107749311: Sprint Duration `,[["tooltipLifeTime","10000",1,"cu-form__row","margin-bottom",3,"cuTooltip"],[1,"cu-form__label"],e,[1,"cu-sprints-settings__row"],[1,"cu-sprints-settings__row-items"],[1,"cu-sprints-settings__row-item","settings-duration"],["type","number",1,"cu-form__input",3,"disabled","ngModel","ngModelChange"],[1,"cu-sprints-settings__row-item","settings-duration-week"],[3,"dropdownDisabled","items","onSelect"],[1,"cu-sprints-settings__toggle"]]},template:function(e,t){1&e&&(y.cc(0,"div",0),y.cc(1,"div",1),y.gc(2,2),y.bc(),y.cc(3,"div",3),y.cc(4,"div",4),y.cc(5,"div",5),y.cc(6,"input",6),y.qc("ngModelChange",function(e){return t.duration=e})("ngModelChange",function(){return t.validateDuration()}),y.bc(),y.bc(),y.cc(7,"div",7),y.cc(8,"cu-dropdown-list",8),y.qc("onSelect",function(e){return t.selectTimeframe(e)}),y.cc(9,"div",9),y.dd(10),y.bc(),y.bc(),y.bc(),y.bc(),y.bc(),y.bc()),2&e&&(y.Ob("cu-sprints-settings__row-disabled",t.disabled),y.Dc("cuTooltip",t.disabled?t.tooltipMsg:null),y.Ib(5),y.Ob("cu-sprints-settings__invalid",t.invalidDuration),y.Ib(1),y.Dc("disabled",t.disabled)("ngModel",t.duration),y.Ib(2),y.Dc("dropdownDisabled",!0)("items",t.items),y.Ib(2),y.fd(" ",t.timeframeTitle," "))},directives:[C.a,P.u,P.c,P.p,P.s,$.a],styles:['.cu-sprints-settings__modal .cu-modal__dialog{width:600px}.cu-sprints-settings__modal .cu-modal__body{min-height:0}.cu-sprints-settings__dropdown-modifier .cu-dropdown-list__menu{max-width:350px;width:350px}.cu-sprints-settings__dropdown-end{display:flex;align-items:center}.cu-sprints-settings__dropdown-date{font:300 10px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px}.cu-sprints-settings__title{display:flex;align-items:center;position:absolute;top:-48px}.cu-sprints-settings__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-text{font-family:var(--global-font-support)}}.cu-sprints-settings__title .icon{width:18px;height:14px;fill:#d2d0d5;margin-right:5px}.cu-sprints-settings__title-folder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin-left:12px;display:flex;align-items:center;height:30px;border:1px solid #e9ebf0;padding:12px 12px 12px 8px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-folder{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__title-folder{border-color:#1e272e}.cu-sprints-settings__cf-footer{display:flex;align-items:center;justify-content:center;padding:5px 8px;border-top:1px solid #e4e4e4}.cu-sprints-settings__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;margin-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header{font-family:var(--global-font-support)}}.cu-sprints-settings__header a{text-decoration:underline;color:var(--theme-main-color);cursor:pointer}.cu-sprints-settings__header-info{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header-info{font-family:var(--global-font-support)}}.cu-sprints-settings__header-info.inline{display:inline}.cu-sprints-settings__header.banner{width:100%;text-align:center;background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:5px 36px;line-height:18px;border-radius:4px;margin-bottom:20px;position:relative}.dark-theme .cu-sprints-settings__header.banner span{color:#292d34}.cu-sprints-settings__header.banner .icon{position:absolute;right:16px;top:12px;width:14px;height:14px;padding:2px;cursor:pointer;stroke:var(--theme-main-color)}.cu-sprints-settings__header.banner b{font-weight:500}.dark-theme .cu-sprints-settings__header.banner b{color:#292d34}.dark-theme .cu-sprints-settings__header svg{fill:#d5d6d7}.cu-sprints-settings__header-video-link{cursor:pointer;color:var(--theme-main-color)}.cu-sprints-settings .cu-form__row{margin-bottom:0}.cu-sprints-settings .cu-form__row.margin-top{margin-top:28px}.cu-sprints-settings .cu-form__row .cu-form__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings .cu-form__row .cu-form__label{font-family:var(--global-font-support)}}.cu-sprints-settings .cu-form__row .cu-form__label.margin-top{margin-top:10px}.cu-sprints-settings .cu-form__row.margin-bottom{margin-bottom:20px}.cu-sprints-settings .cu-form__row.margin-bottom-10{margin-bottom:10px}.cu-sprints-settings__description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:20px;margin-top:5px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__description{font-family:var(--global-font-support)}}.cu-sprints-settings__description span{color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);cursor:pointer}.cu-sprints-settings__learn{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__learn{color:var(--theme-main-color)}}.cu-sprints-settings__paywall-badge{background:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:4px;text-transform:uppercase;padding:3px 4px 2px;white-space:nowrap;display:inline-flex;align-items:center;margin-left:10px}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__paywall-badge{background:var(--theme-main-color)}}.cu-sprints-settings__open{color:#7b68ee;-webkit-text-decoration:dashed;text-decoration:dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__open{color:var(--theme-main-color)}}.cu-sprints-settings__help-question-mark{width:12px;height:12px;margin-left:5px;fill:#b9bec7}.dark-theme .cu-sprints-settings__help-question-mark{fill:#7c828d}.cu-sprints-settings__help-question-mark:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__help-question-mark:hover{fill:var(--theme-main-color)}}.cu-sprints-settings__label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__label{font-family:var(--global-font-support)}}.cu-sprints-settings__label.margin-top{margin-top:20px}.cu-sprints-settings__label.no-margin-bottom{margin-bottom:0}.cu-sprints-settings__automations{border:1px solid #e9ebf0;padding:24px;background:#fafbfc;margin:25px 0;border-radius:5px;position:relative}.dark-theme .cu-sprints-settings__automations{background-color:#2b343b;border-color:#1e272e}.cu-sprints-settings__automations .icon{right:18px;top:18px;position:absolute;width:25px;height:25px;fill:#b9bec7}.cu-sprints-settings__automations-container{position:relative}.cu-sprints-settings__automations-disabled{opacity:.5}.cu-sprints-settings__automations-cover{position:absolute;width:100%;height:100%;top:0}.cu-sprints-settings__automations-cover .cu-sprints-settings__paywall-badge{position:absolute;right:60px;top:25px}.cu-sprints-settings__automations-new{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;padding:10px 0 0;flex-wrap:wrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-new{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-new.disabled{color:#7c828d}.cu-sprints-settings__automations-items{margin-top:15px}.cu-sprints-settings__automations-item{margin-bottom:10px}.cu-sprints-settings__automations-item-break{background:#e9ebf0;margin:15px 0;width:100%;height:1px}.cu-sprints-settings__automations-item-blockquote{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin-top:15px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-blockquote{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-item-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin:10px 0;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-desc{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations .cu-checkbox__label{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__footer{display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cu-sprints-settings__footer .cu-btn{height:48px;font-size:16px;padding:0 26px}.cu-sprints-settings__footer .cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__footer .cancel{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;display:flex;align-items:center;justify-content:space-between;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__toggle{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;width:9px;height:7px;fill:#292d34}.dark-theme .cu-sprints-settings__toggle-arrow{fill:#d5d6d7}.cu-sprints-settings__row-item .cu-dropdown_open .cu-sprints-settings__toggle-arrow{transform:rotate(180deg)}.cu-sprints-settings__row{padding:5px 0}.cu-sprints-settings__row-paywall{background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:18px;border-radius:5px;margin:20px 0}.cu-sprints-settings__row-paywall-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1.2;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall-text{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall-text{color:#292d34}.cu-sprints-settings__row-paywall-checkbox{display:flex;align-items:center}.cu-sprints-settings__row-paywall .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall .cu-checkbox__label{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall .cu-checkbox__label{color:#292d34}.cu-sprints-settings__row-paywall .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__row-item,.cu-sprints-settings__row-items{display:flex;align-items:center}.cu-sprints-settings__row-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;position:relative;overflow:hidden;cursor:default;padding:0 12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-item{font-family:var(--global-font-support)}}.cu-sprints-settings__row-item.first-sprint{display:inline;padding:0 3px}.cu-sprints-settings__row-item.first-sprint .cu-form__input{font-size:11px;max-width:36px;flex-grow:0;display:inline}.dark-theme .cu-sprints-settings__row-item{border-color:#1e272e}.cu-sprints-settings__row-item.settings-duration{width:50px;margin-right:10px}.cu-sprints-settings__row-item.settings-future{padding:0;border:none;flex-wrap:wrap;display:inline-block;font-size:11px;line-height:18px}.cu-sprints-settings__row-item.settings-future.disabled .cu-sprints-settings__row-item.settings-future{color:#7c828d}.cu-sprints-settings__row-item.settings-future .cu-form__input{font-size:14px;text-align:center;margin:0 5px;width:30px;height:20px;border:1px solid #e9ebf0;display:inline}.cu-sprints-settings__row-item.settings-future .cu-form__input.disabled{cursor:not-allowed}.dark-theme .cu-sprints-settings__row-item.settings-future .cu-form__input{border-color:#1e272e}.cu-sprints-settings__row-item.settings-future .cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item.settings-name{width:100%}.cu-sprints-settings__row-item .cu-form__input{padding:0}.cu-sprints-settings__row-item .cu-form__input::-webkit-inner-spin-button,.cu-sprints-settings__row-item .cu-form__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.cu-sprints-settings__row-item.cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item .cu-dropdown-list{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown{width:100%;height:100%}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown__toggle{width:100%;height:100%;display:flex;justify-content:space-between}.cu-sprints-settings__row-item.inline-input{border:none;border-radius:0}.cu-sprints-settings__row-item.inline-input input{font-size:14px!important;text-align:center;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color)}.cu-sprints-settings__row-item.small{width:64px;height:40px}.cu-sprints-settings__row-item.settings-duration-week{width:180px;border:none!important}.cu-sprints-settings__row input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row input{font-family:var(--global-font-support)}}.cu-sprints-settings__note{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;max-width:340px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__note{font-family:var(--global-font-support)}}.cu-sprints-settings__note b{font-weight:500;color:#7c828d}.cu-sprints-settings__note.padding-top{padding-top:10px}.cu-sprints-settings__note.red{color:#d16464}.cu-sprints-settings__estimation-container{width:550px;margin-left:-12px;margin-top:1px!important}.cu-sprints-settings__estimation-menu{width:100%;max-width:none}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__title{flex-grow:0}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__submenu{margin-left:auto}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__check{width:11px;height:8px;margin:0 0 0 10px}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points{position:relative}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;position:absolute;top:9px;right:16px;content:"RECOMMENDED";height:14px;border:1px solid #7c828d;border-radius:3px;color:#7c828d;display:flex;align-items:center;padding:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{color:#828588;border-color:#828588}.cu-form__row.cu-sprints-settings__row-disabled{opacity:.5;cursor:not-allowed}'],encapsulation:2,changeDetection:0}),e})();var M=i("UdVN");let E=(()=>{class e{constructor(){this.tooltipMsg=$localize`:@@cu-sprint-day__tooltip-msg_cant-change-sprint-start-day:You can't change the sprint start day once it's already been saved.  You will need to create a new Folder to put sprints into.`,this.disabled=!1,this.onChange=new y.o}ngOnInit(){}ngOnChanges(e){if(e.sprintDays&&this.sprintDays){const e=this.sprintDays.find(e=>e.checked);this.dayTitle=e&&e.title}}selectDay(e){this.onChange.emit({start_day:e.id})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=y.Qb({type:e,selectors:[["cu-sprint-day"]],inputs:{sprintDays:"sprintDays",disabled:"disabled"},outputs:{onChange:"onChange"},features:[y.Gb],decls:9,vars:6,consts:function(){let e;return e=$localize`:@@cu-sprint-day__form-label_sprint-start-day␟59e081afe24d340d1903b6759c17e128ad7a6272␟127613101440393785: Sprint start day `,[[1,"cu-form__row","margin-bottom",3,"cuTooltip"],[1,"cu-form__label"],e,[1,"cu-sprints-settings__row"],[1,"cu-sprints-settings__row-item"],[3,"dropdownDisabled","items","onSelect"],[1,"cu-sprints-settings__toggle"],["icon","arrow-down",1,"cu-sprints-settings__toggle-arrow"]]},template:function(e,t){1&e&&(y.cc(0,"div",0),y.cc(1,"div",1),y.gc(2,2),y.bc(),y.cc(3,"div",3),y.cc(4,"div",4),y.cc(5,"cu-dropdown-list",5),y.qc("onSelect",function(e){return t.selectDay(e)}),y.cc(6,"div",6),y.dd(7),y.Xb(8,"div",7),y.bc(),y.bc(),y.bc(),y.bc(),y.bc()),2&e&&(y.Ob("cu-sprints-settings__row-disabled",t.disabled),y.Dc("cuTooltip",t.disabled?t.tooltipMsg:null),y.Ib(5),y.Dc("dropdownDisabled",t.disabled)("items",t.sprintDays),y.Ib(2),y.fd(" ",t.dayTitle," "))},directives:[C.a,$.a,M.a],styles:['.cu-sprints-settings__modal .cu-modal__dialog{width:600px}.cu-sprints-settings__modal .cu-modal__body{min-height:0}.cu-sprints-settings__dropdown-modifier .cu-dropdown-list__menu{max-width:350px;width:350px}.cu-sprints-settings__dropdown-end{display:flex;align-items:center}.cu-sprints-settings__dropdown-date{font:300 10px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px}.cu-sprints-settings__title{display:flex;align-items:center;position:absolute;top:-48px}.cu-sprints-settings__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-text{font-family:var(--global-font-support)}}.cu-sprints-settings__title .icon{width:18px;height:14px;fill:#d2d0d5;margin-right:5px}.cu-sprints-settings__title-folder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin-left:12px;display:flex;align-items:center;height:30px;border:1px solid #e9ebf0;padding:12px 12px 12px 8px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-folder{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__title-folder{border-color:#1e272e}.cu-sprints-settings__cf-footer{display:flex;align-items:center;justify-content:center;padding:5px 8px;border-top:1px solid #e4e4e4}.cu-sprints-settings__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;margin-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header{font-family:var(--global-font-support)}}.cu-sprints-settings__header a{text-decoration:underline;color:var(--theme-main-color);cursor:pointer}.cu-sprints-settings__header-info{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header-info{font-family:var(--global-font-support)}}.cu-sprints-settings__header-info.inline{display:inline}.cu-sprints-settings__header.banner{width:100%;text-align:center;background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:5px 36px;line-height:18px;border-radius:4px;margin-bottom:20px;position:relative}.dark-theme .cu-sprints-settings__header.banner span{color:#292d34}.cu-sprints-settings__header.banner .icon{position:absolute;right:16px;top:12px;width:14px;height:14px;padding:2px;cursor:pointer;stroke:var(--theme-main-color)}.cu-sprints-settings__header.banner b{font-weight:500}.dark-theme .cu-sprints-settings__header.banner b{color:#292d34}.dark-theme .cu-sprints-settings__header svg{fill:#d5d6d7}.cu-sprints-settings__header-video-link{cursor:pointer;color:var(--theme-main-color)}.cu-sprints-settings .cu-form__row{margin-bottom:0}.cu-sprints-settings .cu-form__row.margin-top{margin-top:28px}.cu-sprints-settings .cu-form__row .cu-form__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings .cu-form__row .cu-form__label{font-family:var(--global-font-support)}}.cu-sprints-settings .cu-form__row .cu-form__label.margin-top{margin-top:10px}.cu-sprints-settings .cu-form__row.margin-bottom{margin-bottom:20px}.cu-sprints-settings .cu-form__row.margin-bottom-10{margin-bottom:10px}.cu-sprints-settings__description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:20px;margin-top:5px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__description{font-family:var(--global-font-support)}}.cu-sprints-settings__description span{color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);cursor:pointer}.cu-sprints-settings__learn{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__learn{color:var(--theme-main-color)}}.cu-sprints-settings__paywall-badge{background:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:4px;text-transform:uppercase;padding:3px 4px 2px;white-space:nowrap;display:inline-flex;align-items:center;margin-left:10px}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__paywall-badge{background:var(--theme-main-color)}}.cu-sprints-settings__open{color:#7b68ee;-webkit-text-decoration:dashed;text-decoration:dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__open{color:var(--theme-main-color)}}.cu-sprints-settings__help-question-mark{width:12px;height:12px;margin-left:5px;fill:#b9bec7}.dark-theme .cu-sprints-settings__help-question-mark{fill:#7c828d}.cu-sprints-settings__help-question-mark:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__help-question-mark:hover{fill:var(--theme-main-color)}}.cu-sprints-settings__label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__label{font-family:var(--global-font-support)}}.cu-sprints-settings__label.margin-top{margin-top:20px}.cu-sprints-settings__label.no-margin-bottom{margin-bottom:0}.cu-sprints-settings__automations{border:1px solid #e9ebf0;padding:24px;background:#fafbfc;margin:25px 0;border-radius:5px;position:relative}.dark-theme .cu-sprints-settings__automations{background-color:#2b343b;border-color:#1e272e}.cu-sprints-settings__automations .icon{right:18px;top:18px;position:absolute;width:25px;height:25px;fill:#b9bec7}.cu-sprints-settings__automations-container{position:relative}.cu-sprints-settings__automations-disabled{opacity:.5}.cu-sprints-settings__automations-cover{position:absolute;width:100%;height:100%;top:0}.cu-sprints-settings__automations-cover .cu-sprints-settings__paywall-badge{position:absolute;right:60px;top:25px}.cu-sprints-settings__automations-new{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;padding:10px 0 0;flex-wrap:wrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-new{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-new.disabled{color:#7c828d}.cu-sprints-settings__automations-items{margin-top:15px}.cu-sprints-settings__automations-item{margin-bottom:10px}.cu-sprints-settings__automations-item-break{background:#e9ebf0;margin:15px 0;width:100%;height:1px}.cu-sprints-settings__automations-item-blockquote{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin-top:15px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-blockquote{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-item-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin:10px 0;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-desc{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations .cu-checkbox__label{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__footer{display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cu-sprints-settings__footer .cu-btn{height:48px;font-size:16px;padding:0 26px}.cu-sprints-settings__footer .cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__footer .cancel{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;display:flex;align-items:center;justify-content:space-between;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__toggle{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;width:9px;height:7px;fill:#292d34}.dark-theme .cu-sprints-settings__toggle-arrow{fill:#d5d6d7}.cu-sprints-settings__row-item .cu-dropdown_open .cu-sprints-settings__toggle-arrow{transform:rotate(180deg)}.cu-sprints-settings__row{padding:5px 0}.cu-sprints-settings__row-paywall{background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:18px;border-radius:5px;margin:20px 0}.cu-sprints-settings__row-paywall-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1.2;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall-text{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall-text{color:#292d34}.cu-sprints-settings__row-paywall-checkbox{display:flex;align-items:center}.cu-sprints-settings__row-paywall .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall .cu-checkbox__label{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall .cu-checkbox__label{color:#292d34}.cu-sprints-settings__row-paywall .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__row-item,.cu-sprints-settings__row-items{display:flex;align-items:center}.cu-sprints-settings__row-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;position:relative;overflow:hidden;cursor:default;padding:0 12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-item{font-family:var(--global-font-support)}}.cu-sprints-settings__row-item.first-sprint{display:inline;padding:0 3px}.cu-sprints-settings__row-item.first-sprint .cu-form__input{font-size:11px;max-width:36px;flex-grow:0;display:inline}.dark-theme .cu-sprints-settings__row-item{border-color:#1e272e}.cu-sprints-settings__row-item.settings-duration{width:50px;margin-right:10px}.cu-sprints-settings__row-item.settings-future{padding:0;border:none;flex-wrap:wrap;display:inline-block;font-size:11px;line-height:18px}.cu-sprints-settings__row-item.settings-future.disabled .cu-sprints-settings__row-item.settings-future{color:#7c828d}.cu-sprints-settings__row-item.settings-future .cu-form__input{font-size:14px;text-align:center;margin:0 5px;width:30px;height:20px;border:1px solid #e9ebf0;display:inline}.cu-sprints-settings__row-item.settings-future .cu-form__input.disabled{cursor:not-allowed}.dark-theme .cu-sprints-settings__row-item.settings-future .cu-form__input{border-color:#1e272e}.cu-sprints-settings__row-item.settings-future .cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item.settings-name{width:100%}.cu-sprints-settings__row-item .cu-form__input{padding:0}.cu-sprints-settings__row-item .cu-form__input::-webkit-inner-spin-button,.cu-sprints-settings__row-item .cu-form__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.cu-sprints-settings__row-item.cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item .cu-dropdown-list{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown{width:100%;height:100%}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown__toggle{width:100%;height:100%;display:flex;justify-content:space-between}.cu-sprints-settings__row-item.inline-input{border:none;border-radius:0}.cu-sprints-settings__row-item.inline-input input{font-size:14px!important;text-align:center;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color)}.cu-sprints-settings__row-item.small{width:64px;height:40px}.cu-sprints-settings__row-item.settings-duration-week{width:180px;border:none!important}.cu-sprints-settings__row input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row input{font-family:var(--global-font-support)}}.cu-sprints-settings__note{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;max-width:340px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__note{font-family:var(--global-font-support)}}.cu-sprints-settings__note b{font-weight:500;color:#7c828d}.cu-sprints-settings__note.padding-top{padding-top:10px}.cu-sprints-settings__note.red{color:#d16464}.cu-sprints-settings__estimation-container{width:550px;margin-left:-12px;margin-top:1px!important}.cu-sprints-settings__estimation-menu{width:100%;max-width:none}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__title{flex-grow:0}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__submenu{margin-left:auto}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__check{width:11px;height:8px;margin:0 0 0 10px}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points{position:relative}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;position:absolute;top:9px;right:16px;content:"RECOMMENDED";height:14px;border:1px solid #7c828d;border-radius:3px;color:#7c828d;display:flex;align-items:center;padding:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{color:#828588;border-color:#828588}.cu-form__row.cu-sprints-settings__row-disabled{opacity:.5;cursor:not-allowed}'],encapsulation:2,changeDetection:0}),e})();var L=i("+2Ly"),A=i("jJQC"),F=i("8it8"),U=i("EDFS"),N=i("8r6i");function R(e,t){if(1&e){const e=y.dc();y.cc(0,"div",12),y.cc(1,"div",13),y.qc("click",function(){y.Uc(e);const t=y.uc(),i=y.Rc(7);return t.openCustomFieldsModal(),i.close()}),y.dd(2," + "),y.ac(3),y.gc(4,14),y.Zb(),y.bc(),y.bc()}}function G(e,t){if(1&e&&y.Xb(0,"cu-paywall-popover",15),2&e){const e=y.uc();y.Dc("title",e.sprintPointsText)("image","./assets/images/components/paywall-popover/personal-view.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToBusinessText)("amplitudeLabel","Sprint Points")}}let q=(()=>{class e{constructor(e,t,i,a){this.modal=e,this.injector=t,this.commonStringsService=i,this.paywallCommonStringsService=a,this.onChange=new y.o,this.trackById=Object(A.d)("id"),this.sprintPointsText=$localize`:@@common_sprint-points:Sprint Points`,this.sprintEstimationText=$localize`:@@cu-sprint-estimation__title_sprint-estimation:SPRINT ESTIMATION`}ngOnInit(){}ngOnChanges(e){if(e.items&&this.items){let e=this.items.find(e=>e.checked);"custom-field"===e.id&&(e=e.subitems.find(e=>e.checked)),this.title=e&&e.title}}selectEstimation(e,t){this.onChange.emit({estimation:e.id})}openCustomFieldsModal(){const e=this.modal.openComponent(L.a,this.injector,{title:this.commonStringsService.manageCustomFieldText(this.cfEntity.name),dialogModifier:"cu-modal__dialog-custom-fields",preventExternalClick:!0,bodyModifier:"cu-modal__body_no-min-height"});e.instance.filterForNumericDropdown=!0,e.instance.setEntity(this.cfEntity)}}return e.\u0275fac=function(t){return new(t||e)(y.Wb(j.a),y.Wb(y.t),y.Wb(F.a),y.Wb(I.a))},e.\u0275cmp=y.Qb({type:e,selectors:[["cu-sprint-estimation"]],inputs:{items:"items",planId:"planId",cfEntity:"cfEntity"},outputs:{onChange:"onChange"},features:[y.Gb],decls:15,vars:7,consts:function(){let e,t,i,a,o;return e=$localize`:@@cu-sprint-estimation__form-label_sprint-estimations␟688aa8c26f5d53ec9dd7da59fdd8a5606b32f4f2␟6605436832405000362: Sprint estimations `,t=$localize`:@@common_add-edit-fields␟9779778a0d7f997a9c59af6403c73618cc493c19␟431120001911388011:Add or edit fields`,i=$localize`:@@common_plans--business␟e45bb24e9faf557d26abd6822d6a6da37e3ff171␟4607581465689784056:Business`,a=$localize`:@@paywall_text--use-sprint-points␟abbbfaefeb0a36f056575c7134824b8e3689e3de␟2357260673001299710:Upgrade to Business to use Sprint points.`,o=$localize`:@@paywall_email-subject--use-sprint-points␟e525472d3c31ec0babc833949b3417f055cba1ea␟9197043505891579858:Please upgrade ClickUp so we can use sprint points`,[[1,"cu-form__row","margin-bottom"],[1,"cu-form__label"],e,[1,"cu-sprints-settings__row"],["containerClass","popover_white popover_no-max-width popover_no-padding","outsideClick","true","triggers","","container","body",1,"cu-sprints-settings__row-item",3,"popover"],["businessPopover","bs-popover"],[1,"cu-sprints-settings__estimation-dropdown",3,"title","items","subFooterTemplate","menuContainerModifier","menuModifier","onSelect"],["dropdownList",""],[1,"cu-sprints-settings__toggle"],["icon","arrow-down",1,"cu-sprints-settings__toggle-arrow"],["subFooterTemplate",""],["paywallBusinessTemplate",""],[1,"cu-sprints-settings__cf-footer"],[1,"cu-dropdown-list-item__title",3,"click"],t,["badge",i,"text",a,"emailSubject",o,3,"title","image","upgradeButtonText","amplitudeLabel"]]},template:function(e,t){if(1&e){const e=y.dc();y.cc(0,"div",0),y.cc(1,"div",1),y.gc(2,2),y.bc(),y.cc(3,"div",3),y.cc(4,"div",4,5),y.cc(6,"cu-dropdown-list",6,7),y.qc("onSelect",function(i){y.Uc(e);const a=y.Rc(5);return t.selectEstimation(i,a)}),y.cc(8,"div",8),y.dd(9),y.Xb(10,"div",9),y.bc(),y.bc(),y.bc(),y.bc(),y.bc(),y.bd(11,R,5,0,"ng-template",null,10,y.cd),y.bd(13,G,1,4,"ng-template",null,11,y.cd)}if(2&e){const e=y.Rc(12),i=y.Rc(14);y.Ib(4),y.Dc("popover",i),y.Ib(2),y.Dc("title",t.sprintEstimationText)("items",t.items)("subFooterTemplate",e)("menuContainerModifier","cu-sprints-settings__estimation-container")("menuModifier","cu-sprints-settings__estimation-menu"),y.Ib(3),y.fd(" ",t.title," ")}},directives:[U.c,$.a,M.a,N.a],styles:['.cu-sprints-settings__modal .cu-modal__dialog{width:600px}.cu-sprints-settings__modal .cu-modal__body{min-height:0}.cu-sprints-settings__dropdown-modifier .cu-dropdown-list__menu{max-width:350px;width:350px}.cu-sprints-settings__dropdown-end{display:flex;align-items:center}.cu-sprints-settings__dropdown-date{font:300 10px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px}.cu-sprints-settings__title{display:flex;align-items:center;position:absolute;top:-48px}.cu-sprints-settings__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-text{font-family:var(--global-font-support)}}.cu-sprints-settings__title .icon{width:18px;height:14px;fill:#d2d0d5;margin-right:5px}.cu-sprints-settings__title-folder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin-left:12px;display:flex;align-items:center;height:30px;border:1px solid #e9ebf0;padding:12px 12px 12px 8px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-folder{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__title-folder{border-color:#1e272e}.cu-sprints-settings__cf-footer{display:flex;align-items:center;justify-content:center;padding:5px 8px;border-top:1px solid #e4e4e4}.cu-sprints-settings__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;margin-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header{font-family:var(--global-font-support)}}.cu-sprints-settings__header a{text-decoration:underline;color:var(--theme-main-color);cursor:pointer}.cu-sprints-settings__header-info{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header-info{font-family:var(--global-font-support)}}.cu-sprints-settings__header-info.inline{display:inline}.cu-sprints-settings__header.banner{width:100%;text-align:center;background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:5px 36px;line-height:18px;border-radius:4px;margin-bottom:20px;position:relative}.dark-theme .cu-sprints-settings__header.banner span{color:#292d34}.cu-sprints-settings__header.banner .icon{position:absolute;right:16px;top:12px;width:14px;height:14px;padding:2px;cursor:pointer;stroke:var(--theme-main-color)}.cu-sprints-settings__header.banner b{font-weight:500}.dark-theme .cu-sprints-settings__header.banner b{color:#292d34}.dark-theme .cu-sprints-settings__header svg{fill:#d5d6d7}.cu-sprints-settings__header-video-link{cursor:pointer;color:var(--theme-main-color)}.cu-sprints-settings .cu-form__row{margin-bottom:0}.cu-sprints-settings .cu-form__row.margin-top{margin-top:28px}.cu-sprints-settings .cu-form__row .cu-form__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings .cu-form__row .cu-form__label{font-family:var(--global-font-support)}}.cu-sprints-settings .cu-form__row .cu-form__label.margin-top{margin-top:10px}.cu-sprints-settings .cu-form__row.margin-bottom{margin-bottom:20px}.cu-sprints-settings .cu-form__row.margin-bottom-10{margin-bottom:10px}.cu-sprints-settings__description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:20px;margin-top:5px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__description{font-family:var(--global-font-support)}}.cu-sprints-settings__description span{color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);cursor:pointer}.cu-sprints-settings__learn{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__learn{color:var(--theme-main-color)}}.cu-sprints-settings__paywall-badge{background:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:4px;text-transform:uppercase;padding:3px 4px 2px;white-space:nowrap;display:inline-flex;align-items:center;margin-left:10px}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__paywall-badge{background:var(--theme-main-color)}}.cu-sprints-settings__open{color:#7b68ee;-webkit-text-decoration:dashed;text-decoration:dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__open{color:var(--theme-main-color)}}.cu-sprints-settings__help-question-mark{width:12px;height:12px;margin-left:5px;fill:#b9bec7}.dark-theme .cu-sprints-settings__help-question-mark{fill:#7c828d}.cu-sprints-settings__help-question-mark:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__help-question-mark:hover{fill:var(--theme-main-color)}}.cu-sprints-settings__label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__label{font-family:var(--global-font-support)}}.cu-sprints-settings__label.margin-top{margin-top:20px}.cu-sprints-settings__label.no-margin-bottom{margin-bottom:0}.cu-sprints-settings__automations{border:1px solid #e9ebf0;padding:24px;background:#fafbfc;margin:25px 0;border-radius:5px;position:relative}.dark-theme .cu-sprints-settings__automations{background-color:#2b343b;border-color:#1e272e}.cu-sprints-settings__automations .icon{right:18px;top:18px;position:absolute;width:25px;height:25px;fill:#b9bec7}.cu-sprints-settings__automations-container{position:relative}.cu-sprints-settings__automations-disabled{opacity:.5}.cu-sprints-settings__automations-cover{position:absolute;width:100%;height:100%;top:0}.cu-sprints-settings__automations-cover .cu-sprints-settings__paywall-badge{position:absolute;right:60px;top:25px}.cu-sprints-settings__automations-new{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;padding:10px 0 0;flex-wrap:wrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-new{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-new.disabled{color:#7c828d}.cu-sprints-settings__automations-items{margin-top:15px}.cu-sprints-settings__automations-item{margin-bottom:10px}.cu-sprints-settings__automations-item-break{background:#e9ebf0;margin:15px 0;width:100%;height:1px}.cu-sprints-settings__automations-item-blockquote{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin-top:15px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-blockquote{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-item-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin:10px 0;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-desc{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations .cu-checkbox__label{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__footer{display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cu-sprints-settings__footer .cu-btn{height:48px;font-size:16px;padding:0 26px}.cu-sprints-settings__footer .cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__footer .cancel{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;display:flex;align-items:center;justify-content:space-between;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__toggle{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;width:9px;height:7px;fill:#292d34}.dark-theme .cu-sprints-settings__toggle-arrow{fill:#d5d6d7}.cu-sprints-settings__row-item .cu-dropdown_open .cu-sprints-settings__toggle-arrow{transform:rotate(180deg)}.cu-sprints-settings__row{padding:5px 0}.cu-sprints-settings__row-paywall{background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:18px;border-radius:5px;margin:20px 0}.cu-sprints-settings__row-paywall-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1.2;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall-text{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall-text{color:#292d34}.cu-sprints-settings__row-paywall-checkbox{display:flex;align-items:center}.cu-sprints-settings__row-paywall .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall .cu-checkbox__label{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall .cu-checkbox__label{color:#292d34}.cu-sprints-settings__row-paywall .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__row-item,.cu-sprints-settings__row-items{display:flex;align-items:center}.cu-sprints-settings__row-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;position:relative;overflow:hidden;cursor:default;padding:0 12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-item{font-family:var(--global-font-support)}}.cu-sprints-settings__row-item.first-sprint{display:inline;padding:0 3px}.cu-sprints-settings__row-item.first-sprint .cu-form__input{font-size:11px;max-width:36px;flex-grow:0;display:inline}.dark-theme .cu-sprints-settings__row-item{border-color:#1e272e}.cu-sprints-settings__row-item.settings-duration{width:50px;margin-right:10px}.cu-sprints-settings__row-item.settings-future{padding:0;border:none;flex-wrap:wrap;display:inline-block;font-size:11px;line-height:18px}.cu-sprints-settings__row-item.settings-future.disabled .cu-sprints-settings__row-item.settings-future{color:#7c828d}.cu-sprints-settings__row-item.settings-future .cu-form__input{font-size:14px;text-align:center;margin:0 5px;width:30px;height:20px;border:1px solid #e9ebf0;display:inline}.cu-sprints-settings__row-item.settings-future .cu-form__input.disabled{cursor:not-allowed}.dark-theme .cu-sprints-settings__row-item.settings-future .cu-form__input{border-color:#1e272e}.cu-sprints-settings__row-item.settings-future .cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item.settings-name{width:100%}.cu-sprints-settings__row-item .cu-form__input{padding:0}.cu-sprints-settings__row-item .cu-form__input::-webkit-inner-spin-button,.cu-sprints-settings__row-item .cu-form__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.cu-sprints-settings__row-item.cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item .cu-dropdown-list{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown{width:100%;height:100%}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown__toggle{width:100%;height:100%;display:flex;justify-content:space-between}.cu-sprints-settings__row-item.inline-input{border:none;border-radius:0}.cu-sprints-settings__row-item.inline-input input{font-size:14px!important;text-align:center;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color)}.cu-sprints-settings__row-item.small{width:64px;height:40px}.cu-sprints-settings__row-item.settings-duration-week{width:180px;border:none!important}.cu-sprints-settings__row input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row input{font-family:var(--global-font-support)}}.cu-sprints-settings__note{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;max-width:340px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__note{font-family:var(--global-font-support)}}.cu-sprints-settings__note b{font-weight:500;color:#7c828d}.cu-sprints-settings__note.padding-top{padding-top:10px}.cu-sprints-settings__note.red{color:#d16464}.cu-sprints-settings__estimation-container{width:550px;margin-left:-12px;margin-top:1px!important}.cu-sprints-settings__estimation-menu{width:100%;max-width:none}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__title{flex-grow:0}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__submenu{margin-left:auto}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__check{width:11px;height:8px;margin:0 0 0 10px}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points{position:relative}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;position:absolute;top:9px;right:16px;content:"RECOMMENDED";height:14px;border:1px solid #7c828d;border-radius:3px;color:#7c828d;display:flex;align-items:center;padding:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{color:#828588;border-color:#828588}.cu-form__row.cu-sprints-settings__row-disabled{opacity:.5;cursor:not-allowed}'],encapsulation:2,changeDetection:0}),e})(),B=(()=>{class e{constructor(){this.warning="Important: sprint name <b>must</b> include "+r.b,this.tooltipMsg=`Available variables: ${r.b}, ${r.e}, ${r.d}`,this.invalid=!1,this.invalidName=!1,this.MANDATORY_SPRINT_NAME_VAR=r.b,this.onChange=new y.o}ngOnInit(){}updateName(){this.onChange.emit({name_format:this.name})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=y.Qb({type:e,selectors:[["cu-sprint-name"]],inputs:{name:"name",invalid:"invalid",invalidName:"invalidName"},outputs:{onChange:"onChange"},decls:9,vars:7,consts:function(){let e;return e=$localize`:@@cu-sprint-name__form-label_sprint-name␟111da655142feb97a79ca6af69905ab57cf7bf9e␟2578442392483312857:Sprint name`,[[1,"cu-form__row"],[1,"cu-form__label","cu-sprints-settings__label"],e,["icon","question",1,"cu-sprints-settings__help-question-mark",3,"cuTooltip"],[1,"cu-sprints-settings__row"],[1,"cu-sprints-settings__row-item","settings-name"],["type","text",1,"cu-form__input",3,"ngModel","ngModelChange"],[1,"cu-sprints-settings__note","padding-top",3,"innerHTML"]]},template:function(e,t){1&e&&(y.cc(0,"div",0),y.cc(1,"div",1),y.ac(2),y.gc(3,2),y.Zb(),y.Xb(4,"div",3),y.bc(),y.cc(5,"div",4),y.cc(6,"div",5),y.cc(7,"input",6),y.qc("ngModelChange",function(e){return t.name=e})("ngModelChange",function(){return t.updateName()}),y.bc(),y.bc(),y.bc(),y.Xb(8,"div",7),y.bc()),2&e&&(y.Ib(4),y.Dc("cuTooltip",t.tooltipMsg),y.Ib(2),y.Ob("cu-sprints-settings__invalid",t.invalid||t.invalidName),y.Ib(1),y.Dc("ngModel",t.name),y.Ib(1),y.Ob("red",t.invalidName),y.Dc("innerHTML",t.warning,y.Vc))},directives:[M.a,C.a,P.c,P.p,P.s],styles:['.cu-sprints-settings__modal .cu-modal__dialog{width:600px}.cu-sprints-settings__modal .cu-modal__body{min-height:0}.cu-sprints-settings__dropdown-modifier .cu-dropdown-list__menu{max-width:350px;width:350px}.cu-sprints-settings__dropdown-end{display:flex;align-items:center}.cu-sprints-settings__dropdown-date{font:300 10px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px}.cu-sprints-settings__title{display:flex;align-items:center;position:absolute;top:-48px}.cu-sprints-settings__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-text{font-family:var(--global-font-support)}}.cu-sprints-settings__title .icon{width:18px;height:14px;fill:#d2d0d5;margin-right:5px}.cu-sprints-settings__title-folder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin-left:12px;display:flex;align-items:center;height:30px;border:1px solid #e9ebf0;padding:12px 12px 12px 8px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-folder{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__title-folder{border-color:#1e272e}.cu-sprints-settings__cf-footer{display:flex;align-items:center;justify-content:center;padding:5px 8px;border-top:1px solid #e4e4e4}.cu-sprints-settings__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;margin-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header{font-family:var(--global-font-support)}}.cu-sprints-settings__header a{text-decoration:underline;color:var(--theme-main-color);cursor:pointer}.cu-sprints-settings__header-info{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header-info{font-family:var(--global-font-support)}}.cu-sprints-settings__header-info.inline{display:inline}.cu-sprints-settings__header.banner{width:100%;text-align:center;background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:5px 36px;line-height:18px;border-radius:4px;margin-bottom:20px;position:relative}.dark-theme .cu-sprints-settings__header.banner span{color:#292d34}.cu-sprints-settings__header.banner .icon{position:absolute;right:16px;top:12px;width:14px;height:14px;padding:2px;cursor:pointer;stroke:var(--theme-main-color)}.cu-sprints-settings__header.banner b{font-weight:500}.dark-theme .cu-sprints-settings__header.banner b{color:#292d34}.dark-theme .cu-sprints-settings__header svg{fill:#d5d6d7}.cu-sprints-settings__header-video-link{cursor:pointer;color:var(--theme-main-color)}.cu-sprints-settings .cu-form__row{margin-bottom:0}.cu-sprints-settings .cu-form__row.margin-top{margin-top:28px}.cu-sprints-settings .cu-form__row .cu-form__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings .cu-form__row .cu-form__label{font-family:var(--global-font-support)}}.cu-sprints-settings .cu-form__row .cu-form__label.margin-top{margin-top:10px}.cu-sprints-settings .cu-form__row.margin-bottom{margin-bottom:20px}.cu-sprints-settings .cu-form__row.margin-bottom-10{margin-bottom:10px}.cu-sprints-settings__description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:20px;margin-top:5px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__description{font-family:var(--global-font-support)}}.cu-sprints-settings__description span{color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);cursor:pointer}.cu-sprints-settings__learn{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__learn{color:var(--theme-main-color)}}.cu-sprints-settings__paywall-badge{background:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:4px;text-transform:uppercase;padding:3px 4px 2px;white-space:nowrap;display:inline-flex;align-items:center;margin-left:10px}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__paywall-badge{background:var(--theme-main-color)}}.cu-sprints-settings__open{color:#7b68ee;-webkit-text-decoration:dashed;text-decoration:dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__open{color:var(--theme-main-color)}}.cu-sprints-settings__help-question-mark{width:12px;height:12px;margin-left:5px;fill:#b9bec7}.dark-theme .cu-sprints-settings__help-question-mark{fill:#7c828d}.cu-sprints-settings__help-question-mark:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__help-question-mark:hover{fill:var(--theme-main-color)}}.cu-sprints-settings__label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__label{font-family:var(--global-font-support)}}.cu-sprints-settings__label.margin-top{margin-top:20px}.cu-sprints-settings__label.no-margin-bottom{margin-bottom:0}.cu-sprints-settings__automations{border:1px solid #e9ebf0;padding:24px;background:#fafbfc;margin:25px 0;border-radius:5px;position:relative}.dark-theme .cu-sprints-settings__automations{background-color:#2b343b;border-color:#1e272e}.cu-sprints-settings__automations .icon{right:18px;top:18px;position:absolute;width:25px;height:25px;fill:#b9bec7}.cu-sprints-settings__automations-container{position:relative}.cu-sprints-settings__automations-disabled{opacity:.5}.cu-sprints-settings__automations-cover{position:absolute;width:100%;height:100%;top:0}.cu-sprints-settings__automations-cover .cu-sprints-settings__paywall-badge{position:absolute;right:60px;top:25px}.cu-sprints-settings__automations-new{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;padding:10px 0 0;flex-wrap:wrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-new{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-new.disabled{color:#7c828d}.cu-sprints-settings__automations-items{margin-top:15px}.cu-sprints-settings__automations-item{margin-bottom:10px}.cu-sprints-settings__automations-item-break{background:#e9ebf0;margin:15px 0;width:100%;height:1px}.cu-sprints-settings__automations-item-blockquote{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin-top:15px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-blockquote{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-item-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin:10px 0;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-desc{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations .cu-checkbox__label{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__footer{display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cu-sprints-settings__footer .cu-btn{height:48px;font-size:16px;padding:0 26px}.cu-sprints-settings__footer .cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__footer .cancel{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;display:flex;align-items:center;justify-content:space-between;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__toggle{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;width:9px;height:7px;fill:#292d34}.dark-theme .cu-sprints-settings__toggle-arrow{fill:#d5d6d7}.cu-sprints-settings__row-item .cu-dropdown_open .cu-sprints-settings__toggle-arrow{transform:rotate(180deg)}.cu-sprints-settings__row{padding:5px 0}.cu-sprints-settings__row-paywall{background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:18px;border-radius:5px;margin:20px 0}.cu-sprints-settings__row-paywall-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1.2;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall-text{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall-text{color:#292d34}.cu-sprints-settings__row-paywall-checkbox{display:flex;align-items:center}.cu-sprints-settings__row-paywall .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall .cu-checkbox__label{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall .cu-checkbox__label{color:#292d34}.cu-sprints-settings__row-paywall .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__row-item,.cu-sprints-settings__row-items{display:flex;align-items:center}.cu-sprints-settings__row-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;position:relative;overflow:hidden;cursor:default;padding:0 12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-item{font-family:var(--global-font-support)}}.cu-sprints-settings__row-item.first-sprint{display:inline;padding:0 3px}.cu-sprints-settings__row-item.first-sprint .cu-form__input{font-size:11px;max-width:36px;flex-grow:0;display:inline}.dark-theme .cu-sprints-settings__row-item{border-color:#1e272e}.cu-sprints-settings__row-item.settings-duration{width:50px;margin-right:10px}.cu-sprints-settings__row-item.settings-future{padding:0;border:none;flex-wrap:wrap;display:inline-block;font-size:11px;line-height:18px}.cu-sprints-settings__row-item.settings-future.disabled .cu-sprints-settings__row-item.settings-future{color:#7c828d}.cu-sprints-settings__row-item.settings-future .cu-form__input{font-size:14px;text-align:center;margin:0 5px;width:30px;height:20px;border:1px solid #e9ebf0;display:inline}.cu-sprints-settings__row-item.settings-future .cu-form__input.disabled{cursor:not-allowed}.dark-theme .cu-sprints-settings__row-item.settings-future .cu-form__input{border-color:#1e272e}.cu-sprints-settings__row-item.settings-future .cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item.settings-name{width:100%}.cu-sprints-settings__row-item .cu-form__input{padding:0}.cu-sprints-settings__row-item .cu-form__input::-webkit-inner-spin-button,.cu-sprints-settings__row-item .cu-form__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.cu-sprints-settings__row-item.cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item .cu-dropdown-list{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown{width:100%;height:100%}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown__toggle{width:100%;height:100%;display:flex;justify-content:space-between}.cu-sprints-settings__row-item.inline-input{border:none;border-radius:0}.cu-sprints-settings__row-item.inline-input input{font-size:14px!important;text-align:center;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color)}.cu-sprints-settings__row-item.small{width:64px;height:40px}.cu-sprints-settings__row-item.settings-duration-week{width:180px;border:none!important}.cu-sprints-settings__row input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row input{font-family:var(--global-font-support)}}.cu-sprints-settings__note{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;max-width:340px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__note{font-family:var(--global-font-support)}}.cu-sprints-settings__note b{font-weight:500;color:#7c828d}.cu-sprints-settings__note.padding-top{padding-top:10px}.cu-sprints-settings__note.red{color:#d16464}.cu-sprints-settings__estimation-container{width:550px;margin-left:-12px;margin-top:1px!important}.cu-sprints-settings__estimation-menu{width:100%;max-width:none}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__title{flex-grow:0}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__submenu{margin-left:auto}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__check{width:11px;height:8px;margin:0 0 0 10px}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points{position:relative}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;position:absolute;top:9px;right:16px;content:"RECOMMENDED";height:14px;border:1px solid #7c828d;border-radius:3px;color:#7c828d;display:flex;align-items:center;padding:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{color:#828588;border-color:#828588}.cu-form__row.cu-sprints-settings__row-disabled{opacity:.5;cursor:not-allowed}'],encapsulation:2,changeDetection:0}),e})();function W(e,t){if(1&e){const e=y.dc();y.cc(0,"div",5),y.qc("click",function(){y.Uc(e);const i=t.$implicit;return y.uc().setFormat(i)}),y.cc(1,"label"),y.Xb(2,"input",6),y.Xb(3,"div",7),y.bc(),y.bc()}if(2&e){const e=t.$implicit,i=y.uc();y.Ib(2),y.Dc("value",e.value)("checked",i.dateFormat===e.value),y.Ib(1),y.Dc("innerText",e.display)}}let V=(()=>{class e{constructor(e){this.cdr=e,this.trackByDisplay=Object(A.d)("display"),this.dateOptions=r.g,this.dateFormat=r.h,this.onChange=new y.o}ngOnInit(){}setFormat({value:e}){this.dateFormat=e,this.onChange.emit({date_format:e}),this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(y.Wb(y.h))},e.\u0275cmp=y.Qb({type:e,selectors:[["cu-sprint-date-format"]],inputs:{dateFormat:"dateFormat"},outputs:{onChange:"onChange"},decls:5,vars:2,consts:function(){let e;return e=$localize`:@@common_date-format␟f963cba7db7b07bab33895d34934b62d091c4167␟756023565988937651: Date format `,[[1,"cu-form__row"],[1,"cu-sprints-settings__label","margin-top","no-margin-bottom"],e,[1,"cu-user-settings__time-format"],["class","cu-radio cu-user-settings__radio",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-radio","cu-user-settings__radio",3,"click"],["type","radio",1,"cu-radio__input",3,"value","checked"],[1,"cu-radio__label",3,"innerText"]]},template:function(e,t){1&e&&(y.cc(0,"div",0),y.cc(1,"div",1),y.gc(2,2),y.bc(),y.cc(3,"div",3),y.bd(4,W,4,3,"div",4),y.bc(),y.bc()),2&e&&(y.Ib(4),y.Dc("ngForOf",t.dateOptions)("ngForTrackBy",t.trackByDisplay))},directives:[D.p],styles:[""],encapsulation:2,changeDetection:0}),e})();var X=i("WoFS"),H=i("/qOb");function Y(e,t){1&e&&(y.cc(0,"div",23),y.gc(1,24),y.bc())}let Z=(()=>{class e{constructor(e){this.cdr=e,this.copyViews=!1,this.createNew=!1,this.closePastSprints=!1,this.spillover=!1,this.disabled=!1,this.invalidNumSprints=!1,this.onChange=new y.o,this.requiresAutoCreateSprintsText=$localize`:@@cu-sprint-automations__tooltip-msg_requires-auto-create-sprints:You must enable create new sprints automatically and automatically mark sprints as done to turn on this feature.`}ngOnInit(){}updateClosePast(){this.closePastSprints=!this.closePastSprints;const e={close_past_sprints:this.closePastSprints};this.closePastSprints||(this.spillover=!1,e.spillover_tasks=this.spillover),this.emitChange(e)}updateCopyViews(){this.copyViews=!this.copyViews,this.emitChange({copy_views:this.copyViews})}updateCreateNew(){this.createNew=!this.createNew;const e={create_new_sprints:this.createNew};this.createNew?this.numFutureSprints||(this.numFutureSprints=1,e.num_future_sprints=this.numFutureSprints):(this.spillover=!1,e.spillover_tasks=this.spillover),this.emitChange(e)}checkNumbers(e){H.b.includes(e.which)||e.preventDefault()}validate(){this.numFutureSprints=0===this.numFutureSprints?1:this.numFutureSprints<0?-1*this.numFutureSprints:this.numFutureSprints,this.emitChange({num_future_sprints:this.numFutureSprints})}emitChange(e){this.onChange.emit(e),this.cdr.markForCheck()}updateSpillover(){this.spillover=!this.spillover,this.emitChange({spillover_tasks:this.spillover})}}return e.\u0275fac=function(t){return new(t||e)(y.Wb(y.h))},e.\u0275cmp=y.Qb({type:e,selectors:[["cu-sprint-automations"]],inputs:{copyViews:"copyViews",createNew:"createNew",closePastSprints:"closePastSprints",spillover:"spillover",numFutureSprints:"numFutureSprints",disabled:"disabled",invalidNumSprints:"invalidNumSprints"},outputs:{onChange:"onChange"},decls:25,vars:16,consts:function(){let e,t,i,a,o,c,n,s;return e=$localize`:@@cu-sprint-automations__form-label_sprint-automations␟be40ac0540886fccc7b9f850e8c1ee6b193ce790␟8301639564826580257: Sprints Automation `,t=$localize`:@@cu-sprint-automations__form-label_create-new-sprints-automatically␟30df00ada8b50e763e4f93ee548285f152bf90c8␟7372346275706947595: Create new sprints automatically `,i=$localize`:@@cu-sprint-automations__create-next-n-sprints␟929e91f8ff482ad4eb322b4f095531581d6ab988␟6503828325204123200: Always create the next ${"\ufffd#12\ufffd\ufffd/#12\ufffd"}:TAG_INPUT: sprints if they aren't already created. This automation is based off the current sprint's index. `,a=$localize`:@@common_auto-mark-sprints-as-done␟33ce13db75605ade84944ea9fd1e4e570854fe8e␟6355905388425212797: Automatically mark sprints as Done `,o=$localize`:@@cu-sprint-automations__form-hint_auto-mark-sprints-as-done␟bc581e641ee9fb42027c867a26bad841c62cb10a␟5773219423247878660: Automatically marks sprints as done at 11:59PM PT on the end date of the Sprint. `,c=$localize`:@@cu-sprint-automations__form-label_spillover-tasks-to-next-sprint␟b348815158c4e70437cd80f7f79b7ba4a180d2fc␟1362410434462776095: Move unfinished (spillover) tasks to next sprint `,n=$localize`:@@cu-sprint-automations__form-hint_spillover-tasks-to-next-sprint␟227ea7026361522a35dfd4d161867985fbd4e8e0␟6980973395076336718: Tasks will be moved right before the current sprint ends to the next sprint in the same folder. This will create a new sprint if it doesn't exist. `,s=$localize`:@@cu-sprint-automations__form-error_number-sprints-invalid-positive-integer␟87263af00ef0c68834a0f3cacefb719b4b759b3a␟5107291996810294118: Number of sprints must be a positive integer. `,[[1,"cu-sprints-settings__automations"],["icon","cu2-robot",1,"cu-sprints-settings__automations-icon"],[1,"cu-form__row"],[1,"cu-form__label"],e,[1,"cu-sprints-settings__automations-items"],[1,"cu-sprints-settings__automations-item"],[3,"checked","onChange"],t,[1,"cu-sprints-settings__automations-new"],[1,"cu-sprints-settings__row-item","settings-future"],i,["type","number",1,"cu-form__input",3,"disabled","ngModel","keydown","ngModelChange"],["class","cu-sprints-settings__note red padding-top",4,"ngIf"],a,[1,"cu-sprints-settings__automations-item-desc"],o,[1,"cu-sprints-settings__automations-item-break"],[1,"cu-sprints-settings__automations-item",3,"cuTooltip"],[3,"disabled","checked","onChange"],c,[1,"cu-sprints-settings__automations-item-blockquote"],n,[1,"cu-sprints-settings__note","red","padding-top"],s]},template:function(e,t){1&e&&(y.cc(0,"div",0),y.Xb(1,"div",1),y.cc(2,"div",2),y.cc(3,"div",3),y.gc(4,4),y.bc(),y.cc(5,"div",5),y.cc(6,"div",6),y.cc(7,"cu-checkbox",7),y.qc("onChange",function(){return t.updateCreateNew()}),y.gc(8,8),y.bc(),y.cc(9,"div",9),y.cc(10,"div",10),y.mc(11,11),y.cc(12,"input",12),y.qc("keydown",function(e){return t.checkNumbers(e)})("ngModelChange",function(e){return t.numFutureSprints=e})("ngModelChange",function(){return t.validate()}),y.bc(),y.jc(),y.bc(),y.bc(),y.bd(13,Y,2,0,"div",13),y.bc(),y.cc(14,"div",6),y.cc(15,"cu-checkbox",7),y.qc("onChange",function(){return t.updateClosePast()}),y.gc(16,14),y.bc(),y.cc(17,"div",15),y.gc(18,16),y.bc(),y.bc(),y.Xb(19,"div",17),y.cc(20,"div",18),y.cc(21,"cu-checkbox",19),y.qc("onChange",function(){return t.updateSpillover()}),y.gc(22,20),y.bc(),y.cc(23,"div",21),y.gc(24,22),y.bc(),y.bc(),y.bc(),y.bc(),y.bc()),2&e&&(y.Ob("cu-sprints-settings__automations-disabled",t.disabled),y.Ib(7),y.Dc("checked",t.createNew),y.Ib(3),y.Ob("disabled",!t.createNew),y.Ib(2),y.Ob("cu-sprints-settings__invalid",t.createNew&&(!t.numFutureSprints||t.invalidNumSprints))("disabled",!t.createNew),y.Dc("disabled",!t.createNew)("ngModel",t.numFutureSprints),y.Ib(1),y.Dc("ngIf",t.invalidNumSprints),y.Ib(2),y.Dc("checked",t.closePastSprints),y.Ib(5),y.Dc("cuTooltip",t.createNew&&t.closePastSprints?null:t.requiresAutoCreateSprintsText),y.Ib(1),y.Dc("disabled",!t.createNew||!t.closePastSprints)("checked",t.spillover))},directives:[M.a,X.a,P.u,P.c,P.p,P.s,D.q,C.a],styles:['.cu-sprints-settings__modal .cu-modal__dialog{width:600px}.cu-sprints-settings__modal .cu-modal__body{min-height:0}.cu-sprints-settings__dropdown-modifier .cu-dropdown-list__menu{max-width:350px;width:350px}.cu-sprints-settings__dropdown-end{display:flex;align-items:center}.cu-sprints-settings__dropdown-date{font:300 10px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px}.cu-sprints-settings__title{display:flex;align-items:center;position:absolute;top:-48px}.cu-sprints-settings__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-text{font-family:var(--global-font-support)}}.cu-sprints-settings__title .icon{width:18px;height:14px;fill:#d2d0d5;margin-right:5px}.cu-sprints-settings__title-folder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin-left:12px;display:flex;align-items:center;height:30px;border:1px solid #e9ebf0;padding:12px 12px 12px 8px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-folder{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__title-folder{border-color:#1e272e}.cu-sprints-settings__cf-footer{display:flex;align-items:center;justify-content:center;padding:5px 8px;border-top:1px solid #e4e4e4}.cu-sprints-settings__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;margin-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header{font-family:var(--global-font-support)}}.cu-sprints-settings__header a{text-decoration:underline;color:var(--theme-main-color);cursor:pointer}.cu-sprints-settings__header-info{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header-info{font-family:var(--global-font-support)}}.cu-sprints-settings__header-info.inline{display:inline}.cu-sprints-settings__header.banner{width:100%;text-align:center;background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:5px 36px;line-height:18px;border-radius:4px;margin-bottom:20px;position:relative}.dark-theme .cu-sprints-settings__header.banner span{color:#292d34}.cu-sprints-settings__header.banner .icon{position:absolute;right:16px;top:12px;width:14px;height:14px;padding:2px;cursor:pointer;stroke:var(--theme-main-color)}.cu-sprints-settings__header.banner b{font-weight:500}.dark-theme .cu-sprints-settings__header.banner b{color:#292d34}.dark-theme .cu-sprints-settings__header svg{fill:#d5d6d7}.cu-sprints-settings__header-video-link{cursor:pointer;color:var(--theme-main-color)}.cu-sprints-settings .cu-form__row{margin-bottom:0}.cu-sprints-settings .cu-form__row.margin-top{margin-top:28px}.cu-sprints-settings .cu-form__row .cu-form__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings .cu-form__row .cu-form__label{font-family:var(--global-font-support)}}.cu-sprints-settings .cu-form__row .cu-form__label.margin-top{margin-top:10px}.cu-sprints-settings .cu-form__row.margin-bottom{margin-bottom:20px}.cu-sprints-settings .cu-form__row.margin-bottom-10{margin-bottom:10px}.cu-sprints-settings__description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:20px;margin-top:5px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__description{font-family:var(--global-font-support)}}.cu-sprints-settings__description span{color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);cursor:pointer}.cu-sprints-settings__learn{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__learn{color:var(--theme-main-color)}}.cu-sprints-settings__paywall-badge{background:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:4px;text-transform:uppercase;padding:3px 4px 2px;white-space:nowrap;display:inline-flex;align-items:center;margin-left:10px}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__paywall-badge{background:var(--theme-main-color)}}.cu-sprints-settings__open{color:#7b68ee;-webkit-text-decoration:dashed;text-decoration:dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__open{color:var(--theme-main-color)}}.cu-sprints-settings__help-question-mark{width:12px;height:12px;margin-left:5px;fill:#b9bec7}.dark-theme .cu-sprints-settings__help-question-mark{fill:#7c828d}.cu-sprints-settings__help-question-mark:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__help-question-mark:hover{fill:var(--theme-main-color)}}.cu-sprints-settings__label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__label{font-family:var(--global-font-support)}}.cu-sprints-settings__label.margin-top{margin-top:20px}.cu-sprints-settings__label.no-margin-bottom{margin-bottom:0}.cu-sprints-settings__automations{border:1px solid #e9ebf0;padding:24px;background:#fafbfc;margin:25px 0;border-radius:5px;position:relative}.dark-theme .cu-sprints-settings__automations{background-color:#2b343b;border-color:#1e272e}.cu-sprints-settings__automations .icon{right:18px;top:18px;position:absolute;width:25px;height:25px;fill:#b9bec7}.cu-sprints-settings__automations-container{position:relative}.cu-sprints-settings__automations-disabled{opacity:.5}.cu-sprints-settings__automations-cover{position:absolute;width:100%;height:100%;top:0}.cu-sprints-settings__automations-cover .cu-sprints-settings__paywall-badge{position:absolute;right:60px;top:25px}.cu-sprints-settings__automations-new{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;padding:10px 0 0;flex-wrap:wrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-new{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-new.disabled{color:#7c828d}.cu-sprints-settings__automations-items{margin-top:15px}.cu-sprints-settings__automations-item{margin-bottom:10px}.cu-sprints-settings__automations-item-break{background:#e9ebf0;margin:15px 0;width:100%;height:1px}.cu-sprints-settings__automations-item-blockquote{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin-top:15px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-blockquote{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-item-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin:10px 0;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-desc{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations .cu-checkbox__label{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__footer{display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cu-sprints-settings__footer .cu-btn{height:48px;font-size:16px;padding:0 26px}.cu-sprints-settings__footer .cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__footer .cancel{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;display:flex;align-items:center;justify-content:space-between;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__toggle{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;width:9px;height:7px;fill:#292d34}.dark-theme .cu-sprints-settings__toggle-arrow{fill:#d5d6d7}.cu-sprints-settings__row-item .cu-dropdown_open .cu-sprints-settings__toggle-arrow{transform:rotate(180deg)}.cu-sprints-settings__row{padding:5px 0}.cu-sprints-settings__row-paywall{background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:18px;border-radius:5px;margin:20px 0}.cu-sprints-settings__row-paywall-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1.2;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall-text{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall-text{color:#292d34}.cu-sprints-settings__row-paywall-checkbox{display:flex;align-items:center}.cu-sprints-settings__row-paywall .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall .cu-checkbox__label{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall .cu-checkbox__label{color:#292d34}.cu-sprints-settings__row-paywall .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__row-item,.cu-sprints-settings__row-items{display:flex;align-items:center}.cu-sprints-settings__row-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;position:relative;overflow:hidden;cursor:default;padding:0 12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-item{font-family:var(--global-font-support)}}.cu-sprints-settings__row-item.first-sprint{display:inline;padding:0 3px}.cu-sprints-settings__row-item.first-sprint .cu-form__input{font-size:11px;max-width:36px;flex-grow:0;display:inline}.dark-theme .cu-sprints-settings__row-item{border-color:#1e272e}.cu-sprints-settings__row-item.settings-duration{width:50px;margin-right:10px}.cu-sprints-settings__row-item.settings-future{padding:0;border:none;flex-wrap:wrap;display:inline-block;font-size:11px;line-height:18px}.cu-sprints-settings__row-item.settings-future.disabled .cu-sprints-settings__row-item.settings-future{color:#7c828d}.cu-sprints-settings__row-item.settings-future .cu-form__input{font-size:14px;text-align:center;margin:0 5px;width:30px;height:20px;border:1px solid #e9ebf0;display:inline}.cu-sprints-settings__row-item.settings-future .cu-form__input.disabled{cursor:not-allowed}.dark-theme .cu-sprints-settings__row-item.settings-future .cu-form__input{border-color:#1e272e}.cu-sprints-settings__row-item.settings-future .cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item.settings-name{width:100%}.cu-sprints-settings__row-item .cu-form__input{padding:0}.cu-sprints-settings__row-item .cu-form__input::-webkit-inner-spin-button,.cu-sprints-settings__row-item .cu-form__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.cu-sprints-settings__row-item.cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item .cu-dropdown-list{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown{width:100%;height:100%}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown__toggle{width:100%;height:100%;display:flex;justify-content:space-between}.cu-sprints-settings__row-item.inline-input{border:none;border-radius:0}.cu-sprints-settings__row-item.inline-input input{font-size:14px!important;text-align:center;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color)}.cu-sprints-settings__row-item.small{width:64px;height:40px}.cu-sprints-settings__row-item.settings-duration-week{width:180px;border:none!important}.cu-sprints-settings__row input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row input{font-family:var(--global-font-support)}}.cu-sprints-settings__note{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;max-width:340px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__note{font-family:var(--global-font-support)}}.cu-sprints-settings__note b{font-weight:500;color:#7c828d}.cu-sprints-settings__note.padding-top{padding-top:10px}.cu-sprints-settings__note.red{color:#d16464}.cu-sprints-settings__estimation-container{width:550px;margin-left:-12px;margin-top:1px!important}.cu-sprints-settings__estimation-menu{width:100%;max-width:none}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__title{flex-grow:0}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__submenu{margin-left:auto}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__check{width:11px;height:8px;margin:0 0 0 10px}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points{position:relative}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;position:absolute;top:9px;right:16px;content:"RECOMMENDED";height:14px;border:1px solid #7c828d;border-radius:3px;color:#7c828d;display:flex;align-items:center;padding:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{color:#828588;border-color:#828588}.cu-form__row.cu-sprints-settings__row-disabled{opacity:.5;cursor:not-allowed}'],encapsulation:2,changeDetection:0}),e})();var Q=i("FrPa");const K=["bizPill"];function J(e,t){if(1&e&&(y.cc(0,"div",20),y.cc(1,"div",21),y.gc(2,22),y.bc(),y.cc(3,"div",23),y.Xb(4,"div",24),y.dd(5),y.vc(6,"async"),y.bc(),y.bc()),2&e){const e=y.uc();let t=null;y.Ib(5),y.fd(" ",null==(t=y.wc(6,1,e.category$))?null:t.name," ")}}function ee(e,t){if(1&e){const e=y.dc();y.cc(0,"span"),y.mc(1,29),y.cc(2,"a",30),y.qc("click",function(){return y.Uc(e),y.uc(2).openVideo()}),y.bc(),y.jc(),y.bc()}}function te(e,t){if(1&e){const e=y.dc();y.cc(0,"span"),y.mc(1,31),y.cc(2,"a",30),y.qc("click",function(){return y.Uc(e),y.uc(2).openVideo()}),y.bc(),y.jc(),y.bc()}}function ie(e,t){if(1&e){const e=y.dc();y.cc(0,"div",32),y.qc("click",function(){return y.Uc(e),y.uc(2).showDesc=!1}),y.bc()}}function ae(e,t){if(1&e&&(y.cc(0,"div",25),y.Xb(1,"span",26),y.vc(2,"trustHTML"),y.bd(3,ee,3,0,"span",27),y.bd(4,te,3,0,"span",27),y.bd(5,ie,1,0,"div",28),y.bc()),2&e){const e=y.uc();y.Ob("banner",e.sprintSettingsType===e.SprintSettingsType.CATEGORY),y.Ib(1),y.Dc("innerHTML",y.wc(2,6,e.sprintSettingsDesc[e.sprintSettingsType]),y.Vc),y.Ib(2),y.Dc("ngIf",e.sprintSettingsType===e.SprintSettingsType.CATEGORY),y.Ib(1),y.Dc("ngIf",e.sprintSettingsType===e.SprintSettingsType.PROJECT),y.Ib(1),y.Dc("ngIf",e.sprintSettingsType===e.SprintSettingsType.CATEGORY)}}function oe(e,t){1&e&&(y.cc(0,"div",43),y.gc(1,44),y.bc())}function ce(e,t){if(1&e){const e=y.dc();y.cc(0,"div",33),y.cc(1,"div",34,35),y.qc("click",function(){y.Uc(e);const t=y.Rc(2);return y.uc().checkPlan(t)}),y.cc(3,"div",36),y.gc(4,37),y.bc(),y.cc(5,"div",38),y.cc(6,"cu-checkbox",39),y.qc("onChange",function(){return y.Uc(e),y.uc().updateClosePast()}),y.gc(7,40),y.vc(8,"async"),y.vc(9,"async"),y.bc(),y.bd(10,oe,2,0,"div",41),y.vc(11,"async"),y.vc(12,"async"),y.Xb(13,"div",42),y.bc(),y.bc(),y.bc()}if(2&e){const e=y.uc(),t=y.Rc(36);y.Ib(1),y.Dc("popover",t),y.Ib(5),y.Dc("checked",e.closePastSprints)("disabled",y.wc(8,4,e.team$).plan_id!==e.TeamPlan.BUSINESS&&y.wc(9,6,e.team$).plan_id!==e.TeamPlan.ENTERPRISE),y.Ib(4),y.Dc("ngIf",y.wc(11,8,e.team$).plan_id!==e.TeamPlan.BUSINESS&&y.wc(12,10,e.team$).plan_id!==e.TeamPlan.ENTERPRISE)}}function ne(e,t){if(1&e){const e=y.dc();y.cc(0,"div",49),y.qc("click",function(){return y.Uc(e),y.uc(),y.Rc(1).show()}),y.cc(1,"div",43),y.gc(2,50),y.bc(),y.bc()}}function se(e,t){if(1&e){const e=y.dc();y.cc(0,"div",45,46),y.cc(2,"cu-sprint-automations",47),y.qc("onChange",function(t){return y.Uc(e),y.uc().updateSettings(t)}),y.vc(3,"async"),y.vc(4,"async"),y.vc(5,"async"),y.bc(),y.bd(6,ne,3,0,"div",48),y.vc(7,"async"),y.vc(8,"async"),y.bc()}if(2&e){const e=y.uc(),t=y.Rc(36);y.Dc("popover",t),y.Ib(2),y.Dc("disabled",y.wc(3,9,e.team$).plan_id!==e.TeamPlan.BUSINESS&&y.wc(4,11,e.team$).plan_id!==e.TeamPlan.ENTERPRISE)("copyViews",e.copyViews)("createNew",e.createNew)("closePastSprints",e.closePastSprints)("spillover",e.spillover)("numFutureSprints",e.numFutureSprints)("invalidNumSprints",y.wc(5,13,e.invalidNumSprints$)),y.Ib(4),y.Dc("ngIf",y.wc(7,15,e.team$).plan_id!==e.TeamPlan.BUSINESS&&y.wc(8,17,e.team$).plan_id!==e.TeamPlan.ENTERPRISE)}}function re(e,t){if(1&e){const e=y.dc();y.cc(0,"div",12),y.cc(1,"div",51),y.qc("click",function(){return y.Uc(e),y.uc().cancel()}),y.cc(2,"div",15),y.gc(3,52),y.bc(),y.bc(),y.bc()}}function le(e,t){1&e&&(y.cc(0,"div",53),y.gc(1,54),y.bc())}function de(e,t){1&e&&(y.ac(0),y.gc(1,55),y.Zb())}function ue(e,t){1&e&&(y.ac(0),y.gc(1,56),y.Zb())}function pe(e,t){if(1&e&&y.Xb(0,"cu-paywall-popover",57),2&e){const e=y.uc();y.Dc("title",e.sprintAutomationsPaywallTitleText)("image","./assets/images/components/paywall-popover/personal-view.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToBusinessText)("amplitudeLabel","Sprint Automations")}}function me(e,t){1&e&&(y.cc(0,"div",43),y.gc(1,58),y.bc())}const he=function(e,t){return{type:"team",id:e,name:t}},be=function(e,t){return{type:"category",id:e,name:t}};let ge=(()=>{class e{constructor(e,t,i,c,n){this.store=e,this.cdr=t,this.modal=i,this.dataService=c,this.paywallCommonStringsService=n,this.sprintSettingsType=s.c.PROJECT,this.emitOnClose=!1,this.onClose=new y.o,this.onChangeEstimation=new y.o,this.onPickSprint=new y.o,this.SprintSettingsType=s.c,this.TeamPlan=a.f,this.sprintSettingsDesc=r.m,this.changes$=new l.a({}),this.originalSettings$=new l.a(null),this.category$=new l.a(null),this.entity$=new l.a(null),this.saving$=new l.a(!1),this.autoCreatedCf=!1,this.showDesc=!0,this.onCloseData=null,this.team$=this.store.select(_.getTeam),this.sprintSettings$=Object(d.a)([this.team$,this.category$]).pipe(Object(p.a)(([e,t])=>!(!e||this.sprintSettingsType!==s.c.PROJECT&&!t)),Object(m.a)(([e,t])=>t&&t.features&&t.features.sprints&&t.features.sprints.enabled&&t.features.sprints.settings&&Object(o.g)(t.features.sprints.settings.start_day)?Object.assign(Object.assign({},t.features.sprints.settings),{date_format:this.sprintDateFormat||t.features.sprints.settings.date_format}):e&&e.sprint_settings&&Object(o.g)(e.sprint_settings.start_day)?Object.assign(Object.assign({},e.sprint_settings),{date_format:this.sprintDateFormat||e.sprint_settings.date_format}):Object.assign(Object.assign({},r.i),{date_format:this.sprintDateFormat||r.i.date_format}))),this.creatingFolderSettings$=this.category$.pipe(Object(m.a)(e=>!(e&&e.features&&e.features.sprints&&e.features.sprints.enabled&&e.features.sprints.settings&&Object(o.g)(e.features.sprints.settings.start_day)))),this.saveFolderSettings$=this.category$.pipe(Object(m.a)(e=>!(!e||e.features&&e.features.sprints&&e.features.sprints.settings))),this.customFields$=this.entity$.pipe(Object(p.a)(e=>!!e),Object(h.a)(e=>this.store.select(Object(S.f)(e))),Object(p.a)(e=>!!e),Object(m.a)(e=>e.filter(e=>Object(x.d)(e,[])))),this.items$=Object(d.a)([this.changes$,this.originalSettings$]).pipe(Object(p.a)(([e,t])=>!!t),Object(m.a)(([e,t])=>{const i=e.duration_timeframe||t.duration_timeframe;return r.k.map(e=>Object.assign(Object.assign({},e),{checked:e.id===i}))})),this.dayItems$=Object(d.a)([this.changes$,this.originalSettings$]).pipe(Object(p.a)(([e,t])=>!!t),Object(m.a)(([e,t])=>{const i=e.hasOwnProperty("start_day")?e.start_day:t.start_day;return r.j.map(e=>Object.assign(Object.assign({},e),{checked:e.id===i}))})),this.estimationItems$=Object(d.a)([this.changes$,this.originalSettings$,this.customFields$,this.team$]).pipe(Object(p.a)(([e,t,i,a])=>!!t&&!!a),Object(m.a)(([e,t,i,o])=>{const c=e.hasOwnProperty("estimation")?e.estimation:t.estimation,n=r.l.map(e=>Object.assign(Object.assign({},e),{checked:e.id===c,endRowTemplate:[a.f.BUSINESS,a.f.ENTERPRISE].includes(o.plan_id)||"points"!==e.id?null:this.bizPill}));if(this.autoCreatedCf&&i&&i.length){const e=i.find(e=>e.name===r.c);e&&(this.autoCreatedCf=!1,setTimeout(()=>this.updateSettings({estimation:e.id})))}const s=(i||[]).map(e=>({id:e.id,title:e.name,icon:"field-"+e.type,checked:c===e.id,checkType:"check"}));return-1===s.findIndex(e=>e.title===r.c)&&s.push({id:r.c,title:r.c,icon:"field-"+x.a.Dropdown,checkType:"check"}),n.push({id:"custom-field",icon:"cu2-custom-field",title:$localize`:@@common_custom-field-1:Custom Field`,checked:c&&"points"!==c&&"time_estimate"!==c,checkType:"check",showSearch:!0,subitems:s,tooltip:$localize`:@@cu-sprints-settings__tooltip-msg_cf-estimation-item:This will add a Custom Field to your tasks called Sprint Points CF which is pre-loaded with the Fibonacci sequence. You can customize this field later.`,tooltipLifeTime:1e4,tooltipIcon:!0}),n})),this.invalidDuration$=this.changes$.pipe(Object(m.a)(e=>!!e.hasOwnProperty("duration_number")&&!e.duration_number)),this.invalidName$=this.changes$.pipe(Object(m.a)(e=>!!e.hasOwnProperty("name_format")&&!(e.name_format||"").includes(r.b))),this.invalidNumSprints$=this.changes$.pipe(Object(m.a)(e=>!(!e.hasOwnProperty("num_future_sprints")||e.num_future_sprints&&Number.isInteger(e.num_future_sprints)))),this.needsFutureSprints$=Object(d.a)([this.category$,this.originalSettings$]).pipe(Object(m.a)(([e,t])=>{if(!(e&&t&&t.create_new_sprints&&t.num_future_sprints))return!1;const i=(e.subcategories||[]).filter(e=>e.sprint);return!i.length||this.createFutureSprints(i,t).length>0})),this.notReadyToSave$=Object(d.a)([this.invalidDuration$,this.changes$,this.originalSettings$,this.needsFutureSprints$,this.invalidNumSprints$,this.invalidName$,this.saveFolderSettings$]).pipe(Object(m.a)(([e,t,i,a,o,c,n])=>!!(c||o||e||this.invalidNumFutureSprints(Object.assign(Object.assign({},i),t)))||!a&&!n&&(!(t&&i&&Object.keys(t).length)||Object.keys(t).every(e=>t[e]===i[e])))),this.disableChangingSprintDuration$=Object(d.a)([this.creatingFolderSettings$,this.category$]).pipe(Object(m.a)(([e,t])=>!e||t&&(t.subcategories||[]).some(e=>e.sprint))),this.destroy$=new u.a,this.sprintAutomationsPaywallTitleText=$localize`:@@paywall_title--sprint-automations:Sprint Automations`}ngOnInit(){this.sprintSettings$.pipe(Object(b.a)(this.sprintSettingsType===s.c.PROJECT?1:2),Object(g.a)(()=>this.cdr.markForCheck()),Object(f.a)(this.destroy$)).subscribe(e=>{this.originalSettings$.next(Object.assign({},e||r.i)),this.duration=this.originalSettings$.value.duration_number,this.closePastSprints=this.originalSettings$.value.close_past_sprints,this.sprintNameFormat=this.originalSettings$.value.name_format,this.sprintDateFormat=this.originalSettings$.value.date_format||r.h,this.createNew=this.originalSettings$.value.create_new_sprints,this.copyViews=this.originalSettings$.value.copy_views,this.numFutureSprints=this.originalSettings$.value.num_future_sprints,this.spillover=this.originalSettings$.value.spillover_tasks}),this.sprintSettingsType===s.c.CATEGORY?this.category$.pipe(Object(p.a)(e=>!!e),Object(b.a)(1),Object(f.a)(this.destroy$)).subscribe(e=>{const t={id:e.id,type:"category",name:e.name};this.store.dispatch(Object(c.m)({entity:t})),this.entity$.next(t)}):this.sprintSettingsType===s.c.PROJECT&&this.team$.pipe(Object(p.a)(e=>!!e),Object(b.a)(1),Object(f.a)(this.destroy$)).subscribe(e=>{const t={id:e.id,type:"team",name:e.name};this.store.dispatch(Object(c.m)({entity:t})),this.entity$.next(t)})}ngOnDestroy(){this.emitOnClose&&this.onClose.emit(this.onCloseData),this.destroy$.next(),this.destroy$.unsubscribe()}invalidNumFutureSprints(e){return e.create_new_sprints&&!e.num_future_sprints}updateSettings(e){e.estimation&&e.estimation===r.c&&(this.autoCreatedCf=!0,this.store.dispatch(Object(c.a)({entity:this.entity$.value,field:{name:r.c,type:x.a.Dropdown,type_config:{options:[{name:"1",color:null,new_drop_down:!0,id:null},{name:"2",color:null,new_drop_down:!0,id:null},{name:"3",color:null,new_drop_down:!0,id:null},{name:"5",color:null,new_drop_down:!0,id:null},{name:"8",color:null,new_drop_down:!0,id:null},{name:"13",color:null,new_drop_down:!0,id:null},{name:"21",color:null,new_drop_down:!0,id:null}],placeholder:null}}}))),this.changes$.next(Object.assign(Object.assign({},this.changes$.value),e))}updateClosePast(){this.closePastSprints=!this.closePastSprints,this.updateSettings({close_past_sprints:this.closePastSprints}),this.cdr.markForCheck()}saveSettings(){Object(d.a)([this.invalidDuration$,this.changes$,this.originalSettings$,this.invalidNumSprints$,this.invalidName$]).pipe(Object(b.a)(1)).subscribe(([e,t,i,a,c])=>{if(c||a||e||this.invalidNumFutureSprints(Object.assign(Object.assign({},i),t)))return;this.saving$.next(!0);let r={sprint_settings:Object.assign({},this.changes$.value)};if(this.sprintSettingsType===s.c.PROJECT)this.team$.pipe(Object(p.a)(e=>!!e),Object(b.a)(1),Object(f.a)(this.destroy$)).subscribe(e=>{e.sprint_settings||(r={sprint_settings:Object.assign(Object.assign({},this.originalSettings$.value),this.changes$.value)}),this.store.dispatch(new n.Km(e.id,r)),r.sprint_settings&&r.sprint_settings.estimation&&this.onChangeEstimation.emit({estimation:r.sprint_settings.estimation}),this.saving$.next(!1),this.modal.close()});else{const e=this.category$.value;e&&e.sprint_settings||e&&e.features&&e.features.sprints&&e.features.sprints.enabled&&e.features.sprints.settings?t=Object.assign({},this.changes$.value):r={sprint_settings:Object.assign(Object.assign({},this.originalSettings$.value),this.changes$.value)};const i=Object.assign(Object.assign({},this.originalSettings$.value),this.changes$.value);if(i.create_new_sprints){const t=(e.subcategories||[]).filter(e=>e.sprint).sort((e,t)=>+e.sprint_start_date-+t.sprint_start_date);if(!t.length)return this.emitOnClose=!1,void(Object.keys(this.changes$.value).length?this.dataService.editCategorySprint(this.category$.value.id,r).subscribe(e=>{this.store.dispatch(new n.Si(e.category)),this.onPickSprint.emit({numSprints:i.num_future_sprints}),this.saving$.next(!1),this.modal.close()}):(this.onPickSprint.emit({numSprints:i.num_future_sprints}),this.saving$.next(!1),this.modal.close()));const a=this.createFutureSprints(t,i);a.length&&(r.subcategories=a)}this.store.dispatch(new n.nm(this.category$.value.id,r)),r.sprint_settings&&r.sprint_settings.estimation&&this.store.pipe(Object(v.select)(Object(_.getProjectById)(this.category$.value.project_id)),Object(b.a)(1),Object(f.a)(this.destroy$)).subscribe(e=>{const t=Object(o.e)(r.sprint_settings.estimation);if(e&&(!e.features[t]||!e.features[t].enabled)){const i={id:e.id,features:{[t]:{enabled:!0}}};this.store.dispatch(new n.ym({id:e.id,data:Object.assign(Object.assign({},i),{features:Object.assign(Object.assign({},e.features),i.features)})}))}}),this.saving$.next(!1),this.modal.close()}})}checkPlan(e){this.team$.pipe(Object(b.a)(1),Object(f.a)(this.destroy$)).subscribe(t=>{[a.f.BUSINESS,a.f.ENTERPRISE].includes(t.plan_id)||e.show()})}createFutureSprints(e,t){let i=0;const a=Object(o.d)(e,t,t.num_future_sprints,-1,!1).map(t=>{if(i)return Object.assign(Object.assign({},t),{customPayload:Object.assign(Object.assign({},t.customPayload),{index:t.customPayload.index+i})});const a=e.find(e=>k()(+t.customPayload.start).tz(r.f).isSameOrAfter(k()(+e.sprint_start_date).tz(r.f),"day")&&k()(+t.customPayload.end).tz(r.f).isSameOrBefore(k()(+e.sprint_end_date).tz(r.f),"day"));return a?(i=a.sprint_index-t.customPayload.index,Object.assign(Object.assign({},t),{customPayload:Object.assign(Object.assign({},t.customPayload),{index:a.sprint_index})})):t}),c=[];return(a||[]).forEach(i=>{-1===e.findIndex(e=>e.sprint_index===i.customPayload.index)&&c.push(Object(o.c)(!0,i.customPayload.start,i.customPayload.end,t.name_format,t.date_format,i.customPayload.index))}),c}openVideo(){this.store.dispatch(new T.f({show:!0,id:"cyu9jyxcq4",miscData:null}))}cancel(){this.onCloseData={fullClose:!0},this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(y.Wb(v.Store),y.Wb(y.h),y.Wb(j.a),y.Wb(O.a),y.Wb(I.a))},e.\u0275cmp=y.Qb({type:e,selectors:[["cu-sprints-settings"]],viewQuery:function(e,t){if(1&e&&y.jd(K,3),2&e){let e;y.Qc(e=y.rc())&&(t.bizPill=e.first)}},inputs:{sprintSettingsType:"sprintSettingsType",emitOnClose:"emitOnClose"},outputs:{onClose:"onClose",onChangeEstimation:"onChangeEstimation",onPickSprint:"onPickSprint"},decls:39,vars:57,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b;return e=$localize`:@@common_sprint-settings␟27746238160075355b178aaa7838e02fe7570090␟5862241077187799736: Sprint Settings `,t=$localize`:@@cu-sprints-settings__watch-video-sprints-clickapp-folder␟255866a9e19c28eae71e32ffca71a2d6f24c4ba3␟7828205140319924300:Watch this ${"\ufffd#2\ufffd"}:START_LINK:brief video${"\ufffd/#2\ufffd"}:CLOSE_LINK: to learn more about the Sprints ClickApp.`,i=$localize`:@@cu-sprints-settings__watch-video-sprints-clickapp-space␟94a61cd79522b133a28f90145b602a27ce6ee429␟8511954430296421509:Watch ${"\ufffd#2\ufffd"}:START_LINK:a brief video${"\ufffd/#2\ufffd"}:CLOSE_LINK: to learn about how the Sprints ClickApp works.`,a=$localize`:@@cu-sprints-settings__help-msg_sprint-marked-as-done␟7c57acf9bfc89ee2126a5d30d180bed077048d00␟9032800136245236491: When this is checked, Sprints will be marked as done when your end date elapses. `,o=$localize`:@@common_auto-mark-sprints-as-done␟33ce13db75605ade84944ea9fd1e4e570854fe8e␟6355905388425212797: Automatically mark sprints as Done `,c=$localize`:@@cu-sprints-settings__help-msg_sprint-marked-as-done␟85b92c51beb9887aa497a8f014fb9637c234f327␟995202941147235877:When this is checked, Sprints will be marked as done when your end date elapses.`,n=$localize`:@@common_plans--business␟5d220cadff634cd0f8bcb7c7606618dbbfa2a5f7␟5611463687161464785: Business `,s=$localize`:@@common_plans--business␟38ee20927d35c13b69d724aa279d7e75384aacce␟7571441221358812350: Business `,r=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,l=$localize`:@@cu-sprints-settings__note_space␟fd0b00b4712eb3115d4a7e1afae6b7d1d8a68641␟6462552749665567322: Note: These are only the default settings for Sprints and won’t be editable once saved. You can always customize Sprints further on the Folder level Sprint settings. `,d=$localize`:@@common_saving-1␟f5d0872d2b839ee38ea0bcf3e3c20c145594e513␟3407061818321766940:Saving...`,u=$localize`:@@cu-sprints-settings__btn-txt_save-settings␟32e65202f89b91a77d0239f6387009535f18c004␟263473846992399517:Save Settings`,p=$localize`:@@common_plans--business␟e45bb24e9faf557d26abd6822d6a6da37e3ff171␟4607581465689784056:Business`,m=$localize`:@@paywall_text--sprint-automations␟b8efed82c99385ea0d5e1e04a7d02992e34c835d␟2013287915064092491:Upgrade to Business to enable Sprint Automations.`,h=$localize`:@@paywall_email-subject--sprint-automations␟3ad9545d55371c291b44b4f8c412171a3755987c␟3490907239794485644:Please upgrade ClickUp so we can add automations to sprints`,b=$localize`:@@common_plans--business␟1244312986e7de2a5e5dd2dc1b3261c3339c6993␟9026338843542285104: Business `,[[1,"cu-sprints-settings"],["class","cu-sprints-settings__title",4,"ngIf"],["class","cu-sprints-settings__header",3,"banner",4,"ngIf"],[3,"duration","invalidDuration","disabled","items","onChange"],["class","cu-form__row",4,"ngIf"],[3,"sprintDays","disabled","onChange"],[3,"items","planId","cfEntity","onChange"],[3,"name","invalidName","onChange"],[3,"dateFormat","onChange"],["class","cu-sprints-settings__automations-container","containerClass","popover_white popover_no-max-width popover_no-padding","outsideClick","true","triggers","","container","body",3,"popover",4,"ngIf"],[1,"cu-sprints-settings__footer"],["class","cu-sprints-settings__footer-item",4,"ngIf"],[1,"cu-sprints-settings__footer-item"],["class","cu-sprints-settings__note",4,"ngIf"],[1,"cu-btn","cu-btn_font-size-15",3,"disabled","click"],[1,"cu-btn__text"],[4,"ngIf","ngIfElse"],["saveSettingsTmpl",""],["paywallBusinessTemplate",""],["bizPill",""],[1,"cu-sprints-settings__title"],[1,"cu-sprints-settings__title-text"],e,[1,"cu-sprints-settings__title-folder"],["icon","sprint-folder"],[1,"cu-sprints-settings__header"],[3,"innerHTML"],[4,"ngIf"],["icon","close-modal",3,"click",4,"ngIf"],t,[1,"cu-sprints-settings__header-video-link",3,"click"],i,["icon","close-modal",3,"click"],[1,"cu-form__row"],["containerClass","popover_white popover_no-max-width popover_no-padding","outsideClick","true","triggers","","container","body","placement","bottom",1,"cu-sprints-settings__row-paywall",3,"popover","click"],["businessPopover","bs-popover"],[1,"cu-sprints-settings__row-paywall-text"],a,[1,"cu-sprints-settings__row-paywall-checkbox"],[3,"checked","disabled","onChange"],o,["class","cu-sprints-settings__paywall-badge",4,"ngIf"],["cuTooltip",c,"icon","question",1,"cu-sprints-settings__help-question-mark"],[1,"cu-sprints-settings__paywall-badge"],n,["containerClass","popover_white popover_no-max-width popover_no-padding","outsideClick","true","triggers","","container","body",1,"cu-sprints-settings__automations-container",3,"popover"],["automationsPopover","bs-popover"],[3,"disabled","copyViews","createNew","closePastSprints","spillover","numFutureSprints","invalidNumSprints","onChange"],["class","cu-sprints-settings__automations-cover",3,"click",4,"ngIf"],[1,"cu-sprints-settings__automations-cover",3,"click"],s,[1,"cu-sprints-settings__footer-item","cancel",3,"click"],r,[1,"cu-sprints-settings__note"],l,d,u,["badge",p,"text",m,"emailSubject",h,3,"title","image","upgradeButtonText","amplitudeLabel"],b]},template:function(e,t){if(1&e&&(y.cc(0,"div",0),y.bd(1,J,7,3,"div",1),y.bd(2,ae,6,8,"div",2),y.cc(3,"cu-sprint-duration",3),y.qc("onChange",function(e){return t.updateSettings(e)}),y.vc(4,"async"),y.vc(5,"async"),y.vc(6,"async"),y.bc(),y.bd(7,ce,14,12,"div",4),y.cc(8,"cu-sprint-day",5),y.qc("onChange",function(e){return t.updateSettings(e)}),y.vc(9,"async"),y.vc(10,"async"),y.bc(),y.cc(11,"cu-sprint-estimation",6),y.qc("onChange",function(e){return t.updateSettings(e)}),y.vc(12,"async"),y.vc(13,"async"),y.vc(14,"async"),y.vc(15,"async"),y.vc(16,"async"),y.vc(17,"async"),y.bc(),y.cc(18,"cu-sprint-name",7),y.qc("onChange",function(e){return t.updateSettings(e)}),y.vc(19,"async"),y.bc(),y.cc(20,"cu-sprint-date-format",8),y.qc("onChange",function(e){return t.updateSettings(e)}),y.bc(),y.bd(21,se,9,19,"div",9),y.cc(22,"div",10),y.bd(23,re,4,0,"div",11),y.cc(24,"div",12),y.bd(25,le,2,0,"div",13),y.bc(),y.cc(26,"div",12),y.cc(27,"button",14),y.qc("click",function(){return t.saveSettings()}),y.vc(28,"async"),y.vc(29,"async"),y.cc(30,"div",15),y.bd(31,de,2,0,"ng-container",16),y.vc(32,"async"),y.bd(33,ue,2,0,"ng-template",null,17,y.cd),y.bc(),y.bc(),y.bc(),y.bc(),y.bc(),y.bd(35,pe,1,4,"ng-template",null,18,y.cd),y.bd(37,me,2,0,"ng-template",null,19,y.cd)),2&e){const e=y.Rc(34);let i=null,a=null;y.Ib(1),y.Dc("ngIf",t.sprintSettingsType===t.SprintSettingsType.CATEGORY),y.Ib(1),y.Dc("ngIf",t.showDesc),y.Ib(1),y.Dc("duration",t.duration)("invalidDuration",y.wc(4,21,t.invalidDuration$))("disabled",y.wc(5,23,t.disableChangingSprintDuration$))("items",y.wc(6,25,t.items$)),y.Ib(4),y.Dc("ngIf",t.sprintSettingsType===t.SprintSettingsType.PROJECT),y.Ib(1),y.Dc("sprintDays",y.wc(9,27,t.dayItems$))("disabled",y.wc(10,29,t.disableChangingSprintDuration$)),y.Ib(3),y.Dc("items",y.wc(12,31,t.estimationItems$))("planId",null==(i=y.wc(13,33,t.team$))?null:i.plan_id)("cfEntity",t.sprintSettingsType===t.SprintSettingsType.PROJECT?y.Ic(51,he,null==(a=y.wc(14,35,t.team$))?null:a.id,null==(a=y.wc(15,37,t.team$))?null:a.name):y.Ic(54,be,null==(a=y.wc(16,39,t.category$))?null:a.id,null==(a=y.wc(17,41,t.category$))?null:a.name)),y.Ib(7),y.Dc("name",t.sprintNameFormat)("invalidName",y.wc(19,43,t.invalidName$)),y.Ib(2),y.Dc("dateFormat",t.sprintDateFormat),y.Ib(1),y.Dc("ngIf",t.sprintSettingsType===t.SprintSettingsType.CATEGORY),y.Ib(2),y.Dc("ngIf",t.sprintSettingsType!==t.SprintSettingsType.PROJECT),y.Ib(2),y.Dc("ngIf",t.sprintSettingsType===t.SprintSettingsType.PROJECT),y.Ib(2),y.Dc("disabled",y.wc(28,45,t.notReadyToSave$)||y.wc(29,47,t.saving$)),y.Ib(4),y.Dc("ngIf",y.wc(32,49,t.saving$))("ngIfElse",e)}},directives:[D.q,z,E,q,B,V,M.a,U.c,X.a,C.a,Z,N.a],pipes:[D.b,Q.a],styles:['.cu-sprints-settings__modal .cu-modal__dialog{width:600px}.cu-sprints-settings__modal .cu-modal__body{min-height:0}.cu-sprints-settings__dropdown-modifier .cu-dropdown-list__menu{max-width:350px;width:350px}.cu-sprints-settings__dropdown-end{display:flex;align-items:center}.cu-sprints-settings__dropdown-date{font:300 10px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px}.cu-sprints-settings__title{display:flex;align-items:center;position:absolute;top:-48px}.cu-sprints-settings__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-text{font-family:var(--global-font-support)}}.cu-sprints-settings__title .icon{width:18px;height:14px;fill:#d2d0d5;margin-right:5px}.cu-sprints-settings__title-folder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin-left:12px;display:flex;align-items:center;height:30px;border:1px solid #e9ebf0;padding:12px 12px 12px 8px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__title-folder{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__title-folder{border-color:#1e272e}.cu-sprints-settings__cf-footer{display:flex;align-items:center;justify-content:center;padding:5px 8px;border-top:1px solid #e4e4e4}.cu-sprints-settings__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;margin-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header{font-family:var(--global-font-support)}}.cu-sprints-settings__header a{text-decoration:underline;color:var(--theme-main-color);cursor:pointer}.cu-sprints-settings__header-info{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:20px;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__header-info{font-family:var(--global-font-support)}}.cu-sprints-settings__header-info.inline{display:inline}.cu-sprints-settings__header.banner{width:100%;text-align:center;background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:5px 36px;line-height:18px;border-radius:4px;margin-bottom:20px;position:relative}.dark-theme .cu-sprints-settings__header.banner span{color:#292d34}.cu-sprints-settings__header.banner .icon{position:absolute;right:16px;top:12px;width:14px;height:14px;padding:2px;cursor:pointer;stroke:var(--theme-main-color)}.cu-sprints-settings__header.banner b{font-weight:500}.dark-theme .cu-sprints-settings__header.banner b{color:#292d34}.dark-theme .cu-sprints-settings__header svg{fill:#d5d6d7}.cu-sprints-settings__header-video-link{cursor:pointer;color:var(--theme-main-color)}.cu-sprints-settings .cu-form__row{margin-bottom:0}.cu-sprints-settings .cu-form__row.margin-top{margin-top:28px}.cu-sprints-settings .cu-form__row .cu-form__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings .cu-form__row .cu-form__label{font-family:var(--global-font-support)}}.cu-sprints-settings .cu-form__row .cu-form__label.margin-top{margin-top:10px}.cu-sprints-settings .cu-form__row.margin-bottom{margin-bottom:20px}.cu-sprints-settings .cu-form__row.margin-bottom-10{margin-bottom:10px}.cu-sprints-settings__description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:20px;margin-top:5px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__description{font-family:var(--global-font-support)}}.cu-sprints-settings__description span{color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);cursor:pointer}.cu-sprints-settings__learn{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__learn{color:var(--theme-main-color)}}.cu-sprints-settings__paywall-badge{background:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:4px;text-transform:uppercase;padding:3px 4px 2px;white-space:nowrap;display:inline-flex;align-items:center;margin-left:10px}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__paywall-badge{background:var(--theme-main-color)}}.cu-sprints-settings__open{color:#7b68ee;-webkit-text-decoration:dashed;text-decoration:dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__open{color:var(--theme-main-color)}}.cu-sprints-settings__help-question-mark{width:12px;height:12px;margin-left:5px;fill:#b9bec7}.dark-theme .cu-sprints-settings__help-question-mark{fill:#7c828d}.cu-sprints-settings__help-question-mark:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-sprints-settings__help-question-mark:hover{fill:var(--theme-main-color)}}.cu-sprints-settings__label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__label{font-family:var(--global-font-support)}}.cu-sprints-settings__label.margin-top{margin-top:20px}.cu-sprints-settings__label.no-margin-bottom{margin-bottom:0}.cu-sprints-settings__automations{border:1px solid #e9ebf0;padding:24px;background:#fafbfc;margin:25px 0;border-radius:5px;position:relative}.dark-theme .cu-sprints-settings__automations{background-color:#2b343b;border-color:#1e272e}.cu-sprints-settings__automations .icon{right:18px;top:18px;position:absolute;width:25px;height:25px;fill:#b9bec7}.cu-sprints-settings__automations-container{position:relative}.cu-sprints-settings__automations-disabled{opacity:.5}.cu-sprints-settings__automations-cover{position:absolute;width:100%;height:100%;top:0}.cu-sprints-settings__automations-cover .cu-sprints-settings__paywall-badge{position:absolute;right:60px;top:25px}.cu-sprints-settings__automations-new{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;padding:10px 0 0;flex-wrap:wrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-new{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-new.disabled{color:#7c828d}.cu-sprints-settings__automations-items{margin-top:15px}.cu-sprints-settings__automations-item{margin-bottom:10px}.cu-sprints-settings__automations-item-break{background:#e9ebf0;margin:15px 0;width:100%;height:1px}.cu-sprints-settings__automations-item-blockquote{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin-top:15px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-blockquote{font-family:var(--global-font-support)}}.cu-sprints-settings__automations-item-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;margin:10px 0;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations-item-desc{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__automations .cu-checkbox__label{font-family:var(--global-font-support)}}.cu-sprints-settings__automations .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__footer{display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cu-sprints-settings__footer .cu-btn{height:48px;font-size:16px;padding:0 26px}.cu-sprints-settings__footer .cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__footer .cancel{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;display:flex;align-items:center;justify-content:space-between;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__toggle{font-family:var(--global-font-support)}}.cu-sprints-settings__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;width:9px;height:7px;fill:#292d34}.dark-theme .cu-sprints-settings__toggle-arrow{fill:#d5d6d7}.cu-sprints-settings__row-item .cu-dropdown_open .cu-sprints-settings__toggle-arrow{transform:rotate(180deg)}.cu-sprints-settings__row{padding:5px 0}.cu-sprints-settings__row-paywall{background-color:var(--theme-main-color-light);border:1px solid var(--theme-main-color);padding:18px;border-radius:5px;margin:20px 0}.cu-sprints-settings__row-paywall-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1.2;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall-text{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall-text{color:#292d34}.cu-sprints-settings__row-paywall-checkbox{display:flex;align-items:center}.cu-sprints-settings__row-paywall .cu-checkbox__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;text-transform:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-paywall .cu-checkbox__label{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__row-paywall .cu-checkbox__label{color:#292d34}.cu-sprints-settings__row-paywall .cu-checkbox__label:before{border-color:#b9bec7;background-color:#fff}.cu-sprints-settings__row-item,.cu-sprints-settings__row-items{display:flex;align-items:center}.cu-sprints-settings__row-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;position:relative;overflow:hidden;cursor:default;padding:0 12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row-item{font-family:var(--global-font-support)}}.cu-sprints-settings__row-item.first-sprint{display:inline;padding:0 3px}.cu-sprints-settings__row-item.first-sprint .cu-form__input{font-size:11px;max-width:36px;flex-grow:0;display:inline}.dark-theme .cu-sprints-settings__row-item{border-color:#1e272e}.cu-sprints-settings__row-item.settings-duration{width:50px;margin-right:10px}.cu-sprints-settings__row-item.settings-future{padding:0;border:none;flex-wrap:wrap;display:inline-block;font-size:11px;line-height:18px}.cu-sprints-settings__row-item.settings-future.disabled .cu-sprints-settings__row-item.settings-future{color:#7c828d}.cu-sprints-settings__row-item.settings-future .cu-form__input{font-size:14px;text-align:center;margin:0 5px;width:30px;height:20px;border:1px solid #e9ebf0;display:inline}.cu-sprints-settings__row-item.settings-future .cu-form__input.disabled{cursor:not-allowed}.dark-theme .cu-sprints-settings__row-item.settings-future .cu-form__input{border-color:#1e272e}.cu-sprints-settings__row-item.settings-future .cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item.settings-name{width:100%}.cu-sprints-settings__row-item .cu-form__input{padding:0}.cu-sprints-settings__row-item .cu-form__input::-webkit-inner-spin-button,.cu-sprints-settings__row-item .cu-form__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.cu-sprints-settings__row-item.cu-sprints-settings__invalid{border-color:#d16464}.cu-sprints-settings__row-item .cu-dropdown-list{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown{width:100%;height:100%}.cu-sprints-settings__row-item .cu-dropdown-list .cu-dropdown__toggle{width:100%;height:100%;display:flex;justify-content:space-between}.cu-sprints-settings__row-item.inline-input{border:none;border-radius:0}.cu-sprints-settings__row-item.inline-input input{font-size:14px!important;text-align:center;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color)}.cu-sprints-settings__row-item.small{width:64px;height:40px}.cu-sprints-settings__row-item.settings-duration-week{width:180px;border:none!important}.cu-sprints-settings__row input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__row input{font-family:var(--global-font-support)}}.cu-sprints-settings__note{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;max-width:340px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__note{font-family:var(--global-font-support)}}.cu-sprints-settings__note b{font-weight:500;color:#7c828d}.cu-sprints-settings__note.padding-top{padding-top:10px}.cu-sprints-settings__note.red{color:#d16464}.cu-sprints-settings__estimation-container{width:550px;margin-left:-12px;margin-top:1px!important}.cu-sprints-settings__estimation-menu{width:100%;max-width:none}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__title{flex-grow:0}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__submenu{margin-left:auto}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item__check{width:11px;height:8px;margin:0 0 0 10px}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points{position:relative}.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;position:absolute;top:9px;right:16px;content:"RECOMMENDED";height:14px;border:1px solid #7c828d;border-radius:3px;color:#7c828d;display:flex;align-items:center;padding:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{font-family:var(--global-font-support)}}.dark-theme .cu-sprints-settings__estimation-menu .cu-dropdown-list-item_id-points:after{color:#828588;border-color:#828588}.cu-form__row.cu-sprints-settings__row-disabled{opacity:.5;cursor:not-allowed}'],encapsulation:2,changeDetection:0}),e})()},IADw:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("2p4s"),o=i("fXoL"),c=i("tk/3"),n=i("irDL"),s=i("jhN1");let r=(()=>{class e{constructor(e,t,i){this.http=e,this.errorHandler=t,this.sanitizer=i,this.apiUrl=a.a.apiUrl}getSyncedCalendars(){return this.http.get(this.apiUrl+"/googleCalendar/synced").pipe(this.errorHandler.http())}getAuthedCalendars(e){return this.http.get(this.apiUrl+"/googleCalendar/calendars",{params:{email:e}}).pipe(this.errorHandler.http())}getAuthedUsers(){return this.http.get(this.apiUrl+"/googleCalendar/auth")}editSyncedCalendar(e,t){return this.http.put(`${this.apiUrl}/googleCalendar/synced/${e}`,t).pipe(this.errorHandler.http())}authUser(e){return this.http.post(this.apiUrl+"/googleCalendar/auth",e).pipe(this.errorHandler.http())}createSyncedCalendar(e){return this.http.post(this.apiUrl+"/googleCalendar/synced",e).pipe(this.errorHandler.http())}deleteCalendar(e){return this.http.delete(`${this.apiUrl}/googleCalendar/synced/${e}`).pipe(this.errorHandler.http())}getAllICals(){return this.http.get(this.apiUrl+"/ical")}editICal(e,t){return this.http.put(`${this.apiUrl}/ical/${e}`,t).pipe(this.errorHandler.http())}deleteIcal(e){return this.http.delete(`${this.apiUrl}/ical/${e}`).pipe(this.errorHandler.http())}createICal(e){return this.http.post(this.apiUrl+"/ical",e).pipe(this.errorHandler.http())}getSafeWebCalLink(e,t){return this.sanitizer.bypassSecurityTrustUrl(this.getWebCalLink(e,t))}getWebCalLink(e,t){return`${this.apiUrl.replace("https","webcal")}/user/${e}/ical?token=${t}`}getGoogleCalendarEvents(e,t,i,a,o){return this.http.get(`${this.apiUrl}/team/${e}/gcalEvents`,{params:{start_date:String(t.getTime()),end_date:String(i.getTime()),start_id:a,"sync_ids[]":o}}).pipe(this.errorHandler.http())}editGoogleCalendarEvent(e,t,i){return this.http.put(`${this.apiUrl}/googleCalendar/synced/${e}/event/${t}`,i).pipe(this.errorHandler.http())}getHolidayCountries(){return this.http.get(this.apiUrl+"/holiday/countries")}getHolidays(e,t,i){return this.http.get(this.apiUrl+"/holiday/holidays",{params:{country:e,year:t,month:i,public:"true"}})}}return e.\u0275fac=function(t){return new(t||e)(o.nc(c.b),o.nc(n.a),o.nc(s.b))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},IkRJ:function(e,t,i){"use strict";i.d(t,"a",function(){return we});var a=i("VKdm"),o=i("Q/P0"),c=i("c3rA"),n=i("o7Ov"),s=i("Hgwy"),r=i("dTHz"),l=i("fXoL"),d=i("l7P3"),u=i("XNiG"),p=i("2Vo4"),m=i("itXk"),h=i("pLZG"),b=i("eIep"),g=i("lJxs"),f=i("1G5W"),_=i("zp1y"),v=i("IzEk"),y=i("f0Wu"),w=i.n(y),k=i("JcCK"),x=i("W6OC"),T=i("5LUp"),S=i("Gj5t"),j=i("MguC"),O=i("0/H+"),I=i("Yvae"),D=i("uT1x"),C=i("fywt"),P=i("LV2V"),$=i("AQwl"),z=i("qAkX"),M=Object(P.a)(function(e,t){var i=Object(z.a)(t);return Object($.a)(i)&&(i=void 0),Object($.a)(e)?Object(I.a)(e,Object(D.a)(t,1,$.a,!0),Object(C.a)(i,2)):[]}),E=i("4F4K"),L=i("GkwO"),A=i("Tm/s"),F=i("76Cs"),U=i("G/bC"),N=i("AeD3"),R=i("jJW4"),G=i("LLqd"),q=i("N4ya"),B=i("ofXK"),W=i("tyNb"),V=i("EtbL"),X=i("NsZK"),H=i("loh9"),Y=i("EDFS"),Z=i("UdVN");const Q=["editorContainer"],K=["colorPickerContainer"],J=["popover"];function ee(e,t){1&e&&l.Xb(0,"div",23),2&e&&l.Dc("icon","handle4-no-color")}function te(e,t){1&e&&l.Xb(0,"div",23),2&e&&l.Dc("icon","handle5-no-color")}function ie(e,t){}function ae(e,t){1&e&&l.Xb(0,"div",24)}function oe(e,t){if(1&e&&(l.Xb(0,"div",25),l.vc(1,"async"),l.vc(2,"async"),l.vc(3,"async")),2&e){const e=l.uc();l.Ob("nav-section__icon_sprint-done",l.wc(1,5,e.sprintStatus$)===e.SprintStatus.DONE)("nav-section__icon_sprint-in-progress",l.wc(2,7,e.sprintStatus$)===e.SprintStatus.IN_PROGRESS),l.Dc("cuTooltip",l.wc(3,9,e.sprintNameStatusTooltip$))}}function ce(e,t){1&e&&l.Xb(0,"div",26)}function ne(e,t){1&e&&l.Xb(0,"div",27)}function se(e,t){if(1&e&&(l.cc(0,"div",28),l.dd(1),l.bc()),2&e){const e=l.uc();l.Ib(1),l.fd(" ",e.section.taskcount&&"0"!==e.section.taskcount?e.section.taskcount:""," ")}}function re(e,t){if(1&e&&(l.cc(0,"div",28),l.dd(1),l.bc()),2&e){const e=l.uc();l.Ib(1),l.fd(" ",e.section.taskcount&&"0"!==e.section.taskcount?e.section.taskcount:""," ")}}function le(e,t){if(1&e&&(l.cc(0,"div",29),l.dd(1),l.bc()),2&e){const e=l.uc();l.Ib(1),l.fd(" ",+(null==e.section?null:e.section.unfinishedtaskcount)," ")}}function de(e,t){if(1&e){const e=l.dc();l.cc(0,"div",30),l.cc(1,"div",31),l.qc("click",function(){return l.Uc(e),l.uc().listDetails.archive()}),l.tc(),l.cc(2,"svg",32),l.cc(3,"g",33),l.Xb(4,"path",34),l.Xb(5,"path",35),l.bc(),l.bc(),l.bc(),l.sc(),l.cc(6,"div",36),l.qc("click",function(){return l.Uc(e),l.uc().listDetails.remove()}),l.tc(),l.cc(7,"svg",37),l.Xb(8,"path",38),l.bc(),l.bc(),l.bc()}}function ue(e,t){1&e&&(l.ac(0),l.gc(1,41),l.Zb())}function pe(e,t){if(1&e&&(l.cc(0,"div",39),l.bd(1,ue,2,0,"ng-container",40),l.bc()),2&e){const e=l.uc(),t=l.Rc(40);l.Ib(1),l.Dc("ngIf",e.nameError)("ngIfElse",t)}}function me(e,t){1&e&&(l.ac(0),l.gc(1,42),l.Zb())}const he=function(){return["source","id","sourcelist"]},be=function(e,t,i,a,o,c,n,s,r){return{"nav-section_active":e,"nav-section_hover":t,"nav-section_editing":i,"nav-section_error":a,"nav-section_archived":o,"nav-section_dragging":c,"nav-section_guest":n,"cu-hidden":s,"nav-section_unfinished":r}},ge=function(){return{sh:"sh"}},fe=function(e){return{pr:e}},_e=function(e){return{color:e}},ve=function(e){return{"nav-section__color-empty":e}},ye=function(e){return{"cu-hidden":e}};let we=(()=>{class e{constructor(e,t,i,a,n,f,_,v,y,k){this.navService=e,this.taskService=t,this.dndService=i,this.dataService=a,this.resolver=n,this.sharedData=f,this.selectedTasksService=_,this.store=v,this.changeDetectorRef=y,this.cfr=k,this.folderless=!1,this.alwaysVisible=!1,this.isActive=!1,this.isDragging=!1,this.canDelete=!0,this.sharedWithMe=!1,this.onCreate=new l.o,this.renaming=new l.o,this.onDropView=new l.o,this.dropdownOpen=new l.o,this.dropdownClose=new l.o,this.UserPermission=r.e,this.LayoutVersion=r.b,this.userRoleDefaultPermissions=s.h,this.state={menuOpen:!1,editing:!1,error:!1},this.nameError=!0,this.destroy$=new u.a,this.team$=this.store.select(c.getTeam),this.isGuest$=this.store.select(c.isGuestTeam),this.section$=new p.a(null),this.dataView$=this.store.select(L.qb),this.project$=this.section$.pipe(Object(h.a)(e=>!(!e||!e.id)),Object(b.a)(e=>this.store.pipe(Object(d.select)(Object(c.getProjectById)(e.project_id))))),this.sprintStatus$=this.section$.pipe(Object(h.a)(e=>!(!e||!e.id)),Object(g.a)(e=>e.sprint?e.sprint_status===o.d.DONE?o.d.DONE:e.sprint_status===o.d.IN_PROGRESS||w()().isAfter(w()(+e.sprint_start_date))?o.d.IN_PROGRESS:o.d.NOT_STARTED:null)),this.sprintNameStatusTooltip$=this.sprintStatus$.pipe(Object(g.a)(e=>e===o.d.DONE?$localize`:sprint status@@common_done--sprint-status:Done`:e===o.d.IN_PROGRESS?$localize`:sprint status@@common_in-progress--sprint-status:In Progress`:null)),this.renameOnInit$=this.section$.pipe(Object(b.a)(e=>this.store.select(Object(c.getRenameOnInitById)(e.id)))),this.subcategoryPath$=Object(m.a)([this.store.select(c.getTeam),this.section$,this.section$.pipe(Object(b.a)(e=>this.store.select(Object(L.hb)(j.e.Subcategory,e.id))))]).pipe(Object(g.a)(([e,t,i])=>i||["/",e.id,"v","li",t.id,this.categoryId||""])),this.SprintStatus=o.d,this.listColorText=$localize`:@@common_list-color:List color`}ngOnInit(){this.renameOnInit$.pipe(Object(h.a)(e=>!!e),Object(f.a)(this.destroy$)).subscribe(()=>{this.rename()})}ngOnChanges(e){e.section&&this.section$.next(this.section)}ngOnDestroy(){this.destroy$.next()}onContextmenu(e){e.preventDefault(),e.stopPropagation(),this.section.archived||this.listDetails.open()}openMenu(){this.state.menuOpen=!0,this.changeDetectorRef.markForCheck()}closeMenu(){this.state.menuOpen=!1,this.changeDetectorRef.markForCheck()}rename(e=!1){if(this.state&&this.state.editing)return;const t=this.cfr.resolveComponentFactory(x.a);this.editor=this.editorContainer.createComponent(t),this.editor.instance.name=e?"":this.section.name,this.editor.instance.onBlur.pipe(Object(f.a)(this.destroy$)).subscribe(e=>this.blur(e)),this.editor.instance.onSave.pipe(Object(f.a)(this.destroy$)).subscribe(e=>this.save(e)),this.editor.instance.onCancel.pipe(Object(f.a)(this.destroy$)).subscribe(()=>this.cancel()),this.editor.instance.onHideError.pipe(Object(f.a)(this.destroy$)).subscribe(()=>this.hideError()),this.editor.changeDetectorRef.detectChanges(),this.state.editing=!0,this.renaming.emit(!0),this.changeDetectorRef.markForCheck()}save(e){const t=e.name;t.length&&this.state.editing&&(this.navService.isSectionNameExists(t,this.folderless?S.d:this.categoryId,this.section.id)?this.showError():this.section.sprint&&this.section.sprint_index&&Object(a.f)(this.section,this.category,this.sharedData.compatCurrentTeam,t)?this.showError(!1):(this.navService.updateSection(Object.assign(Object.assign({},this.section),{name:e.name}),!1,null,Object.assign({},this.section)),this.store.dispatch(new n.xd({type:"list",itemId:this.section.id,newName:t})),this.cancel()),this.changeDetectorRef.markForCheck())}cancel(){this.store.dispatch(new n.Cm({id:this.section.id,renameOnInit:!1})),this.editorContainer.remove(),this.state.editing=!1,this.renaming.emit(!1),this.hideError(),this.changeDetectorRef.markForCheck()}blur(e){this.state.error?this.cancel():this.save(e)}createSubcategory(){this.onCreate.emit(this.section)}showError(e=!0){this.nameError=e,this.state.error=!0,this.popover.show(),this.editor&&(this.editor.instance.input.nativeElement.focus(),this.nameError||(this.editor.instance.name=this.section.name,this.editor.instance.input.nativeElement.value=this.section.name,this.editor.instance.update())),this.changeDetectorRef.markForCheck()}hideError(){this.state.error=!1,this.popover.hide(),this.nameError=!0,this.changeDetectorRef.markForCheck()}checkForParentTasks(){const e=this.selectedTasksService.selectedTaskList.reduce((e,t)=>(e[t.id]=!0,e),{});return this.selectedTasksService.selectedTaskList.filter(t=>!e[t.parent]&&!e[t.subtask_parent]).map(e=>e.id)}moveTask(e,t){if(t&&t[0]&&"task"===t[0].source&&this.store.select(Object(E.d)(t[0].id)).pipe(Object(_.a)(this.store.select(c.getSubcategory),this.store.select(L.qb)),Object(v.a)(1)).subscribe(([t,i,a])=>{t&&a&&i&&a.viewType===j.i.List&&"status"!==a.grouping.field&&t.subcategory.id===e.id&&this.store.dispatch(new O.jb({task_ids:[t.id],listId:i.id}))}),this.isActive||this.isDragging)return void this.dndService.onDropTask.next();let i=[],a=!1;const o=t&&t[0]?t[0].sourcelist:null;if(Array.isArray(t)){if(1===t.length){const e=t[0];if("task"!==e.source||!e.id)return void("view"===e.source&&e.id&&this.onDropView.emit(e.id));{a=this.selectedTasksService.isTaskIdSelected(e.id);let t=this.selectedTasksService.selectedTaskList.map(e=>e.id);a&&(t=this.checkForParentTasks()),i=a?t:[e.id]}}}else{const e=t;a=e.classList.contains("lv-task_selected");const o=document.querySelectorAll(".lv-task_selected:not(.gu-mirror)"),c=a&&o.length?o:[e];if(c.length&&"board"!==e.dataset.type)i=[].map.call(c,e=>e.dataset.task);else{const t=e&&e.dataset.task;t&&(i=[t])}}i.length>0&&(1===i.length?this.dataService.getTask(i[0]).subscribe(t=>{const i=t.other_subcategories.findIndex(e=>e.id===o);t.subcategory.id===e.id&&-1!==i?this.store.dispatch(new O.jb({task_ids:[t.id],listId:o})):this.taskService.move(t,e,null,null,!1,a,null,!1,o)}):this.dataService.getTasksByIds(i).subscribe(t=>{const i=[];t.forEach(t=>{const a=t.other_subcategories.findIndex(e=>e.id===o);t.subcategory.id===e.id&&-1!==a&&i.push(t)}),i.length&&this.store.dispatch(new O.jb({task_ids:i.map(e=>e.id),listId:o}));const c=[];this.dataView$.pipe(Object(v.a)(1),Object(f.a)(this.destroy$)).subscribe(e=>{e&&e.parent&&e.parent.type===j.e.Subcategory&&o&&t.forEach(e=>{e.subcategory.id!==o&&c.push(e)})}),c.length&&(this.store.dispatch(new O.jb({task_ids:c.map(e=>e.id),listId:o})),this.store.dispatch(new O.f({task_ids:c.map(e=>e.id),list:e})),t=M(t,c,"id")),t.length&&this.taskService.move(t,e,null,null,!1,a)}),this.dndService.onDropTaskToList.next({ids:i,subcategoryId:e.id})),this.dndService.onDropTask.next()}openColorPicker(){if(this.section.permissions.edit_list_details){if(!this.colorPickerDropdown){const e=this.resolver.resolveComponentFactory(k.a);this.colorPickerDropdown=this.colorPickerContainer.createComponent(e),this.colorPickerDropdown.instance.onSelect.pipe(Object(f.a)(this.destroy$)).subscribe(e=>{this.section.status=e||null,this.navService.updateSectionStatus(this.section)})}this.colorPickerDropdown.instance.selectedColor=Object(S.jb)(this.section),this.colorPickerDropdown.instance.markForCheck(),setTimeout(()=>this.colorPickerDropdown.instance.open())}}setNewHierarchyFrom(){this.store.dispatch(new n.Rj({item:this.section,type:j.e.Subcategory}))}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(A.a),l.Wb(F.a),l.Wb(U.a),l.Wb(N.a),l.Wb(l.j),l.Wb(R.a),l.Wb(G.a),l.Wb(d.Store),l.Wb(l.h),l.Wb(l.j))},e.\u0275cmp=l.Qb({type:e,selectors:[["cu-nav-section"]],viewQuery:function(e,t){if(1&e&&(l.jd(Q,3,l.U),l.jd(K,3,l.U),l.jd(J,3),l.jd(T.a,3)),2&e){let e;l.Qc(e=l.rc())&&(t.editorContainer=e.first),l.Qc(e=l.rc())&&(t.colorPickerContainer=e.first),l.Qc(e=l.rc())&&(t.popover=e.first),l.Qc(e=l.rc())&&(t.listDetails=e.first)}},hostAttrs:[1,"cu-nav-section"],hostBindings:function(e,t){1&e&&l.qc("contextmenu",function(e){return t.onContextmenu(e)})},inputs:{section:"section",category:"category",projectId:"projectId",categoryId:"categoryId",folderless:"folderless",alwaysVisible:"alwaysVisible",isActive:"isActive",isDragging:"isDragging",layoutType:"layoutType",canDelete:"canDelete",onlyDeleteIfOwner:"onlyDeleteIfOwner",meUser:"meUser",sharedWithMe:"sharedWithMe"},outputs:{onCreate:"onCreate",renaming:"renaming",onDropView:"onDropView",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},features:[l.Gb],decls:41,vars:74,consts:function(){let e,t,i,a;return e=$localize`:@@common_restore␟d5cec7468241d72cafd86ad1af6d55b09a6e3ae5␟6770769801335635194:Restore`,t=$localize`:@@common_delete-permanently␟54235e7f731cf07327e9e29442a69764c08a72af␟2508083421321389619:Delete permanently`,i=$localize`:@@cu-nav-section__form-error_list-name-exists␟34fb29f4307243b8ccbea38f7fe2ea46d1d9b55b␟3888730428603287682:Whoops! A List already exists with this name.`,a=$localize`:@@cu-nav-section__form-error_sprint-index-editing-not-allowed␟14bde3bb6a59bb6a4d9235bc644788186c77411b␟6357367555336954484:Sprints Index for this Folder can not be edited.`,[["cuDropArea","",1,"nav-section",3,"cdkSupport","cdkField","dragulaSupport","ngClass","ondrop"],["class","nav-section__name-handle",3,"icon",4,"ngIf"],[1,"nav-section__name",3,"cuDraggable","routerLink","queryParams"],["tooltipDelay","200",1,"nav-section__color",3,"hidden","ngStyle","ngClass","cuTooltip","cuPreventDefault","click"],["colorPickerContainer",""],["class","nav-section__color nav-section__color_placeholder",4,"ngIf"],["class","nav-section__icon nav-section__icon_sprint","icon","sprint","tooltipPlacement","top",3,"nav-section__icon_sprint-done","nav-section__icon_sprint-in-progress","cuTooltip",4,"ngIf"],["class","nav-section__icon nav-section__icon_archive","icon","archive2",4,"ngIf"],["class","nav-section__icon nav-section__icon_private","icon","lock5",4,"ngIf"],["tooltipDelay","200",1,"nav-section__name-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],[1,"nav-dropzone"],["placement","right","container","body","triggers","",1,"lv-category-edit__popover",3,"popover"],["popover","bs-popover"],["class","nav-section__counter",4,"ngIf"],["class","nav-section__icon_sprint-unfinished",4,"ngIf"],["class","nav-section__menu",4,"ngIf"],[1,"nav-section__menu",3,"ngClass"],[3,"dirtySubcategory","isSprint","allowMove","showSprints","folderless","canDelete","newSubcategoryParent","renameStart","menuOpen","menuClose","createSubcategory"],[1,"nav-menu","cu-dropdown",3,"cuPreventDefault","click"],["icon","ellipsis",1,"cu-dropdown__toggle","nav-menu__toggle","nav-menu__toggle_section"],["editorContainer",""],["error",""],["sprintTmpl",""],[1,"nav-section__name-handle",3,"icon"],[1,"nav-section__color","nav-section__color_placeholder"],["icon","sprint","tooltipPlacement","top",1,"nav-section__icon","nav-section__icon_sprint",3,"cuTooltip"],["icon","archive2",1,"nav-section__icon","nav-section__icon_archive"],["icon","lock5",1,"nav-section__icon","nav-section__icon_private"],[1,"nav-section__counter"],[1,"nav-section__icon_sprint-unfinished"],[1,"nav-section__menu"],["cuTooltip",e,1,"nav-section__restore","icon",3,"click"],["viewBox","0 0 14 13","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd",1,"cu-stroke"],["d","M1 5.5h8.5a4 4 0 0 1 4 4V13"],["d","M5 0L1 5.5 5 11"],["cuTooltip",t,1,"nav-section__remove","icon",3,"click"],["viewBox","0 0 16 16","xmlns","http://www.w3.org/2000/svg"],["transform","translate(2 2)","d","M6.7 6L11.9 0.9 11.1 0.1 6 5.3 0.9 0.1 0.1 0.9 5.3 6 0.1 11.1 0.9 11.9 6 6.7 11.1 11.9 11.9 11.1 6.7 6","fill","#F9559F","fill-rule","evenodd"],[1,"cu-error-popover"],[4,"ngIf","ngIfElse"],i,a]},template:function(e,t){if(1&e&&(l.cc(0,"div",0),l.qc("ondrop",function(e){return t.moveTask(t.section,e)}),l.vc(1,"async"),l.vc(2,"async"),l.bd(3,ee,1,1,"div",1),l.cc(4,"a",2),l.vc(5,"async"),l.bd(6,te,1,1,"div",1),l.cc(7,"div",3),l.qc("click",function(){return t.openColorPicker()}),l.vc(8,"uppercase"),l.vc(9,"uppercase"),l.vc(10,"uppercase"),l.bd(11,ie,0,0,"ng-template",null,4,l.cd),l.bc(),l.bd(13,ae,1,0,"div",5),l.bd(14,oe,4,11,"div",6),l.bd(15,ce,1,0,"div",7),l.bd(16,ne,1,0,"div",8),l.cc(17,"div",9),l.dd(18),l.bc(),l.bc(),l.Xb(19,"div",10),l.cc(20,"div",11,12),l.dd(22),l.bc(),l.bd(23,se,2,1,"div",13),l.vc(24,"async"),l.bd(25,re,2,1,"div",13),l.vc(26,"async"),l.bd(27,le,2,1,"div",14),l.vc(28,"async"),l.bd(29,de,9,0,"div",15),l.cc(30,"div",16),l.cc(31,"cu2-list-details-menu",17),l.qc("renameStart",function(){return t.rename()})("menuOpen",function(){return t.openMenu(),t.dropdownOpen.emit(),t.setNewHierarchyFrom()})("menuClose",function(){return t.closeMenu(),t.dropdownClose.emit()})("createSubcategory",function(){return t.createSubcategory()}),l.vc(32,"async"),l.cc(33,"div",18),l.qc("click",function(){return t.listDetails.open()}),l.Xb(34,"div",19),l.bc(),l.bc(),l.bc(),l.Xb(35,"div",null,20),l.bc(),l.bd(37,pe,2,2,"ng-template",null,21,l.cd),l.bd(39,me,2,0,"ng-template",null,22,l.cd)),2&e){const e=l.Rc(38);let i=null;l.Dc("cdkSupport",!t.isDragging)("cdkField",l.Gc(54,he))("dragulaSupport",!t.isDragging)("ngClass",l.Pc(55,be,[t.isActive,null==t.state?null:t.state.menuOpen,null==t.state?null:t.state.editing,null==t.state?null:t.state.error,null==t.section?null:t.section.archived,t.isDragging,l.wc(1,34,t.isGuest$),!t.section.isVisible&&!t.alwaysVisible,l.wc(2,36,t.sprintStatus$)===t.SprintStatus.DONE&&(null==t.section?null:t.section.sprint)&&0!=+(null==t.section?null:t.section.unfinishedtaskcount)])),l.Ib(3),l.Dc("ngIf",t.layoutType!==t.LayoutVersion.Five&&t.layoutType!==t.LayoutVersion.Six),l.Ib(1),l.Dc("cuDraggable",!1)("routerLink",l.wc(5,38,t.subcategoryPath$))("queryParams",t.sharedWithMe?l.Gc(65,ge):t.layoutType===t.LayoutVersion.Three||t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six?l.Hc(66,fe,t.projectId||(null==t.section?null:t.section.project_id)):null),l.Ib(2),l.Dc("ngIf",t.layoutType===t.LayoutVersion.Five),l.Ib(1),l.Dc("hidden",(null==t.section?null:t.section.sprint)||!(null!=t.section&&null!=t.section.status&&t.section.status.color)&&!(null!=t.section&&null!=t.section.permissions&&t.section.permissions.edit_list_details)&&!(void 0===(null==t.section||null==t.section.permissions?null:t.section.permissions.edit_list_details)&&null!=t.userRoleDefaultPermissions[null==t.section||null==t.section.permissions?null:t.section.permissions.team_role]&&t.userRoleDefaultPermissions[null==t.section||null==t.section.permissions?null:t.section.permissions.team_role].edit_list_details)||(null==t.section?null:t.section.archived))("ngStyle",l.Hc(68,_e,null==t.section||null==t.section.status?null:t.section.status.color))("ngClass",l.Hc(70,ve,!(null!=t.section&&null!=t.section.status&&t.section.status.color)||"#fff"===(null==t.section||null==t.section.status?null:t.section.status.color)||"#ffffff"===(null==t.section||null==t.section.status?null:t.section.status.color)))("cuTooltip",l.wc(8,40,null==t.section||null==t.section.status?null:t.section.status.status)===l.wc(9,42,null==t.section||null==t.section.status?null:t.section.status.color)?t.listColorText:l.wc(10,44,null==t.section||null==t.section.status?null:t.section.status.status)),l.Ib(6),l.Dc("ngIf",!(null!=t.section&&t.section.sprint)&&!(null!=t.section&&null!=t.section.status&&t.section.status.color)&&!(null!=t.section&&null!=t.section.permissions&&t.section.permissions.edit_list_details)&&!(void 0===(null==t.section||null==t.section.permissions?null:t.section.permissions.edit_list_details)&&null!=t.userRoleDefaultPermissions[null==t.section||null==t.section.permissions?null:t.section.permissions.team_role]&&t.userRoleDefaultPermissions[null==t.section||null==t.section.permissions?null:t.section.permissions.team_role].edit_list_details)||(null==t.section?null:t.section.archived)),l.Ib(1),l.Dc("ngIf",null==t.section?null:t.section.sprint),l.Ib(1),l.Dc("ngIf",null==t.section?null:t.section.archived),l.Ib(1),l.Dc("ngIf",null==t.section?null:t.section.private),l.Ib(1),l.Dc("cuTooltip",null==t.section?null:t.section.name)("tooltipDisabledIfTextNotTruncated",!0),l.Ib(1),l.fd(" ",null==t.section?null:t.section.name," "),l.Ib(2),l.Dc("popover",e),l.Ib(2),l.fd(" ",t.name," "),l.Ib(1),l.Dc("ngIf",!(null!=t.section&&t.section.sprint)||(null==t.section?null:t.section.sprint)&&l.wc(24,46,t.sprintStatus$)!==t.SprintStatus.DONE),l.Ib(2),l.Dc("ngIf",(null==t.section?null:t.section.sprint)&&l.wc(26,48,t.sprintStatus$)===t.SprintStatus.DONE&&0==+(null==t.section?null:t.section.unfinishedtaskcount)),l.Ib(2),l.Dc("ngIf",l.wc(28,50,t.sprintStatus$)===t.SprintStatus.DONE&&(null==t.section?null:t.section.sprint)&&0!=+(null==t.section?null:t.section.unfinishedtaskcount)),l.Ib(2),l.Dc("ngIf",null==t.section?null:t.section.archived),l.Ib(1),l.Dc("ngClass",l.Hc(72,ye,null==t.section?null:t.section.archived)),l.Ib(1),l.Dc("dirtySubcategory",t.section)("isSprint",null==t.section?null:t.section.sprint)("allowMove",t.category&&!(null!=t.category&&t.category.hidden))("showSprints",null==(i=l.wc(32,52,t.project$))||null==i.features||null==i.features.sprints?null:i.features.sprints.enabled)("folderless",t.folderless)("canDelete",t.canDelete||t.onlyDeleteIfOwner&&(null==t.section?null:t.section.owner)===(null==t.meUser?null:t.meUser.id))("newSubcategoryParent",t.category)}},directives:[q.a,B.o,B.q,W.k,V.a,B.t,X.a,H.a,Y.c,T.a,Z.a],pipes:[B.b,B.B],styles:['.nav-section{transition:background 0s;position:relative;overflow:hidden;display:flex;align-items:center;margin:0;padding:0 10px 0 0;box-shadow:0 0 4px 0 transparent;width:100%}.nav-section.nav-section_unfinished{overflow:visible}.cu2-sidebar__body_v5 .nav-section{padding:0 25px 0 0}.cu2-sidebar__body_v5 .nav-section:before{border-radius:4px}.nav-section:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;top:0;width:2px;height:100%;display:none}@supports (--theme-main-color:#7b68ee){.nav-section:after{background:var(--theme-main-color)}}.cu-simple-bar .nav-section:after{width:3px;border-radius:0 3px 3px 0}.nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.nav-section_hover:not(.nav-section_dragging):before{content:"";display:block;position:absolute;width:100%;height:100%;left:0;background:rgba(233,235,240,.5)}.dark-theme .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.dark-theme .nav-section_hover:not(.nav-section_dragging):before{background:rgba(30,39,46,.5)}.cu-left-sidebar.dark-theme .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu-left-sidebar.dark-theme .nav-section_hover:not(.nav-section_dragging):before,.cu-simple-bar.dark-theme .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu-simple-bar.dark-theme .nav-section_hover:not(.nav-section_dragging):before{background:#2b343b}.cu2-sidebar__body_v5 .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu2-sidebar__body_v5 .nav-section_hover:not(.nav-section_dragging):before{width:calc(100% - 57px - 12px);left:57px}.cu-simple-bar__body .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu-simple-bar__body .nav-section_hover:not(.nav-section_dragging):before{background:#f6f7f9}.dark-theme .cu-simple-bar__body .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.dark-theme .cu-simple-bar__body .nav-section_hover:not(.nav-section_dragging):before{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__body .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu-simple-bar.dark-theme .cu-simple-bar__body .nav-section_hover:not(.nav-section_dragging):before{background:#2b343b}.nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__color-empty,.nav-section_hover:not(.nav-section_dragging) .nav-section__color-empty{visibility:visible}.nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.nav-section_active:not(.nav-section_dragging):before,.nav-section_active:not(.nav-section_dragging):hover:before{content:"";display:block;position:absolute;background:#7b68ee;width:100%;height:100%;left:0;opacity:.08}@supports (--theme-main-color:#7b68ee){.nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.nav-section_active:not(.nav-section_dragging):before,.nav-section_active:not(.nav-section_dragging):hover:before{background:var(--theme-main-color)}}.dark-theme .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.dark-theme .nav-section_active:not(.nav-section_dragging):before,.dark-theme .nav-section_active:not(.nav-section_dragging):hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.dark-theme .nav-section_active:not(.nav-section_dragging):before,.dark-theme .nav-section_active:not(.nav-section_dragging):hover:before{background:var(--theme-main-color)}}.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):before,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover:before{opacity:1;border-radius:4px;width:calc(100% - 57px - 12px);left:57px}.cu-simple-bar .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu-simple-bar .nav-section_active:not(.nav-section_dragging):before,.cu-simple-bar .nav-section_active:not(.nav-section_dragging):hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu-simple-bar .nav-section_active:not(.nav-section_dragging):before,.cu-simple-bar .nav-section_active:not(.nav-section_dragging):hover:before{background:var(--theme-main-color)}}.dark-theme .cu-simple-bar .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.dark-theme .cu-simple-bar .nav-section_active:not(.nav-section_dragging):before,.dark-theme .cu-simple-bar .nav-section_active:not(.nav-section_dragging):hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.dark-theme .cu-simple-bar .nav-section_active:not(.nav-section_dragging):before,.dark-theme .cu-simple-bar .nav-section_active:not(.nav-section_dragging):hover:before{background:var(--theme-main-color)}}.nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__color-empty,.nav-section_active:not(.nav-section_dragging) .nav-section__color-empty,.nav-section_active:not(.nav-section_dragging):hover .nav-section__color-empty{visibility:visible}.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__color-empty,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging) .nav-section__color-empty,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover .nav-section__color-empty{border-color:#fff}.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__counter,.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__name-text,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging) .nav-section__counter,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging) .nav-section__name-text,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover .nav-section__counter,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover .nav-section__name-text{color:#fff}.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__icon,.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__menu,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging) .nav-section__icon,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging) .nav-section__menu,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover .nav-section__icon,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover .nav-section__menu{fill:#fff}.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__menu:hover,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging) .nav-section__menu:hover,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover .nav-section__menu:hover{fill:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu2-sidebar__body_v5 .nav-section_active:hover:not(.nav-section_dragging):not(.nav-section_editing) .nav-section__menu:hover,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging) .nav-section__menu:hover,.cu2-sidebar__body_v5 .nav-section_active:not(.nav-section_dragging):hover .nav-section__menu:hover{fill:var(--theme-main-color-light)}}.nav-section:hover:not(.nav-section_dragging) .nav-section__name-handle{opacity:1}.nav-section_guest.nav-section_active .nav-section__color-empty,.nav-section_guest:hover .nav-section__color-empty{visibility:hidden!important}.nav-section_active:after{display:block}.cu2-sidebar__body_v5 .nav-section_active:after{display:none}.nav-section__icon{margin:0 6px 0 0;width:16px;height:16px}.nav-section__icon_archive{margin-top:-4px}.nav-section__icon_sprint{height:10px;width:12px;fill:#7c828d}.cu2-sidebar__body_v4 .nav-section__icon_sprint{margin-right:5px}.cu2-sidebar__body_v5 .nav-section__icon_sprint{margin-right:7px}.nav-section__icon_sprint-done{fill:#67cb48}.nav-section__icon_sprint-in-progress{fill:#4194f6}.nav-section__icon_sprint-unfinished{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:8px;line-height:1;border-radius:20px;background-color:#fd71af;border:2px solid #fff;height:16px;min-width:16px;padding:0 3px;display:flex;align-items:center;justify-content:center;color:#fff;position:relative;left:3px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.nav-section__icon_sprint-unfinished{font-family:var(--global-font-support)}}.dark-theme .nav-section__icon_sprint-unfinished{border-color:#384047}.cu2-sidebar__body_v4 .nav-section__icon_sprint-unfinished{left:14px;top:auto}.cu-simple-bar .nav-section__icon_sprint-unfinished{position:absolute;right:15px;left:auto}.nav-section__icon_private{margin-top:-2px;width:10px;height:11px;fill:#333;stroke:#333}.dark-theme .nav-section__icon_private{fill:#d5d6d7;stroke:#d5d6d7}.nav-section_archived .nav-section__icon_private{opacity:.9}.nav-section__name{transition:all .1s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;flex-grow:1;padding:7px 10px 7px 35px;overflow:hidden;text-overflow:ellipsis;position:relative;min-width:0}.nav-section__name:hover{transition:none}.layout-size_compact .nav-section__name{padding-left:35px}.layout-size_default .nav-section__name{padding-left:36px}.layout-size_large .nav-section__name{padding-left:38px;padding-top:8px;padding-bottom:8px}.cu2-sidebar__body_v4 .nav-section__name{padding-top:6px;padding-bottom:6px}.layout-size_large .cu2-sidebar__body_v4 .nav-section__name{padding-top:7px;padding-bottom:7px}.cu2-sidebar__body_v5 .nav-section__name{overflow:visible;margin-left:66px;padding-left:0}.layout-size_compact .cu2-sidebar__body_v5 .nav-section__name,.layout-size_default .cu2-sidebar__body_v5 .nav-section__name,.layout-size_large .cu2-sidebar__body_v5 .nav-section__name{padding-left:0}.cu-simple-bar .nav-section__name,.layout-size_compact .cu-simple-bar .nav-section__name,.layout-size_default .cu-simple-bar .nav-section__name,.layout-size_large .cu-simple-bar .nav-section__name{padding-top:0;padding-bottom:0;padding-left:56px}.nav-section__name-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:16px;color:#4a4f55}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.nav-section__name-text{font-family:var(--global-font-support)}}.dark-theme .nav-section__name-text{color:#abaeb0}.layout-size_compact .nav-section__name-text{font-size:13px}.layout-size_default .nav-section__name-text{font-size:14px}.layout-size_large .nav-section__name-text{font-size:15px}.cu2-sidebar__body_v4 .nav-section__name-text,.cu2-sidebar__body_v5 .nav-section__name-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.cu2-sidebar__body_v5 .nav-section__name-text,.layout-size_compact .cu2-sidebar__body_v5 .nav-section__name-text{font-size:13px}.layout-size_default .cu2-sidebar__body_v5 .nav-section__name-text{font-size:13.5px}.layout-size_large .cu2-sidebar__body_v5 .nav-section__name-text{font-size:14px}.cu-simple-bar__body .nav-section__name-text{font-weight:400;font-size:12px;line-height:32px;color:#51555c}.dark-theme .cu-simple-bar__body .nav-section__name-text{color:#d5d6d7}.layout-size_compact .cu-simple-bar__body .nav-section__name-text,.layout-size_default .cu-simple-bar__body .nav-section__name-text,.layout-size_large .cu-simple-bar__body .nav-section__name-text{font-size:12px}.nav-section_archived .nav-section__name{padding-left:13px;font-style:italic;opacity:.9}.nav-section__name-handle{position:absolute;flex-shrink:0;width:18px;padding:0;height:18px;transition:.1s;opacity:0;cursor:move;left:0;fill:#bcc0c7}.dark-theme .nav-section__name-handle{fill:#828588}.nav-section__name-handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-section__name-handle:hover{fill:var(--theme-main-color)}}.dark-theme .nav-section__name-handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .nav-section__name-handle:hover{fill:var(--theme-main-color)}}.nav-section_guest .nav-section__name-handle{visibility:hidden;pointer-events:none}.cu2-sidebar__body_v5 .nav-section__name-handle{left:-22px;width:10px;height:18px;fill:#bcc0c7}.dark-theme .cu2-sidebar__body_v5 .nav-section__name-handle{fill:#828588}.cu2-sidebar__body_v5 .nav-section_guest .nav-section__name-handle{display:none}.nav-section_active .nav-section__name-text{color:#111}.dark-theme .nav-section_active .nav-section__name-text{color:#d5d6d7}.cu-simple-bar__body .nav-section_active .nav-section__name-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .nav-section_active .nav-section__name-text{color:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .nav-section_active .nav-section__name-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .nav-section_active .nav-section__name-text{color:var(--theme-main-color)}}.nav-section:hover .nav-section__counter,.nav-section:hover .nav-section__icon_sprint-unfinished,.nav-section_hover .nav-section__counter{opacity:0}.nav-section__color{flex-shrink:0;width:8px;height:8px;margin:-1px 7px 0 2px;border-radius:50%;background:currentColor;cursor:pointer}.cu2-sidebar__body_v5 .nav-section__color{margin:-1px 11px 0 0}.cu-simple-bar .nav-section__color{width:5px;height:5px;margin:-1px 9px 0 3px}.nav-section__color-empty{margin-right:6px;background:transparent;border:1px dashed #c2c2c2;visibility:hidden;width:9px;height:9px}.nav-section__color-empty:hover{border-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.nav-section__color-empty:hover{border-color:var(--theme-main-color-dark)}}.cu2-sidebar__body_v5 .nav-section__color-empty{margin-right:11px;visibility:visible;width:8px;height:8px}.cu-simple-bar .nav-section__color-empty{width:7px;height:7px;margin:-1px 8px 0 2px}.nav-section_guest .nav-section__color-empty{visibility:hidden;pointer-events:none}.nav-section__color_placeholder{background:transparent;cursor:default}.cu2-sidebar__body_v5 .nav-section__color_placeholder{margin-right:11px;border:1px dashed #c2c2c2;width:8px;height:8px}.cu2-sidebar__body_v5 .nav-section_active .nav-section__color_placeholder{border-color:#fff}.nav-section__counter{position:relative;flex-shrink:0;min-width:20px;margin:0 10px 0 0;text-align:right;font:300 11px/16px Gotham Pro,Proxima Nova,arial,serif;color:#9a9a9a}.contrast_high .nav-section__counter{color:#858585}.layout-size_compact .nav-section__counter{font-size:11px}.layout-size_default .nav-section__counter{font-size:12px}.layout-size_large .nav-section__counter{font-size:13px}.cu2-sidebar__body_v5 .nav-section__counter{margin:0}.cu-simple-bar .nav-section__counter,.layout-size_compact .cu-simple-bar .nav-section__counter,.layout-size_default .cu-simple-bar .nav-section__counter,.layout-size_large .cu-simple-bar .nav-section__counter{font-size:11px}.nav-section__menu{display:flex;position:absolute;right:15px;top:50%;transform:translateY(-50%);flex-shrink:0;opacity:0}.cu2-sidebar__body_v5 .nav-section__menu{right:18px}.cu2-sidebar__body_v5 .nav-section_guest .nav-section__menu{right:10px}.nav-section__menu .nav-section__remove{width:20px;height:24px;padding:4px 2px;cursor:pointer;margin-right:-2px}.nav-section__menu .nav-section__restore{width:24px;height:24px;padding:6px;cursor:pointer}.nav-section__menu .nav-section__restore .cu-stroke{stroke:#2b343b}.dark-theme .nav-section__menu .nav-section__restore .cu-stroke{stroke:#d5d6d7}.nav-section:hover .nav-section__menu,.nav-section_hover .nav-section__menu{opacity:1}.nav-section .lv-category-edit__popover{position:absolute;top:50%;right:0;padding:0}.cu-simple-bar .nav-section .nav-editor{margin:0 15px 0 50px;box-shadow:none}.cu-simple-bar .nav-section .nav-editor__input{padding-left:22px;font-size:12px;font-weight:400}.cdk-drag-placeholder>.nav-section,.cdk-drag-preview>.nav-section{opacity:.7}.cdk-drop-list-dragging .cdk-drag:not(.cdk-drag-placeholder)>.nav-section{transition:transform .2s cubic-bezier(0,0,.2,1)}.cdk-drag-animating>.nav-section{transition:transform .15s cubic-bezier(0,0,.2,1)}.nav-section.cu-state-drag-over{overflow:visible}'],encapsulation:2,changeDetection:0}),e})()},JMk4:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},JXEA:function(e,t,i){"use strict";i.d(t,"a",function(){return u});var a=i("WhXy"),o=i("ofXK"),c=i("AcQF"),n=i("C7Vu"),s=i("/qmH"),r=i("ygeO"),l=i("K0KF"),d=i("fXoL");let u=(()=>{class e{}return e.\u0275mod=d.Ub({type:e}),e.\u0275inj=d.Tb({factory:function(t){return new(t||e)},imports:[[o.c,c.a,n.a,s.b,a.a,r.a,l.a]]}),e})()},JcCK:function(e,t,i){"use strict";i.d(t,"a",function(){return x});var a=i("fXoL"),o=i("lJxs"),c=i("IzEk"),n=i("1G5W"),s=i("uYtF"),r=i("1gLt"),l=i("c3rA"),d=i("S/X0"),u=i("l7P3"),p=i("Jf2N"),m=i("LdyQ"),h=i("MJvn"),b=i("n+1/"),g=i("b+fk"),f=i("ofXK");const _=["dropdown"];function v(e,t){if(1&e){const e=a.dc();a.cc(0,"div",7),a.qc("click",function(){return a.Uc(e),a.uc(2).showEditStatusesModal()}),a.cc(1,"div",8),a.gc(2,9),a.bc(),a.bc()}}function y(e,t){if(1&e){const e=a.dc();a.cc(0,"div",4),a.cc(1,"cu-color-picker-panel",5),a.qc("selectedColorChange",function(t){return a.Uc(e),a.uc().select(t)}),a.vc(2,"async"),a.vc(3,"async"),a.bc(),a.bd(4,v,3,0,"div",6),a.vc(5,"async"),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Dc("presetColors",a.wc(2,6,e.colors$))("onlyPickFromPresets",!0)("inline",!0)("selectedColor",e.selectedColor)("colorLabels",a.wc(3,8,e.colorLabels$)),a.Ib(3),a.Dc("ngIf",a.wc(5,10,e.isAdmin$))}}const w=function(e,t){return{x:e,y:t}},k=["*"];let x=(()=>{class e{constructor(e,t,i,c){this.changeDetector=e,this.store=t,this.modal=i,this.injector=c,this.setPosition=!1,this.onSelect=new a.o,this.statuses$=this.store.select(l.getSubcategoryStatuses),this.colors$=this.statuses$.pipe(Object(o.a)(e=>["#fff",...e.map(e=>e.color)])),this.colorLabels$=this.statuses$.pipe(Object(o.a)(e=>{const t={};return e.forEach(e=>{e.hide_label||(t[e.color]=e.status.toUpperCase())}),t})),this.isAdmin$=this.store.select(l.getIsAdmin)}markForCheck(){this.changeDetector.markForCheck()}open(){this.dropdown.open()}select(e){"#fff"===e?this.onSelect.emit(null):this.statuses$.pipe(Object(c.a)(1)).subscribe(t=>{const i=t.find(t=>t.color===e);this.onSelect.emit(i)}),this.dropdown.close()}showEditStatusesModal(){this.dropdown.close();const e=this.modal.openComponent(d.a,this.injector,{headerModifier:"cu-modal__header_margin-0",dialogModifier:"cu-modal__dialog_for-edit-list-statuses-modal"});e.instance.listStatusesChanged.pipe(Object(n.a)(e.instance.destroy$)).subscribe(()=>this.store.dispatch(new r.s({portfolioGroupId:s.a})))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.h),a.Wb(u.Store),a.Wb(p.a),a.Wb(a.t))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-section-color-picker-dropdown"]],viewQuery:function(e,t){if(1&e&&a.jd(_,3),2&e){let e;a.Qc(e=a.rc())&&(t.dropdown=e.first)}},inputs:{setPosition:"setPosition",selectedColor:"selectedColor"},outputs:{onSelect:"onSelect"},ngContentSelectors:k,decls:5,vars:5,consts:function(){let e;return e=$localize`:@@cu-section-color-picker-dropdown__show-edit-colors-modal␟44ce5dd4051c9db528b12f808a21abc4948de5bf␟8609340799823605097: Add/edit colors `,[["cuDropdown","",1,"cu-dropdown",3,"dropdownCloseOnInsideClick","dropdownFromPoint"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["class","cu-dropdown__menu cu-dropdown__menu_color-picker",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","cu-dropdown__menu_color-picker"],["modifier","section-color-picker__color-picker-panel",3,"presetColors","onlyPickFromPresets","inline","selectedColor","colorLabels","selectedColorChange"],["class","cu-custom-fields__form-input_dropdown-item-link",3,"click",4,"ngIf"],[1,"cu-custom-fields__form-input_dropdown-item-link",3,"click"],[1,"cu-custom-fields__form-input_dropdown-item-link-text"],e]},template:function(e,t){1&e&&(a.Cc(),a.cc(0,"div",0,1),a.cc(2,"div",2),a.Bc(3),a.bc(),a.bd(4,y,6,12,"div",3),a.bc()),2&e&&a.Dc("dropdownCloseOnInsideClick",!1)("dropdownFromPoint",t.setPosition?a.Ic(2,w,t.left,t.top):null)},directives:[m.b,h.a,b.a,g.a,f.q],pipes:[f.b],encapsulation:2}),e})()},Jzn3:function(e,t,i){e.exports=i.p+"soundcloud.551f1d1f2dddd1ad9183.svg"},KI6Y:function(e,t,i){"use strict";i.d(t,"a",function(){return y});var a=i("ofXK"),o=i("K0KF"),c=i("3Pt+"),n=i("fXoL");let s=(()=>{class e{}return e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({factory:function(t){return new(t||e)}}),e})();var r=i("8Sgp"),l=i("Ylm9"),d=i("gb9A"),u=i("Q9+D"),p=i("2E2X"),m=i("obfd"),h=i("Hns5"),b=i("bpMd");let g=(()=>{class e{}return e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})();var f=i("mcWp");let _=(()=>{class e{}return e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({factory:function(t){return new(t||e)},imports:[[a.c,f.a,o.a,d.a,c.x]]}),e})();var v=i("KyjD");let y=(()=>{class e{}return e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.x,s,r.a,l.a,d.a,u.a,p.a,m.a,h.a,b.a,g,f.a,_,v.a]]}),e})()},KrQW:function(e,t,i){e.exports=i.p+"youtube2.8154083e66b722d520bc.svg"},Ku6O:function(e,t,i){e.exports=i.p+"spotify.53a8fc1009a0c4269a67.svg"},LEq2:function(e,t,i){"use strict";i.d(t,"C",function(){return I}),i.d(t,"V",function(){return D}),i.d(t,"N",function(){return C}),i.d(t,"W",function(){return P}),i.d(t,"w",function(){return $}),i.d(t,"X",function(){return z}),i.d(t,"E",function(){return E}),i.d(t,"bb",function(){return L}),i.d(t,"J",function(){return A}),i.d(t,"O",function(){return F}),i.d(t,"R",function(){return U}),i.d(t,"b",function(){return N}),i.d(t,"A",function(){return R}),i.d(t,"S",function(){return G}),i.d(t,"v",function(){return q}),i.d(t,"o",function(){return B}),i.d(t,"m",function(){return W}),i.d(t,"Z",function(){return V}),i.d(t,"Y",function(){return X}),i.d(t,"c",function(){return Z}),i.d(t,"T",function(){return Q}),i.d(t,"G",function(){return K}),i.d(t,"a",function(){return ee}),i.d(t,"i",function(){return ie}),i.d(t,"ab",function(){return oe}),i.d(t,"n",function(){return ce}),i.d(t,"D",function(){return le}),i.d(t,"B",function(){return he}),i.d(t,"K",function(){return ge}),i.d(t,"r",function(){return fe}),i.d(t,"u",function(){return _e}),i.d(t,"l",function(){return ve}),i.d(t,"g",function(){return ye}),i.d(t,"H",function(){return we}),i.d(t,"F",function(){return ke}),i.d(t,"f",function(){return xe}),i.d(t,"j",function(){return Te}),i.d(t,"M",function(){return je}),i.d(t,"L",function(){return Oe}),i.d(t,"d",function(){return Ie}),i.d(t,"U",function(){return De}),i.d(t,"e",function(){return Ce}),i.d(t,"P",function(){return Pe}),i.d(t,"Q",function(){return ze}),i.d(t,"p",function(){return Me}),i.d(t,"k",function(){return Ee}),i.d(t,"h",function(){return Le}),i.d(t,"eb",function(){return Fe}),i.d(t,"q",function(){return Ue}),i.d(t,"db",function(){return Ne}),i.d(t,"t",function(){return Ge}),i.d(t,"s",function(){return qe}),i.d(t,"x",function(){return We}),i.d(t,"y",function(){return Ve}),i.d(t,"z",function(){return Xe}),i.d(t,"cb",function(){return He}),i.d(t,"I",function(){return Ye});var a=i("l7P3"),o=i("c3rA"),c=i("f0Wu"),n=i("lE2N"),s=i("xWuZ"),r=i("Gj5t"),l=i("5b//"),d=i("523H"),u=i("GkwO"),p=i("GXRk"),m=i("MguC"),h=i("r5Jv"),b=i("zVpF"),g=i("uslN"),f=i("TqRa"),_=i("qr2t"),v=i("UJt2"),y=i("YwDF"),w=i("ByW2"),k=i("4F4K");const x=Object(a.createFeatureSelector)("calendarView"),T=Object(a.createSelector)(x,e=>new Date(e.currentTime)),S=Object(a.createSelector)(x,e=>e.loading.unscheduled),j=Object(a.createSelector)(x,e=>e.loading.overdue),O=Object(a.createSelector)(x,e=>e.tasks),I=Object(a.createSelector)(O,e=>e.filter(d.c)),D=Object(a.createSelector)(O,e=>{const t={};return e.forEach(e=>{t[e.id]=e}),t}),C=Object(a.createSelector)(x,e=>e.sidebarTaskIds),P=Object(a.createSelector)(C,e=>e.unscheduled),$=Object(a.createSelector)(C,e=>e.overdue),z=Object(a.createSelector)(D,P,(e,t)=>t.map(t=>e[t]).filter(Boolean)),M=Object(a.createSelector)(D,$,(e,t)=>t.map(t=>e[t]).filter(Boolean)),E=Object(a.createSelector)(x,e=>e.searchText),L=Object(a.createSelector)(u.qb,o.unsavedViewChangesSelector,(e,t)=>e&&e.calendarSettings&&e.viewType===m.i.Calendar?Object.assign(Object.assign(Object.assign({},r.F),e.calendarSettings),t.calendarSettings):r.F),A=Object(a.createSelector)(L,o.getTeam,(e,t)=>e.showRecurringTasks&&t.plan_id!==g.f.FREE),F=Object(a.createSelector)(L,e=>e.sidebarTaskType),U=Object(a.createSelector)(L,F,(e,t)=>"unscheduled"===t?e.unscheduledTasksSortBy:e.overdueTasksSortBy),N=Object(a.createSelector)(x,e=>e.allProjectCategories),R=Object(a.createSelector)(x,e=>e.renameTaskId),G=Object(a.createSelector)(U,e=>v.b.find(t=>t.name===e.field)),q=Object(a.createSelector)(o.getNewTaskSubcategory,o.getDefaultProjectCategories,o.getAllProjects,(e,t,i)=>{if(!e)return;const a=t.find(t=>t.id===e.category),c=i.find(t=>t.id===e.project_id);return Object(o.getStatuses)(c,a,e).find(e=>e.type===p.g.Open)}),B=Object(a.createSelector)(x,e=>e.highlightToday),W=Object(a.createSelector)(L,e=>e.showWeekends?[]:[0,6]),V=Object(a.createSelector)(x,e=>e.viewDate),X=Object(a.createSelector)(L,o.getUser,(e,t)=>{if(e.viewType)return e.viewType;const i=t&&t.user_data?t.user_data.calendar_view_type:"";return["month","week","day"].includes(i)?i:"month"}),H=Object(a.createSelector)(o.getIsSharedSpaceOrGuest,o.getProject,o.getCategoriesWithShared,N,o.getCategories,(e,t,i,a,o)=>{let c=o;return e?c=i:t||(c=a),c}),Y=Object(a.createSelector)(o.getProject,o.getCategory,o.getSelectedCategoryId,o.getSelectedSubcategoryId,H,u.qb,(e,t,i,a,o,n)=>{const s=!e,l=!t;return(o||[]).filter(e=>!(i&&!s&&!l)||e.id===i).map(e=>e.subcategories.filter(e=>!(a&&a!==r.a&&!s&&!l)||e.id===a).filter(e=>{var t;const i=null===(t=null==n?void 0:n.filter)||void 0===t?void 0:t.filters.find(e=>"location"===e.field),a=!(!e.due_date&&!e.start_date);if(i&&(n.filter.op===w.a.And||n.filter.op===w.a.Or&&n.filter.filters.length<=1)){const t=i.values.find(t=>"subcategory"===t.type?t.id===e.id:"category"===t.type?t.id===e.category:t.id===e.project_id);return"EQ"===i.op?t&&a:"NOT ALL"===i.op?!t&&a:a}return a}).map(t=>({category:e,subcategory:t}))).flat().map(({category:e,subcategory:t})=>{const i=[],a=Object(r.ob)(t);return t.start_date&&i.push({id:"milestone-start-"+t.id,date:c(Number(t.start_date)).toDate(),color:Object(r.jb)(t),title:t.name,type:"subcategory-start",hasColor:a,category:e,subcategory:t}),t.due_date&&i.push({id:"milestone-end-"+t.id,date:c(Number(t.due_date)).toDate(),color:Object(r.jb)(t),title:t.name,type:"subcategory-end",hasColor:a,category:e,subcategory:t}),i}).flat()}),Z=Object(a.createSelector)(x,e=>e.tasks),Q=e=>Object(a.createSelector)(Z,t=>t.find(t=>t.id===e)),K=Object(a.createSelector)(x,e=>e.selectedTaskIds);function J(e,t,i,a,n,s,d,u,p,m=!1){const h=(s||[]).find(t=>t.id===e.category.id);let b;if(h)b=h.subcategories.find(t=>t.id===e.subcategory.id);else{const t=(s||[]).find(e=>e.id===r.d);t&&(b=t.subcategories.find(t=>t.id===e.subcategory.id))}let g=(n||[]).find(t=>t.id===e.project_id);p&&(p.project_features?g={id:e.project_id,features:p.project_features}:p.projectFeaturesMap&&(g={id:e.project_id,features:p.projectFeaturesMap[e.project_id]}));const f=e.statuses||Object(o.getStatuses)(g,h,b)||[],v=Object(_.k)(e,b,t.colorTasksBy,m,f);let y,w;e.start_date?(y=c(Number(e.start_date)),e.start_date_time||(y=y.startOf("day")),e.due_date&&(w=c(Number(e.due_date)),e.due_date_time||(w=w.startOf("day").add(4,"hours")))):(y=c(Number(e.due_date)),e.due_date_time||(y=y.startOf("day").add(4,"hours"))),y&&w&&y>w&&(e.start_date&&e.start_date_time&&e.due_date&&!e.due_date_time?w=void 0:y=w);let k=!e.start_date_time&&!e.due_date_time;t.showTimeEvents||(k=!0);const x=Object(l.f)(v,.7);let T,S=!1,j=!1;if(!k&&["day","week"].includes(a)){const e=15;w?c(w).diff(y,"minutes")<e&&(T=w.toDate(),w=c(y).add(e,"minutes")):(w=c(y).add(30,"minutes"),S=!0),w&&c(w).diff(y,"minutes")<30&&(j=!0)}const O=c().startOf("day").toDate(),I=k||"day"!==a&&"week"!==a?O:u,D=y.toDate(),C=w?w.toDate():void 0;return{id:m?Object(_.i)(e):e.id,start:D,end:C,title:e.name,color:{primary:v,secondary:Object(l.f)(v,.9),back:x},resizable:{afterEnd:e.permissions&&e.permissions.change_due_date&&!m},draggable:e.permissions&&e.permissions.change_due_date&&!m,meta:{isSelected:i.includes(e.id)&&!m,task:e,isPast:!!t.fadePastEvents&&(C||D)<I,project:g,backgroundGradient:`linear-gradient(to right, ${Object(l.d)(x,0)}, ${Object(l.d)(x,1)})`,isFakeEndDate:S,originalEndDate:T,taskStatuses:f,isDragToCreate:!1,isMeViewScheduledTask:t.showMeViewScheduledTasks&&e.assignees&&e.assignees.some(e=>e.id===d.id),isRecurring:m,smallEvent:j},allDay:k}}const ee="drag-to-create-event",te=Object(a.createSelector)(x,e=>e.dragToCreateEvent),ie=Object(a.createSelector)(te,e=>{if(e&&c(e.end).diff(e.start,"minutes")>30)return Object.assign(Object.assign({id:ee,title:"New task"},e),{color:{primary:_.a,secondary:Object(l.f)(_.a,.9),back:_.a},meta:{isDragToCreate:!0,task:{}}})});function ae(e,t,i){let a=0,o=0;const n=t<0?(e,t)=>c(e).subtract(t,"days").toDate():(e,t)=>c(e).add(t,"days").toDate();let s=e;for(;o<=Math.abs(t);){s=n(e,a);const t=c(s).day();-1===i.indexOf(t)&&o++,a++}return s}const oe=Object(a.createSelector)(X,V,L,W,(e,t,i,a)=>{if("month"===e)return{view:e,start:c(t).startOf("month").startOf("week").toDate(),end:c(t).endOf("month").endOf("week").toDate()};if("day"===e)return{view:e,start:c(t).startOf("day").toDate(),end:c(t).endOf("day").toDate()};if(i.fourDayWeekView){const i=c(t).startOf("day").toDate();return{view:e,start:i,end:c(ae(i,4,a)).endOf("day").toDate()}}return{view:e,start:c(t).startOf("week").toDate(),end:c(t).endOf("week").toDate()}}),ce=Object(a.createSelector)(x,e=>{if(e.googleCalendars)return e.googleCalendars.map(e=>Object.assign({id:e.calendar_id},e))}),ne=Object(a.createSelector)(x,e=>e.googleCalendarEvents);function se(e,t,i,a,o,n){const s=`${t.start.toISOString()}-${t.end.toISOString()}`;if(e[s])return e[s].events.filter(e=>i.includes(e.calendar.id)).map(e=>{const t=e.event.color||"#7b68ee",i=t,s=!("dateTime"in e.event.start_obj)&&!("dateTime"in e.event.end_obj),r=c(+e.event.start_date).add(s?4:0,"hours").toDate(),d="dateTime"in e.event.end_obj?c(+e.event.end_date).toDate():c(+e.event.end_date).subtract(1,"day").endOf("day").toDate(),u=a.find(t=>t.calendar_id===e.calendar.id);return{id:e.event.id,title:e.event.summary,start:r,end:d,allDay:s||!n,color:{primary:t,secondary:Object(l.f)(t,.9),back:i},draggable:o,resizable:{afterEnd:o},meta:{gcalEvent:e.event,calendar:e.calendar,backgroundGradient:`linear-gradient(to right, ${Object(l.d)(i,0)}, ${Object(l.d)(i,1)})`,smallEvent:c(d).diff(r,"minutes")<30,syncId:u?u.sync_id:void 0}}})}const re=Object(a.createSelector)(ne,oe,ce,L,(e,t,i,a)=>se(e,t,(i||[]).filter(e=>e.overlay_on_calendar).map(e=>e.calendar_id),i,!0,a.showTimeEvents)),le=Object(a.createSelector)(x,re,(e,t)=>e.loading.scheduled||!t),de=Object(a.createSelector)(O,oe,A,(e,t,i)=>Object(_.j)(e,t,i)),ue=Object(a.createSelector)(o.getUser,T,o.getPublicViewData,(e,t,i)=>({user:e,currentTime:t,publicViewData:i})),pe=Object(a.createSelector)(I,L,K,oe,o.getAllProjects,H,ie,ue,(e,t,i,a,o,c,n,{user:s,currentTime:r,publicViewData:l})=>e.map(e=>J(e,t,i,a.view,o,c,s,r,l))),me=Object(a.createSelector)(de,L,K,oe,o.getAllProjects,H,ie,ue,(e,t,i,a,o,c,n,{user:s,currentTime:r,publicViewData:l})=>e.map(e=>J(e,t,i,a.view,o,c,s,r,l,!0))),he=Object(a.createSelector)(pe,me,oe,ie,re,(e,t,i,a,o)=>{const c=Object(h.d)(b.a,{events:[...e,...t],periodStart:i.start,periodEnd:i.end});return a&&c.push(a),o&&c.push(...o),c}),be=Object(a.createSelector)(z,L,K,X,o.getAllProjects,H,ue,(e,t,i,a,o,c,{user:n,currentTime:s,publicViewData:r})=>e.map(e=>J(e,t,i,a,o,c,n,s,r))),ge=Object(a.createSelector)(x,e=>e.showRemapSubtaskPopovers),fe=(Object(a.createSelector)(x,e=>e.eventsDragOver),Object(a.createSelector)(x,be,(e,t)=>e.isExternalDragActive?t.find(t=>t.id===e.isExternalDragActive):null)),_e=Object(a.createSelector)(x,e=>e.multiSelectActive),ve=Object(a.createSelector)(x,e=>e.eventsWereDragSelected),ye=Object(a.createSelector)(x,e=>e.disableEventTooltips),we=e=>Object(a.createSelector)(Z,K,(t,i)=>i.includes(e.id)?[e,...i.filter(t=>t!==e.id).map(e=>t.find(t=>t.id===e))]:[e]),ke=e=>Object(a.createSelector)(we(e),L,K,X,o.getAllProjects,H,ue,(e,t,i,a,o,c,{user:n,currentTime:s,publicViewData:r})=>e.map(e=>J(e,t,i,a,o,c,n,s,r))),xe=Object(a.createSelector)(O,e=>Object(n.a)(Object(s.a)(e.map(e=>e.customFields||[])),"id").filter(e=>e.type===y.a.Dropdown&&e.type_config.options.some(e=>!!e.color))),Te=Object(a.createSelector)(x,e=>e.enableDragToSelect),Se=Object(a.createSelector)(M,L,K,X,o.getAllProjects,H,ue,(e,t,i,a,o,c,{user:n,currentTime:s,publicViewData:r})=>e.map(e=>J(e,t,i,a,o,c,n,s,r))),je=Object(a.createSelector)(F,z,P,M,$,(e,t,i,a,o)=>"unscheduled"===e?t.length===i.length:a.length===o.length),Oe=Object(a.createSelector)(F,be,Se,(e,t,i)=>"unscheduled"===e?t:"overdue"===e?i:void 0),Ie=Object(a.createSelector)(u.T,e=>{if(e&&e.viewType===m.i.Calendar)return e}),De=Object(a.createSelector)(o.getSharedTasksParam,o.getIsSharedSpaceOrGuest,(e,t)=>{const i=["assignees","dependency_state","simple_statuses","subtasks_count","subtasks_by_status","tags","customFields","totalTimeSpent","rolledUpTimeSpent","rolledUpTimeEstimate","rolledUpPointsEstimate","followers"];return(e||t)&&i.push("statuses"),i}),Ce=Object(a.createSelector)(o.getSubcategory,e=>(!e||e.permissions.can_create_tasks)&&!f.k),Pe=Object(a.createSelector)(S,j,F,(e,t,i)=>"overdue"===i?t:e),$e=Object(a.createSelector)(x,e=>e.loading.more),ze=Object(a.createSelector)($e,F,(e,t)=>e[t]),Me=Object(a.createSelector)(x,e=>e.holidayCountries),Ee=Object(a.createSelector)(Me,e=>(e||[]).filter(e=>e.enabled).map(e=>Object.assign(Object.assign({},e),{id:e.country.code}))),Le=Object(a.createSelector)(Me,e=>(e||[]).filter(e=>!e.enabled)),Ae=Object(a.createSelector)(Ee,e=>e.filter(e=>e.visible).map(e=>e.country)),Fe=Object(a.createSelector)(Ae,e=>e.map(e=>e.code)),Ue=Object(a.createSelector)(x,e=>e.holidays),Ne=Object(a.createSelector)(oe,Fe,(e,t)=>Object(_.g)(t,e)),Re=Object(a.createSelector)(Ue,Ne,_.d),Ge=Object(a.createSelector)(Y,Re,(e,t)=>[...t,...e]),qe=Object(a.createSelector)(Ge,_.e),Be=Object(a.createSelector)(x,e=>e.profileData),We=(e,t,i,c)=>Object(a.createSelector)(Be,k.g,o.getProjects,o.getUser,T,N,(a,o,n,s,r,l)=>{const d=a[Object(_.h)(e,t,i)];if(d)return d.taskIds.map(e=>o[e]).filter(Boolean).map(e=>J(e,c,[],"day",n,l,s,r,void 0))}),Ve=(e,t)=>Object(a.createSelector)(ne,ce,(i,a)=>se(i,e,t,a,!0,!0)),Xe=(e,t)=>Object(a.createSelector)(Ue,i=>{const a=Object(_.g)(t,e);return Object(_.e)(Object(_.d)(i,a))}),He=Object(a.createSelector)(ce,Me,(e,t)=>(e||[]).filter(e=>e.overlay_on_calendar).length+(t||[]).filter(e=>e.enabled&&e.visible).length),Ye=Object(a.createSelector)(L,u.w,u.v,o.getUser,u.qb,(e,t,i,a,o)=>e.showMeViewScheduledTasks&&!f.k&&!(null==i?void 0:i.length)&&(!(null==t?void 0:t.length)||1===t.length&&String(t[0])===String(a.id)))},LLLH:function(e,t,i){"use strict";i.d(t,"a",function(){return v});var a=i("fXoL"),o=i("G2WA"),c=i("NQa4"),n=i("ofXK"),s=i("UdVN"),r=i("loh9"),l=i("NsZK"),d=i("sx5D");function u(e,t){1&e&&a.Xb(0,"div",10)}function p(e,t){1&e&&a.Xb(0,"div",11)}function m(e,t){if(1&e&&a.Xb(0,"div",12),2&e){const e=a.uc();a.ad("background-color",e.task.status.color),a.Ob("cu-lineup-task-card__custom-type",!!e.task.custom_type),a.Dc("cuTooltip",e.task.status.status)}}function h(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.fd(" ",null==e.task.category?null:e.task.category.name," > ")}}function b(e,t){if(1&e&&(a.cc(0,"div",13),a.dd(1),a.bd(2,h,2,1,"ng-container",14),a.dd(3),a.bc()),2&e){const e=a.uc();a.Ib(1),a.fd(" ",null==e.task.project?null:e.task.project.name," > "),a.Ib(1),a.Dc("ngIf",!(null!=e.task.category&&e.task.category.hidden)),a.Ib(1),a.fd(" ",e.task.subcategory.name," ")}}function g(e,t){1&e&&(a.ac(0),a.gc(1,15),a.Zb())}function f(e,t){if(1&e&&a.dd(0),2&e){const e=a.uc();a.ed(e.task.name)}}function _(e,t){if(1&e){const e=a.dc();a.cc(0,"div",16),a.qc("click",function(){return a.Uc(e),a.uc().remove.emit()}),a.bc()}}let v=(()=>{class e{constructor(e){this.sharedTaskService=e,this.isV2=!1,this.remove=new a.o}ngOnInit(){}openTask(e,t){!1!==e.access&&this.sharedTaskService.clickTaskLink({id:e.id,customId:e.custom_id,teamId:e.team},t)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-lineup-task-card"]],hostAttrs:[1,"cu-lineup-task-card"],hostVars:2,hostBindings:function(e,t){2&e&&a.Ob("cu-lineup-task-card_v2",t.isV2)},inputs:{task:"task",showRemove:"showRemove",showHandle:"showHandle",isV2:"isV2"},outputs:{remove:"remove"},decls:12,vars:12,consts:function(){let e;return e=$localize`:@@cu-lineup-task-card__private-task␟90f9b8224d92ce9c5500862f72d99dc9d5749326␟5910819871890439112:Private Task`,[["draggable","false",1,"cu-lineup-task-card__inner",3,"cuLink","click"],["class","cu-lineup-task-card__handle","icon","handle4-no-color","cuPreventDefault","",4,"ngIf"],["icon","check","class","cu-lineup-task-card__simple-status",4,"ngIf"],["class","cu-lineup-task-card__status",3,"backgroundColor","cu-lineup-task-card__custom-type","cuTooltip",4,"ngIf"],[1,"cu-lineup-task-card__body"],["class","cu-lineup-task-card__location",4,"ngIf"],[1,"cu-lineup-task-card__name"],[4,"ngIf","ngIfElse"],["taskNameTmpl",""],["class","cu-lineup-task-card__close","icon","close",3,"cuPreventDefault","click",4,"ngIf"],["icon","handle4-no-color","cuPreventDefault","",1,"cu-lineup-task-card__handle"],["icon","check",1,"cu-lineup-task-card__simple-status"],[1,"cu-lineup-task-card__status",3,"cuTooltip"],[1,"cu-lineup-task-card__location"],[4,"ngIf"],e,["icon","close",1,"cu-lineup-task-card__close",3,"cuPreventDefault","click"]]},template:function(e,t){if(1&e&&(a.cc(0,"a",0),a.qc("click",function(e){return t.openTask(t.task,e)}),a.vc(1,"cuTaskLink"),a.bd(2,u,1,0,"div",1),a.bd(3,p,1,0,"div",2),a.bd(4,m,1,5,"div",3),a.cc(5,"div",4),a.bd(6,b,4,3,"div",5),a.cc(7,"div",6),a.bd(8,g,2,0,"ng-container",7),a.bd(9,f,1,1,"ng-template",null,8,a.cd),a.bc(),a.bc(),a.bd(11,_,1,0,"div",9),a.bc()),2&e){const e=a.Rc(10);a.Dc("cuLink",!1===t.task.access?null:a.wc(1,10,t.task)),a.Ib(2),a.Dc("ngIf",t.showHandle),a.Ib(1),a.Dc("ngIf",t.task.simple_statuses&&!t.task.custom_type),a.Ib(1),a.Dc("ngIf",(!t.task.simple_statuses||!!t.task.custom_type)&&t.task.status),a.Ib(2),a.Dc("ngIf",!t.isV2&&t.task.subcategory),a.Ib(1),a.Ob("cu-lineup-task-card__custom-type",!!t.task.custom_type),a.Ib(1),a.Dc("ngIf",!1===t.task.access)("ngIfElse",e),a.Ib(3),a.Dc("ngIf",t.showRemove)}},directives:[c.a,n.q,s.a,r.a,l.a],pipes:[d.a],styles:['.cu-lineup-task-card{display:flex;align-items:center}.cu-lineup-task-card_v2.cu-lineup__task-list-card{position:relative}.cdk-drag-placeholder+.cu-lineup-task-card_v2.cu-lineup__task-list-card:before,.cu-lineup-task-card_v2.cu-lineup__task-list-card.cdk-drag-placeholder:before,.cu-lineup-task-card_v2.cu-lineup__task-list-card.cdk-drag-preview:before,.cu-lineup-task-card_v2.cu-lineup__task-list-card:first-child:before{border-top-left-radius:6px;border-bottom-left-radius:6px;left:-8px;width:calc(100% + 16px)}.cu-lineup-task-card_v2.cu-lineup__task-list-card:last-child:before{border-top-right-radius:6px;border-bottom-right-radius:6px}.cu-lineup-task-card_v2.cu-lineup__task-list-card:before{content:"";display:block;position:absolute;top:-8px;left:0;width:calc(100% + 8px);height:calc(100% + 16px);background:#f6f7f9}.dark-theme .cu-lineup-task-card_v2.cu-lineup__task-list-card:before{background:#222b32}.cu-lineup-task-card__inner{display:flex;align-items:center;border-radius:12px;padding:14px 12px;width:100%;min-height:75px;position:relative;background:#fff}.dark-theme .cu-lineup-task-card__inner{background:#2b343b}.cu-lineup-task-card__inner:hover{box-shadow:0 2px 5px 0 rgba(0,0,0,.06)}.dark-theme .cu-lineup-task-card__inner:hover{box-shadow:0 2px 5px rgba(0,0,0,.45)}.cu-lineup-task-card__inner:hover .cu-lineup-task-card__close,.cu-lineup-task-card__inner:hover .cu-lineup-task-card__handle{display:block}.cu-home-pagination_v2 .cu-lineup-task-card__inner,.cu-lineup-task-card_v2 .cu-lineup-task-card__inner{border-radius:3px;padding:5px 10px 5px 12px;min-height:36px;border:1px solid rgba(233,235,240,.5);box-shadow:0 1px 3px rgba(0,0,0,.11);background:#fff}.dark-theme .cu-home-pagination_v2 .cu-lineup-task-card__inner,.dark-theme .cu-lineup-task-card_v2 .cu-lineup-task-card__inner{border-color:transparent;box-shadow:0 0 10px 0 rgba(0,0,0,.2);background:#2b343b}.cu-home-pagination_v2 .cu-lineup-task-card__inner:hover,.cu-lineup-task-card_v2 .cu-lineup-task-card__inner:hover{padding-right:20px;background-color:#fafbfc}.dark-theme .cu-home-pagination_v2 .cu-lineup-task-card__inner:hover,.dark-theme .cu-lineup-task-card_v2 .cu-lineup-task-card__inner:hover{background:#384047}.cu-lineup-task-card__body{min-width:0}.cu-lineup-task-card__location{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:5px;color:#7c828d}.dark-theme .cu-lineup-task-card__location{color:#abaeb0}.cu-lineup-task-card__name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-lineup-task-card__name{color:#d5d6d7}.cu-lineup-task-card__name.cu-lineup-task-card__custom-type{font-weight:500}.cu-lineup-task-card__datetime{margin-top:5px;display:block}.cu-lineup-task-card__datetime .due-date__info-value{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#abaeb0}.dark-theme .cu-lineup-task-card__datetime .due-date__info-value{color:#828588}.cu-lineup-task-card__status{flex-shrink:0;margin:0 9px 0 0;width:8px;height:8px;border-radius:2px;background:currentColor;display:flex;justify-content:center;align-items:center}.cu-lineup-task-card__status.cu-lineup-task-card__custom-type{height:10px;width:10px;transform:rotate(45deg);border-radius:2px}.cu-lineup-task-card__simple-status{width:14px;height:14px;fill:rgba(52,52,52,.2);margin:0 6px 0 -3px}.dark-theme .cu-lineup-task-card__simple-status{fill:#828588}.cu-lineup-task-card__simple-status_closed,.dark-theme .cu-lineup-task-card__simple-status_closed{fill:#67cb48}.cu-lineup-task-card__close{position:absolute;top:5px;right:8px;padding:1px;width:12px;height:12px;stroke:#b9bec7;cursor:pointer;display:none}.cu-lineup-task-card__close:hover{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup-task-card__close:hover{stroke:var(--theme-main-color)}}.cu-lineup-task-card_v2 .cu-lineup-task-card__close{top:auto;padding:4px;right:3px;width:16px;height:24px;stroke:#7c828d}.cu-lineup-task-card__handle{display:none;position:absolute;cursor:move;left:-10px;width:10px;padding:1px;height:18px;z-index:10;fill:#bcc0c7}.dark-theme .cu-lineup-task-card__handle{fill:#828588}.cu-lineup-task-card__handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup-task-card__handle:hover{fill:var(--theme-main-color)}}.cu-lineup-task-card_v2 .cu-lineup-task-card__handle{left:1px;width:8px;height:30px}'],encapsulation:2,changeDetection:0}),e})()},LN6Z:function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return r});var a=i("YHHY"),o=i("ObVV"),c=i("axEd");const n={error:!1};function s(e=n,t){switch(t.type){case a.b:case o.yb:case o.c:case o.Gb:case o.o:case o.l:case o.Bb:case o.A:case o.hb:case c.b:{const{ECODE:i}=t.payload;return Object.assign(Object.assign({},e),{error:"GOAL_077"===i})}case o.jb:return n;default:return e}}const r=e=>e.error},LnyB:function(e,t,i){"use strict";i.d(t,"a",function(){return ve});var a=i("fXoL"),o=i("l7P3"),c=i("c3rA"),n=i("dqeI"),s=i("jJQC"),r=i("L4xm"),l=i("lJxs"),d=i("/uUt"),u=i("pLZG"),p=i("5+tZ"),m=i("1G5W"),h=i("SxV6"),b=i("IzEk"),g=i("x1J0"),f=i("dTHz"),_=i("SA+E"),v=i("ofXK"),y=i("tyNb"),w=i("NsZK"),k=i("UdVN"),x=i("O5gs");const T=["menu"];function S(e,t){1&e&&a.Xb(0,"div",6),2&e&&a.Dc("icon","handle5-no-color")}function j(e,t){1&e&&a.Xb(0,"div",7),2&e&&a.Dc("icon","cu3-dashboard")}function O(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-dropdown-list",8,9),a.qc("onSelect",function(t){return a.Uc(e),a.uc().selectMenuItem(t)})("onOpen",function(){a.Uc(e);const t=a.uc();return t.openMenu(),t.dropdownOpen.emit()})("onClose",function(){a.Uc(e);const t=a.uc();return t.closeMenu(),t.dropdownClose.emit()}),a.Xb(2,"div",10),a.bc()}if(2&e){const e=a.uc();a.Dc("items",e.menuItems)}}const I=function(e,t){return[e,t]};var D=function(e){return e.New="new",e.Remove="remove",e.Rename="rename",e.Share="share",e.AddFavorite="addFavorite",e.RemoveFavorite="removeFavorite",e.RemoveRename="removeRename",e.Copy="copy",e}({});const C={id:D.New,title:$localize`:@@cu-grid-sidebar-item__menu-item_new-dashboard:New dashboard`,icon:"cu2-new"},P={id:D.Rename,title:$localize`:@@common_rename:Rename`,icon:"cu3-edit"},$={id:D.Remove,title:$localize`:@@cu-grid-sidebar-item__menu-item_delete-dashboard:Delete Dashboard`,icon:"cu2-trash"},z={id:D.Share,title:$localize`:@@common_sharing-and-permissions-1:Sharing & Permissions`,icon:"share"},M={id:"separator",title:"",type:g.a.Separator},E={id:D.AddFavorite,title:$localize`:@@common_add-to-favorites:Add to Favorites`,icon:"cu2-star2"},L={id:D.RemoveFavorite,title:$localize`:@@common_remove-from-favorites:Remove from Favorites`,icon:"cu2-star2"},A={id:D.Copy,title:$localize`:@@common_duplicate:Duplicate`,icon:"copy"};let F=(()=>{class e{constructor(e,t){this.store=e,this.changeDetectorRef=t,this.selected=!1,this.readOnly=!1,this.allowDelete=!1,this.onAction=new a.o,this.dropdownOpen=new a.o,this.dropdownClose=new a.o,this.menuItems=this.getMenuItems(),this.renaming=!1,this.menuOpen=!1,this.LayoutVersion=f.b,this.isGuest$=this.store.select(c.isGuestTeam),this.user$=this.store.select(c.getUser)}onContextMenu(e){this.menu&&(e.preventDefault(),e.stopPropagation(),this.menu.open())}ngOnInit(){}ngOnChanges(e){(e.item||e.allowDelete)&&(this.menuItems=this.getMenuItems()),e.item&&this.item&&this.item.renameAtInit&&(this.renaming=!0)}cancel(){this.renaming=!1,this.item&&this.item.renameAtInit&&this.onAction.emit({action:D.RemoveRename})}getMenuItems(){const e=[C,z,P,A,this.item&&this.item.favorite?L:E];return this.allowDelete?[...e,M,$]:e}selectMenuItem(e){switch(e.id){case P.id:this.renaming=!0;break;default:this.onAction.emit({action:e.id})}}save(e){this.onAction.emit({action:D.Rename,payload:e})}openMenu(){this.menuOpen=!0,this.changeDetectorRef.markForCheck()}closeMenu(){this.menuOpen=!1,this.changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.Store),a.Wb(a.h))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-grid-sidebar-item"]],viewQuery:function(e,t){if(1&e&&a.jd(T,1),2&e){let e;a.Qc(e=a.rc())&&(t.menu=e.first)}},hostAttrs:[1,"cu-grid-sidebar-item"],hostVars:6,hostBindings:function(e,t){1&e&&a.qc("contextmenu",function(e){return t.onContextMenu(e)}),2&e&&a.Ob("cu-grid-sidebar-item_selected",t.selected)("cu-grid-sidebar-item_renaming",t.renaming)("cu-grid-sidebar-item_hover",t.menuOpen)},inputs:{item:"item",path:"path",selected:"selected",readOnly:"readOnly",allowDelete:"allowDelete"},outputs:{onAction:"onAction",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},features:[a.Gb],decls:10,vars:19,consts:function(){let e;return e=$localize`:@@forms_placeholder--dashboard-name␟960828e3607a9c75fed1a883d6b65c2d5798fbfd␟1683358821524383995:Type dashboard name`,[["placeholder",e,1,"cu-grid-sidebar-item__container",3,"text","editing","autosize","allowEmpty","onChange","onCancel"],["data-handle","","class","cu-grid-sidebar-item__handle",3,"icon",4,"ngIf"],["draggable","false",1,"cu-grid-sidebar-item__name",3,"routerLink"],["class","cu-grid-sidebar-item__name-icon",3,"icon",4,"ngIf"],["tooltipDisabledIfTextNotTruncated","true","tooltipModifier","tooltip_right","tooltipDelay","500",1,"cu-grid-sidebar-item__name-text",3,"cuTooltip"],[3,"items","onSelect","onOpen","onClose",4,"ngIf"],["data-handle","",1,"cu-grid-sidebar-item__handle",3,"icon"],[1,"cu-grid-sidebar-item__name-icon",3,"icon"],[3,"items","onSelect","onOpen","onClose"],["menu",""],["icon","cu2-ellipsis",1,"cu-grid-sidebar-item__menu"]]},template:function(e,t){if(1&e&&(a.cc(0,"cu-editable",0),a.qc("onChange",function(e){return t.save(e)})("onCancel",function(){return t.cancel()}),a.bd(1,S,1,1,"div",1),a.vc(2,"async"),a.vc(3,"async"),a.cc(4,"a",2),a.bd(5,j,1,1,"div",3),a.vc(6,"async"),a.cc(7,"div",4),a.dd(8),a.bc(),a.bc(),a.bd(9,O,3,1,"cu-dropdown-list",5),a.bc()),2&e){let e=null,i=null;a.Dc("text",null!=t.item&&t.item.renameAtInit?"":t.item.name)("editing",t.renaming)("autosize",!1)("allowEmpty",!1),a.Ib(1),a.Dc("ngIf",!a.wc(2,10,t.isGuest$)&&(null==(e=a.wc(3,12,t.user$))?null:e.dashboard)!==t.LayoutVersion.Six),a.Ib(3),a.Dc("routerLink",a.Ic(16,I,t.path,t.item.id)),a.Ib(1),a.Dc("ngIf",(null==(i=a.wc(6,14,t.user$))?null:i.dashboard)===t.LayoutVersion.Six),a.Ib(2),a.Dc("cuTooltip",t.item.name),a.Ib(1),a.fd(" ",t.item.name," "),a.Ib(1),a.Dc("ngIf",!t.readOnly&&(null==t.menuItems?null:t.menuItems.length))}},directives:[_.a,v.q,y.k,w.a,k.a,x.a],pipes:[v.b],styles:['.cu-grid-sidebar-item{display:block;position:relative}.cu-grid-sidebar-item__container{display:flex;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;height:30px;position:relative}.cu-simple-bar .cu-grid-sidebar-item__container{height:32px}.cu-grid-sidebar-item:hover .cu-dropdown-list{display:block}.cu-grid-sidebar-item:hover .cu-grid-sidebar-item__handle{opacity:1}.cu-grid-sidebar-item:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;top:0;width:2px;height:100%;display:none}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar-item:after{background:var(--theme-main-color)}}.cu-simple-bar .cu-grid-sidebar-item:after{width:3px;border-radius:0 3px 3px 0}.cu-grid-sidebar-item:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-grid-sidebar-item_hover:not(.cu-grid-sidebar-item_dragging):before{content:"";display:block;position:absolute;width:100%;height:100%;left:0;background:rgba(233,235,240,.5)}.dark-theme .cu-grid-sidebar-item:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.dark-theme .cu-grid-sidebar-item_hover:not(.cu-grid-sidebar-item_dragging):before{background:rgba(30,39,46,.5)}.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item_hover:not(.cu-grid-sidebar-item_dragging):before,.cu-left-sidebar.dark-theme .cu-grid-sidebar-item:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-left-sidebar.dark-theme .cu-grid-sidebar-item_hover:not(.cu-grid-sidebar-item_dragging):before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item_hover:not(.cu-grid-sidebar-item_dragging):before{background:#2b343b}.cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming) .cu-grid-sidebar-item__name-text,.cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging) .cu-grid-sidebar-item__name-text,.cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover .cu-grid-sidebar-item__name-text{color:#111}.dark-theme .cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming) .cu-grid-sidebar-item__name-text,.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging) .cu-grid-sidebar-item__name-text,.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover .cu-grid-sidebar-item__name-text{color:#d5d6d7}.cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before{content:"";display:block;position:absolute;background:#7b68ee;width:100%;height:100%;left:0;opacity:.08}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before{background:var(--theme-main-color)}}.dark-theme .cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before{background:var(--theme-main-color)}}.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before{background:#7b68ee;opacity:.15}@supports (--theme-main-color:#7b68ee){.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item_selected:hover:not(.cu-grid-sidebar-item_dragging):not(.cu-grid-sidebar-item_renaming):before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):before,.cu-simple-bar.dark-theme .cu-grid-sidebar-item_selected:not(.cu-grid-sidebar-item_dragging):hover:before{background:var(--theme-main-color)}}.cu-grid-sidebar-item_selected:after{display:block}.cu-grid-sidebar-item__name{display:flex;align-items:center;padding:0 20px;height:100%;flex-grow:1;position:relative;min-width:0}.cu-simple-bar .cu-grid-sidebar-item__name{padding-left:20px}.cu-simple-bar .cu-grid-sidebar-item__name-icon{width:16px;height:16px;margin-right:8px;fill:#7c828d}.cu-grid-sidebar-item__name-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:all .1s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#4a4f55}.cu-grid-sidebar-item__name-text:hover{transition:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-grid-sidebar-item__name-text{font-family:var(--global-font-support)}}.dark-theme .cu-grid-sidebar-item__name-text{color:#abaeb0}.cu-simple-bar .cu-grid-sidebar-item__name-text{font-size:12px}.cu-grid-sidebar-item__name-text_empty{padding:10px 20px 5px;font-style:italic}.cu-grid-sidebar-item .cu-dropdown-list{display:none}.cu-grid-sidebar-item .cu-dropdown-list_opened{display:block}.cu-grid-sidebar-item__menu{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:20px;height:20px;padding:2px;margin:0 18px 0 -10px;fill:#b9bec7}.cu-dropdown-list_opened .cu-grid-sidebar-item__menu,.cu-grid-sidebar-item__menu:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-dropdown-list_opened .cu-grid-sidebar-item__menu,.cu-grid-sidebar-item__menu:hover{fill:var(--theme-main-color)}}.cu-simple-bar .cu-grid-sidebar-item__menu{width:24px;height:24px;margin-right:15px;padding:5px;fill:#a4a6aa}.dark-theme .cu-simple-bar .cu-grid-sidebar-item__menu{fill:#828588}.cu-grid-sidebar-item .cu-editable__input,.cu-grid-sidebar-item .cu-editable__input:active,.cu-grid-sidebar-item .cu-editable__input:focus{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;border:1px solid;border-radius:3px;padding:8px 11px 7px;margin:0 8px;background-color:transparent}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar-item .cu-editable__input,.cu-grid-sidebar-item .cu-editable__input:active,.cu-grid-sidebar-item .cu-editable__input:focus{border-color:var(--theme-main-color)}}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-grid-sidebar-item .cu-editable__input,.cu-grid-sidebar-item .cu-editable__input:active,.cu-grid-sidebar-item .cu-editable__input:focus{font-family:var(--global-font-support)}}.cu-grid-sidebar-item__handle{width:10px;height:19px;opacity:0;cursor:move;fill:#bcc0c7;position:absolute;z-index:1;left:2px}.cu-grid-sidebar-item__handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar-item__handle:hover{fill:var(--theme-main-color)}}.cu-grid-sidebar-item__handle svg{pointer-events:none}'],encapsulation:2,changeDetection:0}),e})();var U=i("XNiG"),N=i("2Vo4"),R=i("itXk"),G=i("PBBv"),q=i("7G3y"),B=i("o7Ov"),W=i("jJW4"),V=i("Jf2N"),X=i("rLOZ"),H=i("/qmH"),Y=i("Mjud"),Z=i("5+WD"),Q=i("sf8M");function K(e,t){1&e&&a.Xb(0,"div",15),2&e&&a.Dc("icon","cu2-caret-down")}function J(e,t){}const ee=function(e){return{items:e,type:"favorite"}};function te(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-accordion",8),a.qc("opened",function(){a.Uc(e);const t=a.uc();return(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six?t.toggleFavorite(!0):null})("closed",function(){a.Uc(e);const t=a.uc();return(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six?t.toggleFavorite(!1):null}),a.vc(1,"async"),a.vc(2,"async"),a.cc(3,"div",9),a.bd(4,K,1,1,"div",10),a.cc(5,"div",11),a.gc(6,12),a.bc(),a.bc(),a.cc(7,"div",13),a.bd(8,J,0,0,"ng-template",14),a.vc(9,"async"),a.bc(),a.bc()}if(2&e){const e=a.uc(),t=a.Rc(22);a.Dc("disabled",(null==e.user?null:e.user.dashboard)!==e.LayoutVersion.Six)("expanded",(null==e.user?null:e.user.dashboard)!==e.LayoutVersion.Six||a.wc(1,5,e.activeSidebarSection$)===e.GridSidebarSections.FAVORITE&&a.wc(2,7,e.isDashboards$)||e.isExpandedFavorite||!!e.searchStringVal),a.Ib(4),a.Dc("ngIf",(null==e.user?null:e.user.dashboard)===e.LayoutVersion.Six),a.Ib(4),a.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",a.Hc(11,ee,a.wc(9,9,e.filteredFavoriteItems$)))}}function ie(e,t){1&e&&a.Xb(0,"div",15),2&e&&a.Dc("icon","cu2-caret-down")}function ae(e,t){}const oe=function(e){return{items:e,type:"my"}};function ce(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-accordion",8),a.qc("opened",function(){a.Uc(e);const t=a.uc();return(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six?t.toggleMy(!0):null})("closed",function(){a.Uc(e);const t=a.uc();return(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six?t.toggleMy(!1):null}),a.vc(1,"async"),a.vc(2,"async"),a.cc(3,"div",9),a.vc(4,"async"),a.bd(5,ie,1,1,"div",10),a.cc(6,"div",11),a.gc(7,16),a.bc(),a.cc(8,"div",17),a.cc(9,"div",18),a.qc("click",function(){return a.Uc(e),a.uc().addingNewDashboard(!0)}),a.Xb(10,"div",19),a.bc(),a.bc(),a.bc(),a.cc(11,"div",13),a.bd(12,ae,0,0,"ng-template",14),a.vc(13,"async"),a.cc(14,"div",20),a.cc(15,"cu-editable",21),a.qc("onChange",function(t){return a.Uc(e),a.uc().addDashboard(t)})("onCancel",function(){return a.Uc(e),a.uc().addingNewDashboard(!1)}),a.vc(16,"async"),a.bc(),a.bc(),a.bc(),a.bc()}if(2&e){const e=a.uc(),t=a.Rc(22);let i=null;a.Dc("disabled",(null==e.user?null:e.user.dashboard)!==e.LayoutVersion.Six)("expanded",(null==e.user?null:e.user.dashboard)!==e.LayoutVersion.Six||a.wc(1,11,e.activeSidebarSection$)===e.GridSidebarSections.MY&&a.wc(2,13,e.isDashboards$)||e.isExpandedMy||!!e.searchStringVal),a.Ib(3),a.Ob("cu-grid-sidebar__header_bordered",null==(i=a.wc(4,15,e.favoriteItems$))?null:i.length),a.Ib(2),a.Dc("ngIf",(null==e.user?null:e.user.dashboard)===e.LayoutVersion.Six),a.Ib(5),a.Dc("icon",(null==e.user?null:e.user.dashboard)===e.LayoutVersion.Six?"cu2-close-2":"cu2-plus"),a.Ib(2),a.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",a.Hc(21,oe,a.wc(13,17,e.filteredMyItems$))),a.Ib(3),a.Dc("editing",a.wc(16,19,e.isNewDashboardAdding$))("autosize",!1)("allowEmpty",!1)}}function ne(e,t){1&e&&a.Xb(0,"div",15),2&e&&a.Dc("icon","cu2-caret-down")}function se(e,t){}const re=function(e){return{items:e,type:"shared"}};function le(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-accordion",8),a.qc("opened",function(){a.Uc(e);const t=a.uc();return(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six?t.toggleShared(!0):null})("closed",function(){a.Uc(e);const t=a.uc();return(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six?t.toggleShared(!1):null}),a.vc(1,"async"),a.vc(2,"async"),a.cc(3,"div",9),a.vc(4,"async"),a.bd(5,ne,1,1,"div",10),a.cc(6,"div",11),a.dd(7,"Shared dashboards"),a.bc(),a.bc(),a.cc(8,"div",13),a.bd(9,se,0,0,"ng-template",14),a.vc(10,"async"),a.bc(),a.bc()}if(2&e){const e=a.uc(),t=a.Rc(22);a.Dc("disabled",(null==e.user?null:e.user.dashboard)!==e.LayoutVersion.Six)("expanded",(null==e.user?null:e.user.dashboard)!==e.LayoutVersion.Six||a.wc(1,7,e.activeSidebarSection$)===e.GridSidebarSections.SHARED&&a.wc(2,9,e.isDashboards$)||e.isExpandedShared||!!e.searchStringVal),a.Ib(3),a.Ob("cu-grid-sidebar__header_bordered",!a.wc(4,11,e.isGuest$)),a.Ib(2),a.Dc("ngIf",(null==e.user?null:e.user.dashboard)===e.LayoutVersion.Six),a.Ib(4),a.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",a.Hc(15,re,a.wc(10,13,e.filteredSharedItems$)))}}function de(e,t){1&e&&(a.cc(0,"div",22),a.gc(1,23),a.bc())}const ue=function(e,t,i,a){return{"cu-grid-sidebar__toggle_collapsed":e,"cu-grid-sidebar__toggle_v4":t,"cu-grid-sidebar__toggle_favorites":i,"cu-grid-sidebar__toggle_dark-sidebar":a}};function pe(e,t){if(1&e){const e=a.dc();a.cc(0,"div",24),a.qc("click",function(){return a.Uc(e),a.uc().toggleSidebar()}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.vc(5,"async"),a.bc()}if(2&e){const e=a.uc();a.Dc("ngClass",a.Kc(13,ue,a.wc(1,3,e.isSidebarCollapsed$),(null==e.user?null:e.user.dashboard)===e.LayoutVersion.Four&&!a.wc(2,5,e.favoritesPinned$),(null==e.user?null:e.user.dashboard)===e.LayoutVersion.Four&&a.wc(3,7,e.favoritesPinned$),e.isSidebarDark&&!(null!=e.user&&e.user.dark_theme)))("cuTooltip",a.wc(4,9,e.isSidebarCollapsedText$))("tooltipModifier",(null==e.user?null:e.user.dashboard)!==e.LayoutVersion.Four||a.wc(5,11,e.favoritesPinned$)?"cu-grid-sidebar__tooltip":"cu-grid-sidebar__tooltip-close")}}function me(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-grid-sidebar-item",27),a.qc("onAction",function(i){a.Uc(e);const o=t.$implicit;return a.uc(2).dashboardAction(i,o)})("dropdownOpen",function(){return a.Uc(e),a.uc(2).dropdownOpen.emit()})("dropdownClose",function(){return a.Uc(e),a.uc(2).dropdownClose.emit()}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.bc()}if(2&e){const e=t.$implicit,i=a.uc(2),o=a.Rc(7);a.Dc("item",e)("path",a.wc(1,8,i.path$))("selected",e.id===a.wc(2,10,i.selectedId$))("readOnly",e.permission_level===i.UserPermission.READ)("allowDelete",e.permission_level===i.UserPermission.CREATE)("cdkDragDisabled",a.wc(3,12,i.isGuest$))("cuDragScrollContainer",o.nativeElement)("cdkDragData",e)}}function he(e,t){if(1&e){const e=a.dc();a.cc(0,"div",25),a.qc("cdkDropListDropped",function(i){a.Uc(e);const o=t.type;return a.uc().dropItem(i,o)}),a.bd(1,me,4,14,"cu-grid-sidebar-item",26),a.bc()}if(2&e){const e=t.items,i=a.uc();a.Ib(1),a.Dc("ngForOf",e)("ngForTrackBy",i.trackById)}}const be=function(e){return{"cu-grid-sidebar-resizer-handle_hidden":e}},ge=function(){return{right:!0}},fe=function(e){return{"cu-grid-sidebar__body_collapsed":e}};var _e=function(e){return e.FAVORITE="favorite",e.MY="my",e.SHARED="shared",e}({});let ve=(()=>{class e{constructor(e,t,i,r,m,h,b){this.sharedData=e,this.store=t,this.renderer=i,this.modalService=r,this.router=m,this.route=h,this.localStorage=b,this.destroy$=new U.a,this.items$=this.store.select(n.j),this.selectedId$=this.store.select(n.v),this.isNewDashboardAdding$=this.store.select(n.r),this.myItems$=this.store.select(n.q),this.sharedItems$=this.store.select(n.w),this.favoriteItems$=this.store.select(n.k),this.isDashboards$=this.route.url.pipe(Object(l.a)(()=>this.router.url.includes("dashboards"))),this.isSidebarCollapsed$=this.store.pipe(Object(o.select)(n.e)),this.favoritesPinned$=this.store.pipe(Object(o.select)(G.g)),this.sidebarWidth$=this.store.select(n.g),this.isSidebarCollapsedText$=this.isSidebarCollapsed$.pipe(Object(l.a)(e=>e?$localize`:@@common_sidebar--expand:Expand Sidebar (q)`:$localize`:@@common_sidebar--collapse:Collapse Sidebar (q)`),Object(d.a)()),this.path$=this.store.pipe(Object(o.select)(c.getTeam),Object(u.a)(e=>!!e),Object(l.a)(e=>["/",e.id,"/","dashboards"].join("/"))),this.isGuest$=this.store.select(c.isGuestTeam),this.searchStringVal$=new N.a(""),this.filteredFavoriteItems$=this.searchStringVal$.pipe(Object(p.a)(e=>this.favoriteItems$.pipe(Object(l.a)(t=>t.filter(t=>{var i;return null===(i=t.name)||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase())}))))),this.filteredMyItems$=this.searchStringVal$.pipe(Object(p.a)(e=>this.myItems$.pipe(Object(l.a)(t=>t.filter(t=>{var i;return null===(i=t.name)||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase())}))))),this.filteredSharedItems$=this.searchStringVal$.pipe(Object(p.a)(e=>this.sharedItems$.pipe(Object(l.a)(t=>t.filter(t=>{var i;return null===(i=t.name)||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase())}))))),this.isSidebarDark=!1,this.dropdownOpen=new a.o,this.dropdownClose=new a.o,this.isExpandedFavorite=this.localStorage.get("grid-sidebar-favorite-expanded")||!1,this.isExpandedMy=this.localStorage.get("grid-sidebar-my-expanded")||!1,this.isExpandedShared=this.localStorage.get("grid-sidebar-shared-expanded")||!1,this.LayoutVersion=f.b,this.UserPermission=f.e,this.GridSidebarSections=_e,this.trackById=Object(s.d)("id")}ngOnInit(){this.store.dispatch(Object(r.n)()),this.store.pipe(Object(o.select)(n.m),Object(m.a)(this.destroy$)).subscribe(e=>{this.store.dispatch(Object(r.o)({tag:"init"})),this.store.dispatch(Object(r.m)())})}ngOnChanges(e){e.searchStringVal&&this.searchStringVal$.next(e.searchStringVal.currentValue)}ngAfterViewInit(){this.isSidebarCollapsed$.pipe(Object(h.a)(),Object(m.a)(this.destroy$)).subscribe(e=>{e||setTimeout(()=>this.store.dispatch(Object(r.H)(null)),0)}),this.activeSidebarSection$=Object(R.a)([this.selectedId$,this.myItems$,this.sharedItems$,this.favoriteItems$]).pipe(Object(l.a)(([e,t,i,a])=>{if(e){if(t&&t.find(t=>t.id===e))return _e.MY;if(a&&a.find(t=>t.id===e))return _e.FAVORITE;if(i&&i.find(t=>t.id===e))return _e.SHARED}return null}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}addDashboard(e){this.store.dispatch(Object(r.a)({options:{name:e}}))}removeDashboard(e){e&&this.store.dispatch(Object(r.y)({id:e.id,name:e.name}))}updateDashboard(e,t=!1){this.store.dispatch(Object(r.nb)({item:e,dontSendPrivate:t}))}dashboardAction(e,t){switch(e.action){case D.New:this.addingNewDashboard(!0);break;case D.Remove:this.removeDashboard(t);break;case D.Rename:this.updateDashboard(Object.assign(Object.assign({},t),{name:e.payload}),!0);break;case D.AddFavorite:this.store.dispatch(Object(q.b)({dashboard:t}));break;case D.RemoveFavorite:this.store.dispatch(Object(q.o)({dashboardId:t.id}));break;case D.Share:this.store.dispatch(new B.Le("dashboard",t));break;case D.RemoveRename:this.store.pipe(Object(o.select)(c.getTeam),Object(b.a)(1)).subscribe(e=>{const i=Object.assign(Object.assign({},t),{renameAtInit:!1});this.store.dispatch(Object(r.J)({teamId:e.id,dashboard:i}))});break;case D.Copy:this.store.dispatch(Object(r.e)({id:t.id}))}}addingNewDashboard(e){this.store.dispatch(e?Object(r.a)({options:{}}):Object(r.V)({isAdding:e}))}toggleSidebar(){this.store.dispatch(Object(r.ib)())}resizeStart(e){this.resizeStartWidth=e.rectangle.width,this.renderer.addClass(document.body,"cu-unselectable")}resizing(e){this.store.dispatch(Object(r.H)({width:this.resizeStartWidth+e.edges.right}))}resizeEnded(){this.renderer.removeClass(document.body,"cu-unselectable")}dropItem(e,t){this.store.dispatch("favorite"===t?Object(r.K)({id:e.item.data.id,pos:e.currentIndex}):Object(r.f)({group:"my"===t?"my":"shared",id:e.item.data.id,pos:e.currentIndex}))}closeModal(){this.modalService.close()}toggleFavorite(e){this.isExpandedFavorite=e,this.localStorage.set("grid-sidebar-favorite-expanded",e)}toggleMy(e){this.isExpandedMy=e,this.localStorage.set("grid-sidebar-my-expanded",e)}toggleShared(e){this.isExpandedShared=e,this.localStorage.set("grid-sidebar-shared-expanded",e)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(W.a),a.Wb(o.Store),a.Wb(a.H),a.Wb(V.a),a.Wb(y.h),a.Wb(y.a),a.Wb(X.b))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-grid-sidebar"]],hostAttrs:[1,"cu-grid-sidebar"],hostVars:2,hostBindings:function(e,t){2&e&&a.Ob("dark-theme",t.isSidebarDark)},inputs:{user:"user",isSidebarDark:"isSidebarDark",searchStringVal:"searchStringVal"},outputs:{dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},features:[a.Gb],decls:23,vars:39,consts:function(){let e,t,i,a,o;return e=$localize`:@@cu-grid-sidebar__title_favorite-dashboards␟4545c030e40c15f7385193078cf2343a7b8eccd7␟6824591974769962439: Favorite dashboards `,t=$localize`:@@cu-grid-sidebar__title_my-dashboards␟dc2ee31c69d8f65ed2d7eea080a83613b8ba3ded␟1031477765303448208: My dashboards `,i=$localize`:@@common_add-dashboard␟4ac5fe878e0b6bd0b32ade371c0c7ba9c6d1d2e3␟3839629134533225414:Add Dashboard`,a=$localize`:@@forms_placeholder--dashboard-name␟960828e3607a9c75fed1a883d6b65c2d5798fbfd␟1683358821524383995:Type dashboard name`,o=$localize`:@@cu-grid-sidebar-item__name-text_empty␟fbaf7d5d158cda7a04f7a3732b84a962a4d77022␟3241787827727226049: No Dashboards found `,[["mwlResizable","",1,"cu-grid-sidebar-resizer",3,"resizeStart","resizing","resizeEnd"],["mwlResizeHandle","",1,"cu-grid-sidebar-resizer-handle",3,"ngClass","resizeEdges"],[1,"cu-grid-sidebar__body",3,"ngClass"],["scrollContainer",""],[3,"disabled","expanded","opened","closed",4,"ngIf"],["class","cu-grid-sidebar-item__name-text cu-grid-sidebar-item__name-text_empty",4,"ngIf"],["class","cu-grid-sidebar__toggle","icon","cu2-angle-right",3,"ngClass","cuTooltip","tooltipModifier","click",4,"ngIf"],["itemsList",""],[3,"disabled","expanded","opened","closed"],["cu-accordion__toggle","",1,"cu-grid-sidebar__header"],["class","cu-grid-sidebar__header-caret",3,"icon",4,"ngIf"],[1,"cu-grid-sidebar__header-title"],e,["cu-accordion__body",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-grid-sidebar__header-caret",3,"icon"],t,[1,"cu-grid-sidebar__header-actions"],["cuTooltip",i,1,"cu-grid-sidebar__header-actions-add",3,"click"],[1,"cu-grid-sidebar__header-actions-add-btn",3,"icon"],[1,"cu-grid-sidebar__add"],["placeholder",a,1,"cu-grid-sidebar__add-input",3,"text","editing","autosize","allowEmpty","onChange","onCancel"],[1,"cu-grid-sidebar-item__name-text","cu-grid-sidebar-item__name-text_empty"],o,["icon","cu2-angle-right",1,"cu-grid-sidebar__toggle",3,"ngClass","cuTooltip","tooltipModifier","click"],["cdkDropList","","cdkDropListOrientation","vertical",3,"cdkDropListDropped"],["cdkDrag","","cuDragScroll","",3,"item","path","selected","readOnly","allowDelete","cdkDragDisabled","cuDragScrollContainer","cdkDragData","onAction","dropdownOpen","dropdownClose",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","cuDragScroll","",3,"item","path","selected","readOnly","allowDelete","cdkDragDisabled","cuDragScrollContainer","cdkDragData","onAction","dropdownOpen","dropdownClose"]]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.qc("resizeStart",function(e){return t.resizeStart(e)})("resizing",function(e){return t.resizing(e)})("resizeEnd",function(){return t.resizeEnded()}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.Xb(4,"div",1),a.vc(5,"async"),a.cc(6,"div",2,3),a.vc(8,"async"),a.bd(9,te,10,13,"cu-accordion",4),a.vc(10,"async"),a.bd(11,ce,17,23,"cu-accordion",4),a.vc(12,"async"),a.vc(13,"async"),a.bd(14,le,11,17,"cu-accordion",4),a.vc(15,"async"),a.bd(16,de,2,0,"div",5),a.vc(17,"async"),a.vc(18,"async"),a.vc(19,"async"),a.bc(),a.bc(),a.bd(20,pe,6,18,"div",6),a.bd(21,he,2,2,"ng-template",null,7,a.cd)),2&e){let e=null,i=null,o=null;a.ad("width",(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six?"100%":a.wc(1,10,t.isSidebarCollapsed$)?"0":a.wc(2,12,t.sharedData.loadingState)?null:a.wc(3,14,t.sidebarWidth$)-1,"px"),a.Ib(4),a.Dc("ngClass",a.Hc(34,be,a.wc(5,16,t.isSidebarCollapsed$)||(null==t.user?null:t.user.dashboard)===t.LayoutVersion.Six))("resizeEdges",a.Gc(36,ge)),a.Ib(2),a.Dc("ngClass",a.Hc(37,fe,a.wc(8,18,t.isSidebarCollapsed$))),a.Ib(3),a.Dc("ngIf",null==(e=a.wc(10,20,t.filteredFavoriteItems$))?null:e.length),a.Ib(2),a.Dc("ngIf",!(a.wc(12,22,t.isGuest$)||!a.wc(13,24,t.filteredMyItems$).length&&t.searchStringVal)),a.Ib(3),a.Dc("ngIf",null==(i=a.wc(15,26,t.filteredSharedItems$))?null:i.length),a.Ib(2),a.Dc("ngIf",t.searchStringVal&&!(null!=(o=a.wc(17,28,t.filteredFavoriteItems$))&&o.length)&&!a.wc(18,30,t.filteredMyItems$).length&&!(null!=(o=a.wc(19,32,t.filteredSharedItems$))&&o.length)),a.Ib(4),a.Dc("ngIf",(null==t.user?null:t.user.dashboard)!==t.LayoutVersion.Six)}},directives:[H.a,H.c,v.o,v.q,Y.a,v.x,k.a,w.a,_.a,Z.d,v.p,F,Z.a,Q.a],pipes:[v.b],styles:[".cu-grid-sidebar{position:relative;display:block;flex-shrink:0;z-index:500}.cu-simple-bar .cu-grid-sidebar{z-index:0}.cu-grid-sidebar__body{height:100%;overflow-y:auto;padding-bottom:50px;border-right:1px solid #e9ebf0;background:#fff}.cu-os-win .cu-grid-sidebar__body{scrollbar-width:thin}.cu-os-win .cu-grid-sidebar__body::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-grid-sidebar__body::-webkit-scrollbar-track,.cu-os-win .cu-grid-sidebar__body::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-grid-sidebar__body::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-grid-sidebar__body::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-grid-sidebar__body::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-grid-sidebar__body::-webkit-scrollbar,.cu-os-win .dark-theme .cu-grid-sidebar__body::-webkit-scrollbar,.cu-os-win.dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-track{background-color:#2b343b}.cu-os-win.dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-track:hover{background-color:#2b343b}.cu-os-win.dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-grid-sidebar__body::-webkit-scrollbar-thumb:hover{border-color:#2b343b}.dark-theme .cu-grid-sidebar__body{border-right-color:#1e272e;background:#2b343b}.cu-grid-dashboard__sidebar.dark-theme .cu-grid-sidebar__body,.cu-left-sidebar.dark-theme .cu-grid-sidebar__body,.cu-simple-bar.dark-theme .cu-grid-sidebar__body{background:#20262b}.cu-grid-sidebar__body_collapsed{border-right:0}.cu-simple-bar .cu-grid-sidebar__body{padding-bottom:10px;border-right:0}.cu-grid-sidebar__header{display:flex;align-items:center;justify-content:space-between;padding:15px 18px 4px 20px}.cu-simple-bar .cu-grid-sidebar__header{padding:0 15px 0 20px}.cu-grid-sidebar__header_bordered{margin-top:15px;border-top:1px solid #e9ebf0}.dark-theme .cu-grid-sidebar__header_bordered{border-top-color:#1e272e}.cu-simple-bar .cu-grid-sidebar__header_bordered{margin:0;border:0}.cu-simple-bar .cu-grid-sidebar__header:hover{background:#f8f9f9;z-index:20}.dark-theme .cu-simple-bar .cu-grid-sidebar__header:hover{background:#384047}.cu-simple-bar.dark-theme .cu-grid-sidebar__header:hover{background:#2b343b}.cu-simple-bar .cu-grid-sidebar__header-caret{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;width:11px;height:11px;padding:0;left:5px;fill:#bcbfc6;transform:rotate(-90deg)}.cu-grid-sidebar__header-caret:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar__header-caret:hover{fill:var(--theme-main-color)}}.cu-simple-bar .cu-grid-sidebar__body .cu-accordion__toggle_expanded .cu-grid-sidebar__header-caret{transform:rotate(0deg)}.cu-grid-sidebar__header-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34;text-transform:uppercase}.dark-theme .cu-grid-sidebar__header-title{color:#d5d6d7}.cu-simple-bar .cu-grid-sidebar__header-title{font-weight:400;font-size:13px;line-height:32px;text-transform:none;color:#51555c}.cu-simple-bar.dark-theme .cu-grid-sidebar__header-title,.dark-theme .cu-simple-bar .cu-grid-sidebar__header-title{color:#d5d6d7}.cu-simple-bar .cu-grid-sidebar__body .cu-accordion__toggle_expanded .cu-grid-sidebar__header-title{font-weight:500}.cu-grid-sidebar__header-actions-add{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;background:#7b68ee;cursor:pointer;width:14px;height:14px;padding:2px;border-radius:50%;fill:#fff}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar__header-actions-add{background:var(--theme-main-color)}}.cu-grid-sidebar__header-actions-add:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-grid-sidebar__header-actions-add:hover{background:var(--theme-main-color-dark)}}.cu-simple-bar .cu-grid-sidebar__header-actions-add{padding:1px;fill:#7c828d;background:transparent}.cu-simple-bar .cu-grid-sidebar__header-actions-add:hover{fill:#7b68ee;background:transparent}@supports (--theme-main-color:#7b68ee){.cu-simple-bar .cu-grid-sidebar__header-actions-add:hover{fill:var(--theme-main-color)}}.cu-grid-sidebar__add{padding:0 8px}.cu-grid-sidebar__add-input .cu-editable__input,.cu-grid-sidebar__add-input .cu-editable__input:active,.cu-grid-sidebar__add-input .cu-editable__input:focus{border:1px solid;border-radius:3px;padding:5px 10px;background-color:transparent}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar__add-input .cu-editable__input,.cu-grid-sidebar__add-input .cu-editable__input:active,.cu-grid-sidebar__add-input .cu-editable__input:focus{border-color:var(--theme-main-color)}}.cu-grid-sidebar__toggle{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:15px;right:-10px;background-color:#fff;width:20px;height:20px;border-radius:50%;cursor:pointer;z-index:800;padding:3px 3px 3px 4px;transform:rotate(180deg);fill:#82868d;border:1px solid #e9ebf0}.contrast_high .cu-grid-sidebar__toggle{border-color:#dedede}.dark-theme .cu-grid-sidebar__toggle{background-color:#2b343b;border-color:#1e272e;fill:#828588}.cu-grid-sidebar__toggle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar__toggle:hover{fill:var(--theme-main-color)}}.cu-grid-sidebar__toggle_v4{top:40px}.dark-theme .cu-grid-sidebar__toggle_dark-sidebar{background:#fff;border-color:rgba(0,0,0,.2)}.cu-grid-sidebar__toggle_collapsed{background:#7b68ee;border-color:#7b68ee;fill:#fff;transform:rotate(0deg)}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar__toggle_collapsed{background:var(--theme-main-color);border-color:var(--theme-main-color)}}.dark-theme .cu-grid-sidebar__toggle_collapsed{background:#7b68ee;border-color:#7b68ee;fill:#fff}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-grid-sidebar__toggle_collapsed{background:var(--theme-main-color);border-color:var(--theme-main-color)}}.cu-grid-sidebar__toggle_collapsed:hover{background:#5f48ea;border-color:#5f48ea;fill:#fff}@supports (--theme-main-color-dark:#5f48ea){.cu-grid-sidebar__toggle_collapsed:hover{background:var(--theme-main-color-dark);border-color:var(--theme-main-color-dark)}}.cu-grid-sidebar__toggle_favorites{top:40px}.cu-grid-sidebar__toggle_favorites:before{display:none}.cu-grid-sidebar__tooltip{transform:translate(-15px,-50%)}.cu-grid-sidebar__tooltip .tooltip__triangle{left:10px}.cu-grid-sidebar__tooltip-close{transform:translate(-15px,-100%)}.cu-grid-sidebar__tooltip-close .tooltip__triangle{left:10px}.cu-grid-sidebar-resizer{position:relative;height:100%;max-width:370px;will-change:transform,width}.cu-grid-sidebar-resizer-handle{transition:background .2s cubic-bezier(.785,.135,.15,.86) .1s;width:9px;height:100%;cursor:col-resize;position:absolute;right:-4px;z-index:3;opacity:.2}.cu-grid-sidebar-resizer-handle:active,.cu-grid-sidebar-resizer-handle:hover{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-grid-sidebar-resizer-handle:active,.cu-grid-sidebar-resizer-handle:hover{background:var(--theme-main-color)}}.cu-grid-sidebar-resizer-handle_hidden{display:none}"],encapsulation:2,changeDetection:0}),e})()},"M+U4":function(e,t,i){"use strict";i.d(t,"a",function(){return C});var a=i("ofXK"),o=i("tyNb"),c=i("AcQF"),n=i("1M0N"),s=i("/qmH"),r=i("WTPp"),l=i("JXEA"),d=i("C7Vu"),u=i("mcWp"),p=i("KI6Y"),m=i("vF9G"),h=i("R7XO"),b=i("hby3"),g=i("jQu0"),f=i("X286"),_=i("kUag"),v=i("gb9A"),y=i("K0KF"),w=i("cTuH"),k=i("FpDt"),x=i("/SUI"),T=i("tGh3"),S=i("3Pt+"),j=i("bx+h"),O=i("HiD6"),I=i("HXbV"),D=i("fXoL");let C=(()=>{class e{}return e.\u0275mod=D.Ub({type:e}),e.\u0275inj=D.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.l,c.a,n.a,s.b,r.a,l.a,d.a,u.a,p.a,m.SearchModule,h.a,b.a,g.a,f.a,_.a,v.a,y.a,w.a,k.a,x.a,T.a,S.l,j.a,O.a,I.a]]}),e})()},MCHM:function(e,t,i){"use strict";i.d(t,"a",function(){return vi});var a=i("MguC"),o=i("itXk"),c=i("XNiG"),n=i("3Mw7"),s=i("cgri"),r=i("l7P3"),l=i("lJxs"),d=i("1G5W"),u=i("/uUt"),p=i("zp1y"),m=i("IzEk"),h=i("zP0r"),b=i("Kj3r"),g=i("SxV6"),f=i("pLZG"),_=i("jJQC"),v=i("y2LM"),y=i("hr9B"),w=i("R0Ic"),k=i("Gj5t"),x=i("0mFS"),T=i("vk5f"),S=i("OPNx"),j=i("fXoL"),O=i("G2WA"),I=i("jJW4"),D=i("Uo20"),C=i("Jf2N"),P=i("7XkT"),$=i("3Pt+"),z=i("HcWw"),M=i("ofXK"),E=i("8kh7"),L=i("NsZK"),A=i("UdVN");let F=(()=>{class e{constructor(e){this.quickSwitcherService=e}ngOnInit(){}toggle(){this.quickSwitcherService.openQuickSwitcher.next()}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(E.a))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-quick-switcher-toggle"]],hostAttrs:[1,"cu-quick-switcher-toggle"],decls:5,vars:0,consts:function(){let e,t;return e=$localize`:@@cu-quick-switcher-toggle__tooltip-msg_search-for-views-and-locations␟ce2a91a1a6cd89b567ea9867a2e7022664ffdbdc␟6916482715011455237:Quickly search for views and locations (k)`,t=$localize`:@@cu-quick-switcher-toggle__label_quick-switch␟b1508589be2412c55d1e8e72ae9303c495feee1a␟536927470149998868:${"\ufffd#4\ufffd"}:START_TAG_SPAN:Quick${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:Switch `,[["cuTooltip",e,1,"cu-quick-switcher-toggle__body",3,"click"],["icon","quick-switcher",1,"cu-quick-switcher-toggle__icon"],[1,"cu-quick-switcher-toggle__label"],t]},template:function(e,t){1&e&&(j.cc(0,"div",0),j.qc("click",function(){return t.toggle()}),j.Xb(1,"div",1),j.cc(2,"div",2),j.mc(3,3),j.Xb(4,"span"),j.jc(),j.bc(),j.bc())},directives:[L.a,A.a],styles:[".cu-quick-switcher-toggle{flex-shrink:0}.cu-quick-switcher-toggle__body{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:inline-flex;align-items:center;justify-content:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;border:1px solid #e9ebf0;padding:5px 9px 5px 7px;border-radius:20px}.dark-theme .cu-quick-switcher-toggle__body{color:#828588;border-color:#1e272e}.cu-quick-switcher-toggle__body:hover{background:#f4f4f4}.dark-theme .cu-quick-switcher-toggle__body:hover{background:#1e272e}.cu-quick-switcher-toggle__icon{fill:#7b68ee;margin:0 3px 0 0;width:12px;height:12px}@supports (--theme-main-color:#7b68ee){.cu-quick-switcher-toggle__icon{fill:var(--theme-main-color)}}.cu-quick-switcher-toggle .cu-quick-switcher-toggle__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#7c828d;font:600 10px/1 Gotham Pro,Proxima Nova,arial,serif}.dark-theme .cu-quick-switcher-toggle .cu-quick-switcher-toggle__label{color:#abaeb0}.cu-quick-switcher-toggle .cu-quick-switcher-toggle__label span{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-quick-switcher-toggle .cu-quick-switcher-toggle__label span{color:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),e})();var U=i("hUS4"),N=i("bFKe"),R=i("/qOb"),G=i("BTFG"),q=i("lU5h"),B=i("0dWf"),W=i("8it8"),V=i("NQa4"),X=i("loh9"),H=i("Dvla"),Y=i("peMq"),Z=i("sx5D"),Q=i("CG/S");function K(e,t){1&e&&j.Xb(0,"div",18)}function J(e,t){if(1&e&&j.Xb(0,"div",19),2&e){const e=j.uc();j.Dc("cuTooltip",null==e.task||null==e.task.parent_task?null:e.task.parent_task.name)}}function ee(e,t){if(1&e&&(j.ac(0),j.cc(1,"span",10),j.dd(2),j.bc(),j.Xb(3,"div",11),j.Zb()),2&e){const e=j.uc();j.Ib(2),j.fd(" ",null==e.task?null:e.task.category.name," ")}}function te(e,t){if(1&e&&j.Xb(0,"div",20),2&e){const e=j.uc();j.Dc("innerHTML",null==e.task?null:e.task.highlightTextContent,j.Vc)}}function ie(e,t){if(1&e){const e=j.dc();j.cc(0,"div",28),j.qc("click",function(){j.Uc(e);const t=j.uc(2);return t.openNewTab(t.task)}),j.Xb(1,"div",29),j.ac(2),j.gc(3,30),j.Zb(),j.bc()}2&e&&(j.Ib(1),j.Dc("icon","cu2-external-link-alt"))}function ae(e,t){if(1&e){const e=j.dc();j.cc(0,"div",21),j.cc(1,"div",22),j.Xb(2,"div",23),j.ac(3),j.gc(4,24),j.Zb(),j.bc(),j.cc(5,"div",25),j.qc("click",function(){j.Uc(e);const t=j.uc();return t.toggleTrayTask(t.task,t.trayTasks)}),j.Xb(6,"div",23),j.ac(7),j.gc(8,26),j.Zb(),j.bc(),j.bd(9,ie,4,1,"div",27),j.bc()}if(2&e){const e=j.uc();j.Ib(1),j.Dc("cbContent",e.taskLink),j.Ib(1),j.Dc("icon","cu2-copy-link"),j.Ib(3),j.Dc("cuTooltip",e.trayTasks&&e.trayTasks[null==e.task?null:e.task.id]&&!0===e.trayTasks[null==e.task?null:e.task.id]?e.commonStringsService.removeFromTrayText:e.sendToTrayText),j.Ib(1),j.Dc("icon","cu2-send-to-tray"),j.Ib(3),j.Dc("ngIf",!e.isElectron)}}function oe(e,t){if(1&e&&j.Xb(0,"cu-user-group",31),2&e){const e=j.uc();j.Dc("users",null==e.task?null:e.task.assignees)("modifier","cu-user-group_sm")("avatarSize",24)}}const ce=function(e){return{"background-color":e}};let ne=(()=>{class e{constructor(e){this.commonStringsService=e,this.isElectron=Object(q.b)(),this.onClickTask=new j.o,this.onTrayToggle=new j.o,this.sendToTrayText=$localize`:@@common_send-to-tray:Send to tray`}ngOnInit(){}ngOnChanges(e){e.task&&this.task&&(this.taskLink=Object(B.c)(this.task))}clickTaskLink(e,t){this.onClickTask.emit({id:{id:e.id,customId:e.custom_id,teamId:e.team},event:t})}toggleTrayTask(e,t){this.onTrayToggle.emit({task:e,inTray:t&&t[e.id]&&!0===t[e.id]})}openNewTab(e){window.open(this.taskLink,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(W.a))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-search-task-row"]],inputs:{task:"task",trayTasks:"trayTasks",selected:"selected"},outputs:{onClickTask:"onClickTask",onTrayToggle:"onTrayToggle"},features:[j.Gb],decls:25,vars:30,consts:function(){let e,t,i,a,o,c;return e=$localize`:location@@common_in␟d37eba04a7fcace3c091a63cce49526f74b51671␟2841739558138901231:In`,t=$localize`:@@cu-search-task-row__tooltip-msg_copy-task-url␟62a6d0e05518e0bdd264711329b912c8f637169e␟3262900567735137469:Copy task url`,i=$localize`:@@common_copy-link␟4954fe49190be1ec2fbfbc10aae294701a75bd55␟2618101617221155143:Copy link`,a=$localize`:@@cu-search-task-row__task-tray␟2fa13906ed566732925d01e09d2d26c77fd2f067␟7899890118382308308:Tray`,o=$localize`:@@common_open-in-new-tab␟6c128d5827c8e8e663840f7decc9d6dd18132e27␟6371588679924903737:Open in new tab`,c=$localize`:@@common_new-tab␟73272e437c2b8bd7d57e610a6131716967aff06d␟2069683324011263186:New tab`,[[1,"cu-search-task-row",3,"cuLink","click"],[1,"cu-search-task-row__row"],[1,"cu-search-task-row__header"],["class","cu-search-modal__subtask-icon","icon","archive2",4,"ngIf"],["class","cu-search-modal__subtask-icon","icon","subtask",3,"cuTooltip",4,"ngIf"],["tooltipModifier","tooltip_far",1,"cu-search-task-row__status",3,"ngStyle","cuTooltip"],[1,"cu-search-task-row__title",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","tooltipDelay"],[1,"cu-search-modal__section"],[1,"cu-search-modal__section-info"],e,[1,"cu-search-modal__section-loc"],["icon","angle-right-no-padding",1,"cu-search-modal__section-angle"],[4,"ngIf"],[1,"cu-search-modal__task-desc-duration"],["class","cu-search-modal__task-desc-content cu-search-task-row__description",3,"innerHTML",4,"ngIf"],["class","cu-search-task-row__actions","cuPreventDefault","",4,"ngIf"],[1,"cu-search-task-row__info"],[3,"users","modifier","avatarSize",4,"ngIf"],["icon","archive2",1,"cu-search-modal__subtask-icon"],["icon","subtask",1,"cu-search-modal__subtask-icon",3,"cuTooltip"],[1,"cu-search-modal__task-desc-content","cu-search-task-row__description",3,"innerHTML"],["cuPreventDefault","",1,"cu-search-task-row__actions"],["cuTooltip",t,"cuLink","","ngxClipboard","",1,"cu-search-task-row__actions-item",3,"cbContent"],[1,"cu-search-task-row__actions-icon",3,"icon"],i,[1,"cu-search-task-row__actions-item",3,"cuTooltip","click"],a,["class","cu-search-task-row__actions-item","cuTooltip",o,3,"click",4,"ngIf"],["cuTooltip",o,1,"cu-search-task-row__actions-item",3,"click"],[1,"cu-search-task-row__actions-icon","cu-search-task-row__actions-icon_new-tab",3,"icon"],c,[3,"users","modifier","avatarSize"]]},template:function(e,t){1&e&&(j.cc(0,"a",0),j.qc("click",function(e){return t.clickTaskLink(t.task,e)}),j.vc(1,"cuTaskLink"),j.cc(2,"div",1),j.cc(3,"div",2),j.bd(4,K,1,0,"div",3),j.bd(5,J,1,1,"div",4),j.Xb(6,"div",5),j.cc(7,"div",6),j.dd(8),j.bc(),j.bc(),j.cc(9,"div",7),j.cc(10,"span",8),j.gc(11,9),j.bc(),j.cc(12,"span",10),j.dd(13),j.bc(),j.Xb(14,"div",11),j.bd(15,ee,4,1,"ng-container",12),j.cc(16,"span",8),j.dd(17),j.bc(),j.cc(18,"div",13),j.dd(19),j.vc(20,"duration"),j.bc(),j.bc(),j.bd(21,te,1,1,"div",14),j.bc(),j.bd(22,ae,10,5,"div",15),j.cc(23,"div",16),j.bd(24,oe,1,3,"cu-user-group",17),j.bc(),j.bc()),2&e&&(j.Ob("search-modal-item_selected",t.selected),j.Dc("cuLink",j.wc(1,24,t.task)),j.Ib(4),j.Dc("ngIf",null==t.task?null:t.task.archived),j.Ib(1),j.Dc("ngIf",null==t.task?null:t.task.parent),j.Ib(1),j.Ob("cu-search-task-row__custom-type",!(null==t.task||!t.task.custom_type)),j.Ec("cuTooltip",null==t.task?null:t.task.status.status),j.Dc("ngStyle",j.Hc(28,ce,null==t.task||null==t.task.status?null:t.task.status.color)),j.Ib(1),j.Ob("cu-search-task-row__custom-type-title",!(null==t.task||!t.task.custom_type)),j.Dc("cuTooltip",null==t.task?null:t.task.name)("tooltipDisabledIfTextNotTruncated",!0)("tooltipDelay",300),j.Ib(1),j.fd(" ",null==t.task?null:t.task.name," "),j.Ib(1),j.Ob("cu-search-modal__section-archived",null==t.task?null:t.task.archived),j.Ib(4),j.fd(" ",null==t.task?null:t.task.project_name," "),j.Ib(2),j.Dc("ngIf",!(null!=t.task&&null!=t.task.category&&t.task.category.hidden)),j.Ib(2),j.ed(null==t.task?null:t.task.subcategory.name),j.Ib(2),j.fd(" ",j.wc(20,26,null==t.task?null:t.task.date_updated)," "),j.Ib(2),j.Dc("ngIf",!(null!=t.task&&t.task.exact_name_match)&&(null==t.task?null:t.task.highlightTextContent)),j.Ib(1),j.Dc("ngIf",!((null==t.task||!t.task.exact_name_match)&&null!=t.task&&t.task.highlightTextContent)),j.Ib(2),j.Dc("ngIf",null==t.task||null==t.task.assignees?null:t.task.assignees.length))},directives:[V.a,M.q,M.t,L.a,A.a,X.a,H.a,Y.a],pipes:[Z.a,Q.a],styles:['.cu-search-task-row{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;padding:14px 28px 14px 30px;position:relative;display:flex;align-items:center;border-bottom:1px solid #f1f1f1;cursor:pointer}.dark-theme .cu-search-task-row{border-bottom:1px solid #1e272e}.cu-search-task-row__description{margin-top:10px}.cu-search-task-row:hover{background:#fafafa}.dark-theme .cu-search-task-row:hover{background:#2b343b}.dark-theme .cu-search-task-row:hover .cu-user-group.cu-user-group_sm .cu-avatar.cu-avatar_bordered{border:2px solid #2b343b}.cu-search-task-row:hover .cu-search-modal__task-desc-duration{display:none}.cu-search-task-row:hover .cu-search-modal__section-loc,.cu-search-task-row:hover .cu-search-task-row__section-loc{display:block}.cu-search-task-row:hover .cu-search-modal__section-angle,.cu-search-task-row:hover .cu-search-task-row__section-angle{display:inline-block}.cu-search-task-row:hover .cu-search-task-row__actions{display:inline-flex}.cu-search-task-row.search-modal-item_selected{background:#e4e4e4}.dark-theme .cu-search-task-row.search-modal-item_selected{background:#1e272e}.cu-search-task-row__toolbar{width:600px;margin:0 auto 30px;background:#fff;box-shadow:0 2px 12px 0 rgba(0,0,0,.05);border-radius:3px;padding:20px}.cu-search-task-row__header{display:flex;align-items:center}.cu-search-task-row__row{flex-grow:1;min-width:0}.cu-search-task-row__status{flex-shrink:0;width:8px;height:8px;border-radius:2px;margin:0 8px 0 0}.cu-search-task-row__status.cu-search-task-row__custom-type{transform:rotate(45deg);width:11px;height:11px;border-radius:0}.cu-search-task-row__title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-task-row__title{font-family:var(--global-font-support)}}.cu-search-task-row__title.cu-search-task-row__custom-type-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:500}.dark-theme .cu-search-task-row__title{color:#d5d6d7}.cu-search-task-row__time{font:12px Gotham Pro,Proxima Nova,arial,serif;color:#bbb;flex-shrink:0;margin:0 0 0 20px;padding:6px 0 0}.cu-search-task-row__info{display:flex;align-items:center}.cu-search-task-row__info .cu-user-group.cu-user-group_sm{margin-left:15px;justify-content:flex-end}.dark-theme .cu-search-task-row__info .cu-user-group.cu-user-group_sm .cu-avatar.cu-avatar_bordered{border:2px solid #384047}.cu-search-task-row__actions{display:none;flex-shrink:0}.cu-search-task-row__actions-item{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;flex-shrink:0;margin-left:15px;color:#b9bec7;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif}.cu-search-task-row__actions-item:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-task-row__actions-item:hover{color:var(--theme-main-color)}}.cu-search-task-row__actions-item:hover .cu-search-task-row__actions-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-task-row__actions-item:hover .cu-search-task-row__actions-icon{fill:var(--theme-main-color)}}.cu-search-task-row__actions-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:14px;height:14px;padding:1px;margin-top:-1px;margin-right:5px;fill:#b9bec7}.cu-search-task-row__actions-icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-task-row__actions-icon:hover{fill:var(--theme-main-color)}}.cu-search-task-row__actions-icon_new-tab{height:12px;padding:0;margin-top:-2px;margin-right:6px}.cu-search-task-row__content{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:300;font-size:14px;line-height:1.3;color:#544d61;margin:15px 0 0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-task-row__content{font-family:var(--global-font-support)}}.dark-theme .cu-search-task-row__content{color:#abaeb0}.cu-search-task-row__content:empty{display:none}.cu-search-task-row__fragment{font:300 14px/22px Gotham Pro,Proxima Nova,arial,serif;color:#544d61;margin:0 0 4px}.cu-search-task-row__fragment:before{content:"..."}'],encapsulation:2,changeDetection:0}),e})();var se=i("HPyy"),re=i("d9+G");function le(e,t){1&e&&j.Xb(0,"div",15)}function de(e,t){if(1&e&&j.Xb(0,"div",16),2&e){const e=j.uc();j.Dc("cuTooltip",null==e.task||null==e.task.parent_task?null:e.task.parent_task.name)}}function ue(e,t){if(1&e&&(j.ac(0),j.cc(1,"span",9),j.dd(2),j.bc(),j.Xb(3,"div",10),j.Zb()),2&e){const e=j.uc();j.Ib(2),j.fd(" ",null==e.task||null==e.task.category?null:e.task.category.name," ")}}function pe(e,t){if(1&e){const e=j.dc();j.ac(0),j.cc(1,"div",17),j.cc(2,"div",18),j.cc(3,"div",19),j.Xb(4,"cu-avatar",20),j.bc(),j.cc(5,"div",21),j.cc(6,"div",22),j.cc(7,"div",23),j.dd(8),j.bc(),j.cc(9,"div",24),j.dd(10),j.vc(11,"duration"),j.bc(),j.bc(),j.cc(12,"cu-comment",25),j.qc("onAttachmentPreview",function(t){return j.Uc(e),j.uc().previewAttachment(t)}),j.bc(),j.bc(),j.bc(),j.bc(),j.Zb()}if(2&e){const e=t.$implicit,i=j.uc();j.Ib(4),j.Dc("user",null==e?null:e.user)("modifier","cu-avatar_24"),j.Ib(4),j.fd(" ",null==e||null==e.user?null:e.user.username," "),j.Ib(2),j.fd(" ",j.wc(11,8,null==e?null:e.date)," "),j.Ib(2),j.Dc("comment",e.comment)("searchQuery",i.searchQuery)("allowPreview",!0)("noMargin",!0)}}const me=function(e){return{"background-color":e}};let he=(()=>{class e{constructor(){this.selected=!1,this.onClickTask=new j.o,this.onAttachmentPreview=new j.o,this.trackById=Object(_.d)("id")}ngOnInit(){}clickTaskLink(e,t){this.onClickTask.emit({id:{id:e.id,customId:e.custom_id,teamId:e.team},event:t})}previewAttachment(e){this.onAttachmentPreview.emit(Object.assign(Object.assign({},e),{taskId:this.task.id}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-search-comment-row"]],inputs:{task:"task",searchQuery:"searchQuery",selected:"selected"},outputs:{onClickTask:"onClickTask",onAttachmentPreview:"onAttachmentPreview"},decls:21,vars:20,consts:function(){let e;return e=$localize`:location@@common_in␟d37eba04a7fcace3c091a63cce49526f74b51671␟2841739558138901231:In`,[[1,"cu-search-modal__task-desc",3,"cuLink","click"],[1,"cu-search-modal__task-desc-header"],["class","cu-search-modal__subtask-icon","icon","archive2",4,"ngIf"],["class","cu-search-modal__subtask-icon","icon","subtask",3,"cuTooltip",4,"ngIf"],["tooltipModifier","tooltip_far",1,"cu-search-modal__task-desc-status",3,"ngStyle","cuTooltip"],[1,"cu-search-modal__task-desc-title"],[1,"cu-search-modal__section"],[1,"cu-search-modal__section-info","cu-search-modal__section-info_in"],e,[1,"cu-search-modal__section-loc"],["icon","angle-right-no-padding",1,"cu-search-modal__section-angle"],[4,"ngIf"],[1,"cu-search-modal__section-info"],[1,"cu-search-modal__task-desc-duration"],[4,"ngFor","ngForOf","ngForTrackBy"],["icon","archive2",1,"cu-search-modal__subtask-icon"],["icon","subtask",1,"cu-search-modal__subtask-icon",3,"cuTooltip"],[1,"cu-sp-comment__body"],[1,"cu-comment"],[1,"cu-comment__aside"],[3,"user","modifier"],[1,"cu-comment__body","search-comment-result"],[1,"cu-comment__header"],[1,"cu-comment__author"],[1,"cu-comment__date"],[1,"cu-comment__text",3,"comment","searchQuery","allowPreview","noMargin","onAttachmentPreview"]]},template:function(e,t){1&e&&(j.cc(0,"a",0),j.qc("click",function(e){return t.clickTaskLink(t.task,e)}),j.vc(1,"cuTaskLink"),j.cc(2,"div",1),j.bd(3,le,1,0,"div",2),j.bd(4,de,1,1,"div",3),j.Xb(5,"div",4),j.cc(6,"div",5),j.dd(7),j.bc(),j.bc(),j.cc(8,"div",6),j.cc(9,"span",7),j.gc(10,8),j.bc(),j.cc(11,"span",9),j.dd(12),j.bc(),j.Xb(13,"div",10),j.bd(14,ue,4,1,"ng-container",11),j.cc(15,"span",12),j.dd(16),j.bc(),j.cc(17,"div",13),j.dd(18),j.vc(19,"duration"),j.bc(),j.bc(),j.bd(20,pe,13,10,"ng-container",14),j.bc()),2&e&&(j.Ob("search-modal-item_selected",t.selected),j.Dc("cuLink",j.wc(1,14,t.task)),j.Ib(3),j.Dc("ngIf",null==t.task?null:t.task.archived),j.Ib(1),j.Dc("ngIf",null==t.task?null:t.task.parent),j.Ib(1),j.Ec("cuTooltip",null==t.task||null==t.task.status?null:t.task.status.status),j.Dc("ngStyle",j.Hc(18,me,null==t.task||null==t.task.status?null:t.task.status.color)),j.Ib(2),j.fd(" ",null==t.task?null:t.task.name," "),j.Ib(5),j.fd(" ",null==t.task?null:t.task.project_name," "),j.Ib(2),j.Dc("ngIf",!t.task.category.hidden),j.Ib(2),j.ed(null==t.task||null==t.task.subcategory?null:t.task.subcategory.name),j.Ib(2),j.fd(" ",j.wc(19,16,null==t.task?null:t.task.date_updated)," "),j.Ib(2),j.Dc("ngForOf",null==t.task?null:t.task.search_comments)("ngForTrackBy",t.trackById))},directives:[V.a,M.q,M.t,L.a,A.a,M.p,se.a,re.a],pipes:[Z.a,Q.a],encapsulation:2,changeDetection:0}),e})();var be=i("tyNb");const ge=function(e){return{item:e}};function fe(e,t){if(1&e&&j.Yb(0,7),2&e){const e=j.uc();j.Dc("ngTemplateOutlet",e.locationTemplate)("ngTemplateOutletContext",j.Hc(2,ge,e.conversation))}}function _e(e,t){if(1&e){const e=j.dc();j.ac(0),j.cc(1,"div",8),j.qc("click",function(i){j.Uc(e);const a=t.$implicit;return j.uc().commentClicked(i,a)}),j.cc(2,"div",9),j.cc(3,"div",10),j.Xb(4,"cu-avatar",11),j.bc(),j.cc(5,"div",12),j.cc(6,"div",13),j.cc(7,"div",14),j.dd(8),j.bc(),j.cc(9,"div",15),j.dd(10),j.vc(11,"duration"),j.bc(),j.bc(),j.Xb(12,"cu-comment",16),j.bc(),j.bc(),j.bc(),j.Zb()}if(2&e){const e=t.$implicit,i=j.uc();j.Ib(4),j.Dc("user",null==e?null:e.user)("modifier","cu-avatar_24"),j.Ib(4),j.fd(" ",null==e||null==e.user?null:e.user.username," "),j.Ib(2),j.fd(" ",j.wc(11,7,null==e?null:e.date)," "),j.Ib(2),j.Dc("comment",e.comment)("searchQuery",i.searchQuery)("allowPreview",!1)}}const ve=function(e,t){return["/",e,"v","cn",t]};let ye=(()=>{class e{constructor(e,t,i){this.sharedData=e,this.modal=t,this.router=i,this.trackById=Object(_.d)("id"),this.selected=!1}ngOnInit(){}clickConversationLink(){setTimeout(()=>this.modal.close(),100)}commentClicked(e,t){e.preventDefault(),e.stopPropagation(),this.router.navigate(["/",this.sharedData.compatCurrentTeam.id,"v","cn",this.conversation.id],{queryParams:{commentId:t.id}}),this.clickConversationLink()}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(I.a),j.Wb(C.a),j.Wb(be.h))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-search-row-conversation"]],inputs:{conversation:"conversation",searchQuery:"searchQuery",locationTemplate:"locationTemplate",selected:"selected"},decls:9,vars:13,consts:[[1,"cu-search-row-conversation",3,"routerLink","click"],[1,"cu-search-row-conversation__body"],[1,"cu-search-row-conversation__header"],[1,"cu-search-row-conversation__header-icon",3,"icon"],[1,"cu-search-row-conversation__header-name"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-sp-comment__body",3,"click"],[1,"cu-comment"],[1,"cu-comment__aside"],[3,"user","modifier"],[1,"cu-comment__body","search-comment-result"],[1,"cu-comment__header"],[1,"cu-comment__author"],[1,"cu-comment__date"],[1,"cu-comment__text",3,"comment","searchQuery","allowPreview"]],template:function(e,t){if(1&e&&(j.cc(0,"a",0),j.qc("click",function(){return t.clickConversationLink()}),j.vc(1,"async"),j.cc(2,"div",1),j.cc(3,"div",2),j.Xb(4,"div",3),j.cc(5,"div",4),j.dd(6),j.bc(),j.bc(),j.bd(7,fe,1,4,"ng-container",5),j.bd(8,_e,13,9,"ng-container",6),j.bc(),j.bc()),2&e){let e=null;j.Ob("search-modal-item_selected",t.selected),j.Dc("routerLink",j.Ic(10,ve,null==(e=j.wc(1,8,t.sharedData.compatCurrentTeam$))?null:e.id,null==t.conversation?null:t.conversation.id)),j.Ib(4),j.Dc("icon","cu2-view-8"),j.Ib(2),j.fd(" ",null==t.conversation?null:t.conversation.name," "),j.Ib(1),j.Dc("ngIf",null==t.conversation?null:t.conversation.hierarchy),j.Ib(1),j.Dc("ngForOf",null==t.conversation?null:t.conversation.comments)("ngForTrackBy",t.trackById)}},directives:[be.k,A.a,M.q,M.p,M.x,se.a,re.a],pipes:[M.b,Q.a],styles:[".cu-search-row-conversation{transition:all .1s cubic-bezier(.785,.135,.15,.86) 0s;position:relative;display:flex;cursor:pointer;padding:20px 30px;border-bottom:1px solid #f1f1f1}.cu-search-row-conversation:hover{transition:none}.dark-theme .cu-search-row-conversation{border-bottom:1px solid #1e272e}.cu-search-row-conversation:hover{background:#fafafa}.cu-search-row-conversation:hover .cu-search-modal__section-loc{display:block}.cu-search-row-conversation:hover .cu-search-modal__section-angle{display:inline-block}.dark-theme .cu-search-row-conversation:hover{background:#2b343b}.cu-search-row-conversation.search-modal-item_selected{background:#e4e4e4}.dark-theme .cu-search-row-conversation.search-modal-item_selected{background:#1e272e}.cu-search-row-conversation__body{flex-grow:1;overflow:hidden}.cu-search-row-conversation__body .cu-search-modal__section{margin:-10px 0 20px}.cu-search-row-conversation__header{display:flex;align-items:center;margin-bottom:20px}.cu-search-row-conversation__header-icon{width:14px;height:14px;margin-right:10px;margin-bottom:2px;flex-shrink:0;fill:#292d34}.dark-theme .cu-search-row-conversation__header-icon{fill:#d5d6d7}.cu-search-row-conversation__header-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 16px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-search-row-conversation__header-name{color:#d5d6d7}"],encapsulation:2,changeDetection:0}),e})(),we=(()=>{class e{constructor(e,t){this.profileService=e,this.modal=t,this.selected=!1}ngOnInit(){}onClick(){this.modal.close(),this.profileService.openProfile(this.user)}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(P.UserProfileService),j.Wb(C.a))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-search-row-user"]],hostVars:4,hostBindings:function(e,t){1&e&&j.qc("click",function(){return t.onClick()}),2&e&&j.Ob("cu-search-row-user",!0)("cu-search-row-user_selected",t.selected)},inputs:{user:"user",searchQuery:"searchQuery",selected:"selected"},decls:2,vars:2,consts:[[1,"cu-search-row-user__avatar",3,"user"]],template:function(e,t){1&e&&(j.Xb(0,"cu-avatar",0),j.dd(1)),2&e&&(j.Dc("user",t.user),j.Ib(1),j.fd(" ",t.user.username||t.user.email,"\n"))},directives:[se.a],styles:[".cu-search-row-user{display:flex;padding:10px 25px;align-items:center;border-bottom:1px solid #e4e4e4}.dark-theme .cu-search-row-user{border-bottom-color:#1e272e}.cu-search-row-user_selected{background:#e4e4e4}.dark-theme .cu-search-row-user_selected{background:#1e272e}.cu-search-row-user__avatar{margin-right:15px}"],encapsulation:2,changeDetection:0}),e})();function ke(e,t){1&e&&j.Xb(0,"cu-loader")}function xe(e,t){1&e&&(j.cc(0,"div",5),j.Xb(1,"div",6),j.ac(2),j.gc(3,7),j.Zb(),j.bc()),2&e&&j.Dc("@loadingEnter",void 0)}function Te(e,t){1&e&&(j.cc(0,"div",5),j.Xb(1,"div",8),j.ac(2),j.gc(3,9),j.Zb(),j.bc()),2&e&&j.Dc("@loadingEnter",void 0)}function Se(e,t){1&e&&(j.cc(0,"div",5),j.Xb(1,"div",10),j.ac(2),j.gc(3,11),j.Zb(),j.bc()),2&e&&j.Dc("@loadingEnter",void 0)}function je(e,t){1&e&&(j.cc(0,"div",5),j.Xb(1,"div",12),j.ac(2),j.gc(3,13),j.Zb(),j.bc()),2&e&&j.Dc("@loadingEnter",void 0)}function Oe(e,t){if(1&e&&(j.cc(0,"div"),j.bd(1,xe,4,1,"div",4),j.bd(2,Te,4,1,"div",4),j.bd(3,Se,4,1,"div",4),j.bd(4,je,4,1,"div",4),j.bc()),2&e){const e=j.uc(2);j.Ib(1),j.Dc("ngIf",!e.hasSearchQuery&&e.searchType===e.SearchType.TASK),j.Ib(1),j.Dc("ngIf",!e.hasSearchQuery&&e.searchType===e.SearchType.DOC),j.Ib(1),j.Dc("ngIf",!e.hasSearchQuery&&e.searchType===e.SearchType.CONVERSATION),j.Ib(1),j.Dc("ngIf",!e.hasSearchQuery&&e.searchType===e.SearchType.ATTACHMENT)}}function Ie(e,t){if(1&e&&j.bd(0,Oe,5,4,"div",0),2&e){const e=j.uc(),t=j.Rc(4);j.Dc("ngIf",!e.hasSearchQuery&&e.searchType!==e.SearchType.ALL&&e.searchType!==e.SearchType.PEOPLE)("ngIfElse",t)}}function De(e,t){if(1&e){const e=j.dc();j.ac(0),j.cc(1,"div",19),j.gc(2,20),j.bc(),j.cc(3,"div",21),j.qc("click",function(){return j.Uc(e),j.uc(3).setRelevantSearch()}),j.gc(4,22),j.bc(),j.Zb()}}function Ce(e,t){if(1&e&&(j.cc(0,"div",5),j.Xb(1,"div",15),j.cc(2,"div",16),j.gc(3,17),j.bc(),j.bd(4,De,5,0,"ng-container",18),j.bc()),2&e){const e=j.uc(2);j.Dc("@loadingEnter",void 0),j.Ib(4),j.Dc("ngIf",e.searchFuzziness!==e.Searchfuzziness.RELEVANT&&e.searchType!==e.SearchType.PEOPLE)}}function Pe(e,t){if(1&e&&j.bd(0,Ce,5,2,"div",14),2&e){const e=j.uc(),t=j.Rc(6);j.Dc("ngIf",!(null!=e.searchItems&&e.searchItems.length))("ngIfElse",t)}}function $e(e,t){if(1&e){const e=j.dc();j.cc(0,"cu-search-task-row",26),j.qc("onTrayToggle",function(t){return j.Uc(e),j.uc(3).onTrayToggle.emit(t)})("onClickTask",function(t){return j.Uc(e),j.uc(3).onClickTask.emit(t)}),j.bc()}if(2&e){const e=j.uc().$implicit,t=j.uc(2);j.Dc("task",t.searchType===t.SearchType.ALL&&t.hasSearchQuery?null==e?null:e.item:e)("trayTasks",t.trayTasks)("selected",(null==(t.searchType===t.SearchType.ALL&&t.hasSearchQuery?null==e?null:e.item:e)?null:(t.searchType===t.SearchType.ALL&&t.hasSearchQuery?null==e?null:e.item:e).id)===(null==t.selected?null:t.selected.id))("@loading",void 0)}}function ze(e,t){if(1&e){const e=j.dc();j.cc(0,"cu-search-comment-row",29),j.qc("onClickTask",function(t){return j.Uc(e),j.uc(4).onClickTask.emit(t)})("onAttachmentPreview",function(t){return j.Uc(e),j.uc(4).onAttachmentPreview.emit(t)}),j.bc()}if(2&e){const e=j.uc(2).$implicit,t=j.uc(2);j.Dc("task",t.searchType===t.SearchType.ALL?null==e?null:e.item:e)("selected",(null==(t.searchType===t.SearchType.ALL?null==e?null:e.item:e)?null:(t.searchType===t.SearchType.ALL?null==e?null:e.item:e).id)===(null==t.selected?null:t.selected.id))("searchQuery",t.searchQuery)}}const Me=function(e,t){return{item:e,selected:t}};function Ee(e,t){if(1&e&&j.Yb(0,32),2&e){const e=j.uc(3).$implicit,t=j.uc(2);j.Dc("ngTemplateOutlet",t.taskDescRow)("ngTemplateOutletContext",j.Ic(2,Me,t.searchType===t.SearchType.ALL?null==e?null:e.item:e,(null==(t.searchType===t.SearchType.ALL?null==e?null:e.item:e)?null:(t.searchType===t.SearchType.ALL?null==e?null:e.item:e).id)===(null==t.selected?null:t.selected.id)))}}function Le(e,t){if(1&e&&j.Yb(0,32),2&e){const e=j.uc(4).$implicit,t=j.uc(2);j.Dc("ngTemplateOutlet",t.attachmentRow)("ngTemplateOutletContext",j.Ic(2,Me,t.searchType===t.SearchType.ALL?null==e?null:e.item:e,(null==(t.searchType===t.SearchType.ALL?null==e?null:e.item:e)?null:(t.searchType===t.SearchType.ALL?null==e?null:e.item:e).id)===(null==t.selected?null:t.selected.id)))}}function Ae(e,t){if(1&e&&j.Yb(0,32),2&e){const e=j.uc(5).$implicit,t=j.uc(2);j.Dc("ngTemplateOutlet",t.docRow)("ngTemplateOutletContext",j.Ic(2,Me,t.searchType===t.SearchType.ALL?null==e?null:e.item:e,(null==(t.searchType===t.SearchType.ALL?null==e?null:e.item:e)?null:(t.searchType===t.SearchType.ALL?null==e?null:e.item:e).id)===(null==t.selected?null:t.selected.id)))}}function Fe(e,t){if(1&e&&j.Xb(0,"cu-search-row-conversation",37),2&e){const e=j.uc(6).$implicit,t=j.uc(2);j.Dc("selected",(null==(t.searchType===t.SearchType.ALL?null==e?null:e.item:e)?null:(t.searchType===t.SearchType.ALL?null==e?null:e.item:e).id)===(null==t.selected?null:t.selected.id))("searchQuery",t.searchQuery)("conversation",t.searchType===t.SearchType.ALL?null==e?null:e.item:e)("locationTemplate",t.locationTemplate)}}function Ue(e,t){if(1&e&&j.bd(0,Fe,1,4,"cu-search-row-conversation",36),2&e){j.uc();const e=j.Rc(4),t=j.uc(4).$implicit,i=j.uc(2);j.Dc("ngIf",i.searchType===i.SearchType.CONVERSATION||i.searchType===i.SearchType.ALL&&(null==t?null:t.type)===i.SearchType.CONVERSATION)("ngIfElse",e)}}function Ne(e,t){if(1&e&&j.Xb(0,"cu-search-row-user",39),2&e){const e=j.uc(6).$implicit,t=j.uc(2);j.Dc("selected",(null==e?null:e.id)===(null==t.selected?null:t.selected.id))("searchQuery",t.searchQuery)("user",e)}}function Re(e,t){if(1&e&&j.bd(0,Ne,1,3,"cu-search-row-user",38),2&e){const e=j.uc(7);j.Dc("ngIf",e.searchType===e.SearchType.PEOPLE)}}function Ge(e,t){if(1&e&&(j.bd(0,Ae,1,5,"ng-container",30),j.bd(1,Ue,1,2,"ng-template",null,34,j.cd),j.bd(3,Re,1,1,"ng-template",null,35,j.cd)),2&e){const e=j.Rc(2),t=j.uc(4).$implicit,i=j.uc(2);j.Dc("ngIf",i.searchType===i.SearchType.DOC||i.searchType===i.SearchType.ALL&&(null==t?null:t.type)===i.SearchType.DOC)("ngIfElse",e)}}function qe(e,t){if(1&e&&(j.bd(0,Le,1,5,"ng-container",30),j.bd(1,Ge,5,2,"ng-template",null,33,j.cd)),2&e){const e=j.Rc(2),t=j.uc(3).$implicit,i=j.uc(2);j.Dc("ngIf",i.searchType===i.SearchType.ATTACHMENT||i.searchType===i.SearchType.ALL&&(null==t?null:t.type)===i.SearchType.ATTACHMENT)("ngIfElse",e)}}function Be(e,t){if(1&e&&(j.bd(0,Ee,1,5,"ng-container",30),j.bd(1,qe,3,2,"ng-template",null,31,j.cd)),2&e){const e=j.Rc(2),t=j.uc(2).$implicit,i=j.uc(2);j.Dc("ngIf",i.searchType===i.SearchType.TASK&&(i.searchTaskType===i.SearchTaskType.DESCRIPTION||i.searchTaskType===i.SearchTaskType.ALL&&(null==t?null:t.content_match))||i.searchType===i.SearchType.ALL&&(null==t?null:t.type)===i.SearchType.TASK&&(null==t||null==t.item?null:t.item.content_match))("ngIfElse",e)}}function We(e,t){if(1&e&&(j.bd(0,ze,1,3,"cu-search-comment-row",27),j.bd(1,Be,3,2,"ng-template",null,28,j.cd)),2&e){const e=j.Rc(2),t=j.uc().$implicit,i=j.uc(2);j.Dc("ngIf",i.searchType===i.SearchType.TASK&&(i.searchTaskType===i.SearchTaskType.COMMENT||i.searchTaskType===i.SearchTaskType.ALL&&(null==t?null:t.comment_match))||i.searchType===i.SearchType.ALL&&(null==t?null:t.type)===i.SearchType.TASK&&(null==t||null==t.item?null:t.item.comment_match))("ngIfElse",e)}}function Ve(e,t){if(1&e&&(j.cc(0,"div"),j.bd(1,$e,1,4,"cu-search-task-row",24),j.bd(2,We,3,2,"ng-template",null,25,j.cd),j.bc()),2&e){const e=t.$implicit,i=j.Rc(3),a=j.uc(2);j.Dc("@loadingEnter",void 0),j.Ib(1),j.Dc("ngIf",(!a.hasSearchQuery||a.searchType===a.SearchType.TASK&&(a.searchTaskType===a.SearchTaskType.NAME||a.searchTaskType===a.SearchTaskType.ALL&&((null==e?null:e.name_match)||!(null!=e&&e.name_match)&&!(null!=e&&e.comment_match)&&!(null!=e&&e.content_match)))||a.searchType===a.SearchType.ALL&&(null==e?null:e.type)===a.SearchType.TASK&&((null==e||null==e.item?null:e.item.name_match)||!(null!=e&&null!=e.item&&e.item.name_match)&&!(null!=e&&null!=e.item&&e.item.comment_match)&&!(null!=e&&null!=e.item&&e.item.content_match)))&&a.searchType!==a.SearchType.PEOPLE)("ngIfElse",i)}}function Xe(e,t){1&e&&j.Xb(0,"cu-loader")}function He(e,t){if(1&e&&(j.bd(0,Ve,4,3,"div",23),j.bd(1,Xe,1,0,"cu-loader",18)),2&e){const e=j.uc();j.Dc("ngForOf",e.searchItems)("ngForTrackBy",e.trackBySearchItem),j.Ib(1),j.Dc("ngIf",e.fetchingPage[e.searchType]&&e.searchType!==e.SearchType.TASK||e.searchType===e.SearchType.TASK&&e.fetchingPage[e.searchType][e.searchTaskType])}}let Ye=(()=>{class e{constructor(e,t,i){this.store=e,this.changeDetector=t,this.sharedTaskService=i,this.SearchType=v.d,this.SearchTaskType=v.c,this.Searchfuzziness=v.e,this.loading=!1,this.onClickTask=new j.o,this.onTrayToggle=new j.o,this.onScrollToSelected=new j.o,this.onSelectItem=new j.o,this.onAttachmentPreview=new j.o,this.trackById=Object(_.d)("id")}ngOnInit(){}ngOnChanges(e){e.searchItems&&(e.searchItems.currentValue&&e.searchItems.currentValue.length&&!this.selected?this.selected=this.selectItem(0):e.searchItems.currentValue&&e.searchItems.currentValue.length?(e.searchItems.currentValue&&e.searchItems.currentValue.length&&e.searchItems.previousValue&&e.searchItems.previousValue.length&&e.searchItems.previousValue.length>e.searchItems.currentValue.length||e.searchItems.currentValue&&e.searchItems.currentValue.length&&this.selected&&-1===this.findSearchItem())&&(this.selected=this.selectItem(0)):this.selected=null)}keyDown(e){if(!(this.openModals>0||this.sharedTaskService.isOpen))switch(e.which){case R.a.TAB:case R.a.ARROW_DOWN:if(this.searchItems&&this.searchItems.length||(this.selected=null),this.selected){const e=this.findSearchItem();e>=0&&e<this.searchItems.length-1&&(this.selected=this.selectItem(e+1))}else this.searchItems.length>0&&(this.selected=this.selectItem(0));return this.changeDetector.markForCheck(),setTimeout(()=>{this.onScrollToSelected.emit(-100)}),e.preventDefault(),!1;case R.a.ARROW_UP:if(this.searchItems&&this.searchItems.length||(this.selected=null),this.selected){const e=this.findSearchItem();e>0&&(this.selected=this.selectItem(e-1))}else this.searchItems.length>0&&(this.selected=this.selectItem(0));return this.changeDetector.markForCheck(),setTimeout(()=>{this.onScrollToSelected.emit(-100)}),e.preventDefault(),!1;case R.a.ENTER:return this.selected&&this.onSelectItem.emit(this.selected),e.preventDefault(),!1}}selectItem(e){return this.allFormat?this.searchItems[e]?this.searchItems[e].item:null:this.searchItems[e]}findSearchItem(){return this.searchItems.findIndex(e=>(this.allFormat?e.item&&e.item.id:e.id)===this.selected.id)}trackBySearchItem(e,t){return t.item?t.item.id:t.id}setRelevantSearch(){this.store.dispatch(new n.eb(0)),localStorage.setItem("searchFuzziness","0")}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(r.Store),j.Wb(j.h),j.Wb(O.a))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-search-modal-list"]],hostAttrs:[1,"cu-search-modal-list"],hostBindings:function(e,t){1&e&&j.qc("keydown",function(e){return t.keyDown(e)},!1,j.Sc)},inputs:{hasSearchQuery:"hasSearchQuery",allFormat:"allFormat",searchItems:"searchItems",searchFuzziness:"searchFuzziness",loading:"loading",trayTasks:"trayTasks",openModals:"openModals",recentTasks:"recentTasks",searchType:"searchType",searchTaskType:"searchTaskType",searchQuery:"searchQuery",fetchingPage:"fetchingPage",taskLinkBox:"taskLinkBox",taskDescRow:"taskDescRow",attachmentRow:"attachmentRow",docRow:"docRow",locationTemplate:"locationTemplate"},outputs:{onClickTask:"onClickTask",onTrayToggle:"onTrayToggle",onScrollToSelected:"onScrollToSelected",onSelectItem:"onSelectItem",onAttachmentPreview:"onAttachmentPreview"},features:[j.Gb],decls:7,vars:2,consts:function(){let e,t,i,a,o,c,n;return e=$localize`:@@cu-search-modal-list__search-tasks␟1870d4a542031a24bf3fd145032ea5675fe2633c␟3306282402924830916: Type to search Tasks `,t=$localize`:@@cu-search-modal-list__search-docs␟25f51601a65f38cbe36a0085a4d4bf08da7af93f␟6466660623656335888: Type to search Docs `,i=$localize`:@@cu-search-modal-list__search-chats␟e9efec0d137623cbe4054b1fd468e2b1c7ec5a65␟7652626157736709478: Type to search Chats `,a=$localize`:@@cu-search-modal-list__search-files␟e44aab3acd8372f172fb2fb6b7dd5cf4b9bd708c␟1387015620134537534: Type to search Files `,o=$localize`:@@cu-search-modal-list__no-results-text␟db53c2b666e7804c0e8f68620739e2ab72744999␟8804827858672404567: No exact matches found. `,c=$localize`:@@cu-search-modal-list__no-results-tip␟223e032da3a4b53d4fa2d8e887e5172303d6a6e7␟2248043416694877835: Try relevant search to find more items. `,n=$localize`:@@cu-search-modal-list__relevant-search␟4e7456920a2690ae07452b2eca1a33c4852aedee␟2340155556052072156: Relevant Search `,[[4,"ngIf","ngIfElse"],["showResultsContainer",""],["showNothingFound",""],["showResults",""],["class","cu-search-modal-list__no-results",4,"ngIf"],[1,"cu-search-modal-list__no-results"],["icon","cu2-tasks-alt",1,"cu-search-modal-list__no-results-icon"],e,["icon","cu2-view-9",1,"cu-search-modal-list__no-results-icon"],t,["icon","cu2-view-8",1,"cu-search-modal-list__no-results-icon"],i,["icon","cu2-file",1,"cu-search-modal-list__no-results-icon"],a,["class","cu-search-modal-list__no-results",4,"ngIf","ngIfElse"],["icon","cu2-nothing-found",1,"cu-search-modal-list__no-results-icon","cu-search-modal-list__no-results-icon_empty"],[1,"cu-search-modal-list__no-results-title"],o,[4,"ngIf"],[1,"cu-search-modal-list__no-results-description"],c,[1,"cu-btn","cu-btn_md","cu-search-modal-list__no-results-btn",3,"click"],n,[4,"ngFor","ngForOf","ngForTrackBy"],[3,"task","trayTasks","selected","onTrayToggle","onClickTask",4,"ngIf","ngIfElse"],["showComments",""],[3,"task","trayTasks","selected","onTrayToggle","onClickTask"],[3,"task","selected","searchQuery","onClickTask","onAttachmentPreview",4,"ngIf","ngIfElse"],["showTaskDesc",""],[3,"task","selected","searchQuery","onClickTask","onAttachmentPreview"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["showAttachments",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["showDoc",""],["showConversation",""],["showPeople",""],[3,"selected","searchQuery","conversation","locationTemplate",4,"ngIf","ngIfElse"],[3,"selected","searchQuery","conversation","locationTemplate"],[3,"selected","searchQuery","user",4,"ngIf"],[3,"selected","searchQuery","user"]]},template:function(e,t){if(1&e&&(j.bd(0,ke,1,0,"cu-loader",0),j.bd(1,Ie,1,2,"ng-template",null,1,j.cd),j.bd(3,Pe,1,2,"ng-template",null,2,j.cd),j.bd(5,He,2,3,"ng-template",null,3,j.cd)),2&e){const e=j.Rc(2);j.Dc("ngIf",t.loading)("ngIfElse",e)}},directives:[M.q,G.a,A.a,M.p,ne,he,M.x,ye,we],styles:[".cu-search-modal-list__no-results{display:flex;align-items:center;padding-top:150px;flex-direction:column;width:100%;height:100%;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#b9bec7}.cu-search-modal-list__no-results-icon{width:14px;height:14px;margin-bottom:10px;fill:#b9bec7}.cu-search-modal-list__no-results-icon_empty{width:43px;height:43px;margin-bottom:15px}.cu-search-modal-list__no-results-title{font:500 18px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:8px;color:#292d34}.dark-theme .cu-search-modal-list__no-results-title{color:#d5d6d7}.cu-search-modal-list__no-results-description{font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:25px;color:#7c828d}.dark-theme .cu-search-modal-list__no-results-description{color:#abaeb0}.cu-search-modal-list__no-results-btn.cu-btn{padding:0 16px;font-weight:600;font-size:15px}"],encapsulation:2,data:{animation:[y.e,y.f]},changeDetection:0}),e})();var Ze=i("O5gs"),Qe=i("LdyQ"),Ke=i("MJvn"),Je=i("n+1/"),et=i("pxPQ"),tt=i("z6BP");function it(e,t){1&e&&(j.cc(0,"div",7),j.cc(1,"span",8),j.gc(2,9),j.bc(),j.bc())}function at(e,t){if(1&e){const e=j.dc();j.cc(0,"div",7),j.cc(1,"div",10),j.qc("click",function(){j.Uc(e);const t=j.uc(2);return t.onToggleAllSpaces.emit(t.allSpacesSelected)}),j.bc(),j.bc()}}function ot(e,t){if(1&e&&j.bd(0,at,2,0,"div",6),2&e){const e=j.uc();j.Dc("ngIf",!e.allSpacesSelected)}}function ct(e,t){1&e&&(j.cc(0,"div",14),j.gc(1,15),j.bc())}function nt(e,t){1&e&&(j.ac(0),j.gc(1,16),j.Zb())}function st(e,t){if(1&e&&j.dd(0),2&e){const e=j.uc(2);j.ed(e.numberSpaces)}}function rt(e,t){if(1&e&&(j.cc(0,"div",7),j.bd(1,ct,2,0,"div",11),j.cc(2,"span",8),j.bd(3,nt,2,0,"ng-container",12),j.bd(4,st,1,1,"ng-template",null,13,j.cd),j.bc(),j.bc()),2&e){const e=j.Rc(5),t=j.uc();j.Ib(1),j.Dc("ngIf",!t.allSpacesSelected),j.Ib(2),j.Dc("ngIf",t.allSpacesSelected)("ngIfElse",e)}}function lt(e,t){if(1&e&&(j.cc(0,"div",7),j.cc(1,"div",14),j.gc(2,17),j.bc(),j.cc(3,"span",8),j.dd(4),j.bc(),j.bc()),2&e){const e=j.uc();j.Ib(4),j.ed(e.numberProjects)}}function dt(e,t){if(1&e&&(j.cc(0,"div",7),j.cc(1,"div",14),j.gc(2,18),j.bc(),j.cc(3,"span",8),j.dd(4),j.bc(),j.bc()),2&e){const e=j.uc();j.Ib(4),j.ed(e.numberLists)}}let ut=(()=>{class e{constructor(){this.hierarchies=[],this.onToggleLocation=new j.o,this.onToggleExpand=new j.o,this.onSearch=new j.o,this.onToggleAllSpaces=new j.o}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-search-location-picker"]],hostAttrs:[1,"cu-search-location-picker"],inputs:{hierarchies:"hierarchies",searchStringVal:"searchStringVal",numberSpaces:"numberSpaces",numberProjects:"numberProjects",numberLists:"numberLists",selectedSpaceMap:"selectedSpaceMap",expandedSpaceMap:"expandedSpaceMap",underlyingSpaceMap:"underlyingSpaceMap",selectedProjectMap:"selectedProjectMap",expandedProjectMap:"expandedProjectMap",underlyingProjectMap:"underlyingProjectMap",selectedListMap:"selectedListMap",allSpacesSelected:"allSpacesSelected"},outputs:{onToggleLocation:"onToggleLocation",onToggleExpand:"onToggleExpand",onSearch:"onSearch",onToggleAllSpaces:"onToggleAllSpaces"},decls:11,vars:18,consts:function(){let e,t,i,a,o,c;return e=$localize`:@@common_location␟4fcb819dd12576e8b37628bc95a5949058e29b82␟1419944298759150346: Location
`,t=$localize`:@@common_all-spaces␟ceedd8e3fdeb1e8d64859ffca7a60ebd6d25da0b␟6524771526246211499:All Spaces`,i=$localize`:@@common_spaces␟2faf3ac5ea4da76705a6f2c76846506586a6167e␟9205913593760338898: Spaces `,a=$localize`:@@common_all-spaces␟ceedd8e3fdeb1e8d64859ffca7a60ebd6d25da0b␟6524771526246211499:All Spaces`,o=$localize`:@@common_folders␟3bc36a3a8538ba16b153c0d6079eae07bd67f559␟7519050557942166595: Folders `,c=$localize`:@@common_lists␟b15e7bec5c7833d2d9634946ccbed68967b1bee1␟8756167649220050929:Lists`,[[1,"cu-search-location-picker__title"],e,[3,"hierarchies","searchStringVal","numberSpaces","numberProjects","numberLists","selectedSpaceMap","selectedProjectMap","expandedSpaceMap","expandedProjectMap","underlyingSpaceMap","underlyingProjectMap","selectedListMap","allSpacesSelected","onToggleExpand","onToggleLocation","onSearch","onToggleAllSpaces"],[1,"cu-dt-filter__item","cu-search-location-picker__toggle"],["class","cu-hierarchy-picker__col",4,"ngIf","ngIfElse"],["clearHierarchy",""],["class","cu-hierarchy-picker__col",4,"ngIf"],[1,"cu-hierarchy-picker__col"],[1,"cu-period-picker__value"],t,["icon","close",1,"cu-hierarchy-picker__close",3,"click"],["class","cu-period-picker__label",4,"ngIf"],[4,"ngIf","ngIfElse"],["numberSpacesTmpl",""],[1,"cu-period-picker__label"],i,a,o,c]},template:function(e,t){if(1&e&&(j.cc(0,"div",0),j.gc(1,1),j.bc(),j.cc(2,"cu-hierarchy-picker-dropdown",2),j.qc("onToggleExpand",function(e){return t.onToggleExpand.emit(e)})("onToggleLocation",function(e){return t.onToggleLocation.emit(e)})("onSearch",function(e){return t.onSearch.emit(e)})("onToggleAllSpaces",function(e){return t.onToggleAllSpaces.emit(e)}),j.cc(3,"div",3),j.bd(4,it,3,0,"div",4),j.bd(5,ot,1,1,"ng-template",null,5,j.cd),j.cc(7,"div"),j.bd(8,rt,6,3,"div",6),j.bd(9,lt,5,1,"div",6),j.bd(10,dt,5,1,"div",6),j.bc(),j.bc(),j.bc()),2&e){const e=j.Rc(6);j.Ib(2),j.Dc("hierarchies",t.hierarchies)("searchStringVal",t.searchStringVal)("numberSpaces",t.numberSpaces)("numberProjects",t.numberProjects)("numberLists",t.numberLists)("selectedSpaceMap",t.selectedSpaceMap)("selectedProjectMap",t.selectedProjectMap)("expandedSpaceMap",t.expandedSpaceMap)("expandedProjectMap",t.expandedProjectMap)("underlyingSpaceMap",t.underlyingSpaceMap)("underlyingProjectMap",t.underlyingProjectMap)("selectedListMap",t.selectedListMap)("allSpacesSelected",t.allSpacesSelected),j.Ib(2),j.Dc("ngIf",!t.numberSpaces&&!t.numberProjects&&!t.numberLists)("ngIfElse",e),j.Ib(4),j.Dc("ngIf",t.numberSpaces),j.Ib(1),j.Dc("ngIf",t.numberProjects),j.Ib(1),j.Dc("ngIf",t.numberLists)}},directives:[tt.a,M.q,A.a],styles:[".cu-search-location-picker__title{margin-bottom:10px;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-search-location-picker__title{color:#abaeb0}.cu-search-location-picker__toggle{padding:10px;min-height:40px;height:auto}"],encapsulation:2,changeDetection:0}),e})();var pt=i("T7pm"),mt=i("HSHF");const ht=["scrollbar"],bt=["inputSearch"];function gt(e,t){if(1&e){const e=j.dc();j.cc(0,"div",21),j.qc("click",function(){return j.Uc(e),j.uc().clearSearch()}),j.bc()}2&e&&j.Dc("icon","cu2-times")("@loading",void 0)}function ft(e,t){if(1&e){const e=j.dc();j.cc(0,"div",22),j.qc("click",function(){j.Uc(e);const i=t.$implicit;return j.uc().setSearchType(i.id)}),j.vc(1,"async"),j.dd(2),j.bc()}if(2&e){const e=t.$implicit,i=j.uc();j.Ob("cu-search-modal__types-item_selected",e.id===j.wc(1,3,i.searchType$)),j.Ib(2),j.fd(" ",e.display," ")}}const _t=function(e){return{"cu-search-modal__types-cog_active":e}};function vt(e,t){if(1&e){const e=j.dc();j.ac(0),j.cc(1,"div",23),j.cc(2,"cu-dropdown-list",24),j.qc("onSelect",function(t){return j.Uc(e),j.uc().setFuzziness(t)}),j.vc(3,"async"),j.cc(4,"div",25),j.cc(5,"div",26),j.dd(6),j.vc(7,"enumToText"),j.vc(8,"async"),j.bc(),j.Xb(9,"div",27),j.bc(),j.bc(),j.bc(),j.cc(10,"div",28),j.qc("click",function(){return j.Uc(e),j.uc().toggleFilter()}),j.vc(11,"async"),j.bc(),j.Zb()}if(2&e){const e=j.uc();j.Ib(2),j.Dc("items",j.wc(3,4,e.getSearchFuzzinessOptions$)),j.Ib(4),j.fd(" ",j.wc(7,6,e.searchFuzziness[j.wc(8,8,e.searchFuzziness$)])," "),j.Ib(4),j.Dc("ngClass",j.Hc(12,_t,j.wc(11,10,e.showFilter$)))("icon","cu2-cog")}}function yt(e,t){1&e&&(j.ac(0),j.gc(1,42),j.Zb())}function wt(e,t){1&e&&(j.ac(0),j.gc(1,43),j.Zb())}function kt(e,t){1&e&&(j.ac(0),j.gc(1,44),j.Zb())}function xt(e,t){1&e&&(j.ac(0),j.gc(1,45),j.Zb())}function Tt(e,t){if(1&e&&(j.ac(0,39),j.bd(1,yt,2,0,"ng-container",40),j.bd(2,wt,2,0,"ng-container",40),j.bd(3,kt,2,0,"ng-container",40),j.bd(4,xt,2,0,"ng-container",41),j.Zb()),2&e){const e=t.$implicit,i=j.uc(3);j.Dc("ngSwitch",e),j.Ib(1),j.Dc("ngSwitchCase",i.SearchTaskType.ALL),j.Ib(1),j.Dc("ngSwitchCase",i.SearchTaskType.NAME),j.Ib(1),j.Dc("ngSwitchCase",i.SearchTaskType.DESCRIPTION)}}const St=function(e){return{title:e}};function jt(e,t){if(1&e){const e=j.dc();j.cc(0,"cu-dropdown-list-item",47),j.qc("click",function(){j.Uc(e);const i=t.$implicit;return j.uc(4).setTaskType(i.id)}),j.bc()}2&e&&j.Dc("item",j.Hc(1,St,t.$implicit.display))}function Ot(e,t){if(1&e&&(j.cc(0,"div"),j.bd(1,jt,1,3,"cu-dropdown-list-item",46),j.bc()),2&e){const e=j.uc(3);j.Ib(1),j.Dc("ngForOf",e.searchTaskTypeList)("ngForTrackBy",e.trackById)}}function It(e,t){if(1&e&&(j.cc(0,"div",31),j.cc(1,"div",32),j.cc(2,"div",33),j.ac(3),j.gc(4,34),j.Zb(),j.dd(5,": "),j.bc(),j.cc(6,"div",35),j.bd(7,Tt,5,4,"ng-template",36),j.vc(8,"async"),j.Xb(9,"div",37),j.bc(),j.bc(),j.bd(10,Ot,2,2,"div",38),j.bc()),2&e){const e=j.uc(2);j.Dc("@loadingOptions",void 0),j.Ib(7),j.Dc("ngIf",j.wc(8,2,e.searchTaskType$))}}function Dt(e,t){if(1&e&&(j.ac(0),j.dd(1),j.Zb()),2&e){const e=j.uc().$implicit;j.Ib(1),j.ed(e.display)}}function Ct(e,t){if(1&e&&(j.ac(0),j.bd(1,Dt,2,1,"ng-container",10),j.vc(2,"async"),j.Zb()),2&e){const e=t.$implicit,i=j.uc(3);j.Ib(1),j.Dc("ngIf",e.id===j.wc(2,1,i.recentType$))}}function Pt(e,t){if(1&e){const e=j.dc();j.cc(0,"cu-dropdown-list-item",47),j.qc("click",function(){j.Uc(e);const i=t.$implicit;return j.uc(4).setRecentType(i.id)}),j.vc(1,"async"),j.bc()}if(2&e){const e=t.$implicit,i=j.uc(4);j.Ob("selected-recent",e.id===j.wc(1,3,i.recentType$)),j.Dc("item",j.Hc(5,St,e.display))}}function $t(e,t){if(1&e&&(j.cc(0,"div"),j.bd(1,Pt,2,7,"cu-dropdown-list-item",50),j.bc()),2&e){const e=j.uc(3);j.Ib(1),j.Dc("ngForOf",e.recentList)("ngForTrackBy",e.trackById)}}function zt(e,t){if(1&e&&(j.cc(0,"div",31),j.cc(1,"div",32),j.cc(2,"div",33),j.ac(3),j.gc(4,48),j.Zb(),j.dd(5,": "),j.bc(),j.cc(6,"div",35),j.bd(7,Ct,3,3,"ng-container",49),j.Xb(8,"div",37),j.bc(),j.bc(),j.bd(9,$t,2,2,"div",38),j.bc()),2&e){const e=j.uc(2);j.Ib(7),j.Dc("ngForOf",e.recentList)("ngForTrackBy",e.trackById)}}function Mt(e,t){if(1&e&&(j.cc(0,"div",29),j.bd(1,It,11,4,"div",30),j.vc(2,"async"),j.vc(3,"async"),j.bd(4,zt,10,2,"div",30),j.vc(5,"async"),j.bc()),2&e){const e=j.uc();j.Ib(1),j.Dc("ngIf",j.wc(2,2,e.hasSearchQuery$)&&j.wc(3,4,e.searchType$)===e.SearchType.TASK),j.Ib(3),j.Dc("ngIf",!j.wc(5,6,e.hasSearchQuery$))}}function Et(e,t){if(1&e){const e=j.dc();j.cc(0,"div",51),j.cc(1,"cu-search-location-picker",52),j.qc("onToggleExpand",function(t){return j.Uc(e),j.uc().toggleExpand(t)})("onToggleLocation",function(t){return j.Uc(e),j.uc().toggleLocation(t)})("onSearch",function(t){return j.Uc(e),j.uc().searchHierarchy(t)})("onToggleAllSpaces",function(t){return j.Uc(e),j.uc().toggleAllSpaces(t)}),j.vc(2,"async"),j.vc(3,"async"),j.vc(4,"async"),j.vc(5,"async"),j.vc(6,"async"),j.vc(7,"async"),j.vc(8,"async"),j.vc(9,"async"),j.vc(10,"async"),j.vc(11,"async"),j.vc(12,"async"),j.vc(13,"async"),j.vc(14,"async"),j.bc(),j.bc()}if(2&e){const e=j.uc();j.Dc("@loadingFilters",void 0),j.Ib(1),j.Dc("hierarchies",j.wc(2,14,e.hierarchies$))("searchStringVal",j.wc(3,16,e.searchString$))("numberSpaces",j.wc(4,18,e.numberProjects$))("numberProjects",j.wc(5,20,e.numberCategories$))("selectedSpaceMap",j.wc(6,22,e.selectedProjectsMap$))("selectedProjectMap",j.wc(7,24,e.selectedCategoriesMap$))("selectedListMap",j.wc(8,26,e.selectedSubcategoriesMap$))("expandedSpaceMap",j.wc(9,28,e.expandedProjectsMap$))("expandedProjectMap",j.wc(10,30,e.expandedCategoriesMap$))("underlyingSpaceMap",j.wc(11,32,e.underlyingProjectsMap$))("underlyingProjectMap",j.wc(12,34,e.underlyingCategoriesMap$))("allSpacesSelected",j.wc(13,36,e.allProjectsSelected$))("numberLists",j.wc(14,38,e.numberSubcategories$))}}const Lt=function(e){return{item:e}};function At(e,t){if(1&e&&j.Yb(0,62),2&e){const e=j.uc().item;j.uc();const t=j.Rc(50);j.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",j.Hc(2,Lt,e))}}function Ft(e,t){if(1&e&&j.Xb(0,"div",63),2&e){const e=j.uc().item;j.Dc("innerHTML",null==e?null:e.highlightName,j.Vc)}}function Ut(e,t){if(1&e&&(j.cc(0,"div",65),j.dd(1),j.bc()),2&e){const e=j.uc(2).item;j.Ib(1),j.fd(" ",null==e?null:e.pageName," ")}}function Nt(e,t){if(1&e&&j.bd(0,Ut,2,1,"div",64),2&e){const e=j.uc().item;j.Dc("ngIf",null==e?null:e.pageName)}}function Rt(e,t){1&e&&j.Xb(0,"div",66),2&e&&j.Dc("innerHTML",t.$implicit,j.Vc)}const Gt=function(e,t){return["/",e,"docs",t]},qt=function(e,t){return["/",e,"v","dc",t]},Bt=function(e,t,i){return["/",e,"docs",t,i]},Wt=function(e,t,i){return["/",e,"v","dc",t,i]};function Vt(e,t){if(1&e&&(j.cc(0,"div",53),j.cc(1,"a",54),j.vc(2,"async"),j.vc(3,"async"),j.Xb(4,"div",55),j.cc(5,"div",56),j.dd(6),j.bc(),j.bc(),j.bd(7,At,1,4,"ng-container",57),j.cc(8,"a",58),j.vc(9,"async"),j.vc(10,"async"),j.bd(11,Ft,1,1,"div",59),j.bd(12,Nt,1,1,"ng-template",null,60,j.cd),j.bd(14,Rt,1,1,"div",61),j.bc(),j.bc()),2&e){const e=t.item,i=t.selected,a=j.Rc(13),o=j.uc();let c=null,n=null;j.Ob("search-modal-item_selected",i),j.Ib(1),j.Dc("routerLink",+(null==e||null==e.parent?null:e.parent.type)===o.DataViewParentType.Task||+(null==e||null==e.parent?null:e.parent.type)===o.DataViewParentType.DocsHome?j.Ic(19,Gt,null==(c=j.wc(2,11,o.sharedData.compatCurrentTeam$))?null:c.id,null==e?null:e.viewId):j.Ic(22,qt,null==(c=j.wc(3,13,o.sharedData.compatCurrentTeam$))?null:c.id,null==e?null:e.viewId)),j.Ib(3),j.Dc("icon","cu2-view-9"),j.Ib(2),j.fd(" ",null==e?null:e.name," "),j.Ib(1),j.Dc("ngIf",null==e?null:e.hierarchy),j.Ib(1),j.Dc("routerLink",+(null==e||null==e.parent?null:e.parent.type)===o.DataViewParentType.Task||+(null==e||null==e.parent?null:e.parent.type)===o.DataViewParentType.DocsHome?j.Jc(25,Bt,null==(n=j.wc(9,15,o.sharedData.compatCurrentTeam$))?null:n.id,null==e?null:e.viewId,null==e?null:e.pageId):j.Jc(29,Wt,null==(n=j.wc(10,17,o.sharedData.compatCurrentTeam$))?null:n.id,null==e?null:e.viewId,null==e?null:e.pageId)),j.Ib(3),j.Dc("ngIf",null==e?null:e.highlightName)("ngIfElse",a),j.Ib(3),j.Dc("ngForOf",null==e?null:e.highlightContent)("ngForTrackBy",o.trackByFn)}}function Xt(e,t){if(1&e&&(j.cc(0,"div",77),j.dd(1),j.bc()),2&e){const e=j.uc().item;j.Ib(1),j.fd(" ",null==e?null:e.title," ")}}function Ht(e,t){1&e&&j.Xb(0,"div",79),2&e&&j.Dc("innerHTML",t.$implicit,j.Vc)}function Yt(e,t){if(1&e&&j.bd(0,Ht,1,1,"div",78),2&e){const e=j.uc().item,t=j.uc();j.Dc("ngForOf",null==e||null==e.highlight?null:e.highlight.title)("ngForTrackBy",t.trackByFn)}}function Zt(e,t){if(1&e&&j.Yb(0,62),2&e){const e=j.uc().item;j.uc();const t=j.Rc(52);j.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",j.Hc(2,Lt,null==e||null==e.hierarchy?null:e.hierarchy.task))}}function Qt(e,t){if(1&e&&j.Yb(0,62),2&e){const e=j.uc().item;j.uc();const t=j.Rc(50);j.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",j.Hc(2,Lt,e))}}function Kt(e,t){if(1&e){const e=j.dc();j.cc(0,"a",67),j.qc("click",function(i){j.Uc(e);const a=t.item;return j.uc().clickTask({id:null==a||null==a.hierarchy||null==a.hierarchy.task?null:a.hierarchy.task.id,event:i})}),j.vc(1,"cuTaskLink"),j.cc(2,"div",68),j.cc(3,"div",69),j.cc(4,"cu-attachment-preview",70),j.qc("onOpen",function(t){return j.Uc(e),j.uc().openAttachmentPreview(t)}),j.bc(),j.bc(),j.cc(5,"div",71),j.cc(6,"div",72),j.mc(7,73),j.Xb(8,"span"),j.jc(),j.bc(),j.bd(9,Xt,2,1,"div",74),j.bd(10,Yt,1,2,"ng-template",null,75,j.cd),j.cc(12,"div",76),j.bd(13,Zt,1,4,"ng-container",57),j.bd(14,Qt,1,4,"ng-container",57),j.bc(),j.bc(),j.bc(),j.bc()}if(2&e){const e=t.item,i=t.selected,a=j.Rc(11);j.Ob("search-modal-item_selected",i),j.Dc("cuLink",j.wc(1,11,null==e||null==e.hierarchy?null:e.hierarchy.task)),j.Ib(4),j.Dc("disableLink",!0)("attachment",e)("taskId",null==e||null==e.hierarchy||null==e.hierarchy.task?null:e.hierarchy.task.id),j.Ib(4),j.kc((null==e||null==e.user?null:e.user.username)||(null==e||null==e.user?null:e.user.email)),j.hc(7),j.Ib(1),j.Dc("ngIf",!(null!=e&&null!=e.highlight&&e.highlight.title))("ngIfElse",a),j.Ib(4),j.Dc("ngIf",null==e||null==e.hierarchy?null:e.hierarchy.task),j.Ib(1),j.Dc("ngIf",null==e?null:e.hierarchy)}}function Jt(e,t){1&e&&j.Xb(0,"div",93)}function ei(e,t){if(1&e&&j.Xb(0,"div",94),2&e){const e=j.uc().item;j.Dc("cuTooltip",null==e||null==e.parent_task?null:e.parent_task.name)}}function ti(e,t){if(1&e&&(j.ac(0),j.cc(1,"span",88),j.dd(2),j.bc(),j.Xb(3,"div",89),j.Zb()),2&e){const e=j.uc().item;j.Ib(2),j.fd(" ",null==e||null==e.category?null:e.category.name," ")}}function ii(e,t){if(1&e&&j.Xb(0,"div",66),2&e){const e=j.uc().item;j.Dc("innerHTML",null==e?null:e.highlightTextContent,j.Vc)}}const ai=function(e){return{"background-color":e}};function oi(e,t){if(1&e){const e=j.dc();j.cc(0,"a",67),j.qc("click",function(i){j.Uc(e);const a=t.item;return j.uc().clickTask({id:null==a?null:a.id,event:i})}),j.vc(1,"cuTaskLink"),j.cc(2,"div",80),j.bd(3,Jt,1,0,"div",81),j.bd(4,ei,1,1,"div",82),j.Xb(5,"div",83),j.cc(6,"div",84),j.dd(7),j.bc(),j.bc(),j.cc(8,"div",85),j.cc(9,"span",86),j.gc(10,87),j.bc(),j.cc(11,"span",88),j.dd(12),j.bc(),j.Xb(13,"div",89),j.bd(14,ti,4,1,"ng-container",10),j.cc(15,"span",90),j.dd(16),j.bc(),j.cc(17,"div",91),j.dd(18),j.vc(19,"duration"),j.bc(),j.bc(),j.bd(20,ii,1,1,"div",92),j.bc()}if(2&e){const e=t.item;j.Ob("search-modal-item_selected",t.selected),j.Dc("cuLink",j.wc(1,13,e)),j.Ib(3),j.Dc("ngIf",null==e?null:e.archived),j.Ib(1),j.Dc("ngIf",null==e?null:e.parent),j.Ib(1),j.Ec("cuTooltip",null==e||null==e.status?null:e.status.status),j.Dc("ngStyle",j.Hc(17,ai,null==e||null==e.status?null:e.status.color)),j.Ib(2),j.fd(" ",null==e?null:e.name," "),j.Ib(5),j.fd(" ",null==e?null:e.project_name," "),j.Ib(2),j.Dc("ngIf",!(null!=e&&null!=e.category&&e.category.hidden)),j.Ib(2),j.ed(null==e||null==e.subcategory?null:e.subcategory.name),j.Ib(2),j.fd(" ",j.wc(19,15,null==e?null:e.date_updated)," "),j.Ib(2),j.Dc("ngIf",null==e?null:e.highlightTextContent)}}function ci(e,t){1&e&&(j.cc(0,"span",86),j.gc(1,100),j.bc())}function ni(e,t){1&e&&j.Xb(0,"div",102),2&e&&j.Dc("icon","archive2")}function si(e,t){if(1&e&&(j.cc(0,"span",88),j.bd(1,ni,1,1,"div",101),j.dd(2),j.bc()),2&e){const e=j.uc().item;j.Ob("cu-search-modal__section-info",!(null!=e&&null!=e.hierarchy&&null!=e.hierarchy.category&&e.hierarchy.category.name))("cu-search-modal__section-archived",null==e||null==e.hierarchy||null==e.hierarchy.project?null:e.hierarchy.project.archived),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy||null==e.hierarchy.project?null:e.hierarchy.project.archived),j.Ib(1),j.fd(" ",null==e||null==e.hierarchy||null==e.hierarchy.project?null:e.hierarchy.project.name," ")}}function ri(e,t){if(1&e&&j.Xb(0,"div",89),2&e){const e=j.uc().item;j.Ob("cu-search-modal__section-info-angle",!(null!=e&&null!=e.hierarchy&&null!=e.hierarchy.category&&e.hierarchy.category.name))}}function li(e,t){1&e&&j.Xb(0,"div",102),2&e&&j.Dc("icon","archive2")}function di(e,t){if(1&e&&j.Xb(0,"div",89),2&e){const e=j.uc(2).item;j.Ob("cu-search-modal__section-info-angle",!(null!=e&&null!=e.hierarchy&&null!=e.hierarchy.subcategory&&e.hierarchy.subcategory.name))}}function ui(e,t){if(1&e&&(j.ac(0),j.cc(1,"span",88),j.bd(2,li,1,1,"div",101),j.dd(3),j.bc(),j.bd(4,di,1,2,"div",97),j.Zb()),2&e){const e=j.uc().item;j.Ib(1),j.Ob("cu-search-modal__section-info",!(null!=e&&null!=e.hierarchy&&null!=e.hierarchy.subcategory&&e.hierarchy.subcategory.name))("cu-search-modal__section-archived",null==e||null==e.hierarchy||null==e.hierarchy.category?null:e.hierarchy.category.archived),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy||null==e.hierarchy.category?null:e.hierarchy.category.archived),j.Ib(1),j.fd(" ",null==e||null==e.hierarchy||null==e.hierarchy.category?null:e.hierarchy.category.name," "),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy||null==e.hierarchy.subcategory?null:e.hierarchy.subcategory.name)}}function pi(e,t){1&e&&j.Xb(0,"div",102),2&e&&j.Dc("icon","archive2")}function mi(e,t){if(1&e&&(j.cc(0,"span",90),j.bd(1,pi,1,1,"div",101),j.dd(2),j.bc()),2&e){const e=j.uc().item;j.Ob("cu-search-modal__section-archived",null==e||null==e.hierarchy||null==e.hierarchy.subcategory?null:e.hierarchy.subcategory.archived),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy||null==e.hierarchy.subcategory?null:e.hierarchy.subcategory.archived),j.Ib(1),j.fd(" ",null==e||null==e.hierarchy||null==e.hierarchy.subcategory?null:e.hierarchy.subcategory.name,"")}}function hi(e,t){if(1&e&&(j.cc(0,"div",91),j.dd(1),j.vc(2,"duration"),j.bc()),2&e){const e=j.uc().item;j.Ib(1),j.fd(" ",j.wc(2,1,null==e||null==e.hierarchy||null==e.hierarchy.task?null:e.hierarchy.task.date_updated)," ")}}function bi(e,t){if(1&e&&(j.cc(0,"div",85),j.bd(1,ci,2,0,"span",95),j.bd(2,si,3,6,"span",96),j.bd(3,ri,1,2,"div",97),j.bd(4,ui,5,7,"ng-container",10),j.bd(5,mi,3,4,"span",98),j.bd(6,hi,3,3,"div",99),j.bc()),2&e){const e=t.item;j.Ob("cu-search-modal__section-archived",null==e||null==e.hierarchy||null==e.hierarchy.task?null:e.hierarchy.task.archived),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy||null==e.hierarchy.project?null:e.hierarchy.project.name),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy||null==e.hierarchy.project?null:e.hierarchy.project.name),j.Ib(1),j.Dc("ngIf",(null==e||null==e.hierarchy||null==e.hierarchy.category?null:e.hierarchy.category.name)||(null==e||null==e.hierarchy||null==e.hierarchy.subcategory?null:e.hierarchy.subcategory.name)),j.Ib(1),j.Dc("ngIf",(null==e||null==e.hierarchy||null==e.hierarchy.category?null:e.hierarchy.category.name)&&"hidden"!==(null==e||null==e.hierarchy||null==e.hierarchy.category?null:e.hierarchy.category.name)),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy||null==e.hierarchy.subcategory?null:e.hierarchy.subcategory.name),j.Ib(1),j.Dc("ngIf",null==e||null==e.hierarchy?null:e.hierarchy.task)}}function gi(e,t){1&e&&j.Xb(0,"div",93)}function fi(e,t){if(1&e&&j.Xb(0,"div",94),2&e){const e=j.uc().item;j.Dc("cuTooltip",null==e||null==e.parent_task?null:e.parent_task.name)}}function _i(e,t){if(1&e&&(j.cc(0,"div"),j.bd(1,gi,1,0,"div",81),j.bd(2,fi,1,1,"div",82),j.cc(3,"span",103),j.cc(4,"span"),j.cc(5,"a",104),j.Xb(6,"span",105),j.cc(7,"span",106),j.dd(8),j.bc(),j.bc(),j.bc(),j.bc(),j.bc()),2&e){const e=t.item;j.Ib(1),j.Dc("ngIf",null==e?null:e.archived),j.Ib(1),j.Dc("ngIf",null==e?null:e.parent),j.Ib(4),j.ad("background",null==e||null==e.status?null:e.status.color),j.Ib(2),j.ed(null==e?null:e.name)}}let vi=(()=>{class e{constructor(e,t,i,n,d,u,p){this.store=e,this.sharedTaskService=t,this.sharedData=i,this.changeDetector=n,this.attachmentsViewerService=d,this.modal=u,this.profileService=p,this.searchParams$=this.store.pipe(Object(r.select)(s.y)),this.hasSearchQuery$=this.searchParams$.pipe(Object(l.a)(e=>!!e.searchQuery)),this.searchQuery$=this.searchParams$.pipe(Object(l.a)(e=>e.searchQuery)),this.recentTasks$=this.store.pipe(Object(r.select)(s.l)),this.recentType$=this.store.pipe(Object(r.select)(s.A)),this.searchType$=this.store.pipe(Object(r.select)(s.I)),this.searchTaskType$=this.store.pipe(Object(r.select)(s.H)),this.searchItems$=this.store.pipe(Object(r.select)(s.c)),this.fetchingSearch$=this.store.pipe(Object(r.select)(s.q)),this.fetchingRecent$=this.store.pipe(Object(r.select)(s.s)),this.fetching$=Object(o.a)([this.fetchingSearch$,this.fetchingRecent$]).pipe(Object(l.a)(([e,t])=>e||t)),this.fetchingPage$=this.store.pipe(Object(r.select)(s.r)),this.showFilter$=this.store.pipe(Object(r.select)(s.E)),this.trayTasks$=this.store.select(T.e),this.hierarchies$=this.store.pipe(Object(r.select)(s.b)),this.searchString$=this.store.pipe(Object(r.select)(s.F)),this.allProjectsSelected$=this.store.pipe(Object(r.select)(s.a)),this.numberProjects$=this.store.pipe(Object(r.select)(s.e)),this.numberCategories$=this.store.pipe(Object(r.select)(s.d)),this.numberSubcategories$=this.store.pipe(Object(r.select)(s.f)),this.selectedProjectsMap$=this.store.pipe(Object(r.select)(s.C)),this.selectedCategoriesMap$=this.store.pipe(Object(r.select)(s.B)),this.selectedSubcategoriesMap$=this.store.pipe(Object(r.select)(s.D)),this.expandedProjectsMap$=this.store.pipe(Object(r.select)(s.p)),this.expandedCategoriesMap$=this.store.pipe(Object(r.select)(s.o)),this.underlyingProjectsMap$=this.store.pipe(Object(r.select)(s.K)),this.underlyingCategoriesMap$=this.store.pipe(Object(r.select)(s.J)),this.destroy$=new c.a,this.debounceSearch=new c.a,this.recentList=v.f,this.searchTypeList$=this.store.select(s.v),this.searchTaskTypeList=v.g,this.searchQuery="",this.SearchType=v.d,this.SearchTaskType=v.c,this.openModals=0,this.searchFuzziness=v.e,this.searchFuzziness$=this.store.pipe(Object(r.select)(s.t)),this.getSearchFuzzinessOptions$=this.store.pipe(Object(r.select)(s.u)),this.DataViewParentType=a.e,this.trackById=Object(_.d)("id")}ngOnInit(){this.modal.openModal.pipe(Object(d.a)(this.destroy$)).subscribe(e=>{this.openModals++,this.changeDetector.detectChanges()}),this.modal.closeModal.pipe(Object(d.a)(this.destroy$)).subscribe(e=>{this.openModals--,this.changeDetector.detectChanges()}),this.searchParams$.pipe(Object(u.a)((e,t)=>!t.searchQuery&&e.recentType===t.recentType),Object(p.a)(this.store.pipe(Object(r.select)(s.m))),Object(d.a)(this.destroy$)).subscribe(([e,t])=>{!e.searchQuery&&t[JSON.stringify({recentType:e.recentType})]||this.store.dispatch(new n.bb)}),this.store.pipe(Object(r.select)(s.m),Object(p.a)(this.searchParams$),Object(m.a)(1)).subscribe(([e,t])=>{!t.searchQuery&&e[JSON.stringify({recentType:t.recentType})]&&this.store.dispatch(new n.bb)}),this.searchTaskType$.pipe(Object(h.a)(1),Object(d.a)(this.destroy$)).subscribe(e=>this.store.dispatch(new n.g)),this.debounceSearch.pipe(Object(b.a)(500),Object(d.a)(this.destroy$)).subscribe(()=>this.search()),this.searchParams$.pipe(Object(g.a)()).subscribe(e=>{e.searchQuery&&(this.searchQuery=e.searchQuery,this.changeDetector.detectChanges())}),Object(o.a)([this.searchType$,this.searchTaskType$,this.searchQuery$,this.recentType$]).pipe(Object(u.a)((e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]),Object(f.a)(()=>!!this.scrollbar),Object(d.a)(this.destroy$)).subscribe(()=>{this.scrollbar.update(),this.scrollbar.scrollToTop()}),this.store.dispatch(new n.A)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe(),this.store.dispatch(new n.N)}toggleFilter(){this.store.dispatch(new n.Ab)}toggleLocation(e){e.type===v.b.PROJECT?this.store.dispatch(new n.zb({id:e.id})):e.type===v.b.CATEGORY?this.store.dispatch(new n.xb({id:e.id})):e.type===v.b.SUBCATEGORY&&this.store.dispatch(new n.Bb({id:e.id}))}toggleExpand(e){e.type===v.b.PROJECT?this.store.dispatch(new n.yb({id:e.id})):e.type===v.b.CATEGORY&&this.store.dispatch(new n.wb({id:e.id}))}clickTask({id:e,event:t}){e&&this.sharedTaskService.clickTaskLink(e,t)}setRecentType(e){this.store.dispatch(new n.db({recentType:e}))}setSearchType(e){this.store.dispatch(new n.jb({searchType:e})),this.inputSearch.nativeElement.focus()}setTaskType(e){this.store.dispatch(new n.hb({searchTaskType:e}))}searchHierarchy(e){this.store.dispatch(new n.fb({searchString:e}))}toggleAllSpaces(e){this.store.dispatch(new n.vb({allSpacesSelected:e}))}checkForPaging(){this.store.dispatch(new n.j)}trayToggle({task:e,inTray:t}){this.store.dispatch(t?new S.x({removeTask:e,currentTeamId:this.sharedData.compatCurrentTeam.id}):new S.c({addTask:e,currentTeamId:this.sharedData.compatCurrentTeam.id}))}search(){this.store.dispatch(new n.gb({searchQuery:this.searchQuery}))}trackByFn(e,t){return t}clearSearch(){this.searchQuery="",this.changeDetector.detectChanges(),this.search(),this.inputSearch.nativeElement.focus()}openAttachmentPreview(e){this.attachmentsViewerService.onOpen.emit({attachments:[e],canRemove:!1,canRemoveOwn:!1,canEdit:!1,canEditOwn:!1,canChangeDescription:!1,index:0,taskId:e.taskId||e.hierarchy.task?e.hierarchy.task.id:null,coverImage:null,hideCoverImage:!0,showTaskLink:!0})}scrollToSelected(e=0){this.scrollbar.update(),setTimeout(()=>{this.scrollbar.scrollToElement(".search-modal-item_selected",e,0)})}goToItem(e){this.sharedTaskService.isOpen||this.searchType$.pipe(Object(m.a)(1)).subscribe(t=>{if(t===v.d.PEOPLE)this.modal.close(),this.profileService.openProfile(e);else if(e.viewType===a.i.Doc||e.viewType===a.i.Conversation){const t=["/",this.sharedData.compatCurrentTeam.id,"v",Object(k.U)(e.viewType),e.id];this.store.dispatch(new x.d({path:t}))}else{const t=e.hierarchy&&e.hierarchy.task||e;t&&t.id&&this.sharedTaskService.clickTaskLink({id:t.id,customId:t.custom_id,teamId:t.team})}})}setFuzziness(e){this.store.dispatch(new n.eb(parseInt(e.id,10))),localStorage.setItem("searchFuzziness",e.id)}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(r.Store),j.Wb(O.a),j.Wb(I.a),j.Wb(j.h),j.Wb(D.a),j.Wb(C.a),j.Wb(P.UserProfileService))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-search-modal"]],viewQuery:function(e,t){if(1&e&&(j.jd(ht,1),j.jd(bt,3)),2&e){let e;j.Qc(e=j.rc())&&(t.scrollbar=e.first),j.Qc(e=j.rc())&&(t.inputSearch=e.first)}},decls:53,vars:76,consts:function(){let e,t,i,a,o,c,n,s,r,l,d;return e=$localize`:form input placeholder@@forms_placeholder--search-1␟8aa58cf00d949c509df91c621ab38131df0a7599␟8854094932942190741:Search...`,t=$localize`:@@common_location␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,i=$localize`:@@common_search-for␟fa175928c916b3599b30f1c07071cd5abbb040b0␟4997182893037887427:Search for`,a=$localize`:@@common_all-1␟8754c2dbc855d18ee90ffff136caedfd64f71e83␟7126464771610287155:all`,o=$localize`:@@common_search-task-type--task-names␟f412c3f4b6aadd3af2d64d31d762d59df4a9541b␟2761312009259087246:task names`,c=$localize`:@@common_search-task-type--descriptions␟3f52245b0b41f67e2779c90cf7f6e46985a6ca70␟947564000660826828:descriptions`,n=$localize`:@@common_search-task-type--comments␟4206a05d6b2a46cecb7e278847e0250d562120a1␟117954017715534854:comments`,s=$localize`:@@cu-search-modal__options-title_showing-recent␟84e7ad1359b7b2de4f040e85b49d14318a743844␟4917984093250087388:Showing recent`,r=$localize`:@@cu-search-modal__attachment__info-uploader␟e9a65efd744a65e086bd778902fc07a6aa9d5bc8␟7937883139701769787: Uploaded by ${"\ufffd#8\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN:`,l=$localize`:location@@common_in␟d37eba04a7fcace3c091a63cce49526f74b51671␟2841739558138901231:In`,d=$localize`:location@@common_in␟d37eba04a7fcace3c091a63cce49526f74b51671␟2841739558138901231:In`,[[1,"cu-search-modal"],[1,"cu-search-modal__container"],[1,"cu-search-modal__search-container"],[1,"cu-search-modal__search"],["cuAutoFocus","","type","text","placeholder",e,1,"cu-search-modal__search-input",3,"ngModel","ngModelChange","input"],["inputSearch",""],["class","cu-search-modal__search-clear",3,"icon","click",4,"ngIf"],[1,"cu-search-modal__types"],["class","cu-search-modal__types-item",3,"cu-search-modal__types-item_selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-search-modal__types-divider"],[4,"ngIf"],["class","cu-search-modal__options-container",4,"ngIf"],["cuScrollDetector","","offsetBottom","450",1,"cu-search-modal__body",3,"perfectScrollbar","onReachBottom"],["scrollbar","ngxPerfectScrollbar"],[3,"hasSearchQuery","searchItems","loading","searchFuzziness","searchType","searchTaskType","trayTasks","searchQuery","fetchingPage","recentTasks","taskLinkBox","attachmentRow","taskDescRow","locationTemplate","docRow","allFormat","openModals","onTrayToggle","onClickTask","onScrollToSelected","onSelectItem","onAttachmentPreview"],["class","cu-search-modal__filters",4,"ngIf"],["docRow",""],["attachmentRow",""],["taskDescRow",""],["locationTemplate",""],["taskLinkBox",""],[1,"cu-search-modal__search-clear",3,"icon","click"],[1,"cu-search-modal__types-item",3,"click"],[1,"cu-search-modal__types-fuzziness"],[3,"items","onSelect"],[1,"cu-search-modal__types-fuzziness-toggle"],[1,"cu-search-modal__types-fuzziness-text"],["icon","cu2-angle-right",1,"cu-search-modal__types-fuzziness-arrow"],["cuTooltip",t,1,"cu-search-modal__types-cog",3,"ngClass","icon","click"],[1,"cu-search-modal__options-container"],["class","cu-search-modal__options","cuDropdown","",4,"ngIf"],["cuDropdown","",1,"cu-search-modal__options"],[1,"cu-search-modal__options-row"],[1,"cu-search-modal__options-title"],i,["cuDropdownToggle","",1,"cu-search-modal__options-item"],[3,"ngIf"],["icon","cu2-angle-right",1,"cu-search-modal__options-arrow"],[4,"cuDropdownMenu"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],a,o,c,n,[3,"item","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item","click"],s,[4,"ngFor","ngForOf","ngForTrackBy"],[3,"selected-recent","item","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-search-modal__filters"],[3,"hierarchies","searchStringVal","numberSpaces","numberProjects","selectedSpaceMap","selectedProjectMap","selectedListMap","expandedSpaceMap","expandedProjectMap","underlyingSpaceMap","underlyingProjectMap","allSpacesSelected","numberLists","onToggleExpand","onToggleLocation","onSearch","onToggleAllSpaces"],[1,"cu-search-modal__doc"],[1,"cu-search-modal__doc-header",3,"routerLink"],[1,"cu-search-modal__doc-header-icon",3,"icon"],[1,"cu-search-modal__doc-header-name"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"cu-search-modal__doc-link",3,"routerLink"],["class","cu-search-modal__doc-title",3,"innerHTML",4,"ngIf","ngIfElse"],["noHighlightName",""],["class","cu-search-modal__task-desc-content",3,"innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-search-modal__doc-title",3,"innerHTML"],["class","cu-search-modal__doc-title",4,"ngIf"],[1,"cu-search-modal__doc-title"],[1,"cu-search-modal__task-desc-content",3,"innerHTML"],[1,"cu-search-modal__task-desc",3,"cuLink","click"],[1,"cu-search-modal__attachment"],[1,"cu-search-modal__attachment-container"],[3,"disableLink","attachment","taskId","onOpen"],[1,"cu-search-modal__attachment__info"],[1,"cu-search-modal__attachment__info-uploader"],r,["class","cu-search-modal__attachment__info-file",4,"ngIf","ngIfElse"],["showHighlighAttachment",""],[1,"cu-search-modal__task-desc-info"],[1,"cu-search-modal__attachment__info-file"],["class","cu-search-modal__attachment__info-file",3,"innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-search-modal__attachment__info-file",3,"innerHTML"],[1,"cu-search-modal__task-desc-header"],["class","cu-search-modal__subtask-icon","icon","archive2",4,"ngIf"],["class","cu-search-modal__subtask-icon","icon","subtask",3,"cuTooltip",4,"ngIf"],["tooltipModifier","tooltip_far",1,"cu-search-modal__task-desc-status",3,"ngStyle","cuTooltip"],[1,"cu-search-modal__task-desc-title"],[1,"cu-search-modal__section"],[1,"cu-search-modal__section-info","cu-search-modal__section-info_in"],l,[1,"cu-search-modal__section-loc"],["icon","angle-right-no-padding",1,"cu-search-modal__section-angle"],[1,"cu-search-modal__section-info"],[1,"cu-search-modal__task-desc-duration"],["class","cu-search-modal__task-desc-content",3,"innerHTML",4,"ngIf"],["icon","archive2",1,"cu-search-modal__subtask-icon"],["icon","subtask",1,"cu-search-modal__subtask-icon",3,"cuTooltip"],["class","cu-search-modal__section-info cu-search-modal__section-info_in",4,"ngIf"],["class","cu-search-modal__section-loc",3,"cu-search-modal__section-info","cu-search-modal__section-archived",4,"ngIf"],["class","cu-search-modal__section-angle","icon","angle-right-no-padding",3,"cu-search-modal__section-info-angle",4,"ngIf"],["class","cu-search-modal__section-info",3,"cu-search-modal__section-archived",4,"ngIf"],["class","cu-search-modal__task-desc-duration",4,"ngIf"],d,["class","cu-search-modal__section-archived-icon",3,"icon",4,"ngIf"],[1,"cu-search-modal__section-archived-icon",3,"icon"],[1,"task-mention"],[1,"cu-search-modal__task-desc-link"],[1,"cu-search-modal__status"],[1,"task-mention__name"]]},template:function(e,t){if(1&e&&(j.cc(0,"div",0),j.cc(1,"div",1),j.cc(2,"div",2),j.cc(3,"div",3),j.cc(4,"input",4,5),j.qc("ngModelChange",function(e){return t.searchQuery=e})("input",function(e){return t.debounceSearch.next(e.target.value)}),j.bc(),j.bd(6,gt,1,2,"div",6),j.bc(),j.Xb(7,"cu-quick-switcher-toggle"),j.bc(),j.cc(8,"div",7),j.bd(9,ft,3,5,"div",8),j.vc(10,"async"),j.Xb(11,"div",9),j.bd(12,vt,12,14,"ng-container",10),j.vc(13,"async"),j.bc(),j.bd(14,Mt,6,8,"div",11),j.vc(15,"async"),j.vc(16,"async"),j.vc(17,"async"),j.vc(18,"async"),j.cc(19,"div",12,13),j.qc("onReachBottom",function(){return t.checkForPaging()}),j.cc(21,"cu-search-modal-list",14),j.qc("onTrayToggle",function(e){return t.trayToggle(e)})("onClickTask",function(e){return t.clickTask(e)})("onScrollToSelected",function(e){return t.scrollToSelected(e)})("onSelectItem",function(e){return t.goToItem(e)})("onAttachmentPreview",function(e){return t.openAttachmentPreview(e)}),j.vc(22,"async"),j.vc(23,"async"),j.vc(24,"async"),j.vc(25,"async"),j.vc(26,"async"),j.vc(27,"async"),j.vc(28,"async"),j.vc(29,"async"),j.vc(30,"async"),j.vc(31,"async"),j.vc(32,"async"),j.vc(33,"async"),j.vc(34,"async"),j.vc(35,"async"),j.vc(36,"async"),j.vc(37,"async"),j.vc(38,"async"),j.vc(39,"async"),j.vc(40,"async"),j.bc(),j.bc(),j.bc(),j.bd(41,Et,15,40,"div",15),j.vc(42,"async"),j.bc(),j.bd(43,Vt,15,33,"ng-template",null,16,j.cd),j.bd(45,Kt,15,13,"ng-template",null,17,j.cd),j.bd(47,oi,21,19,"ng-template",null,18,j.cd),j.bd(49,bi,7,8,"ng-template",null,19,j.cd),j.bd(51,_i,9,5,"ng-template",null,20,j.cd)),2&e){const e=j.Rc(44),i=j.Rc(46),a=j.Rc(48),o=j.Rc(50),c=j.Rc(52);let n=null;j.Ib(4),j.Dc("ngModel",t.searchQuery),j.Ib(2),j.Dc("ngIf",t.searchQuery),j.Ib(3),j.Dc("ngForOf",j.wc(10,24,t.searchTypeList$))("ngForTrackBy",t.trackById),j.Ib(3),j.Dc("ngIf",j.wc(13,26,t.searchType$)!==t.SearchType.PEOPLE),j.Ib(2),j.Dc("ngIf",!j.wc(15,28,t.hasSearchQuery$)&&j.wc(16,30,t.searchType$)===t.SearchType.ALL||j.wc(17,32,t.hasSearchQuery$)&&j.wc(18,34,t.searchType$)===t.SearchType.TASK),j.Ib(7),j.Dc("hasSearchQuery",j.wc(22,36,t.hasSearchQuery$))("searchItems",j.wc(23,38,t.hasSearchQuery$)||j.wc(24,40,t.searchType$)===t.SearchType.PEOPLE?j.wc(25,42,t.searchItems$):j.wc(26,44,t.recentTasks$))("loading",j.wc(27,46,t.hasSearchQuery$)&&!(null!=(n=j.wc(28,48,t.searchItems$))&&n.length)&&j.wc(29,50,t.fetching$)||!j.wc(30,52,t.hasSearchQuery$)&&!(null!=(n=j.wc(31,54,t.recentTasks$))&&n.length)&&j.wc(32,56,t.fetching$))("searchFuzziness",j.wc(33,58,t.searchFuzziness$))("searchType",j.wc(34,60,t.searchType$))("searchTaskType",j.wc(35,62,t.searchTaskType$))("trayTasks",j.wc(36,64,t.trayTasks$))("searchQuery",t.searchQuery)("fetchingPage",j.wc(37,66,t.fetchingPage$))("recentTasks",j.wc(38,68,t.recentTasks$))("taskLinkBox",c)("attachmentRow",i)("taskDescRow",a)("locationTemplate",o)("docRow",e)("allFormat",j.wc(39,70,t.searchType$)===t.SearchType.ALL&&j.wc(40,72,t.hasSearchQuery$))("openModals",t.openModals),j.Ib(20),j.Dc("ngIf",j.wc(42,74,t.showFilter$))}},directives:[$.c,z.a,$.p,$.s,M.q,F,M.p,U.a,N.a,Ye,A.a,Ze.a,L.a,M.o,Qe.b,Ke.a,Je.a,M.u,M.v,M.w,et.a,ut,be.k,M.x,V.a,pt.a,M.t],pipes:[M.b,mt.a,Z.a,Q.a],styles:['.cu-search-modal{display:flex;height:100%}.cu-search-modal em{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:600;font-style:normal;color:#292d34}.dark-theme .cu-search-modal em{color:#fff}.cu-search-modal__status{flex-shrink:0;width:10px;height:10px;border-radius:2px;margin:0 5px 0 0;line-height:.9}.cu-search-modal__subtask-icon{width:14px;height:14px;margin-right:13px;display:inline-block;pointer-events:all;stroke:#aeacb0;fill:#aeacb0}.cu-search-modal-modifier .cu-modal__inner{display:flex;flex-direction:column;justify-content:flex-start}.cu-search-modal-modifier .cu-modal__body{min-height:0;height:75vh;border-radius:0 0 8px 8px}.cu-search-modal-modifier .cu-modal__dialog{margin-top:140px;padding:0;border-radius:8px;max-height:75vh}.cu-search-modal-modifier .cu-modal__header{margin:0}.cu-search-modal-modifier .cu-modal__close{margin-top:-50px}.cu-search-modal__container{display:flex;flex-direction:column;flex-grow:1;width:100%;border-radius:8px;z-index:10;box-shadow:0 0 10px 0 rgba(0,0,0,.2);background:#fff}.dark-theme .cu-search-modal__container{background:#384047;box-shadow:0 0 10px 0 rgba(0,0,0,.5)}.cu-search-modal__search{display:flex;flex-grow:1;position:relative}.cu-search-modal__search-container{display:flex;align-items:center;padding:8px 30px 0 0;flex-shrink:0}.cu-search-modal__search-input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:26px;line-height:1;padding:20px 50px 20px 30px;flex-grow:1;border:none;background:transparent;box-shadow:none;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-modal__search-input{font-family:var(--global-font-support)}}.dark-theme .cu-search-modal__search-input{color:#d5d6d7}.cu-search-modal__search-input:-ms-input-placeholder{opacity:.5}.cu-search-modal__search-input::placeholder{opacity:.5}.cu-search-modal__search-input:focus{background:transparent;box-shadow:none}.cu-search-modal__search-clear{background:#7b68ee;fill:#fff;position:absolute;right:20px;top:50%;transform:translateY(-50%);width:16px;height:16px;padding:3px;stroke:rgba(52,52,52,.3);cursor:pointer;border-radius:50%}@supports (--theme-main-color:#7b68ee){.cu-search-modal__search-clear{background:var(--theme-main-color)}}.cu-search-modal__search-clear:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-search-modal__search-clear:hover{background:var(--theme-main-color-dark)}}.cu-search-modal__types{display:flex;align-items:center;flex-shrink:0;padding:6px 30px 14px 20px;border-bottom:1px solid #e9ebf0}.dark-theme .cu-search-modal__types{border-bottom-color:#1e272e}.cu-search-modal__types-item{font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;padding:6px 10px;border-radius:15px;cursor:pointer;color:#7c828d}.dark-theme .cu-search-modal__types-item{color:#abaeb0}.cu-search-modal__types-item:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-modal__types-item:hover{color:var(--theme-main-color)}}.cu-search-modal__types-item_selected{background:#7b68ee;color:#fff;cursor:default}@supports (--theme-main-color:#7b68ee){.cu-search-modal__types-item_selected{background:var(--theme-main-color)}}.cu-search-modal__types-item_selected:hover,.dark-theme .cu-search-modal__types-item_selected{color:#fff}.cu-search-modal__types-divider{flex-grow:1}.cu-search-modal__types-cog{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;width:14px;height:14px;fill:#7c828d}.dark-theme .cu-search-modal__types-cog{fill:#abaeb0}.cu-search-modal__types-cog:hover,.cu-search-modal__types-cog_active{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-modal__types-cog:hover,.cu-search-modal__types-cog_active{fill:var(--theme-main-color)}}.cu-search-modal__types-fuzziness{margin-right:7px}.cu-search-modal__types-fuzziness:hover .cu-search-modal__types-fuzziness-text{color:var(--theme-main-color)}.cu-search-modal__types-fuzziness:hover .cu-search-modal__types-fuzziness-arrow{fill:var(--theme-main-color)}.cu-search-modal__types-fuzziness-toggle{display:flex;align-items:center}.cu-search-modal__types-fuzziness-text{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;padding-right:3px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-modal__types-fuzziness-text{font-family:var(--global-font-support)}}.cu-dropdown_open .cu-search-modal__types-fuzziness-text{color:var(--theme-main-color)}.cu-search-modal__types-fuzziness-arrow{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;transform:rotate(90deg);height:12px;width:12px;fill:#343434}.cu-search-modal__types-fuzziness-arrow:hover{transition:none}.dark-theme .cu-search-modal__types-fuzziness-arrow{fill:#d5d6d7}.cu-dropdown_open .cu-search-modal__types-fuzziness-arrow{transform:rotate(-90deg);fill:var(--theme-main-color)}.cu-search-modal__options{display:flex;align-items:center;padding:0 30px;height:31px;will-change:max-height;overflow:hidden}.cu-search-modal__options.cu-task-selector__options{padding:0;height:auto;text-transform:none}.cu-search-modal__options.cu-dropdown_open .cu-search-modal__options-item{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-modal__options.cu-dropdown_open .cu-search-modal__options-item{color:var(--theme-main-color)}}.cu-search-modal__options.cu-dropdown_open .cu-search-modal__options-arrow{fill:#7b68ee;transform:rotate(-90deg)}@supports (--theme-main-color:#7b68ee){.cu-search-modal__options.cu-dropdown_open .cu-search-modal__options-arrow{fill:var(--theme-main-color)}}.cu-search-modal__options-container{height:31px;flex-shrink:0;will-change:max-height;overflow:hidden;border-bottom:1px solid #e9ebf0}.dark-theme .cu-search-modal__options-container{border-bottom-color:#1e272e}.cu-search-modal__options-row{display:flex;align-items:center}.cu-search-modal__options-title{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:4px;color:#292d34}.dark-theme .cu-search-modal__options-title{color:#d5d6d7}.cu-search-modal__options-item{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px;color:#292d34}.dark-theme .cu-search-modal__options-item{color:#d5d6d7}.cu-search-modal__options-item:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-modal__options-item:hover{color:var(--theme-main-color)}}.cu-search-modal__options-item:hover .cu-search-modal__options-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-search-modal__options-item:hover .cu-search-modal__options-arrow{fill:var(--theme-main-color)}}.cu-search-modal__options-arrow{transition:fill .2s cubic-bezier(.785,.135,.15,.86),transform .2s cubic-bezier(.785,.135,.15,.86);width:12px;height:12px;transform:rotate(90deg);fill:#292d34}.dark-theme .cu-search-modal__options-arrow{fill:#d5d6d7}.cu-search-modal__body{overflow:auto;border-radius:0 0 8px 8px;flex-grow:1}.cu-search-modal__attachment{display:flex;align-items:center}.cu-search-modal__attachment__info{margin-left:30px;flex-grow:1;min-width:0}.cu-search-modal__attachment__info-uploader{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:15px;color:#7c828d}.dark-theme .cu-search-modal__attachment__info-uploader{color:#abaeb0}.cu-search-modal__attachment__info-uploader span{color:#292d34}.dark-theme .cu-search-modal__attachment__info-uploader span{color:#d5d6d7}.cu-search-modal__attachment__info-file{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;margin-bottom:15px;font:400 16px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-search-modal__attachment__info-file{color:#d5d6d7}.cu-search-modal__attachment__info .cu-search-modal__task-desc-info{margin:0}.cu-search-modal__attachment-container{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:130px}.cu-search-modal__doc{padding:20px 30px;border-bottom:1px solid #f1f1f1}.dark-theme .cu-search-modal__doc{border-bottom:1px solid #1e272e}.cu-search-modal__doc:hover{background:#fafafa}.dark-theme .cu-search-modal__doc:hover{background:#2b343b}.cu-search-modal__doc.search-modal-item_selected{background:#e4e4e4}.dark-theme .cu-search-modal__doc.search-modal-item_selected{background:#1e272e}.cu-search-modal__doc-header{display:flex;align-items:center}.cu-search-modal__doc-header-icon{width:14px;height:14px;margin-right:7px;margin-bottom:2px;flex-shrink:0;fill:#292d34}.dark-theme .cu-search-modal__doc-header-icon{fill:#d5d6d7}.cu-search-modal__doc-header-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 16px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-search-modal__doc-header-name{color:#d5d6d7}.cu-search-modal__doc-link,.cu-search-modal__doc:hover .cu-search-modal__section-loc{display:block}.cu-search-modal__doc:hover .cu-search-modal__section-angle{display:inline-block}.cu-search-modal__doc-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:15px;line-height:1;color:#292d34;margin:12px 0 10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-modal__doc-title{font-family:var(--global-font-support)}}.dark-theme .cu-search-modal__doc-title{color:#d5d6d7}.cu-search-modal__task-desc{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;border-bottom:1px solid #f1f1f1;padding:16px 30px;display:block}.dark-theme .cu-search-modal__task-desc{border-bottom:1px solid #1e272e}.cu-search-modal__task-desc:hover{background:#fafafa}.dark-theme .cu-search-modal__task-desc:hover{background:#2b343b}.cu-search-modal__task-desc:hover .cu-search-modal__section-loc{display:block}.cu-search-modal__task-desc:hover .cu-search-modal__section-angle{display:inline-block}.cu-search-modal__task-desc:hover .cu-search-modal__task-desc-duration{display:none}.cu-search-modal__task-desc.search-modal-item_selected{background:#e4e4e4}.dark-theme .cu-search-modal__task-desc.search-modal-item_selected{background:#1e272e}.cu-search-modal__task-desc.search-modal-item_selected .task-mention>span{border-color:#b9bec7!important}.dark-theme .cu-search-modal__task-desc.search-modal-item_selected .task-mention>span{border-color:#384047!important}.cu-search-modal__task-desc-content{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:300;font-size:14px;line-height:20px;margin-top:10px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-modal__task-desc-content{font-family:var(--global-font-support)}}.dark-theme .cu-search-modal__task-desc-content{color:#d5d6d7}.cu-search-modal__task-desc-content+.cu-search-modal__task-desc-content{margin-top:5px}.cu-search-modal__task-desc-info{display:flex;align-items:center;margin-top:10px}.cu-search-modal__task-desc-info .cu-search-modal__section{margin:0 0 0 10px}.cu-search-modal__task-desc-duration{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;flex-shrink:0;color:#7c828d}.cu-search-modal__task-desc .cu-sp-comment__body{margin-top:12px}.cu-search-modal__task-desc-header{display:flex;align-items:center}.cu-search-modal__task-desc-status{flex-shrink:0;width:8px;height:8px;border-radius:2px;margin:0 8px 0 0}.cu-search-modal__task-desc-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-modal__task-desc-title{font-family:var(--global-font-support)}}.dark-theme .cu-search-modal__task-desc-title{color:#d5d6d7}.cu-search-modal__filters{position:absolute;width:210px;padding:20px 20px 20px 30px;height:100%;right:0;transform:translate3d(200px,0,0);border-radius:0 8px 8px 0;overflow:hidden;z-index:0;background:#fafbfc}.dark-theme .cu-search-modal__filters{background:#384047}.cu-search-modal__section{display:flex;align-items:center;margin-top:8px;min-width:0}.cu-search-modal__section-archived{font-style:italic}.cu-search-modal__section-archived-icon{display:inline-block;width:12px;height:12px}.cu-search-modal__section-info,.cu-search-modal__section-loc{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;display:block;margin-right:4px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-modal__section-info,.cu-search-modal__section-loc{font-family:var(--global-font-support)}}.cu-search-modal__section-info span,.cu-search-modal__section-loc span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-search-modal__section-info span,.cu-search-modal__section-loc span{font-family:var(--global-font-support)}}.cu-search-modal__section.cu-search-modal__section-archived .cu-search-modal__section-info,.cu-search-modal__section.cu-search-modal__section-archived .cu-search-modal__section-loc{font-style:italic}.cu-search-modal__section-info_in{flex-shrink:0}.cu-search-modal__section-loc{display:none}.cu-search-modal__section-loc.cu-search-modal__section-info{display:inherit}.cu-search-modal__section-angle{display:none;fill:#7c828d;width:4px;height:7px;margin-right:4px;flex-shrink:0}.cu-search-modal__section-angle.cu-search-modal__section-info-angle{display:inherit}'],encapsulation:2,data:{animation:[y.e,Object(w.m)("loadingOptions",[Object(w.l)(":enter",[Object(w.k)({opacity:0,maxHeight:0}),Object(w.e)("300ms",Object(w.k)({opacity:1,maxHeight:"31px"}))]),Object(w.l)(":leave",[Object(w.k)({opacity:1,maxHeight:"31px"}),Object(w.e)("200ms",Object(w.k)({opacity:0,maxHeight:0}))])]),Object(w.m)("loadingFilters",[Object(w.l)(":enter",[Object(w.k)({transform:"translate3d(0, 0, 0)"}),Object(w.e)("150ms",Object(w.k)({transform:"translate3d(200px, 0, 0)"}))]),Object(w.l)(":leave",[Object(w.k)({transform:"translate3d(200px, 0, 0)"}),Object(w.e)("150ms",Object(w.k)({transform:"translate3d(0, 0, 0)"}))])])]},changeDetection:0}),e})()},MTKx:function(e,t,i){"use strict";i.d(t,"a",function(){return k});var a=i("oE8l"),o=i("ofXK"),c=i("IJsG"),n=i("gb9A"),s=i("1M0N"),r=i("vi4T"),l=i("bx+h"),d=i("EDFS"),u=i("K0KF"),p=i("KyjD"),m=i("csDc"),h=i("aVmG"),b=i("dzSB"),g=i("rjFr"),f=i("wGqn"),_=i("WL/q"),v=i("FWqE"),y=i("EHXF"),w=i("fXoL");let k=(()=>{class e{}return e.\u0275mod=w.Ub({type:e}),e.\u0275inj=w.Tb({factory:function(t){return new(t||e)},imports:[[o.c,c.a,n.a,s.a,r.a,l.a,d.d,u.a,p.a,m.a,h.a,b.a,g.a,f.a,_.a,v.a,y.a,a.a]]}),e})()},Mjud:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var a=i("fXoL"),o=i("8LU1"),c=i("XNiG"),n=i("quSY"),s=i("0EQZ");let r=0,l=(()=>{class e{constructor(){this._stateChanges=new c.a,this._openCloseAllActions=new c.a,this.id="cdk-accordion-"+r++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Object(o.b)(e)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(e){this.multi&&this._openCloseAllActions.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Rb({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a.Gb]}),e})(),d=0,u=(()=>{class e{constructor(e,t,i){this.accordion=e,this._changeDetectorRef=t,this._expansionDispatcher=i,this._openCloseAllSubscription=n.a.EMPTY,this.closed=new a.o,this.opened=new a.o,this.destroyed=new a.o,this.expandedChange=new a.o,this.id="cdk-accordion-child-"+d++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((e,t)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===t&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Object(o.b)(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(o.b)(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(l,12),a.Wb(a.h),a.Wb(s.c))},e.\u0275dir=a.Rb({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a.Hb([{provide:l,useValue:void 0}])]}),e})();var p=i("R0Ic"),m=i("ofXK");function h(e,t){1&e&&a.Xb(0,"div",3)}const b=[[["","cu-accordion__toggle",""]],[["","cu-accordion__body",""]]],g=["[cu-accordion__toggle]","[cu-accordion__body]"];let f=(()=>{class e extends u{constructor(){super(...arguments),this.stickedBorder=!1}ngOnInit(){this.expanded&&this.open()}}return e.\u0275fac=function(t){return _(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-accordion"]],hostAttrs:[1,"cu-accordion"],inputs:{stickedBorder:"stickedBorder"},features:[a.Fb],ngContentSelectors:g,decls:5,vars:8,consts:[[1,"cu-accordion__toggle",3,"click"],["class","cu-accordion__toggle-border",4,"ngIf"],[1,"cu-accordion__body"],[1,"cu-accordion__toggle-border"]],template:function(e,t){1&e&&(a.Cc(b),a.cc(0,"div",0),a.qc("click",function(){return t.toggle()}),a.Bc(1),a.bc(),a.bd(2,h,1,0,"div",1),a.cc(3,"div",2),a.Bc(4,1),a.bc()),2&e&&(a.Ob("cu-accordion__toggle_expanded",t.expanded)("cu-accordion__toggle_disabled",t.disabled),a.Ib(2),a.Dc("ngIf",t.stickedBorder&&t.expanded),a.Ib(1),a.Ob("cu-accordion__body_expanded",t.expanded),a.Dc("@toggle",t.expanded?"expanded":"collapsed"))},directives:[m.q],styles:[".cu-accordion__toggle{cursor:pointer}.cu-accordion__toggle_disabled{cursor:default}.cu-accordion__body{overflow:hidden}"],encapsulation:2,data:{animation:[Object(p.m)("toggle",[Object(p.j)("expanded",Object(p.k)({height:"*",opacity:1})),Object(p.j)("collapsed",Object(p.k)({height:"0",opacity:.5})),Object(p.l)("expanded => collapsed",Object(p.e)("0.2s 0s ease-in-out")),Object(p.l)("collapsed => expanded",Object(p.e)("0.2s 0s ease-in-out"))])]},changeDetection:0}),e})();const _=a.ec(f)},NV0y:function(e,t,i){"use strict";i.d(t,"a",function(){return Fi});var a=i("3Kxl"),o=i("o7Ov"),c=i("f0Wu"),n=i("MguC"),s=i("GXRk"),r=i("fXoL"),l=i("IzEk"),d=i("dTHz"),u=i("XIp8"),p=i("Gj5t"),m=i("jJQC"),h=i("c3rA"),b=i("Injh"),g=i("l7P3"),f=i("bV87"),_=i("HEHP"),v=i("Tm/s"),y=i("AeD3"),w=i("9Ejp"),k=i("jJW4"),x=i("tyNb"),T=i("Jf2N"),S=i("ejAw"),j=i("cCXi"),O=i("xog/"),I=i("oGMP"),D=i("xMfC"),C=i("DkPU"),P=i("ofXK"),$=i("BTFG"),z=i("3Pt+"),M=i("UdVN"),E=i("HcWw"),L=i("S//e"),A=i("peMq"),F=i("WoFS"),U=i("NsZK"),N=i("bFKe"),R=i("/i14"),G=i("haUk"),q=i("O3ed"),B=i("OBnU"),W=i("wDd0"),V=i("EDFS"),X=i("NQa4"),H=i("8r6i"),Y=i("pxPQ"),Z=i("1G5W"),Q=i("XNiG"),K=i("8it8"),J=i("LdyQ"),ee=i("MJvn"),te=i("n+1/");const ie=["dropdown"];function ae(e,t){if(1&e&&(r.cc(0,"div"),r.Xb(1,"cu-paywall-popover",8),r.bc()),2&e){const e=r.uc(2);r.Ib(1),r.Dc("title",e.commonStringsService.whoopsText)("amplitudeLabel","Box View")}}const oe=function(e){return{top:e}};function ce(e,t){if(1&e&&(r.cc(0,"div",9),r.Xb(1,"div",10),r.cc(2,"div"),r.Xb(3,"img",11),r.bc(),r.cc(4,"div"),r.cc(5,"h1",12),r.gc(6,13),r.bc(),r.cc(7,"a",14),r.gc(8,15),r.bc(),r.bc(),r.bc()),2&e){const e=r.uc(2);r.Ib(1),r.Dc("ngStyle",r.Hc(2,oe,"165px")),r.Ib(6),r.Dc("href",e.upgradeLink,r.Xc)}}function ne(e,t){if(1&e&&(r.cc(0,"div",5),r.bd(1,ae,2,2,"div",6),r.bd(2,ce,9,4,"ng-template",null,7,r.cd),r.bc()),2&e){const e=r.Rc(3),t=r.uc();r.Ib(1),r.Dc("ngIf",t.showUpgrade)("ngIfElse",e)}}const se=function(){return["right","auto"]},re=function(){return["left","auto"]},le=["*"];let de=(()=>{class e{constructor(e,t,i){this.router=e,this.sharedData=t,this.commonStringsService=i,this.loading=!1,this.isOwnerOrAdmin=!1,this.destroy$=new Q.a,this.ganttTrialActivated=!1,this.showUpgrade=!1,this.onFreeTrialStart=new r.o}ngOnInit(){null!==this.sharedData.compatCurrentTeam.gantt_trial_end&&(this.ganttTrialActivated=!0),this.sharedData.compatCurrentTeam$.pipe(Object(Z.a)(this.destroy$)).subscribe(e=>{1!==e.role&&2!==e.role||(this.isOwnerOrAdmin=!0),this.ownerEmailLink=`mailto:*${e.owner.email}*?subject=Please%20upgrade%20our%20ClickUp%20plan%20so%20I%20can%20use%20Gantt%20Charts&body=I'm%20trying%20to%20use%20Gantt%20Charts%20in%20ClickUp%20but%20can't%20because%20we%20are%20on%20the%20free%20plan.%0A%0ACould%20you%20please%20upgrade%20to%20Unlimited%20for%20our%20team?`}),this.upgradeLink=[window.location.origin,this.sharedData.compatCurrentTeam.id,"settings","billing"].join("/")}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}open(){this.dropdown.open()}close(){this.dropdown.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(x.h),r.Wb(k.a),r.Wb(K.a))},e.\u0275cmp=r.Qb({type:e,selectors:[["cu-gantt-no-access-dropdown"]],viewQuery:function(e,t){if(1&e&&r.jd(ie,3),2&e){let e;r.Qc(e=r.rc())&&(t.dropdown=e.first)}},inputs:{disabled:"disabled",showUpgrade:"showUpgrade"},outputs:{onFreeTrialStart:"onFreeTrialStart"},ngContentSelectors:le,decls:7,vars:5,consts:function(){let e,t,i,a;return e=$localize`:@@paywall_title--required-box-view␟7425bae97fbd41b69f1725c1f0a61fb09b43b9d8␟4141133863146381468:Free Forever plans can not set Box view as a required view. To get Unlimited everything: `,t=$localize`:@@paywall_email-subject--required-box-view␟00a6cbd05e7b09ee43a773c0dd778eac165670b7␟4143141553184840313:Please upgrade ClickUp so we can make box views`,i=$localize`:@@common_free-100-gantt-use-expired␟2ea7550acfb048f4658b34f9c4fd603737701f8d␟2276567196224802540: Your 100 uses of gantt has expired. `,a=$localize`:@@common_upgrade␟80398d80d39fe06c729d307980c7bd4562007d01␟3046781712057332344: Upgrade `,[["cuDropdown","",1,"cu-dropdown","cu-dropdown_left",2,"height","100%",3,"dropdownDisabled","dropdownPlacement","dropdownHostElement"],["dropdown","dropdown","dropdownContainer",""],["cuDropdownToggle","",1,"cu-dropdown__toggle",2,"height","100%"],["toggle",""],["class","cu-dropdown__menu cu-dropdown__menu_left","style","margin-left: 16px;",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","cu-dropdown__menu_left",2,"margin-left","16px"],[4,"ngIf","ngIfElse"],["ganntTrialDisplay",""],["text",e,"emailSubject",t,3,"title","amplitudeLabel"],[1,"gantt-no-access-dropdown"],[1,"gantt-no-access-dropdown__arrow",3,"ngStyle"],["src","./assets/images/gantt.png","alt","",1,"gantt-paywall-img",2,"height","auto"],[1,"gantt-no-access-dropdown__title"],i,[1,"cu-btn","cu-btn_md","paywall-btn__gantt-free-trial",3,"href"],a]},template:function(e,t){if(1&e&&(r.Cc(),r.cc(0,"div",0,1),r.cc(3,"div",2,3),r.Bc(5),r.bc(),r.bd(6,ne,4,2,"div",4),r.bc()),2&e){const e=r.Rc(2);r.Dc("dropdownDisabled",t.disabled)("dropdownPlacement",t.showUpgrade?r.Gc(3,se):r.Gc(4,re))("dropdownHostElement",e)}},directives:[J.b,ee.a,te.a,P.q,H.a,P.t],styles:['.gantt-no-access-dropdown{text-align:center;width:400px!important;padding:15px 15px 30px;position:relative}.gantt-no-access-dropdown__arrow{content:"";position:absolute;width:0;height:0;top:calc(50% - 35px);left:auto;right:-10px;box-sizing:border-box;border-color:transparent #fff #fff transparent;border-style:solid;border-width:15px;box-shadow:4px 5px 16px -5px rgba(0,0,0,.1);transform:rotate(-45deg)}.dark-theme .gantt-no-access-dropdown__arrow{border-color:transparent #384047 #384047 transparent}.gantt-no-access-dropdown .cu-modal__dialog{width:500px!important}.gantt-no-access-dropdown__title{margin-top:20px;margin-bottom:10px;font-size:20px}.gantt-no-access-dropdown__text{font:14px Gotham Pro,Proxima Nova,arial,serif;margin-top:15px;line-height:1.5}.gantt-no-access-dropdown__text a{color:#7b68ee;text-decoration:underline;cursor:pointer}@supports (--theme-main-color:#7b68ee){.gantt-no-access-dropdown__text a{color:var(--theme-main-color)}}'],encapsulation:2}),e})();var ue=i("loh9"),pe=i("P5sH"),me=i("HPyy"),he=i("ZRUT"),be=i("KTjT"),ge=i("ZICD"),fe=i("qJfo"),_e=i("/Uwt"),ve=i("lkVx"),ye=i("UqWe");const we=["projectInput"],ke=["userList"];function xe(e,t){1&e&&(r.ac(0),r.gc(1,9),r.Zb())}function Te(e,t){1&e&&(r.ac(0),r.gc(1,10),r.Zb())}function Se(e,t){1&e&&(r.ac(0),r.gc(1,12),r.Zb())}function je(e,t){1&e&&(r.ac(0),r.gc(1,13),r.Zb())}function Oe(e,t){if(1&e&&(r.ac(0),r.bd(1,Se,2,0,"ng-container",1),r.bd(2,je,2,0,"ng-template",null,11,r.cd),r.Zb()),2&e){const e=r.Rc(3),t=r.uc(2);r.Ib(1),r.Dc("ngIf",t.currentStage===t.Stage.Views)("ngIfElse",e)}}function Ie(e,t){1&e&&(r.ac(0),r.Xb(1,"cu-loader"),r.Zb())}function De(e,t){if(1&e&&(r.bd(0,xe,2,0,"ng-container",8),r.bd(1,Te,2,0,"ng-container",8),r.bd(2,Oe,4,2,"ng-container",8),r.bd(3,Ie,2,0,"ng-container",8)),2&e){const e=r.uc();r.Dc("ngIf",e.returnToStage),r.Ib(1),r.Dc("ngIf",e.project.id&&!e.saving&&!e.editAll&&(e.currentStage!==e.Stage.ViewSettings||e.currentStage===e.Stage.ViewSettings&&!e.returnToStage)),r.Ib(1),r.Dc("ngIf",!e.project.id&&!e.returnToStage),r.Ib(1),r.Dc("ngIf",e.saving)}}function Ce(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",25),r.tc(),r.cc(2,"svg",26),r.cc(3,"g",27),r.Xb(4,"circle",28),r.Xb(5,"path",29),r.Xb(6,"path",30),r.Xb(7,"path",31),r.Xb(8,"circle",32),r.Xb(9,"path",33),r.Xb(10,"path",34),r.bc(),r.bc(),r.bc(),r.sc(),r.cc(11,"div",35),r.gc(12,36),r.bc(),r.cc(13,"div",37),r.cc(14,"div",38),r.gc(15,39),r.bc(),r.cc(16,"div",40),r.qc("click",function(){return r.Uc(e),r.uc(3).openTemplateCenter()}),r.gc(17,41),r.bc(),r.bc(),r.Zb()}}function Pe(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(4);return t.changeStage(t.returnToStage||t.Stage.Summary)}),r.bc(),r.bc()}}function $e(e,t){if(1&e&&(r.cc(0,"div",35),r.bd(1,Pe,2,0,"div",42),r.ac(2),r.gc(3,43),r.Zb(),r.bc()),2&e){const e=r.uc(3);r.Ib(1),r.Dc("ngIf",e.editAll)}}function ze(e,t){1&e&&(r.cc(0,"div",46),r.cc(1,"div",47),r.Xb(2,"div",48),r.bc(),r.cc(3,"div",49),r.gc(4,50),r.bc(),r.bc())}function Me(e,t){1&e&&(r.cc(0,"div",46),r.cc(1,"div",47),r.Xb(2,"div",48),r.bc(),r.cc(3,"div",49),r.gc(4,51),r.bc(),r.bc())}function Ee(e,t){1&e&&(r.cc(0,"div",46),r.cc(1,"div",47),r.Xb(2,"div",48),r.bc(),r.cc(3,"div",49),r.gc(4,52),r.bc(),r.bc())}function Le(e,t){}const Ae=function(e){return{"cu-form__row_error":e}},Fe=function(){return{standalone:!0}};function Ue(e,t){if(1&e){const e=r.dc();r.ac(0),r.bd(1,Ce,18,0,"ng-container",8),r.bd(2,$e,4,1,"div",15),r.cc(3,"div",16),r.cc(4,"div",17),r.gc(5,18),r.bc(),r.cc(6,"div",19),r.cc(7,"input",20,21),r.qc("change",function(t){return r.Uc(e),r.uc(2).setProjectName(t)})("keyup.Enter",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.returnToStage||t.Stage.Visibility)}),r.bc(),r.bc(),r.bd(10,ze,5,0,"div",22),r.bd(11,Me,5,0,"div",22),r.bd(12,Ee,5,0,"div",22),r.bc(),r.cc(13,"button",23),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.returnToStage||t.Stage.Avatar)}),r.bd(14,Le,0,0,"ng-template",24),r.bc(),r.Zb()}if(2&e){const e=r.Rc(9),t=r.uc(2),i=r.Rc(1);r.Ib(1),r.Dc("ngIf",!t.project.id),r.Ib(1),r.Dc("ngIf",t.project.id),r.Ib(1),r.Dc("ngClass",r.Hc(10,Ae,t.validateErrors.projectName)),r.Ib(4),r.Dc("ngModel",null==t.project?null:t.project.name)("ngModelOptions",r.Gc(12,Fe)),r.Ib(3),r.Dc("ngIf",t.validateErrors.projectExists),r.Ib(1),r.Dc("ngIf",t.validateErrors.projectName),r.Ib(1),r.Dc("ngIf",t.validateErrors.projectNameLength),r.Ib(1),r.Dc("disabled",!e.valid),r.Ib(1),r.Dc("ngTemplateOutlet",i)}}function Ne(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.returnToStage||t.Stage.Avatar)}),r.bc(),r.bc()}}function Re(e,t){1&e&&(r.cc(0,"div",76),r.cc(1,"div",77),r.gc(2,78),r.bc(),r.bc())}function Ge(e,t){if(1&e){const e=r.dc();r.cc(0,"div",76),r.cc(1,"div",79),r.ac(2),r.gc(3,80),r.Zb(),r.dd(4,": "),r.bc(),r.cc(5,"cu-user-list-dropdown",81,82),r.qc("onChange",function(t){return r.Uc(e),r.uc(3).setMembers(t)}),r.vc(7,"membersToUsers"),r.cc(8,"cu-user-group",83),r.qc("onUserRemove",function(t){return r.Uc(e),r.uc(3).removeUser(t)}),r.vc(9,"membersToUsers"),r.bc(),r.bc(),r.cc(10,"div",84),r.qc("click",function(){return r.Uc(e),r.uc(3).openUserList()}),r.gc(11,85),r.bc(),r.bc()}if(2&e){const e=r.uc(3);r.Ib(5),r.Dc("users",e.currentTeamMembers)("multiChoice",!0)("modifier","cu-dropdown_center cu-dropdown_pointer")("selectedUsers",r.wc(7,15,e.members))("showReassign",!1)("enableFirstSelection",!1)("immutableUser",e.project.id?void 0:e.project.owner),r.Ib(3),r.Dc("users",r.wc(9,17,e.members))("showUserRemover",!0)("assignIcon",!0)("multiChoice",!0)("modifier","cu-user-group_m-lg")("avatarSize",40)("showDropdown",!1)("immutableUser",e.project.id?void 0:e.project.owner)}}function qe(e,t){1&e&&(r.cc(0,"div",86),r.cc(1,"div",47),r.Xb(2,"div",48),r.bc(),r.cc(3,"div",49),r.gc(4,87),r.bc(),r.bc())}function Be(e,t){1&e&&(r.cc(0,"div",88),r.cc(1,"div",89),r.gc(2,90),r.bc(),r.bc())}function We(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-checkbox",91),r.qc("onChange",function(t){return r.Uc(e),r.uc(3).project.admin_can_manage=t}),r.gc(1,92),r.bc()}if(2&e){const e=r.uc(3);r.Dc("checked",e.project.admin_can_manage)}}function Ve(e,t){}const Xe=function(e){return{"cu-create-project-modal__switch-privacy-item_selected":e}};function He(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",35),r.bd(2,Ne,2,0,"div",42),r.ac(3),r.gc(4,53),r.Zb(),r.bc(),r.cc(5,"div",54),r.cc(6,"label",55),r.cc(7,"input",56),r.qc("change",function(){return r.Uc(e),r.uc(2).setPrivacy(!1)}),r.bc(),r.cc(8,"div",57),r.tc(),r.cc(9,"svg",58),r.cc(10,"g",59),r.Xb(11,"circle",60),r.Xb(12,"path",61),r.bc(),r.bc(),r.bc(),r.sc(),r.cc(13,"div",62),r.gc(14,63),r.bc(),r.bc(),r.cc(15,"label",55),r.cc(16,"input",56),r.qc("change",function(){return r.Uc(e),r.uc(2).setPrivacy(!0)}),r.bc(),r.cc(17,"div",57),r.tc(),r.cc(18,"svg",64),r.cc(19,"g",27),r.Xb(20,"path",65),r.cc(21,"g",66),r.Xb(22,"rect",67),r.Xb(23,"circle",68),r.bc(),r.Xb(24,"path",69),r.bc(),r.bc(),r.bc(),r.sc(),r.cc(25,"div",62),r.dd(26,"Private"),r.bc(),r.bc(),r.bc(),r.bd(27,Re,3,0,"div",70),r.bd(28,Ge,12,19,"div",70),r.bd(29,qe,5,0,"div",71),r.bd(30,Be,3,0,"div",72),r.cc(31,"div",73),r.bd(32,We,2,1,"cu-checkbox",74),r.vc(33,"async"),r.bc(),r.cc(34,"button",75),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.returnToStage||t.Stage.Statuses)}),r.bd(35,Ve,0,0,"ng-template",24),r.bc(),r.Zb()}if(2&e){const e=r.uc(2),t=r.Rc(1);r.Ib(2),r.Dc("ngIf",!e.project.id||e.editAll),r.Ib(4),r.Dc("ngClass",r.Hc(15,Xe,!(null!=e.project&&e.project.private))),r.Ib(1),r.Dc("checked",!(null!=e.project&&e.project.private)),r.Ib(7),r.kc(e.sharedData.compatCurrentTeam.name),r.hc(14),r.Ib(1),r.Dc("ngClass",r.Hc(17,Xe,null==e.project?null:e.project.private)),r.Ib(1),r.Dc("checked",null==e.project?null:e.project.private),r.Ib(11),r.Dc("ngIf",!e.project.private),r.Ib(1),r.Dc("ngIf",e.project.private),r.Ib(1),r.Dc("ngIf",e.project.private&&0===e.members.length),r.Ib(1),r.Dc("ngIf",e.project.private&&e.currentUserAccessRemoved),r.Ib(2),r.Dc("ngIf",e.team.owner_control_private_spaces&&(!e.project.id||e.project.owner.id===r.wc(33,13,e.currentUser$).id)),r.Ib(2),r.Dc("disabled",e.project.private&&0===e.members.length),r.Ib(1),r.Dc("ngTemplateOutlet",t)}}function Ye(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.returnToStage||t.Stage.Visibility)}),r.bc(),r.bc()}}function Ze(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"cu-status-template",125),r.qc("onSave",function(){return r.Uc(e),r.uc(3).updateTemplate()})("onClick",function(){r.Uc(e);const i=t.$implicit;return r.uc(3).populatePresetStatuses(i.name,!0)})("onStartDelete",function(){r.Uc(e);const i=t.$implicit;return r.uc(3).openStatusTemplateDeleteConfirm(i)})("onRename",function(i){r.Uc(e);const a=t.$implicit;return r.uc(3).renameTemplate(i,a)}),r.vc(2,"async"),r.bc(),r.Zb()}if(2&e){const e=t.$implicit,i=r.uc(3);r.Ib(1),r.Dc("template",e)("active",i.currentPreset===e.name)("templates",i.templates)("moreTemplates",i.moreTemplates)("templateSaveNeeded",r.wc(2,6,i.templateSaveNeeded$))("modifier","status-template_vertical")}}function Qe(e,t){if(1&e){const e=r.dc();r.cc(0,"div",126),r.qc("click",function(){return r.Uc(e),r.uc(3).enterTemplateName()}),r.dd(1," + "),r.ac(2),r.gc(3,127),r.Zb(),r.bc()}}function Ke(e,t){if(1&e){const e=r.dc();r.cc(0,"div",128),r.cc(1,"input",129,130),r.qc("ngModelChange",function(t){return r.Uc(e),r.uc(3).templateName=t}),r.bc(),r.cc(3,"div",131),r.dd(4),r.bc(),r.bc()}if(2&e){const e=r.uc(3);r.Ib(1),r.Dc("ngModel",e.templateName),r.Ib(3),r.fd(" ",e.errMsg," ")}}function Je(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-status-badge",135),r.qc("handleStatusChange",function(t){return r.Uc(e),r.uc(4).handleStatusChange(t)})("handleStatusKeydown",function(t){return r.Uc(e),r.uc(4).handleStatusKeydown(t)})("closeOtherPickers",function(t){return r.Uc(e),r.uc(4).closeOtherPickers(t)})("colorChanged",function(){return r.Uc(e),r.uc(4).templateSaveNeeded$.next(!0)}),r.bc()}if(2&e){const e=t.$implicit,i=t.index,a=t.count,o=t.last,c=r.uc(4);r.Dc("status",e)("canDrag",!1)("canDelete",!1)("last",o)("PRESET_COLORS",c.PRESET_COLORS)("i",i)("c",a)("errorIndex",c.errorIndex)("modifier","cu-status-badge_full-width")}}function et(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-status-badge",136),r.qc("confirmRemoveStatus",function(t){return r.Uc(e),r.uc(4).confirmRemoveStatus(t)})("handleStatusChange",function(t){return r.Uc(e),r.uc(4).handleStatusChange(t)})("handleStatusKeydown",function(t){return r.Uc(e),r.uc(4).handleStatusKeydown(t)})("closeOtherPickers",function(t){return r.Uc(e),r.uc(4).closeOtherPickers(t)})("colorChanged",function(){return r.Uc(e),r.uc(4).templateSaveNeeded$.next(!0)}),r.vc(1,"async"),r.bc()}if(2&e){const e=t.$implicit,i=t.index,a=t.count,o=r.uc(4);r.Dc("status",e)("last",!1)("canDelete",!r.wc(1,9,o.cantDelete$))("PRESET_COLORS",o.PRESET_COLORS)("i",i+(null==o.statusListOpen?null:o.statusListOpen.length))("c",a+(null==o.statusListOpen?null:o.statusListOpen.length))("errorIndex",o.errorIndex)("isNewStatus",o.isNewStatus)("modifier","cu-status-badge_full-width")}}function tt(e,t){1&e&&(r.cc(0,"div",137),r.cc(1,"p"),r.ac(2),r.gc(3,138),r.Zb(),r.cc(4,"a",139),r.gc(5,140),r.bc(),r.bc(),r.bc())}function it(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",109),r.ac(2),r.gc(3,132),r.Zb(),r.Xb(4,"div",133),r.bc(),r.bd(5,Je,1,9,"cu-status-badge",134),r.cc(6,"div",117),r.qc("dragulaModelChange",function(t){r.Uc(e);const i=r.uc(3);return i.changeStatuses(t,i.StatusTypes.Unstarted)}),r.bd(7,et,2,11,"cu-status-badge",113),r.bd(8,tt,6,0,"div",118),r.bc(),r.Zb()}if(2&e){const e=r.uc(3);r.Ib(5),r.Dc("ngForOf",e.statusListOpen)("ngForTrackBy",e.trackByStatus),r.Ib(1),r.Dc("dragula",e.STATUS_BAG_NAME)("dragulaModel",e.statusListUnstarted),r.Ib(1),r.Dc("ngForOf",e.statusListUnstarted)("ngForTrackBy",e.trackByStatus),r.Ib(1),r.Dc("ngIf",!(null!=e.statusListUnstarted&&e.statusListUnstarted.length)&&e.showStatusDropZone)}}function at(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-status-badge",135),r.qc("handleStatusChange",function(t){return r.Uc(e),r.uc(4).handleStatusChange(t)})("handleStatusKeydown",function(t){return r.Uc(e),r.uc(4).handleStatusKeydown(t)})("closeOtherPickers",function(t){return r.Uc(e),r.uc(4).closeOtherPickers(t)})("colorChanged",function(){return r.Uc(e),r.uc(4).templateSaveNeeded$.next(!0)}),r.bc()}if(2&e){const e=t.$implicit,i=t.index,a=t.count,o=t.last,c=r.uc(4);r.Dc("status",e)("canDrag",!1)("canDelete",!1)("last",o)("PRESET_COLORS",c.PRESET_COLORS)("i",i+(null==c.statusListUnstarted?null:c.statusListUnstarted.length))("c",a+(null==c.statusListUnstarted?null:c.statusListUnstarted.length))("errorIndex",c.errorIndex)("modifier","cu-status-badge_full-width")}}function ot(e,t){if(1&e&&(r.ac(0),r.bd(1,at,1,9,"cu-status-badge",134),r.Zb()),2&e){const e=r.uc(3);r.Ib(1),r.Dc("ngForOf",e.statusListOpen)("ngForTrackBy",e.trackByStatus)}}function ct(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-status-badge",136),r.qc("confirmRemoveStatus",function(t){return r.Uc(e),r.uc(3).confirmRemoveStatus(t)})("handleStatusChange",function(t){return r.Uc(e),r.uc(3).handleStatusChange(t)})("handleStatusKeydown",function(t){return r.Uc(e),r.uc(3).handleStatusKeydown(t)})("closeOtherPickers",function(t){return r.Uc(e),r.uc(3).closeOtherPickers(t)})("colorChanged",function(){return r.Uc(e),r.uc(3).templateSaveNeeded$.next(!0)}),r.vc(1,"async"),r.bc()}if(2&e){const e=t.$implicit,i=t.index,a=t.count,o=t.last,c=r.uc(3);r.Dc("status",e)("last",o)("canDelete",!r.wc(1,9,c.cantDelete$))("PRESET_COLORS",c.PRESET_COLORS)("i",i+(null==c.statusListUnstarted?null:c.statusListUnstarted.length)+(null==c.statusListOpen?null:c.statusListOpen.length))("c",a+(null==c.statusListUnstarted?null:c.statusListUnstarted.length)+(null==c.statusListOpen?null:c.statusListOpen.length))("errorIndex",c.errorIndex)("isNewStatus",c.isNewStatus)("modifier","cu-status-badge_full-width")}}function nt(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-status-badge",136),r.qc("confirmRemoveStatus",function(t){return r.Uc(e),r.uc(3).confirmRemoveStatus(t)})("handleStatusChange",function(t){return r.Uc(e),r.uc(3).handleStatusChange(t)})("handleStatusKeydown",function(t){return r.Uc(e),r.uc(3).handleStatusKeydown(t)})("closeOtherPickers",function(t){return r.Uc(e),r.uc(3).closeOtherPickers(t)})("colorChanged",function(){return r.Uc(e),r.uc(3).templateSaveNeeded$.next(!0)}),r.vc(1,"async"),r.bc()}if(2&e){const e=t.$implicit,i=t.index,a=t.count,o=r.uc(3);r.Dc("status",e)("last",!1)("canDelete",!r.wc(1,9,o.cantDelete$))("PRESET_COLORS",o.PRESET_COLORS)("i",i+(null==o.statusListUnstarted?null:o.statusListUnstarted.length)+(null==o.statusListOpen?null:o.statusListOpen.length)+(null==o.statusListCustom?null:o.statusListCustom.length))("c",a+(null==o.statusListUnstarted?null:o.statusListUnstarted.length)+(null==o.statusListOpen?null:o.statusListOpen.length)+(null==o.statusListCustom?null:o.statusListCustom.length))("errorIndex",o.errorIndex)("isNewStatus",o.isNewStatus)("modifier","cu-status-badge_full-width")}}function st(e,t){1&e&&(r.cc(0,"div",137),r.cc(1,"p"),r.ac(2),r.gc(3,141),r.Zb(),r.cc(4,"a",142),r.gc(5,143),r.bc(),r.bc(),r.bc())}function rt(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-status-badge",144),r.qc("handleStatusChange",function(t){return r.Uc(e),r.uc(3).handleStatusChange(t)})("handleStatusKeydown",function(t){return r.Uc(e),r.uc(3).handleStatusKeydown(t)})("closeOtherPickers",function(t){return r.Uc(e),r.uc(3).closeOtherPickers(t)})("colorChanged",function(){return r.Uc(e),r.uc(3).templateSaveNeeded$.next(!0)}),r.bc()}if(2&e){const e=t.$implicit,i=t.index,a=t.count,o=t.last,c=r.uc(3);r.Dc("status",e)("canDrag",!1)("canDelete",!1)("canEditColor",!1)("last",o)("PRESET_COLORS",c.PRESET_COLORS)("i",i+(null==c.statusListUnstarted?null:c.statusListUnstarted.length)+(null==c.statusListOpen?null:c.statusListOpen.length)+(null==c.statusListCustom?null:c.statusListCustom.length)+(null==c.statusListDone?null:c.statusListDone.length))("c",a+(null==c.statusListUnstarted?null:c.statusListUnstarted.length)+(null==c.statusListOpen?null:c.statusListOpen.length)+(null==c.statusListCustom?null:c.statusListCustom.length)+(null==c.statusListDone?null:c.statusListDone.length))("errorIndex",c.errorIndex)("modifier","cu-status-badge_full-width")}}function lt(e,t){1&e&&(r.cc(0,"div",145),r.cc(1,"div",146),r.Xb(2,"div",147),r.bc(),r.cc(3,"div",131),r.gc(4,148),r.bc(),r.bc())}function dt(e,t){1&e&&(r.cc(0,"div",131),r.gc(1,151),r.bc())}function ut(e,t){1&e&&(r.cc(0,"div",131),r.gc(1,152),r.bc())}function pt(e,t){if(1&e&&(r.cc(0,"div",145,149),r.cc(2,"div",146),r.Xb(3,"div",147),r.bc(),r.bd(4,dt,2,0,"div",150),r.bd(5,ut,2,0,"div",150),r.bc()),2&e){const e=r.uc(3);r.Ib(4),r.Dc("ngIf",e.validateErrors.maxlengthError),r.Ib(1),r.Dc("ngIf",e.validateErrors.statusTakenError)}}function mt(e,t){}function ht(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",35),r.bd(2,Ye,2,0,"div",42),r.ac(3),r.gc(4,93),r.Zb(),r.bc(),r.cc(5,"div",94),r.cc(6,"a",95),r.gc(7,96),r.bc(),r.bc(),r.cc(8,"div",97),r.cc(9,"div",98),r.ac(10),r.cc(11,"div",99),r.cc(12,"div",100),r.ac(13),r.gc(14,101),r.Zb(),r.dd(15),r.bc(),r.cc(16,"div",102),r.qc("click",function(){return r.Uc(e),r.uc(2).enterTemplateName()}),r.Xb(17,"div",103),r.bc(),r.bc(),r.cc(18,"div",104),r.bd(19,Ze,3,8,"ng-container",105),r.bc(),r.bd(20,Qe,4,0,"div",106),r.bd(21,Ke,5,2,"div",107),r.Zb(),r.bc(),r.cc(22,"div",108),r.ac(23),r.bd(24,it,9,7,"ng-container",8),r.vc(25,"async"),r.cc(26,"div",109),r.ac(27),r.gc(28,110),r.Zb(),r.Xb(29,"div",111),r.bc(),r.bd(30,ot,2,2,"ng-container",8),r.vc(31,"async"),r.cc(32,"div",112),r.qc("dragulaModelChange",function(t){r.Uc(e);const i=r.uc(2);return i.changeStatuses(t,i.StatusTypes.Custom)}),r.bd(33,ct,2,11,"cu-status-badge",113),r.bc(),r.cc(34,"cu-tags-input",114),r.qc("tagsChanged",function(t){return r.Uc(e),r.uc(2).manageStatuses(t)})("statusError",function(t){return r.Uc(e),r.uc(2).handleStatusError(t)})("click",function(){return r.Uc(e),r.uc(2).handleStatusError("hideError")}),r.vc(35,"pluckFromArray"),r.bc(),r.cc(36,"div",109),r.ac(37),r.gc(38,115),r.Zb(),r.Xb(39,"div",116),r.bc(),r.cc(40,"div",117),r.qc("dragulaModelChange",function(t){r.Uc(e);const i=r.uc(2);return i.changeStatuses(t,i.StatusTypes.Done)}),r.bd(41,nt,2,11,"cu-status-badge",113),r.bd(42,st,6,0,"div",118),r.bc(),r.cc(43,"div",109),r.ac(44),r.gc(45,119),r.Zb(),r.Xb(46,"div",120),r.bc(),r.bd(47,rt,1,10,"cu-status-badge",121),r.Zb(),r.bc(),r.bc(),r.cc(48,"div",122),r.bd(49,lt,5,0,"div",123),r.bd(50,pt,6,2,"div",123),r.bc(),r.cc(51,"button",124),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.returnToStage||t.Stage.Clickapps)}),r.bd(52,mt,0,0,"ng-template",24),r.bc(),r.Zb()}if(2&e){const e=r.uc(2),t=r.Rc(1);let i=null,a=null;r.Ib(2),r.Dc("ngIf",!e.project.id||e.editAll),r.Ib(13),r.fd(" (",e.templates.length,") "),r.Ib(4),r.Dc("ngForOf",e.templates)("ngForTrackBy",e.trackById),r.Ib(1),r.Dc("ngIf",!e.addingTemplate),r.Ib(1),r.Dc("ngIf",e.addingTemplate),r.Ib(3),r.Dc("ngIf",null==(i=r.wc(25,28,e.sharedData.compatCurrentTeam$))?null:i.unstarted_status_group),r.Ib(6),r.Dc("ngIf",!(null!=(a=r.wc(31,30,e.sharedData.compatCurrentTeam$))&&a.unstarted_status_group)),r.Ib(2),r.Dc("dragula",e.STATUS_BAG_NAME)("dragulaModel",e.statusListCustom),r.Ib(1),r.Dc("ngForOf",e.statusListCustom)("ngForTrackBy",e.trackByStatus),r.Ib(1),r.Dc("tags",r.xc(35,32,e.statusList,"status"))("maxlength",e.MAX_LENGTH)("error",e.validateErrors.statusTakenError||e.validateErrors.maxlengthError)("errorIndex",e.errorIndex)("modifier","status-add_full-width"),r.Ib(6),r.Dc("dragula",e.STATUS_BAG_NAME)("dragulaModel",e.statusListDone),r.Ib(1),r.Dc("ngForOf",e.statusListDone)("ngForTrackBy",e.trackByStatus),r.Ib(1),r.Dc("ngIf",!(null!=e.statusListDone&&e.statusListDone.length)&&e.showStatusDropZone),r.Ib(5),r.Dc("ngForOf",e.statusListClosed)("ngForTrackBy",e.trackByStatus),r.Ib(2),r.Dc("ngIf",e.validateErrors.customStatus),r.Ib(1),r.Dc("ngIf",e.validateErrors.statusTakenError||e.validateErrors.maxlengthError),r.Ib(1),r.Dc("disabled",e.validateErrors.customStatus),r.Ib(1),r.Dc("ngTemplateOutlet",t)}}function bt(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.returnToStage||t.Stage.Statuses)}),r.bc(),r.bc()}}const gt=function(e,t){return[e,"settings","team",t,"clickapps?sprint=true"]};function ft(e,t){if(1&e){const e=r.dc();r.cc(0,"a",174),r.qc("click",function(t){return r.Uc(e),r.uc(4).preventToggle(t)}),r.gc(1,175),r.vc(2,"async"),r.vc(3,"async"),r.bc()}if(2&e){const e=r.uc(4);let t=null;r.Dc("cuLink",r.Ic(6,gt,null==(t=r.wc(2,2,e.sharedData.compatCurrentTeam$))?null:t.id,null==(t=r.wc(3,4,e.sharedData.compatCurrentTeam$))?null:t.id))("allowSlash",!0)}}function _t(e,t){if(1&e&&(r.cc(0,"div"),r.cc(1,"a",182),r.gc(2,183),r.bc(),r.bc()),2&e){const e=r.uc(2).$implicit;r.Ib(1),r.Ec("href",e.learnMore,r.Xc)}}function vt(e,t){if(1&e){const e=r.dc();r.cc(0,"div",176),r.qc("mouseenter",function(){return r.Uc(e),r.uc(),r.Rc(6).show()}),r.cc(1,"div",177),r.Xb(2,"img",178),r.bc(),r.cc(3,"div",179),r.dd(4),r.bc(),r.cc(5,"div",180),r.Xb(6,"span",181),r.bd(7,_t,3,1,"div",8),r.bc(),r.bc()}if(2&e){const e=r.uc().$implicit;r.Ib(2),r.Dc("src",e.image,r.Xc),r.Ib(2),r.fd(" ",e.title," "),r.Ib(2),r.Dc("innerHTML",e.description,r.Vc),r.Ib(1),r.Dc("ngIf",null==e?null:e.learnMore)}}function yt(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-paywall-popover",184),r.qc("mouseenter",function(){return r.Uc(e),r.uc(4).wipPaywall.show()}),r.bc()}if(2&e){const e=r.uc().$implicit;r.Dc("text",null==e||null==e.paywall?null:e.paywall.text)("emailSubject",null==e||null==e.paywall?null:e.paywall.emailSubject)}}function wt(e,t){if(1&e){const e=r.dc();r.cc(0,"div",185,186),r.qc("mouseenter",function(){return r.Uc(e),r.Rc(1).show()}),r.bc()}if(2&e){r.uc();const e=r.Rc(10);r.Dc("popover",e)}}const kt=function(e){return{"cu-sts__addon_enabled":e}},xt=function(e){return{"app-enabled":e}};function Tt(e,t){if(1&e){const e=r.dc();r.cc(0,"div",165),r.qc("mouseleave",function(){return r.Uc(e),r.Rc(6).hide()})("click",function(i){r.Uc(e);const a=t.$implicit;return r.uc(3).toggleFeature(a.featureName,i)}),r.Xb(1,"cu-clickapp-icon",166),r.cc(2,"div",167),r.dd(3),r.bc(),r.bd(4,ft,4,9,"a",168),r.cc(5,"div",169,170),r.qc("mouseenter",function(){return r.Uc(e),r.Rc(6).show()}),r.bc(),r.bd(7,vt,8,4,"ng-template",null,171,r.cd),r.bd(9,yt,1,2,"ng-template",null,172,r.cd),r.bd(11,wt,2,1,"div",173),r.bc()}if(2&e){const e=t.$implicit,i=r.Rc(8),a=r.uc(3);r.Dc("ngClass",r.Hc(7,kt,(null==a.features[e.featureName]?null:a.features[e.featureName].enabled)&&"remap_due_dates"!==e.featureName&&"multiple_assignees"!==e.featureName||"remap_due_dates"===e.featureName&&((null==a.features.due_dates?null:a.features.due_dates.remap_due_dates)||void 0===(null==a.features.due_dates?null:a.features.due_dates.remap_due_dates))||"time_tracking_rollup"===e.featureName&&(null==a.features.time_tracking?null:a.features.time_tracking.rollup)||"time_estimates_rollup"===e.featureName&&(null==a.features.time_estimates?null:a.features.time_estimates.rollup)||"multiple_assignees"===e.featureName&&a.project.multiple_assignees)),r.Ib(1),r.Dc("type",e.featureName)("ngClass",r.Hc(9,xt,(null==a.features[e.featureName]?null:a.features[e.featureName].enabled)&&"remap_due_dates"!==e.featureName&&"multiple_assignees"!==e.featureName||"remap_due_dates"===e.featureName&&((null==a.features.due_dates?null:a.features.due_dates.remap_due_dates)||void 0===(null==a.features.due_dates?null:a.features.due_dates.remap_due_dates))||"time_tracking_rollup"===e.featureName&&(null==a.features.time_tracking?null:a.features.time_tracking.rollup)||"time_estimates_rollup"===e.featureName&&(null==a.features.time_estimates?null:a.features.time_estimates.rollup)||"multiple_assignees"===e.featureName&&a.project.multiple_assignees)),r.Ib(2),r.fd(" ",e.title," "),r.Ib(1),r.Dc("ngIf","sprints"===e.featureName&&(null==a.features[e.featureName]?null:a.features[e.featureName].enabled)),r.Ib(1),r.Dc("popover",i),r.Ib(6),r.Dc("ngIf","wip_limits"===e.featureName&&a.showWIPPaywall)}}function St(e,t){1&e&&(r.ac(0),r.gc(1,187),r.Zb())}function jt(e,t){1&e&&(r.ac(0),r.gc(1,188),r.Zb())}function Ot(e,t){}const It=function(e){return{"cu-create-project-modal__clickapps-expand-icon_expanded":e}};function Dt(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",35),r.bd(2,bt,2,0,"div",42),r.ac(3),r.gc(4,153),r.Zb(),r.bc(),r.cc(5,"div",154),r.cc(6,"div",155),r.cc(7,"cu-toggle-switch",156),r.qc("onChange",function(t){return r.Uc(e),r.uc(2).toggleAllClickApps(t)}),r.bc(),r.cc(8,"div",157),r.dd(9),r.bc(),r.bc(),r.bc(),r.cc(10,"div",158),r.bd(11,Tt,12,11,"div",159),r.bc(),r.cc(12,"div",160),r.cc(13,"button",161),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.showAllClickapps=!t.showAllClickapps}),r.bd(14,St,2,0,"ng-container",1),r.bd(15,jt,2,0,"ng-template",null,162,r.cd),r.Xb(17,"div",163),r.bc(),r.bc(),r.cc(18,"button",164),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.returnToStage||t.Stage.Views)}),r.bd(19,Ot,0,0,"ng-template",24),r.bc(),r.Zb()}if(2&e){const e=r.Rc(16),t=r.uc(2),i=r.Rc(1);r.Ib(2),r.Dc("ngIf",!t.project.id||t.editAll),r.Ib(5),r.Dc("checked",t.selectAllClickapps),r.Ib(2),r.fd(" ",t.toggleAllClickAppsText," "),r.Ib(2),r.Dc("ngForOf",t.showAllClickapps?t.allClickapps:t.truncatedClickapps)("ngForTrackBy",t.trackByFeatureName),r.Ib(3),r.Dc("ngIf",t.showAllClickapps)("ngIfElse",e),r.Ib(3),r.Dc("ngClass",r.Hc(9,It,t.showAllClickapps)),r.Ib(2),r.Dc("ngTemplateOutlet",i)}}function Ct(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.returnToStage||t.Stage.Views,t.editAll||!t.project.id?t.Stage.Summary:null)}),r.bc(),r.bc()}}function Pt(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"cu-dropdown-list-item",203),r.qc("onCheck",function(){r.Uc(e);const i=t.$implicit;return r.uc(4).checkItem(i)})("onSelect",function(){r.Uc(e);const i=t.$implicit;return r.uc(4).checkItem(i)}),r.bc(),r.Zb()}if(2&e){const e=t.$implicit;r.Ib(1),r.Dc("item",e)("cuTooltip",e.tooltip)("ngClass","cu-dropdown-list-item_id-"+e.id)}}function $t(e,t){if(1&e&&(r.cc(0,"div",202),r.bd(1,Pt,2,3,"ng-container",105),r.bc()),2&e){const e=r.uc(3);r.Ib(1),r.Dc("ngForOf",e.viewSettings)("ngForTrackBy",e.trackById)}}function zt(e,t){}function Mt(e,t){if(1&e&&(r.cc(0,"div",202),r.bd(1,zt,0,0,"ng-template",24),r.bc()),2&e){r.uc(3);const e=r.Rc(11);r.Ib(1),r.Dc("ngTemplateOutlet",e)}}function Et(e,t){}function Lt(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",35),r.bd(2,Ct,2,0,"div",42),r.ac(3),r.gc(4,189),r.Zb(),r.bc(),r.cc(5,"div",190),r.gc(6,191),r.bc(),r.bd(7,$t,2,2,"div",192),r.bd(8,Mt,2,1,"div",192),r.cc(9,"div",193),r.cc(10,"div",194),r.ac(11),r.gc(12,195),r.Zb(),r.dd(13,": "),r.bc(),r.cc(14,"div",196),r.cc(15,"label"),r.cc(16,"input",197),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeUpdateViewOption(t.UpdateProjectViews.OnlyNewViews)}),r.bc(),r.cc(17,"div",198),r.gc(18,199),r.bc(),r.bc(),r.bc(),r.cc(19,"div",196),r.cc(20,"label"),r.cc(21,"input",197),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeUpdateViewOption(t.UpdateProjectViews.RequiredViews)}),r.bc(),r.cc(22,"div",198),r.gc(23,200),r.bc(),r.bc(),r.bc(),r.cc(24,"div",196),r.cc(25,"label"),r.cc(26,"input",197),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeUpdateViewOption(t.UpdateProjectViews.AllViews)}),r.bc(),r.cc(27,"div",198),r.gc(28,201),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(29,"button",164),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.returnToStage||t.Stage.Views,t.editAll||!t.project.id?t.Stage.Summary:null,!0)}),r.bd(30,Et,0,0,"ng-template",24),r.bc(),r.Zb()}if(2&e){const e=r.uc(2),t=r.Rc(1);r.Ib(2),r.Dc("ngIf",e.returnToStage),r.Ib(5),r.Dc("ngIf",e.viewSettingType===e.DataViewType.List||e.viewSettingType===e.DataViewType.Board||e.viewSettingType===e.DataViewType.Box||e.viewSettingType===e.DataViewType.Gantt),r.Ib(1),r.Dc("ngIf",e.viewSettingType===e.DataViewType.Calendar),r.Ib(8),r.Dc("value",!0)("checked",e.viewSettingsUpdate===e.UpdateProjectViews.OnlyNewViews),r.Ib(5),r.Dc("value",!0)("checked",e.viewSettingsUpdate===e.UpdateProjectViews.RequiredViews),r.Ib(5),r.Dc("value",!0)("checked",e.viewSettingsUpdate===e.UpdateProjectViews.AllViews),r.Ib(4),r.Dc("ngTemplateOutlet",t)}}function At(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.returnToStage||t.Stage.Clickapps)}),r.bc(),r.bc()}}const Ft=function(e){return{item:e}};function Ut(e,t){if(1&e&&(r.ac(0),r.Yb(1,211),r.Zb()),2&e){const e=t.$implicit;r.uc(4);const i=r.Rc(9);r.Ib(1),r.Dc("ngTemplateOutlet",i)("ngTemplateOutletContext",r.Hc(2,Ft,e))}}function Nt(e,t){if(1&e&&(r.ac(0),r.cc(1,"div",190),r.gc(2,209),r.bc(),r.cc(3,"div",210),r.bd(4,Ut,2,4,"ng-container",105),r.bc(),r.Zb()),2&e){const e=r.uc(3);r.Ib(4),r.Dc("ngForOf",e.templateViewOptions)("ngForTrackBy",e.trackByViewId)}}function Rt(e,t){1&e&&(r.cc(0,"div",223),r.gc(1,224),r.bc())}function Gt(e,t){1&e&&(r.cc(0,"div",225),r.Xb(1,"div",226),r.cc(2,"span",227),r.gc(3,228),r.bc(),r.bc())}const qt=function(e){return{title:e,icon:"cu2-home"}};function Bt(e,t){if(1&e){const e=r.dc();r.cc(0,"div"),r.cc(1,"cu-dropdown-list-item",232),r.qc("click",function(){r.Uc(e);const t=r.uc(2).$implicit;return r.uc(4).setDefault(t.id)}),r.bc(),r.bc()}if(2&e){const e=r.uc(6);r.Ib(1),r.Dc("item",r.Hc(1,qt,e.makeDefaultText))}}function Wt(e,t){1&e&&(r.cc(0,"div",229),r.Xb(1,"div",230),r.bd(2,Bt,2,3,"div",231),r.bc()),2&e&&(r.Ib(1),r.Dc("icon","ellipsis"))}function Vt(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-toggle-switch",233),r.qc("onChange",function(){r.Uc(e);const t=r.uc().$implicit;return r.uc(4).toggleView(t.id)}),r.bc()}if(2&e){const e=r.uc().$implicit,t=r.uc(4);r.Dc("disabled",(null==e?null:e.id)===t.DataViewType.List)("checked",t.selectedViewMap[e.id])}}function Xt(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"cu-gantt-no-access-dropdown",214),r.qc("onFreeTrialStart",function(){r.Uc(e);const i=t.$implicit;return r.uc(4).toggleView(i.id,!0)}),r.vc(2,"async"),r.vc(3,"async"),r.bd(4,Rt,2,0,"div",215),r.cc(5,"div",216),r.cc(6,"div",217),r.Xb(7,"div",218),r.cc(8,"div",219),r.dd(9),r.bc(),r.bd(10,Gt,4,0,"div",220),r.bd(11,Wt,3,1,"div",221),r.vc(12,"async"),r.vc(13,"async"),r.bd(14,Vt,1,2,"cu-toggle-switch",222),r.vc(15,"async"),r.vc(16,"async"),r.bc(),r.bc(),r.bc(),r.Zb()}if(2&e){const e=t.$implicit,i=r.uc(4);r.Ib(1),r.Dc("disabled",(e.id!==i.DataViewType.Gantt||r.wc(2,12,i.hasGanttAccess$))&&(e.id!==i.DataViewType.Box||r.wc(3,14,i.isPaidPlan$)))("showUpgrade",e.id===i.DataViewType.Box),r.Ib(3),r.Dc("ngIf",(null==e?null:e.id)===i.DataViewType.List),r.Ib(2),r.Ob("cu-create-project-modal__view-item-selected",i.selectedViewMap[e.id])("cu-create-project-modal__view-item-list",(null==e?null:e.id)===i.DataViewType.List),r.Ib(1),r.Dc("icon","cu2-view-"+(null==e?null:e.id)),r.Ib(2),r.fd(" ",e.title," "),r.Ib(1),r.Dc("ngIf",i.defaultView===e.id),r.Ib(1),r.Dc("ngIf",i.defaultView!==e.id&&(e.id!==i.DataViewType.Gantt||r.wc(12,16,i.hasGanttAccess$))&&(e.id!==i.DataViewType.Box||r.wc(13,18,i.isPaidPlan$))),r.Ib(3),r.Dc("ngIf",(e.id!==i.DataViewType.Gantt||r.wc(15,20,i.hasGanttAccess$)||i.selectedViewMap[e.id]&&e.id===i.DataViewType.Gantt)&&(e.id!==i.DataViewType.Box||r.wc(16,22,i.isPaidPlan$)))}}function Ht(e,t){if(1&e&&(r.ac(0),r.cc(1,"div",190),r.gc(2,212),r.bc(),r.cc(3,"div",213),r.bd(4,Xt,17,24,"ng-container",105),r.bc(),r.Zb()),2&e){const e=r.uc(3);r.Ib(4),r.Dc("ngForOf",e.viewOptions)("ngForTrackBy",e.trackByViewId)}}function Yt(e,t){}const Zt=function(e){return{"cu-create-project-modal__view-settings-header-item_selected":e}};function Qt(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",35),r.bd(2,At,2,0,"div",42),r.ac(3),r.gc(4,204),r.Zb(),r.bc(),r.cc(5,"div",205),r.cc(6,"div",206),r.qc("click",function(){return r.Uc(e),r.uc(2).setViewSettingsTab("required")}),r.gc(7,207),r.bc(),r.cc(8,"div",206),r.qc("click",function(){return r.Uc(e),r.uc(2).setViewSettingsTab("default")}),r.gc(9,208),r.bc(),r.bc(),r.bd(10,Nt,5,2,"ng-container",8),r.bd(11,Ht,5,2,"ng-container",8),r.cc(12,"button",164),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Summary)}),r.bd(13,Yt,0,0,"ng-template",24),r.bc(),r.Zb()}if(2&e){const e=r.uc(2),t=r.Rc(1);r.Ib(2),r.Dc("ngIf",!e.project.id||e.editAll),r.Ib(4),r.Dc("ngClass",r.Hc(6,Zt,"required"===e.viewSettingsTab)),r.Ib(2),r.Dc("ngClass",r.Hc(8,Zt,"required"!==e.viewSettingsTab)),r.Ib(2),r.Dc("ngIf","required"!==e.viewSettingsTab),r.Ib(1),r.Dc("ngIf","required"===e.viewSettingsTab),r.Ib(2),r.Dc("ngTemplateOutlet",t)}}function Kt(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.returnToStage||t.Stage.Views)}),r.bc(),r.bc()}}function Jt(e,t){1&e&&(r.ac(0),r.gc(1,254),r.Zb())}function ei(e,t){1&e&&(r.ac(0),r.dd(1,"Edit Space"),r.Zb())}const ti=function(e){return[e]},ii=function(){return["bottom-right","bottom","auto"]};function ai(e,t){if(1&e){const e=r.dc();r.cc(0,"div",235),r.qc("click",function(){return r.Uc(e),r.Rc(7).open()}),r.cc(1,"div",236),r.gc(2,255),r.bc(),r.cc(3,"div",238),r.cc(4,"div",256),r.dd(5),r.bc(),r.cc(6,"cu-user-list-dropdown",257,258),r.qc("onChange",function(t){return r.Uc(e),r.uc(3).setNewOwnerValue(t[0])}),r.vc(8,"membersToUsers"),r.Xb(9,"cu-avatar",259),r.bc(),r.bc(),r.bc()}if(2&e){const e=r.uc(3);r.Ib(5),r.fd(" ",null==e.project||null==e.project.owner?null:e.project.owner.username," "),r.Ib(1),r.Dc("users",r.wc(8,8,e.potentialOwners))("showUnassign",!1)("selectedUsers",e.project.owner?r.Hc(10,ti,e.project.owner):null)("showReassign",!1)("dropdownPlacement",r.Gc(12,ii)),r.Ib(3),r.Dc("user",e.project.owner)("showGuestTooltip",!1)}}function oi(e,t){if(1&e&&(r.ac(0),r.cc(1,"div",256),r.gc(2,260),r.bc(),r.Xb(3,"cu-team-avatar",261),r.Zb()),2&e){const e=r.uc(3);r.Ib(2),r.kc(e.sharedData.compatCurrentTeam.name),r.hc(2),r.Ib(1),r.Dc("team",e.sharedData.compatCurrentTeam)}}function ci(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",256),r.gc(2,262),r.bc(),r.cc(3,"cu-user-group",263),r.qc("onUserRemove",function(t){return r.Uc(e),r.uc(3).removeUser(t)}),r.vc(4,"membersToUsers"),r.bc(),r.Zb()}if(2&e){const e=r.uc(3);r.Ib(3),r.Dc("users",r.wc(4,7,e.members))("showUserRemover",!1)("assignIcon",!1)("multiChoice",!0)("modifier","cu-user-group_m")("avatarSize",30)("showDropdown",!1)}}function ni(e,t){if(1&e){const e=r.dc();r.cc(0,"div",264),r.cc(1,"div",236),r.gc(2,265),r.bc(),r.cc(3,"div",238),r.cc(4,"cu-toggle-switch",266),r.qc("onChange",function(t){return r.Uc(e),r.uc(3).project.admin_can_manage=t}),r.bc(),r.bc(),r.bc()}if(2&e){const e=r.uc(3);r.Ib(4),r.Dc("checked",e.project.admin_can_manage)}}function si(e,t){if(1&e&&r.Xb(0,"div",267),2&e){const e=t.$implicit;r.ad("color",e.color),r.Dc("cuTooltip",e.status)}}function ri(e,t){if(1&e&&r.Xb(0,"div",268),2&e){const e=r.uc(3);r.Dc("cuTooltip",e.statusPermisssionMessage)}}function li(e,t){if(1&e&&r.Xb(0,"cu-clickapp-icon",270),2&e){const e=r.uc().$implicit;r.Dc("cuTooltip",e.title)("type",e.featureName)}}function di(e,t){if(1&e&&(r.ac(0),r.bd(1,li,1,2,"cu-clickapp-icon",269),r.Zb()),2&e){const e=t.$implicit,i=r.uc(3);r.Ib(1),r.Dc("ngIf",(null==i.features[e.featureName]?null:i.features[e.featureName].enabled)&&"remap_due_dates"!==e.featureName||"remap_due_dates"===e.featureName&&((null==i.features.due_dates?null:i.features.due_dates.remap_due_dates)||void 0===(null==i.features.due_dates?null:i.features.due_dates.remap_due_dates))||"time_tracking_rollup"===e.featureName&&(null==i.features.time_tracking?null:i.features.time_tracking.rollup)||"time_estimates_rollup"===e.featureName&&(null==i.features.time_estimates?null:i.features.time_estimates.rollup)||"multiple_assignees"===e.featureName&&i.project.multiple_assignees)}}function ui(e,t){1&e&&r.Xb(0,"div",273)}function pi(e,t){if(1&e&&(r.cc(0,"div",271),r.Xb(1,"div",218),r.bd(2,ui,1,0,"div",272),r.bc()),2&e){const e=t.$implicit,i=r.uc(3);r.Ib(1),r.Dc("icon","cu2-view-"+e),r.Ib(1),r.Dc("ngIf",i.defaultView===e)}}function mi(e,t){1&e&&(r.ac(0),r.gc(1,274),r.Zb())}function hi(e,t){if(1&e&&(r.ac(0),r.bd(1,mi,2,0,"ng-container",1),r.Zb()),2&e){r.uc();const e=r.Rc(47),t=r.uc(2);r.Ib(1),r.Dc("ngIf",!!t.project.id)("ngIfElse",e)}}function bi(e,t){1&e&&(r.ac(0),r.gc(1,275),r.Zb())}function gi(e,t){1&e&&r.Xb(0,"cu-loader")}function fi(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",35),r.bd(2,Kt,2,0,"div",42),r.bd(3,Jt,2,0,"ng-container",8),r.bd(4,ei,2,0,"ng-container",8),r.bc(),r.cc(5,"div",234),r.cc(6,"div",235),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Name,t.Stage.Summary)}),r.cc(7,"div",236),r.gc(8,237),r.bc(),r.cc(9,"div",238),r.dd(10),r.bc(),r.bc(),r.bd(11,ai,10,13,"div",239),r.cc(12,"div",235),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Avatar,t.Stage.Summary)}),r.cc(13,"div",236),r.gc(14,240),r.bc(),r.cc(15,"div",238),r.Xb(16,"cu-project-avatar",241),r.bc(),r.bc(),r.cc(17,"div",235),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Visibility,t.Stage.Summary)}),r.cc(18,"div",236),r.gc(19,242),r.bc(),r.cc(20,"div",238),r.bd(21,oi,4,2,"ng-container",8),r.bd(22,ci,5,9,"ng-container",8),r.bc(),r.bc(),r.bd(23,ni,5,1,"div",243),r.vc(24,"async"),r.cc(25,"div",244),r.vc(26,"async"),r.cc(27,"div",245),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Statuses,t.Stage.Summary)}),r.cc(28,"div",236),r.gc(29,246),r.bc(),r.cc(30,"div",247),r.bd(31,si,1,3,"div",248),r.bc(),r.bc(),r.bd(32,ri,1,1,"div",249),r.vc(33,"async"),r.bc(),r.cc(34,"div",235),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Clickapps,t.Stage.Summary)}),r.cc(35,"div",236),r.gc(36,250),r.bc(),r.cc(37,"div",238),r.bd(38,di,2,1,"ng-container",105),r.bc(),r.bc(),r.cc(39,"div",235),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Views,t.Stage.Summary)}),r.cc(40,"div",236),r.gc(41,251),r.bc(),r.cc(42,"div",247),r.bd(43,pi,3,2,"div",252),r.bc(),r.bc(),r.bc(),r.cc(44,"button",75),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.project.id?t.updateProject():t.createProject()}),r.bd(45,hi,2,2,"ng-container",8),r.bd(46,bi,2,0,"ng-template",null,253,r.cd),r.bd(48,gi,1,0,"cu-loader",8),r.bc(),r.Zb()}if(2&e){const e=r.uc(2);r.Ib(2),r.Dc("ngIf",!e.project.id),r.Ib(1),r.Dc("ngIf",!e.project.id),r.Ib(1),r.Dc("ngIf",e.project.id),r.Ib(6),r.fd(" ",null==e.project?null:e.project.name," "),r.Ib(1),r.Dc("ngIf",e.project.id),r.Ib(5),r.Dc("image",null==e.project?null:e.project.avatar)("color",null==e.project?null:e.project.color)("iconSource",null==e.project?null:e.project.avatar_source)("iconName",null==e.project?null:e.project.avatar_value)("name",null==e.project?null:e.project.name),r.Ib(5),r.Dc("ngIf",!(null!=e.project&&e.project.private)),r.Ib(1),r.Dc("ngIf",null==e.project?null:e.project.private),r.Ib(1),r.Dc("ngIf",e.team.owner_control_private_spaces&&(!e.project.id||e.project.owner.id===r.wc(24,25,e.currentUser$).id)),r.Ib(2),r.Ob("project-modal__overlay-disabled",r.wc(26,27,e.cantManageStatuses$)),r.Ib(6),r.Dc("ngForOf",e.statusList)("ngForTrackBy",e.trackByStatus),r.Ib(1),r.Dc("ngIf",r.wc(33,29,e.cantManageStatuses$)),r.Ib(6),r.Dc("ngForOf",e.allClickapps)("ngForTrackBy",e.trackByFeatureName),r.Ib(5),r.Dc("ngForOf",e.selectedViews)("ngForTrackBy",e.trackByValue),r.Ib(1),r.Dc("disabled",e.isLoading),r.Ib(1),r.Dc("ngIf",!e.saving),r.Ib(3),r.Dc("ngIf",e.saving)}}function _i(e,t){if(1&e){const e=r.dc();r.cc(0,"div"),r.cc(1,"div",25),r.tc(),r.cc(2,"svg",26),r.cc(3,"g",27),r.Xb(4,"circle",28),r.Xb(5,"path",29),r.Xb(6,"path",30),r.Xb(7,"path",31),r.Xb(8,"circle",32),r.Xb(9,"path",33),r.Xb(10,"path",34),r.bc(),r.bc(),r.bc(),r.sc(),r.cc(11,"div",35),r.gc(12,278),r.bc(),r.cc(13,"div",37),r.cc(14,"div",40),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.Stage.Name)}),r.gc(15,279),r.bc(),r.cc(16,"div",38),r.gc(17,280),r.bc(),r.bc(),r.bc()}}function vi(e,t){if(1&e){const e=r.dc();r.cc(0,"div"),r.cc(1,"div",35),r.cc(2,"div",44),r.cc(3,"div",45),r.qc("click",function(){r.Uc(e),r.uc();const t=r.Rc(5);return t.changeStage(t.Stage.Initial)}),r.bc(),r.bc(),r.ac(4),r.gc(5,281),r.Zb(),r.bc(),r.bc()}}function yi(e,t){if(1&e){const e=r.dc();r.cc(0,"div"),r.cc(1,"div",35),r.cc(2,"div",44),r.cc(3,"div",45),r.qc("click",function(){r.Uc(e),r.uc();const t=r.Rc(5);return t.changeStage(t.Stage.Initial)}),r.bc(),r.bc(),r.ac(4),r.gc(5,282),r.Zb(),r.bc(),r.bc()}}function wi(e,t){if(1&e){const e=r.dc();r.cc(0,"div"),r.bd(1,_i,18,0,"div",8),r.bd(2,vi,6,0,"div",8),r.bd(3,yi,6,0,"div",8),r.cc(4,"load-template",276,277),r.qc("onSelectTemplate",function(t){return r.Uc(e),r.uc(2).templateSelected(t)}),r.bc(),r.bc()}if(2&e){const e=r.Rc(5),t=r.uc(2);r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Initial),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.ImportItems),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.DueDates),r.Ib(1),r.Dc("team",t.team)("showStageSelector",!0)}}const ki=function(e){return{"cu-create-project-modal__pagination-item_active":e}};function xi(e,t){if(1&e){const e=r.dc();r.cc(0,"div",283),r.cc(1,"div",284),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Name)}),r.bc(),r.cc(2,"div",284),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Visibility)}),r.bc(),r.cc(3,"div",284),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Statuses)}),r.bc(),r.cc(4,"div",284),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Clickapps)}),r.bc(),r.cc(5,"div",284),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Views)}),r.bc(),r.cc(6,"div",284),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.Stage.Summary)}),r.bc(),r.bc()}if(2&e){const e=r.uc(2);r.Ib(1),r.Dc("ngClass",r.Hc(6,ki,(e.returnToStage||e.currentStage)===e.Stage.Name)),r.Ib(1),r.Dc("ngClass",r.Hc(8,ki,(e.returnToStage||e.currentStage)===e.Stage.Visibility)),r.Ib(1),r.Dc("ngClass",r.Hc(10,ki,(e.returnToStage||e.currentStage)===e.Stage.Statuses)),r.Ib(1),r.Dc("ngClass",r.Hc(12,ki,(e.returnToStage||e.currentStage)===e.Stage.Clickapps)),r.Ib(1),r.Dc("ngClass",r.Hc(14,ki,(e.returnToStage||e.currentStage)===e.Stage.Views)),r.Ib(1),r.Dc("ngClass",r.Hc(16,ki,(e.returnToStage||e.currentStage)===e.Stage.Summary))}}function Ti(e,t){if(1&e){const e=r.dc();r.cc(0,"div",44),r.cc(1,"div",45),r.qc("click",function(){r.Uc(e);const t=r.uc(3);return t.changeStage(t.returnToStage||t.Stage.Name)}),r.bc(),r.bc()}}function Si(e,t){}function ji(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",35),r.bd(2,Ti,2,0,"div",42),r.ac(3),r.gc(4,285),r.Zb(),r.bc(),r.cc(5,"div",286),r.Xb(6,"cu-project-avatar",287),r.cc(7,"cu-avatar-picker",288,289),r.qc("colorChange",function(t){return r.Uc(e),r.uc(2).changeColor(t)})("iconChange",function(t){return r.Uc(e),r.uc(2).changeIcon(t)})("previewUrlChange",function(t){return r.Uc(e),r.uc(2).changeAvatar(t)}),r.bc(),r.bc(),r.cc(9,"button",290),r.qc("click",function(){r.Uc(e);const t=r.uc(2);return t.changeStage(t.returnToStage||t.Stage.Visibility)}),r.bd(10,Si,0,0,"ng-template",24),r.bc(),r.Zb()}if(2&e){const e=r.uc(2),t=r.Rc(1);r.Ib(2),r.Dc("ngIf",!e.project.id||e.editAll),r.Ib(4),r.Dc("image",null==e.project?null:e.project.avatar)("color",null==e.project?null:e.project.color)("iconSource",null==e.project?null:e.project.avatar_source)("iconName",null==e.project?null:e.project.avatar_value)("name",null==e.project?null:e.project.name)("fontIconSize","5x"),r.Ib(1),r.Dc("avatarExists",!(null==e.project||!e.project.avatar))("forDropdown",!1)("allowIcons",!0)("selectedColor",null==e.project?null:e.project.color)("selectedIcon",null==e.project?null:e.project.avatar_value)("name",null==e.project?null:e.project.name)("modifier","cu-create-project-modal__avatar-picker"),r.Ib(3),r.Dc("ngTemplateOutlet",t)}}function Oi(e,t){if(1&e&&(r.ac(0),r.bd(1,Ue,15,13,"ng-container",8),r.bd(2,He,36,19,"ng-container",8),r.bd(3,ht,53,35,"ng-container",8),r.bd(4,Dt,20,11,"ng-container",8),r.bd(5,Lt,31,10,"ng-container",8),r.bd(6,Qt,14,10,"ng-container",8),r.bd(7,fi,49,31,"ng-container",8),r.bd(8,wi,6,5,"div",8),r.bd(9,xi,7,18,"div",14),r.bd(10,ji,11,15,"ng-container",8),r.Zb()),2&e){const e=r.uc();r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Name),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Visibility),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Statuses),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Clickapps),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.ViewSettings),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Views),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Summary),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Template),r.Ib(1),r.Dc("ngIf",e.currentStage!==e.Stage.Template&&!e.project.id),r.Ib(1),r.Dc("ngIf",e.currentStage===e.Stage.Avatar)}}function Ii(e,t){}function Di(e,t){}function Ci(e,t){if(1&e){const e=r.dc();r.cc(0,"div",193),r.cc(1,"div",194),r.ac(2),r.gc(3,299),r.Zb(),r.dd(4,": "),r.bc(),r.cc(5,"div",196),r.cc(6,"label"),r.cc(7,"input",300),r.qc("click",function(){r.Uc(e);const t=r.uc().item,i=r.uc();return i.changeUpdateTemplateViewOption(i.UpdateProjectViews.OnlyNewViews,t.id)}),r.bc(),r.cc(8,"div",198),r.gc(9,301),r.bc(),r.bc(),r.bc(),r.cc(10,"div",196),r.cc(11,"label"),r.cc(12,"input",300),r.qc("click",function(){r.Uc(e);const t=r.uc().item,i=r.uc();return i.changeUpdateTemplateViewOption(i.UpdateProjectViews.RequiredViews,t.id)}),r.bc(),r.cc(13,"div",198),r.gc(14,302),r.bc(),r.bc(),r.bc(),r.bc()}if(2&e){const e=r.uc().item,t=r.uc();r.Ib(7),r.Dc("name","updateViewOption-"+(null==e?null:e.id))("value",!0)("checked",e.updateView===t.UpdateProjectViews.OnlyNewViews),r.Ib(5),r.Dc("name","updateViewOption-"+(null==e?null:e.id))("value",!0)("checked",e.updateView===t.UpdateProjectViews.RequiredViews)}}const Pi=function(e){return{"cu-create-project-modal__view-settings-template-row-left_expanded":e}};function $i(e,t){if(1&e){const e=r.dc();r.cc(0,"div",291),r.cc(1,"div",292),r.qc("click",function(){r.Uc(e);const i=t.item;return r.uc().toggleRow(null==i?null:i.id)}),r.Xb(2,"div",293),r.Xb(3,"div",294),r.cc(4,"div",295),r.dd(5),r.bc(),r.bc(),r.cc(6,"div",296),r.cc(7,"cu-template-list-dropdown",297),r.qc("onRemoveTemplate",function(){r.Uc(e);const i=t.item;return r.uc().removeTemplate(null==i?null:i.id)})("onSelect",function(i){r.Uc(e);const a=t.item;return r.uc().selectTemplate(i,null==a?null:a.id)}),r.bc(),r.bc(),r.bc(),r.bd(8,Ci,15,6,"div",298)}if(2&e){const e=t.item;r.Ib(1),r.Dc("ngClass",r.Hc(9,Pi,null==e?null:e.expanded)),r.Ib(2),r.Dc("icon","cu2-view-"+(null==e?null:e.id)),r.Ib(2),r.fd(" ",null==e?null:e.title," "),r.Ib(2),r.Dc("type","view")("viewType",null==e?null:e.id)("defaultSelected",null==e?null:e.view)("allowCustom",!1)("showDelete",!0),r.Ib(1),r.Dc("ngIf",null==e?null:e.expanded)}}function zi(e,t){1&e&&r.Xb(0,"div",328),2&e&&r.Dc("icon","dropdown-settings_mark")}function Mi(e,t){if(1&e){const e=r.dc();r.cc(0,"div",324),r.qc("click",function(){r.Uc(e);const i=t.$implicit;return r.uc(2).toggleEventItemVisible(null==i?null:i.key)}),r.cc(1,"div",325),r.cc(2,"div",326),r.dd(3),r.bc(),r.bc(),r.bd(4,zi,1,1,"div",327),r.bc()}if(2&e){const e=t.$implicit,i=r.uc(2);r.Ib(2),r.Dc("cuTooltip",null==e?null:e.label)("tooltipDisabledIfTextNotTruncated",!0),r.Ib(1),r.fd(" ",null==e?null:e.label," "),r.Ib(1),r.Dc("ngIf",null==i.calendarSettings?null:i.calendarSettings.showEventItems[null==e?null:e.key])}}function Ei(e,t){if(1&e){const e=r.dc();r.cc(0,"div",303),r.cc(1,"div",304),r.ac(2),r.cc(3,"div",305),r.ac(4),r.gc(5,306),r.Zb(),r.dd(6,": "),r.cc(7,"div",307),r.cc(8,"div",308),r.qc("click",function(){return r.Uc(e),r.uc().toggleUserTimeFormat()}),r.gc(9,309),r.vc(10,"async"),r.bc(),r.cc(11,"div",308),r.qc("click",function(){return r.Uc(e),r.uc().toggleUserTimeFormat()}),r.gc(12,310),r.vc(13,"async"),r.bc(),r.bc(),r.bc(),r.cc(14,"div",311),r.ac(15),r.gc(16,312),r.Zb(),r.cc(17,"div",313),r.cc(18,"cu-toggle-switch",314),r.qc("onChange",function(t){return r.Uc(e),r.uc().updateCalendarSettings({showWeekends:t})}),r.bc(),r.bc(),r.bc(),r.cc(19,"div",311),r.ac(20),r.gc(21,315),r.Zb(),r.cc(22,"div",313),r.cc(23,"cu-toggle-switch",314),r.qc("onChange",function(t){return r.Uc(e),r.uc().updateCalendarSettings({showTimeEvents:t})}),r.bc(),r.bc(),r.bc(),r.cc(24,"div",311),r.ac(25),r.gc(26,316),r.Zb(),r.cc(27,"div",313),r.cc(28,"cu-toggle-switch",314),r.qc("onChange",function(t){return r.Uc(e),r.uc().updateCalendarSettings({fadePastEvents:t})}),r.bc(),r.bc(),r.bc(),r.cc(29,"div",311),r.ac(30),r.gc(31,317),r.Zb(),r.cc(32,"div",313),r.cc(33,"cu-toggle-switch",314),r.qc("onChange",function(t){return r.Uc(e),r.uc().updateCalendarSettings({showWeekNumbers:t})}),r.bc(),r.bc(),r.bc(),r.cc(34,"div",318),r.ac(35),r.gc(36,319),r.Zb(),r.cc(37,"div",313),r.cc(38,"cu-toggle-switch",314),r.qc("onChange",function(t){return r.Uc(e),r.uc().toggleViewDate(t)}),r.bc(),r.bc(),r.bc(),r.cc(39,"div",320),r.gc(40,321),r.bc(),r.cc(41,"div",322),r.bd(42,Mi,5,4,"div",323),r.bc(),r.Zb(),r.bc(),r.bc()}if(2&e){const e=r.uc();let t=null,i=null;r.Ib(8),r.Ob("filter-list__item-tabs-item_active",!(null!=(t=r.wc(10,11,e.currentUser$))&&t.twenty_four_hr_setting)),r.Ib(3),r.Ob("filter-list__item-tabs-item_active",null==(i=r.wc(13,13,e.currentUser$))?null:i.twenty_four_hr_setting),r.Ib(7),r.Dc("checked",e.calendarSettings.showWeekends),r.Ib(5),r.Dc("checked",e.calendarSettings.showTimeEvents),r.Ib(5),r.Dc("checked",e.calendarSettings.fadePastEvents),r.Ib(5),r.Dc("checked",e.calendarSettings.showWeekNumbers),r.Ib(5),r.Dc("checked",!!e.calendarSettings.viewDate),r.Ib(4),r.Dc("ngForOf",e.eventItems)("ngForTrackBy",e.trackByKey)}}function Li(e,t){if(1&e){const e=r.dc();r.cc(0,"div",329),r.cc(1,"cu-paywall-popover",330),r.qc("upgradeClicked",function(){return r.Uc(e),r.uc().checkoutUnlimitedPlan()}),r.bc(),r.bc()}if(2&e){const e=r.uc();r.Ib(1),r.Dc("badge","")("title",e.paywallCommonStringsService.freePlanSpacesLimitationText)("image","./assets/images/components/paywall-popover/personal-view.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToUnlimitedText)("learnMore","https://docs.clickup.com/en/articles/3315031-limits-on-spaces-and-lists")("amplitudeLabel","Unlimited Spaces")}}function Ai(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-template-sharing",331),r.qc("onChangeVisibilityOption",function(t){return r.Uc(e),r.uc().changeVisibilityOption(t)})("onSetMembers",function(t){return r.Uc(e),r.uc().setTemplateMembers(t)})("onRemoveMember",function(t){return r.Uc(e),r.uc().removeMember(t)})("onEmitPublic",function(t){return r.Uc(e),r.uc().emitPublic(t)}),r.vc(1,"async"),r.vc(2,"async"),r.vc(3,"async"),r.bc()}if(2&e){const e=r.uc();let t=null;r.Dc("visibilityOption",e.visibilityOption)("role",null==(t=r.wc(1,10,e.sharedData.compatCurrentTeam$))?null:t.role)("type","space")("templateMembers",e.templateMembers)("members",e.shareMembers)("user",r.wc(2,12,e.sharedData.currentUser))("template",e.selectedTemplate)("isPublic",e.isPublic)("sharingLink",e.sharingLink)("showPublic",r.wc(3,14,e.showTemplatePublicSharing$))}}let Fi=(()=>{class e extends b.c{constructor(e,t,i,a,o,c,n,l,d,u,f,_,v,y,w,k,x,T,S){super(t,i,a,u,o,c,n,l,d,e,f,_,v,y,w,k,x,T),this.paywallCommonStringsService=S,this.currentStage=b.a.Name,this.editAll=!1,this.saveStatuses=!0,this.onCancel=new r.o,this.eventItems=[{key:"assignee",label:$localize`:@@common_assignee:Assignee`},{key:"priority",label:$localize`:@@common_priority:Priority`},{key:"timeEstimate",label:$localize`:@@common_time-estimate:Time Estimate`},{key:"timeTracked",label:$localize`:@@common_time-tracked:Time Tracked`},{key:"location",label:$localize`:@@common_all-locations:Location (Space, Folder & List name)`},{key:"subtasks",label:$localize`:@@common_subtasks:Subtasks`},{key:"parentName",label:$localize`:@@common_parent-name:Parent name`},{key:"tags",label:$localize`:@@common_tags:Tags`}],this.trackByKey=Object(m.d)("key"),this.STATUS_BAG_NAME="cpm-statuses-bag",this.PARENT_STATUS_BAG_NAME="ps-statuses-bag",this.viewOptions=p.Gb.map(e=>({id:e.defaultDataViewAPIPayload.type,title:e.defaultDataViewAPIPayload.name,contentType:e.contentType})).filter(e=>"tasks"===e.contentType),this.tab=0,this.currentTeamMembers=[],this.potentialOwners=[],this.templates=[{id:"custom",name:"Custom",statuses:s.d}],this.Stage=b.a,this.selectAllClickapps=!1,this.showTemplatePublicSharing$=this.store.pipe(Object(g.select)(h.getShowTemplatePublicSharing)),this.makeDefaultText=$localize`:@@cu-create-project-modal__make-default:Make Default`}get toggleAllClickAppsText(){return this.selectAllClickapps?$localize`:@@cu-create-project-modal__toggle-all-clickapps_off:Turn off all ClickApps`:$localize`:@@cu-create-project-modal__toggle-all-clickapps_on:Turn on all ClickApps`}get showWIPPaywall(){return!this.featuresService.apps.find(e=>"wip_limits"===e.featureName).paywallPlanIds.includes(this.team.plan_id)}ngOnInit(){this.store.dispatch(new o.sb),this.effects.register(this.team$,e=>{this.currentTeamMembers=(e.members||[]).filter(e=>e.role!==d.f.GUEST),this.shareMembers=(e.members||[]).map(e=>e.user),this.currentTeamMembers&&this.currentTeamMembers.length>0&&(this.currentTeamMembers.sort((e,t)=>{const i="string"==typeof e.user.username?e.user.username:"string"==typeof e.user.displayName&&e.user.displayName,a="string"==typeof t.user.username?t.user.username:"string"==typeof t.user.displayName&&t.user.displayName;if(a&&i)return i.toLocaleLowerCase()<a.toLocaleLowerCase()?-1:1}),this.potentialOwners=this.currentTeamMembers.filter(e=>!e.invite))}),this.editAll&&(this.project=Object(u.a)(this.project)),this.initEditProject(),this.populatePresetStatuses(null),this.enterprisePermissions$.pipe(Object(l.a)(1)).subscribe(e=>{e&&!e.manage_statuses||this.dataService.getTeamStatusTemplates(this.sharedData.compatCurrentTeam.id).subscribe(e=>{this.addTemplates(e.templates,!1)})}),this.initDragula(),this.initStoreListener(),this.editAll&&(this.currentStage=b.a.Summary),this.viewType&&this.goToViewSettings(this.viewType,!0)}ngAfterViewInit(){this.focusInput()}ngOnDestroy(){super.ngOnDestroy(),[this.STATUS_BAG_NAME,this.PARENT_STATUS_BAG_NAME].forEach(e=>{this.dragula.find(e)&&this.dragula.destroy(e)})}manageStatuses(e){this.newTag=super.manageStatuses(e),this.isNewStatus=!0}createProject(){super.createProject(!0)}preventToggle(e){e.stopPropagation()}changeStage(e,t,i){if(this.currentStage===b.a.Name&&e!==b.a.Template){if(this.validate(),this.validateErrors.projectExists||this.validateErrors.projectName)return;this.validateErrors.customStatus=!1}if(this.currentStage!==b.a.Visibility||!this.project.private||0!==this.members.length){if(this.currentStage===b.a.Statuses){if(this.validate(),this.validateErrors.customStatus&&(e===b.a.Clickapps||e===b.a.Summary))return;this.validateErrors.statusTakenError=!1}!this.project.id||this.editAll||this.currentStage===b.a.ViewSettings&&(this.currentStage!==b.a.ViewSettings||t)||this.currentStage===b.a.Views&&e===b.a.ViewSettings||e===b.a.ViewSettings?(this.currentStage=e,this.returnToStage=t,this.changeDetector.detectChanges(),this.focusInput()):this.updateProject(this.saveStatuses),e===b.a.Clickapps&&this.setSelectAllToggle(),i&&this.modalService.close()}}changeUpdateViewOption(e){this.viewSettingsUpdate=e,this.viewSettingType===n.i.List?this.listSettingsUpdate=this.viewSettingsUpdate:this.viewSettingType===n.i.Board?this.boardSettingsUpdate=this.viewSettingsUpdate:this.viewSettingType===n.i.Calendar?this.calendarSettingsUpdate=this.viewSettingsUpdate:this.viewSettingType===n.i.Gantt?this.ganttSettingsUpdate=this.viewSettingsUpdate:this.viewSettingType===n.i.Box&&(this.boxSettingsUpdate=this.viewSettingsUpdate),this.changeDetector.detectChanges()}goToViewSettings(e,t=!1){this.viewSettingType=e,e===n.i.List?(this.viewSettings=[...this.listSettings],this.viewSettingsUpdate=this.listSettingsUpdate):e===n.i.Board?(this.viewSettings=[...this.boardSettings],this.viewSettingsUpdate=this.boardSettingsUpdate):e===n.i.Calendar?this.viewSettingsUpdate=this.calendarSettingsUpdate:e===n.i.Gantt?(this.viewSettings=[...this.ganttSettings],this.viewSettingsUpdate=this.ganttSettingsUpdate):e===n.i.Box&&(this.viewSettings=[...this.boxSettings],this.viewSettingsUpdate=this.boxSettingsUpdate),this.changeStage(b.a.ViewSettings,t?null:b.a.Views)}updateCalendarSettings(e){this.calendarSettings=Object.assign(Object.assign({},this.calendarSettings),e),this.changeDetector.detectChanges()}toggleUserTimeFormat(){this.store.select(h.getUser).pipe(Object(l.a)(1)).subscribe(e=>{this.sharedData.currentUser.value.twenty_four_hr_setting=!e.twenty_four_hr_setting,this.store.dispatch(new o.om({twenty_four_hr_setting:!e.twenty_four_hr_setting}))})}toggleViewDate(e){const t=c().toDate();this.updateCalendarSettings(e?{viewDate:t.toISOString()}:{viewDate:null})}toggleEventItemVisible(e){this.calendarSettings=Object.assign(Object.assign({},this.calendarSettings),{showEventItems:Object.assign(Object.assign({},this.calendarSettings.showEventItems),{[e]:!this.calendarSettings.showEventItems[e]})}),this.changeDetector.detectChanges()}checkItem(e){this.viewSettings=this.updateSettings(this.viewSettings,e),this.viewSettingType===n.i.List?this.listSettings=[...this.viewSettings]:this.viewSettingType===n.i.Board?this.boardSettings=[...this.viewSettings]:this.viewSettingType===n.i.Gantt?this.ganttSettings=[...this.viewSettings]:this.viewSettingType===n.i.Box&&(this.boxSettings=[...this.viewSettings]),this.changeDetector.detectChanges()}updateSettings(e,t){const i=e.findIndex(e=>e.id===t.id);if(-1!==i){const t=Object.assign(Object.assign({},e[i]),{checked:!e[i].checked});e=[...e.slice(0,i),t,...e.slice(i+1)]}return e}openUserList(){setTimeout(()=>this.userList.open(),0)}setViewSettingsTab(e){this.viewSettingsTab=e,this.changeDetector.detectChanges()}selectTemplate(e,t){this.templateViewOptions=this.templateViewOptions.map(i=>i.id===t?Object.assign(Object.assign({},i),{view:e.value,expanded:!0}):Object.assign({},i)),this.changeDetector.detectChanges()}removeTemplate(e){this.templateViewOptions=this.templateViewOptions.map(t=>t.id===e?Object.assign(Object.assign({},t),{view:null,expanded:!1}):Object.assign({},t)),this.changeDetector.detectChanges()}toggleRow(e){this.templateViewOptions=this.templateViewOptions.map(t=>t.id===e?Object.assign(Object.assign({},t),{expanded:!t.expanded}):Object.assign({},t)),this.changeDetector.detectChanges()}changeUpdateTemplateViewOption(e,t){this.templateViewOptions=this.templateViewOptions.map(i=>i.id===t?Object.assign(Object.assign({},i),{updateView:e}):Object.assign({},i)),this.changeDetector.detectChanges()}checkoutUnlimitedPlan(){this.store.dispatch(new a.B({plan:"professional"}))}toggleAllClickApps(e){this.selectAllClickapps=!this.selectAllClickapps,this.project.multiple_assignees=e;for(const t in this.features)if(this.features.hasOwnProperty(t)){const i=this.featuresService.apps.find(e=>e.featureName===t);if(i&&i.paywallPlanIds&&!i.paywallPlanIds.includes(this.team.plan_id))break;null!=this.features[t].enabled&&"time_tracking_rollup"!==t&&"time_estimates_rollup"!==t&&"multiple_assignees"!==t&&(this.features[t].enabled=e),"time_tracking"!==t&&"time_estimates"!==t||(this.features[t].rollup=e),null!=this.features[t].remap_due_dates&&(this.features[t].remap_due_dates=e)}this.saveNeeded=this.checkIfSaveNeeded()}setSelectAllToggle(){for(const e in this.features)if(this.features.hasOwnProperty(e)&&!0===this.features[e].enabled&&"due_dates"!==e)return void(this.selectAllClickapps=!0)}openTemplateCenter(){this.store.dispatch(new o.Oe({open:!0,parent:this.team,parentType:f.d.Team,initialType:f.d.Space}))}focusInput(){this.projectInput&&this.projectInput.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(v.a),r.Wb(y.a),r.Wb(w.c),r.Wb(k.a),r.Wb(x.a),r.Wb(x.h),r.Wb(T.a),r.Wb(r.m),r.Wb(r.H),r.Wb(S.a),r.Wb(j.a),r.Wb(O.b),r.Wb(r.h),r.Wb(g.Store),r.Wb(r.t),r.Wb(I.a),r.Wb(D.a),r.Wb(_.b),r.Wb(C.a))},e.\u0275cmp=r.Qb({type:e,selectors:[["cu-create-project-modal"]],viewQuery:function(e,t){if(1&e&&(r.jd(we,1),r.jd(ke,1)),2&e){let e;r.Qc(e=r.rc())&&(t.projectInput=e.first),r.Qc(e=r.rc())&&(t.userList=e.first)}},hostAttrs:[1,"cu-create-project-modal"],inputs:{team:"team",index:"index",currentStage:"currentStage",editAll:"editAll",saveStatuses:"saveStatuses"},outputs:{onCancel:"onCancel"},features:[r.Hb([_.b]),r.Fb],decls:16,vars:4,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w,k,x,T,S,j,O,I,D,C,P,$,z,M,E,L,A,F,U,N,R,G,q,B,W,V,X,H,Y,Z,Q,K,J,ee,te,ie,ae,oe,ce,ne,se,re,le,de,ue,pe,me,he,be,ge,fe,_e,ve,ye,we,ke,xe,Te,Se,je,Oe,Ie,De,Ce,Pe,$e,ze,Me,Ee,Le,Ae,Fe,Ue,Ne,Re,Ge,qe;return e=$localize`:@@common_review-changes␟b98a3c3b7b458dbe5f3ac66022046c5cc40ac818␟163701335564941353:Review changes`,t=$localize`:@@common_save␟52c9a103b812f258bcddc3d90a6e3f46871d25fe␟3768927257183755959:Save`,i=$localize`:@@common_review-space␟5e4a5d0a9531080140c9267afe3fde19c5f39959␟2614541046402351531:Review Space`,a=$localize`:@@common_next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`,o=$localize`:@@cu-create-project-modal__form-label_space-name␟fc23f2164bc3d9c204d06f67d72a6881dbc222dc␟8050313831574246253: Space name `,c=$localize`:@@cu-create-project-modal__form-placeholder_space-name␟8c56c728cb2ad76bc76be296240132ba863be908␟1441927747516059320:Enter Space na﻿me`,n=$localize`:@@common_create-new-space␟4960d00e08a7ad23f3c0336a53dd96a1dd2b3a26␟2274562419402121059: Create new Space `,s=$localize`:@@common_new␟176875f85afe8cccedb1e9a4e7a64a60c957e75a␟5396953936388945506: New `,r=$localize`:@@common_templates␟28848f392107a49da92877e36547c8b5fd74d388␟4130302206370526358: Templates `,l=$localize`:@@cu-create-project-modal__title_edit-space-name␟ef0cc860144e15449a2432a9919774ae13c9ff88␟927865286503305902:Edit Space name`,d=$localize`:@@cu-create-project-modal__form-error_space-name-existing␟14a98f087d3d1e38a4f452bd22074afd31defa4f␟4685720560968766679: Space name already exists! `,u=$localize`:@@cu-create-project-modal__form-error_space-name-required␟61a9c08c2bb66e0f33a10e18f286b774d5c2dc8c␟626295163456745850: Space name is required! `,p=$localize`:@@cu-create-project-modal__form-error_space-name-too-long␟c20ccf06a8445b8371ac359a7c8335e3872003ab␟3875585242044189895: Space name is too long! `,m=$localize`:@@cu-create-project-modal__title_space-privacy␟fc5200b9e6ca5cd0a66f00f1653f6c4eefa954bb␟4853291838237378068:Who is this Space for?`,h=$localize`:@@cu-create-project-modal__switch-privacy-title_workspace-name␟9dfbdd1618f910d40d57ba46c2e50d4cdfd6515c␟308582192689424773: ${"\ufffd0\ufffd"}:INTERPOLATION: Workspace `,b=$localize`:@@cu-create-project-modal__add-users-tip␟c0890d568c52dec0d0f8f6825a2d1352f87844ea␟7370870632487943792: Spaces can be shared with members. You can add guests to Folders, Lists, and tasks after creating a Space. `,g=$localize`:@@common_shared-only-with␟4ca3bdf54b13252aed1222b6758fbc9529e5c7df␟2396654771224797199:Share only with`,f=$localize`:@@common_add-member␟a37b33f786b5399a0cc5d7cf99969844fcd440df␟718742434092230008:Add member`,_=$localize`:@@cu-create-project-modal__add-users_add-more␟ebe65a41724ad51af48c79d5f6cfd4d0776e8cbc␟8505645007718940237: Add people `,v=$localize`:@@cu-create-project-modal__form-error_private-space-min-number-of-members␟1e028b00000bc1fe1c7fab633bca9bbd6fdb5e5d␟3552528558916267105: At least one member is required for a private space! `,y=$localize`:@@cu-create-project-modal__form-error_remove-self-warning␟a10153c5acb124da9abf2166c054b5fbe0898d02␟4508648486226487776: You removed yourself from the Space so you will lose access when you save changes `,w=$localize`:@@cu-create-project-modal__allow-admins-to-manage-space␟10de268a38b4a1ba8036320209bb212122ef6195␟1849468201930369907:Allow admins to manage this Space`,k=$localize`:@@questions_task-statuses␟50baf6f1c07b800c8f6e8819b654fff2051ca2a7␟238878620067951241:What task statuses do you want?`,x=$localize`:@@common_learn-more␟e2dcf27db9c6a5e249960c576014aa40b3883360␟819996403327805209:Learn more`,T=$localize`:@@common_templates␟0ff736fd2d2de1e6c6a94919e2d172d3850674cd␟5433675495457939071:Templates`,S=$localize`:@@common_save-as-template␟452b26d67866b35238a7dd32b152413afa8fb956␟526985193195003374:Save as Template`,j=$localize`:@@common_active-statuses␟e64864762d34b6ff794b2f9f84359f5839561828␟5266291793530375150:Active statuses`,O=$localize`:@@cu-create-project-modal__tooltip-msg_statuses-caption-question-active-statuses␟ab04a5913d47b63e4d303cffc884f38c7a258165␟2652876778398190854:Active statuses are for tasks have not been completed yet.`,I=$localize`:@@forms_placeholder--enter-a-status␟5fea00932c23f74cd2638e94aac91a78f26741b1␟6857434238115504926:Enter a status`,D=$localize`:@@common_done-statuses␟9700fb125460306b42df872d0bec6a4829f74b6f␟6595483802131878038:Done statuses`,C=$localize`:@@help_tooltip-msg--done-tasks-not-overdue␟be7ba61a87a4ec3f0d970a51a30db570675d8ea0␟7672452092809471655:Done tasks are not considered overdue and will unblock any Dependencies waiting on them.`,P=$localize`:@@common_closed-status␟2cc1187e7b1a7a1e8cb6d533ae2e768f716aad00␟3877294529163471991:Closed status`,$=$localize`:@@cu-create-project-modal__statuses-caption-question_closed-status-tooltip-msg␟b9ec1b042b0001f61839ef7b7614c84c88520fe3␟1603490477325736077:Closed tasks are done and will be hidden from view by default. This is the last stage of tasks.`,z=$localize`:@@common_new-template␟2312e733e6c525dd91d2ea4acc98ad7cc4263bba␟8232570424521227292:New template`,M=$localize`:@@common_template-name-1␟e7f16e86dea2ddffeef98f8c437e677200e17d22␟6402242272665885810:Template Na﻿me`,E=$localize`:@@common_not-started-statuses␟1a0ed388b162f6f9c1232addbccb9d5b53e5b13f␟4163899823489518447:Not Started statuses`,L=$localize`:@@cu-create-project-modal__statuses-caption-question_tooltip-msg␟d376117cad2c3de7dd4dcae717a1f5d3cceb97c5␟8236629987019941707:Not started statuses are for tasks that aren't being worked on yet. This is taken into account for cycle time.`,A=$localize`:@@common_move-statuses-not-started␟74bc39efd15642b4b9008a33e57070474f437664␟360989899551376155:Move statuses here to consider tasks Not Started.`,F=$localize`:@@common_learn-more␟8348316da432ee3c01d3df27272b6006f1104cf3␟5691513490987710640: Learn more `,U=$localize`:@@common_move-statuses-done␟c0f4a7efdd06fce48e8f7829c89771d2a1f4eecc␟7851753151094385128:Move statuses here to consider tasks Done.`,N=$localize`:@@common_learn-more␟fb2bdd519e2aa875a92e61c33ea85d5c924ffac9␟6405760143733862244: Learn more `,R=$localize`:@@errors_form-field--missing-custom-status␟945fea3e4e90455e560b5fb4a735876115c8e69e␟621794333139851592: Oops! Add custom status or switch to simple statuses. `,G=$localize`:@@errors_form-field--status-name-length␟a9ebb813b6c58ecfcde332dfc5db4e9f1fee29bc␟5459247271845423781: Whoops! Status name is too long. `,q=$localize`:@@errors_form-field--status-name-taken␟da61944df5a3d462088860f7265301ade9fb0bb8␟4023192968197001747: Whoops! Status name is already taken `,B=$localize`:@@cu-create-project-modal__enable-clickapps␟e4237cbbe5f5d4737073253c1c807de379cece84␟6506939078366391839:Enable ClickApps`,W=$localize`:@@common_default-settings␟0b5dbc4b1b9f69ef04fe1461f4469fc22f647416␟8401413744024370822: Default Settings `,V=$localize`:@@common_learn-more␟e2dcf27db9c6a5e249960c576014aa40b3883360␟819996403327805209:Learn more`,X=$localize`:@@common_plans--business␟e45bb24e9faf557d26abd6822d6a6da37e3ff171␟4607581465689784056:Business`,H=$localize`:@@paywall_upgrade-button-txt--upgrade-to-business␟e7a6fa35e2b9dfc4422b056ce3b1d60c5a5a13c6␟1249386464832739026:Upgrade to Business`,Y=$localize`:@@common_show-less␟5403a767248e304199592271bba3366d2ca3f903␟3517550046701184661:Show less`,Z=$localize`:@@common_show-more␟f0c5f6f270e70cbe063b5368fcf48f9afc1abd9b␟7215101881367554791:Show more`,Q=$localize`:@@cu-create-project-modal__title_default-view-settings␟89137ab65baf2d23c0d78cb56889c8316399f1f3␟1592150209748652356:Default view settings`,K=$localize`:@@cu-create-project-modal__description_default-view-settings␟fa23edbd8109e86c6be2f9e5ed32224634b1d3e3␟3825327892014086021: You can set default settings for views in this Space. When new views are created, they'll also inherit these default settings. `,J=$localize`:@@cu-create-project-modal__form-label_adjust-settings␟43480881b4808a4acd823c7bc6c48b947fdef06d␟6377230896217808499:Adjust settings for`,ee=$localize`:@@cu-create-project-modal__form-label_new-views-only␟5119d4ab347822ffa71c73472ea9a68e6c4d0c0c␟5140960491571940531: New views only `,te=$localize`:@@cu-create-project-modal__form-label_required-views␟6132a9310fac08afd6f47a1d39fc1ae3e48630f8␟1585053861231986926: Required views (and new views created) `,ie=$localize`:@@cu-create-project-modal__form-label_all-existing-views␟320997ff97d330334eab08afa202acdbba4ce899␟2466973329353275239: All existing views (and new views created) `,ae=$localize`:@@cu-create-project-modal__title_default-settings-views␟77f84571e11faa1fde871acf12e9a5b96f67a31e␟1270491136427544131:Default settings for views`,oe=$localize`:@@common_required-views␟219c529ed7efc364a3049c04ae9db66f32b5b35d␟9063895793474049325: Required Views `,ce=$localize`:@@cu-create-project-modal__view-settings-header-item_default-view-templates␟cdb614e3636a1e4e14773dddf53a93d3c96e1c2d␟474037310016447467: Default View Templates `,ne=$localize`:@@cu-create-project-modal__description_default-view-templates␟eab15d26473f9210377ec5da358d7851e0c9b4c0␟7333292443932640385: Do you want to use a similar layout for all of your views? Choose a template for your views to use automatically. `,se=$localize`:@@cu-create-project-modal__description_required-views␟ce36217fa80fe46e8bfdfd1cc2d05ba760a0286d␟3080214240080736963: When navigating to Spaces, Folders, and Lists in ClickUp, you can set which view(s) are automatically created and required, without having to create them manually. These views cannot be deleted. `,re=$localize`:@@cu-create-project-modal__view-item-always␟2b534c48f9ca06db9d854a82a8fd84086940c6cc␟2815598787503341398: ALWAYS REQUIRED `,le=$localize`:@@cu-create-project-modal__make-default-text␟190f3f2dc8b4e46d3d3e45fa50454cf19f05bcd4␟3139664600316954155:Default View`,de=$localize`:@@cu-create-project-modal__form-label_space-name␟2148cc48989c0e8347a8a532d901adfa2da67dc9␟654982449174518645: Space name `,ue=$localize`:@@cu-create-project-modal__summary-label_avatar␟12eb97dc158b259ac040feafaf72d93db1b8c7c4␟3241592317949874067: Avatar `,pe=$localize`:@@common_shared-with␟13a547bc4df926c79c74620f11bf5769661bed3e␟6230961929495521629: Shared with `,me=$localize`:@@common_task-statuses␟b9906dbb5c2786d112249b48e822224916ab73d1␟731924715683400784: Task statuses `,he=$localize`:@@common_clickapps␟d986d44c63450c94ce7106d12bb3656df0890a45␟8630083840289177963: ClickApps `,be=$localize`:@@cu-create-project-modal__title_default-settings-views␟243d313ad034ff2751a71d24484d60783ef09f5f␟1787443331113251143: Default settings for views `,ge=$localize`:@@common_all-good␟9154475bcc859cf0c3205a5a55b6e29650684210␟6970738674925673490:All good?`,fe=$localize`:@@common_owner␟f213e56fdf79cd7b9d6694679625b42279021c5a␟8943320932344865080: Owner `,_e=$localize`:@@cu-create-project-modal__switch-privacy-title_workspace-name␟8b66de5e7b6b5b308a3a0a567a641bcadaaa48ba␟4172885247837994851: ${"\ufffd0\ufffd"}:INTERPOLATION: Workspace `,ve=$localize`:@@common_users␟1ccc219d59c610b120252e028c2ca87c3fba13df␟9199128597952834221: Users `,ye=$localize`:@@cu-create-project-modal__allow-admins-to-manage-space␟67d151582484b1c815a80745e9ae1a35be66d992␟1538030913476806536: Allow admins to manage this Space `,we=$localize`:@@common_save-changes␟afa960379d26eb20fd22e6e10537c1c5ec74c5d1␟4319441956121197474:Save Changes`,ke=$localize`:@@cu-create-project-modal__create-space␟0881de43f402cc2358779a291e1acb6e48e0d20e␟3524212841110728296:Create Space`,xe=$localize`:@@common_create-new-space␟4960d00e08a7ad23f3c0336a53dd96a1dd2b3a26␟2274562419402121059: Create new Space `,Te=$localize`:@@common_new␟176875f85afe8cccedb1e9a4e7a64a60c957e75a␟5396953936388945506: New `,Se=$localize`:@@common_templates␟28848f392107a49da92877e36547c8b5fd74d388␟4130302206370526358: Templates `,je=$localize`:@@common_what-to-import␟499c6594928e4ce1b165570892d5078a0ca607ee␟8305368309693342189:What do you want to import?`,Oe=$localize`:@@common_import-due-dates␟fbee21d0f3f4071fcc9f45f9da2f9a139ff78961␟2085724271642413887:Import due dates`,Ie=$localize`:@@cu-create-project-modal__title_space-color-avatar␟9b4a39266cc1ddbf91f0f438522a3773c651a368␟5915381886632618723:Space color or avatar`,De=$localize`:@@cu-create-project-modal__form-label_adjust-template-to␟1f92c98e44599ac2b803ec4d765505949424693d␟8034784687895173013:Adjust template to`,Ce=$localize`:@@cu-create-project-modal__form-label_new-views-only␟685390180aca5c467005924b2f680293d8cd0ab8␟7189044074737918979: New views only `,Pe=$localize`:@@cu-create-project-modal__form-label_required-views␟194be1491f21215ede12964455c873ec526a9a27␟9126324574124433890: Required views (and new views created) `,$e=$localize`:@@common_time-format␟0f410de7a402831ef90c5a9621296eae767afe95␟6032103762513704849:Time format`,ze=$localize`:@@common_dt-format--ante-post-meridiem␟d19562c2c73d5f7792d90d5c92213806a072cb49␟1243006914793729514: am/pm `,Me=$localize`:@@common_dt-format--24-hours␟456dcebbc86d29a3a03ad4441be61bccb5f3b916␟2633287441692856988: 24 hour `,Ee=$localize`:@@common_show-weekends␟fe45bff29aea9418a8e2657c52770c3366bfc9f7␟4199575017161061325:Show weekends`,Le=$localize`:@@common_show-hours␟1b7043e9a914e1d593427c9b6e072e6c57a39600␟8260731788136561326:Show hours`,Ae=$localize`:@@common_fade-out-past-tasks␟dccb7873b805386fbb6247e6dce220fd033e3ec8␟3937772717201086164:Fade out tasks in the past`,Fe=$localize`:@@common_show-week-numbers␟0bc593e031bf6d555abc66a6e64ecd4b87b2756e␟3136854792836252420:Show week numbers`,Ue=$localize`:@@help_tooltip-msg--always-stay-on-date-helper␟919cf00eb65ec95a98d67376d3381991073a3b17␟5788236842225130066:With this turned on, the date you scroll to will always be preserved in a saved view, instead of automatically scrolling to today's date.`,Ne=$localize`:@@common_always-stay-on-date␟4eb32cc912636aded634fd3008125d9d65681e1c␟8949344960954000244:Always stay on this date`,Re=$localize`:@@cu-create-project-modal__columns-list-header_show-items␟dfb6616fdd77c425106c1bbf1495afce611a7a89␟3661998884902880605: Show items `,Ge=$localize`:@@paywall_text--unlimited-spaces␟5b9b9474e4ff71a8464fe758d6163bdcf480a460␟7286715062472759007:Upgrade to get unlimited Spaces, storage, and custom fields`,qe=$localize`:@@paywall_email-subject--unlimited-spaces␟d0e69bd70e57401bc4e06cefa1302141c5648824␟5048868255729084754:Please upgrade ClickUp so we can have unlimited spaces`,[["btnText",""],[4,"ngIf","ngIfElse"],["confirmStatusTemplateDelete",""],["conflictManagement",""],["templateRow",""],["calendarSettingsTemplate",""],["paywallLimitedSpaces",""],["sharingTemplate",""],[4,"ngIf"],e,t,["notComplete",""],i,a,["class","cu-create-project-modal__pagination",4,"ngIf"],["class","cu-create-project-modal__title",4,"ngIf"],[1,"cu-form__row","cu-create-project-modal__body",3,"ngClass"],[1,"cu-form__label"],o,[1,"cu-form__field"],["maxlength","32","data-test","create-space-name-input","required","","type","text","placeholder",c,1,"cu-form__input",3,"ngModel","ngModelOptions","change","keyup.Enter"],["projectInput","","projectInputModel","ngModel"],["class","cu-form__error",4,"ngIf"],["data-test","create-space-next-step-btn",1,"cu-btn","cu-btn_m","cu-create-project-modal__next",3,"disabled","click"],[3,"ngTemplateOutlet"],[1,"cu-create-project-modal__illustration"],["width","123","height","97","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["fill","#7B67EE","cx","61.5","cy","56.5","r","39.5"],["d","M54.57 17.6A39.5 39.5 0 0 0 88.44 85.4 39.5 39.5 0 1 1 54.56 17.6z","fill","#6C5AD4"],["d","M22.25 49.42a39.89 39.89 0 0 0-.54 10.1c-2.55 2.88-3.67 5.68-3.01 8.16 2.2 8.19 23.14 9.7 46.77 3.36 23.64-6.34 41.02-18.11 38.83-26.3-.73-2.74-3.57-4.73-7.9-5.93a39.65 39.65 0 0 0-5.3-7.98c17.32-.7 29.74 2.67 31.64 9.76 3.04 11.32-21.92 27.84-55.75 36.9C33.17 86.57 3.3 84.74.26 73.42c-1.88-7 6.96-16 21.99-24z","fill","#C1B6FF","opacity",".4"],["d","M22 50.97a39.7 39.7 0 0 0-.2 1.54C12.4 58.61 7.24 65.1 8.66 70.37c2.7 10.11 28.57 11.97 57.76 4.15 29.19-7.82 50.65-22.36 47.94-32.47-1.46-5.45-9.64-8.5-21.45-8.94-.26-.36-.54-.72-.82-1.08 15.21-.26 25.97 2.95 27.68 9.36 2.89 10.77-20.86 26.49-53.03 35.11-32.18 8.62-60.6 6.88-63.5-3.89C1.55 66.3 9.04 58.26 22 50.97zm-.32 3.13c-.05.72-.07 1.45-.08 2.18-5.35 4.38-8.05 8.78-7.05 12.5 2.4 9 25.38 10.64 51.3 3.7 25.94-6.95 45.01-19.87 42.6-28.85-1.05-3.94-6.05-6.47-13.52-7.48-.36-.6-.74-1.2-1.13-1.77 9.9.72 16.67 3.57 17.95 8.36 2.58 9.62-17.83 23.44-45.58 30.88-27.76 7.44-52.35 5.67-54.92-3.95-1.24-4.6 2.81-10.19 10.43-15.57z","fill","#C1B6FF","opacity",".4"],["fill","#B4A7FF","cx","34.5","cy","29.5","r","12.5"],["d","M29.45 18.06a12.5 12.5 0 0 0 15.1 18.88 12.5 12.5 0 1 1-15.1-18.88z","fill","#9A8CED"],["d","M104.72 6.72l1.84-5.24a1 1 0 0 1 1.88 0l1.84 5.24 5.24 1.84a1 1 0 0 1 0 1.88l-5.24 1.84-1.84 5.24a1 1 0 0 1-1.88 0l-1.84-5.24-5.24-1.84a1 1 0 0 1 0-1.88l5.24-1.84zM75.93 4.93l.63-1.8a1 1 0 0 1 1.88 0l.63 1.8 1.8.63a1 1 0 0 1 0 1.88l-1.8.63-.63 1.8a1 1 0 0 1-1.88 0l-.63-1.8-1.8-.63a1 1 0 0 1 0-1.88l1.8-.63zM17.78 92.78l.28-.8a1 1 0 0 1 1.88 0l.28.8.8.28a1 1 0 0 1 0 1.88l-.8.28-.28.8a1 1 0 0 1-1.88 0l-.28-.8-.8-.28a1 1 0 0 1 0-1.88l.8-.28z","fill","#E6E2FF"],[1,"cu-create-project-modal__title"],n,[1,"cu-create-project-modal__tabs"],[1,"cu-create-project-modal__tabs-item","cu-create-project-modal__tabs-item_active"],s,[1,"cu-create-project-modal__tabs-item",3,"click"],r,["class","cu-create-project-modal__title-back",4,"ngIf"],l,[1,"cu-create-project-modal__title-back"],["icon","arrow-back",1,"cu-create-project-modal__title-back-icon",3,"click"],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],d,u,p,m,[1,"cu-create-project-modal__switch-privacy"],[1,"cu-create-project-modal__switch-privacy-item",3,"ngClass"],["type","radio",1,"cu-create-project-modal__switch-privacy-radio",3,"checked","change"],[1,"cu-create-project-modal__switch-privacy-icon"],["width","66","height","60","xmlns","http://www.w3.org/2000/svg"],["transform","translate(1 1)","stroke-width","2","fill","none","fill-rule","evenodd",1,"cu-stroke"],["cx","32","cy","24","r","12"],["d","M44 24a12 12 0 1 0-12-12M32 12a12 12 0 1 0-12 12M52 58.22C52 45.95 43.05 36 32 36s-20 9.95-20 22.22M64 46.22C64 33.95 55.05 24 44 24M20 24C8.95 24 0 33.95 0 46.22"],[1,"cu-create-project-modal__switch-privacy-title"],h,["width","62","height","63","xmlns","http://www.w3.org/2000/svg"],["d","M5 23h52a4 4 0 0 1 4 4v31a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V27a4 4 0 0 1 4-4z","stroke-width","2",1,"cu-stroke"],["transform","translate(26 35)"],["x","4","y","10","width","2","height","6","rx","1",1,"cu-fill"],["stroke-width","2","cx","5","cy","5","r","5",1,"cu-stroke"],["d","M15 23v-6a16 16 0 1 1 32 0v6","stroke-width","2",1,"cu-stroke"],["class","cu-create-project-modal__add-users",4,"ngIf"],["class","cu-form__error cu-create-project-modal__error",4,"ngIf"],["class","cu-form__error cu-create-project-modal__error cu-create-project-modal__error_warning",4,"ngIf"],[1,"cu-create-project-modal__admin-can-manage"],[3,"checked","onChange",4,"ngIf"],["cuAutoFocus","",1,"cu-btn","cu-btn_m","cu-create-project-modal__next",3,"disabled","click"],[1,"cu-create-project-modal__add-users"],[1,"cu-create-project-modal__add-users-tip"],b,[1,"cu-create-project-modal__add-users-label"],g,[3,"users","multiChoice","modifier","selectedUsers","showReassign","enableFirstSelection","immutableUser","onChange"],["userList",""],["userAddTooltip",f,3,"users","showUserRemover","assignIcon","multiChoice","modifier","avatarSize","showDropdown","immutableUser","onUserRemove"],[1,"cu-create-project-modal__add-users-link",3,"click"],_,[1,"cu-form__error","cu-create-project-modal__error"],v,[1,"cu-form__error","cu-create-project-modal__error","cu-create-project-modal__error_warning"],[1,"cu-form__warning-text"],y,[3,"checked","onChange"],w,k,[1,"cu-create-project-modal__more"],["href","https://docs.clickup.com/en/articles/831184-statuses","target","_blank",1,"cu-create-project-modal__more-link"],x,[1,"cu-create-project-modal__statuses"],[1,"cu-create-project-modal__statuses-column"],[1,"cu-create-project-modal__statuses-templates"],[1,"cu-create-project-modal__statuses-templates-title"],T,["cuTooltip",S,1,"cu-create-project-modal__statuses-templates-plus",3,"click"],["icon","plus-rounded"],[1,"cu-create-project-modal__statuses-custom-container",3,"perfectScrollbar"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-create-project-modal__statuses-new-template",3,"click",4,"ngIf"],["class","cu-create-project-modal__statuses-add-template",4,"ngIf"],[1,"cu-create-project-modal__statuses-column","cu-create-project-modal__statuses-column_right"],[1,"cu-create-project-modal__statuses-caption"],j,["icon","question","cuTooltip",O,"tooltipLifeTime","15000",1,"cu-create-project-modal__statuses-caption-question"],[1,"cu-create-project-modal__statuses-container","cu-create-project-modal__statuses-container_custom",3,"dragula","dragulaModel","dragulaModelChange"],[3,"status","last","canDelete","PRESET_COLORS","i","c","errorIndex","isNewStatus","modifier","confirmRemoveStatus","handleStatusChange","handleStatusKeydown","closeOtherPickers","colorChanged",4,"ngFor","ngForOf","ngForTrackBy"],["placeholder",I,3,"tags","maxlength","error","errorIndex","modifier","tagsChanged","statusError","click"],D,["icon","question","cuTooltip",C,"tooltipLifeTime","15000",1,"cu-create-project-modal__statuses-caption-question"],[1,"cu-create-project-modal__statuses-container","cu-create-project-modal__statuses-container_done",3,"dragula","dragulaModel","dragulaModelChange"],["class","cu-create-project-modal__statuses-container_done-drop-zone",4,"ngIf"],P,["icon","question","cuTooltip",$,"tooltipLifeTime","15000",1,"cu-create-project-modal__statuses-caption-question"],[3,"status","canDrag","canDelete","canEditColor","last","PRESET_COLORS","i","c","errorIndex","modifier","handleStatusChange","handleStatusKeydown","closeOtherPickers","colorChanged",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-status-badge__label_container","cu-create-project-modal__statuses-error"],["class","cu-status-badge__error_tags_modal",4,"ngIf"],["cuAutoFocus","",1,"cu-btn","cu-btn_m","cu-create-project-modal__statuses-btn",3,"disabled","click"],[3,"template","active","templates","moreTemplates","templateSaveNeeded","modifier","onSave","onClick","onStartDelete","onRename"],[1,"cu-create-project-modal__statuses-new-template",3,"click"],z,[1,"cu-create-project-modal__statuses-add-template"],["type","text","placeholder",M,1,"cu-form__input",3,"ngModel","ngModelChange"],["templateInput",""],[1,"cu-status-badge__error_tags_modal-text"],E,["icon","question","cuTooltip",L,"tooltipLifeTime","15000",1,"cu-create-project-modal__statuses-caption-question"],[3,"status","canDrag","canDelete","last","PRESET_COLORS","i","c","errorIndex","modifier","handleStatusChange","handleStatusKeydown","closeOtherPickers","colorChanged",4,"ngFor","ngForOf","ngForTrackBy"],[3,"status","canDrag","canDelete","last","PRESET_COLORS","i","c","errorIndex","modifier","handleStatusChange","handleStatusKeydown","closeOtherPickers","colorChanged"],[3,"status","last","canDelete","PRESET_COLORS","i","c","errorIndex","isNewStatus","modifier","confirmRemoveStatus","handleStatusChange","handleStatusKeydown","closeOtherPickers","colorChanged"],[1,"cu-create-project-modal__statuses-container_done-drop-zone"],A,["href","https://docs.clickup.com/en/articles/4109089-not-started-statuses","target","_blank"],F,U,["href","https://docs.clickup.com/features/done-statuses","target","_blank"],N,[3,"status","canDrag","canDelete","canEditColor","last","PRESET_COLORS","i","c","errorIndex","modifier","handleStatusChange","handleStatusKeydown","closeOtherPickers","colorChanged"],[1,"cu-status-badge__error_tags_modal"],[1,"cu-status-badge__error_tags_modal-icon"],[1,"cu-icon","cu-icon_warning","cu-status-badge__error_tags_modal__warning-icon"],R,["statusError",""],["class","cu-status-badge__error_tags_modal-text",4,"ngIf"],G,q,B,[1,"cu-create-project-modal__select-all-clickapps"],[1,"cu-create-project-modal__select-all-clickapps-switch"],[1,"cu-create-project-modal__select-all-clickapps-switch-toggle",3,"checked","onChange"],[1,"cu-create-project-modal__select-all-clickapps-switch-text"],[1,"cu-create-project-modal__clickapps"],["class","cu-sts__addon",3,"ngClass","mouseleave","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-create-project-modal__clickapps-expand"],[1,"cu-btn","cu-btn_x-sm","cu-btn_outline",3,"click"],["showMoreClickapps",""],["icon","angle-right-no-padding",1,"cu-create-project-modal__clickapps-expand-icon",3,"ngClass"],["cuAutoFocus","",1,"cu-btn","cu-btn_m","cu-create-project-modal__next",3,"click"],[1,"cu-sts__addon",3,"ngClass","mouseleave","click"],[1,"cu-onboarding-v2__click-apps-icon",3,"type","ngClass"],[1,"cu-sts__addon-title"],["class","cu-create-project-modal__clickapps-settings","target","_blank",3,"cuLink","allowSlash","click",4,"ngIf"],["icon","cu2-info-circle","triggers","","placement","right","outsideClick","true","containerClass","popover_white",1,"cu-sts__addon-info",3,"popover","mouseenter"],["desc","bs-popover"],["clickappDesc",""],["wipPaywallContainer",""],["class","cu-sts__addon-info","placement","top","outsideClick","true","containerClass","popover_white popover_no-padding",3,"popover","mouseenter",4,"ngIf"],["target","_blank",1,"cu-create-project-modal__clickapps-settings",3,"cuLink","allowSlash","click"],W,[1,"cu-sts__addon-info-desc",3,"mouseenter"],[1,"clickapps-card__image"],["alt","",1,"clickapps-card__image-item",3,"src"],[1,"clickapps-card__title"],[1,"clickapps-card__description"],[3,"innerHTML"],["target","_blank",1,"addons__nav-link",3,"href"],V,["badge",X,"upgradeButtonText",H,3,"text","emailSubject","mouseenter"],["placement","top","outsideClick","true","containerClass","popover_white popover_no-padding",1,"cu-sts__addon-info",3,"popover","mouseenter"],["wipPaywall","bs-popover"],Y,Z,Q,[1,"cu-create-project-modal__description"],K,["class","cu-create-project-modal__view-settings",4,"ngIf"],[1,"cu-form__row","cu-create-project-modal__view-adjust-for"],[1,"cu-form__row-title"],J,[1,"cu-radio","cu-user-settings__radio"],["type","radio","name","updateViewOption",1,"cu-radio__input",3,"value","checked","click"],[1,"cu-radio__label"],ee,te,ie,[1,"cu-create-project-modal__view-settings"],[3,"item","cuTooltip","ngClass","onCheck","onSelect"],ae,[1,"cu-create-project-modal__view-settings-header"],[1,"cu-create-project-modal__view-settings-header-item",3,"ngClass","click"],oe,ce,ne,[1,"cu-create-project-modal__view-settings-template"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],se,[1,"cu-create-project-modal__view"],[3,"disabled","showUpgrade","onFreeTrialStart"],["class","cu-create-project-modal__view-item-always",4,"ngIf"],[1,"cu-create-project-modal__view-item-container"],[1,"cu-create-project-modal__view-item"],[1,"cu-create-project-modal__view-icon",3,"icon"],[1,"cu-create-project-modal__view-title"],["class","cu-create-project-modal__view-item-default",4,"ngIf"],["class","cu-create-project-modal__view-item-ellipsis","cuDropdown","",3,"cuPreventDefault",4,"ngIf"],[3,"disabled","checked","onChange",4,"ngIf"],[1,"cu-create-project-modal__view-item-always"],re,[1,"cu-create-project-modal__view-item-default"],["icon","cu2-home-alt-solid",1,"cu2-views-bar__selected-view-options-icon","cu2-views-bar__selected-view-options-icon_default"],[1,"cu-create-project-modal__make-default-text"],le,["cuDropdown","",1,"cu-create-project-modal__view-item-ellipsis",3,"cuPreventDefault"],["cuDropdownToggle","",1,"cu-create-project-modal__view-item-ellipsis-icon",3,"icon"],[4,"cuDropdownMenu"],[3,"item","click"],[3,"disabled","checked","onChange"],[1,"cu-create-project-modal__summary"],[1,"cu-create-project-modal__summary-row",3,"click"],[1,"cu-create-project-modal__summary-label"],de,[1,"cu-create-project-modal__summary-value"],["class","cu-create-project-modal__summary-row",3,"click",4,"ngIf"],ue,[3,"image","color","iconSource","iconName","name"],pe,["class","cu-create-project-modal__summary-row cu-create-project-modal__summary-row_cursor-default",4,"ngIf"],[1,"project-modal__overlay-container"],[1,"cu-create-project-modal__summary-row","project-modal__overlay-row",3,"click"],me,[1,"cu-create-project-modal__summary-status_custom"],["class","cu-create-project-modal__summary-status-item",3,"color","cuTooltip",4,"ngFor","ngForOf","ngForTrackBy"],["class","project-modal__overlay",3,"cuTooltip",4,"ngIf"],he,be,["class","cu-create-project-modal__summary-view",4,"ngFor","ngForOf","ngForTrackBy"],["createSpace",""],ge,fe,[1,"cu-create-project-modal__summary-value-label"],[3,"users","showUnassign","selectedUsers","showReassign","dropdownPlacement","onChange"],["userDropdown",""],[3,"user","showGuestTooltip"],_e,[3,"team"],ve,[3,"users","showUserRemover","assignIcon","multiChoice","modifier","avatarSize","showDropdown","onUserRemove"],[1,"cu-create-project-modal__summary-row","cu-create-project-modal__summary-row_cursor-default"],ye,[1,"cu-dt-filter__subtask",3,"checked","onChange"],[1,"cu-create-project-modal__summary-status-item",3,"cuTooltip"],[1,"project-modal__overlay",3,"cuTooltip"],["class","cu-onboarding-v2__click-apps-icon",3,"cuTooltip","type",4,"ngIf"],[1,"cu-onboarding-v2__click-apps-icon",3,"cuTooltip","type"],[1,"cu-create-project-modal__summary-view"],["class","cu-create-project-modal__summary-view-dot",4,"ngIf"],[1,"cu-create-project-modal__summary-view-dot"],we,ke,["type","space",1,"cu-create-project-modal__load-template",3,"team","showStageSelector","onSelectTemplate"],["loadTemplate",""],xe,Te,Se,je,Oe,[1,"cu-create-project-modal__pagination"],[1,"cu-create-project-modal__pagination-item",3,"ngClass","click"],Ie,[1,"cu-create-project-modal__view","cu-create-project-modal__view_avatar"],[1,"cu-project-avatar_lg",3,"image","color","iconSource","iconName","name","fontIconSize"],[3,"avatarExists","forDropdown","allowIcons","selectedColor","selectedIcon","name","modifier","colorChange","iconChange","previewUrlChange"],["avatar",""],[1,"cu-btn","cu-btn_m","cu-create-project-modal__next",3,"click"],[1,"cu-create-project-modal__view-settings-template-row"],[1,"cu-create-project-modal__view-settings-template-row-left",3,"ngClass","click"],["icon","angle-right",1,"cu-create-project-modal__view-settings-template-row-toggle"],[1,"cu-create-project-modal__view-settings-template-row-icon",3,"icon"],[1,"cu-create-project-modal__view-settings-template-row-title"],[1,"cu-create-project-modal__view-settings-template-row-right"],[3,"type","viewType","defaultSelected","allowCustom","showDelete","onRemoveTemplate","onSelect"],["class","cu-form__row cu-create-project-modal__view-adjust-for",4,"ngIf"],De,["type","radio",1,"cu-radio__input",3,"name","value","checked","click"],Ce,Pe,[1,"filter-list","filter-list_settings"],[1,"filter-list__body"],[1,"filter-list__item-tabs"],$e,[1,"filter-list__item-tabs-container"],[1,"filter-list__item-tabs-item",3,"click"],ze,Me,[1,"filter-list__item","filter-list__item_no-hover","filter-list__item_switch"],Ee,[1,"switch"],["data-cns-disable","",1,"cu-dt-filter__subtask",3,"checked","onChange"],Le,Ae,Fe,["cuTooltip",Ue,1,"filter-list__item","filter-list__item_no-hover","filter-list__item_switch"],Ne,[1,"columns-list__header","filter-list__item_top-border"],Re,[1,"columns-list__body",3,"perfectScrollbar"],["class","columns-list__item",3,"cuPreventDefault","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"columns-list__item",3,"cuPreventDefault","click"],[1,"columns-list__item-name"],[1,"columns-list__item-name-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["class","columns-list__item-check",3,"icon",4,"ngIf"],[1,"columns-list__item-check",3,"icon"],[1,"cu-create-project-modal__overlimit"],["text",Ge,"emailSubject",qe,3,"badge","title","image","upgradeButtonText","learnMore","amplitudeLabel","upgradeClicked"],[3,"visibilityOption","role","type","templateMembers","members","user","template","isPublic","sharingLink","showPublic","onChangeVisibilityOption","onSetMembers","onRemoveMember","onEmitPublic"]]},template:function(e,t){if(1&e&&(r.bd(0,De,4,4,"ng-template",null,0,r.cd),r.bd(2,Oi,11,10,"ng-container",1),r.vc(3,"async"),r.bd(4,Ii,0,0,"ng-template",null,2,r.cd),r.bd(6,Di,0,0,"ng-template",null,3,r.cd),r.bd(8,$i,9,11,"ng-template",null,4,r.cd),r.bd(10,Ei,43,15,"ng-template",null,5,r.cd),r.bd(12,Li,2,6,"ng-template",null,6,r.cd),r.bd(14,Ai,4,16,"ng-template",null,7,r.cd)),2&e){const e=r.Rc(13);r.Ib(2),r.Dc("ngIf",r.wc(3,2,t.underLimit$))("ngIfElse",e)}},directives:[P.q,$.a,P.o,z.c,z.m,z.y,z.p,z.s,P.x,M.a,E.a,L.a,A.a,F.a,U.a,N.a,P.p,w.a,R.a,G.a,q.a,B.a,W.a,V.c,X.a,H.a,Y.a,de,J.b,ue.a,ee.a,te.a,pe.a,me.a,he.a,be.a,ge.a,fe.a,_e.a],pipes:[P.b,ve.a,ye.a],styles:['.cu-create-project-modal{margin:0 -50px -50px;padding-bottom:50px;display:block;background:#fafbfc}.dark-theme .cu-create-project-modal{background:#2b343b}.cu-create-project-modal__overlimit .cu-paywall-popover{max-width:none}.cu-create-project-modal__body{padding:30px 50px;margin-bottom:0}.cu-create-project-modal__illustration{display:flex;justify-content:center;height:97px;margin-top:-20px;padding-bottom:40px;background:#fff}.dark-theme .cu-create-project-modal__illustration{background:#384047}.cu-create-project-modal__illustration+.cu-create-project-modal__title{margin-top:0}.cu-create-project-modal__view-settings-header{display:flex;align-items:center;margin-top:-15px;padding:0 50px;background:#fff;border-bottom:1px solid #e9ebf0}.dark-theme .cu-create-project-modal__view-settings-header{background:#384047;border-bottom-color:#1e272e}.cu-create-project-modal__view-settings-header-item{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;justify-content:center;flex:1 0 0;padding:10px 0 15px;cursor:pointer;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:-1px;border-bottom:2px solid transparent;color:#7c828d}.dark-theme .cu-create-project-modal__view-settings-header-item{color:#abaeb0}.cu-create-project-modal__view-settings-header-item_selected{color:#7b68ee;border-color:#7b68ee;cursor:default}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-settings-header-item_selected{color:var(--theme-main-color);border-color:var(--theme-main-color)}}.cu-create-project-modal__view-settings-header-item:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-settings-header-item:hover{color:var(--theme-main-color)}}.cu-create-project-modal__view-settings-template{border:1px solid #e9ebf0;margin:0 50px 15px}.dark-theme .cu-create-project-modal__view-settings-template{border-color:#1e272e}.cu-create-project-modal__view-settings-template-row{display:flex;align-items:center;justify-content:space-between;background:#fff}.dark-theme .cu-create-project-modal__view-settings-template-row{background:#384047}.cu-create-project-modal__view-settings-template-row:not(:last-child){border-bottom:1px solid #e9ebf0}.dark-theme .cu-create-project-modal__view-settings-template-row:not(:last-child){border-bottom-color:#1e272e}.cu-create-project-modal__view-settings-template-row-icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:14px;height:14px;margin-right:15px;fill:#292d34;stroke:#292d34;stroke-width:2px;cursor:default}.dark-theme .cu-create-project-modal__view-settings-template-row-icon{fill:#d5d6d7;stroke:#d5d6d7}.cu-create-project-modal__view-settings-template-row-toggle{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:20px;height:20px;cursor:pointer;margin-right:15px;fill:#292d34}.dark-theme .cu-create-project-modal__view-settings-template-row-toggle{fill:#d5d6d7}.cu-create-project-modal__view-settings-template-row-title{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#343434}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-create-project-modal__view-settings-template-row-title{font-family:var(--global-font-support)}}.dark-theme .cu-create-project-modal__view-settings-template-row-title{color:#d5d6d7}.cu-create-project-modal__view-settings-template-row-left{display:flex;align-items:center;min-width:0;flex-grow:1;padding:10px;cursor:pointer;height:50px}.cu-create-project-modal__view-settings-template-row-left:hover .cu-create-project-modal__view-settings-template-row-icon,.cu-create-project-modal__view-settings-template-row-left:hover .cu-create-project-modal__view-settings-template-row-toggle,.cu-create-project-modal__view-settings-template-row-left_expanded .cu-create-project-modal__view-settings-template-row-icon,.cu-create-project-modal__view-settings-template-row-left_expanded .cu-create-project-modal__view-settings-template-row-toggle{fill:#7b68ee;stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-settings-template-row-left:hover .cu-create-project-modal__view-settings-template-row-icon,.cu-create-project-modal__view-settings-template-row-left:hover .cu-create-project-modal__view-settings-template-row-toggle,.cu-create-project-modal__view-settings-template-row-left_expanded .cu-create-project-modal__view-settings-template-row-icon,.cu-create-project-modal__view-settings-template-row-left_expanded .cu-create-project-modal__view-settings-template-row-toggle{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.cu-create-project-modal__view-settings-template-row-left:hover .cu-create-project-modal__view-settings-template-row-title,.cu-create-project-modal__view-settings-template-row-left_expanded .cu-create-project-modal__view-settings-template-row-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-settings-template-row-left:hover .cu-create-project-modal__view-settings-template-row-title,.cu-create-project-modal__view-settings-template-row-left_expanded .cu-create-project-modal__view-settings-template-row-title{color:var(--theme-main-color)}}.cu-create-project-modal__view-settings-template-row-left_expanded .cu-create-project-modal__view-settings-template-row-toggle{transform:rotate(90deg)}.cu-create-project-modal__view-settings-template-row-right{width:200px;flex-shrink:0}.cu-create-project-modal__view-settings-template-row-right .cu-search__input,.cu-create-project-modal__view-settings-template-row-right .template-dropdown__toggle-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;color:#343434}.dark-theme .cu-create-project-modal__view-settings-template-row-right .cu-search__input,.dark-theme .cu-create-project-modal__view-settings-template-row-right .template-dropdown__toggle-text{color:#d5d6d7}.cu-create-project-modal__view-settings-template-row-right .cu-search__input{padding-top:0;margin-top:-2px}.cu-create-project-modal__view-settings-template-row-right .template-dropdown_empty .template-dropdown__toggle-text{opacity:.6}.cu-create-project-modal__view-settings-template .cu-create-project-modal__view-adjust-for{margin:0;padding:18px 20px;border-bottom:1px solid #e9ebf0}.dark-theme .cu-create-project-modal__view-settings-template .cu-create-project-modal__view-adjust-for{border-bottom-color:#1e272e}.cu-create-project-modal__make-default-text{color:#7b68ee;font:500 10px Gotham Pro,Proxima Nova,arial,serif;margin-left:5px}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__make-default-text{color:var(--theme-main-color)}}.cu-create-project-modal__view{display:flex;justify-content:space-between;flex-wrap:wrap;margin:0 50px}.cu-create-project-modal__view_avatar{flex-wrap:nowrap;padding:30px 0}.cu-create-project-modal__view-item{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;width:270px;height:50px;border:2px solid #d0d3d9;border-radius:4px;padding:0 15px;position:relative;overflow:hidden;cursor:default}.dark-theme .cu-create-project-modal__view-item{border-color:#828588}.cu-create-project-modal__view-item:hover .cu-create-project-modal__view-item-ellipsis-icon{display:block}.cu-create-project-modal__view-item-settings{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;color:#7b68ee;border-color:#7b68ee;border-bottom:1px dashed;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;position:absolute;bottom:5px;padding:5px 0 0}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-settings{color:var(--theme-main-color);border-color:var(--theme-main-color)}}.cu-create-project-modal__view-item-settings:hover{color:#5f48ea;border-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-create-project-modal__view-item-settings:hover{color:var(--theme-main-color-dark);border-color:var(--theme-main-color-dark)}}.cu-create-project-modal__view-item-list{border-top-left-radius:0;border-top-right-radius:0}.cu-create-project-modal__view-item-container{position:relative;margin-bottom:10px;overflow:hidden;background:#fff}.dark-theme .cu-create-project-modal__view-item-container{background:#384047;border-color:#828588}.cu-create-project-modal__view-item-container_soon:before{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#7b68ee;display:flex;align-items:center;justify-content:center;content:"Soon";position:absolute;width:80px;top:-22px;height:16px;left:calc(100% - 50px);color:#fff;text-align:center;letter-spacing:.5px;font:500 10px Gotham Pro,Proxima Nova,arial,serif;transform-origin:left bottom;transform:rotate(45deg);z-index:10}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-container_soon:before{background:var(--theme-main-color)}}.cu-create-project-modal__view-item-always{background-color:#7b68ee;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;justify-content:center;position:absolute;width:100%;height:16px;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;text-align:center;top:-14px;color:#fff;border-top-left-radius:5px;border-top-right-radius:5px}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-always{background-color:var(--theme-main-color)}}.cu-create-project-modal__view-item-selected{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-selected{border-color:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__view-item-selected{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__view-item-selected{border-color:var(--theme-main-color)}}.cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__icon{fill:#7b68ee;stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__icon{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__icon{fill:#7b68ee;stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__icon{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__title{color:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__view-item-selected .cu-data-view-add-dropdown__title{color:var(--theme-main-color)}}.cu-create-project-modal__view-item-default{display:flex;align-items:center;justify-content:center}.cu-create-project-modal__view-item .cu2-views-bar__selected-view-options-icon{fill:#7b68ee;width:11px;height:11px;margin-right:0}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item .cu2-views-bar__selected-view-options-icon{fill:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__view-item .cu2-views-bar__selected-view-options-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__view-item .cu2-views-bar__selected-view-options-icon{fill:var(--theme-main-color)}}.cu-create-project-modal__view-item:not(.cu-create-project-modal__view-item_soon):hover .cu-create-project-modal__make-default{display:flex}.cu-create-project-modal__view-item_soon{cursor:default;border-color:rgba(130,133,136,.2)}.dark-theme .cu-create-project-modal__view-item_soon{border-color:rgba(130,133,136,.5)}.cu-create-project-modal__view-item_soon .cu-create-project-modal__view-icon,.cu-create-project-modal__view-item_soon .cu-create-project-modal__view-title{opacity:.4}.cu-create-project-modal__view-item-ellipsis{width:24px}.cu-create-project-modal__view-item-ellipsis.cu-dropdown_open .cu-create-project-modal__view-item-ellipsis-icon{fill:#7b68ee;display:block}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-ellipsis.cu-dropdown_open .cu-create-project-modal__view-item-ellipsis-icon{fill:var(--theme-main-color)}}.cu-create-project-modal__view-item-ellipsis-icon{width:24px;height:20px;padding:0 4px;cursor:pointer;fill:#c1c1c1;display:none}.dark-theme .cu-create-project-modal__view-item-ellipsis-icon{fill:#828588}.cu-create-project-modal__view-item-ellipsis-icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__view-item-ellipsis-icon:hover{fill:var(--theme-main-color)}}.cu-create-project-modal__view-item cu-toggle-switch{margin-left:10px}.cu-create-project-modal__view-settings{margin-bottom:30px}.cu-create-project-modal__view-settings .cu-dropdown-list-item:hover{background:transparent}.cu-create-project-modal__view-settings .cu-dropdown-list-item__title{font-size:14px}.cu-create-project-modal__view-settings .cu-dropdown-list-item__switch{margin:0 0 0 50px}.cu-create-project-modal__view-settings .cu-dropdown-list-item__link-container{order:2}.cu-create-project-modal__view-settings .filter-list__body{max-height:none;margin-bottom:10px}.cu-create-project-modal__view-settings .filter-list__body .filter-list__item{padding-left:15px;padding-right:15px}.cu-create-project-modal__view-settings .columns-list__body{max-height:none}.cu-create-project-modal__view-settings .filter-list__item_top-border{border-top:none;margin-top:30px}.cu-create-project-modal__view-adjust-for{padding:0 50px}.cu-create-project-modal__view-adjust-for .cu-radio__label{font-size:14px}.cu-create-project-modal__view-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86),stroke .2s cubic-bezier(.785,.135,.15,.86);width:14px;height:14px;fill:#82868d;stroke:#82868d;stroke-width:2px;margin-right:10px;margin-bottom:0!important}.dark-theme .cu-create-project-modal__view-icon{fill:#abaeb0;stroke:#abaeb0}.cu-create-project-modal__view-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#82868d;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;flex-grow:1;text-align:left!important}.dark-theme .cu-create-project-modal__view-title{color:#abaeb0}.cu-create-project-modal__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 24px/1 Gotham Pro,Proxima Nova,arial,serif;color:#343434;display:flex;justify-content:center;margin-top:-40px;background:#fff;padding:0 50px 40px;border-bottom:1px solid #e9ebf0}.dark-theme .cu-create-project-modal__title{color:#d5d6d7;background:#384047;border-bottom-color:#1e272e}.cu-create-project-modal__title-back{position:absolute;margin-top:5px;left:0;cursor:pointer;display:flex}.cu-create-project-modal__title-back:hover .cu-create-project-modal__title-back-icon{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__title-back:hover .cu-create-project-modal__title-back-icon{stroke:var(--theme-main-color)}}.cu-create-project-modal__title-back:hover .cu-create-project-modal__title-back-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__title-back:hover .cu-create-project-modal__title-back-text{color:var(--theme-main-color)}}.cu-create-project-modal__title-back-icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;stroke-width:5px;width:8px;height:13px;stroke:#858585}.dark-theme .cu-create-project-modal__title-back-icon{stroke:#828588}.cu-create-project-modal__title-back-text{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#858585;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;padding:1px 0 0 10px}.cu-create-project-modal__more{text-align:center;margin-top:-35px}.cu-create-project-modal__more-link{color:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;margin:5px 0 0;position:relative;display:inline-block;padding-bottom:2px}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__more-link{color:var(--theme-main-color)}}.cu-create-project-modal__more-link:after{content:"";display:block;position:absolute;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;background-color:#7b68ee;bottom:0;left:0;width:100%;height:1px}.cu-create-project-modal__more-link:after:hover{transition:none}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__more-link:after{background-color:var(--theme-main-color)}}.cu-create-project-modal__more-link:hover:after{opacity:0}.cu-create-project-modal__tabs{display:flex;height:45px;margin:-1px 0 10px;padding:0 50px;background:#fff;border-bottom:1px solid #e9ebf0}.dark-theme .cu-create-project-modal__tabs{background:#384047;border-bottom-color:#1e272e}.cu-create-project-modal__tabs-item{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;position:relative;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#343434;cursor:pointer}.dark-theme .cu-create-project-modal__tabs-item{color:#d5d6d7}.cu-create-project-modal__tabs-item:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__tabs-item:hover{color:var(--theme-main-color)}}.cu-create-project-modal__tabs-item+.cu-create-project-modal__tabs-item{margin-left:30px}.cu-create-project-modal__tabs-item_active{color:#7b68ee;cursor:default}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__tabs-item_active{color:var(--theme-main-color)}}.cu-create-project-modal__tabs-item_active:before{background:#7b68ee;content:"";display:block;position:absolute;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;animation:fadeIn .2s ease-in-out backwards;top:auto;bottom:0;height:2px;width:100%}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__tabs-item_active:before{background:var(--theme-main-color)}}.cu-create-project-modal__next{margin:20px 50px 0;width:calc(100% - 100px)}.cu-create-project-modal__pagination{position:absolute;bottom:-50px;left:50%;transform:translateX(-50%);display:inline-flex;padding-bottom:15px}.cu-create-project-modal__pagination-item{display:flex;align-items:center;justify-content:center;opacity:.3;width:16px;height:16px;cursor:pointer}.cu-create-project-modal__pagination-item:hover:after{width:10px;height:10px}.cu-create-project-modal__pagination-item_active{opacity:1}.cu-create-project-modal__pagination-item:after{content:"";display:block;position:absolute;width:8px;height:8px;background:#fff;border-radius:50%}.cu-create-project-modal__switch-privacy{margin:30px 50px 40px;display:flex}.cu-create-project-modal__switch-privacy-item{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:50%;height:180px;border-radius:4px;border:2px solid #e4e4e4;cursor:pointer;flex-grow:1;display:flex;align-items:center;justify-content:center;flex-direction:column}.dark-theme .cu-create-project-modal__switch-privacy-item{border-color:#abaeb0}.cu-create-project-modal__switch-privacy-item:first-child{margin-right:20px}.cu-create-project-modal__switch-privacy-item_selected{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__switch-privacy-item_selected{border-color:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__switch-privacy-item_selected{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__switch-privacy-item_selected{border-color:var(--theme-main-color)}}.cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-title{color:var(--theme-main-color)}}.cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-fill{fill:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-fill{fill:var(--theme-main-color)}}.cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-stroke{stroke:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__switch-privacy-item_selected .cu-create-project-modal__switch-privacy-icon .cu-stroke{stroke:var(--theme-main-color)}}.cu-create-project-modal__switch-privacy-radio{visibility:hidden;position:absolute}.cu-create-project-modal__switch-privacy-icon{height:90px}.cu-create-project-modal__switch-privacy-icon .cu-fill{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#e4e4e4}.dark-theme .cu-create-project-modal__switch-privacy-icon .cu-fill{fill:#abaeb0}.cu-create-project-modal__switch-privacy-icon .cu-stroke{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;stroke:#e4e4e4}.dark-theme .cu-create-project-modal__switch-privacy-icon .cu-stroke{stroke:#abaeb0}.cu-create-project-modal__switch-privacy-title{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#777;text-align:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-create-project-modal__switch-privacy-title{font-family:var(--global-font-support)}}.cu-create-project-modal__add-users{display:flex;align-items:center;justify-content:center;margin:0 50px 40px;min-height:40px}.cu-create-project-modal__add-users-tip{font:400 14px/1.4 Gotham Pro,Proxima Nova,arial,serif;font-style:italic;color:#343434;text-align:center}.dark-theme .cu-create-project-modal__add-users-tip{color:#d5d6d7}.cu-create-project-modal__add-users-label{margin-right:10px;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#343434}.dark-theme .cu-create-project-modal__add-users-label{color:#d5d6d7}.cu-create-project-modal__add-users-link{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;border-bottom:1px dashed #aeacb0;margin-left:8px;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#aeacb0}.cu-create-project-modal__add-users-link:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-create-project-modal__add-users-link:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}.cu-create-project-modal__description{font:400 14px/22px Gotham Pro,Proxima Nova,arial,serif;color:#343434;text-align:center;margin:30px 50px}.dark-theme .cu-create-project-modal__description{color:#d5d6d7}.cu-create-project-modal__select-all-clickapps{width:100%;display:flex;justify-content:center;align-items:center;height:60px}.cu-create-project-modal__select-all-clickapps-switch{display:flex;align-items:center}.cu-create-project-modal__select-all-clickapps-switch-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:13px;margin-left:5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-create-project-modal__select-all-clickapps-switch-text{font-family:var(--global-font-support)}}.cu-create-project-modal__select-all-clickapps-switch-toggle{display:flex}.cu-create-project-modal__clickapps{display:flex;flex-wrap:wrap;justify-content:space-between;margin:0 50px 10px}.cu-create-project-modal__clickapps-settings{color:#7b68ee;border-bottom:1px dashed;border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__clickapps-settings{color:var(--theme-main-color);border-color:var(--theme-main-color)}}.cu-create-project-modal__clickapps-expand{text-align:center}.cu-create-project-modal__clickapps-expand-icon{fill:#7b68ee;transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;transition:transform .2s cubic-bezier(.785,.135,.15,.86),fill .2s cubic-bezier(.785,.135,.15,.86);transform:rotate(90deg);width:10px;height:10px;margin-left:5px}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__clickapps-expand-icon{fill:var(--theme-main-color)}}.cu-create-project-modal__clickapps-expand-icon_expanded{transform:rotate(-90deg)}.cu-create-project-modal__clickapps-expand .cu-btn:hover .cu-create-project-modal__clickapps-expand-icon{fill:#fff;transition:none}.cu-create-project-modal__clickapps .cu-sts__addon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:49%;height:70px;border:2px solid #e4e4e4;padding:0 30px 0 15px;border-radius:3px;margin:0 0 10px;position:relative}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon{border-color:rgba(171,174,176,.2)}.cu-create-project-modal__clickapps .cu-sts__addon:hover{background:#fafbfc}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon:hover{background:#2b343b}.cu-create-project-modal__clickapps .cu-sts__addon-title{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#ccc}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon-title{color:rgba(171,174,176,.2)}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon .cu-fill{fill:rgba(171,174,176,.2)}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon .cu-stroke{stroke:rgba(171,174,176,.2)}.cu-create-project-modal__clickapps .cu-sts__addon_enabled{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__clickapps .cu-sts__addon_enabled{border-color:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled{border-color:var(--theme-main-color)}}.cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-sts__addon-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-sts__addon-title{color:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-sts__addon-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-sts__addon-title{color:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-fill{fill:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-stroke{stroke:var(--theme-main-color)}}.cu-create-project-modal__clickapps .cu-sts__addon_enabled .cu-sts__addon-info{opacity:1}.cu-create-project-modal__clickapps .cu-sts__addon-info{position:absolute;top:50%;transform:translateY(-50%);right:10px;width:15px;height:15px;fill:#b9bec7;margin-left:15px;opacity:.2}.cu-create-project-modal__clickapps .cu-sts__addon-info-desc{width:270px;border-radius:4px;position:relative}.cu-create-project-modal__clickapps .cu-sts__addon-info-desc .clickapps-card__description,.cu-create-project-modal__clickapps .cu-sts__addon-info-desc .clickapps-card__title,.cu-create-project-modal__clickapps .cu-sts__addon-info-desc img{opacity:1}.cu-create-project-modal__summary{margin:40px 50px 20px;border:1px solid #e4e4e4}.cu-create-project-modal__summary-view{display:flex;position:relative}.cu-create-project-modal__summary-view-dot{position:absolute;top:-5px;right:-5px;width:8px;height:8px;border-radius:8px;background-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__summary-view-dot{background-color:var(--theme-main-color)}}.dark-theme .cu-create-project-modal__summary{border-color:#1e272e}.cu-create-project-modal__summary-row{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;cursor:pointer;height:56px;padding:0 15px;background:#fff}.dark-theme .cu-create-project-modal__summary-row{background:#384047}.cu-create-project-modal__summary-row:not(:last-child){border-bottom:1px solid #e4e4e4}.dark-theme .cu-create-project-modal__summary-row:not(:last-child){border-bottom-color:#1e272e}.cu-create-project-modal__summary-row:hover{background:#f9f9f9}.dark-theme .cu-create-project-modal__summary-row:hover{background:#1e272e}.cu-create-project-modal__summary-row_cursor-default{cursor:default}.cu-create-project-modal__summary-row .cu-create-project-modal__view-icon{margin-left:8px;margin-bottom:0}.cu-create-project-modal__summary-row-arrow{width:10px;height:25px;margin-left:15px;fill:#d8d8d8}.dark-theme .cu-create-project-modal__summary-row-arrow{fill:#abaeb0}.cu-create-project-modal__summary-label{font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#343434;flex-grow:1;flex-shrink:0}.dark-theme .cu-create-project-modal__summary-label{color:#d5d6d7}.cu-create-project-modal__summary-value{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;margin-left:10px;color:#343434;display:flex;align-items:center;justify-content:flex-end}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-create-project-modal__summary-value{font-family:var(--global-font-support)}}.dark-theme .cu-create-project-modal__summary-value{color:#d5d6d7}.cu-create-project-modal__summary-value-label{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;margin-right:10px}.cu-create-project-modal__summary .cu-onboarding-v2__click-apps-icon{transform:scale(.55);margin:0}.cu-create-project-modal__summary .cu-onboarding-v2__click-apps-icon .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__summary .cu-onboarding-v2__click-apps-icon .cu-stroke{stroke:var(--theme-main-color)}}.cu-create-project-modal__summary .cu-onboarding-v2__click-apps-icon .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__summary .cu-onboarding-v2__click-apps-icon .cu-fill{fill:var(--theme-main-color)}}.cu-create-project-modal__summary-status_simple{width:31px;height:20px;border-radius:2px;border:1px solid #d8d8d8;padding:4px}.dark-theme .cu-create-project-modal__summary-status_simple{background:#d5d6d7;border:1px solid #d5d6d7}.cu-create-project-modal__summary-status_custom{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;max-height:50px}.cu-create-project-modal__summary-status-item{width:8px;height:8px;margin:0 0 0 4px;flex-shrink:0;position:relative;margin:0 4px 0 0;width:14px;height:14px;border-radius:3px;border:1px solid transparent;transition:.1s;cursor:pointer;color:transparent}.cu-create-project-modal__summary-status-item:after{content:"";display:block;position:absolute;top:2px;left:2px;width:8px;height:8px;border-radius:2px;background:currentColor;transition:.1s}.cu-create-project-modal__summary-status-item:hover{border:1px solid}.cu-create-project-modal__statuses{margin:40px 50px 0;display:flex;justify-content:space-between}.cu-create-project-modal__statuses-column{width:48%;display:flex;flex-direction:column;min-height:284px}.cu-create-project-modal__statuses-column_right{width:48%}.cu-create-project-modal__statuses-type{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#505050;height:30px;border-radius:3px;cursor:pointer;display:flex;align-items:center;padding:0 10px;flex-shrink:0}.cu-create-project-modal__statuses-type:hover{transition:none}.dark-theme .cu-create-project-modal__statuses-type{color:#d5d6d7}.cu-create-project-modal__statuses-type_active{background:#7b68ee;color:#fff;cursor:default}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__statuses-type_active{background:var(--theme-main-color)}}.cu-create-project-modal__statuses-caption{font:500 9px/1.15 Gotham Pro,Proxima Nova,arial,serif;color:#ababab;text-transform:uppercase;padding:8px 0}.dark-theme .cu-create-project-modal__statuses-caption{color:#828588}.cu-create-project-modal__statuses-caption-question{width:14px;height:14px;margin-left:4px;margin-bottom:-3px;display:inline-block;cursor:pointer;fill:#979797}.dark-theme .cu-create-project-modal__statuses-caption-question{color:#828588}.cu-create-project-modal__statuses-container_custom{padding-top:28px;margin-top:-28px;padding-bottom:5px}.cu-create-project-modal__statuses-container_done{padding-bottom:38px;margin-bottom:-28px}.cu-create-project-modal__statuses-container_done-drop-zone{border:1px dashed #cbc9cf;padding:8px 0;display:flex;justify-content:center;align-items:center;margin-bottom:10px}.cu-create-project-modal__statuses-container_done-drop-zone p{font:italic 11px Gotham Pro,Proxima Nova,arial,serif;color:rgba(34,34,34,.6);text-align:center}.dark-theme .cu-create-project-modal__statuses-container_done-drop-zone p{color:rgba(213,214,215,.6)}.cu-create-project-modal__statuses-badge{height:28px;margin:0 0 5px;border:1px solid #d8d8d8;background:#fff;border-radius:3px;display:flex;align-items:center;padding:0 10px;flex-shrink:0}.dark-theme .cu-create-project-modal__statuses-badge{border:1px solid #1e272e;background:#384047}.cu-create-project-modal__statuses-badge-simple-icon{width:14px;height:10px;margin-right:10px;stroke-width:2px}.cu-create-project-modal__statuses-badge-simple-icon_open{stroke:#aeacb0}.cu-create-project-modal__statuses-badge-simple-icon_closed{stroke:#67cb48}.cu-create-project-modal__statuses-badge_open{color:#aeacb0;pointer-events:none}.cu-create-project-modal__statuses-badge_open .cu-create-project-modal__statuses-badge-color{background:#aeacb0}.cu-create-project-modal__statuses-badge_closed{color:#67cb48;pointer-events:none}.cu-create-project-modal__statuses-badge_closed .cu-create-project-modal__statuses-badge-color{background:#67cb48}.cu-create-project-modal__statuses-badge-color{width:10px;height:10px;border-radius:2px;margin:0 10px 0 11px}.cu-create-project-modal__statuses-badge-title{flex-grow:1;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;letter-spacing:0;text-transform:uppercase}.cu-create-project-modal__statuses-badge-title_open{color:#aeacb0}.cu-create-project-modal__statuses-badge-title_closed{color:#67cb48}.cu-create-project-modal__statuses-badge-required{font:500 9px/1.15 Gotham Pro,Proxima Nova,arial,serif;color:#d8d8d8;text-transform:uppercase}.dark-theme .cu-create-project-modal__statuses-badge-required{color:#828588}.cu-create-project-modal__statuses cu-tags-input{min-height:50px}.cu-create-project-modal__statuses-templates{display:flex;align-items:center;margin:10px;text-transform:uppercase}.cu-create-project-modal__statuses-templates-title{flex-grow:1;opacity:.4;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#505050}.dark-theme .cu-create-project-modal__statuses-templates-title{color:#d5d6d7}.cu-create-project-modal__statuses-templates-plus{width:17px;height:17px;padding:3px;margin:-3px -3px -2px 0;cursor:pointer;flex-shrink:0}.cu-create-project-modal__statuses-templates-plus:hover use{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-create-project-modal__statuses-templates-plus:hover use{fill:var(--theme-main-color-dark)}}.cu-create-project-modal__statuses-templates-plus use{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__statuses-templates-plus use{fill:var(--theme-main-color)}}.cu-create-project-modal__statuses-new-template{color:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;margin-top:15px;height:15px}@supports (--theme-main-color:#7b68ee){.cu-create-project-modal__statuses-new-template{color:var(--theme-main-color)}}.cu-create-project-modal__statuses-new-template:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-create-project-modal__statuses-new-template:hover{color:var(--theme-main-color-dark)}}.cu-create-project-modal__statuses-add-template{padding:0 10px}.cu-create-project-modal__statuses-add-template .cu-form__input{padding:0;font:400 14px/1.15 Gotham Pro,Proxima Nova,arial,serif;height:15px;margin-top:15px}.cu-create-project-modal__statuses-add-template .cu-status-badge__error_tags_modal-text{position:absolute}.cu-create-project-modal__statuses-custom-container{padding-right:10px;margin-right:-10px}.cu-create-project-modal__statuses-error{position:sticky;bottom:80px;margin:20px 50px 0}.cu-create-project-modal__statuses-error .cu-status-badge__error_tags_modal{float:none;width:auto}.cu-create-project-modal__statuses-btn{position:sticky;bottom:20px;z-index:1000;margin:30px 50px 0;width:calc(100% - 100px)}.cu-create-project-modal__load-template{margin:40px 50px 0;display:block}.cu-create-project-modal__avatar-picker{margin-left:30px}.cu-create-project-modal__error{padding-left:50px}.cu-create-project-modal__admin-can-manage{margin:0 50px 20px;display:flex;justify-content:center}.cu-create-project-modal__clickapps-settings{font-size:12px;padding-right:2px}.project-modal__overlay{position:absolute;height:100%;width:100%;top:0;left:0;cursor:not-allowed}.project-modal__overlay-container{position:relative}.project-modal__overlay-disabled{opacity:.5}.project-modal__overlay-row{border-bottom:1px solid #e9ebf0}.dark-theme .project-modal__overlay-row{border-bottom-color:#1e272e}'],encapsulation:2}),e})()},NxbL:function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return r}),i.d(t,"f",function(){return l}),i.d(t,"d",function(){return d}),i.d(t,"e",function(){return u}),i.d(t,"j",function(){return p}),i.d(t,"h",function(){return m}),i.d(t,"k",function(){return h}),i.d(t,"g",function(){return b}),i.d(t,"l",function(){return g}),i.d(t,"i",function(){return f}),i.d(t,"o",function(){return _}),i.d(t,"m",function(){return v}),i.d(t,"n",function(){return y});var a=i("zJDR"),o=i("n+2j"),c=i("l7P3");const n=Object(c.createFeatureSelector)("keyResultAdd"),s=Object(c.createSelector)(n,o.b),r=Object(c.createSelector)(n,o.a),l=(Object(c.createSelector)(n,o.c),Object(c.createSelector)(n,o.f)),d=Object(c.createSelector)(n,o.d),u=Object(c.createSelector)(n,o.e),p=Object(c.createSelector)(n,o.l),m=Object(c.createSelector)(n,o.h),h=Object(c.createSelector)(n,o.m),b=Object(c.createSelector)(n,o.g),g=Object(c.createSelector)(n,o.n),f=(Object(c.createSelector)(n,o.j),Object(c.createSelector)(n,o.i),Object(c.createSelector)(n,o.k)),_=Object(c.createSelector)(n,e=>{switch(e.step){case a.c.NAME:return!!e.name;case a.c.ASSIGN:return!0;default:return!1}}),v=Object(c.createSelector)(n,e=>!(e.type!==a.d.NUMBER||!e.numberStart&&0!==e.numberStart||!e.numberEnd&&0!==e.numberEnd||e.numberEnd===e.numberStart)||e.type===a.d.DONE||!(e.type!==a.d.CURRENCY||!e.currency||!e.currencyStart&&0!==e.currencyStart||!e.currencyEnd&&0!==e.currencyEnd||e.currencyEnd===e.currencyStart)||!(e.type!==a.d.AUTOMATIC||!e.tasks.length&&!e.lists.length)),y=Object(c.createSelector)(n,v,(e,t)=>!!e.name&&t)},O2qC:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("ofXK"),o=i("Y9Pr"),c=i("tyNb"),n=i("K0KF"),s=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({factory:function(t){return new(t||e)},imports:[[a.c,c.l,o.a,n.a]]}),e})()},O6ps:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("ofXK"),o=i("3Pt+"),c=i("fXoL");let n=(()=>{class e{}return e.\u0275mod=c.Ub({type:e}),e.\u0275inj=c.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.l]]}),e})()},Orh9:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},P2vR:function(e,t,i){e.exports=i.p+"invision.aecb0f9fb1c4cad61b1f.svg"},P3yg:function(e,t,i){"use strict";i.d(t,"u",function(){return O}),i.d(t,"t",function(){return I}),i.d(t,"a",function(){return D}),i.d(t,"R",function(){return C}),i.d(t,"d",function(){return P}),i.d(t,"H",function(){return $}),i.d(t,"G",function(){return z}),i.d(t,"F",function(){return M}),i.d(t,"K",function(){return E}),i.d(t,"D",function(){return L}),i.d(t,"w",function(){return A}),i.d(t,"x",function(){return F}),i.d(t,"g",function(){return U}),i.d(t,"e",function(){return N}),i.d(t,"f",function(){return R}),i.d(t,"A",function(){return G}),i.d(t,"h",function(){return q}),i.d(t,"i",function(){return B}),i.d(t,"E",function(){return W}),i.d(t,"c",function(){return V}),i.d(t,"J",function(){return X}),i.d(t,"j",function(){return H}),i.d(t,"k",function(){return Y}),i.d(t,"m",function(){return Q}),i.d(t,"l",function(){return K}),i.d(t,"I",function(){return se}),i.d(t,"s",function(){return re}),i.d(t,"r",function(){return le}),i.d(t,"z",function(){return de}),i.d(t,"o",function(){return me}),i.d(t,"n",function(){return he}),i.d(t,"L",function(){return be}),i.d(t,"p",function(){return ge}),i.d(t,"B",function(){return fe}),i.d(t,"M",function(){return _e}),i.d(t,"Q",function(){return ve}),i.d(t,"C",function(){return Te}),i.d(t,"b",function(){return Se}),i.d(t,"N",function(){return je}),i.d(t,"P",function(){return Oe}),i.d(t,"O",function(){return Ie}),i.d(t,"y",function(){return De}),i.d(t,"v",function(){return Me}),i.d(t,"q",function(){return Ee});var a=i("O5Dz"),o=i("CgHv"),c=i("WH7v"),n=i("42vj"),s=i("R4vD"),r=i("5b//"),l=i("1Spw"),d=i("IlGD"),u=i("6n/F"),p=i("AMNA"),m=i("f0Wu"),h=i.n(m),b=i("MguC"),g=i("yR4P"),f=i("XIp8"),_=i("BeL+"),v=i("8M4i"),y=i("EUcb"),w=function(e){return function(e){return"number"==typeof e||Object(y.a)(e)&&"[object Number]"==Object(v.a)(e)}(e)&&e!=+e},k=i("ByW2"),x=i("YwDF"),T=i("nLWA"),S=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const j=h()().set({year:2019,month:11,date:10,hour:0,minute:0,second:0,millisecond:0}),O=e=>"Data for this chart is only available after "+e.format("MM/DD/YYYY"),I=e=>e&&e.dashboard_data_date?Object(g.j)(e.dashboard_data_date):j,D={PDF:"application/pdf",PNG:"image/png",JPEG:"image/jpeg",SVG:"image/svg+xml",CSV:"text/csv",XLS:"application/vnd.ms-excel"},C={Time:"time",Status:"status",StatusType:"status_type",Tag:"tag",Assignee:"assignee",Priority:"priority",TimeEstimate:"time_estimate",TimeSpent:"time_spent",PointsEstimates:"points_estimate",Tasks:"tasks",TaskCount:"task_count",List:"list",CustomField:"custom_field",DateDone:"date_done",DateClosed:"date_closed",Subcategory:"subcategory",leadTime:"lead_time",cycleTime:"cycle_time",averageAge:"average_age",Sprints:"sprints",TimeInStatus:"time_in_status"},P={days:"days",hours:"hours"},$={space:"project",folder:"category",list:"subcategory",user:"user",task:"task",none:null},z={thisDay:"this_day",yesterday:"yesterday",thisYear:"this_year",thisMonth:"this_month",thisWeek:"this_week",lastWeek:"last_week",last7d:"last_7d",last30d:"last_30d",last60d:"last_60d",last90d:"last_90d",range:"range",month1:"last_month",month2:"last_month_2",month3:"last_month_3",month6:"last_month_6",month12:"last_month_12",rolling:"rolling_days"},M=[{id:z.thisDay,title:$localize`:@@common_today:Today`,checkType:"check"},{id:z.yesterday,title:$localize`:@@common_yesterday:Yesterday`,checkType:"check"},{id:z.thisWeek,title:$localize`:@@common_this-week:This week`,checkType:"check"},{id:z.lastWeek,title:$localize`:@@common_last-week:Last week`,checkType:"check"},{id:z.thisMonth,title:$localize`:@@common_this-month:This month`,checkType:"check"},{id:z.month1,title:$localize`:@@common_last-month:Last month`,checkType:"check"},{id:z.thisYear,title:$localize`:@@common_this-year:This year`,checkType:"check"},{id:z.range,title:$localize`:@@common_range-1:Range...`,checkType:"check"},{id:z.rolling,title:$localize`:@@grid-utils_range-type-menu-item--choose-rolling-period:Choose rolling period...`,checkType:"check"}],E=M.filter(e=>e.id!==z.rolling),L={id:"node",title:"None"},A=(e,t=$localize`:@@common_select:Select...`)=>{let i=e&&e.find(e=>e.checked);!i&&e&&e.forEach(e=>{if(e.subitems){const t=e.subitems.find(e=>e.checked);t&&(i=t)}});const a=e&&e.find(e=>e.id===L.id);return i&&i.title||a&&a.title||t},F=(e,t,i)=>{let a=[...e&&e.filters&&e.filters.fields||[]];const o=a.findIndex(e=>e.field===t);return-1===o?i.length&&a.push({field:t,op:"ANY",values:i}):i.length?a[o]=Object.assign(Object.assign({},a[o]),{values:i}):a=a.filter(e=>e.field!==t),a},U={both:"both-billable",only:"only-billable",not:"not-billable",billable:"billable"},N=[{id:U.both,title:$localize`:@@grid-utils_billable-menu-item--show-both-period:Show both`,checkType:"check"},{id:U.only,title:$localize`:@@grid-utils_range-type-menu-item--show-billable-only:Show billable only`,checkType:"check"},{id:U.not,title:$localize`:@@grid-utils_range-type-menu-item--show-non-billable:Show non-billable only`,checkType:"check"}],R={id:U.billable,title:"Billable time",subitems:N},G=(e,t)=>e===U.both?!t:e===U.only?t&&"EQ"===t.op:e===U.not?t&&"NOT"===t.op:void 0,q=(e,t)=>{const i=(e&&e.filters&&e.filters.fields||[]).find(e=>e.field===l.d.BILLABLE);return Object.assign(Object.assign({},t),{subitems:t.subitems.map(e=>Object.assign(Object.assign({},e),{checked:G(e.id,i)}))})},B=(e,t)=>{const i=(e&&e.filters&&e.filters.fields||[]).findIndex(e=>e.field===l.d.ESTIMATE);return Object.assign(Object.assign({},t),{checked:-1===i})},W={day:"day",week:"week",month:"month"},V={sum:"sum",average:"average",median:"median",min:"min",max:"max",count:"count",range:"range"},X={number:"0",percentage:"1"},H=["$","\u20ac","\xa3","%"],Y={$:l.e.Left,"\u20ac":l.e.Left,"\xa3":l.e.Left,"%":l.e.Right},Z={[W.day]:"DD MMM",[W.week]:"DD MMM",[W.month]:"MMM, YYYY"},Q={type:l.a.LineChart,filters:{fields:[],op:k.a.And,search:null,show_closed:!1},group_by:{type:C.Status,value:null},x_axis:{label:null,unit:C.Time,step:W.day,range_type:z.thisMonth},y_axis:{label:null,unit:C.Tasks},location:[],include_subtasks:!1,rows:2,cols:6},K={credits:{enabled:!1},chart:{animation:!1},legend:{enabled:!1,itemMarginTop:5,itemMarginBottom:5,itemStyle:{fontWeight:"normal"},maxHeight:150},exporting:{buttons:{contextButton:{enabled:!1}},chartOptions:{plotOptions:{series:{dataLabels:{enabled:!0}}}},csv:{decimalPoint:".",itemDelimiter:";",lineDelimiter:"\n"},fallbackToExportServer:!1},plotOptions:{pie:{dataLabels:{enabled:!0,format:"<b>{point.name}</b> {point.y:,.0f}",style:{color:"#292d34",fontWeight:"500",textOutline:"0px"}}},bar:{dataLabels:{enabled:!1,format:"<b>{point.name}</b> {point.y:,.0f}"}}}},J={chart:{backgroundColor:"#2B343B",style:{color:"#abaeb0"}},title:{style:{color:"#abaeb0"},margin:30},subtitle:{style:{color:"#abaeb0"}},legend:{itemStyle:{color:"#abaeb0"},itemHoverStyle:{color:"#abaeb0"}},plotOptions:{series:{states:{inactive:{opacity:.7}}},bar:{borderColor:"#2b343b",borderWidth:.5},column:{borderColor:"#2b343b",borderWidth:.5,dataLabels:{style:{color:"#abaeb0"}}},line:{dataLabels:{style:{color:"#abaeb0",textOutline:"0"}}},pie:{borderColor:"#2b343b",borderWidth:.5,dataLabels:{style:{color:"#abaeb0",textOutline:"0"}}}},xAxis:{gridLineDashStyle:"Dot",gridLineWidth:1,gridLineColor:"#828588",lineColor:"#828588",minorGridLineColor:"#828588",tickColor:"#828588",tickWidth:1,labels:{style:{color:"#828588"}},title:{style:{color:"#828588"}}},yAxis:{gridLineDashStyle:"Dot",gridLineColor:"#828588",lineColor:"#828588",minorGridLineColor:"#828588",tickColor:"#828588",tickWidth:1,labels:{style:{color:"#828588"}},title:{style:{color:"#828588"}}}},ee={chart:{backgroundColor:"#fff",style:{color:"#292d34"}},title:{style:{color:"#292d34"}},subtitle:{style:{color:"#292d34"}},legend:{itemStyle:{color:"#292d34"},itemHoverStyle:{color:"#292d34"}},plotOptions:{series:{states:{inactive:{opacity:.7}}},bar:{borderColor:"#ffffff",borderWidth:.5},column:{borderColor:"#ffffff",borderWidth:.5,dataLabels:{style:{color:"#292d34"}}},line:{dataLabels:{style:{color:"#292d34",textOutline:"0"}}},pie:{borderColor:"#ffffff",borderWidth:.5}},xAxis:{gridLineDashStyle:"Solid",gridLineWidth:1,gridLineColor:"#F3F3F3",lineColor:"#F3F3F3",minorGridLineColor:"#F3F3F3",tickColor:"#F3F3F3",tickWidth:1,labels:{style:{color:"#7c828d"}},title:{style:{color:"#7c828d"}}},yAxis:{gridLineDashStyle:"Solid",gridLineColor:"#F3F3F3",lineColor:"#F3F3F3",minorGridLineColor:"#F3F3F3",tickColor:"#F3F3F3",tickWidth:1,labels:{style:{color:"#7c828d"}},title:{style:{color:"#7c828d"}}}},te={id:$.space,title:$localize`:@@common_space:Space`,checkType:"check"},ie={id:$.folder,title:$localize`:@@common_folder:Folder`,checkType:"check"},ae={id:$.list,title:$localize`:@@common_list:List`,checkType:"check"},oe={id:$.user,title:$localize`:@@common_user:User`,checkType:"check"},ce={id:$.task,title:$localize`:@@common_task:Task`,checkType:"check"},ne={id:$.none,title:$localize`:@@common_none:None`,checkType:"check"},se=[te,ie,ae,oe],re=e=>{const t=e.find(e=>e.checked);return t?t.id===$.space?[ie,ae,oe,ce,ne]:t.id===$.folder?[ae,oe,ce,ne]:t.id===$.list?[oe,ce,ne]:t.id===$.user?[te,ie,ae,ce,ne]:void 0:[]},le=(e,t,i,a=!0)=>t?(e===$.user&&(i.user_id=t||"null"),e===$.space&&(i.project_id=t||"null"),e===$.folder&&(i.category_id=t||"null"),e===$.list&&(i.subcategory_id=t||"null"),e===$.task&&(i.task_id=t||"null"),i):(i.task_id="null",i);function de(e,t,i=!0){if(i){if(!e||!e.sprint||!e.sprint_start_date)return t;const i=h()(+e.sprint_start_date);return!t||i.isBefore(t)?i:t}{if(!e||!e.sprint||!e.sprint_end_date)return t;const i=h()(+e.sprint_end_date);return!t||i.isAfter(t)?i:t}}const ue=(e,t)=>{let i,a;return e===$.space?(i=t.project_id,a={id:i,name:t.project_name,avatar:t.project?t.project.avatar:null,avatar_source:t.project?t.project.avatar_source:null,avatar_value:t.project?t.project.avatar_value:null,color:t.project?t.project.color:null}):e===$.folder?(i=t.category_id,a={id:i,name:t.category_name}):e===$.list?(i=t.subcategory_id,a={id:i,name:t.subcategory_name,color:t.subcategory?t.subcategory.color:null,status:t.subcategory?t.subcategory.status:null}):e===$.user?(i=t.user&&t.user.id,a=t.user):e===$.task&&(t.task?(i=t.task&&t.task.id,a=Object.assign({},t.task)):(i=t.item_id,a={id:i,name:t.task_name})),!i&&t.user&&t.user.id&&(i=t.user.id,a={id:i,name:t.user.username||t.user.emil}),{id:i,entity:a}},pe=(e,t,i,a,o,c,n,s)=>(o=o||T.a,Object.assign(Object.assign(Object.assign({},e),{expanded:t&&t[i]&&t[i][a]&&t[i][a].expanded,entries:t&&t[i]&&t[i][a]&&t[i][a].entryIds&&t[i][a].entryIds.map(e=>{const t=s[e];if(!t)return null;const i=c.findIndex(e=>h()(e.val).isSame(h()(parseInt(t.start,10)),"day"));return Object.assign(Object.assign({},t),{index:i})}).filter(e=>!!e),loading:t&&t[i]&&t[i][a]&&t[i][a].loading,time_sheet:Object.entries(e.time_sheet).reduce((e,[t,i])=>{i<0&&(i*=-1);const a=i/36e5;return e[t]={time:i,hours:a,pct:Math.min(a/o*100,100)},e},{}),total:Object.entries(e.time_sheet).reduce((e,[t,i])=>e+i,0)}),n)),me=(e,t,i,a=T.a,o)=>{a=a||T.a;const c=e.group_by.type,n=e.group_by_2.type,s=(t.data.ranges||[]).map(e=>({display:h()(e).format("ddd, D"),val:e}));return{timeReportingRows:(t.data.users||[]).map(e=>{const{id:t}=ue(c,e);let r;return i&&i.groupOneMap&&i.groupOneMap[t]&&i.groupOneMap[t].timeReportingRows&&(r=(i.groupOneMap[t].timeReportingRows||[]).map(e=>{const c=ue(n,e);return c.id||(c.id=t),pe(e,i,"groupTwoMap",c.id,a,s,{id:c.id,[n]:c.entity,groupOneId:t},o)})),pe(e,i,"groupOneMap",t,a,s,{timeReportingRows:r,id:e.user.id},o)}),groupByOne:c,groupByTwo:n,ranges:s,hoursPerDay:a}},he=(e,t,i,a)=>{const o=e.group_by.type,c=e.group_by_2.type,n=-1===(e&&e.filters&&e.filters.fields||[]).findIndex(e=>e.field===l.d.ESTIMATE);return{timeReportingRows:(t.data||[]).map(e=>{const{id:t,entity:n}=ue(o,e);let s;return i&&i.groupOneMap&&i.groupOneMap[t]&&i.groupOneMap[t].timeReportingRows&&(s=(i.groupOneMap[t].timeReportingRows||[]).map(n=>{const s=c===$.task&&!n.task&&!n.item_id||c===$.space&&!n.project&&!n.item_id||c===$.folder&&!n.category&&!n.item_id||c===$.list&&!n.subcategory&&!n.item_id?ue(o,e):ue(c,n);return Object.assign(Object.assign({},n),{id:s.id,[c]:s.entity,expanded:i&&i.groupTwoMap&&i.groupTwoMap[s.id]&&i.groupTwoMap[s.id].expanded,entries:i&&i.groupTwoMap&&i.groupTwoMap[s.id]&&(i.groupTwoMap[s.id].entryIds||[]).map(e=>a[e]).filter(e=>!!e),loading:i&&i.groupTwoMap&&i.groupTwoMap[s.id]&&i.groupTwoMap[s.id].loading,groupOneId:t})})),Object.assign(Object.assign({},e),{id:t,[o]:n,expanded:i&&i.groupOneMap&&i.groupOneMap[t]&&i.groupOneMap[t].expanded,entries:i&&i.groupOneMap&&i.groupOneMap[t]&&(i.groupOneMap[t].entryIds||[]).map(e=>a[e]).filter(e=>!!e),loading:i&&i.groupOneMap&&i.groupOneMap[t]&&i.groupOneMap[t].loading,timeReportingRows:s})}),groupByOne:o,groupByTwo:c,showTimeEstimates:n}};function be(e){if(!e)return;const{id:t,x:i,y:a,cols:o,rows:c}=e;return{id:t,x:i,y:a,cols:o,rows:c,data:S(e,["id","x","y","cols","rows"]),minItemRows:e.type===l.a.BatteryChart?2:void 0}}function ge(e){if(!e)return;const{data:t}=e,i=S(e,["data"]);return Object.assign(Object.assign({},t),i)}function fe(e){switch(e){case l.a.CompletedReport:case l.a.TimeEstimated:case l.a.TimeTracked:case l.a.WorkedOn:case l.a.WhoseBehind:case l.a.WorkSpacePoints:return!0;default:return!1}}const _e=(e,t)=>{const i=[...e&&e.filters&&e.filters.fields||[]].filter(e=>e.field!==l.d.BILLABLE);return t===U.not&&i.push({field:l.d.BILLABLE,op:"NOT"}),t===U.only&&i.push({field:l.d.BILLABLE,op:"EQ"}),i},ve=(e,t)=>{let i=[...e&&e.filters&&e.filters.fields||[]];return-1===i.findIndex(e=>e.field===l.d.ESTIMATE)?i.push({field:l.d.ESTIMATE,op:"NOT"}):i=i.filter(e=>e.field!==l.d.ESTIMATE),i};function ye(e,t,i,o,c){switch(t){case C.Assignee:return e&&(e.username||e.email);case C.Priority:const r=n.h[e||""];return r&&Object(s.c)(r.priority)||e;case C.Status:return null==e?void 0:e.toUpperCase();default:if(t&&t.startsWith("cf_")&&e){const n=i&&i.fields&&i.fields.find(e=>"cf_"+e.id===t),s=n,r=n&&n.type===x.a.Date;return Array.isArray(e)?e.reduce((e,t)=>{const i=xe(s,t,o);return i&&e.push(i),e},[]).join(", ")||e:r?h()(parseInt(e,10)).format(c&&c.x_axis&&c.x_axis.step&&Z[c.x_axis.step]||"DD MMM"):Object(a.b)(xe(s,e,o))||e}return e}}function we(e,t){let i;if(e)switch(t){case C.Assignee:i=e.label&&e.label.color||e.color;break;case C.Priority:const a=n.h[e.label||""];i=a&&(a.id===n.f.id?"#e5e5e5":a.color)||e.color;break;default:if(t&&t.startsWith("cf_")&&!e.color)return Object(r.e)();i=e.color}return function(e){return e&&"#FFFFFF"!==e.toUpperCase()?e:Object(r.e)()}(i)}function ke(e,t){const i={[C.Tasks]:$localize`:@@common_tasks:Tasks`,[C.TimeEstimate]:$localize`:@@common_time-estimate--plural:Time Estimates`,[C.TimeInStatus]:$localize`:@@common_time-in-status:Time in Status`};if(e&&e.startsWith("cf_")){const i=t&&t.find(t=>"cf_"+t.id===e);return i&&i.name}return i[e]}function xe(e,t,i){if(e){if(e.type===x.a.Users){const e=i&&i.find(e=>String(e.id)===String(t));return e&&(e.displayName||e.username||e.email)}{const i=e.type_config&&e.type_config.options&&e.type_config.options.find(e=>e.id===t);return i&&(i.name||i.label)}}}function Te(e,t={},i,a){let o=Object(f.a)(K);if(e){o.title={text:e.title},o.yAxis={},o.subtitle={text:""},o.time={timezoneOffset:(new Date).getTimezoneOffset()},o.legend.enabled=!!e.show_legend;let a=!1;o.xAxis={},e.x_axis&&(o.xAxis.title={text:e.x_axis.label}),e.y_axis&&(o.yAxis.title={text:ke(e.y_axis.unit,i.fields)||e.y_axis.label},e.y_axis.unit===C.TimeEstimate||e.y_axis.unit===C.TimeInStatus?(a=!0,o.yAxis.endOnTick=!1,o.yAxis.maxPadding=.1,o.yAxis.tickPositioner=function(){const t=this;let i=this.getLinearTickPositions(t.tickInterval,t.dataMin,t.dataMax);if(e.y_axis.unit===C.TimeEstimate||e.y_axis.unit===C.TimeInStatus){const e=[6e4,36e5,36e6];if(i=i.map(t=>{let i=1;return e.forEach(e=>{e>i&&e<t&&(i=e)}),i*Math.floor(t/i)}),t.dataMax>i[i.length-1]){const e=Object(_.a)([...i]);let a=2*e[e.length-1],o=[a];if(e.length>2){const i=e[e.length-1]-e[e.length-2];for(a=i+e[e.length-1],o=[a];a<t.dataMax;)a=i+a,o.push(a)}if(o.length>0){const e=o[0]-t.dataMax;(i[i.length-1]-o[0])/e<e/2&&i.push(t.dataMax)}i=Object(_.a)([...i,...o])}}return i},o.yAxis.labels={formatter(){return"day"===e.display_data_type?Object(p.b)(this.value):Object(p.e)(this.value)}},o.exporting.chartOptions.plotOptions.series.dataLabels.formatter=function(){return Object(p.e)(this.y)}):e.y_axis.unit===C.cycleTime||e.y_axis.unit===C.leadTime||e.y_axis.unit===C.averageAge&&e.y_axis.label!==P.hours?o.yAxis.labels={formatter(){return Object(p.b)(this.value)}}:e.y_axis.unit===C.averageAge&&e.y_axis.label===P.hours&&(o.yAxis.labels={formatter(){return Object(p.e)(this.value)}})),o.tooltip={hideDelay:150,animation:!1,outside:!0,xDateFormat:"%A, %b %e",formatter(t){const i=this,a=i.points?[...i.points]:[i];a.sort((e,t)=>t.y-e.y);const o=a.slice(0,10),c=e.y_axis.unit===C.cycleTime||e.y_axis.unit===C.leadTime||e.y_axis.unit===C.averageAge&&e.y_axis.label!==P.hours||e.y_axis.unit===C.TimeInStatus&&"day"===e.display_data_type?p.b:e.y_axis.unit===C.TimeEstimate||e.y_axis.unit===C.TimeInStatus||e.y_axis.unit===C.averageAge&&e.y_axis.label===P.hours?p.e:e=>w(e)?e:String(Math.round(e)).replace(/\B(?=(\d{3})+(?!\d))/g,","),n=(function(t){let i=[];return e.type!==l.a.PieChart&&(e.type!==l.a.BarChart||e.group_by&&e.group_by.type)&&(i=[t.tooltipFooterHeaderFormatter(o[0])]),i=i.concat(o.map(t=>`<span style="color:${t.color}">\u25cf</span> `+(e.type===l.a.PieChart?t.key:t.series.name)+": "+(e.type===l.a.BatteryChart&&1===e.show_value?`<b>${e.type===l.a.BatteryChart&&1===e.show_value?String(Math.round(100*t.percentage)/100)+"%":c(t.y)}</b> (${c(t.y)})`:`<b>${c(t.y)}</b>`)+"<br/>")),i.push(t.tooltipFooterHeaderFormatter(o[0],!0)),i}).call(i,t);if(o.length!==a.length&&n.push("<span>...</span><br/>"),o.length>1){const e=i.points.reduce((e,t)=>e+t.y,0);n.push("<span>\xa0</span><br/>"),n.push(`<i>Total: <b>${c(e)}</b></i>`)}return n}};let c=0,n=0;switch(e.type){case l.a.LineChart:o.xAxis.type="datetime";const a=(null==e?void 0:e.date_ranges)||(null==t?void 0:t.date_ranges);a&&(o.xAxis.min=a.start,o.xAxis.max=a.stop);const s=e.stacked?"area":"line";t&&t.lines&&(o.series=t.lines.map(a=>({type:s,name:ye(a.label,e.group_by.type,t.custom_fields,i.users,e),color:we(a,e.group_by.type),data:a.points&&a.points.map(e=>[e.x,e.y]),marker:{enabled:!a.target_line&&!a.projection_line&&!e.stacked},dashStyle:a.target_line?"LongDash":a.projection_line?"ShortDash":"Solid",lineWidth:a.target_line||a.projection_line?1:2}))),e.stacked&&(o.plotOptions.area={stacking:"normal",marker:{enabled:!1}});break;case l.a.BarChart:o.plotOptions.bar.dataLabels.format=1===e.show_value?"<b>{point.name}</b> {point.percentage:.1f}%":"<b>{point.name}</b> {point.y:,.0f}";const r=function(e,t){if(e&&e.startsWith("cf_"))return t&&t.find(t=>"cf_"+t.id===e)}(e.x_axis&&e.x_axis.unit,i.fields),d=r&&r.type===x.a.Date;if(e.x_axis&&(e.x_axis.unit===C.Time||d)?(o.xAxis.type="datetime",o.xAxis.categories=t&&t.bars&&t.bars.map(t=>h()(parseInt(t,10)).format(e.x_axis&&e.x_axis.step&&Z[e.x_axis.step]||"DD MMM"))):o.xAxis.categories=t&&t.bars,t&&t.bars){if(t.average&&(o.yAxis.plotLines=[{color:"red",value:t.average,width:2,zIndex:5,dashStyle:"LongDash"}],o.subtitle={text:`${e.y_axis.unit===C.TimeInStatus?"Average":"Velocity"}: <b>${!e.y_axis||e.y_axis.unit!==C.TimeEstimate&&e.y_axis.unit!==C.TimeInStatus?Math.round(100*t.average)/100:"day"===e.display_data_type?Object(p.b)(t.average):Object(p.e)(t.average)}</b>`,align:"right"}),o.chart={type:"column"},o.tooltip.shared=!0,e.y_axis.unit===C.TimeInStatus){const t=M.find(t=>t.id===e.x_axis.range_type);t&&(o.xAxis.title.text=t.id===z.range?Object(g.j)(e.x_axis.start).format(Object(g.k)(i.dateFormat))+" - "+Object(g.j)(e.x_axis.end).format(Object(g.k)(i.dateFormat)):t.title)}e.compare_with_previous?o.series=[{type:"column",linkedTo:"main",data:t.series.map(e=>({name:e.name,y:e.data_prev.find(e=>"number"==typeof e),color:e.color})),name:"previous"},{type:"column",name:"current",id:"main",data:t.series.map(e=>({name:e.name,y:e.data.find(e=>"number"==typeof e),color:e.color}))}]:(o.series=t.series.map((t,a)=>{const o=d&&!w(parseInt(t.name,10));return{id:`${t.bar_id}-${a}`,type:"column",name:o?h()(parseInt(t.name,10)).format(e.x_axis&&e.x_axis.step&&Z[e.x_axis.step]||"DD MMM"):xe(r,t.name,i.users)||t.name,color:t.color,data:t.data}}),1===t.series.length&&t.series.forEach(e=>{c=Math.min(c,...e.data),n=Math.max(n,...e.data)}))}"velocity"!==e.pre_made&&(o.plotOptions={column:{minPointLength:10}}),"priority_bar_tasks"===e.pre_made&&(o.plotOptions=Object.assign({},o.plotOptions||{}),o.plotOptions.column=Object.assign(Object.assign({},o.plotOptions&&o.plotOptions.column||{}),{grouping:!1})),o.plotOptions.series={stacking:e.stacked&&!e.compare_with_previous?"normal":void 0};break;case l.a.PieChart:if(o.plotOptions.pie.showInLegend=!!e.show_legend,e.y_axis.unit===C.TimeEstimate)if(1===e.show_value)o.plotOptions.pie.dataLabels.format="<b>{point.name}</b> {point.percentage:.1f}%";else{const e=S(o.plotOptions.pie.dataLabels,["format"]);o.plotOptions.pie.dataLabels=Object.assign(Object.assign({},e),{formatter(){return`<b>${this.key}</b> ${Object(p.e)(this.y)}`}})}else o.plotOptions.pie.dataLabels.format=1===e.show_value?"<b>{point.name}</b> {point.percentage:.1f}%":"<b>{point.name}</b> {point.y:,.0f}";t&&t.pie&&(o.series=[{type:"pie",name:e.title,data:t.pie.map(a=>({y:a.size,name:ye(a.label,e.x_axis.unit,t.custom_fields,i.users,e),color:we(a,e.x_axis.unit)}))}]);break;case l.a.BatteryChart:o.series=t&&t.pie?t.pie.map(a=>({type:"bar",name:ye(a.label,e.x_axis.unit,t.custom_fields,i.users,e),color:we(a,e.x_axis.unit),data:[a.size]})):[{type:"bar",data:[0]}],o.xAxis.labels={enabled:!1},o.tooltip.headerFormat="",o.plotOptions.series={stacking:1===e.show_value?"percent":"normal"}}!a&&n/(c||1)>20&&(o.yAxis.type="logarithmic")}const c=a?J:ee;return o=Object(u.merge)(o,c),o}function Se(e){if(!e.view)return e.view;const t=Object.assign({},e.view);return e.type===l.a.View&&e.view.type===b.i.List&&(t.settings=Object.assign(Object.assign({},t.settings),{show_subtasks:e.include_subtasks?b.h.StandAlone:b.h.None}),t.location_filter=e.location,t.filters=Object.assign(Object.assign({},e.filters),{show_closed:e.filters.show_closed}),t.grouping={field:e.group_by&&e.group_by.type},t.exclude_multiple_lists=e.exclude_multiple_lists),t}function je(e,t,i=!0,a=!0,o="",c=null){const n=e[t];return n&&(e=Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},n),{exportRequested:i,exportError:a,exportUrl:o,exportDateCreated:c})})),e}function Oe(e,t,i){const a=e[t];return a&&(e=Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},a),{columnSortMap:i.remove?{}:{[i.columnId]:"asc"===a.columnSortMap[i.columnId]?"desc":"asc"}})})),e}function Ie(e,t,i){const a=e[t.id];return a&&(e=Object.assign(Object.assign({},e),{[t.id]:Object.assign(Object.assign({},a),{columnSelectedMap:Object.assign(Object.assign({},a.columnSelectedMap),{[t.type]:Object.assign(Object.assign({},a.columnSelectedMap[t.type]),{[i.columnId]:{calculationId:i.calculation.key}})})})})),e}function De(e,t,i,a,o=!1,c=!0,n,s){const r=e[t];if(r){const l=Object.assign({},r.rowsMap[i]);l&&(a?l[a]=o?!l[a]:c:n&&s?(l.tasks=n,l.task_ids=s,l.loading=!1):n&&!s?(l.tasks=[...l.tasks||[],...n],l.loadingMore=!1):l.tasks||(l.expanded=!1,l.loading=!1)),e=Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},r),{rowsMap:Object.assign(Object.assign({},r.rowsMap),{[i]:l})})})}return e}function Ce(e,t,i,a){if([l.a.WorkSpacePoints,l.a.WorkedOn,l.a.WhoseBehind,l.a.CompletedReport,l.a.TimeTracked].includes(e))return t.map(e=>{const t=i[e.id].selected||{};return{id:e.id,calculation:t,calculatedValue:t.calculate?t.calculate(a.map(t=>t[e.id])):null,cssClass:e.cssClass}})}function Pe(e,t){if(e===l.a.TimeEstimated)return t.reduce((e,t)=>(e.time_tracked+=t.time_tracked,e.time_estimated+=t.time_estimated,e.task_count+=t.task_count,e),{time_tracked:0,time_estimated:0,task_count:0})}function $e(e){const t={};return l.f[e].forEach(e=>{t[e.id]=!0}),t}function ze(e){switch(e){case l.a.WorkedOn:return"worked_on";case l.a.WorkSpacePoints:return"team_table";case l.a.WhoseBehind:return"behind";case l.a.TimeEstimated:return"time_estimate";case l.a.TimeTracked:return"time_tracking";default:return"completed"}}function Me(e,t,i,a){const n=t[e.id],s=function(e,t,i,a,c,n){let s,r=[];e.filters&&e.filters.fields&&e.filters.fields.length&&(s=e.filters.fields.find(e=>e.field===o.k.name),s=s||{},r=(s.values||[]).filter(e=>e.group_id).map(e=>{const t=n.find(t=>t.id===e.group_id);return t?t.members.map(e=>e.id):[]}).flat());let d=t;s&&s.values&&s.values.length>0&&(d=s.values);let u=((t=Object(_.a)([...(d||[]).map(e=>e&&e.me&&c&&c.id?c.id:e),...r]))||[]).map(e=>{const t=parseInt(e,10);return i[t]}).filter(e=>!!e);switch(e.type){case l.a.CompletedReport:u=u.filter(e=>e.completed_count);break;case l.a.WorkedOn:u=u.filter(e=>e.worked_on_count);break;case l.a.TimeTracked:case l.a.TimeEstimated:u=u.filter(e=>e.task_count);break;case l.a.WorkSpacePoints:u=u.map(e=>{const t=e.cleared_notifs+e.comments_added+e.comments_resolved+e.tasks_completed+e.tasks_worked_on;return Object.assign(Object.assign({},e),{totals:t||0})})}const p=Object.keys(a).map(e=>({id:e}));return u.sort(p.length?(e,t)=>{for(let i=0;i<p.length;i++){const o="remaining"!==p[i].id?e[p[i].id]-t[p[i].id]:e.time_estimated-e.time_tracked-(t.time_estimated-t.time_tracked);if(o>0)return"asc"===a[p[i].id]?1:-1;if(o<0)return"asc"===a[p[i].id]?-1:1}}:(e,t)=>{const i=((e.user||{username:"AAAAAA"}).username||e.user.email).toUpperCase(),a=((t.user||{username:"AAAAAA"}).username||t.user.email).toUpperCase();return i<a?-1:i>a?1:0}),u}(e,[...n.ids],n.rowsMap,n.columnSortMap,i,a),r=l.f[e.type],u=function(e,t,i){const a={};return t.forEach(t=>{const o=d.c,c=i[e],n=o.find(e=>e.key===c[t.id].calculationId);a[t.id]={calculations:o,selected:n}}),a}(e.type,r,n.columnSelectedMap);return{reportRows:s,totalsRow:Pe(e.type,s),columnsList:r,columns:$e(e.type),columnSortMap:n.columnSortMap,startDate:e.start,endDate:e.end,groupResultsBy:c.b.User,reportingType:ze(e.type),viewPreferences:{showSubtaskParentNames:e.show_subtask_parent_names},calculations:u,calculatedRow:Ce(e.type,r,u,s),exportRequested:n.exportRequested,exportError:n.exportError,exportUrl:n.exportUrl,exportDateCreated:n.exportDateCreated}}function Ee(e){const t=e.view.activity_settings&&e.view.activity_settings.filters,i=t&&t.find(e=>"fields"===e.field);return i&&i.values}},PXym:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("fXoL");let o=(()=>{class e{transform(e){return $localize`:used as tooltip message in calendar@@calendar-task-recurring-text__taskname:Recurring task based on ${e}:taskName:`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Vb({name:"calendarTaskRecurringText",type:e,pure:!0}),e})()},PoDU:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var a=function(e){return e.HTML="html",e.URL="url",e.Cancel="cancel",e}({})},QJDM:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("fXoL"),o=i("2p4s"),c=i("tk/3"),n=i("jJW4"),s=i("irDL");let r=(()=>{class e{constructor(e,t,i){this.http=e,this.sharedData=t,this.errorHandler=i,this.hotkeys=new a.o,this.apiUrl=o.a.apiUrl}getImports(e){return this.http.get(`${this.apiUrl}/import/${e}`).pipe(this.errorHandler.http())}deleteImport(e){return this.http.delete(`${this.apiUrl}/import/${e}`).pipe(this.errorHandler.http())}cancelImport(e){return this.http.post(`${this.apiUrl}/import/${e}/cancel`,null).pipe(this.errorHandler.http())}startCsvImport(e){return this.http.post(`${this.apiUrl}/csv/${this.sharedData.compatCurrentTeam.id}/import`,e).pipe(this.errorHandler.http())}}return e.\u0275fac=function(t){return new(t||e)(a.nc(c.b),a.nc(n.a),a.nc(s.a))},e.\u0275prov=a.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},R7XO:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("ofXK"),o=i("K0KF"),c=i("fXoL");let n=(()=>{class e{}return e.\u0275mod=c.Ub({type:e}),e.\u0275inj=c.Tb({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,o.a]]}),e})()},RdfU:function(e,t,i){e.exports=i.p+"miro-yellow.5a783b64705d2958029f.svg"},"S/X0":function(e,t,i){"use strict";i.d(t,"a",function(){return L});var a=i("fXoL"),o=i("c3rA"),c=i("lJxs"),n=i("IzEk"),s=i("XIp8"),r=Math.floor,l=Math.random,d=i("XFn8"),u=i("ywm8"),p=parseFloat,m=Math.min,h=Math.random,b=i("GXRk"),g=i("o7Ov"),f=i("XNiG"),_=i("jJQC"),v=i("5b//"),y=i("5+WD"),w=i("l7P3"),k=i("jJW4"),x=i("xMfC"),T=i("Jf2N"),S=i("ofXK"),j=i("UdVN"),O=i("3Pt+"),I=i("KzhV");function D(e,t){1&e&&(a.cc(0,"div",42),a.gc(1,43),a.bc())}function C(e,t){1&e&&(a.cc(0,"div",42),a.gc(1,44),a.bc())}function P(e,t){if(1&e&&(a.cc(0,"div",38),a.cc(1,"div",39),a.Xb(2,"div",40),a.bc(),a.bd(3,D,2,0,"div",41),a.bd(4,C,2,0,"div",41),a.bc()),2&e){const e=a.uc().$implicit;a.Ib(3),a.Dc("ngIf",e.errors.maxLength),a.Ib(1),a.Dc("ngIf",e.errors.duplicate)}}const $=function(){return["bottom","top","auto"]};function z(e,t){if(1&e){const e=a.dc();a.cc(0,"div",23),a.cc(1,"div",24),a.Xb(2,"div",25),a.bc(),a.cc(3,"div",26),a.cc(4,"label",27),a.gc(5,28),a.bc(),a.cc(6,"div",29),a.Xb(7,"div",30),a.cc(8,"input",31,32),a.qc("ngModelChange",function(e){return t.$implicit.label=e})("ngModelChange",function(){return a.Uc(e),a.uc().validateStatuses()})("blur",function(){return a.Uc(e),a.uc().validateStatuses()})("keyup.Enter",function(){a.Uc(e);const i=t.last;return a.uc().addStatus(i)}),a.bc(),a.cc(10,"cu-color-picker-dropdown",33,34),a.qc("selectedColorChange",function(i){a.Uc(e);const o=t.$implicit,c=a.Rc(11);return a.uc().setColor(o,i,c)}),a.cc(12,"div",35),a.gc(13,36),a.bc(),a.bc(),a.cc(14,"div",37),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc().removeStatus(i)}),a.bc(),a.bc(),a.cc(15,"div",12),a.bd(16,P,5,2,"div",13),a.bc(),a.bc(),a.bc()}if(2&e){const e=t.$implicit,i=t.index;a.Ib(2),a.Dc("icon","handle4"),a.Ib(3),a.kc(i+1),a.hc(5),a.Ib(2),a.ad("background-color",e.color),a.Ib(1),a.Ob("cu-edit-list-statuses-modal__input_empty",!e.label),a.Dc("ngModel",e.label),a.Ib(2),a.Dc("presetColors",e.presetColors)("selectedColor",e.color)("panelWidth",200)("onlyPickFromPresets",!0)("dropdownPlacement",a.Gc(13,$)),a.Ib(6),a.Dc("ngIf",e.errors.maxLength||e.errors.duplicate)}}function M(e,t){if(1&e){const e=a.dc();a.cc(0,"div",45),a.qc("click",function(){return a.Uc(e),a.uc().addStatus(!0)}),a.cc(1,"div",46),a.dd(2,"+"),a.bc(),a.ac(3),a.gc(4,47),a.Zb(),a.bc()}}function E(e,t){1&e&&(a.cc(0,"div",38),a.cc(1,"div",39),a.Xb(2,"div",40),a.bc(),a.cc(3,"div",42),a.gc(4,48),a.bc(),a.bc())}let L=(()=>{class e{constructor(e,t,i,o,c){this.store=e,this.sharedData=t,this.cdr=i,this.teamService=o,this.modal=c,this.listStatusesChanged=new a.o,this.destroy$=new f.a,this.presetColors=v.b.filter(e=>"#fff"!==e),this.trackById=Object(_.d)("id")}ngOnInit(){this.store.select(o.getTeam).pipe(Object(c.a)(e=>Object(s.a)(e.subcategory_statuses)),Object(n.a)(1)).subscribe(e=>{this.statusList=e.map(e=>({id:e.status,originalStatus:e,label:e.hide_label?"":e.status,color:e.color,errors:{},presetColors:[]})),this.updateColors()})}ngOnDestroy(){this.destroy$.next()}validateStatuses(){this.statusList=this.statusList.map(e=>{const t=e.label.toLowerCase();return Object.assign(Object.assign({},e),{label:t,errors:{duplicate:this.statusList.some(i=>i!==e&&t&&i.label===t),maxLength:t.length>255}})})}save(){if(this.validateStatuses(),this.statusList.some(e=>e.errors.maxLength||e.errors.duplicate)||0===this.statusList.length)return;this.saving=!0;const e={};this.statusList.forEach(t=>{t.originalStatus&&t.label.toLowerCase()!==t.originalStatus.status.toLowerCase()&&t.label&&(e[t.originalStatus.status.toLowerCase()]=t.label.toLowerCase())}),this.teamService.updateSubcategoryStatuses(this.sharedData.compatCurrentTeam.id,{status_change_map:e,statuses:this.statusList.map((e,t)=>({color:e.color,orderindex:t,status:e.label.toLowerCase()||(e.originalStatus?e.originalStatus.status:e.color),type:b.g.Custom,hide_label:!e.label}))}).subscribe(e=>{this.store.dispatch(new g.rk(Object.assign(Object.assign({},this.sharedData.compatCurrentTeam),{subcategory_statuses:e}))),this.listStatusesChanged.emit(),this.modal.close()},()=>{this.saving=!1,this.cdr.detectChanges()})}removeStatus(e){this.statusList=this.statusList.filter(t=>t!==e),this.updateColors()}addStatus(e){if(e){const e=this.presetColors.filter(e=>!this.statusList.some(t=>t.color===e));if(e.length>0){const t=e[function(e,t,i){if(i&&"boolean"!=typeof i&&Object(d.a)(e,t,i)&&(t=i=void 0),void 0===i&&("boolean"==typeof t?(i=t,t=void 0):"boolean"==typeof e&&(i=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Object(u.a)(e),void 0===t?(t=e,e=0):t=Object(u.a)(t)),e>t){var a=e;e=t,t=a}if(i||e%1||t%1){var o=h();return m(e+o*(t-e+p("1e-"+((o+"").length-1))),t)}return function(e,t){return e+r(l()*(t-e+1))}(e,t)}(0,e.length-1)];this.statusList=[...this.statusList,{id:"new-status-"+t,label:"",color:t,errors:{},presetColors:[]}],this.updateColors(),this.cdr.detectChanges();const i=document.querySelectorAll(".cu-custom-fields__form-dropdown-option-input");i.length>1&&i[i.length-1].focus()}}}setColor(e,t,i){e.color=t,i.close(),this.updateColors()}statusDropped(e){Object(y.g)(this.statusList,e.previousIndex,e.currentIndex)}updateColors(){this.statusList=this.statusList.map(e=>Object.assign(Object.assign({},e),{presetColors:this.presetColors.filter(t=>!this.statusList.some(i=>i!==e&&i.color.toLowerCase()===t.toLowerCase()))}))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(w.Store),a.Wb(k.a),a.Wb(a.h),a.Wb(x.a),a.Wb(T.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-edit-list-statuses-modal"]],outputs:{listStatusesChanged:"listStatusesChanged"},decls:23,vars:5,consts:function(){let e,t,i,a,o,c,n,s,r,l,d;return e=$localize`:@@cu-edit-list-statuses-modal__heading_list-colors␟441ed46ea084dfd8cc498291f65fd65635e27c85␟4994575499348166654: List colors `,t=$localize`:@@cu-edit-list-statuses-modal__description_list-colors␟a0254d54690765925beae65bfc3389d97e0d263d␟8852972091988172777: Add ultimate transparency to Lists with colors to track progress and categorize Lists. `,i=$localize`:@@cu-edit-list-statuses-modal__list-colors-notice␟a2a461e5a64801e962c2ac69ed29fefd59f44a6c␟2985924059472172672: Note: These colors are applied across your entire ClickUp Workspace. `,a=$localize`:@@common_save␟52c9a103b812f258bcddc3d90a6e3f46871d25fe␟3768927257183755959:Save`,o=$localize`:@@cu-edit-list-statuses-modal__form-label_color-item-n␟0d9195c39680c33fc837068ce907324e44855711␟3130811714017186264: Color ${"\ufffd0\ufffd"}:INTERPOLATION: `,c=$localize`:@@cu-edit-list-statuses-modal__form-placeholder_color-label␟67f11431695e906099500334148e6ffcf57430e5␟2886608012575118486:Type an optional label...`,n=$localize`:@@common_change-color␟099b3768a49242ddd9f0c362ee712291590f3a85␟6304304750826392853: Change color `,s=$localize`:@@cu-edit-list-statuses-modal__form-error_color-name-too-long␟67f6381e7d097357735fc92245e282d8b183176b␟2991629768633350968: Whoops! Color name is too long. `,r=$localize`:@@cu-edit-list-statuses-modal__form-error_color-name-taken␟711eb5c4fad8876b1bd272ef27b6081c7e540382␟7934215978013886455: Whoops! Color name is already taken `,l=$localize`:@@cu-edit-list-statuses-modal__btn-txt_add-color␟926f05b0a303f29a36711d41f40f669e19147da4␟8837529737614119283:Add new color`,d=$localize`:@@cu-edit-list-statuses-modal__form-error_min-one-color-required␟65a12b48aa8c36561dc7fba05b736f1fc36c471f␟3499144438083927284: Whoops! At least one color is required `,[[1,"cu-edit-list-statuses-modal"],[1,"cu-edit-list-statuses-modal__heading"],e,[1,"cu-edit-list-statuses-modal__description"],t,[1,"cu-edit-list-statuses-modal__note"],[1,"cu-edit-list-statuses-modal__note-background"],[1,"cu-edit-list-statuses-modal__note-content"],i,["cdkDropList","",3,"cdkDropListDropped"],["class","cu-custom-fields__form-row","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-custom-fields__form-dropdown-option-add",3,"click",4,"ngIf"],[1,"cu-status-badge__label_container","create-project-modal__statuses-error"],["class","cu-status-badge__error_tags_modal",4,"ngIf"],[1,"cu-edit-list-statuses-modal__content"],[1,"cu-edit-list-statuses-modal__footer"],[1,"cu-btn","cu-btn_m","cu-btn_full-width","cu-btn_spinner",3,"disabled","click"],[1,"cu-btn__text"],a,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"],["cdkDrag","",1,"cu-custom-fields__form-row"],["cdkDragHandle","",1,"cu-custom-fields__list-item__handler","cu-draggable"],[1,"cu-custom-fields__list-item__handler-icon",3,"icon"],[1,"cu-custom-fields__form-row-item"],[1,"cu-custom-fields__form-input-label"],o,[1,"cu-custom-fields__form-dropdown-option",2,"position","relative"],[1,"cu-custom-fields__form-dropdown-option-color"],["type","text","placeholder",c,1,"cu-custom-fields__form-dropdown-option-input","cu-edit-list-statuses-modal__input",3,"ngModel","ngModelChange","blur","keyup.Enter"],["labelModel","ngModel"],[3,"presetColors","selectedColor","panelWidth","onlyPickFromPresets","dropdownPlacement","selectedColorChange"],["colorPicker",""],[1,"cu-custom-fields__form-dropdown-option-add-color"],n,["icon","trash",1,"cu-custom-fields__form-dropdown-option-remove",3,"click"],[1,"cu-status-badge__error_tags_modal"],[1,"cu-status-badge__error_tags_modal-icon"],[1,"cu-icon","cu-icon_warning","cu-status-badge__error_tags_modal__warning-icon"],["class","cu-status-badge__error_tags_modal-text",4,"ngIf"],[1,"cu-status-badge__error_tags_modal-text"],s,r,[1,"cu-custom-fields__form-dropdown-option-add",3,"click"],[1,"cu-custom-fields__form-dropdown-option-add-plus"],l,d]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.cc(1,"h2",1),a.gc(2,2),a.bc(),a.cc(3,"div",3),a.gc(4,4),a.bc(),a.cc(5,"div",5),a.Xb(6,"div",6),a.cc(7,"div",7),a.gc(8,8),a.bc(),a.bc(),a.cc(9,"div",9),a.qc("cdkDropListDropped",function(e){return t.statusDropped(e)}),a.bd(10,z,17,14,"div",10),a.bc(),a.bd(11,M,5,0,"div",11),a.cc(12,"div",12),a.bd(13,E,5,0,"div",13),a.bc(),a.cc(14,"div",14),a.cc(15,"div",15),a.cc(16,"button",16),a.qc("click",function(){return t.save()}),a.cc(17,"div",17),a.gc(18,18),a.bc(),a.cc(19,"div",19),a.Xb(20,"div",20),a.Xb(21,"div",21),a.Xb(22,"div",22),a.bc(),a.bc(),a.bc(),a.bc(),a.bc()),2&e&&(a.Ib(10),a.Dc("ngForOf",t.statusList)("ngForTrackBy",t.trackById),a.Ib(1),a.Dc("ngIf",t.statusList.length<t.presetColors.length),a.Ib(2),a.Dc("ngIf",0===t.statusList.length),a.Ib(3),a.Dc("disabled",t.saving))},directives:[y.d,S.p,S.q,y.a,y.b,j.a,O.c,O.p,O.s,I.a],styles:[".cu-edit-list-statuses-modal__heading[_ngcontent-%COMP%]{font-size:21px;font-weight:500;text-align:center;letter-spacing:.6px;line-height:.8}.cu-edit-list-statuses-modal__description[_ngcontent-%COMP%]{font-size:14px;line-height:1.21;letter-spacing:.4px;text-align:center;max-width:350px;display:block;margin:10px auto}.cu-edit-list-statuses-modal__note[_ngcontent-%COMP%]{position:relative;height:32px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:block;margin:13px auto}.cu-edit-list-statuses-modal__note-background[_ngcontent-%COMP%]{background:#7b68ee;position:absolute;left:0;right:0;top:0;bottom:0;border-radius:16px;opacity:.11}@supports (--theme-main-color:#7b68ee){.cu-edit-list-statuses-modal__note-background[_ngcontent-%COMP%]{background:var(--theme-main-color)}}.cu-edit-list-statuses-modal__note-content[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.3px;text-align:center;line-height:32px;padding:0 11px;color:#7b68ee;position:relative}@supports (--theme-main-color:#7b68ee){.cu-edit-list-statuses-modal__note-content[_ngcontent-%COMP%]{color:var(--theme-main-color)}}.cu-edit-list-statuses-modal__content[_ngcontent-%COMP%]{max-width:265px;margin:0 auto}.cu-edit-list-statuses-modal__statuses[_ngcontent-%COMP%]{max-width:265px;margin:33px auto 0}.cu-edit-list-statuses-modal__footer[_ngcontent-%COMP%]{margin-top:26px}.cu-edit-list-statuses-modal__input[_ngcontent-%COMP%]{text-transform:uppercase}.cu-edit-list-statuses-modal__input_empty[_ngcontent-%COMP%]{text-transform:none}"]}),e})()},S1QS:function(e,t,i){"use strict";i.d(t,"n",function(){return o}),i.d(t,"l",function(){return c}),i.d(t,"p",function(){return r}),i.d(t,"t",function(){return u}),i.d(t,"m",function(){return p}),i.d(t,"o",function(){return b}),i.d(t,"r",function(){return v}),i.d(t,"q",function(){return y}),i.d(t,"s",function(){return w}),i.d(t,"b",function(){return ue}),i.d(t,"c",function(){return ce}),i.d(t,"a",function(){return ne}),i.d(t,"d",function(){return V}),i.d(t,"k",function(){return X}),i.d(t,"g",function(){return H}),i.d(t,"e",function(){return Y}),i.d(t,"i",function(){return Z}),i.d(t,"j",function(){return Q}),i.d(t,"f",function(){return K}),i.d(t,"h",function(){return J});var a=i("l7P3");const o=Object(a.createAction)("[HOME] Load home view data",Object(a.props)()),c=Object(a.createAction)("[HOME] Load agenda start"),n=Object(a.createAction)("[HOME] Load agenda success",Object(a.props)()),s=Object(a.createAction)("[HOME] Load agenda success",Object(a.props)()),r=Object(a.createAction)("[HOME] Load trending tasks start"),l=Object(a.createAction)("[HOME] Load trending tasks success",Object(a.props)()),d=Object(a.createAction)("[HOME] Load trending tasks error",Object(a.props)()),u=Object(a.createAction)("[HOME] update assigned comment",Object(a.props)()),p=Object(a.createAction)("[HOME] Load assigned comments start",Object(a.props)()),m=Object(a.createAction)("[HOME] Load assigned comments success",Object(a.props)()),h=Object(a.createAction)("[HOME] Load assigned comments error",Object(a.props)()),b=Object(a.createAction)("[HOME] Load tagged comments start",Object(a.props)()),g=Object(a.createAction)("[HOME] Load tagged comments success",Object(a.props)()),f=Object(a.createAction)("[HOME] Load tagged comments error",Object(a.props)()),_=Object(a.createAction)("[HOME] Remove assigned comment",Object(a.props)()),v=Object(a.createAction)("[HOME] Set Todo tab",Object(a.props)()),y=Object(a.createAction)("[HOME] Set Calendar tab",Object(a.props)()),w=Object(a.createAction)("[HOME] Toggle Show Calendar");Object(a.union)({loadHomeViewData:o,loadAgendaStart:c,loadAgendaSuccess:n,loadAgendaError:s,loadTrendingTasksStart:r,loadTrendingTasksSuccess:l,loadTrendingTasksError:d,loadAssignedCommentsStart:p,loadAssignedCommentsSuccess:m,loadAssignedCommentsError:h,updateAssignedTaggedComment:u,loadTaggedCommentsStart:b,loadTaggedCommentsSuccess:g,loadTaggedCommentsError:f,removeAssignedComment:_,setTodoTab:v,setCalendarTab:y,toggleShowCalendar:w});var k=i("xA85"),x=i("9jGm"),T=i("tjT+"),S=i("c3rA"),j=i("7G3y"),O=i("T1Rn"),I=i("f0Wu"),D=i("LRne"),C=i("EY2u"),P=i("PqYM"),$=i("zp1y"),z=i("eIep"),M=i("JIr8"),E=i("lJxs"),L=i("5+tZ"),A=i("CqXF"),F=i("1G5W"),U=i("pLZG"),N=i("CgHv"),R=i("GXRk"),G=i("GkwO"),q=i("P9u+"),B=i("4F4K");const W=Object(a.createFeatureSelector)("homeView");Object(a.createSelector)(G.Q,e=>{const t={};return Object.values(e).forEach(e=>{Object.values(e).forEach(e=>{e.forEach(e=>{t[e.id]=e})})}),t});const V=Object(a.createSelector)(W,q.a,(e,t)=>{var i;return(null===(i=e.agenda)||void 0===i?void 0:i.map(e=>{var i,a;if(e.reminder){const a=null!==(i=t.remindersCache[Object(N.e)(e)])&&void 0!==i?i:e;return{id:a.id,title:a.title,startDate:a.due_date,startDateTime:a.end_date_time,allDay:!a.due_date_time,reminder:a,active:a.due_date&&a.due_date_time&&!a.complete,momentStart:I(+a.due_date),momentEnd:I(+a.due_date).add(1,"hour")}}{const i=null!==(a=t.tasksCache[e.id])&&void 0!==a?a:e;return Object.assign({id:e.id,title:i.name,startDate:i.start_date,startDateTime:i.start_date_time,endDate:i.due_date,endDateTime:i.due_date_time,active:(i.start_date&&i.start_date_time||e.due_date&&e.due_date_time)&&![R.g.Done,R.g.Closed].includes(i.status.type),allDay:!(i.start_date?i.start_date_time:i.due_date_time),task:i},function(e){if(e.start_date&&e.due_date){const t=I(+e.start_date),i=I(+e.due_date);return e.start_date_time?e.due_date_time||i.startOf("day"):t.startOf("day"),{momentStart:t,momentEnd:i}}return e.due_date?{momentStart:I(+e.due_date),momentEnd:I(+e.due_date).add(1,"hour")}:{momentStart:I(+e.start_date),momentEnd:I(+e.start_date).add(1,"hour")}}(i))}}))||[]}),X=Object(a.createSelector)(W,S.getAllSubcategories,S.getAllCategories,S.getAllProjects,B.g,(e,t,i,a,o)=>{if(e.trendingTasks)return e.trendingTasks.map(e=>{const c=Object.assign(Object.assign(Object.assign({},e),o[e.id]),{subcategory:t.find(t=>t.id===e.subcategory_id),category:null,project:null});return c.subcategory&&(c.category=i.find(e=>e.id===c.subcategory.category),c.project=a.find(e=>e.id===c.subcategory.project_id)),c})}),H=e=>Object(a.createSelector)(W,t=>t.pagination[e]),Y=Object(a.createSelector)(W,e=>e.assignedComments),Z=Object(a.createSelector)(W,e=>e.taggedComments),Q=Object(a.createSelector)(W,e=>e.todoTab),K=Object(a.createSelector)(W,e=>e.calendarTab),J=Object(a.createSelector)(W,e=>e.showCalendar);var ee=i("m2rH"),te=i("fXoL"),ie=i("AeD3"),ae=i("UAfm");let oe=(()=>{class e{constructor(e,t,i,a){this.action$=e,this.store=t,this.dataService=i,this.homeService=a,this.loadHomeViewData$=Object(x.c)(()=>this.action$.pipe(Object(x.d)(o),Object($.a)(this.store.select(S.getSelectedTeamId),this.store.select(S.getUser)),Object(z.a)(([,e,t])=>[c(),r(),Object(O.e)({userId:t.id,teamId:e}),Object(j.j)({teamId:e}),p({loadMore:!1}),b({loadMore:!1})]))),this.loadAgenda$=Object(x.c)(()=>this.action$.pipe(Object(x.d)(c),Object($.a)(this.store.select(S.getSelectedTeamId),this.store.select(S.getUser)),Object(z.a)(([,e,t])=>this.getInbox(e,t.id).pipe(Object(z.a)(e=>[new ee.f(e),n({tasks:e})]),Object(M.a)(e=>Object(D.a)(s({error:e}))))))),this.loadTrendingTasks$=Object(x.c)(()=>this.action$.pipe(Object(x.d)(r),Object($.a)(this.store.select(S.getSelectedTeamId),this.store.select(S.getUser)),Object(z.a)(([,e,t])=>this.homeService.getLiveData(e,{start:I().startOf("day").valueOf(),end:I().endOf("day").valueOf(),buckets:24,"userids[]":[t.id]}).pipe(Object(E.a)(({members:e})=>l({trendingTasks:e.find(e=>e.user.id===t.id).activity.tasks.map(e=>Object.assign(Object.assign({},e),{status:{status:e.status,color:e.color,type:e.type}}))})),Object(M.a)(e=>Object(D.a)(d({error:e}))))))),this.loadAssignedComments$=Object(x.c)(()=>this.action$.pipe(Object(x.d)(p),Object($.a)(this.store.select(S.getSelectedTeamId),this.store.select(Y)),Object(z.a)(([e,t,i])=>{const a={resolved:!1};return e.loadMore&&i&&(a.startId=i[i.length-1].comments[i[i.length-1].comments.length-1].id),this.homeService.getAssignedComments(t,a).pipe(Object(E.a)(t=>m({hasMore:t.length>0,comments:t.map(e=>Object.assign(Object.assign({},e),{id:e.comments.map(e=>e.id).join("-")})),loadMore:e.loadMore})),Object(M.a)(e=>Object(D.a)(h({error:e}))))}))),this.loadTaggedComments$=Object(x.c)(()=>this.action$.pipe(Object(x.d)(b),Object($.a)(this.store.select(S.getSelectedTeamId),this.store.select(Z)),Object(z.a)(([e,t,i])=>this.homeService.getTaggedComments(t,e.loadMore?{unclearedMentions:!0,startDate:i[i.length-1].comments[i[i.length-1].comments.length-1].date}:{unclearedMentions:!0}).pipe(Object(E.a)(({comments:t})=>g({hasMore:t.length>0,comments:t.map(e=>Object.assign(Object.assign({},e),{id:e.comment.id,comments:[e.comment]})),loadMore:e.loadMore})),Object(M.a)(e=>Object(D.a)(f({error:e}))))))),this.removeAssignedComment$=Object(x.c)(()=>this.action$.pipe(Object(x.d)(T.e.UpdateCommentStart),Object($.a)(this.store.select(Y)),Object(L.a)(([e,t])=>e.payload.changes.resolved&&t&&t.some(t=>t.id===e.payload.comment.id)?Object(P.a)(3e3).pipe(Object(A.a)(_({comment:e.payload.comment})),Object(F.a)(this.action$.pipe(Object(x.d)(T.e.UpdateCommentStart),Object(U.a)(t=>t.payload.comment.id===e.payload.comment.id&&!t.payload.changes.resolved)))):C.a)))}getInbox(e,t){return this.dataService.getUserInbox(e,t,{endDate:I().startOf("day").format("x"),startDate:I().endOf("day").format("x")}).pipe(Object(z.a)(({inbox:{ids:e}})=>this.dataService.getTasksByIds(e)))}}return e.\u0275fac=function(t){return new(t||e)(te.nc(x.a),te.nc(a.Store),te.nc(ie.a),te.nc(ae.b))},e.\u0275prov=te.Sb({token:e,factory:e.\u0275fac}),e})();var ce=function(e){return e.Inbox="inbox",e.Comments="Comments",e.Done="Done",e.Delegated="Delegated",e}({}),ne=function(e){return e.Calendar="calendar",e.Agenda="agenda",e}({});function se(){return{pagination:{tasks:{hasMore:!1,moreLoading:!1},assignedComments:{hasMore:!1,moreLoading:!1},taggedComments:{hasMore:!1,moreLoading:!1}},todoTab:ce.Inbox,calendarTab:ne.Calendar,showCalendar:!0}}function re(e,t,i,a){return(e||[]).map(e=>e.id===t.id?Object.assign(Object.assign({},e),{comments:e.comments.map(e=>e.id===i.id?Object.assign(Object.assign({},e),a):e)}):e)}const le=Object(a.createReducer)(se(),Object(a.on)(o,(e,{teamId:t})=>{const i=t!==e.teamId?se():e;return Object.assign(Object.assign({},i),{teamId:t})}),Object(a.on)(n,(e,{tasks:t})=>Object.assign(Object.assign({},e),{agenda:t})),Object(a.on)(l,(e,{trendingTasks:t})=>Object.assign(Object.assign({},e),{trendingTasks:t})),Object(a.on)(p,(e,{loadMore:t})=>Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{assignedComments:Object.assign(Object.assign({},e.pagination.assignedComments),{moreLoading:t})})})),Object(a.on)(m,(e,{hasMore:t,comments:i,loadMore:a})=>Object.assign(Object.assign({},e),{assignedComments:a?[...e.assignedComments,...i]:i,pagination:Object.assign(Object.assign({},e.pagination),{assignedComments:{hasMore:t,moreLoading:!1}})})),Object(a.on)(u,(e,{comment:t,changes:i,homeViewComment:a,forAssigned:o})=>Object.assign(Object.assign({},e),{assignedComments:o?re(e.assignedComments,a,t,i):e.assignedComments,taggedComments:o?e.taggedComments:re(e.taggedComments,a,t,i)})),Object(a.on)(b,(e,{loadMore:t})=>Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{taggedComments:Object.assign(Object.assign({},e.pagination.taggedComments),{moreLoading:t})})})),Object(a.on)(g,(e,{hasMore:t,comments:i,loadMore:a})=>Object.assign(Object.assign({},e),{taggedComments:a?[...e.taggedComments,...i]:i,pagination:Object.assign(Object.assign({},e.pagination),{taggedComments:{hasMore:t,moreLoading:!1}})})),Object(a.on)(_,(e,{comment:t})=>Object.assign(Object.assign({},e),{assignedComments:e.assignedComments.filter(e=>e.id!==t.id)})),Object(a.on)(v,(e,{tab:t})=>Object.assign(Object.assign({},e),{todoTab:t})),Object(a.on)(y,(e,{tab:t})=>Object.assign(Object.assign({},e),{calendarTab:t})),Object(a.on)(w,e=>Object.assign(Object.assign({},e),{showCalendar:!e.showCalendar})));function de(e,t){return le(e,t)}let ue=(()=>{class e{}return e.\u0275mod=te.Ub({type:e}),e.\u0275inj=te.Tb({factory:function(t){return new(t||e)},imports:[[a.StoreModule.forFeature("doc",k.f),a.StoreModule.forFeature("homeView",de),x.b.forFeature([oe])]]}),e})()},S61B:function(e,t,i){"use strict";i.d(t,"f",function(){return c}),i.d(t,"a",function(){return n}),i.d(t,"c",function(){return s}),i.d(t,"e",function(){return r}),i.d(t,"d",function(){return l}),i.d(t,"b",function(){return d});var a=i("l7P3");const o=Object(a.createFeatureSelector)("profiles"),c=Object(a.createSelector)(o,e=>e.user),n=Object(a.createSelector)(o,c,(e,t)=>t&&e.dataMap[t.id]),s=Object(a.createSelector)(o,c,(e,t)=>t&&e.recentDataMap[t.id]),r=Object(a.createSelector)(c,e=>!!e),l=Object(a.createSelector)(o,e=>e.selectedTab),d=Object(a.createSelector)(o,e=>e.overTaskView)},S8g8:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("MCHM"),o=i("fXoL"),c=i("Jf2N"),n=i("UdVN");let s=(()=>{class e{constructor(e,t){this.modal=e,this.injector=t,this.modifier="",this.iconModifier="cu2-search"}openSearchModal(){this.modal.openComponent(a.a,this.injector,{modifier:"cu-search-modal-modifier cu-modal_zoom",alwaysCloseOnEscape:!0})}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(c.a),o.Wb(o.t))},e.\u0275cmp=o.Qb({type:e,selectors:[["cu2-search"]],hostVars:4,hostBindings:function(e,t){2&e&&(o.Lb(t.modifier),o.Ob("cu2-search",!0))},inputs:{modifier:"modifier",iconModifier:"iconModifier"},decls:4,vars:1,consts:function(){let e;return e=$localize`:generic search text@@common_search␟b10c8765bf1f210b49391c4ecae1d1ed4ae8ab7a␟1891854730787749971: Search `,[[1,"cu2-search__inner",3,"click"],[1,"cu2-search__icon",3,"icon"],[1,"cu2-search__text"],e]},template:function(e,t){1&e&&(o.cc(0,"div",0),o.qc("click",function(){return t.openSearchModal()}),o.Xb(1,"div",1),o.cc(2,"div",2),o.gc(3,3),o.bc(),o.bc()),2&e&&(o.Ib(1),o.Ec("icon",t.iconModifier))},directives:[n.a],styles:[".cu2-search{transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;position:relative;width:30px;height:30px;border-radius:3px;overflow:hidden;flex-shrink:0}.cu2-search:hover .cu2-search__icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-search:hover .cu2-search__icon{fill:var(--theme-main-color)}}.cu2-search:hover .cu2-search__text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-search:hover .cu2-search__text{color:var(--theme-main-color)}}.cu2-search__inner{display:flex;align-items:center;cursor:pointer;width:100%;height:100%}.cu2-search__text{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;display:none}.cu2-search__icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:30px;height:30px;margin-right:0;padding:5px;fill:#292d34}.dark-theme .cu2-search__icon{fill:#d5d6d7}.cu2-search_simple-layout{width:auto;height:100%;flex-grow:1;border-radius:4px;background:#f6f7f9}.dark-theme .cu2-search_simple-layout{background:#384047}.cu-simple-bar.dark-theme .cu2-search_simple-layout{background:#2b343b}.cu2-search_simple-layout:hover .cu2-search__icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-search_simple-layout:hover .cu2-search__icon{fill:var(--theme-main-color)}}.dark-theme .cu2-search_simple-layout:hover .cu2-search__icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-search_simple-layout:hover .cu2-search__icon{fill:var(--theme-main-color)}}.cu2-search_simple-layout:hover .cu2-search__text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-search_simple-layout:hover .cu2-search__text{color:var(--theme-main-color)}}.dark-theme .cu2-search_simple-layout:hover .cu2-search__text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-search_simple-layout:hover .cu2-search__text{color:var(--theme-main-color)}}.cu2-search_simple-layout .cu2-search__inner{padding-left:12px}.cu2-search_simple-layout .cu2-search__icon{width:13px;height:13px;padding:0;margin-top:-1px;margin-right:6px;fill:rgba(41,45,52,.4)}.dark-theme .cu2-search_simple-layout .cu2-search__icon{fill:#7c828d}.cu2-search_simple-layout .cu2-search__text{display:block;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:rgba(124,130,141,.5)}.dark-theme .cu2-search_simple-layout .cu2-search__text{color:#7c828d}"],encapsulation:2,changeDetection:0}),e})()},SBD2:function(e,t,i){"use strict";i.d(t,"a",function(){return m});var a=i("fXoL"),o=i("ukJz"),c=i("ofXK"),n=i("UdVN"),s=i("NsZK"),r=i("cjvU");function l(e,t){1&e&&(a.cc(0,"div",5),a.Xb(1,"div",6),a.cc(2,"div",7),a.gc(3,8),a.bc(),a.bc())}function d(e,t){if(1&e&&(a.cc(0,"div",9),a.Xb(1,"div",10),a.cc(2,"div",7),a.Xb(3,"cu-datetime",11),a.bc(),a.bc()),2&e){const e=a.uc();a.Ib(3),a.Dc("date",null==e.dates?null:e.dates.start_date)("showTime",null==e.dates?null:e.dates.start_date_time)("noHighlight",!0)("noRelational",!0)}}function u(e,t){if(1&e&&(a.cc(0,"div",12),a.Xb(1,"div",6),a.cc(2,"div",7),a.Xb(3,"cu-datetime",13),a.bc(),a.bc()),2&e){const e=a.uc();a.Ib(3),a.Dc("date",null==e.dates?null:e.dates.due_date)("showTime",null==e.dates?null:e.dates.due_date_time)("noRelational",!0)}}function p(e,t){if(1&e&&(a.cc(0,"div",14),a.cc(1,"div",15),a.Xb(2,"cu-datetime",11),a.bc(),a.Xb(3,"div",16),a.cc(4,"div",17),a.Xb(5,"cu-datetime",13),a.bc(),a.bc()),2&e){const e=a.uc();a.Ib(2),a.Dc("date",null==e.dates?null:e.dates.start_date)("showTime",null==e.dates?null:e.dates.start_date_time)("noHighlight",!0)("noRelational",!0),a.Ib(3),a.Dc("date",null==e.dates?null:e.dates.due_date)("showTime",null==e.dates?null:e.dates.due_date_time)("noRelational",!0)}}let m=(()=>{class e{constructor(){this.readOnly=!1,this.onDateChanged=new a.o,this.onPickerToggled=new a.o}setDates(e){const t={start_date:e.startDate?String(new Date(e.startDate).getTime()):null,start_date_time:e.startDateTime||!1,due_date:e.dueDate?String(new Date(e.dueDate).getTime()):null,due_date_time:e.dueDateTime||!1};this.dates=t.start_date&&t.due_date&&t.start_date>t.due_date?{start_date:t.due_date,start_date_time:t.due_date_time,due_date:t.start_date,due_date_time:t.start_date_time}:t}pickerToggled(e){e||this.onDateChanged.emit(this.dates),this.onPickerToggled.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu2-list-details-datepicker"]],inputs:{dates:"dates",readOnly:"readOnly"},outputs:{onDateChanged:"onDateChanged",onPickerToggled:"onPickerToggled"},decls:5,vars:11,consts:function(){let e,t,i,a,o;return e=$localize`:@@common_start-date-1␟77bbe324b08f6636fb50f673cea05313b86fb692␟888341446683346521:Start date`,t=$localize`:@@common_due-date␟f2f085b2c292ce0d2f66de3c3754750b9fed1793␟2413171611497962745:Due date`,i=$localize`:@@common_set-due-date␟04fd68dfa35c9cf00182cac4e4942befef9391ee␟1129538102880625641: Set due date `,a=$localize`:@@common_start-date-1␟77bbe324b08f6636fb50f673cea05313b86fb692␟888341446683346521:Start date`,o=$localize`:@@common_due-date␟f2f085b2c292ce0d2f66de3c3754750b9fed1793␟2413171611497962745:Due date`,[[3,"selectedDate","startDate","dueTimeExists","startTimeExists","forceStart","forceDue","readOnly","onChange","onDropdownClose","onDropdownOpen"],["class","section-datepicker section-datepicker_empty",4,"ngIf"],["class","section-datepicker","cuTooltip",e,4,"ngIf"],["class","section-datepicker","cuTooltip",t,4,"ngIf"],["class","section-datepicker",4,"ngIf"],[1,"section-datepicker","section-datepicker_empty"],["icon","due-date",1,"section-datepicker__icon"],[1,"section-datepicker__text"],i,["cuTooltip",e,1,"section-datepicker"],["icon","start-date",1,"section-datepicker__icon"],[3,"date","showTime","noHighlight","noRelational"],["cuTooltip",t,1,"section-datepicker"],[3,"date","showTime","noRelational"],[1,"section-datepicker"],["cuTooltip",a,1,"section-datepicker__text"],[1,"section-datepicker__delim"],["cuTooltip",o,1,"section-datepicker__text"]]},template:function(e,t){1&e&&(a.cc(0,"cu-recurring-date-dropdown",0),a.qc("onChange",function(e){return t.setDates(e)})("onDropdownClose",function(){return t.pickerToggled(!1)})("onDropdownOpen",function(){return t.pickerToggled(!0)}),a.bd(1,l,4,0,"div",1),a.bd(2,d,4,4,"div",2),a.bd(3,u,4,3,"div",3),a.bd(4,p,6,7,"div",4),a.bc()),2&e&&(a.Dc("selectedDate",null==t.dates?null:t.dates.due_date)("startDate",null==t.dates?null:t.dates.start_date)("dueTimeExists",null==t.dates?null:t.dates.due_date_time)("startTimeExists",null==t.dates?null:t.dates.start_date_time)("forceStart",!1)("forceDue",!0)("readOnly",t.readOnly),a.Ib(1),a.Dc("ngIf",!(null!=t.dates&&t.dates.start_date||null!=t.dates&&t.dates.due_date||t.readOnly)),a.Ib(1),a.Dc("ngIf",(null==t.dates?null:t.dates.start_date)&&!(null!=t.dates&&t.dates.due_date)),a.Ib(1),a.Dc("ngIf",!(null!=t.dates&&t.dates.start_date)&&(null==t.dates?null:t.dates.due_date)),a.Ib(1),a.Dc("ngIf",(null==t.dates?null:t.dates.start_date)&&(null==t.dates?null:t.dates.due_date)))},directives:[o.a,c.q,n.a,s.a,r.a],styles:[""]}),e})()},"Si/9":function(e,t,i){"use strict";i.d(t,"a",function(){return m});var a=i("ofXK"),o=i("1M0N"),c=i("GtmI"),n=i("5+WD"),s=i("C8uC"),r=i("K0KF"),l=i("fTg4"),d=i("gb9A"),u=i("bx+h"),p=i("fXoL");let m=(()=>{class e{}return e.\u0275mod=p.Ub({type:e}),e.\u0275inj=p.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.f,s.LoaderModule,r.a,l.a,d.a,u.a]]}),e})()},"T+Bz":function(e,t,i){"use strict";i.d(t,"a",function(){return ct});var a=i("fXoL"),o=i("r5Jv"),c=i("kRoH"),n=i("CXZW"),s=i("f0Wu"),r=i("LEq2"),l=i("c3rA"),d=i("a1Ny"),u=i("A/Rp"),p=i("LRne"),m=i("xgIS"),h=i("lJxs"),b=i("nYR2"),g=i("1G5W"),f=i("ofXK"),_=i("N/Rp"),v=i("CgHv"),y=i("WluX"),w=i("TqRa"),k=i("wa4x"),x=i("qr2t"),T=i("o7Ov"),S=i("mrTC"),j=i("l7P3"),O=i("3x2b"),I=i("/qmH"),D=i("bFKe"),C=i("5+WD"),P=i("NsZK"),$=i("LdyQ"),z=i("MJvn"),M=i("n+1/"),E=i("a2y0"),L=i("mjQy"),A=i("7Vji"),F=i("0bNS"),U=i("Em9N"),N=i("tMYF"),R=i("UdVN"),G=i("XNiG"),q=i("2Vo4"),B=i("PqYM"),W=i("l5mm"),V=i("GyhO"),X=i("aGrj"),H=i("pLZG"),Y=i("UXun"),Z=i("yR4P");function Q(e,t){if(1&e&&(a.cc(0,"div",3),a.dd(1),a.vc(2,"async"),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.fd(" ",a.wc(2,1,e.marker$).time," ")}}function K(e,t){if(1&e&&(a.cc(0,"div",1),a.vc(1,"async"),a.bd(2,Q,3,3,"div",2),a.bc()),2&e){const e=a.uc();let t=null;a.ad("top",null==(t=a.wc(1,3,e.marker$))?null:t.top,"px"),a.Ib(2),a.Dc("ngIf",e.showCurrentTimeLabel)}}let J=(()=>{class e{constructor(){this.destroy$=new G.a,this.viewDate$=new q.a(null),this.marker$=e.getInterval$().pipe(Object(X.a)(this.viewDate$),Object(H.a)(e=>!!e),Object(h.a)(e=>{const t=s().startOf("day"),i=s(),a=t.toDate().getTimezoneOffset()-i.toDate().getTimezoneOffset();return{isVisible:s(e).isSame(i,"day"),top:i.diff(t,"minutes")+a,time:i.format(Object(Z.f)(this.twentyFourHourTime))}}),Object(g.a)(this.destroy$),Object(Y.a)({refCount:!0,bufferSize:1}))}static getInterval$(){const e=Object(p.a)(Date.now()),t=Object(B.a)(s().add(1,"minute").startOf("minute").diff(s(),"milliseconds")),i=Object(W.a)(6e4);return Object(V.a)(e,t,i)}ngOnChanges(e){e.viewDate&&this.viewDate$.next(e.viewDate.currentValue)}ngOnDestroy(){this.destroy$.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-calendar-content-current-time-marker"]],inputs:{viewDate:"viewDate",twentyFourHourTime:"twentyFourHourTime",showCurrentTimeLabel:"showCurrentTimeLabel"},features:[a.Gb],decls:2,vars:3,consts:[["class","cu-dashboard-time__current-time-marker",3,"top",4,"ngIf"],[1,"cu-dashboard-time__current-time-marker"],["class","cu-dashboard-time__current-time-label",4,"ngIf"],[1,"cu-dashboard-time__current-time-label"]],template:function(e,t){if(1&e&&(a.bd(0,K,3,5,"div",0),a.vc(1,"async")),2&e){let e=null;a.Dc("ngIf",null==(e=a.wc(1,1,t.marker$))?null:e.isVisible)}},directives:[f.q],pipes:[f.b],encapsulation:2,changeDetection:0}),e})();var ee=i("PXym");const te=["scrollbarMain"],ie=["allDayEventsScrollContainer"];function ae(e,t){if(1&e&&(a.ac(0),a.cc(1,"span",22),a.gc(2,23),a.bc(),a.cc(3,"span",24),a.dd(4),a.bc(),a.Zb()),2&e){const e=a.uc(3);a.Ib(4),a.ed(e.weekNumber)}}function oe(e,t){if(1&e&&(a.cc(0,"div",20),a.bd(1,ae,5,1,"ng-container",21),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngIf",e.viewPreferences.showWeekNumbers)}}function ce(e,t){if(1&e){const e=a.dc();a.cc(0,"div",31),a.cc(1,"cu-quick-create-task-panel",32),a.qc("close",function(){a.Uc(e),a.uc();const t=a.Rc(1);return a.uc(2).showQuickAddSection=null,t.close()})("taskCreate",function(){return a.Uc(e),a.uc(),a.Rc(1).close()}),a.bc(),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(2);a.Ib(1),a.Dc("status",t.newTaskStatus)("focus",!0)("autoClose",!0)("isHidden",!1)("margin",!1)("dueDate",e.date)("saveOnDestroy",!0)("list",t.newTaskSubcategory)}}function ne(e,t){if(1&e){const e=a.dc();a.cc(0,"div",25,26),a.qc("dropdownOpen",function(){a.Uc(e);const i=t.$implicit,o=a.uc(2);return o.showQuickAddSection=i,o.closeTaskRightClickMenu.emit()})("dropdownClose",function(){return a.Uc(e),a.uc(2).showQuickAddSection=null})("mwlClick",function(i){a.Uc(e);const o=t.$implicit;return a.uc(2).dayHeaderClicked.emit({day:o,sourceEvent:i})})("dragEnter",function(){a.Uc(e);const i=t.$implicit;return a.uc(2).dateDragEnter(i.date)})("drop",function(i){a.Uc(e);const o=t.$implicit;return a.uc(2).eventDropped(i,o.date,!0)}),a.cc(3,"div"),a.cc(4,"div",27),a.dd(5),a.vc(6,"calendarDate"),a.bc(),a.cc(7,"div",28),a.dd(8),a.vc(9,"calendarDate"),a.bc(),a.bc(),a.cc(10,"div",29),a.dd(11," + "),a.bc(),a.bd(12,ce,2,8,"div",30),a.bc()}if(2&e){const e=t.$implicit,i=a.Rc(2),o=a.uc(2);a.Ob("cal-header-hover-show-new",o.canCreateTask)("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),a.Dc("dropdownHostElement",i)("dropdownCloseOnInsideClick",!1)("ngClass",e.cssClass),a.Ib(5),a.fd(" ",a.yc(6,15,e.date,"weekViewColumnHeader",o.locale)," "),a.Ib(3),a.fd(" ",a.yc(9,19,e.date,"weekViewColumnSubHeader",o.locale)," ")}}function se(e,t){if(1&e&&(a.cc(0,"div",17),a.bd(1,oe,2,1,"div",18),a.bd(2,ne,13,23,"div",19),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngIf",e.viewPreferences.showTimeEvents),a.Ib(1),a.Dc("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate)}}const re=function(e){return{dueDate:e}},le=function(e,t,i){return{project:e,subcategory:t,dates:i}};function de(e,t){if(1&e){const e=a.dc();a.cc(0,"div",33),a.qc("drop",function(t){a.Uc(e);const i=a.uc();return i.eventDropped(t,i.days[0].date,!0)})("dragEnter",function(){a.Uc(e);const t=a.uc();return t.dateDragEnter(t.days[0].date)}),a.cc(1,"cu-task-row-new",34),a.qc("onCreateTask",function(t){return a.Uc(e),a.uc().createTask(t)})("onLazyLoad",function(t){return a.Uc(e),a.uc().loadUsers(t.data.subcategoryId)}),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.vc(5,"async"),a.vc(6,"async"),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Ob("cu-dashboard-time__day-view__all-day-events-create-task_show-time",e.viewPreferences.showTimeEvents),a.Dc("columns",e.columns)("defaultTaskData",a.Jc(21,le,a.wc(2,9,e.project$),e.newTaskSubcategory,a.Hc(19,re,e.viewDate)))("users",a.wc(3,11,e.users$))("meUser",a.wc(4,13,e.user$))("weights",a.wc(5,15,e.weights$))("userGroups",a.wc(6,17,e.userGroups$))("autoFocus",!1)}}function ue(e,t){if(1&e){const e=a.dc();a.cc(0,"div",35),a.qc("drop",function(i){a.Uc(e);const o=t.$implicit;return a.uc().eventDropped(i,o.date,!0)})("dragEnter",function(){a.Uc(e);const i=t.$implicit;return a.uc().dateDragEnter(i.date)}),a.bc()}if(2&e){const e=t.index,i=a.uc();a.Ob("cal-day-column_holiday",null==i.columnData[e]?null:i.columnData[e].hasHolidays)}}function pe(e,t){if(1&e&&(a.cc(0,"div",42),a.gc(1,43),a.bc()),2&e){const e=a.uc().$implicit,t=a.uc(2);a.ad("background-color",e.event.color.back),a.Ib(1),a.kc(t.selectedTaskIds.length),a.hc(1)}}const me=function(){return{left:!0}};function he(e,t){1&e&&a.Xb(0,"div",50),2&e&&a.Dc("resizeEdges",a.Gc(1,me))}const be=function(){return{right:!0}};function ge(e,t){1&e&&a.Xb(0,"div",51),2&e&&a.Dc("resizeEdges",a.Gc(1,be))}const fe=function(e,t){return{left:e,right:t}},_e=function(e,t){return{event:e,calendarId:t}},ve=function(e,t){return{x:e,y:t}},ye=function(e){return{m:e}},we=function(e){return{event:e}};function ke(e,t){if(1&e){const e=a.dc();a.cc(0,"div",44,45),a.qc("contextmenu",function(t){a.Uc(e);const i=a.uc().$implicit;return a.uc(2).showTaskRightClickMenu.emit({mouseEvent:t,calendarEvent:i.event})})("resizeStart",function(t){a.Uc(e);const i=a.uc().$implicit;a.uc();const o=a.Rc(1);return a.uc().allDayEventResizeStarted(o,i,t)})("resizing",function(t){a.Uc(e);const i=a.uc().$implicit,o=a.uc(2);return o.allDayEventResizing(i,t,o.dayColumnWidth)})("resizeEnd",function(){a.Uc(e);const t=a.uc().$implicit;return a.uc(2).allDayEventResizeEnded(t)})("ghostElementCreated",function(t){a.Uc(e);const i=a.Rc(1),o=a.uc().$implicit;a.uc();const c=a.Rc(1);return a.uc().ghostElementCreated(c,i,o.event,t,o,!1)})("dragEnd",function(t){a.Uc(e);const i=a.uc().$implicit,o=a.uc(2);return o.dragEnded(i,t,o.dayColumnWidth),o.mouseUp()})("mousedown",function(){return a.Uc(e),a.uc(3).mouseDown()})("mouseup",function(){return a.Uc(e),a.uc(3).mouseUp()})("hoverKeyDown",function(){a.Uc(e);const t=a.Rc(2),i=a.uc().$implicit;return a.uc(2).toggleMe.emit({event:i.event,tooltip:t})}),a.bd(3,he,1,2,"div",46),a.cc(4,"div",47),a.qc("mwlClick",function(t){a.Uc(e);const i=a.uc().$implicit;return a.uc(2).eventClick({event:i.event,mouseEvent:t})}),a.vc(5,"calendarTaskRecurringText"),a.Yb(6,48),a.bc(),a.bd(7,ge,1,2,"div",49),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.Rc(2),i=a.uc(2);a.ad("width",100/i.days.length*e.span,"%")("margin-left",100/i.days.length*e.offset,"%"),a.Ob("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-undraggable",!e.event.draggable)("cal-multi-drag-active",e.event.meta.isSelected&&i.dragActive&&i.dragActive.meta.isSelected&&i.selectedTaskIds.length>1)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),a.Dc("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",a.Ic(49,fe,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("resizeCursorPrecision",10)("validateDrag",i.dragThresholdValidator)("dropData",a.Ic(52,_e,e.event,i.calendarId))("ghostElementTemplate",i.selectedTaskIds.length>1&&e.event.meta.isSelected?t:null)("dragAxis",a.Ic(55,ve,e.event.draggable&&0===i.allDayEventResizes.size,e.event.draggable&&0===i.allDayEventResizes.size))("ghostElementAppendTo",i.dragElementAppendTo)("cuHoverKeyDown",a.Hc(58,ye,i.enableToggleMe))("cuCalendarContentDragDisabledCheck",!e.event.draggable&&!e.event.meta.isRecurring&&e.event.meta.task),a.Ib(3),a.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek&&i.days.length>1),a.Ib(1),a.ad("background-color",e.event.color.back)("border-color",e.event.meta.isSelected||e.event.meta.isMeViewScheduledTask?"":"#ffffff"===e.event.color.back?"#e4e4e4":e.event.color.back)("border-left-color",e.event.meta.isSelected||e.event.meta.isMeViewScheduledTask?"":"#fff"===(null==e.event?null:e.event.color.primary)?"#d3d3d3":null==e.event?null:e.event.color.primary),a.Ob("cal-event-selected",e.event.meta.isSelected)("cal-event-recurring",e.event.meta.isRecurring)("cal-event-me-view-scheduled",e.event.meta.isMeViewScheduledTask&&!e.event.meta.isSelected)("cal-event-past",e.event.meta.isPast)("cal-event_hover",i.canOpenTasks),a.Dc("dtsSelectItem",e.event.id)("cuTooltip",e.event.meta.isRecurring?a.wc(5,47,e.event.meta.task.name):""),a.Ib(2),a.Dc("ngTemplateOutlet",i.eventInnerTemplate)("ngTemplateOutletContext",a.Hc(60,we,e.event)),a.Ib(1),a.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek&&i.days.length>1)}}function xe(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc(3).$implicit;a.Ib(1),a.fd(" ",e.event.meta.milestone.category.name," > ")}}const Te=function(e){return{"cu-dashboard-time__milestone__arrows_left":e}};function Se(e,t){if(1&e&&(a.ac(0),a.Xb(1,"span",55),a.cc(2,"div",56),a.bd(3,xe,2,1,"ng-container",21),a.vc(4,"async"),a.dd(5),a.bc(),a.Xb(6,"span",57),a.Zb()),2&e){const e=a.uc(2).$implicit,t=a.uc(2);a.Ib(1),a.Dc("icon","flag"),a.Ib(2),a.Dc("ngIf",t.viewPreferences.showEventItems.location&&!a.wc(4,5,t.category$)),a.Ib(2),a.fd(" ",e.event.meta.milestone.title," "),a.Ib(1),a.Dc("icon","arrows")("ngClass",a.Hc(7,Te,"subcategory-end"===e.event.meta.milestone.type))}}function je(e,t){if(1&e&&(a.cc(0,"div",58),a.dd(1),a.bc()),2&e){const e=a.uc(2).$implicit;a.Dc("cuTooltip",e.event.meta.milestone.title)("tooltipDisabledIfTextNotTruncated",!0)("tooltipDelay",300),a.Ib(1),a.fd(" ",e.event.meta.milestone.title," ")}}function Oe(e,t){if(1&e){const e=a.dc();a.cc(0,"div",52),a.qc("click",function(){a.Uc(e);const t=a.uc().$implicit;return a.uc(2).milestoneClicked.emit({milestone:t.event.meta.milestone})}),a.cc(1,"div",53),a.bd(2,Se,7,9,"ng-container",21),a.bd(3,je,2,4,"div",54),a.bc(),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(2);a.ad("width",100/t.days.length*e.span,"%")("margin-left",100/t.days.length*e.offset,"%"),a.Ib(1),a.ad("background-color",e.event.meta.milestone.color),a.Ob("cu-dashboard-time__milestone--no-color",!e.event.meta.milestone.hasColor)("cu-dashboard-time__milestone_holiday","holiday"===e.event.meta.milestone.type),a.Ib(1),a.Dc("ngIf","subcategory-start"===e.event.meta.milestone.type||"subcategory-end"===e.event.meta.milestone.type),a.Ib(1),a.Dc("ngIf","holiday"===e.event.meta.milestone.type)}}function Ie(e,t){if(1&e&&(a.ac(0),a.bd(1,pe,2,3,"ng-template",null,39,a.cd),a.bd(3,ke,8,62,"div",40),a.bd(4,Oe,4,12,"div",41),a.Zb()),2&e){const e=t.$implicit;a.Ib(3),a.Dc("ngIf",!e.event.meta.milestone),a.Ib(1),a.Dc("ngIf",e.event.meta.milestone)}}function De(e,t){if(1&e&&(a.cc(0,"div",36,37),a.bd(2,Ie,5,2,"ng-container",38),a.bc()),2&e){const e=t.$implicit,i=a.uc();a.Ib(2),a.Dc("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function Ce(e,t){if(1&e&&(a.ac(0),a.gc(1,62),a.Zb()),2&e){const e=a.uc(2).$implicit,t=a.uc(2);a.Ib(1),a.kc(e.events.length-t.maxEventRows),a.hc(1)}}function Pe(e,t){1&e&&(a.ac(0),a.gc(1,63),a.Zb())}function $e(e,t){if(1&e&&(a.ac(0),a.bd(1,Ce,2,1,"ng-container",21),a.bd(2,Pe,2,0,"ng-container",21),a.Zb()),2&e){const e=a.uc(3);a.Ib(1),a.Dc("ngIf",!e.showEveryAllDayEvent),a.Ib(1),a.Dc("ngIf",e.showEveryAllDayEvent)}}function ze(e,t){if(1&e){const e=a.dc();a.cc(0,"div",61),a.qc("click",function(){a.Uc(e);const t=a.uc(2);return t.showEveryAllDayEvent=!t.showEveryAllDayEvent}),a.bd(1,$e,3,2,"ng-container",21),a.bc()}if(2&e){const e=t.$implicit,i=a.uc(2);a.Ob("cal-events-show-more-padding",e.events.length>i.maxEventRows),a.Ib(1),a.Dc("ngIf",e.events.length>i.maxEventRows)}}function Me(e,t){if(1&e&&(a.cc(0,"div",59),a.bd(1,ze,2,3,"div",60),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngForOf",e.daysWithEvents)("ngForTrackBy",e.trackByWeekDayHeaderDate)}}const Ee=function(){return{bottom:!0}};function Le(e,t){1&e&&a.Xb(0,"div",64),2&e&&a.Dc("resizeEdges",a.Gc(1,Ee))}function Ae(e,t){if(1&e&&a.Xb(0,"mwl-calendar-week-view-hour-segment",76),2&e){const e=t.$implicit,i=a.uc(3);a.ad("height",i.hourSegmentHeight,"px"),a.Dc("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)}}function Fe(e,t){if(1&e&&(a.cc(0,"div",74),a.bd(1,Ae,1,7,"mwl-calendar-week-view-hour-segment",75),a.bc()),2&e){const e=t.$implicit,i=t.odd,o=a.uc(2);a.Ob("cal-hour-odd",i),a.Ib(1),a.Dc("ngForOf",e.segments)("ngForTrackBy",o.trackByHourSegment)}}function Ue(e,t){if(1&e&&(a.cc(0,"div",83),a.cc(1,"div",84),a.gc(2,85),a.bc(),a.bc()),2&e){const e=a.uc().$implicit,t=a.uc(3);a.ad("background-color",e.event.color.back),a.Ib(2),a.kc(t.selectedTaskIds.length),a.hc(2)}}const Ne=function(){return{left:!0,top:!0}};function Re(e,t){1&e&&a.Xb(0,"div",50),2&e&&a.Dc("resizeEdges",a.Gc(1,Ne))}function Ge(e,t){}const qe=function(e,t,i){return{event:e,inlineTime:t,tempEvent:i}};function Be(e,t){if(1&e){const e=a.dc();a.cc(0,"div",86),a.qc("mwlClick",function(t){a.Uc(e);const i=a.uc().$implicit;return a.uc(3).eventClick({event:i.event,mouseEvent:t})}),a.vc(1,"calendarTaskRecurringText"),a.Yb(2,48),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(3);a.ad("background-color",null==e.event.color?null:e.event.color.back)("border-color",e.event.meta.isSelected||e.event.meta.isMeViewScheduledTask?"":null==e.event.color?null:e.event.color.primary),a.Ob("cal-multi-drag-active",e.event.meta.isSelected&&t.dragActive&&t.dragActive.meta.isSelected&&t.selectedTaskIds.length>1)("cal-event-selected",e.event.meta.isSelected)("cal-event-recurring",e.event.meta.isRecurring)("cal-event_small",e.event.meta.smallEvent)("cal-event-me-view-scheduled",e.event.meta.isMeViewScheduledTask&&!e.event.meta.isSelected)("cal-event-past",e.event.meta.isPast),a.Dc("dtsSelectItem",e.event.id)("cuTooltip",e.event.meta.isRecurring?a.wc(1,20,e.event.meta.task.name):""),a.Ib(2),a.Dc("ngTemplateOutlet",t.eventInnerTemplate)("ngTemplateOutletContext",a.Jc(22,qe,e.event,e.height<60,e.tempEvent))}}const We=function(){return{right:!0,bottom:!0}};function Ve(e,t){1&e&&a.Xb(0,"div",51),2&e&&a.Dc("resizeEdges",a.Gc(1,We))}const Xe=function(e,t,i,a){return{left:e,right:t,top:i,bottom:a}},He=function(){return{}};function Ye(e,t){if(1&e){const e=a.dc();a.ac(0),a.bd(1,Ue,3,3,"ng-template",null,39,a.cd),a.cc(3,"div",80,45),a.qc("resizeStart",function(i){a.Uc(e);const o=t.$implicit;a.uc(2);const c=a.Rc(8);return a.uc().timeEventResizeStarted(c,o,i)})("resizing",function(i){a.Uc(e);const o=t.$implicit;return a.uc(3).timeEventResizing(o,i)})("resizeEnd",function(){a.Uc(e);const i=t.$implicit;return a.uc(3).timeEventResizeEnded(i)})("ghostElementCreated",function(i){a.Uc(e);const o=t.$implicit,c=a.Rc(4);a.uc(2);const n=a.Rc(8);return a.uc().ghostElementCreated(n,c,o.event,i,o,!0)})("dragging",function(i){a.Uc(e);const o=t.$implicit;return a.uc(3).dragMove(o,i)})("dragEnd",function(i){a.Uc(e);const o=t.$implicit,c=a.uc(3);return c.dragEnded(o,i,c.dayColumnWidth,!0),c.mouseUp()})("mousedown",function(){return a.Uc(e),a.uc(3).mouseDown()})("mouseup",function(){return a.Uc(e),a.uc(3).mouseUp()})("contextmenu",function(i){a.Uc(e);const o=t.$implicit;return a.uc(3).showTaskRightClickMenu.emit({mouseEvent:i,calendarEvent:o.event})})("hoverKeyDown",function(){a.Uc(e);const i=t.$implicit,o=a.Rc(5);return a.uc(3).toggleMe.emit({event:i.event,tooltip:o})}),a.bd(6,Re,1,2,"div",46),a.bd(7,Ge,0,0,"ng-template",81),a.bd(8,Be,3,26,"ng-template",null,82,a.cd),a.bd(10,Ve,1,2,"div",49),a.bc(),a.Zb()}if(2&e){const e=t.$implicit,i=a.Rc(2),o=a.Rc(9),c=a.uc(3);a.Ib(3),a.ad("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),a.Ob("cal-draggable",e.event.draggable&&0===c.timeEventResizes.size)("cal-undraggable",!e.event.draggable)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),a.Dc("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",a.Kc(33,Xe,c.dayColumnWidth,c.dayColumnWidth,c.eventSnapSize||c.hourSegmentHeight,c.eventSnapSize||c.hourSegmentHeight))("validateResize",c.validateResize)("allowNegativeResizes",!0)("ghostElementTemplate",c.selectedTaskIds.length>1&&e.event.meta.isSelected?i:o)("ghostElementAppendTo",c.dragElementAppendTo)("dropData",a.Ic(38,_e,e.event,c.calendarId))("dragAxis",a.Ic(41,ve,e.event.draggable&&0===c.timeEventResizes.size,e.event.draggable&&0===c.timeEventResizes.size))("dragSnapGrid",c.snapDraggedEvents?a.Ic(44,ve,c.dayColumnWidth,c.eventSnapSize||c.hourSegmentHeight):a.Gc(47,He))("ghostDragEnabled",!c.snapDraggedEvents)("validateDrag",c.dragThresholdValidator)("cuHoverKeyDown",a.Hc(48,ye,c.enableToggleMe))("cuCalendarContentDragDisabledCheck",!e.event.draggable&&!e.event.meta.isDragToCreate&&!e.event.meta.isRecurring&&e.event.meta.task),a.Ib(3),a.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),a.Ib(1),a.Dc("ngTemplateOutlet",o),a.Ib(3),a.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}const Ze=function(e){return{dueDate:e,dueDateTime:!0}};function Qe(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-task-row-new",89),a.qc("onCreateTask",function(t){return a.Uc(e),a.uc(5).createTask(t)})("onClose",function(){return a.Uc(e),a.uc(5).hideQuickCreateTask()})("onLazyLoad",function(t){return a.Uc(e),a.uc(5).loadUsers(t.data.subcategoryId)}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.vc(5,"async"),a.bc()}if(2&e){const e=a.uc(5);a.Ob("cu-dashboard-time__day-view__all-day-events-create-task_show-time",e.viewPreferences.showTimeEvents),a.Dc("columns",e.columns)("defaultTaskData",a.Jc(20,le,a.wc(1,8,e.project$),e.newTaskSubcategory,a.Hc(18,Ze,e.showQuickAddSection.date)))("users",a.wc(2,10,e.users$))("meUser",a.wc(3,12,e.user$))("userGroups",a.wc(4,14,e.userGroups$))("weights",a.wc(5,16,e.weights$))}}function Ke(e,t){if(1&e){const e=a.dc();a.cc(0,"div",31),a.cc(1,"cu-quick-create-task-panel",93),a.qc("close",function(){a.Uc(e),a.uc();const t=a.Rc(1);return a.uc(5).showQuickAddSection=null,t.close()})("taskCreate",function(){return a.Uc(e),a.uc(),a.Rc(1).close()}),a.bc(),a.bc()}if(2&e){const e=a.uc(2).$implicit,t=a.uc(4);a.Ib(1),a.Dc("status",t.newTaskStatus)("focus",!0)("autoClose",!0)("isHidden",!1)("margin",!1)("dueDate",e.date)("dueDateTime",!0)("saveOnDestroy",!0)("list",t.newTaskSubcategory)}}function Je(e,t){if(1&e){const e=a.dc();a.cc(0,"div",90,91),a.qc("dropdownOpen",function(){a.Uc(e);const t=a.uc().$implicit,i=a.uc(4);return i.showQuickAddSection=t,i.closeTaskRightClickMenu.emit()})("dropdownClose",function(){return a.Uc(e),a.uc(5).hideQuickCreateTask()})("drop",function(t){a.Uc(e);const i=a.uc().$implicit;return a.uc(4).eventDropped(t,i.date,!1)})("dragEnter",function(){a.Uc(e);const t=a.uc().$implicit;return a.uc(4).dateDragEnter(t.date)})("cdkDropListDropped",function(t){a.Uc(e);const i=a.uc().$implicit;return a.uc(4).cdkDropListDropped(t,i.date,!1)})("click",function(t){a.Uc(e);const i=a.uc().$implicit;return a.uc(4).segmentClicked(i,t)})("mousedown.out-zone",function(t){a.Uc(e);const i=a.Rc(3),o=a.uc().$implicit;return a.uc(4).dragToCreateStart(o,t,i)}),a.Xb(4,"div",92),a.bd(5,Ke,2,9,"div",30),a.bc()}if(2&e){const e=a.Rc(2),t=a.uc(),i=t.$implicit,o=t.index,c=a.uc().index,n=a.uc(3);a.ad("height",n.hourSegmentHeight,"px"),a.Ob("cal-hour-start",i.isStart)("cal-after-hour-start",!i.isStart),a.Dc("dropdownCloseOnInsideClick",!1)("dropdownDisabled",1===n.days.length||!n.canCreateTask)("dropdownHostElement",e)("ngClass",i.cssClass)("dragOverClass","cal-drag-over")("id","calendarWeekView_"+(2*c+o))("cdkDropListSortingDisabled",!0)("cdkDropListConnectedTo",n.dragConnectedIds)("cdkDropListEnterPredicate",n.dropListEnterPredicate)}}function et(e,t){if(1&e&&(a.ac(0),a.bd(1,Qe,6,24,"cu-task-row-new",87),a.bd(2,Je,6,15,"div",88),a.Zb()),2&e){const e=t.$implicit,i=a.uc(4);a.Ib(1),a.Dc("ngIf",1===i.daysInWeek&&i.showQuickAddSection===e),a.Ib(1),a.Dc("ngIf",i.showQuickAddSection!==e||1!==i.daysInWeek)}}function tt(e,t){if(1&e&&(a.cc(0,"div",74),a.bd(1,et,3,2,"ng-container",38),a.bc()),2&e){const e=t.$implicit,i=t.odd,o=a.uc(3);a.Ob("cal-hour-odd",i),a.Ib(1),a.Dc("ngForOf",e.segments)("ngForTrackBy",o.trackByHourSegment)}}function it(e,t){if(1&e&&(a.cc(0,"div",77),a.Xb(1,"cu-calendar-content-current-time-marker",78),a.vc(2,"async"),a.cc(3,"div",79),a.bd(4,Ye,11,50,"ng-container",38),a.bc(),a.bd(5,tt,2,4,"div",70),a.bc()),2&e){const e=t.$implicit,i=t.index,o=a.uc(2);let c=null;a.Ib(1),a.Dc("viewDate",null==o.days[i]?null:o.days[i].date)("twentyFourHourTime",null==(c=a.wc(2,7,o.user$))?null:c.twenty_four_hr_setting)("showCurrentTimeLabel",o.showCurrentTimeLabel),a.Ib(3),a.Dc("ngForOf",e.events)("ngForTrackBy",o.trackByWeekTimeEvent),a.Ib(1),a.Dc("ngForOf",e.hours)("ngForTrackBy",o.trackByHour)}}const at=function(){return{wheelPropagation:!0,suppressScrollX:!0}};function ot(e,t){if(1&e){const e=a.dc();a.cc(0,"dts-select-container",65,66),a.qc("select",function(t){return a.Uc(e),a.uc().eventsDragSelected.emit(t)}),a.cc(2,"div",67,68),a.qc("scroll",function(){return a.Uc(e),a.Rc(1).update()})("dragEnter",function(){return a.Uc(e),a.uc().dragEnter("time")})("dragLeave",function(){return a.Uc(e),a.uc().dragLeave("time")}),a.cc(4,"div",69),a.cc(5,"div",10),a.bd(6,Fe,2,4,"div",70),a.bc(),a.cc(7,"div",71,72),a.bd(9,it,6,9,"div",73),a.bc(),a.bc(),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("disabled",e.disableDragToSelect||!e.enableDragToSelect),a.Ib(2),a.Dc("perfectScrollbar",a.Gc(8,at)),a.Ib(4),a.Dc("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour),a.Ib(1),a.Ob("cal-resize-active",e.timeEventResizes.size>0),a.Ib(2),a.Dc("ngForOf",e.view.hourColumns)("ngForTrackBy",e.trackByHourColumn)}}let ct=(()=>{class e extends c.j{constructor(e,t,i,o,c,n,s){super(e,t,i,o,s),this.changeDetectorRef=e,this.calendarUtils=t,this.adapter=o,this.store=c,this.document=n,this.isExternalDragActive=!1,this.selectedTaskIds=[],this.eventsDragSelected=new a.o,this.showTaskRightClickMenu=new a.o,this.closeTaskRightClickMenu=new a.o,this.toggleMe=new a.o,this.updateViewPreferences=new a.o,this.milestoneClicked=new a.o,this.showQuickAddSection=null,this.disableDragToSelect=!1,this.dragThresholdValidator=x.f,this.maxEventRows=5,this.daysWithEvents=[],this.showEveryAllDayEvent=!1,this.isSharingApp=w.k,this.category$=this.store.select(l.getCategory),this.project$=this.store.select(l.getProject),this.weights$=this.store.select(l.getUserWeights),this.users$=Object(p.a)([]),this.user$=this.store.select(l.getUser),this.userGroups$=this.store.select(k.c),this.columns=[Object.assign(Object.assign({},v.k),{state:_.b.Visible}),Object.assign(Object.assign({},v.M),{state:_.b.Visible})],this.columnData=[],this.dragConnectedIds=[...S.h.map(e=>"inbox_"+e)],this.dropListEnterPredicate=e=>!e.data.reminder}ngOnChanges(e){e.selectedTaskIds&&0===this.selectedTaskIds.length&&!e.selectedTaskIds.isFirstChange()&&this.selectContainers.forEach(e=>{e.clearSelection()}),(e.milestoneEvents||e.events)&&(this.events=[...this.milestoneEvents,...this.events.filter(e=>!e.meta.milestone)]),super.ngOnChanges(e),(e.milestoneEvents||e.events||e.viewDate)&&(this.columnData=this.days.map(e=>({hasHolidays:this.milestoneEvents.some(t=>{var i;return"holiday"===(null===(i=t.meta)||void 0===i?void 0:i.milestone.type)&&s(t.start).isSame(e.date,"day")})}))),(e.events||e.viewDate)&&(this.daysWithEvents=this.days.map(e=>({events:Object(o.d)(this.adapter,{events:this.events.filter(e=>e.allDay),periodStart:e.date,periodEnd:s(e.date).endOf("day").toDate()}),date:e.date})),this.weekNumber=Object(d.a)(this.viewDate)),e.newTaskSubcategory&&this.newTaskSubcategory&&(this.users$=this.store.select(Object(y.i)(this.newTaskSubcategory.id)).pipe(Object(h.a)(e=>(e||[]).map(e=>e.user))))}ngAfterViewInit(){this.viewDate&&this.scrollbarMain&&function(e,t,i){if(s(e).startOf("day").isSame(s().startOf("day"))){const e=60*s().subtract(1,"hour").hours();i.scrollToY(e,300)}else t.viewDate&&i.scrollToY(360,300)}(this.viewDate,this.viewPreferences,this.scrollbarMain)}eventClick(e){0!==this.allDayEventResizes.size||0!==this.timeEventResizes.size||this.dragActive||this.isExternalDragActive||this.eventClicked.emit(e)}mouseDown(){this.disableDragToSelect=!0}mouseUp(){this.disableDragToSelect=!1}allDayEventsResize(e,t=!1){this.viewPreferences.maxAllDayEventHeight[1===this.days.length?"day":"week"]=function(e,t){return Math.max(Math.min(e.rectangle.height,t.scrollHeight+3,500),20)}(e,this.allDayEventsScrollContainer.nativeElement),t&&(this.mouseUp(),this.updateViewPreferences.emit({maxAllDayEventHeight:this.viewPreferences.maxAllDayEventHeight}))}segmentClicked(e,t){1===this.daysInWeek&&this.canCreateTask&&(this.showQuickAddSection=e),this.hourSegmentClicked.emit({date:e.date,sourceEvent:t})}hideQuickCreateTask(){this.showQuickAddSection=null}dragToCreateStart(e,t,i){if(!this.enableDragToSelect&&this.newTaskSubcategory){t.stopPropagation();const a=this.scrollbarMain.elementRef.nativeElement.scrollTop,o=i.getBoundingClientRect();this.store.dispatch(new u.n({date:e.date}));const c=s(e.date).endOf("day").toDate();Object(m.a)(this.document,"mousemove").pipe(Object(b.a)(()=>{this.store.dispatch(new u.cb({taskId:r.a}))}),Object(g.a)(Object(m.a)(this.document,"mouseup"))).subscribe(t=>{this.scrollbarMain.elementRef.nativeElement.scrollTop=a;const i=30*Math.ceil((t.clientY-o.top)/30),n=s(e.date).add(i,"minutes").toDate();n>e.date&&n<c&&this.store.dispatch(new u.m({date:n}))})}}ghostElementCreated(e,t,i,a,o,c){super.dragStarted(e,t,o,c),this.dragActive=i,a.element.style.zIndex="1000"}createTask(e){this.store.dispatch(new u.e({taskData:e})),this.hideQuickCreateTask()}loadUsers(e){this.store.dispatch(new T.ne(e)),this.users$=this.store.select(Object(y.j)(e))}timeEventResizing(e,t){const i=this.getTimeEventResizedDates(e.event,t);e.event.meta.smallEvent=s(i.end).diff(i.start,"minutes")<30,super.timeEventResizing(e,t)}cdkDropListDropped(e,t,i){const a=e.item.data;if(a.start_date&&a.due_date){const e=s(+a.start_date).startOf(a.start_date_time?"millisecond":"day"),o=s(+a.due_date).startOf(a.due_date_time?"millisecond":"day"),n=i?"days":"seconds",r=o.diff(e,n);this.eventTimesChanged.emit({type:c.c.Drop,event:{title:a.name,start:e.toDate(),end:o.toDate(),meta:{task:a}},newStart:t,newEnd:s(t).add(r,n).endOf(n).toDate(),allDay:i})}else this.eventTimesChanged.emit({type:c.c.Drop,event:{title:a.name,start:new Date,meta:{task:a}},newStart:t,allDay:i})}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.h),a.Wb(c.g),a.Wb(a.w),a.Wb(c.k),a.Wb(j.Store),a.Wb(f.d),a.Wb(a.m))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-calendar-content-week-view"]],viewQuery:function(e,t){if(1&e&&(a.jd(te,1),a.jd(ie,1),a.jd(n.b,1)),2&e){let e;a.Qc(e=a.rc())&&(t.scrollbarMain=e.first),a.Qc(e=a.rc())&&(t.allDayEventsScrollContainer=e.first),a.Qc(e=a.rc())&&(t.selectContainers=e)}},hostAttrs:[1,"cu-calendar-content-week-view"],inputs:{isExternalDragActive:"isExternalDragActive",multiSelectActive:"multiSelectActive",selectedTaskIds:"selectedTaskIds",milestoneEvents:"milestoneEvents",eventInnerTemplate:"eventInnerTemplate",viewPreferences:"viewPreferences",newTaskSubcategory:"newTaskSubcategory",enableDragToSelect:"enableDragToSelect",newTaskStatus:"newTaskStatus",canCreateTask:"canCreateTask",canOpenTasks:"canOpenTasks",enableToggleMe:"enableToggleMe",dragElementAppendTo:"dragElementAppendTo",showCurrentTimeLabel:"showCurrentTimeLabel"},outputs:{eventsDragSelected:"eventsDragSelected",showTaskRightClickMenu:"showTaskRightClickMenu",closeTaskRightClickMenu:"closeTaskRightClickMenu",toggleMe:"toggleMe",updateViewPreferences:"updateViewPreferences",milestoneClicked:"milestoneClicked"},features:[a.Fb,a.Gb],decls:19,vars:28,consts:function(){let e,t,i,a,o,c,n,s;return e=$localize`:@@common_all-day␟bcc563f7ff8148facbe1ba104fbf98a1d5450b50␟4635736173375804657: All day `,t=$localize`:@@common_week-number␟583c8edd6a5fdae2d500331a13b0768f3a90dc3b␟4757690451725184953:Week number`,i=$localize`:@@common_week-number--shorthand␟3d3c7d9163d7b38d4e27eab661af7f9c4d94a925␟8753405098676016610:WN`,a=$localize`:@@common_create-task␟bfeb2918dc688c13a53abffacc0ad3f1d12ddbcd␟8192258211003608112:Create task`,o=$localize`:@@common_selected-tasks-ids-task-count␟909c76ec730e57db679eba771c372ffdf82bd703␟1566570816725270856: ${"\ufffd0\ufffd"}:INTERPOLATION: tasks `,c=$localize`:@@cu-calendar-content-week-view__show-more-days␟ec94961810ae82a7fd6382c79fcef2c010d5fb62␟3415665697925306760:Show ${"\ufffd0\ufffd"}:INTERPOLATION: more`,n=$localize`:@@common_show-less␟5403a767248e304199592271bba3366d2ca3f903␟3517550046701184661:Show less`,s=$localize`:@@common_selected-tasks-ids-task-count␟fe46427bbeeed8283341b86d0edee1f8b83a8861␟7273719530793495041: ${"\ufffd0\ufffd"}:INTERPOLATION: tasks `,[[1,"cal-week-view","cu-dashboard-time__content__fill-height"],["weekViewContainer",""],["class","cal-day-headers",4,"ngIf"],["class","cu-dashboard-time__day-view__all-day-events-create-task-container cu-hidden-print","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngIf"],["mwlDroppable","","mwlResizable","",3,"disabled","select","dragEnter","dragLeave","resizeStart","resizing","resizeEnd"],["allDayEventsSelectContainer","dts-select-container","allDayEventsContainer",""],["mwlDraggableScrollContainer","",1,"cu-slim-scroll","cu-sticky-scroll","cal-all-day-events",3,"perfectScrollbar","scroll"],["allDayEventsScrollContainer",""],[1,"cal-all-day-events-scroll-inner"],["cdkDropList","",1,"cal-day-columns",3,"id","cdkDropListSortingDisabled","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListDropped"],[1,"cal-time-label-column"],e,["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"cal-day-column_holiday","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row","cuCalendarContentWeekViewEventRow","",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-show-more-container",4,"ngIf"],["class","cu-dashboard-time__day-view__all-day-events__resize-handle","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["class","cu-dashboard-time__content__fill-height",3,"disabled","select",4,"ngIf"],[1,"cal-day-headers"],["class","cal-header_week-number",4,"ngIf"],["class","cal-header cu-dropdown","cuDropdown","","mwlDroppable","","dragOverClass","cal-drag-over",3,"cal-header-hover-show-new","dropdownHostElement","dropdownCloseOnInsideClick","cal-past","cal-today","cal-future","cal-weekend","ngClass","dropdownOpen","dropdownClose","mwlClick","dragEnter","drop",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-header_week-number"],[4,"ngIf"],["cuTooltip",t,1,"cal-header_week-number-title"],i,[1,"cal-header_week-number-value"],["cuDropdown","","mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-header","cu-dropdown",3,"dropdownHostElement","dropdownCloseOnInsideClick","ngClass","dropdownOpen","dropdownClose","mwlClick","dragEnter","drop"],["dropdown","dropdown","host",""],[1,"cal-header__day-of-the-week"],[1,"cal-header__date"],["cuTooltip",a,"tooltipModifier","tooltip_near","cuDropdownToggle","",1,"cal-day-add"],["class","cu-dropdown__menu cu-dropdown__menu_overflow-hidden cu-dropdown__menu_left cu-dashboard-time__quick-create-task-menu",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","cu-dropdown__menu_overflow-hidden","cu-dropdown__menu_left","cu-dashboard-time__quick-create-task-menu"],["slashCommandsPlacement","","slashCommandsContainer","",3,"status","focus","autoClose","isHidden","margin","dueDate","saveOnDestroy","list","close","taskCreate"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cu-dashboard-time__day-view__all-day-events-create-task-container","cu-hidden-print",3,"drop","dragEnter"],["slashCommandsPlacement","bottom",1,"cu-dashboard-time__day-view__all-day-events-create-task","cu-dashboard-time__day-view__all-day-events-create-task_top",3,"columns","defaultTaskData","users","meUser","weights","userGroups","autoFocus","onCreateTask","onLazyLoad"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],["cuCalendarContentWeekViewEventRow","",1,"cal-events-row"],["eventRowContainer",""],[4,"ngFor","ngForOf","ngForTrackBy"],["totalEventsDraggedTemplate",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active","style","z-index: 20","dragCursor","pointer","cuTooltip","",3,"cal-draggable","cal-undraggable","cal-multi-drag-active","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","resizeCursorPrecision","validateDrag","dropData","ghostElementTemplate","dragAxis","ghostElementAppendTo","cuHoverKeyDown","cuCalendarContentDragDisabledCheck","contextmenu","resizeStart","resizing","resizeEnd","ghostElementCreated","dragEnd","mousedown","mouseup","hoverKeyDown",4,"ngIf"],["class","cal-event-container",3,"width","marginLeft","click",4,"ngIf"],[1,"cal-event","cal-event-selected"],o,["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active","dragCursor","pointer","cuTooltip","",1,"cal-event-container",2,"z-index","20",3,"ngClass","resizeSnapGrid","validateResize","resizeCursorPrecision","validateDrag","dropData","ghostElementTemplate","dragAxis","ghostElementAppendTo","cuHoverKeyDown","cuCalendarContentDragDisabledCheck","contextmenu","resizeStart","resizing","resizeEnd","ghostElementCreated","dragEnd","mousedown","mouseup","hoverKeyDown"],["event","","rowTooltip","cuTooltip"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["cuCalendarContentWeekViewEvent","","tooltipModifier","tooltip_near",1,"cal-event","cu-dashboard-time__calendar__event",3,"dtsSelectItem","cuTooltip","mwlClick"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-event-container",3,"click"],[1,"cal-event","cu-dashboard-time__milestone"],["class","cu-dashboard-time__milestone__holiday",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","tooltipDelay",4,"ngIf"],[1,"cu-dashboard-time__milestone__flag",3,"icon"],[1,"cu-dashboard-time__milestone__title"],[1,"cu-dashboard-time__milestone__arrows",3,"icon","ngClass"],[1,"cu-dashboard-time__milestone__holiday",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","tooltipDelay"],[1,"cal-events-show-more-container"],["class","cal-events-show-more",3,"cal-events-show-more-padding","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-events-show-more",3,"click"],c,n,["mwlResizeHandle","",1,"cu-dashboard-time__day-view__all-day-events__resize-handle",3,"resizeEdges"],[1,"cu-dashboard-time__content__fill-height",3,"disabled","select"],["timeEventsSelectContainer","dts-select-container"],["mwlDraggableScrollContainer","","mwlDroppable","",1,"cu-dashboard-time__content__scroll-container","cu-slim-scroll","cu-sticky-scroll",3,"perfectScrollbar","scroll","dragEnter","dragLeave"],["scrollbarMain","ngxPerfectScrollbar"],[1,"cal-time-events"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel"],[1,"cal-day-column"],[3,"viewDate","twentyFourHourTime","showCurrentTimeLabel"],[1,"cal-day-column-inner"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active","cuTooltip","",1,"cal-event-container",2,"z-index","20",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","ghostElementTemplate","ghostElementAppendTo","dropData","dragAxis","dragSnapGrid","ghostDragEnabled","validateDrag","cuHoverKeyDown","cuCalendarContentDragDisabledCheck","resizeStart","resizing","resizeEnd","ghostElementCreated","dragging","dragEnd","mousedown","mouseup","contextmenu","hoverKeyDown"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[1,"cal-event","cal-event-selected","cu-calendar-content-week-view__time-event"],[1,"cal-event-inner"],s,["tooltipModifier","tooltip_near",1,"cal-event","cu-calendar-content-week-view__time-event",3,"dtsSelectItem","cuTooltip","mwlClick"],["slashCommandsPlacement","top","class","cu-dashboard-time__day-view__all-day-events-create-task",3,"columns","defaultTaskData","users","meUser","userGroups","weights","cu-dashboard-time__day-view__all-day-events-create-task_show-time","onCreateTask","onClose","onLazyLoad",4,"ngIf"],["class","cal-hour-segment cu-dropdown","cuDropdown","","mwlDroppable","","dragActiveClass","cal-drag-active","cdkDropList","",3,"dropdownCloseOnInsideClick","dropdownDisabled","dropdownHostElement","height","cal-hour-start","cal-after-hour-start","ngClass","dragOverClass","id","cdkDropListSortingDisabled","cdkDropListConnectedTo","cdkDropListEnterPredicate","dropdownOpen","dropdownClose","drop","dragEnter","cdkDropListDropped","click","mousedown.out-zone",4,"ngIf"],["slashCommandsPlacement","top",1,"cu-dashboard-time__day-view__all-day-events-create-task",3,"columns","defaultTaskData","users","meUser","userGroups","weights","onCreateTask","onClose","onLazyLoad"],["cuDropdown","","mwlDroppable","","dragActiveClass","cal-drag-active","cdkDropList","",1,"cal-hour-segment","cu-dropdown",3,"dropdownCloseOnInsideClick","dropdownDisabled","dropdownHostElement","ngClass","dragOverClass","id","cdkDropListSortingDisabled","cdkDropListConnectedTo","cdkDropListEnterPredicate","dropdownOpen","dropdownClose","drop","dragEnter","cdkDropListDropped","click","mousedown.out-zone"],["dropdown","dropdown","host","","segmentElement",""],["cuDropdownToggle","",1,"cal-hour-segment-inner"],["slashCommandsPlacement","","slashCommandsContainer","",3,"status","focus","autoClose","isHidden","margin","dueDate","dueDateTime","saveOnDestroy","list","close","taskCreate"]]},template:function(e,t){if(1&e){const e=a.dc();a.cc(0,"div",0,1),a.bd(2,se,3,3,"div",2),a.bd(3,de,7,25,"div",3),a.cc(4,"dts-select-container",4,5),a.qc("select",function(e){return t.eventsDragSelected.emit(e)})("dragEnter",function(){return t.dragEnter("allDay")})("dragLeave",function(){return t.dragLeave("allDay")})("resizeStart",function(){return t.mouseDown()})("resizing",function(e){return t.allDayEventsResize(e)})("resizeEnd",function(e){return t.allDayEventsResize(e,!0)}),a.cc(7,"div",6,7),a.qc("scroll",function(){return a.Uc(e),a.Rc(5).update()}),a.cc(9,"div",8),a.cc(10,"div",9),a.qc("cdkDropListDropped",function(e){return t.cdkDropListDropped(e,t.days[0].date,!0)}),a.cc(11,"div",10),a.gc(12,11),a.bc(),a.bd(13,ue,1,2,"div",12),a.bc(),a.bd(14,De,3,2,"div",13),a.vc(15,"slice"),a.bd(16,Me,2,2,"div",14),a.bc(),a.bc(),a.bd(17,Le,1,2,"div",15),a.bc(),a.bd(18,ot,10,9,"dts-select-container",16),a.bc()}2&e&&(a.Ob("drag-active",t.dragActive||t.isExternalDragActive)("cal-time-events-hidden",!t.viewPreferences.showTimeEvents),a.Ib(2),a.Dc("ngIf",t.days.length>1),a.Ib(1),a.Dc("ngIf",t.newTaskSubcategory&&1===t.days.length),a.Ib(1),a.Dc("disabled",t.disableDragToSelect||!t.enableDragToSelect),a.Ib(3),a.ad("max-height",t.viewPreferences.showTimeEvents&&t.viewPreferences.maxAllDayEventHeight?t.viewPreferences.maxAllDayEventHeight[1===t.days.length?"day":"week"]:null,"px"),a.Ob("cal-all-day-events-scroll",t.showEveryAllDayEvent||!t.viewPreferences.showTimeEvents),a.Dc("perfectScrollbar",a.Gc(27,at)),a.Ib(3),a.Dc("id","calendarWeekViewAllDay")("cdkDropListSortingDisabled",!0)("cdkDropListConnectedTo",t.dragConnectedIds)("cdkDropListEnterPredicate",t.dropListEnterPredicate),a.Ib(3),a.Dc("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),a.Ib(1),a.Dc("ngForOf",t.showEveryAllDayEvent||!t.viewPreferences.showTimeEvents?t.view.allDayEventRows:a.yc(15,23,t.view.allDayEventRows,0,t.maxEventRows))("ngForTrackBy",t.trackById),a.Ib(2),a.Dc("ngIf",t.viewPreferences.showTimeEvents),a.Ib(1),a.Dc("ngIf",t.viewPreferences.showTimeEvents&&t.view.allDayEventRows.length>0),a.Ib(1),a.Dc("ngIf",t.viewPreferences.showTimeEvents))},directives:[f.q,n.b,O.b,I.a,O.d,D.a,C.d,f.p,P.a,$.b,f.o,c.r,z.a,M.a,E.a,L.a,A.a,O.c,F.a,U.a,N.a,n.c,f.x,I.c,R.a,c.s,J],pipes:[f.A,c.q,f.b,ee.a],styles:['.cu-calendar-content-week-view__time-event{width:calc(100% - 2px);margin:1px;padding:0 5px;white-space:normal;line-height:14px;height:calc(100% - 3px)}.cu-calendar-content-week-view__time-event[style="background-color: rgb(255, 255, 255); border-color: rgb(255, 255, 255);"]{border:1px solid #dbdbdb!important}.dark-theme .cu-calendar-content-week-view__time-event[style="background-color: rgb(255, 255, 255); border-color: rgb(255, 255, 255);"]{border-color:#d5d6d7}'],encapsulation:2,changeDetection:0}),e})()},TT1W:function(e,t,i){"use strict";i.d(t,"c",function(){return d}),i.d(t,"b",function(){return u}),i.d(t,"a",function(){return p}),i.d(t,"d",function(){return b});var a=i("L4xm"),o=i("1Spw"),c=i("l7P3"),n=i("kqBa"),s=i("P3yg"),r=i("2t5h"),l=i("7G3y");const d=55,u=320,p=250,m={selectedDashboardId:null,dashboardsMap:{},widgetsMap:{},widgetDataMap:{},reportDataMap:{},widgetLoadingMap:{},widgetContentHistoryMap:{},pageLoadingMap:{},tasksMap:{},isAdding:!1,overPaywall:!1,dashboardSidebarOptions:{isCollapsed:!1,width:p},reloadFlagMap:{},reportGroupMap:{},sprintCategoryId:null,favorites:[]},h=Object(c.createReducer)(m,Object(c.on)(a.hb,(e,{widgets:t})=>e.selectedDashboardId?Object.assign(Object.assign({},e),{widgetsMap:Object.assign(Object.assign({},e.widgetsMap),{[e.selectedDashboardId]:t})}):e),Object(c.on)(a.N,(e,{teamId:t,dashboards:i})=>Object.assign(Object.assign({},e),{dashboardsMap:Object.assign(Object.assign({},e.dashboardsMap),{[t]:i})})),Object(c.on)(a.bb,(e,{id:t})=>Object.assign(Object.assign({},e),{sprintCategoryId:t})),Object(c.on)(a.J,(e,{teamId:t,dashboard:i})=>{let a=e.dashboardsMap&&e.dashboardsMap[t]?[...e.dashboardsMap[t]]:[];const o=a.findIndex(e=>e.id===i.id);return-1!==o&&(a=[...a.slice(0,o),i,...a.slice(o+1)]),Object.assign(Object.assign({},e),{dashboardsMap:Object.assign(Object.assign({},e.dashboardsMap),{[t]:a})})}),Object(c.on)(a.ab,(e,{id:t})=>Object.assign(Object.assign({},e),{selectedDashboardId:t})),Object(c.on)(a.fb,(e,{id:t,data:i})=>Object.assign(Object.assign({},e),{widgetDataMap:Object.assign(Object.assign({},e.widgetDataMap),{[t]:i})})),Object(c.on)(a.db,(e,{id:t,data:i})=>Object.assign(Object.assign({},e),{reportGroupMap:Object.assign(Object.assign({},e.reportGroupMap),{[t]:i})})),Object(c.on)(a.eb,(e,{id:t,data:i})=>Object.assign(Object.assign({},e),{widgetContentHistoryMap:Object.assign(Object.assign({},e.widgetContentHistoryMap),{[t]:i})})),Object(c.on)(a.Z,(e,{item:t,rows:i})=>{const a=t.id,c=i.map(e=>e.user?e.user.id:"-1"),s=Object(n.a)(i,e=>e.user?e.user.id:"-1"),r=e.reportDataMap[a];return Object.assign(Object.assign({},e),{reportDataMap:Object.assign(Object.assign({},e.reportDataMap),{[a]:{ids:c,rowsMap:s,columnSortMap:r?r.columnSortMap:t.type===o.a.WorkSpacePoints?{totals:"desc"}:{},columnSelectedMap:r?r.columnSelectedMap:Object.assign({},o.g),exportRequested:!1,exportError:!1,exportUrl:"",exportDateCreated:null}})})}),Object(c.on)(a.D,(e,{id:t,url:i})=>{const a=Object(s.N)(Object.assign({},e.reportDataMap),t,!0,!1,i);return Object.assign(Object.assign({},e),{reportDataMap:a})}),Object(c.on)(a.G,(e,{item:t})=>{const i=Object(s.N)(Object.assign({},e.reportDataMap),t.id,!0,!1);return Object.assign(Object.assign({},e),{reportDataMap:i})}),Object(c.on)(a.F,(e,{id:t,dateCreated:i})=>{const a=Object(s.N)(Object.assign({},e.reportDataMap),t,!0,!1,null,i);return Object.assign(Object.assign({},e),{reportDataMap:a})}),Object(c.on)(a.mb,(e,{id:t,userId:i})=>{const a=Object(s.y)(Object.assign({},e.reportDataMap),t,i,"expanded",!0);return Object.assign(Object.assign({},e),{reportDataMap:a})}),Object(c.on)(a.Y,(e,{item:t,data:i})=>{const a=Object(s.O)(Object.assign({},e.reportDataMap),t,i);return Object.assign(Object.assign({},e),{reportDataMap:a})}),Object(c.on)(a.kb,(e,{id:t,data:i})=>{const a=Object(s.P)(Object.assign({},e.reportDataMap),t,i);return Object.assign(Object.assign({},e),{reportDataMap:a})}),Object(c.on)(a.k,(e,{item:t,data:i})=>{const a=Object(s.y)(Object.assign({},e.reportDataMap),t.id,i.userId,"loadingMore");return Object.assign(Object.assign({},e),{reportDataMap:a})}),Object(c.on)(a.l,(e,{id:t,userId:i,tasks:a})=>{const o=Object(s.y)(Object.assign({},e.reportDataMap),t,i,null,!1,!1,a,null);return Object.assign(Object.assign({},e),{reportDataMap:o})}),Object(c.on)(a.i,(e,{item:t,data:i})=>{const a=Object(s.y)(Object.assign({},e.reportDataMap),t.id,i.userId,"loading");return Object.assign(Object.assign({},e),{reportDataMap:a})}),Object(c.on)(a.j,(e,{id:t,userId:i,tasks:a,taskIds:o})=>{const c=Object(s.y)(Object.assign({},e.reportDataMap),t,i,null,!1,!1,a,o);return Object.assign(Object.assign({},e),{reportDataMap:c})}),Object(c.on)(a.gb,(e,{id:t,loading:i})=>Object.assign(Object.assign({},e),{widgetLoadingMap:Object.assign(Object.assign({},e.widgetLoadingMap),{[t]:i})})),Object(c.on)(a.U,(e,{widgetId:t,tasksMap:i})=>Object.assign(Object.assign({},e),{tasksMap:Object.assign(Object.assign({},e.tasksMap),{[t]:i})})),Object(c.on)(a.cb,(e,{tasksMap:t})=>Object.assign(Object.assign({},e),{tasksMap:t})),Object(c.on)(a.V,(e,{isAdding:t})=>Object.assign(Object.assign({},e),{isAdding:t,dashboardSidebarOptions:Object.assign(Object.assign({},e.dashboardSidebarOptions),{isCollapsed:!1})})),Object(c.on)(a.X,(e,{overPaywall:t})=>Object.assign(Object.assign({},e),{overPaywall:t})),Object(c.on)(a.T,(e,{ids:t})=>Object.assign(Object.assign({},e),{favorites:t})),Object(c.on)(a.M,(e,{isCollapsed:t,width:i})=>Object.assign(Object.assign({},e),{dashboardSidebarOptions:Object.assign(Object.assign({},e.dashboardSidebarOptions),{isCollapsed:t,width:i})})),Object(c.on)(a.t,(e,{item:t,invalidateCache:i})=>Object.assign(Object.assign({},e),{reloadFlagMap:i?Object.assign(Object.assign({},e.reloadFlagMap),{[t.id]:Object(r.a)()}):e.reloadFlagMap})),Object(c.on)(l.c,(e,{dashboard:t})=>Object.assign(Object.assign({},e),{favorites:[...e.favorites,t.id]})),Object(c.on)(l.p,(e,{dashboardId:t})=>Object.assign(Object.assign({},e),{favorites:e.favorites.filter(e=>e!==t)})));function b(e,t){return h(e,t)}},TyuJ:function(e,t,i){"use strict";i.d(t,"a",function(){return y});var a=i("ofXK"),o=i("/SUI"),c=i("98M/"),n=i("mcWp"),s=i("1M0N"),r=i("V6/z"),l=i("K0KF"),d=i("C8uC"),u=i("gb9A"),p=i("Fv+p"),m=i("KyjD"),h=i("yZn2"),b=i("qgxu"),g=i("MTKx"),f=i("73lP"),_=i("VqQW"),v=i("fXoL");let y=(()=>{class e{}return e.\u0275mod=v.Ub({type:e}),e.\u0275inj=v.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,m.a,h.a,n.a,l.a,r.a,u.a,p.a,b.a,g.a,_.a,s.a,f.a,d.LoaderModule,c.a]]}),e})()},U4aC:function(e,t,i){"use strict";i.d(t,"a",function(){return P});var a=i("Gj5t"),o=i("rpco"),c=i("fXoL"),n=i("Tm/s"),s=i("Jf2N"),r=i("jJW4"),l=i("8it8"),d=i("DkPU"),u=i("ofXK"),p=i("3Pt+"),m=i("NsZK"),h=i("2eMX"),b=i("6kbF"),g=i("8r6i");function f(e,t){1&e&&(c.ac(0),c.gc(1,52),c.Zb())}function _(e,t){1&e&&(c.ac(0),c.gc(1,53),c.Zb())}function v(e,t){if(1&e&&(c.cc(0,"div",54),c.cc(1,"div",55),c.Xb(2,"div",56),c.bc(),c.cc(3,"div",57),c.dd(4),c.bc(),c.bc()),2&e){const e=c.uc(2);c.Ib(4),c.ed(e.nameError)}}function y(e,t){if(1&e){const e=c.dc();c.cc(0,"div",21),c.cc(1,"label"),c.cc(2,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc(2).options.automation=t})("click",function(t){return c.Uc(e),c.uc(2).changeOption(t,"automation")}),c.bc(),c.cc(3,"div",23),c.gc(4,58),c.bc(),c.bc(),c.bc()}if(2&e){const e=c.uc(2);c.Ib(2),c.Dc("ngModel",e.options.automation),c.Ib(1),c.Ob("cu-checkbox_checked",e.options.automation)("cu-checkbox_muted","everything"==e.options.type)}}function w(e,t){if(1&e){const e=c.dc();c.cc(0,"div",21),c.cc(1,"label"),c.cc(2,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc(2).options.oldStatus=t})("click",function(t){return c.Uc(e),c.uc(2).changeOption(t,"oldStatus")}),c.bc(),c.cc(3,"div",23),c.gc(4,59),c.bc(),c.bc(),c.bc()}if(2&e){const e=c.uc(2);c.Ib(2),c.Dc("ngModel",e.options.oldStatus),c.Ib(1),c.Ob("cu-checkbox_checked",e.options.oldStatus)("cu-checkbox_muted","everything"==e.options.type)}}function k(e,t){if(1&e){const e=c.dc();c.cc(0,"div",21),c.cc(1,"label"),c.cc(2,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc(2).options.statuses=t})("click",function(t){return c.Uc(e),c.uc(2).changeOption(t,"statuses")}),c.bc(),c.cc(3,"div",23),c.gc(4,60),c.bc(),c.bc(),c.bc()}if(2&e){const e=c.uc(2);c.Ib(2),c.Dc("ngModel",e.options.statuses),c.Ib(1),c.Ob("cu-checkbox_checked",e.options.statuses)("cu-checkbox_muted","everything"==e.options.type)}}function x(e,t){if(1&e){const e=c.dc();c.cc(0,"div",61),c.cc(1,"div",62),c.gc(2,63),c.bc(),c.cc(3,"cu-project-list-dropdown",64),c.qc("projectSelected",function(t){return c.Uc(e),c.uc(2).selectProject(t)}),c.bc(),c.bc()}}function T(e,t){if(1&e){const e=c.dc();c.cc(0,"cu-category-list-legacy",65),c.qc("onSelect",function(t){return c.Uc(e),c.uc(2).selectCategory(t)})("onChangeProject",function(t){return c.Uc(e),c.uc(2).selectCategoryProject(t)}),c.bc()}if(2&e){const e=c.uc(2);c.Dc("selectedCategoryId",null==e.options.newCategory?null:e.options.newCategory.id)("allowFolderless",!0)("autoSelectProject",!1)("selectedFolderless",(null==e.options.newCategory?null:e.options.newCategory.id)===e.FOLDERLESS_ID)("defaultProject",e.selectedProject)}}function S(e,t){1&e&&(c.ac(0),c.gc(1,66),c.Zb())}function j(e,t){1&e&&(c.ac(0),c.gc(1,67),c.Zb())}const O=function(e){return{"cu-form__row_error":e}},I=function(){return{standalone:!0}};function D(e,t){if(1&e){const e=c.dc();c.ac(0),c.cc(1,"div",2),c.cc(2,"div",3),c.cc(3,"div",4),c.bd(4,f,2,0,"ng-container",0),c.bd(5,_,2,0,"ng-template",null,5,c.cd),c.bc(),c.cc(7,"div",6),c.cc(8,"input",7),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.newName=t})("ngModelChange",function(){return c.Uc(e),c.uc().clearNameError()}),c.bc(),c.bc(),c.bd(9,v,5,1,"div",8),c.bc(),c.cc(10,"div",9),c.cc(11,"div",10),c.gc(12,11),c.bc(),c.cc(13,"div",12),c.cc(14,"div",13),c.cc(15,"label",14),c.cc(16,"input",15),c.qc("click",function(t){return c.Uc(e),c.uc().changeType(t,"everything")}),c.bc(),c.cc(17,"div",16),c.gc(18,17),c.bc(),c.bc(),c.bc(),c.cc(19,"div",13),c.cc(20,"label",14),c.cc(21,"input",15),c.qc("click",function(t){return c.Uc(e),c.uc().changeType(t,"tasksonly")}),c.bc(),c.cc(22,"div",16),c.gc(23,18),c.bc(),c.bc(),c.bc(),c.cc(24,"div",13),c.cc(25,"label",14),c.cc(26,"input",15),c.qc("click",function(t){return c.Uc(e),c.uc().changeType(t,"custom")}),c.bc(),c.cc(27,"div",16),c.gc(28,19),c.bc(),c.bc(),c.bc(),c.bc(),c.cc(29,"div",20),c.cc(30,"div",21),c.cc(31,"label"),c.cc(32,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.assignees=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"assignees")}),c.bc(),c.cc(33,"div",23),c.gc(34,24),c.bc(),c.bc(),c.bc(),c.cc(35,"div",21),c.cc(36,"label"),c.cc(37,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.dependencies=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"dependencies")}),c.bc(),c.cc(38,"div",23),c.gc(39,25),c.bc(),c.bc(),c.bc(),c.cc(40,"div",21),c.cc(41,"label"),c.cc(42,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.subtask=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"subtask")}),c.bc(),c.cc(43,"div",23),c.gc(44,26),c.bc(),c.bc(),c.bc(),c.cc(45,"div",21),c.cc(46,"label"),c.cc(47,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.attachment=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"attachment")}),c.bc(),c.cc(48,"div",23),c.gc(49,27),c.bc(),c.bc(),c.bc(),c.cc(50,"div",21),c.cc(51,"label"),c.cc(52,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.dueDate=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"dueDate")}),c.bc(),c.cc(53,"div",23),c.gc(54,28),c.bc(),c.bc(),c.bc(),c.cc(55,"div",21),c.cc(56,"label"),c.cc(57,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.tags=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"tags")}),c.bc(),c.cc(58,"div",23),c.gc(59,29),c.bc(),c.bc(),c.bc(),c.bd(60,y,5,5,"div",30),c.bd(61,w,5,5,"div",30),c.cc(62,"div",21),c.cc(63,"label"),c.cc(64,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.includeViews=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"includeViews")}),c.bc(),c.cc(65,"div",23),c.gc(66,31),c.bc(),c.bc(),c.bc(),c.cc(67,"div",21),c.cc(68,"label"),c.cc(69,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.checklists=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"checklists")}),c.bc(),c.cc(70,"div",23),c.gc(71,32),c.bc(),c.bc(),c.bc(),c.cc(72,"div",21),c.cc(73,"label"),c.cc(74,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.recurring=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"recurring")}),c.bc(),c.cc(75,"div",23),c.gc(76,33),c.bc(),c.bc(),c.bc(),c.cc(77,"div",21),c.cc(78,"label"),c.cc(79,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.followers=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"followers")}),c.bc(),c.cc(80,"div",23),c.gc(81,34),c.bc(),c.bc(),c.bc(),c.cc(82,"div",21),c.cc(83,"label"),c.cc(84,"input",22),c.qc("ngModelChange",function(t){return c.Uc(e),c.uc().options.customFields=t})("click",function(t){return c.Uc(e),c.uc().changeOption(t,"customFields")}),c.bc(),c.cc(85,"div",23),c.gc(86,35),c.bc(),c.bc(),c.bc(),c.bd(87,k,5,5,"div",30),c.bc(),c.bc(),c.cc(88,"div",36),c.cc(89,"div",10),c.gc(90,37),c.bc(),c.cc(91,"div",38),c.cc(92,"div",13),c.cc(93,"label",14),c.cc(94,"input",15),c.qc("click",function(){return c.Uc(e),c.uc().changeArchived(0)}),c.bc(),c.cc(95,"div",16),c.gc(96,39),c.bc(),c.bc(),c.bc(),c.cc(97,"div",13),c.cc(98,"label",14),c.cc(99,"input",15),c.qc("click",function(){return c.Uc(e),c.uc().changeArchived(null)}),c.bc(),c.cc(100,"div",16),c.gc(101,40),c.bc(),c.bc(),c.bc(),c.cc(102,"div",13),c.cc(103,"label",14),c.cc(104,"input",15),c.qc("click",function(){return c.Uc(e),c.uc().changeArchived(1)}),c.bc(),c.cc(105,"div",16),c.gc(106,41),c.bc(),c.bc(),c.bc(),c.bc(),c.bc(),c.cc(107,"div",42),c.cc(108,"div",43),c.gc(109,44),c.bc(),c.cc(110,"div",45),c.bd(111,x,4,0,"div",46),c.bd(112,T,1,5,"cu-category-list-legacy",47),c.bc(),c.bc(),c.cc(113,"div",48),c.cc(114,"div",49),c.cc(115,"button",50),c.qc("click",function(){return c.Uc(e),c.uc().copy()}),c.bd(116,S,2,0,"ng-container",0),c.bd(117,j,2,0,"ng-template",null,51,c.cd),c.bc(),c.bc(),c.bc(),c.bc(),c.Zb()}if(2&e){const e=c.Rc(6),t=c.Rc(118),i=c.uc();c.Ib(2),c.Dc("ngClass",c.Hc(78,O,i.nameError)),c.Ib(2),c.Dc("ngIf","project"==i.type)("ngIfElse",e),c.Ib(4),c.Dc("placeholder","project"==i.type?"Enter Folder na\ufeffme":"Enter List na\ufeffme")("value",i.options.newName)("ngModel",i.options.newName)("ngModelOptions",c.Gc(80,I)),c.Ib(1),c.Dc("ngIf",i.nameError),c.Ib(7),c.Dc("checked","everything"==i.options.type),c.Ib(5),c.Dc("checked","tasksonly"==i.options.type),c.Ib(5),c.Dc("checked","custom"==i.options.type),c.Ib(6),c.Dc("ngModel",i.options.assignees),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.assignees)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.dependencies),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.dependencies)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.subtask),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.subtask)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.attachment),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.attachment)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.dueDate),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.dueDate)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.tags),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.tags)("cu-checkbox_muted","everything"==i.options.type),c.Ib(2),c.Dc("ngIf","list"===i.type||"project"===i.type),c.Ib(1),c.Dc("ngIf","project"==i.type||"list"==i.type),c.Ib(3),c.Dc("ngModel",i.options.includeViews),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.includeViews)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.checklists),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.checklists)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.recurring),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.recurring)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.followers),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.followers)("cu-checkbox_muted","everything"==i.options.type),c.Ib(4),c.Dc("ngModel",i.options.customFields),c.Ib(1),c.Ob("cu-checkbox_checked",i.options.customFields)("cu-checkbox_muted","everything"==i.options.type),c.Ib(2),c.Dc("ngIf","project"==i.type),c.Ib(7),c.Dc("checked",0===i.options.archived),c.Ib(5),c.Dc("checked",null===i.options.archived),c.Ib(5),c.Dc("checked",1==i.options.archived),c.Ib(7),c.Dc("ngIf","project"==i.type),c.Ib(1),c.Dc("ngIf","list"==i.type),c.Ib(2),c.Dc("cuTooltip","project"!==i.type||null!=i.options&&i.options.newProject?null:"You must select a Space first."),c.Ib(1),c.Dc("disabled","list"==i.type&&!(null!=i.options&&i.options.newCategory)||"project"===i.type&&!(null!=i.options&&i.options.newProject)),c.Ib(1),c.Dc("ngIf","project"==i.type)("ngIfElse",t)}}function C(e,t){if(1&e&&(c.cc(0,"div",68),c.Xb(1,"cu-paywall-popover",69),c.bc()),2&e){const e=c.uc();c.Ib(1),c.Dc("badge","")("title",e.paywallCommonStringsService.freePlanListLimitationText)("text",e.paywallCommonStringsService.freePlanListLimitationDescriptionText)("image","./assets/images/components/paywall-popover/personal-view.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToUnlimitedText)("learnMore","https://docs.clickup.com/en/articles/3315031-limits-on-spaces-and-lists")("amplitudeLabel","400 Lists Per Space")}}let P=(()=>{class e{constructor(e,t,i,o,c){this.navService=e,this.modalService=t,this.sharedData=i,this.commonStringsService=o,this.paywallCommonStringsService=c,this.options={type:"everything",original:null,newName:"",newProject:null,newCategory:null,attachment:!0,subtask:!0,dueDate:!0,assignees:!0,followers:!0,statuses:!0,oldStatus:!0,tags:!0,checklists:!0,recurring:!0,customFields:!0,dependencies:!0,includeViews:!0,automation:!0,archived:0},this.nameError="",this.hidePaywall=!0,this.FOLDERLESS_ID=a.d}get selectedProject(){return this.sharedData.compatCurrentProject}ngOnInit(){this.options.newCategory=this.category&&!this.category.hidden?this.category:{id:a.d,name:""},"list"===this.type?(this.options.original=this.section,this.options.newName=this.section.name+" (copy)"):(this.options.original=this.category,this.options.newName=this.category.name+" (copy)"),this.options.newProject=this.newProject||this.sharedData.compatCurrentProject}copy(){""===this.options.newName.trim()?this.nameError=this.commonStringsService.nameIsRequiredText:"project"===this.type?(this.sharedData.addToastItem({title:"Copying Folder...",bold:!0,forced:!0}),this.navService.copyCategory(this.options.newProject.id,this.options).subscribe(()=>{this.cancel()},e=>{this.sharedData.removeToast({title:"Copying Folder...",bold:!0}),"CAT_040"===e.ECODE||"CAT_038"===e.ECODE?(this.nameError=e.err,this.modalService.currentModalInstance.inner.nativeElement.scrollTop=0):o.b.includes(e.ECODE)&&(this.hidePaywall=!1)})):(this.sharedData.addToastItem({title:"Copying List...",bold:!0,forced:!0}),this.navService.copySection(this.options).subscribe(()=>{this.cancel()},e=>{this.sharedData.undoItems=[],this.sharedData.removeToast({title:"Copying List...",bold:!0,forced:!0}),"SUBCAT_030"===e.ECODE?(this.nameError=e.err,this.modalService.currentModalInstance.inner.nativeElement.scrollTop=0):o.b.includes(e.ECODE)&&(this.hidePaywall=!1)}))}clearNameError(){this.nameError=""}cancel(){this.modalService.close()}setAllOptions(e){this.options.attachment=e,this.options.subtask=e,this.options.dueDate=e,this.options.assignees=e,this.options.followers=e,this.options.statuses=e,this.options.oldStatus=e,this.options.tags=e,this.options.recurring=e,this.options.checklists=e,this.options.customFields=e,this.options.dependencies=e,this.options.includeViews=e,this.options.automation=e}changeArchived(e){this.options.archived=e}changeType(e,t){switch(this.options.type=t,this.options.type){case"everything":this.setAllOptions(!0);break;case"tasksonly":case"custom":this.setAllOptions(!1)}}changeOption(e,t){return"everything"===this.options.type?(this.setAllOptions(!0),this.options[t]=!1,this.options.type="custom",!1):(this.options.type="custom",!0)}selectCategory(e){this.options.newProject=e.project,this.options.newCategory=e.category}selectCategoryProject(e){this.options.newProject&&e&&this.options.newProject.id===e.id||this.selectCategory({project:e,category:this.options.newCategory&&this.options.newCategory.id===a.d?this.options.newCategory:null})}selectProject(e){this.options.newProject=e}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(n.a),c.Wb(s.a),c.Wb(r.a),c.Wb(l.a),c.Wb(d.a))},e.\u0275cmp=c.Qb({type:e,selectors:[["nav-copy-category"]],inputs:{category:"category",section:"section",newProject:"newProject",type:"type"},decls:3,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w,k,x,T,S,j,O,I;return e=$localize`:@@cu-nav-copy-category__form-label_what-to-copy␟656e87477add11aa91e5f6f8f8c67eaa1db5e74b␟5305251815856449169: What would you like to copy? `,t=$localize`:@@cu-nav-copy-category__form-label_everything␟4e5daea6d697ae721890a2df091bbec9bf00fd02␟1810908869520035541: Copy everything `,i=$localize`:@@cu-nav-copy-category__form-label_tasks-only␟d370f1eb8d1f38adf0da9bd7e4c5dfa274948495␟5626402554745745134: Copy Tasks only `,a=$localize`:@@cu-nav-copy-category__form-label_customize␟eab0f5cb3855287bb1ac59e01697535ff2517cfd␟3124775025414565212: Customize `,o=$localize`:@@common_assignees␟83591b214d86bed7e65954f436a1261d4c8502a8␟7723244062009001863: Assignees `,c=$localize`:@@common_dependencies␟eb4cd87e4349372c5be2c5d5cbde880dc13f1ce8␟1686750165064310216: Dependencies `,n=$localize`:@@common_subtasks␟360117f3626f8a0bd4d7798c7f4bbe5615c5866d␟8436804179846722977: Subtasks `,s=$localize`:@@common_attachments␟d18f7db38ee0904fe26a822ffb00016eafb3081e␟4711366409573863665: Attachments `,r=$localize`:@@common_due-date␟5300f61d4045a51e957a5813230c73b78c90e2fa␟147729112289069562: Due date `,l=$localize`:@@common_tags␟c930afa5b9ebad1b81498c99a453d65bda776ba7␟5290580141104218748: Tags `,d=$localize`:@@common_views␟c596f9ea7dc88f6a2811b47b367be1cb133ed312␟9127073672611257621: Views `,u=$localize`:@@common_checklists␟1cb765a0a3ffedd1413b2ae62fa31bfe365d0b81␟938463357156708881: Checklists `,p=$localize`:@@common_recurring-settings␟3125d1cb0872da4dd271608b04c0f8d88ca1dca9␟155424295066991494: Recurring settings `,m=$localize`:@@common_watchers␟ac13ea6ff20ba5d2eefec7551ea05426550071fd␟8946446186927997019: Watchers `,h=$localize`:@@common_custom-fields␟986e88935b2c7b563352ab87ce162709b3e8b30f␟1003581798103245690: Custom Fields `,b=$localize`:@@questions_include-archived-tasks␟967595bf6904101753d2ec5dc6e7ecd6fc115ca8␟1240407326882518021: Do you want to include archived tasks? `,g=$localize`:@@common_nope␟a6d078b6a648295a86e82bf10341fa42190f140a␟315395991785463166: Nope `,f=$localize`:@@forms_label--load-archived-tasks-yes␟526713d9b1246b49bc8c5089e19b99ae276b6025␟8566388132069956963: Yes, but make them unarchived `,_=$localize`:@@forms_label--load-archived-tasks-yes-keep-archived␟3649415e3e6888b64d79e9a9449d7326e7d036ff␟1083774863331813838: Yes (keep them archived) `,v=$localize`:@@common_location␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,y=$localize`:@@cu-nav-copy-category__title_new-folder-name␟3b8c329ea5c3f4698607bdda1f946f444acb43eb␟3999596148351770057:New Folder name`,w=$localize`:@@common_new-list-name␟812ad417b158a25202c83ecd0e325c044c93a590␟4506156225882192556:New List name`,k=$localize`:@@common_automations␟1608a8d540b20d9b82c78886a01c72cf27cdd5cb␟8024770702202195447: Automations `,x=$localize`:@@cu-nav-copy-category__form-label_keep-task-statuses␟e12d16f629acf3d28a43bcefb7fd6f7dca66c5b9␟968411981695948187: Keep task statuses `,T=$localize`:@@cu-nav-copy-category__form-label_status-settings␟2fb1d59b0920bd94bf43b08d1fe3ddd21a624d38␟7607681204924226958: Status Settings `,S=$localize`:@@common_space␟52d92107e6b2e533468a728409354191bc7b0618␟8946906119075338535:Space`,j=$localize`:@@common_copy-folder␟27c4ae93830ee6be9e1b118469c0ac571ee81dd3␟8916408357479236480:Copy Folder`,O=$localize`:@@common_copy-list␟f16953efff2be239a919b62a6ea471d88e964914␟6735131464236721169:Copy List`,I=$localize`:@@paywall_email-subject--increased-lists-per-spaces␟a4bc6705bc2fd756a0c0dfe250b49121beaa6b7d␟2445000347678166812:Please upgrade ClickUp so we can have 400 lists per Space`,[[4,"ngIf","ngIfElse"],["paywallLimitedLists",""],[1,"cu-form","category-copy"],[1,"cu-form__row","category-copy__input-block",3,"ngClass"],[1,"cu-form__label","category-copy__title"],["newListNameTmpl",""],[1,"cu-form__field"],["type","text",1,"cu-form__input","category-copy__input",3,"placeholder","value","ngModel","ngModelOptions","ngModelChange"],["class","cu-form__error",4,"ngIf"],[1,"category-copy__options-block","category-copy__options-block_has-bottom-section"],[1,"category-copy__options-title"],e,[1,"category-copy__options-header"],[1,"cu-radio"],[1,"cu-form__label-radio"],["type","radio",1,"cu-radio__input",3,"checked","click"],[1,"cu-radio__label","category-copy_radio-label"],t,i,a,[1,"category-copy__options-body"],[1,"cu-checkbox"],["type","checkbox","name","checkbox_everything",1,"cu-checkbox__input",3,"ngModel","ngModelChange","click"],[1,"cu-checkbox__label","category-copy_checkbox-label"],o,c,n,s,r,l,["class","cu-checkbox",4,"ngIf"],d,u,p,m,h,[1,"category-copy__options-block","category-copy__options-block_no-border-top"],b,[1,"category-copy__options-header","category-copy__options-header_no-bottom-section"],g,f,_,[1,"category-copy__location-block"],[1,"task-copy__title"],v,[1,"category-copy__location-body"],["class","category-copy__project",4,"ngIf"],["class","category-copy__category-list","mode","project",3,"selectedCategoryId","allowFolderless","autoSelectProject","selectedFolderless","defaultProject","onSelect","onChangeProject",4,"ngIf"],[1,"category-copy__button-block"],[1,"category-copy__button-block-tooltip",3,"cuTooltip"],[1,"cu-btn",3,"disabled","click"],["copyListTmpl",""],y,w,[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],k,x,T,[1,"category-copy__project"],[1,"category-copy__space"],S,[3,"projectSelected"],["mode","project",1,"category-copy__category-list",3,"selectedCategoryId","allowFolderless","autoSelectProject","selectedFolderless","defaultProject","onSelect","onChangeProject"],j,O,[1,"category-copy__overlimit"],["emailSubject",I,3,"badge","title","text","image","upgradeButtonText","learnMore","amplitudeLabel"]]},template:function(e,t){if(1&e&&(c.bd(0,D,119,81,"ng-container",0),c.bd(1,C,2,7,"ng-template",null,1,c.cd)),2&e){const e=c.Rc(2);c.Dc("ngIf",t.hidePaywall)("ngIfElse",e)}},directives:[u.q,u.o,p.c,p.p,p.s,p.b,m.a,h.a,b.a,g.a],encapsulation:2}),e})()},U9LQ:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("ofXK"),o=i("KyjD"),c=i("K0KF"),n=i("gb9A"),s=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.a]]}),e})()},UAfm:function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return r});var a=i("2p4s"),o=i("fXoL"),c=i("tk/3"),n=i("irDL");let s=(()=>{class e{constructor(e,t){this.http=e,this.errorHandler=t,this.apiUrl=a.a.apiUrl}getRecentSubcategories(e,{startId:t,startDate:i}={}){const a={};return t&&(a.start_id=t),t&&(a.start_date=i),this.http.get(`${this.apiUrl}/home/${e}/subcategories`,{params:a}).pipe(this.errorHandler.http())}getRecentDashboards(e,{startId:t,startDate:i}={}){const a={};return t&&(a.start_id=t),t&&(a.start_date=i),this.http.get(`${this.apiUrl}/home/${e}/dashboards`,{params:a}).pipe(this.errorHandler.http())}getRecentViews(e,{paging:t}={}){const i={};return t&&(i.paging=JSON.stringify(t)),this.http.get(`${this.apiUrl}/home/${e}/views`,{params:i}).pipe(this.errorHandler.http())}getSections(e){return this.http.get(`${this.apiUrl}/home/${e}/section`).pipe(this.errorHandler.http())}updateSection(e,t,i){return this.http.put(`${this.apiUrl}/home/${e}/section/${t}`,i).pipe(this.errorHandler.http())}getAssignedComments(e,{startId:t,userId:i,resolved:a}={}){return this.http.get(this.apiUrl+"/assignedComment",{params:{team:e,start_id:t,userid:i,resolved:void 0!==a?String(a):void 0}}).pipe(this.errorHandler.http())}getTaggedComments(e,{startDate:t,userId:i,unclearedMentions:a}={}){return this.http.get(this.apiUrl+"/taggedComment",{params:{team:e,start_date:t,userid:i,uncleared_mentions:null==a?void 0:a.toString()}}).pipe(this.errorHandler.http())}getLiveData(e,t){return this.http.get(`${this.apiUrl}/team/${e}/home/activity`,{params:t}).pipe(this.errorHandler.http())}}return e.\u0275fac=function(t){return new(t||e)(o.nc(c.b),o.nc(n.a))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const r="home-view-last-legacy"},UJt2:function(e,t,i){"use strict";i.d(t,"b",function(){return M}),i.d(t,"a",function(){return E});var a=i("fXoL"),o=i("TqRa"),c=i("jJQC"),n=i("ofXK"),s=i("8it8");const r=["searchInput"],l=["sidebarScroller"];function d(e,t){if(1&e){const e=a.dc();a.cc(0,"div",26),a.qc("click",function(){return a.Uc(e),a.uc().toggleSearch()}),a.bc()}}function u(e,t){if(1&e){const e=a.dc();a.cc(0,"div",27),a.qc("click",function(){return a.Uc(e),a.uc().setSearchText.emit("")}),a.bc()}}const p=function(e){return{"cu-dashboard-time__sidebar-subtitle-tabs-item_active":e}};function m(e,t){if(1&e){const e=a.dc();a.cc(0,"div",30),a.qc("click",function(){return a.Uc(e),a.uc(2).changeTab("no-effort")}),a.gc(1,34),a.bc()}if(2&e){const e=a.uc(2);a.Dc("ngClass",a.Hc(1,p,"no-effort"===e.tab))}}function h(e,t){if(1&e){const e=a.dc();a.cc(0,"div",28),a.cc(1,"div",29),a.cc(2,"div",30),a.qc("click",function(){return a.Uc(e),a.uc().changeTab("unscheduled")}),a.gc(3,31),a.bc(),a.bd(4,m,2,3,"div",32),a.cc(5,"div",30),a.qc("click",function(){return a.Uc(e),a.uc().changeTab("overdue")}),a.gc(6,33),a.bc(),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Dc("cuTooltip",e.locked?e.commonStringsService.unprotectThisViewChangesText:""),a.Ib(1),a.Dc("ngClass",a.Hc(4,p,"unscheduled"===e.tab)),a.Ib(2),a.Dc("ngIf",e.showNoEffort),a.Ib(1),a.Dc("ngClass",a.Hc(6,p,"overdue"===e.tab))}}function b(e,t){if(1&e){const e=a.dc();a.cc(0,"div",39),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(2).changeSort.emit(i.name)}),a.dd(1),a.bc()}if(2&e){const e=t.$implicit;a.Ib(1),a.fd(" ",e.title," ")}}function g(e,t){if(1&e&&(a.cc(0,"div",35),a.cc(1,"div",36),a.cc(2,"div",37),a.bd(3,b,2,1,"div",38),a.bc(),a.bc(),a.bc()),2&e){const e=a.uc();a.Ib(3),a.Dc("ngForOf",e.sortByFields)("ngForTrackBy",e.trackByName)}}const f=function(e){return[e]};function _(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-user-group",44),a.qc("onUserRemove",function(){return a.Uc(e),a.uc(2).clearSidebarUserFilter.emit()}),a.bc()}if(2&e){const e=a.uc(2);a.Dc("cuTooltip",e.sidebarFilterUserTooltipText)("showUserRemover",!0)("users",a.Hc(5,f,e.sidebarFilterUser))("disableUserTooltip",!0)("avatarSize",24)}}function v(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-user-group",45),a.qc("onUserGroupRemove",function(){return a.Uc(e),a.uc(2).clearSidebarUserFilter.emit()}),a.bc()}if(2&e){const e=a.uc(2);a.Dc("cuTooltip",e.sidebarFilterGroupTooltipText)("showUserRemover",!0)("userGroups",a.Hc(5,f,e.sidebarFilterUserGroup))("disableUserTooltip",!0)("avatarSize",24)}}function y(e,t){if(1&e&&(a.cc(0,"div",40),a.ac(1),a.mc(2,41),a.Xb(3,"span"),a.jc(),a.Zb(),a.bd(4,_,1,7,"cu-user-group",42),a.bd(5,v,1,7,"cu-user-group",43),a.bc()),2&e){const e=a.uc();a.Ib(3),a.kc(e.totalTasks[e.tab])(e.totalTasks[e.tab]),a.hc(2),a.Ib(1),a.Dc("ngIf",e.sidebarFilterUser),a.Ib(1),a.Dc("ngIf",e.sidebarFilterUserGroup)}}function w(e,t){1&e&&a.Xb(0,"cu-loader")}const k=function(e,t){return{x:e,y:t}},x=function(e){return{event:e}},T=function(){return{m:!0}};function S(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-calendar-sidebar-event",51,52),a.qc("renameEvent",function(t){return a.Uc(e),a.uc(2).renameEvent.emit(t)})("contextmenu",function(i){a.Uc(e);const o=t.$implicit;return a.uc(2).showTaskRightClickMenu.emit({event:o,mouseEvent:i})})("ghostElementCreated",function(){a.Uc(e);const i=t.$implicit;return a.uc(2).dragStartedExternal.emit(i)})("dragEnd",function(){return a.Uc(e),a.uc(2).dragEndedExternal.emit()})("click",function(i){a.Uc(e);const o=t.$implicit;return a.uc(2).eventClicked.emit({event:o,mouseEvent:i})})("hoverKeyDown",function(){a.Uc(e);const i=t.$implicit,o=a.Rc(1);return a.uc(2).toggleMe.emit({event:i,tooltip:o})})("setStatus",function(i){a.Uc(e);const o=t.$implicit;return a.uc(2).setStatus.emit({task:o.meta.task,status:i})})("toggleSimpleStatus",function(){a.Uc(e);const i=t.$implicit;return a.uc(2).toggleSimpleStatus.emit(i)}),a.bc()}if(2&e){const e=t.$implicit;a.uc();const i=a.Rc(4),o=a.uc();a.Ob("cal-draggable",e.draggable)("cal-undraggable",!e.draggable)("cu-calendar-sidebar-event_selected",e.meta.isSelected)("cal-multi-drag-active",e.meta.isSelected&&o.externalDragActive&&o.externalDragActive.meta.isSelected&&o.selectedTaskIds.length>1),a.Dc("event",e)("eventIdToRename",o.renameTaskId)("showEventItems",o.showEventItems)("allowChangeStatus",o.allowChangeStatus)("showTooltip",!0)("isOverdue","overdue"===o.tab)("dragAxis",a.Ic(19,k,e.draggable,e.draggable))("ghostElementAppendTo",o.document.body)("dropData",a.Hc(22,x,e))("ghostElementTemplate",o.selectedTaskIds.length>1&&e.meta.isSelected?i:null)("cuHoverKeyDown",a.Gc(24,T))}}function j(e,t){if(1&e&&(a.cc(0,"div",53),a.gc(1,54),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.kc(e.selectedTaskIds.length),a.hc(1)}}function O(e,t){1&e&&a.Xb(0,"cu-loader")}function I(e,t){if(1&e){const e=a.dc();a.cc(0,"div",55),a.qc("click",function(){return a.Uc(e),a.uc(2).setSearchText.emit("")}),a.ac(1),a.gc(2,56),a.Zb(),a.cc(3,"div",57),a.gc(4,58),a.bc(),a.bc()}}const D=function(){return{wheelPropagation:!0,suppressScrollX:!0}};function C(e,t){if(1&e){const e=a.dc();a.cc(0,"cdk-virtual-scroll-viewport",46,47),a.qc("drop",function(t){return a.Uc(e),a.uc().eventDroppedOut.emit(t.dropData.event)})("dragEnter",function(){return a.Uc(e),a.uc().eventsDragOver=!0})("dragLeave",function(){return a.Uc(e),a.uc().eventsDragOver=!1})("onReachBottom",function(){return a.Uc(e),a.uc().loadMoreTasks.emit()}),a.bd(2,S,2,25,"cu-calendar-sidebar-event",48),a.bd(3,j,2,1,"ng-template",null,49,a.cd),a.bd(5,O,1,0,"cu-loader",24),a.bd(6,I,5,0,"div",50),a.bc()}if(2&e){const e=a.uc();a.Ob("cu-dashboard-time__events-drag-over",e.eventsDragOver),a.Dc("itemSize",38)("perfectScrollbar",a.Gc(9,D))("scrollDetectorDisabled",e.moreLoading||!e.hasMoreTasks),a.Ib(2),a.Dc("cdkVirtualForOf",e.sidebarEvents)("cdkVirtualForTrackBy",e.trackById),a.Ib(3),a.Dc("ngIf",e.moreLoading),a.Ib(1),a.Dc("ngIf",!e.sidebarEvents.length&&e.searchText)}}const P=function(e){return{"cu-dashboard-time__sidebar-search_hidden":e}},$=function(){return["bottom-right","auto"]},z=function(e,t){return{"sortable__dir-asc":e,"sortable__dir-desc":t}},M=[{title:$localize`:@@common_due-date:Due date`,name:"due_date",apiOrderBy:"dueDate",hiddenOn:"unscheduled"},{title:$localize`:@@common_status:Status`,name:"status",apiOrderBy:"status"},{title:$localize`:@@common_priority:Priority`,name:"priority",apiOrderBy:"priority"},{title:$localize`:@@common_assignees:Assignees`,name:"assignees",apiOrderBy:"assignee"},{title:$localize`:@@common_name:Name`,name:"name",apiOrderBy:"name"},{title:$localize`:@@common_list-name:List name`,name:"subcategory",apiOrderBy:"subcategory"}];let E=(()=>{class e{constructor(e,t){this.document=e,this.commonStringsService=t,this.sidebarTitle="Tasks",this.allowChangeStatus=!0,this.clearSidebarUserFilter=new a.o,this.renameEvent=new a.o,this.toggleCollapsed=new a.o,this.setSearchText=new a.o,this.loadMoreTasks=new a.o,this.toggleSortDirection=new a.o,this.setSidebarTaskType=new a.o,this.eventDroppedOut=new a.o,this.toggleMe=new a.o,this.toggleSimpleStatus=new a.o,this.changeSort=new a.o,this.showTaskRightClickMenu=new a.o,this.eventClicked=new a.o,this.dragStartedExternal=new a.o,this.dragEndedExternal=new a.o,this.reloadTask=new a.o,this.updateTask=new a.o,this.setStatus=new a.o,this.isSharingApp=o.k,this.trackById=Object(c.d)("id"),this.trackByName=Object(c.d)("name")}get sidebarFilterUserTooltipText(){return this.sidebarFilterUser?$localize`:@@cu-calendar-sidebar__tooltip-msg_tasks-assigned-to-user:Only showing tasks assigned to ${this.sidebarFilterUser.username}:username:`:""}get sidebarFilterGroupTooltipText(){return this.sidebarFilterUserGroup?$localize`:@@cu-calendar-sidebar__tooltip-msg_tasks-assigned-to-group:Only showing tasks assigned to ${this.sidebarFilterUserGroup.name}:groupName:`:""}ngOnInit(){}ngOnChanges(e){e.tab&&(this.sortByFields=M.filter(e=>e.hiddenOn!==this.tab)),e.sortBy&&(this.sortByLabel=M.find(e=>e.name===this.sortBy.field).title)}toggleSearch(){this.isShowedSearch=!this.isShowedSearch,this.isShowedSearch&&this.searchInput.nativeElement.focus()}changeTab(e){this.setSidebarTaskType.emit(e),this.sidebarScroller&&this.sidebarScroller.scrollToTop()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(n.d),a.Wb(s.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-calendar-sidebar"]],viewQuery:function(e,t){if(1&e&&(a.jd(r,1),a.jd(l,1)),2&e){let e;a.Qc(e=a.rc())&&(t.searchInput=e.first),a.Qc(e=a.rc())&&(t.sidebarScroller=e.first)}},hostAttrs:[1,"cu-calendar-sidebar"],inputs:{locked:"locked",tab:"tab",sidebarTitle:"sidebarTitle",showNoEffort:"showNoEffort",searchText:"searchText",selectedTaskIds:"selectedTaskIds",hideTabs:"hideTabs",initialLoading:"initialLoading",moreLoading:"moreLoading",hasMoreTasks:"hasMoreTasks",sidebarEvents:"sidebarEvents",sortBy:"sortBy",externalDragActive:"externalDragActive",showEventItems:"showEventItems",renameTaskId:"renameTaskId",allowChangeStatus:"allowChangeStatus",totalTasks:"totalTasks",sidebarFilterUser:"sidebarFilterUser",sidebarFilterUserGroup:"sidebarFilterUserGroup"},outputs:{clearSidebarUserFilter:"clearSidebarUserFilter",renameEvent:"renameEvent",toggleCollapsed:"toggleCollapsed",setSearchText:"setSearchText",loadMoreTasks:"loadMoreTasks",toggleSortDirection:"toggleSortDirection",setSidebarTaskType:"setSidebarTaskType",eventDroppedOut:"eventDroppedOut",toggleMe:"toggleMe",toggleSimpleStatus:"toggleSimpleStatus",changeSort:"changeSort",showTaskRightClickMenu:"showTaskRightClickMenu",eventClicked:"eventClicked",dragStartedExternal:"dragStartedExternal",dragEndedExternal:"dragEndedExternal",reloadTask:"reloadTask",updateTask:"updateTask",setStatus:"setStatus"},features:[a.Gb],decls:28,vars:21,consts:function(){let e,t,i,o,c,n,s,r,l,d,u;return e=$localize`:@@common_hide␟26d9f8cc1b9e3fe113dedfc44a7fc40ce24a054c␟2944669369015264087: Hide `,t=$localize`:form input placeholder@@forms_placeholder--search-1␟8aa58cf00d949c509df91c621ab38131df0a7599␟8854094932942190741:Search...`,i=$localize`:@@common_sort-by-1␟db7ba0c0fbd919fc09f5e3d17dd42305977732e4␟7656845484270032988: Sort by `,o=$localize`:@@common_unscheduled␟fa2bd85486daa85b40a26542a272555286fdfbb2␟4826148084994112826: Unscheduled `,c=$localize`:@@common_overdue␟1f86a776f4f0d06a6b9c38b832b485d17ca9ffba␟8134705660180358922: Overdue `,n=$localize`:@@common_no-effort␟0afbb1ea46c5318b781521c7bc5ad161faa70731␟2324004658553198584: No effort `,s=$localize`:␟e8f300e1fcf9ab4a5df47e1136702905f81c2a55␟2997060973080862124:{VAR_PLURAL, plural, =1 {task} other {tasks}}`,s=a.lc(s,{VAR_PLURAL:"\ufffd1\ufffd"}),r=$localize`:@@cu-dashboard-time__sidebar-task-count␟0cd1686e74feffd30d719c1ef79a60ac3d388ba3␟2307690463302457105:${"\ufffd#3\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN: ${s}:ICU:`,l=$localize`:@@common_selected-tasks-ids-task-count␟60349e93ebde2035b27c0cbe9c863decb7089ab4␟8203565845819558932: ${"\ufffd0\ufffd"}:INTERPOLATION: tasks `,d=$localize`:@@common_no-results␟c31161d1661884f54fbc5635aad5ce8d4803897e␟834805431202576194:No results.`,u=$localize`:@@common_clear-filter␟c5331a84d5276e1631345bb58b80f2e3b8528f32␟1307855156157428936: Clear filter `,[[1,"cu-dashboard-time__sidebar-title"],[1,"cu-dashboard-time__sidebar-title-label"],["class","cu-dashboard-time__sidebar-title-search","icon","search",3,"click",4,"ngIf"],[1,"cu-dashboard-time__hide",3,"click"],e,[1,"cu-dashboard-time__sidebar-search",3,"ngClass"],["type","text","placeholder",t,1,"cu-dashboard-time__sidebar-search-input",3,"ngModel","ngModelChange"],["searchInput",""],["icon","search",1,"cu-dashboard-time__sidebar-search-icon"],["class","cu-dashboard-time__sidebar-search-close","icon","close",3,"click",4,"ngIf"],["class","cu-dashboard-time__sidebar-subtitle",4,"ngIf"],[1,"cu-dashboard-time__sidebar-options"],[1,"cu-dashboard-time__sidebar-sort",3,"cuTooltip"],["sortContainer",""],[1,"cu-dashboard-time__sidebar-sort-title"],i,[1,"cu-dashboard-time__sidebar-sort-value"],["cuDropdown","",1,"cu-dropdown","cu-dashboard-time__sidebar-sort-combo",3,"dropdownPlacement","dropdownHostElement","dropdownDisabled"],["cuDropdownToggle","",1,"cu-dropdown__toggle","cu-dashboard-time__sidebar-sort-combo-value"],[1,"cu-dashboard-time__sidebar-sort-combo-text"],["class","cu-dropdown__menu cu-dashboard-time__sidebar-sort-combo-menu",4,"cuDropdownMenu"],[1,"cu-dashboard-time__sidebar-sort-dir"],["icon","dropdown-settings_down",1,"sortable__dir",3,"ngClass","click"],["class","cu-dashboard-time__sidebar-task-count",4,"ngIf"],[4,"ngIf"],["class","cu-dashboard-time__events","mwlDroppable","","dragOverClass","drag-over-border","cuScrollDetector","",3,"itemSize","cu-dashboard-time__events-drag-over","perfectScrollbar","scrollDetectorDisabled","drop","dragEnter","dragLeave","onReachBottom",4,"ngIf"],["icon","search",1,"cu-dashboard-time__sidebar-title-search",3,"click"],["icon","close",1,"cu-dashboard-time__sidebar-search-close",3,"click"],[1,"cu-dashboard-time__sidebar-subtitle"],[1,"cu-dashboard-time__sidebar-subtitle-tabs",3,"cuTooltip"],[1,"cu-dashboard-time__sidebar-subtitle-tabs-item",3,"ngClass","click"],o,["class","cu-dashboard-time__sidebar-subtitle-tabs-item",3,"ngClass","click",4,"ngIf"],c,n,[1,"cu-dropdown__menu","cu-dashboard-time__sidebar-sort-combo-menu"],[1,"cu-dashboard-time__sidebar-sort-list"],[1,"cu-dashboard-time__sidebar-sort-body"],["class","cu-dashboard-time__sidebar-sort-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-dashboard-time__sidebar-sort-item",3,"click"],[1,"cu-dashboard-time__sidebar-task-count"],r,["class","cu-dashboard-time__sidebar-task-count-user",3,"cuTooltip","showUserRemover","users","disableUserTooltip","avatarSize","onUserRemove",4,"ngIf"],["class","cu-dashboard-time__sidebar-task-count-user",3,"cuTooltip","showUserRemover","userGroups","disableUserTooltip","avatarSize","onUserGroupRemove",4,"ngIf"],[1,"cu-dashboard-time__sidebar-task-count-user",3,"cuTooltip","showUserRemover","users","disableUserTooltip","avatarSize","onUserRemove"],[1,"cu-dashboard-time__sidebar-task-count-user",3,"cuTooltip","showUserRemover","userGroups","disableUserTooltip","avatarSize","onUserGroupRemove"],["mwlDroppable","","dragOverClass","drag-over-border","cuScrollDetector","",1,"cu-dashboard-time__events",3,"itemSize","perfectScrollbar","scrollDetectorDisabled","drop","dragEnter","dragLeave","onReachBottom"],["sidebarScroller","ngxPerfectScrollbar"],["mwlDraggable","","dragCursor","pointer","dragActiveClass","drag-border","style","z-index: 30","cuTooltip","",3,"cal-draggable","cal-undraggable","cu-calendar-sidebar-event_selected","cal-multi-drag-active","event","eventIdToRename","showEventItems","allowChangeStatus","showTooltip","isOverdue","dragAxis","ghostElementAppendTo","dropData","ghostElementTemplate","cuHoverKeyDown","renameEvent","contextmenu","ghostElementCreated","dragEnd","click","hoverKeyDown","setStatus","toggleSimpleStatus",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["totalEventsDraggedTemplate",""],["class","cu-dashboard-time__events-no-results",3,"click",4,"ngIf"],["mwlDraggable","","dragCursor","pointer","dragActiveClass","drag-border","cuTooltip","",2,"z-index","30",3,"event","eventIdToRename","showEventItems","allowChangeStatus","showTooltip","isOverdue","dragAxis","ghostElementAppendTo","dropData","ghostElementTemplate","cuHoverKeyDown","renameEvent","contextmenu","ghostElementCreated","dragEnd","click","hoverKeyDown","setStatus","toggleSimpleStatus"],["rowTooltip","cuTooltip"],[1,"cu-calendar-sidebar-event__title"],l,[1,"cu-dashboard-time__events-no-results",3,"click"],d,[1,"cu-dashboard-time__events-no-results-link"],u]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.dd(2),a.bc(),a.bd(3,d,1,0,"div",2),a.cc(4,"div",3),a.qc("click",function(){return t.toggleCollapsed.emit(!0)}),a.gc(5,4),a.bc(),a.bc(),a.cc(6,"div",5),a.cc(7,"input",6,7),a.qc("ngModelChange",function(e){return t.setSearchText.emit(e)}),a.bc(),a.Xb(9,"div",8),a.bd(10,u,1,0,"div",9),a.bc(),a.bd(11,h,7,8,"div",10),a.cc(12,"div",11),a.cc(13,"div",12,13),a.cc(15,"div",14),a.gc(16,15),a.bc(),a.cc(17,"div",16),a.cc(18,"div",17),a.cc(19,"div",18),a.cc(20,"div",19),a.dd(21),a.bc(),a.bc(),a.bd(22,g,4,2,"div",20),a.bc(),a.cc(23,"div",21),a.cc(24,"div",22),a.qc("click",function(){return t.toggleSortDirection.emit()}),a.bc(),a.bc(),a.bc(),a.bc(),a.bd(25,y,6,4,"div",23),a.bc(),a.bd(26,w,1,0,"cu-loader",24),a.bd(27,C,7,10,"cdk-virtual-scroll-viewport",25)),2&e){const e=a.Rc(14);a.Ib(2),a.ed(t.sidebarTitle),a.Ib(1),a.Dc("ngIf",!t.isSharingApp),a.Ib(3),a.Dc("ngClass",a.Hc(15,P,!t.isShowedSearch)),a.Ib(1),a.Dc("ngModel",t.searchText),a.Ib(3),a.Dc("ngIf",t.searchText),a.Ib(1),a.Dc("ngIf",!t.hideTabs),a.Ib(2),a.Dc("cuTooltip",t.locked?t.commonStringsService.unprotectThisViewChangesText:""),a.Ib(5),a.Dc("dropdownPlacement",a.Gc(17,$))("dropdownHostElement",e)("dropdownDisabled",t.locked),a.Ib(3),a.fd(" ",t.sortByLabel," "),a.Ib(3),a.Dc("ngClass",a.Ic(18,z,"asc"===t.sortBy.dir,"desc"===t.sortBy.dir)),a.Ib(1),a.Dc("ngIf",!t.initialLoading),a.Ib(1),a.Dc("ngIf",t.initialLoading),a.Ib(1),a.Dc("ngIf",!t.initialLoading)}},styles:[".cu-calendar-sidebar{position:relative;height:100%;min-height:100%;display:flex;flex-direction:column}"],encapsulation:2,changeDetection:0}),e})()},VLZn:function(e,t,i){e.exports=i.p+"google-calendar.4f55a1c1f7a2be30789e.svg"},Vi3F:function(e,t,i){"use strict";i.d(t,"a",function(){return Te});var a=i("fXoL"),o=i("c3rA"),c=i("mrTC"),n=i("uslN"),s=i("SxV6"),r=i("HEHP"),l=i("l7P3"),d=i("hfeG"),u=i("DkPU"),p=i("N4ya"),m=i("UdVN");const h=(e,t,i)=>{if(-1!==t.indexOf(e))return null===i?null:Number(i)};var b=i("cC1p"),g=i("N/Rp"),f=i("/qOb"),_=i("jJQC"),v=i("dhcM"),y=i("CgHv"),w=i("2p4s"),k=i("12P9"),x=i("FDF9"),T=i("RtrR"),S=i("oy6Y"),j=i("rLOZ"),O=i("ofXK"),I=i("3uaV"),D=i("jwRX"),C=i("t6Eg"),P=i("EDFS"),$=i("Yj50"),z=i("NsZK"),M=i("5Eri"),E=i("5xNR"),L=i("kc4K");const A=["taskInput"],F=["pop"],U=["datePickerRowTemplate"],N=["assigneeRowTemplate"],R=["uploader"];function G(e,t){if(1&e){const e=a.dc();a.cc(0,"div",16),a.qc("click",function(){return a.Uc(e),a.uc().cancel()}),a.Xb(1,"div",17),a.bc()}}function q(e,t){if(1&e&&(a.cc(0,"div",18),a.dd(1),a.bc()),2&e){const e=a.uc();a.Ib(1),a.ed(e.error)}}function B(e,t){}const W=function(){return{}};function V(e,t){if(1&e&&(a.ac(0),a.bd(1,B,0,0,"ng-template",19),a.Zb()),2&e){a.uc();const e=a.Rc(14);a.Ib(1),a.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",a.Gc(2,W))}}function X(e,t){if(1&e){const e=a.dc();a.cc(0,"div",20),a.qc("click",function(t){return a.Uc(e),a.uc().saveTask(t,!0)}),a.gc(1,21),a.bc()}}function H(e,t){if(1&e){const e=a.dc();a.cc(0,"div",22),a.cc(1,"cu-uploader",23,24),a.qc("onFileUploaded",function(){return a.Uc(e),a.uc().updateAttachments()})("onFileDeleted",function(){return a.Uc(e),a.uc().updateAttachments()}),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Dc("options",e.UPLOAD_OPTIONS)}}function Y(e,t){}function Z(e,t){if(1&e){const e=a.dc();a.ac(0),a.cc(1,"div",25),a.cc(2,"div",26),a.cc(3,"div",27),a.tc(),a.cc(4,"svg",28),a.Xb(5,"path",29),a.bc(),a.sc(),a.ac(6),a.gc(7,30),a.Zb(),a.bc(),a.bc(),a.Xb(8,"div",31),a.cc(9,"div",32),a.bd(10,Y,0,0,"ng-template",19),a.bc(),a.cc(11,"div",33),a.qc("click",function(t){return a.Uc(e),a.uc().saveTask(t,!0)}),a.gc(12,34),a.bc(),a.bc(),a.Zb()}if(2&e){a.uc();const e=a.Rc(14);a.Ib(10),a.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",a.Gc(2,W))}}function Q(e,t){if(1&e){const e=a.dc();a.cc(0,"div",36),a.qc("click",function(){return a.Uc(e),a.uc(2).toggleAttachments()}),a.bc()}2&e&&a.Dc("tooltipDelay",500)}function K(e,t){}const J=function(e){return{col:e}};function ee(e,t){if(1&e&&(a.ac(0),a.bd(1,K,0,0,"ng-template",19),a.Zb()),2&e){const e=a.uc(2),t=a.Rc(18);a.Ib(1),a.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",a.Hc(2,J,e.dueDateCol))}}function te(e,t){}function ie(e,t){if(1&e&&(a.ac(0),a.bd(1,te,0,0,"ng-template",19),a.Zb()),2&e){const e=a.uc(2),t=a.Rc(22);a.Ib(1),a.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",a.Hc(2,J,e.assigneeCol))}}function ae(e,t){}function oe(e,t){if(1&e&&(a.ac(0),a.bd(1,ae,0,0,"ng-template",37),a.Zb()),2&e){a.uc(2);const e=a.Rc(20);a.Ib(1),a.Dc("ngTemplateOutlet",e)}}function ce(e,t){if(1&e&&(a.bd(0,Q,1,1,"div",35),a.vc(1,"async"),a.bd(2,ee,2,4,"ng-container",7),a.bd(3,ie,2,4,"ng-container",7),a.bd(4,oe,2,1,"ng-container",7)),2&e){const e=a.uc();a.Dc("ngIf",e.active&&!a.wc(1,4,e.offline$)),a.Ib(2),a.Dc("ngIf",e.active),a.Ib(1),a.Dc("ngIf",!e.hideAssignee&&e.active),a.Ib(1),a.Dc("ngIf",e.active)}}function ne(e,t){if(1&e){const e=a.dc();a.cc(0,"div",38),a.cc(1,"div",39),a.qc("click",function(){return a.Uc(e),a.uc().hidePopover()}),a.bc(),a.cc(2,"div",40),a.gc(3,41),a.bc(),a.cc(4,"button",42),a.qc("click",function(){return a.Uc(e),a.uc().createMultiTasks()}),a.gc(5,43),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Dc("icon","close-modal-white"),a.Ib(4),a.kc(null==e.pastedLines?null:e.pastedLines.length),a.hc(5)}}function se(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-task-row-recurring-date-picker",44),a.qc("onChange",function(t){return a.Uc(e),a.uc().setPickerDates(t)})("onRecurringChange",function(t){return a.Uc(e),a.uc().setRecurring(t.recurring)}),a.bc()}if(2&e){const e=t.col,i=a.uc();a.Dc("tooltip",i.reminderDateText)("tooltipDelay",500)("dates",i.taskData.dates)("recurringOptions",i.taskData.recurringSettings)("showStart",!1)("field",e.name)("datePickerIcon","cu2-clock")("startHour",0)("showCreateNewOption",!1)("quickDone",!0)}}function re(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-reminder-row-notification",45),a.qc("onChange",function(t){return a.Uc(e),a.uc().setNotification(t)}),a.bc()}if(2&e){const e=a.uc();a.Dc("minutesBefore",e.taskData.minutesBefore)("cuTooltip",e.notifyMeText)}}function le(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-task-row-assignee",46,47),a.qc("click",function(){a.Uc(e);const t=a.Rc(1);return a.uc().paywallTemplate&&t.show()})("onChange",function(t){return a.Uc(e),a.uc().setAssignees(t)}),a.bc()}if(2&e){const e=a.uc(),t=a.Rc(24);a.Dc("popover",e.paywallTemplate)("outsideClick",!0)("multipleAssignees",!1)("assignees",e.taskData.assignees)("users",e.usersExceptMe)("weights",e.weights)("headerTemplate",t)("disabled",e.paywallTemplate)("addAssigneeIcon","cu2-delegate")("cuTooltip",e.taskData.assignees.length?null:e.delegateText)("tooltipDelay",50)}}function de(e,t){1&e&&(a.cc(0,"div",48),a.cc(1,"div",49),a.gc(2,50),a.bc(),a.cc(3,"div",51),a.gc(4,52),a.bc(),a.bc())}const ue=function(e){return{"cu-reminder-row-new__container_pane":e}},pe=function(e){return{a:e,d:!0,rn:!0}},me=function(e,t){return{date:e,showTime:t}},he=function(e,t,i){return{assignees:e,dueDate:t,minutesBefore:i}},be=function(){return{multi:!1}},ge=function(e){return{a:e,startHour:0}},fe={name:"",project:null,category:null,subcategory:null,status:null,assignees:[],groupAssignees:[],followers:void 0,priority:null,dates:{},tags:[],timeEstimate:null,recurringSettings:null,minutesBefore:0};let _e=(()=>{class e{constructor(e,t,i,o,c){this.el=e,this.timezonesService=t,this.changeDetectorRef=i,this.localStorage=o,this.store=c,this.SHORTKEY_TEXT=/Mac/i.test(navigator.platform)?"cmd":"ctrl",this.SHORTKEY=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",this.minutesBefore=h(x.a,this.localStorage.keys(),this.localStorage.get(x.a)),this.taskData=Object.assign(Object.assign({},fe),{minutesBefore:void 0===this.minutesBefore?fe.minutesBefore:this.minutesBefore}),this.militaryTime=!1,this.autoFocus=!0,this.closeable=!0,this.slashCommandsPlacement="",this.mode="row",this.alwaysActive=!1,this.closeOnClickOut=!0,this.onLazyLoad=new a.o,this.onCreateTask=new a.o,this.onClose=new a.o,this.onCancel=new a.o,this.trackByName=Object(_.d)("name"),this.assigneeCol=Object.assign(Object.assign({},y.k),{state:g.b.Visible,width:100,calc:null}),this.dueDateCol=Object.assign(Object.assign({},y.w),{state:g.b.Visible,width:100,calc:null}),this.showAttachments=!1,this.attachments=[],this.attachmentType=10,this.UPLOAD_OPTIONS={autoUpload:!0,fieldName:"attachment",method:"POST",url:[w.a.apiUrl,"attachment"].join("/"),attachmentType:this.attachmentType,hideFileSize:!0},this.offline$=this.store.select(T.b),this.delegateText=$localize`:@@common_delegate:Delegate`,this.notifyMeText=$localize`:@@common_notify-me:Notify me`,this.reminderDateText=$localize`:@@cu-reminder-row-new__tooltip-msg_reminder-date:Reminder date`}ngOnInit(){}ngAfterViewInit(){this.autoFocus&&setTimeout(()=>this.setFocus())}ngOnChanges(e){e.defaultTaskData&&this.defaultTaskData&&(this.taskData=Object(v.a)({},this.taskData,this.defaultTaskData,(e,t)=>t||e)),(e.users||e.meUser)&&(this.usersExceptMe=this.users&&this.users.filter(e=>!this.meUser||e.id!==this.meUser.id)),e.alwaysActive&&this.alwaysActive&&(this.active=!0)}pasted(e){}focused(e){this.active=!0,this.changeDetectorRef.markForCheck()}hidePopover(){this.pop.hide()}parentClick(e){this.closeOnClickOut&&this.isInputEmpty()&&this.cancel(),this.hidePopover()}saveTask(e,t=!1){if(this.error=null,t||e.which===f.a.ENTER)if(!this.isInputEmpty()&&this.validateData()){this.updateAttachments();const t=this.getNewTaskObject(this.getInputValue());this.onCreateTask.emit({data:t,open:e[this.SHORTKEY]}),this.active=e.which===f.a.ENTER||this.alwaysActive,this.localStorage.set(x.a,t.minutes_before_to_notify),this.resetData()}else this.error="Whoops! Add a name to create a reminder.";else e.which===f.a.ESCAPE&&this.cancel()}createMultiTasks(){if(!this.validateData())return;if(this.hidePopover(),!this.pastedLines||!this.pastedLines.length)return;const e=this.getNewTaskObject(this.getInputValue());this.onCreateTask.emit({multi:this.pastedLines,data:e,open:!1}),this.resetData()}cancel(){this.closeable&&this.onClose.emit(),this.onCancel.emit(),this.active=this.alwaysActive,this.error=null,this.changeDetectorRef.markForCheck()}resetData(){const e=h(x.a,this.localStorage.keys(),this.localStorage.get(x.a));this.taskData=Object(v.a)({},Object.assign(Object.assign({},fe),{minutesBefore:void 0===e?fe.minutesBefore:e}),this.defaultTaskData,{project:this.taskData.project,category:this.taskData.category,subcategory:this.taskData.subcategory},(e,t)=>t||e),this.taskInput.nativeElement.value="",this.attachments=[],this.showAttachments=!1,this.error=null,this.changeDetectorRef.markForCheck()}applySlashCommand({command:e,value:t}){if(e)switch(e.key){case b.c.key:this.setAssignees(t);break;case b.o.key:this.setCommandDates(t);break;case b.hb.key:this.setNotification(t)}}selectCommand(e){}openSlashCommands(){}setCommandDates(e){this.setDates({dueDate:e?e.date:null,dueDateTime:e?e.showTime:null})}setPickerDates(e){this.setDates({dueDate:e.dueDate?e.dueDate.valueOf():null,dueDateTime:e.dueDate&&e.dueDateTime,startDate:e.startDate?e.startDate.valueOf():null,startDateTime:e.startDate&&e.startDateTime})}setDates(e){this.taskData.dates=Object.assign(Object.assign({},this.taskData.dates),e),this.changeDetectorRef.markForCheck()}setRecurring(e){this.taskData.recurringSettings=e,this.changeDetectorRef.markForCheck()}setAssignees(e){this.taskData.assignees=e,this.changeDetectorRef.markForCheck()}setNotification(e){this.taskData.minutesBefore=e,this.changeDetectorRef.markForCheck()}validateData(){return!0}updateAttachments(){this.attachments=this.uploader&&this.uploader.getFileList().map(e=>e.uploadResult)||[],this.showAttachments=!!this.attachments.length,this.changeDetectorRef.markForCheck()}addFiles(e){this.showAttachments=!0,this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.uploader.addFiles(e)})}toggleAttachments(){this.showAttachments=!this.showAttachments||!!this.attachments.length,this.changeDetectorRef.markForCheck()}getNewTaskObject(e){return{name:e.trim(),due_date:this.taskData.dates.dueDate,due_date_time:this.taskData.dates.dueDateTime,start_date:this.taskData.dates.startDate,start_date_time:this.taskData.dates.startDateTime,assignees:this.taskData.assignees?this.taskData.assignees.map(e=>e.id):null,attachments:this.attachments.filter(e=>e.id).map(e=>e.id),recurring_settings:Object(k.i)(this.taskData.recurringSettings),minutes_before_to_notify:this.taskData.minutesBefore}}getInputValue(){return(this.taskInput.nativeElement.value||"").trim()}isInputEmpty(){return 0===this.getInputValue().length}setFocus(){this.taskInput&&this.taskInput.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.m),a.Wb(S.a),a.Wb(a.h),a.Wb(j.b),a.Wb(l.Store))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-reminder-row-new"]],viewQuery:function(e,t){if(1&e&&(a.jd(A,3),a.jd(F,1),a.jd(U,3),a.jd(N,3),a.jd(R,1)),2&e){let e;a.Qc(e=a.rc())&&(t.taskInput=e.first),a.Qc(e=a.rc())&&(t.pop=e.first),a.Qc(e=a.rc())&&(t.datePickerRowTemplate=e.first),a.Qc(e=a.rc())&&(t.assigneeRowTemplate=e.first),a.Qc(e=a.rc())&&(t.uploader=e.first)}},hostAttrs:[1,"cu-reminder-row-new"],hostVars:2,hostBindings:function(e,t){2&e&&a.Ob("cu-reminder-row-new_active",t.active)},inputs:{defaultTaskData:"defaultTaskData",dateFormat:"dateFormat",militaryTime:"militaryTime",autoFocus:"autoFocus",closeable:"closeable",meUser:"meUser",users:"users",slashCommandsPlacement:"slashCommandsPlacement",paywallTemplate:"paywallTemplate",hideAssignee:"hideAssignee",mode:"mode",alwaysActive:"alwaysActive",closeOnClickOut:"closeOnClickOut",weights:"weights"},outputs:{onLazyLoad:"onLazyLoad",onCreateTask:"onCreateTask",onClose:"onClose",onCancel:"onCancel"},features:[a.Gb],decls:25,vars:35,consts:function(){let e,t,i,a,o,c,n,s,r;return e=$localize`:@@cu-reminder-row-new__form-placeholder_reminder-name-or-slash-cmd␟265fdaa81225cdd7ea5adfe355d41f48b72af6b3␟1990869541498718928:Reminder na﻿me or type '/' for commands`,t=$localize`:@@common_save␟9e0eaab2042cd18d46b66c7fafc914b7e54b91c3␟4094840963534996627: Save `,i=$localize`:@@cu-reminder-row-new__to-create␟a4ab671925e26e0dee63fddded1cbf6fa08e0d4d␟8716214506604240861:to create`,a=$localize`:@@common_save␟2a62a59d9424e9e869061ebf3e8f8b8f95411571␟4201883793870263566: Save `,o=$localize`:@@common_attachments␟fdaace3b87747f2d7380af30f5d54ddc49680272␟6467497495941707625:Attachments`,c=$localize`:@@common_multiple-lines␟3d3d7b6d1d8715e6cc1484e69a76ddae341a1ffd␟310978944184333460: Multiple lines detected `,n=$localize`:@@cu-reminder-row-new__create-reminders-txt␟bcac1e98c1536b25f2de314bd420961038f4a8c2␟4517926190530097343: Create ${"\ufffd0\ufffd"}:INTERPOLATION: reminders `,s=$localize`:@@reminders_delegate␟a4ee41794f7aa1b2257f692d6a0eba28dadb6b58␟6718460353327277224: Delegate reminder `,r=$localize`:@@reminders_delegate-description␟cc2335a5b3d69ada5b2f5dd43e522f88d8e2f914␟86530974711057030: Move this reminder to someone else's Inbox. `,[[1,"cu-reminder-row-new__container",3,"ngClass","clickOutsideElement","clickOutside"],["class","cu-reminder-row-new__close",3,"click",4,"ngIf"],[1,"cu-reminder-row-new__main"],["inputClass","cu-reminder-row-new__input",1,"cu-reminder-row-new__input-container",3,"dateFormatting","militaryTime","modifier","meUser","users","weights","allowedCommands","currentValues","options","dropdownPlacement","applyCommand","onSelectCommand","onOpen"],["cuSlashCommandInput","","placeholder",e,"type","text","autocomplete","off","placement","top","triggers","","container","body",1,"cu-reminder-row-new__input",3,"popover","keydown","paste","focus"],["taskInput","","pop","bs-popover"],["class","cu-reminder-row-new__error",4,"ngIf"],[4,"ngIf"],["class","cu-reminder-row-new__button",3,"click",4,"ngIf"],["class","cu-reminder-row-new__attachments",4,"ngIf"],["buttonsTemplate",""],["multiPopover",""],["datePickerRowTemplate",""],["reminderRowNotificationTemplate",""],["assigneeRowTemplate",""],["assigneeHeaderTemplate",""],[1,"cu-reminder-row-new__close",3,"click"],["icon","cu2-plus"],[1,"cu-reminder-row-new__error"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-reminder-row-new__button",3,"click"],t,[1,"cu-reminder-row-new__attachments"],[1,"cu-reminder-row-new__uploader",3,"options","onFileUploaded","onFileDeleted"],["uploader",""],[1,"cu-reminder-row-new__footer"],[1,"cu-reminder-row-new__footer-hotkeys"],[1,"cu-reminder-row-new__footer-hotkeys-item"],["width","11","height","10","xmlns","http://www.w3.org/2000/svg"],["d","M.098 6.303l2.977-2.977V5.75h4.812c.533 0 .987-.187 1.361-.561.375-.375.562-.827.562-1.356a1.85 1.85\n        0 0 0-.559-1.358 1.85 1.85 0 0 0-1.358-.558h-1.06V.818h1.06c.834 0 1.545.294 2.133.883.588.588.882 1.299.882\n        2.132a2.9 2.9 0 0 1-.885 2.133 2.916 2.916 0 0 1-2.136.883H3.075v2.43L.098 6.304z","fill-rule","evenodd"],i,[1,"cu-reminder-row-new__footer-divider"],[1,"cu-reminder-row-new__footer-buttons"],[1,"cu-reminder-row-new__button","cu-reminder-row-new__button_pane",3,"click"],a,["cuTooltip",o,"class","cu-reminder-row-new__attachments-toggle","icon","cu2-paperclip_regular",3,"tooltipDelay","click",4,"ngIf"],["cuTooltip",o,"icon","cu2-paperclip_regular",1,"cu-reminder-row-new__attachments-toggle",3,"tooltipDelay","click"],[3,"ngTemplateOutlet"],[1,"task-todo-item-popover__content"],[1,"task-todo-item-popover__content-close",3,"icon","click"],[1,"task-todo-item-popover__content-message"],c,[1,"task-todo-item-popover__content-button",3,"click"],n,[3,"tooltip","tooltipDelay","dates","recurringOptions","showStart","field","datePickerIcon","startHour","showCreateNewOption","quickDone","onChange","onRecurringChange"],[3,"minutesBefore","cuTooltip","onChange"],["containerClass","popover_white popover_no-max-width popover_no-padding","triggers","","container","body","placement","bottom",3,"popover","outsideClick","multipleAssignees","assignees","users","weights","headerTemplate","disabled","addAssigneeIcon","cuTooltip","tooltipDelay","click","onChange"],["pop","bs-popover"],[1,"cu-reminder-row-new__help-header"],[1,"cu-reminder-row-new__help-header-title"],s,[1,"cu-reminder-row-new__help-header-desc"],r]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.qc("clickOutside",function(e){return t.parentClick(e)}),a.bd(1,G,2,0,"div",1),a.cc(2,"div",2),a.cc(3,"cu-slash-command",3),a.qc("applyCommand",function(e){return t.applySlashCommand(e)})("onSelectCommand",function(e){return t.selectCommand(e)})("onOpen",function(){return t.openSlashCommands()}),a.cc(4,"input",4,5),a.qc("keydown",function(e){return t.saveTask(e)})("paste",function(e){return t.pasted(e)})("focus",function(e){return t.focused(e)}),a.bc(),a.bc(),a.bd(7,q,2,1,"div",6),a.bc(),a.bd(8,V,2,3,"ng-container",7),a.bd(9,X,2,0,"div",8),a.bc(),a.bd(10,H,3,1,"div",9),a.vc(11,"async"),a.bd(12,Z,13,3,"ng-container",7),a.bd(13,ce,5,6,"ng-template",null,10,a.cd),a.bd(15,ne,6,2,"ng-template",null,11,a.cd),a.bd(17,se,1,10,"ng-template",null,12,a.cd),a.bd(19,re,1,2,"ng-template",null,13,a.cd),a.bd(21,le,2,11,"ng-template",null,14,a.cd),a.bd(23,de,5,0,"ng-template",null,15,a.cd)),2&e){const e=a.Rc(16);a.Dc("ngClass",a.Hc(21,ue,"pane"===t.mode))("clickOutsideElement",t.el),a.Ib(1),a.Dc("ngIf",t.closeable),a.Ib(2),a.Dc("dateFormatting",t.dateFormat)("militaryTime",t.militaryTime)("modifier","reminder-row-new-pop")("meUser",t.meUser)("users",t.usersExceptMe)("weights",t.weights)("allowedCommands",a.Hc(23,pe,!t.hideAssignee))("currentValues",a.Jc(28,he,t.taskData.assignees,a.Ic(25,me,t.taskData.dates.dueDate,t.taskData.dates.dueDateTime),t.taskData.minutesBefore))("options",a.Hc(33,ge,a.Gc(32,be)))("dropdownPlacement",t.slashCommandsPlacement),a.Ib(1),a.Dc("popover",e),a.Ib(3),a.Dc("ngIf",t.error),a.Ib(1),a.Dc("ngIf","row"===t.mode),a.Ib(1),a.Dc("ngIf",t.active&&"row"===t.mode),a.Ib(1),a.Dc("ngIf",(t.showAttachments||(null==t.attachments?null:t.attachments.length))&&!a.wc(11,19,t.offline$)),a.Ib(2),a.Dc("ngIf","pane"===t.mode)}},directives:[O.o,I.a,O.q,D.b,C.a,P.c,m.a,O.x,$.a,z.a,M.a,E.a,L.a],pipes:[O.b],styles:['.cu-reminder-row-new{display:block;min-width:100%}.cu-reminder-row-new_active .cu-reminder-row-new__container{border-color:#7b68ee;background:#fff}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-new_active .cu-reminder-row-new__container{border-color:var(--theme-main-color)}}.dark-theme .cu-reminder-row-new_active .cu-reminder-row-new__container{border-color:#7b68ee;background:#2b343b}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-reminder-row-new_active .cu-reminder-row-new__container{border-color:var(--theme-main-color)}}.cu-reminder-row-new__container{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;background:#fff;border:1px solid #fff;position:relative;width:100%;height:38px;box-shadow:0 1px 5px 0 rgba(0,0,0,.1)}.contrast_high .cu-reminder-row-new__container{box-shadow:0 1px 5px 0 rgba(0,0,0,.15)}.dark-theme .cu-reminder-row-new__container{background:#2b343b;border-color:#2b343b}.cu-reminder-row-new__container_pane{height:auto;border:none;box-shadow:none}.contrast_high .cu-reminder-row-new__container_pane{box-shadow:none}.cu-reminder-row-new__container_pane .cu-reminder-row-new__input{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:26px;height:auto;line-height:normal}.cu-reminder-row-new__container_pane .cu-reminder-row-new__input::-webkit-input-placeholder{color:rgba(52,52,52,.4);font-size:26px}.cu-reminder-row-new__container_pane .cu-reminder-row-new__input::-moz-placeholder{color:rgba(52,52,52,.4);opacity:1;font-size:26px}.cu-reminder-row-new__container_pane .cu-reminder-row-new__input:-ms-input-placeholder{color:rgba(52,52,52,.4);font-size:26px}.cu-reminder-row-new__container_pane .cu-reminder-row-new__input:-moz-placeholder{color:rgba(52,52,52,.4);opacity:1;font-size:26px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-reminder-row-new__container_pane .cu-reminder-row-new__input{font-family:var(--global-font-support)}}.dark-theme .cu-reminder-row-new__container_pane .cu-reminder-row-new__input{background:#384047}.dark-theme .cu-reminder-row-new__container_pane .cu-reminder-row-new__input::-webkit-input-placeholder{color:#828588;font-size:26px}.dark-theme .cu-reminder-row-new__container_pane .cu-reminder-row-new__input::-moz-placeholder{color:#828588;opacity:1;font-size:26px}.dark-theme .cu-reminder-row-new__container_pane .cu-reminder-row-new__input:-ms-input-placeholder{color:#828588;font-size:26px}.dark-theme .cu-reminder-row-new__container_pane .cu-reminder-row-new__input:-moz-placeholder{color:#828588;opacity:1;font-size:26px}.cu-reminder-row-new__container_pane .cu-reminder-row-new__input-container{height:80px;padding:0 30px 10px 20px}.dark-theme .cu-reminder-row-new__container_pane .cu-reminder-row-new__input-container{background:#384047}.cu-reminder-row-new__container .cu-stroke-dasharray{display:none}.cu-reminder-row-new__container .cu-slash-command{display:flex;align-items:center;min-width:0}.cu-reminder-row-new__container .cu-slash-command__operator{align-items:center}.cu-reminder-row-new__main{display:flex;flex-grow:1;align-items:center;height:100%;min-width:0}.cu-reminder-row-new__error{color:#d16464;padding:0 10px}.cu-reminder-row-new__uploader .cu-uploader__title{display:none}.cu-reminder-row-new__uploader .cu-uploader__header{display:flex;align-items:center;flex-direction:column}.cu-reminder-row-new__attachments{padding:10px 30px;background-color:#fff;margin-bottom:10px}.dark-theme .cu-reminder-row-new__attachments{background:#2b343b}.cu-reminder-row-new__attachments.cu-state-drag-over{background-color:hsla(0,0%,100%,.6)}.cu-reminder-row-new__attachments-toggle{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:30px;height:30px;padding:7px;cursor:pointer;fill:#aeacb0}.dark-theme .cu-reminder-row-new__attachments-toggle{fill:#82868d}.cu-reminder-row-new__attachments-toggle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-new__attachments-toggle:hover{fill:var(--theme-main-color)}}.cu-state-drag-over .cu-reminder-row-new__attachments{pointer-events:none}.cu-reminder-row-new__footer{display:flex;align-items:center;padding:20px 30px 20px 15px;height:55px;border-radius:0 0 8px 8px;background:#fbfbfb;border-top:1px solid #e4e4e4}.dark-theme .cu-reminder-row-new__footer{background:#2b343b;border-top:1px solid #1e272e}.cu-reminder-row-new__footer-divider{order:1;flex-grow:1}.cu-reminder-row-new__footer-hotkeys{order:2;display:flex;align-items:center}.cu-reminder-row-new__footer-hotkeys-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#818193;display:flex;align-items:center}.dark-theme .cu-reminder-row-new__footer-hotkeys-item{color:#828588}.cu-reminder-row-new__footer-hotkeys-item:not(:last-child){margin-right:40px}.cu-reminder-row-new__footer-hotkeys-item svg{margin-right:8px;fill:#544d61}.dark-theme .cu-reminder-row-new__footer-hotkeys-item svg{fill:#abaeb0}.cu-reminder-row-new__footer-buttons{order:0;display:flex}.cu-reminder-row-new .cu-task-row-date-picker,.cu-reminder-row-new .cu-task-row-recurring-date-picker{padding:0;display:flex;align-items:center;flex-shrink:0;position:relative;margin-right:7px}.cu-reminder-row-new .cu-task-row-date-picker:after,.cu-reminder-row-new .cu-task-row-recurring-date-picker:after{display:none}.cu-reminder-row-new .cu-task-row-date-picker .cu-user-group_due-date,.cu-reminder-row-new .cu-task-row-recurring-date-picker .cu-user-group_due-date{padding:0;width:30px}.cu-reminder-row-new .cu-task-row-date-picker .cu-user-group__item-icon.icon,.cu-reminder-row-new .cu-task-row-recurring-date-picker .cu-user-group__item-icon.icon{padding:7px;width:30px;height:30px;fill:#aeacb0}.dark-theme .cu-reminder-row-new .cu-task-row-date-picker .cu-user-group__item-icon.icon,.dark-theme .cu-reminder-row-new .cu-task-row-recurring-date-picker .cu-user-group__item-icon.icon{fill:#82868d}.cu-reminder-row-new .cu-task-row-date-picker .cu-user-group__item-icon.icon:hover,.cu-reminder-row-new .cu-task-row-recurring-date-picker .cu-user-group__item-icon.icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-new .cu-task-row-date-picker .cu-user-group__item-icon.icon:hover,.cu-reminder-row-new .cu-task-row-recurring-date-picker .cu-user-group__item-icon.icon:hover{fill:var(--theme-main-color)}}.cu-reminder-row-new .cu-task-row-assignee{width:auto;padding:0;overflow:visible}.cu-reminder-row-new .cu-task-row-assignee:after{display:none}.cu-reminder-row-new .cu-task-row-assignee .cu-user-group__remove{top:-3px}.cu-reminder-row-new .cu-user-group__icon-mono{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:18px;height:18px;fill:#aeacb0}.dark-theme .cu-reminder-row-new .cu-user-group__icon-mono{fill:#82868d}.cu-reminder-row-new .cu-user-group__icon-mono:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-new .cu-user-group__icon-mono:hover{fill:var(--theme-main-color)}}.cu-reminder-row-new .cu-user-group_due-date{margin-left:0}.cu-reminder-row-new__input{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:36px;cursor:text;color:#343434;flex-grow:1;background:transparent;box-shadow:none;border:0;height:36px;padding-left:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-reminder-row-new__input{font-family:var(--global-font-support)}}.dark-theme .cu-reminder-row-new__input{color:#d5d6d7}.cu-reminder-row-new__input:-ms-input-placeholder{opacity:.4}.cu-reminder-row-new__input::placeholder{opacity:.4}.cu-reminder-row-new__input:focus{outline:none;box-shadow:none}.cu-reminder-row-new__input-container{display:flex;flex-grow:1;height:100%;min-width:0}.cu-reminder-row-new__close{visibility:hidden;cursor:pointer;padding:4px;margin:0 4px 0 -4px;fill:#bcc0c7}.dark-theme .cu-reminder-row-new__close{fill:#828588}.cu-reminder-row-new__close:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-new__close:hover{fill:var(--theme-main-color)}}.cu-reminder-row-new__close .icon{width:12px;height:12px;transform:rotate(45deg)}.cu-reminder-row-new_active .cu-reminder-row-new__close{visibility:visible}.cu-reminder-row-new__enter{visibility:hidden;padding:8px;margin:0 47px 0 8px;display:flex;align-items:center}.cu-reminder-row-new__button{background:#7b68ee;width:54px;height:20px;border-radius:2px;color:#fff;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;display:flex;align-items:center;justify-content:center;text-transform:uppercase;cursor:pointer;margin:0 15px 0 5px;flex-shrink:0}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-new__button{background:var(--theme-main-color)}}.cu-reminder-row-new__button:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-reminder-row-new__button:hover{background:var(--theme-main-color-dark)}}.cu-reminder-row-new__button_pane{margin-right:0;margin-left:10px;height:28px;width:70px;font-size:12px}.cu-reminder-row-new__datetime{flex-shrink:0;width:73px;font:13px Gotham Pro,Proxima Nova,arial,serif;color:rgba(52,52,52,.5);padding:0 0 0 5px;margin:0 20px 0 0}@media print{.cu-reminder-row-new__datetime{width:50px}}.cu-reminder-row-new__datetime-body{display:inline-block}.cu-reminder-row-new__datetime .due-date__info-value{cursor:default}.cu-reminder-row-new__help-header{padding:10px 15px;border-bottom:1px solid #f4f4f4}.dark-theme .cu-reminder-row-new__help-header{border-bottom-color:#2b343b}.cu-reminder-row-new__help-header_add-to-list{padding:0 15px 10px;border-bottom-color:#e3e3e3}.dark-theme .cu-reminder-row-new__help-header_add-to-list{border-bottom-color:#2b343b}.cu-reminder-row-new__help-header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 12px/20px Gotham Pro,Proxima Nova,arial,serif;color:#292d34;margin-bottom:2px}.dark-theme .cu-reminder-row-new__help-header-title{color:#d5d6d7}.cu-reminder-row-new__help-header-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 12px/16px Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.dark-theme .cu-reminder-row-new__help-header-desc{color:#abaeb0}'],encapsulation:2,changeDetection:0}),e})();var ve=i("8r6i");const ye=["reminderRowNew"];function we(e,t){if(1&e&&a.Xb(0,"cu-paywall-popover",17),2&e){const e=a.uc();a.Dc("title",e.paywallCommonStringsService.sendRemindersText)("image","./assets/images/components/paywall-popover/reminder-delegation.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToUnlimitedText)("learnMore","https://docs.clickup.com/en/articles/2963911-delegate-reminders")("amplitudeLabel","Send Reminders to Other People")}}const ke=function(e){return[e]},xe=function(e,t){return{assignees:e,dates:t}};let Te=(()=>{class e{constructor(e,t,i,c){this.store=e,this.inboxService=t,this.paywallCommonStringsService=i,this.effects=c,this.team$=this.store.select(o.getTeam),this.user$=this.store.select(o.getUser),this.weights$=this.store.select(o.getUserWeights),this.TeamPlan=n.f,this.onCreateReminder=new a.o,this.onClose=new a.o}createReminder(e){this.effects.register(this.user$.pipe(Object(s.a)()),t=>{this.inboxService.createReminder(t,c.a.Today,e),this.onCreateReminder.emit(e)})}addFiles(e){this.reminderRowNew.addFiles(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(l.Store),a.Wb(d.a),a.Wb(u.a),a.Wb(r.b))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-quick-create-reminder"]],viewQuery:function(e,t){if(1&e&&a.jd(ye,3),2&e){let e;a.Qc(e=a.rc())&&(t.reminderRowNew=e.first)}},inputs:{defaultDates:"defaultDates"},outputs:{onCreateReminder:"onCreateReminder",onClose:"onClose"},features:[a.Hb([r.b])],decls:27,vars:31,consts:function(){let e,t,i,a,o,c;return e=$localize`:@@common_reminder␟1ab5134aa5c22a915783ed36e89adb84e2d19ab7␟1716625152798335124: Reminder `,t=$localize`:@@common_inbox␟aefb9b7331e1679354b0d1e07877a3ffba0a5002␟3572628329490564370: Inbox `,i=$localize`:@@cu-quick-create-reminder__drop-area-text_attach-files-to-reminder␟81e4dcee6b76327bcc9471e82989b524830ac40d␟6181311402656713345: Drop files here ${"\ufffd#24\ufffd\ufffd/#24\ufffd"}:LINE_BREAK: to attach to this reminder `,a=$localize`:@@common_plans--unlimited␟aa6fb95c355f172bda303de1ce2f38c251a149cf␟240806681889331244:Unlimited`,o=$localize`:@@paywall_text--reminders-delegation␟55196c1e4d813d51e6847a707e2a07ec227a19c3␟3578450805472102269:Delegate reminders to other people and track progress to ensure they never forget again.`,c=$localize`:@@paywall_email-subject--reminders-delegation␟7eba7eebbdcfc1feabaf9c06158e60c4fda3658e␟309048117236586663:Please upgrade ClickUp so we can have all Inbox features`,[["cuDropArea","",1,"cu-quick-create-reminder__container",3,"ondrop"],[1,"cu-quick-create-reminder__header"],["icon","cu2-remainder",1,"cu-quick-create-reminder__header-icon"],[1,"cu-quick-create-reminder__header-title"],e,[1,"cu-quick-create-reminder__location"],["icon","cu2-inbox",1,"cu-quick-create-reminder__location-icon"],[1,"cu-quick-create-reminder__location-title"],t,[3,"dateFormat","militaryTime","meUser","defaultTaskData","users","autoFocus","closeable","alwaysActive","closeOnClickOut","weights","mode","paywallTemplate","onCreateTask","onCancel"],["reminderRowNew",""],[1,"cu-quick-create-reminder__drop-area"],[1,"cu-quick-create-reminder__drop-area-container"],[1,"cu-quick-create-reminder__drop-area-icon"],[1,"cu-quick-create-reminder__drop-area-text"],i,["paywallTemplate",""],["badge",a,"text",o,"emailSubject",c,3,"title","image","upgradeButtonText","learnMore","amplitudeLabel"]]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.qc("ondrop",function(e){return t.addFiles(e)}),a.cc(1,"div",1),a.Xb(2,"div",2),a.cc(3,"div",3),a.gc(4,4),a.bc(),a.bc(),a.cc(5,"div",5),a.Xb(6,"div",6),a.cc(7,"div",7),a.gc(8,8),a.bc(),a.bc(),a.cc(9,"cu-reminder-row-new",9,10),a.qc("onCreateTask",function(e){return t.createReminder(e)})("onCancel",function(){return t.onClose.emit()}),a.vc(11,"async"),a.vc(12,"async"),a.vc(13,"async"),a.vc(14,"async"),a.vc(15,"async"),a.vc(16,"async"),a.vc(17,"async"),a.bc(),a.cc(18,"div",11),a.cc(19,"div",12),a.cc(20,"div",13),a.dd(21,"+"),a.bc(),a.cc(22,"div",14),a.mc(23,15),a.Xb(24,"br"),a.jc(),a.bc(),a.bc(),a.bc(),a.bc(),a.bd(25,we,1,5,"ng-template",null,16,a.cd)),2&e){const e=a.Rc(26);let i=null,o=null,c=null;a.Ib(9),a.Dc("dateFormat",null==(i=a.wc(11,12,t.user$))?null:i.date_format)("militaryTime",null==(o=a.wc(12,14,t.user$))?null:o.twenty_four_hr_setting)("meUser",a.wc(13,16,t.user$))("defaultTaskData",a.Ic(28,xe,a.Hc(26,ke,a.wc(14,18,t.user$)),t.defaultDates))("users",a.wc(15,20,t.inboxService.usersMap$).reminder)("autoFocus",!0)("closeable",!1)("alwaysActive",!0)("closeOnClickOut",!1)("weights",a.wc(16,22,t.weights$))("mode","pane")("paywallTemplate",(null==(c=a.wc(17,24,t.team$))?null:c.plan_id)===t.TeamPlan.FREE?e:null)}},directives:[p.a,m.a,_e,ve.a],pipes:[O.b],styles:[".cu-quick-create-reminder__container{position:relative;padding-top:20px}.cu-quick-create-reminder__modal .cu-modal__inner{display:flex;flex-direction:column;justify-content:flex-start}.cu-quick-create-reminder__modal .cu-modal__body{min-height:0;max-height:80vh}.cu-quick-create-reminder__modal .cu-modal__dialog{margin-top:180px;padding:0;border-radius:8px;max-height:75vh}.cu-quick-create-reminder__modal .cu-modal__header{margin:0}.cu-quick-create-reminder__modal .cu-modal__close{margin-top:-60px}.cu-quick-create-reminder__header{display:flex;justify-content:center;align-items:center;margin-top:-70px;position:absolute;margin-left:50%;transform:translateX(-50%)}.cu-quick-create-reminder__header-icon{fill:#7b68ee;stroke:#7b68ee;width:16px;height:16px;margin-right:8px}@supports (--theme-main-color:#7b68ee){.cu-quick-create-reminder__header-icon{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.cu-quick-create-reminder__header-title{font:500 22px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff}.cu-quick-create-reminder__location{display:flex;align-items:center;padding:10px 30px 0}.cu-quick-create-reminder__location-icon{width:16px;height:13px;fill:#82868d;margin-right:10px}.cu-quick-create-reminder__location-title{font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.cu-quick-create-reminder__drop-area{display:none;align-items:center;justify-content:center;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(248,248,255,.75);border:1px dashed;z-index:1000;-webkit-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}@supports (--theme-main-color:#7b68ee){.cu-quick-create-reminder__drop-area{border-color:var(--theme-main-color)}}.cu-quick-create-reminder__drop-area-container{display:flex;flex-direction:column;align-items:center}.cu-quick-create-reminder__drop-area-icon{display:flex;align-items:center;justify-content:center;color:#7b68ee;height:60px;width:60px;border-radius:4px;border:2px solid;font:300 40px Gotham Pro,Proxima Nova,arial,serif;margin-bottom:20px;padding:5px 0 0}@supports (--theme-main-color:#7b68ee){.cu-quick-create-reminder__drop-area-icon{color:var(--theme-main-color);border-color:var(--theme-main-color)}}.cu-quick-create-reminder__drop-area-text{text-align:center;font:300 18px/1.4em Proxima Nova,arial,serif;color:#857899}.cu-state-drag-over .cu-quick-create-reminder__drop-area{display:flex;animation:fadeIn .1s linear both}"],encapsulation:2,changeDetection:0}),e})()},Vlmb:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("ofXK"),o=i("K0KF"),c=i("fXoL");let n=(()=>{class e{}return e.\u0275mod=c.Ub({type:e}),e.\u0275inj=c.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a]]}),e})()},VqQW:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a=i("ofXK"),o=i("K0KF"),c=i("KyjD"),n=i("WL/q"),s=i("gb9A"),r=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=r.Ub({type:e}),e.\u0275inj=r.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.a,s.a]]}),e})()},W3IX:function(e,t,i){"use strict";i.r(t),i.d(t,"ManagerModule",function(){return tS});var a=i("jfNZ"),o=i("y71m"),c=i("bZrb"),n=i("ofXK"),s=i("3Pt+"),r=i("p8zl"),l=i("ciU8"),d=i("tyNb"),u=i("jLNh"),p=i("Ivax"),m=i("EDFS"),h=i("kHoN"),b=i("5FVs"),g=i("38Di"),f=i("k6wb"),_=i("1M0N"),v=i("7YvY"),y=i("X5rV"),w=i("a5Nn"),k=i("VBI8"),x=i("AhwN"),T=i("viDW"),S=i("ihCf"),j=i("je31"),O=i("E5a2"),I=i("HIOz"),D=i("YD3J"),C=i("o59O"),P=i("qdLs"),$=i("2E2X"),z=i("EHXF"),M=i("C8uC"),E=i("KyjD"),L=i("obfd"),A=i("vi4T"),F=i("csDc"),U=i("dzSB"),N=i("WX5r"),R=i("aVmG"),G=i("+iQC"),q=i("K0KF"),B=i("gb9A"),W=i("Orh9"),V=i("s8Mb"),X=i("fXoL");let H=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},providers:[s.f],imports:[[n.c,d.l,s.l,s.x,_.a,w.a,k.a,x.a,r.a,u.a,h.a,p.a,b.a,v.a,g.a,m.d.forRoot(),f.a,y.a,T.a,S.b,j.a,O.a,I.a,D.a,C.a,P.a,$.a,z.a,l.a,M.LoaderModule,E.a,L.a,A.a,F.a,U.a,N.a,R.a,G.a,q.a,B.a,W.a,V.a]]}),e})();var Y=i("wXlP"),Z=i("RAxo"),Q=i("lI7e"),K=i("fFxs"),J=i("V9dP"),ee=i("dpfs"),te=i("Hgwy"),ie=i("8r6i"),ae=i("xDGP"),oe=i("y5jv"),ce=i("MguC"),ne=i("Gj5t"),se=i("4zIx"),re=i("L4xm"),le=i("Yx0S"),de=i("z/Gx"),ue=i("KTjT"),pe=i("U4aC"),me=i("c3rA"),he=i("yzb7"),be=i("jJQC"),ge=i("o7Ov"),fe=i("jJW4"),_e=i("Jf2N"),ve=i("2T3m"),ye=i("l7P3"),we=i("gXbQ"),ke=i("68Q3");function xe(e,t){1&e&&(X.mc(0,53,2),X.Yb(1),X.jc())}function Te(e,t){if(1&e&&(X.mc(0,53,1),X.ac(1),X.bd(2,xe,2,0,"ng-container",63),X.Zb(),X.jc()),2&e){const e=t.$implicit,i=t.last;X.Ib(2),X.Dc("ngIf",!i),X.kc(e.name),X.hc(0)}}function Se(e,t){1&e&&(X.cc(0,"div",64),X.cc(1,"div",65),X.Xb(2,"div",66),X.bc(),X.cc(3,"div",67),X.gc(4,68),X.bc(),X.bc())}function je(e,t){if(1&e){const e=X.dc();X.cc(0,"div",69),X.cc(1,"span",70),X.qc("click",function(){return X.Uc(e),X.uc().cancel()}),X.gc(2,71),X.bc(),X.bc()}}let Oe=(()=>{class e{constructor(e,t,i,a,o,c){this.sharedData=e,this.modal=t,this.twoFactorAuth=i,this.store=a,this.injector=o,this.userService=c,this.phone=this.sharedData.currentUser.value.phone,this.teamsRequiring2fa$=this.store.select(me.getTeamsRequiring2fa),this.user$=this.store.select(me.getUser),this.trackById=Object(be.d)("id")}savePhone(){this.twoFactorAuth.enableTwoFactorAuth(this.phone).subscribe(({token:e})=>{this.modal.close();const t=this.modal.openComponent(he.a,this.injector,{cannotClose:!this.canClose});t.instance.phone=this.phone,t.instance.jwt=e})}cancel(){this.userService.skip2fa().subscribe(),this.modal.close()}updateUserCountryCode(e){this.store.dispatch(new ge.om({country_iso_code:e}))}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a),X.Wb(_e.a),X.Wb(ve.a),X.Wb(ye.Store),X.Wb(X.t),X.Wb(we.c))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-phone-required-modal"]],decls:69,vars:14,consts:function(){let e,t,i,a,o,c;return e=$localize`:@@cu-phone-required-modal__add-phone-number-for-2fa␟7034c82e0aa6c38a50aaec13c755543a4b504809␟4623027924876399675: Please enter your phone number, and we'll send you a code when you log in to ClickUp. `,t=$localize`:@@forms_placeholder--phone-number␟a97e5e253f60e74c1c557bed7af0c436c7d4c92a␟3629907175471173927:Enter phone number`,i=$localize`:@@cu-phone-required-modal__btn-txt_verify-phone-number␟580ba444d8c25d5925c309ff9d0d00853857cc92␟7275738681473055530: Verify my phone number `,a=$localize`:@@cu-phone-required-modal__teams-requiring-2fa␟d8b16a4b6be0315c343b6fd2cf3a8bc9d0ab499c␟9182647398768436378:${"\ufffd*57:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER_1: ${"\ufffd0:1\ufffd"}:INTERPOLATION:${"\ufffd*2:2\ufffd\ufffd#1:2\ufffd"}:START_TAG_NG_CONTAINER:, ${"[\ufffd/#1:2\ufffd\ufffd/*2:2\ufffd|\ufffd/#1:1\ufffd\ufffd/*57:1\ufffd]"}:CLOSE_TAG_NG_CONTAINER:${"[\ufffd/#1:2\ufffd\ufffd/*2:2\ufffd|\ufffd/#1:1\ufffd\ufffd/*57:1\ufffd]"}:CLOSE_TAG_NG_CONTAINER: is requiring increased security. `,a=X.lc(a),o=$localize`:@@errors_form-field--invalid-phone-number␟01b95369fd96ccf9a11f3c6db7a9f390f9783c57␟3667609136797861648: Please enter a valid phone number to enable 2fa `,c=$localize`:@@common_do-this-later␟b311cc63d1a29c2f9cf2f1b11150c45961273547␟3000974748897636579:Do this later`,[[1,"phone-required-modal"],[1,"phone-required-modal__illustration"],["width","290","height","160","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","a","d","M229.21 123.73l50.72-.01-.02-75.62-50.72.02.02 75.61"],["fill","none","fill-rule","evenodd"],["d","M263 144V5.56c0-2.5-2.05-4.56-4.55-4.56H30.55A4.57 4.57 0 0 0 26 5.56V144h237","fill","#FFF"],["d","M266 147V8.56c0-2.5-2.05-4.56-4.55-4.56H33.55A4.57 4.57 0 0 0 29 8.56V147h237","fill","#E5E1F6","opacity",".49"],["d","M26.25 142.75h235.5V5.17a3.93 3.93 0 0 0-3.92-3.92H30.18a3.93 3.93 0 0 0-3.93 3.92v137.58zM262.37 144H25.63a.63.63 0 0 1-.63-.63V5.17A5.18 5.18 0 0 1 30.18 0h227.65A5.18 5.18 0 0 1 263 5.17v138.2c0 .35-.28.63-.63.63z","fill","#6A79A8"],["d","M274.07 158H13.9C6.8 158 1 152.39 1 145.49v-.76c0-.4.34-.73.76-.73h284.48c.42 0 .76.33.76.73v.74c0 6.9-5.8 12.53-12.93 12.53","fill","#FFF"],["d","M277.07 160H16.9C9.8 160 4 154.39 4 147.49v-.76c0-.4.34-.73.76-.73h284.48c.42 0 .76.33.76.73v.74c0 6.9-5.8 12.53-12.93 12.53","fill","#E9E6F7","opacity",".49"],["d","M1.38 144.27a.13.13 0 0 0-.13.14v.79c0 6.9 5.5 12.53 12.28 12.53h259.93c6.78 0 12.3-5.63 12.3-12.55v-.77a.13.13 0 0 0-.14-.14H1.38zM273.46 159H13.53C6.07 159 0 152.8 0 145.2v-.8c0-.77.62-1.4 1.38-1.4h284.24c.76 0 1.38.63 1.38 1.4v.78c0 7.62-6.08 13.82-13.54 13.82z","fill","#6A79A8"],["d","M111 144c.36 2.27 2.27 4 4.56 4h56.88c2.29 0 4.2-1.73 4.56-4h-66","fill","#FFF"],["d","M111.43 144.23a3.96 3.96 0 0 0 3.74 2.54h56.66c1.7 0 3.17-1.03 3.74-2.54h-64.14zm60.4 3.77h-56.66a5.18 5.18 0 0 1-5.16-4.29.6.6 0 0 1 .14-.5c.12-.13.3-.21.47-.21h65.76c.18 0 .35.08.47.22a.6.6 0 0 1 .14.5 5.18 5.18 0 0 1-5.16 4.28z","fill","#6A79A8"],["fill","#FFF","d","M39 137h211V12H39z"],["d","M39.25 135.75h209.5V12.25H39.25v123.5zM249.37 137H38.63a.62.62 0 0 1-.63-.62V11.62c0-.34.28-.62.63-.62h210.74c.35 0 .63.28.63.62v124.76c0 .34-.28.62-.63.62z","fill","#6A79A8"],["d","M154 120.5a10.5 10.5 0 1 0-21 0 10.5 10.5 0 0 0 21 0","fill","#FFF"],["d","M155 121.5a10.5 10.5 0 1 0-21 0 10.5 10.5 0 0 0 21 0","fill","#E1F6EB"],["d","M143 111.23a9.78 9.78 0 0 0 0 19.54 9.78 9.78 0 0 0 0-19.54zm0 20.77a11.01 11.01 0 0 1 0-22 11.01 11.01 0 0 1 0 22z","fill","#6A79A8"],["d","M142.65 124a.63.63 0 0 1-.44-.19l-4.03-4.03a.63.63 0 0 1 0-.9.63.63 0 0 1 .9 0l3.57 3.6 5.27-5.3a.63.63 0 0 1 .9 0c.24.25.24.65 0 .9l-5.72 5.73a.63.63 0 0 1-.45.19","fill","#6A79A8"],["d","M215.82 74H72.18A3.18 3.18 0 0 1 69 70.81V44.2A3.18 3.18 0 0 1 72.18 41h143.64a3.18 3.18 0 0 1 3.18 3.19V70.8a3.18 3.18 0 0 1-3.18 3.19","fill","#2EC174","opacity",".15"],["d","M69.93 39.25a2.68 2.68 0 0 0-2.68 2.67v26.16c0 1.47 1.2 2.67 2.68 2.67h143.14c1.48 0 2.68-1.2 2.68-2.67V41.92c0-1.47-1.2-2.67-2.68-2.67H69.93zM213.07 72H69.93A3.93 3.93 0 0 1 66 68.08V41.92A3.93 3.93 0 0 1 69.93 38h143.14a3.93 3.93 0 0 1 3.93 3.92v26.16a3.93 3.93 0 0 1-3.93 3.92z","fill","#6A79A8"],["d","M113 63c-.55 0-1-.34-1-.76V48.76c0-.42.45-.76 1-.76s1 .34 1 .76v13.48c0 .42-.45.76-1 .76","fill","#6A79A8"],["d","M118.24 61a.76.76 0 0 1-.54-.22l-9.48-9.48a.76.76 0 1 1 1.08-1.08l9.48 9.48a.76.76 0 0 1-.54 1.3","fill","#6A79A8"],["d","M120.24 57h-13.48c-.42 0-.76-.45-.76-1s.34-1 .76-1h13.48c.42 0 .76.45.76 1s-.34 1-.76 1","fill","#6A79A8"],["d","M108.76 61a.76.76 0 0 1-.54-1.3l9.48-9.48a.76.76 0 0 1 1.08 1.08l-9.48 9.48a.76.76 0 0 1-.54.22M134 63c-.55 0-1-.34-1-.76V48.76c0-.42.45-.76 1-.76s1 .34 1 .76v13.48c0 .42-.45.76-1 .76","fill","#6A79A8"],["d","M138.24 61a.76.76 0 0 1-.54-.22l-9.48-9.48a.76.76 0 1 1 1.08-1.08l9.48 9.48a.76.76 0 0 1-.54 1.3","fill","#6A79A8"],["d","M140.24 57h-13.48c-.42 0-.76-.45-.76-1s.34-1 .76-1h13.48c.42 0 .76.45.76 1s-.34 1-.76 1","fill","#6A79A8"],["d","M128.76 61a.76.76 0 0 1-.54-1.3l9.48-9.48a.76.76 0 0 1 1.08 1.08l-9.48 9.48a.76.76 0 0 1-.54.22M155 63c-.55 0-1-.34-1-.76V48.76c0-.42.45-.76 1-.76s1 .34 1 .76v13.48c0 .42-.45.76-1 .76","fill","#6A79A8"],["d","M159.24 61a.76.76 0 0 1-.54-.22l-9.48-9.48a.76.76 0 1 1 1.08-1.08l9.48 9.48a.76.76 0 0 1-.54 1.3","fill","#6A79A8"],["d","M161.24 57h-13.48c-.42 0-.76-.45-.76-1s.34-1 .76-1h13.48c.42 0 .76.45.76 1s-.34 1-.76 1","fill","#6A79A8"],["d","M149.76 61a.76.76 0 0 1-.54-1.3l9.48-9.48a.76.76 0 0 1 1.08 1.08l-9.48 9.48a.76.76 0 0 1-.54.22M175 63c-.55 0-1-.34-1-.76V48.76c0-.42.45-.76 1-.76s1 .34 1 .76v13.48c0 .42-.45.76-1 .76","fill","#6A79A8"],["d","M180.24 61a.76.76 0 0 1-.54-.22l-9.48-9.48a.76.76 0 1 1 1.08-1.08l9.48 9.48a.76.76 0 0 1-.54 1.3","fill","#6A79A8"],["d","M182.24 57h-13.48c-.42 0-.76-.45-.76-1s.34-1 .76-1h13.48c.42 0 .76.45.76 1s-.34 1-.76 1","fill","#6A79A8"],["d","M170.76 61a.76.76 0 0 1-.54-1.3l9.48-9.48a.76.76 0 0 1 1.08 1.08l-9.48 9.48a.76.76 0 0 1-.54.22M196 63c-.55 0-1-.34-1-.76V48.76c0-.42.45-.76 1-.76s1 .34 1 .76v13.48c0 .42-.45.76-1 .76","fill","#6A79A8"],["d","M200.24 61a.76.76 0 0 1-.54-.22l-9.48-9.48a.76.76 0 1 1 1.08-1.08l9.48 9.48a.76.76 0 0 1-.54 1.3","fill","#6A79A8"],["d","M202.24 57h-13.48c-.42 0-.76-.45-.76-1s.34-1 .76-1h13.48c.42 0 .76.45.76 1s-.34 1-.76 1","fill","#6A79A8"],["d","M190.76 61a.76.76 0 0 1-.54-1.3l9.48-9.48a.76.76 0 0 1 1.08 1.08l-9.48 9.48a.76.76 0 0 1-.54.22","fill","#6A79A8"],["d","M94.82 54.9h-7.64a.37.37 0 0 1-.36-.36c0-3.16 1.91-5.83 4.18-5.83 2.27 0 4.18 2.67 4.18 5.82 0 .21-.16.38-.36.38zm-2.69 7.98h-2.26a.26.26 0 0 1-.25-.33l.62-2.52a.27.27 0 0 0-.11-.29 1.2 1.2 0 0 1-.6-1c0-.7.66-1.26 1.47-1.26.81 0 1.47.56 1.47 1.26 0 .4-.24.77-.6 1a.27.27 0 0 0-.11.3l.62 2.51a.26.26 0 0 1-.25.33zm5.2-7.96a.4.4 0 0 1-.4-.4v-.01c0-4.21-2.6-7.51-5.93-7.51-3.33 0-5.94 3.3-5.94 7.51a.4.4 0 0 1-.4.41h-.26a.4.4 0 0 0-.4.4V65.6c0 .23.18.41.4.41h13.2a.4.4 0 0 0 .4-.4V55.32a.4.4 0 0 0-.4-.4h-.27z","fill","#FFF"],["d","M86.25 52.81h7.5c-.1-2.64-1.8-4.9-3.75-4.9-1.94 0-3.65 2.27-3.75 4.9zM94 54.04H86a1 1 0 0 1-1.03-.98c0-3.45 2.31-6.37 5.04-6.37s5.04 2.92 5.04 6.36a1 1 0 0 1-1.03.99zm-2.76 4.68zm-2.5 0zm.53 1.98h1.44l-.55-2.06a.85.85 0 0 1 .4-.96c.21-.12.33-.3.33-.47 0-.34-.41-.63-.9-.63-.49 0-.9.29-.9.63 0 .18.12.35.32.48.34.2.5.58.4.95l-.54 2.06zm1.56.43zm.35.79H88.8a.92.92 0 0 1-.72-.34.84.84 0 0 1-.17-.75l.6-2.26c-.44-.35-.7-.84-.7-1.36 0-1.02.98-1.85 2.18-1.85 1.2 0 2.18.83 2.18 1.85 0 .52-.26 1.02-.7 1.36l.6 2.26c.06.26 0 .54-.17.75a.92.92 0 0 1-.72.34zm5.7-8.89zm.05 1.02zm-13.66 9.73h13.44v-9.73h-.06c-.29 0-.55-.1-.75-.3a.99.99 0 0 1-.3-.71c0-3.83-2.47-6.82-5.61-6.82s-5.6 3-5.6 6.81c0 .28-.11.53-.3.72-.2.2-.47.3-.76.3h-.06v9.73zM96.94 65H83.06c-.58 0-1.06-.45-1.06-1.01V53.84c0-.56.48-1.01 1.06-1.01h.06C83.22 48.42 86.2 45 90 45s6.79 3.42 6.88 7.83h.06c.58 0 1.06.45 1.06 1.01V64c0 .56-.48 1.01-1.06 1.01zM209.37 101H73.63c-.35 0-.63-.22-.63-.5s.28-.5.63-.5h135.74c.35 0 .63.22.63.5s-.28.5-.63.5M209.37 95H73.63c-.35 0-.63-.22-.63-.5s.28-.5.63-.5h135.74c.35 0 .63.22.63.5s-.28.5-.63.5M208.38 89H72.62c-.34 0-.62-.22-.62-.5s.28-.5.62-.5h135.76c.34 0 .62.22.62.5s-.28.5-.62.5","fill","#6A79A8"],["fill","#E5E1F6","d","M41 26h208V14H41z"],["d","M39.25 23.7h209.5V12.3H39.25v11.4zM249.37 25H38.63a.64.64 0 0 1-.63-.65v-12.7c0-.36.28-.65.63-.65h210.74c.35 0 .63.29.63.65v12.7c0 .36-.28.65-.63.65z","fill","#6A79A8"],["d","M53 19a3 3 0 1 0-6 0 3 3 0 0 0 6 0M62 19a3 3 0 1 0-6 0 3 3 0 0 0 6 0M70 19a3 3 0 1 0-6 0 3 3 0 0 0 6 0","fill","#FFF"],["d","M48.5 15.26a2.24 2.24 0 1 0 0 4.48 2.24 2.24 0 0 0 0-4.48zm0 5.74a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zM57.5 15.26a2.24 2.24 0 1 0 0 4.48 2.24 2.24 0 0 0 0-4.48zm0 5.74a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zM65.5 15.26a2.24 2.24 0 1 0 0 4.48 2.24 2.24 0 0 0 0-4.48zm0 5.74a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7z","fill","#6A79A8"],["d","M233.07 37h42.86c3.9 0 7.07 3.05 7.07 6.8v82.4c0 3.75-3.17 6.8-7.07 6.8h-42.86a6.94 6.94 0 0 1-7.07-6.8V43.8c0-3.75 3.17-6.8 7.07-6.8","fill","#FFF"],["d","M233.67 37.25a6.3 6.3 0 0 0-6.42 6.16v82.18a6.3 6.3 0 0 0 6.42 6.16h42.66a6.3 6.3 0 0 0 6.42-6.16V43.41a6.3 6.3 0 0 0-6.42-6.16h-42.66zM276.33 133h-42.66a7.55 7.55 0 0 1-7.67-7.4V43.4c0-4.08 3.44-7.4 7.67-7.4h42.66a7.55 7.55 0 0 1 7.67 7.4v82.2c0 4.08-3.44 7.4-7.67 7.4z","fill","#6A79A8"],["d","M249.64 42.15c-.22 0-.39.16-.39.35 0 .2.17.35.39.35h9.72c.22 0 .39-.16.39-.35 0-.2-.17-.35-.39-.35h-9.72zm9.72 1.85h-9.72c-.9 0-1.64-.67-1.64-1.5s.73-1.5 1.64-1.5h9.72c.9 0 1.64.67 1.64 1.5s-.74 1.5-1.64 1.5zM250.73 127.15c-.82 0-1.48.6-1.48 1.35 0 .75.66 1.35 1.48 1.35h7.54c.82 0 1.48-.6 1.48-1.35 0-.75-.66-1.35-1.48-1.35h-7.54zm7.54 3.85h-7.54c-1.5 0-2.73-1.12-2.73-2.5s1.22-2.5 2.73-2.5h7.54c1.5 0 2.73 1.12 2.73 2.5s-1.22 2.5-2.73 2.5z","fill","#6A79A8"],["id","b","fill","#fff"],[0,"xlink","href","#a"],["d","M276.18 132.65l-42.2.44c-4.14.05-7.38-8.28-7.23-18.52l.88-59.53c.14-9.69 3.5-17.45 7.49-17.42l40.6.39c3.92.03 7.15 7.77 7.22 17.35l.45 58.83c.08 10.12-3.15 18.42-7.21 18.46","fill","#FFF","mask","url(#b)"],["d","M230.26 122.76h49.48V49.24h-49.48v73.52zm50.11 1.24h-50.74a.62.62 0 0 1-.63-.62V48.62c0-.34.28-.62.63-.62h50.74c.35 0 .63.28.63.62v74.76c0 .34-.28.62-.63.62z","fill","#6A79A8","mask","url(#b)"],["d","M265.27 74.72h-18.54a.88.88 0 0 1-.88-.87v-.01c0-7.47 4.65-13.79 10.15-13.79s10.16 6.32 10.16 13.79v.01c0 .49-.4.87-.9.87zm-6.52 18.9h-5.5a.63.63 0 0 1-.61-.79l1.53-5.96a.62.62 0 0 0-.29-.7 2.84 2.84 0 0 1-1.44-2.38c0-1.63 1.6-2.96 3.56-2.96 1.97 0 3.56 1.33 3.56 2.96 0 .98-.57 1.85-1.45 2.39a.63.63 0 0 0-.28.69l1.53 5.96c.1.4-.2.78-.61.78zm12.63-18.86a.96.96 0 0 1-.96-.96v-.01C270.42 63.8 264.08 56 256 56s-14.42 7.81-14.42 17.79c0 .54-.42.97-.96.97h-.65a.97.97 0 0 0-.97.96v24.32c0 .53.43.96.97.96h32.06c.54 0 .97-.43.97-.96V75.72a.97.97 0 0 0-.97-.96h-.65z","fill","#E1F6EB","mask","url(#b)"],["d","M254.5 59.28c-5.12 0-9.45 6-9.45 13.08 0 .15.11.26.25.26h18.4c.14 0 .25-.1.25-.24 0-7.1-4.33-13.1-9.45-13.1zm9.2 14.59h-18.4a1.5 1.5 0 0 1-1.5-1.5c0-7.78 4.9-14.34 10.7-14.34 5.8 0 10.7 6.56 10.7 14.33 0 .84-.67 1.51-1.5 1.51zm-9.2 6.07c-1.6 0-2.9 1.04-2.9 2.32 0 .73.41 1.4 1.13 1.85.47.28.7.83.56 1.36l-1.52 5.94h5.46l-1.52-5.94c-.13-.53.09-1.08.56-1.36.72-.45 1.14-1.12 1.14-1.85 0-1.28-1.3-2.32-2.9-2.32zm2.73 12.72h-5.46a1.25 1.25 0 0 1-1.21-1.56l1.51-5.93a3.45 3.45 0 0 1-1.73-2.9c0-1.98 1.87-3.58 4.16-3.58 2.3 0 4.16 1.6 4.16 3.57 0 1.15-.64 2.24-1.73 2.9l1.52 5.94a1.24 1.24 0 0 1-1.22 1.56zM238.59 73.9a.33.33 0 0 0-.33.34v24.18c0 .18.15.33.33.33h31.82c.18 0 .33-.15.33-.33V74.24a.33.33 0 0 0-.33-.34h-.65a1.57 1.57 0 0 1-1.58-1.58c0-9.58-6-17.07-13.68-17.07-7.67 0-13.68 7.5-13.68 17.06a1.57 1.57 0 0 1-1.58 1.6h-.65zm31.82 26.1h-31.82c-.88 0-1.59-.7-1.59-1.58V74.24c0-.87.71-1.58 1.6-1.58h.64c.11 0 .18-.06.23-.1.06-.06.1-.15.1-.24 0-10.28 6.56-18.32 14.93-18.32 8.38 0 14.94 8.04 14.94 18.31 0 .1.03.19.1.25.04.04.11.1.22.1h.65c.88 0 1.59.7 1.59 1.58v24.18c0 .87-.71 1.58-1.59 1.58zM268.38 116h-26.76c-.34 0-.62-.22-.62-.5s.28-.5.62-.5h26.76c.34 0 .62.22.62.5s-.28.5-.62.5M268.39 111H241.6c-.33 0-.61-.22-.61-.5s.28-.5.61-.5h26.78c.34 0 .61.22.61.5s-.27.5-.61.5","fill","#6A79A8","mask","url(#b)"],[1,"phone-required-modal__title"],a,[4,"ngFor","ngForOf","ngForTrackBy"],[1,"phone-required-modal__description"],e,["placeholder",t,3,"ngModel","touched","userCountryCode","updateOn","required","ngModelChange","updateUserCountryCode"],["phoneInput","","phoneModel","ngModel"],["class","cu-form__error",4,"ngIf"],[1,"cu-btn","cu-btn_block",3,"disabled","click"],i,["class","phone-required-modal__later",4,"ngIf"],[4,"ngIf"],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],o,[1,"phone-required-modal__later"],[3,"click"],c]},template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.tc(),X.cc(2,"svg",2),X.cc(3,"defs"),X.Xb(4,"path",3),X.bc(),X.cc(5,"g",4),X.Xb(6,"path",5),X.Xb(7,"path",6),X.Xb(8,"path",7),X.Xb(9,"path",8),X.Xb(10,"path",9),X.Xb(11,"path",10),X.Xb(12,"path",11),X.Xb(13,"path",12),X.Xb(14,"path",13),X.Xb(15,"path",13),X.Xb(16,"path",14),X.Xb(17,"path",14),X.Xb(18,"path",15),X.Xb(19,"path",16),X.Xb(20,"path",17),X.Xb(21,"path",18),X.Xb(22,"path",19),X.Xb(23,"path",20),X.Xb(24,"path",21),X.Xb(25,"path",22),X.Xb(26,"path",23),X.Xb(27,"path",24),X.Xb(28,"path",25),X.Xb(29,"path",26),X.Xb(30,"path",27),X.Xb(31,"path",28),X.Xb(32,"path",29),X.Xb(33,"path",30),X.Xb(34,"path",31),X.Xb(35,"path",32),X.Xb(36,"path",33),X.Xb(37,"path",34),X.Xb(38,"path",35),X.Xb(39,"path",36),X.Xb(40,"path",37),X.Xb(41,"path",38),X.Xb(42,"path",39),X.Xb(43,"path",40),X.Xb(44,"path",41),X.Xb(45,"path",42),X.Xb(46,"path",43),X.Xb(47,"path",44),X.Xb(48,"path",45),X.cc(49,"mask",46),X.Xb(50,"use",47),X.bc(),X.Xb(51,"path",48),X.Xb(52,"path",49),X.Xb(53,"path",50),X.Xb(54,"path",51),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(55,"div",52),X.mc(56,53),X.bd(57,Te,3,2,"ng-container",54),X.vc(58,"async"),X.jc(),X.bc(),X.cc(59,"div",55),X.gc(60,56),X.bc(),X.cc(61,"cu-telephone-input",57,58),X.qc("ngModelChange",function(e){return t.phone=e})("updateUserCountryCode",function(e){return t.updateUserCountryCode(e)}),X.vc(64,"async"),X.bc(),X.bd(65,Se,5,0,"div",59),X.cc(66,"button",60),X.qc("click",function(){return t.savePhone()}),X.gc(67,61),X.bc(),X.bd(68,je,3,0,"div",62),X.bc()),2&e){const e=X.Rc(62),i=X.Rc(63);let a=null;X.Ib(57),X.Dc("ngForOf",X.wc(58,10,t.teamsRequiring2fa$))("ngForTrackBy",t.trackById),X.Ib(4),X.Dc("ngModel",t.phone)("touched",i.touched)("userCountryCode",null==(a=X.wc(64,12,t.user$))?null:a.country_iso_code)("updateOn","input")("required",!0),X.Ib(4),X.Dc("ngIf",!e.isTelephoneValid&&i.touched),X.Ib(1),X.Dc("disabled",!e.isTelephoneValid),X.Ib(2),X.Dc("ngIf",t.canClose)}},directives:[n.p,ke.a,s.p,s.s,s.y,n.q],pipes:[n.b],styles:[".phone-required-modal__illustration{text-align:center;margin:-15px 0 40px}.phone-required-modal__title{font:500 24px/30px Gotham Pro,Proxima Nova,arial,serif;color:#4f495c;text-align:center;margin-bottom:35px}.dark-theme .phone-required-modal__title{color:#d5d6d7}.phone-required-modal__description{font:400 16px/1.15 Gotham Pro,Proxima Nova,arial,serif;color:#4f495c;text-align:center;margin-bottom:35px}.dark-theme .phone-required-modal__description{color:#d5d6d7}.phone-required-modal cu-telephone-input{width:350px;display:block;margin:0 auto 40px}.phone-required-modal .cu-form__error{position:absolute;width:100%;justify-content:center;margin-top:-30px}.phone-required-modal__later{margin-top:25px;text-align:center}.phone-required-modal__later span{color:#7b68ee;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font:400 16px/1.15 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;border-bottom:1px dotted;display:inline}@supports (--theme-main-color:#7b68ee){.phone-required-modal__later span{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.phone-required-modal__later span:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.phone-required-modal__later span:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}"],encapsulation:2}),e})();var Ie=i("dTHz"),De=i("MIIt"),Ce=i("DSgU"),Pe=i("HuNc"),$e=i("TqcF"),ze=i("2LxF"),Me=i("nyQc"),Ee=i("XNiG"),Le=i("VRyK"),Ae=i("aGrj"),Fe=i("lJxs"),Ue=i("/uUt"),Ne=i("IzEk"),Re=i("1G5W"),Ge=i("pLZG"),qe=i("GXRk"),Be=i("Fl2M"),We=i("BR3F"),Ve=i("76Cs"),Xe=i("G2WA"),He=i("3I9T"),Ye=i("NQa4"),Ze=i("BTFG"),Qe=i("UdVN"),Ke=i("sx5D");function Je(e,t){1&e&&(X.ac(0),X.gc(1,43),X.Zb())}function et(e,t){1&e&&(X.ac(0),X.gc(1,44),X.Zb())}const tt=function(e){return{background:e}};function it(e,t){if(1&e){const e=X.dc();X.cc(0,"div",55),X.Xb(1,"div",56),X.cc(2,"a",57),X.qc("click",function(i){X.Uc(e);const a=t.$implicit;return X.uc(2).openTask(i,a)}),X.vc(3,"cuTaskLink"),X.dd(4),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ib(1),X.Dc("ngStyle",X.Hc(5,tt,null==e||null==e.status?null:e.status.color)),X.Ib(1),X.Dc("cuLink",X.wc(3,3,e)),X.Ib(2),X.ed(null==e?null:e.name)}}function at(e,t){if(1&e&&(X.cc(0,"div",55),X.cc(1,"div",58),X.dd(2),X.ac(3),X.gc(4,59),X.Zb(),X.bc(),X.bc()),2&e){const e=t.$implicit;X.Ib(2),X.fd(" #",e," ")}}function ot(e,t){1&e&&(X.cc(0,"div",64),X.gc(1,66),X.bc())}function ct(e,t){1&e&&(X.cc(0,"div",64),X.gc(1,67),X.bc())}function nt(e,t){1&e&&(X.cc(0,"div",64),X.gc(1,68),X.bc())}function st(e,t){if(1&e){const e=X.dc();X.cc(0,"div",60),X.cc(1,"button",61),X.qc("click",function(){return X.Uc(e),X.uc(2).continue()}),X.bd(2,ot,2,0,"div",62),X.bd(3,ct,2,0,"div",62),X.bd(4,nt,2,0,"div",62),X.bc(),X.cc(5,"button",63),X.qc("click",function(){return X.Uc(e),X.uc(2).close()}),X.cc(6,"div",64),X.gc(7,65),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngIf",(null==e.status?null:e.status.type)===e.StatusTypes.Closed),X.Ib(1),X.Dc("ngIf",(null==e.status?null:e.status.type)===e.StatusTypes.Done),X.Ib(1),X.Dc("ngIf",(null==e.status?null:e.status.type)!==e.StatusTypes.Done&&(null==e.status?null:e.status.type)!==e.StatusTypes.Closed)}}function rt(e,t){1&e&&X.Xb(0,"cu-loader")}function lt(e,t){if(1&e&&(X.cc(0,"div",45),X.cc(1,"div"),X.cc(2,"div",46),X.dd(3),X.vc(4,"async"),X.Xb(5,"br"),X.dd(6),X.vc(7,"async"),X.bc(),X.cc(8,"div",47),X.cc(9,"div",48),X.gc(10,49),X.bc(),X.bd(11,it,5,7,"div",50),X.bd(12,at,5,1,"div",51),X.bc(),X.cc(13,"div",52),X.bd(14,st,8,3,"div",53),X.vc(15,"async"),X.bd(16,rt,1,0,"cu-loader",54),X.vc(17,"async"),X.bc(),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(3),X.fd(" ",X.wc(4,7,e.changeStatusWarningText$),""),X.Ib(3),X.fd("",X.wc(7,9,e.changeStatusPromptText$)," "),X.Ib(5),X.Dc("ngForOf",e.accessibleTasks)("ngForTrackBy",e.trackById),X.Ib(1),X.Dc("ngForOf",e.inaccessibleTasks),X.Ib(2),X.Dc("ngIf",!X.wc(15,11,e.resolving$)),X.Ib(2),X.Dc("ngIf",X.wc(17,13,e.resolving$))}}function dt(e,t){if(1&e){const e=X.dc();X.cc(0,"div",55),X.Xb(1,"div",56),X.cc(2,"a",57),X.qc("click",function(i){X.Uc(e);const a=t.$implicit;return X.uc(4).openTask(i,a)}),X.vc(3,"cuTaskLink"),X.dd(4),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ib(1),X.Dc("ngStyle",X.Hc(5,tt,null==e||null==e.status?null:e.status.color)),X.Ib(1),X.Dc("cuLink",X.wc(3,3,e)),X.Ib(2),X.ed(null==e?null:e.name)}}function ut(e,t){if(1&e){const e=X.dc();X.cc(0,"div",74),X.qc("click",function(){return X.Uc(e),X.uc(4).showAll("subs")}),X.gc(1,75),X.bc()}}const pt=function(){return{"=1":"subtask",other:"subtasks"}};function mt(e,t){if(1&e&&(X.cc(0,"div",47),X.cc(1,"div",48),X.gc(2,72),X.vc(3,"async"),X.vc(4,"i18nPlural"),X.vc(5,"async"),X.bc(),X.bd(6,dt,5,7,"div",50),X.vc(7,"async"),X.bd(8,ut,2,0,"div",73),X.vc(9,"async"),X.vc(10,"async"),X.bc()),2&e){const e=X.uc(3);let t=null,i=null,a=null;X.Ib(5),X.kc(null==(t=X.wc(3,5,e.subtasksTotal$))?null:t.length)(X.xc(4,7,null==(i=X.wc(5,10,e.subtasksTotal$))?null:i.length,X.Gc(18,pt))),X.hc(2),X.Ib(1),X.Dc("ngForOf",X.wc(7,12,e.subtasksDisplayed$))("ngForTrackBy",e.trackById),X.Ib(2),X.Dc("ngIf",(null==(a=X.wc(9,14,e.subtasksDisplayed$))?null:a.length)!==(null==(a=X.wc(10,16,e.subtasksTotal$))?null:a.length))}}function ht(e,t){if(1&e&&(X.cc(0,"p",78),X.dd(1),X.bc()),2&e){const e=t.$implicit;X.Ib(1),X.fd(" ",null==e||null==e.comment[0]?null:e.comment[0].text," ")}}function bt(e,t){if(1&e){const e=X.dc();X.cc(0,"div",74),X.qc("click",function(){return X.Uc(e),X.uc(4).showAll("comments")}),X.gc(1,79),X.bc()}}const gt=function(){return{"=1":"comment",other:"comments"}};function ft(e,t){if(1&e&&(X.cc(0,"div",47),X.cc(1,"div",48),X.gc(2,76),X.vc(3,"async"),X.vc(4,"i18nPlural"),X.vc(5,"async"),X.bc(),X.bd(6,ht,2,1,"p",77),X.vc(7,"async"),X.bd(8,bt,2,0,"div",73),X.vc(9,"async"),X.vc(10,"async"),X.bc()),2&e){const e=X.uc(3);let t=null,i=null,a=null;X.Ib(5),X.kc(null==(t=X.wc(3,4,e.commentsTotal$))?null:t.length)(X.xc(4,6,null==(i=X.wc(5,9,e.commentsTotal$))?null:i.length,X.Gc(17,gt))),X.hc(2),X.Ib(1),X.Dc("ngForOf",X.wc(7,11,e.commentsDisplayed$)),X.Ib(2),X.Dc("ngIf",(null==(a=X.wc(9,13,e.commentsDisplayed$))?null:a.length)!==(null==(a=X.wc(10,15,e.commentsTotal$))?null:a.length))}}function _t(e,t){if(1&e&&(X.cc(0,"p",78),X.dd(1),X.bc()),2&e){const e=t.$implicit;X.Ib(1),X.fd(" ",null==e?null:e.name," ")}}function vt(e,t){if(1&e){const e=X.dc();X.cc(0,"div",74),X.qc("click",function(){return X.Uc(e),X.uc(4).showAll("checklists")}),X.gc(1,82),X.bc()}}const yt=function(){return{"=1":"item",other:"items"}};function wt(e,t){if(1&e&&(X.cc(0,"div",47),X.cc(1,"div",48),X.gc(2,80),X.vc(3,"async"),X.vc(4,"i18nPlural"),X.vc(5,"async"),X.bc(),X.bd(6,_t,2,1,"p",81),X.vc(7,"async"),X.bd(8,vt,2,0,"div",73),X.vc(9,"async"),X.vc(10,"async"),X.bc()),2&e){const e=X.uc(3);let t=null,i=null,a=null;X.Ib(5),X.kc(null==(t=X.wc(3,5,e.checklistsTotal$))?null:t.length)(X.xc(4,7,null==(i=X.wc(5,10,e.checklistsTotal$))?null:i.length,X.Gc(18,yt))),X.hc(2),X.Ib(1),X.Dc("ngForOf",X.wc(7,12,e.checklistsDisplayed$))("ngForTrackBy",e.trackById),X.Ib(2),X.Dc("ngIf",(null==(a=X.wc(9,14,e.checklistsDisplayed$))?null:a.length)!==(null==(a=X.wc(10,16,e.checklistsTotal$))?null:a.length))}}const kt=function(e,t){return[e,"settings","team",t,"clickapps"]};function xt(e,t){if(1&e){const e=X.dc();X.cc(0,"a",89),X.qc("click",function(t){return X.Uc(e),X.uc(4).goToClickApps(t)}),X.gc(1,90),X.vc(2,"async"),X.vc(3,"async"),X.bc()}if(2&e){const e=X.uc(4);let t=null;X.Dc("cuLink",X.Ic(5,kt,null==(t=X.wc(2,1,e.sharedData.compatCurrentTeam$))?null:t.id,null==(t=X.wc(3,3,e.sharedData.compatCurrentTeam$))?null:t.id))}}function Tt(e,t){if(1&e){const e=X.dc();X.cc(0,"div",60),X.cc(1,"button",61),X.qc("click",function(){return X.Uc(e),X.uc(3).resolve("resolve")}),X.cc(2,"div",64),X.gc(3,83),X.bc(),X.cc(4,"div",84),X.gc(5,85),X.bc(),X.bc(),X.cc(6,"button",63),X.qc("click",function(){return X.Uc(e),X.uc(3).resolve("close")}),X.cc(7,"div",64),X.gc(8,86),X.bc(),X.cc(9,"div",84),X.gc(10,87),X.bc(),X.bc(),X.bd(11,xt,4,8,"a",88),X.vc(12,"async"),X.vc(13,"async"),X.vc(14,"async"),X.bc()}if(2&e){const e=X.uc(3);let t=null;X.Ib(11),X.Dc("ngIf",(null==(t=X.wc(12,1,e.sharedData.compatCurrentTeam$))?null:t.role)<3||(null==(t=X.wc(13,3,e.sharedData.currentUser))?null:t.id)===(null==(t=X.wc(14,5,e.space$))||null==t.owner?null:t.owner.id))}}function St(e,t){1&e&&X.Xb(0,"cu-loader")}function jt(e,t){if(1&e&&(X.cc(0,"div"),X.cc(1,"div",46),X.mc(2,69),X.Xb(3,"span",70),X.vc(4,"async"),X.vc(5,"i18nPlural"),X.vc(6,"async"),X.jc(),X.bc(),X.bd(7,mt,11,19,"div",71),X.vc(8,"async"),X.bd(9,ft,11,18,"div",71),X.vc(10,"async"),X.bd(11,wt,11,19,"div",71),X.vc(12,"async"),X.cc(13,"div",52),X.bd(14,Tt,15,7,"div",53),X.vc(15,"async"),X.bd(16,St,1,0,"cu-loader",54),X.vc(17,"async"),X.bc(),X.bc()),2&e){const e=X.uc(2);let t=null,i=null,a=null;X.Ib(6),X.kc(X.wc(4,7,e.totalUnresolved$))(X.xc(5,9,X.wc(6,12,e.totalUnresolved$),X.Gc(24,yt))),X.hc(2),X.Ib(1),X.Dc("ngIf",null==(t=X.wc(8,14,e.subtasksTotal$))?null:t.length),X.Ib(2),X.Dc("ngIf",null==(i=X.wc(10,16,e.commentsTotal$))?null:i.length),X.Ib(2),X.Dc("ngIf",null==(a=X.wc(12,18,e.checklistsTotal$))?null:a.length),X.Ib(3),X.Dc("ngIf",!X.wc(15,20,e.resolving$)),X.Ib(2),X.Dc("ngIf",X.wc(17,22,e.resolving$))}}function Ot(e,t){if(1&e&&(X.cc(0,"div",100),X.Xb(1,"div",101),X.cc(2,"div"),X.dd(3),X.bc(),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.Dc("icon","cu2-subtask"),X.Ib(2),X.ed(null==e?null:e.subtasks)}}function It(e,t){if(1&e&&(X.cc(0,"div",100),X.Xb(1,"div",102),X.cc(2,"div"),X.dd(3),X.bc(),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.Dc("icon","assign"),X.Ib(2),X.ed(null==e?null:e.comments)}}function Dt(e,t){if(1&e&&(X.cc(0,"div",100),X.Xb(1,"div",101),X.cc(2,"div"),X.dd(3),X.bc(),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.Dc("icon","checklist"),X.Ib(2),X.ed(null==e?null:e.checklist_items)}}function Ct(e,t){if(1&e){const e=X.dc();X.cc(0,"div",96),X.cc(1,"div",97),X.Xb(2,"div",56),X.cc(3,"a",57),X.qc("click",function(i){X.Uc(e);const a=t.$implicit;return X.uc(3).openTask(i,null==a?null:a.task)}),X.vc(4,"cuTaskLink"),X.dd(5),X.bc(),X.bc(),X.cc(6,"div",98),X.bd(7,Ot,4,2,"div",99),X.bd(8,It,4,2,"div",99),X.bd(9,Dt,4,2,"div",99),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ib(2),X.Dc("ngStyle",X.Hc(8,tt,null==e||null==e.task||null==e.task.status?null:e.task.status.color)),X.Ib(1),X.Dc("cuLink",X.wc(4,6,null==e?null:e.task)),X.Ib(2),X.ed(null==e||null==e.task?null:e.task.name),X.Ib(2),X.Dc("ngIf",null==e?null:e.subtasks),X.Ib(1),X.Dc("ngIf",null==e?null:e.comments),X.Ib(1),X.Dc("ngIf",null==e?null:e.checklist_items)}}function Pt(e,t){if(1&e){const e=X.dc();X.cc(0,"div",74),X.qc("click",function(){return X.Uc(e),X.uc(3).showAll("unresolved")}),X.gc(1,103),X.bc()}}function $t(e,t){if(1&e){const e=X.dc();X.cc(0,"a",89),X.qc("click",function(t){return X.Uc(e),X.uc(4).goToClickApps(t)}),X.gc(1,110),X.vc(2,"async"),X.vc(3,"async"),X.bc()}if(2&e){const e=X.uc(4);let t=null;X.Dc("cuLink",X.Ic(5,kt,null==(t=X.wc(2,1,e.sharedData.compatCurrentTeam$))?null:t.id,null==(t=X.wc(3,3,e.sharedData.compatCurrentTeam$))?null:t.id))}}function zt(e,t){if(1&e){const e=X.dc();X.cc(0,"div",60),X.cc(1,"button",104),X.qc("click",function(){return X.Uc(e),X.uc(3).resolve("skip")}),X.cc(2,"div",64),X.dd(3,"Skip these tasks"),X.bc(),X.cc(4,"div",105),X.dd(5," Don't close tasks that have unresolved items "),X.bc(),X.bc(),X.cc(6,"button",61),X.qc("click",function(){return X.Uc(e),X.uc(3).resolve("resolve")}),X.cc(7,"div",64),X.gc(8,106),X.bc(),X.cc(9,"div",84),X.gc(10,107),X.bc(),X.bc(),X.cc(11,"button",63),X.qc("click",function(){return X.Uc(e),X.uc(3).resolve("close")}),X.cc(12,"div",64),X.gc(13,108),X.bc(),X.cc(14,"div",84),X.gc(15,109),X.bc(),X.bc(),X.bd(16,$t,4,8,"a",88),X.vc(17,"async"),X.vc(18,"async"),X.vc(19,"async"),X.bc()}if(2&e){const e=X.uc(3);let t=null;X.Ib(16),X.Dc("ngIf",(null==(t=X.wc(17,1,e.sharedData.compatCurrentTeam$))?null:t.role)<3||(null==(t=X.wc(18,3,e.sharedData.currentUser))?null:t.id)===(null==(t=X.wc(19,5,e.space$))||null==t.owner?null:t.owner.id))}}function Mt(e,t){1&e&&X.Xb(0,"cu-loader")}const Et=function(){return{"=1":"task",other:"tasks"}};function Lt(e,t){if(1&e&&(X.cc(0,"div"),X.cc(1,"div"),X.mc(2,91),X.vc(3,"async"),X.vc(4,"i18nPlural"),X.vc(5,"async"),X.Xb(6,"span",70),X.jc(),X.bc(),X.cc(7,"div",92),X.cc(8,"div",48),X.gc(9,93),X.bc(),X.cc(10,"div",48),X.gc(11,94),X.bc(),X.bc(),X.bd(12,Ct,10,10,"div",95),X.vc(13,"async"),X.bd(14,Pt,2,0,"div",73),X.vc(15,"async"),X.vc(16,"async"),X.cc(17,"div",52),X.bd(18,zt,20,7,"div",53),X.vc(19,"async"),X.bd(20,Mt,1,0,"cu-loader",54),X.vc(21,"async"),X.bc(),X.bc()),2&e){const e=X.uc(2);let t=null,i=null,a=null;X.Ib(6),X.kc(null==(t=X.wc(3,7,e.unresolvedTasks$))?null:t.length)(X.xc(4,9,null==(i=X.wc(5,12,e.unresolvedTasks$))?null:i.length,X.Gc(24,Et))),X.hc(2),X.Ib(6),X.Dc("ngForOf",X.wc(13,14,e.unresolvedDisplayed$))("ngForTrackBy",e.trackById),X.Ib(2),X.Dc("ngIf",(null==(a=X.wc(15,16,e.unresolvedDisplayed$))?null:a.length)!==(null==(a=X.wc(16,18,e.unresolvedTasks$))?null:a.length)),X.Ib(4),X.Dc("ngIf",!X.wc(19,20,e.resolving$)),X.Ib(2),X.Dc("ngIf",X.wc(21,22,e.resolving$))}}function At(e,t){if(1&e&&(X.cc(0,"div",45),X.bd(1,jt,18,25,"div",54),X.vc(2,"async"),X.bd(3,Lt,22,25,"div",54),X.vc(4,"async"),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf","single"===X.wc(2,2,e.resolveType$)),X.Ib(2),X.Dc("ngIf","multi"===X.wc(4,4,e.resolveType$))}}let Ft=(()=>{class e{constructor(e,t,i,a,o,c,n){this.store=e,this.modalService=t,this.taskService=i,this.sharedTaskService=a,this.sharedData=o,this.router=c,this.preloader=n,this.StatusTypes=qe.g,this.destroy$=new Ee.a,this.refreshChangeStatusWarningText$=new Ee.a,this.updated$=new Ee.a,this.closed$=new Ee.a,this.onClose=new X.o,this.trackById=Object(be.d)("id")}ngOnInit(){this.space$=this.store.pipe(Object(ye.select)(Me.p)),this.resolveType$=this.store.pipe(Object(ye.select)(Me.u)),this.unresolvedDisplayed$=this.store.pipe(Object(ye.select)(Me.m)),this.unresolvedTasks$=this.store.pipe(Object(ye.select)(Me.t)),this.resolving$=this.store.pipe(Object(ye.select)(Me.f)),this.subtasksDisplayed$=this.store.pipe(Object(ye.select)(Me.g)),this.subtasksTotal$=this.store.pipe(Object(ye.select)(Me.r)),this.commentsDisplayed$=this.store.pipe(Object(ye.select)(Me.c)),this.commentsTotal$=this.store.pipe(Object(ye.select)(Me.k)),this.checklistsDisplayed$=this.store.pipe(Object(ye.select)(Me.b)),this.checklistsTotal$=this.store.pipe(Object(ye.select)(Me.j)),this.totalUnresolved$=this.store.pipe(Object(ye.select)(Me.i)),this.changeStatusWarningText$=Object(Le.a)(this.resolveType$,this.refreshChangeStatusWarningText$.pipe(Object(Ae.a)(this.resolveType$))).pipe(Object(Fe.a)(e=>{var t,i,a,o;return"single"===e?(null===(t=this.accessibleTasks)||void 0===t?void 0:t.length)+(null===(i=this.inaccessibleTasks)||void 0===i?void 0:i.length)>1?$localize`:@@cu-unresolved-modal__proceed-text_one-task:This task is waiting on other tasks to be completed.`:$localize`:@@cu-unresolved-modal__proceed-text_one-task-1:This task is waiting on another task to be completed.`:(null===(a=this.accessibleTasks)||void 0===a?void 0:a.length)+(null===(o=this.inaccessibleTasks)||void 0===o?void 0:o.length)>1?$localize`:@@cu-unresolved-modal__proceed-text_multiple-tasks:These tasks are waiting on other tasks to be completed.`:$localize`:@@cu-unresolved-modal__proceed-text_multiple-tasks-1:These tasks are waiting on another task to be completed.`}),Object(Ue.a)()),this.changeStatusPromptText$=this.resolveType$.pipe(Object(Fe.a)(e=>"single"===e?$localize`:@@cu-unresolved-modal__proceed-text-prompt_one-task:Are you sure you want to change the status of this task?`:$localize`:@@cu-unresolved-modal__proceed-text-prompt_multiple-tasks:Are you sure you want to change the status of these tasks?`),Object(Ue.a)()),this.modalService.closeModal.pipe(Object(Ne.a)(1),Object(Re.a)(this.updated$)).subscribe(()=>{this.closed$.next(!0),this.closed$.unsubscribe();const e=this.taskService._getTaskList(this.task);this.taskService.onChange.emit({type:"unresolved",taskList:e})}),this.store.pipe(Object(ye.select)(Me.s),Object(Ge.a)(e=>!!e),Object(Re.a)(this.destroy$)).subscribe(e=>this.task=e),this.store.pipe(Object(ye.select)(Me.n),Object(Ge.a)(e=>!e),Object(Ne.a)(1),Object(Re.a)(this.closed$)).subscribe(e=>{const t=this.taskService._getTaskList(this.task);this.taskService.onChange.emit({type:"unresolved",taskList:t})})}ngOnChanges(e){(e.accessibleTasks||e.inaccessibleTasks)&&this.refreshChangeStatusWarningText$.next()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}showAll(e){this.store.dispatch(new ze.p(e))}resolve(e){this.updated$.next(!0),this.updated$.unsubscribe(),this.store.dispatch(new ze.n(e)),this.modalService.close()}continue(){this.updated$.next(!0),this.updated$.unsubscribe(),this.store.dispatch(new ze.d),this.modalService.close()}openTask(e,t){this.sharedTaskService.clickTaskLink({id:t.id,customId:t.custom_id,teamId:t.team},e),this.modalService.close()}goToClickApps(e){e.preventDefault(),e.stopPropagation();const t=this.sharedData.compatCurrentTeam?this.sharedData.compatCurrentTeam.id:"";this.preloader.show(),this.router.navigate(["/",t,"settings","team",t,"clickapps"]),this.modalService.close(),this.sharedTaskService.isOpen&&this.sharedTaskService.closeTask(null,!1,!1)}close(){this.modalService.close(),this.groupIdsMap&&this.store.dispatch(new Be.Ub({groupIdsMap:this.groupIdsMap})),this.extraData&&this.extraData.forGantt&&this.store.dispatch(We.ganttReloadAllTasks())}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(_e.a),X.Wb(Ve.a),X.Wb(Xe.a),X.Wb(fe.a),X.Wb(d.h),X.Wb(He.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-unresolved-modal"]],inputs:{tasks:"tasks",accessibleTasks:"accessibleTasks",inaccessibleTasks:"inaccessibleTasks",unresolvedConflict:"unresolvedConflict",muteNotifications:"muteNotifications",status:"status",groupIdsMap:"groupIdsMap",extraData:"extraData"},outputs:{onClose:"onClose"},features:[X.Gb],decls:45,vars:4,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w,k,x,T,S,j,O,I;return e=$localize`:@@cu-unresolved-modal__question_are-you-sure␟eece684819c83ee6f72648c0ff1e03e0674f0df3␟8531292586461067976:Are you sure about this?`,t=$localize`:@@cu-unresolved-modal__dependency-warning␟317d6f86b3fdfdba32112f2761a89436d6dbe0ae␟6638652235729271562:Dependency Warning`,i=$localize`:@@common_waiting-on␟ea1eeb1f2836cf30f3e01c87d8808611868e8c8b␟7707141080113485399: Waiting On `,a=$localize`:@@common_user-no-access␟82acfff77895b96948a7b31e50b56b893b5b82e9␟6507889049193626588:(You don't have access)`,o=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,c=$localize`:@@cu-unresolved-modal__btn-txt_yes-close-task␟f6e6fde4a8645861bc398501830048e3ce60ab64␟7707122557322776779: Yes, close this task `,n=$localize`:@@cu-unresolved-modal__btn-txt_yes-change-done-status␟b8e955144b283b09df9b9d481d0eb50b2cd788c1␟1313690267600051314: Yes, change to a done status `,s=$localize`:@@cu-unresolved-modal__btn-txt_yes-change-task-status␟86f24e65dc5b16909602f4d3656ec63c51966bba␟7230093889532408572: Yes, change status anyway `,r=$localize`:@@cu-unresolved-modal__task-unresolved-items-count␟e9f6b0d400ee355d78e034b59cc8241987fba49a␟6942266986868771713: This tasks has ${"\ufffd#3\ufffd"}:START_TAG_SPAN: ${"\ufffd0\ufffd"}:INTERPOLATION: unresolved ${"\ufffd1\ufffd"}:INTERPOLATION_1:. ${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:`,l=$localize`:@@cu-unresolved-modal__subtasks-count␟4943226cb5a627cc79f374ff5abe9453c088df69␟7270961464551052953: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,d=$localize`:@@common_show-all␟a17caf2a74510cd65a72b93d372cfa5f7c764089␟8118400174710375512: Show All `,u=$localize`:@@cu-unresolved-modal__assigned-comments-count␟052773926a328b50c19c523bd118f12a57a50789␟5271011473206433170: ${"\ufffd0\ufffd"}:INTERPOLATION: assigned ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,p=$localize`:@@common_show-all␟a17caf2a74510cd65a72b93d372cfa5f7c764089␟8118400174710375512: Show All `,m=$localize`:@@cu-unresolved-modal__checklist-items-count␟b07ae826efa41703997ad32870d8c9017dca3483␟6239727392183048775: ${"\ufffd0\ufffd"}:INTERPOLATION: checklist ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,h=$localize`:@@common_show-all␟a17caf2a74510cd65a72b93d372cfa5f7c764089␟8118400174710375512: Show All `,b=$localize`:@@cu-unresolved-modal_btn-txt_resolve-all-items␟1610b1106794f04ba2b8bcfeb2e96660bf1aea4d␟708812567939225844: Resolve all items `,g=$localize`:@@cu-unresolved-modal_btn-txt_resolve-all-items-description␟408a550779608dfd5974a26e63b5c7713e161ee7␟3304127897844359964: Close any action items that aren't yet closed `,f=$localize`:@@cu-unresolved-modal__btn-txt_continue-anyway␟8ff585034d3b5d678d65a38f81bb0646887ff8a5␟7724825601599528684: Continue anyway `,_=$localize`:@@cu-unresolved-modal__btn-txt_continue-anyway-description␟6644b5adafc8796f5750e06f9581d9ea59e7b807␟1631367748131941491: Continue without resolving action items `,v=$localize`:@@cu-unresolved-modal__link-txt_warning-settings␟02bdfafe5a5d1ed3bd5c6e27c8911b43a752864b␟8496271426285993261:Settings for this warning`,y=$localize`:@@cu-unresolved-modal__task-unresolved-items-count-1␟8a566cee083bd1fc8e477d4ce3dbfe0349dc1d3e␟6826241684086737603: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: have ${"\ufffd#6\ufffd"}:START_TAG_SPAN:unresolved items:${"\ufffd/#6\ufffd"}:CLOSE_TAG_SPAN:`,w=$localize`:@@common_tasks-1␟8b49ca0b0a532fe34654025f61bd51717e96fbb7␟2230986065371915849: tasks `,k=$localize`:@@cu-unresolved-modal_unresolved␟bfbc49aebd1368e1a9c19dc78c06d937064a7d86␟177003569166473734: unresolved `,x=$localize`:@@common_show-all␟fecb79652df2df66db601c369f0c3dfda8d97d2d␟6375620436831189623: Show All `,T=$localize`:@@cu-unresolved-modal_btn-txt_resolve-all-items␟1610b1106794f04ba2b8bcfeb2e96660bf1aea4d␟708812567939225844: Resolve all items `,S=$localize`:@@cu-unresolved-modal_btn-txt_resolve-all-items-description␟408a550779608dfd5974a26e63b5c7713e161ee7␟3304127897844359964: Close any action items that aren't yet closed `,j=$localize`:@@cu-unresolved-modal__btn-txt_continue-anyway␟8ff585034d3b5d678d65a38f81bb0646887ff8a5␟7724825601599528684: Continue anyway `,O=$localize`:@@cu-unresolved-modal__btn-txt_continue-anyway-description␟6644b5adafc8796f5750e06f9581d9ea59e7b807␟1631367748131941491: Continue without resolving action items `,I=$localize`:@@cu-unresolved-modal__link-txt_warning-settings␟02bdfafe5a5d1ed3bd5c6e27c8911b43a752864b␟8496271426285993261:Settings for this warning`,[[1,"cu-conflict-management"],[1,"cu-conflict-management__warning-img-unresolved-items"],["width","183","height","191","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["fill","#E5E5E5","d","M28 183L150 183 150 61 28 61z"],["fill","#FFF","d","M30 185L152 185 152 63 30 63z"],["d","M152.469695,185.03018 C148.399614,185.03018 144.329809,185.03018 140.259727,185.03018 C130.532979,185.03018 120.806231,185.03018 111.079759,185.03018 C99.2690624,185.03018 87.4586424,185.03018 75.6482224,185.03018 C65.473848,185.03018 55.2991973,185.03018 45.1248229,185.03018 C41.7551934,185.03018 38.3858403,185.03018 35.0162108,185.03018 C33.9667764,185.03018 32.9170657,185.03018 31.8676313,185.03018 C31.4368603,185.03018 30.6222914,184.86809 30.2174937,185.03018 C30.165547,185.05082 30.0669035,185.03018 30.008049,185.03018 C30.153113,185.161173 30.2979006,185.292441 30.4426883,185.423435 C30.4426883,181.369803 30.4426883,177.316171 30.4426883,173.26254 C30.4426883,163.575379 30.4426883,153.887942 30.4426883,144.200781 C30.4426883,132.437819 30.4426883,120.675132 30.4426883,108.912446 C30.4426883,98.7789172 30.4426883,88.6456639 30.4426883,78.5124105 C30.4426883,75.1563999 30.4426883,71.8003892 30.4426883,68.4446537 C30.4426883,67.3991856 30.4426883,66.3539926 30.4426883,65.3085244 C30.4426883,64.8431686 30.5852655,64.1130746 30.4426883,63.6653313 C30.4244517,63.6080906 30.4426883,63.518652 30.4426883,63.456733 C30.1384684,63.6279047 29.8342485,63.7988012 29.5300285,63.9699729 C33.6001099,63.9699729 37.6701912,63.9699729 41.7402726,63.9699729 C51.4670209,63.9699729 61.1934929,63.9699729 70.9202413,63.9699729 C82.7306613,63.9699729 94.5413576,63.9699729 106.351778,63.9699729 C116.526152,63.9699729 126.700526,63.9699729 136.875177,63.9699729 C140.24453,63.9699729 143.61416,63.9699729 146.983789,63.9699729 C148.033224,63.9699729 149.082934,63.9699729 150.132369,63.9699729 C150.562863,63.9699729 151.377709,64.1317879 151.782506,63.9699729 C151.834453,63.949058 151.93282,63.9699729 151.991675,63.9699729 C151.846887,63.8387045 151.702099,63.7077114 151.557312,63.5764431 C151.557312,67.6300747 151.557312,71.6837063 151.557312,75.7373378 C151.557312,85.4247743 151.557312,95.1119355 151.557312,104.799372 C151.557312,116.562059 151.557312,128.324745 151.557312,140.087707 C151.557312,150.22096 151.557312,160.354214 151.557312,170.487742 C151.557312,173.843478 151.557312,177.199488 151.557312,180.555499 C151.557312,182.093017 151.342064,183.807761 151.557312,185.334822 C151.566706,185.401419 151.557312,185.475447 151.557312,185.543145 C151.557312,186.200037 152.904335,185.974651 152.904335,185.423435 C152.904335,181.369803 152.904335,177.316171 152.904335,173.26254 C152.904335,163.575379 152.904335,153.887942 152.904335,144.200781 C152.904335,132.437819 152.904335,120.675132 152.904335,108.912446 C152.904335,98.7789172 152.904335,88.6456639 152.904335,78.5124105 C152.904335,75.1563999 152.904335,71.8003892 152.904335,68.4446537 C152.904335,66.9068606 153.119582,65.1923918 152.904335,63.6653313 C152.89494,63.5984588 152.904335,63.5244311 152.904335,63.456733 C152.904335,63.2241927 152.703455,63.0634785 152.469695,63.0634785 C148.399614,63.0634785 144.329809,63.0634785 140.259727,63.0634785 C130.532979,63.0634785 120.806231,63.0634785 111.079759,63.0634785 C99.2690624,63.0634785 87.4586424,63.0634785 75.6482224,63.0634785 C65.473848,63.0634785 55.2991973,63.0634785 45.1248229,63.0634785 C40.1633578,63.0634785 35.1775773,62.9206519 30.2174937,63.0634785 C30.147863,63.0654048 30.077956,63.0634785 30.008049,63.0634785 C29.740026,63.0634785 29.0956655,63.1818126 29.0956655,63.5764431 C29.0956655,67.6300747 29.0956655,71.6837063 29.0956655,75.7373378 C29.0956655,85.4247743 29.0956655,95.1119355 29.0956655,104.799372 C29.0956655,116.562059 29.0956655,128.324745 29.0956655,140.087707 C29.0956655,150.22096 29.0956655,160.354214 29.0956655,170.487742 C29.0956655,173.843478 29.0956655,177.199488 29.0956655,180.555499 C29.0956655,182.093017 28.8804181,183.807761 29.0956655,185.334822 C29.1050601,185.401419 29.0956655,185.475447 29.0956655,185.543145 C29.0956655,185.77596 29.2962683,185.936399 29.5300285,185.936399 C33.6001099,185.936399 37.6701912,185.936399 41.7402726,185.936399 C51.4670209,185.936399 61.1934929,185.936399 70.9202413,185.936399 C82.7306613,185.936399 94.5413576,185.936399 106.351778,185.936399 C116.526152,185.936399 126.700526,185.936399 136.875177,185.936399 C141.836642,185.936399 146.822423,186.079501 151.782506,185.936399 C151.852137,185.934473 151.922044,185.936399 151.991675,185.936399 C152.592654,185.936399 153.368539,185.03018 152.469695,185.03018","fill","#6A79A8"],["fill","#F9F9F9","d","M30 187L152 187 152 78 30 78z"],["fill","#FFF","d","M30 187L147 187 147 78 30 78z"],["d","M152.466376,185.137625 C148.39767,185.137625 144.328965,185.137625 140.26026,185.137625 C130.5368,185.137625 120.813617,185.137625 111.090157,185.137625 C99.2837298,185.137625 87.4773029,185.137625 75.6705997,185.137625 C65.4996652,185.137625 55.3287308,185.137625 45.15752,185.137625 C41.7893061,185.137625 38.4208159,185.137625 35.0523257,185.137625 C34.0032461,185.137625 32.9541665,185.137625 31.9048106,185.137625 C31.4722518,185.137625 30.6623778,184.976521 30.255231,185.137625 C30.2030256,185.158279 30.1052441,185.137625 30.0461333,185.137625 C30.1834141,185.240897 30.3206949,185.344169 30.4579757,185.447166 C30.4579757,181.39064 30.4579757,177.334389 30.4579757,173.277864 C30.4579757,163.583511 30.4579757,153.889158 30.4579757,144.19508 C30.4579757,132.423719 30.4579757,120.652635 30.4579757,108.88155 C30.4579757,98.7410613 30.4579757,88.6002976 30.4579757,78.4598093 C30.4579757,75.1014025 30.4579757,71.7432711 30.4579757,68.3848643 C30.4579757,67.3389251 30.4579757,66.2927105 30.4579757,65.2467712 C30.4579757,64.7830109 30.6018858,64.0474386 30.4579757,63.6021295 C30.4394691,63.5451234 30.4579757,63.4553456 30.4579757,63.3933823 C30.1497154,63.549805 29.8417312,63.7062278 29.5337471,63.8623751 C33.6024524,63.8623751 37.6711576,63.8623751 41.7398629,63.8623751 C51.4630464,63.8623751 61.1865062,63.8623751 70.9096898,63.8623751 C82.7163929,63.8623751 94.5228199,63.8623751 106.329247,63.8623751 C116.500458,63.8623751 126.671392,63.8623751 136.842326,63.8623751 C140.210817,63.8623751 143.579307,63.8623751 146.947521,63.8623751 C147.996877,63.8623751 149.045956,63.8623751 150.095312,63.8623751 C150.527595,63.8623751 151.337469,64.0237549 151.744616,63.8623751 C151.796821,63.8417207 151.894879,63.8623751 151.953989,63.8623751 C151.816709,63.7593784 151.679428,63.6561064 151.542147,63.5528344 C151.542147,67.6093601 151.542147,71.6658859 151.542147,75.7224117 C151.542147,85.4164894 151.542147,95.1108425 151.542147,104.805196 C151.542147,116.576281 151.542147,128.347365 151.542147,140.11845 C151.542147,150.259214 151.542147,160.399702 151.542147,170.540191 C151.542147,173.898597 151.542147,177.257004 151.542147,180.615136 C151.542147,181.66135 151.542147,182.70729 151.542147,183.753504 C151.542147,184.26298 151.439117,184.896657 151.542147,185.398146 C151.555406,185.461761 151.542147,185.540524 151.542147,185.606618 C151.542147,186.175027 152.878218,185.901563 152.878218,185.447166 C152.878218,181.39064 152.878218,177.334389 152.878218,173.277864 C152.878218,163.583511 152.878218,153.889158 152.878218,144.19508 C152.878218,132.423719 152.878218,120.652635 152.878218,108.88155 C152.878218,98.7410613 152.878218,88.6002976 152.878218,78.4598093 C152.878218,75.1014025 152.878218,71.7432711 152.878218,68.3848643 C152.878218,66.8834265 153.152227,65.0856668 152.878218,63.6021295 C152.866064,63.537137 152.878218,63.4603026 152.878218,63.3933823 C152.878218,63.1686624 152.67354,63.0838416 152.466376,63.0838416 C148.39767,63.0838416 144.328965,63.0838416 140.26026,63.0838416 C130.5368,63.0838416 120.813617,63.0838416 111.090157,63.0838416 C99.2837298,63.0838416 87.4773029,63.0838416 75.6705997,63.0838416 C65.4996652,63.0838416 55.3287308,63.0838416 45.15752,63.0838416 C40.2032568,63.0838416 35.2070083,62.895198 30.255231,63.0838416 C30.1859001,63.0865955 30.1157404,63.0838416 30.0461333,63.0838416 C29.8281965,63.0838416 29.1219046,63.209145 29.1219046,63.5528344 C29.1219046,67.6093601 29.1219046,71.6658859 29.1219046,75.7224117 C29.1219046,85.4164894 29.1219046,95.1108425 29.1219046,104.805196 C29.1219046,116.576281 29.1219046,128.347365 29.1219046,140.11845 C29.1219046,150.259214 29.1219046,160.399702 29.1219046,170.540191 C29.1219046,173.898597 29.1219046,177.257004 29.1219046,180.615136 C29.1219046,182.116573 28.8476192,183.914333 29.1219046,185.398146 C29.1340583,185.462863 29.1219046,185.539973 29.1219046,185.606618 C29.1219046,185.831613 29.3265829,185.916158 29.5337471,185.916158 C33.6024524,185.916158 37.6711576,185.916158 41.7398629,185.916158 C51.4630464,185.916158 61.1865062,185.916158 70.9096898,185.916158 C82.7163929,185.916158 94.5228199,185.916158 106.329247,185.916158 C116.500458,185.916158 126.671392,185.916158 136.842326,185.916158 C141.79659,185.916158 146.793114,186.104802 151.744616,185.916158 C151.814223,185.91368 151.884382,185.916158 151.953989,185.916158 C152.471348,185.916158 153.364363,185.137625 152.466376,185.137625","fill","#6A79A8"],["d","M48.1118381 120.346051L46.8595928 120.346051 46.8595928 123.050494 48.1118381 123.050494C48.5499248 123.050494 48.9163246 123.006064 49.2104686 122.917754 49.504897 122.829169 49.7293453 122.684361 49.8838135 122.483057 50.0379973 122.282027 50.1153737 122.018192 50.1153737 121.692101 50.1153737 121.302109 49.9964644 120.983971 49.7583614 120.738512 49.4912423 120.477145 48.942496 120.346051 48.1118381 120.346051zM48.5627261 124.402578L46.8595928 124.402578 46.8595928 126.907637C46.8595928 127.26609 46.7719755 127.537604 46.5964563 127.722727 46.4212216 127.907576 46.1999025 128 45.9327834 128 45.6531475 128 45.4278457 127.908673 45.2565937 127.725469 45.0853416 127.54254 45 127.274043 45 126.919704L45 120.098671C45 119.704291 45.0938757 119.422629 45.2816272 119.253687 45.4696631 119.084745 45.7677897 119 46.1771447 119L48.5627261 119C49.2679319 119 49.8107043 119.052383 50.1904743 119.156875 50.5662616 119.257527 50.8905596 119.424823 51.1642216 119.657941 51.4375991 119.891608 51.6452635 120.177109 51.787215 120.514993 51.928882 120.853425 52 121.233545 52 121.656174 52 122.557655 51.71183 123.240553 51.1357744 123.705418 50.5600033 124.170283 49.702036 124.402578 48.5627261 124.402578zM99.6885845 121.552778L100.015068 121.552778 100.015068 121.065905C100.015068 120.559342 100.069406 120.156627 100.178539 119.858029 100.287215 119.558892 100.471461 119.341485 100.73105 119.204729 100.990868 119.068243 101.346804 119 101.799087 119 102.599543 119 103 119.231703 103 119.694569 103 119.845082 102.957991 119.973746 102.874201 120.080561 102.790411 120.187646 102.691553 120.240784 102.577854 120.240784 102.524201 120.240784 102.432192 120.228916 102.30137 120.205179 102.170776 120.181442 102.060274 120.169574 101.969863 120.169574 101.721918 120.169574 101.562785 120.255619 101.492466 120.427711 101.422146 120.600072 101.386986 120.846341 101.386986 121.166787L101.386986 121.552778 101.723744 121.552778C102.246119 121.552778 102.507534 121.738896 102.507534 122.110861 102.507534 122.376281 102.4379 122.544327 102.299087 122.615537 102.159817 122.686747 101.968037 122.722352 101.723744 122.722352L101.386986 122.722352 101.386986 127.014656C101.386986 127.335371 101.322374 127.579752 101.193379 127.748067 101.064384 127.916112 100.897717 128 100.693379 128 100.499087 128 100.337443 127.916112 100.208447 127.748067 100.079452 127.579752 100.015068 127.335371 100.015068 127.014656L100.015068 122.722352 99.6381279 122.722352C99.43379 122.722352 99.276484 122.668135 99.1657534 122.559162 99.0552511 122.450189 99 122.308847 99 122.134598 99 121.746988 99.2294521 121.552778 99.6885845 121.552778","fill","#FFF"],["fill","#EBE7FF","d","M30 76L152 76 152 63 30 63z"],["d","M147,78 L30,78 L30,67 L139.959308,67 C143.847757,67 147,70.2246599 147,74.2024382 L147,78","fill","#E5E1F6"],["d","M151.392023,76.0390306 C147.337562,76.0390306 143.283101,76.0390306 139.228364,76.0390306 C129.58657,76.0390306 119.944776,76.0390306 110.302982,76.0390306 C98.5528018,76.0390306 86.8026217,76.0390306 75.0527168,76.0390306 C64.9352704,76.0390306 54.8175489,76.0390306 44.7001024,76.0390306 C41.375213,76.0390306 38.0500485,76.0390306 34.7251591,76.0390306 C33.6794943,76.0390306 32.6338296,76.0390306 31.5881648,76.0390306 C31.1185647,76.0390306 30.3969707,75.9047501 29.9441519,76.0390306 C29.8861053,76.0563142 29.7980725,76.0390306 29.7356242,76.0390306 C29.9380997,76.1722474 30.1408503,76.3051984 30.3436008,76.4381493 C30.3436008,72.1103303 30.3436008,67.7822454 30.3436008,63.4544263 C30.0984845,63.623274 29.853093,63.7921217 29.6079766,63.9609694 C33.6627131,63.9609694 37.7171745,63.9609694 41.7716358,63.9609694 C51.413705,63.9609694 61.0554991,63.9609694 70.6972933,63.9609694 C82.4474733,63.9609694 94.1973783,63.9609694 105.947558,63.9609694 C116.065005,63.9609694 126.182451,63.9609694 136.299898,63.9609694 C139.625062,63.9609694 142.950227,63.9609694 146.275116,63.9609694 C147.320781,63.9609694 148.366446,63.9609694 149.41211,63.9609694 C149.88171,63.9609694 150.603029,64.0952499 151.056123,63.9609694 C151.113895,63.9436858 151.202203,63.9609694 151.264651,63.9609694 C151.0619,63.8277526 150.859425,63.6948016 150.656674,63.5618507 C150.656674,67.8896697 150.656674,72.2177546 150.656674,76.5455737 C150.656674,77.1972992 152,76.9914911 152,76.4381493 C152,72.1103303 152,67.7822454 152,63.4544263 C152,63.1252398 151.675654,63.0553076 151.392023,63.0553076 C147.337562,63.0553076 143.283101,63.0553076 139.228364,63.0553076 C129.58657,63.0553076 119.944776,63.0553076 110.302982,63.0553076 C98.5528018,63.0553076 86.8026217,63.0553076 75.0527168,63.0553076 C64.9352704,63.0553076 54.8175489,63.0553076 44.7001024,63.0553076 C41.375213,63.0553076 38.0500485,63.0553076 34.7251591,63.0553076 C33.1507473,63.0553076 31.5147124,62.9308655 29.9441519,63.0553076 C29.8756514,63.0608915 29.8043999,63.0553076 29.7356242,63.0553076 C29.4861062,63.0553076 29,63.2677632 29,63.5618507 C29,67.8896697 29,72.2177546 29,76.5455737 C29,76.8750261 29.324621,76.9446924 29.6079766,76.9446924 C33.6627131,76.9446924 37.7171745,76.9446924 41.7716358,76.9446924 C51.413705,76.9446924 61.0554991,76.9446924 70.6972933,76.9446924 C82.4474733,76.9446924 94.1973783,76.9446924 105.947558,76.9446924 C116.065005,76.9446924 126.182451,76.9446924 136.299898,76.9446924 C139.625062,76.9446924 142.950227,76.9446924 146.275116,76.9446924 C147.849528,76.9446924 149.485563,77.0691345 151.056123,76.9446924 C151.124624,76.9391085 151.1956,76.9446924 151.264651,76.9446924 C152.009904,76.9446924 152.29601,76.0390306 151.392023,76.0390306","fill","#6A79A8"],["d","M41 70.0001159C41 68.8955328 40.1045258 68 39.0001153 68 37.8954742 68 37 68.8955328 37 70.0001159 37 71.1044672 37.8954742 72 39.0001153 72 40.1045258 72 41 71.1044672 41 70.0001159M48 70.0001159C48 68.8955328 47.1044742 68 46 68 44.8952952 68 44 68.8955328 44 70.0001159 44 71.1044672 44.8952952 72 46 72 47.1044742 72 48 71.1044672 48 70.0001159M55 70.0001159C55 68.8955328 54.1045258 68 52.9998847 68 51.8954742 68 51 68.8955328 51 70.0001159 51 71.1044672 51.8954742 72 52.9998847 72 54.1045258 72 55 71.1044672 55 70.0001159","fill","#FFF"],["d","M40.9996113 70.3349194C40.8061287 66.9517146 35.0132861 67.4167134 35.0000264 70.62436 34.9856843 74.0451844 40.8166823 73.5906782 40.9982583 70.4186038 41.0255894 69.9395298 39.7166727 70.1900712 39.6942125 70.5826458 39.6414445 71.5036862 39.0415131 72.5421918 37.8995597 72.3346442 36.9546068 72.1626689 36.3205791 71.2418845 36.3192261 70.3768896 36.3178731 69.3826573 37.1294177 68.3687195 38.2727241 68.7229068 39.1773568 69.0031344 39.6436093 69.8097805 39.6928595 70.6663302 39.7139667 71.0363842 41.02586 70.7917288 40.9996113 70.3349194M47.9995952 70.3354577C47.805589 66.9567107 42.009756 67.4114783 42.0000151 70.6223974 41.9891918 74.0391481 47.8166828 73.5971334 47.999054 70.4219222 48.027465 69.928641 46.7165027 70.1740063 46.6932328 70.5792927 46.6404696 71.4977549 46.0370752 72.5228311 44.8973904 72.3203154 43.954147 72.1527426 43.3204476 71.2388715 43.3199065 70.3788175 43.3193653 69.3891943 44.1354359 68.3883486 45.2748501 68.7357369 46.17913 69.0117092 46.6437166 69.8141201 46.6926917 70.6657572 46.7148793 71.0514042 48.0263827 70.8032332 47.9995952 70.3354577M54.9986904 70.3364249C54.8041895 66.9634344 49.0043313 67.4044046 49.0000031 70.6195796 48.9951338 74.030121 54.8160922 73.6066577 54.9995019 70.427004 55.0292587 69.9127079 53.7159046 70.1494313 53.6912876 70.5744169 53.6396191 71.4723418 53.0225726 72.5202168 51.8937103 72.2984631 50.9550206 72.1140067 50.32012 71.2518567 50.3209316 70.3818413 50.3220136 69.3940986 51.1443816 68.4225941 52.2778427 68.7559858 53.1821769 69.0216335 53.6436769 69.8226363 53.6920992 70.6649959 53.7159046 71.0742508 55.0265535 70.8210354 54.9986904 70.3364249","fill","#E5E1F6"],["d","M41.99312 70.3397854C41.7964572 66.9929917 35.9832874 67.373665 36.0000361 70.6081452 36.0175953 73.992708 41.811315 73.6458282 41.9993333 70.4468808 42.0339114 69.8589742 40.7121102 70.0515472 40.6823946 70.5544732 40.6318782 71.4149637 40.0445911 72.3214233 38.9764526 72.2227762 38.0007023 72.1325775 37.3180553 71.2489783 37.3245387 70.3934574 37.3315624 69.472089 38.1217256 68.5996714 39.1879732 68.8136137 40.1467045 69.0059382 40.6389019 69.8182233 40.6886079 70.6615686 40.7177831 71.159525 42.025537 70.8874381 41.99312 70.3397854M48.9997547 70.3301304C48.8076473 66.8975935 42.9802982 67.4669345 43.0000501 70.6691173 43.0214254 74.139872 48.82307 73.4904307 48.9997547 70.3301304 49.01166 70.114697 47.7150701 70.2741125 47.692883 70.6691173 47.6303805 71.7863344 46.6831014 72.9223986 45.4298033 72.2292423 44.7346991 71.8449699 44.3042161 71.1018164 44.3069218 70.3301304 44.3104393 69.2867313 45.2293081 68.1841731 46.3889876 68.6906903 47.2182965 69.0529743 47.645262 69.8139279 47.692883 70.6691173 47.7072234 70.9227685 49.0205889 70.7049792 48.9997547 70.3301304M55.9992726 70.4520021C55.8001304 67.0808325 50.0579276 67.2551777 50.0004516 70.5482011 49.9408168 73.959433 55.8074161 73.7024901 55.9992726 70.4520021 56.0354312 69.8434011 54.7115944 70.0202193 54.6805628 70.5482011 54.6301026 71.4011327 54.0405014 72.2956104 52.9727431 72.1957019 52.0404447 72.1084057 51.3337328 71.2871282 51.3191614 70.4520021 51.3051297 69.6425949 51.9209054 68.8208229 52.8556324 68.8054904 53.8910099 68.7886741 54.6282137 69.6604004 54.6805628 70.5482011 54.7169912 71.1637264 56.0300344 70.9698446 55.9992726 70.4520021M74.2786424 105.746241C78.5222381 101.425388 85.2122729 99.4338637 91.0714153 99.6239496 96.4751407 99.7990659 102.649036 101.629879 106.702666 105.464926 106.985665 105.732684 108.224065 105.223999 107.964464 104.978272 104.882112 102.062303 100.422646 100.317919 96.3634451 99.5200096 89.6834378 98.2066373 82.6516313 99.3914968 76.8153294 102.956808 75.4872385 103.767992 74.1493987 104.687635 73.0497127 105.80725 72.7327313 106.130085 74.0254473 106.004114 74.2786424 105.746241M70 91C70 89.895472 69.104528 89 68 89 66.895472 89 66 89.895472 66 91 66 92.104528 66.895472 93 68 93 69.104528 93 70 92.104528 70 91M113 91C113 89.895472 112.104528 89 111 89 109.895472 89 109 89.895472 109 91 109 92.104528 109.895472 93 111 93 112.104528 93 113 92.104528 113 91M9.01539754 95.5614426C12.9836509 104.552252 20.1677136 111.594418 28.8489649 114.97797 29.2158942 115.120945 30.3793417 114.528701 29.8754112 114.332147 21.3160273 110.995871 14.2121474 104.059432 10.2977918 95.1906816 10.0983967 94.7394077 8.84786322 95.1817994 9.01539754 95.5614426","fill","#6A79A8"],["fill","#F2F2F2","x","39","y","129","width","101","height","8","rx","2"],["fill","#D8D8D8","d","M47 132.5H61V133.5H47z"],["d","M167.857409,136.257424 C160.111182,130.765464 154.873735,122.402854 153.35865,113.243443 C153.277876,112.755064 151.917048,113.068364 152.003993,113.594144 C153.546003,122.915625 158.919476,131.34599 166.789109,136.925219 C167.178117,137.201118 168.416381,136.653656 167.857409,136.257424","fill","#6A79A8"],["d","M55.6597895,190 L9.52566357,190 C8.99796987,190 8.47717954,189.861412 8.02514678,189.586466 C3.81933684,187.029414 1,182.373182 1,177.064999 C1,169.012377 7.4880645,162.460246 15.4622868,162.460246 C15.5699794,162.460246 15.6779481,162.461919 15.7867452,162.464986 C16.9536911,162.497891 18.0184671,161.809132 18.5127485,160.740859 C22.0069589,153.188772 29.4164854,148.309739 37.8394268,148.309739 C39.5903979,148.309739 41.341369,148.521665 43.0335234,148.979257 C45.127454,149.545322 47.1031988,150.485882 48.9093969,151.690792 C49.3611535,151.992228 49.802417,152.309559 50.2337397,152.639996 C50.7868378,153.063569 51.0999747,153.231436 51.5150054,153.820367 C52.204238,154.797735 52.9732735,155.717381 53.8105144,156.568431 C54.5643626,157.33471 55.5070869,157.709205 56.2324932,158.474926 C56.6359262,158.901008 57.5579405,159.381466 57.8796376,159.865271 C59.7087549,162.615844 64.791293,159.678162 65.4228134,159.287494 C67.7917743,157.822139 70.6909141,157.081514 73.4586137,157.112188 C75.6188167,157.136169 77.7699072,157.637819 79.7293601,158.553562 C81.7813182,159.512526 83.3624663,161.047872 85.2542662,162.247205 C87.4487099,163.638944 88.9859526,160.040109 89.3667426,158.474368 C89.6724238,157.217035 89.8063493,155.860152 90.2862716,154.655522 C91.6023303,151.351153 92.8764165,147.581384 94.7118849,144.538297 C97.1338637,140.522861 100.376515,137.246377 104.148517,134.438082 C109.279379,130.594975 119.124139,128 125.213741,128 C138.049869,128 149.303745,135.619289 154.330504,147.328188 C154.828099,148.48653 156.012994,149.175289 157.260571,149.088009 C157.677259,149.058729 158.087319,149.044229 158.492132,149.044229 C170.35102,149.044229 180,158.788074 180,170.763553 C180,178.8053 175.648943,185.840957 169.199261,189.59511 C168.746952,189.858623 168.234722,190 167.712827,190 L55.6597895,190","fill","#E5E5E5"],["d","M58.6600657,191 L12.5256636,191 C11.9979699,191 11.4771795,190.861412 11.0251468,190.586466 C6.81933684,188.029414 4,183.373182 4,178.064999 C4,170.012377 10.4880645,163.460525 18.4622868,163.460525 C18.5699794,163.460525 18.6782242,163.461919 18.7870214,163.464986 C19.9539672,163.497891 21.0187432,162.809132 21.5127485,161.741138 C25.0069589,154.188772 32.4164854,149.309739 40.8397029,149.309739 C42.5903979,149.309739 44.341369,149.521665 46.0337995,149.979257 C48.127454,150.545322 50.103475,151.485882 51.9093969,152.691071 C52.3611535,152.992228 52.802417,153.309559 53.2337397,153.639996 C53.7868378,154.063569 54.0999747,154.231715 54.5150054,154.820367 C55.204238,155.797735 55.9732735,156.717381 56.8107905,157.568431 C57.5646387,158.33471 58.5070869,158.709484 59.2324932,159.475205 C59.6362024,159.901287 60.5579405,160.381745 60.8796376,160.865271 C62.709031,163.616123 67.7915691,160.678162 68.4230895,160.287494 C70.7920504,158.822418 73.6909141,158.081514 76.4588898,158.112188 C78.6188167,158.136169 80.7699072,158.637819 82.7296362,159.553562 C84.7815943,160.512526 86.3624663,162.047872 88.2542662,163.247484 C90.448986,164.638944 91.9859526,161.040109 92.3667426,159.474368 C92.6724238,158.217035 92.8063493,156.860431 93.2862716,155.655522 C94.6026065,152.351153 95.8766927,148.581384 97.7118849,145.538297 C100.133864,141.522861 103.376791,138.246656 107.148517,135.438082 C112.279655,131.594975 122.124139,129 128.213741,129 C141.049869,129 152.303745,136.619289 157.33078,148.328188 C157.828099,149.486809 159.01327,150.175567 160.260847,150.088009 C160.677535,150.058729 161.087595,150.044229 161.492132,150.044229 C173.351296,150.044229 183,159.788074 183,171.763553 C183,179.8053 178.648943,186.840957 172.199538,190.595389 C171.747229,190.858623 171.234998,191 170.712827,191 L58.6600657,191","fill","#BDDFF5"],["d","M57.1332256,191 L12.2876997,191 C11.7746714,191 11.2682698,190.874967 10.8289652,190.626553 C6.74047708,188.316744 4,184.111332 4,179.316832 C4,172.043425 10.3068249,166.125554 18.0583023,166.125554 C18.1629512,166.125554 18.2681524,166.126932 18.3739058,166.129686 C19.508201,166.159429 20.5433697,165.537293 21.0235399,164.572554 C24.4200748,157.751084 31.6229045,153.344353 39.8106493,153.344353 C41.5123682,153.344353 43.2146394,153.535758 44.859754,153.948863 C46.8950242,154.460288 48.8157051,155.309632 50.5712672,156.398302 C51.0102957,156.670401 51.4391079,156.957096 51.8585321,157.255358 C52.396135,157.638169 52.7004177,157.789641 53.1041031,158.321445 C53.7739668,159.204389 54.5214198,160.035006 55.3356936,160.803657 C56.0682362,161.495746 56.9846738,161.834217 57.6898807,162.525755 C58.0819691,162.910769 58.9782501,163.34453 59.2908164,163.781595 C61.0690201,166.26601 66.0096102,163.612497 66.6234218,163.259706 C68.9262509,161.936116 71.7443174,161.267161 74.434817,161.294977 C76.5346989,161.316458 78.6254689,161.769497 80.5304111,162.596809 C82.5250919,163.462953 84.061968,164.84961 85.9009179,165.933047 C88.0342101,167.189989 89.5282879,163.939401 89.8982868,162.525204 C90.1956665,161.389716 90.3257184,160.16417 90.7923588,159.075775 C92.0716163,156.091503 93.3102843,152.686414 95.0942866,149.937887 C97.4487498,146.310822 100.600644,143.351612 104.267223,140.81487 C109.255029,137.343684 118.824747,135 124.744178,135 C137.221701,135 148.161244,141.882058 153.047715,152.457553 C153.531198,153.504087 154.683165,154.126223 155.895878,154.047183 C156.300944,154.020744 156.699659,154.007524 157.092852,154.007524 C168.620803,154.007524 178,162.808595 178,173.625068 C178,180.888835 173.770415,187.243496 167.501143,190.63454 C167.061286,190.872213 166.563444,191 166.056214,191 L57.1332256,191","fill","#D8F0FF"],["d","M31.561748,167.101709 C36.8778968,166.28385 42.1234735,169.354375 43.9575158,174.366495 C45.8671117,179.586086 43.6032719,185.473742 38.6831567,188.13233 C37.8858313,188.563127 38.6062194,189.260166 39.2720872,188.900166 C44.6012433,186.020439 47.4055817,179.783717 45.2939561,174.012782 C43.286113,168.525036 37.4812184,165.253873 31.6832426,166.145809 C30.9567659,166.257609 30.6551051,167.241117 31.561748,167.101709","fill","#6A79A8"],["d","M11.9267662,190.176596 C5.91927897,186.93138 2.85057909,179.837519 5.04140194,173.305595 C7.15261881,167.011634 13.5658754,163.061044 20.1637736,164.102206 C20.4495812,164.147546 20.9236238,163.994765 21.0336348,163.697997 C23.2429771,157.726909 27.9419411,152.908272 34.0829341,150.937236 C40.8845463,148.754615 48.3434606,150.344524 53.8075264,154.857875 C54.2572449,155.229384 55.4261813,154.583364 54.8379816,154.097268 C49.0411185,149.308858 41.0304906,147.748076 33.8407993,150.038962 C27.2901671,152.126233 22.1271113,157.150409 19.7585571,163.551536 C20.0485108,163.416617 20.3384645,163.281697 20.6284182,163.147052 C13.6894305,162.052032 6.60947386,165.937223 4.01702779,172.476567 C1.25099647,179.454194 4.31859072,187.383952 10.896311,190.937202 C11.4010351,191.210064 12.5741176,190.526398 11.9267662,190.176596","fill","#6A79A8"],["d","M23.5797046 174.04878C27.1964016 173.534153 30.7347226 175.483357 32.0608449 178.761923 33.4844384 182.281175 31.9619486 186.297881 28.5233789 188.132057 27.7071283 188.567636 28.4464279 189.262437 29.1301518 188.897728 32.9862519 186.840583 35.0750441 182.482882 33.4374128 178.409207 31.9283182 174.655538 27.8185647 172.510078 23.7048212 173.095576 22.9544065 173.202426 22.6448924 174.181798 23.5797046 174.04878M59.5692025 178.298464C58.3401898 170.527084 62.7423909 162.622177 69.9918974 159.949371 77.6042685 157.142468 85.9354174 160.87862 89.7150485 168.060714 89.9961643 168.595104 91.2782859 168.088449 90.9451734 167.455416 87.7547455 161.392995 81.4431258 157.70259 74.7363869 158.018821 68.5504491 158.310748 62.8055099 162.060339 59.9284524 167.699308 58.2083907 171.070909 57.6330905 174.918572 58.2261864 178.668448 58.3257309 179.297479 59.6723617 178.951226 59.5692025 178.298464M44.4531666 166.327112C43.8926845 162.632088 45.9068996 158.842469 49.5206959 157.465746 53.4739667 155.959605 57.7180958 157.890471 59.7068852 161.406446 59.9955084 161.916993 61.2841142 161.42893 60.9429634 160.82598 58.6560511 156.782732 53.6969301 154.991156 49.2667187 156.569958 45.0197956 158.083229 42.4397897 162.304428 43.1036509 166.681917 43.1950156 167.284319 44.5481636 166.955013 44.4531666 166.327112","fill","#6A79A8"],["d","M77.9285486 188.068809C73.9919198 186.919668 71.207442 183.128799 71.3283651 178.825446 71.4592975 174.176391 74.887887 170.383265 79.3236279 169.991281 80.0524128 169.926938 80.3345668 168.925673 79.4423869 169.004408 74.6849958 169.424894 70.5725281 173.121224 70.0536678 178.19387 69.5496863 183.120051 72.6468869 187.658764 77.172441 188.979486 77.7278216 189.141472 78.7146841 188.29796 77.9285486 188.068809M128.293125 187.339304C121.222203 183.381206 117.638627 174.685718 120.036613 166.68096 122.398144 158.798357 130.037602 153.590392 137.966824 154.925768 138.347456 154.989899 139.482117 154.358302 138.770173 154.238369 132.581676 153.196165 126.1522 155.618997 122.086668 160.576267 117.774261 165.834759 116.754327 173.44057 119.603979 179.694625 121.223812 183.249612 123.927912 186.096377 127.255231 187.958963 127.599141 188.151357 128.794381 187.62026 128.293125 187.339304","fill","#6A79A8"],["d","M92.3286041,160.949836 C93.2876306,153.156727 96.9961421,145.338218 102.380194,139.662345 C111.782513,129.750895 127.812586,126.844077 140.214067,132.457557 C147.998992,135.981407 153.929249,142.655575 156.842154,150.662368 C156.913805,150.859764 157.247536,150.851481 157.409302,150.824978 C165.104388,149.565789 172.910809,152.925926 177.524333,159.183494 C182.09459,165.381981 182.920511,173.802062 179.689859,180.790406 C177.7572,184.970768 174.46096,188.375905 170.422852,190.55167 C169.637993,190.974344 170.82658,191.117629 171.235268,190.897595 C178.593592,186.933125 183.289791,179.152715 182.986099,170.730702 C182.703627,162.896457 178.033609,155.706576 171.06551,152.172511 C166.915515,150.067698 162.185144,149.392965 157.605793,150.142239 C157.794842,150.196626 157.983892,150.250737 158.172941,150.305124 C155.519083,143.010058 150.416952,136.825651 143.632941,133.029037 C136.764878,129.185489 128.814052,128.310048 121.113179,129.485585 C114.839272,130.443573 108.832128,132.920538 103.947982,137.018629 C99.9682977,140.35806 96.8575242,144.622902 94.6192445,149.299099 C92.8461477,153.003504 91.505164,157.041962 91.0019507,161.132323 C90.9421493,161.617115 92.2767946,161.370302 92.3286041,160.949836","fill","#6A79A8"],["d","M141.526697 187.352198C136.77279 184.752771 134.27533 179.198844 135.728486 173.931204 137.205854 168.575749 142.406697 164.963847 147.951652 165.827061 148.337655 165.887146 149.489136 165.266448 148.76691 165.15389 143.158574 164.280889 137.397903 167.179111 135.036183 172.401618 132.409511 178.210295 134.977426 184.953688 140.473688 187.95903 140.821608 188.149344 142.035111 187.630329 141.526697 187.352198M111.619478 186.346032C104.732338 182.63785 100.298242 175.389727 100.301262 167.532966 100.304282 160.200998 104.266935 153.18242 110.57994 149.451696 114.611785 147.068827 119.328143 146.210026 123.941536 146.970136 124.331706 147.034464 125.493978 146.409607 124.764434 146.289474 116.960492 145.003747 108.846006 148.064805 103.83805 154.202864 98.6019234 160.620502 97.4929189 169.746495 101.114825 177.213991 103.143103 181.395558 106.479177 184.764233 110.556327 186.959618 110.909155 187.149577 112.13348 186.62286 111.619478 186.346032M157.169803 187.35331C153.5562 185.463696 151.618204 181.521827 152.673227 177.709528 153.746087 173.832443 157.634451 171.183297 161.891367 171.780188 162.299336 171.837384 163.517201 171.216096 162.753626 171.109024 158.421042 170.501561 153.927343 172.463551 151.951945 176.221365 149.671865 180.55818 151.663087 185.660762 156.055801 187.958334 156.422628 188.149979 157.706953 187.634136 157.169803 187.35331","fill","#6A79A8"],["d","M76.8992641,40.9600308 L10.5733615,49.9562054 C7.97914126,50.3080264 5.58940243,48.5016293 5.23540776,45.9213354 L1.04408894,15.3489942 C0.690094272,12.7687003 2.50651566,10.3915168 5.10073588,10.0396958 L71.4266385,1.04379458 C74.0208587,0.6919736 76.4108724,2.49837068 76.7645922,5.07866458 L80.9559111,35.6510058 C81.3099057,38.2312997 79.4934843,40.6082099 76.8992641,40.9600308","fill","#FFA2AF"],["d","M72.9094956,40.5513581 L11.8849513,48.9556514 C9.2973371,49.3119673 6.91340949,47.4822145 6.5605904,44.8689544 L3.04391338,18.8255014 C2.69109429,16.2122413 4.50289024,13.8049633 7.09050439,13.4486474 L68.1150487,5.04435411 C70.7026629,4.68803821 73.0865905,6.51751409 73.4394096,9.13077422 L76.9560866,35.1745041 C77.3089057,37.7877642 75.4971098,40.1950422 72.9094956,40.5513581","fill","#FF90A1"],["d","M76.3267289,40.0075872 C71.5140976,40.6636215 66.7011924,41.3196558 61.8882871,41.9756901 C52.3011004,43.2825564 42.7139136,44.5894227 33.1270008,45.8960152 C26.0268014,46.8639121 18.9266019,47.8315353 11.8266764,48.7994323 C11.3136103,48.8692523 10.7989006,48.95906 10.2833692,49.0097138 C7.80596933,49.2531255 5.88409436,47.6045519 5.49018669,45.1945294 C5.01355293,42.2771482 4.68977068,39.3263629 4.29011054,36.3977558 C3.63871107,31.6234362 2.9873116,26.8491165 2.33618605,22.0747969 C2.08937742,20.2671431 1.84284272,18.4594894 1.59630802,16.6518357 C1.48016278,15.8019482 1.27663469,14.9063354 1.28786571,14.0433053 C1.31662809,11.878885 2.87089243,10.2664535 4.94671463,9.94172202 C5.66550025,9.82918859 6.38976442,9.74513077 7.11074147,9.64683515 C10.1464054,9.23311737 13.1820694,8.81912578 16.2177334,8.405408 C25.6208409,7.12373167 35.0239484,5.84205533 44.4270559,4.560379 C52.20413,3.50021007 59.9814781,2.44031494 67.7585523,1.38014601 C69.8204042,1.09922315 72.1578271,0.425665406 73.9323291,1.90201636 C75.178699,2.93891195 75.4194812,4.35420462 75.6216397,5.83548404 C75.8361249,7.40848778 76.050884,8.98176534 76.2653692,10.5547691 C77.3725839,18.6692232 78.5781386,26.7765585 79.5872873,34.9036076 C79.890799,37.3475817 78.7397558,39.5834649 76.1467586,40.0390747 C75.3096363,40.1861074 75.5646628,41.0655657 76.3834319,40.9218186 C79.2848714,40.4119956 81.2787893,37.9250343 80.9681556,34.97288 C80.8769378,34.1073857 80.7323041,33.243808 80.6145153,32.3815993 C79.9998221,27.8761552 79.3851289,23.3704372 78.7704357,18.8647193 C78.1894356,14.6062463 77.6084355,10.3477733 77.0277093,6.08930031 C76.8830756,5.02940518 76.8192505,3.9035233 76.3549435,2.92576936 C75.3441512,0.797217379 73.0760319,-0.211202604 70.8007905,0.0368637836 C65.0595452,0.663053439 59.3350094,1.59973678 53.6132128,2.37980426 C43.5724022,3.74827645 33.5315916,5.11702245 23.4907811,6.48549464 C17.3383706,7.32415617 11.1741812,8.10230702 5.0302625,9.00175302 C3.40121597,9.24023627 1.91461171,9.91187739 0.928198973,11.2847304 C-0.0584876934,12.6578573 -0.112725328,14.1766479 0.10422521,15.7679965 C0.625509143,19.5878355 1.14651915,23.4079484 1.66780308,27.2277874 C2.31838077,31.9955357 2.96868453,36.7635579 3.61926222,41.5313062 C4.05645042,44.7372768 4.03207088,48.6428165 7.8196657,49.7821147 C9.56951424,50.3086398 11.6940955,49.7459726 13.4617493,49.5050251 C16.9641857,49.0277848 20.4663481,48.5502707 23.9687844,48.0730304 C33.9175554,46.7168794 43.8663264,45.3607284 53.8148234,44.0048512 C60.91064,43.0375018 68.0061827,42.0704262 75.1017254,41.1033506 C75.4690621,41.0532445 75.8361249,41.0031384 76.2031877,40.9530323 C76.9236168,40.8550105 77.2276763,39.884923 76.3267289,40.0075872","fill","#6A79A8"],["d","M15.9973579,124.411921 C14.7915941,115.358268 13.585558,106.304888 12.3795219,97.251235 C10.4652221,82.8790223 8.55092233,68.5070834 6.63662253,54.1348706 C6.19712326,50.8345929 5.75735168,47.5340413 5.31785241,44.2337635 C5.2549501,43.7622561 3.93345694,44.0672847 4.00262225,44.5880786 C5.20865835,53.641732 6.41469446,62.6953854 7.62045826,71.7490388 C9.53475806,86.1209777 11.4490579,100.49319 13.3633577,114.865129 C13.8031292,118.165681 14.2426285,121.465959 14.6824001,124.766236 C14.7450301,125.237744 16.0667956,124.932715 15.9973579,124.411921","fill","#6A79A8"],["fill","#F2F2F2","x","39","y","118","width","101","height","8","rx","2"],["fill","#D8D8D8","d","M47 121.5H72V122.5H47z"],["fill","#BDDFF5","x","41","y","120.5","width","3","height","3","rx","1"],["fill","#BDDFF5","x","41","y","131.5","width","3","height","3","rx","1"],["d","M20.04,31.09 L15.648,18.4 L18.042,18.4 L21.048,27.742 L24.144,18.364 L26.016,18.364 L29.112,27.742 L32.118,18.4 L34.44,18.4 L30.048,31.09 L28.14,31.09 L25.044,22.036 L21.948,31.09 L20.04,31.09 Z M44.43,31 L42.27,31 L42.27,29.83 C41.622,30.604 40.632,31.198 39.192,31.198 C37.392,31.198 35.808,30.172 35.808,28.228 C35.808,26.122 37.446,25.114 39.66,25.114 C40.812,25.114 41.55,25.276 42.288,25.51 L42.288,25.33 C42.288,24.016 41.46,23.296 39.948,23.296 C38.886,23.296 38.094,23.53 37.23,23.89 L36.636,22.144 C37.68,21.676 38.706,21.352 40.254,21.352 C43.062,21.352 44.43,22.828 44.43,25.366 L44.43,31 Z M42.324,27.562 L42.324,27.022 C41.766,26.806 40.992,26.644 40.146,26.644 C38.778,26.644 37.968,27.202 37.968,28.156 C37.968,29.056 38.778,29.56 39.804,29.56 C41.244,29.56 42.324,28.75 42.324,27.562 Z M47.058,20.038 L47.058,17.968 L49.398,17.968 L49.398,20.038 L47.058,20.038 Z M47.148,31 L47.148,21.496 L49.326,21.496 L49.326,31 L47.148,31 Z M55.356,31.162 C53.754,31.162 52.62,30.46 52.62,28.372 L52.62,23.368 L51.414,23.368 L51.414,21.496 L52.62,21.496 L52.62,18.886 L54.798,18.886 L54.798,21.496 L57.354,21.496 L57.354,23.368 L54.798,23.368 L54.798,28.03 C54.798,28.876 55.23,29.218 55.968,29.218 C56.454,29.218 56.886,29.11 57.318,28.894 L57.318,30.676 C56.778,30.982 56.166,31.162 55.356,31.162 Z M68.874,31 L68.874,28.588 L71.214,28.588 L71.214,31 L68.874,31 Z M64.14,31 L64.14,28.588 L66.48,28.588 L66.48,31 L64.14,31 Z M59.406,31 L59.406,28.588 L61.746,28.588 L61.746,31 L59.406,31 Z","fill","#FFF","transform","rotate(-7 43.431 24.583)"],[1,"cu-conflict-management__warning"],[4,"ngIf","ngIfElse"],["dependencyWarningTmpl",""],["class","cu-conflict-management__proceed",4,"ngIf","ngIfElse"],["unresolvedContainer",""],e,t,[1,"cu-conflict-management__proceed"],[1,"cu-conflict-management__proceed-text"],[1,"cu-unresolved__item"],[1,"cu-unresolved__item-title"],i,["class","cu-unresolved__task",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-unresolved__task",4,"ngFor","ngForOf"],[1,"cu-unresolved__btn-container"],["class","cu-unresolved__btn-container-multi",4,"ngIf"],[4,"ngIf"],[1,"cu-unresolved__task"],[1,"cu-unresolved__task-status",3,"ngStyle"],[1,"cu-unresolved__task-name",3,"cuLink","click"],[1,"cu-unresolved__task-name"],a,[1,"cu-unresolved__btn-container-multi"],[1,"cu-btn","cu-btn_with-description","resolve","resolve_green",3,"click"],["class","cu-btn__text",4,"ngIf"],[1,"cu-btn","cu-btn_with-description","resolve",3,"click"],[1,"cu-btn__text"],o,c,n,s,r,[1,"cu-unresolved__amount"],["class","cu-unresolved__item",4,"ngIf"],l,["class","cu-unresolved__all",3,"click",4,"ngIf"],[1,"cu-unresolved__all",3,"click"],d,u,["class","cu-unresolved__comment",4,"ngFor","ngForOf"],[1,"cu-unresolved__comment"],p,m,["class","cu-unresolved__comment",4,"ngFor","ngForOf","ngForTrackBy"],h,b,[1,"cu-btn__text-description"],g,f,_,["class","cu-unresolved__settings",3,"cuLink","click",4,"ngIf"],[1,"cu-unresolved__settings",3,"cuLink","click"],v,y,[1,"cu-unresolved__multi-row"],w,k,["class","cu-unresolved__multi-row unresolved-task",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-unresolved__multi-row","unresolved-task"],[1,"cu-unresolved__task","multi-tasks"],[1,"cu-unresolved__multi-items"],["class","cu-unresolved__multi-item",4,"ngIf"],[1,"cu-unresolved__multi-item"],[1,"cu-dt-filter__subtask-icon",3,"icon"],[1,"cu-dt-filter__subtask-icon","assign-comments",3,"icon"],x,[1,"cu-btn","cu-btn_with-description","cu-btn_purple",3,"click"],[1,"cu-btn__text-description","cu-btn__text-description_white"],T,S,j,O,I]},template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.tc(),X.cc(2,"svg",2),X.cc(3,"g",3),X.Xb(4,"path",4),X.Xb(5,"path",5),X.Xb(6,"path",6),X.Xb(7,"path",7),X.Xb(8,"path",8),X.Xb(9,"path",9),X.Xb(10,"path",10),X.Xb(11,"path",11),X.Xb(12,"path",12),X.Xb(13,"path",13),X.Xb(14,"path",14),X.Xb(15,"path",15),X.Xb(16,"path",16),X.Xb(17,"rect",17),X.Xb(18,"path",18),X.Xb(19,"path",19),X.Xb(20,"path",20),X.Xb(21,"path",21),X.Xb(22,"path",22),X.Xb(23,"path",23),X.Xb(24,"path",24),X.Xb(25,"path",25),X.Xb(26,"path",26),X.Xb(27,"path",27),X.Xb(28,"path",28),X.Xb(29,"path",29),X.Xb(30,"path",30),X.Xb(31,"path",31),X.Xb(32,"path",32),X.Xb(33,"rect",33),X.Xb(34,"path",34),X.Xb(35,"rect",35),X.Xb(36,"rect",36),X.Xb(37,"path",37),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(38,"div",38),X.bd(39,Je,2,0,"ng-container",39),X.bd(40,et,2,0,"ng-template",null,40,X.cd),X.bc(),X.bd(42,lt,18,15,"div",41),X.bd(43,At,5,6,"ng-template",null,42,X.cd),X.bc()),2&e){const e=X.Rc(41),i=X.Rc(44);X.Ib(39),X.Dc("ngIf",t.unresolvedConflict)("ngIfElse",e),X.Ib(3),X.Dc("ngIf",!t.unresolvedConflict)("ngIfElse",i)}},directives:[n.q,n.p,n.t,Ye.a,Ze.a,Qe.a],pipes:[n.b,Ke.a,n.h],encapsulation:2,changeDetection:0}),e})();var Ut=i("EPTN"),Nt=i("itXk"),Rt=i("xgIS"),Gt=i("mb2A"),qt=i("zp1y"),Bt=i("PZkE"),Wt=i("zP0r"),Vt=i("eIep"),Xt=i("CqXF"),Ht=i("Kj3r"),Yt=i("SxV6"),Zt=i("o0pk"),Qt=i("hr9B"),Kt=i("S61B"),Jt=i("hxFJ"),ei=i("oy6Y"),ti=i("rLOZ");const ii=function(e){return[e,"settings","profile#timeSettings"]};let ai=(()=>{class e{constructor(e,t,i,a,o,c,n,s){this.store=e,this.modalService=t,this.sharedData=i,this.router=a,this.preloader=o,this.userService=c,this.timezonesService=n,this.localStorage=s}ngOnInit(){this.modalService.closeModal.pipe(Object(Yt.a)()).subscribe(()=>{this.localStorage.set(we.b,this.timezone),this.store.dispatch(new ze.c)})}goToSettings(e){e.preventDefault(),e.stopPropagation();const t=this.sharedData.compatCurrentTeam?this.sharedData.compatCurrentTeam.id:"";this.preloader.show(),this.router.navigate(["/",t,"settings","profile"],{fragment:"timeSettings"}),this.modalService.close()}neverAgain(){this.userService.updateUser({block_tz_change_modal:!0}).subscribe(),this.sharedData.setCurrentUser(Object.assign({},this.sharedData.currentUser.value,{block_tz_change_modal:!0})),this.doNothing()}doNothing(){this.modalService.close()}updateTimezone(){this.userService.updateUser({timezone:this.timezone}).subscribe(),this.timezonesService.setDefaultTimezone(this.timezone),this.sharedData.setCurrentUser(Object.assign({},this.sharedData.currentUser.value,{timezone:this.timezone})),this.timezonesService.onTimezoneChange.emit(),this.doNothing()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(_e.a),X.Wb(fe.a),X.Wb(d.h),X.Wb(He.a),X.Wb(we.c),X.Wb(ei.a),X.Wb(ti.b))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-timezone-alert"]],inputs:{timezone:"timezone"},decls:14,vars:6,consts:function(){let e,t,i,a,o;return e=$localize`:@@cu-timezone-alert__question_change-timezone␟ff80fc61d5102642ba3d32d31c9b99f9285fd4cf␟4796616597589244104: Change timezone to ${"\ufffd0\ufffd"}:INTERPOLATION:? `,t=$localize`:@@cu-timezone-alert__btn-txt_change-timezone-yes␟1daeb109758e38ba028ff7d9e9b5f8d427141d33␟483144323764521567: Yes, update my settings `,i=$localize`:@@cu-timezone-alert__btn-txt_change-timezone-no␟5c8b70253385fe0337c3458083b194670e0cc0c3␟7959056482608062982: Don't update settings `,a=$localize`:@@cu-timezone-alert__btn-txt_dont-show-again␟065d35c59f92e4e6a7acd7e3c223b31dba9b724b␟3257639052908865481: Don't show me this again `,o=$localize`:@@cu-timezone-alert__link-txt_view-my-settings␟fb894fa638c1ff272b21099f14fed509d3a11009␟8779559825564579771:View my settings`,[[1,"cu-conflict-management"],[1,"cu-conflict-management__title"],e,[1,"cu-conflict-management__timezone"],[1,"cu-btn",3,"click"],t,[1,"cu-conflict-management__timezone-options"],[1,"cu-conflict-management__timezone-options-item",3,"click"],i,a,[1,"cu-conflict-management__timezone-options-item",3,"cuLink","click"],o]},template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.gc(2,2),X.bc(),X.cc(3,"div",3),X.cc(4,"button",4),X.qc("click",function(){return t.updateTimezone()}),X.gc(5,5),X.bc(),X.bc(),X.cc(6,"div",6),X.cc(7,"div",7),X.qc("click",function(){return t.doNothing()}),X.gc(8,8),X.bc(),X.cc(9,"div",7),X.qc("click",function(){return t.neverAgain()}),X.gc(10,9),X.bc(),X.cc(11,"a",10),X.qc("click",function(e){return t.goToSettings(e)}),X.gc(12,11),X.vc(13,"async"),X.bc(),X.bc(),X.bc()),2&e){let e=null;X.Ib(2),X.kc(t.timezone),X.hc(2),X.Ib(9),X.Dc("cuLink",X.Hc(4,ii,null==(e=X.wc(13,2,t.sharedData.compatCurrentTeam$))?null:e.id))}},directives:[Ye.a],pipes:[n.b],encapsulation:2,changeDetection:0}),e})();const oi=function(){return{"margin-top":"-1px"}},ci=function(e){return[e,"settings","profile#globalFontSupport"]};let ni=(()=>{class e{constructor(e,t,i,a,o){this.modalService=e,this.userService=t,this.sharedData=i,this.preloader=a,this.router=o,e.closeModal.pipe(Object(Yt.a)()).subscribe(()=>{this.user.tour_cards_data=this.user.tour_cards_data||{},this.user.tour_cards_data.seen_global_font=!0,this.userService.updateUser({tour_cards_data:this.user.tour_cards_data}).subscribe()})}enableGlobalFont(){this.user.global_font_support=!0,this.userService.updateUser({global_font_support:!0}).subscribe(),this.userService.setGlobalFontSupport(this.user),this.modalService.close()}cancel(){this.modalService.close()}goToSettings(e){e.preventDefault(),e.stopPropagation();const t=this.sharedData.compatCurrentTeam?this.sharedData.compatCurrentTeam.id:"";this.preloader.show(),this.router.navigate(["/",t,"settings","profile"],{fragment:"globalFontSupport"}),this.modalService.close()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(_e.a),X.Wb(we.c),X.Wb(fe.a),X.Wb(He.a),X.Wb(d.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-global-font-modal"]],inputs:{user:"user"},decls:108,vars:13,consts:function(){let e,t,i,a;return e=$localize`:@@cu-global-font-modal__title␟b5d74cf403556f13ce26f3f0653c89fa02a2622f␟6212288833340046209: ClickUp's font is not optimized for international characters. `,t=$localize`:@@cu-global-font-modal__description␟df723fbf5da045ebc9b3040000309ade76d7100d␟6888483072624705430: If you're using ClickUp for your local language, we highly suggest enabling global fonts in ClickUp. `,i=$localize`:@@cu-global-font-modal__btn-txt_global-font-enable␟67e6aae63c1230814bdbb21b129851d2d854af44␟5251187034934013807: Enable global font for my language `,a=$localize`:@@cu-global-font-modal__options␟90d25f3c9f830f46276b2bd21494298f0a48974b␟8682711859311105790: Note: this can be changed at anytime from your ${"\ufffd#106\ufffd"}:START_LINK:user settings${"\ufffd/#106\ufffd"}:CLOSE_LINK:`,[[1,"cu-global-font-modal"],[1,"cu-global-font-modal__illustration"],["width","231","height","216","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["d","M34.01 52.9h76.96c.38-7.48-3.29-14.97-9.83-18.45a19.72 19.72 0 0 0-20.92 1.82C74.97 31.7 69.52 27 62.9 24.93c-6.62-2.07-14.77-.79-18.86 4.88-2.82 3.91-3.2 9.27-1.82 13.9-6-.04-12 .1-17.98.44-3.41.19-8.07 1.2-8.24 4.65-.25 5.2 18.01 4.1 18.01 4.1m163.6 8.73a6.8 6.8 0 0 0-4.6-.51c-.95.2-1.86.53-2.79.8-1.76.53-1.9.98-2.63-.5-.78-1.63.18-3.29-1.35-4.98a5.96 5.96 0 0 0-4.4-1.93 6.02 6.02 0 0 0-1.74.26c-1.16-2.64-2.5-5.17-4.71-7.23-4.4-4.1-11.1-5.8-16.84-3.51a17.86 17.86 0 0 0-6.63 4.76 20.97 20.97 0 0 0-2.48 3.46c-.65 1.11-.93 2.56-1.7 3.57-1.7-.62-3.26-1.44-5.03-1.9-3.45-.93-7.22-1.11-10.24 1.07-2.49 1.79-4.06 5.03-3.26 8.02.46 1.7 1.29 2.95 3.06 2.97 2.51.04 5.02 0 7.53 0H202s-1.8-3.02-4.39-4.35m33.17 30.04c.82-4.39-.73-9.22-3.9-12.35-3.98-3.9-10.03-5.53-15.2-3.34a16.2 16.2 0 0 0-6 4.54 20.02 20.02 0 0 0-2.24 3.3c-.58 1.06-.83 2.44-1.53 3.4-1.53-.59-2.94-1.36-4.53-1.81-3.12-.89-6.52-1.06-9.25 1.02-2.28 1.73-3.7 4.88-2.9 7.77.27 1.02 1 2.69 2.13 2.79.32.03.66 0 .99 0H227.68c.66 0 .75-.13 1.14-.68a11.51 11.51 0 0 0 1.96-4.64m-230.56 6c-.82-4.39.73-9.22 3.9-12.35 3.98-3.9 10.03-5.53 15.2-3.34a16.2 16.2 0 0 1 6 4.54 20.01 20.01 0 0 1 2.24 3.3c.58 1.06.83 2.44 1.53 3.4 1.53-.59 2.94-1.36 4.53-1.81 3.12-.89 6.52-1.06 9.25 1.02 2.28 1.73 3.7 4.88 2.9 7.77-.27 1.02-1 2.69-2.12 2.79-.33.03-.67 0-1 0H3.32c-.66 0-.75-.13-1.14-.68a11.51 11.51 0 0 1-1.96-4.64","fill","#F9F9F9"],["d","M121.2 215c-18.82-.32-35-6.73-48.2-19.86-13.37-13.28-19.8-29.53-20-48.27.5-18.3 6.95-34.18 20.06-47.15 13.4-13.24 29.73-19.87 48.6-19.72 18.5.15 34.48 6.84 47.54 19.87 13.18 13.16 19.84 29.2 19.8 47.74-.04 18.5-6.76 34.48-19.96 47.58-13.21 13.1-29.36 19.48-47.84 19.81","fill","#E5E5E5"],["d","M137.79 168.62c-.24-.9-1.16-1.65-1.74-2.47-.5-.68-.77-1.5-1.12-2.26-.6-1.33-1.4-2.56-2.25-3.73-.73-1-1.61-1.85-1.66-3.16-.01-.26.14-.54.39-.58.16-.03.32.04.46.13 1.03.63 1.37 1.96 2.16 2.87.46.52 1.06.9 1.52 1.41.65.73.79 1.59 1.2 2.42.34.66.85 1 1.4 1.5.66.58 1 1.42 1.71 2 .33.26.6.58.84.91.26.33.3.74.37 1.14.15 1 .65 1.86 1.12 2.72.23.43.62.54 1.14.42.37-.08.73-.21 1-.48.43-.41.94-.67 1.46-.93 1.92-.97 3.5-2.4 5-3.92 1.32-1.33 2.88-2.48 3.96-4.02a15.13 15.13 0 0 0 2.25-5.4c.06-.27.12-.56.05-.84-.16-.62-.86-.92-1.49-1.02-.63-.1-1.3-.1-1.82-.47-.48-.35-.73-1-.55-1.56 2.67.43 5.23-.5 7.45-2 1.34-.93 1.67.59 2.92.89.36.08.85.75 1.27.94.7.32 1.47.5 2.24.53.3.02.62.02.86.2.17.13.27.34.36.54.8 1.77 1.81 3.44 2.87 5.08.7 1.1 1.14 3.03 2.4 3.68.8.42 1.23-.14 1.4-.84.06-.26.29-.54.54-.45.13.06.2.2.24.34.12.48-.03 1.06.29 1.45.17.21.47.32.74.25.5-.12.7-.73.7-1.2 0-1.65-1.52-3.41-1.93-5.05-.44-1.79-.5-3.65-.33-5.48a29.5 29.5 0 0 1 3.19-10.4c.03-.06.06-.12.12-.15.09-.04.19.02.26.07.75.47 1.53.98 1.98 1.75.33.56.45 1.22.67 1.83.05.13.13.27.26.28.15.01.24-.15.3-.28.07-.19.66-1.85.64-1.9.9 1.76 1.18 3.81 1.69 5.7.47 1.81 1.46 3.31 1.68 5.22-.7-.4-1.72.24-1.67 1.04.02.3.15.57.23.85.09.32.1.65.16.98.15.87.53 1.68.77 2.53 1.2 4.2-.88 8.57-2.36 12.42a70.17 70.17 0 0 1-16.6 25.13 65.18 65.18 0 0 1-5.34 4.63 66.99 66.99 0 0 1-7.38 5 63.4 63.4 0 0 1-7.04 3.56 69.75 69.75 0 0 1-5.16 2 65.62 65.62 0 0 1-7.17 1.99 68.87 68.87 0 0 1-5.33.94 70.4 70.4 0 0 1-4.05.42c-.94.08-1.89.1-2.83.16-1 .06-2.01.05-3.02.04a68.33 68.33 0 0 1-5.13-.26 73.64 73.64 0 0 1-3.98-.46 63.31 63.31 0 0 1-4.9-.91 67.48 67.48 0 0 1-7.12-2.02 67.18 67.18 0 0 1-15.75-7.9 65.6 65.6 0 0 1-5.98-4.56 66.49 66.49 0 0 1-4.56-4.24 62.28 62.28 0 0 1-6.77-7.96 26.39 26.39 0 0 1-2.53-4.53c-.5-1.17-1.53-3.21-1.1-4.5.15-.44.43-.82.64-1.24 1.3-2.7-1.41-6.31-2.7-8.55-1.64-2.84-3.35-5.71-4.05-8.96a43.45 43.45 0 0 1-.83-4.72c-.06-.59.03-1.2-.16-1.77-.38-1.1-.49-2.27-.78-3.39-.1-.35-.24-.69-.36-1.04-.14-.43-.1-.9-.11-1.34-.03-1.51-.08-3.02.03-4.53.04-.51.03-1.03 0-1.54-.07-1.57.2-3.1.46-4.63.33-1.96.74-3.9 1.26-5.83.2-.77.39-1.54.66-2.29.17-.44.4-.85.5-1.33.43-2.03 1.3-3.91 2.08-5.82a53.42 53.42 0 0 1 1.88-4.04 62.43 62.43 0 0 1 3.02-5.33l.98-1.53c.11-.17.23-.26.47-.21.75.17 1.24-.33 1.74-.76.53-.46 1.03-.95 1.7-1.2.28-.1.53-.36.77-.51.16.34.27.73.4 1.1 0 .04.02.07.04.09.11.11.93-1.12 1.07-1.22.26-.18.65-.24.9-.03.32.26.39.88.8.88a4.51 4.51 0 0 0-1.1.86c-.06.07-.13.15-.1.24 0 .1.1.15.18.19l.86.47c.3.16.6.33.94.33.45 0 .87-.35.96-.8a1.76 1.76 0 0 1-.77-.2c.47-.64.44-1.57 1-2.12.94-.95 2.13-.9 1.27-2.6-.1-.2.75-.06.85.03.65.54-.12 1.79-.34 2.37.3-.22.56-.51.74-.85.23.68.75 1.25 1.4 1.55a28.21 28.21 0 0 0-2.94 1.81c-.57.75-.42 1.82-.24 2.75.02.14.05.28.15.38.3.27.72-.12.92-.47.53-.95 1.06-1.9 1.71-2.76 1.26-1.68 2.78-3.18 4.11-4.8 1.48-1.8 3.1-3.4 4.78-5l-1.67-.17c.67-.88 1.66-1.46 2.55-2.14.88-.67 1.71-1.56 1.84-2.67.03-.27-4.1 1.5-4.38 1.6a34.67 34.67 0 0 1-5.41 1.71c3.66-1.78 5.78-5.95 9.53-7.53a4.1 4.1 0 0 1 2.14-.38c.72.1 1.43.55 1.7 1.24-.83.1-1.52.84-1.59 1.67a8.29 8.29 0 0 1 5.2-.81c-.54-.1-1.04.3-1.41.7-.42.47-.83 1.08-1.51 1.14-.44.03-.91-.27-.97-.7a15.94 15.94 0 0 0-4.26 4.98c.2-.34.61.14.75.13.37-.01.57-.1 1-.35.79-.47 1.53-1 2.3-1.48-.2.36-.6.77-.9 1.13 1 .13 1.93-.46 2.77-1.03l4.22-2.9c1.25-.84 2.5-1.7 3.57-2.76.32-.3.62-.84.29-1.14-.12-.11-.3-.14-.45-.16a5.32 5.32 0 0 0-2.88.5c-.64.3-1.38.75-2 .4a8.03 8.03 0 0 1 6.73-1.15l-.65 1.16c-.08.15-.17.34-.07.49.08.1.23.13.36.14l3.22.33c.67.07 1.85.26 1.93 1.12-1.23-.42-2.67-.82-3.74-.1-.65.45-1 1.2-1.48 1.81-1.3 1.65-3.48 2.22-5.33 3.18-.53.27-1.12.8-.89 1.35-1.12-.29-2.28.23-3.27.84a15.99 15.99 0 0 0-3.72 3.22c-.92 1.07-1.73 2.46-1.38 3.83a18.91 18.91 0 0 1 10.6-2.37c1.15.09 2.3.28 3.43.04a8.42 8.42 0 0 0 2.95-1.44 44.02 44.02 0 0 0 4.06-3.12c.76-.66 1.51-1.36 2.37-1.91.94-.6 2.08-.38 1.73-1.78-.08-.35.01-.72.03-1.09.08-1.17-1.87-2.44-2.94-2.37.64-.04 1.15-.64 1.2-1.28.06-.63-.29-1.26-.79-1.65-.5-.4-1.13-.59-1.76-.66-.66-.07-2-.05-2.07-1 0-.13.02-.28-.02-.41-.14-.4-.75-.3-1.07-.02-.32.27-.64.66-1.06.6-.35-.05-.57-.41-.86-.62-.61-.42-1.44-.14-2.12.15s-1.52.56-2.12.12a14.14 14.14 0 0 0 3.51-.57c1.03-.3 1.54-.75 2.4-1.29 1.14-.71 2.77-.47 4.02-1.1.1-.04.22-.12.2-.24 0-.09-.08-.15-.16-.2-1.19-.7-1.66-.01-2.72.12a2.9 2.9 0 0 1-1.55-.26c-.26-.13 1.26-.89 1.3-.9.7-.2 1.43-.16 2.14-.26 1.05-.15 2-.61 3.05-.82a21.5 21.5 0 0 1 3.95-.33c2.3-.03 4.65 0 6.94-.39.14-.02.3-.05.4-.16.12-.1.16-.26.24-.4.13-.22.36-.36.6-.47a4.1 4.1 0 0 1 2.63-.32c-.37.05-.5.57-.3.9.18.31.55.47.9.6 1.59.54 3.14 1.23 4.7 1.84 1.05.41 2.92.72 3.26 2.02.21.83 2.82 1.77 1.18 2.75-.33.2-.78.2-1.1-.02-.32-.22-.5-.59-.78-.85-.19-.18-.48-.3-.7-.18-.18.1-.25.32-.25.53-.01.5.33.95.77 1.18.86.45 1.79.1 2.68-.02.97-.13 2.3.36 2.52 1.44.01.03-1.28.41-1.38.46-.3.14-.53.47-.17.73.14.1.32.15.47.25.45.29.45 1.08 0 1.36-.37.23-.84.14-1.25 0-.87-.32-1.47-.24-2.37.02-1.7.49-3.47.64-5.23.78.09.56.65.94 1.21 1 .56.07 1.11-.1 1.65-.26a3.5 3.5 0 0 1 1.66-.2c.24.04.52.3.35.49-.06.07-.18.08-.26.14-.24.17-.07.54.1.78a7.63 7.63 0 0 1 1.42 4.28c0 .09 0 .18-.05.25-.05.05-.12.08-.2.1-.43.1-.92.04-1.28.3-.42.32-.46.95-.32 1.46.23.86.69 2.8 1.8 2.88-.84-.07-1.7.12-2.54.09-1.91-.08-2.54-1.43-2.44-3.18.03-.44.62-3.16-.48-2.6-.53.27-1.04 1.21-1.17 1.77-.23.99-.03 2.05.24 3.02.16.6.5 1.19 1.06 1.45.84.4 1.86-.15 2.66.27.3.16.48.53.26.82-.2.24-.65.2-.92.3-.51.2-.84.64-1.24 1-.74.64-1.57.45-2.47.43-.1 0-.21 0-.3.06-.39.3.59 1.96.64 1.94-.2.1-.42 0-.6-.09-3.02-1.5-6.3-4.57-9.86-2.8l-2.58 1.27c-.55.27-1.8.97-1.3 1.7a8.7 8.7 0 0 1-2.68 2.87c-1.01.69-2.2 1.23-2.87 2.3a4.65 4.65 0 0 0-.6 2.08c-.05.46-.06.93.12 1.35.17.42.56.78 1.02.78.35 0 .67-.2.98-.35.32-.15.7-.27 1.01-.1.32.15.38.7.05.83a2.24 2.24 0 0 0-2.46 1.8c-.12.74.05 1.7-.62 2.03-.4.2-.86.02-1.3.07-1.31.14-1.87 2.18-3.2 2.15.7.02-.44-4.42-.56-4.88-.12-.44-.24-.93-.04-1.34.13-.27.39-.46.54-.72.15-.26.13-.67-.15-.78-.16-.06-.42-.07-.39-.24a.25.25 0 0 1 .08-.11l.66-.68c.19-.2.38-.52.18-.7-.13-.12-.33-.08-.48 0-.14.1-.26.23-.41.3-.35.16-.8 0-1.11.22-.08.06-.18.15-.27.1-.06-.04-.06-.14-.1-.21-.08-.18-.35-.11-.52 0-.4.25-.75.57-1.03.94-.1.13-.2.33-.08.45.1.11.33.09.38.23a.84.84 0 0 0-.5.34c.2.03.33.27.28.46-.05.2-.23.34-.42.41-.19.07-.39.09-.59.11-.58.1-1.14.31-1.69.53-.29.12-.6.26-.73.54-.11.27-.03.59-.15.85-.15.33-.55.47-.78.75-.25.3-.23.83.09 1.06.2.16.48.17.73.17a7.12 7.12 0 0 0 1.27-.12c.55-.1 1.14-.32 1.4-.81.14-.26.16-.56.27-.83.12-.26.38-.51.66-.45-.1.15.06.38.24.39.19.01.35-.14.43-.3.16.25.04.64-.24.75-.24.1-.57.03-.74.23-.17.21-.03.56-.2.78-.13.2-.43.2-.63.33a.5.5 0 0 0-.15.63c.07.13.19.23.2.37.02.2-.2.34-.39.42-.43.2-.9.36-1.3.6-.06.05-.12.1-.14.16-.1.3 1.08.24 1.26.25l1.71.08c.88.05 1.78.1 2.57.46-.33.22-.67.46-1.06.56-.34.09-.6.02-.9-.14-.4-.23-1.03-.31-1.36.11-.08.1-.1.24 0 .32-.53-.05-1.19-.3-1.64.12a.8.8 0 0 0-.17.91c.14.29.45.46.59.75l.08.18c.05.11.14.2.22.3.43.57.43 1.39.32 2.07-.1.58-.34 1.6-1 1.77-.23.06-.47-.01-.7-.09a18.32 18.32 0 0 1-2.91-1.24c-.6-.32-1.83-.35-2.22.36-.12.22-.12.48-.13.73a4.58 4.58 0 0 1-.67 2.13c-.37.6-.86 1.17-.99 1.88-.1.57.02 1.21-.34 1.67-.08.1-.2.22-.15.35.02.06.08.1.14.14.3.2.68.28 1.03.4.35.14.7.35.83.7.1.25.05.54-.03.8-.42 1.3-1.73 1.87-2.8 2.54-1.32.85-1.82 2.2-3 3.19-.95.8-2.16 1.2-3.26 1.78-3.4 1.78-5.22 6.14-5.67 9.82-.14 1.17-.58 1.81-.94 2.88-1.13 3.3 2.17 7.7 3.95 10.24a12.95 12.95 0 0 0 3.18 3.43c1.56 1.05 3.27.84 4.98 1.4a12.05 12.05 0 0 0 5.03.56c.72-.07 1.44-.18 2.15-.1.77.07 1.5.4 1.95 1.02.46.62.62 1.4 1.32 1.83.8.49 1.89.56 2.8.53-.77.03.5.82.55.84.61.4.85.2.88 1 .03.77-.59 1.78-1.04 2.36-.11.14-.23.28-.28.45-.13.45.25.87.59 1.2a20.96 20.96 0 0 1 5.13 8.3c.15.42.28.88.12 1.3-.13.35-.46.6-.72.87-1.94 2-.53 4.18.72 6.1a34.83 34.83 0 0 0 5.08 6.15c2.15 2.07 4.1 2.46 7 2.03 2.26-.34 4.52-.73 6.6-1.77 1.15-.58 2.1-1.48 3.04-2.35.91-.83 2.18-1.5 2.98-2.4.38-.43.6-1.07.37-1.6-.33-.77-.17-1.03.57-1.47 1.67-1 4.67-1.96 5.6-3.8.55-1.08.5-2.26.11-3.38-.32-.94-.79-1.84-.91-2.83-.15-1.2.21-2.4.8-3.45 1.56-2.76 4.27-4.48 6.3-6.85a26.85 26.85 0 0 0 4.73-8.04c.48-1.3.86-2.54.4-3.92-.04-.11-.09-.23-.2-.28-.15-.07-.32.06-.44.18a10.7 10.7 0 0 1-2.77 1.62l-2.47 1.13c-.3.14-.6.28-.93.32-.96.12-1.41-.87-1.88-1.53-.7-.99-1.6-1.83-2.49-2.66-.24-.24-.5-.48-.83-.56-.33-.09-.74.04-.85.36a1.67 1.67 0 0 0-.03-.7","fill","#FFF"],["d","M117.4 143.88c-.01.15-.1.25-.09.45.02.16.13.3.27.36.1.04.2.05.29.1.23.13.23.46.35.7.24.43.88.46 1.19.85.07.09.15.2.27.2.1-.02.15-.13.17-.23.11-.4-.03-.86.22-1.23.13-.18.36-.3.58-.23.23.06.35.3.49.51.22.34.53.61.88.79.07.03.15.06.22.06.2-.02.3-.25.3-.45.04-.6-.28-1.18-.7-1.62-.37-.39-.8-.7-1.22-1.05-.3-.26-.6-.75-.93-.95.22.13.49 0 .7-.12.48-.27.98-.65 1.5-.82 0 .21-.22.3-.32.48-.11.2.04.52.27.5.38-.01.58-.29.56.29-.01.23-.07.46-.07.69 0 .52.34.82.65 1.16-.09.03-.21.07-.29.14-.09.1-.11.25-.02.33.1.1.26.03.4.04.24.03.36.3.45.52.1.25.57 1.44.95 1.33.07-.02.13-.09.17-.16.08-.14.11-.3.2-.44.07-.14.23-.26.39-.22.53.16 1.07.84 1.61.24.16-.16.24-.4.43-.5.18-.12.42-.07.6.02.2.1.35.25.53.36a1.68 1.68 0 0 0 1.5.1c.57-.23 1.28-1.08 1.84-.28.45.64.2 1.71.1 2.41a14.27 14.27 0 0 1-.73 2.77c-.1.26-.2.52-.43.66-.4.24-.94.02-1.36-.03-.73-.1-1.54-.1-2.23.2-.64.28-1.02.5-1.74.48a8.2 8.2 0 0 1-2.04-.33c-.97-.27-1.94-.53-2.86-.94-.87-.38-1.64-.97-2.64-.75-.69.15-1.3.7-1.43 1.4-.06.26-.04.55-.1.81-.17.62-.7.6-1.18.38l-1.9-.88c-.22-.1-.44-.2-.62-.37-.31-.3-.43-.73-.74-1.03-.34-.32-.82-.49-1.26-.61a9.4 9.4 0 0 1-2.18-.98c-.27-.16-.78-.47-.75-.86.03-.44.52-.52.76-.8.33-.4.03-.82-.09-1.24-.08-.25-.12-.45-.03-.7.08-.26.38-.43.35-.73-.03-.24-.28-.38-.5-.46-1.23-.47-2.59-.43-3.9-.5-2.18-.13-4.43-.58-6.5.09-.4.12-.78.29-1.19.29-.32 0-.64-.1-.94-.2a85.47 85.47 0 0 1-.91-.32c-.35-.12-.76-.36-.7-.72.06-.27.36-.4.63-.43.56-.06 1.12.14 1.68.17a2.85 2.85 0 0 0 2.49-1.28c.4-.63.57-1.42 1.1-1.94.44-.42 1.05-.6 1.61-.82.56-.22 1.15-.56 1.36-1.14.1-.26.1-.57.28-.78.27-.35.8-.31 1.21-.15.41.17.8.43 1.24.43.86 0 1.57-1 2.41-.78.5.12.82.74.64 1.23-.04.1-.1.22-.09.34.02.11.11.2.2.28 1.4 1.26 2.98 2.38 4.05 3.93.22.31.41.73.21 1.05-.47.77-1.74.45-2.46.34-.38-.07-1.02-.14-.94.45.08.56 2.34 2.36 2.7 1.68.1-.16.09-.37.14-.55.1-.35.41-.6.73-.78.44-.27.87-.53 1.11-1.01.18-.37.21-.83 0-1.18-.06-.08-.13-.17-.14-.27-.03-.3.3-.17.44-.09.23.13.4.32.6.5.47.48.67-.6.46-.95-.21-.32-.57-.52-.89-.75a3.66 3.66 0 0 1-.83-.86c-.1-.13-.2-.28-.34-.37-.13-.07-.28-.09-.42-.13-.42-.13-.72-.5-.92-.9-.2-.39-.34-.82-.57-1.2-.16-.26-.38-.5-.51-.8-.1-.22-.1-1.08.28-1.08.14 0 .26.11.33.24.07.12.1.27.15.4.18.5.55.76.88 1.14.35.41.6.92 1.02 1.28.43.36 1 .51 1.48.8.98.55.83 1.3.93 2.28.07.64.39 1.22.7 1.78.13.23.4.56.45.8a.5.5 0 0 1 0 .15m17.12-5.38c-.7-.12-1.47 0-2.13-.36-.09-.05-.24-.02-.36-.02a.65.65 0 0 1-.35-.1c-.33-.2-.72-.1-1.08-.06a7.3 7.3 0 0 0-2.16.64 4.26 4.26 0 0 1-2.29.39c-1.07-.12-1.3-.96-1.07-1.54.02-.04.05-.11.1-.13.4-.13.37-.43.4-.71.03-.27.16-.5.4-.71.3-.25.5-.53.59-.9.08-.36.37-.66.72-.9.08-.05.22-.14.3-.05.17.23.43.25.7.28.16.02.23.13.2.25-.08.35.11.53.51.62.24.06.36.22.38.42.01.17.13.22.32.23.39.01.69-.14.99-.31.43-.24.87-.47 1.44-.44.27.01.52.07.75.16a45.86 45.86 0 0 1 3.43 1.5c1.11.53.74 1.04-.12 1.5-.5.26-1.1.15-1.67.24m49.57-7.93c.2.26.22.59.3.89.13.49.23 1 .43 1.46.05.1.1.27.25.24.16-.04.13-.2.13-.33a7.33 7.33 0 0 0-.58-3.08 7.28 7.28 0 0 1-.49-2.17c-.1-1.15-.34-2.27-.57-3.4-.13-.64-.26-1.3-.5-1.91-.02-.08-.13-.18 0-.24.11-.04.24-.03.3.1.08.15.14.32.2.49a70.92 70.92 0 0 1 2.54 8.4c.48 2.05.89 4.11 1.17 6.2a72.06 72.06 0 0 1 .5 4.55c.1 1.52.13 3.04.2 4.55.08 1.39-.05 2.76-.04 4.14a7.56 7.56 0 0 1-.13 1.55l-.18-1.12a5.34 5.34 0 0 0-.42-1.38c-.1-.2-.2-.4-.4-.51-.51-.27-.55-.8-.64-1.3-.07-.37-.15-.7-.37-1.02-.18-.25-.2-.6-.21-.92-.05-.59-.19-1.17-.05-1.77.03-.14.09-.27.15-.4.06-.1.16-.18.28-.15.12.02.12.15.11.26 0 .24.14.36.33.4.21.03.31.15.34.36.03.2.13.32.32.29.2-.03.22-.2.23-.38a37.17 37.17 0 0 0-.48-6.75c-.23-1.1-.73-2-1.55-2.72-.55-.5-.8-1.19-.92-1.93l-.34-2.17c0-.09 0-.17.09-.23m-40.65 8.96c0-.31-.02-.69.49-.77.11-.02.17-.16.16-.3 0-.14-.08-.24-.2-.3a11.58 11.58 0 0 1-2.84-1.98 1.22 1.22 0 0 1-.37-.53c-.2-.6-.37-1.23-.64-1.83-.12-.27.05-.5.27-.69.2-.17.43-.14.64-.03a1.9 1.9 0 0 1 .69.58c.2.26.43.47.74.6.31.14.53.41.8.62.3.26.63.47 1.05.51.27.03.36.24.36.47 0 .41.17.73.46 1.02.06.06.12.13.14.2.15.82.65 1.5.92 2.26.1.3.19.55.43.79.28.27.4.68.45 1.08.06.37-.3.68-.85.74-.48.06-.96.1-1.38-.23a1.2 1.2 0 0 0-.54-.2c-.52-.08-.65-.2-.7-.7-.05-.42-.05-.84-.08-1.31m17.52-45.65c-.1-.03-.22-.05-.3-.1-.27-.2-.54-.28-.88-.17a.55.55 0 0 1-.42-.06c-.14-.08-.27-.15-.1-.3.18-.16.06-.28-.08-.38-.27-.2-.59-.32-.91-.42-.6-.2-1.19-.4-1.8-.53a1.8 1.8 0 0 0-.4-.05c-.1 0-.21-.04-.26.06-.07.13.05.2.13.25.36.22.47.55.5.92 0 .26.08.4.4.31.08-.02.19 0 .28 0 .15.02.2.13.23.24.05.13-.02.23-.1.32-.1.1-.2 0-.3-.04-.32-.14-.54-.4-.8-.6-1.33-.95-2.79-1.73-4.19-2.58a25.9 25.9 0 0 1-2.79-2c-.36-.29-.79-.5-1.06-.92-.23-.36-.71-.5-1.11-.82.4.04.68.18.99.27.97.27 1.96.49 2.95.72.74.16 1.36.6 2.02.95a65.89 65.89 0 0 1 5.84 3.4l2.2 1.46-.04.07M121 119.11c-.13.07-.17.11-.23.12-.77.08-1.06.55-1.27 1.08a12.6 12.6 0 0 0-.68 2.35c-.07.36-.3.6-.68.81-.42.25-.69.31-1.16.05-.43-.25-.96-.09-1.4.15-.4.22-.83.35-1.32.33-.27-.02-.51-.07-.58-.33-.04-.2-.22-.23-.42-.27-.12-.02-.27-.06-.26-.19 0-.11.14-.13.25-.16.38-.09.72-.1.98.21.15.18.41.17.58.06.22-.14.03-.28-.1-.4-.1-.1-.32-.16-.25-.32.08-.17.3-.17.5-.18 1.06-.07 1.63-.67 1.48-1.56-.07-.39.2-.8.65-.94a2.3 2.3 0 0 0 1.22-.77.38.38 0 0 1 .32-.15c.76 0 1.52-.02 2.37.11m25.35 31.4c.08.1.18.19.3.15.23-.07.06-.57.3-.66.26.47.57.91.9 1.34.32.42.7.86 1.21.98.99.22 2.14.76 3.14.54a2.6 2.6 0 0 0 1.47-.91c.05-.07.1-.14.18-.18.35-.2-.01.42-.06.49a25.52 25.52 0 0 0-1.2 1.98c-.3.54-.53 1.32-1.09.6-.06.57-.37.9-.85 1.1-.18.07-.37.1-.54-.02-.13-.1-.29-.2-.05-.38.13-.1.14-.23.1-.4-.18-.6-.2-1.29-.95-1.4a.32.32 0 0 0-.21.02c-.26.15.03.62-.15.87a.24.24 0 0 1-.3.07.27.27 0 0 1-.13-.3c.02-.06.06-.12.07-.18.02-.1-.03-.18-.08-.26-.34-.58-.72-1.2-1.34-1.42-.08-.03-.16-.05-.23-.1-.05-.03-.1-.09-.14-.14-.17-.22-.67-.65-.7-.93-.03-.33.37-.5.35-.86","fill","#FEFEFE"],["d","M128 81a87.82 87.82 0 0 1 3.86.56 70.08 70.08 0 0 1 11.8 3.15l.18.06c.07.03.19.05.15.15-.04.13-.16.07-.24.04-.13-.05-.24-.12-.36-.17-.48-.2-.97-.32-1.48-.42-.71-.12-1.36-.45-2.03-.73-1.06-.46-2.2-.64-3.32-.9-1.04-.25-2.1-.45-3.14-.75-.11-.03-.23-.06-.28.05-.13.3-.37.25-.61.26a5.77 5.77 0 0 1-2.65-.55 3.6 3.6 0 0 0-1.39-.34c-.24 0-.5-.05-.49-.41","fill","#FDFDFD"],["d","M117.95 118c-.75 0-1.11-.5-.88-1.18.27-.79.92-1.28 1.57-1.76.14-.1.22-.07.24.1.07.54.15 1.07.1 1.6 0 .11-.03.22-.03.32-.02.64-.33.92-1 .92m13.58 69c.4 0 .55.24.43.6-.15.43-.37.78-.8.9-.13.02-.25.09-.3.22-.15.34-.4.31-.64.22-.28-.1-.23-.4-.2-.63.06-.35.16-.63.52-.8.25-.1.45-.39.74-.46.1-.03.2-.05.26-.05M121 113.27a1.1 1.1 0 0 1-.4.7c-.37.37-.8.68-1.24.95-.1.06-.2.12-.3.05-.1-.08-.04-.2-.02-.3.14-.79.47-1.42 1.32-1.65a.57.57 0 0 1 .5.08c.08.06.14.13.14.16","fill","#FEFEFE"],["d","M78.7 96.3c.1.21 0 .4-.16.55a8.4 8.4 0 0 1-1.22 1.03c-.08.05-.17.18-.28.09-.1-.1.02-.2.07-.28.23-.4.64-.66.92-1.01l.5-.58c.08-.09.19-.13.31-.07.1.04.18.13.15.23-.06.2-.2-.04-.3.04","fill","#FDFDFD"],["d","M130.97 135c-.43 0-.9.02-.96-.31-.06-.3.36-.45.7-.57.17-.06.37-.09.57-.11.36-.04.63.04.7.34.07.28-.03.48-.43.59-.21.05-.42.05-.58.06","fill","#FEFEFE"],["d","M145.67 86l-.58-.13c-.66-.17-1.28-.4-1.91-.62-.08-.03-.22-.06-.17-.18.04-.11.16-.06.26-.04.86.16 1.7.39 2.53.69.09.03.2.04.2.16 0 .08-.1.12-.33.12M121 121.99c0 .26 0 .43-.06.6-.14.48-.3.54-.54.17a2.08 2.08 0 0 1-.28-.56c-.09-.29-.2-.58-.04-.88.1-.2.25-.36.43-.3.25.07.4.32.47.7.02.1.02.23.02.27m-14.97-31.1c-.17-.53.4-.96 1.18-.88.18.02.36.08.53.14.33.12.32.3.12.51-.25.26-.69.39-1.16.33.04-.2.35-.23.4-.41-.5-.1-.53-.1-1.07.32M101 87.37c-.07.3-.24.58-.5.63-.43.08-.75.38-1.02.78-.1.14-.2.32-.37.15-.17-.18-.12-.37 0-.55.46-.63 1.04-1 1.64-1.34.22-.13.26.06.25.33M133.18 198c-.28-.7-.2-1.28 0-1.85.03-.08.07-.17.2-.15.07.02.1.1.1.16.02.59.08 1.18-.3 1.84","fill","#FDFDFD"],["d","M151 195.87v.4c-.04.24-.16.5-.4.5-.45 0-.4.3-.43.56-.02.25-.01.5-.34.58-.05.01-.09.08-.11.13-.7 1.56-1.76 2.9-2.71 4.3-.28.41-.6.8-.9 1.17-.76.9-1.84 1.2-2.94 1.4-1.32.24-.99.02-1.14-.94a1.9 1.9 0 0 1 .76-1.89c.44-.35.66-.77.54-1.38a2.58 2.58 0 0 1 .22-1.68c.2-.39.45-.63.95-.73a6.3 6.3 0 0 0 2.3-1.09c.8-.55 1.38-1.32 2.05-2 .33-.35.67-.7 1.03-1.02.3-.27.53-.23.74.11.29.5.37 1.03.37 1.58M101.22 111h-.68c-.18 0-.36 0-.52-.07-.17-.08-1.06-.86-1.02-.97.08-.18 1.04-.23.6-.63-.1-.1-.3-.16-.26-.28.03-.12.22-.12.36-.1.14.02.33 0 .36-.1l-.01-.1c-.15-.63 1.15-1.1 1.31-.4.1.4.12.4.6.46.52.07 1.2.1 1.65.35.6.33.43.89.03 1.28-.61.6-1.57.56-2.42.56m16.79-10.81c-.02-.2 0-.4.1-.58.42-.83 2.01-.67 2.67-.34.47.24.11.67-.34.7-.29.03-.41.08-.28.38.1.24.37.5.38.76.02.35-.37.64-.6.26-.1-.17-.05-.38-.11-.56-.01-.03-.02-.06-.05-.07-.05-.04-.12.03-.16.09-.1.14-.74 1.36-.95 1.14a.43.43 0 0 1-.1-.17c-.2-.47-.56-1.08-.56-1.6m-8.96-12.58c-.28.18-1.85.66-2 .15-.4-1.28 1.84-1.55 2.67-1.64.54-.06 1.27-.2 1.82-.09 1 .2.13.92-.47 1-.36.06-.75-.05-1.12-.02-.17.01-1.23.33-1.28.28.13.1.27.2.38.32m18.49 11.41c-.06.14.15.3.21.38-.34.15-.76-.05-.93-.43-.04.35-.1.68-.4.84a1.5 1.5 0 0 1-1.24.08c-.08-.03-.16-.08-.18-.18a.3.3 0 0 1 .02-.13.87.87 0 0 1 .48-.57c.24-.1.41.16.45.42.01.11.03.27.15.26.21-.02.28-.4.29-.6 0-.17 0-.35-.02-.54 0-.11-.04-.4.05-.48.04-.04.1-.03.16-.01.37.1.77.39 1.1.02.05-.04.09-.1.14-.09.1 0 .21.22.17.33-.03.1-.13.1-.17.18-.07.1.01.25-.05.35-.05.08-.16.07-.22.14a.16.16 0 0 0-.01.03M109.7 89h-.14c-.23 0-.56-.04-.56-.48 0-.43.33-.3.53-.38.41-.16.83-.13 1.25-.13.07 0 .2-.07.22.13.03.25-.1.3-.19.36-.39.3-.8.45-1.1.5m20.83 19c.26.02.44.17.46.48.02.28-.2.52-.46.52-.25 0-.53-.27-.54-.52-.01-.26.22-.48.54-.48m-22.63 31.06c-.01-.44.11-.88.82-1.05.58-.14.04 1.45.03 1.6-.04.68.33 1.5-.38 2.08-.22.18-1.02.47-1.32.2-.06-.05-.06-.13-.06-.2.02-.56.06-1.12.11-1.68.01-.07.02-.16.1-.21.13-.08.33-.05.49-.09.38-.1.22-.45.21-.65m21.54 8.94c-.15 0-.33.02-.42-.23-.09-.27.03-.5.15-.67.18-.26.33-.6.66-.42.07.03.18-.05.26-.11.2-.14.37-.3.57-.44.09-.06.2-.21.29-.07.1.15 0 .36-.08.43-.24.2-.15.6-.3.84-.26.45-.64.59-1.04.67h-.1m-9-1c.45.15.94.21 1.41.52.07.04.16.06.15.24-.01.18-.1.18-.17.2-.5.1-.98.01-1.47-.14-.14-.05-.38-.07-.36-.5.02-.45.25-.27.44-.32M103 140.42a.57.57 0 0 1-.57.58c-.32 0-.4-.2-.43-.44-.02-.26.32-.57.62-.56.28 0 .39.17.38.42M117.02 123c-.09-.87.1-1.49.65-1.9.09-.06.19-.17.3-.03.07.1 0 .21-.03.31-.23.58-.43 1.17-.92 1.62","fill","#E5E5E5"],["d","M145.63 84.58a68.74 68.74 0 0 1 41.77 56.9c2.14 24-8.74 47.84-28.3 61.75-19.9 14.16-46.6 16.07-68.37 5.08a68.72 68.72 0 0 1-37.12-54.77c-2.29-25.48 10.16-50.64 31.8-64.1a66.7 66.7 0 0 1 8.39-4.41c.86-.38.05-.61-.48-.38C69.78 95 53.5 118.03 52.1 143.92c-1.32 24.47 10.83 48.26 31.36 61.43 20.32 13.03 46.7 14.13 68.16 3.15a69.2 69.2 0 0 0 37.23-56.5c1.74-25.89-11.65-51.07-34.01-63.98a69.62 69.62 0 0 0-8.12-4c-.32-.13-1.54.38-1.09.56","fill","#E5E5E5"],["d","M100 75.72a.94.94 0 0 0 0 .06c0 .74.9.94 1.51 1 .65.07 5.56 1 7.4 1.3 6.25 1.01 12.81 1.3 19.09.29 3.36-.55 6.71-1.15 10.07-1.72 1.1-.19 2.21-.33 3.26-.7.6-.23 1.78-.83 1.66-1.6-.07-.48-.85-.35-1.22-.27a216.12 216.12 0 0 1-13.36 2.85c-6.3 1.1-12.8.92-19.06-.26a35.9 35.9 0 0 1-5.99-1.55c-.42-.16-.84-.33-1.28-.42a2.26 2.26 0 0 0-1.34.09c-.4.17-.7.53-.74.93","fill","#DDD"],["d","M143 74.24c-.79-5.67-2.08-13.2-4.08-20.32a90.85 90.85 0 0 0-1.63-5.3c-.25-.72-.8-1.66-.47-2.41.3-.72.63-1.44.96-2.15l.5-1.11.21-.57c.05-.15.18-.38 0-.48a8 8 0 0 0-1.2-.54c-.4-.14-.82-.2-1.21-.37a12.93 12.93 0 0 1-2.76-1.62 5.71 5.71 0 0 1-.06-.05c-.86-.8-1.45-1.78-2.11-2.73-.07-.1 0 0 0 0-3.32-4.09-7.44-5.9-12.52-3.53-1.4.65-2.68 1.55-3.82 2.59-1.4 1.28-2.34 2.89-3.63 4.25a11.2 11.2 0 0 1-2.65 2.07c-.48.26-.97.5-1.44.76-.29.17-1.23.64-1.2 1 .01.2.34.55.44.74.14.26.26.53.37.81.2.54.6 1.72.6 1.72s-1.27 3.08-1.76 4.48l-1.45 4.46c-1.75 5.86-2.98 12.3-4.09 18.81l.43.22c1.4.55 9.6 3.52 22.9 2.96 5-.21 19.67-3.69 19.67-3.69","fill","#FFF"],["d","M99.42 77.99c6.17.8 12.29 2.2 18.48 2.87 5.33.57 10.47-.7 15.69-1.88 2.9-.65 5.8-1.41 8.72-1.9.72-.11 1.05-1.22.13-1.07-5.44.9-10.8 2.5-16.23 3.47-5.47.97-10.79-.01-16.22-.92-3.36-.56-6.72-1.2-10.1-1.64-.62-.09-1.38.95-.47 1.07","fill","#6A79A8"],["d","M131.47 39.7a13.8 13.8 0 0 1-4.25 3.82c-.49.26-1.48.85-2.14 1.1l-1.84-3.14c-.29-.5-1.14-.27-1.43.1l-2.1 2.69-6.24-5.13c-.59-.49-2 .4-1.26 1l6.94 5.7c.37.3 1.03.13 1.31-.23l1.87-2.38.94 1.61c.48.82.68 1.34 1.69 1.08 3.08-.8 5.93-3.12 7.88-5.67.65-.85-.88-1.18-1.37-.54","fill","#E5E5E5"],["d","M119.4 44.98c-1.25-.9-2.15-2.17-3.4-3.07a27 27 0 0 1-3.57-3c-.95-.98-.12-1.54.62-2.55.66-.9 1.38-1.75 2.17-2.51 3.14-3 7.1-3.75 10.95-1.67 2.24 1.22 4.06 3.23 5.48 5.37.95 1.43-.22 2.33-1.26 3.45a17.13 17.13 0 0 1-3.11 2.64c-.99.65-2.23 1.52-3.38 1.34 0 0-1.24-1.2-2-2.48-.81.84-1.69 1.64-2.5 2.48","fill","#FFF"],["d","M130.66 39.63a13.33 13.33 0 0 1-3.46 3.15c-.84.5-2.07.78-2.85 1.35l-.22.08c-.28.1-.13.14.46.14l-.18-.2c-.11-.28-.5-.6-.7-.82l-1.24-1.43c-.26-.3-.95-.1-1.18.13l-2.46 2.45 1.17-.13-6.67-5.26c-.39-.3-1.65.2-1.25.52l6.67 5.25c.31.25.9.14 1.17-.13l2.47-2.45-1.18.14 1.77 2.05c.51.59.82.63 1.6.36a15.99 15.99 0 0 0 7.35-5.15c.39-.48-.98-.41-1.27-.05","fill","#6A79A8"],["d","M120.87 48.92c-.58 3-1.17 6-1.72 9a19.98 19.98 0 0 1-4.15 9.32c.24 1.07 2.46 4.64 2.38 5.76.83-.55 4.08-2.96 4.92-3.55 1.7-1.18 1.82-10.65 1.64-13.45-.09-1.4-.29-7.79-1.7-7.94l-.51-.06c-.4-.04-.79.34-.85.85a1.16 1.16 0 0 1-.01.07","fill","#BBDFF5"],["d","M120.03 49.41l-1.4 8.52c-.4 2.46-.96 4.85-2.02 7.09-.21.45-.44.89-.69 1.32-.21.36-.83 1-.9 1.4-.1.49.22 1.04.4 1.49.54 1.31 1.59 2.94 1.6 4.42.01.51.78.36 1.04.16.93-.73 1.83-1.52 2.74-2.3.61-.52 1.43-1.02 1.9-1.7 1.13-1.66 1.06-4.6 1.17-6.54.14-2.32.17-4.66.07-6.98-.1-2.17-.12-4.43-.64-6.54-.2-.78-.43-1.5-1.22-1.7-.95-.22-1.9.28-2.05 1.36-.08.59 1.2.37 1.26-.14.1-.68.3-.37.53.1.2.42.27.92.35 1.37.24 1.25.33 2.54.4 3.81.14 2.18.2 4.36.14 6.54-.07 2.54-.06 5.37-.83 7.8-.31.99-1.02 1.4-1.76 2.04-.95.81-1.88 1.64-2.86 2.4l1.03.17c-.02-1.4-.84-2.82-1.37-4.07-.28-.66-.69-1.3-.48-1.95.14-.48.63-1 .87-1.44.27-.5.52-1.01.75-1.54 2.05-4.69 2.4-10.19 3.24-15.23.09-.58-1.18-.37-1.27.14","fill","#6A79A8"],["d","M121.29 45.14c.26-.19.54-.23.83.13.4.52.57 1.3.77 1.9.17.5.22.84-.49.83-.63 0-1.32-.22-1.94-.33-.99-.16-.12-1.5.19-1.85.18-.22.4-.5.64-.68","fill","#BBDFF5"],["d","M122.71 45.67c-.42-.03-.49.05-.21.23l.16.23c.1.17.18.35.25.52.15.36.26.74.38 1.1.04.15.11.3.14.45l.03.13c-.05.16.02.18.19.05.3-.09.25-.12-.13-.1a5.98 5.98 0 0 1-.38-.06c-.26-.04-.5-.1-.76-.15-.31-.06-.72-.05-.84-.35-.09-.2.07-.5.16-.7a4.24 4.24 0 0 1 1.15-1.43c.25-.19.17-.35-.13-.42-.31-.08-.84.06-1.07.25-.7.55-1.67 1.56-1.65 2.45.01.46.34.66.82.76.84.18 1.74.41 2.61.36.5-.02 1.3-.17 1.51-.63.2-.44-.17-1.1-.3-1.5-.18-.55-.4-1.32-.97-1.67-.56-.35-1.36-.16-1.88.15-.86.5.47.6.92.33","fill","#6A79A8"],["d","M132 21.42c.06-9.04-3.92-16.39-8.89-16.42-4.97-.03-9.04 7.27-9.1 16.31v1.62c-.04 5.01.37 8.5 1.1 10.94 1.52 5 7.58 7.13 7.58 7.13s6.23-2 7.85-6.46c.89-2.44 1.41-6.08 1.45-11.5l.01-1.62","fill","#FFF"],["d","M129.25 8.5c.67-.86 1.77-2.33 1.68-3.5.55 1.25.8 2.71 1.31 4.02.3.73.58 1.46.7 2.24a6.94 6.94 0 0 1-.51 3.56 19.2 19.2 0 0 1-1.73 3.16c.13.1.24-.16.22-.34l-.25-2.22c-.12.16-.57.44-.69.6l-.8 1.03a1.87 1.87 0 0 0-.1-1.59l-.24.02c-.33.56-.87.83-1.39 1.2l.31-.12a3.08 3.08 0 0 0-.33-1.06c-.32-.63-.9-1.08-1.22-1.7-.5-.97-.02-.92.35-1.8.54-1.32 1.84-2.39 2.69-3.5m-18.13 1.68c.9-2.33 2.12-4.5 4.02-6.27 1.85-1.72 4.31-3.28 6.8-3.8 1.86-.38 3.69.23 5.24 1.24 1.3.85 3.57 2.06 2.57 3.8a21.76 21.76 0 0 1-6.22 6.8 21.76 21.76 0 0 1-4.04 2.27c-.63.27-1.38.41-1.85.9-.23.24-.93 1.44-.88 1.77-.03-.16-.72-1.86-.91-1.67a6.99 6.99 0 0 0-1.5 2.14c-.08.19-.2.4-.24.6-.05.2.02.4.05.61l.08.77c0 .12-.05.58.02.66-.3-.34-.75-.51-1.03-.86-.4-.48-.4-1.13-.54-1.7a16.99 16.99 0 0 0-.54-1.82c-.35.4-.53.9-.57 1.42-.03.4 0 .8-.04 1.21-.07.55-.28 1.14-.03 1.63-.84-.56-1.15-1.76-1.34-2.7-.2-1.03-.2-2.1-.1-3.14.07-.67.19-1.26.39-1.9.2-.67.42-1.32.66-1.96","fill","#BBDFF5"],["d","M115.08 36.72a14.23 14.23 0 0 0 3.68 3.13c.68.4 1.67 1.09 2.5 1.15.82.05 1.86-.6 2.55-.95a16.19 16.19 0 0 0 4.04-2.9c.58-.56-.7-.7-1.08-.33a14.23 14.23 0 0 1-4.71 3.08c-.15.06-.32.16-.47.18-.27.05.38.07.01-.03-2-.54-4.04-2.36-5.31-3.9-.36-.42-1.61.1-1.21.57m8.24 29.71l.16-.26c.07-.11.14-.06.03-.06a.18.18 0 0 1-.14.03.1.1 0 0 1 .08.03c.06.1.15.15.22.27.3.49 1.6-.3 1.28-.82-.78-1.29-2.3-.36-2.9.84-.2.39.18.54.36.54a1.06 1.06 0 0 0 .91-.57","fill","#6A79A8"],["d","M130.4 34.57c1.39-3.95 1.48-8.33 1.51-12.47.03-4.2-.37-8.4-2.2-12.25-1.28-2.66-3.44-5.44-6.6-5.81-3.05-.36-5.6 1.74-7.16 4.11-2.36 3.57-3.26 8.02-3.36 12.21-.1 4-.1 8.13.81 12.04.17.74.26 1.07.08 1.8-.06.26-.1.67-.23.91-.21.4-.73.84-1.04 1.23-.82 1.05-1.58 2.16-2.57 3.06-1 .9-2.16 1.48-3.32 2.14-.47.27-1.25.62-1.41 1.19-.21.72.6 1.53.84 2.2.14.4.3.8.41 1.2.11.4.1-.16.05.14-.11.67-.56 1.41-.8 2.04-3.24 8.34-4.93 17.16-6.4 25.94-.04.21.13.34.3.42 1.47.77 3.19 1.18 4.8 1.58 3.68.91 7.45 1.42 11.24 1.63 3.73.2 7.45.19 11.14-.4 3.23-.5 6.42-1.16 9.61-1.86 2.12-.46 4.24-.94 6.35-1.45.31-.07.6-.32.55-.66a152.77 152.77 0 0 0-4.75-22.94c-.29-.97-.58-1.95-.92-2.9-.14-.4-.34-.8-.45-1.2-.17-.7.06-1.19.33-1.84.33-.8 1.78-2.86 1.3-3.74-.23-.45-1.02-.67-1.46-.83-.91-.32-1.73-.56-2.58-1.06-1.51-.89-2.34-2.22-3.3-3.62-.37-.53-1.64 0-1.24.6l.03.03c.36.53 1.63 0 1.23-.6l-.82-1.22c-.35-.53-1.63 0-1.23.6l.82 1.22 1.23-.6-.03-.03c-.36-.53-1.63 0-1.23.6.79 1.13 1.5 2.34 2.6 3.21.63.49 1.36.88 2.07 1.21.47.22 2.23.5 2.48.93.25.43-.38 1.37-.58 1.83-.33.73-.79 1.52-1 2.3-.2.8.07 1.43.34 2.18.37 1 .69 2.02 1 3.04a151.4 151.4 0 0 1 4.81 23.19l.54-.66c-4.68 1.13-9.4 2.17-14.14 3a57.3 57.3 0 0 1-22.14-.65c-1.94-.43-4.06-.9-5.84-1.82l.3.42c1.32-7.83 2.9-15.56 5.39-23.12.4-1.2.88-2.4 1.34-3.58.46-1.15.52-1.39.1-2.58-.24-.7-1.03-1.77-.55-2.33.48-.58 1.71-.92 2.36-1.34 2.04-1.3 3.28-3.2 4.8-5.02a4.72 4.72 0 0 0 1.24-2.9c.01-.57-.32-1.28-.44-1.85-.18-.92-.31-1.85-.41-2.78-.44-4.12-.54-8.58.17-12.68.61-3.5 1.97-7.7 5-9.92 2.81-2.08 5.85-.53 7.7 2 2.7 3.69 3.5 8.6 3.48 13.06-.01 4.38.03 9.09-1.44 13.28-.26.74 1.09.77 1.3.17","fill","#6A79A8"],["d","M119.24 55.97L119 67.89c-.01.54.47 1 1.07 1l6.59.11c.6.01 1.1-.42 1.1-.97l.24-11.92c.01-.54-.47-1-1.07-1l-6.59-.11c-.6-.01-1.1.42-1.1.97","fill","#FFF"],["d","M119.24 56.52l-.16 9.7c-.01.9-.34 2.65.43 3.3.43.37.97.33 1.49.34l2.76.05c1.1.02 3 .44 3.73-.74.53-.87.26-2.55.27-3.51l.1-6.19c.02-1 .3-2.38 0-3.36-.45-1.53-3.34-1-4.42-1.02-1.36-.03-3.86-.57-4.2 1.43-.1.62 1.17.43 1.27-.12.11-.7.6-.44 1.2-.43l2.41.04c.89.02 2.35-.34 2.53.86.17 1.08-.04 2.38-.06 3.47l-.08 5.08c-.02 1 .08 2.12-.06 3.12-.09.66-.2.5-.72.5l-2.27-.05c-.8-.01-2.88.4-3.15-.7-.21-.82.03-2.04.05-2.9l.15-9c0-.65-1.26-.42-1.27.13","fill","#6A79A8"],["d","M122.44 57l1.15.02c.23 0 .41.22.41.47l-.02 1.06c0 .25-.2.45-.42.45l-1.15-.02c-.23 0-.41-.22-.41-.47l.02-1.06c0-.25.2-.45.42-.45","fill","#FFF"],["d","M122.98 57.81l.48.01h.32c.33 0-.13-.06-.14-.05v-.02.33c0 .07-.02.15 0 .22a.22.22 0 0 1 0 .07c-.01 0 .11-.1-.02.01l.26-.16c.13-.06.18-.01.01-.02h-.28l-.37-.01c-.09 0-.3-.03-.02.03.02 0 .19 0 .13.05.01 0 0-.06 0-.07l.01-.24c0-.08.02-.17 0-.25a.24.24 0 0 1 0-.06c0-.01-.11.1.03-.02l-.27.16-.14.02c.3-.02.7-.16.74-.44.03-.26-.35-.38-.63-.36-.5.04-1.02.27-1.08.7-.02.16 0 .33 0 .49-.01.25 0 .48.28.64.26.16.58.15.9.16.64 0 1.47.06 1.75-.53.09-.18.05-.4.06-.59 0-.22.02-.43-.16-.6-.37-.37-1.22-.26-1.75-.27-.3 0-.7.19-.73.44-.04.28.35.36.62.36m-17.1-13.65c-2.6 1.47-5.2 2.85-7.19 5.09-2.1 2.36-2.1 5.24-.81 8 1.34 2.9 3.64 5.35 5.95 7.57a95.33 95.33 0 0 0 4.12 3.69l2.11 1.79c.84.72 2.1 1.45 1.28 2.63-.1.13 1.14.1 1.37-.24.97-1.41-.72-2.31-1.72-3.17-1.28-1.09-2.57-2.17-3.82-3.28-2.63-2.34-5.26-4.84-7.08-7.83-1.56-2.55-2.56-5.74-.79-8.44 1.78-2.7 4.89-4.22 7.65-5.77.58-.33-.8-.19-1.06-.04","fill","#6A79A8"],["d","M145.97 83.29c-.15-3.23-.83-6.57-2.9-9.14a10.9 10.9 0 0 0-.52-.61c-4.92-5.31-12.98-1.15-17.63 2.15-1.06.76-6.78.76-7.84 0-4.65-3.3-12.7-7.46-17.63-2.15l-.53.6c-2.06 2.58-2.74 5.92-2.89 9.15-.17 3.76.38 7.64.99 11.34.28 1.68.6 3.35.99 5 .34 1.47.55 2.9.85 4.37l1.33 6.4c.16.74.13 1.9.79 2.35.76.52 1.53.15 2.07-.47 1.17-1.33 1.4-3.22 1.72-4.92.33-1.75 2.46-26 3.18-26 0 0 6.79-2.5 13.23-2.5 6.32 0 12.87 2.23 12.87 2.23.72 0 2.85 24.52 3.18 26.27.33 1.7.55 3.59 1.72 4.92.55.62 1.31 1 2.07.47.66-.45.63-1.6.79-2.34l1.33-6.42c.3-1.46.51-2.89.85-4.36.38-1.65.71-3.32.99-5 .61-3.7 1.16-7.58.99-11.34","fill","#E5E5E5"],["d","M116.85 75.75c-5.32-3.82-13.81-7.76-18.86-1.35-2.82 3.58-3.15 8.48-2.94 12.89.27 5.33 1.5 10.49 2.44 15.72.49 2.73 1.16 5.42 1.63 8.15.24 1.43.45 3.03 2.27 2.82 2.79-.31 3.31-4.47 3.6-6.69.62-4.62 1.02-9.28 1.53-13.92.34-3.04.68-6.08 1.07-9.11.15-1.09.3-2.17.48-3.24.05-.34.18-.72.2-1.06.03-.58.41-.33-.32-.14.8-.2.6-1-.21-.8-.88.22-.9 1.55-1.02 2.28-.32 1.94-.56 3.9-.8 5.86-.61 5.1-1.14 10.23-1.7 15.34-.17 1.61-.32 3.23-.53 4.83a29.64 29.64 0 0 1-.43 2.46c-.19.87-.46 2.34-1.22 2.91-1.5 1.14-1.51-1.38-1.67-2.17-.92-4.78-1.99-9.53-2.84-14.32-.84-4.75-1.6-9.71-1.01-14.54.57-4.7 3.09-9.93 8.36-9.84 3.97.07 7.78 2.36 10.94 4.64.4.29 1.6-.3 1.03-.72m16.84 4.08c-.33-.08-.1-.23-.1.11.01.27.14.59.19.85.16.85.28 1.7.4 2.56.36 2.55.66 5.12.96 7.68.6 5.1 1.12 10.22 1.71 15.33.25 2.14.42 4.65 1.7 6.41.85 1.17 2.47 1.79 3.58.56.45-.5.54-1.2.64-1.84.2-1.29.48-2.55.74-3.83 1.07-5.27 2.24-10.55 2.95-15.9.63-4.69 1.05-9.93-.74-14.43-1.62-4.04-5-6.63-9.33-6.3-4.07.3-7.87 2.5-11.15 4.85-.72.52.34 1.02.88.63 2.85-2.05 6.12-3.98 9.63-4.42 4.28-.55 7.5 2.2 8.89 6.22 1.5 4.38 1.08 9.3.46 13.81-.64 4.71-1.64 9.38-2.59 14.04l-.7 3.47c-.11.54-.24 1.09-.33 1.63-.02.15-.01.34-.06.49-.02.17-.05.33-.09.5l-1.33.24c-.69-.3-1.02-1.9-1.2-2.6a28.22 28.22 0 0 1-.44-2.28c-.19-1.23-.3-2.48-.44-3.71-.54-4.92-1.07-9.84-1.65-14.75-.28-2.4-.57-4.8-.93-7.2-.09-.56-.14-2.86-.9-3.04-.58-.15-1.54.72-.75.92","fill","#6A79A8"],["d","M112.53 80.98c2.66-.48 5.44-1.1 8.14-1.12 2.74-.01 5.55.63 8.24 1.1.46.09 1.6-.68.83-.81-2.8-.5-5.71-1.15-8.55-1.15-2.82 0-5.7.64-8.48 1.13-.66.12-1.11 1.02-.18.85m6.55-49.59c1.86 2.92 6.11 1.58 6.9-1.73.2-.83-1.07-.86-1.23-.2-.55 2.29-3.15 3.4-4.5 1.28-.36-.57-1.57.02-1.17.65","fill","#6A79A8"],["d","M103 73V51.7c0-.38.32-.7.71-.7h35.58c.39 0 .71.32.71.7V73h-37m-2.15 3h37c1.19 0 2.15-.85 2.15-1.9a.1.1 0 0 0-.1-.1H99.1a.1.1 0 0 0-.1.1v.11c0 .99.82 1.79 1.84 1.79","fill","#BBDFF5"],["d","M119.63 57h2.74c1.73 0 3.13 1.53 3.13 3.41v2.18c0 1.88-1.4 3.41-3.13 3.41h-2.74c-1.73 0-3.13-1.53-3.13-3.41v-2.18c0-1.88 1.4-3.41 3.13-3.41","fill","#F9F9F9"],["d","M103.36 73.04v-20.4c0-.15-.03-1.07-.17-.94.14-.13 1.1 0 1.29 0h31.83c.76 0 1.59-.1 2.34 0 .13.01.36-.06.48 0 .74.33.39 2.64.39 3.3v15.48c0 1.48.63 4.6-1.58 4.9-.59.09-1.17.74-.22.6.85-.12 1.7-.38 2.34-.98.85-.8.83-1.8.82-2.88-.06-3.32-.01-6.65-.01-9.97 0-3.28.3-6.7 0-9.97-.09-.95-.64-1.1-1.46-1.11-4.91-.12-9.84 0-14.76 0h-18.32c-1.05 0-2.73-.28-3.7.28-.7.4-.63.98-.63 1.64V73.4c0 .3 1.36.08 1.36-.36","fill","#6A79A8"],["d","M101.2 73.07c-.9 0-2.98-.4-3.18.75-.25 1.44 1.57 2.14 2.77 2.16 2.07.04 4.14 0 6.21 0h28.3c.74 0 1.04-.84.14-.84h-32.5c-.67 0-1.4.08-2.07 0-.17-.02-.09 0-.38-.09a1.5 1.5 0 0 1-1-.86 1.55 1.55 0 0 1-.13-.6l-.58.32c.06.13 2.02 0 2.29 0 .73 0 1.04-.84.13-.84","fill","#6A79A8"],["d","M137.65 74H104.9c-.42 0-1.43 1-.55 1h32.75c.42 0 1.43-1 .55-1m-.26-30.51c2.97 1.28 5.6 4.25 6.15 7.47.49 2.8-.72 5.51-2.35 7.75a30.9 30.9 0 0 1-6.24 6.11c-.6.47-1.22.92-1.85 1.36-.67.48-1.09.31-1.85.36-.98.06-1.8.45-2.25 1.35-.1.2 1.16.12 1.33-.23.35-.7.87-.29 1.56-.38.48-.06.94-.23 1.36-.46 1.14-.62 2.2-1.52 3.21-2.32a30.34 30.34 0 0 0 6.28-6.33c1.57-2.25 2.66-4.98 2.12-7.75-.63-3.16-3.27-6.12-6.2-7.4-.37-.15-1.42.4-1.27.47","fill","#6A79A8"],[1,"cu-global-font-modal__title"],e,[1,"cu-global-font-modal__description"],t,[1,"cu-global-font-modal__flags"],["width","31","height","18","xmlns","http://www.w3.org/2000/svg"],["fill","#B8252C","d","M.86 17.19h29.46V0H.86z"],["fill","#F2DB33","d","M3.7 7.22l.55-1.71-1.46-1.07h1.8l.57-1.71.56 1.71h1.8L6.06 5.52l.56 1.71-1.46-1.05-1.47 1.05M8.72 8.15l.6.24.43-.5-.04.66.6.24-.63.16-.05.66-.35-.56-.63.16.41-.5-.34-.56M12.01 4.85l-.64-.1-.31.57-.1-.65-.64-.12.59-.28-.1-.65.46.47.6-.29-.31.58.45.47M10.64 7.79l.2-.62-.53-.4h.66l.2-.61.2.62h.66l-.53.39.2.62-.53-.38-.53.38M8.75 2.1l.6.27.44-.48-.07.65.59.28-.65.13-.08.65-.31-.58-.65.13.45-.48-.32-.58"],["width","31","height","19","xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["stroke","#E3E0E0","stroke-width",".7","fill","#FFFFFE","d","M.58 18.2h29.46V1.02H.58z"],["fill","#0A0B09","d","M20.07 3.85l1.1 1.64-.6.4-1.1-1.64.6-.4M21.36 5.79l1.1 1.64-.6.4-1.1-1.64.6-.4M20.97 3.26l2.38 3.57-.6.4-2.38-3.58.6-.4M21.86 2.66l1.1 1.64-.6.4-1.1-1.64.6-.4M23.15 4.6l1.1 1.64-.6.4-1.1-1.65.6-.4M8.75 11.4l2.39 3.57-.6.4-2.38-3.57.6-.4M7.86 12l1.1 1.63-.6.4-1.1-1.64.6-.4M9.15 13.93l1.1 1.64-.6.4-1.1-1.64.6-.4M6.97 12.59l2.38 3.57-.6.4L6.37 13l.6-.4M8.16 7.43l2.38-3.58.6.4-2.39 3.57-.6-.4M7.26 6.83l2.39-3.57.6.4-2.39 3.57-.6-.4M6.37 6.24l2.38-3.58.6.4-2.38 3.57-.6-.4M19.48 14.97l1.09-1.63.6.4-1.1 1.63-.6-.4M20.77 13.04l1.1-1.64.59.4-1.1 1.63-.6-.4M20.37 15.57l1.1-1.64.59.4-1.1 1.64-.59-.4M21.66 13.63l1.1-1.64.59.4-1.1 1.64-.59-.4M21.27 16.16l1.09-1.63.6.4-1.1 1.63-.6-.4M22.56 14.23l1.09-1.64.6.4-1.1 1.64-.6-.4"],["d","M11.73 7.23l-.04.07.04-.07M17.69 6.04a4.3 4.3 0 0 0-5.96 1.19 2.15 2.15 0 1 0 3.58 2.38A2.15 2.15 0 0 1 18.88 12a4.3 4.3 0 0 0-1.19-5.95","fill","#A2243A"],["d","M11.73 7.23a2.15 2.15 0 1 0 3.58 2.38A2.15 2.15 0 0 1 18.88 12a4.3 4.3 0 0 1-7.15-4.76","fill","#293160"],["stroke","#E3E0E0","stroke-width",".7","fill","#FFFFFE","d","M.64 18.2H30.1V1.02H.64z"],["d","M15.37 4.46a5.16 5.16 0 1 1 0 10.3 5.16 5.16 0 0 1 0-10.3","fill","#992528"],["stroke","#E3E0E0","stroke-width",".7","fill","#FFFFFE","d","M.92 17.77h29.46V1.17H.92z"],["fill","#C42536","d","M.92 18.36h29.46v-8.6H.92z"],["fill","#2B295D","d","M.73 17.55H30.2v-1.9H.73z"],["fill","#FFFFFE","d","M.73 15.64H30.2v-1.9H.73z"],["fill","#2B295D","d","M.73 13.73H30.2v-1.9H.73z"],["fill","#FFFFFE","d","M.73 11.83H30.2V9.92H.73z"],["fill","#2B295D","d","M.73 9.92H30.2V8H.73z"],["fill","#FFFFFE","d","M.73 8H30.2V6.1H.73z"],["fill","#2B295D","d","M.73 6.1H30.2V4.19H.73z"],["fill","#FFFFFE","d","M.73 4.19H30.2V2.28H.73z"],["fill","#2B295D","d","M.73 2.28H30.2V.37H.73z"],["fill","#2B295D","d","M.73 9.92h9.55V.37H.73z"],["fill","#FFFFFE","d","M.73 6.1h9.55V4.19H.73z"],["fill","#FFFFFE","d","M4.55 9.92h1.91V.37h-1.9z"],["width","31","height","18","xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["fill","#BD252E","d","M.73 17.73H30.2V.54H.73z"],["d","M9.33 4.84a4.3 4.3 0 1 1 0 8.59 4.3 4.3 0 0 1 0-8.6","fill","#FFFFFE"],["d","M10.4 5.7a3.44 3.44 0 1 1 0 6.87 3.44 3.44 0 0 1 0-6.87","fill","#BD252E"],["fill","#FFFFFE","d","M12.96 9.13L15 9.8l.33-1.02-2.37.35"],["fill","#FFFFFE","d","M12.96 9.13L15 8.47l.33 1.02-2.37-.36"],["fill","#FFFFFE","d","M14.44 7.1v2.14h1.08l-1.08-2.15"],["fill","#FFFFFE","d","M14.44 7.1l1.26 1.73-.86.63-.4-2.37"],["fill","#FFFFFE","d","M14.44 11.18l1.26-1.74-.86-.63-.4 2.37"],["fill","#FFFFFE","d","M14.44 11.18V9.03h1.08l-1.08 2.15"],["fill","#FFFFFE","d","M16.84 7.87l-2.04.67.33 1.02 1.71-1.69"],["fill","#FFFFFE","d","M16.84 7.87l-1.26 1.74-.87-.63 2.13-1.1"],["fill","#FFFFFE","d","M16.84 10.4l-1.26-1.74-.87.63 2.13 1.1"],["fill","#FFFFFE","d","M16.84 10.4l-2.04-.67.33-1.02 1.71 1.69"],["fill","#C8243A","d","M.89 17.43h29.46V.24H.9z"],["fill","#FFFFFE","d","M7.33 17.43h4.3V.24h-4.3z"],["fill","#FFFFFE","d","M.89 10.98h29.46v-4.3H.9z"],["fill","#23284F","d","M8.4 17.43h2.16V.24H8.4z"],["fill","#23284F","d","M.89 9.91h29.46V7.76H.9z"],[1,"cu-global-font-modal__btn",3,"click"],[1,"cu-global-font-modal__btn","cu-global-font-modal__btn_purple",3,"click"],i,[1,"cu-global-font-modal__options"],a,[1,"cu-global-font-modal__options-link",3,"cuLink","click"]]},template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.tc(),X.cc(2,"svg",2),X.cc(3,"g",3),X.Xb(4,"path",4),X.Xb(5,"path",5),X.Xb(6,"path",6),X.Xb(7,"path",7),X.Xb(8,"path",8),X.Xb(9,"path",9),X.Xb(10,"path",10),X.Xb(11,"path",11),X.Xb(12,"path",12),X.Xb(13,"path",13),X.Xb(14,"path",14),X.Xb(15,"path",15),X.Xb(16,"path",16),X.Xb(17,"path",17),X.Xb(18,"path",18),X.Xb(19,"path",19),X.Xb(20,"path",20),X.Xb(21,"path",21),X.Xb(22,"path",22),X.Xb(23,"path",23),X.Xb(24,"path",24),X.Xb(25,"path",25),X.Xb(26,"path",26),X.Xb(27,"path",27),X.Xb(28,"path",28),X.Xb(29,"path",29),X.Xb(30,"path",30),X.Xb(31,"path",31),X.Xb(32,"path",32),X.Xb(33,"path",33),X.Xb(34,"path",34),X.Xb(35,"path",35),X.Xb(36,"path",36),X.Xb(37,"path",37),X.Xb(38,"path",38),X.Xb(39,"path",39),X.Xb(40,"path",40),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(41,"div",41),X.gc(42,42),X.bc(),X.cc(43,"div",43),X.gc(44,44),X.bc(),X.cc(45,"div",45),X.tc(),X.cc(46,"svg",46),X.cc(47,"g",3),X.Xb(48,"path",47),X.Xb(49,"path",48),X.bc(),X.bc(),X.cc(50,"svg",49),X.cc(51,"g",3),X.Xb(52,"path",50),X.Xb(53,"path",51),X.Xb(54,"path",52),X.Xb(55,"path",53),X.bc(),X.bc(),X.cc(56,"svg",49),X.cc(57,"g",3),X.Xb(58,"path",54),X.Xb(59,"path",55),X.bc(),X.bc(),X.cc(60,"svg",49),X.cc(61,"g",3),X.Xb(62,"path",56),X.Xb(63,"path",57),X.bc(),X.bc(),X.cc(64,"svg",46),X.cc(65,"g",3),X.Xb(66,"path",58),X.Xb(67,"path",59),X.Xb(68,"path",60),X.Xb(69,"path",61),X.Xb(70,"path",62),X.Xb(71,"path",63),X.Xb(72,"path",64),X.Xb(73,"path",65),X.Xb(74,"path",66),X.Xb(75,"path",67),X.Xb(76,"path",68),X.Xb(77,"path",69),X.bc(),X.bc(),X.cc(78,"svg",70),X.cc(79,"g",3),X.Xb(80,"path",71),X.Xb(81,"path",72),X.Xb(82,"path",73),X.Xb(83,"path",74),X.Xb(84,"path",75),X.Xb(85,"path",76),X.Xb(86,"path",77),X.Xb(87,"path",78),X.Xb(88,"path",79),X.Xb(89,"path",80),X.Xb(90,"path",81),X.Xb(91,"path",82),X.Xb(92,"path",83),X.bc(),X.bc(),X.cc(93,"svg",46),X.cc(94,"g",3),X.Xb(95,"path",84),X.Xb(96,"path",85),X.Xb(97,"path",86),X.Xb(98,"path",87),X.Xb(99,"path",88),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(100,"div",89),X.qc("click",function(){return t.cancel()}),X.dd(101," Nope, I'll use English "),X.bc(),X.cc(102,"div",90),X.qc("click",function(){return t.enableGlobalFont()}),X.gc(103,91),X.bc(),X.cc(104,"div",92),X.mc(105,93),X.cc(106,"a",94),X.qc("click",function(e){return t.goToSettings(e)}),X.vc(107,"async"),X.bc(),X.jc(),X.bc(),X.bc()),2&e){let e=null;X.Ib(50),X.Dc("ngStyle",X.Gc(7,oi)),X.Ib(6),X.Dc("ngStyle",X.Gc(8,oi)),X.Ib(4),X.Dc("ngStyle",X.Gc(9,oi)),X.Ib(18),X.Dc("ngStyle",X.Gc(10,oi)),X.Ib(28),X.Dc("cuLink",X.Hc(11,ci,null==(e=X.wc(107,5,t.sharedData.compatCurrentTeam$))?null:e.id))}},directives:[n.t,Ye.a],pipes:[n.b],styles:[".cu-global-font-modal__illustration{width:231px;height:216px;margin:-20px auto 30px}.cu-global-font-modal__title{font:400 21px/31px Gotham Pro,Proxima Nova,arial,serif;color:#343434;text-align:center;margin-bottom:15px;padding:0 50px}.dark-theme .cu-global-font-modal__title{color:#d5d6d7}.cu-global-font-modal__description{font:400 13px/22px Gotham Pro,Proxima Nova,arial,serif;color:#343434;text-align:center;padding:0 50px 10px}.dark-theme .cu-global-font-modal__description{color:#abaeb0}.cu-global-font-modal__flags{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.cu-global-font-modal__flags svg{margin:0 2px}.cu-global-font-modal__btn{display:flex;align-items:center;justify-content:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;height:47px;cursor:pointer;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#343434;border:1px solid #d8d8d8;border-radius:4px;margin-bottom:10px}.dark-theme .cu-global-font-modal__btn{color:#d5d6d7;border-color:#d5d6d7}.cu-global-font-modal__btn:hover{border-color:#e4e4e4;background:#e4e4e4}.dark-theme .cu-global-font-modal__btn:hover{border-color:#2b343b;background:#2b343b}.cu-global-font-modal__btn_purple{background:#7b68ee;border-color:#7b68ee;color:#fff}@supports (--theme-main-color:#7b68ee){.cu-global-font-modal__btn_purple{background:var(--theme-main-color);border-color:var(--theme-main-color)}}.dark-theme .cu-global-font-modal__btn_purple{border-color:#7b68ee;color:#fff}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-global-font-modal__btn_purple{border-color:var(--theme-main-color)}}.cu-global-font-modal__btn_purple:hover{background:#5f48ea;border-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-global-font-modal__btn_purple:hover{background:var(--theme-main-color-dark);border-color:var(--theme-main-color-dark)}}.dark-theme .cu-global-font-modal__btn_purple:hover{background:#5f48ea;border-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.dark-theme .cu-global-font-modal__btn_purple:hover{background:var(--theme-main-color-dark);border-color:var(--theme-main-color-dark)}}.cu-global-font-modal__options{margin-top:30px;text-align:center;font:400 13px Gotham Pro,Proxima Nova,arial,serif;color:#343434}.dark-theme .cu-global-font-modal__options{color:#d5d6d7}.cu-global-font-modal__options-link{color:#7b68ee;border-bottom:1px dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-global-font-modal__options-link{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-global-font-modal__options-link:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-global-font-modal__options-link:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}"],encapsulation:2}),e})();var si=i("Zrce"),ri=i("p46w"),li=i("uFGp"),di=i("f0Wu"),ui=i("Wk/N"),pi=i("MCHM"),mi=i("PBBv"),hi=i("7G3y"),bi=i("O5BZ"),gi=i("vk5f"),fi=i("+KJU"),_i=i("3Mw7"),vi=i("hN3A"),yi=i("keZ5"),wi=i("VQww"),ki=i("Tm/s"),xi=i("2eMX");function Ti(e,t){if(1&e&&(X.cc(0,"div",15),X.cc(1,"div",16),X.dd(2),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(2),X.ed(e.errorMessage)}}const Si=function(){return{standalone:!0}};function ji(e,t){if(1&e){const e=X.dc();X.cc(0,"div",17),X.cc(1,"div",18),X.gc(2,19),X.bc(),X.cc(3,"div",20),X.cc(4,"input",21),X.qc("ngModelChange",function(t){return X.Uc(e),X.uc().newName=t}),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(4),X.Dc("value",e.newName)("ngModel",e.newName)("ngModelOptions",X.Gc(3,Si))}}let Oi=(()=>{class e{constructor(e,t){this.navService=e,this.modalService=t,this.errorMessage="",this.errorName=!1}ngOnInit(){this.newName=this.category?this.category.name:""}move(){this.selectedProject&&this.navService.moveCategory(this.category,this.selectedProject.id,this.errorName?this.newName:null,this.selectedProject.name).subscribe(()=>{this.cancel()},e=>{"TASKO_023"===e.ECODE?(this.errorName=!0,this.errorMessage=$localize`:@@cu-nav-move-category__error-msg_target-project-have-duplicate-folder-names:Whoops! ${this.selectedProject.name}:projectName: already has a Folder named ${this.category.name}:categoryName:. Please rename this Folder to continue moving it.`):this.errorMessage=e.err})}cancel(){this.modalService.close()}selectProject(e){this.selectedProject=e,this.errorName=!1,this.errorMessage=""}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ki.a),X.Wb(_e.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["nav-move-category"]],inputs:{category:"category"},decls:19,vars:6,consts:function(){let e,t,i,a,o,c;return e=$localize`:@@cu-nav-move-category__header_move-category-to␟320271313135d70eb8ed6075c2fa49e7edc5344f␟2509760866815395216:Move ${"\ufffd#4\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN: to`,t=$localize`:@@common_space␟52d92107e6b2e533468a728409354191bc7b0618␟8946906119075338535:Space`,i=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,a=$localize`:@@common_move␟57cf305f9bfd681c70dc26e914108d06384ade9f␟2354817630223808522:Move`,o=$localize`:@@cu-nav-move-category__form-label_new-project-name␟82479dfb27ae7759d8bc68c022400b1b6582cac8␟3116039929235189354: New Project name `,c=$localize`:@@cu-nav-move-category__form-placeholder_project-name␟105acdba2604384fbd881cbb251f471b24272502␟4714289402018823960:Enter Project name`,[[1,"move-category"],[1,"move-category__header"],e,[1,"move-category__body"],[1,"data-list__label"],t,[3,"excludeId","initSelectedProject","projectSelected"],["class","move-category__error",4,"ngIf"],["class","cu-form__row move-category__input-block",4,"ngIf"],[1,"move-category__footer"],[1,"cu-btn","cu-btn_confirm-cancel",3,"click"],[1,"cu-btn__text"],i,[1,"cu-btn",3,"disabled","click"],a,[1,"move-category__error"],[1,"cu-form__error-text"],[1,"cu-form__row","move-category__input-block"],[1,"cu-form__label","data-list__label__title"],o,[1,"cu-form__field"],["type","text","placeholder",c,1,"cu-form__input","move-category__input",3,"value","ngModel","ngModelOptions","ngModelChange"]]},template:function(e,t){1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.ac(2),X.mc(3,2),X.Xb(4,"span"),X.jc(),X.Zb(),X.dd(5,": "),X.bc(),X.cc(6,"div",3),X.cc(7,"div",4),X.gc(8,5),X.bc(),X.cc(9,"cu-project-list-dropdown",6),X.qc("projectSelected",function(e){return t.selectProject(e)}),X.bc(),X.bc(),X.bd(10,Ti,3,1,"div",7),X.bd(11,ji,5,4,"div",8),X.cc(12,"div",9),X.cc(13,"button",10),X.qc("click",function(){return t.cancel()}),X.cc(14,"div",11),X.gc(15,12),X.bc(),X.bc(),X.cc(16,"button",13),X.qc("click",function(){return t.move()}),X.cc(17,"div",11),X.gc(18,14),X.bc(),X.bc(),X.bc(),X.bc()),2&e&&(X.Ib(4),X.kc(t.category.name),X.hc(3),X.Ib(5),X.Dc("excludeId",null==t.category?null:t.category.project_id)("initSelectedProject",!1),X.Ib(1),X.Dc("ngIf",t.errorMessage),X.Ib(1),X.Dc("ngIf",t.errorName),X.Ib(5),X.Dc("disabled",!t.selectedProject))},directives:[xi.a,n.q,s.c,s.p,s.s],encapsulation:2}),e})();var Ii=i("Wu6E");const Di=Object(ye.createFeatureSelector)("wistia"),Ci=Object(ye.createSelector)(Di,Ii.b);Object(ye.createSelector)(Di,Ii.d),Object(ye.createSelector)(Di,Ii.c);var Pi=i("dqeI"),$i=i("DeYq"),zi=i("0Oxh"),Mi=i("M398"),Ei=i("9jGm"),Li=i("2p4s"),Ai=i("aIzb"),Fi=i("7nDA"),Ui=i("Iab2"),Ni=i("sWsJ"),Ri=i("MPcj"),Gi=i("Whs0"),qi=i("Nn/B"),Bi=i("mhED"),Wi=i("0/H+"),Vi=i("TqRa"),Xi=i("iD/c"),Hi=i("bV87"),Yi=i("3Kxl"),Zi=i("SJHZ"),Qi=function(e){return e[e.Inbox=0]="Inbox",e[e.Recent=1]="Recent",e[e.Unscheduled=2]="Unscheduled",e[e.Activity=3]="Activity",e[e.Calendar=4]="Calendar",e}({});const Ki={user:null,dataMap:{},recentDataMap:{},selectedTab:Qi.Activity,overTaskView:!1};function Ji(e=Ki,t){switch(t.type){case Zi.d.type:{const i=e.user&&t.user&&e.user.id===t.user.id?Object.assign(Object.assign({},e.user),t.user):t.user;return Object.assign(Object.assign({},e),{user:i,overTaskView:t.overTaskView,selectedTab:void 0!==t.tab?t.tab:Qi.Activity})}case Zi.f.type:return Object.assign(Object.assign({},e),{overTaskView:t.overTaskView});case Zi.a.type:return Object.assign(Object.assign({},e),{user:null});case Zi.e.type:return e.user?Object.assign(Object.assign({},e),{user:Object.assign(Object.assign({},e.user),t.user),dataMap:Object.assign(Object.assign({},e.dataMap),{[t.user.id]:{counts:t.counts,task_activity:t.task_activity}})}):e;case Zi.j.type:return e.user?Object.assign(Object.assign({},e),{user:Object.assign(Object.assign({},e.user),t.data)}):e;case Zi.i.type:{const i=t.tab===Qi.Recent?Qi.Activity:t.tab;return Object.assign(Object.assign({},e),{selectedTab:i})}case Zi.h.type:return e.user?Object.assign(Object.assign({},e),{recentDataMap:Object.assign(Object.assign({},e.recentDataMap),{[e.user.id]:Object.assign(Object.assign({},e.recentDataMap[e.user.id]),t.data)})}):e;default:return e}}var ea=i("ObVV"),ta=i("RtrR"),ia=i("GkwO");let aa=(()=>{class e{constructor(){this.onClose=new X.o,this.destroy$=new Ee.a}ngOnInit(){}ngOnDestroy(){this.destroy$.next()}onLearnMore(){return this.onClose.emit(),!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-submit-review-success"]],hostAttrs:[1,"cu-template-center-review-success"],outputs:{onClose:"onClose"},decls:15,vars:0,consts:[[1,"cu-template-center-review-success__icon-container"],["icon","template-center-empty",1,"template-center"],["icon","check-round-edges",1,"checkmark"],[1,"cu-template-center-review-success__action-container"],[1,"cu-template-center-review-success__actions"],["href","https://docs.clickup.com/en/articles/1178567-templates","target","_blank",1,"cu-template-center-review-success__actions-link",3,"click"],[1,"cu-template-center-review-success__actions-btn",3,"click"]],template:function(e,t){1&e&&(X.cc(0,"div",0),X.Xb(1,"div",1),X.Xb(2,"div",2),X.bc(),X.cc(3,"div",3),X.cc(4,"h2"),X.dd(5,"Your template successfully submited for review!"),X.bc(),X.cc(6,"p"),X.dd(7," Your template will be reviewed in the order it was received. Once your template is reviewed, you will get a notification to your email. "),X.bc(),X.cc(8,"p"),X.dd(9," If your template is approved, we will send you a public link so you can use it for sharing. "),X.bc(),X.cc(10,"div",4),X.cc(11,"a",5),X.qc("click",function(){return t.onLearnMore()}),X.dd(12," Learn More "),X.bc(),X.cc(13,"button",6),X.qc("click",function(){return t.onClose.emit()}),X.dd(14," Got it! "),X.bc(),X.bc(),X.bc())},directives:[Qe.a],styles:['.cu-template-center-review-success{display:flex;flex-direction:column}.cu-template-center-review-success__modal .cu-modal__header{display:none}.cu-template-center-review-success__modal .cu-modal__dialog{width:360px!important;height:560px!important;padding:0;overflow:hidden;background-color:#6bc950}.cu-template-center-review-success__modal .cu-modal__body{height:100%;display:flex}.cu-template-center-review-success__icon-container{position:relative;width:88px;height:88px;margin:50px auto}.cu-template-center-review-success__icon-container .template-center{fill:#fff}.cu-template-center-review-success__icon-container .checkmark{width:22px;height:15px;position:absolute;right:18px;bottom:18px;fill:#fff}.cu-template-center-review-success__action-container{display:flex;flex-direction:column;flex-grow:1;height:100%;border-radius:6px;padding:24px;background-color:#fafbfc}.dark-theme .cu-template-center-review-success__action-container{background-color:#2b343b}.cu-template-center-review-success__action-container h2{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:24px;padding-right:18px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-review-success__action-container h2{font-family:var(--global-font-support)}}.cu-template-center-review-success__action-container p{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:20px;margin:12px 0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-review-success__action-container p{font-family:var(--global-font-support)}}.cu-template-center-review-success__actions{display:flex;justify-content:space-between;margin-top:auto}.cu-template-center-review-success__actions-btn,.cu-template-center-review-success__actions-link{width:150px;height:40px;border:none;border-radius:3px}.cu-template-center-review-success__actions-link{background-color:#e9ebf0;color:#7c828d;text-align:center;padding-top:1em}.cu-template-center-review-success__actions-btn{background-color:var(--theme-main-color);color:#fff}'],encapsulation:2,changeDetection:0}),e})();var oa=i("2Vo4"),ca=i("3xic"),na=i("qMne"),sa=i("m91o"),ra=i("vkgz");const la=["mainSection"];function da(e,t){if(1&e){const e=X.dc();X.cc(0,"div",8),X.cc(1,"cu-template-center-sidebar",9),X.qc("onTabChange",function(t){return X.Uc(e),X.uc().setTab(t)})("onTypeFiltersChange",function(t){return X.Uc(e),X.uc().setTypeFilters(t)})("onPublicTagSelect",function(t){return X.Uc(e),X.uc().togglePublicTemplateTag(t)}),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.vc(7,"async"),X.vc(8,"async"),X.vc(9,"async"),X.vc(10,"async"),X.vc(11,"async"),X.vc(12,"async"),X.vc(13,"async"),X.bc(),X.cc(14,"cu-template-center-main",10,11),X.qc("updaterowExpandedMap",function(t){return X.Uc(e),X.uc().updaterowExpandedMap(t)})("onTemplateSelect",function(t){X.Uc(e);const i=X.uc();return i.captureScrollPos(),i.setSelectedTemplate(t),i.selectedState=i.templateCenterStatus.SELECTED_TEMPLATE})("onQuickCreate",function(t){return X.Uc(e),X.uc().quickCreate(t)})("onUpdateSearchTerm",function(t){return X.Uc(e),X.uc().setSearchTerm(t)})("clearSearchTerm",function(){return X.Uc(e),X.uc().clearSearchTerm()})("onUpdateCreatorFilter",function(t){return X.Uc(e),X.uc().setCreatorFilter(t)})("onUpdateUseCaseFilters",function(t){return X.Uc(e),X.uc().setUseCaseFilters(t)})("onUpdateTagFilters",function(t){return X.Uc(e),X.uc().setTagsFilters(t)})("onLoadMoreTeamTemplates",function(t){return X.Uc(e),X.uc().loadMoreTeamTemplates(t)})("onUpdateTemplate",function(t){return X.Uc(e),X.uc().updateTemplate(t)})("onTabChange",function(t){return X.Uc(e),X.uc().selectedTab$.next(t)}),X.vc(16,"async"),X.vc(17,"async"),X.vc(18,"async"),X.vc(19,"async"),X.vc(20,"async"),X.vc(21,"async"),X.vc(22,"async"),X.vc(23,"async"),X.vc(24,"async"),X.vc(25,"async"),X.vc(26,"async"),X.vc(27,"async"),X.vc(28,"async"),X.vc(29,"async"),X.vc(30,"async"),X.vc(31,"async"),X.vc(32,"async"),X.vc(33,"async"),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("loading",X.wc(2,37,e.loading$))("selectedTab",X.wc(3,39,e.selectedTab$))("team",X.wc(4,41,e.team$))("teamTemplates",X.wc(5,43,e.teamTemplates$))("teamTemplatesTotalCount",X.wc(6,45,e.teamTemplatesTotalCount$))("clickUpTemplateCounts",X.wc(7,47,e.clickUpTemplateCounts$))("clickUpTemplateTotalCount",X.wc(8,49,e.clickUpTemplateTotalCount$))("isGuest",X.wc(9,51,e.isGuest$))("typeFilters",X.wc(10,53,e.typeFilters$))("publicTemplateTags",X.wc(11,55,e.publicTemplateTags$))("filteringClickUpTemplates",X.wc(12,57,e.filteringClickUpTemplates$))("filteringTeamTemplates",X.wc(13,59,e.filteringTeamTemplates$))("onlyAllowedTypes",e.onlyAllowedTypes),X.Ib(13),X.Dc("loading",X.wc(16,61,e.loading$))("selectedTab",X.wc(17,63,e.selectedTab$))("team",X.wc(18,65,e.team$))("teamTemplates",X.wc(19,67,e.teamTemplates$))("teamTemplatesTotalCount",X.wc(20,69,e.teamTemplatesTotalCount$))("teamTemplateCreators",X.wc(21,71,e.members$))("clickUpTemplates",X.wc(22,73,e.clickUpTemplates$))("clickUpTemplateCounts",X.wc(23,75,e.clickUpTemplateCounts$))("clickUpTemplateTotalCount",X.wc(24,77,e.clickUpTemplateTotalCount$))("clickUpTemplateUseCasesFilter$",e.clickUpTemplateUseCaseFilters$)("rowExpandedMap",e.rowExpandedMap)("suggestedTemplates",X.wc(25,79,e.suggestedTemplates$))("featuredTemplates",X.wc(26,81,e.featuredTemplates$))("forOnboarding",e.forOnboarding)("fromTaskDraft",e.fromTaskDraft)("creatingTask",e.creatingTask)("teamHasTemplates",X.wc(27,83,e.teamHasTemplates$))("filteringTeamTemplates",X.wc(28,85,e.filteringTeamTemplates$))("filteringClickUpTemplates",X.wc(29,87,e.filteringClickUpTemplates$))("tags",X.wc(30,89,e.templateTags$))("tagsFilter",X.wc(31,91,e.tagsFilter$))("filterParams",X.wc(32,93,e.filterParams$))("lastScrollPos",e.lastScrollPos)("selectedCreator",X.wc(33,95,e.creatorFilter$))}}function ua(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-selected-template",12),X.qc("onUseTemplate",function(){X.Uc(e);const t=X.uc();return t.selectedState=t.templateCenterStatus.USE_TEMPLATE})("onError",function(t){return X.Uc(e),X.uc().addGlobalError(t)})("onClose",function(){return X.Uc(e),X.uc().close()})("onUpdateSelectedTemplate",function(t){return X.Uc(e),X.uc().updateSelectedTemplate(t)})("onStateChange",function(t){return X.Uc(e),X.uc().selectedState=t})("onUpdateShareSettings",function(t){return X.Uc(e),X.uc().updateSelectedTemplate(t)})("onGoToSubmitReview",function(){X.Uc(e);const t=X.uc();return t.selectedState=t.templateCenterStatus.SUBMIT_TEMPLATE_REVIEW})("onShowToast",function(t){return X.Uc(e),X.uc().showToast(t)}),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("selectedTemplate",X.wc(1,10,e.selectedTemplate$))("user",X.wc(2,12,e.user$))("members",X.wc(3,14,e.members$))("creatingTask",e.creatingTask)("fromTaskDraft",e.fromTaskDraft)("team",X.wc(4,16,e.team$))("shareLink",X.wc(5,18,e.shareLink$))("returnOnTemplateSelect",e.returnOnTemplateSelect)("tags",X.wc(6,20,e.templateTags$))("onlyAllowedTypes",e.onlyAllowedTypes)}}function pa(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-use-template",13),X.qc("onBack",function(){return X.Uc(e),X.uc().goBack()})("onClose",function(){return X.Uc(e),X.uc().close()})("onError",function(t){return X.Uc(e),X.uc().addGlobalError(t)})("onShowToast",function(t){return X.Uc(e),X.uc().showToast(t)})("onStateChange",function(t){return X.Uc(e),X.uc().selectedState=t}),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("selectedTemplate",X.wc(1,11,e.selectedTemplate$))("members",X.wc(2,13,e.members$))("user",X.wc(3,15,e.user$))("team",X.wc(4,17,e.team$))("parent",e.parent)("parentType",e.parentType)("creatingTask",e.creatingTask)("fromTaskDraft",e.fromTaskDraft)("initialTypeData",e.initialTypeData)("initialType",e.initialType)("quickCreating",e.quickCreating)}}function ma(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-save-template",14),X.qc("onClose",function(){return X.Uc(e),X.uc().close()})("onError",function(t){return X.Uc(e),X.uc().addGlobalError(t)})("onStateChange",function(t){return X.Uc(e),X.uc().selectedState=t})("clearTemplateToUpdate",function(){return X.Uc(e),X.uc().templateToUpdate=null}),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("parent",e.parent)("itemToSave",e.itemToSave)("type",e.initialType)("members",X.wc(1,10,e.members$))("templateToUpdate",e.templateToUpdate)("creatingTask",e.creatingTask)("fromTaskDraft",e.fromTaskDraft)("user",X.wc(2,12,e.user$))("tags",X.wc(3,14,e.templateTags$))("docPageId",e.docPageId)}}function ha(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-update-template",15),X.qc("onClose",function(){return X.Uc(e),X.uc().close()})("onUpdateSearchTerm",function(t){return X.Uc(e),X.uc().setSearchTerm(t)})("clearSearchTerm",function(){return X.Uc(e),X.uc().clearSearchTerm()})("onUpdateCreatorFilter",function(t){return X.Uc(e),X.uc().setCreatorFilter(t)})("onStateChange",function(t){return X.Uc(e),X.uc().selectedState=t})("onTemplateToUpdateNext",function(t){return X.Uc(e),X.uc().templateToUpdate=t}),X.vc(1,"async"),X.vc(2,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("teamTemplates",X.wc(1,2,e.teamTemplates$))("teamTemplateCreators",X.wc(2,4,e.members$))}}function ba(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-submit-template",16),X.qc("onCancel",function(){return X.Uc(e),X.uc().goBack()})("onSubmitSuccess",function(){return X.Uc(e),X.uc().onClose.emit(!0)}),X.vc(1,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("selectedTemplate",X.wc(1,1,e.selectedTemplate$))}}function ga(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-onboarding-templates",17),X.qc("onTemplateSelect",function(t){return X.Uc(e),X.uc().quickCreate(t)})("onClose",function(){return X.Uc(e),X.uc().close()})("onStateChange",function(t){return X.Uc(e),X.uc().selectedState=t}),X.vc(1,"async"),X.vc(2,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("selectedTemplate",X.wc(1,2,e.selectedTemplate$))("suggestedTemplates",X.wc(2,4,e.suggestedTemplates$))}}var fa=function(e){return e[e.TEAM=0]="TEAM",e[e.CLICKUP=1]="CLICKUP",e}({}),_a=function(e){return e[e.MAIN=0]="MAIN",e[e.SELECTED_TEMPLATE=1]="SELECTED_TEMPLATE",e[e.USE_TEMPLATE=2]="USE_TEMPLATE",e[e.SAVE_NEW_TEMPLATE=3]="SAVE_NEW_TEMPLATE",e[e.UPDATE_EXISTING_TEMPLATE=4]="UPDATE_EXISTING_TEMPLATE",e[e.SUBMIT_TEMPLATE_REVIEW=5]="SUBMIT_TEMPLATE_REVIEW",e[e.ONBOARDING=6]="ONBOARDING",e}({});let va=(()=>{class e{constructor(e,t,i){this.store=e,this.sharedData=t,this.modalService=i,this.onSelect=new X.o,this.onClose=new X.o,this.selectedTab$=new oa.a(fa.TEAM),this.selectedState=_a.MAIN,this.templateCenterStatus=_a,this.TemplateTypes=Hi.d,this.rowExpandedMap={},this.quickCreating=!1,this.loading$=this.store.select(na.l),this.teamTemplates$=this.store.select(na.t),this.teamTemplatesTotalCount$=this.store.select(na.u),this.teamHasTemplates$=this.teamTemplatesTotalCount$.pipe(Object(Ge.a)(e=>!!e),Object(Fe.a)(e=>!!e),Object(Ne.a)(1)),this.filteringTeamTemplates$=this.store.select(na.i),this.clickUpTemplates$=this.store.select(na.c),this.clickUpTemplateCounts$=this.store.select(na.b),this.clickUpTemplateTotalCount$=this.store.select(na.e),this.clickUpTemplateUseCaseFilters$=this.store.select(na.d),this.filteringClickUpTemplates$=this.store.select(na.h),this.filterParams$=this.store.select(na.s),this.suggestedTemplates$=this.store.select(na.q),this.featuredTemplates$=this.store.select(na.g),this.templateTags$=this.store.select(na.w),this.team$=this.store.select(me.getTeam),this.user$=this.store.select(me.getUser),this.members$=this.store.select(me.getTeamNonGuestUsers),this.selectedTemplate$=this.store.select(na.p),this.shareLink$=this.selectedTemplate$.pipe(Object(Ge.a)(e=>!!e),Object(Fe.a)(e=>{var{type:t,id:i,public_key:a}=e,o=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i}(e,["type","id","public_key"]);return(o.public_sharing||o.public)&&a?`${window.location.origin}/template/${t}/${i}/${a}`:null})),this.isGuest$=this.store.select(me.isGuestTeam),this.typeFilters$=this.store.select(na.x).pipe(Object(qt.a)(this.loading$),Object(ra.a)(([e,t])=>e.forEach(e=>{const{name:i,count:a,isActive:o}=e;0===a&&o&&!t&&this.setTypeFilters({filterName:i,currentState:o})})),Object(Fe.a)(([e])=>e)),this.publicTemplateTags$=this.store.select(na.n),this.tagsFilter$=this.store.select(na.r),this.creatorFilter$=this.store.select(na.f),this.destroy$=new Ee.a,this.trackByProperty=Object(be.d)("type")}ngOnInit(){this.getInitialState(),this.store.select(na.m).pipe(Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(e=>{this.initialType&&this.initialType===e.initialType&&this.selectedState===_a.MAIN?(this.store.dispatch(ca.B()),this.typeFilters$.pipe(Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(e=>e.forEach(({name:e,isActive:t})=>{t&&this.updaterowExpandedMap({id:e,value:t})}))):(this.forOnboarding&&this.getSuggestedTemplates(),this.getTeamTemplates(),this.getClickUpTemplates(),this.getTemplateTags(),this.getFeaturedTemplates(),this.getPublicTemplateTags(),this.triggerInitialFilter())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe();let e={};this.selectedState!==_a.SELECTED_TEMPLATE&&this.selectedState!==_a.MAIN||(e={filtersForInitialType:this.initialType}),this.store.dispatch(ca.q(e))}close(e=!1){this.onClose.emit(e)}getInitialState(){this.forOnboarding&&(this.selectedState=_a.ONBOARDING),this.itemToSave&&(this.selectedState=_a.SAVE_NEW_TEMPLATE),this.updateExisting&&(this.selectedState=_a.UPDATE_EXISTING_TEMPLATE)}getTeamTemplates(){this.store.dispatch(ca.i())}getClickUpTemplates(){this.store.dispatch(ca.e())}getSuggestedTemplates(){this.store.dispatch(ca.h())}getFeaturedTemplates(){this.store.dispatch(ca.f())}getPublicTemplateTags(){this.store.dispatch(ca.g())}updaterowExpandedMap(e){this.rowExpandedMap[e.id]=e.value}goBack(){this.selectedState!==_a.MAIN||this.parentType!==Hi.d.Team&&!this.fromNewFolder?this.selectedState===_a.SELECTED_TEMPLATE&&this.forOnboarding?this.selectedState=_a.ONBOARDING:this.selectedState===_a.SELECTED_TEMPLATE?(this.selectedState=_a.MAIN,this.store.dispatch(ca.z({selectedTemplate:null}))):this.selectedState===_a.USE_TEMPLATE&&this.templateToUpdate?this.selectedState=_a.UPDATE_EXISTING_TEMPLATE:this.selectedState===_a.USE_TEMPLATE?this.selectedState=this.forOnboarding?_a.ONBOARDING:_a.SELECTED_TEMPLATE:this.selectedState===_a.UPDATE_EXISTING_TEMPLATE?this.selectedState=_a.SAVE_NEW_TEMPLATE:this.selectedState===_a.SUBMIT_TEMPLATE_REVIEW&&(this.selectedState=_a.SELECTED_TEMPLATE):this.modalService.close()}setTab(e){this.selectedTab$.next(e),this.rowExpandedMap={},this.mainSection.scrollToTab(e)}setTypeFilters({filterName:e,currentState:t}){var i,a;(!(null===(i=this.onlyAllowedTypes)||void 0===i?void 0:i.length)||(null===(a=this.onlyAllowedTypes)||void 0===a?void 0:a.includes(e))&&!t)&&(this.store.dispatch(ca.K({filterName:e})),this.updaterowExpandedMap({id:e,value:!t}))}setSearchTerm(e){this.store.dispatch(ca.y({searchTerm:e}))}clearSearchTerm(){this.store.dispatch(ca.o({loading:!0})),this.store.dispatch(ca.y({searchTerm:""}))}setCreatorFilter(e){this.store.dispatch(ca.G({creatorFilter:e}))}setUseCaseFilters(e){this.store.dispatch(ca.u({clickUpTemplatesUseCases:e}))}setTagsFilters(e){this.store.dispatch(ca.H({tags:e}))}setSelectedTemplate(e){this.store.dispatch(ca.z({selectedTemplate:e}))}addGlobalError(e){this.store.dispatch(new sa.b(e))}triggerInitialFilter(){if(this.initialType===Hi.d.FolderAndList)return this.setTypeFilters({filterName:"category",currentState:!1}),void this.setTypeFilters({filterName:"subcategory",currentState:!1});this.initialType===Hi.d.ListInitialType&&this.setTypeFilters({filterName:Hi.d.List,currentState:!1}),this.initialType&&this.setTypeFilters({filterName:this.initialType,currentState:!1})}updateTemplate({originalTemplate:e,changes:t}){this.store.dispatch(ca.M({originalTemplate:e,changes:t}))}updateSelectedTemplate({originalTemplate:e,changes:t}){this.store.dispatch(ca.L({originalTemplate:e,changes:t}))}loadMoreTeamTemplates(e){this.store.dispatch(ca.n(e))}getTemplateTags(){this.store.dispatch(ca.k())}showToast(e){this.sharedData.addToastItem(e)}quickCreate(e){if(this.returnOnTemplateSelect)return this.store.dispatch(ca.m({lastSelectedTemplate:e})),this.onClose.emit(),void(this.selectedState=_a.USE_TEMPLATE);this.quickCreating=!0,this.setSelectedTemplate(e),this.store.dispatch(ca.l({lastQuickSelectedTemplate:e})),this.store.dispatch(ca.m({lastSelectedTemplate:e})),this.selectedState=_a.USE_TEMPLATE}togglePublicTemplateTag(e){this.store.dispatch(ca.J({id:e}))}captureScrollPos(){this.lastScrollPos=this.mainSection.mainContainer.nativeElement.scrollTop}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(fe.a),X.Wb(_e.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center"]],viewQuery:function(e,t){if(1&e&&X.jd(la,1),2&e){let e;X.Qc(e=X.rc())&&(t.mainSection=e.first)}},hostAttrs:[1,"cu-template-center"],hostVars:2,hostBindings:function(e,t){2&e&&X.Ob("cu-template-center-onboarding",t.selectedState===t.templateCenterStatus.ONBOARDING)},inputs:{parent:"parent",parentType:"parentType",project:"project",itemToSave:"itemToSave",initialType:"initialType",updateExisting:"updateExisting",creatingTask:"creatingTask",fromTaskDraft:"fromTaskDraft",fromNewFolder:"fromNewFolder",initialTypeData:"initialTypeData",forOnboarding:"forOnboarding",returnOnTemplateSelect:"returnOnTemplateSelect",onlyAllowedTypes:"onlyAllowedTypes",docPageId:"docPageId"},outputs:{onSelect:"onSelect",onClose:"onClose"},decls:10,vars:17,consts:[[3,"selectedState","selectedTemplate","templateToUpdate","team","parentType","fromNewFolder","onBack","onClose"],["class","cu-template-center__body",4,"ngIf"],[3,"selectedTemplate","user","members","creatingTask","fromTaskDraft","team","shareLink","returnOnTemplateSelect","tags","onlyAllowedTypes","onUseTemplate","onError","onClose","onUpdateSelectedTemplate","onStateChange","onUpdateShareSettings","onGoToSubmitReview","onShowToast",4,"ngIf"],[3,"selectedTemplate","members","user","team","parent","parentType","creatingTask","fromTaskDraft","initialTypeData","initialType","quickCreating","onBack","onClose","onError","onShowToast","onStateChange",4,"ngIf"],[3,"parent","itemToSave","type","members","templateToUpdate","creatingTask","fromTaskDraft","user","tags","docPageId","onClose","onError","onStateChange","clearTemplateToUpdate",4,"ngIf"],[3,"teamTemplates","teamTemplateCreators","onClose","onUpdateSearchTerm","clearSearchTerm","onUpdateCreatorFilter","onStateChange","onTemplateToUpdateNext",4,"ngIf"],[3,"selectedTemplate","onCancel","onSubmitSuccess",4,"ngIf"],[3,"selectedTemplate","suggestedTemplates","onTemplateSelect","onClose","onStateChange",4,"ngIf"],[1,"cu-template-center__body"],[3,"loading","selectedTab","team","teamTemplates","teamTemplatesTotalCount","clickUpTemplateCounts","clickUpTemplateTotalCount","isGuest","typeFilters","publicTemplateTags","filteringClickUpTemplates","filteringTeamTemplates","onlyAllowedTypes","onTabChange","onTypeFiltersChange","onPublicTagSelect"],[3,"loading","selectedTab","team","teamTemplates","teamTemplatesTotalCount","teamTemplateCreators","clickUpTemplates","clickUpTemplateCounts","clickUpTemplateTotalCount","clickUpTemplateUseCasesFilter$","rowExpandedMap","suggestedTemplates","featuredTemplates","forOnboarding","fromTaskDraft","creatingTask","teamHasTemplates","filteringTeamTemplates","filteringClickUpTemplates","tags","tagsFilter","filterParams","lastScrollPos","selectedCreator","updaterowExpandedMap","onTemplateSelect","onQuickCreate","onUpdateSearchTerm","clearSearchTerm","onUpdateCreatorFilter","onUpdateUseCaseFilters","onUpdateTagFilters","onLoadMoreTeamTemplates","onUpdateTemplate","onTabChange"],["mainSection",""],[3,"selectedTemplate","user","members","creatingTask","fromTaskDraft","team","shareLink","returnOnTemplateSelect","tags","onlyAllowedTypes","onUseTemplate","onError","onClose","onUpdateSelectedTemplate","onStateChange","onUpdateShareSettings","onGoToSubmitReview","onShowToast"],[3,"selectedTemplate","members","user","team","parent","parentType","creatingTask","fromTaskDraft","initialTypeData","initialType","quickCreating","onBack","onClose","onError","onShowToast","onStateChange"],[3,"parent","itemToSave","type","members","templateToUpdate","creatingTask","fromTaskDraft","user","tags","docPageId","onClose","onError","onStateChange","clearTemplateToUpdate"],[3,"teamTemplates","teamTemplateCreators","onClose","onUpdateSearchTerm","clearSearchTerm","onUpdateCreatorFilter","onStateChange","onTemplateToUpdateNext"],[3,"selectedTemplate","onCancel","onSubmitSuccess"],[3,"selectedTemplate","suggestedTemplates","onTemplateSelect","onClose","onStateChange"]],template:function(e,t){1&e&&(X.cc(0,"cu-template-center-header",0),X.qc("onBack",function(){return t.goBack()})("onClose",function(){return t.close()}),X.vc(1,"async"),X.vc(2,"async"),X.bc(),X.bd(3,da,34,97,"div",1),X.bd(4,ua,7,22,"cu-template-center-selected-template",2),X.bd(5,pa,5,19,"cu-template-center-use-template",3),X.bd(6,ma,4,16,"cu-template-center-save-template",4),X.bd(7,ha,3,6,"cu-template-center-update-template",5),X.bd(8,ba,2,3,"cu-template-center-submit-template",6),X.bd(9,ga,3,6,"cu-template-center-onboarding-templates",7)),2&e&&(X.Dc("selectedState",t.selectedState)("selectedTemplate",X.wc(1,13,t.selectedTemplate$))("templateToUpdate",t.templateToUpdate)("team",X.wc(2,15,t.team$))("parentType",t.parentType)("fromNewFolder",t.fromNewFolder),X.Ib(3),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.MAIN),X.Ib(1),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.SELECTED_TEMPLATE),X.Ib(1),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.USE_TEMPLATE),X.Ib(1),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.SAVE_NEW_TEMPLATE),X.Ib(1),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.UPDATE_EXISTING_TEMPLATE),X.Ib(1),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.SUBMIT_TEMPLATE_REVIEW),X.Ib(1),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.ONBOARDING))},styles:['.cu-template-center{display:flex;flex-direction:column;width:1026px;height:calc(100vh - 80px);max-width:100%;background-color:#fafbfc}.cu-template-center-onboarding{height:auto;max-height:880px;min-height:506px}.dark-theme .cu-template-center{background-color:#2b343b}.cu-template-center__modal .cu-modal__header{display:none}.cu-template-center__modal .cu-modal__dialog{width:auto!important;max-width:90vw!important;max-height:calc(100vh - 80px);padding:0;overflow:hidden}.cu-template-center__modal .cu-modal__body{min-height:0;height:100%;display:flex}.cu-template-center__body{display:flex;justify-content:space-between;flex-grow:1;max-height:100%}.cu-template-center__option-section{margin-bottom:24px}.cu-template-center__option-split-container{border:1px solid #e9ebf0;border-radius:4px}.dark-theme .cu-template-center__option-split-container{border-color:#1e272e}.cu-template-center__option-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#292d34;padding-bottom:10px;display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-label{font-family:var(--global-font-support)}}.dark-theme .cu-template-center__option-label{color:#d5d6d7}.cu-template-center__option-input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;background-color:#fff;height:36px;width:100%;padding:0 12px;border:1px solid #e9ebf0;border-radius:4px;display:flex;align-items:center;box-shadow:none!important}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-input{font-family:var(--global-font-support)}}.dark-theme .cu-template-center__option-input{border-color:#1e272e;background-color:#384047;color:#d5d6d7}.cu-template-center__option-input-error{border-color:#d16464!important}.cu-template-center__option-input:-ms-input-placeholder{opacity:.7}.cu-template-center__option-input::placeholder{opacity:.7}.cu-template-center__option-textarea{box-sizing:border-box;height:82px;padding:12px}.cu-template-center__option-toggle-section{border:1px solid #e9ebf0;border-radius:4px;width:100%;height:54px;background-color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 18px}.cu-template-center__option-toggle-section-no-border{border:none}.cu-template-center__option-toggle-section-no-bot-border{border-bottom:none;border-radius:4px 4px 0 0}.dark-theme .cu-template-center__option-toggle-section{border-color:#1e272e;background-color:#384047}.cu-template-center__option-toggle-section-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#292d34;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-toggle-section-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center__option-toggle-section-text{color:#d5d6d7}.cu-template-center__option-toggle-section-italic-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;color:var(--theme-main-color);margin-right:24px;font-style:italic}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-toggle-section-italic-text{font-family:var(--global-font-support)}}.cu-template-center__option-toggle-section .cu-toggle-switch{margin-top:2px}.cu-template-center__option-uploader{background:#fff;border:1px dashed #e9ebf0;border-radius:4px;width:100%;height:80px;background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.dark-theme .cu-template-center__option-uploader{border-color:#1e272e;background-color:#384047}.cu-template-center__option-uploader-input{display:flex}.cu-template-center__option-uploader-input label span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#7b68ee}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-uploader-input label span{font-family:var(--global-font-support)}}@supports (--theme-main-color:#7b68ee){.cu-template-center__option-uploader-input label span{color:var(--theme-main-color)}}.cu-template-center__option-uploader-input label :hover{cursor:pointer}.cu-template-center__option-uploader-input input{display:none}.cu-template-center__option-uploader p:first-child{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;text-align:center;margin-bottom:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-uploader p:first-child{font-family:var(--global-font-support)}}.cu-template-center__option-uploader p:nth-child(2){-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;text-align:center;color:#b9bec7}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-uploader p:nth-child(2){font-family:var(--global-font-support)}}.cu-template-center__option-uploader-file-list>li{display:flex;align-items:center;padding:5px 0}.cu-template-center__option-uploader-file-list>li>*{margin:0 10px}.cu-template-center__option-uploader-file-list>li>img{width:25px}.cu-template-center__option-uploader-file-list>li>span{max-width:370px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cu-template-center__option-uploader-file-list>li>.icon{fill:#7b68ee;display:none;width:12px;height:12px;margin-left:auto}@supports (--theme-main-color:#7b68ee){.cu-template-center__option-uploader-file-list>li>.icon{fill:var(--theme-main-color)}}.cu-template-center__option-uploader-file-list>li>.icon :hover{cursor:pointer}.cu-template-center__option-uploader-file-list>li:hover>.icon{display:inline}.cu-template-center__option-link-section{padding:18px;border-top:1px solid #e3e3e3}.dark-theme .cu-template-center__option-link-section{border-top-color:#1e272e}.cu-template-center__option-link-section-bordered{border:1px solid #e3e3e3}.dark-theme .cu-template-center__option-link-section-bordered{border-color:#1e272e}.cu-template-center__option-link-section-copy{color:#7b68ee;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;padding-left:5px;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-template-center__option-link-section-copy{color:var(--theme-main-color)}}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__option-link-section-copy{font-family:var(--global-font-support)}}.cu-template-center__option-link-section-contents{background:#fff;border:1px solid #e9ebf0;border-radius:2px;display:flex;align-items:center;padding:18px;margin-top:10px}.dark-theme .cu-template-center__option-link-section-contents{background:#384047;border-color:#1e272e}.cu-template-center__option-link-section-contents-text{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;flex:1;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#222}.dark-theme .cu-template-center__option-link-section-contents-text{color:#abaeb0}.cu-template-center__option-link-section-top{display:flex;align-items:center}.cu-template-center__option-link-section-label{flex:1;display:flex;align-items:center;font:500 12px/20px Gotham Pro,Proxima Nova,arial,serif;color:#222}.dark-theme .cu-template-center__option-link-section-label{color:#d5d6d7}.cu-template-center__option-link-section-label-icon{width:12px;height:12px;margin-right:10px;fill:#222}.dark-theme .cu-template-center__option-link-section-label-icon{fill:#d5d6d7}.cu-template-center__radio-container{position:relative;padding:20px 18px 0;border:1px solid #e9ebf0;border-radius:4px;width:100%;background-color:#fff;display:flex;align-items:center;flex-wrap:wrap}.dark-theme .cu-template-center__radio-container{border-color:#1e272e;background-color:#384047}.cu-template-center__radio-container_label{padding-top:55px}.cu-template-center__radio-container-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;position:absolute;top:15px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__radio-container-label{font-family:var(--global-font-support)}}.dark-theme .cu-template-center__radio-container-label{color:#d5d6d7}.cu-template-center__radio-container-space-between{justify-content:space-between}.cu-template-center__radio-container-space-between .cu-template-center__radio-item{min-width:0}.cu-template-center__radio-container-squares{padding:0 5px;border:none;margin-bottom:-20px}.cu-template-center__radio-container-squares .cu-template-center__radio-item{min-width:0;width:33.3333%;max-width:33.3333%;padding-left:22px;font-size:10px;padding-top:1px}.cu-template-center__radio-container-squares .cu-template-center__radio-item:after{border-radius:3px}.cu-template-center__radio-container-squares .cu-template-center__radio-item:before{border-radius:2px}.cu-template-center__radio-container-unbordered{border:none;border-bottom:1px solid #e9ebf0;margin:10px 0 20px}.dark-theme .cu-template-center__radio-container-unbordered{border-color:#1e272e}.cu-template-center__radio-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#292d34;padding-left:25px;position:relative;min-width:26%;margin-bottom:20px;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__radio-item{font-family:var(--global-font-support)}}.cu-template-center__radio-item:hover{color:var(--theme-main-color)}.cu-template-center__radio-item:hover:after{border-color:var(--theme-main-color)}.dark-theme .cu-template-center__radio-item{color:#d5d6d7}.cu-template-center__radio-item:after{content:"";position:absolute;left:0;top:-4px;border-radius:50%;width:18px;height:18px;border:1px solid #b9bec7}.cu-template-center__radio-item:before{content:"";position:absolute;left:4px;top:0;border-radius:50%;width:10px;height:10px;background-color:var(--theme-main-color);opacity:0}.cu-template-center__radio-item-margin-right{margin-right:40px}.cu-template-center__radio-item-active:before{opacity:1}.cu-template-center__radio-item-disabled{opacity:.5;cursor:not-allowed}.cu-template-center__radio-item-disabled:hover{color:#292d34}.dark-theme .cu-template-center__radio-item-disabled:hover{color:#d5d6d7}.cu-template-center__radio-item-disabled:hover:after{border:1px solid #b9bec7}.cu-template-center__radio-item-no-margin{margin-bottom:0}.cu-template-center__radio-item-users{display:flex;align-items:center;max-width:none}.cu-template-center__radio-item-users:after{top:6px}.cu-template-center__radio-item-users:before{top:10px}.cu-template-center__select-users{margin-left:10px}.cu-template-center__select-users .cu-dropdown__toggle{cursor:pointer}.cu-template-center__dual-options{width:100%;border:1px solid #e9ebf0;border-radius:4px}.dark-theme .cu-template-center__dual-options{border-color:#1e272e}.cu-template-center__dual-options-header{display:flex;align-items:center;height:56px}.cu-template-center__dual-options-header-tab{width:50%;background-color:#fff;padding:0 16px;display:flex;align-items:center;height:100%;justify-content:space-between}.dark-theme .cu-template-center__dual-options-header-tab{background-color:#384047}.cu-template-center__dual-options-header-tab:first-of-type{border-right:1px solid #e9ebf0}.dark-theme .cu-template-center__dual-options-header-tab:first-of-type{border-color:#1e272e}.cu-template-center__dual-options-header-tab-link{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;color:var(--theme-main-color);cursor:pointer;text-decoration:underline}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__dual-options-header-tab-link{font-family:var(--global-font-support)}}.cu-template-center__dual-options-header-tab-link:hover{color:var(--theme-main-color-dark)}.cu-template-center__dual-options-header-tab-disabled{background-color:transparent;border-bottom:1px solid #e9ebf0;color:#7c828d}.dark-theme .cu-template-center__dual-options-header-tab-disabled{background-color:transparent;border-color:#1e272e}.cu-template-center__dual-options-body{padding:20px 15px;background-color:#fff}.dark-theme .cu-template-center__dual-options-body{background-color:#384047}.cu-template-center__dual-options-body-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#292d34;padding-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__dual-options-body-header{font-family:var(--global-font-support)}}.dark-theme .cu-template-center__dual-options-body-header{color:#d5d6d7}.cu-template-center__dual-options-body-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:18px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center__dual-options-body-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center__dual-options-body-text{color:#d5d6d7}.cu-template-center__dual-options .cu-template-center__radio-item{flex-grow:1}'],encapsulation:2,changeDetection:0}),e})();var ya=i("wL2k"),wa=i("nSFl"),ka=i("8xs3"),xa=i("mNZE"),Ta=i("knwd"),Sa=i("OPNx"),ja=i("qTOR"),Oa=i("wlHh"),Ia=i("LLqd"),Da=i("AeD3"),Ca=i("ILsm"),Pa=i("ejAw"),$a=i("xog/"),za=i("Nm8O"),Ma=i("QJDM"),Ea=i("G/ZS"),La=i("cp0P");let Aa=(()=>{class e{constructor(e,t){this.sharedDataService=e,this.store=t}addOrUpdateProject(e){this.store.dispatch(new ge.Qf(e.id))}deleteProject(e){this.getProjectData().subscribe(([t,i])=>{this.store.dispatch(new ge.Uj(t.filter(t=>t.id!==e),"data sync remove"))})}getProjectData(){return Object(La.a)([this.store.pipe(Object(ye.select)(me.getProjects),Object(Yt.a)()),this.sharedDataService.compatCurrentProject$.pipe(Object(Yt.a)())])}}return e.\u0275fac=function(t){return new(t||e)(X.nc(fe.a),X.nc(ye.Store))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Fa=i("qpQx"),Ua=i("ur8Q"),Na=i("Dvla"),Ra=i("HsHS"),Ga=i("lPHu"),qa=i("wO+i"),Ba=i("Muja"),Wa=i("LRne"),Va=i("HHlo");let Xa=(()=>{class e{constructor(e){this.store=e}loadHierarchyFields(e){this.store.select(ia.qb).pipe(Object(Ge.a)(e=>!!e),Object(qa.a)("parent"),Object(Ue.a)(Ba.a),Object(qt.a)(this.store.select(me.getTeam)),Object(Vt.a)(([e,t])=>{switch(e.type){case ce.e.Team:return Object(Wa.a)(Object(me.getHierarchyEntity)(t,null,null,null));case ce.e.Project:return this.store.select(Object(me.getProjectById)(e.id)).pipe(Object(Ge.a)(e=>!!e),Object(Fe.a)(e=>Object(me.getHierarchyEntity)(t,e,null,null)));case ce.e.Category:return this.store.select(me.getCategory).pipe(Object(Ge.a)(e=>!!e),Object(qt.a)(this.store.select(me.getProject)),Object(Fe.a)(([e,i])=>Object(me.getHierarchyEntity)(t,i,e,null)));case ce.e.Subcategory:return this.store.select(me.getSubcategory).pipe(Object(Ge.a)(e=>!!e),Object(qt.a)(this.store.select(me.getProject)),Object(Fe.a)(([e,i])=>Object(me.getHierarchyEntity)(t,i,null,e)));case ce.e.SharedSpace:default:return Object(Nt.a)([this.store.select(me.getTeam),this.store.select(me.getProject),this.store.select(me.getCategory),this.store.select(me.getSubcategory)]).pipe(Object(Fe.a)(([e,t,i,a])=>Object(me.getHierarchyEntity)(e,t,i,a)))}}),Object(Ge.a)(e=>e&&!1!==e.access),Object(Ue.a)(Ba.a),Object(Re.a)(e)).subscribe(e=>{this.store.dispatch(Object(Va.m)({entity:e}))})}}return e.\u0275fac=function(t){return new(t||e)(X.nc(ye.Store))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ha=i("ZlQq"),Ya=i("53dZ"),Za=i("YAnr"),Qa=i("4F4K"),Ka=i("kQRK"),Ja=i("Uo20");let eo=(()=>{class e{constructor(e,t,i){this.store=e,this.attachmentsViewerService=t,this.modalService=i}handleEvent(e,t){const i=e.value;"clickup_video"===i.service?this.store.select(Object(Qa.d)(e.taskId)).pipe(Object(Ne.a)(1)).subscribe(e=>{const t=e&&e.attachments&&e.attachments.find(e=>e.url===i.id);if(t){const i=e.permissions.remove_attachments&&e.permission_level!==Ie.e.COMMENT,a=e.permission_level===Ie.e.COMMENT;this.attachmentsViewerService.onOpen.emit({attachments:e.attachments,index:e.attachments.indexOf(t),taskId:e.id,canRemove:i,canRemoveOwn:a,canEdit:i,canEditOwn:a,canChangeDescription:e.permissions.change_description,coverImage:e.coverimage})}else this.attachmentsViewerService.onOpen.emit({attachments:[{id:i.id,url:i.id,extension:"webm",title:""}],index:0,canEdit:!1,canEditOwn:!1})}):this.openFrameModal(Object(Za.p)(e.value,!0),t)}openFrameModal(e,t){const i=this.modalService.openComponent(Ka.a,t,{modifier:"cu-modal__frame-modal"});i.instance.url=e,i.instance.skipHeaderCheck=!0,i.instance.autoPlay=!0,i.location.nativeElement.classList.add("cu-modal__frame-container")}}return e.\u0275fac=function(t){return new(t||e)(X.nc(ye.Store),X.nc(Ja.a),X.nc(_e.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var to=i("CDR3"),io=i("AirQ"),ao=i("7XkT"),oo=i("DkPU");const co=["createTaskDraft"],no=["createProjectModal"],so=["createCategoryModal"],ro=["joinTeamPromptModal"],lo=["projectAccessDenied"],uo=["onboardingImportModal"],po=["inviteExpiredModal"],mo=["sharingModal"],ho=["quickCreateReminderModal"],bo=["paywallBusinessEmailTemplate"];function go(e,t){1&e&&X.Xb(0,"cu-web-push-notification-banner",37),2&e&&X.Dc("localStorageKey","notification-manager")}function fo(e,t){if(1&e&&(X.Xb(0,"cu-nav-favorites-bar",38),X.vc(1,"async")),2&e){const e=X.uc();let t=null;X.Dc("isSidebarDark",(null==(t=X.wc(1,2,e.user$))?null:t.sidebar_theme)===e.LeftSidebarTheme.Dark)("@loadingEnter",void 0)}}function _o(e,t){if(1&e&&(X.ac(0),X.Xb(1,"cu2-spaces-bar",39),X.vc(2,"async"),X.vc(3,"async"),X.Zb()),2&e){const e=X.uc(2);let t=null;X.Ib(1),X.Dc("showProjects",!1)("isSidebarDark",(null==(t=X.wc(2,2,e.user$))?null:t.sidebar_theme)===e.LeftSidebarTheme.Dark&&!(null!=(t=X.wc(3,4,e.user$))&&t.dark_theme))}}function vo(e,t){if(1&e&&(X.ac(0),X.Xb(1,"cu2-spaces-bar",39),X.vc(2,"async"),X.vc(3,"async"),X.Zb()),2&e){const e=X.uc(2);let t=null;X.Ib(1),X.Dc("showProjects",!0)("isSidebarDark",(null==(t=X.wc(2,2,e.user$))?null:t.sidebar_theme)===e.LeftSidebarTheme.Dark&&!(null!=(t=X.wc(3,4,e.user$))&&t.dark_theme))}}function yo(e,t){if(1&e&&(X.ac(0),X.Xb(1,"cu-simple-bar",40),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.Zb()),2&e){const e=X.uc(2);let t=null,i=null;X.Ib(1),X.ad("max-width",null!=(t=X.wc(2,5,e.sidebarOptions$))&&t.isCollapsed?0:X.wc(3,7,e.sidebarWidth$)-1,"px"),X.Dc("showProjects",!1)("isSidebarDark",(null==(i=X.wc(4,9,e.user$))?null:i.sidebar_theme)===e.LeftSidebarTheme.Dark&&!(null!=(i=X.wc(5,11,e.user$))&&i.dark_theme))("user",X.wc(6,13,e.user$))}}function wo(e,t){if(1&e&&(X.ac(0),X.bd(1,_o,4,6,"ng-container",9),X.vc(2,"async"),X.bd(3,vo,4,6,"ng-container",9),X.vc(4,"async"),X.vc(5,"async"),X.bd(6,yo,7,15,"ng-container",9),X.vc(7,"async"),X.Zb()),2&e){const e=X.uc();let t=null,i=null,a=null;X.Ib(1),X.Dc("ngIf",(null==(t=X.wc(2,3,e.user$))?null:t.dashboard)===e.LayoutVersion.Two),X.Ib(2),X.Dc("ngIf",(null==(i=X.wc(4,5,e.user$))?null:i.dashboard)===e.LayoutVersion.Four||(null==(i=X.wc(5,7,e.user$))?null:i.dashboard)===e.LayoutVersion.Five),X.Ib(3),X.Dc("ngIf",(null==(a=X.wc(7,9,e.user$))?null:a.dashboard)===e.LayoutVersion.Six)}}function ko(e,t){if(1&e&&(X.Xb(0,"cu-nav-favorites-bar",38),X.vc(1,"async")),2&e){const e=X.uc();let t=null;X.Dc("isSidebarDark",(null==(t=X.wc(1,2,e.user$))?null:t.sidebar_theme)===e.LeftSidebarTheme.Dark)("@loadingEnter",void 0)}}function xo(e,t){1&e&&X.Xb(0,"cu2-list-details-sidebar"),2&e&&X.Dc("@rightSidebar",void 0)}function To(e,t){if(1&e&&(X.Xb(0,"cu-wistia-overlay",41),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async")),2&e){const e=X.uc();let t=null,i=null;X.Dc("wistiaId",null==(t=X.wc(1,3,e.showWistiaVideo$))?null:t.id)("miscData",null==(i=X.wc(2,5,e.showWistiaVideo$))?null:i.miscData)("user",X.wc(3,7,e.user$))}}function So(e,t){if(1&e){const e=X.dc();X.cc(0,"create-task-draft",42,43),X.qc("onTaskCreated",function(t){return X.Uc(e),X.uc().onTaskCreated(t)}),X.bc()}}function jo(e,t){1&e&&(X.ac(0),X.dd(1,"Clip Created!"),X.Zb())}function Oo(e,t){if(1&e&&(X.ac(0),X.gc(1,50),X.Zb()),2&e){const e=X.uc(2).$implicit;X.Ib(1),X.kc(e.loadPercent),X.hc(1)}}function Io(e,t){1&e&&(X.ac(0),X.gc(1,51),X.Zb())}function Do(e,t){if(1&e&&(X.ac(0),X.bd(1,Oo,2,1,"ng-container",9),X.bd(2,Io,2,0,"ng-container",9),X.Zb()),2&e){const e=X.uc().$implicit;X.Ib(1),X.Dc("ngIf",e.loadPercent<100),X.Ib(1),X.Dc("ngIf",100===e.loadPercent)}}function Co(e,t){1&e&&(X.ac(0),X.gc(1,52),X.Zb())}function Po(e,t){1&e&&(X.ac(0),X.gc(1,63),X.Zb())}function $o(e,t){1&e&&(X.ac(0),X.gc(1,64),X.Zb())}function zo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",53),X.cc(1,"div",54),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(2).addClipToastToNewTask(t)}),X.Xb(2,"div",55),X.cc(3,"div",56),X.gc(4,57),X.bc(),X.bc(),X.cc(5,"div",58,59),X.qc("cbOnSuccess",function(){return X.Uc(e),X.Rc(6).setCopied()}),X.Xb(7,"div",60),X.cc(8,"div",56),X.bd(9,Po,2,0,"ng-container",61),X.bd(10,$o,2,0,"ng-template",null,62,X.cd),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.Rc(6),t=X.Rc(11),i=X.uc().$implicit;X.Ib(5),X.Dc("cbContent",i.viewUrl),X.Ib(4),X.Dc("ngIf",e.copied)("ngIfElse",t)}}function Mo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",54),X.qc("click",function(){X.Uc(e);const t=X.uc(2).$implicit;return X.uc(2).retryClipToastUpload(t)}),X.Xb(1,"div",68),X.cc(2,"div",56),X.gc(3,69),X.bc(),X.bc()}}function Eo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",53),X.cc(1,"div",54),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(2).downloadClipToast(t)}),X.Xb(2,"div",65),X.cc(3,"div",56),X.gc(4,66),X.bc(),X.bc(),X.bd(5,Mo,4,0,"div",67),X.bc()}if(2&e){const e=X.uc().$implicit;X.Ib(5),X.Dc("ngIf",e.error)}}function Lo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",44),X.cc(1,"span",45),X.cc(2,"span",46),X.bd(3,jo,2,0,"ng-container",9),X.bd(4,Do,3,2,"ng-container",9),X.bd(5,Co,2,0,"ng-container",9),X.bc(),X.cc(6,"div",47),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(2).cancelClipToast(i)}),X.Xb(7,"div",48),X.bc(),X.bc(),X.bd(8,zo,12,3,"div",49),X.bd(9,Eo,6,1,"div",49),X.bc()}if(2&e){const e=t.$implicit;X.Ib(3),X.Dc("ngIf",e.attachment),X.Ib(1),X.Dc("ngIf",!e.attachment&&!e.error),X.Ib(1),X.Dc("ngIf",e.error),X.Ib(3),X.Dc("ngIf",e.attachment),X.Ib(1),X.Dc("ngIf",e.error||!e.attachment)}}const Ao=function(e){return{toast_left:e}};function Fo(e,t){if(1&e&&(X.cc(0,"div",15),X.bd(1,Lo,10,5,"div",16),X.bc()),2&e){const e=X.uc();X.Dc("ngClass",X.Hc(3,Ao,e.isTaskModalOpen)),X.Ib(1),X.Dc("ngForOf",e.clipToasts)("ngForTrackBy",e.trackById)}}function Uo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",44),X.cc(1,"span",45),X.cc(2,"span",46),X.cc(3,"span",70),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().viewNewTask(i)}),X.dd(4),X.bc(),X.dd(5),X.bc(),X.cc(6,"div",47),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().taskService.removeNotif(i)}),X.Xb(7,"div",48),X.bc(),X.bc(),X.cc(8,"div",53),X.cc(9,"div",71),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().viewNewTask(i)}),X.cc(10,"div",72),X.tc(),X.cc(11,"svg",73),X.cc(12,"g",74),X.cc(13,"g",75),X.Xb(14,"polyline",76),X.Xb(15,"path",77),X.bc(),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(16,"div",78),X.gc(17,79),X.bc(),X.cc(18,"div",80),X.dd(19,"(1)"),X.bc(),X.bc(),X.cc(20,"div",81),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().minimizeTask(i)}),X.tc(),X.cc(21,"svg",82),X.cc(22,"g",83),X.cc(23,"g",84),X.cc(24,"g",85),X.Xb(25,"path",86),X.Xb(26,"polyline",87),X.Xb(27,"path",88),X.bc(),X.bc(),X.bc(),X.bc(),X.dd(28),X.sc(),X.cc(29,"div",80),X.dd(30,"(2)"),X.bc(),X.bc(),X.cc(31,"div",89),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().setCopyingText(i)})("cbOnSuccess",function(){X.Uc(e);const i=t.$implicit;return X.uc().setCopiedText(i)}),X.Xb(32,"div",60),X.cc(33,"div",56),X.dd(34),X.bc(),X.cc(35,"div",80),X.dd(36,"(3)"),X.bc(),X.bc(),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ib(4),X.ed(e.name),X.Ib(1),X.fd(" ",e.newTaskText,""),X.Ib(23),X.fd(" ",e.trayButtonText," "),X.Ib(3),X.Dc("cbContent",e.taskLink),X.Ib(3),X.ed(e.clipboardText)}}function No(e,t){if(1&e&&X.Xb(0,"div",109),2&e){const e=X.uc().$implicit;X.ad("background-color",e.status.color)}}function Ro(e,t){if(1&e&&(X.cc(0,"div",107),X.bd(1,No,1,2,"div",108),X.dd(2),X.vc(3,"secondsToHumanTime"),X.bc()),2&e){const e=t.$implicit,i=X.uc(2),a=i.$implicit,o=i.index;X.Ib(1),X.Dc("ngIf",!e.simple_statuses),X.Ib(1),X.gd(" ",e.name," (+",X.wc(3,3,a.dependenciesAdjusted[o].diff/1e3),") ")}}function Go(e,t){if(1&e){const e=X.dc();X.cc(0,"div"),X.bd(1,Ro,4,5,"div",101),X.cc(2,"div",53),X.cc(3,"div",71),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc().undoRescheduledTasksToast(t)}),X.cc(4,"div",102),X.tc(),X.cc(5,"svg",103),X.Xb(6,"path",104),X.bc(),X.bc(),X.sc(),X.cc(7,"div",105),X.gc(8,106),X.bc(),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc().$implicit,t=X.uc();X.Ib(1),X.Dc("ngForOf",e.tasks)("ngForTrackBy",t.trackById)}}const qo=function(e){return{"toast__rescheduled-tasks-header-title-arrow_up":e}};function Bo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",90),X.cc(1,"div",91),X.cc(2,"div",92),X.Xb(3,"div",93),X.Xb(4,"div",94),X.bc(),X.cc(5,"div",95),X.mc(6,96),X.cc(7,"div",97),X.cc(8,"div",98),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().toggleRescheduledTasksVisible(i)}),X.bc(),X.cc(9,"div",99),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().toggleRescheduledTasksVisible(i)}),X.bc(),X.bc(),X.jc(),X.bc(),X.cc(10,"div",100),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().hideRescheduledTasksToast(i)}),X.bc(),X.bc(),X.bd(11,Go,9,2,"div",9),X.bc()}if(2&e){const e=t.$implicit;X.Ib(9),X.Dc("ngClass",X.Hc(3,qo,e.showTasks)),X.kc(e.dependenciesAdjusted.length),X.hc(6),X.Ib(2),X.Dc("ngIf",e.showTasks)}}function Wo(e,t){if(1&e&&X.Xb(0,"cu-countdown",118),2&e){const e=X.uc().$implicit;X.Dc("time",e.timeout)}}function Vo(e,t){1&e&&(X.cc(0,"div",119),X.ac(1),X.gc(2,120),X.Zb(),X.dd(3,": "),X.bc())}function Xo(e,t){if(1&e&&(X.cc(0,"div",45),X.dd(1),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.fd(" ",e.plainTitle," ")}}function Ho(e,t){if(1&e&&(X.cc(0,"span",121),X.dd(1),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.fd(" ",e.plainDescription," ")}}function Yo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",71),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc()._undoAction(t)}),X.cc(1,"div",102),X.tc(),X.cc(2,"svg",103),X.Xb(3,"path",122),X.bc(),X.bc(),X.sc(),X.cc(4,"div",105),X.gc(5,123),X.bc(),X.bc()}}function Zo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",44),X.cc(1,"div",110),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().viewNewTask(i.task)}),X.bd(2,Wo,1,1,"cu-countdown",111),X.cc(3,"div",112),X.bd(4,Vo,4,0,"div",113),X.Xb(5,"span",114),X.vc(6,"trustHTML"),X.bc(),X.bc(),X.bd(7,Xo,2,1,"div",115),X.bd(8,Ho,2,1,"span",116),X.cc(9,"div",53),X.bd(10,Yo,6,0,"div",117),X.cc(11,"div",47),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc()._removeAction(i)}),X.Xb(12,"div",48),X.bc(),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ob("toast__undo-deleted",e.deleteAction),X.Ib(2),X.Dc("ngIf",e.countdown),X.Ib(2),X.Dc("ngIf",e.deleteAction),X.Ib(1),X.Dc("innerHTML",X.wc(6,8,e.description),X.Vc),X.Ib(2),X.Dc("ngIf",e.plainTitle),X.Ib(1),X.Dc("ngIf",e.plainDescription),X.Ib(2),X.Dc("ngIf",e.method||e.undoBody||e.undoSubtasks||e.undoTag||e.archiveUndo||e.dependencyBatch||e.undoReminder||e.multListTaskIds)}}function Qo(e,t){if(1&e){const e=X.dc();X.cc(0,"div",124),X.cc(1,"div",125),X.dd(2),X.bc(),X.cc(3,"div",53),X.cc(4,"div",47),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc()._removeAction(i,!0)}),X.Xb(5,"div",48),X.bc(),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ib(2),X.fd(" ",e," ")}}function Ko(e,t){if(1&e&&X.dd(0),2&e){const e=X.uc().$implicit;X.ed(e.title)}}function Jo(e,t){if(1&e&&X.Xb(0,"span",134),2&e){const e=X.uc(2).$implicit;X.Dc("innerHTML",e.titleHtml,X.Vc)}}function ec(e,t){if(1&e){const e=X.dc();X.cc(0,"span",135),X.qc("click",function(){return X.Uc(e),X.uc(2).$implicit.clickAction()}),X.gc(1,136),X.bc()}}function tc(e,t){if(1&e&&(X.cc(0,"div",45),X.bd(1,Jo,1,1,"span",132),X.bd(2,ec,2,0,"span",133),X.bc()),2&e){const e=X.uc().$implicit,t=X.Rc(2);X.Ob("toast__settings-link",e.clickAction)("toast_bold",e.bold),X.Ib(1),X.Dc("ngIf",!!e.titleHtml)("ngIfElse",t),X.Ib(1),X.Dc("ngIf",e.clickAction)}}function ic(e,t){if(1&e&&X.Xb(0,"span",134),2&e){const e=X.uc(2).$implicit;X.Dc("innerHTML",e.titleHtml,X.Vc)}}function ac(e,t){if(1&e&&(X.cc(0,"span",45),X.cc(1,"a",137),X.cc(2,"span",138),X.bd(3,ic,1,1,"span",132),X.bc(),X.bc(),X.bc()),2&e){const e=X.uc().$implicit,t=X.Rc(2);X.Ib(1),X.Dc("routerLink",e.titleLink),X.Ib(2),X.Dc("ngIf",!!e.titleHtml)("ngIfElse",t)}}function oc(e,t){if(1&e&&(X.cc(0,"span",121),X.dd(1),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.fd(" ",e.description," ")}}function cc(e,t){if(1&e&&(X.ac(0),X.dd(1),X.Zb()),2&e){const e=X.uc(2).$implicit;X.Ib(1),X.ed(e.linkText)}}function nc(e,t){1&e&&(X.ac(0),X.gc(1,142),X.Zb())}function sc(e,t){if(1&e){const e=X.dc();X.cc(0,"a",139),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(2).sharedData.removeToast(t)}),X.cc(1,"div",72),X.tc(),X.cc(2,"svg",140),X.cc(3,"g",74),X.cc(4,"g",75),X.Xb(5,"polyline",76),X.Xb(6,"path",77),X.bc(),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(7,"div",78),X.bd(8,cc,2,1,"ng-container",61),X.bd(9,nc,2,0,"ng-template",null,141,X.cd),X.bc(),X.bc()}if(2&e){const e=X.Rc(10),t=X.uc().$implicit;X.Dc("routerLink",t.url)("queryParams",t.queryParams),X.Ib(8),X.Dc("ngIf",t.linkText)("ngIfElse",e)}}function rc(e,t){if(1&e&&(X.ac(0),X.dd(1),X.Zb()),2&e){const e=X.uc(2).$implicit;X.Ib(1),X.ed(e.linkText)}}function lc(e,t){1&e&&(X.ac(0),X.gc(1,151),X.Zb())}function dc(e,t){if(1&e&&(X.cc(0,"div",152),X.dd(1),X.bc()),2&e){const e=X.uc(2).$implicit;X.Ib(1),X.fd(" ",e.linkTextUnderlined," ")}}function uc(e,t){if(1&e){const e=X.dc();X.cc(0,"a",143),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(2).sharedData.removeToast(t)}),X.cc(1,"div",144),X.tc(),X.cc(2,"svg",145),X.Xb(3,"path",146),X.Xb(4,"polyline",147),X.Xb(5,"line",148),X.bc(),X.bc(),X.sc(),X.cc(6,"div",78),X.bd(7,rc,2,1,"ng-container",61),X.bd(8,lc,2,0,"ng-template",null,149,X.cd),X.bd(10,dc,2,1,"div",150),X.bc(),X.bc()}if(2&e){const e=X.Rc(9),t=X.uc().$implicit;X.Dc("href",t.externalUrl,X.Xc),X.Ib(7),X.Dc("ngIf",t.linkText)("ngIfElse",e),X.Ib(3),X.Dc("ngIf",t.linkTextUnderlined)}}function pc(e,t){if(1&e){const e=X.dc();X.cc(0,"div"),X.bd(1,Ko,1,1,"ng-template",null,127,X.cd),X.bd(3,tc,3,7,"div",128),X.bd(4,ac,4,3,"span",115),X.bd(5,oc,2,1,"span",116),X.cc(6,"div",53),X.bd(7,sc,11,4,"a",129),X.bd(8,uc,11,4,"a",130),X.cc(9,"div",131),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(2).sharedData.removeToast(i)}),X.Xb(10,"div",48),X.bc(),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Mb("toast__undo ",null==e?null:e.modifier,""),X.Ib(3),X.Dc("ngIf",!e.titleLink),X.Ib(1),X.Dc("ngIf",e.titleLink),X.Ib(1),X.Dc("ngIf",e.description),X.Ib(1),X.Ob("toast__settings-link",e.clickAction),X.Ib(1),X.Dc("ngIf",e.url),X.Ib(1),X.Dc("ngIf",e.externalUrl)}}function mc(e,t){if(1&e&&(X.cc(0,"div",19),X.bd(1,pc,11,10,"div",126),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",e.sharedData.toastItems)}}const hc=function(e){return{width:e}};function bc(e,t){if(1&e&&X.Xb(0,"img",161),2&e){const e=X.uc().$implicit;X.Dc("ngClass","cu-beacons__btn-img_"+e.id)("src",e.image,X.Xc)("ngStyle",X.Hc(3,hc,e.widthBeacon))}}function gc(e,t){if(1&e&&X.Xb(0,"div",162),2&e){const e=X.uc().$implicit;X.Dc("icon",e.id)("ngStyle",X.Hc(2,hc,e.widthBeacon))}}function fc(e,t){if(1&e&&(X.cc(0,"div",163),X.tc(),X.cc(1,"svg",164),X.Xb(2,"path",165),X.Xb(3,"path",166),X.Xb(4,"path",167),X.bc(),X.sc(),X.cc(5,"div",168),X.gc(6,169),X.bc(),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.Dc("ngStyle",X.Hc(1,hc,e.widthBeacon))}}function _c(e,t){if(1&e){const e=X.dc();X.cc(0,"a",156),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(2).goToIntegrationSelection(i)}),X.bd(1,bc,1,5,"img",157),X.bd(2,gc,1,4,"div",158),X.bd(3,fc,7,3,"div",159),X.cc(4,"div",160),X.qc("click",function(i){X.Uc(e);const a=t.$implicit;return X.uc(2).removeIntegration(a,i)}),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Dc("ngStyle",X.Hc(5,hc,null!=e&&e.widthContainer?e.widthContainer:"")),X.Ib(1),X.Dc("ngIf",e.image&&"csv"!==e.id),X.Ib(1),X.Dc("ngIf",!e.image&&"csv"!==e.id),X.Ib(1),X.Dc("ngIf","csv"===e.id),X.Ib(1),X.Dc("icon","close-modal-white")}}function vc(e,t){if(1&e&&(X.cc(0,"div",153),X.vc(1,"async"),X.cc(2,"div",154),X.bd(3,_c,5,7,"a",155),X.bc(),X.bc()),2&e){const e=X.uc();X.Dc("ngClass",X.wc(1,3,e.beaconsModifier$)),X.Ib(3),X.Dc("ngForOf",e.sharedData.integrations)("ngForTrackBy",e.trackById)}}function yc(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-float-button",170),X.qc("onSelect",function(t){return X.Uc(e),X.uc().selectFloatMenuItem(t)})("onTimeTrackerAction",function(t){return X.Uc(e),X.uc().timeTrackerAction(t)})("onPin",function(t){return X.Uc(e),X.uc().pinItem(t)})("onCloseNotepad",function(){return X.Uc(e),X.uc().closeNotepad()})("onCloseTimeTracking",function(){return X.Uc(e),X.uc().closeTimeTracking()}),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.vc(7,"async"),X.bc()}if(2&e){const e=X.uc();let t=null,i=null;X.Dc("items",X.wc(1,8,e.floatMenuItems$))("floatButtonHide",e.floatButtonHide)("currentEntry",X.wc(2,10,e.mainTimeEntry$))("currentDuration",null==(t=X.wc(3,12,e.mainTimeEntry$))?null:t.duration)("hasTrayTasks",(null==(i=X.wc(4,14,e.trayTasks$))||null==i.fullTeamTray?null:i.fullTeamTray.length)>0)("notePadOpened",X.wc(5,16,e.scratchpadOpened$))("timeTrackerOpened",X.wc(6,18,e.isTimeTrackerOpen$))("user",X.wc(7,20,e.user$))}}function wc(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-scratchpad",171),X.qc("convertToTask",function(t){return X.Uc(e),X.uc().openTaskDrafter({convertNote:t})}),X.bc()}}function kc(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-time-tracker",172),X.qc("onTimeTrackerAction",function(t){return X.Uc(e),X.uc().timeTrackerAction(t)}),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.vc(7,"async"),X.vc(8,"async"),X.bc()}if(2&e){const e=X.uc();let t=null;X.Dc("dashboards",X.wc(1,8,e.dashboards$))("currentDuration",null==(t=X.wc(2,10,e.mainTimeEntry$))?null:t.duration)("defaultProject",X.wc(3,12,e.sharedData.compatCurrentProject$))("currentEntry",X.wc(4,14,e.mainTimeEntry$))("groupedEntries",X.wc(5,16,e.groupedTimeEntries$))("user",X.wc(6,18,e.user$))("tags",X.wc(7,20,e.timeEntryTags$))("team",X.wc(8,22,e.team$))}}function xc(e,t){1&e&&X.Xb(0,"cu-user-profile-sidebar"),2&e&&X.Dc("@rightSidebar",void 0)}function Tc(e,t){if(1&e&&(X.Xb(0,"cu-create-category",173),X.vc(1,"async")),2&e){const e=X.uc();let t=null;X.Dc("projectId",null==(t=X.wc(1,1,e.project$))?null:t.id)}}function Sc(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-join-team-prompt",174),X.qc("onTeamJoined",function(t){return X.Uc(e),X.uc()._teamInviteAccepted(t)}),X.vc(1,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("team",X.wc(1,1,e.sharedData.teamToJoin))}}function jc(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-import-modal",175),X.qc("closeImportModal",function(){return X.Uc(e),X.uc().closeImportModal()}),X.bc()}}function Oc(e,t){1&e&&X.Xb(0,"cu-access-denied")}function Ic(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-create-project-modal",176),X.qc("onCancel",function(){return X.Uc(e),X.uc().closeModal()}),X.vc(1,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("team",X.wc(1,1,e.team$))}}function Dc(e,t){1&e&&(X.cc(0,"div",177),X.gc(1,178),X.bc(),X.cc(2,"div",177),X.gc(3,179),X.bc())}function Cc(e,t){1&e&&(X.ac(0),X.gc(1,186),X.Zb())}function Pc(e,t){1&e&&(X.ac(0),X.gc(1,187),X.Zb())}function $c(e,t){1&e&&(X.ac(0),X.dd(1,"? "),X.Zb())}function zc(e,t){if(1&e&&X.Xb(0,"div",191),2&e){const e=X.uc(3);X.Dc("icon","cu2-view-"+(null==e.sharingModalState||null==e.sharingModalState.item?null:e.sharingModalState.item.viewType))}}function Mc(e,t){if(1&e&&(X.cc(0,"div",192),X.vc(1,"trustStyle"),X.bc()),2&e){const e=X.uc(3);X.ad("background-image",X.wc(1,2,"url('"+(null==e.sharingModalState||null==e.sharingModalState.item?null:e.sharingModalState.item.embed_settings.favicon)+"')"))}}function Ec(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",188),X.bd(2,zc,1,1,"div",189),X.bd(3,Mc,2,4,"div",190),X.bc(),X.dd(4),X.Zb()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngIf",!(null!=e.sharingModalState&&null!=e.sharingModalState.item&&null!=e.sharingModalState.item.embed_settings&&e.sharingModalState.item.embed_settings.favicon)),X.Ib(1),X.Dc("ngIf",null==e.sharingModalState||null==e.sharingModalState.item||null==e.sharingModalState.item.embed_settings?null:e.sharingModalState.item.embed_settings.favicon),X.Ib(1),X.fd(" ",e.dataViewTypeTitle[null==e.sharingModalState||null==e.sharingModalState.item?null:e.sharingModalState.item.viewType]," ")}}function Lc(e,t){1&e&&X.Xb(0,"div",193)}function Ac(e,t){1&e&&X.Xb(0,"div",194)}function Fc(e,t){if(1&e&&(X.cc(0,"div",180),X.cc(1,"div",181),X.bd(2,Cc,2,0,"ng-container",9),X.bd(3,Pc,2,0,"ng-container",9),X.dd(4),X.bd(5,$c,2,0,"ng-container",9),X.cc(6,"div",182),X.bd(7,Ec,5,3,"ng-container",9),X.bd(8,Lc,1,0,"div",183),X.bd(9,Ac,1,0,"div",184),X.dd(10),X.bc(),X.bc(),X.bc(),X.Xb(11,"cu-share-entity",185),X.vc(12,"async")),2&e){const e=X.uc();let t=null;X.Ib(2),X.Dc("ngIf","view"===(null==e.sharingModalState?null:e.sharingModalState.itemType)),X.Ib(1),X.Dc("ngIf","view"!==(null==e.sharingModalState?null:e.sharingModalState.itemType)),X.Ib(1),X.gd(" ",null==e.sharingModalState||null==e.sharingModalState.item?null:e.sharingModalState.item.name,"",null==e.sharingModalState||null==e.sharingModalState.item?null:e.sharingModalState.item.extraText,""),X.Ib(1),X.Dc("ngIf","view"===(null==e.sharingModalState?null:e.sharingModalState.itemType)),X.Ib(2),X.Dc("ngIf","view"===(null==e.sharingModalState?null:e.sharingModalState.itemType)),X.Ib(1),X.Dc("ngIf","project"===(null==e.sharingModalState?null:e.sharingModalState.itemType)),X.Ib(1),X.Dc("ngIf","space"===(null==e.sharingModalState?null:e.sharingModalState.itemType)),X.Ib(1),X.fd(" ",e.entityTitle[null==e.sharingModalState?null:e.sharingModalState.itemType]," "),X.Ib(1),X.Dc("projectId",(null==e.sharingModalState||null==e.sharingModalState.space?null:e.sharingModalState.space.id)||(null==(t=X.wc(12,13,e.project$))?null:t.id))("type",null==e.sharingModalState?null:e.sharingModalState.itemType)("item",null==e.sharingModalState?null:e.sharingModalState.item)("warning",null==e.sharingModalState?null:e.sharingModalState.warning)}}function Uc(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-quick-create-reminder",195),X.qc("onCreateReminder",function(){return X.Uc(e),X.uc().closeModal()})("onClose",function(){return X.Uc(e),X.uc().closeModal()}),X.bc()}}function Nc(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-paywall-popover",196),X.qc("upgradeClicked",function(){return X.Uc(e),X.uc().clickedUpgrade()}),X.bc()}if(2&e){const e=X.uc();X.Dc("badge",e.emailPaywallBusinessModalMeta.badge)("textBelowImage",e.emailPaywallBusinessModalMeta.textBelowImage)("image",e.emailPaywallBusinessModalMeta.image)("text",e.emailPaywallBusinessModalMeta.boldDescription)("upgradeButtonText",e.emailPaywallBusinessModalMeta.buttonText)("emailSubject",e.emailPaywallBusinessModalMeta.emailSubject)("features",e.emailPaywallBusinessModalMeta.features)("learnMore",e.emailPaywallBusinessModalMeta.learnMore)("flipBadge",!0)("forBusiness",!0)("imageWidth",180)}}const Rc=function(e,t,i){return{"layout-size_compact":e,"layout-size_default":t,"layout-size_large":i}},Gc=function(){return{}},qc=function(e,t){return{toast_left:e,"cu-hidden":t}},Bc={id:"task",title:$localize`:@@common_new-task--with-hotkey:New task (t)`,icon:"cu2-plus",color:"url(./assets/images/components/float-button/btn.png) center center/contain no-repeat"},Wc={id:"reminder",title:$localize`:@@common_reminder--with-hotkey:Reminder (r)`,icon:"cu2-remainder",color:"#49ccf9"},Vc={id:"time_tracking",title:$localize`:@@common_time-tracking:Time Tracking`,icon:"cu2-play",color:"#67CB45"},Xc={id:"notepad",title:$localize`:@@common_notepad--with-hotkey:Notepad (p)`,icon:"cu2-notepad-2",color:"#7b68ee"},Hc={id:"docs",title:$localize`:@@common_doc:Doc`,icon:"cu2-docs-fill",color:"#FBC501"},Yc={id:"clip",title:$localize`:@@common_clip-recording:Clip`,icon:"comment-bar-record",color:"#67cb48"},Zc={id:"tray",title:$localize`:@@common_task-tray:Task tray`,icon:"cu3-tray",color:"#7c828d"},Qc={id:"calendar",title:$localize`:@@common_calendar:Calendar`,icon:"cu3-calendar",color:"#67CB45",beta:!0};let Kc=(()=>{class e{constructor(e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w,k,x,T,S,j,O,I,D,C,P,$,z,M,E,L,A){this.sharedData=e,this.taskService=t,this.router=i,this.selectedTasks=a,this.dataService=o,this.preloader=c,this.navService=n,this.websocketService=s,this.modalService=r,this.featuresService=l,this.userService=d,this.helpers=u,this.route=p,this.renderer=m,this.store=h,this.sharedTaskService=b,this.zone=g,this.jwtHelper=f,this.importsService=_,this.boardService=v,this.dataSyncService=y,this.locationService=w,this.injector=k,this.dynamicComponentLoader=x,this.clipboard=T,this.changeDetector=S,this.renderHelperService=j,this.zoneScheduler=O,this.customFieldsHelper=I,this.actions$=D,this.sharedDocService=C,this.screenRecorderService=P,this.framePreviewHelperService=$,this.uploader=z,this.location=M,this.timeTrackerService=E,this.profileService=L,this.paywallCommonStringsService=A,this.destroy$=new Ee.a,this.canDelete$=this.store.pipe(Object(ye.select)(me.getUserEnterprisePermissions),Object(Fe.a)(e=>!e||e.delete_items===te.b.ON)),this.onlyDeleteIfOwner$=this.store.pipe(Object(ye.select)(me.getUserEnterprisePermissions),Object(Fe.a)(e=>e&&e.delete_items===te.b.CREATE)),this.isTimeTrackerOpen$=this.store.pipe(Object(ye.select)(qi.e)),this.currentTimeTrackerDuration$=this.store.pipe(Object(ye.select)(qi.a)),this.currentTimeTrackerEntry$=this.store.pipe(Object(ye.select)(qi.c),Object(Fe.a)(e=>e?Object.assign(Object.assign({},e),{duration:parseInt(e.start,10)-(new Date).getTime()}):e)),this.unsavedTimeTrackeEntry$=this.store.pipe(Object(ye.select)(qi.l)),this.mainTimeEntry$=Object(Nt.a)([this.currentTimeTrackerEntry$,this.unsavedTimeTrackeEntry$]).pipe(Object(Fe.a)(([e,t])=>e||t)),this.adjustForTimer$=Object(Nt.a)([this.isTimeTrackerOpen$,this.currentTimeTrackerDuration$]).pipe(Object(Fe.a)(([e,t])=>!e&&!!t)),this.groupedTimeEntries$=this.store.pipe(Object(ye.select)(qi.d),Object(Ue.a)()),this.timeEntryTags$=this.store.pipe(Object(ye.select)(qi.h)),this.dashboards$=this.store.select(Pi.i),this.team$=this.store.select(me.getTeam),this.user$=this.store.select(me.getUser),this.project$=this.store.select(me.getProject),this.isAllProjects$=this.project$.pipe(Object(Fe.a)(e=>!e)),this.isGuestTeam$=this.store.select(me.isGuestTeam),this.canCreateTask$=this.store.select(me.canCreateTask),this.hideSpacebar$=this.store.select(Q.i),this.isListDetailsSidebarOpen$=this.store.select(Zt.a),this.tagsMap$=this.store.select(yi.d),this.tagsLoadingMap$=this.store.select(yi.c),this.scratchpadOpened$=this.store.select(wa.f),this.favoritesPinned$=this.store.pipe(Object(ye.select)(mi.g)),this.billingStep$=this.store.pipe(Object(ye.select)(bi.b)),this.isProfileSidebarOpen$=this.store.select(Kt.e),this.sidebarWidth$=this.store.select(me.getSidebarWidthOption),this.sidebarOptions$=this.store.select(me.getSidebarOptions),this.weekStartsOn$=this.store.select(me.getWeekStartsOn),this.floatMenuItems$=Object(Nt.a)([this.user$,this.canCreateTask$,this.store.select(me.getCanCreateDoc),this.store.select(me.getTeam),this.screenRecorderService.recordingInProgress$,this.store.select(ta.b),this.store.select(me.getCanSeeTimeTracker)]).pipe(Object(qt.a)(this.isGuestTeam$,this.profileService.enabled$),Object(Fe.a)(([[e,t,i,a,o,c,n],s,r])=>{const l=[];if(a.enable_recorder&&!c&&!s&&Fi.a)if(o){const t=this.screenRecorderService.getRecording("manager");t&&e.dashboard&&(t.stop$?l.push(Object.assign(Object.assign({},Yc),{color:"#d64c4c",alwaysVisible:!0,title:$localize`:@@common_stop-recording:Stop recording`,beta:!1})):this.screenRecorderService.clearRecording("manager"))}else l.push(Yc);return i&&l.push(Hc),e&&e.scratchpad&&l.push(Object.assign(Object.assign({},Xc),{color:e.theme_color===Xc.color?"#fd71af":Xc.color})),l.push(Wc),r&&l.push(Qc),n&&l.push(Vc),t&&l.push(Bc),l.push(Zc),l})),this.trayTasks$=this.store.select(gi.d),this.beaconsModifier$=this.store.select(Q.d).pipe(Object(Fe.a)(e=>e&&e.includes("settings")&&e.includes("team")&&e.includes("project")?"cu-beacons_move":"")),this.isNotificationSettings$=this.store.select(Q.d).pipe(Object(Fe.a)(e=>e.includes("/settings/notifications"))),this.userIsCreatedMoreThanAWeekAgo$=this.user$.pipe(Object(Fe.a)(e=>di(+e.date_joined).isBefore(di().subtract(1,"week")))),this.onboardingJustFinished$=this.store.pipe(Object(ye.select)(me.onboardingJustFinishedSelector)),this.coverSidebar$=this.store.select(Q.q),this.showDashboards$=this.store.select(Pi.J),this.entityTitle=ne.J,this.isTaskModalOpen=!1,this.teamInvites=[],this.showProjectList=!1,this.updateSubcategory=!1,this.createDraft=!1,this.rescheduledTasksToasts$=this.store.select(Gt.a),this.trackById=Object(be.d)("id"),this.showWistiaVideo$=this.store.select(Ci),this.sharedItems$=this.store.select(Pi.w),this.sharedData$=this.store.pipe(Object(ye.select)(me.getSharedData),Object(Ge.a)(e=>!!e)),this.sharedCategories$=this.sharedData$.pipe(Object(Ge.a)(e=>!!e),Object(Fe.a)(e=>e.categories||[])),this.sharedSubcategories$=this.sharedData$.pipe(Object(Ge.a)(e=>!!e),Object(Fe.a)(e=>e.subcategories||[])),this.showFloatButton$=Object(Nt.a)([this.billingStep$,this.user$]).pipe(Object(Fe.a)(([e,t])=>t.dashboard===Ie.b.Six||2!==e)),this.openStatusConflictManagementModal$=this.store.select(me.openStatusConflictManagementModalSelector),this.dataViewTypeTitle=ce.s,this.LayoutVersion=Ie.b,this.LayoutSize=Ie.a,this.LeftSidebarTheme=Ie.c,this.floatButtonHide=!1,this.clipToasts=[],this.hideClipToasts=!1,this.emailPaywallBusinessModalMeta=K.i,this.isScreenRecordingSupported=Fi.a,this.openTemplateCenter$=this.store.select(me.openTemplateCenterSelector),this.store.select(me.getTeam).pipe(Object(Ge.a)(e=>e&&e.id&&!e.v2_beta),Object(Ne.a)(1)).subscribe(e=>{Object(fi.a)(this.preloader,e.id)}),Object(Rt.a)(window,"beforeunload").pipe(Object(qt.a)(this.team$.pipe(Object(Ge.a)(e=>!!e))),Object(Re.a)(this.destroy$)).subscribe(([,e])=>{ri.set("cu_team_id",e.id,{path:"/",expires:Date.now()+6e5,secure:!0})}),Object(Mi.d)().pipe(Object(Ge.a)(e=>"openTask"===e.action),Object(qt.a)(this.store.select(me.getTeam)),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{e.payload.teamId===t.id?this.sharedTaskService.openTaskExt({id:e.payload.taskId,teamId:e.payload.teamId,customId:e.payload.customId}):e.payload.customId&&e.payload.teamId?window.open(`${window.location.origin}/t/${e.payload.teamId}/${e.payload.customId}`,"_blank"):window.open(`${window.location.origin}/t/${e.payload.taskId}`,"_blank")}),Object(Rt.a)(document,ui.d).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.framePreviewHelperService.handleEvent(e.detail,this.injector)}),Object(Rt.a)(document,ui.e).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.clipboard.copyFromContent(e.data)}),this.importsService.hotkeys.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e?this.keydownListener&&(this.keydownListener(),this.keydownListener=null):this.initHotkeys()}),window.requestIdleCallback(()=>{this.dynamicComponentLoader.getComponentFactory("view-task").subscribe(),this.store.dispatch(new xa.e),this.store.dispatch(new Sa.j(!0)),this.store.dispatch(De.j()),this.locationService.currentCountry().subscribe(e=>{this.store.dispatch(new ge.Mj(e)),this.store.dispatch(new Yi.q({code:e.currency.code,symbol:e.currency.symbol})),["176.12.227.91","185.120.124.29","195.192.229.3","213.137.73.105","3.124.212.172","3.125.232.40","52.208.230.154","52.31.138.169","77.125.68.60","80.178.118.33","82.166.194.193","93.173.228.100"].includes(e.ip)&&Object(Gi.a)()})}),this.idleCancel=window.requestIdleCallback(e=>{let t=!1;for(void 0===e&&(e={timeRemaining:()=>Number.MAX_VALUE});(e.timeRemaining()>0||e.didTimeout)&&!t;)this.store.dispatch(new _i.bb),t=!0},{timeout:1e4}),this.navService.onSaveTemplate.pipe(Object(Ge.a)(e=>"project"===e.type),Object(Re.a)(this.destroy$)).subscribe(e=>{this.showSaveTemplateCategoryDialog(e.category)}),this.navService.onArchive.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{const t=e.category||e.section;t&&t.archived?this.navService.archive(e.type,t,!1):this.showConfirmArchiveDialog(e)}),this.navService.onCreate.pipe(Object(Ge.a)(e=>"list"===e.type&&e.template),Object(Re.a)(this.destroy$)).subscribe(e=>{this.showLoadTemplateSectionDialog(e.category)}),this.navService.onCopy.pipe(Object(Ge.a)(e=>"project"===e.type),Object(Re.a)(this.destroy$)).subscribe(e=>{this.showCopyCategoryDialog(e.category)}),this.navService.onMove.pipe(Object(Ge.a)(e=>"project"===e.type),Object(Re.a)(this.destroy$)).subscribe(e=>{this.showMoveCategoryDialog(e.category)}),this.navService.onRemove.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.navService.remove(e.type,e.category||e.section)}),this.navService.onSpaceCreate.pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{this._showCreateProjectModal(!1)}),this.customFieldsHelper.loadHierarchyFields(this.destroy$),this.selectedTasks.selectedTaskList$.pipe(Object(Ge.a)(e=>!(!e||!e.length)),Object(Re.a)(this.destroy$)).subscribe(()=>this.store.dispatch(new ge.zk({toolbarStatuses:[]}))),this.store.pipe(Object(ye.select)(me.getTeam),Object(Ge.a)(e=>Boolean(e&&e.id)),Object(Bt.a)("id"),Object(Wt.a)(1),Object(Re.a)(this.destroy$)).subscribe(()=>{setTimeout(()=>{window.cancelIdleCallback(this.idleTeamChange),this.idleTeamChange=window.requestIdleCallback(()=>{this.store.dispatch(new Sa.l),this.store.dispatch(De.j())})},500)}),this.store.pipe(Object(ye.select)(me.getProject),Object(Ge.a)(e=>!!e),Object(Bt.a)("id"),Object(qt.a)(this.isGuestTeam$),Object(Vt.a)(e=>this.renderHelperService.denyRender$.pipe(Object(Ge.a)(e=>!e),Object(Xt.a)(e),Object(Ne.a)(1))),Object(Fe.a)(([e])=>e),Object(Re.a)(this.destroy$)).subscribe(e=>{this.store.dispatch(Object(wi.e)({projectId:e.id,paging:null}))}),this.store.pipe(Object(ye.select)(Me.h),Object(Ge.a)(e=>e.isOpen),Object(Re.a)(this.destroy$)).subscribe(e=>{setTimeout(()=>this.openTimezoneModal(e),4e3)}),this.store.pipe(Object(ye.select)(Me.o),Object(Ge.a)(e=>e&&e.modalOpen),Object(Re.a)(this.destroy$)).subscribe(e=>{this.openUnresolvedModal(e.unresolvedTasks,e.unresolvedConflict,e.accessibleTasks,e.inaccessibleTasks,e.status,e.groupIdsMap,e.muteNotifications,e.extraData)}),this.store.pipe(Object(ye.select)(me.getSharingModal),Object(Ge.a)(e=>!!e),Object(Re.a)(this.destroy$)).subscribe(e=>this.openSharingModal(e)),this.store.pipe(Object(ye.select)(Ni.c),Object(Ge.a)(e=>e&&e.modalOpen),Object(Re.a)(this.destroy$)).subscribe(e=>{this.openDependencyModal(e.modalValues)}),this.websocketService.onChange.pipe(this.zoneScheduler.observeOnNgZone(),Object(Re.a)(this.destroy$)).subscribe(e=>{if(e&&e.type){if("timeTrackerStarted"!==e.type&&"timeTrackerStopped"!==e.type||this.store.dispatch(De.j()),"viewCreated"!==e.type&&"viewUpdated"!==e.type||this.store.dispatch(new ge.Lj({view:Object(ne.vb)(e.view),created:"viewCreated"===e.type})),"viewDeleted"===e.type&&this.store.dispatch(new ge.Lj({deleted:e.deletedView})),"importComplete"===e.type&&(this.sharedData.compatCurrentProject&&this.sharedData.compatCurrentProject.id&&(this.dataService.getProjectById(this.sharedData.compatCurrentProject.id).subscribe(e=>{this.store.dispatch(new ge.aj(e,"ws importComplete")),this.featuresService.projectFeatures=e.features}),this.store.dispatch(Object(wi.e)({projectId:this.sharedData.compatCurrentProject.id,paging:null}))),this.store.dispatch(new ge.Rf)),("projectCreated"===e.type||"projectEdited"===e.type)&&e.payload&&e.payload.project&&e.payload.team===this.sharedData.compatCurrentTeam.id&&this.dataSyncService.addOrUpdateProject(e.payload.project),"projectDeleted"===e.type&&e.payload&&e.payload.project_id&&e.payload.team===this.sharedData.compatCurrentTeam.id&&this.dataSyncService.deleteProject(e.payload.project_id),"taskCopyComplete"===e.type&&e.payload&&e.payload.task)if(this.sharedData.toastItems=[],e.payload.template){let t="";e.payload.templateName&&(t=e.payload.templateName);let i=$localize`:@@cu-manager__toast-title_task-template-saved:Your Task template ${t}:templateName: has been saved.`;!e.payload.updating&&(i=$localize`:@@cu-manager__toast-title_task-template-created:Your Task template ${t}:templateName: has been created.`),this.sharedData.addToastItem({title:i,forced:!0})}else this.taskService.taskCopyCompleted(e.payload.task);if("categoryCopyComplete"===e.type&&e.payload&&e.payload.category){if(this.sharedData.toastItems=[],e.payload.template){let t="";e.payload.templateName&&(t=e.payload.templateName);let i=$localize`:@@cu-manager__toast-title_folder-template-saved:Your Folder template ${t}:templateName: has been saved.`;!e.payload.updating&&(i=$localize`:@@cu-manager__toast-title_folder-template-created:Your Folder template ${t}:templateName: has been created.`),this.sharedData.addToastItem({title:i,forced:!0})}else this.sharedData.addToastItem({title:"Folder copied!",bold:!0});e.payload.category.project_id&&(this.store.dispatch(new ge.Qf(e.payload.category.project_id)),this.store.dispatch(new ge.Kf(e.payload.category.project_id)))}if("projectCopyComplete"===e.type&&e.payload&&e.payload.project){if(this.sharedData.toastItems=[],e.payload.template){let t="";e.payload.templateName&&(t=e.payload.templateName);let i=$localize`:@@cu-manager__toast-title_space-template-saved:Your Space template ${t}:templateName: has been saved.`;!e.payload.updating&&(i=$localize`:@@cu-manager__toast-title_space-template-created:Your Space template ${t}:templateName: has been created.`),this.sharedData.addToastItem({title:i,forced:!0})}else this.sharedData.addToastItem({title:"Space copied!",bold:!0});e.payload.is_template||(e.payload.template&&this.sharedData.addToastItem({title:"Space created!",bold:!0}),this.store.dispatch(new ge.Rf))}if("subcategoryCopyComplete"===e.type&&e.payload&&e.payload.subcat){if(this.sharedData.toastItems=[],e.payload.template){let t="";e.payload.templateName&&(t=e.payload.templateName);let i=$localize`:@@cu-manager__toast-title_list-template-saved:Your List template ${t}:templateName: has been saved.`;!e.payload.updating&&(i=$localize`:@@cu-manager__toast-title_list-template-created:Your List template ${t}:templateName: has been created.`),this.sharedData.addToastItem({title:i,forced:!0})}else this.sharedData.addToastItem({title:"List copied!",bold:!0});e.payload.template&&!e.payload.is_template&&this.sharedData.compatCurrentProject&&this.sharedData.compatCurrentProject.id&&this.store.dispatch(new ge.Qf(this.sharedData.compatCurrentProject.id))}"teamInvite"===e.type&&this.dataService.getAllTeams().subscribe(e=>{this.store.dispatch(new ge.vk(e)),this.teamInvites=e.filter(e=>!0===e.invite),this._handleTeamInvites()}),"teamRemoved"===e.type&&this.dataService.getAllTeams().pipe(Object(qt.a)(this.store.select(me.getTeam))).subscribe(([t,i])=>{t.length?i.id===e.payload.team_id&&(this.store.dispatch(new ge.rk(t[0])),this.store.dispatch(new ge.vk(t)),this.router.navigate(["/"])):(this.store.dispatch(new ge.vk(t)),this.userService.updateUser({onboarding_step:"team"}).subscribe(()=>{this.router.navigate(["/onboarding"])}))})}}),this.invited=h.select("user_invited"),this.sharedData.compatCurrentTeam$.pipe(Object(Ge.a)(e=>e&&e.id),Object(Re.a)(this.destroy$)).subscribe(e=>{this.sharedData.promoCode&&(this.dataService.updateTeam(e.id,{stored_promo_code:this.sharedData.promoCode}).subscribe(),this.sharedData.compatCurrentTeam.stored_promo_code=this.sharedData.promoCode)}),this.weekStartsOn$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{di.updateLocale("en",{week:{dow:e,doy:0}})}),this.actions$.pipe(Object(Ei.d)(zi.c),Object(Ge.a)(()=>!this.router.url.endsWith("/docs")),Object(qt.a)(this.team$),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{const i=e.docItem.pages[0];this.sharedDocService.openDoc(this.injector,t.id,i.view_id,i.id)})}ngOnInit(){this.navService.onRemoveLastSection.pipe(Object(qt.a)(this.store.select(me.getCategories)),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{const i=(t||[]).find(t=>t.id===e);i&&!i.hidden&&(this.projectToEdit=null,this.subcategoryToEdit=null,this.parentCategory=null,this.createCategoryId=e,this.openCategoryModal("Lists",!1,void 0,!1,{dialogModifier:""}))}),this.navService.onOpenCategoryModal.pipe(Object(Re.a)(this.destroy$)).subscribe(({type:e,cannotClose:t,space:i,templateTab:a,clearAll:o})=>{o&&(this.createCategoryId=null,this.projectToEdit=null,this.subcategoryToEdit=null),this.openCategoryModal(e,t,i,a)}),this.navService.onCreateFolderlessListByModal.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{const t=this.sharedData.compatProjectList.find(t=>t.id===e);this.projectToEdit=null,this.subcategoryToEdit=null,this.parentCategory=null,this.createCategoryId=ne.d,this.openCategoryModal("Lists",!1,t,!1,{dialogModifier:""})}),this.navService.onChange.pipe(Object(Ge.a)(e=>"updateSection"===e.type||"removeCategory"===e.type||"removeSection"===e.type||"archiveCategory"===e.type||"archiveSection"===e.type),Object(qt.a)(this.store.select(me.getQueryParams),this.sidebarOptions$.pipe(Object(Fe.a)(e=>e&&e.showArchived))),Object(Re.a)(this.destroy$)).subscribe(([e,t,i])=>{if("updateSection"!==e.type||e.payload&&e.payload.id){if("updateSection"===e.type){const t=this.navService.getFullIndexes(e.payload.id);t&&this.store.dispatch(new ge.Im({section:Object.assign(Object.assign({},this.navService.compatCategoryList[t.categoryIdx].subcategories[t.sectionIdx]),{status:e.payload.status})}))}("removeCategory"===e.type||!i&&"archiveCategory"===e.type)&&t.c===e.payload&&this.store.dispatch(new ge.hc({parentId:t.p,parentType:ce.e.Project})),("removeSection"===e.type||!i&&"archiveSection"===e.type)&&t.s===e.payload&&this.store.dispatch(new ge.hc({parentId:t.c,parentType:ce.e.Category}))}}),this.navService.onRemoveLastCategory.pipe(Object(Ht.a)(500),Object(Re.a)(this.destroy$)).subscribe(()=>{this.createCategoryId=null,this.projectToEdit=null,this.subcategoryToEdit=null,this.parentCategory=null,this.openCategoryModal("Project",!1)}),this.navService.onOpenProjectTemplates.pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{this.openProjectTemplates()}),this.navService.onEdit.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.projectToEdit=null,this.subcategoryToEdit=null,this.parentCategory=null,"project"===e.type?this.projectToEdit=this.navService.compatCategoryList.find(t=>t.id===e.project.id):"subcategory"===e.type&&(this.subcategoryToEdit=Object.assign({},e.subcategory),this.parentCategory=Object.assign({},e.category)),this.updateSubcategory=e.updateSubcategory,this.openCategoryModal("Statuses",!1,e.space)}),this.store.pipe(Object(ye.select)(me.getSignatureError),Object(Ge.a)(e=>!!e),Object(Re.a)(this.destroy$)).subscribe(()=>{this.openEmailSignaturePaywallModal(),this.store.dispatch(new ge.wb)}),this.sharedData.currentUser.pipe(Object(Bt.a)("id"),Object(qt.a)(this.team$),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{this.showPhoneVerificationModalIfRequired(e,t.allow_skip_2fa)}),this.invited.pipe(Object(Ge.a)(e=>!!e),Object(Yt.a)()).subscribe(e=>{e.expired&&(setTimeout(()=>{this.modalService.open({title:$localize`:@@common_oh-gosh:Oh gosh!`,content:this.inviteExpiredModal,bodyModifier:"cu-modal__body_no-min-height"})},2500),this.store.dispatch({type:Pe.a,payload:!1})),this.initHotkeys()}),this.taskService.onConflictDetected.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>this.openConflictManagementDialog(e)),this.navService.onConflictDetected.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>this.openConflictManagementDialog(e)),this.openStatusConflictManagementModal$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e.open&&(this.openConflictManagementDialog(e.data),this.store.dispatch(new ge.Ne({open:!1,data:null})))}),this.floatButtonHide=this.location.path().includes("/settings")||this.location.path().includes("/onboarding")||this.location.path().includes("/api"),this.router.events.pipe(Object(Ge.a)(e=>e instanceof d.c)).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.floatButtonHide=this.location.path().includes("/settings")||this.location.path().includes("/onboarding")||this.location.path().includes("/api"),e instanceof d.c&&(this.showProjectList=-1===e.urlAfterRedirects.indexOf("/v/"),this.preloader.hide())}),this.route.data.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e.team&&this.store.dispatch(new ge.rk(e.team)),this.showProjectList=-1===this.router.url.indexOf("/v/"),"import"===this.sharedData.compatCurrentTeam.setup_step&&setTimeout(()=>this.openImportModal(),1e3);const t=this.sharedData.compatCurrentProject;t&&(this.sharedData.projectMembers=t.private?t.members||[]:this.sharedData.compatCurrentTeam.members||[]),this.sharedData.compatTeamList.length&&(this.teamInvites=this.sharedData.compatTeamList.filter(e=>!0===e.invite),this._handleTeamInvites())}),this.sharedData.currentUser.pipe(Object(Yt.a)()).subscribe(e=>{e&&(this.user=e,e.global_font_support||e.tour_cards_data&&e.tour_cards_data.seen_global_font||this.locationService.isGlobalFontCountry().pipe(Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(t=>{t&&this.openGlobalFontModal(e)}),this.user.onboarding_data&&(["integrations","imports","user_integrations"].forEach(e=>{(this.user.onboarding_data[e]||[]).forEach(e=>this.sharedData.addIntegrationItem(e))}),this.user.onboarding_data.teamId&&(this.sharedData.onboardingTeam=this.user.onboarding_data.teamId)),this.sharedData.bannerPopup.value&&"electron_sso_authed"===this.sharedData.bannerPopup.value.type||(this.sharedData.bannerPopup=e.bouncing?{type:"bouncing_email"}:null),e.sso&&e.sso.sso_requirement_violated)&&e.sso.policies.filter(e=>e.require_sso&&!e.enabled).forEach(e=>{this.modalService.openComponent(Ce.a,this.injector,{cannotClose:!0}).instance.userSsoPolicy=e})}),this.sharedData.currentUser.pipe(Object(Ge.a)(e=>!!(e&&e.imports_in_progress&&e.imports_in_progress.length)),Object(qt.a)(this.store.select(me.getTeam)),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{const i=e.imports_in_progress.filter(e=>e.team_id===t.id).map(e=>e.import_id).filter(e=>-1===(this.sharedData.importsToIgnore||[]).indexOf(e));i.length&&(this.sharedData.bannerPopup={type:"imports_in_progress",imports:i})}),this.sharedData.compatCurrentTeam$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{let t=!1;e.role!==Ie.f.GUEST&&e.billingPopupMessage&&"billing_failed"===e.billingPopupMessage.type&&(t=!0),this.sharedData.bannerPopup.value&&!this.helpers.isBillingIssue(this.sharedData.bannerPopup.value.type)||!(e.role<3||t)||(this.sharedData.bannerPopup=e.billingPopupMessage),this.sharedData.bannerPopup.value&&"imports_in_progress"===this.sharedData.bannerPopup.value.type&&((this.sharedData.currentUser.value.imports_in_progress||[]).some(t=>t.team_id===e.id)||setTimeout(()=>this.sharedData.bannerPopup=null,8e3))}),this.store.pipe(Object(ye.select)(me.getOpenPaywallMilestone),Object(Ge.a)(e=>e),Object(Re.a)(this.destroy$)).subscribe(this.openMilestonePaywallModal.bind(this)),this.store.pipe(Object(ye.select)(me.getOpenPaywallList),Object(Ge.a)(e=>e),Object(Re.a)(this.destroy$)).subscribe(this.openListPaywallModal.bind(this)),this.store.pipe(Object(ye.select)(J.a),Object(Ge.a)(e=>e),Object(Re.a)(this.destroy$)).subscribe(this.openPointsPaywallModal.bind(this)),this.sharedData.createTaskModalState.pipe(Object(Ge.a)(e=>!!e),Object(Re.a)(this.destroy$)).subscribe(e=>{!0===e.isOpen&&this.store.dispatch(new xa.g({fromState:{project:{id:e.projectId||this.sharedData.compatCurrentProject.id},category:{id:e.categoryId},subcategory:{id:e.subcategoryId}}}))}),this.listenFunc=this.renderer.listen("document","visibilitychange",e=>{const t=new Date;if(this.userService.checkIfNewDay(t.getDate()),!document.hidden)if(Object($i.b)()){if(Object($i.b)()&&this.user){const e=this.jwtHelper.decodeToken(Object($i.b)());this.user&&e.user===this.user.id||this.userService.logout(!1,!0)}}else this.userService.logout(!0,!0)}),this.userService.setDay(),this.store.pipe(Object(ye.select)(Ta.e),Object(Re.a)(this.destroy$)).subscribe(e=>{this.drafter=e,this.drafter&&"none"===this.drafter.view&&(this.createDraft=!1,this.changeDetector.detectChanges()),"shown"!==this.drafter.view||this.createDraft||(this.createDraft=!0,this.changeDetector.detectChanges(),setTimeout(()=>{this.openTaskDrafter({current_draft:this.drafter.current_draft})},0)),this.changeDetector.markForCheck()}),setTimeout(()=>{this.store.dispatch(new si.p({}))},1e3),this.store.select(me.getSelectedTeamId).pipe(Object(Ge.a)(e=>!!e),Object(Ue.a)(),Object(Re.a)(this.destroy$)).subscribe(e=>{this.store.dispatch(hi.j({teamId:e}))}),this.team$.pipe(Object(qt.a)(this.store.select(me.getShowGanttPaywallSelector)),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{let i;document.body.setAttribute("data-team-id",e.id),document.body.setAttribute("data-beta2-ms-since-fe",e.v2_beta_ms_since),document.body.setAttribute("data-plan-id",e.plan_id),i=e.member_count<=5?"small":e.member_count<=10?"medium":e.member_count<=20?"large":"enterprise",document.body.setAttribute("data-team-size",i),localStorage.setItem("currentTeam",e.id),!t&&e.gantt_limit_reached&&this.store.dispatch(new ge.rd(!0))}),this.user$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{document.body.setAttribute("data-dashboard-version",(e.dashboard||"").toString()),document.body.setAttribute("data-user-bonus-claimed",e.onboarding_bonus_claimed?e.onboarding_bonus_claimed.toString():"false")}),this.getSearchFuzzinessFromLocalStorage(),this.initFirstStepAfterOnboarding(),this.routeGuestToDashboard(),this.uploader.onUpload.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.clipToasts=this.clipToasts.map(t=>t.id===e.tag?Object.assign(Object.assign({},t),{attachment:e.data.result,viewUrl:Object(Vi.d)(e.data.result.url)}):t)}),this.uploader.onProgress.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.clipToasts=this.clipToasts.map(t=>t.id===e.tag?Object.assign(Object.assign({},t),{loadPercent:e.data.loadPercent}):t)}),this.uploader.onError.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.clipToasts=this.clipToasts.map(t=>t.id===e.tag?Object.assign(Object.assign({},t),{error:!0}):t)}),this.openTemplateCenter$.pipe(Object(qt.a)(this.project$),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{e.open&&this.openTemplateCenter(e,t)})}ngOnDestroy(){window.cancelIdleCallback(this.idleCancel),window.cancelIdleCallback(this.idleTeamChange),this.modalService.closeAll(),this.listenFunc(),this.keydownListener&&(this.keydownListener(),this.keydownListener=null),this.destroy$.next(),this.destroy$.unsubscribe()}openCategoryModal(e,t=!1,i,a=!1,o={}){if(!(i=i||this.sharedData.compatCurrentProject)){if(!(this.sharedData.compatProjectList&&this.sharedData.compatProjectList.length>0))return;i=this.sharedData.compatProjectList[0]}const c=this.modalService.openComponent(se.a,this.injector,Object.assign({name:"forceCreateCategory",cannotClose:t,preventExternalClick:!0,modifier:"cu-modal__create-new-space",dialogModifier:"cu-modal__dialog-space",bodyModifier:"cu-modal__body_no-min-height"},o));c.instance.projectId=i.id,c.instance.categoryId=this.createCategoryId,c.instance.projectToEdit=this.projectToEdit,c.instance.subcategoryToEdit=this.subcategoryToEdit,c.instance.parentCategory=this.parentCategory,c.instance.onCreateNew.pipe(Object(Re.a)(c.instance.destroy$)).subscribe(e=>{e.id!==ne.d?this.addCategory(e):this.modalService.close()}),c.instance.onEditProject.pipe(Object(Re.a)(c.instance.destroy$)).subscribe(e=>{const{project:t,changeMap:a}=e;this.editProject(t,i,a)}),c.instance.onEditSubcategory.pipe(Object(Ge.a)(()=>this.updateSubcategory),Object(Re.a)(c.instance.destroy$)).subscribe(e=>{this.navService.onChange.emit({type:"updateSubcategory"})}),a&&(c.instance.currentStage=se.b.Template),this.createCategoryId===ne.d&&(c.instance.categoryName=i.name)}addCategory(e){let t;this.modalService.close(),this.navService.addCategory(e,!0),t=e&&(e.subcategories||[]).length?{parentId:e.subcategories[0].id,parentType:ce.e.Subcategory}:{parentId:e.id,parentType:ce.e.Category},this.store.dispatch(new ge.hc(t))}editProject(e,t,i){this.modalService.close(),t?this.navService.updateCategory(e,!0,i):this.navService.updateCategory(e)}openProjectTemplates(){this.createCategoryId=null,this.projectToEdit=null,this.openCategoryModal("Project",!1,null,!0)}showMoveCategoryDialog(e){this.modalService.openComponent(Oi,this.injector,{title:"Move Folder"}).instance.category=e}showSaveTemplateCategoryDialog(e){Object(Nt.a)([this.store.pipe(Object(ye.select)(me.getMembers),Object(Fe.a)(e=>e.map(e=>e.user))),this.store.select(me.getUser)]).pipe(Object(Ne.a)(1)).subscribe(([t,i])=>{const a=this.modalService.openComponent(le.a,this.injector,{title:$localize`:@@cu-manager__title_save-template:Save Folder as Template`,modifier:"template-modal"});a.instance.category=e,a.instance.members=t,a.instance.user=i,a.instance.templateMembers=[i],a.instance.type="project",a.instance.onOpenTemplateManagerModal.pipe(Object(qt.a)(this.store.select(Object(me.getProjectById)(e.project_id))),Object(Re.a)(a.instance.destroy$)).subscribe(([{type:e},t])=>{this.openTemplateManager(e,t)})})}openTemplateManager(e,t){const i=this.modalService.openComponent(oe.a,this.injector,{name:"templateSelector",cannotClose:!1,preventExternalClick:!0,modifier:"cu-folder-list-template-selector__modal",dialogModifier:"",bodyModifier:""});i.instance.space=t,i.instance.initTemplateId="1",i.instance.initTemplateType=e}openFolderTemplateModal(e,t){const i=this.modalService.openComponent(oe.a,this.injector,{name:"templateSelector",cannotClose:!1,preventExternalClick:!0,modifier:"cu-folder-list-template-selector__modal",dialogModifier:"",bodyModifier:""});i.instance.forOnboarding=!0,i.instance.initTemplateType="project",i.instance.space=e,i.instance.onClose.pipe(Object(Re.a)(i.instance.destroy$)).subscribe(()=>{t&&this.store.dispatch(new ge.Mk({show:!0,tab:3,playVideo:null}))})}showConfirmArchiveDialog(e){const t=this.modalService.openComponent(de.a,this.injector,{title:"Archive"});t.instance.instanceType=e.type,t.instance.item=e.category||e.section}showLoadTemplateSectionDialog(e){const t=this.modalService.openComponent(ue.a,this.injector,{title:$localize`:@@common_list-from-template:List from Template`,modifier:"template-modal"});t.instance.category=e,t.instance.type="list"}showCopyCategoryDialog(e){const t=this.modalService.openComponent(pe.a,this.injector,{title:$localize`:@@common_copy-folder:Copy Folder`});t.instance.category=e,t.instance.type="project"}timeTrackerAction(e){this.timeTrackerService.dispatchTimeTrackerAction(e)}viewNewTask(e){if(!e)return;let t;e.projectId&&(t=e.projectId),e.project&&e.project.id&&(t=e.project.id),e.project_id&&(t=e.project_id),this.sharedTaskService.openTaskModal({id:e.id,customId:e.custom_id,teamId:e.team})}minimizeTask(e){null!==e&&(this.store.dispatch(new Sa.c({addTask:e,currentTeamId:this.sharedData.compatCurrentTeam.id})),e.trayButtonText="Done",this.modalService.closeAll())}setCopyingText(e){e.clipboardText=$localize`:@@cu-manager__copying:Copying...`}setCopiedText(e){setTimeout(()=>{e.clipboardText=$localize`:@@common_copied:Copied!`},500)}setInitialText(e){e.clipboardText=$localize`:@@common_copy-url:Copy URL`}changeTeam(e){if(e.id!==this.sharedData.compatCurrentTeam.id)return this.store.dispatch(new ea.mb),this.userService.updateUser({default_team:e.id}).subscribe(),-1!==location.pathname.indexOf("settings/team/")?this.router.navigate(["/",e.id,"settings","team"],{queryParams:{}}):this.router.navigate(["/",e.id],{queryParams:{}})}openEmailSignaturePaywallModal(){this.modalService.open({modifier:"cu-paywall-popover__modal cu-paywall-popover__modal-business-email",headerModifier:"cu-modal__header-paywall",dialogModifier:"cu-modal__dialog-paywall",content:this.paywallBusinessEmailTemplate})}clickedUpgrade(){this.modalService.closeAll(),this.sharedTaskService.closeTask()}_teamInviteAccepted(e){if(e&&this.sharedData.teamToJoin.value&&this.store.dispatch(new ge.rk(Object.assign(Object.assign({},this.sharedData.teamToJoin.value),{invite:!1}))),this.teamInvites.length)this._handleTeamInvites();else{this.modalService.closeAll();const t=this.sharedData.teamToJoin.value;if(e)-1===location.pathname.indexOf("/t/")?Promise.resolve(this.changeTeam(t)).then(()=>{this.showPhoneVerificationModalIfRequired(this.sharedData.currentUser.value,t.allow_skip_2fa,t)}):this.showPhoneVerificationModalIfRequired(this.sharedData.currentUser.value,t.allow_skip_2fa,t);else{this.sharedData.compatCurrentTeam&&!this.sharedData.compatCurrentTeam.invite||this.store.select(me.getTeams).pipe(Object(Yt.a)()).subscribe(e=>{const t=e.find(e=>!1===e.invite);this.changeTeam(t)});const e=this.sharedData.compatTeamList.filter(e=>e.id!==this.sharedData.teamToJoin.value.id);this.store.dispatch(new ge.vk(e))}this.sharedData.setTeamToJoin(null)}}_toggleTaskDrafter(){this.store.pipe(Object(ye.select)(me.canCreateTask),Object(Ne.a)(1)).subscribe(e=>{if(e){this.createDraft=!0,this.changeDetector.markForCheck();const e=this.drafter.current_draft;"shown"===this.drafter.view&&e&&e.draft_uuid?e&&e.draft_uuid&&(this.closeTaskDrafter(),setTimeout(()=>{this.openTaskDrafter({})},200)):setTimeout(()=>{this.store.dispatch(new xa.u({}))},0)}else this.closeTaskDrafter()})}closeTaskDrafter(){this.store.dispatch(new xa.c)}openTaskDrafter(e){this.createDraft=!0,setTimeout(()=>{this.store.dispatch(new xa.g(e))})}onTaskCreated(e){if(e&&"subtask"!==e.type)switch(e.createFlow){case"quick":break;case"open":setTimeout(()=>{this.sharedTaskService.openTaskModal({id:e.id,customId:e.custom_id,teamId:e.team})},500)}}openMilestonePaywallModal(){const e=this.modalService.openComponent(ae.a,this.injector,{modifier:"cu-modal_fullwidth"}),t=this.sharedData.compatCurrentTeam&&this.sharedData.compatCurrentTeam.trial_count>=2;e.instance.featureTitle=$localize`:@@common_milestones:Milestones`,e.instance.forceUpgrade=t,e.instance.planName=t?"Unlimited":null,e.instance.description=t?$localize`:@@cu-manager__paywall-description_upgrade-to-unlimited-plan:Upgrade to Unlimited so you can set unlimited milestones. Plus you'll get:`:$localize`:@@cu-manager__paywall-description_start-free-trial-unlimited-plan:Start your free trial of Unlimited so you can set unlimited milestones. Plus you'll get:`,e.instance.features=[{icon:"cu2-server",name:$localize`:@@common_unlimited-storage:Unlimited Storage`},{icon:"cu2-box",name:$localize`:@@common_box-view:Box view`},{icon:"cu2-infinity",name:$localize`:@@common_unlimited-cf-goals-and-portfolios:Unlimited custom fields, Goals & Portfolios`}],e.instance.wistiaId="jmms31ebsk",e.instance.trialClick.pipe(Object(Ne.a)(1),Object(Re.a)(this.modalService.closeModal)).subscribe(()=>{this.modalService.close(),this.store.dispatch(new ge.Rk)})}openListPaywallModal(){this.store.dispatch(new ge.yb({value:!1}));const e=this.modalService.openComponent(ie.a,this.injector,{modifier:"cu-modal_autowidth"});e.instance.title=this.paywallCommonStringsService.freePlanListLimitationText,e.instance.badge="",e.instance.text=this.paywallCommonStringsService.freePlanListLimitationDescriptionText,e.instance.image="./assets/images/components/paywall-popover/personal-view.png",e.instance.upgradeButtonText=this.paywallCommonStringsService.upgradeToUnlimitedText,e.instance.emailSubject=this.paywallCommonStringsService.increasedListsPerSpaceText,e.instance.learnMore="https://docs.clickup.com/en/articles/3315031-limits-on-spaces-and-lists"}openPointsPaywallModal(){this.store.dispatch(Object(ee.g)({val:!1}));const e=this.modalService.openComponent(ie.a,this.injector,{modifier:"cu-modal_autowidth"});e.instance.title=this.paywallCommonStringsService.sprintPointsLimitationText,e.instance.badge="",e.instance.text=this.paywallCommonStringsService.unliSprintPointsUpgradeText,e.instance.image="./assets/images/components/paywall-popover/personal-view.png",e.instance.upgradeButtonText=this.paywallCommonStringsService.upgradeToBusinessText,e.instance.emailSubject=this.paywallCommonStringsService.upgradeForUnlimitedUseSprintPointsText}openImportModal(){this.modalService.open({modifier:"cu-import-modal",content:this.onboardingImportModal,cannotClose:!0})}closeImportModal(){this.modalService.close()}_undoAction(e){if(e.undoHandler)e.undoHandler(),this._removeAction(e);else if(e.undoBody)this.dataService.batchUndo(e.type,e.undoBody).subscribe(()=>{this._removeAction(e),this.taskService.onChange.emit(e),this.sharedData.undoSubject.next(e)});else if(e.type&&e.id)this.dataService.singleUndo(e.type,e.id,{method:e.method}).subscribe(()=>{this._removeAction(e),this.taskService.onChange.emit(e),this.sharedData.undoSubject.next(e),"item"===e.type&&this.sharedTaskService.openTaskModal({id:e.id})});else if(e.dependencyBatch)e.create&&this.store.dispatch(new Ri.J(e.dependencyBatch)),this._removeAction(e);else if(e.undoSubtasks)this.dataService.setSubtasks(e.undoSubtasks).subscribe(()=>{this._removeAction(e),this.taskService.onChange.emit(e),this.sharedData.undoSubject.next(e)});else if(e.undoTag)e.undoTag.name?this.dataService.removeTag(e.undoTag.task_ids,e.undoTag.name).subscribe(()=>{this._removeAction(e),this.taskService.onChange.emit(e),this.sharedData.undoSubject.next(e)}):this.dataService.createTag(Object.assign({},e.undoTag.tag,{task_ids:e.undoTag.task_ids})).subscribe(()=>{this._removeAction(e),this.taskService.onChange.emit(e),this.sharedData.undoSubject.next(e)});else if(e.customTypeUndo)this.dataService.editTasks({item_ids:e.taskIds,custom_type:e.customTypeUndoVal}).subscribe(()=>{this.taskService.onChange.emit(e)});else if(e.archiveUndo)e.status?this.store.dispatch(new Be.Fc({taskIds:e.archiveUndo})):this.boardService.archiveTasks({task_ids:e.archiveUndo,archive:"reArchive"===e.type}).subscribe(()=>{if(this.taskService.onChange.emit(e),e.parentTask){const t=[...e.archiveUndo,e.parentTask.id];this.taskService.onArchiveChange.emit(t)}}),this._removeAction(e);else if(e.undoReminder){if(e.undoReminder.reminder)switch(e.undoReminder.method){case"delete":this.dataService.undoReminder(e.undoReminder.reminder.id).subscribe(()=>{this.taskService.onChange.emit(e)});break;case"complete":this.store.dispatch(Object(vi.D)({undoItem:e}))}this._removeAction(e)}else e.multListTaskIds&&(this.store.dispatch(new Wi.f({task_ids:e.multListTaskIds,list:{id:e.list}})),this._removeAction(e))}_removeAction(e,t){const i=t?this.sharedData.settingsSuccessMessages:this.sharedData.undoItems,a=i.indexOf(e);i.splice(a,1)}openUnresolvedModal(e,t,i,a,o,c,n,s){const r=this.modalService.openComponent(Ft,this.injector,{title:"",displayCancel:!0,preventExternalClick:!0});r.instance.tasks=e,r.instance.accessibleTasks=i,r.instance.inaccessibleTasks=a,r.instance.unresolvedConflict=t,r.instance.status=o,r.instance.groupIdsMap=c,r.instance.muteNotifications=n,r.instance.extraData=s}openTimezoneModal(e){this.modalService.openComponent(ai,this.injector,{title:$localize`:@@cu-manager__title_tz-settings:Time zone settings`,bodyModifier:"cu-modal__body_no-min-height"}).instance.timezone=e.timezone}openGlobalFontModal(e){this.modalService.openComponent(ni,this.injector,{bodyModifier:"cu-modal__body_no-min-height"}).instance.user=e}openConflictManagementDialog(e){const t=this.modalService.openComponent(Ut.a,this.injector,{title:"",modifier:"cu-modal_aside-left conflict-management-modal"});t.instance.task=e.task,t.instance.mergeTasks=e.mergeTasks,t.instance.toTask=e.toTask,t.instance.project=e.project,t.instance.subcategory=e.subcategory,t.instance.old=e.old,t.instance.new=e.new,t.instance.payload=e.payload,t.instance.extra=e.extra,t.instance.list=e.list,t.instance.listId=e.listId,t.instance.type=e.type,t.instance.taskList=e.taskList,t.instance.taskName=e.taskName,t.instance.closed=e.closed,t.instance.newProjectName=e.newProjectName,t.instance.section=e.section,t.instance.init(),t.changeDetectorRef.detectChanges()}openSharingModal(e){e&&(this.sharingModalState=e,this.modalService.open({content:this.sharingModal,title:"",modifier:"template-modal"}),this.modalService.closeModal.pipe(Object(Yt.a)(),Object(Re.a)(this.destroy$)).subscribe(()=>{this.store.dispatch(new ge.Bb)}))}openDependencyModal(e){const{task:t,project:i,tasks:a}=e,o=this.modalService.openComponent(Jt.a,this.injector,{title:$localize`:@@common_dependencies:Dependencies`});o.instance.batchedTasks=a,o.instance.task=t,o.instance.project=i,this.store.pipe(Object(ye.select)(Ni.b)).pipe(Object(Re.a)(o.instance.destroy$)).subscribe(e=>{Object.assign(o.instance,e),e.tasksLinkedMap&&t&&e.tasksLinkedMap[t.id]&&(o.instance.tasksLinked=e.tasksLinkedMap[t.id].links.map(e=>e.task).filter(Boolean),o.instance.tasksLinkedIds=e.tasksLinkedMap[t.id].ids),o.instance.markForCheck()}),o.instance.createDependency.pipe(Object(Re.a)(o.instance.destroy$)).subscribe(e=>{this.store.dispatch(new Ri.r(Object.assign(Object.assign({},e),{forBatch:!1})))}),o.instance.removeDependency.pipe(Object(Re.a)(o.instance.destroy$)).subscribe(e=>{this.store.dispatch(new Ri.J(e))}),o.instance.createRelationshipLink.pipe(Object(Re.a)(o.instance.destroy$)).subscribe(e=>{this.store.dispatch(new Ri.i({body:{task_id:o.instance.task.id,links_to:e.task.id}}))}),o.instance.removeRelationshipLink.pipe(Object(Re.a)(o.instance.destroy$)).subscribe(e=>{this.store.dispatch(new Ri.M({body:{task_id:o.instance.task.id,links_to:e.task.id}}))}),o.instance.destroy$.pipe(Object(Ne.a)(1)).subscribe(()=>{this.store.dispatch(new Ri.q(null))})}goToIntegrationSelection(e){const t=e.path.slice();t.forEach((e,i)=>{"teamId"===e&&(t[i]=this.sharedData.compatCurrentTeam.id)}),this.router.navigate([this.sharedData.compatCurrentTeam.id,"settings"].concat(t),{queryParams:e.queryParams}).then(()=>{this.removeIntegration(e)})}removeIntegration(e,t){t&&(t.preventDefault(),t.stopPropagation()),["integrations","imports","user_integrations"].forEach(t=>{const i=(this.user.onboarding_data[t]||[]).findIndex(t=>t===e.id);-1!==i&&(this.user.onboarding_data[t].splice(i,1),this.userService.updateUser({onboarding_data:this.user.onboarding_data}).subscribe())}),this.sharedData.removeIntegrationItem(e.id)}initHotkeys(){this.keydownListener&&this.keydownListener(),this.zone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen("document","keydown",e=>{if(!this.sharedData.currentUser.value.hotkeys)return;const{keyCode:t}=e;if(Object(li.b)(e))switch(t){case 76:case 66:case 88:case 67:Object(Nt.a)([this.store.select(Q.k),this.store.select(ia.e),this.store.select(ia.db),this.team$]).pipe(Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(([e,i,a,o])=>{if(i){let e=ce.i.List;66===t?e=ce.i.Board:88===t?e=ce.i.Box:67===t&&(e=ce.i.Calendar);const i=a?a.find(t=>t.defaultStandardView&&t.viewType===e)||a.find(t=>t.viewType===e):null;i&&this.zone.run(()=>{this.router.navigate(Object(ne.lb)(i,o))})}else e&&e.url&&this.zone.run(()=>{Array.isArray(e.url)?this.router.navigate(e.url):this.router.navigateByUrl(e.url)})});break;case 78:this.zone.run(()=>this.router.navigate(["/",this.sharedData.compatCurrentTeam.id,"notifications"]));break;case 73:case 72:this.isGuestTeam$.pipe(Object(Ne.a)(1)).subscribe(e=>{e||this.zone.run(()=>this.router.navigate(["/",this.sharedData.compatCurrentTeam.id,"home"]))});break;case 68:this.showDashboards$.pipe(Object(Yt.a)(),Object(Ge.a)(e=>e),Object(Re.a)(this.destroy$)).subscribe(e=>{this.zone.run(()=>this.router.navigate(["/",this.sharedData.compatCurrentTeam.id,"dashboards"]))});break;case 82:this.zone.run(()=>this.showQuickCreateReminderModal());break;case 84:this.zone.run(()=>this._toggleTaskDrafter()),e.preventDefault(),e.stopPropagation();break;case 80:this.zone.run(()=>this.openNotepad());break;case 83:e.preventDefault(),e.stopPropagation(),this.selectedTasks.hasSelected||this.zone.run(()=>this.openSearchModal());break;case 189:this.store.dispatch(new ge.rj(ne.G));break;case 81:this.store.pipe(Object(ye.select)(Q.m),Object(Yt.a)(),Object(Re.a)(this.destroy$)).subscribe(e=>{e?this.zone.run(()=>this.store.dispatch(Object(re.ib)())):(this.zone.run(()=>{this.store.dispatch(new ge.yl),this.store.dispatch(new ge.zl)}),setTimeout(()=>{this.zone.run(()=>this.store.dispatch(new ge.zl))},200),this.zone.run(()=>this.store.dispatch(Object(zi.y)())))});break;case 49:if(this.taskService.rcTasks&&this.taskService.rcTasks.length){const e=this.taskService.rcTasks[this.taskService.rcTasks.length-1];e&&(this.viewNewTask(e),this.taskService.removeNotif(e));break}if(this.sharedData.undoItems&&this.sharedData.undoItems.length){const e=this.sharedData.undoItems[this.sharedData.undoItems.length-1];e&&e.task&&(this.viewNewTask(e.task),this._removeAction(e));break}break;case 50:this.taskService.rcTasks&&this.taskService.rcTasks.length&&this.minimizeTask(this.taskService.rcTasks[this.taskService.rcTasks.length-1]);break;case 51:if(this.taskService.rcTasks&&this.taskService.rcTasks.length){const e=this.taskService.rcTasks[this.taskService.rcTasks.length-1];this.setCopyingText(e),this.clipboard.copyFromContent(this.taskService.getTaskLink(e))?this.setCopiedText(e):this.setInitialText(e)}}else Object(li.b)(e,"shift")&&84===t&&this.zone.run(()=>{this.store.dispatch(new $e.g)})})})}toggleRescheduledTasksVisible(e){this.store.dispatch(e.showTasks?new ya.a({id:e.id}):new ya.f({id:e.id}))}hideRescheduledTasksToast(e){this.store.dispatch(new ya.b({id:e.id}))}undoRescheduledTasksToast(e){this.store.dispatch(new ya.i({id:e.id}))}closeModal(){this.modalService.close()}selectFloatMenuItem(e){switch(e.id){case Bc.id:this.openTaskDrafter({});break;case Wc.id:this.showQuickCreateReminderModal();break;case Xc.id:this.openNotepad();break;case Hc.id:this.createDoc();break;case Yc.id:this.toggleScreenRecording();break;case Vc.id:this.openTimeTracking();break;case Qc.id:this.profileService.openProfileById(this.sharedData.currentUser.value.id,Qi.Calendar)}}openTimeTracking(){this.closeTaskDrafter(),this.store.dispatch(De.x({open:!0}))}closeTimeTracking(){this.store.dispatch(De.x({open:!1}))}openNotepad(){this.store.dispatch(new ka.K({open:!0})),this.closeTaskDrafter()}createDoc(){this.closeTaskDrafter(),this.store.dispatch(Object(zi.b)({}))}toggleScreenRecording(){const e=this.screenRecorderService.getRecording("manager");if(e&&e.stop$)e.stop$.value();else{const{file$:e,stop$:t}=this.screenRecorderService.startRecording("manager");e.pipe(Object(Ge.a)(e=>!!e),Object(Ne.a)(1),Object(qt.a)(this.team$),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{this.screenRecorderService.clearRecording("manager"),this.uploader.setOptions({url:[Li.a.apiUrl,"attachment"].join("/"),fieldName:"attachment",formDataFields:{type:"7",permanent:!1,parent:t.id}}),this.uploader.addFiles([e],e.name,{clip:"true"}),this.clipToasts.push({id:e.name,file:e,loadPercent:0})}),t.pipe(Object(Ge.a)(e=>!e),Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(()=>{this.screenRecorderService.clearRecording("manager")})}}retryClipToastUpload(e){this.clipToasts=this.clipToasts.map(t=>t.id===e.id?Object.assign(Object.assign({},t),{error:void 0,loadPercent:0}):t),this.uploader.addFiles([e.file],e.file.name)}cancelClipToast(e){e.attachment||this.uploader.abortFileUpload(e.file),this.clipToasts=this.clipToasts.filter(t=>t!==e)}downloadClipToast(e){Object(Ui.saveAs)(e.file,e.file.name)}addClipToastToNewTask(e){this.openTaskDrafter({fromState:{attachments:[e.attachment.id],attachmentFiles:[{uploadResult:e.attachment,canUpload:!0,loadPercent:100,loadStatus:{loading:!1,load:!0}}],content:JSON.stringify({ops:[{attributes:{"data-size":"large"},insert:{frame:{id:e.attachment.url+"?open=true",service:"clickup_video",url:e.attachment.url+"?open=true",src:null}}}]})}}),this.cancelClipToast(e)}addClipToastToExistingTask(e){this.hideClipToasts=!0;const t=this.modalService.openComponent(Ai.a,this.injector,{title:"Select a task"});t.instance.onSelect.pipe(Object(Re.a)(t.instance.destroy$)).subscribe(t=>{this.dataService.linkAttachmentsV2(t.task.id,2,[e.attachment]).subscribe(),this.cancelClipToast(e),this.modalService.close()}),t.instance.destroy$.pipe(Object(Ne.a)(1)).subscribe(()=>{this.hideClipToasts=!1})}showQuickCreateReminderModal(){this.modalService.open({name:"create-project",modifier:"cu-quick-create-reminder__modal cu-modal_zoom",content:this.quickCreateReminderModal,bodyModifier:"cu-modal__body_no-min-height"})}openSearchModal(){this.modalService.openComponent(pi.a,this.injector,{modifier:"cu-search-modal-modifier cu-modal_zoom",alwaysCloseOnEscape:!0})}getSearchFuzzinessFromLocalStorage(){const e=localStorage.getItem("searchFuzziness");e&&this.store.dispatch(new _i.eb(parseInt(e,10)))}initFirstStepAfterOnboarding(){this.showWistiaVideo$.pipe(Object(qt.a)(this.store.select(me.onboardingVideoOpenedFromRCState)),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{!e.show&&t&&(this.store.dispatch(new ge.Mk({show:!0,tab:3,playVideo:null})),this.store.dispatch(new ge.Je(!1)))}),this.onboardingJustFinished$.pipe(Object(qt.a)(this.team$),Object(Ne.a)(1)).subscribe(([e,t])=>{e&&t.role!==Ie.f.GUEST?setTimeout(()=>{this.showWelcomeVideo(t),this.store.dispatch(new ge.Ie(!1))},2e3):t.role!==Ie.f.GUEST&&this.listenToAutoTempaltes()})}listenToAutoTempaltes(){this.store.pipe(Object(ye.select)(ja.a),Object(Ge.a)(e=>!(!e||!e.id)),Object(Re.a)(this.destroy$)).subscribe(({id:e,type:t})=>{this.store.dispatch(new Oa.p({autoTemplateId:null})),e.includes("-")?this.store.dispatch(new Oa.h({templateId:e,type:t})):this.store.dispatch(new Oa.j({templateId:e}))})}routeGuestToDashboard(){this.sharedItems$.pipe(Object(Ge.a)(e=>!!e),Object(qt.a)(this.sharedData$,this.sharedSubcategories$,this.sharedCategories$,this.isGuestTeam$,this.team$),Object(Ne.a)(2),Object(Re.a)(this.destroy$)).subscribe(([e,t,i,a,o,c])=>{let n=t.taskCount;"string"==typeof n&&(n=parseInt(n,10)),o&&n<1&&!i.length&&!a.length&&e.length&&this.router.navigate([c.id,"dashboards"])})}showWelcomeVideo(e){this.sharedData.currentUser.pipe(Object(Yt.a)()).subscribe(t=>{const i=this.modalService.openComponent(Bi.a,this.injector,{modifier:"cu-modal__video-modal"});t&&(i.instance.user=t),i.instance.title=$localize`:@@cu-manager__title_welcome-msg:👋 Welcome to ClickUp!`,i.instance.description=$localize`:@@cu-manager__description_video-description:Watch this quick video to know how ClickUp can transform your productivity.`,i.instance.wistiaId="q04jxfcos1",i.instance.activateButtonOnPercentWatched=!0,i.instance.showSharing=!0,i.instance.socialSharingData={linkedIn:{url:"https://clickup.wistia.com/medias/8gjqhmetgd",message:"This onboarding video from ClickUp is the best I've ever seen!"},facebook:{url:"https://www.facebook.com/dialog/share?app_id=662579854569417&display=popup&href=https%3A%2F%2Fclickup.wistia.com%2Fmedias%2F8qkdx6sw5v&quote=This%20onboarding%20video%20from%20ClickUp%20is%20the%20best%20I%27ve%20ever%20seen!",message:"This onboarding video from ClickUp is the best I've ever seen!"},twitter:{url:"https://clickup.wistia.com/medias/8qpez5gi6s",message:"I'm using @ClickUp and their onboarding video is \ud83d\udcaf"},youtube:{url:"https://clickup.wistia.com/medias/z1lobcfhes",message:"This onboarding video from ClickUp is the best I've ever seen!"},reddit:{url:"https://clickup.wistia.com/medias/5f8qvokjfd",message:"As far as SaaS-y on-boarding videos go, this got my attention..."}},i.instance.needToWatchPercent=.6,i.instance.onClose.pipe(Object(Re.a)(i.instance.destroy$)).subscribe(t=>{t&&t.percentWatched()>.6&&this.store.dispatch(new ge.om({onboarding_video_steps:[1]})),e.role===Ie.f.OWNER?this.project$.pipe(Object(Ge.a)(e=>!!e),Object(qt.a)(this.store.select(ja.a)),Object(Ne.a)(1)).subscribe(([e,t])=>{this.store.dispatch((null==t?void 0:t.id)?new ge.Mk({show:!0,tab:3,playVideo:null}):new ge.Oe({open:!0,parent:e,parentType:Hi.d.Space,initialType:Hi.d.FolderAndList,forOnboarding:!0}))}):this.store.dispatch(new ge.Mk({show:!0,tab:3,playVideo:null})),this.listenToAutoTempaltes()})})}pinItem(e){const t=Object(Xi.a)(e);this.store.dispatch(new ge.om(t))}closeNotepad(){this.store.dispatch(new ka.K({open:!1}))}openTemplateCenter(e,t){const i=this.modalService.openComponent(va,this.injector,{modifier:"cu-template-center__modal"});i.instance.parent=e.parent,i.instance.parentType=e.parentType,i.instance.project=t,i.instance.itemToSave=e.itemToSave,i.instance.initialType=e.initialType,i.instance.updateExisting=e.updateExisting,i.instance.creatingTask=e.creatingTask,i.instance.fromTaskDraft=e.fromTaskDraft,i.instance.initialTypeData=e.initialTypeData,i.instance.forOnboarding=e.forOnboarding,i.instance.returnOnTemplateSelect=e.returnOnTemplateSelect,i.instance.onlyAllowedTypes=e.onlyAllowedTypes,i.instance.docPageId=e.docPageId,i.instance.fromNewFolder=e.fromNewFolder,i.instance.onClose.pipe(Object(Re.a)(i.instance.destroy$)).subscribe(t=>{if(e.forOnboarding&&this.store.dispatch(new ge.Mk({show:!0,tab:3,playVideo:null})),this.store.dispatch(new ge.Oe({open:!1,parent:null,parentType:null,itemToSave:null,initialType:null,updateExisting:null,initialTypeData:null,forOnboarding:null,returnOnTemplateSelect:null,onlyAllowedTypes:null,docPageId:null,fromNewFolder:null,preventCloseAllModal:null})),t)return this.openSubmitTemplateForReviewSuccessModal();e.parentType===Hi.d.Doc||e.preventCloseAllModal?this.modalService.close():this.modalService.closeAll()})}openSubmitTemplateForReviewSuccessModal(){const e=this.modalService.openComponent(aa,this.injector,{modifier:"cu-template-center-review-success__modal"});e.instance.onClose.pipe(Object(Re.a)(e.instance.destroy$)).subscribe(()=>this.modalService.closeAll())}_handleTeamInvites(){this.teamInvites.length&&(this.sharedData.setTeamToJoin(this.teamInvites.pop()),this._openJoinTeamModal())}_openJoinTeamModal(){this.modalService.open({content:this.joinTeamPromptModal,preventExternalClick:!0,modifier:"cu-onboarding__join-team-modal",cannotClose:!0})}_showCreateProjectModal(e){this.modalService.open({name:"create-project",preventExternalClick:e,modifier:e?"prevent-close cu-modal__create_project":"cu-modal__create-new-space",content:this.createProjectModal,bodyModifier:"cu-modal__body_no-min-height"})}showPhoneVerificationModalIfRequired(e,t,i){if((e.twofa_required||i&&i.require_2fa)&&e.twofa_enabled===Ie.g.Disabled&&(!e.twofa_options||!e.twofa_options.text_enabled&&!e.twofa_options.totp_enabled)){const i=e.require_2fa_count<3&&t;this.modalService.openComponent(Oe,this.injector,{cannotClose:!i,persistAfterRouting:!0}).instance.canClose=i}}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a),X.Wb(Ve.a),X.Wb(d.h),X.Wb(Ia.a),X.Wb(Da.a),X.Wb(He.a),X.Wb(ki.a),X.Wb(Ca.WebsocketService),X.Wb(_e.a),X.Wb(Pa.a),X.Wb(we.c),X.Wb($a.b),X.Wb(d.a),X.Wb(X.H),X.Wb(ye.Store),X.Wb(Xe.a),X.Wb(X.B),X.Wb(za.b),X.Wb(Ma.a),X.Wb(Ea.a),X.Wb(Aa),X.Wb(Fa.a),X.Wb(X.t),X.Wb(Ua.a),X.Wb(Na.c),X.Wb(X.h),X.Wb(Ra.a),X.Wb(Ga.a),X.Wb(Xa),X.Wb(Ei.a),X.Wb(Ha.a),X.Wb(Ya.a),X.Wb(eo),X.Wb(to.a),X.Wb(n.l),X.Wb(io.a),X.Wb(ao.UserProfileService),X.Wb(oo.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-manager"]],viewQuery:function(e,t){if(1&e&&(X.jd(co,1),X.jd(no,3),X.jd(so,3),X.jd(ro,3),X.jd(lo,3),X.jd(uo,3),X.jd(po,3),X.jd(mo,3),X.jd(ho,3),X.jd(bo,3)),2&e){let e;X.Qc(e=X.rc())&&(t.createTaskDraft=e.first),X.Qc(e=X.rc())&&(t.createProjectModal=e.first),X.Qc(e=X.rc())&&(t.createCategoryModal=e.first),X.Qc(e=X.rc())&&(t.joinTeamPromptModal=e.first),X.Qc(e=X.rc())&&(t.projectAccessDenied=e.first),X.Qc(e=X.rc())&&(t.onboardingImportModal=e.first),X.Qc(e=X.rc())&&(t.inviteExpiredModal=e.first),X.Qc(e=X.rc())&&(t.sharingModal=e.first),X.Qc(e=X.rc())&&(t.quickCreateReminderModal=e.first),X.Qc(e=X.rc())&&(t.paywallBusinessEmailTemplate=e.first)}},decls:93,vars:131,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y;return e=$localize`:@@cu-manager__clip-message_uploading␟d7ef7e0127bb1631c8b54a75484c85bab3e36cb1␟5421981530545737441:Clip Uploading (${"\ufffd0\ufffd"}:INTERPOLATION:%)`,t=$localize`:@@cu-manager__clip-message_processing␟7453716a186ca5155a35a45827dbad8fd44d971f␟1590505580137467361:Clip Processing...`,i=$localize`:@@cu-manager__error-msg_clip-upload-failed␟0d972619ee85487be3dbc1f37449b174283802bf␟8411676989911473347:Clip upload failed`,a=$localize`:@@common_create-new-task␟f54734928bd3eb8c8cfa455c56738c4314a71036␟2255014503790174203: Create new task `,o=$localize`:@@common_copied␟501c37ede010e2df9eb7b59ca7d6ac3d73ce146c␟5392341774767336507:Copied!`,c=$localize`:@@common_copy-link␟4954fe49190be1ec2fbfbc10aae294701a75bd55␟2618101617221155143:Copy link`,n=$localize`:@@common_download␟358322742e12bd78a131cd306c798bc59b41e7d9␟8346753430323811508: Download `,s=$localize`:@@cu-manager_btn-txt_retry␟9d1576ce07032e3d42ef3fc8f01593b63cbb79da␟4053451334444184493: Retry `,r=$localize`:@@common_open␟c9039b1b13b3ef165b66b3c5d79f810ab1ebb050␟7593555694782789615:Open`,l=$localize`:@@cu-manager__clickbot-rescheduled-tasks-msg␟224eee9cd30af0dd016805dcf15a08f441f93cfb␟626843713402025048: ClickBot just rescheduled ${"\ufffd#7\ufffd"}:START_TAG_DIV_2:${"\ufffd#8\ufffd"}:START_TAG_DIV: ${"\ufffd0\ufffd"}:INTERPOLATION: dependent tasks ${"[\ufffd/#8\ufffd|\ufffd/#9\ufffd|\ufffd/#7\ufffd]"}:CLOSE_TAG_DIV:${"\ufffd#9\ufffd"}:START_TAG_DIV_1:${"[\ufffd/#8\ufffd|\ufffd/#9\ufffd|\ufffd/#7\ufffd]"}:CLOSE_TAG_DIV: accordingly ${"[\ufffd/#8\ufffd|\ufffd/#9\ufffd|\ufffd/#7\ufffd]"}:CLOSE_TAG_DIV:`,l=X.lc(l),d=$localize`:@@common_undo␟4f26c54d5c3edadf92756d7d3ce466dde1f01e2a␟5775346636203685655:Undo`,u=$localize`:@@cu-manager__moved-to-trash␟197259b7ea76f15c6d0a64b075a673fd4112ada7␟7609648817347881129:Moved to Trash`,p=$localize`:@@common_undo␟4f26c54d5c3edadf92756d7d3ce466dde1f01e2a␟5775346636203685655:Undo`,m=$localize`:@@cu-manager__open-settings␟5771f4eff0267911829bda67a797b6fa94103e04␟4300537721752082934: Open settings `,h=$localize`:@@common_view␟6829218544e108e152f5fa72cb79c4ccb82e0d06␟2509141182388535183:View`,b=$localize`:@@common_open␟c9039b1b13b3ef165b66b3c5d79f810ab1ebb050␟7593555694782789615:Open`,g=$localize`:@@common_excel-and-csv␟f2a7dc1b3d84b15f7956fa5429ced73b9e1bb2e8␟1636133811859183197: Excel & CSV `,f=$localize`:@@common_invite-expired␟71cfdbd9df1cfc8b8887521a5ce4d2f11754677e␟4238477321687031419: Looks like this invite has expired. `,_=$localize`:@@common_invite-expired--send-another␟963871721d3ca22be3e3740d075a5d6cb5fe49a7␟8589588955870637556: Ask your admin to send you another. `,v=$localize`:@@cu-manager__who-can-unprotect␟5f47703e71c04c1bbd976ec17c9f17755680168d␟624355114535091075:Who can unprotect `,y=$localize`:@@common_share␟32c004e9dc3747377411e99a33ba79def2867fe3␟7621070222782984355:Share `,[[1,"cu-manager2__container",3,"ngClass"],[3,"team"],[3,"showUserCelebrations"],[3,"localStorageKey",4,"ngIf"],[1,"cu-manager2__container-inner"],[1,"cu-manager2__container-inner-top"],[1,"cu-hidden-print",3,"display","spaceId","tags","tagsLoading","onlyDeleteIfOwner","canDelete","meUser","selectedTasks","isAllProjects"],["class","cu-dashboard-fullscreen_hidden",3,"isSidebarDark",4,"ngIf"],[1,"cu-manager2__router-outlet"],[4,"ngIf"],[1,"cu-manager2__body"],[3,"hidden"],[3,"wistiaId","miscData","user",4,"ngIf"],[3,"onTaskCreated",4,"ngIf"],["class","toast cu-hidden-print",3,"ngClass",4,"ngIf"],[1,"toast","cu-hidden-print",3,"ngClass"],["class","toast__undo",4,"ngFor","ngForOf","ngForTrackBy"],[1,"toast","toast_rescheduled-tasks","cu-hidden-print"],["class","toast__rescheduled-tasks",4,"ngFor","ngForOf","ngForTrackBy"],[1,"toast","cu-hidden-print"],["class","toast__undo",3,"toast__undo-deleted",4,"ngFor","ngForOf"],["class","toast__undo toast__payment-success",4,"ngFor","ngForOf"],["class","toast cu-hidden-print",4,"ngIf"],["class","cu-beacons",3,"ngClass",4,"ngIf"],["class","cu-dashboard-fullscreen_hidden",3,"items","floatButtonHide","currentEntry","currentDuration","hasTrayTasks","notePadOpened","timeTrackerOpened","user","onSelect","onTimeTrackerAction","onPin","onCloseNotepad","onCloseTimeTracking",4,"ngIf"],["class","cu-hidden-print",3,"convertToTask",4,"ngIf"],[3,"dashboards","currentDuration","defaultProject","currentEntry","groupedEntries","user","tags","team","onTimeTrackerAction",4,"ngIf"],[1,"cu-hidden-print",3,"adjustForTimer","timeTrackerOpen","isScreenRecordingSupported","onCloseTimeTracker"],["createCategoryModal",""],["joinTeamPromptModal",""],["onboardingImportModal",""],["projectAccessDenied",""],["createProjectModal",""],["inviteExpiredModal",""],["sharingModal",""],["quickCreateReminderModal",""],["paywallBusinessEmailTemplate",""],[3,"localStorageKey"],[1,"cu-dashboard-fullscreen_hidden",3,"isSidebarDark"],[1,"cu-hidden-print",3,"showProjects","isSidebarDark"],[1,"cu-hidden-print",3,"showProjects","isSidebarDark","user"],[3,"wistiaId","miscData","user"],[3,"onTaskCreated"],["createTaskDraft",""],[1,"toast__undo"],[1,"toast__undo-content"],[1,"toast__name-link"],[1,"toast__close-button-block",3,"click"],["icon","toast-close",1,"toast__close-button"],["class","toast__buttons",4,"ngIf"],e,t,i,[1,"toast__buttons"],[1,"toast__copy-button-block",3,"click"],["icon","cu2-plus",1,"toast__copy-button","toast__copy-button_cu2-plus"],[1,"toast__copy-button-link"],a,["ngxClipboard","","cuClipboardCopied","",1,"toast__copy-button-block",3,"cbContent","cbOnSuccess"],["clipboardHelper","cuClipboardCopied"],["icon","cu2-copy-link2",1,"toast__copy-button","toast__copy-button_cu2-copy-link2"],[4,"ngIf","ngIfElse"],["copyLinkTmpl",""],o,c,["icon","download-v4",1,"toast__copy-button","toast__copy-button_download-v4"],n,["class","toast__copy-button-block",3,"click",4,"ngIf"],["icon","refresh",1,"toast__copy-button"],s,[1,"toast__name-link-text",3,"click"],[1,"toast__undo-button-block",3,"click"],[1,"toast__view-button"],["width","14px","height","16px","viewBox","0 0 14 16","version","1.1","xmlns","http://www.w3.org/2000/svg"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd","stroke-linecap","round"],["transform","translate(2.000000, 1.000000)","stroke-width","2.5",1,"cu-stroke"],["points","5.24506022 0.276041667 0 6.25993727 5.24506022 12.2438329"],["d","M1.07930723,6.25993727 L7.09902738,6.25993727 C9.0843888,6.25993727 10.6370787,\n                6.84899765 10.663429,9.81050497 C10.6897793,12.7720123 10.689911,13.4753011 10.689911,13.4753011"],[1,"toast__view-button-link"],r,[1,"toast__shortcuts"],[1,"toast__minimize-button-block",3,"click"],["width","14px","height","15px","viewBox","0 0 14 15","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","new-tray-option-v2","transform","translate(-171.000000, -83.000000)","stroke","#818193"],["id","tray-icon","transform","translate(172.000000, 84.000000)"],["d","M12.109375,0.390625 L5.859375,6.640625","id","Line-3","stroke-width","1.2","stroke-linecap","square"],["id","Path-2","stroke-width","1.2","points","9.63172913 7.18612671 5.43632507 7.18612671 5.43632507 2.75344849"],["d","M11.71875,5.90515137 C11.71875,6.84983995 11.71875,8.26687283 11.71875,10.15625 C11.71875,11.4506674 10.6694174,12.5 9.375,12.5 L2.34375,12.5 C1.04933262,12.5 0,11.4506674 0,10.15625 L0,3.125 C0,1.83058262 1.04933262,0.78125 2.34375,0.78125 C4.24584283,0.78125 5.67241245,0.78125 6.62345886,0.78125","id","Rectangle-2","stroke-width","1.3"],["ngxClipboard","",1,"toast__copy-button-block",3,"cbContent","click","cbOnSuccess"],[1,"toast__rescheduled-tasks"],[1,"toast__rescheduled-tasks-header"],[1,"toast__rescheduled-tasks-header-icon"],["icon","clickbot",1,"toast__rescheduled-tasks-header-icon-clickbot"],["icon","check-o-green",1,"toast__rescheduled-tasks-header-icon-check-o-green"],[1,"toast__rescheduled-tasks-header-title"],l,[1,"toast__rescheduled-tasks-header-title-row"],[1,"toast__rescheduled-tasks-header-title-link",3,"click"],["icon","angle-right-no-padding",1,"toast__rescheduled-tasks-header-title-arrow",3,"ngClass","click"],["icon","close-modal-grey",1,"toast__rescheduled-tasks-close",3,"click"],["class","toast__rescheduled-tasks-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"toast__undo-button"],["width","1792","height","1792","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg"],["d","M1664 896q0 156-61 298t-164 245-245 164-298 61q-172\n              0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0\n              198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188\n              35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130\n              129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z",1,"cu-fill"],[1,"toast__undo-button-link"],d,[1,"toast__rescheduled-tasks-item"],["class","toast__rescheduled-tasks-item-status",3,"background-color",4,"ngIf"],[1,"toast__rescheduled-tasks-item-status"],[1,"toast__undo-content-html","toast__name-link",3,"click"],["class","toast__timer","format","{ss}",3,"time",4,"ngIf"],[1,"toast__undo-content-html-right"],["class","toast__undo-content-html-delete",4,"ngIf"],[1,"toast__name-link-text",3,"innerHTML"],["class","toast__undo-content",4,"ngIf"],["class","toast__description",4,"ngIf"],["class","toast__undo-button-block",3,"click",4,"ngIf"],["format","{ss}",1,"toast__timer",3,"time"],[1,"toast__undo-content-html-delete"],u,[1,"toast__description"],["d","M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z",1,"cu-fill"],p,[1,"toast__undo","toast__payment-success"],[1,"toast__undo-content","toast__payment-success-content"],[3,"class",4,"ngFor","ngForOf"],["plainTitle",""],["class","toast__undo-content",3,"toast__settings-link","toast_bold",4,"ngIf"],["class","toast__undo-button-block",3,"routerLink","queryParams","click",4,"ngIf"],["class","toast__undo-button-block","target","_blank",3,"href","click",4,"ngIf"],[1,"toast__close-button-block","toast__close-button-block_top-right",3,"click"],[3,"innerHTML",4,"ngIf","ngIfElse"],["class","toast__settings",3,"click",4,"ngIf"],[3,"innerHTML"],[1,"toast__settings",3,"click"],m,[1,"toast__name-link",3,"routerLink"],[1,"toast__name-link-text"],[1,"toast__undo-button-block",3,"routerLink","queryParams","click"],["width","14px","height","16px","viewBox","0 0 14 16","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["viewTmpl",""],h,["target","_blank",1,"toast__undo-button-block",3,"href","click"],[1,"toast__open-button"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"cu-stroke"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","x2","21","y1","14","y2","3"],["openTmpl",""],["class","toast__view-button-link-underlined",4,"ngIf"],b,[1,"toast__view-button-link-underlined"],[1,"cu-beacons",3,"ngClass"],[1,"cu-beacons__header"],["class","cu-beacons__btn",3,"ngStyle","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-beacons__btn",3,"ngStyle","click"],["class","cu-beacons__btn-img","alt","",3,"ngClass","src","ngStyle",4,"ngIf"],[3,"icon","ngStyle",4,"ngIf"],["class","cu-beacons__btn-row",4,"ngIf"],[1,"cu-beacons__btn-close",3,"icon","click"],["alt","",1,"cu-beacons__btn-img",3,"ngClass","src","ngStyle"],[3,"icon","ngStyle"],[1,"cu-beacons__btn-row"],["viewBox","0 0 36 44","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["d","M27 18H9a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-1 5h-4v-3h4v3zm-10 0v-3h4v3h-4zm-2-3v3h-4v-3h4zm0 8h-4v-3h4v3zm-4 2h4v3h-4v-3zm6 3v-8h10v8H16z",1,"cu-fill"],["d","M1.25 5A3.75 3.75 0 0 1 5 1.25h19.982c2.92 2.92 7.335 7.354 9.768 10.207V39A3.75 3.75 0 0 1 31 42.75H5A3.75 3.75 0 0 1 1.25 39V5z","stroke-width","2.5",1,"cu-stroke"],["d","M24 8.385C24 10.934 26.241 13 29.003 13H36l-1-2L25 1h-1v7.385z",1,"cu-fill"],[1,"cu-beacons__title","cu-beacons__title_csv"],g,[1,"cu-dashboard-fullscreen_hidden",3,"items","floatButtonHide","currentEntry","currentDuration","hasTrayTasks","notePadOpened","timeTrackerOpened","user","onSelect","onTimeTrackerAction","onPin","onCloseNotepad","onCloseTimeTracking"],[1,"cu-hidden-print",3,"convertToTask"],[3,"dashboards","currentDuration","defaultProject","currentEntry","groupedEntries","user","tags","team","onTimeTrackerAction"],[3,"projectId"],[3,"team","onTeamJoined"],[3,"closeImportModal"],[3,"team","onCancel"],[1,"cu-modal__body-text"],f,_,[1,"cu-privacy-modal__header"],[1,"cu-modal__title"],[1,"cu-privacy-modal__header-type"],["class","cu-privacy-modal__header-type-icon cu-privacy-modal__header-type-icon_no-fill","icon","cu2-folder-sidebar",4,"ngIf"],["class","cu-privacy-modal__header-type-icon cu-privacy-modal__header-type-icon_no-stroke","icon","cu2-space",4,"ngIf"],[3,"projectId","type","item","warning"],v,y,[1,"cu-privacy-modal__header-type-icon"],[3,"icon",4,"ngIf"],["class","cu-privacy-modal__header-type-icon-favicon",3,"backgroundImage",4,"ngIf"],[3,"icon"],[1,"cu-privacy-modal__header-type-icon-favicon"],["icon","cu2-folder-sidebar",1,"cu-privacy-modal__header-type-icon","cu-privacy-modal__header-type-icon_no-fill"],["icon","cu2-space",1,"cu-privacy-modal__header-type-icon","cu-privacy-modal__header-type-icon_no-stroke"],[3,"onCreateReminder","onClose"],[3,"badge","textBelowImage","image","text","upgradeButtonText","emailSubject","features","learnMore","flipBadge","forBusiness","imageWidth","upgradeClicked"]]},template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async"),X.Xb(4,"cu2-banner-popup",1),X.vc(5,"async"),X.Xb(6,"cu-confetti-celebration",2),X.vc(7,"async"),X.bd(8,go,1,1,"cu-web-push-notification-banner",3),X.vc(9,"async"),X.vc(10,"async"),X.cc(11,"div",4),X.cc(12,"div",5),X.Xb(13,"cu-dashboard-table-toolbar",6),X.vc(14,"async"),X.vc(15,"async"),X.vc(16,"async"),X.vc(17,"async"),X.vc(18,"async"),X.vc(19,"async"),X.vc(20,"async"),X.vc(21,"async"),X.vc(22,"async"),X.bd(23,fo,2,4,"cu-nav-favorites-bar",7),X.vc(24,"async"),X.vc(25,"async"),X.bc(),X.cc(26,"div",8),X.vc(27,"async"),X.bd(28,wo,8,11,"ng-container",9),X.vc(29,"async"),X.cc(30,"div",10),X.vc(31,"async"),X.bd(32,ko,2,4,"cu-nav-favorites-bar",7),X.vc(33,"async"),X.vc(34,"async"),X.vc(35,"async"),X.vc(36,"async"),X.vc(37,"async"),X.vc(38,"async"),X.vc(39,"async"),X.Xb(40,"router-outlet",11),X.vc(41,"async"),X.bc(),X.bd(42,xo,1,1,"cu2-list-details-sidebar",9),X.vc(43,"async"),X.bc(),X.bc(),X.bd(44,To,4,9,"cu-wistia-overlay",12),X.vc(45,"async"),X.bc(),X.bd(46,So,2,0,"create-task-draft",13),X.Xb(47,"cu-queued-tasks"),X.bd(48,Fo,2,5,"div",14),X.cc(49,"div",15),X.bd(50,Uo,37,5,"div",16),X.bc(),X.cc(51,"div",17),X.bd(52,Bo,12,5,"div",18),X.vc(53,"async"),X.bc(),X.cc(54,"div",19),X.bd(55,Zo,13,10,"div",20),X.bc(),X.cc(56,"div",19),X.bd(57,Qo,6,1,"div",21),X.bc(),X.bd(58,mc,2,1,"div",22),X.bd(59,vc,4,5,"div",23),X.vc(60,"async"),X.Xb(61,"cu-quick-switcher"),X.bd(62,yc,8,22,"cu-float-button",24),X.vc(63,"async"),X.bd(64,wc,1,0,"cu-scratchpad",25),X.vc(65,"async"),X.bd(66,kc,9,24,"cu-time-tracker",26),X.vc(67,"async"),X.cc(68,"cu-minimize-tasks-keeper",27),X.qc("onCloseTimeTracker",function(){return t.closeTimeTracking()}),X.vc(69,"async"),X.vc(70,"async"),X.vc(71,"async"),X.bc(),X.bd(72,xc,1,1,"cu-user-profile-sidebar",9),X.vc(73,"async"),X.Xb(74,"cu-attachments-viewer"),X.bd(75,Tc,2,3,"ng-template",null,28,X.cd),X.bd(77,Sc,2,3,"ng-template",null,29,X.cd),X.bd(79,jc,1,0,"ng-template",null,30,X.cd),X.bd(81,Oc,1,0,"ng-template",null,31,X.cd),X.bd(83,Ic,2,3,"ng-template",null,32,X.cd),X.bd(85,Dc,4,0,"ng-template",null,33,X.cd),X.bd(87,Fc,13,15,"ng-template",null,34,X.cd),X.bd(89,Uc,1,0,"ng-template",null,35,X.cd),X.bd(91,Nc,1,11,"ng-template",null,36,X.cd)),2&e){let e=null,i=null,a=null,o=null,c=null,n=null,s=null,r=null,l=null;X.Dc("ngClass",X.Jc(123,Rc,(null==(e=X.wc(1,43,t.user$))?null:e.dashboard_size)===t.LayoutSize.Compact,(null==(e=X.wc(2,45,t.user$))?null:e.dashboard_size)===t.LayoutSize.Default,(null==(e=X.wc(3,47,t.user$))?null:e.dashboard_size)===t.LayoutSize.Large)),X.Ib(4),X.Dc("team",X.wc(5,49,t.team$)),X.Ib(2),X.Dc("showUserCelebrations",null==(i=X.wc(7,51,t.user$))?null:i.show_celebrations),X.Ib(2),X.Dc("ngIf",!X.wc(9,53,t.isNotificationSettings$)&&X.wc(10,55,t.userIsCreatedMoreThanAWeekAgo$)),X.Ib(5),X.Dc("display",t.selectedTasks.hasSelected)("spaceId",null==(a=X.wc(14,57,t.project$))?null:a.id)("tags",X.wc(15,59,t.tagsMap$)[null==(o=X.wc(16,61,t.project$))?null:o.id])("tagsLoading",X.wc(17,63,t.tagsLoadingMap$)[null==(c=X.wc(18,65,t.project$))?null:c.id]||X.Gc(127,Gc))("onlyDeleteIfOwner",X.wc(19,67,t.onlyDeleteIfOwner$))("canDelete",X.wc(20,69,t.canDelete$))("meUser",X.wc(21,71,t.sharedData.currentUser))("selectedTasks",t.selectedTasks)("isAllProjects",X.wc(22,73,t.isAllProjects$)),X.Ib(10),X.Dc("ngIf",(null==(n=X.wc(24,75,t.user$))?null:n.dashboard)===t.LayoutVersion.Six&&X.wc(25,77,t.favoritesPinned$)),X.Ib(3),X.Ob("manager-space-bar",!X.wc(27,79,t.hideSpacebar$)),X.Ib(2),X.Dc("ngIf",!X.wc(29,81,t.hideSpacebar$)),X.Ib(2),X.Ob("cu-manager2__body-cover-sidebar",X.wc(31,83,t.coverSidebar$)),X.Ib(2),X.Dc("ngIf",!X.wc(33,85,t.hideSpacebar$)&&((null==(s=X.wc(34,87,t.user$))?null:s.dashboard)===t.LayoutVersion.Three||(null==(s=X.wc(35,89,t.user$))?null:s.dashboard)===t.LayoutVersion.Four||(null==(s=X.wc(36,91,t.user$))?null:s.dashboard)===t.LayoutVersion.Five)&&(null==(s=X.wc(37,93,t.user$))?null:s.dashboard)!==t.LayoutVersion.Six&&X.wc(38,95,t.favoritesPinned$)&&!X.wc(39,97,t.coverSidebar$)),X.Ib(8),X.Dc("hidden",!X.wc(41,99,t.project$)),X.Ib(2),X.Dc("ngIf",X.wc(43,101,t.isListDetailsSidebarOpen$)),X.Ib(2),X.Dc("ngIf",null==(r=X.wc(45,103,t.showWistiaVideo$))?null:r.show),X.Ib(2),X.Dc("ngIf",!t.floatButtonHide&&t.createDraft),X.Ib(2),X.Dc("ngIf",t.clipToasts.length>0&&!t.hideClipToasts),X.Ib(1),X.Dc("ngClass",X.Ic(128,qc,t.isTaskModalOpen,!t.taskService.rcTasks.length)),X.Ib(1),X.Dc("ngForOf",t.taskService.rcTasks)("ngForTrackBy",t.trackById),X.Ib(2),X.Dc("ngForOf",X.wc(53,105,t.rescheduledTasksToasts$))("ngForTrackBy",t.trackById),X.Ib(3),X.Dc("ngForOf",t.sharedData.undoItems),X.Ib(2),X.Dc("ngForOf",t.sharedData.settingsSuccessMessages),X.Ib(1),X.Dc("ngIf",null==t.sharedData.toastItems?null:t.sharedData.toastItems.length),X.Ib(1),X.Dc("ngIf",t.sharedData.onboardingTeam===(null==(l=X.wc(60,107,t.team$))?null:l.id)&&(null==t.sharedData.integrations?null:t.sharedData.integrations.length)),X.Ib(3),X.Dc("ngIf",X.wc(63,109,t.showFloatButton$)),X.Ib(2),X.Dc("ngIf",X.wc(65,111,t.scratchpadOpened$)),X.Ib(2),X.Dc("ngIf",X.wc(67,113,t.isTimeTrackerOpen$)),X.Ib(2),X.Ob("max-z-index",X.wc(69,115,t.isTimeTrackerOpen$)),X.Dc("adjustForTimer",X.wc(70,117,t.adjustForTimer$))("timeTrackerOpen",X.wc(71,119,t.isTimeTrackerOpen$))("isScreenRecordingSupported",t.isScreenRecordingSupported),X.Ib(4),X.Dc("ngIf",X.wc(73,121,t.isProfileSidebarOpen$))}},styles:[".cu-manager2__container{height:100%;display:flex;flex-direction:column}.contrast_high .cu-manager2__container{background:#eee}.dark-theme .cu-manager2__container{background:#1e272e}@media print{.cu-manager2__container{height:auto}}.cu-manager2__container-inner{width:100%;height:100%;flex-grow:1;min-height:0;display:grid;grid:auto 1fr/1fr}.cu-manager2__container-inner-top{min-width:0}.cu-manager2__router-outlet{min-width:0;min-height:0}.cu-manager2__router-outlet.manager-space-bar{display:flex}.cu-manager2__body{flex-grow:1;display:flex;flex-direction:column;min-width:0;min-height:0;height:100%}@media print{.cu-manager2__body{height:auto}}.cu-manager2__body.cu-manager2__body-cover-sidebar{position:absolute;left:0;width:100%;z-index:100000}"],encapsulation:2,data:{animation:[Qt.g,Qt.e,Qt.f]}}),e})();var Jc=i("vF9G"),en=i("qcos"),tn=i("5g/T"),an=i("0mFS");let on=(()=>{class e{constructor(e,t,i){this.userService=e,this.sharedData=t,this.store=i}canActivate(e,t){const i=Object(Wa.a)({user:this.sharedData.currentUser.value,teams:this.sharedData.compatTeamList});return this.store.dispatch(new ge.ke),i.pipe(Object(Fe.a)(t=>{const i=t.teams,a=t.user,o=e.params.team,c=i.find(e=>e.id===o);if(!c){const t="affiliates"===o;if("free_trial"===o)this.userService.handleFreeTrialLink(i,e);else if(o&&!t)this.store.dispatch(new an.d({path:["/not-found-team"]}));else if(i.length>0){const o=localStorage.getItem(we.a)||a.default_team;let c=i.find(e=>e.id===o);if(c||(c=i[0]),t)this.store.dispatch(new an.d({path:["/",c.id,"settings","rewards"],extras:{replaceUrl:!0}}));else{const t={};e.queryParams&&e.queryParams.pendo&&(t.pendo=e.queryParams.pendo),this.store.dispatch(new an.d({path:["/",c.id,"v"],query:t,extras:{replaceUrl:!0}}))}}else this.userService.userData.phone_validated||this.userService.userData.email_validated?this.navigateToTeamSetup():this.store.dispatch(new an.d({path:["signup/validate-email"],extras:{queryParamsHandling:"merge"}}));return!1}return this.store.dispatch(new ge.tk(c.id)),!0}))}navigateToTeamSetup(){this.store.dispatch({type:tn.q,payload:"team"}),this.userService.updateUser({onboarding_step:"team"}).subscribe(()=>{this.store.dispatch(new an.d({path:["/onboarding"],extras:{replaceUrl:!0}}))})}}return e.\u0275fac=function(t){return new(t||e)(X.nc(we.c),X.nc(fe.a),X.nc(ye.Store))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var cn=i("Ar9I");let nn=(()=>{class e{constructor(e,t){this.router=e,this.store=t}canActivate(e,t){return e.queryParams.view&&this.store.dispatch(new ge.ej(e.queryParams.view)),this.router.navigate(["/",e.params.team,"d",e.params.view],{replaceUrl:!0,queryParams:Object.assign(Object.assign({},e.queryParams),{p:"1"===e.queryParams.allProjects?"-1":e.params.project,c:"1"===e.queryParams.allCats?"-1":e.queryParams.c,allProjects:null,allCats:null,view:null,a:null})}),!0}}return e.\u0275fac=function(t){return new(t||e)(X.nc(d.h),X.nc(ye.Store))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var sn=i("sie8");let rn=(()=>{class e{constructor(e,t,i){this.router=e,this.store=t,this.preloader=i,this.commonTeam$=this.store.select(me.getTeam)}canActivate(e,t){return this.store.pipe(Object(ye.select)(me.isGuestTeam),Object(Yt.a)(),Object(qt.a)(this.commonTeam$),Object(Fe.a)(([e,t])=>(e&&(this.router.navigate(["/not-found"]),this.preloader.hide(),t.id&&this.preloader.setTimeout(t.id)),!e)))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(d.h),X.nc(ye.Store),X.nc(He.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ln=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-task-holder"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})(),dn=(()=>{class e{constructor(e,t,i){this.router=e,this.store=t,this.preloader=i,this.commonTeam$=this.store.select(me.getTeam),this.isGuest$=this.store.select(me.isGuestTeam),this.dashboardsOrNull$=this.store.select(Pi.i),this.dashboards$=this.dashboardsOrNull$.pipe(Object(ra.a)(e=>{e||this.store.dispatch(Object(re.o)({tag:"grid guard"}))}),Object(Ge.a)(e=>!!e))}canActivate(e,t){return this.isGuest$.pipe(Object(Yt.a)(),Object(Vt.a)(e=>e?this.dashboards$.pipe(Object(Yt.a)(),Object(Fe.a)(t=>({isGuest:e,dashboards:t}))):Object(Wa.a)({isGuest:e,dashboards:[]})),Object(qt.a)(this.commonTeam$),Object(Fe.a)(([{isGuest:e,dashboards:t},i])=>{const a=i.dashboards_enabled&&(!e||t&&t.length>0);return a||(this.router.navigate(["/not-found"]),this.preloader.hide(),i.id&&this.preloader.setTimeout(i.id)),a}))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(d.h),X.nc(ye.Store),X.nc(He.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var un=i("agop");const pn=d.l.forChild([{path:":team/:project/d/:view",component:sn.a,canActivate:[nn]},{path:":team",component:Kc,data:{stateName:"manager"},resolve:{team:en.a},canActivate:[on],children:[{path:"settings",loadChildren:()=>Promise.all([i.e(41),i.e(0),i.e(65)]).then(i.bind(null,"cNM5")).then(e=>e.SettingsModule),data:{title:"Settings",hideBacklink:!0}},{path:"office",loadChildren:()=>i.e(116).then(i.bind(null,"iUK6")).then(e=>e.MicrosoftPreviewModule),data:{isMicrosoftPreview:!0}},{path:"template",loadChildren:()=>i.e(103).then(i.bind(null,"H/2/")).then(e=>e.AcceptTemplateModule),data:{title:"Share Template",hideBacklink:!0,publicTemplate:!0}},{path:"v",loadChildren:()=>Promise.all([i.e(33),i.e(38),i.e(37),i.e(0),i.e(62)]).then(i.bind(null,"6w4Z")).then(e=>e.DashboardModule),data:{hideBacklink:!0}},{path:"d",redirectTo:"v"},{path:"dashboard",redirectTo:"d"},{path:"search",loadChildren:()=>Promise.resolve().then(i.bind(null,"vF9G")).then(e=>e.SearchModule),data:{title:"Search"}},{path:"notifications",loadChildren:()=>Promise.all([i.e(0),i.e(96)]).then(i.bind(null,"Gpjs")).then(e=>e.NotificationsModule),data:{title:"Notifications"}},{path:"reporting",canActivate:[rn],loadChildren:()=>Promise.all([i.e(15),i.e(42),i.e(68)]).then(i.bind(null,"6gsK")).then(e=>e.ReportingModule),data:{title:"Reporting"}},{path:"goals",loadChildren:()=>i.e(67).then(i.bind(null,"/mvX")).then(e=>e.GoalsModule),data:{title:"Goals"}},{path:"portfolios/:portfolioId",loadChildren:()=>Promise.all([i.e(15),i.e(18),i.e(27),i.e(43)]).then(i.bind(null,"PJze")).then(e=>e.PortfoliosModule),data:{title:"Portfolios"}},{path:"portfolios",loadChildren:()=>Promise.all([i.e(15),i.e(18),i.e(27),i.e(43)]).then(i.bind(null,"PJze")).then(e=>e.PortfoliosModule),data:{title:"Portfolios"}},{path:"inbox",redirectTo:"home"},{path:"dashboards",canActivate:[dn],loadChildren:()=>Promise.all([i.e(15),i.e(18),i.e(31),i.e(38),i.e(27),i.e(42),i.e(0),i.e(107)]).then(i.bind(null,"hlCr")).then(e=>e.GridModule),data:{isGrid:!0,title:"Dashboards"}},{path:"docs",canActivate:[(()=>{class e{constructor(e,t,i,a){this.router=e,this.store=t,this.preloader=i,this.sharedDocService=a,this.commonTeam$=this.store.select(me.getTeam),this.isGuest$=this.store.select(me.isGuestTeam),this.docsOrNull$=this.store.select(un.e),this.docs$=this.docsOrNull$.pipe(Object(ra.a)(e=>{e||this.store.dispatch(Object(zi.g)({tag:"doc manager guard"}))}),Object(Ge.a)(e=>!!e))}canActivate(e,t){return this.isGuest$.pipe(Object(Yt.a)(),Object(Vt.a)(e=>e?this.docs$.pipe(Object(Yt.a)(),Object(Fe.a)(t=>({isGuest:e,docs:t}))):Object(Wa.a)({isGuest:e,docs:[]})),Object(qt.a)(this.commonTeam$),Object(Fe.a)(([{isGuest:t,docs:i},a])=>{const o=a.docs_home&&(!t||i&&i.length>0);return o||(e.children&&e.children.length&&e.children[0].params&&e.children[0].params.viewId?(this.sharedDocService.pendingOpen$.next({teamId:a.id,viewId:e.children[0].params.viewId,pageId:e.children[0].params.pageId}),this.router.navigate(["/",a.id])):this.router.navigate(["/not-found"]),this.preloader.hide(),a.id&&this.preloader.setTimeout(a.id)),o}))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(d.h),X.nc(ye.Store),X.nc(He.a),X.nc(Ha.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()],loadChildren:()=>Promise.all([i.e(17),i.e(32),i.e(34),i.e(0),i.e(73)]).then(i.bind(null,"dAom")).then(e=>e.DocManagerModule),data:{isDocManager:!0,title:"Docs Home"}},{path:"pulse",canActivate:[(()=>{class e{constructor(e,t,i){this.router=e,this.store=t,this.preloader=i,this.commonTeam$=this.store.select(me.getTeam),this.showLiveView$=this.store.select(me.showLiveView),this.isGuest$=this.store.select(me.isGuestTeam)}canActivate(e,t){return this.showLiveView$.pipe(Object(Yt.a)(),Object(qt.a)(this.commonTeam$),Object(Fe.a)(([e,t])=>(e||(this.router.navigate(["/not-found"]),this.preloader.hide(),t.id&&this.preloader.setTimeout(t.id)),!0)))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(d.h),X.nc(ye.Store),X.nc(He.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()],loadChildren:()=>i.e(95).then(i.bind(null,"UYCz")).then(e=>e.LiveModule),data:{isLiveManager:!0,title:"Pulse"}},{path:"home-legacy",loadChildren:()=>Promise.all([i.e(17),i.e(34),i.e(98)]).then(i.bind(null,"a0Fc")).then(e=>e.HomeModule)},{path:"home",loadChildren:()=>i.e(97).then(i.bind(null,"+u5Y")).then(e=>e.HomeModule),data:{title:"Home"}},{path:"slackAuth",component:sn.a},{path:"sentryAuth",component:sn.a},{path:"taskHolder",component:ln},{path:"email_code",component:sn.a},{path:"import",component:sn.a},{path:"t/:task",redirectTo:"/t/:task"},{path:"task/:task",redirectTo:"t/:task",canActivate:[cn.a]},{path:"",pathMatch:"full",redirectTo:"v"}]},{path:":team/:project",redirectTo:":team"},{path:"",pathMatch:"full",component:Kc,canActivate:[on]}]);var mn=i("C7Vu"),hn=i("AcQF"),bn=i("pMok"),gn=i("l9q2"),fn=i("4TFr"),_n=i("Cmjk"),vn=i("Dlfn");let yn=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,vn.a,s.l]]}),e})();var wn=i("6FmO"),kn=i("9oMC"),xn=i("an+h"),Tn=i("5+WD"),Sn=i("HiD6");let jn=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,s.l,q.a,u.a,_.a,M.LoaderModule,Sn.a,Tn.f,xn.a,B.a]]}),e})();var On=i("8Gxz"),In=i("qfLN"),Dn=i("mSrN"),Cn=i("C9rM"),Pn=i("Vlmb"),$n=i("/SUI"),zn=i("yZn2"),Mn=i("4xwl"),En=i("mcWp"),Ln=i("V6/z"),An=i("U9LQ"),Fn=i("oIw3"),Un=i("2Wx5"),Nn=i("FyW7"),Rn=i("Fv+p"),Gn=i("Si/9"),qn=i("qgxu"),Bn=i("MTKx"),Wn=i("VqQW"),Vn=i("73lP"),Xn=i("98M/"),Hn=i("xWkZ"),Yn=i("xaCb"),Zn=i("TyuJ");let Qn=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,Pn.a,$n.a,E.a,zn.a,Mn.a,En.a,q.a,Ln.a,B.a,An.a,Fn.a,Un.a,Nn.a,Rn.a,Gn.a,qn.a,Bn.a,Wn.a,_.a,Vn.a,M.LoaderModule,Xn.a,Hn.a,Yn.a,Zn.a]]}),e})(),Kn=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,s.x]]}),e})();var Jn=i("kcRA"),es=i("9Ejp"),ts=i("Yatc"),is=i("prfv");let as=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},providers:[es.c,Jn.a],imports:[[n.c,q.a,B.a,es.b,ts.a,kn.a,f.a,r.a,Kn,is.a,T.a,Tn.f,xn.a]]}),e})();var os=i("R0Ic"),cs=i("uslN");function ns(e,t){1&e&&X.Xb(0,"div",10),2&e&&X.Dc("icon","warning")}function ss(e,t){if(1&e&&(X.cc(0,"a",11),X.dd(1),X.bc()),2&e){const e=X.uc(2);X.Ec("fragment",e.fragmentTag?e.fragmentTag:""),X.Dc("routerLink",e.link)("queryParams",e.queryParams),X.Ib(1),X.ed(e.noButtonMsg)}}function rs(e,t){if(1&e&&(X.cc(0,"a",12),X.cc(1,"button",13),X.dd(2),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Dc("routerLink",e.link),X.Ib(2),X.ed(e.buttonMsg)}}function ls(e,t){if(1&e){const e=X.dc();X.cc(0,"div",14),X.mc(1,15),X.cc(2,"span",16),X.qc("click",function(){return X.Uc(e),X.uc(2).downgradePlan()}),X.bc(),X.jc(),X.bc()}}const ds=function(e,t){return["/",e,"settings","team",t,"import"]},us=function(){return{import:!0,pastImports:!0}};function ps(e,t){if(1&e&&(X.cc(0,"a",17),X.vc(1,"async"),X.vc(2,"async"),X.cc(3,"button",18),X.gc(4,19),X.bc(),X.bc()),2&e){const e=X.uc(2);let t=null;X.Dc("routerLink",X.Ic(6,ds,(null==(t=X.wc(1,2,e.sharedData.compatCurrentTeam$))?null:t.id)||"",null==(t=X.wc(2,4,e.sharedData.compatCurrentTeam$))?null:t.id))("queryParams",X.Gc(9,us))}}const ms=function(e){return{"cu-banner-popup__dismiss_yellow":e}};function hs(e,t){if(1&e){const e=X.dc();X.cc(0,"button",20),X.qc("click",function(){return X.Uc(e),X.uc(2).dismissBanner()}),X.gc(1,21),X.bc()}if(2&e){const e=X.uc(2);X.Dc("ngClass",X.Hc(1,ms,"imports_in_progress"==e.bannerMsg.type))}}function bs(e,t){if(1&e){const e=X.dc();X.cc(0,"div",22),X.qc("click",function(){return X.Uc(e),X.uc(2).dismissBanner()}),X.bc()}2&e&&X.Dc("icon","close-o")}const gs=function(e){return{"background-color":e}};function fs(e,t){if(1&e&&(X.cc(0,"div",1),X.cc(1,"div"),X.bd(2,ns,1,1,"div",2),X.cc(3,"div"),X.cc(4,"span",3),X.dd(5),X.bc(),X.bd(6,ss,2,4,"a",4),X.bc(),X.bd(7,rs,3,2,"a",5),X.bd(8,ls,3,0,"div",6),X.bd(9,ps,5,10,"a",7),X.bd(10,hs,2,3,"button",8),X.bd(11,bs,1,1,"div",9),X.bc(),X.bc()),2&e){const e=X.uc();X.Dc("ngStyle",X.Hc(13,gs,e.background))("@loading",void 0),X.Ib(1),X.Mb("cu-banner-popup__container ",e.bannerMsg&&null!=e.bannerMsg&&e.bannerMsg.type?null==e.bannerMsg?null:e.bannerMsg.type:"",""),X.Ib(1),X.Dc("ngIf",e.noButtonMsg&&!e.queryParams),X.Ib(3),X.ed(e.message),X.Ib(1),X.Dc("ngIf",e.noButtonMsg),X.Ib(1),X.Dc("ngIf",e.buttonMsg),X.Ib(1),X.Dc("ngIf",e.downgrade&&e.storage<=100),X.Ib(1),X.Dc("ngIf","imports_in_progress"==e.bannerMsg.type&&!(null!=e.bannerMsg&&e.bannerMsg.sub)),X.Ib(1),X.Dc("ngIf",e.dismiss),X.Ib(1),X.Dc("ngIf",e.close)}}let _s=(()=>{class e{constructor(e,t,i,a,o){this.sharedData=e,this.dataService=t,this.router=i,this.renderer2=a,this.store=o,this.message="",this.buttonMsg="",this.noButtonMsg="",this.link=[],this.queryParams={},this.background="",this.close=!1,this.dismiss=!1,this.downgrade=!1,this.haveToBeAdmin=!0,this.storage=0,this.TeamPlan=cs.f,this.fragmentTag=null,this.showMsg=!0,this.destroy$=new Ee.a}ngOnInit(){this.sharedData.bannerPopup.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.bannerMsg=e,this.removeBanner(),e&&this.addBanner(e)}),this.router.events.pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{!this.bannerMsg||"successful_downgrade"!==this.bannerMsg.type&&"calendar_created"!==this.bannerMsg.type||(this.sharedData.bannerPopup=null)}),this.store.select(me.getTeam).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.storage=e.storage_used&&e.storage_used.bytes||0,this.storage=this.storage/1e6,this.storage=this.storage>0&&this.storage<10?parseFloat(this.storage.toFixed(2)):Math.round(this.storage)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}addBanner(e){this.renderer2.addClass(document.body,"banner-popup_true"),this.getBannerContent(e.type,e)}removeBanner(){this.renderer2.removeClass(document.body,"banner-popup_true"),this.message="",this.buttonMsg="",this.noButtonMsg="",this.background="",this.link=[],this.queryParams={},this.dismiss=!1,this.downgrade=!1,this.close=!1,this.haveToBeAdmin=!0}dismissBanner(){this.sharedData.bannerPopup.value&&"imports_in_progress"===this.sharedData.bannerPopup.value.type&&(this.sharedData.importsToIgnore=this.sharedData.bannerPopup.value.imports),this.sharedData.bannerPopup=null,this.dismiss=!1}downgradePlan(){this.dataService.updatePlan(this.sharedData.compatCurrentTeam.id,{plan_id:cs.f.FREE}).pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{this.sharedData.bannerPopup={type:"successful_downgrade"},this.updateCurrentTeam()})}updateCurrentTeam(){this.dataService.getTeamById(this.sharedData.compatCurrentTeam.id,{include_payment_methods:!0}).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.store.dispatch(new ge.dj(e))})}getBannerContent(e,{sub:t,planId:i,ssoType:a}){switch(this.showMsg=this.checkBillingFailedBanner(),e){case"imports_in_progress":t?(this.message="Your import has been completed. You can manage your imports from ",this.noButtonMsg="this page",this.background="#67cb48",this.link=["/",this.sharedData.compatCurrentTeam.id,"settings","team",this.sharedData.compatCurrentTeam.id,"import"],this.queryParams={import:!0,pastImports:!0},setTimeout(()=>{const e=this.sharedData.bannerPopup.value||{};e.imports&&e.imports.length?(delete e.sub,this.sharedData.bannerPopup=e):this.sharedData.bannerPopup=null},8e3)):this.message=$localize`:@@cu2-banner-popup__message_import-in-progress:Your import is in progress! We'll email you as soon as it's done.`,this.haveToBeAdmin=!1,this.dismiss=!0;break;case"trial_ended":this.message=$localize`:@@cu2-banner-popup__message_free-trial-expired:Your free trial has expired.`,this.buttonMsg="Upgrade now",this.link=["/",this.sharedData.compatCurrentTeam.id,"settings","billing"],this.downgrade=!0;break;case"billing_failed":this.fragmentTag="billing__payment-method",this.team.role===Ie.f.ADMIN||this.team.role===Ie.f.OWNER?(this.message="There is a problem with your billing method. Please check your ",this.noButtonMsg="billing details."):(this.message=$localize`:@@cu2-banner-popup__message_billing-problem-contact-workspace-admin:There is a problem with your billing method. Please contact your Workspace admin.`,this.noButtonMsg=null),this.background="#F56522",this.link=["/",this.sharedData.compatCurrentTeam.id,"settings","billing"],this.haveToBeAdmin=!1;break;case"team_frozen":this.message=$localize`:@@cu2-banner-popup__message_team-frozen-fix-payment:Your team has been frozen. To unfreeze them, fix your payment method.`,this.buttonMsg=$localize`:@@cu2-banner-popup__btn-txt_fix-this:Fix this`,this.link=["/",this.sharedData.compatCurrentTeam.id,"settings","billing"];break;case"over_storage_limit":this.message=$localize`:@@cu2-banner-popup__message_over-storage-limit:Woohoo! You're over your storage limit and get to upgrade :)`,this.buttonMsg="Upgrade now",this.link=["/",this.sharedData.compatCurrentTeam.id,"settings","billing"];break;case"bouncing_email":this.message=$localize`:@@cu2-banner-popup__message_bouncing-email:There's a problem with your email.`,this.buttonMsg=$localize`:@@cu2-banner-popup__btn-txt_fix-this:Fix this`,this.link=["/",this.sharedData.compatCurrentTeam.id,"settings","profile"],this.haveToBeAdmin=!1;break;case"billing_resolved":this.message=$localize`:@@cu2-banner-popup__message_billing-issue-resolved:Success! Your billing issue has been resolved.`,this.background="#67cb48",this.dismiss=!0;break;case"successful_downgrade":this.message=$localize`:@@cu2-banner-popup__message_downgraded-to-free-forever:You've been downgraded to Free Forever.`,this.background="#67cb48",this.dismiss=!0;break;case"add_on":this.message=$localize`:@@common_automations-addon-complete:Woohoo! Your add on to automations is complete!`,this.background="#67cb48";break;case"plan_upgrade":this.message=i===cs.f.UNLIMITED?$localize`:@@cu2-banner-popup__message_upgraded-to-unlimited:Woohoo! You've been upgraded to UNLIMITED.`:i===cs.f.BUSINESS?$localize`:@@cu2-banner-popup__message_upgraded-to-business:Woohoo! You've been upgraded to BUSINESS.`:$localize`:@@cu2-banner-popup__message_upgraded-to-enterprise:Woohoo! You've been upgraded to ENTERPRISE.`,this.background="#67cb48";break;case"calendar_created":this.message=$localize`:@@cu2-banner-popup__message_syncing-to-gcal:We're now syncing with Google Calendar! This should only take a few minutes.`,this.background="#67cb48",this.dismiss=!0,this.haveToBeAdmin=!1,setTimeout(()=>{this.sharedData.bannerPopup=null},1e4);break;case"sso_authed":this.message=$localize`:@@cu2-banner-popup__message_sso-setup-success:Woohoo! You can now use ${a}:ssoType: to sign in.`,this.background="#67cb48",this.dismiss=!0,this.haveToBeAdmin=!1;break;case"phone_verified":this.message=$localize`:@@cu2-banner-popup__message_phone-verified-2fa:Woohoo! We'll text you each time you log into ClickUp.`,this.background="#67cb48",this.dismiss=!0,this.haveToBeAdmin=!1;break;case"cookies_disabled":this.message=$localize`:@@errors_form-field--auth-enable-3rd-party-cookies-2:Please enable third-party cookies to authenticate with ${a}:ssoType:`,this.background="#F56522",this.dismiss=!0,this.haveToBeAdmin=!1;break;case"gantt_trial_activated":this.message=$localize`:@@cu2-banner-popup__message_gantt-chart-activated:Woohoo! Gantt charts have been activated. Enjoy!`,this.background="#67cb48",this.dismiss=!0;break;case"electron_sso_authed":this.message=$localize`:@@cu2-banner-popup__message_desktop-app-login-successful:Woohoo! You signed into the desktop app successfully, you can close this tab now.`,this.background="#67cb48",this.dismiss=!0,this.haveToBeAdmin=!1;break;case"free_trial_activated":this.message=$localize`:@@cu2-banner-popup__message_free-trial-started:Woohoo! Your free trial has started. Enjoy!!`,this.background="#67cb48",this.dismiss=!0,this.haveToBeAdmin=!1;break;default:this.removeBanner()}}checkBillingFailedBanner(){if("billing_failed"!==this.bannerMsg.type)return!0;let e;if(this.team.role===Ie.f.OWNER)return!0;if(!this.team.next_bill_date)return!1;const t=parseInt(this.team.next_bill_date,10),i=di(t),a=di().startOf("day").diff(i,"days");return this.team.role===Ie.f.ADMIN&&(e=a>=3),this.team.role===Ie.f.USER&&(e=a>=7),this.team.role===Ie.f.GUEST&&(e=!1),e}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a),X.Wb(Da.a),X.Wb(d.h),X.Wb(X.H),X.Wb(ye.Store))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu2-banner-popup"]],inputs:{team:"team"},decls:4,vars:7,consts:function(){let e,t,i;return e=$localize`:@@cu2-banner-popup__downgrade-to-free␟6af3750d2784da26c5540a604edff8234d212542␟6964250300808980065: or ${"\ufffd#2\ufffd"}:START_TAG_SPAN:downgrade to Free Forever${"\ufffd/#2\ufffd"}:CLOSE_TAG_SPAN:`,t=$localize`:@@cu2-banner-popup__btn-txt_check-status␟ab17edcb0810f395c7fbc415f38a0f462cd5725d␟6835960622418814023: Check status `,i=$localize`:@@cu2-banner-popup__btn-txt_dismiss␟89e4f556cba25e7dd551cb817609cef2de6f7cf8␟2853575373841813471: Dismiss `,[["class","cu-banner-popup",3,"ngStyle",4,"ngIf"],[1,"cu-banner-popup",3,"ngStyle"],["class","cu-banner-popup__warning",3,"icon",4,"ngIf"],[1,"cu-banner-popup__message"],["class","cu-banner-popup__link",3,"routerLink","queryParams","fragment",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","cu-banner-popup__downgrade or",4,"ngIf"],[3,"routerLink","queryParams",4,"ngIf"],["class","cu-banner-popup__button cu-banner-popup__dismiss",3,"ngClass","click",4,"ngIf"],["class","cu-banner-popup__close",3,"icon","click",4,"ngIf"],[1,"cu-banner-popup__warning",3,"icon"],[1,"cu-banner-popup__link",3,"routerLink","queryParams","fragment"],[3,"routerLink"],[1,"cu-banner-popup__button"],[1,"cu-banner-popup__downgrade","or"],e,[1,"cu-banner-popup__downgrade","underline",3,"click"],[3,"routerLink","queryParams"],[1,"cu-banner-popup__button","cu-banner-popup__button_purple"],t,[1,"cu-banner-popup__button","cu-banner-popup__dismiss",3,"ngClass","click"],i,[1,"cu-banner-popup__close",3,"icon","click"]]},template:function(e,t){if(1&e&&(X.bd(0,fs,12,15,"div",0),X.vc(1,"async"),X.vc(2,"async"),X.vc(3,"async")),2&e){let e=null;X.Dc("ngIf",X.wc(1,1,t.sharedData.bannerPopup)&&X.wc(2,3,t.sharedData.compatCurrentTeam$)&&((null==(e=X.wc(3,5,t.sharedData.compatCurrentTeam$))?null:e.role)<3||!t.haveToBeAdmin)&&t.showMsg)}},directives:[n.q,n.t,Qe.a,d.k,n.o],pipes:[n.b],styles:[".cu-banner-popup{background-color:#ffb122;z-index:200;overflow:hidden;position:relative}.cu-banner-popup__container{display:flex;justify-content:center;align-items:center;position:relative;height:50px;width:100%}.cu-banner-popup__close{width:20px;height:20px;fill:#fff;margin-left:15px;cursor:pointer}.cu-banner-popup__button,.cu-banner-popup__link,.cu-banner-popup__message{font-size:16px;color:#fff;font-family:Gotham Pro;font-weight:500;line-height:16px}.cu-banner-popup__button{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:15px;height:30px;width:136px;border-radius:3px;background-color:#fdcb00;box-shadow:0 5px 10px 0 rgba(209,145,25,.4);border:0;font-size:14px}.cu-banner-popup__button:hover{background:#f8c700;box-shadow:0 1px 1px 0 rgba(209,145,25,.4)}.cu-banner-popup__button_purple{background-color:#7b68ee;box-shadow:0 4px 10px 0 rgba(95,72,234,.4)}.cu-banner-popup__button_purple:hover{background-color:#5f48ea;box-shadow:0 1px 1px 0 rgba(95,72,234,.4)}.cu-banner-popup__downgrade{font-size:12px;color:#fff;font-family:Gotham Pro;font-weight:100;line-height:16px;cursor:pointer}.cu-banner-popup__downgrade.or{margin-left:15px}.cu-banner-popup__downgrade.underline{text-decoration:underline}.cu-banner-popup__dismiss{background:#50de50;box-shadow:0 5px 10px 0 rgba(0,0,0,.1)}.cu-banner-popup__dismiss:hover{background:#4ddd4d;box-shadow:0 1px 1px 0 rgba(0,0,0,.05)}.cu-banner-popup__dismiss_yellow{background-color:#fdcb00;box-shadow:0 5px 10px 0 rgba(209,145,25,.4)}.cu-banner-popup__dismiss_yellow:hover{background:#f8c700;box-shadow:0 1px 1px 0 rgba(209,145,25,.4)}.cu-banner-popup__link{color:#fff;font-size:16px;text-decoration:underline}.cu-banner-popup__warning{position:absolute;height:25px;width:25px;left:50px}.cu-banner-popup__warning use{fill:#fff}"],encapsulation:2,data:{animation:[Object(os.m)("loading",[Object(os.l)(":enter",[Object(os.k)({height:0}),Object(os.e)("300ms",Object(os.k)({height:"50px"}))]),Object(os.l)(":leave",[Object(os.k)({height:"50px"}),Object(os.e)("200ms",Object(os.k)({height:0}))])])]}}),e})();var vs=i("nYR2"),ys=i("ZRUT");let ws=(()=>{class e{constructor(e,t,i,a,o){this.dataService=e,this.userService=t,this.cdr=i,this.actions=a,this.store=o,this.onTeamJoined=new X.o,this.loading=!1,this.destroy$=new Ee.a}ngOnInit(){this.actions.pipe(Object(Ei.d)(ge.Tk),Object(Ge.a)(e=>e.teamId===this.team.id),Object(qt.a)(this.store.select(me.getUser)),Object(Ge.a)(([e,t])=>e.userId===t.id),Object(Re.a)(this.destroy$)).subscribe(([e])=>{this.onTeamJoined.emit(e.accept)})}ngOnDestroy(){this.destroy$.next()}joinTeam(e){this.loading=!0,this.token?this.userService.acceptTeamInvite(this.token,e).pipe(Object(vs.a)(()=>{this.loading=!1,this.cdr.markForCheck()})).subscribe(()=>{this.onTeamJoined.emit(e)}):this.dataService.manageTeamInvitation(this.team.id,e).pipe(Object(vs.a)(()=>{this.loading=!1,this.cdr.markForCheck()})).subscribe(()=>{this.onTeamJoined.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(Da.a),X.Wb(we.c),X.Wb(X.h),X.Wb(Ei.a),X.Wb(ye.Store))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-join-team-prompt"]],inputs:{team:"team",token:"token"},outputs:{onTeamJoined:"onTeamJoined"},decls:13,vars:5,consts:function(){let e,t,i;return e=$localize`:@@cu-join-team-prompt__title_join-team␟a604734e1b7186583d7d7aa490a29bfaacdd8410␟6966650154064535799: Join the ${"\ufffd0\ufffd"}:INTERPOLATION: workspace on ClickUp `,t=$localize`:@@cu-join-team-prompt__btn-txt_yes-join␟fc9a01a1dcd99436248fa064b4b3c132b063ec0c␟8454157165917579426: Yes, join ${"\ufffd0\ufffd"}:INTERPOLATION: `,i=$localize`:@@common_no-thanks-1␟b6fb58bdafab3431e83ea3da0992170e0f90dbb2␟5299859091065563257:No, thanks`,[[1,"cu-onboarding__join-team"],[3,"team","modifier"],[1,"cu-onboarding__join-team-title"],e,[1,"cu-btn","cu-btn_spinner",3,"disabled","click"],[1,"cu-btn__text"],t,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"],["href","javascript:void(0)",1,"cu-onboarding__join-team-link",3,"click"],i]},template:function(e,t){1&e&&(X.cc(0,"div",0),X.Xb(1,"cu-team-avatar",1),X.cc(2,"h1",2),X.gc(3,3),X.bc(),X.cc(4,"button",4),X.qc("click",function(){return t.joinTeam(!0)}),X.cc(5,"div",5),X.gc(6,6),X.bc(),X.cc(7,"div",7),X.Xb(8,"div",8),X.Xb(9,"div",9),X.Xb(10,"div",10),X.bc(),X.bc(),X.cc(11,"a",11),X.qc("click",function(){return t.joinTeam(!1)}),X.gc(12,12),X.bc(),X.bc()),2&e&&(X.Ib(1),X.Dc("team",t.team)("modifier","cu-onboarding__join-team-logo"),X.Ib(2),X.kc(t.team.name),X.hc(3),X.Ib(1),X.Dc("disabled",t.loading),X.Ib(2),X.kc(t.team.name),X.hc(6))},directives:[ys.a],encapsulation:2,changeDetection:0}),e})();const ks=["otherInput"],xs=function(e){return{active:e}};function Ts(e,t){if(1&e){const e=X.dc();X.cc(0,"div",23),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(2).toggleImportEntity(i)}),X.Xb(1,"div",24),X.dd(2),X.bc()}if(2&e){const e=t.$implicit,i=X.uc(2);X.Dc("ngClass",X.Hc(2,xs,i.importEntitiesMap[e])),X.Ib(2),X.fd(" ",e," ")}}function Ss(e,t){if(1&e){const e=X.dc();X.cc(0,"div",2),X.cc(1,"div",3),X.gc(2,4),X.bc(),X.cc(3,"div",5),X.ac(4),X.gc(5,6),X.Zb(),X.dd(6,": "),X.bc(),X.cc(7,"div",7),X.qc("click",function(){return X.Uc(e),X.uc().closeImport()}),X.bc(),X.cc(8,"div",8),X.cc(9,"div",9),X.bd(10,Ts,3,4,"div",10),X.bc(),X.cc(11,"div",11),X.cc(12,"div",12),X.qc("click",function(){return X.Uc(e),X.uc().toggleImportEntity("other")}),X.cc(13,"div",13),X.gc(14,14),X.bc(),X.cc(15,"input",15,16),X.qc("ngModelChange",function(t){return X.Uc(e),X.uc().otherEntity=t})("click",function(t){return X.Uc(e),X.uc().prevent(t)}),X.bc(),X.bc(),X.cc(17,"div",17),X.qc("click",function(){return X.Uc(e),X.uc().toggleNoneOption()}),X.cc(18,"div",13),X.gc(19,18),X.bc(),X.cc(20,"div",19),X.gc(21,20),X.bc(),X.bc(),X.bc(),X.bc(),X.cc(22,"button",21),X.qc("click",function(){return X.Uc(e),X.uc().saveEntities()}),X.gc(23,22),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(7),X.Dc("icon","close-modal-grey"),X.Ib(3),X.Dc("ngForOf",e.entities)("ngForTrackBy",e.trackByValue),X.Ib(2),X.Dc("ngClass",X.Hc(7,xs,e.importEntitiesMap.other)),X.Ib(3),X.Dc("ngModel",e.otherEntity),X.Ib(2),X.Dc("ngClass",X.Hc(9,xs,e.importEntitiesMap.none)),X.Ib(5),X.Dc("disabled",!e.importEntities.length)}}const js=function(e){return["settings","team",e,"import"]};function Os(e,t){if(1&e){const e=X.dc();X.cc(0,"div",25),X.cc(1,"div",26),X.qc("click",function(){return X.Uc(e),X.uc().closeImport()}),X.bc(),X.cc(2,"p",3),X.gc(3,27),X.bc(),X.cc(4,"div",28),X.cc(5,"button",29),X.qc("click",function(){return X.Uc(e),X.uc().closeImport()}),X.gc(6,30),X.bc(),X.cc(7,"a",31),X.qc("click",function(){return X.Uc(e),X.uc().closeImport(!1)}),X.gc(8,32),X.vc(9,"async"),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();let t=null;X.Ib(1),X.Dc("icon","close-modal-grey"),X.Ib(2),X.kc(e.toolList),X.hc(3),X.Ib(4),X.Dc("routerLink",X.Hc(6,js,null==(t=X.wc(9,4,e.sharedData.compatCurrentTeam$))?null:t.id))("queryParams",e.queryParam)}}let Is=(()=>{class e{constructor(e,t,i){this.sharedData=e,this.dataService=t,this.helpers=i,this.closeImportModal=new X.o,this.entities=["Asana","JIRA","Trello","Basecamp","Todoist","Wrike"],this.importEntities=[],this.otherEntity="",this.selectedTools=!1,this.trackByValue=be.f}get importEntitiesMap(){const e={};return this.importEntities.forEach(t=>{e[t]=!0}),e}toggleImportEntity(e){this.removeNoneOption();const t=this.importEntities.indexOf(e);t>-1?this.importEntities.splice(t,1):(this.addImportEntity(e),"other"===e&&this.otherInput.nativeElement.focus())}removeNoneOption(){const e=this.importEntities.indexOf("none");e>-1&&this.importEntities.splice(e,1)}toggleNoneOption(){const e=this.importEntities.indexOf("none");this.importEntities=[],-1===e&&this.importEntities.push("none")}addImportEntity(e){this.importEntities.push(e)}saveEntities(){const e=this.sharedData.compatCurrentTeam.id,t=this.importEntities.indexOf("other"),i=[],a=this.importEntities.indexOf("Asana");-1!==a&&i.push("Asana");const o=this.importEntities.indexOf("JIRA");-1!==o&&i.push("Jira");const c=this.importEntities.indexOf("Trello");-1!==c&&i.push("Trello");const n=this.importEntities.indexOf("Todoist");-1!==n&&i.push("Todoist"),this.toolList=i.join("/"),-1!==a?this.selectedTools=!0:-1!==o?(this.selectedTools=!0,this.queryParam={jira:"true"}):-1!==c?(this.selectedTools=!0,this.queryParam={trello:"true"}):-1!==n&&(this.selectedTools=!0,this.queryParam={todoist:!0}),t>-1&&(this.importEntities[t]=this.otherEntity),this.helpers.sendGoogle("Previous tool marked",{event_category:"Onboarding",event_label:this.importEntities.toString()}),this.dataService.updateTeam(e,{previous_tools:this.importEntities}).subscribe(()=>{this.selectedTools||this.closeImport()})}isActive(e){return this.importEntities.indexOf(e)>-1}closeImport(e=!0){this.helpers.sendGoogle("Previous tool marked",{event_category:"Onboarding",event_label:"closed"}),this.dataService.updateTeam(this.sharedData.compatCurrentTeam.id,{setup_step:"completed"}).subscribe(),this.sharedData.setTools=!0,this.closeImportModal.emit()}prevent(e){-1!==this.importEntities.indexOf("other")&&e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a),X.Wb(Da.a),X.Wb($a.b))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-import-modal"]],viewQuery:function(e,t){if(1&e&&X.jd(ks,1),2&e){let e;X.Qc(e=X.rc())&&(t.otherInput=e.first)}},outputs:{closeImportModal:"closeImportModal"},decls:3,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l;return e=$localize`:@@cu-import-modal__title_better-experience␟dfc134ec41b36e4be6fb01d98312b7278c4f0546␟2569881882716030074: Want a better experience? `,t=$localize`:@@cu-import-modal__subtitle_apps-currently-in-use␟14c678fa9c95b3d5b74bd261abf05248d3dd02ab␟6967005424007647175:Please select apps you currently use`,i=$localize`:@@cu-import-modal__item-title_another-app␟1ac415f7d66ad6e13ede1fbec7c550f689014d3c␟2125564776115569791: Another app `,a=$localize`:@@cu-import-modal__form-placeholder_enter-app-name␟a6c1b04ad87c0b1e515a0515a82592d28fe45aeb␟1328992517775832348:Please enter the app na﻿me...`,o=$localize`:@@cu-import-modal__item-title_newbie␟4ed27dd5181fa4b1ac9998a23b99b06bde18691c␟6884289726438398037: I’m a newbie `,c=$localize`:@@cu-import-modal__item-subtitle_another-newbie␟505d0ed453a6cf8d9b1a8d6920735d6098e97d27␟6003532414541964022: This is my first experience with PM software `,n=$localize`:@@common_get-started␟9a133cee0128132936714ef7a9d0ca1d69735e6d␟2318467914462250109: Get Started `,s=$localize`:@@cu-import-modal__title_import-from-tool␟d1194071a8332f1a8ee8dd0732f32c75e2ee8ddd␟6267847926560547893: Do you want to import from ${"\ufffd0\ufffd"}:INTERPOLATION: now? `,r=$localize`:@@cu-import-modal__btn_txt_later␟2de14b827afad7c9b9a4048c1779f21aaa56134e␟7619840792520440591: Later `,l=$localize`:@@common_yes␟4f20f2d5a6882190892e58b85f6ccbedfa737952␟2807800733729323332:Yes`,[["id","import-modal_page","class","cu-import-modal__content",4,"ngIf","ngIfElse"],["goToImport",""],["id","import-modal_page",1,"cu-import-modal__content"],[1,"cu-import-modal__title"],e,[1,"cu-import-modal__subtitle"],t,["id","import-modal_close",1,"cu-import-modal__close",3,"icon","click"],[1,"cu-import-modal__item-container"],[1,"cu-import-modal__item-container_top-row"],["class","cu-import-modal__item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-import-modal__item-container_bottom-row"],["id","import-modal_other-radio",1,"cu-import-modal__item",3,"ngClass","click"],[1,"cu-import-modal__item-title"],i,["type","text","placeholder",a,1,"cu-import-modal__item-input",3,"ngModel","ngModelChange","click"],["otherInput",""],["id","import-modal_newbie-radio",1,"cu-import-modal__item",3,"ngClass","click"],o,[1,"cu-import-modal__item-subtitle"],c,["id","import-modal_submit",1,"cu-btn","cu-btn_block","cu-btn_lg",3,"disabled","click"],n,[1,"cu-import-modal__item",3,"ngClass","click"],[1,"cu-import-modal__item-logo"],[1,"cu-import-modal__content","question"],["id","import-modal_close",1,"cu-import-modal__close","question",3,"icon","click"],s,[1,"cu-form__row","cu-form__row_last"],[1,"cu-btn",3,"click"],r,[1,"cu-btn",3,"routerLink","queryParams","click"],l]},template:function(e,t){if(1&e&&(X.bd(0,Ss,24,11,"div",0),X.bd(1,Os,10,8,"ng-template",null,1,X.cd)),2&e){const e=X.Rc(2);X.Dc("ngIf",!t.selectedTools)("ngIfElse",e)}},directives:[n.q,Qe.a,n.p,n.o,s.c,s.p,s.s,d.k],pipes:[n.b],encapsulation:2}),e})();var Ds=i("rgp6");let Cs=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,q.a,B.a]]}),e})();var Ps=i("bx+h");let $s=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,_.a,Cs,B.a,q.a,Ps.a]]}),e})();var zs=i("8Sgp"),Ms=i("EQTS"),Es=i("M5QM");let Ls=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,q.a,_.a,Es.a,Ms.a,B.a]]}),e})();var As=i("vw2Z"),Fs=i("M+U4"),Us=i("ygeO"),Ns=i("94G7");let Rs=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})();var Gs=i("Q9+D"),qs=i("8r3y"),Bs=i("ovWV"),Ws=i("wRSl");let Vs=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})();var Xs=i("hIMv"),Hs=i("fTg4"),Ys=i("9BuY");let Zs=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})();var Qs=i("Z0uM"),Ks=i("Toui"),Js=i("chQ0"),er=i("bFKe"),tr=i("FpDt");let ir=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,d.l,Hs.a,q.a,Na.b,_.a,B.a,F.a,Ys.a,M.LoaderModule,Ps.a,s.l,Sn.a,Zs,$n.a,Qs.a,E.a,Ks.a,Js.a,er.b,tr.a,bn.a,En.a]]}),e})();const ar={info:{color:"green"},warning:{color:"orange",threshold:10},alert:{color:"red",threshold:5}};let or=(()=>{class e{constructor(e){this.cdr=e,this.COLOR_CODES=ar,this.remainingColor=ar.info.color,this.format="{ss} s",this._timing=1e3}set time(e){const t=new Date;this._time=t.getTime()+e,this.baseTimeInSeconds=e/1e3,this.startTimer()}set timing(e){this._timing=parseInt(e,10),this.startTimer()}get circleDasharray(){return(283*this.calculateTimeFraction()).toFixed(0)+" 283"}get delta(){const e=new Date;return Math.max(0,Math.floor((this._time-e.getTime())/1e3))}get displayTime(){let e,t,i,a,o=this.delta,c=this.format;return e=Math.floor(o/86400),o-=86400*e,t=Math.floor(o/3600)%24,o-=3600*t,i=Math.floor(o/60)%60,o-=60*i,a=o%60,c=c.replace("{dd}",e),c=c.replace("{hh}",t),c=c.replace("{mm}",i),c=c.replace("{ss}",a),c}ngOnDestroy(){this.stopTimer()}startTimer(){this.delta<=0||(this.stopTimer(),this.interval=setInterval(()=>{this.checkRemainingClass(),this.cdr.detectChanges(),this.delta<=0&&this.stopTimer()},this._timing))}checkRemainingClass(){const{alert:e,warning:t}=this.COLOR_CODES;this.delta<=e.threshold?this.remainingColor=e.color:this.delta<=t.threshold&&(this.remainingColor=t.color)}calculateTimeFraction(){const e=this.delta/this.baseTimeInSeconds;return e-1/this.baseTimeInSeconds*(1-e)}stopTimer(){clearInterval(this.interval),this.interval=void 0}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(X.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-countdown"]],inputs:{time:"time",timing:"timing",format:"format"},decls:7,vars:3,consts:[[1,"base-timer"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg",1,"base-timer__svg"],[1,"base-timer__circle"],["cx","50","cy","50","r","45",1,"base-timer__path-elapsed"],["id","base-timer-path-remaining","d","\n          M 50, 50\n          m -45, 0\n          a 45,45 0 1,0 90,0\n          a 45,45 0 1,0 -90,0\n        ",1,"base-timer__path-remaining",3,"ngClass","green","orange","red"],["id","base-timer-label",1,"base-timer__label"]],template:function(e,t){1&e&&(X.cc(0,"div",0),X.tc(),X.cc(1,"svg",1),X.cc(2,"g",2),X.Xb(3,"circle",3),X.Xb(4,"path",4),X.bc(),X.bc(),X.sc(),X.cc(5,"span",5),X.dd(6),X.bc(),X.bc()),2&e&&(X.Ib(4),X.Dc("ngClass",t.remainingColor),X.Jb("stroke-dasharray",t.circleDasharray),X.Ib(2),X.ed(t.displayTime))},directives:[n.o],styles:[".base-timer{position:relative;width:50px;height:50px}.base-timer__svg{transform:scaleX(-1)}.base-timer__circle{fill:none;stroke:none}.base-timer__path-elapsed{stroke-width:7px;stroke:grey}.base-timer__path-remaining{stroke-width:7px;stroke-linecap:round;transform:rotate(90deg);transform-origin:center;transition:all 1s linear;fill-rule:nonzero;stroke:currentColor}.base-timer__path-remaining.green{color:#41b883}.base-timer__path-remaining.orange{color:orange}.base-timer__path-remaining.red{color:red}.base-timer__label{position:absolute;width:50px;height:50px;top:0;display:flex;align-items:center;justify-content:center;font-size:24px}"],encapsulation:2,changeDetection:0}),e})();var cr=i("KsR4"),nr=i("XIp8"),sr=i("DzOF");const rr={loading:!0,teamTemplates:[],teamTemplatesTotalCount:0,clickUpTemplates:[],clickUpTemplateCounts:[],clickUpTemplatesTotalCount:0,clickUpTemplatesUseCases:{},searchTerm:"",creatorFilter:null,lastSelectedTemplate:null,lastQuickSelectedTemplate:null,selectedTemplate:null,openState:null,suggestedTemplates:[],featuredTemplates:{},filteredFeaturedTemplates:{},templateTags:[],typeFilters:sr.t.map(e=>({name:e,count:0,isActive:!1})),tagsFilter:[],publicTemplateTags:[],previousState:{}},lr=Object(ye.createReducer)(Object(nr.a)(rr),Object(ye.on)(ca.q,(e,{filtersForInitialType:t})=>Object.assign(Object.assign({},Object(nr.a)(rr)),t?{previousState:{initialType:t,searchTerm:e.searchTerm,creatorFilter:e.creatorFilter,clickUpTemplatesUseCases:e.clickUpTemplatesUseCases,typeFilters:e.typeFilters,publicTemplateTags:e.publicTemplateTags,tagsFilter:e.tagsFilter}}:{})),Object(ye.on)(ca.B,e=>Object.assign(Object.assign({},e),e.previousState)),Object(ye.on)(ca.i,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(ye.on)(ca.e,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(ye.on)(ca.h,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(ye.on)(ca.C,(e,{suggestedTemplates:t})=>Object.assign(Object.assign({},e),{suggestedTemplates:t})),Object(ye.on)(ca.v,(e,{featuredTemplates:t})=>Object.assign(Object.assign({},e),{featuredTemplates:e.featuredTemplates.templates?e.featuredTemplates:t,filteredFeaturedTemplates:t})),Object(ye.on)(ca.o,(e,{loading:t})=>Object.assign(Object.assign({},e),{loading:t})),Object(ye.on)(ca.D,(e,{teamTemplates:t})=>Object.assign(Object.assign({},e),e&&e.openState&&e.openState.initialType===Hi.d.View&&e.openState.initialTypeData&&e.teamTemplates&&e.teamTemplates.length?{teamTemplates:Object(sr.d)(t,e.openState.initialTypeData.viewType)}:{teamTemplates:t})),Object(ye.on)(ca.M,(e,{originalTemplate:t,changes:i})=>{const a=e.teamTemplates.map(e=>e.type===t.type?Object.assign(Object.assign({},e),{templates:e.templates.map(e=>e.id===t.id?Object.assign(Object.assign({},e),i):e)}):e);return Object.assign(Object.assign({},e),{teamTemplates:a})}),Object(ye.on)(ca.m,(e,{lastSelectedTemplate:t})=>Object.assign(Object.assign({},e),{lastSelectedTemplate:t})),Object(ye.on)(ca.E,(e,{teamTemplatesTotalCount:t})=>Object.assign(Object.assign({},e),{teamTemplatesTotalCount:t})),Object(ye.on)(ca.r,(e,{clickUpTemplates:t})=>Object.assign(Object.assign({},e),{clickUpTemplates:t})),Object(ye.on)(ca.s,(e,{clickUpTemplateCounts:t})=>Object.assign(Object.assign({},e),{clickUpTemplateCounts:t})),Object(ye.on)(ca.s,(e,{clickUpTemplateCounts:t})=>Object.assign(Object.assign({},e),{clickUpTemplateCounts:t})),Object(ye.on)(ca.t,(e,{clickUpTemplatesTotalCount:t})=>Object.assign(Object.assign({},e),{clickUpTemplatesTotalCount:t})),Object(ye.on)(ca.u,(e,{clickUpTemplatesUseCases:t})=>Object.assign(Object.assign({},e),{clickUpTemplatesUseCases:t})),Object(ye.on)(ca.y,(e,{searchTerm:t})=>Object.assign(Object.assign({},e),{searchTerm:t})),Object(ye.on)(ca.G,(e,{creatorFilter:t})=>Object.assign(Object.assign({},e),{creatorFilter:t})),Object(ye.on)(ca.H,(e,{tags:t})=>Object.assign(Object.assign({},e),{tagsFilter:t})),Object(ye.on)(ca.z,(e,{selectedTemplate:t})=>Object.assign(Object.assign({},e),{selectedTemplate:t})),Object(ye.on)(ca.w,(e,{openState:t})=>Object.assign(Object.assign({},e),{openState:t})),Object(ye.on)(ca.l,(e,{lastQuickSelectedTemplate:t})=>Object.assign(Object.assign({},e),{lastQuickSelectedTemplate:t})),Object(ye.on)(ca.L,(e,{changes:t})=>{const i=Object.assign(Object.assign({},e.selectedTemplate),t);return Object.assign(Object.assign({},e),{teamTemplates:e.teamTemplates.map(e=>e.id===i.type?Object.assign(Object.assign({},e),{templates:e.templates.map(e=>e.id===i.id?i:e)}):e),selectedTemplate:i})}),Object(ye.on)(ca.A,(e,{name:t})=>Object.assign(Object.assign({},e),{selectedTemplate:Object(sr.e)(e.teamTemplates,t)})),Object(ye.on)(ca.F,(e,{templateTags:t})=>Object.assign(Object.assign({},e),{templateTags:Object(sr.k)(t)})),Object(ye.on)(ca.I,(e,{typeFilters:t})=>Object.assign(Object.assign({},e),{typeFilters:t})),Object(ye.on)(ca.K,(e,{filterName:t})=>{const i=e.typeFilters.map(e=>e.name===t?Object.assign(Object.assign({},e),{isActive:!e.isActive}):e);return Object.assign(Object.assign({},e),{typeFilters:i})}),Object(ye.on)(ca.x,(e,{publicTemplateTags:t})=>Object.assign(Object.assign({},e),{publicTemplateTags:t})),Object(ye.on)(ca.J,(e,{id:t})=>Object.assign(Object.assign({},e),{publicTemplateTags:e.publicTemplateTags.map(e=>e.id===t?Object.assign(Object.assign({},e),{isActive:!e.isActive}):e)})));function dr(e,t){return lr(e,t)}var ur=i("Cfvw"),pr=i("EY2u"),mr=i("Ll/8"),hr=i("JIr8"),br=i("5+tZ"),gr=i("Yvae"),fr=i("uT1x"),_r=i("LV2V"),vr=i("AQwl"),yr=Object(_r.a)(function(e,t){return Object(vr.a)(e)?Object(gr.a)(e,Object(fr.a)(t,1,vr.a,!0)):[]}),wr=i("tk/3"),kr=i("NXyV"),xr=i("z6cu"),Tr=i("irDL");let Sr=(()=>{class e{constructor(e,t){this.http=e,this.errorHandler=t,this.apiUrl=Li.a.apiUrl}getTeamTemplates(e,t){const i=new wr.g({fromObject:Object.assign(Object.assign({},t),{paging:!0})});return this.http.get(`${this.apiUrl}/team/${e}/templates`,{params:i}).pipe(this.errorHandler.http())}getClickUpTemplates(e){const t=new wr.g({fromObject:e});return this.http.get(this.apiUrl+"/publicTemplateGroups",{params:t}).pipe(this.errorHandler.http())}getFeaturedTemplates(e){const t=new wr.g({fromObject:e});return this.http.get(this.apiUrl+"/mostUsedPublicTemplates",{params:t}).pipe(this.errorHandler.http())}getTeamTemplateCounts(e,t){const i=new wr.g({fromObject:t});return this.http.get(`${this.apiUrl}/team/${e}/templates/count`,{params:i}).pipe(this.errorHandler.http())}addPublicTemplateToWorkspace(e,t,i){return i.copy=!1,this.http.post(`${this.apiUrl}/${e}/publicTemplate/${t}`,i).pipe(this.errorHandler.http())}submitPublicTemplate(e){return this.http.post(this.apiUrl+"/publicTemplates",e).pipe(this.errorHandler.http())}getTemplateUseCases(){return this.http.get(this.apiUrl+"/templateUseCases").pipe(this.errorHandler.http())}addTemplateImage(e){return this.http.post(this.apiUrl+"/attachment",e).pipe(this.errorHandler.http())}addTemplateImageTask(e,t){return this.http.post(`${this.apiUrl}/task/${t}/attachment`,e).pipe(this.errorHandler.http())}deleteTemplateAttachment(e){return this.http.delete(`${this.apiUrl}/attachment/${e}`).pipe(this.errorHandler.http())}createViewFromTemplateOnHeirarcyType(e,t,i,a){return i&&(a.template_id=i),this.http.post(`${this.apiUrl}/${e}/${t}/viewTemplate/${i}`,a).pipe(Object(hr.a)(e=>function(e,t=pr.a,i=pr.a){return Object(kr.a)(()=>e()?t:i)}(()=>"ACCESS_148"===e.error.ECODE,Object(xr.a)(e.error),Object(xr.a)(e).pipe(this.errorHandler.http()))))}getTemplateTags(e){return this.http.get(`${this.apiUrl}/team/${e}/templateTag`).pipe(this.errorHandler.http())}createTemplateTag(e,t){return this.http.post(`${this.apiUrl}/team/${e}/templateTag`,t).pipe(this.errorHandler.http())}deleteTemplateTag(e,t){return this.http.delete(`${this.apiUrl}/team/${e}/templateTag/${t}`).pipe(this.errorHandler.http())}editTemplateTag(e,t,i){return this.http.put(`${this.apiUrl}/team/${e}/templateTag/${i}`,t).pipe(this.errorHandler.http())}addTagToTemplate(e,t,i){return t===Hi.d.Doc&&(t=Hi.d.View),this.http.post(`${this.apiUrl}/templateTag/${i}/type/${t}`,{tag_id:e}).pipe(this.errorHandler.http())}removeTagFromTemplate(e,t,i){return this.http.delete(`${this.apiUrl}/templateTag/${i}/type/${t}/tag/${e}`).pipe(this.errorHandler.http())}getPublicTemplateTags(e){const t=new wr.g({fromObject:e});return this.http.get(this.apiUrl+"/publicTemplateTags",{params:t}).pipe(this.errorHandler.http())}}return e.\u0275fac=function(t){return new(t||e)(X.nc(wr.b),X.nc(Tr.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var jr=i("oGMP"),Or=i("KoB5"),Ir=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};let Dr=(()=>{class e{constructor(e,t,i,a,o){this.action$=e,this.store=t,this.templateCenterService=i,this.templateService=a,this.dataViewServie=o,this.getTeamTemplates$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.i,ca.y,ca.G,ca.H),Object(qt.a)(this.store.select(me.getTeam),this.store.select(na.s)),Object(Vt.a)(([e,t,i])=>this.templateCenterService.getTeamTemplates(t.id,i).pipe(Object(Vt.a)(e=>{const i=[];return i.push(ca.D({teamTemplates:Object(sr.j)(e,t)})),i.push(ca.o({loading:!1})),i.push(ca.j()),Object(ur.a)(i)}),Object(hr.a)(e=>(this.handleError(e),Object(Wa.a)(ca.o({loading:!1})))))))),this.getClickUpTemplates$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.e,ca.y,ca.J),Object(qt.a)(this.store.select(na.d),this.store.select(na.a),this.store.select(me.getTeam)),Object(Vt.a)(([e,t,i,a])=>this.templateCenterService.getClickUpTemplates(i).pipe(Object(Vt.a)(e=>{const i=[],o=Object(sr.g)(e.groups,a);return i.push(ca.r({clickUpTemplates:o})),i.push(ca.s({clickUpTemplateCounts:Object(sr.f)(e.counts,a)})),i.push(ca.t({clickUpTemplatesTotalCount:Object(sr.p)(e.counts,a)})),Object.keys(t).length||i.push(ca.u({clickUpTemplatesUseCases:e.groups.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.use_case]:!0}),{})})),Object(ur.a)(i)}),Object(hr.a)(e=>(this.handleError.bind(this),Object(Wa.a)(ca.o({loading:!1})))))))),this.getSuggestedTemplates$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.h),Object(Vt.a)(e=>this.templateService.getSuggestedTemplatesV2().pipe(Object(Vt.a)(e=>{const t=[];return t.push(ca.C({suggestedTemplates:Object(sr.h)(e,"suggested")})),Object(ur.a)(t)}),Object(hr.a)(this.handleError.bind(this)))))),this.getFeaturedTemplates$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.f,ca.y,ca.J),Object(qt.a)(this.store.select(na.a)),Object(Vt.a)(([e,t])=>this.templateCenterService.getFeaturedTemplates(t).pipe(Object(Vt.a)(e=>Object(Wa.a)(ca.v({featuredTemplates:Object(sr.h)(e.templates,"featured")}))),Object(hr.a)(e=>this.handleError(e)))))),this.getTeamTemplateCounts$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.j,ca.y,ca.G),Object(qt.a)(this.store.select(me.getTeam),this.store.select(na.s),this.store.select(na.v)),Object(Vt.a)(([e,t,i,a])=>this.templateCenterService.getTeamTemplateCounts(t.id,i).pipe(Object(Vt.a)(e=>{const i=[];return i.push(ca.E({teamTemplatesTotalCount:Object(sr.q)(Object(sr.j)(e,t))})),i.push(ca.D({teamTemplates:Object(sr.v)(e,a)})),Object(ur.a)(i)}),Object(hr.a)(this.handleError.bind(this)))))),this.updateTemplateInList$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.M),Object(qt.a)(this.store.select(na.t)),Object(Vt.a)(([{originalTemplate:e,changes:t},i])=>this.updateTemplateById(e.id,e.type,t).pipe(Object(Vt.a)(e=>pr.a),Object(hr.a)(t=>{this.handleError(t);const a=i.map(t=>t.type===e.type?Object.assign(Object.assign({},t),{templates:t.templates.map(t=>t.id===e.id?e:t)}):t);return Object(Wa.a)(ca.D({teamTemplates:a}))}))))),this.updateTemplateById$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.L),Object(Vt.a)(({originalTemplate:e,changes:t,localOnly:i})=>{let a,o=t;return t.template_members&&t.template_members.length&&(o=Object.assign(Object.assign({},t),e.type!==Hi.d.Doc&&e.type!==Hi.d.View?{template_members:{add:yr(t.template_members,e.template_members).map(e=>e.id),rem:yr(e.template_members,t.template_members).map(e=>e.id)}}:{template_members:t.template_members.map(e=>e.id)})),a=i?pr.a:this.updateTemplateById(e.id,e.type,o),a.pipe(Object(Vt.a)(i=>{var{public_key:a}=i,o=Ir(i,["public_key"]);return a||(a=o.view.public_key),Object(Wa.a)(ca.z({selectedTemplate:Object.assign(Object.assign(Object.assign({},e),t),{public_key:a})}))}),Object(hr.a)(t=>(this.handleError(t),Object(Wa.a)(ca.z({selectedTemplate:e})))))}))),this.loadMoreTeamTemplates$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.n),Object(qt.a)(this.store.select(me.getTeam),this.store.select(na.v)),Object(br.a)(e=>{var[t,i,a]=e,o=Ir(t,["type"]);return this.templateCenterService.getTeamTemplates(i.id,Object.assign({},o)).pipe(Object(br.a)(e=>{const[t]=Object(sr.j)(e),i=a.map(e=>e.id!==t.id?e:Object.assign(Object.assign(Object.assign({},e),t),{count:e.count,templates:e.templates.concat(t.templates)}));return Object(Wa.a)(ca.D({teamTemplates:i}))}))}))),this.getTemplateTags$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.k),Object(qt.a)(this.store.select(me.getTeam)),Object(Vt.a)(([e,t])=>this.templateCenterService.getTemplateTags(t.id).pipe(Object(Vt.a)(e=>{const t=[];return t.push(ca.F({templateTags:e.tags})),Object(ur.a)(t)}),Object(hr.a)(this.handleError.bind(this)))))),this.createTemplateTag$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.b),Object(qt.a)(this.store.select(me.getTeam),this.store.select(na.w)),Object(Vt.a)(([e,t,i])=>this.templateCenterService.createTemplateTag(t.id,e.tag).pipe(Object(Vt.a)(e=>{const t=[],a=i.concat(e);return t.push(ca.F({templateTags:a})),Object(ur.a)(t)}),Object(hr.a)(this.handleError.bind(this)))))),this.deleteTag$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.c),Object(qt.a)(this.store.select(me.getTeam),this.store.select(na.w)),Object(Vt.a)(([e,t,i])=>this.templateCenterService.deleteTemplateTag(t.id,e.tagId).pipe(Object(Vt.a)(t=>{const a=[],o=i.filter(t=>t.id!==e.tagId);return a.push(ca.F({templateTags:o})),Object(ur.a)(a)}),Object(hr.a)(this.handleError.bind(this)))))),this.editTag$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.d),Object(qt.a)(this.store.select(me.getTeam),this.store.select(na.w)),Object(Vt.a)(([e,t,i])=>this.templateCenterService.editTemplateTag(t.id,e.changes,e.tagId).pipe(Object(Vt.a)(t=>{const a=[],o=Object(nr.a)(i),c=o.findIndex(t=>t.id===e.tagId);return-1!==c&&(o[c]=t),a.push(ca.F({templateTags:o})),Object(ur.a)(a)}),Object(hr.a)(this.handleError.bind(this)))))),this.addTagToTemplate$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.a),Object(Vt.a)(e=>this.templateCenterService.addTagToTemplate(e.tag.id,e.templateType,e.template.id).pipe(Object(Vt.a)(t=>{const i=[];let a=[];return a=[...e.template.tags||[],e.tag],i.push(ca.L({originalTemplate:e.template,changes:{tags:a},localOnly:!0})),Object(ur.a)(i)}),Object(hr.a)(this.handleError.bind(this)))))),this.removeTagFromTemplate$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.p),Object(Vt.a)(e=>this.templateCenterService.removeTagFromTemplate(e.tag.id,e.templateType,e.template.id).pipe(Object(Vt.a)(t=>{const i=[],a=(e.template.tags||[]).filter(t=>t.id!==e.tag.id);return i.push(ca.L({originalTemplate:e.template,changes:{tags:a},localOnly:!0})),Object(ur.a)(i)}),Object(hr.a)(this.handleError.bind(this)))))),this.setTypeFilters$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.s,ca.D,ca.u),Object(qt.a)(this.store.select(na.x),this.store.select(na.b),this.store.select(na.v),this.store.select(na.h),this.store.select(na.i)),Object(Vt.a)(([e,t,i,a,o,c])=>{const n=i.reduce((e,t)=>(e[t.name]=t.count,e),{}),s=t.map(e=>{const t=(a.find(t=>t.type===e.name)||{}).count;let i=0;return o||(i+=null===t?e.count:t||0),c||(i+=n[e.name]||0),Object.assign(Object.assign({},e),{count:i})});return Object(Wa.a)(ca.I({typeFilters:s}))}))),this.getPublicTemplateTags$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.g,ca.y),Object(qt.a)(this.store.select(na.a),this.store.select(na.o)),Object(Vt.a)(([e,t,i])=>this.templateCenterService.getPublicTemplateTags(t).pipe(Object(Fe.a)(({public_template_tags:e})=>e.map(e=>{var t;return Object.assign(Object.assign({},e),{isActive:null===(t=i[e.id])||void 0===t?void 0:t.isActive})})),Object(Fe.a)(e=>e.sort((e,t)=>sr.s.indexOf(e.name)-sr.s.indexOf(t.name))),Object(Vt.a)(e=>Object(Wa.a)(ca.x({publicTemplateTags:e}))))))),this.usePreviousState=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ca.B),Object(Vt.a)(()=>Object(ur.a)([ca.e(),ca.i(),ca.f(),ca.h(),ca.g(),ca.k()]))))}handleError(e){return setTimeout(()=>{this.store.dispatch(new sa.d(e))},mr.a),Object(Wa.a)(new sa.b(e))}updateTemplateById(e,t,i){let a;switch(t){case"category":a=this.templateService.editCategoryTemplate(e,i);break;case"subcategory":a=this.templateService.editSubcategoryTemplate(e,i);break;case"project":a=this.templateService.editProjectTemplate(e,i);break;case"task":a=this.templateService.editTaskTemplate(e,i);break;case"doc":case"view":a=this.dataViewServie.getDataView(e).pipe(Object(Vt.a)(t=>(delete t.view.template_members,this.templateService.editViewTemplate(e,{view:Object.assign(Object.assign({},t.view),i)}))));break;default:a=pr.a}return a}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(ye.Store),X.nc(Sr),X.nc(jr.a),X.nc(Or.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),Cr=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[ye.StoreModule.forFeature("templateCenter",dr),Ei.b.forFeature([Dr])]]}),e})();var Pr=i("cTuH"),$r=i("WSBU"),zr=i("gBUK"),Mr=i("N4ya"),Er=i("LRxH"),Lr=i("NsZK"),Ar=i("LdyQ"),Fr=i("MJvn"),Ur=i("n+1/"),Nr=i("SA+E"),Rr=i("gJHR"),Gr=i("gEZv"),qr=i("peMq"),Br=i("HEQc"),Wr=i("R4vD");let Vr=(()=>{class e{constructor(){}transform(e){return Object(Wr.d)(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"operationToText",type:e,pure:!0}),e})();var Xr=i("VhLi");function Hr(e,t){if(1&e&&(X.cc(0,"div",3),X.dd(1),X.vc(2,"camelCaseToString"),X.bc()),2&e){const e=X.uc();X.Ib(1),X.fd(" ",X.xc(2,1,null==e.filter?null:e.filter.field,!1),"\n")}}function Yr(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.bc()),2&e){const e=X.uc();X.Ib(1),X.fd(" ","EQ"===(null==e.filter?null:e.filter.op)?"is":"NOT"===(null==e.filter?null:e.filter.op)?"is not":"ALL"===(null==e.filter?null:e.filter.op)?"is all":"ANY"===(null==e.filter?null:e.filter.op)?"is any":"NOT ANY"===(null==e.filter?null:e.filter.op)?"is not set":"","\n")}}function Zr(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function Qr(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.bd(2,Zr,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.fd(" ",null!=e&&e.type?e.type:e," "),X.Ib(1),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function Kr(e,t){if(1&e&&(X.ac(0),X.bd(1,Qr,3,2,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function Jr(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function el(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.bd(2,Jr,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.fd(" ",e," "),X.Ib(1),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function tl(e,t){if(1&e&&(X.ac(0),X.bd(1,el,3,2,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function il(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function al(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.bd(2,il,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.fd(" ","1"===e?"urgent":"2"===e?"high":"3"===e?"normal":"4"===e?"low":"No priority"," "),X.Ib(1),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function ol(e,t){if(1&e&&(X.ac(0),X.bd(1,al,3,2,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function cl(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2),X.bc(),X.Zb()),2&e){const e=X.uc();X.Ib(2),X.fd(" ","NOT"===(null==e.filter?null:e.filter.op)?"Is not":"Is"," archived ")}}function nl(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2),X.bc(),X.Zb()),2&e){const e=X.uc();X.Ib(2),X.fd(" ","NOT"===(null==e.filter?null:e.filter.op)?"Doesn't have":"Has"," assigned comments ")}}function sl(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2),X.bc(),X.Zb()),2&e){const e=X.uc();X.Ib(2),X.fd(" ","NOT"===(null==e.filter?null:e.filter.op)?"Is not":"Is"," recurring ")}}function rl(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2),X.bc(),X.Zb()),2&e){const e=X.uc();X.Ib(2),X.fd(" ","NOT"===(null==e.filter?null:e.filter.op)?"Is not":"Is"," a milestone ")}}function ll(e,t){1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2,"Status is closed"),X.bc(),X.Zb())}function dl(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function ul(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.bd(2,dl,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.fd(" ",e," "),X.Ib(1),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function pl(e,t){if(1&e&&(X.ac(0),X.bd(1,ul,3,2,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function ml(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function hl(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.vc(2,"operationToText"),X.vc(3,"momentDate"),X.bd(4,ml,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.gd(" ",X.wc(2,3,null==e?null:e.op)," ",null!=e&&e.dueDate?X.xc(3,5,null==e?null:e.dueDate,"MMM D, YYYY"):""," "),X.Ib(3),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function bl(e,t){if(1&e&&(X.ac(0),X.bd(1,hl,5,8,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function gl(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function fl(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.vc(2,"operationToText"),X.vc(3,"momentDate"),X.bd(4,gl,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.gd(" ",X.wc(2,3,null==e?null:e.op)," ",null!=e&&e.dueDate?X.xc(3,5,null==e?null:e.dueDate,"MMM D, YYYY"):""," "),X.Ib(3),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function _l(e,t){if(1&e&&(X.ac(0),X.bd(1,fl,5,8,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function vl(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function yl(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.vc(2,"operationToText"),X.vc(3,"momentDate"),X.bd(4,vl,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.gd(" ",X.wc(2,3,null==e?null:e.op)," ",null!=e&&e.dueDate?X.xc(3,5,null==e?null:e.dueDate,"MMM D, YYYY"):""," "),X.Ib(3),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function wl(e,t){if(1&e&&(X.ac(0),X.bd(1,yl,5,8,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function kl(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function xl(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.vc(2,"operationToText"),X.vc(3,"momentDate"),X.bd(4,kl,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.gd(" ",X.wc(2,3,null==e?null:e.op)," ",null!=e&&e.dueDate?X.xc(3,5,null==e?null:e.dueDate,"MMM D, YYYY"):""," "),X.Ib(3),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function Tl(e,t){if(1&e&&(X.ac(0),X.bd(1,xl,5,8,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function Sl(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function jl(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.vc(2,"operationToText"),X.vc(3,"momentDate"),X.bd(4,Sl,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.gd(" ",X.wc(2,3,null==e?null:e.op)," ",null!=e&&e.dueDate?X.xc(3,5,null==e?null:e.dueDate,"MMM D, YYYY"):""," "),X.Ib(3),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function Ol(e,t){if(1&e&&(X.ac(0),X.bd(1,jl,5,8,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function Il(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function Dl(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.vc(2,"operationToText"),X.vc(3,"momentDate"),X.bd(4,Il,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.gd(" ",X.wc(2,3,null==e?null:e.op)," ",null!=e&&e.dueDate?X.xc(3,5,null==e?null:e.dueDate,"MMM D, YYYY"):""," "),X.Ib(3),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function Cl(e,t){if(1&e&&(X.ac(0),X.bd(1,Dl,5,8,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function Pl(e,t){1&e&&(X.cc(0,"span"),X.dd(1,", "),X.bc())}function $l(e,t){if(1&e&&(X.cc(0,"div",4),X.dd(1),X.vc(2,"operationToText"),X.bd(3,Pl,2,0,"span",2),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(2);X.Ib(1),X.gd(" ",X.wc(2,3,null==a.filter?null:a.filter.op)," ",e," "),X.Ib(2),X.Dc("ngIf",i!==(null==a.filter||null==a.filter.values?null:a.filter.values.length)-1)}}function zl(e,t){if(1&e&&(X.ac(0),X.bd(1,$l,4,5,"div",5),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.filter?null:e.filter.values)("ngForTrackBy",e.trackByProperty)}}function Ml(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2),X.vc(3,"operationToText"),X.bc(),X.Zb()),2&e){const e=X.uc();X.Ib(2),X.gd(" ",X.wc(3,2,null==e.filter?null:e.filter.op)," ",null==e.filter?null:e.filter.values[1]," ")}}function El(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2),X.vc(3,"operationToText"),X.bc(),X.Zb()),2&e){const e=X.uc();X.Ib(2),X.gd(" ",X.wc(3,2,null==e.filter?null:e.filter.op)," ",null==e.filter?null:e.filter.values[1]," ")}}function Ll(e,t){if(1&e&&(X.ac(0),X.Xb(1,"cu-user-group",6),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("readOnly",!0)("users",e.filterUsers)("avatarSize",24)}}function Al(e,t){if(1&e&&(X.ac(0),X.Xb(1,"cu-user-group",6),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("readOnly",!0)("users",e.filterUsers)("avatarSize",24)}}function Fl(e,t){if(1&e&&(X.ac(0),X.Xb(1,"cu-user-group",6),X.Zb()),2&e){const e=X.uc();X.Ib(1),X.Dc("readOnly",!0)("users",e.filterUsers)("avatarSize",24)}}function Ul(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",4),X.dd(2),X.vc(3,"operationToText"),X.bc(),X.Zb()),2&e){const e=X.uc();X.Ib(2),X.gd(" ",X.wc(3,2,null==e.filter?null:e.filter.op)," ",null==e.filter||null==e.filter.values?null:e.filter.values.length," locations ")}}let Nl=(()=>{class e{constructor(){this.trackByProperty=be.d,this.filterUsers=[]}ngOnChanges(e){e.filter&&this.team&&this.team.members&&this.filter&&this.filter.values&&("assignee"===this.filter.field||"creator"===this.filter.field||"watcher"===this.filter.field)&&this.team.members.map(e=>e.user).forEach(e=>{this.filter.values.includes(e.id)&&this.filterUsers.push(e)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-view-filter-display"]],hostAttrs:[1,"cu-view-filter-display"],inputs:{team:"team",filter:"filter"},features:[X.Gb],decls:24,vars:24,consts:[["class","cu-view-filter-display__text cu-view-filter-display__text-capitalize",4,"ngIf"],["class","cu-view-filter-display__text",4,"ngIf"],[4,"ngIf"],[1,"cu-view-filter-display__text","cu-view-filter-display__text-capitalize"],[1,"cu-view-filter-display__text"],["class","cu-view-filter-display__text",4,"ngFor","ngForOf","ngForTrackBy"],[3,"readOnly","users","avatarSize"]],template:function(e,t){1&e&&(X.bd(0,Hr,3,4,"div",0),X.bd(1,Yr,2,1,"div",1),X.bd(2,Kr,2,2,"ng-container",2),X.bd(3,tl,2,2,"ng-container",2),X.bd(4,ol,2,2,"ng-container",2),X.bd(5,cl,3,1,"ng-container",2),X.bd(6,nl,3,1,"ng-container",2),X.bd(7,sl,3,1,"ng-container",2),X.bd(8,rl,3,1,"ng-container",2),X.bd(9,ll,3,0,"ng-container",2),X.bd(10,pl,2,2,"ng-container",2),X.bd(11,bl,2,2,"ng-container",2),X.bd(12,_l,2,2,"ng-container",2),X.bd(13,wl,2,2,"ng-container",2),X.bd(14,Tl,2,2,"ng-container",2),X.bd(15,Ol,2,2,"ng-container",2),X.bd(16,Cl,2,2,"ng-container",2),X.bd(17,zl,2,2,"ng-container",2),X.bd(18,Ml,4,4,"ng-container",2),X.bd(19,El,4,4,"ng-container",2),X.bd(20,Ll,2,3,"ng-container",2),X.bd(21,Al,2,3,"ng-container",2),X.bd(22,Fl,2,3,"ng-container",2),X.bd(23,Ul,4,4,"ng-container",2)),2&e&&(X.Dc("ngIf","archived"!==(null==t.filter?null:t.filter.field)&&"unresolvedComment"!==(null==t.filter?null:t.filter.field)&&"recurring"!==(null==t.filter?null:t.filter.field)&&"isClosed"!==(null==t.filter?null:t.filter.field)&&"milestone"!==(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","archived"!==(null==t.filter?null:t.filter.field)&&"unresolvedComment"!==(null==t.filter?null:t.filter.field)&&"recurring"!==(null==t.filter?null:t.filter.field)&&"isClosed"!==(null==t.filter?null:t.filter.field)&&"milestone"!==(null==t.filter?null:t.filter.field)&&"pointsEstimate"!==(null==t.filter?null:t.filter.field)&&"timeEstimate"!==(null==t.filter?null:t.filter.field)&&"timeLogged"!==(null==t.filter?null:t.filter.field)&&"location"!==(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","status"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","tag"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","priority"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","archived"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","unresolvedComment"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","recurring"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","milestone"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","isClosed"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","dependency"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","dueDate"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","dateClosed"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","dateCreated"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","dateUpdated"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","dateDone"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","startDate"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","pointsEstimate"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","timeEstimate"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","timeLogged"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","assignee"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","creator"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","watcher"===(null==t.filter?null:t.filter.field)),X.Ib(1),X.Dc("ngIf","location"===(null==t.filter?null:t.filter.field)))},directives:[n.q,n.p,qr.a],pipes:[Br.a,Vr,Xr.a],styles:['.cu-view-filter-display{display:flex;align-items:center}.cu-view-filter-display__text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1.2;color:#292d34;padding-right:5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-view-filter-display__text{font-family:var(--global-font-support)}}.dark-theme .cu-view-filter-display__text{color:#d5d6d7}.cu-view-filter-display__text-capitalize{text-transform:capitalize}'],encapsulation:2,changeDetection:0}),e})();var Rl=i("S//e"),Gl=i("OBnU"),ql=i("t7PA");let Bl=(()=>{class e{transform(e){return e&&e.length?e.map(e=>e.status).join(", "):""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"statusGroupTotalString",type:e,pure:!0}),e})();var Wl=i("HSHF");let Vl=(()=>{class e{transform(e,t){if(!e||Number.isNaN(e))return"N/A";if(e<1e3)return e;const i=Math.floor(Math.log(e)/Math.log(1e3)),a=e/Math.pow(1e3,i),o=String(a);return Math.floor(a)+o.substr(o.indexOf("."),t+1)+["K","M","B","T"][i-1]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"numberTruncate",type:e,pure:!0}),e})();const Xl=["pop"],Hl=["settingsWithLegacyDropDown"],Yl=["shareSettingsDropDown"],Zl=["uploader"];function Ql(e,t){1&e&&(X.cc(0,"div",39),X.Xb(1,"cu-loader"),X.bc())}function Kl(e,t){if(1&e){const e=X.dc();X.cc(0,"div",44),X.cc(1,"label",45),X.Xb(2,"div",46),X.cc(3,"input",47),X.qc("change",function(t){return X.Uc(e),X.uc(2).imageDrop(t.target.files)}),X.bc(),X.bc(),X.bc()}2&e&&X.Dc("cuTooltip","Add another image")}function Jl(e,t){if(1&e){const e=X.dc();X.cc(0,"div",40),X.bd(1,Kl,4,1,"div",41),X.cc(2,"div",42),X.qc("click",function(){return X.Uc(e),X.uc().deleteImage()}),X.Xb(3,"div",43),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",!(null!=e.selectedTemplate&&e.selectedTemplate.clickUp))}}function ed(e,t){if(1&e){const e=X.dc();X.cc(0,"div",48),X.qc("ondrop",function(t){return X.Uc(e),X.uc().imageDrop(t)}),X.gc(1,49),X.bc()}}const td=function(e){return{"background-image":e}};function id(e,t){if(1&e){const e=X.dc();X.cc(0,"div",50),X.qc("click",function(){return X.Uc(e),X.uc().openImages()}),X.bc()}if(2&e){const e=X.uc();X.Dc("ngStyle",X.Hc(1,td,"url("+(null==e.selectedTemplate||null==e.selectedTemplate.attachments[e.imgSliderPosition]?null:e.selectedTemplate.attachments[e.imgSliderPosition].url)+")"))}}function ad(e,t){if(1&e){const e=X.dc();X.cc(0,"div",56),X.cc(1,"div",57),X.ac(2),X.gc(3,58),X.Zb(),X.cc(4,"label",59),X.cc(5,"span"),X.gc(6,60),X.bc(),X.cc(7,"input",61),X.qc("change",function(t){return X.Uc(e),X.uc(2).imageDrop(t.target.files)}),X.bc(),X.bc(),X.bc(),X.cc(8,"div",62),X.gc(9,63),X.bc(),X.bc()}}function od(e,t){if(1&e&&(X.cc(0,"div",51),X.Xb(1,"div",52),X.cc(2,"div",53),X.gc(3,54),X.bc(),X.bd(4,ad,10,0,"div",55),X.bc()),2&e){const e=X.uc();X.Ib(4),X.Dc("ngIf",!(null!=e.selectedTemplate&&e.selectedTemplate.clickUp))}}function cd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",64),X.qc("click",function(){return X.Uc(e),X.uc().slideImageLeft()}),X.bc()}}function nd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",65),X.qc("click",function(){return X.Uc(e),X.uc().slideImageRight()}),X.bc()}}function sd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",68),X.qc("click",function(){X.Uc(e);const i=t.index;return X.uc(2).imgSliderPosition=i}),X.bc()}if(2&e){const e=t.index,i=X.uc(2);X.Ob("cu-template-center-selected-template__image-dot-active",i.imgSliderPosition===e)}}function rd(e,t){if(1&e&&(X.cc(0,"div",66),X.bd(1,sd,1,2,"div",67),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",null==e.selectedTemplate?null:e.selectedTemplate.attachments)("ngForTrackBy",e.trackByProperty)}}function ld(e,t){if(1&e&&(X.cc(0,"div"),X.Yb(1,75),X.bc()),2&e){X.uc(2);const e=X.Rc(51);X.Ib(1),X.Dc("ngTemplateOutlet",e)}}const dd=function(){return["left-top","left","bottom-left","auto"]};function ud(e,t){1&e&&(X.cc(0,"div",69,70),X.cc(2,"div",71),X.Xb(3,"div",72),X.ac(4),X.gc(5,73),X.Zb(),X.bc(),X.bd(6,ld,2,1,"div",74),X.bc()),2&e&&X.Dc("dropdownPlacement",X.Gc(3,dd))("dropdownCloseOnInsideClick",!1)("dropdownModifierClass","cu-template-center-selected-template__share-dropdown")}function pd(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-editable",76),X.qc("onChange",function(t){return X.Uc(e),X.uc().editName(t)})("onCancel",function(){return X.Uc(e),X.uc().editingName=!1})("click",function(){return X.Uc(e),X.uc().editingName=!0}),X.dd(1),X.bc()}if(2&e){const e=X.uc();X.Dc("text",null==e.selectedTemplate?null:e.selectedTemplate.name)("editing",e.editingName)("autosize",!1)("allowEmpty",!0),X.Ib(1),X.fd(" ",null==e.selectedTemplate?null:e.selectedTemplate.name," ")}}function md(e,t){if(1&e&&(X.cc(0,"div",77),X.dd(1),X.bc()),2&e){const e=X.uc();X.Ib(1),X.fd(" ",null==e.selectedTemplate?null:e.selectedTemplate.name," ")}}function hd(e,t){if(1&e&&(X.cc(0,"div",78),X.Xb(1,"div",13),X.vc(2,"lowercase"),X.cc(3,"div"),X.dd(4),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("icon","template-center-experience-"+X.wc(2,2,null==e.selectedTemplate?null:e.selectedTemplate.public_tags[0].name)),X.Ib(3),X.ed(null==e.selectedTemplate?null:e.selectedTemplate.public_tags[0].name)}}function bd(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-editable",79),X.qc("onChange",function(t){return X.Uc(e),X.uc().editDescription(t)})("onCancel",function(){return X.Uc(e),X.uc().editingDescription=!1})("click",function(){return X.Uc(e),X.uc().editingDescription=!0}),X.dd(1),X.bc()}if(2&e){const e=X.uc();X.Ob("cu-template-center-selected-template__info-desc-empty",!(null!=e.selectedTemplate&&e.selectedTemplate.description||e.editingDescription)),X.Dc("text",null==e.selectedTemplate?null:e.selectedTemplate.description)("editing",e.editingDescription)("autosize",!1)("allowEmpty",!0)("multiline",!0),X.Ib(1),X.fd(" ",null==e.selectedTemplate?null:e.selectedTemplate.description," ")}}function gd(e,t){if(1&e&&(X.ac(0),X.dd(1),X.Zb()),2&e){const e=X.uc(2);X.Ib(1),X.fd(" ",null==e.selectedTemplate?null:e.selectedTemplate.description," ")}}function fd(e,t){if(1&e&&(X.cc(0,"span"),X.dd(1),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.fd("This template has no description yet ",null!=e.selectedTemplate&&e.selectedTemplate.clickUp?"":"yet","")}}function _d(e,t){if(1&e&&(X.cc(0,"div",80),X.bd(1,gd,2,1,"ng-container",81),X.bd(2,fd,2,1,"ng-template",null,82,X.cd),X.bc()),2&e){const e=X.Rc(3),t=X.uc();X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate?null:t.selectedTemplate.description)("ngIfElse",e)}}function vd(e,t){if(1&e&&(X.cc(0,"div",93),X.dd(1),X.bc()),2&e){const e=t.$implicit;X.Ib(1),X.fd(" ",e," ")}}function yd(e,t){if(1&e&&(X.cc(0,"div",84),X.cc(1,"div",85),X.ac(2),X.gc(3,90),X.Zb(),X.dd(4,": "),X.bc(),X.cc(5,"div",91),X.bd(6,vd,2,1,"div",92),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(6),X.Dc("ngForOf",null==e.selectedTemplate?null:e.selectedTemplate.use_cases)("ngForTrackBy",e.trackByProperty)}}function wd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",83),X.cc(1,"div",84),X.cc(2,"div",85),X.ac(3),X.gc(4,86),X.Zb(),X.dd(5,": "),X.bc(),X.cc(6,"div",87),X.cc(7,"cu-task-row-tags",88),X.qc("onChange",function(t){return X.Uc(e),X.uc().editTags(t)}),X.vc(8,"async"),X.bc(),X.bc(),X.bc(),X.bd(9,yd,7,2,"div",89),X.bc()}if(2&e){const e=X.uc();let t=null;X.Ib(7),X.Dc("tags",e.tags)("value",null==e.selectedTemplate?null:e.selectedTemplate.tags)("taskId","")("projectId",null==(t=X.wc(8,17,e.project$))?null:t.id)("disabled",!1)("manageTags",!0)("canAddTag",!0)("canRemoveTag",!0)("canManageTag",!0)("onlyDeleteIfOwner",!1)("canDelete",!0)("userId",null==e.user?null:e.user.id)("projectAccess",!0)("readOnly",null==e.selectedTemplate?null:e.selectedTemplate.clickUp)("showFilter",!0)("forTemplates",!0),X.Ib(2),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.clickUp)&&(null==e.selectedTemplate||null==e.selectedTemplate.use_cases?null:e.selectedTemplate.use_cases.length))}}function kd(e,t){1&e&&(X.ac(0),X.gc(1,97),X.Zb())}function xd(e,t){1&e&&X.Xb(0,"cu-loader",98)}function Td(e,t){if(1&e){const e=X.dc();X.cc(0,"div",94),X.qc("click",function(){return X.Uc(e),X.uc().addTemplateToWorkspace()}),X.bd(1,kd,2,0,"ng-container",95),X.bd(2,xd,1,0,"cu-loader",96),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",!e.clickUpTemplateLoading),X.Ib(1),X.Dc("ngIf",e.clickUpTemplateLoading)}}function Sd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",99),X.qc("click",function(){return X.Uc(e),X.uc().switchClickUpTemplateToTeam()}),X.mc(1,100),X.Xb(2,"div",101),X.jc(),X.bc()}}function jd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",102,103),X.qc("click",function(){X.Uc(e);const t=X.Rc(1);return null==t?null:t.show()}),X.gc(2,104),X.bc()}if(2&e){X.uc();const e=X.Rc(53);X.Dc("popover",e)("outsideClick",!0)}}function Od(e,t){if(1&e&&(X.cc(0,"div",105),X.cc(1,"span"),X.dd(2),X.bc(),X.dd(3," template doesn\u2019t contain any adjustable items. "),X.bc()),2&e){const e=X.uc();X.Ib(2),X.ed((null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Space?"Space":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Folder?"Folder":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.List?"List":null==e.selectedTemplate?null:e.selectedTemplate.type)}}function Id(e,t){if(1&e&&X.Xb(0,"div",117),2&e){const e=t.$implicit;X.ad("background-color",null==e?null:e.color)}}function Dd(e,t){if(1&e&&(X.cc(0,"div",118),X.dd(1),X.bc()),2&e){const e=X.uc().$implicit;X.Ib(1),X.fd(" +",(null==e?null:e.length)-4," ")}}function Cd(e,t){if(1&e&&(X.cc(0,"div",114),X.vc(1,"uppercase"),X.vc(2,"statusGroupTotalString"),X.bd(3,Id,1,2,"div",115),X.vc(4,"slice"),X.bd(5,Dd,2,1,"div",116),X.bc()),2&e){const e=t.$implicit,i=X.uc(3);X.Dc("cuTooltip",X.wc(1,4,X.wc(2,6,e))),X.Ib(3),X.Dc("ngForOf",X.yc(4,8,e,0,3))("ngForTrackBy",i.trackByProperty),X.Ib(2),X.Dc("ngIf",(null==e?null:e.length)-4>0)}}function Pd(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,Cd,6,12,"div",113),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",null==e.selectedTemplate||null==e.selectedTemplate.options||null==e.selectedTemplate.options.count_details?null:e.selectedTemplate.options.count_details.statusGroups)("ngForTrackBy",e.trackByProperty)}}function $d(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("statuses")}),X.cc(1,"div",107),X.cc(2,"span"),X.dd(3),X.bc(),X.ac(4),X.gc(5,108),X.Zb(),X.Xb(6,"div",109),X.bc(),X.bd(7,Pd,3,2,"div",110),X.bc()}if(2&e){const e=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==e.detailsExpandedMap?null:e.detailsExpandedMap.statuses),X.Ib(3),X.ed(null==e.selectedTemplate||null==e.selectedTemplate.options||null==e.selectedTemplate.options.count_details||null==e.selectedTemplate.options.count_details.statusGroups?null:e.selectedTemplate.options.count_details.statusGroups.length),X.Ib(2),X.kc(null==e.selectedTemplate||null==e.selectedTemplate.options||null==e.selectedTemplate.options.count_details||null==e.selectedTemplate.options.count_details.statusGroups?null:e.selectedTemplate.options.count_details.statusGroups.length),X.hc(5),X.Ib(2),X.Dc("ngIf",null==e.detailsExpandedMap?null:e.detailsExpandedMap.statuses)}}function zd(e,t){1&e&&(X.cc(0,"div",124),X.dd(1," \u2022 "),X.bc())}function Md(e,t){if(1&e&&(X.cc(0,"div",121),X.cc(1,"div",122),X.dd(2),X.bc(),X.bd(3,zd,2,0,"div",123),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(3);X.Ib(2),X.fd(" ",null==e?null:e.name," "),X.Ib(1),X.Dc("ngIf",i!==(null==a.selectedTemplate||null==a.selectedTemplate.options||null==a.selectedTemplate.options.count_details?null:a.selectedTemplate.options.count_details.custom_fields.length)-1)}}function Ed(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,Md,4,2,"div",120),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",null==e.selectedTemplate||null==e.selectedTemplate.options||null==e.selectedTemplate.options.count_details?null:e.selectedTemplate.options.count_details.custom_fields)("ngForTrackBy",e.trackByProperty)}}function Ld(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("custom_fields")}),X.cc(1,"div",107),X.ac(2),X.mc(3,119),X.Xb(4,"span"),X.jc(),X.Zb(),X.Xb(5,"div",109),X.bc(),X.bd(6,Ed,3,2,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.custom_fields),X.Ib(4),X.kc(e)(e),X.hc(3),X.Ib(2),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.custom_fields)}}function Ad(e,t){if(1&e&&(X.cc(0,"div",127),X.cc(1,"div",128),X.dd(2),X.bc(),X.bc()),2&e){const e=t.$implicit;X.ad("color",null==e?null:e.color),X.Ib(2),X.fd(" ",null==e?null:e.name," ")}}function Fd(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,Ad,3,3,"div",126),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",null==e.selectedTemplate||null==e.selectedTemplate.options||null==e.selectedTemplate.options.count_details?null:e.selectedTemplate.options.count_details.tags)("ngForTrackBy",e.trackByProperty)}}function Ud(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("tags")}),X.cc(1,"div",107),X.ac(2),X.mc(3,125),X.Xb(4,"span"),X.jc(),X.Zb(),X.Xb(5,"div",109),X.bc(),X.bd(6,Fd,3,2,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.tags),X.Ib(4),X.kc(e)(e),X.hc(3),X.Ib(2),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.tags)}}function Nd(e,t){1&e&&(X.cc(0,"div",124),X.dd(1," \u2022 "),X.bc())}function Rd(e,t){if(1&e&&(X.cc(0,"div",121),X.cc(1,"div",122),X.dd(2),X.vc(3,"enumToText"),X.bc(),X.bd(4,Nd,2,0,"div",123),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(3);X.Ib(2),X.fd(" ",X.wc(3,2,e)," "),X.Ib(2),X.Dc("ngIf",i!==(null==a.selectedTemplate||null==a.selectedTemplate.options||null==a.selectedTemplate.options.count_details?null:a.selectedTemplate.options.count_details.click_apps.length)-1)}}function Gd(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,Rd,5,4,"div",120),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",null==e.selectedTemplate||null==e.selectedTemplate.options||null==e.selectedTemplate.options.count_details?null:e.selectedTemplate.options.count_details.click_apps)("ngForTrackBy",e.trackByProperty)}}function qd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("click_apps")}),X.cc(1,"div",107),X.ac(2),X.mc(3,129),X.Xb(4,"span"),X.jc(),X.Zb(),X.Xb(5,"div",109),X.bc(),X.bd(6,Gd,3,2,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.click_apps),X.Ib(4),X.kc(e)(e),X.hc(3),X.Ib(2),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.click_apps)}}function Bd(e,t){1&e&&(X.cc(0,"div",124),X.dd(1," \u2022 "),X.bc())}function Wd(e,t){if(1&e&&(X.cc(0,"div",132),X.Xb(1,"div",133),X.cc(2,"div",122),X.dd(3),X.ac(4),X.gc(5,134),X.Zb(),X.bc(),X.bd(6,Bd,2,0,"div",123),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(3);X.Ib(1),X.Dc("icon","cu2-view-"+e.type),X.Ib(2),X.fd(" ",null==e?null:e.name," "),X.Ib(3),X.Dc("ngIf",i!==(null==a.selectedTemplate||null==a.selectedTemplate.options||null==a.selectedTemplate.options.count_details||null==a.selectedTemplate.options.count_details.viewTypes?null:a.selectedTemplate.options.count_details.viewTypes.length)-1)}}function Vd(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,Wd,7,3,"div",131),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",null==e.selectedTemplate||null==e.selectedTemplate.options||null==e.selectedTemplate.options.count_details?null:e.selectedTemplate.options.count_details.viewTypes)("ngForTrackBy",e.trackByProperty)}}function Xd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("views")}),X.cc(1,"div",107),X.cc(2,"span"),X.dd(3),X.bc(),X.ac(4),X.gc(5,130),X.Zb(),X.Xb(6,"div",109),X.bc(),X.bd(7,Vd,3,2,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.views),X.Ib(3),X.ed(e),X.Ib(2),X.kc(e),X.hc(5),X.Ib(2),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.views)}}function Hd(e,t){if(1&e&&(X.cc(0,"div",137),X.cc(1,"div",138),X.Xb(2,"cu-automation-label",139),X.bc(),X.bc()),2&e){const e=t.$implicit;X.Ib(2),X.Dc("automation",e)}}function Yd(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,Hd,3,1,"div",136),X.vc(3,"async"),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",X.wc(3,2,e.automations$))("ngForTrackBy",e.trackByProperty)}}function Zd(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("automations")}),X.cc(1,"div",107),X.ac(2),X.mc(3,135),X.Xb(4,"span"),X.jc(),X.Zb(),X.Xb(5,"div",109),X.bc(),X.bd(6,Yd,4,4,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.automations),X.Ib(4),X.kc(e)(e),X.hc(3),X.Ib(2),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.automations)}}function Qd(e,t){if(1&e&&(X.ac(0),X.dd(1),X.Zb()),2&e){const e=X.uc().$implicit;X.Ib(1),X.ed(e)}}function Kd(e,t){1&e&&(X.ac(0),X.gc(1,141),X.Zb())}function Jd(e,t){1&e&&(X.cc(0,"div",124),X.dd(1," \u2022 "),X.bc())}function eu(e,t){if(1&e&&(X.cc(0,"div",121),X.Xb(1,"div",133),X.cc(2,"div",122),X.bd(3,Qd,2,1,"ng-container",95),X.bd(4,Kd,2,0,"ng-container",95),X.bc(),X.bd(5,Jd,2,0,"div",123),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(3);X.Ib(1),X.Dc("icon","cu2-doc-2"),X.Ib(2),X.Dc("ngIf",e),X.Ib(1),X.Dc("ngIf",!e),X.Ib(1),X.Dc("ngIf",i!==(null==a.selectedTemplate||null==a.selectedTemplate.template_options||null==a.selectedTemplate.template_options.count_details||null==a.selectedTemplate.template_options.count_details.pages?null:a.selectedTemplate.template_options.count_details.pages.length)-1)}}function tu(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,eu,6,4,"div",120),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",null==e.selectedTemplate||null==e.selectedTemplate.template_options||null==e.selectedTemplate.template_options.count_details?null:e.selectedTemplate.template_options.count_details.pages)("ngForTrackBy",e.trackByProperty)}}function iu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("pages")}),X.cc(1,"div",107),X.cc(2,"span"),X.dd(3),X.bc(),X.ac(4),X.gc(5,140),X.Zb(),X.Xb(6,"div",109),X.bc(),X.bd(7,tu,3,2,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.pages),X.Ib(3),X.ed(e),X.Ib(2),X.kc(e),X.hc(5),X.Ib(2),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.pages)}}function au(e,t){1&e&&(X.cc(0,"div",124),X.dd(1," \u2022 "),X.bc())}function ou(e,t){if(1&e&&(X.cc(0,"div",121),X.cc(1,"div",122),X.dd(2),X.vc(3,"camelCaseToString"),X.bc(),X.bd(4,au,2,0,"div",123),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(3);X.Ib(2),X.fd(" ",X.xc(3,2,null==e?null:e.field,!0)," "),X.Ib(2),X.Dc("ngIf",i!==(null==a.selectedTemplate||null==a.selectedTemplate.template_options||null==a.selectedTemplate.template_options.count_details||null==a.selectedTemplate.template_options.count_details.view_cols?null:a.selectedTemplate.template_options.count_details.view_cols.length)-1&&i!==(null==a.selectedTemplate||null==a.selectedTemplate.columns||null==a.selectedTemplate.columns.fields?null:a.selectedTemplate.columns.fields.length)-1)}}function cu(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,ou,5,5,"div",120),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",(null==e.selectedTemplate||null==e.selectedTemplate.template_options||null==e.selectedTemplate.template_options.count_details?null:e.selectedTemplate.template_options.count_details.view_cols)||(null==e.selectedTemplate||null==e.selectedTemplate.columns?null:e.selectedTemplate.columns.fields))("ngForTrackBy",e.trackByProperty)}}function nu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("view_cols")}),X.cc(1,"div",107),X.cc(2,"span"),X.dd(3),X.bc(),X.ac(4),X.gc(5,142),X.Zb(),X.Xb(6,"div",109),X.bc(),X.bd(7,cu,3,2,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.view_cols),X.Ib(3),X.ed(e),X.Ib(2),X.kc(e),X.hc(5),X.Ib(2),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.view_cols)}}function su(e,t){1&e&&(X.cc(0,"div",124),X.dd(1," \u2022 "),X.bc())}function ru(e,t){if(1&e&&(X.cc(0,"div",121),X.Xb(1,"div",144),X.Xb(2,"cu-view-filter-display",145),X.bd(3,su,2,0,"div",123),X.bc()),2&e){const e=t.$implicit,i=t.index,a=X.uc(3);X.Ib(2),X.Dc("team",a.team)("filter",e),X.Ib(1),X.Dc("ngIf",i!==(null==a.selectedTemplate||null==a.selectedTemplate.template_options||null==a.selectedTemplate.template_options.count_details||null==a.selectedTemplate.template_options.count_details.view_filters?null:a.selectedTemplate.template_options.count_details.view_filters.length)-1&&i!==(null==a.selectedTemplate||null==a.selectedTemplate.filters||null==a.selectedTemplate.filters.fields?null:a.selectedTemplate.filters.fields.length)-1)}}function lu(e,t){if(1&e&&(X.cc(0,"div",111),X.cc(1,"div",112),X.bd(2,ru,4,3,"div",120),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",(null==e.selectedTemplate||null==e.selectedTemplate.template_options||null==e.selectedTemplate.template_options.count_details?null:e.selectedTemplate.template_options.count_details.view_filters)||(null==e.selectedTemplate||null==e.selectedTemplate.filters?null:e.selectedTemplate.filters.fields))("ngForTrackBy",e.trackByProperty)}}function du(e,t){if(1&e){const e=X.dc();X.cc(0,"div",106),X.qc("click",function(){return X.Uc(e),X.uc().toggleDetailsExpanded("view_filters")}),X.cc(1,"div",107),X.cc(2,"span"),X.dd(3),X.bc(),X.dd(4," "),X.gc(5,143),X.dd(6," "),X.Xb(7,"div",109),X.bc(),X.bd(8,lu,3,2,"div",110),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Ob("cu-template-center-selected-template__includes-item-active",null==i.detailsExpandedMap?null:i.detailsExpandedMap.view_filters),X.Ib(3),X.ed(e),X.Ib(2),X.kc(e),X.hc(5),X.Ib(3),X.Dc("ngIf",null==i.detailsExpandedMap?null:i.detailsExpandedMap.view_filters)}}function uu(e,t){1&e&&(X.cc(0,"div",149),X.gc(1,150),X.bc())}function pu(e,t){if(1&e&&X.Xb(0,"img",154),2&e){const e=X.uc(3);X.Dc("src",(null==e.selectedTemplate||null==e.selectedTemplate.creator?null:e.selectedTemplate.creator.profilePicture)||(null==e.backupCreator?null:e.backupCreator.profilePicture),X.Xc)}}function mu(e,t){if(1&e&&(X.cc(0,"div",151),X.bd(1,pu,1,1,"img",152),X.cc(2,"div",153),X.dd(3),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate||null==e.selectedTemplate.creator?null:e.selectedTemplate.creator.profilePicture)||(null==e.backupCreator?null:e.backupCreator.profilePicture)),X.Ib(2),X.fd(" ",(null==e.selectedTemplate||null==e.selectedTemplate.creator?null:e.selectedTemplate.creator.username)||(null==e.backupCreator?null:e.backupCreator.username)," ")}}function hu(e,t){1&e&&(X.cc(0,"div",151),X.Xb(1,"img",155),X.cc(2,"div",153),X.dd(3," ClickUp "),X.bc(),X.bc())}function bu(e,t){if(1&e&&(X.cc(0,"div",146),X.bd(1,uu,2,0,"div",147),X.bd(2,mu,4,2,"div",148),X.bd(3,hu,4,0,"div",148),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate||null==e.selectedTemplate.creator?null:e.selectedTemplate.creator.username)||(null==e.backupCreator?null:e.backupCreator.username)||(null==e.selectedTemplate?null:e.selectedTemplate.clickUp)),X.Ib(1),X.Dc("ngIf",!(null!=e.selectedTemplate&&e.selectedTemplate.clickUp)),X.Ib(1),X.Dc("ngIf",null==e.selectedTemplate?null:e.selectedTemplate.clickUp)}}function gu(e,t){if(1&e&&(X.cc(0,"div",164),X.cc(1,"cu-user-list-dropdown",165),X.Xb(2,"cu-user-group",166),X.bc(),X.bc()),2&e){const e=X.uc(3);X.Ib(1),X.Dc("selectedUsers",null==e.selectedTemplate?null:e.selectedTemplate.template_members)("users",null==e.selectedTemplate?null:e.selectedTemplate.template_members)("disabled",!0),X.Ib(1),X.Dc("users",null==e.selectedTemplate?null:e.selectedTemplate.template_members)("avatarSize",30)("immutableUser",e.user)}}function fu(e,t){1&e&&(X.ac(0),X.gc(1,167),X.Zb())}function _u(e,t){1&e&&(X.ac(0),X.gc(1,168),X.Zb())}function vu(e,t){1&e&&(X.ac(0),X.gc(1,169),X.Zb())}function yu(e,t){1&e&&(X.ac(0),X.gc(1,170),X.Zb())}function wu(e,t){1&e&&(X.ac(0),X.gc(1,171),X.Zb())}function ku(e,t){if(1&e&&(X.cc(0,"div"),X.Yb(1,75),X.bc()),2&e){X.uc(3);const e=X.Rc(55);X.Ib(1),X.Dc("ngTemplateOutlet",e)}}function xu(e,t){if(1&e&&(X.cc(0,"div",69,158),X.cc(2,"div",159),X.bd(3,gu,3,6,"div",160),X.cc(4,"div",161),X.bd(5,fu,2,0,"ng-container",162),X.bd(6,_u,2,0,"ng-container",162),X.bd(7,vu,2,0,"ng-container",162),X.bd(8,yu,2,0,"ng-container",162),X.bd(9,wu,2,0,"ng-container",162),X.bc(),X.Xb(10,"div",163),X.bc(),X.bd(11,ku,2,1,"div",74),X.bc()),2&e){const e=X.uc(2);X.Dc("dropdownPlacement",X.Gc(10,dd))("dropdownCloseOnInsideClick",!1)("dropdownModifierClass","cu-template-center-selected-template__share-dropdown"),X.Ib(3),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.MEMBERS),X.Ib(1),X.Dc("ngSwitch",null==e.selectedTemplate?null:e.selectedTemplate.template_visibility),X.Ib(1),X.Dc("ngSwitchCase",e.TemplateVisibility.ALL),X.Ib(1),X.Dc("ngSwitchCase",e.TemplateVisibility.ADMINS),X.Ib(1),X.Dc("ngSwitchCase",e.TemplateVisibility.ME),X.Ib(1),X.Dc("ngSwitchCase",e.TemplateVisibility.TEAM),X.Ib(1),X.Dc("ngSwitchCase",e.TemplateVisibility.MEMBERS)}}function Tu(e,t){if(1&e&&(X.cc(0,"div",146),X.cc(1,"div",149),X.gc(2,156),X.bc(),X.Xb(3,"div",157),X.bd(4,xu,12,11,"div",15),X.bc()),2&e){const e=X.uc();X.Ib(4),X.Dc("ngIf",e.team.role!==e.UserRole.GUEST)}}function Su(e,t){if(1&e&&(X.cc(0,"div",146),X.cc(1,"div",149),X.gc(2,172),X.bc(),X.cc(3,"div",153),X.dd(4),X.vc(5,"momentDate"),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(4),X.fd(" ",X.xc(5,1,null==e.selectedTemplate?null:e.selectedTemplate.date_created,"MMMM D, YYYY")," ")}}function ju(e,t){if(1&e&&(X.cc(0,"div",146),X.cc(1,"div",149),X.gc(2,173),X.bc(),X.cc(3,"div",153),X.dd(4),X.vc(5,"momentDate"),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(4),X.fd(" ",X.xc(5,1,null==e.selectedTemplate?null:e.selectedTemplate.last_used,"MMMM D, YYYY")," ")}}function Ou(e,t){if(1&e&&(X.cc(0,"div",146),X.cc(1,"div",149),X.gc(2,174),X.bc(),X.cc(3,"div",153),X.dd(4),X.vc(5,"momentDate"),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(4),X.fd(" ",X.xc(5,1,null==e.selectedTemplate?null:e.selectedTemplate.date_updated,"MMMM D, YYYY")," ")}}function Iu(e,t){if(1&e&&(X.cc(0,"div",146),X.cc(1,"div",149),X.dd(2,"USED"),X.bc(),X.cc(3,"div",153),X.dd(4),X.vc(5,"numberTruncate"),X.ac(6),X.gc(7,175),X.Zb(),X.bc(),X.bc()),2&e){const e=t.ngIf;X.Ib(4),X.fd(" ",X.xc(5,2,e,1)," "),X.Ib(3),X.kc(e),X.hc(7)}}function Du(e,t){1&e&&(X.ac(0),X.gc(1,211),X.Zb())}function Cu(e,t){1&e&&(X.ac(0),X.gc(1,212),X.Zb())}function Pu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",201),X.cc(1,"div",202),X.cc(2,"div",203),X.Xb(3,"div",204),X.ac(4),X.gc(5,205),X.Zb(),X.bc(),X.bc(),X.cc(6,"div",206),X.cc(7,"a",207),X.dd(8),X.bc(),X.cc(9,"div",208,209),X.qc("cbOnSuccess",function(){return X.Uc(e),X.Rc(10).setCopied()}),X.bd(11,Du,2,0,"ng-container",81),X.bd(12,Cu,2,0,"ng-template",null,210,X.cd),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.Rc(10),t=X.Rc(13),i=X.uc(3);X.Ib(7),X.Dc("href",i.shareLink,X.Xc),X.Ib(1),X.fd(" ",i.shareLink," "),X.Ib(1),X.Dc("cbContent",i.shareLink),X.Ib(2),X.Dc("ngIf",e.copied)("ngIfElse",t)}}function $u(e,t){if(1&e){const e=X.dc();X.cc(0,"div",179),X.cc(1,"div",195),X.cc(2,"div",196),X.cc(3,"div",197),X.gc(4,198),X.bc(),X.cc(5,"cu-toggle-switch",199),X.qc("onChange",function(t){X.Uc(e);const i=X.uc(2);return i.updateShareSettings((null==i.selectedTemplate?null:i.selectedTemplate.type)===i.TemplateTypes.Doc?{public:t,public_share_expires_on:"0"}:{public_sharing:t})}),X.bc(),X.bc(),X.bd(6,Pu,14,5,"div",200),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(5),X.Dc("checked",(null==e.selectedTemplate?null:e.selectedTemplate.public_sharing)||(null==e.selectedTemplate?null:e.selectedTemplate.public)),X.Ib(1),X.Dc("ngIf",e.shareLink)}}function zu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",179),X.cc(1,"div",213),X.cc(2,"div"),X.cc(3,"div",214),X.gc(4,215),X.bc(),X.cc(5,"div",216),X.gc(6,217),X.bc(),X.bc(),X.cc(7,"button",218),X.qc("click",function(){return X.Uc(e),X.uc(2).onGoToSubmitReview.emit()}),X.gc(8,219),X.bc(),X.bc(),X.bc()}}function Mu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",220),X.cc(1,"div",221),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.shareSettingsDropDown.close(),t.showSaveButton(!1)}),X.gc(2,222),X.bc(),X.bc()}2&e&&X.Dc("@loading",void 0)}function Eu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",176),X.cc(1,"h2",177),X.gc(2,178),X.bc(),X.cc(3,"div",179),X.cc(4,"div",180),X.cc(5,"div",181),X.gc(6,182),X.bc(),X.cc(7,"div",183),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.ME})}),X.gc(8,184),X.bc(),X.cc(9,"div",185),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.ALL})}),X.gc(10,186),X.bc(),X.cc(11,"div",183),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.TEAM})}),X.gc(12,187),X.bc(),X.cc(13,"div",183),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.ADMINS})}),X.gc(14,188),X.bc(),X.cc(15,"div",189),X.qc("click",function(){return X.Uc(e),X.uc().selectMemberVisibility()}),X.ac(16),X.gc(17,190),X.Zb(),X.dd(18,": "),X.cc(19,"cu-user-list-dropdown",191),X.qc("onChange",function(t){return X.Uc(e),X.uc().selectMemberVisibility(t)}),X.cc(20,"cu-user-group",192),X.qc("onUserRemove",function(t){return X.Uc(e),X.uc().removeMember(t)}),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.bd(21,$u,7,2,"div",193),X.bd(22,zu,9,0,"div",193),X.bd(23,Mu,3,1,"div",194),X.bc()}if(2&e){const e=X.uc();X.Ib(7),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.ME),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.ALL),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.TEAM),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.ADMINS),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.MEMBERS),X.Ib(4),X.Dc("multiChoice",!0)("selectedUsers",null==e.selectedTemplate?null:e.selectedTemplate.template_members)("users",e.members)("showUnassign",!0)("immutableUser",e.user),X.Ib(1),X.Dc("showUserRemover",!0)("users",null==e.selectedTemplate?null:e.selectedTemplate.template_members)("assignIcon",!0)("multiChoice",!0)("modifier","cu-user-group_m")("avatarSize",30)("showDropdown",!1)("immutableUser",e.user),X.Ib(1),X.Dc("ngIf",e.canSharePublicly),X.Ib(1),X.Dc("ngIf",e.canSharePublicly),X.Ib(1),X.Dc("ngIf",e.isSaveButton)}}function Lu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",223),X.cc(1,"div",224),X.gc(2,225),X.bc(),X.cc(3,"div",226),X.cc(4,"div",227),X.qc("click",function(){return X.Uc(e),X.uc().deleteTemplate()}),X.gc(5,228),X.bc(),X.cc(6,"div",229),X.qc("click",function(){return X.Uc(e),X.uc().pop.hide()}),X.gc(7,230),X.bc(),X.bc(),X.bc()}}function Au(e,t){1&e&&(X.cc(0,"div",244),X.cc(1,"div",245),X.cc(2,"h2"),X.dd(3,"LEGACY"),X.bc(),X.bc(),X.cc(4,"div",246),X.cc(5,"div",247),X.Xb(6,"div"),X.bc(),X.cc(7,"div",248),X.cc(8,"p"),X.dd(9,"Keep permissions for private items.\xa0"),X.bc(),X.cc(10,"a"),X.dd(11,"Learn more"),X.bc(),X.bc(),X.bc(),X.cc(12,"button"),X.dd(13,"Done"),X.bc(),X.bc()),2&e&&(X.Ib(6),X.Ob("cu-template-center-selected-template__legacy-section-checkbox-active",!0))}function Fu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",231),X.cc(1,"div",232),X.cc(2,"h2",233),X.gc(3,234),X.bc(),X.cc(4,"div",235),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.ME})}),X.gc(5,236),X.bc(),X.cc(6,"div",235),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.ALL})}),X.gc(7,237),X.bc(),X.cc(8,"div",235),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.TEAM})}),X.gc(9,238),X.bc(),X.cc(10,"div",235),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.updateShareSettings({template_visibility:t.TemplateVisibility.ADMINS})}),X.gc(11,239),X.bc(),X.cc(12,"div",240),X.qc("click",function(){return X.Uc(e),X.uc().selectMemberVisibility()}),X.ac(13),X.gc(14,241),X.Zb(),X.dd(15,": "),X.cc(16,"cu-user-list-dropdown",242),X.qc("onChange",function(t){return X.Uc(e),X.uc().selectMemberVisibility(t)}),X.cc(17,"cu-user-group",192),X.qc("onUserRemove",function(t){return X.Uc(e),X.uc().removeMember(t)}),X.bc(),X.bc(),X.bc(),X.bc(),X.bd(18,Au,14,2,"div",243),X.bc()}if(2&e){const e=X.uc();X.Ib(4),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.ME),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.ALL),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.TEAM),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.ADMINS),X.Ib(2),X.Ob("cu-template-center__radio-item-active",(null==e.selectedTemplate?null:e.selectedTemplate.template_visibility)===e.TemplateVisibility.MEMBERS),X.Ib(4),X.Dc("multiChoice",!0)("selectedUsers",null==e.selectedTemplate?null:e.selectedTemplate.template_members)("users",e.members)("showUnassign",!0)("immutableUser",e.user)("showReassign",!1),X.Ib(1),X.Dc("showUserRemover",!0)("users",null==e.selectedTemplate?null:e.selectedTemplate.template_members)("assignIcon",!0)("multiChoice",!0)("modifier","cu-user-group_m")("avatarSize",30)("showDropdown",!1)("immutableUser",e.user),X.Ib(1),X.Dc("ngIf",!1)}}var Uu=function(e){return e[e.MEMBERS=0]="MEMBERS",e[e.ALL=1]="ALL",e[e.ADMINS=2]="ADMINS",e[e.ME=3]="ME",e[e.TEAM=4]="TEAM",e}({});let Nu=(()=>{class e{constructor(e,t,i,a,o,c,n,s,r,l){this.store=e,this.templateService=t,this.templateCenterService=i,this.cdr=a,this.helper=o,this.websocketService=c,this.sharedData=n,this.colorService=s,this.attachmentsViewerService=r,this.savedAutomation=l,this.onUseTemplate=new X.o,this.onClose=new X.o,this.onError=new X.o,this.onUpdateSelectedTemplate=new X.o,this.onStateChange=new X.o,this.onUpdateShareSettings=new X.o,this.onGoToSubmitReview=new X.o,this.onShowToast=new X.o,this.TemplateTypes=Hi.d,this.TemplateVisibility=Uu,this.UserRole=Ie.f,this.templateMembers=[],this.trackByProperty=be.d,this.clickUpTemplateAdded=!1,this.clickUpTemplateJustAdded=null,this.editingDescription=!1,this.editingName=!1,this.canSharePublicly=!1,this.canMakePublic=!1,this.detailsExpandedMap={statuses:!1,custom_fields:!1,tags:!1,click_apps:!1,views:!1,automations:!1,pages:!1,view_cols:!1,view_filters:!1},this.isSaveButton=!1,this.images=[],this.clickUpTemplateLoading=!1,this.imgSliderPosition=0,this.destroy$=new Ee.a,this.project$=this.store.select(me.getProject),this.imageLoading=!1}ngOnInit(){if(this.selectedTemplate&&"number"==typeof this.selectedTemplate.creator&&this.team&&this.team.members){const e=this.team.members.map(e=>e.user),t=e.findIndex(e=>e.id===this.selectedTemplate.creator);-1!==t&&(this.backupCreator=e[t],this.cdr.detectChanges())}if(this.canSharePublicly="view"!==this.selectedTemplate.type,this.initWebsocketListener(),this.attachmentsViewerService.onIndexChange.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.imgSliderPosition=e,this.cdr.detectChanges()}),this.attachmentsViewerService.onClose.pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{const e=document.querySelector(".cu-template-center__modal");e&&(e.style.display="block")}),this.selectedTemplate&&this.selectedTemplate.options&&this.selectedTemplate.options.count_details&&this.selectedTemplate.options.count_details.automations){const e=this.selectedTemplate.type===Hi.d.Space?ce.e.Project:this.selectedTemplate.type===Hi.d.Folder?ce.e.Category:this.selectedTemplate.type===Hi.d.ListInitialType?ce.e.Subcategory:ce.e.Project;this.store.dispatch(Object($r.y)({parent:{id:this.selectedTemplate.original_id,type:e},automations:this.selectedTemplate.options.count_details.automations,shortcuts:[]})),this.automations$=this.savedAutomation.getAutomationsForParent(e,this.selectedTemplate.original_id,!0)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}setLastSelectedTemplate(){this.onlyAllowedTypes&&this.onlyAllowedTypes.length&&!this.onlyAllowedTypes.includes(this.selectedTemplate.type)?this.onShowToast.emit({title:"Failed to use",description:"This template can not be used in your current location.",modifier:"toast__red"}):(this.store.dispatch(ca.m({lastSelectedTemplate:this.selectedTemplate})),(this.fromTaskDraft&&!this.creatingTask||this.returnOnTemplateSelect)&&this.onClose.emit(),this.onUseTemplate.emit())}addTemplateToWorkspace(){this.clickUpTemplateLoading=!0;const e=this.selectedTemplate.options||{};e.copy=!1,e.description=this.selectedTemplate.description,e.name=this.selectedTemplate.name,e.tags=this.selectedTemplate.tags,e.images=this.selectedTemplate.attachments,e.template_visibility=Uu.TEAM,e.team_id=this.team.id;const t={title:"Adding template...",forced:!0},i={titleHtml:`Your template <b class="toast_bold">${this.selectedTemplate.name}</b> has been added.`,timeout:5e3};this.templateCenterService.addPublicTemplateToWorkspace("doc"===this.selectedTemplate.type?"view":this.selectedTemplate.type,this.selectedTemplate.id,e).subscribe(e=>{e&&(this.store.dispatch(ca.i()),this.sharedData.removeToast(t),this.sharedData.addToastItem(i),this.selectedTemplate.type!==Hi.d.View&&this.selectedTemplate.type!==Hi.d.Doc||(this.clickUpTemplateLoading=!1,this.clickUpTemplateAdded=!0,this.clickUpTemplateJustAdded=Object(sr.i)(e,this.selectedTemplate.type)),this.cdr.detectChanges())},e=>{this.onError.emit({ECODE:e.ECODE,err:e.err,timeout:1e4})})}selectMemberVisibility(e){this.selectedTemplate.template_members&&this.selectedTemplate.template_members.length&&!e||(this.updateShareSettings({template_members:this.selectedTemplate.template_members&&!this.selectedTemplate.template_members.length?[this.user]:e,template_visibility:Uu.MEMBERS}),this.showSaveButton(!0))}removeMember(e){const t=this.selectedTemplate.template_members.filter(t=>t.id!==e.id);this.updateShareSettings({template_members:t})}updateShareSettings(e){e.template_visibility&&e.template_visibility!==Uu.MEMBERS&&this.selectedTemplate.template_members&&this.selectedTemplate.template_members.length&&(e.template_members=[]),e.name=this.selectedTemplate.name,this.onUpdateSelectedTemplate.emit({changes:e,originalTemplate:this.selectedTemplate}),this.showSaveButton(!0)}switchClickUpTemplateToTeam(){this.clickUpTemplateJustAdded&&(this.store.dispatch(ca.z({selectedTemplate:this.clickUpTemplateJustAdded})),this.clickUpTemplateAdded=!1,this.clickUpTemplateJustAdded=null)}deleteTemplate(){switch(this.selectedTemplate.type){case Hi.d.List:this.templateService.deleteSubcategoryTemplate(this.selectedTemplate.id).subscribe(()=>{this.refreshAfterDelete()});break;case Hi.d.Folder:this.templateService.deleteCategoryTemplate(this.selectedTemplate.id).subscribe(()=>{this.refreshAfterDelete()});break;case Hi.d.Space:this.templateService.deleteProjectTemplate(this.selectedTemplate.id).subscribe(()=>{this.refreshAfterDelete()});break;case Hi.d.Task:this.templateService.deleteTaskTemplate(this.selectedTemplate.id).subscribe(()=>{this.refreshAfterDelete()});break;case Hi.d.Checklist:this.templateService.deleteChecklistTemplate(this.selectedTemplate.id).subscribe(()=>{this.refreshAfterDelete()});break;case Hi.d.Doc:case Hi.d.View:this.templateService.deleteViewTemplate(this.selectedTemplate.id).subscribe(()=>{this.refreshAfterDelete()})}}refreshAfterDelete(){this.store.dispatch(ca.i()),this.selectedTemplate=null,this.onStateChange.emit(_a.MAIN)}editDescription(e){this.onUpdateSelectedTemplate.emit({changes:{description:e,name:this.selectedTemplate.name},originalTemplate:this.selectedTemplate})}editName(e){this.onUpdateSelectedTemplate.emit({changes:{name:e},originalTemplate:this.selectedTemplate})}toggleDetailsExpanded(e){this.detailsExpandedMap[e]=!this.detailsExpandedMap[e]}showSaveButton(e){this.isSaveButton=e}imageDrop(e){var t,i,a;if(null==e?void 0:e.length)for(let n=0;n<e.length;n++)if(!(null===(t=e[n])||void 0===t?void 0:t.type)||"image/jpeg"!==(null===(i=e[n])||void 0===i?void 0:i.type)&&"image/png"!==(null===(a=e[n])||void 0===a?void 0:a.type))return this.sharedData.addToastItem({title:"One or more file types not supported",bold:!0}),void(this.imageLoading=!1);this.imageLoading=!0;const o=new FileReader;let c=0;for(o.onload=t=>{this.images.push({name:e[c].name,file:t.target.result});const i={name:e[c].name,file:t.target.result};for(this.cdr.detectChanges(),c+=1;e[c]&&"image/jpeg"!==e[c].type&&"image/png"!==e[c].type;)c+=1;e[c]&&o.readAsDataURL(e[c]),this.createImageFormData(i)};c<=e.length&&"image/jpeg"!==e[c].type&&"image/png"!==e[c].type;)c+=1;e[c]&&o.readAsDataURL(e[c])}createImageFormData(e){const t=new FormData;if(t.append("attachment",this.helper.dataURItoBlob(e.file),e.name),t.append("template","true"),this.selectedTemplate!==Hi.d.Task){let e;t.append("parent",this.selectedTemplate.id),t.append("permanent","true"),this.selectedTemplate.type===Hi.d.Space&&(e="4"),this.selectedTemplate.type===Hi.d.Folder&&(e="5"),this.selectedTemplate.type===Hi.d.List&&(e="6"),this.selectedTemplate.type===Hi.d.Task&&(e="1"),this.selectedTemplate.type!==Hi.d.View&&this.selectedTemplate.type!==Hi.d.Doc||(e="8"),t.append("type",e)}this.sendImage(t)}sendImage(e){this.selectedTemplate.type===Hi.d.Task?this.templateCenterService.addTemplateImageTask(e,this.selectedTemplate.id).subscribe(e=>{this.updateImage(e),this.imageLoading=!1}):this.templateCenterService.addTemplateImage(e).subscribe(e=>{this.updateImage(e),this.imageLoading=!1},e=>this.imageLoading=!1)}updateImage(e){const t=this.selectedTemplate.attachments||[];t.unshift(e),this.store.dispatch(ca.L({originalTemplate:this.selectedTemplate,changes:{attachments:t},localOnly:!0}))}deleteImage(){var e,t;if((null===(e=this.user)||void 0===e?void 0:e.id)!==(null===(t=this.selectedTemplate.creator)||void 0===t?void 0:t.id))return void this.sharedData.addToastItem({title:"Only template creators can delete images",bold:!0});const i=this.selectedTemplate.attachments[this.imgSliderPosition];i&&(this.imageLoading=!0,this.templateCenterService.deleteTemplateAttachment(i.id).subscribe(e=>{var t;const a=((null===(t=this.selectedTemplate)||void 0===t?void 0:t.attachments)||[]).filter(e=>e.id!==i.id);this.imgSliderPosition=(null==a?void 0:a.length)?this.imgSliderPosition-1<0?0:this.imgSliderPosition-1:0,this.store.dispatch(ca.L({originalTemplate:this.selectedTemplate,changes:{attachments:a},localOnly:!0})),this.imageLoading=!1},e=>this.imageLoading=!1))}initWebsocketListener(){this.websocketService.onChange.pipe(Object(Ge.a)(e=>e&&("projectCopyComplete"===e.type||"categoryCopyComplete"===e.type||"subcategoryCopyComplete"===e.type||"taskCopyComplete"===e.type)),Object(Re.a)(this.destroy$)).subscribe(e=>{if(e.payload){let t=null;this.selectedTemplate.type===Hi.d.Space&&(t=e.payload.project),this.selectedTemplate.type===Hi.d.Folder&&(t=e.payload.category),this.selectedTemplate.type===Hi.d.List&&(t=e.payload.subcat),this.selectedTemplate.type===Hi.d.Task&&(t=e.payload.task),t&&(this.clickUpTemplateLoading=!1,this.clickUpTemplateAdded=!0,this.clickUpTemplateJustAdded=Object(sr.i)(t,this.selectedTemplate.type),this.cdr.detectChanges())}})}slideImageLeft(){0===this.imgSliderPosition?this.imgSliderPosition=this.selectedTemplate.attachments.length-1:this.imgSliderPosition-=1}slideImageRight(){this.imgSliderPosition===this.selectedTemplate.attachments.length-1?this.imgSliderPosition=0:this.imgSliderPosition+=1}editTags(e){if("addTag"===e.action){const t=this.tags.findIndex(t=>t.name.toLowerCase()===e.data.name.toLowerCase());this.store.dispatch(-1===t?ca.b({tag:{name:e.data.name,color:this.colorService.randomColor()}}):ca.a({tag:e.data,templateType:this.selectedTemplate.type,template:this.selectedTemplate}))}if("removeTag"===e.action&&this.store.dispatch(ca.p({tag:e.data,templateType:this.selectedTemplate.type,template:this.selectedTemplate})),"deleteTag"===e.action&&(-1!==this.selectedTemplate.tags.findIndex(t=>t.id===e.data.id)&&this.store.dispatch(ca.p({tag:e.data,templateType:this.selectedTemplate.type,template:this.selectedTemplate})),this.store.dispatch(ca.c({tagId:e.data.id}))),"renameTag"===e.action){const t=this.selectedTemplate.tags.findIndex(t=>t.id===e.data.tag.id);-1!==t&&(this.selectedTemplate.tags[t].name=e.data.newName),this.store.dispatch(ca.d({changes:{name:e.data.newName},tagId:e.data.tag.id}))}if("changeColorTag"===e.action){const t=this.selectedTemplate.tags.findIndex(t=>t.id===e.data.tag.id);-1!==t&&(this.selectedTemplate.tags[t].color=e.data.newColor,this.selectedTemplate.tags[t].tag_fg=e.data.newColor,this.selectedTemplate.tags[t].tag_bg=e.data.newColor),this.store.dispatch(ca.d({changes:{color:e.data.newColor},tagId:e.data.tag.id}))}}openImages(){const e=this.selectedTemplate.attachments.map(e=>!e.thumbnail_large&&e.url?Object.assign(Object.assign({},e),{thumbnail_large:e.url}):e);this.attachmentsViewerService.onOpen.emit({attachments:e,canRemove:!1,canRemoveOwn:!1,canEdit:!1,canEditOwn:!1,canChangeDescription:!1,index:this.imgSliderPosition,taskId:null,coverImage:null,hideCoverImage:!1,allowComments:!1})}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(jr.a),X.Wb(Sr),X.Wb(X.h),X.Wb($a.b),X.Wb(Ca.WebsocketService),X.Wb(fe.a),X.Wb(zr.a),X.Wb(Ja.a),X.Wb($r.u))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-selected-template"]],viewQuery:function(e,t){if(1&e&&(X.jd(Xl,1),X.jd(Hl,1),X.jd(Yl,1),X.jd(Zl,1)),2&e){let e;X.Qc(e=X.rc())&&(t.pop=e.first),X.Qc(e=X.rc())&&(t.settingsWithLegacyDropDown=e.first),X.Qc(e=X.rc())&&(t.shareSettingsDropDown=e.first),X.Qc(e=X.rc())&&(t.uploader=e.first)}},hostAttrs:[1,"cu-template-center-selected-template"],hostVars:18,hostBindings:function(e,t){2&e&&X.Ob("cu-template-center-selected-template__clickup",t.selectedTemplate&&t.selectedTemplate.clickUp)("cu-template-center-selected-template__space",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Space)("cu-template-center-selected-template__folder",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Folder)("cu-template-center-selected-template__list",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.List)("cu-template-center-selected-template__view",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.View)("cu-template-center-selected-template__doc",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Doc)("cu-template-center-selected-template__task",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Task)("cu-template-center-selected-template__checklist",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Checklist)("cu-template-center-selected-template__filter",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Filter)},inputs:{selectedTemplate:"selectedTemplate",user:"user",members:"members",creatingTask:"creatingTask",fromTaskDraft:"fromTaskDraft",team:"team",shareLink:"shareLink",returnOnTemplateSelect:"returnOnTemplateSelect",onlyAllowedTypes:"onlyAllowedTypes",tags:"tags"},outputs:{onUseTemplate:"onUseTemplate",onClose:"onClose",onError:"onError",onUpdateSelectedTemplate:"onUpdateSelectedTemplate",onStateChange:"onStateChange",onUpdateShareSettings:"onUpdateShareSettings",onGoToSubmitReview:"onGoToSubmitReview",onShowToast:"onShowToast"},decls:56,vars:44,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w,k,x,T,S,j,O,I,D,C,P,$,z,M,E,L,A,F,U,N,R,G,q,B,W,V,H,Y,Z,Q,K,J,ee,te,ie,ae,oe,ce,ne,se,re,le,de,ue,pe,me,he;return e=$localize`:@@common_use-template␟a712548263d72548d861a70b0474e090eed747ad␟5123878955405346202: Use Template `,t=$localize`:@@cu-template-center-selected-template__template-includes␟c583f4167635c70ff7af9d46d8cdcb7b7d5bfe40␟2121191855528913958: Template includes `,i=$localize`:@@cu-template-center-selected-template__image-controls-delete-tooltip␟f7692461111e9696aa44d99ec0d78d56148e0225␟4251408097030609942:Delete image`,a=$localize`:@@cu-template-center-selected-template__form-placeholder_drop-image␟57ca6d6c3f3717415932548a2ef8955ce80f33ce␟5107627177559851519: Drop Image `,o=$localize`:@@cu-template-center-selected-template__no-preview-images␟ada003106ed486c44a91591ece5463a87d70eccf␟4927694611056500495: No preview images `,c=$localize`:@@cu-template-center-selected-template__drop-preview-images␟def40593bc3941056ccfecd33dbf1caeaa0f0376␟8451880996235485239: Drop preview images here, or `,n=$localize`:@@common_browse-1␟fdd449c5207598786ad2bb42d36b26881972cbcb␟7074201294407537716: browse `,s=$localize`:@@cu-template-center-selected-template__supports-jpg-jpeg-png␟b16ae3e8c1f17295e348a220ef56eea16cef1709␟4245710906258000376: Supports: JPG, JPEG, PNG `,r=$localize`:@@common_share␟0bd8b27f60a1f098a53e06328426d818e3508ff9␟7419704019640008953:Share`,l=$localize`:@@common_tags-1␟746a3b8851a895b1ca07c8779e2b509001a06c58␟3187872417035591018:TAGS`,d=$localize`:@@template-center_use-cases-1␟b9846dffa7ccc5e155e9edaef544b5e0b6d4ae65␟4070186256682365961:USE CASES`,u=$localize`:@@cu-template-center-selected-template__add-to-workspace␟138543910010c3b8b5f2b2d34a8b738479ffaefb␟4590872114675117565: Add to workspace `,p=$localize`:@@cu-template-center-selected-template__view-template␟18a3e5e290e7975f065a903fb0348ad53d66208a␟3540363924161035904: View Template ${"\ufffd#2\ufffd"}:START_TAG_DIV:${"\ufffd/#2\ufffd"}:CLOSE_TAG_DIV:`,m=$localize`:@@cu-template-center-selected-template__delete-template␟a66853ab5a30ba289c61a814609f99ca6859d0aa␟5690359790534830337: Delete template `,h=$localize`:␟86660591a6dcf8e54062f891cc9fb37e37e868a0␟6868115704589174039:{VAR_PLURAL, plural, =1 {status group} other {status groups}}`,h=X.lc(h,{VAR_PLURAL:"\ufffd0\ufffd"}),b=$localize`:@@cu-template-center-selected-template__status-groups␟0afca936e12d2139c43936c5eccb625e69f7920f␟4350911121829263404: ${h}:ICU: `,g=$localize`:␟076eee4259d61aa05680050f28d4b6603eff01aa␟6562795954966226550:{VAR_PLURAL, plural, =1 {custom field} other {custom fields}}`,g=X.lc(g,{VAR_PLURAL:"\ufffd1\ufffd"}),f=$localize`:@@cu-template-center-selected-template__cf-count␟8146331d264fe1019a8128ea62bd8fdb54ee1d1e␟3324807275460130757:${"\ufffd#4\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN: ${g}:ICU: `,_=$localize`:␟c1a5bf1268043b625385b136dff7e8bde41527d1␟6142341906687906694:{VAR_PLURAL, plural, =1 {tag} other {tags}}`,_=X.lc(_,{VAR_PLURAL:"\ufffd1\ufffd"}),v=$localize`:@@cu-template-center-selected-template__tag-count␟bbf6098e25243868397b5e6c748da8abd7279336␟6067508610313497734:${"\ufffd#4\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN: ${_}:ICU: `,y=$localize`:␟45055fda6b0d7555692bf97db2245624424775ab␟3435155354213785721:{VAR_PLURAL, plural, =1 {clickapp} other {clickapps}}`,y=X.lc(y,{VAR_PLURAL:"\ufffd1\ufffd"}),w=$localize`:@@cu-template-center-selected-template__clickapp-count␟1b4995fe4e24d3e6b089ddeaad20b79cfb056653␟1189485322901109877:${"\ufffd#4\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN: ${y}:ICU: `,k=$localize`:␟8237ebe7120956f714e8027943ff3945d29bd468␟8376635621010360819:{VAR_PLURAL, plural, =1 {view type} other {view types}}`,k=X.lc(k,{VAR_PLURAL:"\ufffd0\ufffd"}),x=$localize`:@@cu-template-center-selected-template_view-types␟2284054c8fd2be15e120e636f927d95a9c84d5cd␟2618519795902568096: ${k}:ICU: `,T=$localize`:@@common_view␟6829218544e108e152f5fa72cb79c4ccb82e0d06␟2509141182388535183:View`,S=$localize`:␟6b689389bcaef94a9c7a500fb87b813788b50e2e␟680210792297233023:{VAR_PLURAL, plural, =1 {automation} other {automations}}`,S=X.lc(S,{VAR_PLURAL:"\ufffd1\ufffd"}),j=$localize`:@@cu-template-center-selected-template__automations-count␟aa49393f6b620f4deea96a4be6f581268e30bb95␟6816898909948304585:${"\ufffd#4\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN: ${S}:ICU: `,O=$localize`:␟b990186168184e3f19602166d3b8eba2838d52f7␟1274757099004285897:{VAR_PLURAL, plural, =1 {page} other {pages}}`,O=X.lc(O,{VAR_PLURAL:"\ufffd0\ufffd"}),I=$localize`:@@cu-template-center-selected-template__page-pluralization␟dcf639631190af8e5808bb3676b2a19ce3b975ec␟2760575918330260528: ${O}:ICU: `,D=$localize`:@@cu-template-center-selected-template__no-name␟c48a9a4ba7b5bd36da51ee6c0c5e1be56cfce4a0␟7808875955560345586: No name `,C=$localize`:␟bdbf1a0bf387bd8608de5b2a2860a86e8ab80899␟8174284835087989240:{VAR_PLURAL, plural, =1 {column} other {columns}}`,C=X.lc(C,{VAR_PLURAL:"\ufffd0\ufffd"}),P=$localize`:@@cu-template-center-selected-template__columns␟6f5a491c4de43f52eab0e623cf9f7a2adfac8015␟2028491174085533143: ${C}:ICU: `,$=$localize`:␟6e481d4650038e1a7c1af46090220e5e6955a72a␟6326871961740680358:{VAR_PLURAL, plural, =1 {filter} other {filters}}`,$=X.lc($,{VAR_PLURAL:"\ufffd0\ufffd"}),z=$localize`:@@common_created-by-1␟d69b9ebbdd25bc470a7af90ba93bc58531489da1␟1930256472519410167: CREATED BY `,M=$localize`:@@cu-template-center-selected-template__shared-with␟4ef4702e3b50b2c668dc9783d3302a61ddca40c1␟8970208940108532855: SHARED WITH `,E=$localize`:@@common_everyone␟c9c244a40379eeada47e953694d6a582b9a43cdf␟6809742047104646686: Everyone `,L=$localize`:@@common_admins␟cc46bf44241bdabd57870868e5b7250b326a9a12␟1741149390919568776: Admins `,A=$localize`:@@common_me␟d9311ba438893af9b6350b983811f602a1a2994e␟6937868287819735248: Me `,F=$localize`:@@common_all-members␟cdc9d23ae71ded5cf58bc1b3a3149f8b3b3d1b1c␟5856579429114334290: All Members `,U=$localize`:@@common_select-people␟8e97b290aa71b7c00d83893c0dfbae4bcfed4c27␟3703384280591120998: Select People `,N=$localize`:@@cu-template-center-selected-template__created-date␟7c6f67af7dc841d67cb9ca0b845c2431a58a6308␟7245172130214135295: CREATED DATE `,R=$localize`:@@cu-template-center-selected-template__last-used␟ef14a02c17690c1e382db8345de764fbe03b5901␟8900802722757585364: LAST USED `,G=$localize`:@@cu-template-center-selected-template__last-updated␟a0bfe112804683fe0177b4d41463aadc44909eb3␟8217045593950063944: LAST UPDATED `,q=$localize`:@@cu-template-center-selected-template__time-count␟4e39b749d218a4294db699a7f6cff0562b923257␟2724585662480843928:{VAR_PLURAL, plural, =1 {time} other {times}}`,q=X.lc(q,{VAR_PLURAL:"\ufffd0\ufffd"}),B=$localize`:@@cu-template-center-selected-template__share-template␟0d46c18a8845d69f5644f9dca8a5ddf89a8e0258␟1339858059588563923: Share Template `,W=$localize`:@@cu-template-center-selected-template__workspace-sharing␟32dc3e2629298735a0c7feeeacb3603e59328625␟4126112855296413313: Workspace Sharing `,V=$localize`:@@common_only-me␟27192e4d466a3e1ba2c6a7a6fd09e4957553d002␟1215293897890448155: Only Me `,H=$localize`:@@cu-template-center-selected-template__everyone-with-guests␟82edbe4cc263944547bbb23d70830d47203d7100␟5275579114683052478: Everyone (including guests) `,Y=$localize`:@@common_all-members␟3b5f6af54cabebd0e5e2f36e70997092b55d0f58␟1723537785936166633: All Members `,Z=$localize`:@@common_admins␟b8a87e1389e93f2ea8fc3a53c106843b48258bd3␟2174562256319201951: Admins `,Q=$localize`:@@forms_label--select-people␟b920b62530e405278b339e8e9c355fbab7c39976␟6184856106007865608:Select people`,K=$localize`:@@common_public-sharing␟410be762be6506363f7251886976c71130b14a5b␟4717131039464513103: Public sharing `,J=$localize`:@@common_public-link␟ef9ca33dee0c7f8e96e779bf1ce93dab98389c74␟3514392455302562535:Public link`,ee=$localize`:@@common_copied␟501c37ede010e2df9eb7b59ca7d6ac3d73ce146c␟5392341774767336507:Copied!`,te=$localize`:@@common_copy-link␟4954fe49190be1ec2fbfbc10aae294701a75bd55␟2618101617221155143:Copy link`,ie=$localize`:@@cu-template-center-selected-template__share-with-community␟de66ce97cad95ca854e326b2dda967ff994e136f␟2963615035821244609: Share with Community `,ae=$localize`:@@cu-template-center-selected-template__share-with-community-description␟559fd4e3e314fe0ff6dfe076ac45b1542c6dee08␟738019635399894722: Share what you've created with the ClickUp community and help everyone become more productive. `,oe=$localize`:@@cu-template-center-selected-template__share-with-community␟9e32f3b7f0512c8b4041dc74984778db22b3868f␟7458233512005947392: Share with community `,ce=$localize`:@@common_save␟f8b53b407af242e77dc3391947f23988f3451e64␟4024825301968853407: Save `,ne=$localize`:@@cu-template-center-selected-template__confirm-delete␟69dccf8c0cf927aea8b686f7618809656b972aaf␟855145519239942652: Are you sure you want to delete this template? `,se=$localize`:@@common_delete␟d7acc4c320f2cec1d3d4e86dfa25ac5f5e6783b9␟1666678130153550098: Delete `,re=$localize`:@@common_cancel␟a5433ae2324496bea9537caa5e8a2719d8e958d8␟4134917114666618814: Cancel `,le=$localize`:@@cu-template-center-selected-template__shared-with-1␟32844b3db52c5956932bf5ca2a9daf3ee1ccfebe␟3386799452576353408: Shared With `,de=$localize`:@@common_only-me␟91055716464decd035e6310d786cbc33a45b70c5␟4426417178521709749: Only Me `,ue=$localize`:@@cu-template-center-selected-template__everyone-with-guests␟6f6336295cb590f433944327d801ad3f2037274d␟4047171495843753787: Everyone (including guests) `,pe=$localize`:@@common_all-members␟632c9bc4751dfc0a4652a9157fef333443bd2ec8␟7930610498426840991: All Members `,me=$localize`:@@common_admins␟102783544bad71b81df65e88a8553b0d328486c5␟3165202227498731399: Admins `,he=$localize`:@@forms_label--select-people␟b920b62530e405278b339e8e9c355fbab7c39976␟6184856106007865608:Select people`,[[1,"cu-template-center-selected-template__top"],["cuDropArea","","cuDropUploader","",1,"cu-template-center-selected-template__image"],["class","cu-template-center-selected-template__image-loader",4,"ngIf"],["class","cu-template-center-selected-template__image-controls",4,"ngIf"],["class","cu-template-center-selected-template__image-dropzone","cuDropArea","",3,"ondrop",4,"ngIf"],["class","cu-template-center-selected-template__image-cover",3,"ngStyle","click",4,"ngIf"],["class","cu-template-center-selected-template__image-none",4,"ngIf"],["class","cu-template-center-selected-template__image-arrow cu-template-center-selected-template__image-arrow-left","icon","cu2-angle-right",3,"click",4,"ngIf"],["class","cu-template-center-selected-template__image-arrow cu-template-center-selected-template__image-arrow-right","icon","cu2-angle-right",3,"click",4,"ngIf"],["class","cu-template-center-selected-template__image-dots",4,"ngIf"],[1,"cu-template-center-selected-template__info"],[1,"cu-template-center-selected-template__info-top"],[1,"cu-template-center-selected-template__info-type"],[3,"icon"],[1,"cu-template-center-selected-template__info-type-text"],["cuDropdown","",3,"dropdownPlacement","dropdownCloseOnInsideClick","dropdownModifierClass",4,"ngIf"],["class","cu-template-center-selected-template__info-name cu-template-center-selected-template__info-name-editable",3,"text","editing","autosize","allowEmpty","onChange","onCancel","click",4,"ngIf"],["class","cu-template-center-selected-template__info-name cu-template-center-selected-template__info-name-clickup",4,"ngIf"],["class","cu-template-center-selected-template__info-experience-level",4,"ngIf"],["class","cu-template-center-selected-template__info-desc cu-template-center-selected-template__info-desc-editable",3,"cu-template-center-selected-template__info-desc-empty","text","editing","autosize","allowEmpty","multiline","onChange","onCancel","click",4,"ngIf"],["class","cu-template-center-selected-template__info-desc cu-template-center-selected-template__info-desc-clickup",4,"ngIf"],["class","cu-template-center-selected-template__info-tags",4,"ngIf"],[1,"cu-template-center-selected-template__info-actions"],[1,"cu-template-center-selected-template__info-use-template",3,"click"],e,["class","cu-template-center-selected-template__info-use-template cu-template-center-selected-template__info-use-template-clickup",3,"click",4,"ngIf"],["class","cu-template-center-selected-template__info-use-template cu-template-center-selected-template__info-use-template-clickup cu-template-center-selected-template__info-use-template-clickup-added",3,"click",4,"ngIf"],["containerClass","popover_white","triggers","","container","body","placement","top","class","cu-template-center-selected-template__info-use-template cu-template-center-selected-template__info-use-template-delete",3,"popover","outsideClick","click",4,"ngIf"],[1,"cu-template-center-selected-template__bot"],[1,"cu-template-center-selected-template__includes",3,"perfectScrollbar"],[1,"cu-template-center-selected-template__includes-header"],t,["class","cu-template-center-selected-template__includes-item-none",4,"ngIf"],["class","cu-template-center-selected-template__includes-item",3,"cu-template-center-selected-template__includes-item-active","click",4,"ngIf"],[1,"cu-template-center-selected-template__data",3,"perfectScrollbar"],["class","cu-template-center-selected-template__data-item",4,"ngIf"],["shareSettingsTemplate",""],["popTemplate",""],["shareSettingsWithLeggacyTemplate",""],[1,"cu-template-center-selected-template__image-loader"],[1,"cu-template-center-selected-template__image-controls"],["class","cu-template-center-selected-template__image-controls-add",3,"cuTooltip",4,"ngIf"],["cuTooltip",i,1,"cu-template-center-selected-template__image-controls-delete",3,"click"],["icon","cu2-trash-alt"],[1,"cu-template-center-selected-template__image-controls-add",3,"cuTooltip"],["for","upload-image2"],["icon","cu2-plus"],["id","upload-image2","type","file",3,"change"],["cuDropArea","",1,"cu-template-center-selected-template__image-dropzone",3,"ondrop"],a,[1,"cu-template-center-selected-template__image-cover",3,"ngStyle","click"],[1,"cu-template-center-selected-template__image-none"],["icon","cu2-image-placeholder"],[1,"cu-template-center-selected-template__image-none-text"],o,["class","cu-template-center-selected-template__image-hover",4,"ngIf"],[1,"cu-template-center-selected-template__image-hover"],[1,"cu-template-center-selected-template__image-hover-top"],c,["for","upload-image"],n,["id","upload-image","type","file",3,"change"],[1,"cu-template-center-selected-template__image-hover-bot"],s,["icon","cu2-angle-right",1,"cu-template-center-selected-template__image-arrow","cu-template-center-selected-template__image-arrow-left",3,"click"],["icon","cu2-angle-right",1,"cu-template-center-selected-template__image-arrow","cu-template-center-selected-template__image-arrow-right",3,"click"],[1,"cu-template-center-selected-template__image-dots"],["class","cu-template-center-selected-template__image-dot",3,"cu-template-center-selected-template__image-dot-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-selected-template__image-dot",3,"click"],["cuDropdown","",3,"dropdownPlacement","dropdownCloseOnInsideClick","dropdownModifierClass"],["shareSettingsDropDown","dropdown"],["cuDropdownToggle","",1,"cu-template-center-selected-template__info-share"],["icon","cu2-share-3"],r,[4,"cuDropdownMenu"],[3,"ngTemplateOutlet"],[1,"cu-template-center-selected-template__info-name","cu-template-center-selected-template__info-name-editable",3,"text","editing","autosize","allowEmpty","onChange","onCancel","click"],[1,"cu-template-center-selected-template__info-name","cu-template-center-selected-template__info-name-clickup"],[1,"cu-template-center-selected-template__info-experience-level"],[1,"cu-template-center-selected-template__info-desc","cu-template-center-selected-template__info-desc-editable",3,"text","editing","autosize","allowEmpty","multiline","onChange","onCancel","click"],[1,"cu-template-center-selected-template__info-desc","cu-template-center-selected-template__info-desc-clickup"],[4,"ngIf","ngIfElse"],["noDescription",""],[1,"cu-template-center-selected-template__info-tags"],[1,"cu-template-center-selected-template__info-row"],[1,"cu-template-center-selected-template__info-row-label"],l,[1,"cu-template-center-selected-template__info-row-tags"],["cuPreventDefault","","cu-task-row-tags","",3,"tags","value","taskId","projectId","disabled","manageTags","canAddTag","canRemoveTag","canManageTag","onlyDeleteIfOwner","canDelete","userId","projectAccess","readOnly","showFilter","forTemplates","onChange"],["class","cu-template-center-selected-template__info-row",4,"ngIf"],d,[1,"cu-template-center-selected-template__info-row-use-cases"],["class","cu-template-center-selected-template__info-row-use-case",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-selected-template__info-row-use-case"],[1,"cu-template-center-selected-template__info-use-template","cu-template-center-selected-template__info-use-template-clickup",3,"click"],[4,"ngIf"],["class","cu-template-center-selected-template__info-use-template-clickup-loading",4,"ngIf"],u,[1,"cu-template-center-selected-template__info-use-template-clickup-loading"],[1,"cu-template-center-selected-template__info-use-template","cu-template-center-selected-template__info-use-template-clickup","cu-template-center-selected-template__info-use-template-clickup-added",3,"click"],p,["icon","cu2-angle-right"],["containerClass","popover_white","triggers","","container","body","placement","top",1,"cu-template-center-selected-template__info-use-template","cu-template-center-selected-template__info-use-template-delete",3,"popover","outsideClick","click"],["pop","bs-popover"],m,[1,"cu-template-center-selected-template__includes-item-none"],[1,"cu-template-center-selected-template__includes-item",3,"click"],[1,"cu-template-center-selected-template__includes-item-top"],b,["icon","cu2-angle-right",1,"cu-template-center-selected-template__includes-item-top-icon"],["class","cu-template-center-selected-template__includes-item-bot",4,"ngIf"],[1,"cu-template-center-selected-template__includes-item-bot"],[1,"cu-template-center-selected-template__includes-item-bot-items"],["class","cu-template-center-selected-template__includes-item-bot-item cu-template-center-selected-template__includes-item-bot-item-status-group",3,"cuTooltip",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-selected-template__includes-item-bot-item","cu-template-center-selected-template__includes-item-bot-item-status-group",3,"cuTooltip"],["class","cu-template-center-selected-template__includes-item-bot-item-status-group-bubble",3,"backgroundColor",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-template-center-selected-template__includes-item-bot-item-status-group-more-count",4,"ngIf"],[1,"cu-template-center-selected-template__includes-item-bot-item-status-group-bubble"],[1,"cu-template-center-selected-template__includes-item-bot-item-status-group-more-count"],f,["class","cu-template-center-selected-template__includes-item-bot-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-selected-template__includes-item-bot-item"],[1,"cu-template-center-selected-template__includes-item-bot-item-name"],["class","cu-template-center-selected-template__includes-item-bot-item-spacer",4,"ngIf"],[1,"cu-template-center-selected-template__includes-item-bot-item-spacer"],v,["class","cu-template-center-selected-template__includes-item-bot-item cu-template-center-selected-template__includes-item-bot-item-tag",3,"color",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-selected-template__includes-item-bot-item","cu-template-center-selected-template__includes-item-bot-item-tag"],[1,"cu-template-center-selected-template__includes-item-bot-item-tag-name"],w,x,["class","cu-template-center-selected-template__includes-item-bot-item cu-template-center-selected-template__includes-item-bot-item-view",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-selected-template__includes-item-bot-item","cu-template-center-selected-template__includes-item-bot-item-view"],[1,"cu-template-center-selected-template__includes-item-bot-item-icon",3,"icon"],T,j,["class","cu-template-center-selected-template__includes-item-bot-item-automation-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-selected-template__includes-item-bot-item-automation-row"],[1,"cu-template-center-selected-template__includes-item-bot-item","cu-template-center-selected-template__includes-item-bot-item-automation"],[3,"automation"],I,D,P,$,["icon","filter",1,"cu-template-center-selected-template__includes-item-bot-item-icon"],[3,"team","filter"],[1,"cu-template-center-selected-template__data-item"],["class","cu-template-center-selected-template__data-label",4,"ngIf"],["class","cu-template-center-selected-template__data-creator",4,"ngIf"],[1,"cu-template-center-selected-template__data-label"],z,[1,"cu-template-center-selected-template__data-creator"],[3,"src",4,"ngIf"],[1,"cu-template-center-selected-template__data-text"],[3,"src"],["src","assets/images/brand/clickup-symbol_color.svg"],M,[1,"cu-template-center-selected-template__data-shared-with-container"],["settingsWithLegacyDropDown","dropdown"],["cuDropdownToggle","",1,"cu-template-center-selected-template__share-dropdown-toggle"],["class","cu-template-center-selected-template__data-shared-with",4,"ngIf"],[1,"cu-template-center-selected-template__data-shared-with","cu-template-center-selected-template__data-label-shared-with",3,"ngSwitch"],[4,"ngSwitchCase"],["icon","cu2-angle-down-2"],[1,"cu-template-center-selected-template__data-shared-with"],[1,"cu-template-center__select-users",3,"selectedUsers","users","disabled"],[3,"users","avatarSize","immutableUser"],E,L,A,F,U,N,R,G,q,[1,"cu-template-center-selected-template__share-settings"],[1,"cu-template-center-selected-template__share-settings-title"],B,[1,"cu-template-center__option-section"],[1,"cu-template-center__radio-container","cu-template-center__radio-container_label"],[1,"cu-template-center__radio-container-label"],W,[1,"cu-template-center__radio-item",3,"click"],V,[1,"cu-template-center__radio-item","cu-template-center__radio-item-margin-right",3,"click"],H,Y,Z,[1,"cu-template-center__radio-item","cu-template-center__radio-item-users",3,"click"],Q,[1,"cu-template-center__select-users",3,"multiChoice","selectedUsers","users","showUnassign","immutableUser","onChange"],[3,"showUserRemover","users","assignIcon","multiChoice","modifier","avatarSize","showDropdown","immutableUser","onUserRemove"],["class","cu-template-center__option-section",4,"ngIf"],["class","cu-btn-container",4,"ngIf"],[1,"cu-template-center__option-split-container"],[1,"cu-template-center__option-toggle-section","cu-template-center__option-toggle-section-no-border"],[1,"cu-template-center__option-toggle-section-text"],K,[3,"checked","onChange"],["class","cu-template-center__option-link-section",4,"ngIf"],[1,"cu-template-center__option-link-section"],[1,"cu-template-center__option-link-section-top"],[1,"cu-template-center__option-link-section-label"],["icon","cu2-link",1,"cu-template-center__option-link-section-label-icon"],J,[1,"cu-template-center__option-link-section-contents"],["target","_blank",1,"cu-template-center__option-link-section-contents-text",3,"href"],["ngxClipboard","","cuClipboardCopied","",1,"cu-template-center__option-link-section-copy",3,"cbContent","cbOnSuccess"],["clipboardHelper","cuClipboardCopied"],["copyLinkTmpl",""],ee,te,[1,"cu-template-center-selected-template__submit-review"],[1,"cu-template-center-selected-template__submit-review-text"],ie,[1,"cu-template-center-selected-template__submit-review-description"],ae,[1,"cu-btn","cu-btn_sm","cu-btn_cancel-outline",3,"click"],oe,[1,"cu-btn-container"],[1,"cu-btn","cu-btn_sm","cu-template-center-selected-template__save",3,"click"],ce,[1,"cu-template-center-selected-template__remove-warning"],[1,"cu-template-center-selected-template__remove-warning-text"],ne,[1,"cu-template-center-selected-template__remove-warning-buttons"],[1,"cu-template-center-selected-template__remove-warning-button","pink",3,"click"],se,[1,"cu-template-center-selected-template__remove-warning-button",3,"click"],re,[1,"cu-template-center-selected-template__share-with"],[1,"cu-template-center-selected-template__share-with-section"],[1,"cu-template-center-selected-template__share-with-title"],le,[1,"cu-template-center__radio-item","cu-template-center-selected-template__share-with-item",3,"click"],de,ue,pe,me,[1,"cu-template-center__radio-item","cu-template-center__radio-item-users","cu-template-center-selected-template__share-with-item",3,"click"],he,[3,"multiChoice","selectedUsers","users","showUnassign","immutableUser","showReassign","onChange"],["class","cu-template-center-selected-template__legacy-section",4,"ngIf"],[1,"cu-template-center-selected-template__legacy-section"],[1,"cu-template-center-selected-template__legacy-section-title"],[1,"cu-template-center-selected-template__legacy-section-item"],[1,"cu-template-center-selected-template__legacy-section-checkbox"],[1,"cu-template-center-selected-template__legacy-section-text"]]},template:function(e,t){1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.bd(2,Ql,2,0,"div",2),X.bd(3,Jl,4,1,"div",3),X.bd(4,ed,2,0,"div",4),X.bd(5,id,1,3,"div",5),X.bd(6,od,5,1,"div",6),X.bd(7,cd,1,0,"div",7),X.bd(8,nd,1,0,"div",8),X.bd(9,rd,2,2,"div",9),X.bc(),X.cc(10,"div",10),X.cc(11,"div",11),X.cc(12,"div",12),X.Xb(13,"div",13),X.bc(),X.cc(14,"div",14),X.dd(15),X.bc(),X.bd(16,ud,7,4,"div",15),X.bc(),X.bd(17,pd,2,5,"cu-editable",16),X.bd(18,md,2,1,"div",17),X.bd(19,hd,5,4,"div",18),X.bd(20,bd,2,8,"cu-editable",19),X.bd(21,_d,4,2,"div",20),X.bd(22,wd,10,19,"div",21),X.cc(23,"div",22),X.cc(24,"div",23),X.qc("click",function(){return t.setLastSelectedTemplate()}),X.gc(25,24),X.bc(),X.bd(26,Td,3,2,"div",25),X.bd(27,Sd,3,0,"div",26),X.bd(28,jd,3,2,"div",27),X.bc(),X.bc(),X.bc(),X.cc(29,"div",28),X.cc(30,"div",29),X.cc(31,"div",30),X.gc(32,31),X.bc(),X.bd(33,Od,4,1,"div",32),X.bd(34,$d,8,5,"div",33),X.bd(35,Ld,7,5,"div",33),X.bd(36,Ud,7,5,"div",33),X.bd(37,qd,7,5,"div",33),X.bd(38,Xd,8,5,"div",33),X.bd(39,Zd,7,5,"div",33),X.bd(40,iu,8,5,"div",33),X.bd(41,nu,8,5,"div",33),X.bd(42,du,9,5,"div",33),X.bc(),X.cc(43,"div",34),X.bd(44,bu,4,3,"div",35),X.bd(45,Tu,5,1,"div",35),X.bd(46,Su,6,4,"div",35),X.bd(47,ju,6,4,"div",35),X.bd(48,Ou,6,4,"div",35),X.bd(49,Iu,8,5,"div",35),X.bc(),X.bc(),X.bd(50,Eu,24,26,"ng-template",null,36,X.cd),X.bd(52,Lu,8,0,"ng-template",null,37,X.cd),X.bd(54,Fu,19,25,"ng-template",null,38,X.cd)),2&e&&(X.Ob("cu-template-center-selected-template__top-bg",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)),X.Ib(1),X.Ob("cu-template-center-selected-template__image-empty",!(null!=t.selectedTemplate&&null!=t.selectedTemplate.attachments&&t.selectedTemplate.attachments.length))("cu-template-center-selected-template__image-clickup",null==t.selectedTemplate?null:t.selectedTemplate.clickUp),X.Ib(1),X.Dc("ngIf",t.imageLoading),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.attachments?null:t.selectedTemplate.attachments.length),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.attachments?null:t.selectedTemplate.attachments.length),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&null!=t.selectedTemplate.attachments&&t.selectedTemplate.attachments.length)),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate||null==t.selectedTemplate.attachments?null:t.selectedTemplate.attachments.length)>1),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate||null==t.selectedTemplate.attachments?null:t.selectedTemplate.attachments.length)>1),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate||null==t.selectedTemplate.attachments?null:t.selectedTemplate.attachments.length)>1),X.Ib(3),X.Ob("cu-template-center-selected-template__info-type-view",(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.View),X.Ib(1),X.Dc("icon",null!=t.selectedTemplate&&t.selectedTemplate.icon?null==t.selectedTemplate?null:t.selectedTemplate.icon:(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Space?"template-type-space":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Folder?"template-type-folder":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.List?"template-type-list":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.View?"template-type-view":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Doc?"template-type-doc":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Task?"template-type-task":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Checklist?"template-type-checklist":"template-type-filter"),X.Ib(2),X.fd(" ",(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Space?"Space":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Folder?"Folder":(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.List?"List":null==t.selectedTemplate?null:t.selectedTemplate.type," "),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)&&t.team.role!==t.UserRole.GUEST),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)&&t.team.role!==t.UserRole.GUEST),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.clickUp)||t.team.role===t.UserRole.GUEST),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.clickUp)&&(null==t.selectedTemplate?null:t.selectedTemplate.public_tags)&&(null==t.selectedTemplate?null:t.selectedTemplate.public_tags[0])),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)&&t.team.role!==t.UserRole.GUEST),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.clickUp)||t.team.role===t.UserRole.GUEST),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)),X.Ib(4),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.clickUp)&&!t.clickUpTemplateAdded),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.clickUp)&&t.clickUpTemplateAdded),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)),X.Ib(5),X.Dc("ngIf",!(null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.statuses||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.custom_fields||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.tags||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.click_apps||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.views||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.automations||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.pages||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.view_cols||null!=t.selectedTemplate&&null!=t.selectedTemplate.counts&&t.selectedTemplate.counts.view_filters||null!=t.selectedTemplate&&null!=t.selectedTemplate.columns&&t.selectedTemplate.columns.fields||null!=t.selectedTemplate&&null!=t.selectedTemplate.filters&&t.selectedTemplate.filters.fields||null!=t.selectedTemplate&&null!=t.selectedTemplate.options&&null!=t.selectedTemplate.options.count_details&&null!=t.selectedTemplate.options.count_details.automations&&t.selectedTemplate.options.count_details.automations.length||null!=t.selectedTemplate&&null!=t.selectedTemplate.options&&null!=t.selectedTemplate.options.count_details&&null!=t.selectedTemplate.options.count_details.custom_fields&&t.selectedTemplate.options.count_details.custom_fields.length||null!=t.selectedTemplate&&null!=t.selectedTemplate.options&&null!=t.selectedTemplate.options.count_details&&null!=t.selectedTemplate.options.count_details.statuses&&t.selectedTemplate.options.count_details.statuses.length||null!=t.selectedTemplate&&null!=t.selectedTemplate.options&&null!=t.selectedTemplate.options.count_details&&null!=t.selectedTemplate.options.count_details.tags&&t.selectedTemplate.options.count_details.tags.length||null!=t.selectedTemplate&&null!=t.selectedTemplate.options&&null!=t.selectedTemplate.options.count_details&&null!=t.selectedTemplate.options.count_details.viewTypes&&t.selectedTemplate.options.count_details.viewTypes.length||null!=t.selectedTemplate&&null!=t.selectedTemplate.options&&null!=t.selectedTemplate.options.count_details&&null!=t.selectedTemplate.options.count_details.views&&t.selectedTemplate.options.count_details.views.length)),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.statuses),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.custom_fields),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.tags),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.click_apps),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.options||null==t.selectedTemplate.options.count_details||null==t.selectedTemplate.options.count_details.viewTypes?null:t.selectedTemplate.options.count_details.viewTypes.length),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.automations),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.pages),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.view_cols)||(null==t.selectedTemplate||null==t.selectedTemplate.columns||null==t.selectedTemplate.columns.fields?null:t.selectedTemplate.columns.fields.length)),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate||null==t.selectedTemplate.counts?null:t.selectedTemplate.counts.view_filters)||(null==t.selectedTemplate||null==t.selectedTemplate.filters||null==t.selectedTemplate.filters.fields?null:t.selectedTemplate.filters.fields.length)),X.Ib(2),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.creator)||t.backupCreator||(null==t.selectedTemplate?null:t.selectedTemplate.clickUp)),X.Ib(1),X.Dc("ngIf",!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate?null:t.selectedTemplate.date_created),X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.last_used)&&!(null!=t.selectedTemplate&&t.selectedTemplate.clickUp)),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate?null:t.selectedTemplate.date_updated),X.Ib(1),X.Dc("ngIf",null==t.selectedTemplate?null:t.selectedTemplate.used_count))},directives:[Mr.a,Er.a,n.q,Qe.a,er.a,Ze.a,Lr.a,n.t,n.p,Ar.b,Fr.a,Ur.a,n.x,Nr.a,Rr.a,m.c,Gr.a,Nl,n.u,n.v,Rl.a,qr.a,Gl.a,Na.a,ql.a],pipes:[n.n,n.b,n.B,Bl,n.A,Wl.a,Br.a,Xr.a,Vl],styles:['.cu-template-center-selected-template{display:flex;flex-direction:column;flex-grow:1;max-height:calc(100% - 58px)}.cu-template-center-selected-template__top{height:360px;width:100%;display:flex;justify-content:space-between;padding:24px}.cu-template-center-selected-template__top-bg{background-color:#fff}.dark-theme .cu-template-center-selected-template__top-bg{background-color:#2b343b}.cu-template-center-selected-template__bot{border-top:1px solid #e9ebf0;flex-grow:1;width:100%;background-color:#fafbfc;display:flex;align-items:center;justify-content:space-between;overflow:hidden;max-height:calc(100vh - 505px)}.dark-theme .cu-template-center-selected-template__bot{border-color:#1e272e;background-color:#384047}.cu-template-center-selected-template__image{width:49%;display:flex;align-items:center;justify-content:center;background:#fafbfc;border-radius:6px;position:relative}.cu-template-center-selected-template__image:hover .cu-template-center-selected-template__image-controls{opacity:1}.cu-template-center-selected-template__image-loader{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.cu-template-center-selected-template__image-controls{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;right:8px;top:8px;display:flex;align-items:center;opacity:0}.cu-template-center-selected-template__image-controls-delete .icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#fd71af;height:16px;width:16px;cursor:pointer}.cu-template-center-selected-template__image-controls-delete .icon:hover{fill:var(--theme-main-color)}.cu-template-center-selected-template__image-controls-add{margin-right:5px}.cu-template-center-selected-template__image-controls-add input{display:none}.cu-template-center-selected-template__image-controls-add .icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#b9bec7;height:16px;width:16px;cursor:pointer;padding:2px}.cu-template-center-selected-template__image-controls-add .icon:hover{fill:var(--theme-main-color)}.cu-template-center-selected-template__image.cu-state-drag-over .cu-template-center-selected-template__image-dropzone{display:flex}.cu-template-center-selected-template__image-dropzone{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;display:none;position:absolute;top:0;left:0;right:0;bottom:0;z-index:1000;width:100%;height:100%;background:var(--theme-main-color);border-radius:6px;align-items:center;justify-content:center;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__image-dropzone{font-family:var(--global-font-support)}}.cu-template-center-selected-template__image-uploader{display:none}.cu-template-center-selected-template__image-input-container{margin-left:5px}.cu-template-center-selected-template__image-empty{position:relative}.cu-template-center-selected-template__image-empty:before{content:"";position:absolute;top:16px;left:16px;height:calc(100% - 32px);width:calc(100% - 32px);border-radius:4px;border:1px dashed #e9ebf0;pointer-events:none;opacity:0}.dark-theme .cu-template-center-selected-template__image-empty:before{border-color:#1e272e}.cu-template-center-selected-template__image:hover .cu-template-center-selected-template__image-none-text{display:none}.cu-template-center-selected-template__image:hover .cu-template-center-selected-template__image-hover{display:block}.cu-template-center-selected-template__image:hover.cu-template-center-selected-template__image-empty:before{opacity:1}.cu-template-center-selected-template__image:hover.cu-template-center-selected-template__image-clickup .cu-template-center-selected-template__image-hover,.cu-template-center-selected-template__image:hover.cu-template-center-selected-template__image-clickup:before{display:none}.cu-template-center-selected-template__image-hover{text-align:center;display:none}.cu-template-center-selected-template__image-hover-top{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;color:#292d34;padding-bottom:10px;display:flex}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__image-hover-top{font-family:var(--global-font-support)}}.cu-template-center-selected-template__image-hover-top input{display:none}.cu-template-center-selected-template__image-hover-top span{font-weight:500;color:var(--theme-main-color);cursor:pointer;padding-left:5px}.cu-template-center-selected-template__image-hover-top span:hover{text-decoration:underline}.dark-theme .cu-template-center-selected-template__image-hover-top{color:#828588}.cu-template-center-selected-template__image-hover-bot{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__image-hover-bot{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__image{background:#384047}.cu-template-center-selected-template__image-cover{width:calc(100% - 62px);height:calc(100% - 62px);background:50% no-repeat;background-size:cover;cursor:pointer}.cu-template-center-selected-template__image-none{display:flex;align-items:center;justify-content:center;flex-direction:column}.cu-template-center-selected-template__image-none .icon{width:60px;height:48px;fill:#b9bec7;margin-bottom:28px}.cu-template-center-selected-template__image-none-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__image-none-text{font-family:var(--global-font-support)}}.cu-template-center-selected-template__image-arrow{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:50%;transform:translateY(-50%);cursor:pointer;height:22px;width:22px;fill:rgba(0,0,0,.2)}.dark-theme .cu-template-center-selected-template__image-arrow{fill:hsla(0,0%,100%,.5)}.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image-arrow{fill:hsla(0,0%,100%,.2)}.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image-arrow:hover{fill:hsla(0,0%,100%,.5)}.cu-template-center-selected-template__image-arrow:hover{fill:rgba(0,0,0,.5)}.dark-theme .cu-template-center-selected-template__image-arrow:hover{fill:hsla(0,0%,100%,.8)}.cu-template-center-selected-template__image-arrow-left{left:4px;transform:rotate(180deg)}.cu-template-center-selected-template__image-arrow-right{right:4px}.cu-template-center-selected-template__image-dots{position:absolute;left:0;right:0;margin:0 auto;display:flex;align-items:center;justify-content:center;bottom:8px}.cu-template-center-selected-template__image-dot{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;height:8px;width:8px;border-radius:2px;margin:4px;cursor:pointer;opacity:.25}.cu-template-center-selected-template__image-dot:hover{transform:scale(1.2)}.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image-dot{background-color:hsla(0,0%,100%,.2)}.cu-template-center-selected-template__image-dot-active{opacity:1}.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image-dot-active{background-color:#fff}.cu-template-center-selected-template__space .cu-template-center-selected-template__image-dot{background-color:#1aaee1}.cu-template-center-selected-template__folder .cu-template-center-selected-template__image-dot{background-color:#fd71af}.cu-template-center-selected-template__list .cu-template-center-selected-template__image-dot{background-color:#ffc800}.cu-template-center-selected-template__view .cu-template-center-selected-template__image-dot{background-color:#00b888}.cu-template-center-selected-template__doc .cu-template-center-selected-template__image-dot{background-color:#57f}.cu-template-center-selected-template__task .cu-template-center-selected-template__image-dot{background-color:#7b68ee}.cu-template-center-selected-template__checklist .cu-template-center-selected-template__image-dot{background-color:#6bc950}.cu-template-center-selected-template__filter .cu-template-center-selected-template__image-dot{background-color:#fd7171}.cu-template-center-selected-template__info{width:49%;height:100%;display:flex;flex-direction:column}.cu-template-center-selected-template__info-top{display:flex;align-items:center;width:100%;margin-bottom:16px}.cu-template-center-selected-template__info-type{width:36px;height:36px;display:flex;align-items:center;justify-content:center;margin-right:8px;border-radius:6px}.cu-template-center-selected-template__space .cu-template-center-selected-template__info-type{background-color:#1aaee1}.cu-template-center-selected-template__folder .cu-template-center-selected-template__info-type{background-color:#fd71af}.cu-template-center-selected-template__list .cu-template-center-selected-template__info-type{background-color:#ffc800}.cu-template-center-selected-template__view .cu-template-center-selected-template__info-type{background-color:#00b888}.cu-template-center-selected-template__doc .cu-template-center-selected-template__info-type{background-color:#57f}.cu-template-center-selected-template__task .cu-template-center-selected-template__info-type{background-color:#7b68ee}.cu-template-center-selected-template__checklist .cu-template-center-selected-template__info-type{background-color:#6bc950}.cu-template-center-selected-template__filter .cu-template-center-selected-template__info-type{background-color:#fd7171}.cu-template-center-selected-template__info-type .icon{width:16px;height:16px;fill:#fff}.cu-template-center-selected-template__info-type-view .icon{stroke:#fff}.cu-template-center-selected-template__info-type-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;text-transform:uppercase;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-type-text{font-family:var(--global-font-support)}}.cu-template-center-selected-template__space .cu-template-center-selected-template__info-type-text{color:#1aaee1}.cu-template-center-selected-template__folder .cu-template-center-selected-template__info-type-text{color:#fd71af}.cu-template-center-selected-template__list .cu-template-center-selected-template__info-type-text{color:#ffc800}.cu-template-center-selected-template__view .cu-template-center-selected-template__info-type-text{color:#00b888}.cu-template-center-selected-template__doc .cu-template-center-selected-template__info-type-text{color:#57f}.cu-template-center-selected-template__task .cu-template-center-selected-template__info-type-text{color:#7b68ee}.cu-template-center-selected-template__checklist .cu-template-center-selected-template__info-type-text{color:#6bc950}.cu-template-center-selected-template__filter .cu-template-center-selected-template__info-type-text{color:#fd7171}.cu-template-center-selected-template__info-share{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;display:flex;align-items:center;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-share{font-family:var(--global-font-support)}}.cu-template-center-selected-template__info-share:hover{color:var(--theme-main-color)}.cu-template-center-selected-template__info-share:hover .icon{fill:var(--theme-main-color)}.cu-template-center-selected-template__info-share .icon{height:12px;width:12px;margin-right:5px;fill:#b9bec7}.cu-template-center-selected-template__info-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1.2;margin-bottom:8px;color:#292d34;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-name{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__info-name{color:#d5d6d7}.cu-template-center-selected-template__info-name input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1.2;background:transparent!important;color:#292d34;cursor:text}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-name input{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__info-name input{color:#d5d6d7}.cu-template-center-selected-template__info-name-editable{cursor:pointer}.cu-template-center-selected-template__info-name-editable:after{content:"";position:absolute;left:-8px;top:-5px;width:calc(100% + 16px);height:calc(100% + 10px);pointer-events:none;border:1px solid #e9ebf0;border-radius:4px;opacity:0}.dark-theme .cu-template-center-selected-template__info-name-editable:after{border-color:#1e272e}.cu-template-center-selected-template__info-name-editable:hover:after{opacity:1}.cu-template-center-selected-template__info-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;color:#292d34;display:flex;flex-grow:1;position:relative;overflow:hidden;margin-bottom:24px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-desc{font-family:var(--global-font-support)}}.cu-template-center-selected-template__info-desc-editable{cursor:pointer}.cu-template-center-selected-template__info-desc-editable:after{content:"";position:absolute;left:-8px;top:-5px;width:calc(100% + 16px);height:calc(100% + 10px);pointer-events:none;border:1px solid #e9ebf0;border-radius:4px;opacity:0}.dark-theme .cu-template-center-selected-template__info-desc-editable:after{border-color:#1e272e}.cu-template-center-selected-template__info-desc-editable:hover:after{opacity:1}.cu-template-center-selected-template__info-desc-clickup{cursor:default}.dark-theme .cu-template-center-selected-template__info-desc{color:#d5d6d7}.cu-template-center-selected-template__info-desc-empty:before{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;content:"Add description";position:absolute;color:#292d34;left:0;top:1px;opacity:.7;font-style:italic}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-desc-empty:before{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__info-desc-empty:before{color:#d5d6d7}.cu-template-center-selected-template__info-desc textarea{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:24px;background:transparent!important;color:#292d34;cursor:text}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-desc textarea{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__info-desc textarea{color:#d5d6d7}.cu-template-center-selected-template__info-experience-level{display:flex}.cu-template-center-selected-template__info-experience-level>*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:13px;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-experience-level>*{font-family:var(--global-font-support)}}.cu-template-center-selected-template__info-experience-level .icon{height:12px;width:12px;fill:#fff;opacity:.5;margin:0 6px 16px 0}.cu-template-center-selected-template__info-row{display:flex;align-items:center;margin-bottom:24px}.cu-template-center-selected-template__info-row-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:rgba(0,0,0,.5);margin-right:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-row-label{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__info-row-label{color:hsla(0,0%,100%,.5)}.cu-template-center-selected-template__info-row-use-cases{display:flex;align-items:center;flex-wrap:wrap}.cu-template-center-selected-template__info-row-use-case{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#fff;height:18px;padding:0 6px;border-radius:3px;background:hsla(0,0%,100%,.2);margin-right:6px;display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-row-use-case{font-family:var(--global-font-support)}}.cu-template-center-selected-template__info-actions{display:flex;align-items:center}.cu-template-center-selected-template__info-use-template{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:4px;width:120px;height:36px;cursor:pointer;margin-right:12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__info-use-template{font-family:var(--global-font-support)}}.cu-template-center-selected-template__info-use-template.cu-template-center-selected-template__info-use-template-clickup{color:#fff!important;background-color:rgba(0,0,0,.1)!important;width:150px!important;position:relative}.cu-template-center-selected-template__info-use-template.cu-template-center-selected-template__info-use-template-clickup .icon{position:absolute;right:5px;top:50%;transform:translateY(-50%);fill:#fff;width:20px;height:20px}.cu-template-center-selected-template__info-use-template.cu-template-center-selected-template__info-use-template-clickup-added{justify-content:flex-start;padding-left:15px}.cu-template-center-selected-template__info-use-template.cu-template-center-selected-template__info-use-template-clickup cu-loader{position:absolute}.cu-template-center-selected-template__info-use-template.cu-template-center-selected-template__info-use-template-clickup cu-loader .cu-btn__spinner>div{background-color:#fff!important}.cu-template-center-selected-template__info-use-template:hover{transform:scale(1.1)}.cu-template-center-selected-template__space .cu-template-center-selected-template__info-use-template{background-color:#1aaee1}.cu-template-center-selected-template__folder .cu-template-center-selected-template__info-use-template{background-color:#fd71af}.cu-template-center-selected-template__list .cu-template-center-selected-template__info-use-template{background-color:#ffc800}.cu-template-center-selected-template__view .cu-template-center-selected-template__info-use-template{background-color:#00b888}.cu-template-center-selected-template__doc .cu-template-center-selected-template__info-use-template{background-color:#57f}.cu-template-center-selected-template__task .cu-template-center-selected-template__info-use-template{background-color:#7b68ee}.cu-template-center-selected-template__checklist .cu-template-center-selected-template__info-use-template{background-color:#6bc950}.cu-template-center-selected-template__filter .cu-template-center-selected-template__info-use-template{background-color:#fd7171}.cu-template-center-selected-template__info-use-template-delete{color:#d16464;background:none!important}.cu-template-center-selected-template__share-dropdown-toggle{display:flex;align-items:center}.cu-template-center-selected-template__share-dropdown-toggle .icon{width:12px;height:12px;padding:2px;fill:#292d34}.dark-theme .cu-template-center-selected-template__share-dropdown-toggle .icon{fill:#d5d6d7}.cu-template-center-selected-template__share-dropdown-toggle:hover .icon{fill:var(--theme-main-color)}.cu-template-center-selected-template__share-dropdown-toggle:hover .cu-template-center-selected-template__data-label-shared-with{color:var(--theme-main-color)!important;border-color:var(--theme-main-color)}.cu-dropdown_open>.cu-template-center-selected-template__share-dropdown-toggle>.icon{transform:rotate(180deg)}.cu-template-center-selected-template__share-dropdown-toggle .cu-user-group .cu-user-group__more_lg.cu-user-group__more_lg{height:30px;width:30px;margin-right:12px}.cu-template-center-selected-template__includes{border-right:1px solid #e9ebf0;height:100%;flex-grow:1;padding:24px}.dark-theme .cu-template-center-selected-template__includes{border-color:#1e272e}.cu-template-center-selected-template__includes-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#292d34;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-header{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__includes-header{color:#d5d6d7}.cu-template-center-selected-template__includes-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;display:flex;flex-direction:column;margin-bottom:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-item{font-family:var(--global-font-support)}}.cu-template-center-selected-template__includes-item-none{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;padding-top:2px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-item-none{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__includes-item-none{color:#d5d6d7}.cu-template-center-selected-template__includes-item-none span{text-transform:capitalize;color:#292d34}.dark-theme .cu-template-center-selected-template__includes-item-none span{color:#d5d6d7}.cu-template-center-selected-template__includes-item-top{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;width:100%;height:44px;border-radius:4px;border:1px solid #e9ebf0;background:#fff;padding:0 12px;text-transform:uppercase;color:#7c828d;cursor:pointer}.dark-theme .cu-template-center-selected-template__includes-item-top{background:#2b343b;color:#828588}.cu-template-center-selected-template__includes-item-top span{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#292d34;padding-right:5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-item-top span{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__includes-item-top span{color:#d5d6d7}.dark-theme .cu-template-center-selected-template__includes-item-top{border-color:#1e272e}.cu-template-center-selected-template__includes-item-top-icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:auto;fill:#7c828d;height:12px;width:12px}.cu-template-center-selected-template__includes-item-top-icon:hover{transition:none}.dark-theme .cu-template-center-selected-template__includes-item-top-icon{fill:#828588}.cu-template-center-selected-template__includes-item-top:hover{color:var(--theme-main-color)}.cu-template-center-selected-template__includes-item-top:hover .cu-template-center-selected-template__includes-item-top-icon{fill:var(--theme-main-color)}.cu-template-center-selected-template__includes-item-top:hover span{color:var(--theme-main-color)}.cu-template-center-selected-template__includes-item-bot{width:100%;display:flex;align-items:center;border-radius:0 0 4px 4px;border:1px solid #e9ebf0;border-top:none;background:transparent;padding:18px;color:#7c828d}.dark-theme .cu-template-center-selected-template__includes-item-bot{border-color:#1e272e}.cu-template-center-selected-template__includes-item-bot-items{display:flex;align-items:flex-end;flex-wrap:wrap;margin-bottom:-10px}.cu-template-center-selected-template__includes-item-bot-item{display:flex;align-items:center;margin-right:12px;margin-bottom:10px}.cu-template-center-selected-template__includes-item-bot-item-icon{fill:#292d34;height:14px;width:14px;margin-right:10px}.dark-theme .cu-template-center-selected-template__includes-item-bot-item-icon{fill:#d5d6d7}.cu-template-center-selected-template__includes-item-bot-item-view .cu-template-center-selected-template__includes-item-bot-item-icon{stroke:#292d34}.dark-theme .cu-template-center-selected-template__includes-item-bot-item-view .cu-template-center-selected-template__includes-item-bot-item-icon{stroke:#d5d6d7}.cu-template-center-selected-template__includes-item-bot-item-status .cu-template-center-selected-template__includes-item-bot-item-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;text-transform:uppercase}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-item-bot-item-status .cu-template-center-selected-template__includes-item-bot-item-name{font-family:var(--global-font-support)}}.cu-template-center-selected-template__includes-item-bot-item-spacer{margin-left:12px;color:#7c828d}.dark-theme .cu-template-center-selected-template__includes-item-bot-item-spacer{color:#828588}.cu-template-center-selected-template__includes-item-bot-item-bubble{height:10px;width:10px;border-radius:2px;margin-right:10px}.cu-template-center-selected-template__includes-item-bot-item-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-item-bot-item-name{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__includes-item-bot-item-name{color:#d5d6d7}.cu-template-center-selected-template__includes-item-bot-item-status-group{background:#fff;border:1px solid #e9ebf0;padding:0 6px;display:flex;align-items:center;height:24px;border-radius:3px}.dark-theme .cu-template-center-selected-template__includes-item-bot-item-status-group{background:#384047;border-color:#1e272e}.cu-template-center-selected-template__includes-item-bot-item-status-group-bubble{width:7px;height:7px;margin-right:4px;border-radius:2px}.cu-template-center-selected-template__includes-item-bot-item-status-group-bubble:last-of-type{margin-right:0}.cu-template-center-selected-template__includes-item-bot-item-status-group-more-count{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#b9bec7}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-item-bot-item-status-group-more-count{font-family:var(--global-font-support)}}.cu-template-center-selected-template__includes-item-bot-item-tag{display:flex;align-items:center;justify-content:center;min-width:50px;max-width:100px;height:18px;border-radius:3px 10px 10px 3px;margin-right:12px;overflow:hidden;position:relative}.cu-template-center-selected-template__includes-item-bot-item-tag:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;background-color:currentColor;opacity:.15}.dark-theme .cu-template-center-selected-template__includes-item-bot-item-tag:before{opacity:1}.cu-template-center-selected-template__includes-item-bot-item-tag-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:10px;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;padding:0 8px;color:currentColor!important;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__includes-item-bot-item-tag-name{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__includes-item-bot-item-tag-name{color:#fff!important}.cu-template-center-selected-template__includes-item-bot-item-automation{margin:0 6px 0 0}.cu-template-center-selected-template__includes-item-bot-item-automation .cu-template-center-selected-template__includes-item-bot-item-spacer{margin-left:2px}.cu-template-center-selected-template__includes-item-bot-item-automation-row{width:100%;display:flex;align-items:center;margin:4px 0;min-height:24px}.cu-template-center-selected-template__includes-item-bot-item-automation-row .cu-automation-field-value-assignees .cu-edit-automation__container-body-actions-row{min-height:0}.cu-template-center-selected-template__includes-item-bot-item-automation-row .cu-automation-field-value_stretch>:nth-child(2){font-size:12px}.cu-template-center-selected-template__includes-item-bot-item-automation-row .cu-automation-field-value-comment{width:auto}.cu-template-center-selected-template__includes-item-active .cu-template-center-selected-template__includes-item-top-icon{transform:rotate(90deg)}.cu-template-center-selected-template__data{width:266px;min-width:266px;height:100%;padding:24px}.cu-template-center-selected-template__data-item{margin-bottom:24px}.cu-template-center-selected-template__data-item .cu-user-list-dropdown{margin:0}.cu-template-center-selected-template__data-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#7c828d;padding-bottom:12px;display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__data-label{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__data-label{color:#828588}.cu-template-center-selected-template__data-label .cu-template-center-selected-template__info-share{padding-bottom:4px}.cu-template-center-selected-template__data-label .icon{margin-left:6px}.cu-template-center-selected-template__data-label-shared-with{cursor:pointer;position:relative;border-bottom:1px solid #e9ebf0;display:inline-block}.dark-theme .cu-template-center-selected-template__data-label-shared-with{border-color:#d5d6d7}.cu-template-center-selected-template__data-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__data-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__data-text{color:#d5d6d7}.cu-template-center-selected-template__data-creator{display:flex;align-items:center}.cu-template-center-selected-template__data-creator img{width:30px;height:30px;border-radius:50%;margin-right:10px}.cu-template-center-selected-template__data-shared-with{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__data-shared-with{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__data-shared-with{color:#d5d6d7}.cu-template-center-selected-template__data-shared-with-container{display:flex;align-items:center}.cu-template-center-selected-template__data-shared-with-container:hover .cu-template-center-selected-template__info-share{opacity:1}.cu-template-center-selected-template__data-shared-with-container .cu-template-center-selected-template__info-share{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:6px;opacity:0}.cu-template-center-selected-template__share-settings{width:550px;padding:24px}.cu-template-center-selected-template__share-settings-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:18px;line-height:1;margin-bottom:25px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__share-settings-title{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__share-settings-title{color:#d5d6d7}.cu-template-center-selected-template__submit-review{border:1px solid #e9ebf0;border-radius:4px;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background-color:#fff}.dark-theme .cu-template-center-selected-template__submit-review{border-color:#1e272e;background-color:#384047}.cu-template-center-selected-template__submit-review-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__submit-review-text{font-family:var(--global-font-support)}}.cu-template-center-selected-template__submit-review-description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1.3;margin-top:8px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__submit-review-description{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__submit-review-description{color:#abaeb0}.cu-template-center-selected-template__submit-review .cu-btn{flex-shrink:0;margin-left:20px}.cu-template-center-selected-template__share-with{width:275px;padding:12px}.cu-template-center-selected-template__share-with-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;margin-bottom:25px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__share-with-title{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-selected-template__share-with-title{color:#d5d6d7}.cu-template-center-selected-template__share-with-section{padding:12px 12px 0}.cu-template-center-selected-template__share-with-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__share-with-item{font-family:var(--global-font-support)}}.cu-template-center-selected-template__share-with-item:last-of-type{margin-top:-10px}.cu-template-center-selected-template__legacy-section-checkbox{border:1px solid grey;width:18px;height:18px;padding:3px;box-sizing:border-box;border-radius:3px;flex:0 0 auto}.cu-template-center-selected-template__legacy-section-checkbox-active{height:100%;width:100%;border-radius:2px;background:red}.cu-template-center-selected-template__legacy-section-item{display:flex;margin:16px 0 32px}.cu-template-center-selected-template__legacy-section-title{display:flex}.cu-template-center-selected-template__legacy-section-title h2{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__legacy-section-title h2{font-family:var(--global-font-support)}}.cu-template-center-selected-template__legacy-section-title .icon{width:11px;height:11px;margin-left:5px}.cu-template-center-selected-template__legacy-section-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;margin-left:12px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__legacy-section-text{font-family:var(--global-font-support)}}.cu-template-center-selected-template__legacy-section-text p{display:inline}.cu-template-center-selected-template__legacy-section{padding:0 12px}.cu-template-center-selected-template__legacy-section button{width:100%;height:36px;border-radius:4px;border:none;background:var(--theme-main-color);color:#fff}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__space .cu-template-center-selected-template__top{background-color:#1aaee1}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__space .cu-template-center-selected-template__info-use-template{color:#1aaee1}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__folder .cu-template-center-selected-template__top{background-color:#fd71af}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__folder .cu-template-center-selected-template__info-use-template{color:#fd71af}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__list .cu-template-center-selected-template__top{background-color:#ffc800}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__list .cu-template-center-selected-template__info-use-template{color:#ffc800}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__view .cu-template-center-selected-template__top{background-color:#00b888}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__view .cu-template-center-selected-template__info-use-template{color:#00b888}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__doc .cu-template-center-selected-template__top{background-color:#57f}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__doc .cu-template-center-selected-template__info-use-template{color:#57f}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__task .cu-template-center-selected-template__top{background-color:#7b68ee}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__task .cu-template-center-selected-template__info-use-template{color:#7b68ee}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__checklist .cu-template-center-selected-template__top{background-color:#6bc950}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__checklist .cu-template-center-selected-template__info-use-template{color:#6bc950}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__filter .cu-template-center-selected-template__top{background-color:#fd7171}.cu-template-center-selected-template.cu-template-center-selected-template__clickup.cu-template-center-selected-template__filter .cu-template-center-selected-template__info-use-template{color:#fd7171}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image,.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-type{background-color:rgba(0,0,0,.1)}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-use-template{background-color:#fff}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-tags-label{color:hsla(0,0%,100%,.5)}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image-none-text,.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-desc,.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-name,.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-share,.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-type-text{color:#fff}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu2-image-placeholder,.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image-none .icon,.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-share .icon{fill:#fff}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-desc span{color:#fff}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__image-none-text{display:block!important}.cu-template-center-selected-template.cu-template-center-selected-template__clickup .cu-template-center-selected-template__info-row-label{color:#fff}.cu-template-center-selected-template__remove-warning{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:12px;padding:10px 0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-selected-template__remove-warning{font-family:var(--global-font-support)}}.cu-template-center-selected-template__remove-warning-text{padding-bottom:12px}.cu-template-center-selected-template__remove-warning-buttons{display:flex;justify-content:center}.cu-template-center-selected-template__remove-warning-button{text-align:center;cursor:pointer}.cu-template-center-selected-template__remove-warning-button:hover{text-decoration:underline}.cu-template-center-selected-template__remove-warning-button.pink{color:#fd71af;margin-right:10px}.cu-template-center-selected-template__save{margin-left:auto;width:140px}.cu-template-center-selected-template .cu-tags-view__icon{display:flex}.cu-template-center-selected-template .cu-automation-field-value-assignees,.cu-template-center-selected-template .cu-edit-automation__container-body-actions-row{display:flex;align-items:center}.cu-template-center-selected-template .cu-automation-label__default,.cu-template-center-selected-template .cu-automation-label__strong,.cu-template-center-selected-template .cu-edit-automation__container-body-actions-label{font-size:12px}.cu-template-center-selected-template .cu-automation-field-value-user{margin-left:5px}.cu-template-center-selected-template .cu-automation-field-value-user .cu-avatar{width:24px;height:24px}'],encapsulation:2,data:{animation:[Qt.e]},changeDetection:0}),e})();var Ru=i("nNpr");let Gu=(()=>{class e{transform(e){return e?$localize`:@@pipe_hierarchy-type-filter-tooltip:Change your search or filters to discover ${e}:typeName: templates.`:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"hierarchyTypeFilterTooltip",type:e,pure:!0}),e})(),qu=(()=>{class e{transform(e){return"project"===e?"Space":"category"===e?"Folder":"subcategory"===e?"List":e.charAt(0).toUpperCase()+e.slice(1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"hierarchyTextPipe",type:e,pure:!0}),e})(),Bu=(()=>{class e{transform(e){return e?$localize`:@@pipe_public-tag-tooltip:Update your search or filters to find ${e.toLowerCase()}:tagName: templates.`:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"publicTagTooltip",type:e,pure:!0}),e})();const Wu=["sidebarScrollBar"];function Vu(e,t){1&e&&(X.cc(0,"div",7),X.Xb(1,"cu-loader"),X.bc())}function Xu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",10),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.updateTab(t.TemplateCenterTab.TEAM)}),X.Xb(1,"cu-team-avatar",11),X.cc(2,"div",12),X.dd(3),X.bc(),X.cc(4,"div",13),X.cc(5,"div",14),X.dd(6),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ob("cu-template-center-sidebar__choice-active",e.selectedTab===e.TemplateCenterTab.TEAM),X.Ib(1),X.Dc("team",e.team),X.Ib(2),X.fd(" ",null==e.team?null:e.team.name," "),X.Ib(3),X.fd(" ",e.teamTemplatesTotalCount," ")}}function Hu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",10),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.updateTab(t.TemplateCenterTab.CLICKUP)}),X.cc(1,"div",15),X.Xb(2,"div",16),X.bc(),X.cc(3,"div",12),X.gc(4,17),X.bc(),X.cc(5,"div",13),X.cc(6,"div",14),X.dd(7),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ob("cu-template-center-sidebar__choice-active",e.selectedTab===e.TemplateCenterTab.CLICKUP),X.Ib(7),X.fd(" ",e.clickUpTemplateTotalCount," ")}}function Yu(e,t){if(1&e&&(X.cc(0,"div",8),X.bd(1,Xu,7,5,"div",9),X.bd(2,Hu,8,3,"div",9),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",!e.filteringClickUpTemplates),X.Ib(1),X.Dc("ngIf",!e.filteringTeamTemplates)}}function Zu(e,t){1&e&&(X.cc(0,"div",7),X.Xb(1,"cu-loader"),X.bc())}function Qu(e,t){if(1&e){const e=X.dc();X.cc(0,"div",20),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=X.uc(2);return null!=i&&i.count?a.onTypeFiltersChange.emit({filterName:i.name,currentState:i.isActive}):null}),X.vc(1,"isInArray"),X.cc(2,"div",21),X.Xb(3,"div",22),X.bc(),X.cc(4,"div",23),X.vc(5,"isInArray"),X.vc(6,"hierarchyTypeFilterTooltip"),X.vc(7,"hierarchyTextPipe"),X.dd(8),X.vc(9,"hierarchyTextPipe"),X.bc(),X.cc(10,"div",24),X.dd(11),X.bc(),X.bc()}if(2&e){const e=t.$implicit,i=X.uc(2);X.ad("display",!i.isGuest||(null==e?null:e.name)!==i.TemplateTypes.Space&&(null==e?null:e.name)!==i.TemplateTypes.Folder&&(null==e?null:e.name)!==i.TemplateTypes.List?"flex":"none"),X.Ob("cu-template-center-sidebar__type-active",null==e?null:e.isActive)("cu-template-center-sidebar__type-disabled",!(null!=e&&e.count))("cu-template-center-sidebar__type-not-allowed",(null==i.onlyAllowedTypes?null:i.onlyAllowedTypes.length)&&!X.xc(1,11,null==e?null:e.name,i.onlyAllowedTypes)),X.Ib(4),X.Dc("cuTooltip",null!=i.onlyAllowedTypes&&i.onlyAllowedTypes.length&&!X.xc(5,14,null==e?null:e.name,i.onlyAllowedTypes)?i.notAllowedTooltip:null!=e&&e.count?null:X.wc(6,17,X.wc(7,19,null==e?null:e.name))),X.Ib(4),X.fd(" ",X.wc(9,21,null==e?null:e.name)," "),X.Ib(3),X.fd(" (",null==e?null:e.count,") ")}}function Ku(e,t){if(1&e&&(X.cc(0,"div",18),X.bd(1,Qu,12,23,"div",19),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",e.typeFilters)("ngForTrackBy",e.trackByProperty)}}function Ju(e,t){1&e&&(X.cc(0,"div",2),X.dd(1," Levels "),X.bc())}function ep(e,t){1&e&&(X.cc(0,"div",7),X.Xb(1,"cu-loader"),X.bc())}function tp(e,t){if(1&e){const e=X.dc();X.cc(0,"div",26),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=X.uc(2);return null!=i&&i.count||null!=i&&i.isActive?a.onPublicTagSelect.emit(null==i?null:i.id):null}),X.vc(1,"publicTagTooltip"),X.cc(2,"div",21),X.Xb(3,"div",22),X.bc(),X.cc(4,"div",27),X.dd(5),X.bc(),X.cc(6,"div",24),X.dd(7),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ob("cu-template-center-sidebar__type-active",null==e?null:e.isActive)("cu-template-center-sidebar__type-disabled",!(null!=e&&e.count||null!=e&&e.isActive)),X.Dc("cuTooltip",X.wc(1,8,null==e?null:e.name))("tooltipDisabled",null==e?null:e.count),X.Ib(5),X.fd(" ",null==e?null:e.name," "),X.Ib(2),X.fd(" (",null==e?null:e.count,") ")}}function ip(e,t){if(1&e&&(X.cc(0,"div",18),X.bd(1,tp,8,10,"div",25),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",e.publicTemplateTags)("ngForTrackBy",e.trackById)}}const ap=function(){return{suppressScrollX:!0}};let op=(()=>{class e{constructor(){this.onTabChange=new X.o,this.onTypeFiltersChange=new X.o,this.onPublicTagSelect=new X.o,this.TemplateCenterTab=fa,this.TemplateTypes=Hi.d,this.trackByProperty=Object(be.d)("type"),this.trackById=Object(be.d)("id"),this.notAllowedTooltip=$localize`:@@cu-template-center-sidebar__type-not-allowed:Template type is not allowed`}ngOnInit(){}updateTab(e){this.selectedTab!==e&&this.onTabChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-sidebar"]],viewQuery:function(e,t){if(1&e&&X.jd(Wu,1),2&e){let e;X.Qc(e=X.rc())&&(t.sidebarScrollBar=e.first)}},inputs:{loading:"loading",selectedTab:"selectedTab",team:"team",teamTemplates:"teamTemplates",teamTemplatesTotalCount:"teamTemplatesTotalCount",clickUpTemplateCounts:"clickUpTemplateCounts",clickUpTemplateTotalCount:"clickUpTemplateTotalCount",isGuest:"isGuest",typeFilters:"typeFilters",publicTemplateTags:"publicTemplateTags",filteringClickUpTemplates:"filteringClickUpTemplates",filteringTeamTemplates:"filteringTeamTemplates",onlyAllowedTypes:"onlyAllowedTypes"},outputs:{onTabChange:"onTabChange",onTypeFiltersChange:"onTypeFiltersChange",onPublicTagSelect:"onPublicTagSelect"},decls:13,vars:9,consts:function(){let e;return e=$localize`:@@common_community␟2cff92fad9d7e4dc2f672c7921b89e7e1df33329␟2974890587823655105: Community `,[[1,"cu-template-center-sidebar",3,"perfectScrollbar"],["sidebarScrollBar","ngxPerfectScrollbar"],[1,"cu-template-center-sidebar__header"],["class","cu-template-center-sidebar__header-loader",4,"ngIf"],["class","cu-template-center-sidebar__choices",4,"ngIf"],["class","cu-template-center-sidebar__types",4,"ngIf"],["class","cu-template-center-sidebar__header",4,"ngIf"],[1,"cu-template-center-sidebar__header-loader"],[1,"cu-template-center-sidebar__choices"],["class","cu-template-center-sidebar__choice",3,"cu-template-center-sidebar__choice-active","click",4,"ngIf"],[1,"cu-template-center-sidebar__choice",3,"click"],[3,"team"],[1,"cu-template-center-sidebar__choice-name"],[1,"cu-template-center-sidebar__choice-count"],[1,"cu-template-center-sidebar__choice-count-number"],[1,"cu-template-center-sidebar__choice-icon"],["icon","clickup-symbol"],e,[1,"cu-template-center-sidebar__types"],["class","cu-template-center-sidebar__type",3,"cu-template-center-sidebar__type-active","cu-template-center-sidebar__type-disabled","cu-template-center-sidebar__type-not-allowed","display","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-sidebar__type",3,"click"],[1,"cu-template-center-sidebar__type-checkbox"],["icon","cu2-check-3"],[1,"cu-template-center-sidebar__type-name",3,"cuTooltip"],[1,"cu-template-center-sidebar__type-count"],["class","cu-template-center-sidebar__type",3,"cu-template-center-sidebar__type-active","cu-template-center-sidebar__type-disabled","cuTooltip","tooltipDisabled","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-sidebar__type",3,"cuTooltip","tooltipDisabled","click"],[1,"cu-template-center-sidebar__type-name"]]},template:function(e,t){1&e&&(X.cc(0,"div",0,1),X.cc(2,"div",2),X.dd(3,"Templates"),X.bc(),X.bd(4,Vu,2,0,"div",3),X.bd(5,Yu,3,2,"div",4),X.cc(6,"div",2),X.dd(7,"Types"),X.bc(),X.bd(8,Zu,2,0,"div",3),X.bd(9,Ku,2,2,"div",5),X.bd(10,Ju,2,0,"div",6),X.bd(11,ep,2,0,"div",3),X.bd(12,ip,2,2,"div",5),X.bc()),2&e&&(X.Dc("perfectScrollbar",X.Gc(8,ap)),X.Ib(4),X.Dc("ngIf",t.loading),X.Ib(1),X.Dc("ngIf",!t.loading),X.Ib(3),X.Dc("ngIf",t.loading),X.Ib(1),X.Dc("ngIf",!t.loading),X.Ib(1),X.Dc("ngIf",!t.filteringTeamTemplates),X.Ib(1),X.Dc("ngIf",t.loading),X.Ib(1),X.Dc("ngIf",!t.loading&&!t.filteringTeamTemplates))},directives:[er.a,n.q,Ze.a,ys.a,Qe.a,n.p,Lr.a],pipes:[Ru.a,Gu,qu,Bu],styles:['.cu-template-center-sidebar{width:230px;min-width:230px;height:100%;padding:24px 0;border-right:1px solid #e9ebf0}.dark-theme .cu-template-center-sidebar{border-color:#1e272e;background-color:#384047}.cu-template-center-sidebar__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;padding:0 22px 14px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-sidebar__header{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-sidebar__header{color:#d5d6d7}.cu-template-center-sidebar__choices{padding:0 12px;margin-bottom:24px}.cu-template-center-sidebar__choice{display:flex;align-items:center;height:36px;border-radius:4px;position:relative;cursor:pointer;margin-bottom:4px;z-index:1;padding:0 10px}.cu-template-center-sidebar__choice:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;background-color:var(--theme-main-color);opacity:0;border-radius:4px}.cu-template-center-sidebar__choice-active:before,.cu-template-center-sidebar__choice:hover:before{opacity:.05}.cu-template-center-sidebar__choice-active .cu-project-avatar__text_no-project-color,.cu-template-center-sidebar__choice-active .cu-template-center-sidebar__choice-icon{background-color:var(--theme-main-color)!important}.cu-template-center-sidebar__choice-active .cu-template-center-sidebar__choice-name{color:var(--theme-main-color);font-weight:500}.cu-template-center-sidebar__choice-active .cu-template-center-sidebar__choice-count{background-color:var(--theme-main-color)}.cu-template-center-sidebar__choice-active .cu-template-center-sidebar__choice-count-number{color:#fff}.cu-template-center-sidebar__choice-icon{background-color:#7c828d;display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:25%}.cu-template-center-sidebar__choice-icon .icon{fill:#fff;width:10px;height:12px}.cu-template-center-sidebar__choice-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;margin-left:12px;flex-grow:1;padding-right:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-sidebar__choice-name{font-family:var(--global-font-support)}}.cu-template-center-sidebar__choice-count{background-color:rgba(233,235,240,.5);border-radius:4px;display:flex;align-items:center;justify-content:center;padding:0 4px;height:15px}.cu-template-center-sidebar__choice-count-number{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:10px;line-height:1;color:#7c828d;padding-top:1px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-sidebar__choice-count-number{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-sidebar__choice-count-number{color:#d5d6d7}.cu-template-center-sidebar__choice .cu-team-avatar .cu-avatar{width:20px;height:20px;border-radius:25%}.cu-template-center-sidebar__types{padding:0 13px;margin-bottom:24px}.cu-template-center-sidebar__type{height:32px;display:flex;align-items:center;cursor:pointer;padding:0 8px;border-radius:4px}.cu-template-center-sidebar__type:hover{background-color:#fafbfc}.dark-theme .cu-template-center-sidebar__type:hover{background-color:#2b343b}.cu-template-center-sidebar__type-checkbox{width:16px;height:16px;border-radius:3px;border:1px solid #e9ebf0;margin-right:12px}.dark-theme .cu-template-center-sidebar__type-checkbox{border-color:#1e272e}.cu-template-center-sidebar__type-checkbox .icon{display:none}.cu-template-center-sidebar__type-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;padding-right:5px;text-transform:capitalize}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-sidebar__type-name{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-sidebar__type-name{color:#d5d6d7}.cu-template-center-sidebar__type-count{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-sidebar__type-count{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-sidebar__type-count{color:#828588}.cu-template-center-sidebar__type-active>.cu-template-center-sidebar__type-checkbox{border-color:var(--theme-main-color);background-color:var(--theme-main-color)}.cu-template-center-sidebar__type-active>.cu-template-center-sidebar__type-checkbox .icon{display:flex;padding:2px;fill:#fff}.cu-template-center-sidebar__type-disabled,.cu-template-center-sidebar__type-not-allowed{opacity:.7;cursor:default}.cu-template-center-sidebar__type-disabled:hover,.cu-template-center-sidebar__type-not-allowed:hover,.dark-theme .cu-template-center-sidebar__type-disabled:hover,.dark-theme .cu-template-center-sidebar__type-not-allowed:hover{background-color:transparent}.cu-template-center-sidebar__type-disabled .cu-template-center-sidebar__type-checkbox,.cu-template-center-sidebar__type-not-allowed .cu-template-center-sidebar__type-checkbox{border:1px solid #e9ebf0!important}.dark-theme .cu-template-center-sidebar__type-disabled .cu-template-center-sidebar__type-checkbox,.dark-theme .cu-template-center-sidebar__type-not-allowed .cu-template-center-sidebar__type-checkbox{border-color:#1e272e!important}.cu-template-center-sidebar__type-disabled .cu-template-center-sidebar__type-name,.cu-template-center-sidebar__type-not-allowed .cu-template-center-sidebar__type-name{color:#292d34!important}.dark-theme .cu-template-center-sidebar__type-disabled .cu-template-center-sidebar__type-name,.dark-theme .cu-template-center-sidebar__type-not-allowed .cu-template-center-sidebar__type-name{color:#d5d6d7!important}.cu-template-center-sidebar__type-disabled .cu-template-center-sidebar__type-count,.cu-template-center-sidebar__type-not-allowed .cu-template-center-sidebar__type-count{color:#7c828d!important}.dark-theme .cu-template-center-sidebar__type-disabled .cu-template-center-sidebar__type-count,.dark-theme .cu-template-center-sidebar__type-not-allowed .cu-template-center-sidebar__type-count{color:#828588!important}.cu-template-center-sidebar__type-not-allowed{cursor:not-allowed}.cu-template-center-sidebar__type .cu-template-center-sidebar__type-checkbox{transition:border .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu-template-center-sidebar__type .cu-template-center-sidebar__type-count,.cu-template-center-sidebar__type .cu-template-center-sidebar__type-name{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu-template-center-sidebar__type:hover .cu-template-center-sidebar__type-checkbox{border:1px solid var(--theme-main-color)}.cu-template-center-sidebar__type:hover .cu-template-center-sidebar__type-count,.cu-template-center-sidebar__type:hover .cu-template-center-sidebar__type-name{color:var(--theme-main-color)}'],encapsulation:2,changeDetection:0}),e})();var cp=i("JX91"),np=i("1Lli"),sp=i("O5gs"),rp=i("HqON"),lp=i("HPyy"),dp=i("Zq4E");let up=(()=>{class e{transform(e,t){return e?e.length<t?e:e.substring(0,t)+"...":""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"truncateStringPipe",type:e,pure:!0}),e})();function pp(e,t){1&e&&X.Xb(0,"div",10)}function mp(e,t){if(1&e){const e=X.dc();X.cc(0,"div",11),X.qc("click",function(t){return X.Uc(e),X.uc().quickUse(t)}),X.dd(1," Quick Use\n"),X.bc()}}function hp(e,t){if(1&e&&(X.ac(0),X.dd(1),X.vc(2,"truncateStringPipe"),X.Zb()),2&e){const e=X.uc(2);X.Ib(1),X.fd(" ",X.xc(2,1,null==e.template?null:e.template.description,55)," ")}}function bp(e,t){if(1&e){const e=X.dc();X.cc(0,"span",18),X.qc("click",function(t){return X.Uc(e),X.uc(4).addingDesc=!0,t.stopPropagation()}),X.dd(1," + Add "),X.bc()}}function gp(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-editable",16),X.qc("onChange",function(t){return X.Uc(e),X.uc(3).addDesc(t)})("onCancel",function(){return X.Uc(e),X.uc(3).addingDesc=!1})("click",function(t){return X.Uc(e),X.uc(3).addingDesc?t.stopPropagation():null}),X.cc(1,"div",12),X.dd(2," This template has no"),X.Xb(3,"br"),X.dd(4," description yet. "),X.bd(5,bp,2,0,"span",17),X.bc(),X.bc()}if(2&e){const e=X.uc(3);X.Dc("multiline",!0)("text","")("editing",e.addingDesc)("autosize",!1)("allowEmpty",!0),X.Ib(5),X.Dc("ngIf",!e.addingDesc)}}function fp(e,t){if(1&e&&(X.cc(0,"div",12),X.bd(1,gp,6,6,"cu-editable",15),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngIf",!(null!=e.template&&e.template.clickUp))}}function _p(e,t){if(1&e&&(X.cc(0,"div",12),X.bd(1,hp,3,4,"ng-container",13),X.bd(2,fp,2,1,"ng-template",null,14,X.cd),X.bc()),2&e){const e=X.Rc(3),t=X.uc();X.Ib(1),X.Dc("ngIf",null==t.template?null:t.template.description)("ngIfElse",e)}}function vp(e,t){if(1&e&&(X.cc(0,"div",19),X.Xb(1,"div",4),X.vc(2,"lowercase"),X.cc(3,"div"),X.dd(4),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("icon","template-center-experience-"+X.wc(2,2,null==e.template?null:e.template.public_tags[0].name)),X.Ib(3),X.ed(null==e.template?null:e.template.public_tags[0].name)}}let yp=(()=>{class e{constructor(){this.allowQuickCreate=!0,this.onQuickCreate=new X.o,this.onUpdateTemplate=new X.o,this.TemplateTypes=Hi.d,this.addingDesc=!1}ngOnInit(){}quickUse(e){this.onQuickCreate.emit(this.template),e&&(e.preventDefault(),e.stopPropagation())}addDesc(e){this.onUpdateTemplate.emit({changes:{description:e,name:this.template.name},originalTemplate:this.template})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-template"]],hostAttrs:[1,"cu-template-center-template"],hostVars:20,hostBindings:function(e,t){2&e&&X.Ob("cu-template-center-template__clickup",t.template&&t.template.clickUp)("cu-template-center-template__team",t.template&&!t.template.clickUp)("cu-template-center-template__space",t.template&&t.template.type===t.TemplateTypes.Space)("cu-template-center-template__folder",t.template&&t.template.type===t.TemplateTypes.Folder)("cu-template-center-template__list",t.template&&t.template.type===t.TemplateTypes.List)("cu-template-center-template__view",t.template&&t.template.type===t.TemplateTypes.View)("cu-template-center-template__doc",t.template&&t.template.type===t.TemplateTypes.Doc)("cu-template-center-template__task",t.template&&t.template.type===t.TemplateTypes.Task)("cu-template-center-template__checklist",t.template&&t.template.type===t.TemplateTypes.Checklist)("cu-template-center-template__filter",t.template&&t.template.type===t.TemplateTypes.Filter)},inputs:{template:"template",fromTaskDraft:"fromTaskDraft",creatingTask:"creatingTask",allowQuickCreate:"allowQuickCreate"},outputs:{onQuickCreate:"onQuickCreate",onUpdateTemplate:"onUpdateTemplate"},decls:13,vars:12,consts:[["class","cu-template-center-template__bg-icon","icon","clickup-symbol",4,"ngIf"],["class","cu-template-center-template__quick-use",3,"click",4,"ngIf"],[1,"cu-template-center-template__top"],[1,"cu-template-center-template__type"],[3,"icon"],[1,"cu-template-center-template__type-text"],[1,"cu-template-center-template__bot"],[1,"cu-template-center-template__name"],["class","cu-template-center-template__desc",4,"ngIf"],["class","cu-template-center-template__experience-level",4,"ngIf"],["icon","clickup-symbol",1,"cu-template-center-template__bg-icon"],[1,"cu-template-center-template__quick-use",3,"click"],[1,"cu-template-center-template__desc"],[4,"ngIf","ngIfElse"],["noDescription",""],["class","cu-template-center-template__desc-editable",3,"multiline","text","editing","autosize","allowEmpty","onChange","onCancel","click",4,"ngIf"],[1,"cu-template-center-template__desc-editable",3,"multiline","text","editing","autosize","allowEmpty","onChange","onCancel","click"],["class","cu-template-center-template__desc-add",3,"click",4,"ngIf"],[1,"cu-template-center-template__desc-add",3,"click"],[1,"cu-template-center-template__experience-level"]],template:function(e,t){1&e&&(X.bd(0,pp,1,0,"div",0),X.bd(1,mp,2,0,"div",1),X.cc(2,"div",2),X.cc(3,"div",3),X.Xb(4,"div",4),X.bc(),X.cc(5,"div",5),X.dd(6),X.bc(),X.bc(),X.cc(7,"div",6),X.cc(8,"div",7),X.dd(9),X.vc(10,"truncateStringPipe"),X.bc(),X.bd(11,_p,4,2,"div",8),X.bd(12,vp,5,4,"div",9),X.bc()),2&e&&(X.Dc("ngIf",null==t.template?null:t.template.clickUp),X.Ib(1),X.Dc("ngIf",t.allowQuickCreate),X.Ib(2),X.Ob("cu-template-center-template__type-view",t.TemplateTypes.View),X.Ib(1),X.Dc("icon",null!=t.template&&t.template.icon?null==t.template?null:t.template.icon:(null==t.template?null:t.template.type)===t.TemplateTypes.Space?"template-type-space":(null==t.template?null:t.template.type)===t.TemplateTypes.Folder?"template-type-folder":(null==t.template?null:t.template.type)===t.TemplateTypes.List?"template-type-list":(null==t.template?null:t.template.type)===t.TemplateTypes.View?"template-type-view":(null==t.template?null:t.template.type)===t.TemplateTypes.Doc?"template-type-doc":(null==t.template?null:t.template.type)===t.TemplateTypes.Task?"template-type-task":(null==t.template?null:t.template.type)===t.TemplateTypes.Checklist?"template-type-checklist":"template-type-filter"),X.Ib(2),X.fd(" ",null==t.template?null:t.template.term," "),X.Ib(3),X.fd(" ",X.xc(10,9,null==t.template?null:t.template.name,25)," "),X.Ib(2),X.Dc("ngIf",!(null!=t.template&&t.template.clickUp)),X.Ib(1),X.Dc("ngIf",(null==t.template?null:t.template.clickUp)&&(null==t.template?null:t.template.public_tags)&&(null==t.template?null:t.template.public_tags[0])))},directives:[n.q,Qe.a,Nr.a],pipes:[up,n.n],styles:['.cu-template-center-template{transition:border-color .3s cubic-bezier(.785,.135,.15,.86) 0s;width:30.5%;min-width:30.5%;height:150px;margin-right:16px;border:1px solid rgba(0,0,0,.05);box-shadow:0 1px 3px rgba(0,0,0,.05);border-radius:4px;overflow:hidden;padding:16px 16px 8px;display:flex;flex-direction:column;background-color:#fff;position:relative;cursor:pointer}.dark-theme .cu-template-center-template{background-color:#384047}.cu-template-center-template:hover .cu-template-center-template__quick-use{opacity:1}.cu-template-center-template:hover.cu-template-center-template__space{border-color:#1aaee1}.cu-template-center-template:hover.cu-template-center-template__folder{border-color:#fd71af}.cu-template-center-template:hover.cu-template-center-template__list{border-color:#ffc800}.cu-template-center-template:hover.cu-template-center-template__view{border-color:#00b888}.cu-template-center-template:hover.cu-template-center-template__doc{border-color:#57f}.cu-template-center-template:hover.cu-template-center-template__task{border-color:#7b68ee}.cu-template-center-template:hover.cu-template-center-template__checklist{border-color:#6bc950}.cu-template-center-template:hover.cu-template-center-template__filter{border-color:#fd7171}.cu-template-center-template__bg-icon{width:120px;height:144px;fill:#000;opacity:.1;position:absolute;right:-30px;top:14px;z-index:1}.cu-template-center-template__top{display:flex;align-items:center;position:relative;z-index:2}.cu-template-center-template__bot{margin-top:auto;position:relative;z-index:2}.cu-template-center-template__type{background:#fff;border-radius:6px;height:36px;width:36px;display:flex;align-items:center;justify-content:center;margin-right:8px}.cu-template-center-template__type .icon{height:16px;width:16px;fill:#fff}.cu-template-center-template__type-view{stroke:#fff}.cu-template-center-template__type-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;text-transform:uppercase;color:#fff;opacity:.65}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-template__type-text{font-family:var(--global-font-support)}}.cu-template-center-template__name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:18px;color:#292d34;padding-bottom:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-template__name{font-family:var(--global-font-support)}}.cu-template-center-template__name span{text-transform:capitalize;color:#292d34}.dark-theme .cu-template-center-template__name,.dark-theme .cu-template-center-template__name span{color:#d5d6d7}.cu-template-center-template__desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:16px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-template__desc{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-template__desc{color:#828588}.cu-template-center-template__desc :hover button{display:inline}.cu-template-center-template__desc:hover .cu-template-center-template__desc-add{opacity:1}.cu-template-center-template__desc-editable{color:#7c828d}.cu-template-center-template__desc-editable textarea{color:#7c828d;background:transparent!important;height:50px}.cu-template-center-template__desc-add{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;opacity:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-template__desc-add{font-family:var(--global-font-support)}}.cu-template-center-template__desc-add:hover{text-decoration:underline}.cu-template-center-template__experience-level{display:flex}.cu-template-center-template__experience-level>*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:13px;color:#fff;opacity:.5}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-template__experience-level>*{font-family:var(--global-font-support)}}.cu-template-center-template__experience-level .icon{height:12px;width:12px;fill:#fff;opacity:.5;margin-right:6px}.cu-template-center-template__clickup{transition:filter .2s cubic-bezier(.785,.135,.15,.86) 0s;filter:brightness(100%)}.cu-template-center-template__clickup:hover{filter:brightness(105%)}.cu-template-center-template__clickup .cu-template-center-template__name,.cu-template-center-template__clickup .cu-template-center-template__name span{color:#fff}.cu-template-center-template__clickup .cu-template-center-template__type{box-shadow:0 4px 12px rgba(0,0,0,.12);background-color:#fff}.cu-template-center-template__clickup .cu-template-center-template__desc-add{color:#fff!important}.cu-template-center-template.cu-template-center-template__space.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__space .cu-template-center-template__type{background-color:#1aaee1}.cu-template-center-template.cu-template-center-template__space.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__space.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#1aaee1}.cu-template-center-template.cu-template-center-template__space.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#1aaee1}.cu-template-center-template.cu-template-center-template__space .cu-template-center-template__quick-use{color:#fff;background-color:#1aaee1}.cu-template-center-template.cu-template-center-template__space .cu-template-center-template__desc-add{color:#1aaee1}.cu-template-center-template.cu-template-center-template__folder.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__folder .cu-template-center-template__type{background-color:#fd71af}.cu-template-center-template.cu-template-center-template__folder.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__folder.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#fd71af}.cu-template-center-template.cu-template-center-template__folder.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#fd71af}.cu-template-center-template.cu-template-center-template__folder .cu-template-center-template__quick-use{background-color:#fd71af;color:#fff}.cu-template-center-template.cu-template-center-template__folder .cu-template-center-template__desc-add{color:#fd71af}.cu-template-center-template.cu-template-center-template__list.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__list .cu-template-center-template__type{background-color:#ffc800}.cu-template-center-template.cu-template-center-template__list.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__list.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#ffc800}.cu-template-center-template.cu-template-center-template__list.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#ffc800}.cu-template-center-template.cu-template-center-template__list .cu-template-center-template__quick-use{background-color:#ffc800;color:#fff}.cu-template-center-template.cu-template-center-template__list .cu-template-center-template__desc-add{color:#ffc800}.cu-template-center-template.cu-template-center-template__view.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__view .cu-template-center-template__type{background-color:#00b888}.cu-template-center-template.cu-template-center-template__view.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__view.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#00b888}.cu-template-center-template.cu-template-center-template__view.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#00b888}.cu-template-center-template.cu-template-center-template__view .cu-template-center-template__quick-use{background-color:#00b888;color:#fff}.cu-template-center-template.cu-template-center-template__view .cu-template-center-template__desc-add{color:#00b888}.cu-template-center-template.cu-template-center-template__doc.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__doc .cu-template-center-template__type{background-color:#57f}.cu-template-center-template.cu-template-center-template__doc.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__doc.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#57f}.cu-template-center-template.cu-template-center-template__doc.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#57f}.cu-template-center-template.cu-template-center-template__doc .cu-template-center-template__quick-use{background-color:#57f;color:#fff}.cu-template-center-template.cu-template-center-template__doc .cu-template-center-template__desc-add{color:#57f}.cu-template-center-template.cu-template-center-template__task.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__task .cu-template-center-template__type{background-color:#7b68ee}.cu-template-center-template.cu-template-center-template__task.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__task.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#7b68ee}.cu-template-center-template.cu-template-center-template__task.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#7b68ee}.cu-template-center-template.cu-template-center-template__task .cu-template-center-template__quick-use{background-color:#7b68ee;color:#fff}.cu-template-center-template.cu-template-center-template__task .cu-template-center-template__desc-add{color:#7b68ee}.cu-template-center-template.cu-template-center-template__checklist.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__checklist .cu-template-center-template__type{background-color:#6bc950}.cu-template-center-template.cu-template-center-template__checklist.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__checklist.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#6bc950}.cu-template-center-template.cu-template-center-template__checklist.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#6bc950}.cu-template-center-template.cu-template-center-template__checklist .cu-template-center-template__quick-use{background-color:#6bc950;color:#fff}.cu-template-center-template.cu-template-center-template__checklist .cu-template-center-template__desc-add{color:#6bc950}.cu-template-center-template.cu-template-center-template__filter.cu-template-center-template__clickup,.cu-template-center-template.cu-template-center-template__filter .cu-template-center-template__type{background-color:#fd7171}.cu-template-center-template.cu-template-center-template__filter.cu-template-center-template__clickup .cu-template-center-template__type{background-color:#fff}.cu-template-center-template.cu-template-center-template__filter.cu-template-center-template__clickup .cu-template-center-template__type .icon{fill:#fd7171}.cu-template-center-template.cu-template-center-template__filter.cu-template-center-template__clickup .cu-template-center-template__quick-use{color:#fd7171}.cu-template-center-template.cu-template-center-template__filter .cu-template-center-template__quick-use{background-color:#fd7171;color:#fff}.cu-template-center-template.cu-template-center-template__filter .cu-template-center-template__desc-add{color:#fd7171}.cu-template-center-template__quick-use{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;transition:box-shadow .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;cursor:pointer;width:72px;height:18px;background:#fff;border:1px solid rgba(0,0,0,.05);border-radius:2px;right:10px;top:10px;display:flex;align-items:center;justify-content:center;z-index:9;opacity:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-template__quick-use{font-family:var(--global-font-support)}}.cu-template-center-template__quick-use:hover{box-shadow:0 1px 3px rgba(0,0,0,.2)}.dark-theme .cu-template-center-template__quick-use{background:#2b343b;border-color:#1e272e}.cu-template-center-template__clickup .cu-template-center-template__quick-use{background:#fff!important;border-color:rgba(0,0,0,.05)!important}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__space .cu-template-center-template__type-text{color:#1aaee1}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__folder .cu-template-center-template__type-text{color:#fd71af}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__list .cu-template-center-template__type-text{color:#ffc800}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__view .cu-template-center-template__type-text{color:#00b888}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__doc .cu-template-center-template__type-text{color:#57f}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__task .cu-template-center-template__type-text{color:#7b68ee}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__checklist .cu-template-center-template__type-text{color:#6bc950}.cu-template-center-template.cu-template-center-template__team.cu-template-center-template__filter .cu-template-center-template__type-text{color:#fd7171}'],encapsulation:2,changeDetection:0}),e})();const wp=["teamSection"],kp=["clickUpSection"],xp=["mainContainer"],Tp=["useCaseItemTemplate"],Sp=["allUseCaseTemplate"],jp=["templateSearch"];function Op(e,t){if(1&e){const e=X.dc();X.cc(0,"div",16),X.qc("click",function(){X.Uc(e);const t=X.uc();return X.Rc(4).value="",t.clearSearchTerm.emit()}),X.bc()}}function Ip(e,t){1&e&&(X.cc(0,"div",19),X.Xb(1,"div",20),X.cc(2,"div",21),X.dd(3,"Use cases"),X.bc(),X.Xb(4,"div",22),X.bc())}const Dp=function(){return["bottom-right"]};function Cp(e,t){if(1&e&&(X.cc(0,"cu-dropdown-list",17),X.qc("onSelect",function(e){return e.customPayload()}),X.bd(1,Ip,5,0,"div",18),X.vc(2,"async"),X.bc()),2&e){const e=t.ngIf,i=X.uc();X.Dc("items",e)("menuContainerModifier","cu-activity-fields-filter__dropdown-menu")("autoClose",!1)("dropdownCloseOnModal",!0)("showSearch",!0)("dropdownPlacement",X.Gc(9,Dp)),X.Ib(1),X.Dc("ngIf",!i.filteringTeamTemplates&&0===X.wc(2,7,i.tagsToFilter$).length)}}function Pp(e,t){1&e&&X.Xb(0,"div",29)}function $p(e,t){if(1&e&&(X.cc(0,"div",30),X.dd(1),X.vc(2,"async"),X.bc()),2&e){const e=X.uc(2);let t=null;X.Ib(1),X.fd(" ",null==(t=X.wc(2,1,e.tagsToFilter$))?null:t.length," ")}}function zp(e,t){if(1&e){const e=X.dc();X.cc(0,"div",38),X.dd(1),X.cc(2,"div",39),X.cc(3,"div",40),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(4).removeFilterTag(i)}),X.bc(),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.ad("background-color",null==e?null:e.tag_bg),X.Ib(1),X.fd(" ",null==e?null:e.name," "),X.Ib(1),X.ad("background-color",null==e?null:e.tag_bg)}}function Mp(e,t){if(1&e&&(X.cc(0,"div",36),X.bd(1,zp,4,5,"div",37),X.vc(2,"async"),X.bc()),2&e){const e=X.uc(3);X.Ib(1),X.Dc("ngForOf",X.wc(2,2,e.tagsToFilter$))("ngForTrackBy",e.trackByProperty)}}function Ep(e,t){if(1&e){const e=X.dc();X.cc(0,"div",41),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).filterTag(i)}),X.dd(1),X.bc()}if(2&e){const e=t.$implicit;X.ad("background-color",null==e?null:e.tag_bg),X.Ib(1),X.fd(" ",null==e?null:e.name," ")}}const Lp=function(){return{suppressScrollX:!0}};function Ap(e,t){if(1&e){const e=X.dc();X.cc(0,"div"),X.cc(1,"div",31),X.bd(2,Mp,3,4,"div",32),X.vc(3,"async"),X.cc(4,"cu-search-list",33),X.qc("onUpdate",function(t){return X.Uc(e),X.uc(2).filteredTagsToChoose$.next(t)}),X.vc(5,"async"),X.cc(6,"div",34),X.bd(7,Ep,2,3,"div",35),X.vc(8,"async"),X.bc(),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngIf",X.wc(3,7,e.tagsToFilter$).length),X.Ib(2),X.Dc("items",X.wc(5,9,e.tagsToChoose$))("filterfn",e.searchTags)("modifierSearchInput","cu-template-center-main__header-tags-dropdown-menu-search"),X.Ib(2),X.Dc("perfectScrollbar",X.Gc(13,Lp)),X.Ib(1),X.Dc("ngForOf",X.wc(8,11,e.filteredTagsToChoose$))("ngForTrackBy",e.trackByProperty)}}function Fp(e,t){if(1&e&&(X.cc(0,"div",23),X.cc(1,"div",24),X.cc(2,"div",25),X.bd(3,Pp,1,0,"div",26),X.vc(4,"async"),X.bd(5,$p,3,3,"div",27),X.vc(6,"async"),X.cc(7,"div",21),X.vc(8,"async"),X.dd(9," Tags "),X.bc(),X.Xb(10,"div",22),X.bc(),X.bc(),X.bd(11,Ap,9,14,"div",28),X.bc()),2&e){const e=X.uc();let t=null,i=null,a=null;X.Dc("dropdownCloseOnInsideClick",!1)("dropdownModifierClass","cu-template-center-main__header-tags-dropdown"),X.Ib(3),X.Dc("ngIf",!(null!=(t=X.wc(4,6,e.tagsToFilter$))&&t.length)),X.Ib(2),X.Dc("ngIf",null==(i=X.wc(6,8,e.tagsToFilter$))?null:i.length),X.Ib(2),X.Ob("cu-template-center-main__header-item-text-active",null==(a=X.wc(8,10,e.tagsToFilter$))?null:a.length)}}function Up(e,t){1&e&&X.Xb(0,"div",45)}function Np(e,t){if(1&e&&X.Xb(0,"cu-avatar",46),2&e){const e=X.uc(2);X.Dc("user",e.selectedCreator[0])}}function Rp(e,t){if(1&e&&(X.cc(0,"div",42),X.cc(1,"div",21),X.dd(2,"Created by:"),X.bc(),X.bd(3,Up,1,0,"div",43),X.bd(4,Np,1,1,"cu-avatar",44),X.bc()),2&e){const e=X.uc();X.Dc("cuTooltip","Filter by who created the template"),X.Ib(3),X.Dc("ngIf",!(null!=e.selectedCreator&&e.selectedCreator.length)),X.Ib(1),X.Dc("ngIf",null==e.selectedCreator?null:e.selectedCreator.length)}}function Gp(e,t){1&e&&(X.cc(0,"div",47),X.Xb(1,"cu-loader"),X.bc())}const qp=function(e){return{group:e}};function Bp(e,t){if(1&e&&X.Yb(0,58),2&e){const e=X.uc().$implicit;X.uc(3);const t=X.Rc(14);X.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",X.Hc(2,qp,e))}}function Wp(e,t){if(1&e&&(X.ac(0),X.bd(1,Bp,1,4,"ng-container",57),X.Zb()),2&e){const e=t.$implicit;X.Ib(1),X.Dc("ngIf",null==e||null==e.templates?null:e.templates.length)}}function Vp(e,t){if(1&e){const e=X.dc();X.cc(0,"div",51,52),X.qc("cuIsInViewport",function(t){X.Uc(e);const i=X.uc(2);return i.changeTab(i.TemplateCenterTab.TEAM,t)}),X.cc(2,"div",53),X.cc(3,"div",54),X.dd(4),X.bc(),X.Xb(5,"div",55),X.bc(),X.bd(6,Wp,2,1,"ng-container",56),X.bc()}if(2&e){X.uc();const e=X.Rc(1),t=X.uc();X.Dc("scrollContainer",e.nativeElement)("isInViewPortEnabled",!0),X.Ib(4),X.fd(" ",null==t.team?null:t.team.name," templates "),X.Ib(2),X.Dc("ngForOf",t.teamTemplates)}}function Xp(e,t){1&e&&(X.cc(0,"div",53),X.cc(1,"div",54),X.dd(2,"ClickUp"),X.bc(),X.Xb(3,"div",55),X.bc())}function Hp(e,t){if(1&e&&X.Yb(0,67),2&e){X.uc(4);const e=X.Rc(20);X.Dc("ngTemplateOutlet",e)}}function Yp(e,t){1&e&&(X.cc(0,"div",68),X.cc(1,"div",69),X.dd(2," Create your first template! "),X.bc(),X.cc(3,"div",70),X.dd(4," Templates will help you save even more time by eliminating repetitive work. Visit our help docs to learn more. "),X.bc(),X.bc())}function Zp(e,t){1&e&&(X.cc(0,"div",68),X.cc(1,"div",69),X.dd(2," Didn't find the template you want? Create your own! "),X.bc(),X.cc(3,"div",70),X.dd(4," Save tasks, docs, views and more as templates to save even more time. "),X.bc(),X.bc())}function Qp(e,t){if(1&e&&(X.ac(0),X.bd(1,Hp,1,1,"ng-container",62),X.cc(2,"div",63),X.bd(3,Yp,5,0,"div",64),X.bd(4,Zp,5,0,"div",64),X.cc(5,"div",65),X.cc(6,"a",66),X.dd(7,"Learn More"),X.bc(),X.bc(),X.bc(),X.Zb()),2&e){const e=X.uc(3);X.Ib(1),X.Dc("ngIf",e.teamHasTemplates),X.Ib(2),X.Dc("ngIf",!e.teamHasTemplates),X.Ib(1),X.Dc("ngIf",e.teamHasTemplates)}}function Kp(e,t){if(1&e&&X.Yb(0,58),2&e){const e=X.uc(3),t=X.Rc(14);X.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",X.Hc(2,qp,e.suggestedTemplates))}}function Jp(e,t){if(1&e&&X.Yb(0,58),2&e){const e=X.uc(3),t=X.Rc(14);X.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",X.Hc(2,qp,e.featuredTemplates))}}function em(e,t){if(1&e&&X.Yb(0,58),2&e){const e=X.uc().$implicit;X.uc(3);const t=X.Rc(14);X.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",X.Hc(2,qp,e))}}function tm(e,t){if(1&e&&(X.ac(0),X.bd(1,em,1,4,"ng-container",57),X.Zb()),2&e){const e=t.$implicit;X.Ib(1),X.Dc("ngIf",null==e||null==e.templates?null:e.templates.length)}}function im(e,t){if(1&e){const e=X.dc();X.cc(0,"div",51,59),X.qc("cuIsInViewport",function(t){X.Uc(e);const i=X.uc(2);return i.changeTab(i.TemplateCenterTab.CLICKUP,t)}),X.bd(2,Xp,4,0,"div",60),X.bd(3,Qp,8,3,"ng-container",61),X.bd(4,Kp,1,4,"ng-container",57),X.bd(5,Jp,1,4,"ng-container",57),X.bd(6,tm,2,1,"ng-container",56),X.bc()}if(2&e){X.uc();const e=X.Rc(1),t=X.uc();X.Dc("scrollContainer",e.nativeElement)("isInViewPortEnabled",!0),X.Ib(2),X.Dc("ngIf",!(!t.teamTemplatesTotalCount&&!t.clickUpTemplateTotalCount||t.filteringClickUpTemplates&&!t.clickUpTemplateTotalCount||t.filteringTeamTemplates&&!t.teamTemplatesTotalCount||!t.teamHasTemplates)),X.Ib(1),X.Dc("ngIf",!t.teamTemplatesTotalCount&&!t.clickUpTemplateTotalCount||t.filteringClickUpTemplates&&!t.clickUpTemplateTotalCount||t.filteringTeamTemplates&&!t.teamTemplatesTotalCount||!t.teamHasTemplates),X.Ib(1),X.Dc("ngIf",(null==t.suggestedTemplates||null==t.suggestedTemplates.templates?null:t.suggestedTemplates.templates.length)&&t.forOnboarding),X.Ib(1),X.Dc("ngIf",null==t.featuredTemplates||null==t.featuredTemplates.templates?null:t.featuredTemplates.templates.length),X.Ib(1),X.Dc("ngForOf",t.clickUpTemplates)}}function am(e,t){if(1&e&&(X.cc(0,"div",48,49),X.bd(2,Vp,7,4,"div",50),X.bd(3,im,7,7,"div",50),X.bc()),2&e){const e=X.uc();X.Ib(2),X.Dc("ngIf",e.teamTemplatesTotalCount&&!e.filteringClickUpTemplates),X.Ib(1),X.Dc("ngIf",!e.filteringTeamTemplates||!e.teamTemplatesTotalCount)}}function om(e,t){if(1&e){const e=X.dc();X.cc(0,"div",80),X.qc("click",function(){X.Uc(e);const t=X.uc().group;return X.uc().slideRow(t,"left")}),X.Xb(1,"div",81),X.bc()}}function cm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",82),X.qc("click",function(){X.Uc(e);const t=X.uc().group;return X.uc().slideRow(t,"right")}),X.Xb(1,"div",81),X.bc()}}function nm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",83),X.cc(1,"div",84),X.qc("click",function(){X.Uc(e);const t=X.uc().group;return X.uc().toggleRowExpand(t)}),X.dd(2),X.bc(),X.bc()}if(2&e){const e=X.uc().group,t=X.uc();X.Ib(2),X.fd(" ",t.rowExpandedMap[null==e?null:e.id]?"Collapse":"See all"," ")}}function sm(e,t){if(1&e){const e=X.dc();X.ac(0),X.cc(1,"cu-template-center-template",88),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).onTemplateSelect.emit(i)})("onQuickCreate",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).onQuickCreate.emit(i)})("onUpdateTemplate",function(t){return X.Uc(e),X.uc(3).onUpdateTemplate.emit(t)}),X.bc(),X.Zb()}if(2&e){const e=t.$implicit,i=X.uc(3);X.Ib(1),X.Dc("template",e)("fromTaskDraft",i.fromTaskDraft)("creatingTask",i.creatingTask)}}function rm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",89),X.qc("cuIsInViewport",function(t){X.Uc(e);const i=X.uc(2).group;return X.uc().loadMoreTeamTemplates(i,t)}),X.bc()}if(2&e){const e=X.uc(3);X.Dc("scrollContainer",null==e.mainContainer?null:e.mainContainer.nativeElement)("isInViewPortEnabled",!0)}}function lm(e,t){if(1&e&&(X.cc(0,"div",85),X.bd(1,sm,2,3,"ng-container",86),X.bd(2,rm,1,2,"div",87),X.bc()),2&e){const e=X.uc().group,t=X.uc();X.Ob("cu-template-center-main__row-expanded",t.rowExpandedMap[e.id]),X.Ib(1),X.Dc("ngForOf",null==e?null:e.templates)("ngForTrackBy",t.trackByProperty),X.Ib(1),X.Dc("ngIf",!(null!=e&&e.last_page||null!=e&&null!=e.templates[0]&&e.templates[0].clickUp||"suggested"===(null==e?null:e.id)||"featured"===(null==e?null:e.id)))}}function dm(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-template",88),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(3).onTemplateSelect.emit(t)})("onQuickCreate",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(3).onQuickCreate.emit(t)})("onUpdateTemplate",function(t){return X.Uc(e),X.uc(4).onUpdateTemplate.emit(t)}),X.bc()}if(2&e){const e=X.uc().$implicit,t=X.uc(3);X.Dc("template",e)("fromTaskDraft",t.fromTaskDraft)("creatingTask",t.creatingTask)}}function um(e,t){if(1&e&&(X.ac(0),X.bd(1,dm,1,3,"cu-template-center-template",91),X.Zb()),2&e){const e=t.index;X.Ib(1),X.Dc("ngIf",e%2==0)}}function pm(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-template",88),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(3).onTemplateSelect.emit(t)})("onQuickCreate",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(3).onQuickCreate.emit(t)})("onUpdateTemplate",function(t){return X.Uc(e),X.uc(4).onUpdateTemplate.emit(t)}),X.bc()}if(2&e){const e=X.uc().$implicit,t=X.uc(3);X.Dc("template",e)("fromTaskDraft",t.fromTaskDraft)("creatingTask",t.creatingTask)}}function mm(e,t){if(1&e&&(X.ac(0),X.bd(1,pm,1,3,"cu-template-center-template",91),X.Zb()),2&e){const e=t.index;X.Ib(1),X.Dc("ngIf",e%2==1)}}function hm(e,t){if(1&e&&(X.cc(0,"div",90),X.cc(1,"div",85),X.bd(2,um,2,1,"ng-container",86),X.bc(),X.cc(3,"div",85),X.bd(4,mm,2,1,"ng-container",86),X.bc(),X.bc()),2&e){const e=X.uc().group,t=X.uc();X.ad("transform",t.rowTransformMap[null==e?null:e.id]),X.Ib(2),X.Dc("ngForOf",null==e?null:e.templates)("ngForTrackBy",t.trackByProperty),X.Ib(2),X.Dc("ngForOf",null==e?null:e.templates)("ngForTrackBy",t.trackByProperty)}}function bm(e,t){if(1&e&&(X.cc(0,"div",71),X.cc(1,"div",72),X.bd(2,om,2,0,"div",73),X.bd(3,cm,2,0,"div",74),X.cc(4,"div",75),X.cc(5,"div",76),X.dd(6),X.bc(),X.bd(7,nm,3,1,"div",77),X.bc(),X.bd(8,lm,3,5,"div",78),X.bd(9,hm,5,6,"ng-template",null,79,X.cd),X.bc(),X.bc()),2&e){const e=t.group,i=X.Rc(10),a=X.uc();X.Ib(2),X.Dc("ngIf",!a.rowExpandedMap[null==e?null:e.id]&&(null==e||null==e.templates?null:e.templates.length)>6&&a.slidePositionMap[null==e?null:e.id]),X.Ib(1),X.Dc("ngIf",!a.rowExpandedMap[null==e?null:e.id]&&(null==e||null==e.templates?null:e.templates.length)>6),X.Ib(3),X.fd(" ",null==e?null:e.name," "),X.Ib(1),X.Dc("ngIf",(null==e||null==e.templates?null:e.templates.length)>6),X.Ib(1),X.Dc("ngIf",(null==e||null==e.templates?null:e.templates.length)<=3||a.rowExpandedMap[null==e?null:e.id])("ngIfElse",i)}}function gm(e,t){if(1&e&&(X.cc(0,"div",92),X.cc(1,"div",93),X.Xb(2,"div",94),X.bc(),X.dd(3),X.bc()),2&e){const e=t.item;X.Ob("cu-template-center-main__dropdown-item-active",e.checked),X.Ib(3),X.fd(" ",null==e?null:e.title," ")}}function fm(e,t){1&e&&(X.ac(0),X.dd(1," Unselect All "),X.Zb())}function _m(e,t){1&e&&X.dd(0," Select All")}function vm(e,t){if(1&e&&(X.cc(0,"div",92),X.cc(1,"div",93),X.Xb(2,"div",94),X.bc(),X.bd(3,fm,2,0,"ng-container",95),X.vc(4,"async"),X.bd(5,_m,1,0,"ng-template",null,96,X.cd),X.bc()),2&e){const e=X.Rc(6),t=X.uc();X.Ib(3),X.Dc("ngIf",X.wc(4,2,t.allUseCasesSelected$))("ngIfElse",e)}}function ym(e,t){if(1&e){const e=X.dc();X.cc(0,"div",97),X.cc(1,"div",98),X.cc(2,"div",99),X.Xb(3,"div",100),X.bc(),X.cc(4,"div",101),X.Xb(5,"div",2),X.bc(),X.bc(),X.cc(6,"h2",102),X.dd(7," No templates found "),X.bc(),X.cc(8,"p",103),X.dd(9," Try to use a different search request or use filters while browsing "),X.bc(),X.cc(10,"button",104),X.qc("click",function(){X.Uc(e);const t=X.uc();return X.Rc(4).value="",t.clearSearchTerm.emit()}),X.dd(11," Browse Templates "),X.bc(),X.bc()}}let wm=(()=>{class e{constructor(){this.updaterowExpandedMap=new X.o,this.onTemplateSelect=new X.o,this.onUpdateSearchTerm=new X.o,this.clearSearchTerm=new X.o,this.onUpdateCreatorFilter=new X.o,this.onUpdateUseCaseFilters=new X.o,this.onUpdateTagFilters=new X.o,this.onLoadMoreTeamTemplates=new X.o,this.onQuickCreate=new X.o,this.onUpdateTemplate=new X.o,this.onTabChange=new X.o,this.TemplateCenterTab=fa,this.TemplateTypes=Hi.d,this.slidePositionMap={},this.rowTransformMap={},this.trackByProperty=Object(be.d)("type"),this.destroy$=new Ee.a,this.debounceSearch$=new Ee.a,this.selectedCreator$=new oa.a([]),this.tagsToFilter$=new oa.a([]),this.tagsToChoose$=new oa.a([]),this.filteredTagsToChoose$=new oa.a(this.tagsToChoose$.value),this.searchTags=(e,t)=>e.name.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())}ngOnChanges(e){e.tags&&(this.tagsToChoose$.next(this.tags),this.tagsToFilter$.next(this.tagsFilter))}ngAfterViewInit(){setTimeout(()=>{this.templateSearch&&this.templateSearch.nativeElement.focus()},100),this.lastScrollPos&&this.mainContainer.nativeElement.scroll(0,this.lastScrollPos)}ngOnInit(){this.debounceSearch$.pipe(Object(Ht.a)(250),Object(Re.a)(this.destroy$)).subscribe(e=>this.onUpdateSearchTerm.next(e)),this.allUseCasesSelected$=this.clickUpTemplateUseCasesFilter$.pipe(Object(Fe.a)(e=>Object.values(e).every(e=>e))),this.useCaseItems$=this.clickUpTemplateUseCasesFilter$.pipe(Object(cp.a)({}),Object(qt.a)(this.allUseCasesSelected$),Object(Fe.a)(([e,t])=>{const i=[{title:"AAA",textTemplate:this.allUseCaseTemplate,customPayload:()=>{const i=Object.entries(e).reduce((e,[i,a])=>(e[i]=!t,e),{});this.onUpdateUseCaseFilters.emit(i)}}].concat(Object.entries(e).map(([t,i])=>({title:t,textTemplate:this.useCaseItemTemplate,checked:i,customPayload:()=>{const a=Object.assign(Object.assign({},e),{[t]:!i});this.onUpdateUseCaseFilters.emit(a)}})));return Object(np.a)(i,"title")}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}slideRow(e,t){const i=e.id,a=e.templates.length-1,o=this.slidePositionMap[i]||0;this.slidePositionMap[i]="left"===t?o-1:o+1,"right"===t&&6*this.slidePositionMap[i]>a?this.slidePositionMap[i]-=1:("left"===t&&this.slidePositionMap[i]<=0&&(this.slidePositionMap[i]=0),this.rowTransformMap[i]=`translateX(-${91.5*this.slidePositionMap[i]}%) translateX(-${48*this.slidePositionMap[i]}px)`,this.selectedTab===fa.TEAM&&6*(this.slidePositionMap[i]+1)>=a&&this.loadMoreTeamTemplates(e))}loadMoreTeamTemplates(e,t=!0){!e.last_page&&t&&this.onLoadMoreTeamTemplates.emit({start:e.start,start_id:"t-"+e.templates[e.templates.length-1].id,start_type:e.start_type})}toggleRowExpand(e){const t=e.id;this.updaterowExpandedMap.emit({id:t,value:!this.rowExpandedMap[t]})}scrollToTab(e){const t=e===fa.TEAM?this.teamSection:this.clickUpSection;t&&this.mainContainer.nativeElement.scroll({behavior:"smooth",top:t.nativeElement.offsetTop-this.mainContainer.nativeElement.offsetTop})}changeTab(e,t){(e===fa.TEAM&&!t||this.filteringClickUpTemplates)&&this.onTabChange.emit(fa.CLICKUP),(e===fa.CLICKUP&&!t||this.filteringTeamTemplates)&&this.onTabChange.emit(fa.TEAM)}filterTag(e){const t=this.tagsToChoose$.value.filter(t=>t.id!==e.id);this.tagsToChoose$.next(t);const i=Object(nr.a)(this.tagsToFilter$.value);i.push(e),this.tagsToFilter$.next(i),this.updateTagFilters()}removeFilterTag(e){const t=this.tagsToFilter$.value.filter(t=>t.id!==e.id);this.tagsToFilter$.next(t);const i=Object(nr.a)(this.tagsToChoose$.value);i.push(e),this.tagsToChoose$.next(i),this.updateTagFilters()}updateTagFilters(){this.onUpdateTagFilters.emit(this.tagsToFilter$.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-main"]],viewQuery:function(e,t){if(1&e&&(X.jd(wp,1,X.m),X.jd(kp,1,X.m),X.jd(xp,1,X.m),X.jd(Tp,3),X.jd(Sp,3),X.jd(jp,1)),2&e){let e;X.Qc(e=X.rc())&&(t.teamSection=e.first),X.Qc(e=X.rc())&&(t.clickUpSection=e.first),X.Qc(e=X.rc())&&(t.mainContainer=e.first),X.Qc(e=X.rc())&&(t.useCaseItemTemplate=e.first),X.Qc(e=X.rc())&&(t.allUseCaseTemplate=e.first),X.Qc(e=X.rc())&&(t.templateSearch=e.first)}},hostAttrs:[1,"cu-template-center-main"],inputs:{loading:"loading",selectedTab:"selectedTab",team:"team",teamTemplates:"teamTemplates",teamTemplatesTotalCount:"teamTemplatesTotalCount",teamTemplateCreators:"teamTemplateCreators",clickUpTemplates:"clickUpTemplates",clickUpTemplateCounts:"clickUpTemplateCounts",clickUpTemplateTotalCount:"clickUpTemplateTotalCount",clickUpTemplateUseCasesFilter$:"clickUpTemplateUseCasesFilter$",rowExpandedMap:"rowExpandedMap",suggestedTemplates:"suggestedTemplates",featuredTemplates:"featuredTemplates",forOnboarding:"forOnboarding",fromTaskDraft:"fromTaskDraft",creatingTask:"creatingTask",teamHasTemplates:"teamHasTemplates",filteringTeamTemplates:"filteringTeamTemplates",filteringClickUpTemplates:"filteringClickUpTemplates",tags:"tags",tagsFilter:"tagsFilter",filterParams:"filterParams",lastScrollPos:"lastScrollPos",selectedCreator:"selectedCreator"},outputs:{updaterowExpandedMap:"updaterowExpandedMap",onTemplateSelect:"onTemplateSelect",onUpdateSearchTerm:"onUpdateSearchTerm",clearSearchTerm:"clearSearchTerm",onUpdateCreatorFilter:"onUpdateCreatorFilter",onUpdateUseCaseFilters:"onUpdateUseCaseFilters",onUpdateTagFilters:"onUpdateTagFilters",onLoadMoreTeamTemplates:"onLoadMoreTeamTemplates",onQuickCreate:"onQuickCreate",onUpdateTemplate:"onUpdateTemplate",onTabChange:"onTabChange"},features:[X.Gb],decls:21,vars:12,consts:function(){let e;return e=$localize`:form input placeholder@@forms_placeholder--search-1␟8aa58cf00d949c509df91c621ab38131df0a7599␟8854094932942190741:Search...`,[[1,"cu-template-center-main__header"],[1,"cu-template-center-main__header-item","cu-template-center-main__header-search"],["icon","cu2-search2"],["type","text","placeholder","Search templates...",3,"value","input"],["templateSearch",""],["class","cu-template-center-main__header-search-clear","icon","cu2-close",3,"click",4,"ngIf"],[3,"items","menuContainerModifier","autoClose","dropdownCloseOnModal","showSearch","dropdownPlacement","onSelect",4,"ngIf"],["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownModifierClass",4,"ngIf"],[3,"users","onlyLoadForEmptyList","selectedUsers","onChange"],["class","cu-template-center-main__header-item cu-template-center-main__header-creator",3,"cuTooltip",4,"ngIf"],["class","cu-template-center-main__template-section-loader",4,"ngIf"],["class","cu-template-center-main__template-section",4,"ngIf"],["groupRowTemplate",""],["useCaseItemTemplate",""],["allUseCaseTemplate",""],["noSearchResults",""],["icon","cu2-close",1,"cu-template-center-main__header-search-clear",3,"click"],[3,"items","menuContainerModifier","autoClose","dropdownCloseOnModal","showSearch","dropdownPlacement","onSelect"],["class","cu-template-center-main__header-item cu-template-center-main__header-cases",4,"ngIf"],[1,"cu-template-center-main__header-item","cu-template-center-main__header-cases"],["icon","cu2-briefcase-2"],[1,"cu-template-center-main__header-item-text"],["icon","cu2-angle-down-2",1,"cu-template-center-main__header-item-down-arrow"],["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownModifierClass"],["cuDropdownToggle","",1,"cu-template-center-main__header-tags-dropdown-toggle"],[1,"cu-template-center-main__header-item","cu-template-center-main__header-tags"],["icon","cu2-tag-o",4,"ngIf"],["class","cu-template-center-main__header-tag-count",4,"ngIf"],[4,"cuDropdownMenu"],["icon","cu2-tag-o"],[1,"cu-template-center-main__header-tag-count"],[1,"cu-template-center-main__header-tags-dropdown-menu"],["class","cu-template-center-main__header-tags-dropdown-menu-top",4,"ngIf"],["autoFocus","true","placeholder",e,3,"items","filterfn","modifierSearchInput","onUpdate"],[1,"cu-template-center-main__header-tags-dropdown-menu-main",3,"perfectScrollbar"],["class","cu-template-center-main__header-tags-dropdown-menu-item",3,"backgroundColor","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-main__header-tags-dropdown-menu-top"],["class","cu-template-center-main__header-tags-dropdown-menu-item",3,"backgroundColor",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-main__header-tags-dropdown-menu-item"],[1,"cu-template-center-main__header-tags-dropdown-menu-item-remove"],["icon","cu2-times",3,"click"],[1,"cu-template-center-main__header-tags-dropdown-menu-item",3,"click"],[1,"cu-template-center-main__header-item","cu-template-center-main__header-creator",3,"cuTooltip"],["icon","cu2-assign-3",4,"ngIf"],[3,"user",4,"ngIf"],["icon","cu2-assign-3"],[3,"user"],[1,"cu-template-center-main__template-section-loader"],[1,"cu-template-center-main__template-section"],["mainContainer",""],["class","cu-template-center-main__section",3,"scrollContainer","isInViewPortEnabled","cuIsInViewport",4,"ngIf"],[1,"cu-template-center-main__section",3,"scrollContainer","isInViewPortEnabled","cuIsInViewport"],["teamSection",""],[1,"cu-template-center-main__section-header"],[1,"cu-template-center-main__section-header-text"],[1,"cu-template-center-main__section-header-line"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["clickUpSection",""],["class","cu-template-center-main__section-header",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"cu-template-center-main__empty-header"],["class","cu-template-center-main__empty-header-left",4,"ngIf"],[1,"cu-template-center-main__empty-header-right"],["href","https://docs.clickup.com/en/articles/1178567-templates","target","_blank",1,"cu-template-center-main__empty-header-learn-more"],[3,"ngTemplateOutlet"],[1,"cu-template-center-main__empty-header-left"],[1,"cu-template-center-main__empty-header-left-header"],[1,"cu-template-center-main__empty-header-left-subheader"],[1,"cu-template-center-main__rows"],[1,"cu-template-center-main__row-container"],["class","cu-template-center-main__row-container-arrow cu-template-center-main__row-container-arrow-left",3,"click",4,"ngIf"],["class","cu-template-center-main__row-container-arrow cu-template-center-main__row-container-arrow-right",3,"click",4,"ngIf"],[1,"cu-template-center-main__row-header"],[1,"cu-template-center-main__row-header-text"],["class","cu-template-center-main__row-controls",4,"ngIf"],["class","cu-template-center-main__row",3,"cu-template-center-main__row-expanded",4,"ngIf","ngIfElse"],["twoRows",""],[1,"cu-template-center-main__row-container-arrow","cu-template-center-main__row-container-arrow-left",3,"click"],["icon","cu2-angle-right",1,"cu-template-center-main__row-container-arrow-icon"],[1,"cu-template-center-main__row-container-arrow","cu-template-center-main__row-container-arrow-right",3,"click"],[1,"cu-template-center-main__row-controls"],[1,"cu-template-center-main__row-controls-more","cu-template-center-main__row-controls-more-no-border",3,"click"],[1,"cu-template-center-main__row"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-template-center-main__row-load-more","style","pointer-events: none",3,"scrollContainer","isInViewPortEnabled","cuIsInViewport",4,"ngIf"],[3,"template","fromTaskDraft","creatingTask","click","onQuickCreate","onUpdateTemplate"],[1,"cu-template-center-main__row-load-more",2,"pointer-events","none",3,"scrollContainer","isInViewPortEnabled","cuIsInViewport"],[1,"cu-template-center-main__row-slider"],[3,"template","fromTaskDraft","creatingTask","click","onQuickCreate","onUpdateTemplate",4,"ngIf"],[1,"cu-template-center-main__dropdown-item"],[1,"cu-template-center-main__dropdown-item-checkbox"],["icon","cu2-check-3"],[4,"ngIf","ngIfElse"],["selectAll",""],[1,"cu-template-center-main__template-section-empty"],[1,"cu-template-center-main__template-section-empty-icons"],[1,"cu-template-center-main__template-section-empty-icons-template-center"],["icon","template-center"],[1,"cu-template-center-main__template-section-empty-icons-search"],[1,"cu-template-center-main__template-section-empty-header-text"],[1,"cu-template-center-main__template-section-empty-sub-text"],[1,"cu-template-center-main__template-section-empty-browse-btn",3,"click"]]},template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.Xb(2,"div",2),X.cc(3,"input",3,4),X.qc("input",function(e){return t.debounceSearch$.next(e.target.value)}),X.bc(),X.bd(5,Op,1,0,"div",5),X.bc(),X.bd(6,Cp,3,10,"cu-dropdown-list",6),X.vc(7,"async"),X.bd(8,Fp,12,12,"div",7),X.cc(9,"cu-user-list-dropdown",8),X.qc("onChange",function(e){return t.selectedCreator$.next(e),t.onUpdateCreatorFilter.emit(e)}),X.bd(10,Rp,5,3,"div",9),X.bc(),X.bc(),X.bd(11,Gp,2,0,"div",10),X.bd(12,am,4,2,"div",11),X.bd(13,bm,11,6,"ng-template",null,12,X.cd),X.bd(15,gm,4,3,"ng-template",null,13,X.cd),X.bd(17,vm,7,4,"ng-template",null,14,X.cd),X.bd(19,ym,12,0,"ng-template",null,15,X.cd)),2&e){const e=X.Rc(4);X.Ib(3),X.Dc("value",null==t.filterParams?null:t.filterParams.name),X.Ib(2),X.Dc("ngIf",e.value),X.Ib(1),X.Dc("ngIf",X.wc(7,10,t.useCaseItems$)),X.Ib(2),X.Dc("ngIf",!t.filteringClickUpTemplates),X.Ib(1),X.Dc("users",t.teamTemplateCreators)("onlyLoadForEmptyList",!0)("selectedUsers",t.selectedCreator),X.Ib(1),X.Dc("ngIf",!t.filteringClickUpTemplates),X.Ib(1),X.Dc("ngIf",t.loading),X.Ib(1),X.Dc("ngIf",!t.loading)}},directives:[Qe.a,n.q,Rl.a,sp.a,Ar.b,Fr.a,Ur.a,rp.a,er.a,n.p,Lr.a,lp.a,Ze.a,dp.a,n.x,yp],pipes:[n.b],styles:['.cu-template-center-main{flex-grow:1;background-color:#fafbfc;max-width:calc(100% - 230px)}.dark-theme .cu-template-center-main{background-color:#2b343b}.cu-template-center-main__header{height:84px;display:flex;align-items:center;padding:0 24px}.cu-template-center-main__header-item{height:36px;display:flex;align-items:center;background-color:#fff;border:1px solid #e9ebf0;margin-left:12px;padding:0 10px;border-radius:4px}.dark-theme .cu-template-center-main__header-item{border-color:#1e272e;background-color:#384047}.cu-template-center-main__header-item .icon{width:14px;height:14px;fill:#7c828d;margin-right:8px}.cu-template-center-main__header-item-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;flex-grow:1;text-transform:capitalize}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__header-item-text{font-family:var(--global-font-support)}}.cu-template-center-main__header-item-text-active{color:var(--theme-main-color)}.dark-theme .cu-template-center-main__header-item-text{color:#d5d6d7}.cu-template-center-main__header-item-down-arrow.icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:8px;height:4px;margin-right:0;fill:#292d34}.dark-theme .cu-template-center-main__header-item-down-arrow.icon{fill:#d5d6d7}.cu-dropdown_open>div>div>.cu-template-center-main__header-item-down-arrow.icon{transform:rotate(180deg)}.cu-template-center-main__header-search{flex-grow:1;margin-right:0}.cu-template-center-main__header-search input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;flex-grow:1;border:none;background-color:transparent;box-shadow:none!important}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__header-search input{font-family:var(--global-font-support)}}.cu-template-center-main__header-search input:-ms-input-placeholder{opacity:.7}.cu-template-center-main__header-search input::placeholder{opacity:.7}.cu-template-center-main__header-search>.cu-template-center-main__header-search-clear{width:9px;height:9px}.cu-template-center-main__header-search>.cu-template-center-main__header-search-clear :hover{cursor:pointer}.cu-template-center-main__header-cases{width:136px}.cu-template-center-main__header-tags{width:102px}.cu-template-center-main__header-tags-dropdown-menu{display:flex;flex-direction:column;align-items:flex-start}.cu-template-center-main__header-tags-dropdown-menu-top{padding:4px;border-bottom:1px solid #e9ebf0;display:flex;flex-wrap:wrap;align-items:center;min-height:32px;width:100%}.dark-theme .cu-template-center-main__header-tags-dropdown-menu-top{border-color:#1e272e}.cu-template-center-main__header-tags-dropdown-menu-top-placeholder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;padding-left:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__header-tags-dropdown-menu-top-placeholder{font-family:var(--global-font-support)}}.cu-template-center-main__header-tags-dropdown-menu-search{border-radius:0;margin:0;border:none;border-bottom:1px solid #e9ebf0}.dark-theme .cu-template-center-main__header-tags-dropdown-menu-search{border-color:#1e272e}.cu-template-center-main__header-tags-dropdown-menu-main{display:flex;flex-direction:column;align-items:flex-start;padding:8px;width:100%}.cu-template-center-main__header-tags-dropdown-menu-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;border-radius:4px;height:24px;padding:0 6px;display:flex;align-items:center;justify-content:center;color:#fff;margin:4px;cursor:pointer;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__header-tags-dropdown-menu-item{font-family:var(--global-font-support)}}.cu-template-center-main__header-tags-dropdown-menu-item:hover .cu-template-center-main__header-tags-dropdown-menu-item-remove{opacity:1}.cu-template-center-main__header-tags-dropdown-menu-item-remove{position:absolute;display:flex;align-items:center;right:0;top:0;height:24px;padding:0 5px;opacity:0;border-radius:4px}.cu-template-center-main__header-tags-dropdown-menu-item-remove .icon{cursor:pointer;fill:#fff;height:10px;width:10px}.cu-template-center-main__header-creator{width:135px}.cu-template-center-main__header-creator .icon{margin-right:0}.cu-template-center-main__header-cases,.cu-template-center-main__header-creator,.cu-template-center-main__header-tags{transition:filter .2s cubic-bezier(.785,.135,.15,.86) 0s;filter:brightness(100%)}.cu-template-center-main__header-cases:hover,.cu-template-center-main__header-creator:hover,.cu-template-center-main__header-tags:hover{filter:brightness(97%)}.cu-template-center-main__header-tag-count{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px;line-height:1;min-width:16px;height:16px;background:var(--theme-main-color);border-radius:4px;padding:0 4px;margin-right:8px;display:flex;align-items:center;justify-content:center;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__header-tag-count{font-family:var(--global-font-support)}}.cu-template-center-main__template-section{max-height:calc(100% - 140px);overflow-y:auto;overflow-x:hidden}.cu-template-center-main__template-section-empty{display:flex;flex-direction:column;align-items:center;max-width:235px;margin:65px auto}.cu-template-center-main__template-section-empty-icons{position:relative;padding:8px}.cu-template-center-main__template-section-empty-icons-template-center{background:var(--theme-main-color);border-radius:12px;width:72px;height:72px;margin:12px;display:flex;justify-content:center;align-items:center;padding:8px}.cu-template-center-main__template-section-empty-icons-template-center .icon{width:32px;height:32px;fill:#fff}.cu-template-center-main__template-section-empty-icons-search{position:absolute;background:#fff;border-radius:50%;width:24px;height:24px;right:11px;bottom:11px;padding:4px;box-shadow:0 4px 12px rgba(0,0,0,.12)}.cu-template-center-main__template-section-empty-icons-search .icon{fill:var(--theme-main-color)}.cu-template-center-main__template-section-empty-header-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;margin:12px;text-align:center;color:#292d34;line-height:14px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__template-section-empty-header-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-main__template-section-empty-header-text{color:#d5d6d7}.cu-template-center-main__template-section-empty-sub-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;text-align:center;color:#292d34;line-height:18px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__template-section-empty-sub-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-main__template-section-empty-sub-text{color:#d5d6d7}.cu-template-center-main__template-section-empty-browse-btn{width:161px;height:36px;margin-top:24px;border-radius:4px;border:none;background:var(--theme-main-color);color:#fff}.cu-template-center-main__section{padding-bottom:48px}.cu-template-center-main__section-header{display:flex;align-items:center;justify-content:space-between;padding:0 24px}.cu-template-center-main__section-header-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:18px;line-height:1;color:#292d34;padding-right:16px;white-space:nowrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__section-header-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-main__section-header-text{color:#d5d6d7}.cu-template-center-main__section-header-line{flex-grow:1;background-color:#e9ebf0;width:100%;height:2px}.dark-theme .cu-template-center-main__section-header-line{background-color:#1e272e}.cu-template-center-main__rows{padding-left:24px}.cu-template-center-main__row-container{margin-top:24px;position:relative}.cu-template-center-main__row-container:hover .cu-template-center-main__row-container-arrow{opacity:1}.cu-template-center-main__row-container-arrow{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:30px;opacity:0;height:316px;width:48px;cursor:pointer;z-index:8;display:flex;align-items:center;justify-content:center;background:rgba(250,251,252,.9);overflow:hidden}.dark-theme .cu-template-center-main__row-container-arrow{background:rgba(56,64,71,.8)}.cu-template-center-main__row-container-arrow:before{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;content:"";top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.1);z-index:7;opacity:0;pointer-events:none}.cu-template-center-main__row-container-arrow .icon{fill:#292d34;height:18px;width:18px;position:relative;z-index:9}.dark-theme .cu-template-center-main__row-container-arrow .icon{fill:#b9bec7}.cu-template-center-main__row-container-arrow:hover:before{opacity:1}.cu-template-center-main__row-container-arrow-left{left:-24px;border-radius:4px 0 0 4px}.cu-template-center-main__row-container-arrow-left .icon{transform:rotate(180deg)}.cu-template-center-main__row-container-arrow-right{right:0;border-radius:0 4px 4px 0}.cu-template-center-main__row{display:flex;flex-wrap:nowrap}.cu-template-center-main__row:not(:first-of-type){margin-top:16px}.cu-template-center-main__row-slider{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu-template-center-main__row-load-more{position:absolute;bottom:300px;right:0}.cu-template-center-main__row-expanded{transition:none;flex-wrap:wrap;transform:none!important;margin-right:8px;justify-content:flex-start;position:relative}.cu-template-center-main__row-expanded .cu-template-center-template{margin-bottom:16px;width:232px}.cu-template-center-main__row-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;display:flex;margin-bottom:14px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__row-header{font-family:var(--global-font-support)}}.cu-template-center-main__row-header-text{flex-grow:1;color:#292d34;text-transform:capitalize}.dark-theme .cu-template-center-main__row-header-text{color:#d5d6d7}.cu-template-center-main__row-controls{display:flex;align-items:center;margin-right:24px}.cu-template-center-main__row-controls-more{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;height:16px;display:flex;align-items:center;color:#7c828d;padding-right:10px;margin-right:5px;border-right:2px solid #e9ebf0;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__row-controls-more{font-family:var(--global-font-support)}}.cu-template-center-main__row-controls-more-no-border{margin-right:0;padding-right:10px;border:none}.cu-template-center-main__row-controls-more:hover{color:var(--theme-main-color)}.dark-theme .cu-template-center-main__row-controls-more{color:#828588;border-color:#1e272e}.cu-template-center-main__row-controls-arrows{display:flex;align-items:center}.cu-template-center-main__row-controls-arrows .icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;height:16px;width:16px;padding:2px;fill:#7c828d;cursor:pointer;border-radius:2px}.dark-theme .cu-template-center-main__row-controls-arrows .icon{fill:#828588}.cu-template-center-main__row-controls-arrows .icon:first-of-type{transform:rotate(180deg)}.cu-template-center-main__row-controls-arrows .icon:hover{fill:#fff;background-color:var(--theme-main-color)}.cu-template-center-main__row-none{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;padding-bottom:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__row-none{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-main__row-none{color:#828588}.cu-template-center-main__dropdown-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;height:16px;display:flex;align-items:center;cursor:pointer;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__dropdown-item{font-family:var(--global-font-support)}}.cu-template-center-main__dropdown-item-checkbox{width:16px;height:16px;border-radius:3px;border:1px solid #e9ebf0;margin-right:12px}.dark-theme .cu-template-center-main__dropdown-item-checkbox{border-color:#1e272e}.cu-template-center-main__dropdown-item-checkbox .icon{display:none}.cu-template-center-main__dropdown-item-active>.cu-template-center-main__dropdown-item-checkbox{border-color:var(--theme-main-color);background-color:var(--theme-main-color)}.cu-template-center-main__dropdown-item-active>.cu-template-center-main__dropdown-item-checkbox .icon{display:inline;fill:#fff}.cu-template-center-main__empty-header{display:flex;align-items:center;justify-content:space-between;background:#fff;border:1px solid #e9ebf0;box-shadow:0 1px 3px rgba(0,0,0,.05);border-radius:4px;padding:16px;margin:10px 24px 16px}.dark-theme .cu-template-center-main__empty-header{border-color:#1e272e;background:#384047}.cu-template-center-main__empty-header-left{max-width:460px}.cu-template-center-main__empty-header-left-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#292d34;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__empty-header-left-header{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-main__empty-header-left-header{color:#828588}.cu-template-center-main__empty-header-left-subheader{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:16px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__empty-header-left-subheader{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-main__empty-header-left-subheader{color:#828588}.cu-template-center-main__empty-header-right{display:flex;align-items:center}.cu-template-center-main__empty-header-learn-more{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#fff;background:var(--theme-main-color);width:114px;height:40px;border-radius:4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-main__empty-header-learn-more{font-family:var(--global-font-support)}}.cu-template-center-main__empty-header-learn-more:hover{background:var(--theme-main-color-dark)}.cu-template-center-main .ps__rail-y{z-index:9}'],encapsulation:2,changeDetection:0}),e})();var km=i("OL4R"),xm=i("PqYM"),Tm=i("HEHP"),Sm=i("U4Ha"),jm=i("TIdT"),Om=i("8it8"),Im=i("0QFR"),Dm=i("yECk"),Cm=i("ukJz"),Pm=i("QkWf"),$m=i("PPkR");function zm(e,t){1&e&&(X.cc(0,"div",13),X.Xb(1,"cu-loader",14),X.bc())}function Mm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.cc(1,"div",19),X.dd(2),X.vc(3,"hierarchyTextPipe"),X.bc(),X.cc(4,"input",20),X.qc("ngModelChange",function(t){return X.Uc(e),X.uc(2).newTemplateName=t}),X.vc(5,"hierarchyTextPipe"),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(2),X.fd(" ",X.wc(3,3,null==e.selectedTemplate?null:e.selectedTemplate.type)," name "),X.Ib(2),X.Dc("placeholder","Enter "+X.wc(5,5,null==e.selectedTemplate?null:e.selectedTemplate.type)+" name...")("ngModel",e.newTemplateName)}}function Em(e,t){if(1&e&&(X.cc(0,"div",24),X.dd(1),X.bc()),2&e){const e=X.uc(3);X.Ib(1),X.hd(" ",e.parentSpace?null==e.parentSpace?null:e.parentSpace.name:""," ",e.parentFolder&&"hidden"!==(null==e.parentFolder?null:e.parentFolder.name)?"> "+(null==e.parentFolder?null:e.parentFolder.name):""," ",e.parentList?"> "+(null==e.parentList?null:e.parentList.name):""," ")}}function Lm(e,t){if(1&e&&(X.cc(0,"div",24),X.dd(1),X.bc()),2&e){const e=X.uc(3);X.Ib(1),X.ed(null==e.team?null:e.team.name)}}function Am(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.cc(1,"div",19),X.dd(2),X.vc(3,"hierarchyTextPipe"),X.bc(),X.cc(4,"cu-category-list-dropdown",21),X.qc("onSelect",function(t){return X.Uc(e),X.uc(2).updateParent(t)}),X.bd(5,Em,2,3,"div",22),X.bd(6,Lm,2,1,"ng-template",null,23,X.cd),X.bc(),X.bc()}if(2&e){const e=X.Rc(7),t=X.uc(2);X.Ib(2),X.fd(" Select location for this ",X.wc(3,12,null==t.selectedTemplate?null:t.selectedTemplate.type)," to be created "),X.Ib(2),X.Dc("selectableProject",!0)("defaultProject",t.parentSpace)("selectedCategory",null==t.parentFolder?null:t.parentFolder.id)("selectedSubcategory",null==t.parentList?null:t.parentList.id)("singleCategory",!1)("individualSelection",!0)("hideSharedWithMe",!0)("mode",(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Task?"list":"project")("hideSubcategories",(null==t.selectedTemplate?null:t.selectedTemplate.type)!==t.TemplateTypes.Task&&(null==t.selectedTemplate?null:t.selectedTemplate.type)!==t.TemplateTypes.View&&(null==t.selectedTemplate?null:t.selectedTemplate.type)!==t.TemplateTypes.Doc),X.Ib(1),X.Dc("ngIf",t.parentSpace||t.parentFolder||t.parentList)("ngIfElse",e)}}function Fm(e,t){if(1&e&&X.Yb(0,31),2&e){X.uc(3);const e=X.Rc(12);X.Dc("ngTemplateOutlet",e)}}function Um(e,t){if(1&e&&X.Yb(0,31),2&e){X.uc(3);const e=X.Rc(14);X.Dc("ngTemplateOutlet",e)}}function Nm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.cc(1,"div",19),X.dd(2,"Import options"),X.bc(),X.cc(3,"div",25),X.cc(4,"div",26),X.cc(5,"div",27),X.cc(6,"div",28),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.selectedImportOption=t.ImportOptions.EVERYTHING}),X.dd(7," Import everything "),X.bc(),X.bc(),X.cc(8,"div",27),X.cc(9,"div",28),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.selectedImportOption=t.ImportOptions.CUSTOM}),X.dd(10," Customize import items "),X.bc(),X.bc(),X.bc(),X.cc(11,"div",29),X.bd(12,Fm,1,1,"ng-container",30),X.bd(13,Um,1,1,"ng-container",30),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(5),X.Ob("cu-template-center__dual-options-header-tab-disabled",e.selectedImportOption!==e.ImportOptions.EVERYTHING),X.Ib(1),X.Ob("cu-template-center__radio-item-active",e.selectedImportOption===e.ImportOptions.EVERYTHING),X.Ib(2),X.Ob("cu-template-center__dual-options-header-tab-disabled",e.selectedImportOption!==e.ImportOptions.CUSTOM),X.Ib(1),X.Ob("cu-template-center__radio-item-active",e.selectedImportOption===e.ImportOptions.CUSTOM),X.Ib(3),X.Dc("ngIf",e.selectedImportOption===e.ImportOptions.EVERYTHING),X.Ib(1),X.Dc("ngIf",e.selectedImportOption===e.ImportOptions.CUSTOM)}}function Rm(e,t){1&e&&(X.cc(0,"div",19),X.dd(1," Project Dates "),X.bc())}function Gm(e,t){1&e&&(X.cc(0,"div",19),X.dd(1," Remap Subtask Dates "),X.Xb(2,"div",34),X.bc()),2&e&&(X.Ib(2),X.Dc("icon","question"))}function qm(e,t){if(1&e&&X.Yb(0,31),2&e){X.uc(3);const e=X.Rc(16);X.Dc("ngTemplateOutlet",e)}}function Bm(e,t){if(1&e&&X.Yb(0,31),2&e){X.uc(3);const e=X.Rc(18);X.Dc("ngTemplateOutlet",e)}}function Wm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.bd(1,Rm,2,0,"div",32),X.bd(2,Gm,3,1,"div",32),X.cc(3,"div",25),X.cc(4,"div",26),X.cc(5,"div",27),X.cc(6,"div",28),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.selectedDateOption=t.TemplateCenterDateOptions.AS_IS}),X.dd(7," Import as is "),X.bc(),X.bc(),X.cc(8,"div",27),X.cc(9,"div",28),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.selectedDateOption=t.TemplateCenterDateOptions.CUSTOM}),X.dd(10," Remap Dates "),X.bc(),X.cc(11,"a",33),X.dd(12," How it works "),X.bc(),X.bc(),X.bc(),X.cc(13,"div",29),X.bd(14,qm,1,1,"ng-container",30),X.bd(15,Bm,1,1,"ng-container",30),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Task&&(null==e.selectedTemplate?null:e.selectedTemplate.subtasks_with_due_dates)>0),X.Ib(3),X.Ob("cu-template-center__dual-options-header-tab-disabled",e.selectedDateOption!==e.TemplateCenterDateOptions.AS_IS),X.Ib(1),X.Ob("cu-template-center__radio-item-active",e.selectedDateOption===e.TemplateCenterDateOptions.AS_IS),X.Ib(2),X.Ob("cu-template-center__dual-options-header-tab-disabled",e.selectedDateOption!==e.TemplateCenterDateOptions.CUSTOM),X.Ib(1),X.Ob("cu-template-center__radio-item-active",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM),X.Ib(5),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.AS_IS),X.Ib(1),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM)}}function Vm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.cc(1,"div",19),X.dd(2," Do you want to include archived tasks? "),X.bc(),X.cc(3,"div",35),X.cc(4,"div",36),X.qc("click",function(){return X.Uc(e),X.uc(2).selectArchived("no")}),X.dd(5," Nope "),X.bc(),X.cc(6,"div",36),X.qc("click",function(){return X.Uc(e),X.uc(2).selectArchived("unarchived")}),X.dd(7," Yes, but make them unarchived "),X.bc(),X.cc(8,"div",36),X.qc("click",function(){return X.Uc(e),X.uc(2).selectArchived("archived")}),X.dd(9," Yes (keep them archived) "),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(4),X.Ob("cu-template-center__radio-item-active",null==e.archivedMap?null:e.archivedMap.no),X.Ib(2),X.Ob("cu-template-center__radio-item-active",null==e.archivedMap?null:e.archivedMap.unarchived),X.Ib(2),X.Ob("cu-template-center__radio-item-active",null==e.archivedMap?null:e.archivedMap.archived)}}function Xm(e,t){if(1&e&&(X.cc(0,"div",15),X.cc(1,"div",16),X.bd(2,Mm,6,7,"div",17),X.bd(3,Am,8,14,"div",17),X.bd(4,Nm,14,10,"div",17),X.bd(5,Wm,16,12,"div",17),X.bd(6,Vm,10,6,"div",17),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(2),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Task||(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Task&&e.creatingTask),X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Folder||(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.List||(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.FolderAndList||(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Doc||(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.View||(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Task&&e.parentType!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.View&&(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Doc),X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Doc&&(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.View&&((null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Task||(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Task&&(null==e.selectedTemplate?null:e.selectedTemplate.subtasks_with_due_dates)>0)),X.Ib(1),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Task&&(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.View&&(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Doc)}}function Hm(e,t){1&e&&(X.cc(0,"div",37),X.Xb(1,"div",38),X.dd(2," The task template will be appended to the current task "),X.bc())}function Ym(e,t){if(1&e&&(X.ac(0),X.dd(1),X.vc(2,"hierarchyTextPipe"),X.Zb()),2&e){const e=X.uc(2);X.Ib(1),X.fd(" Once you use a template, a new ",X.wc(2,1,null==e.selectedTemplate?null:e.selectedTemplate.type)," will be created in selected location! ")}}function Zm(e,t){if(1&e&&(X.dd(0),X.vc(1,"hierarchyTextPipe")),2&e){const e=X.uc(2);X.fd(" Once you use a template, a new ",X.wc(1,1,null==e.selectedTemplate?null:e.selectedTemplate.type)," will be created! ")}}function Qm(e,t){if(1&e&&(X.cc(0,"div",37),X.bd(1,Ym,3,3,"ng-container",39),X.bd(2,Zm,2,3,"ng-template",null,40,X.cd),X.bc()),2&e){const e=X.Rc(3),t=X.uc();X.Ib(1),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.type)!==t.TemplateTypes.Space)("ngIfElse",e)}}function Km(e,t){if(1&e&&(X.cc(0,"div",41),X.dd(1," Items to import: "),X.bc(),X.cc(2,"div",42),X.dd(3),X.bc()),2&e){const e=X.uc();X.Ib(3),X.fd(" ",e.everythingText," ")}}function Jm(e,t){if(1&e){const e=X.dc();X.cc(0,"div",47),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).toggleImportOption(i.key)}),X.vc(1,"camelCaseToString"),X.dd(2),X.bc()}if(2&e){const e=t.$implicit,i=X.uc(3);X.Ob("cu-template-center__radio-item-active",i.importOptions[null==e?null:e.key])("cu-template-center__radio-item-disabled",!i.bannedOptionsMap[null==e?null:e.key]),X.Dc("cuTooltip",i.bannedOptionsMap[null==e?null:e.key]?null:"The creator of this template did not save "+("include_tasks"===e.title?"tasks":X.wc(1,6,e.title))),X.Ib(2),X.fd(" ",null==e?null:e.title," ")}}function eh(e,t){if(1&e&&(X.cc(0,"div",45),X.bd(1,Jm,3,8,"div",46),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngForOf",e.HIGH_LEVEL_TEMPLATE_OPTIONS)("ngForTrackBy",e.trackByProperty)}}function th(e,t){if(1&e){const e=X.dc();X.cc(0,"div",47),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).toggleImportOption(i.key)}),X.vc(1,"camelCaseToString"),X.dd(2),X.bc()}if(2&e){const e=t.$implicit,i=X.uc(3);X.Ob("cu-template-center__radio-item-active",i.importOptions[null==e?null:e.key])("cu-template-center__radio-item-disabled",!i.bannedOptionsMap[null==e?null:e.key]),X.Dc("cuTooltip",i.bannedOptionsMap[null==e?null:e.key]?null:"The creator of this template did not save "+("include_tasks"===e.title?"tasks":X.wc(1,6,e.title))),X.Ib(2),X.fd(" ",null==e?null:e.title," ")}}function ih(e,t){if(1&e&&(X.cc(0,"div",48),X.bd(1,th,3,8,"div",46),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngForOf",e.filteredOptionsList)("ngForTrackBy",e.trackByProperty)}}function ah(e,t){if(1&e&&(X.cc(0,"div",41),X.dd(1," Select items to import: "),X.bc(),X.bd(2,eh,2,2,"div",43),X.bd(3,ih,2,2,"div",44)),2&e){const e=X.uc();X.Ib(2),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",e.importOptions.include_tasks)}}function oh(e,t){1&e&&(X.cc(0,"div",42),X.gc(1,49),X.bc())}function ch(e,t){if(1&e&&X.Yb(0,31),2&e){X.uc();const e=X.Rc(20);X.Dc("ngTemplateOutlet",e)}}function nh(e,t){1&e&&(X.cc(0,"div"),X.gc(1,57),X.bc())}function sh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",58),X.cc(1,"div",59),X.cc(2,"div",60),X.qc("click",function(){X.Uc(e);const t=X.uc(3);return t.checkSavedData("start"),t.startDateActive=!0,t.dueDateActive=!1}),X.cc(3,"div",61),X.Xb(4,"div",62),X.dd(5," Start Date "),X.bc(),X.cc(6,"div",63),X.dd(7," Use start date if you know when your project is starting. "),X.bc(),X.bc(),X.bc(),X.cc(8,"div",64),X.cc(9,"div",60),X.qc("click",function(){X.Uc(e);const t=X.uc(3);return t.checkSavedData("due"),t.dueDateActive=!0,t.startDateActive=!1}),X.cc(10,"div",61),X.Xb(11,"div",65),X.dd(12," End Date "),X.bc(),X.cc(13,"div",63),X.dd(14," Use end date if you know the final project deadline. "),X.bc(),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(3);X.Ib(2),X.Ob("active",e.startDateActive),X.Ib(7),X.Ob("active",e.dueDateActive)}}function rh(e,t){1&e&&(X.cc(0,"div"),X.dd(1," calculated "),X.Xb(2,"div",76),X.bc())}function lh(e,t){1&e&&(X.cc(0,"div",77),X.dd(1," No Calculated Start Date "),X.bc())}function dh(e,t){if(1&e&&X.Xb(0,"cu-datetime-input",78),2&e){const e=X.uc(4);X.ad("pointer-events","none"),X.Dc("value",e.calculatedStart?e.calculatedStart:e.templateStartDate)("enableFocusAndSelectOnClick",!1)("isActive",e.startDateActive)("isInputActive",e.startDateActive)("showTimeDropdown",!1)("placeholder",e.commonStringsService.selectStartDateText)("autoSize",!1)("type","start")("iconName","cu2-start-date")("allowRRule",!1)("allowClear",!1)("noTime",!0)("timeExists",e.templateDateTime)("disabled",!0)("clickOutsideBodySelector",".template__duedate-tab-body")}}function uh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",79),X.qc("click",function(){return X.Uc(e),X.uc(4).clearDate("start")}),X.bc()}}function ph(e,t){1&e&&(X.cc(0,"div"),X.dd(1," calculated "),X.Xb(2,"div",80),X.bc())}function mh(e,t){1&e&&(X.cc(0,"div",77),X.dd(1," No Calculated End Date "),X.bc())}function hh(e,t){if(1&e&&X.Xb(0,"cu-datetime-input",78),2&e){const e=X.uc(4);X.ad("pointer-events","none"),X.Dc("value",e.calculatedDue?e.calculatedDue:e.templateDueDate)("enableFocusAndSelectOnClick",!1)("isActive",e.dueDateActive)("isInputActive",e.dueDateActive)("showTimeDropdown",!1)("placeholder",e.commonStringsService.selectEndDateText)("autoSize",!1)("type","due")("iconName","cu2-due-date")("allowRRule",!1)("allowClear",!1)("noTime",!0)("timeExists",e.templateDateTime)("disabled",!0)("clickOutsideBodySelector",".template__duedate-tab-body")}}function bh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",79),X.qc("click",function(){return X.Uc(e),X.uc(4).clearDate("due")}),X.bc()}}function gh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",66),X.cc(1,"div",67),X.cc(2,"div",68),X.cc(3,"div",69),X.dd(4," START DATE "),X.bd(5,rh,3,0,"div",50),X.bc(),X.cc(6,"div",70),X.bd(7,lh,2,0,"div",71),X.cc(8,"cu-recurring-date-dropdown",72),X.qc("onChange",function(t){return X.Uc(e),X.uc(3).selectDate("start",t)}),X.bd(9,dh,1,17,"cu-datetime-input",73),X.bc(),X.bd(10,uh,1,0,"div",74),X.bc(),X.bc(),X.bc(),X.cc(11,"div",75),X.cc(12,"div",68),X.cc(13,"div",69),X.dd(14," END DATE "),X.bd(15,ph,3,0,"div",50),X.bc(),X.cc(16,"div",70),X.bd(17,mh,2,0,"div",71),X.cc(18,"cu-recurring-date-dropdown",72),X.qc("onChange",function(t){return X.Uc(e),X.uc(3).selectDate("due",t)}),X.bd(19,hh,1,17,"cu-datetime-input",73),X.bc(),X.bd(20,bh,1,0,"div",74),X.bc(),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(3);X.Ib(5),X.Dc("ngIf",e.calculatedStart),X.Ib(1),X.Ob("grey",e.calculatedStart),X.Ib(1),X.Dc("ngIf","noDate"===e.calculatedStart),X.Ib(1),X.Dc("selectedDate",e.templateStartDate)("showStart",!1)("dateTitle",e.commonStringsService.startDateText),X.Ib(1),X.Dc("ngIf","noDate"!==e.calculatedStart),X.Ib(1),X.Dc("ngIf",e.templateStartDate),X.Ib(5),X.Dc("ngIf",e.calculatedDue),X.Ib(1),X.Ob("grey",e.calculatedDue),X.Ib(1),X.Dc("ngIf","noDate"===e.calculatedDue),X.Ib(1),X.Dc("selectedDate",e.templateDueDate)("showStart",!1)("dateTitle","End Date"),X.Ib(1),X.Dc("ngIf","noDate"!==e.calculatedDue),X.Ib(1),X.Dc("ngIf",e.templateDueDate)}}function fh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",81),X.cc(1,"cu-toggle-switch",82),X.qc("onChange",function(){return X.Uc(e),X.uc(3).toggleSkipWeekends()}),X.bc(),X.dd(2," Skip Weekends "),X.bc()}if(2&e){const e=X.uc(3);X.Ib(1),X.Dc("checked",e.skipWeekends)}}function _h(e,t){1&e&&(X.cc(0,"div",83),X.cc(1,"div",84),X.dd(2," Ensure dates don\u2019t fall on weekends. We\u2019ll only count weekdays in the duration of a task. "),X.cc(3,"a",85),X.dd(4,"Learn more"),X.bc(),X.bc(),X.bc())}function vh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",86),X.cc(1,"cu-toggle-switch",82),X.qc("onChange",function(){X.Uc(e);const t=X.uc(3);return t.importOptions.oldStatus=!t.importOptions.oldStatus}),X.bc(),X.dd(2," Import all tasks as open "),X.Xb(3,"div",87),X.bc()}if(2&e){const e=X.uc(3);X.Ib(1),X.Dc("checked",!e.importOptions.oldStatus)}}function yh(e,t){if(1&e){const e=X.dc();X.cc(0,"div"),X.cc(1,"div",88),X.cc(2,"div"),X.dd(3,"Parent Task Due Date:"),X.bc(),X.cc(4,"cu-recurring-date-dropdown",89),X.qc("onChange",function(t){return X.Uc(e),X.uc(3).setDueDate(t)}),X.cc(5,"cu-due-date-view",90),X.qc("onChange",function(t){return X.Uc(e),X.uc(3).setDueDate(t)}),X.bc(),X.bc(),X.bc(),X.cc(6,"div",88),X.cc(7,"div",91),X.dd(8," With this feature, you can choose a new due date for the parent task, and all subtask dates will be automatically changed based on the difference. For example, if you increase the parent task due date by 5 days, all subtask dates will also be increased by 5 days. "),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(3);X.Ib(4),X.Dc("selectedDate",e.dueDate)("showStart",!1),X.Ib(1),X.Dc("selectedDate",e.dueDate)("showTime",e.dueDateTime)}}function wh(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",51),X.bd(2,nh,2,0,"div",50),X.bd(3,sh,15,4,"div",52),X.bd(4,gh,21,18,"div",53),X.bd(5,fh,3,1,"div",54),X.bd(6,_h,5,0,"div",55),X.bd(7,vh,4,1,"div",56),X.bd(8,yh,9,4,"div",50),X.bc(),X.Zb()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.AS_IS),X.Ib(1),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM&&e.selectedTemplate.type!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM&&e.selectedTemplate.type!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM&&e.selectedTemplate.type!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM&&e.selectedTemplate.type!==e.TemplateTypes.Task&&e.skipWeekends),X.Ib(1),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM&&e.selectedTemplate.type!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",e.selectedDateOption===e.TemplateCenterDateOptions.CUSTOM&&e.selectedTemplate.type===e.TemplateTypes.Task)}}function kh(e,t){if(1&e&&X.bd(0,wh,9,7,"ng-container",50),2&e){const e=X.uc();X.Dc("ngIf",e.selectedTemplate.type!==e.TemplateTypes.Task||(null==e.selectedTemplate?null:e.selectedTemplate.subtasks_with_due_dates)>0)}}var xh=function(e){return e[e.EVERYTHING=0]="EVERYTHING",e[e.CUSTOM=1]="CUSTOM",e}({}),Th=function(e){return e[e.AS_IS=0]="AS_IS",e[e.CUSTOM=1]="CUSTOM",e}({}),Sh=function(e){return e[e.MEMBERS=0]="MEMBERS",e[e.ALL=1]="ALL",e[e.ADMINS=2]="ADMINS",e[e.ME=3]="ME",e[e.TEAM=4]="TEAM",e}({});let jh=(()=>{class e{constructor(e,t,i,a,o,c,n,s,r,l,d,u,p){this.changeDetectorRef=e,this.dataService=t,this.navService=i,this.templateService=a,this.store=o,this.viewTaskService=c,this.dataViewService=n,this.sharedData=s,this.docService=r,this.templateCenterService=l,this.commonStringsService=d,this.amplitudeService=u,this.effects=p,this.onUseTemplate=new X.o,this.onBack=new X.o,this.onClose=new X.o,this.onError=new X.o,this.onShowToast=new X.o,this.onStateChange=new X.o,this.TemplateTypes=Hi.d,this.ImportOptions=xh,this.TemplateCenterDateOptions=Th,this.TemplateVisibility=Sh,this.newTemplateName="",this.publicSharing=!1,this.selectedImportOption=xh.EVERYTHING,this.selectedDateOption=Th.AS_IS,this.templateMembers=[],this.archivedMap={no:!0,unarchived:!1,archived:!1},this.ALL_TEMPLATE_OPTIONS=sr.a,this.HIGH_LEVEL_TEMPLATE_OPTIONS=sr.b,this.everythingText="",this.createButtonDisabled=!1,this.startDateActive=!0,this.dueDateActive=!1,this.skipWeekends=!1,this.templateStartDate=null,this.templateDueDate=null,this.calculatedStart=null,this.calculatedDue=null,this.templateDateTime=!0,this.remapSavedData={templateStartDate:null,templateDueDate:null},this.failedToastItem={title:"Failed to use",description:"This template can not be used in your current location.",modifier:"toast__red"},this.successToastItem={title:"Success!",description:"Selected Template has been used successfully!",modifier:"toast__green"},this.trackByProperty=Object(be.d)("key")}ngOnInit(){return this.importOptions=Object(sr.r)(this.selectedTemplate),this.bannedOptionsMap=Object(nr.a)(this.importOptions),this.everythingText=Object(sr.l)(this.importOptions,this.selectedTemplate.type),this.filteredOptionsList=Object(sr.m)(this.selectedTemplate.type),this.importTasksAsOpen=this.selectedTemplate&&this.selectedTemplate.options&&this.selectedTemplate.options.oldStatus,this.publicSharing=this.selectedTemplate.public_sharing,this.templateVisibility=this.selectedTemplate.template_visibility?this.selectedTemplate.template_visibility:Sh.TEAM,this.checkCreateValid(),this.selectedTemplate.type===Hi.d.View&&this.parentType===Hi.d.View&&this.parent.viewType===this.selectedTemplate.dataViewType||this.selectedTemplate.type===Hi.d.Doc&&this.parentType===Hi.d.Doc?(this.creatingInstantly=!0,void this.create(!0)):(this.selectedTemplate.type!==Hi.d.View&&this.selectedTemplate.type!==Hi.d.Doc||this.initialType!==Hi.d.ListInitialType||this.updateParent({subcategory:this.initialTypeData,project:this.initialTypeData.project_details,category:this.initialTypeData.catObj,type:Hi.d.List}),this.quickCreating?(this.creatingInstantly=!0,void this.create(!0)):(this.selectedTemplate.type===Hi.d.Space&&(this.parent=this.team,this.parentType=Hi.d.Team),void this.populateHierarchyPicker()))}selectArchived(e){for(const t in this.archivedMap)this.archivedMap.hasOwnProperty(t)&&(this.archivedMap[t]=!1);this.archivedMap[e]=!0}toggleImportOption(e){this.bannedOptionsMap[e]&&(this.importOptions[e]=!this.importOptions[e])}getCalculatedStartDate(){this.dataService.getCalculatedListTemplateDate(this.selectedTemplate.id,"due",this.templateDueDate,this.skipWeekends,this.selectedTemplate.type===Hi.d.Folder,this.selectedTemplate.type===Hi.d.Space).pipe(Object(Ne.a)(1)).subscribe(e=>{this.calculatedStart=e.date?di(e.date):"noDate",this.calculatedDue=null,this.changeDetectorRef.detectChanges()})}getCalculatedDueDate(){this.dataService.getCalculatedListTemplateDate(this.selectedTemplate.id,"start",this.templateStartDate,this.skipWeekends,this.selectedTemplate.type===Hi.d.Folder,this.selectedTemplate.type===Hi.d.Space).pipe(Object(Ne.a)(1)).subscribe(e=>{this.calculatedDue=e.date?di(e.date):"noDate",this.calculatedStart=null,this.changeDetectorRef.detectChanges()})}checkSavedData(e){"start"===e&&(this.remapSavedData.templateStartDate?(this.templateStartDate=this.remapSavedData.templateStartDate,this.templateDueDate=null,this.getCalculatedDueDate()):this.clearDates()),"due"===e&&(this.remapSavedData.templateDueDate?(this.templateDueDate=this.remapSavedData.templateDueDate,this.templateStartDate=null,this.getCalculatedStartDate()):this.clearDates())}selectDate(e,t){if(!t.dueDate)return void this.clearDates();const i=this.selectedTemplate.type===Hi.d.Folder,a=this.selectedTemplate.type===Hi.d.Space;let o=t.dueDate.valueOf();t.dueDateTime?this.templateDateTime=!0:(this.templateDateTime=!1,o=Object(nr.a)(t.dueDate).startOf("day").add(4,"hours").valueOf()),"start"===e&&(this.startDateActive=!0,this.dueDateActive=!1,this.templateStartDate=t.dueDate.valueOf(),this.remapSavedData.templateStartDate=t.dueDate.valueOf(),this.templateDueDate=null,this.dataService.getCalculatedListTemplateDate(this.selectedTemplate.id,"start",o,this.skipWeekends,i,a).pipe(Object(Ne.a)(1)).subscribe(e=>{this.calculatedDue=e.date?di(e.date):"noDate",this.calculatedStart=null,this.changeDetectorRef.detectChanges()})),"due"===e&&(this.dueDateActive=!0,this.startDateActive=!1,this.templateDueDate=t.dueDate.valueOf(),this.remapSavedData.templateDueDate=t.dueDate.valueOf(),this.templateStartDate=null,this.dataService.getCalculatedListTemplateDate(this.selectedTemplate.id,"due",o,this.skipWeekends,i,a).pipe(Object(Ne.a)(1)).subscribe(e=>{this.calculatedStart=e.date?di(e.date):"noDate",this.calculatedDue=null,this.changeDetectorRef.detectChanges()}))}clearDates(){this.calculatedStart=null,this.calculatedDue=null,this.templateDueDate=null,this.templateStartDate=null}clearDate(e){"start"===e&&(this.templateStartDate=null,this.calculatedDue=null,this.remapSavedData.templateStartDate=null),"due"===e&&(this.templateDueDate=null,this.calculatedStart=null,this.remapSavedData.templateDueDate=null)}toggleSkipWeekends(){this.skipWeekends=!this.skipWeekends,this.startDateActive&&this.templateStartDate&&this.getCalculatedDueDate(),this.dueDateActive&&this.templateDueDate&&this.getCalculatedStartDate()}setDueDate(e){e.dueDate&&!isNaN(e.dueDate.valueOf())&&(e.dueDate=e.dueDate.valueOf()),this.dueDate=e.dueDate,this.dueDateTime=e.dueDateTime}create(e=!1){if(this.createButtonDisabled&&e&&setTimeout(()=>{this.onShowToast.emit(this.failedToastItem),this.quickCreating?this.onStateChange.emit(_a.MAIN):this.onBack.emit()},500),this.createButtonDisabled)return;if(this.quickCreating&&this.selectedTemplate.type!==Hi.d.List&&(this.selectedTemplate.type!==Hi.d.View||this.selectedTemplate.parent)&&this.onShowToast.emit(this.successToastItem),!Object(sr.c)())return;const t=Object(sr.n)(this.newTemplateName,this.selectedTemplate,this.importOptions,this.selectedTemplate.type,this.selectedDateOption,this.dueDate,this.dueDateTime,this.team,this.archivedMap,this.skipWeekends,this.templateStartDate,this.startDateActive,this.templateDueDate,this.dueDateActive,this.parent,this.parentType);let i;switch(this.selectedTemplate.type){case Hi.d.Space:i=this.selectedTemplate.clickUp?this.templateService.createProjectFromDefaultTemplate(this.selectedTemplate.id,t):this.templateService.createProjectFromTemplate(this.selectedTemplate.id,t);break;case Hi.d.Folder:i=this.selectedTemplate.clickUp?this.templateService.createCategoryFromDefaultTemplate(this.selectedTemplate.id,t):this.templateService.createCategoryFromTemplate(this.selectedTemplate.id,t);break;case Hi.d.List:i=this.templateService.createSubcategoryFromTemplate(this.selectedTemplate.id,t);break;case Hi.d.Checklist:i=this.templateService.createChecklistFromTemplate(this.selectedTemplate.id,t);break;case Hi.d.Task:i=this.creatingTask?this.templateService.createTaskFromTemplate(this.selectedTemplate.id,t):this.templateService.applyTemplateToTask(this.parent.id?this.parent.id:this.parent,this.selectedTemplate.id,t);break;case Hi.d.View:if(this.creatingInstantly&&this.parentType===Hi.d.View){if(!this.selectedTemplate.parent){i=Object(xm.a)(0).pipe(Object(Vt.a)(()=>Object(xr.a)({err:"Selected template is invalid",hideECODE:!0})));break}return this.viewTemplateSelected(this.selectedTemplate,!0),void this.onClose.emit()}i=this.templateCenterService.createViewFromTemplateOnHeirarcyType(this.parentType,this.parent.id,this.selectedTemplate.id,{name:this.newTemplateName,template_visibility:Sh.ALL,template_members:[]});break;case Hi.d.Doc:if(this.creatingInstantly&&this.parentType===Hi.d.Doc)return void this.dataViewService.getDataView(this.selectedTemplate.id).subscribe(e=>{this.viewTemplateSelected(Object.assign(Object.assign({},Object(ne.vb)(e.view)),{pages:e.view.pages})),this.onClose.emit()});i=this.templateCenterService.createViewFromTemplateOnHeirarcyType(this.parentType,this.parent.id,this.selectedTemplate.id,{name:this.newTemplateName,template_visibility:Sh.ALL,template_members:[]})}const a={title:"Creating Item...",forced:!0},o={titleHtml:`Your item <b class="toast_bold">${this.newTemplateName}</b> has been created.`,timeout:5e3};this.selectedTemplate.type===Hi.d.List&&(a.title="Creating List..."),this.selectedTemplate.type===Hi.d.Folder&&(a.title="Creating Folder..."),this.selectedTemplate.type===Hi.d.Space&&(a.title="Creating Space..."),this.selectedTemplate.type===Hi.d.Doc&&(a.title="Creating Doc..."),this.selectedTemplate.type===Hi.d.View&&(a.title="Creating View..."),this.selectedTemplate.type===Hi.d.Task&&this.parentType===Hi.d.Task&&(a.title="Appending template...",o.titleHtml=`Your template <b class="toast_bold">${this.newTemplateName}</b> has been appended.`),this.selectedTemplate.type===Hi.d.Task&&this.parentType!==Hi.d.Task&&(a.title="Creating Task..."),this.quickCreating||this.sharedData.addToastItem(a),this.effects.register(i.subscribe(e=>{if(this.selectedTemplate.type===Hi.d.Space||this.selectedTemplate.type===Hi.d.Folder||this.selectedTemplate.type===Hi.d.List){const e=this.parentType===Hi.d.Space?this.parent.id:this.parent.project_id;e&&this.navService.setProjectOpenState(e,!0)}if(this.selectedTemplate.type!==Hi.d.Task||this.fromTaskDraft||(this.viewTaskService.loadTask(this.parent.id,!1,!0),this.store.dispatch(new Ri.z({taskId:this.parent.id}))),this.selectedTemplate.type===Hi.d.Task&&this.fromTaskDraft&&this.creatingTask&&this.store.dispatch(new xa.c),this.selectedTemplate.type!==Hi.d.List&&this.selectedTemplate.type!==Hi.d.Folder&&this.selectedTemplate.type!==Hi.d.Space&&(this.sharedData.removeToast(a),this.sharedData.addToastItem(o)),this.quickCreating&&this.selectedTemplate.type===Hi.d.List&&this.onShowToast.emit(this.successToastItem),this.selectedTemplate.type===Hi.d.Doc||this.selectedTemplate.type===Hi.d.View){const t=["/",this.team.id,"v",Object(ne.U)(e.type),e.id];this.store.dispatch(new an.d({path:t}))}this.onClose.emit(),this.logSubmitInstallTemplateEvent()},e=>{"SUBCAT_030"===e.ECODE&&this.quickCreating&&this.onStateChange.emit(_a.MAIN);const t=Object.assign(Object.assign({},e),{timeout:1e4});"ACCESS_148"!==e.ECODE&&"ACCESS_120"!==e.ECODE||(t.err=`This template has private items that were not created. Contact ${this.getCreatorName(this.selectedTemplate.creator)} to get access the next time you apply the template.`,t.hideECODE=!0),this.quickCreating&&this.onBack.emit(),this.onError.emit(t)}))}checkCreateValid(){switch(this.createButtonDisabled=!1,this.selectedTemplate.type){case Hi.d.Space:return void(this.parentType!==Hi.d.Team&&(this.createButtonDisabled=!0));case Hi.d.Folder:return void(this.parentType!==Hi.d.Space&&(this.createButtonDisabled=!0));case Hi.d.List:return void(this.parentType!==Hi.d.Space&&this.parentType!==Hi.d.Folder&&(this.createButtonDisabled=!0));case Hi.d.Task:return(this.fromTaskDraft&&!this.parentSpace||this.parentType!==Hi.d.List&&this.parentType!==Hi.d.Task)&&(this.createButtonDisabled=!0),void(this.selectedTemplate.type===this.TemplateTypes.Task&&this.parentList&&(this.createButtonDisabled=!1));case Hi.d.Checklist:return void(this.parentType!==Hi.d.Task&&(this.createButtonDisabled=!0));case Hi.d.Filter:return void(this.parentType!==Hi.d.Filter&&(this.createButtonDisabled=!0));default:return}}updateParent(e){"project"===e.type&&(this.parentType=Hi.d.Space,this.parent=e.project,this.parentSpace=e.project,this.parentFolder=null,this.parentList=null),"category"===e.type&&(this.parentType=Hi.d.Folder,this.parent=e.category,this.parentSpace=e.project,this.parentFolder=e.category,this.parentList=null),"subcategory"===e.type&&(this.parentType=Hi.d.List,this.parent=e.subcategory,this.parentSpace=e.project,this.parentFolder=e.category,this.parentList=e.subcategory),this.parentType===Hi.d.List||this.parentType===Hi.d.Task?(this.creatingTask=!0,this.fromTaskDraft=!0):this.creatingTask=!1,this.checkCreateValid()}populateHierarchyPicker(){this.parentType===Hi.d.Space&&(this.parentSpace=this.parent,this.parentFolder=null),this.parentType===Hi.d.Folder&&this.store.select(Object(me.getProjectById)(this.parent.project_id)).pipe(Object(Ne.a)(1)).subscribe(e=>{this.parentSpace=e,this.parentFolder=this.parent}),this.selectedTemplate.type===Hi.d.Task&&this.parentType===Hi.d.Task&&(this.parentSpace=this.parent.project,this.parentFolder=this.parent.category,this.parentList=this.parent.subcategory),this.parentType!==Hi.d.Space&&this.parentType!==Hi.d.Folder||this.selectedTemplate.type!==Hi.d.Task||!this.initialTypeData||this.store.select(Object(me.getProjectById)(this.initialTypeData.project_id)).pipe(Object(Ne.a)(1)).subscribe(e=>{this.creatingTask=!0,this.fromTaskDraft=!0,this.parentSpace=e,this.parentFolder=this.initialTypeData.category_details,this.parent=this.initialTypeData,this.parentList=this.initialTypeData}),this.checkCreateValid()}viewTemplateSelected(e,t){e.type=e.dataViewType,t&&(e=Object(ne.vb)(e));const i=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i}(e,["id"]),a=this.parent,o=Object.assign(Object.assign({},i),{parent:Object.assign({},a.parent),name:this.newTemplateName&&this.newTemplateName.length?this.newTemplateName:a.name,originalPayload:Object.assign(Object.assign({},i.originalPayload),{parent:Object.assign({},a.parent)})}),c={title:"Applying Template...",forced:!0},n={titleHtml:`Your template <b class="toast_bold">${this.newTemplateName}</b> has been applied.`,timeout:5e3};this.selectedTemplate.type===Hi.d.Doc&&(c.title="Appending Template...",n.titleHtml=`Your template <b class="toast_bold">${this.newTemplateName}</b> has been appended.`),i.viewType===ce.i.Doc?this.docService.getPages(e.id).pipe(Object(Ne.a)(1)).subscribe(e=>{this.store.dispatch(new ge.Li(a.id,Object.assign(Object.assign({},i),{public:a.public,name:this.newTemplateName&&this.newTemplateName.length?this.newTemplateName:a.name,visibility:a.visibility,pages:e.pages}),!1,!1,!1,!1,!0,[c,n],this.selectedTemplate.id))}):this.store.dispatch(new ge.Li(a.id,o,!1,!1,!0,!1,!1,[c,n],this.selectedTemplate.id)),e.viewType===ce.i.Gantt&&this.store.dispatch(We.ganttLoadTemplate({load:!0,preferences:e.ganttSettings}))}setVisibilityMembers(){this.templateVisibility!==Sh.MEMBERS&&(this.templateVisibility=Sh.MEMBERS,this.templateMembers=[this.user])}removeMember(e){this.templateMembers=this.templateMembers.filter(({id:t})=>t!==e.id)}getCreatorName(e){var t,i;return e&&"number"!=typeof e?e.username:(null===(i=null===(t=this.team.members.find(t=>t.user.id===e))||void 0===t?void 0:t.user)||void 0===i?void 0:i.username)||"your administrator"}logSubmitInstallTemplateEvent(){var e,t;const i={"template name":this.selectedTemplate.name},a=Object(km.a)(Hi.d),o=a[this.selectedTemplate.dataViewType]||a[this.selectedTemplate.type];o&&(i["template type"]=o);const c=null===(t=null===(e=this.selectedTemplate.public_tags)||void 0===e?void 0:e.find(({name:e})=>sr.s.includes(e)))||void 0===t?void 0:t.name;c&&(i["template level"]=c.toLowerCase()),this.amplitudeService.logEvent("submit install template",i)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(X.h),X.Wb(Da.a),X.Wb(ki.a),X.Wb(jr.a),X.Wb(ye.Store),X.Wb(Sm.a),X.Wb(Or.a),X.Wb(fe.a),X.Wb(jm.a),X.Wb(Sr),X.Wb(Om.a),X.Wb(Im.a),X.Wb(Tm.b))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-use-template"]],hostVars:18,hostBindings:function(e,t){2&e&&X.Ob("cu-template-center-use-template__clickup",t.selectedTemplate&&t.selectedTemplate.clickUp)("cu-template-center-use-template__space",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Space)("cu-template-center-use-template__folder",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Folder)("cu-template-center-use-template__list",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.List)("cu-template-center-use-template__view",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.View)("cu-template-center-use-template__doc",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Doc)("cu-template-center-use-template__task",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Task)("cu-template-center-use-template__checklist",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Checklist)("cu-template-center-use-template__filter",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Filter)},inputs:{selectedTemplate:"selectedTemplate",members:"members",user:"user",team:"team",parent:"parent",parentType:"parentType",creatingTask:"creatingTask",fromTaskDraft:"fromTaskDraft",initialTypeData:"initialTypeData",initialType:"initialType",quickCreating:"quickCreating"},outputs:{onUseTemplate:"onUseTemplate",onBack:"onBack",onClose:"onClose",onError:"onError",onShowToast:"onShowToast",onStateChange:"onStateChange"},features:[X.Hb([Tm.b])],decls:21,vars:7,consts:function(){let e,t,i,a;return e=$localize`:description of project dates in use template
      modal@@cu-template-center-use-template__start-and-due-dates-import-as-is␟e5b2b8ed71b27a1060c049f438c32230dbae7431␟3272174573283891859: Due and Start dates are static and will be imported exactly as is. `,t=$localize`:@@common_due-date-static␟43c6cefdcf73972673ee91292d30f6f73c91e2cc␟7763527311243608811: Due dates are static and will be imported exactly as is. `,i=$localize`:@@common_cant-change-date-when-calculating-end-date␟0d7f1bb5e1bb7e92e3e9f83b51ef1fcaba0049b9␟7447178916508425532:This date can't be changed, when calculating based on end date.`,a=$localize`:@@common_cant-change-date-when-calculating-start-date␟b0924292690aa50dff220d4b0c0d360684bf55cd␟9182014972156997168:This date can't be changed, when calculating based on start date.`,[["class","cu-template-center-use-template__overlay",4,"ngIf"],["class","cu-template-center-use-template",3,"perfectScrollbar",4,"ngIf"],[1,"cu-template-center-use-template__footer"],["class","cu-template-center-use-template__footer-text",4,"ngIf","ngIfElse"],["normal",""],[1,"cu-template-center-use-template__footer-buttons"],[1,"cu-template-center-use-template__footer-button","cu-template-center-use-template__footer-button-cancel",3,"click"],[1,"cu-template-center-use-template__footer-button",3,"cuTooltip","click"],["importOptionsEverything",""],["importOptionsCustom",""],["datesOptionsEverything",""],["datesOptionsCustom",""],["dueDates",""],[1,"cu-template-center-use-template__overlay"],[1,"cu-template-center-use-template__overlay-loader"],[1,"cu-template-center-use-template",3,"perfectScrollbar"],[1,"cu-template-center-use-template__container"],["class","cu-template-center__option-section",4,"ngIf"],[1,"cu-template-center__option-section"],[1,"cu-template-center__option-label"],["type","text",1,"cu-template-center__option-input",3,"placeholder","ngModel","ngModelChange"],[3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","singleCategory","individualSelection","hideSharedWithMe","mode","hideSubcategories","onSelect"],["class","cu-template-center__option-input",4,"ngIf","ngIfElse"],["teamLevel",""],[1,"cu-template-center__option-input"],[1,"cu-template-center__dual-options"],[1,"cu-template-center__dual-options-header"],[1,"cu-template-center__dual-options-header-tab"],[1,"cu-template-center__radio-item","cu-template-center__radio-item-no-margin",3,"click"],[1,"cu-template-center__dual-options-body"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],["class","cu-template-center__option-label",4,"ngIf"],["href","http://docs.clickup.com/features/remapping-due-dates-in-templates","target","_blank",1,"cu-template-center__dual-options-header-tab-link"],["cuTooltip","Remapping allows you make due dates relative, based on the earliest due date in your template and the date you select below.",1,"template__duedate-tab-question",3,"icon"],[1,"cu-template-center__radio-container","cu-template-center__radio-container-space-between"],[1,"cu-template-center__radio-item",3,"click"],[1,"cu-template-center-use-template__footer-text"],["icon","info3"],[4,"ngIf","ngIfElse"],["spaceDescription",""],[1,"cu-template-center__dual-options-body-header"],[1,"cu-template-center__dual-options-body-text"],["class","cu-template-center__radio-container cu-template-center__radio-container-squares cu-template-center__radio-container-unbordered",4,"ngIf"],["class","cu-template-center__radio-container cu-template-center__radio-container-squares",4,"ngIf"],[1,"cu-template-center__radio-container","cu-template-center__radio-container-squares","cu-template-center__radio-container-unbordered"],["class","cu-template-center__radio-item",3,"cu-template-center__radio-item-active","cu-template-center__radio-item-disabled","cuTooltip","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center__radio-item",3,"cuTooltip","click"],[1,"cu-template-center__radio-container","cu-template-center__radio-container-squares"],e,[4,"ngIf"],[1,"template__duedate-tab-body"],["class","template__duedate-tab-body-new",4,"ngIf"],["class","template__duedate-tab-body-new-bot",4,"ngIf"],["class","template__duedate-tab-body-new-skip",4,"ngIf"],["class","template__duedate-tab-body-new-skip-options",4,"ngIf"],["class","template__duedate-tab-body-new-import",4,"ngIf"],t,[1,"template__duedate-tab-body-new"],[1,"template__duedate-tab-body-new-left"],[1,"template__duedate-tab-body-new-date",3,"click"],[1,"template__duedate-tab-body-new-date-top"],["icon","calendar-1"],[1,"template__duedate-tab-body-new-date-bot"],[1,"template__duedate-tab-body-new-right"],["icon","calendar-31"],[1,"template__duedate-tab-body-new-bot"],[1,"template__duedate-tab-body-new-bot-left"],[1,"template__duedate-tab-body-new-bot-date"],[1,"template__duedate-tab-body-new-bot-date-header"],[1,"template__duedate-tab-body-new-bot-date-picker"],["class","template__duedate-tab-body-new-bot-date-picker-none",4,"ngIf"],[3,"selectedDate","showStart","dateTitle","onChange"],[3,"pointerEvents","value","enableFocusAndSelectOnClick","isActive","isInputActive","showTimeDropdown","placeholder","autoSize","type","iconName","allowRRule","allowClear","noTime","timeExists","disabled","clickOutsideBodySelector",4,"ngIf"],["class","template__duedate-tab-body-new-bot-date-picker-clear","icon","cu2-times",3,"click",4,"ngIf"],[1,"template__duedate-tab-body-new-bot-right"],["icon","question-o","cuTooltip",i],[1,"template__duedate-tab-body-new-bot-date-picker-none"],[3,"value","enableFocusAndSelectOnClick","isActive","isInputActive","showTimeDropdown","placeholder","autoSize","type","iconName","allowRRule","allowClear","noTime","timeExists","disabled","clickOutsideBodySelector"],["icon","cu2-times",1,"template__duedate-tab-body-new-bot-date-picker-clear",3,"click"],["icon","question-o","cuTooltip",a],[1,"template__duedate-tab-body-new-skip"],[3,"checked","onChange"],[1,"template__duedate-tab-body-new-skip-options"],[1,"template__duedate-tab-body-new-skip-options-text"],["href","https://docs.clickup.com/en/articles/1201565-remapping-dates-in-templates","target","_blank"],[1,"template__duedate-tab-body-new-import"],["icon","question-o","cuTooltip","Note: If you don't import tasks as open, then any CLOSED tasks will be missing"],[1,"template__duedate-tab-body-date"],["modifier","due-date_template",3,"selectedDate","showStart","onChange"],["modifier","due-date_template",3,"selectedDate","showTime","onChange"],[1,"template__duedate-tab-body-description"]]},template:function(e,t){if(1&e&&(X.bd(0,zm,2,0,"div",0),X.bd(1,Xm,7,5,"div",1),X.cc(2,"div",2),X.bd(3,Hm,3,0,"div",3),X.bd(4,Qm,4,2,"ng-template",null,4,X.cd),X.cc(6,"div",5),X.cc(7,"div",6),X.qc("click",function(){return t.onBack.emit()}),X.dd(8," Cancel "),X.bc(),X.cc(9,"div",7),X.qc("click",function(){return t.create()}),X.dd(10," Use Template "),X.bc(),X.bc(),X.bc(),X.bd(11,Km,4,1,"ng-template",null,8,X.cd),X.bd(13,ah,4,2,"ng-template",null,9,X.cd),X.bd(15,oh,2,0,"ng-template",null,10,X.cd),X.bd(17,ch,1,1,"ng-template",null,11,X.cd),X.bd(19,kh,1,1,"ng-template",null,12,X.cd)),2&e){const e=X.Rc(5);X.Dc("ngIf",t.creatingInstantly||t.quickCreating),X.Ib(1),X.Dc("ngIf",!t.creatingInstantly&&!t.quickCreating),X.Ib(2),X.Dc("ngIf",(null==t.selectedTemplate?null:t.selectedTemplate.type)===t.TemplateTypes.Task&&t.parentType===t.TemplateTypes.Task)("ngIfElse",e),X.Ib(6),X.Ob("cu-template-center-use-template__footer-button-disabled",t.createButtonDisabled),X.Dc("cuTooltip",t.createButtonDisabled?"This template type is invalid for the selected parent":null)}},directives:[n.q,Lr.a,Ze.a,er.a,s.c,s.p,s.s,Dm.a,n.x,Qe.a,n.p,Cm.a,Pm.a,Gl.a,$m.a],pipes:[qu,Br.a],styles:['cu-template-center-use-template{max-height:calc(100vh - 154px);background-color:#fafbfc;display:flex;flex-direction:column;overflow:hidden}.dark-theme cu-template-center-use-template{background-color:#2b343b}.cu-template-center-use-template{display:flex;justify-content:center;padding:36px 0;background-color:#fafbfc;flex-grow:1;max-height:100%;margin-bottom:100px}.dark-theme .cu-template-center-use-template{background-color:#2b343b}.cu-template-center-use-template__overlay{background-color:#fafbfc;z-index:9;position:absolute;left:0;top:0;width:100%;height:100%;display:flex;justify-content:center}.cu-template-center-use-template__overlay-loader{margin-top:250px}.dark-theme .cu-template-center-use-template__overlay{background-color:#2b343b}.cu-template-center-use-template__container{width:550px}.cu-template-center-use-template__footer{height:96px;position:fixed;bottom:0;left:0;display:flex;justify-content:space-between;width:100%;padding:0 38px;background-color:#fafbfc}.dark-theme .cu-template-center-use-template__footer{background-color:#2b343b}.cu-template-center-use-template__footer:before{position:absolute;content:"";left:0;top:-15px;width:100%;height:40px;background:linear-gradient(180deg,rgba(250,251,252,0),#fafbfc)}.dark-theme .cu-template-center-use-template__footer:before{background:linear-gradient(180deg,rgba(43,52,59,0),#2b343b)}.cu-template-center-use-template__footer-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;color:#7c828d;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template__footer-text{font-family:var(--global-font-support)}}.cu-template-center-use-template__footer-text .icon{fill:#7c828d;width:13px;height:13px;margin-right:10px}.cu-template-center-use-template__footer-buttons{display:flex;align-items:center}.cu-template-center-use-template__footer-button{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:4px;width:140px;height:40px;background-color:var(--theme-main-color);cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template__footer-button{font-family:var(--global-font-support)}}.cu-template-center-use-template__footer-button:hover{background-color:var(--theme-main-color-dark)}.cu-template-center-use-template__footer-button-disabled{opacity:.6}.cu-template-center-use-template__footer-button-cancel{background-color:#e9ebf0;color:#7c828d;margin-right:12px;width:100px}.cu-template-center-use-template__footer-button-cancel:hover{background-color:#d1d3d8}.cu-template-center-use-template .ps__rail-y{z-index:9}.cu-template-center-use-template .template__duedate-tab-body{background-color:#fff;flex-direction:column;border:none;padding:0}.dark-theme .cu-template-center-use-template .template__duedate-tab-body{background-color:#384047}.cu-template-center-use-template .template__duedate-tab-body-new{display:flex;justify-content:space-between}.cu-template-center-use-template .template__duedate-tab-body-new-left,.cu-template-center-use-template .template__duedate-tab-body-new-right{width:48%}.cu-template-center-use-template .template__duedate-tab-body-new-date{border-radius:4px;padding:20px;cursor:pointer;border:1px solid #e9ebf0}.dark-theme .cu-template-center-use-template .template__duedate-tab-body-new-date{border-color:#1e272e}.cu-template-center-use-template .template__duedate-tab-body-new-date.active{background:var(--theme-main-color)}.cu-template-center-use-template .template__duedate-tab-body-new-date.active .template__duedate-tab-body-new-date-top{color:#fff}.cu-template-center-use-template .template__duedate-tab-body-new-date.active .template__duedate-tab-body-new-date-top .icon{fill:#fff}.cu-template-center-use-template .template__duedate-tab-body-new-date.active .template__duedate-tab-body-new-date-bot{color:#fff}.cu-template-center-use-template .template__duedate-tab-body-new-date-top{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:18px;line-height:18px;color:#7c828d;display:flex;align-items:center;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template .template__duedate-tab-body-new-date-top{font-family:var(--global-font-support)}}.cu-template-center-use-template .template__duedate-tab-body-new-date-top .icon{width:24px;height:24px;fill:#b9bec7;margin-right:12px}.cu-template-center-use-template .template__duedate-tab-body-new-date-bot{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:18px;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template .template__duedate-tab-body-new-date-bot{font-family:var(--global-font-support)}}.cu-template-center-use-template .template__duedate-tab-body-new-bot{display:flex;justify-content:space-between;margin-top:20px;margin-bottom:25px}.cu-template-center-use-template .template__duedate-tab-body-new-bot-left,.cu-template-center-use-template .template__duedate-tab-body-new-bot-right{width:48%}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:11px;color:#7c828d;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-header{font-family:var(--global-font-support)}}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-header div{color:#b9bec7;font-style:italic;display:flex;align-items:center}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-header div .icon{margin-left:5px;width:10px;height:10px;fill:#b9bec7}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker{position:relative}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker.grey{background-color:#fafbfc}.dark-theme .cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker.grey{background-color:#384047}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker.grey .cu-datetime-input__input-value{color:#7c828d}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker-none{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;display:flex;position:relative;align-items:center;cursor:pointer;padding:0 10px;margin:0;height:34px;border-radius:3px;min-width:139px;border:1px solid #e4e4e4;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker-none{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker-none{border-color:#1e272e}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker-clear{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#b9bec7;height:12px;width:12px;cursor:pointer;position:absolute;top:12px;right:10px}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date-picker-clear:hover{fill:var(--theme-main-color)}.cu-template-center-use-template .template__duedate-tab-body-new-bot-date .cu-datetime-input{margin:0!important;height:36px!important}.cu-template-center-use-template .template__duedate-tab-body-new-skip{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:12px;color:#292d34;display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template .template__duedate-tab-body-new-skip{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-use-template .template__duedate-tab-body-new-skip{color:#d5d6d7}.cu-template-center-use-template .template__duedate-tab-body-new-skip .cu-toggle-switch{margin-right:8px}.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:18px;color:#7c828d;margin:10px 0 16px 32px;padding-right:130px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-use-template .template__duedate-tab-body-new-skip-options-text{color:#828588}.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-text a{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;border-bottom:1px dashed #7c828d;color:#7c828d;cursor:pointer}.dark-theme .cu-template-center-use-template .template__duedate-tab-body-new-skip-options-text a{border-color:#7c828d;color:#7c828d}.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-text a:hover{color:var(--theme-main-color);border-color:var(--theme-main-color)}.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-radios{display:flex;align-items:center}.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-radios .cu-checkbox{width:150px;margin-right:20px;cursor:pointer}.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-radios .cu-radio__label{font-size:12px!important;color:#7c828d!important}.cu-template-center-use-template .template__duedate-tab-body-new-skip-options-radios .cu-radio__input:checked+.cu-radio__label{color:#292d34!important}.cu-template-center-use-template .template__duedate-tab-body-new-import{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:12px;color:#292d34;display:flex;align-items:center;height:56px;border-top:1px solid #e9ebf0;margin:20px -20px -20px;padding:0 20px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-use-template .template__duedate-tab-body-new-import{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-use-template .template__duedate-tab-body-new-import{color:#d5d6d7;border-color:#1e272e}.cu-template-center-use-template .template__duedate-tab-body-new-import .cu-toggle-switch{margin-right:8px}.cu-template-center-use-template .template__duedate-tab-body-new-import .icon{fill:#b9bec7;width:12px;height:12px;margin-left:5px}'],encapsulation:2,changeDetection:0}),e})();function Oh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",6),X.qc("click",function(){return X.Uc(e),X.uc().onBack.emit()}),X.Xb(1,"div",7),X.cc(2,"div",8),X.dd(3,"Back"),X.bc(),X.bc()}}function Ih(e,t){if(1&e&&(X.cc(0,"div",9),X.cc(1,"div",10),X.Xb(2,"div",11),X.bc(),X.cc(3,"div",12),X.dd(4),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Ob("cu-template-center-header__type-view",(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.View),X.Ib(1),X.Dc("icon",null!=e.selectedTemplate&&e.selectedTemplate.icon?null==e.selectedTemplate?null:e.selectedTemplate.icon:(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Space?"template-type-space":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Folder?"template-type-folder":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.List?"template-type-list":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.View?"template-type-view":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Doc?"template-type-doc":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Task?"template-type-task":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Checklist?"template-type-checklist":"template-type-filter"),X.Ib(2),X.fd(" ",(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Space?"Space":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.Folder?"Folder":(null==e.selectedTemplate?null:e.selectedTemplate.type)===e.TemplateTypes.List?"List":null==e.selectedTemplate?null:e.selectedTemplate.type," ")}}function Dh(e,t){1&e&&X.Xb(0,"div",13)}let Ch=(()=>{class e{constructor(){this.onBack=new X.o,this.onClose=new X.o,this.TemplateTypes=Hi.d,this.templateCenterStatus=_a}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-header"]],hostVars:18,hostBindings:function(e,t){2&e&&X.Ob("cu-template-center-header__clickup",t.selectedTemplate&&t.selectedTemplate.clickUp)("cu-template-center-header__space",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Space)("cu-template-center-header__folder",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Folder)("cu-template-center-header__list",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.List)("cu-template-center-header__view",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.View)("cu-template-center-header__doc",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Doc)("cu-template-center-header__task",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Task)("cu-template-center-header__checklist",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Checklist)("cu-template-center-header__filter",t.selectedTemplate&&t.selectedTemplate.type===t.TemplateTypes.Filter)},inputs:{type:"type",selectedState:"selectedState",selectedTemplate:"selectedTemplate",templateToUpdate:"templateToUpdate",team:"team",parentType:"parentType",fromNewFolder:"fromNewFolder"},outputs:{onBack:"onBack",onClose:"onClose"},decls:7,vars:4,consts:[[1,"cu-template-center-header"],["class","cu-template-center-header__back",3,"click",4,"ngIf"],["class","cu-template-center-header__type-container",4,"ngIf"],[1,"cu-template-center-header__text"],["icon","cu2-clickup-o",4,"ngIf"],["icon","cu2-close",1,"cu-template-center-header__close",3,"click"],[1,"cu-template-center-header__back",3,"click"],["icon","cu2-arrow-left2"],[1,"cu-template-center-header__back-text"],[1,"cu-template-center-header__type-container"],[1,"cu-template-center-header__type"],[3,"icon"],[1,"cu-template-center-header__type-text"],["icon","cu2-clickup-o"]],template:function(e,t){1&e&&(X.cc(0,"div",0),X.bd(1,Oh,4,0,"div",1),X.bd(2,Ih,5,4,"div",2),X.cc(3,"div",3),X.bd(4,Dh,1,0,"div",4),X.dd(5),X.bc(),X.cc(6,"div",5),X.qc("click",function(){return t.onClose.emit()}),X.bc(),X.bc()),2&e&&(X.Ib(1),X.Dc("ngIf",t.selectedState!==t.templateCenterStatus.MAIN&&t.selectedState!==t.templateCenterStatus.SAVE_NEW_TEMPLATE&&t.selectedState!==t.templateCenterStatus.ONBOARDING||t.selectedState===t.templateCenterStatus.MAIN&&(t.parentType===t.TemplateTypes.Team||t.fromNewFolder)),X.Ib(1),X.Dc("ngIf",t.selectedTemplate&&t.selectedState===t.templateCenterStatus.USE_TEMPLATE),X.Ib(2),X.Dc("ngIf",t.selectedState===t.templateCenterStatus.SELECTED_TEMPLATE&&t.selectedTemplate&&(null==t.selectedTemplate?null:t.selectedTemplate.clickUp)),X.Ib(1),X.fd(" ",t.selectedState===t.templateCenterStatus.ONBOARDING?"Pick a Template":t.selectedState===t.templateCenterStatus.USE_TEMPLATE?"Use Template":t.templateToUpdate?"Update existing Template: "+(null==t.templateToUpdate?null:t.templateToUpdate.name):t.selectedState===t.templateCenterStatus.SAVE_NEW_TEMPLATE?"Save as new Template":t.selectedState===t.templateCenterStatus.UPDATE_EXISTING_TEMPLATE?"Update existing Template":t.selectedState===t.templateCenterStatus.SELECTED_TEMPLATE&&t.selectedTemplate&&null!=t.selectedTemplate&&t.selectedTemplate.clickUp?"ClickUp Template":t.selectedState===t.templateCenterStatus.SELECTED_TEMPLATE&&t.selectedTemplate?(null==t.team?null:t.team.name)+" Template":"Template Center"," "))},directives:[n.q,Qe.a],styles:['.cu-template-center-header{height:58px;min-height:58px;width:100%;position:relative;display:flex;align-items:center;justify-content:center;background-color:#fff;border-bottom:1px solid #e9ebf0}.dark-theme .cu-template-center-header{border-color:#1e272e;background-color:#384047}.cu-template-center-header__text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:18px;line-height:1;display:flex;align-items:center;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-header__text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-header__text{color:#d5d6d7}.cu-template-center-header__text .icon{margin-right:12px;fill:#292d34;height:17px;width:17px}.dark-theme .cu-template-center-header__text .icon{fill:#d5d6d7}.cu-template-center-header__back{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;left:20px;top:22px;display:flex;align-items:center;cursor:pointer}.cu-template-center-header__back .icon{fill:#b9bec7;height:16px;width:16px;margin-right:7px}.cu-template-center-header__back:hover .icon{fill:var(--theme-main-color)}.cu-template-center-header__back:hover .cu-template-center-header__back-text{color:var(--theme-main-color)}.cu-template-center-header__back-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#b9bec7}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-header__back-text{font-family:var(--global-font-support)}}.cu-template-center-header__close{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;right:20px;top:20px;fill:#b9bec7;height:16px;width:16px;cursor:pointer}.cu-template-center-header__close:hover{transform:rotate(180deg)}.cu-template-center-header__type-container{display:flex;align-items:center;margin-left:65px;position:absolute;left:20px;top:10px}.cu-template-center-header__type{width:36px;height:36px;display:flex;align-items:center;justify-content:center;margin-right:8px;border-radius:6px}.cu-template-center-header__space .cu-template-center-header__type{background-color:#1aaee1}.cu-template-center-header__folder .cu-template-center-header__type{background-color:#fd71af}.cu-template-center-header__list .cu-template-center-header__type{background-color:#ffc800}.cu-template-center-header__view .cu-template-center-header__type{background-color:#00b888}.cu-template-center-header__doc .cu-template-center-header__type{background-color:#57f}.cu-template-center-header__task .cu-template-center-header__type{background-color:#7b68ee}.cu-template-center-header__checklist .cu-template-center-header__type{background-color:#6bc950}.cu-template-center-header__filter .cu-template-center-header__type{background-color:#fd7171}.cu-template-center-header__type .icon{width:16px;height:16px;fill:#fff}.cu-template-center-header__type-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;text-transform:uppercase;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-header__type-text{font-family:var(--global-font-support)}}.cu-template-center-header__space .cu-template-center-header__type-text{color:#1aaee1}.cu-template-center-header__folder .cu-template-center-header__type-text{color:#fd71af}.cu-template-center-header__list .cu-template-center-header__type-text{color:#ffc800}.cu-template-center-header__view .cu-template-center-header__type-text{color:#00b888}.cu-template-center-header__doc .cu-template-center-header__type-text{color:#57f}.cu-template-center-header__task .cu-template-center-header__type-text{color:#7b68ee}.cu-template-center-header__checklist .cu-template-center-header__type-text{color:#6bc950}.cu-template-center-header__filter .cu-template-center-header__type-text{color:#fd7171}.cu-template-center-header__type-view .icon{stroke:#fff}'],encapsulation:2,changeDetection:0}),e})();var Ph=i("2eDp"),$h=i("VTPd");const zh=["cfcAutosize"],Mh=["scrollbar"];function Eh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",27),X.Xb(1,"div",28),X.cc(2,"textarea",29,30),X.qc("ngModelChange",function(t){return X.Uc(e),X.uc(2).description=t}),X.bc(),X.cc(4,"div",31),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.addDescription=!1,t.description=""}),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(1),X.Dc("cuTooltip","A description will help you and your team keep track of what this template is used for"),X.Ib(1),X.Dc("placeholder","Enter description...")("ngModel",e.description)("cdkAutosizeMinRows",1),X.Ib(2),X.Dc("cuTooltip",e.description&&null!=e.description&&e.description.length?"Remove description":"Close")}}function Lh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",32),X.Xb(1,"div",33),X.cc(2,"cu-task-row-tags",34),X.qc("onLoad",function(t){return X.Uc(e),X.uc(2).editTags("load",t)})("onChange",function(t){return X.Uc(e),X.uc(2).editTags("change",t)})("onClickTag",function(t){return X.Uc(e),X.uc(2).editTags("click",t)}),X.vc(3,"async"),X.bc(),X.cc(4,"div",35),X.qc("click",function(){X.Uc(e);const t=X.uc(2);return t.addTags=!1,t.selectedTags=[]}),X.bc(),X.bc()}if(2&e){const e=X.uc(2);let t=null;X.Ib(2),X.Dc("tags",e.tags)("value",e.selectedTags)("taskId","")("projectId",null==(t=X.wc(3,16,e.project$))?null:t.id)("disabled",!1)("manageTags",!0)("canAddTag",!0)("canRemoveTag",!0)("canManageTag",!0)("onlyDeleteIfOwner",!1)("canDelete",!0)("userId",null==e.user?null:e.user.id)("projectAccess",!0)("readOnly",!1)("showFilter",!0)("forTemplates",!0)}}function Ah(e,t){if(1&e&&(X.cc(0,"div",24),X.bd(1,Eh,5,5,"div",25),X.bd(2,Lh,5,18,"div",26),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",e.addDescription||e.templateToUpdate&&e.description),X.Ib(1),X.Dc("ngIf",e.addTags||e.templateToUpdate&&(null==e.selectedTags?null:e.selectedTags.length))}}function Fh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",38),X.qc("click",function(){return X.Uc(e),X.uc(2).addDescription=!0}),X.Xb(1,"div",39),X.dd(2," Add description "),X.bc()}}function Uh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",38),X.qc("click",function(){return X.Uc(e),X.uc(2).addTags=!0}),X.Xb(1,"div",33),X.dd(2," Add tags "),X.bc()}}function Nh(e,t){if(1&e&&(X.cc(0,"div",36),X.bd(1,Fh,3,0,"div",37),X.bd(2,Uh,3,0,"div",37),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",!e.addDescription),X.Ib(1),X.Dc("ngIf",!e.addTags)}}function Rh(e,t){1&e&&(X.cc(0,"div",44),X.dd(1," Save to create public link. "),X.bc())}function Gh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",3),X.cc(1,"div",40),X.cc(2,"div",41),X.dd(3," Public sharing "),X.bc(),X.bd(4,Rh,2,0,"div",42),X.cc(5,"cu-toggle-switch",43),X.qc("onChange",function(){X.Uc(e);const t=X.uc();return t.publicSharing=!t.publicSharing}),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(4),X.Dc("ngIf",e.publicSharing),X.Ib(1),X.Dc("checked",e.publicSharing)}}function qh(e,t){if(1&e&&X.Yb(0,51),2&e){X.uc(2);const e=X.Rc(39);X.Dc("ngTemplateOutlet",e)}}function Bh(e,t){if(1&e&&X.Yb(0,51),2&e){X.uc(2);const e=X.Rc(41);X.Dc("ngTemplateOutlet",e)}}function Wh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",3),X.cc(1,"div",4),X.dd(2,"Import options"),X.bc(),X.cc(3,"div",45),X.cc(4,"div",46),X.cc(5,"div",47),X.cc(6,"div",48),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.selectedImportOption=t.ImportOptions.EVERYTHING}),X.dd(7," Import everything "),X.bc(),X.bc(),X.cc(8,"div",47),X.cc(9,"div",48),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.selectedImportOption=t.ImportOptions.CUSTOM}),X.dd(10," Customize included items "),X.bc(),X.bc(),X.bc(),X.cc(11,"div",49),X.bd(12,qh,1,1,"ng-container",50),X.bd(13,Bh,1,1,"ng-container",50),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(5),X.Ob("cu-template-center__dual-options-header-tab-disabled",e.selectedImportOption!==e.ImportOptions.EVERYTHING),X.Ib(1),X.Ob("cu-template-center__radio-item-active",e.selectedImportOption===e.ImportOptions.EVERYTHING),X.Ib(2),X.Ob("cu-template-center__dual-options-header-tab-disabled",e.selectedImportOption!==e.ImportOptions.CUSTOM),X.Ib(1),X.Ob("cu-template-center__radio-item-active",e.selectedImportOption===e.ImportOptions.CUSTOM),X.Ib(3),X.Dc("ngIf",e.selectedImportOption===e.ImportOptions.EVERYTHING),X.Ib(1),X.Dc("ngIf",e.selectedImportOption===e.ImportOptions.CUSTOM)}}function Vh(e,t){if(1&e&&(X.cc(0,"div",52),X.dd(1," Items to import: "),X.bc(),X.cc(2,"div",53),X.dd(3),X.bc()),2&e){const e=X.uc();X.Ib(3),X.fd(" ",e.everythingText," ")}}function Xh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",58),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).toggleImportOption(i.key)}),X.vc(1,"camelCaseToString"),X.dd(2),X.bc()}if(2&e){const e=t.$implicit,i=X.uc(3);X.Ob("cu-template-center__radio-item-active",i.options[null==e?null:e.key]),X.Dc("cuTooltip",null==i.options[null==e?null:e.key]?"The creator of this template did not save "+("include_tasks"===e.title?"tasks":X.wc(1,4,e.title)):null),X.Ib(2),X.fd(" ",null==e?null:e.title," ")}}function Hh(e,t){if(1&e&&(X.cc(0,"div",56),X.bd(1,Xh,3,6,"div",57),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngForOf",e.HIGH_LEVEL_TEMPLATE_OPTIONS)("ngForTrackBy",e.trackByProperty)}}function Yh(e,t){if(1&e){const e=X.dc();X.cc(0,"div",58),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).toggleImportOption(i.key)}),X.vc(1,"camelCaseToString"),X.dd(2),X.bc()}if(2&e){const e=t.$implicit,i=X.uc(3);X.Ob("cu-template-center__radio-item-active",i.options[null==e?null:e.key])("cu-template-center__radio-item-disabled",null==i.options[null==e?null:e.key]),X.Dc("cuTooltip",null==i.options[null==e?null:e.key]?"The creator of this template did not save "+("include_tasks"===e.title?"tasks":X.wc(1,6,e.title)):null),X.Ib(2),X.fd(" ",null==e?null:e.title," ")}}function Zh(e,t){if(1&e&&(X.cc(0,"div",59),X.bd(1,Yh,3,8,"div",60),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngForOf",e.ALL_TEMPLATE_OPTIONS)("ngForTrackBy",e.trackByProperty)}}function Qh(e,t){if(1&e&&(X.cc(0,"div",52),X.dd(1," Include into template: "),X.bc(),X.bd(2,Hh,2,2,"div",54),X.bd(3,Zh,2,2,"div",55)),2&e){const e=X.uc();X.Ib(2),X.Dc("ngIf",(null==e.selectedTemplate?null:e.selectedTemplate.type)!==e.TemplateTypes.Task&&(null==e.itemToSave?null:e.itemToSave.type)!==e.TemplateTypes.Task),X.Ib(1),X.Dc("ngIf",e.options.include_tasks)}}var Kh=function(e){return e[e.EVERYTHING=0]="EVERYTHING",e[e.CUSTOM=1]="CUSTOM",e}({}),Jh=function(e){return e[e.AS_IS=0]="AS_IS",e[e.CUSTOM=1]="CUSTOM",e}({}),eb=function(e){return e[e.MEMBERS=0]="MEMBERS",e[e.ALL=1]="ALL",e[e.ADMINS=2]="ADMINS",e[e.ME=3]="ME",e[e.TEAM=4]="TEAM",e}({});let tb=(()=>{class e{constructor(e,t,i,a,o,c,n){this.changeDetectorRef=e,this.templateService=t,this.dataViewService=i,this.sharedData=a,this.store=o,this.ngZone=c,this.colorService=n,this.onSaveTemplate=new X.o,this.onUseTemplate=new X.o,this.onClose=new X.o,this.onError=new X.o,this.onStateChange=new X.o,this.clearTemplateToUpdate=new X.o,this.newTemplateName="",this.destroy$=new Ee.a,this.templateVisibility=eb.TEAM,this.publicSharing=!1,this.selectedImportOption=Kh.EVERYTHING,this.selectedDateOption=Jh.AS_IS,this.templateMembers=[],this.ImportOptions=Kh,this.TemplateTypes=Hi.d,this.TemplateVisibility=eb,this.templateCenterStatus=_a,this.ALL_TEMPLATE_OPTIONS=sr.a,this.HIGH_LEVEL_TEMPLATE_OPTIONS=sr.b,this.everythingText="",this.trackByProperty=Object(be.d)("key"),this.addDescription=!1,this.addTags=!1,this.description="",this.selectedTags=[],this.options={dueDate:!0,startDate:!0,assignees:!0,followers:!0,subtask:!0,attachment:!0,commentAttachment:!0,statuses:!0,oldStatus:!0,tags:!0,content:!0,recurring:!0,priority:!0,dependencies:!0,checklists:!0,customFields:!0,timeEstimate:!0,includeViews:!0,automation:!0,include_tasks:!0},this.defaultOptions={dueDate:!0,startDate:!0,assignees:!0,followers:!0,subtask:!0,attachment:!0,commentAttachment:!0,statuses:!0,oldStatus:!0,tags:!0,content:!0,recurring:!0,priority:!0,dependencies:!0,checklists:!0,customFields:!0,timeEstimate:!0,includeViews:!0,automation:!0,include_tasks:!0},this.noNameError=!1,this.project$=this.store.select(me.getProject)}ngOnChanges(e){e.templateToUpdate&&this.templateToUpdate&&this.populateData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngOnInit(){this.everythingText=Object(sr.l)(this.defaultOptions,null),this.itemToSave===Hi.d.Task&&this.itemToSave&&this.itemToSave.parent&&delete this.options.subtask,this.templateToUpdate||(this.templateMembers=[this.user])}toggleImportOption(e){void 0===this.options[e]&&null===this.options[e]||(this.options[e]=!this.options[e])}setTemplateMembers(e){this.templateMembers=e}populateData(){this.newTemplateName=this.templateToUpdate.name?this.templateToUpdate.name:"",this.description=this.templateToUpdate.description?this.templateToUpdate.description:"",this.selectedTags=this.templateToUpdate.tags?this.templateToUpdate.tags:[],this.templateVisibility=null!=this.templateToUpdate.template_visibility?this.templateToUpdate.template_visibility:eb.TEAM,"string"==typeof this.templateVisibility&&(this.templateVisibility=parseInt(this.templateVisibility,10)),this.templateToUpdate.template_members&&this.templateToUpdate.template_members.forEach(e=>{const t=this.members.findIndex(t=>t.id===e);-1!==t&&this.templateMembers.push(this.members[t])}),this.publicSharing=this.templateToUpdate.public_sharing,this.options=Object(sr.r)(this.templateToUpdate),this.description&&this.description.length&&(this.addDescription=!0,this.resizeTextArea());let e=!0;for(const t in this.options)if(this.options.hasOwnProperty(t)&&"number"!=typeof this.options[t]&&!1===this.options[t]){e=!1;break}e||(this.selectedImportOption=Kh.CUSTOM),this.changeDetectorRef.detectChanges()}resizeTextArea(){this.ngZone.onStable.pipe(Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(()=>this.contentFCAutosize.resizeToFitContent(!0))}resetData(){this.newTemplateName="",this.description="",this.tags=[],this.templateVisibility=eb.TEAM,this.templateMembers=[],this.publicSharing=!1,this.options={dueDate:!0,startDate:!0,assignees:!0,followers:!0,subtask:!0,attachment:!0,commentAttachment:!0,statuses:!0,oldStatus:!0,tags:!0,content:!0,recurring:!0,priority:!0,dependencies:!0,checklists:!0,customFields:!0,timeEstimate:!0,includeViews:!0,automation:!0,include_tasks:!0}}create(){return e=this,void 0,i=function*(){if(0===this.newTemplateName.length)return this.noNameError=!0,void(this.scrollbar&&this.scrollbar.scrollToTop());this.selectedImportOption===Kh.EVERYTHING&&this.selectEverything();const e={};e.template_visibility=this.templateVisibility,this.type===Hi.d.View?e.public=this.publicSharing:e.public_sharing=this.publicSharing;const t=this.templateMembers.map(e=>e.id);this.templateVisibility===eb.MEMBERS&&(e.template_members=t);const i=Object(sr.o)(this.newTemplateName,this.type,this.options,this.publicSharing,this.description,this.selectedTags,this.templateMembers,this.parent,this.itemToSave,e);let a;switch(this.templateToUpdate&&(i.template_id=this.templateToUpdate.id),this.type){case Hi.d.Space:a=this.templateService.createTemplateProject(this.itemToSave.id,i);break;case Hi.d.Folder:a=this.templateService.createTemplateCategory(this.itemToSave.id,i);break;case Hi.d.List:case Hi.d.ListInitialType:a=this.templateService.createTemplateSubcategory(this.itemToSave.id,i);break;case Hi.d.Task:a=this.fromTaskDraft?this.templateService.createTaskTemplateWithOutTask(this.parent,this.itemToSave,i):this.templateService.createTemplateTask(this.parent.id,i);break;case Hi.d.Checklist:a=this.templateService.createTemplateChecklist(this.itemToSave.id,i);break;case Hi.d.View:case Hi.d.Doc:let t=Object.assign({},this.parent);t.type=t.dataViewType,this.parent.type=this.parent.dataViewType,Object(ne.rb)(this.parent.id)&&(t=yield this.createView(this.parent).pipe(Object(Vt.a)(()=>this.store.select(ia.db)),Object(Wt.a)(1),Object(Fe.a)(e=>(e||[]).find(e=>e.viewType===t.viewType)),Object(Yt.a)()).toPromise()),t.viewType===ce.i.Doc&&(t=yield this.dataViewService.getDataView(t.id).pipe(Object(Fe.a)(e=>Object.assign(Object.assign({},Object(ne.vb)(e.view)),{pages:e.view.pages})),Object(Yt.a)()).toPromise());const o=Object(ne.D)(t,[]);t.pages&&(o.pages=t.pages);const c=Object.assign(Object.assign(Object.assign(Object.assign({},o),{name:this.newTemplateName,description:this.description&&this.description.length?this.description:""}),e),{tags:this.selectedTags}),n=Object(ne.qb)(t.viewType),s=Object.assign({id:t.id,name:this.newTemplateName,description:this.description&&this.description.length?this.description:""},e);if(this.docPageId){const e=Object($h.g)(this.docPageId,c.pages);c.pages=e?[e]:[]}a=this.templateToUpdate?this.templateService.editViewTemplate(this.templateToUpdate.id,{view:c}):n||t.viewType===ce.i.Doc?this.templateService.createViewTemplate(this.sharedData.compatCurrentTeam.id,{view:c}):this.templateService.createPageViewTemplate(this.sharedData.compatCurrentTeam.id,{view:s})}const o={title:`We're ${this.templateToUpdate?"saving":"creating"} your template and will notify you when it's ready. This may take up to a couple minutes.`,forced:!0,timeout:5e3},c={title:`Your template ${this.newTemplateName} has been created.`,forced:!0};this.sharedData.addToastItem(o),a.subscribe(e=>{this.type!==Hi.d.Space&&this.type!==Hi.d.Folder&&this.type!==Hi.d.List&&this.type!==Hi.d.Task&&(this.sharedData.removeToast(o),this.sharedData.addToastItem(c)),this.selectedTemplate&&this.selectedTemplate.type===Hi.d.Task&&this.fromTaskDraft&&this.store.dispatch(new xa.c),this.onClose.emit()},e=>{this.onError.emit({ECODE:e.ECODE,err:e.err,timeout:1e4})})},new((t=void 0)||(t=Promise))(function(a,o){function c(e){try{s(i.next(e))}catch(t){o(t)}}function n(e){try{s(i.throw(e))}catch(t){o(t)}}function s(e){var i;e.done?a(e.value):(i=e.value,i instanceof t?i:new t(function(e){e(i)})).then(c,n)}s((i=i.apply(e,[])).next())});var e,t,i}createView(e){return this.store.select(Ph.j).pipe(Object(ra.a)(t=>this.store.dispatch(new ge.Gb(Object(ne.D)(Object.assign(Object.assign({},e),{originalPayload:Object.assign(Object.assign({},e.originalPayload),{id:null})}),t),!1,e.viewType))))}selectEverything(){for(const e in this.options)this.options.hasOwnProperty(e)&&"boolean"==typeof this.options[e]&&(this.options[e]=!0)}removeUserFromTemplate(e){this.templateMembers=this.templateMembers.filter(t=>t.id!==e.id)}editTags(e,t){if("change"===e&&"deleteTag"===t.action&&(this.selectedTags=this.selectedTags.filter(e=>e.id!==t.data.id),this.store.dispatch(ca.c({tagId:t.data.id}))),"change"===e&&"addTag"===t.action&&(-1===this.tags.findIndex(e=>e.name.toLowerCase()===t.data.name.toLowerCase())?this.store.dispatch(ca.b({tag:{name:t.data.name,color:this.colorService.randomColor()}})):(this.selectedTags.push(t.data),this.selectedTags=[...this.selectedTags])),"change"===e&&"removeTag"===t.action&&(this.selectedTags=this.selectedTags.filter(e=>e.name!==t.data.name)),"change"===e&&"renameTag"===t.action){const e=this.selectedTags.findIndex(e=>e.id===t.data.tag.id);-1!==e&&(this.selectedTags[e].name=t.data.newName),this.store.dispatch(ca.d({changes:{name:t.data.newName},tagId:t.data.tag.id}))}if("change"===e&&"changeColorTag"===t.action){const e=this.selectedTags.findIndex(e=>e.id===t.data.tag.id);-1!==e&&(this.selectedTags[e].color=t.data.newColor,this.selectedTags[e].tag_fg=t.data.newColor,this.selectedTags[e].tag_bg=t.data.newColor,this.selectedTags=[...this.selectedTags]),this.store.dispatch(ca.d({changes:{color:t.data.newColor},tagId:t.data.tag.id}))}}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(X.h),X.Wb(jr.a),X.Wb(Or.a),X.Wb(fe.a),X.Wb(ye.Store),X.Wb(X.B),X.Wb(zr.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-save-template"]],viewQuery:function(e,t){if(1&e&&(X.jd(zh,1),X.jd(Mh,1)),2&e){let e;X.Qc(e=X.rc())&&(t.contentFCAutosize=e.first),X.Qc(e=X.rc())&&(t.scrollbar=e.first)}},inputs:{selectedTemplate:"selectedTemplate",type:"type",members:"members",user:"user",parent:"parent",itemToSave:"itemToSave",templateToUpdate:"templateToUpdate",creatingTask:"creatingTask",fromTaskDraft:"fromTaskDraft",tags:"tags",docPageId:"docPageId"},outputs:{onSaveTemplate:"onSaveTemplate",onUseTemplate:"onUseTemplate",onClose:"onClose",onError:"onError",onStateChange:"onStateChange",clearTemplateToUpdate:"clearTemplateToUpdate"},features:[X.Gb],decls:42,vars:32,consts:function(){let e;return e=$localize`:@@forms_label--select-people␟b920b62530e405278b339e8e9c355fbab7c39976␟6184856106007865608:Select people`,[[1,"cu-template-center-save-template",3,"perfectScrollbar"],["scrollbar","ngxPerfectScrollbar"],[1,"cu-template-center-save-template__container"],[1,"cu-template-center__option-section"],[1,"cu-template-center__option-label"],["type","text",1,"cu-template-center__option-input",3,"placeholder","ngModel","ngModelChange"],["class","cu-template-center-save-template__customize",4,"ngIf"],["class","cu-template-center-save-template__badges",4,"ngIf"],[1,"cu-template-center__radio-container"],[1,"cu-template-center__radio-item",3,"click"],[1,"cu-template-center__radio-item","cu-template-center__radio-item-margin-right",3,"click"],[1,"cu-template-center__radio-item","cu-template-center__radio-item-users",3,"click"],e,[1,"cu-template-center__select-users",3,"multiChoice","selectedUsers","users","showUnassign","immutableUser","showReassign","onChange"],[3,"showUserRemover","users","assignIcon","multiChoice","modifier","avatarSize","showDropdown","immutableUser","onUserRemove"],["class","cu-template-center__option-section",4,"ngIf"],[1,"cu-template-center-save-template__footer"],[1,"cu-template-center-save-template__footer-text",3,"click"],["icon","cu2-refresh"],[1,"cu-template-center-save-template__footer-buttons"],[1,"cu-template-center-save-template__footer-button","cu-template-center-save-template__footer-button-cancel",3,"click"],[1,"cu-template-center-save-template__footer-button",3,"click"],["importOptionsEverything",""],["importOptionsCustom",""],[1,"cu-template-center-save-template__customize"],["class","cu-template-center-save-template__desc",4,"ngIf"],["class","cu-template-center-save-template__tags",4,"ngIf"],[1,"cu-template-center-save-template__desc"],["icon","info2",3,"cuTooltip"],["type","text","cdkTextareaAutosize","",3,"placeholder","ngModel","cdkAutosizeMinRows","ngModelChange"],["cfcAutosize","cdkTextareaAutosize"],["icon","cu2-times",3,"cuTooltip","click"],[1,"cu-template-center-save-template__tags"],["icon","cu2-tag"],["cuPreventDefault","","cu-task-row-tags","",3,"tags","value","taskId","projectId","disabled","manageTags","canAddTag","canRemoveTag","canManageTag","onlyDeleteIfOwner","canDelete","userId","projectAccess","readOnly","showFilter","forTemplates","onLoad","onChange","onClickTag"],["icon","cu2-times",1,"cu-template-center-save-template__tags-clear",3,"click"],[1,"cu-template-center-save-template__badges"],["class","cu-template-center-save-template__badge",3,"click",4,"ngIf"],[1,"cu-template-center-save-template__badge",3,"click"],["icon","info2"],[1,"cu-template-center__option-toggle-section"],[1,"cu-template-center__option-toggle-section-text"],["class","cu-template-center__option-toggle-section-italic-text",4,"ngIf"],[3,"checked","onChange"],[1,"cu-template-center__option-toggle-section-italic-text"],[1,"cu-template-center__dual-options"],[1,"cu-template-center__dual-options-header"],[1,"cu-template-center__dual-options-header-tab"],[1,"cu-template-center__radio-item","cu-template-center__radio-item-no-margin",3,"click"],[1,"cu-template-center__dual-options-body"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"cu-template-center__dual-options-body-header"],[1,"cu-template-center__dual-options-body-text"],["class","cu-template-center__radio-container cu-template-center__radio-container-squares cu-template-center__radio-container-unbordered",4,"ngIf"],["class","cu-template-center__radio-container cu-template-center__radio-container-squares",4,"ngIf"],[1,"cu-template-center__radio-container","cu-template-center__radio-container-squares","cu-template-center__radio-container-unbordered"],["class","cu-template-center__radio-item",3,"cu-template-center__radio-item-active","cuTooltip","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center__radio-item",3,"cuTooltip","click"],[1,"cu-template-center__radio-container","cu-template-center__radio-container-squares"],["class","cu-template-center__radio-item",3,"cu-template-center__radio-item-active","cu-template-center__radio-item-disabled","cuTooltip","click",4,"ngFor","ngForOf","ngForTrackBy"]]},template:function(e,t){1&e&&(X.cc(0,"div",0,1),X.cc(2,"div",2),X.cc(3,"div",3),X.cc(4,"div",4),X.dd(5,"Template name"),X.bc(),X.cc(6,"input",5),X.qc("ngModelChange",function(e){return t.newTemplateName=e})("ngModelChange",function(){return t.noNameError=!1}),X.bc(),X.bd(7,Ah,3,2,"div",6),X.bd(8,Nh,3,2,"div",7),X.bc(),X.cc(9,"div",3),X.cc(10,"div",4),X.dd(11,"Share with"),X.bc(),X.cc(12,"div",8),X.cc(13,"div",9),X.qc("click",function(){return t.templateVisibility=t.TemplateVisibility.ME}),X.dd(14," Only Me "),X.bc(),X.cc(15,"div",10),X.qc("click",function(){return t.templateVisibility=t.TemplateVisibility.ALL}),X.dd(16," Everyone (including guests) "),X.bc(),X.cc(17,"div",9),X.qc("click",function(){return t.templateVisibility=t.TemplateVisibility.TEAM}),X.dd(18," All Members "),X.bc(),X.cc(19,"div",9),X.qc("click",function(){return t.templateVisibility=t.TemplateVisibility.ADMINS}),X.dd(20," Admins "),X.bc(),X.cc(21,"div",11),X.qc("click",function(){return t.templateVisibility=t.TemplateVisibility.MEMBERS}),X.ac(22),X.gc(23,12),X.Zb(),X.dd(24,": "),X.cc(25,"cu-user-list-dropdown",13),X.qc("onChange",function(e){return t.setTemplateMembers(e)}),X.cc(26,"cu-user-group",14),X.qc("onUserRemove",function(e){return t.removeUserFromTemplate(e)}),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.bd(27,Gh,6,2,"div",15),X.bd(28,Wh,14,10,"div",15),X.bc(),X.bc(),X.cc(29,"div",16),X.cc(30,"div",17),X.qc("click",function(){return t.resetData(),t.onStateChange.emit(t.templateCenterStatus.UPDATE_EXISTING_TEMPLATE)}),X.Xb(31,"div",18),X.dd(32," Update an existing template "),X.bc(),X.cc(33,"div",19),X.cc(34,"div",20),X.qc("click",function(){return t.onClose.emit()}),X.dd(35," Cancel "),X.bc(),X.cc(36,"div",21),X.qc("click",function(){return t.create()}),X.dd(37," Save "),X.bc(),X.bc(),X.bc(),X.bd(38,Vh,4,1,"ng-template",null,22,X.cd),X.bd(40,Qh,4,2,"ng-template",null,23,X.cd)),2&e&&(X.Ib(6),X.Ob("cu-template-center__option-input-error",t.noNameError),X.Dc("placeholder","Enter template name...")("ngModel",t.newTemplateName),X.Ib(1),X.Dc("ngIf",t.addDescription||t.addTags||t.templateToUpdate&&t.description||t.templateToUpdate&&(null==t.selectedTags?null:t.selectedTags.length)),X.Ib(1),X.Dc("ngIf",!t.addDescription||!t.addTags),X.Ib(5),X.Ob("cu-template-center__radio-item-active",t.templateVisibility===t.TemplateVisibility.ME),X.Ib(2),X.Ob("cu-template-center__radio-item-active",t.templateVisibility===t.TemplateVisibility.ALL),X.Ib(2),X.Ob("cu-template-center__radio-item-active",t.templateVisibility===t.TemplateVisibility.TEAM),X.Ib(2),X.Ob("cu-template-center__radio-item-active",t.templateVisibility===t.TemplateVisibility.ADMINS),X.Ib(2),X.Ob("cu-template-center__radio-item-active",t.templateVisibility===t.TemplateVisibility.MEMBERS),X.Ib(4),X.Dc("multiChoice",!0)("selectedUsers",t.templateMembers)("users",t.members)("showUnassign",!0)("immutableUser",t.templateToUpdate?null:t.user)("showReassign",!1),X.Ib(1),X.Dc("showUserRemover",!0)("users",t.templateMembers)("assignIcon",!0)("multiChoice",!0)("modifier","cu-user-group_m")("avatarSize",30)("showDropdown",!1)("immutableUser",t.templateToUpdate?null:t.user),X.Ib(1),X.Dc("ngIf",t.type!==t.TemplateTypes.View),X.Ib(1),X.Dc("ngIf",t.type!==t.TemplateTypes.View&&t.type!==t.TemplateTypes.Doc))},directives:[er.a,s.c,s.p,s.s,n.q,Rl.a,qr.a,Qe.a,Lr.a,S.a,Rr.a,Gl.a,n.x,n.p],pipes:[n.b,Br.a],styles:['cu-template-center-save-template{max-height:calc(100vh - 154px);background-color:#fafbfc;display:flex;flex-direction:column;overflow:hidden}.dark-theme cu-template-center-save-template{background-color:#2b343b}.cu-template-center-save-template{display:flex;justify-content:center;padding:36px 0;background-color:#fafbfc;flex-grow:1;max-height:100%;margin-bottom:100px}.dark-theme .cu-template-center-save-template{background-color:#2b343b}.cu-template-center-save-template__container{width:550px}.cu-template-center-save-template__badges{display:flex;align-items:center;margin-top:10px}.cu-template-center-save-template__badge{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;padding:0 8px;border-radius:3px;color:#7c828d;background-color:#e9ebf0;cursor:pointer;margin-right:8px;height:24px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-save-template__badge{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-save-template__badge{background-color:#384047}.cu-template-center-save-template__badge:hover{background-color:#d1d3d8}.dark-theme .cu-template-center-save-template__badge:hover{background-color:#1e272e}.cu-template-center-save-template__badge .icon{width:14px;height:14px;fill:#7c828d;margin-right:6px}.cu-template-center-save-template__desc,.cu-template-center-save-template__tags{border:1px solid #e9ebf0;background-color:#fff;border-radius:4px;display:flex;align-items:flex-start;position:relative;padding:13px;margin:8px 0}.dark-theme .cu-template-center-save-template__desc,.dark-theme .cu-template-center-save-template__tags{background-color:#384047}.cu-template-center-save-template__desc .icon:first-of-type,.cu-template-center-save-template__tags .icon:first-of-type{width:14px;height:14px;fill:#7c828d;margin-right:10px}.cu-template-center-save-template__desc .icon:nth-of-type(2),.cu-template-center-save-template__tags .icon:nth-of-type(2){transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;right:12px;top:12px;width:16px;height:16px;padding:2px;fill:rgba(141,149,165,.5);cursor:pointer}.cu-template-center-save-template__desc .icon:nth-of-type(2):hover,.cu-template-center-save-template__tags .icon:nth-of-type(2):hover{transform:rotate(180deg)}.cu-template-center-save-template__desc textarea,.cu-template-center-save-template__tags textarea{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;resize:none;border:none;flex-grow:1;padding:0 28px 0 0;box-shadow:none!important;background:transparent}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-save-template__desc textarea,.cu-template-center-save-template__tags textarea{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-save-template__desc textarea,.dark-theme .cu-template-center-save-template__tags textarea{color:#d5d6d7}.dark-theme .cu-template-center-save-template__desc,.dark-theme .cu-template-center-save-template__tags{border-color:#1e272e}.cu-template-center-save-template__tags{align-items:center}.cu-template-center-save-template__tags .cu-tags-view__icon{display:flex;padding:3px;border-radius:4px;background:transparent;fill:#7c828d;position:relative!important;transform:none!important;width:20px!important;height:20px!important;top:1px!important;right:0!important}.cu-template-center-save-template__tags .cu-tags-view__icon:before{top:-2px}.cu-template-center-save-template__tags .cu-tags-view__icon .cu-stroke{stroke:#7c828d}.cu-template-center-save-template__tags-clear{top:16px!important}.cu-template-center-save-template__tags .cu-tags-select__badge-ellipsis{right:10px}.cu-template-center-save-template__legacy-section{background:rgba(255,200,0,.1);border:1px solid rgba(255,200,0,.5);padding:16px}.cu-template-center-save-template__legacy-section>*{color:#292d34!important}.cu-template-center-save-template__legacy-section .cu-template-center__dual-options-body-text{margin-bottom:12px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-save-template__legacy-section .cu-template-center__dual-options-body-text{font-family:var(--global-font-support)}}.cu-template-center-save-template__legacy-section-btn{display:flex;align-items:center;justify-content:space-between;border:none;width:71px}.cu-template-center-save-template__legacy-section-btn span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-save-template__legacy-section-btn span{font-family:var(--global-font-support)}}.cu-template-center-save-template__legacy-section-btn .icon{width:11px;height:11px;fill:#7c828d}.cu-template-center-save-template__footer{height:96px;position:fixed;bottom:0;left:0;display:flex;justify-content:space-between;width:100%;padding:0 38px;background-color:#fafbfc}.dark-theme .cu-template-center-save-template__footer{background-color:#2b343b}.cu-template-center-save-template__footer:before{position:absolute;content:"";left:0;top:-15px;width:100%;height:40px;background:linear-gradient(180deg,rgba(250,251,252,0),#fafbfc)}.dark-theme .cu-template-center-save-template__footer:before{background:linear-gradient(180deg,rgba(250,251,252,0),#2b343b)}.cu-template-center-save-template__footer-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;color:#7c828d;flex-grow:1;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-save-template__footer-text{font-family:var(--global-font-support)}}.cu-template-center-save-template__footer-text .icon{fill:#7c828d;width:13px;height:13px;margin-right:10px}.cu-template-center-save-template__footer-text:hover{color:var(--theme-main-color)}.cu-template-center-save-template__footer-text:hover .icon{fill:var(--theme-main-color)}.cu-template-center-save-template__footer-buttons{display:flex;align-items:center}.cu-template-center-save-template__footer-button{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:4px;width:140px;height:40px;background-color:var(--theme-main-color);cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-save-template__footer-button{font-family:var(--global-font-support)}}.cu-template-center-save-template__footer-button:hover{background-color:var(--theme-main-color-dark)}.cu-template-center-save-template__footer-button-cancel{background-color:#e9ebf0;color:#7c828d;margin-right:12px;width:100px}.cu-template-center-save-template__footer-button-cancel:hover{background-color:#d1d3d8}.cu-template-center-save-template .ps__rail-y{z-index:9}'],encapsulation:2,changeDetection:0}),e})();function ib(e,t){if(1&e){const e=X.dc();X.cc(0,"div",17),X.qc("click",function(){X.Uc(e);const t=X.uc();return X.Rc(6).value="",t.clearSearchTerm.emit()}),X.bc()}}function ab(e,t){1&e&&X.Xb(0,"div",23)}function ob(e,t){if(1&e&&X.Xb(0,"cu-avatar",24),2&e){const e=X.uc().ngIf;X.Dc("user",e[0])}}function cb(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-user-list-dropdown",18),X.qc("onChange",function(t){return X.Uc(e),X.uc().selectedCreator$.next(t)}),X.cc(1,"div",19),X.cc(2,"div",20),X.dd(3," Created by: "),X.bc(),X.bd(4,ab,1,0,"div",21),X.bd(5,ob,1,1,"cu-avatar",22),X.bc(),X.bc()}if(2&e){const e=t.ngIf,i=X.uc();X.Dc("users",i.teamTemplateCreators)("selectedUsers",e),X.Ib(4),X.Dc("ngIf",!e.length),X.Ib(1),X.Dc("ngIf",e.length)}}function nb(e,t){if(1&e){const e=X.dc();X.cc(0,"div",25),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().templateToUpdate=i}),X.cc(1,"div",26),X.Xb(2,"div",27),X.bc(),X.cc(3,"div",28),X.dd(4),X.bc(),X.bc()}if(2&e){const e=t.$implicit,i=X.uc();X.Ob("cu-template-center-update-template__item-active",(null==i.templateToUpdate?null:i.templateToUpdate.id)===(null==e?null:e.id)),X.Ib(1),X.Ob("cu-template-center-update-template__type-space",(null==e?null:e.type)===i.TemplateTypes.Space)("cu-template-center-update-template__type-folder",(null==e?null:e.type)===i.TemplateTypes.Folder)("cu-template-center-update-template__type-list",(null==e?null:e.type)===i.TemplateTypes.List)("cu-template-center-update-template__type-view",(null==e?null:e.type)===i.TemplateTypes.View)("cu-template-center-update-template__type-doc",(null==e?null:e.type)===i.TemplateTypes.Doc)("cu-template-center-update-template__type-task",(null==e?null:e.type)===i.TemplateTypes.Task)("cu-template-center-update-template__type-checklist",(null==e?null:e.type)===i.TemplateTypes.Checklist)("cu-template-center-update-template__type-filter",(null==e?null:e.type)===i.TemplateTypes.Filter),X.Ib(1),X.Dc("icon",null!=e&&e.icon?null==e?null:e.icon:(null==e?null:e.type)===i.TemplateTypes.Space?"template-type-space":(null==e?null:e.type)===i.TemplateTypes.Folder?"template-type-folder":(null==e?null:e.type)===i.TemplateTypes.List?"template-type-list":(null==e?null:e.type)===i.TemplateTypes.View?"template-type-view":(null==e?null:e.type)===i.TemplateTypes.Doc?"template-type-doc":(null==e?null:e.type)===i.TemplateTypes.Task?"template-type-task":(null==e?null:e.type)===i.TemplateTypes.Checklist?"template-type-checklist":"template-type-filter"),X.Ib(2),X.fd(" ",null==e?null:e.name," ")}}let sb=(()=>{class e{constructor(e){this.sharedData=e,this.onClose=new X.o,this.clearSearchTerm=new X.o,this.onUpdateSearchTerm=new X.o,this.onUpdateCreatorFilter=new X.o,this.onStateChange=new X.o,this.onTemplateToUpdateNext=new X.o,this.trackByProperty=Object(be.d)("id"),this.destroy$=new Ee.a,this.selectedCreator$=new oa.a([]),this.debounceSearch$=new Ee.a,this.totalTemplates=[],this.templateToUpdate=null,this.TemplateTypes=Hi.d,this.templateCenterStatus=_a}ngOnChanges(e){let t=[];this.teamTemplates.forEach(e=>{t=t.concat(e.templates)}),this.totalTemplates=[...t]}ngOnInit(){this.debounceSearch$.pipe(Object(Ht.a)(150),Object(Re.a)(this.destroy$)).subscribe(e=>this.onUpdateSearchTerm.next(e)),this.selectedCreator$.pipe(Object(Re.a)(this.destroy$)).subscribe(([e])=>this.onUpdateCreatorFilter.emit(e))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}next(){this.onTemplateToUpdateNext.emit(this.templateToUpdate),this.onStateChange.emit(_a.SAVE_NEW_TEMPLATE)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-update-template"]],inputs:{itemToSave:"itemToSave",teamTemplates:"teamTemplates",teamTemplateCreators:"teamTemplateCreators"},outputs:{onClose:"onClose",clearSearchTerm:"clearSearchTerm",onUpdateSearchTerm:"onUpdateSearchTerm",onUpdateCreatorFilter:"onUpdateCreatorFilter",onStateChange:"onStateChange",onTemplateToUpdateNext:"onTemplateToUpdateNext"},features:[X.Gb],decls:21,vars:8,consts:[[1,"cu-template-center-update-template",3,"perfectScrollbar"],[1,"cu-template-center-update-template__container"],[1,"cu-template-center-update-template__header"],[1,"cu-template-center-update-template__header-item","cu-template-center-update-template__header-search"],["icon","cu2-search2"],["type","text","placeholder","Search templates...",3,"input"],["templateSearch",""],["class","cu-template-center-update-template__header-search-clear","icon","cu2-close",3,"click",4,"ngIf"],[3,"users","selectedUsers","onChange",4,"ngIf"],[1,"cu-template-center-update-template__body"],["class","cu-template-center-update-template__item",3,"cu-template-center-update-template__item-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-template-center-update-template__footer"],[1,"cu-template-center-update-template__footer-text",3,"click"],["icon","cu2-save"],[1,"cu-template-center-update-template__footer-buttons"],[1,"cu-template-center-update-template__footer-button","cu-template-center-update-template__footer-button-cancel",3,"click"],[1,"cu-template-center-update-template__footer-button",3,"click"],["icon","cu2-close",1,"cu-template-center-update-template__header-search-clear",3,"click"],[3,"users","selectedUsers","onChange"],[1,"cu-template-center-update-template__header-item","cu-template-center-update-template__header-creator"],[1,"cu-template-center-update-template__header-item-text"],["icon","cu2-assign-3",4,"ngIf"],[3,"user",4,"ngIf"],["icon","cu2-assign-3"],[3,"user"],[1,"cu-template-center-update-template__item",3,"click"],[1,"cu-template-center-update-template__type"],[3,"icon"],[1,"cu-template-center-update-template__item-text"]],template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.cc(2,"div",2),X.cc(3,"div",3),X.Xb(4,"div",4),X.cc(5,"input",5,6),X.qc("input",function(e){return t.debounceSearch$.next(e.target.value)}),X.bc(),X.bd(7,ib,1,0,"div",7),X.bc(),X.bd(8,cb,6,4,"cu-user-list-dropdown",8),X.vc(9,"async"),X.bc(),X.cc(10,"div",9),X.bd(11,nb,5,20,"div",10),X.bc(),X.cc(12,"div",11),X.cc(13,"div",12),X.qc("click",function(){return t.onStateChange.emit(t.templateCenterStatus.SAVE_NEW_TEMPLATE)}),X.Xb(14,"div",13),X.dd(15," Save as new template "),X.bc(),X.cc(16,"div",14),X.cc(17,"div",15),X.qc("click",function(){return t.onClose.emit()}),X.dd(18," Cancel "),X.bc(),X.cc(19,"div",16),X.qc("click",function(){return t.next()}),X.dd(20," Next "),X.bc(),X.bc(),X.bc(),X.bc(),X.bc()),2&e){const e=X.Rc(6);X.Ib(7),X.Dc("ngIf",e.value),X.Ib(1),X.Dc("ngIf",X.wc(9,6,t.selectedCreator$)),X.Ib(3),X.Dc("ngForOf",t.totalTemplates)("ngForTrackBy",t.trackByProperty),X.Ib(8),X.Ob("cu-template-center-update-template__footer-button-disabled",!t.templateToUpdate)}},directives:[er.a,Qe.a,n.q,n.p,Rl.a,lp.a],pipes:[n.b],styles:['cu-template-center-update-template{max-height:calc(100vh - 154px);background-color:#fafbfc;display:flex;flex-direction:column;overflow:hidden}.dark-theme cu-template-center-update-template{background-color:#2b343b}.cu-template-center-update-template{display:flex;justify-content:center;padding:36px 0;background-color:#fafbfc;flex-grow:1;max-height:100%;margin-bottom:100px}.dark-theme .cu-template-center-update-template{background-color:#2b343b}.cu-template-center-update-template__container{width:550px}.cu-template-center-update-template__header{height:84px;display:flex;align-items:center}.cu-template-center-update-template__header-item{height:36px;display:flex;align-items:center;background-color:#fff;border:1px solid #e9ebf0;padding:0 10px;border-radius:4px}.dark-theme .cu-template-center-update-template__header-item{border-color:#1e272e;background-color:#384047}.cu-template-center-update-template__header-item .icon{width:14px;height:14px;fill:#7c828d;margin-right:8px}.cu-template-center-update-template__header-item-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;flex-grow:1;text-transform:capitalize}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-update-template__header-item-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-update-template__header-item-text{color:#d5d6d7}.cu-template-center-update-template__header-item-down-arrow.icon{width:8px;height:4px;margin-right:0;fill:#292d34}.dark-theme .cu-template-center-update-template__header-item-down-arrow.icon{fill:#d5d6d7}.cu-dropdown_open>div>div>.cu-template-center-update-template__header-item-down-arrow.icon{transform:rotate(180deg)}.cu-template-center-update-template__header-search{flex-grow:1;margin-right:12px}.cu-template-center-update-template__header-search input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;flex-grow:1;border:none;box-shadow:none;background:transparent}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-update-template__header-search input{font-family:var(--global-font-support)}}.cu-template-center-update-template__header-search input:-ms-input-placeholder{opacity:.7}.cu-template-center-update-template__header-search input::placeholder{opacity:.7}.cu-template-center-update-template__header-search>.cu-template-center-update-template__header-search-clear{width:9px;height:9px}.cu-template-center-update-template__header-search>.cu-template-center-update-template__header-search-clear :hover{cursor:pointer}.cu-template-center-update-template__header-cases{width:136px}.cu-template-center-update-template__header-tags{width:102px}.cu-template-center-update-template__header-creator{width:135px}.cu-template-center-update-template__header-creator .icon{margin-right:0}.cu-template-center-update-template__footer{height:96px;position:fixed;bottom:0;left:0;display:flex;justify-content:space-between;width:100%;padding:0 38px;background-color:#fafbfc}.dark-theme .cu-template-center-update-template__footer{background-color:#2b343b}.cu-template-center-update-template__footer:before{position:absolute;content:"";left:0;top:-15px;width:100%;height:40px;background:linear-gradient(180deg,rgba(250,251,252,0),#fafbfc)}.dark-theme .cu-template-center-update-template__footer:before{background:linear-gradient(180deg,rgba(250,251,252,0),#2b343b)}.cu-template-center-update-template__footer-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;color:#7c828d;flex-grow:1;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-update-template__footer-text{font-family:var(--global-font-support)}}.cu-template-center-update-template__footer-text .icon{fill:#7c828d;width:13px;height:13px;margin-right:10px}.cu-template-center-update-template__footer-text:hover{color:var(--theme-main-color)}.cu-template-center-update-template__footer-text:hover .icon{fill:var(--theme-main-color)}.cu-template-center-update-template__footer-buttons{display:flex;align-items:center}.cu-template-center-update-template__footer-button{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:4px;width:140px;height:40px;background-color:var(--theme-main-color);cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-update-template__footer-button{font-family:var(--global-font-support)}}.cu-template-center-update-template__footer-button-disabled{pointer-events:none;opacity:.7}.cu-template-center-update-template__footer-button:hover{background-color:var(--theme-main-color-dark)}.cu-template-center-update-template__footer-button-disabled{opacity:.6}.cu-template-center-update-template__footer-button-cancel{background-color:#e9ebf0;color:#7c828d;margin-right:12px;width:100px}.cu-template-center-update-template__footer-button-cancel:hover{background-color:#d1d3d8}.cu-template-center-update-template .ps__rail-y{z-index:9}.cu-template-center-update-template__body{display:flex;flex-direction:column}.cu-template-center-update-template__item{width:100%;height:64px;display:flex;align-items:center;padding:0 12px;background:#fff;border:1px solid #e9ebf0;box-shadow:0 1px 3px rgba(0,0,0,.05);border-radius:4px;margin-bottom:8px;position:relative;cursor:pointer}.dark-theme .cu-template-center-update-template__item{background-color:#384047}.cu-template-center-update-template__item:hover:after{opacity:1}.cu-template-center-update-template__item:after{content:"";position:absolute;right:12px;top:22px;border-radius:50%;width:18px;height:18px;border:1px solid #b9bec7;opacity:0}.cu-template-center-update-template__item:before{content:"";position:absolute;right:16px;top:26px;border-radius:50%;width:10px;height:10px;background-color:var(--theme-main-color);opacity:0}.cu-template-center-update-template__item-active{border-color:var(--theme-main-color)}.cu-template-center-update-template__item-active:after,.cu-template-center-update-template__item-active:before{opacity:1}.dark-theme .cu-template-center-update-template__item{border-color:#1e272e}.cu-template-center-update-template__item-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;margin-left:12px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-update-template__item-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-update-template__item-text{color:#d5d6d7}.cu-template-center-update-template__type{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:6px}.cu-template-center-update-template__type-space{background-color:#1aaee1}.cu-template-center-update-template__type-folder{background-color:#fd71af}.cu-template-center-update-template__type-list{background-color:#ffc800}.cu-template-center-update-template__type-view{background-color:#00b888}.cu-template-center-update-template__type-view .icon{stroke:#fff}.cu-template-center-update-template__type-doc{background-color:#57f}.cu-template-center-update-template__type-task{background-color:#7b68ee}.cu-template-center-update-template__type-checklist{background-color:#6bc950}.cu-template-center-update-template__type-filter{background-color:#fd7171}.cu-template-center-update-template__type .icon{width:16px;height:16px;fill:#fff}'],encapsulation:2,changeDetection:0}),e})();var rb=i("tGh3"),lb=i("+cRY");const db=["scrollbar"],ub=["cropAvatarModal"];function pb(e,t){1&e&&(X.cc(0,"span",31),X.dd(1," required "),X.bc())}function mb(e,t){1&e&&(X.cc(0,"span",31),X.dd(1," required "),X.bc())}function hb(e,t){1&e&&(X.cc(0,"span",31),X.dd(1," required "),X.bc())}function bb(e,t){if(1&e){const e=X.dc();X.cc(0,"li"),X.Xb(1,"img",34),X.cc(2,"span"),X.dd(3),X.bc(),X.cc(4,"div",35),X.qc("click",function(){X.Uc(e);const i=t.index;return X.uc(2).removeFile(i)}),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ib(1),X.Dc("src",null==e?null:e.file,X.Xc),X.Ib(2),X.ed(null==e?null:e.name)}}function gb(e,t){if(1&e&&(X.cc(0,"ul",32),X.bd(1,bb,5,2,"li",33),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",e.images)("ngForTrackBy",e.trackByValue)}}function fb(e,t){1&e&&(X.cc(0,"span",31),X.dd(1," required "),X.bc())}function _b(e,t){if(1&e){const e=X.dc();X.cc(0,"div",40),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=X.uc().ngIf;return X.uc().toggleCase(i,a)}),X.cc(1,"div",41),X.Xb(2,"div"),X.bc(),X.cc(3,"p",42),X.dd(4),X.bc(),X.bc()}if(2&e){const e=t.$implicit;X.Ob("cu-template-center-submit-template__usecases-item-last",t.last),X.Ib(2),X.Ob("cu-template-center-submit-template__usecases-item-checkbox-active",e.isSelected),X.Ib(2),X.fd(" ",e.title," ")}}function vb(e,t){1&e&&(X.cc(0,"div",43),X.Xb(1,"input",44),X.bc())}function yb(e,t){if(1&e&&(X.cc(0,"div",3),X.cc(1,"div",36),X.cc(2,"h2",4),X.dd(3," Select use cases applicable to this template "),X.bd(4,fb,2,0,"span",5),X.vc(5,"async"),X.bc(),X.cc(6,"div",37),X.bd(7,_b,5,5,"div",38),X.bd(8,vb,2,0,"div",39),X.vc(9,"async"),X.bc(),X.bc(),X.bc()),2&e){const e=t.ngIf,i=X.uc();X.Ib(4),X.Dc("ngIf",i.submitAttempt&&!X.wc(5,4,i.hasSelectedUseCase$)),X.Ib(3),X.Dc("ngForOf",e)("ngForTrackBy",i.trackByValue),X.Ib(1),X.Dc("ngIf",X.wc(9,6,i.otherSelected$))}}function wb(e,t){1&e&&(X.cc(0,"div",45),X.dd(1," You can attribute to me publicly. "),X.bc())}function kb(e,t){1&e&&(X.cc(0,"span",31),X.dd(1," required "),X.bc())}function xb(e,t){1&e&&(X.cc(0,"div",52),X.Xb(1,"div",53),X.bc())}function Tb(e,t){if(1&e&&X.Xb(0,"img",54),2&e){const e=X.uc(2);X.Dc("src",null==e.avatar?null:e.avatar.file,X.Xc)}}function Sb(e,t){if(1&e){const e=X.dc();X.cc(0,"div",3),X.cc(1,"div",4),X.dd(2," Attribution name & picture "),X.bd(3,kb,2,0,"span",5),X.bc(),X.cc(4,"div",46),X.cc(5,"div",9),X.cc(6,"div",10),X.qc("ondrop",function(t){return X.Uc(e),X.uc().avatarDrop(t)}),X.cc(7,"div",11),X.Xb(8,"div",12),X.cc(9,"div",13),X.dd(10,"Drop drop picture to crop"),X.bc(),X.bc(),X.bc(),X.bc(),X.bd(11,xb,2,0,"div",47),X.bd(12,Tb,1,1,"img",48),X.cc(13,"div",15),X.cc(14,"label",49),X.cc(15,"span"),X.dd(16,"+ Upload picture"),X.bc(),X.cc(17,"input",50),X.qc("change",function(t){return X.Uc(e),X.uc().avatarDrop(t.target.files)}),X.bc(),X.bc(),X.bc(),X.bc(),X.cc(18,"input",51),X.qc("ngModelChange",function(t){return X.Uc(e),X.uc().attribute.name=t})("blur",function(){X.Uc(e);const t=X.uc();return t.attribute.name=null==t.attribute.name?null:t.attribute.name.trim()}),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(3),X.Dc("ngIf",e.submitAttempt&&e.attribute.attribute&&(!(null!=e.avatar&&e.avatar.file)||!e.attribute.name)),X.Ib(5),X.Dc("icon","chevron-top"),X.Ib(3),X.Dc("ngIf",!(null!=e.avatar&&e.avatar.file)),X.Ib(1),X.Dc("ngIf",null==e.avatar?null:e.avatar.file),X.Ib(6),X.Dc("ngModel",e.attribute.name)}}function jb(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-crop-avatar",55),X.qc("addAvatar",function(t){return X.Uc(e),X.uc().addAvatar(t)}),X.bc()}if(2&e){const e=X.uc();X.Dc("files",e.avatarFiles)}}let Ob=(()=>{class e{constructor(e,t,i,a){this.templateCenterService=e,this.modalService=t,this.changeDetector=i,this.helper=a,this.onCancel=new X.o,this.onSubmitSuccess=new X.o,this.submitAttempt=!1,this.publicTemplateName="",this.description="",this.images=[],this.attribute={attribute:!0,name:""},this.useCases$=new oa.a(null),this.otherSelected$=this.useCases$.pipe(Object(Fe.a)(e=>e.findIndex(e=>"Other"===e.title&&e.isSelected)>-1)),this.hasSelectedUseCase$=this.useCases$.pipe(Object(Fe.a)(e=>e.some(({isSelected:e})=>e))),this.trackByValue=be.f}ngOnInit(){this.templateCenterService.getTemplateUseCases().pipe(Object(Fe.a)(({use_cases:e})=>e.map(({use_case:e})=>({title:e,isSelected:!1})))).subscribe(e=>this.useCases$.next(e))}imageDrop(e){const t=new FileReader;let i=0;for(t.onload=a=>{for(this.images.push({name:e[i].name,file:a.target.result}),this.changeDetector.detectChanges(),i+=1;e[i]&&"image/jpeg"!==e[i].type&&"image/png"!==e[i].type;)i+=1;e[i]&&t.readAsDataURL(e[i])};i<e.length&&"image/jpeg"!==e[i].type&&"image/png"!==e[i].type;)i+=1;e[i]&&t.readAsDataURL(e[i])}removeFile(e){this.images=this.images.filter((t,i)=>i!==e)}toggleCase(e,t){const i=t.map(t=>t.title===e.title?Object.assign(Object.assign({},t),{isSelected:!e.isSelected}):t);this.useCases$.next(i)}avatarDrop(e){this.avatarFiles=e,this.avatar={name:e[0].name,file:null},this.modalService.open({blank:!1,content:this.cropAvatarRef,preventExternalClick:!1})}addAvatar(e){this.avatar.file=e,setTimeout(()=>this.scrollbar.scrollToBottom())}assembleData(e){const t=new FormData;return t.append("template_id",this.selectedTemplate.id),t.append("template_type","doc"===this.selectedTemplate.type?"view":this.selectedTemplate.type),t.append("name",this.publicTemplateName),t.append("description",this.description),t.append("use_cases",JSON.stringify(e)),this.images.forEach(e=>t.append("images",this.helper.dataURItoBlob(e.file),e.name)),this.attribute.attribute&&(t.append("attribute",JSON.stringify(this.attribute)),t.append("attribute_image",this.helper.dataURItoBlob(this.avatar.file),this.avatar.name)),t}submitReview(){this.submitAttempt=!0;const e=this.useCases$.value.reduce((e,t)=>(t.isSelected&&e.push(t.title),e),[]);this.publicTemplateName&&this.description&&e.length&&this.images.length&&(!this.attribute.attribute||this.attribute.name&&this.avatar.file)&&this.templateCenterService.submitPublicTemplate(this.assembleData(e)).subscribe(()=>this.onSubmitSuccess.emit(),e=>"PUBTEMP_001"===e.code?this.onCancel.emit():null)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(Sr),X.Wb(_e.a),X.Wb(X.h),X.Wb($a.b))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-submit-template"]],viewQuery:function(e,t){if(1&e&&(X.jd(db,1),X.jd(ub,3)),2&e){let e;X.Qc(e=X.rc())&&(t.scrollbar=e.first),X.Qc(e=X.rc())&&(t.cropAvatarRef=e.first)}},inputs:{selectedTemplate:"selectedTemplate"},outputs:{onCancel:"onCancel",onSubmitSuccess:"onSubmitSuccess"},decls:54,vars:14,consts:[[1,"cu-template-center-submit-template",3,"perfectScrollbar"],["scrollbar","ngxPerfectScrollbar"],[1,"cu-template-center-submit-template__container"],[1,"cu-template-center__option-section"],[1,"cu-template-center__option-label"],["class","cu-template-center-submit-template__error",4,"ngIf"],["type","text","required","","placeholder","Enter template name...",1,"cu-template-center__option-input",3,"ngModel","ngModelChange","blur"],["type","text","placeholder","Enter description...","cdkTextareaAutosize","",1,"cu-template-center__option-input","cu-template-center__option-textarea",3,"ngModel","cdkAutosizeMinRows","ngModelChange","blur"],["cuDropArea","","cuDropUploader","",1,"cu-template-center__option-section","cu-template-center-submit-template__images"],[1,"task-dropzone"],["cuDropArea","",1,"task-dropzone__container",3,"ondrop"],[1,"task-dropzone__content"],[1,"task-dropzone__icon",3,"icon"],[1,"task-dropzone__text"],[1,"cu-template-center__option-uploader"],[1,"cu-template-center__option-uploader-input"],["for","upload-image"],["id","upload-image","type","file","accept",".png, .jpg, .JPEG",3,"change"],["class","cu-template-center__option-uploader-file-list",4,"ngIf"],["class","cu-template-center__option-section",4,"ngIf"],[1,"cu-template-center__option-toggle-section"],[1,"cu-template-center__option-toggle-section-text"],["class","cu-template-center__option-toggle-section-italic-text",4,"ngIf"],[3,"checked","onChange"],[1,"cu-template-center-submit-template__footer"],["href","https://docs.clickup.com/en/articles/1178567-templates","target","_blank",1,"cu-template-center-submit-template__footer-text"],["icon","info3"],[1,"cu-template-center-submit-template__footer-buttons"],[1,"cu-template-center-submit-template__footer-button","cu-template-center-submit-template__footer-button-cancel",3,"click"],[1,"cu-template-center-submit-template__footer-button",3,"click"],["cropAvatarModal",""],[1,"cu-template-center-submit-template__error"],[1,"cu-template-center__option-uploader-file-list"],[4,"ngFor","ngForOf","ngForTrackBy"],["width","50px",3,"src"],["icon","cu2-close",3,"click"],[1,"cu-template-center-submit-template__usecases"],[1,"cu-template-center-submit-template__usecases-items"],["class","cu-template-center-submit-template__usecases-item",3,"cu-template-center-submit-template__usecases-item-last","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-template-center-submit-template__usecases-items-input",4,"ngIf"],[1,"cu-template-center-submit-template__usecases-item",3,"click"],[1,"cu-template-center-submit-template__usecases-item-checkbox"],[1,"cu-template-center-submit-template__usecases-item-text"],[1,"cu-template-center-submit-template__usecases-items-input"],["placeholder","Enter here...","type","text"],[1,"cu-template-center__option-toggle-section-italic-text"],["cuDropArea","","cuDropUploader","",1,"cu-template-center-submit-template__attribution"],["class","cu-template-center-submit-template__attribution-avatar",4,"ngIf"],["class","cu-template-center-submit-template__attribution-avatar",3,"src",4,"ngIf"],["for","upload-avatar"],["id","upload-avatar","type","file","accept",".png, .jpg, .JPEG",3,"change"],["type","text","placeholder","Who made this template? Person/Company",1,"cu-template-center__option-input",3,"ngModel","ngModelChange","blur"],[1,"cu-template-center-submit-template__attribution-avatar"],["icon","user"],[1,"cu-template-center-submit-template__attribution-avatar",3,"src"],[3,"files","addAvatar"]],template:function(e,t){1&e&&(X.cc(0,"div",0,1),X.cc(2,"div",2),X.cc(3,"div",3),X.cc(4,"div",4),X.dd(5," Template name "),X.bd(6,pb,2,0,"span",5),X.bc(),X.cc(7,"input",6),X.qc("ngModelChange",function(e){return t.publicTemplateName=e})("blur",function(){return t.publicTemplateName=null==t.publicTemplateName?null:t.publicTemplateName.trim()}),X.bc(),X.bc(),X.cc(8,"div",3),X.cc(9,"div",4),X.dd(10," Description "),X.bd(11,mb,2,0,"span",5),X.bc(),X.cc(12,"textarea",7),X.qc("ngModelChange",function(e){return t.description=e})("blur",function(){return t.description=null==t.description?null:t.description.trim()}),X.bc(),X.bc(),X.cc(13,"div",8),X.cc(14,"div",9),X.cc(15,"div",10),X.qc("ondrop",function(e){return t.imageDrop(e)}),X.cc(16,"div",11),X.Xb(17,"div",12),X.cc(18,"div",13),X.dd(19,"Drop screenshot of template"),X.bc(),X.bc(),X.bc(),X.bc(),X.cc(20,"div",4),X.dd(21," Upload template screenshots "),X.bd(22,hb,2,0,"span",5),X.bc(),X.cc(23,"div",14),X.cc(24,"div",15),X.cc(25,"p"),X.dd(26,"Drop preview images here, or\xa0"),X.bc(),X.cc(27,"label",16),X.cc(28,"span"),X.dd(29,"browse"),X.bc(),X.cc(30,"input",17),X.qc("change",function(e){return t.imageDrop(e.target.files)}),X.bc(),X.bc(),X.bc(),X.cc(31,"p"),X.dd(32,"Supports: JPG, JPEG, PNG"),X.bc(),X.bc(),X.bd(33,gb,2,2,"ul",18),X.bc(),X.bd(34,yb,10,8,"div",19),X.vc(35,"async"),X.cc(36,"div",3),X.cc(37,"div",20),X.cc(38,"div",21),X.dd(39," I want to be famous "),X.bc(),X.bd(40,wb,2,0,"div",22),X.cc(41,"cu-toggle-switch",23),X.qc("onChange",function(){return t.attribute.attribute=!t.attribute.attribute}),X.bc(),X.bc(),X.bc(),X.bd(42,Sb,19,5,"div",19),X.cc(43,"div",24),X.cc(44,"a",25),X.Xb(45,"div",26),X.dd(46," Learn more about community templates "),X.bc(),X.cc(47,"div",27),X.cc(48,"div",28),X.qc("click",function(){return t.onCancel.emit()}),X.dd(49," Cancel "),X.bc(),X.cc(50,"div",29),X.qc("click",function(){return t.submitReview()}),X.dd(51," Save "),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.bd(52,jb,1,1,"ng-template",null,30,X.cd)),2&e&&(X.Ib(6),X.Dc("ngIf",t.submitAttempt&&!t.publicTemplateName),X.Ib(1),X.Dc("ngModel",t.publicTemplateName),X.Ib(4),X.Dc("ngIf",t.submitAttempt&&!t.description),X.Ib(1),X.Dc("ngModel",t.description)("cdkAutosizeMinRows",1),X.Ib(5),X.Dc("icon","chevron-top"),X.Ib(5),X.Dc("ngIf",t.submitAttempt&&!t.images.length),X.Ib(11),X.Dc("ngIf",t.images.length),X.Ib(1),X.Dc("ngIf",X.wc(35,12,t.useCases$)),X.Ib(6),X.Dc("ngIf",t.attribute.attribute),X.Ib(1),X.Dc("checked",t.attribute.attribute),X.Ib(1),X.Dc("ngIf",t.attribute.attribute))},directives:[er.a,n.q,s.c,s.y,s.p,s.s,S.a,Mr.a,Er.a,Qe.a,Gl.a,n.p,lb.a],pipes:[n.b],styles:['cu-template-center-submit-template{max-height:calc(100vh - 154px);background-color:#fafbfc;display:flex;flex-direction:column;overflow:hidden}.dark-theme cu-template-center-submit-template{background-color:#2b343b}.cu-template-center-submit-template{display:flex;justify-content:center;padding:36px 0;background-color:#fafbfc;flex-grow:1;max-height:100%;margin-bottom:100px}.dark-theme .cu-template-center-submit-template{background-color:#2b343b}.cu-template-center-submit-template__container{width:550px}.cu-template-center-submit-template__images{position:relative}.cu-template-center-submit-template__images.cu-state-drag-over .task-dropzone__container:before{content:none}.cu-template-center-submit-template__usecases{width:100%;border:1px solid #e9ebf0;border-radius:4px;padding:20px 16px;background-color:#fff;display:flex;flex-direction:column}.dark-theme .cu-template-center-submit-template__usecases{border-color:#1e272e;background-color:#384047}.cu-template-center-submit-template__usecases-items{display:flex;flex-wrap:wrap;padding-top:10px}.cu-template-center-submit-template__usecases-items-input{flex-grow:1;border-bottom:1px solid #e9ebf0;height:18px}.dark-theme .cu-template-center-submit-template__usecases-items-input{border-color:#1e272e}.cu-template-center-submit-template__usecases-items-input>input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;border:none;background-color:transparent;width:100%;height:17px;padding:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-submit-template__usecases-items-input>input{font-family:var(--global-font-support)}}.cu-template-center-submit-template__usecases-items-input>input :hover{box-shadow:none}.cu-template-center-submit-template__usecases-item{display:flex;align-items:center;margin-bottom:16px;width:33%}.cu-template-center-submit-template__usecases-item:hover{cursor:pointer}.cu-template-center-submit-template__usecases-item-checkbox{width:18px;height:18px;border-radius:3px;border:1px solid #e9ebf0;margin-right:12px;padding:3px}.dark-theme .cu-template-center-submit-template__usecases-item-checkbox{border-color:#1e272e}.cu-template-center-submit-template__usecases-item-checkbox>div{width:100%;height:100%;border-radius:2px;background-color:transparent}.cu-template-center-submit-template__usecases-item-checkbox>.cu-template-center-submit-template__usecases-item-checkbox-active{background-color:var(--theme-main-color)}.cu-template-center-submit-template__usecases-item-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-submit-template__usecases-item-text{font-family:var(--global-font-support)}}.cu-template-center-submit-template__usecases-item-last{width:auto;margin-right:20px}.cu-template-center-submit-template__attribution{position:relative;display:flex;align-items:center;margin-bottom:12px}.cu-template-center-submit-template__attribution>:not(:first-child){margin-left:12px}.cu-template-center-submit-template__attribution-avatar{width:50px;height:50px;border:1px solid #e9ebf0;border-radius:50px;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}.cu-template-center-submit-template__attribution-avatar .icon{width:20px;height:20px;fill:#e9ebf0}.cu-template-center-submit-template__footer{height:96px;position:fixed;bottom:0;left:0;display:flex;justify-content:space-between;width:100%;padding:0 38px;background-color:#fafbfc}.dark-theme .cu-template-center-submit-template__footer{background-color:#2b343b}.cu-template-center-submit-template__footer:before{position:absolute;content:"";left:0;top:-15px;width:100%;height:40px;background:linear-gradient(180deg,rgba(250,251,252,0),#fafbfc)}.dark-theme .cu-template-center-submit-template__footer:before{background:linear-gradient(180deg,rgba(250,251,252,0),#2b343b)}.cu-template-center-submit-template__footer-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;color:#7c828d;flex-grow:1;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-submit-template__footer-text{font-family:var(--global-font-support)}}.cu-template-center-submit-template__footer-text .icon{fill:#7c828d;width:13px;height:13px;margin-right:10px}.cu-template-center-submit-template__footer-text:hover{color:var(--theme-main-color)}.cu-template-center-submit-template__footer-text:hover .icon{fill:var(--theme-main-color)}.cu-template-center-submit-template__footer-buttons{display:flex;align-items:center}.cu-template-center-submit-template__footer-button{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:4px;width:140px;height:40px;background-color:var(--theme-main-color);cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-submit-template__footer-button{font-family:var(--global-font-support)}}.cu-template-center-submit-template__footer-button:hover{background-color:var(--theme-main-color-dark)}.cu-template-center-submit-template__footer-button-cancel{background-color:#e9ebf0;color:#7c828d;margin-right:12px;width:100px}.cu-template-center-submit-template__footer-button-cancel:hover{background-color:#d1d3d8}.cu-template-center-submit-template__error{margin-left:10px;color:#d35d5a}.cu-template-center-submit-template .cu-template-center__option-label:before{content:"*"}.cu-template-center-submit-template .ps__rail-y{z-index:9}'],encapsulation:2,changeDetection:0}),e})();var Ib=i("NaVW");const Db=["scrollbar"];function Cb(e,t){if(1&e){const e=X.dc();X.cc(0,"div",15),X.qc("click",function(){return X.Uc(e),X.uc().toggleRowExpand()}),X.dd(1),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.fd(" ",e.expanded?"Collapse":"See all"," ")}}function Pb(e,t){if(1&e){const e=X.dc();X.cc(0,"div",16),X.qc("click",function(){return X.Uc(e),X.uc().slideRow("left")}),X.Xb(1,"div",17),X.bc()}}function $b(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.qc("click",function(){return X.Uc(e),X.uc().slideRow("right")}),X.Xb(1,"div",17),X.bc()}}function zb(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-template",20),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc().onTemplateSelect.emit(t)}),X.bc()}if(2&e){const e=X.uc().$implicit;X.Dc("template",e)("allowQuickCreate",!1)}}function Mb(e,t){if(1&e&&(X.ac(0),X.bd(1,zb,1,2,"cu-template-center-template",19),X.Zb()),2&e){const e=t.even,i=X.uc();X.Ib(1),X.Dc("ngIf",e||i.expanded)}}function Eb(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-center-template",20),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(2).onTemplateSelect.emit(t)}),X.bc()}if(2&e){const e=X.uc().$implicit;X.Dc("template",e)("allowQuickCreate",!1)}}function Lb(e,t){if(1&e&&(X.ac(0),X.bd(1,Eb,1,2,"cu-template-center-template",19),X.Zb()),2&e){const e=t.odd,i=X.uc(2);X.Ib(1),X.Dc("ngIf",e&&!i.expanded)}}function Ab(e,t){if(1&e&&(X.cc(0,"div",8),X.bd(1,Lb,2,1,"ng-container",9),X.bc()),2&e){const e=X.uc();X.ad("transform",e.translate),X.Ob("cu-template-center-onboarding-templates__row-expanded",e.expanded),X.Ib(1),X.Dc("ngForOf",null==e.suggestedTemplates?null:e.suggestedTemplates.templates)("ngForTrackBy",e.trackByProperty)}}let Fb=(()=>{class e{constructor(e){this.sharedData=e,this.onTemplateSelect=new X.o,this.onClose=new X.o,this.onStateChange=new X.o,this.TemplateTypes=Hi.d,this.templateCenterStatus=_a,this.trackByProperty=Object(be.d)("type"),this.slideIndex=1,this.expanded=!1,this.translate="0",this.isLastStep=!1}ngOnInit(){}slideRow(e){const t=this.suggestedTemplates&&this.suggestedTemplates.templates?this.suggestedTemplates.templates.length:0,i=this.slideIndex;if("right"===e&&6*this.slideIndex>=t)return;this.slideIndex="left"===e?i-1:i+1,"left"===e&&i<=1&&(this.slideIndex=1);let a=0;const o=Math.ceil(t/2),c=3*this.slideIndex-o;"right"===e&&c>0&&(a=326*c),this.isLastStep=!!a,this.translate=`translateX(-${978*(this.slideIndex-1)-a}px)`}toggleRowExpand(){this.expanded=!this.expanded,this.scrollbar&&this.scrollbar.update()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-template-center-onboarding-templates"]],viewQuery:function(e,t){if(1&e&&X.jd(Db,1),2&e){let e;X.Qc(e=X.rc())&&(t.scrollbar=e.first)}},inputs:{selectedTemplate:"selectedTemplate",suggestedTemplates:"suggestedTemplates"},outputs:{onTemplateSelect:"onTemplateSelect",onClose:"onClose",onStateChange:"onStateChange"},decls:18,vars:12,consts:[[1,"cu-template-center-onboarding-templates",3,"perfectScrollbar"],["scrollbar","ngxPerfectScrollbar"],[1,"cu-template-center-onboarding-templates__header"],[1,"cu-template-center-onboarding-templates__header-text"],["class","cu-template-center-onboarding-templates__header-more",3,"click",4,"ngIf"],[1,"cu-template-center-onboarding-templates__container"],["class","cu-template-center-onboarding-templates__container-arrow cu-template-center-onboarding-templates__container-arrow-left",3,"click",4,"ngIf"],["class","cu-template-center-onboarding-templates__container-arrow cu-template-center-onboarding-templates__container-arrow-right",3,"click",4,"ngIf"],[1,"cu-template-center-onboarding-templates__row"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-template-center-onboarding-templates__row",3,"cu-template-center-onboarding-templates__row-expanded","transform",4,"ngIf"],[1,"cu-template-center-onboarding-templates__footer"],[1,"cu-template-center-onboarding-templates__footer-scratch",3,"click"],[1,"cu-template-center-onboarding-templates__footer-explore",3,"click"],["icon","cu2-angle-right"],[1,"cu-template-center-onboarding-templates__header-more",3,"click"],[1,"cu-template-center-onboarding-templates__container-arrow","cu-template-center-onboarding-templates__container-arrow-left",3,"click"],["icon","cu2-angle-right",1,"cu-template-center-main__row-container-arrow-icon"],[1,"cu-template-center-onboarding-templates__container-arrow","cu-template-center-onboarding-templates__container-arrow-right",3,"click"],[3,"template","allowQuickCreate","click",4,"ngIf"],[3,"template","allowQuickCreate","click"]],template:function(e,t){1&e&&(X.cc(0,"div",0,1),X.cc(2,"div",2),X.cc(3,"div",3),X.dd(4," Suggested "),X.bc(),X.bd(5,Cb,2,1,"div",4),X.bc(),X.cc(6,"div",5),X.bd(7,Pb,2,0,"div",6),X.bd(8,$b,2,0,"div",7),X.cc(9,"div",8),X.bd(10,Mb,2,1,"ng-container",9),X.bc(),X.bd(11,Ab,2,6,"div",10),X.bc(),X.cc(12,"div",11),X.cc(13,"div",12),X.qc("click",function(){return t.onClose.emit()}),X.dd(14," Start from scratch "),X.bc(),X.cc(15,"div",13),X.qc("click",function(){return t.onStateChange.emit(t.templateCenterStatus.MAIN)}),X.dd(16," Explore all Templates "),X.Xb(17,"div",14),X.bc(),X.bc(),X.bc()),2&e&&(X.Ob("cu-template-center-onboarding-templates-expanded",t.expanded),X.Ib(5),X.Dc("ngIf",(null==t.suggestedTemplates||null==t.suggestedTemplates.templates?null:t.suggestedTemplates.templates.length)>6),X.Ib(2),X.Dc("ngIf",t.slideIndex>1&&!t.expanded),X.Ib(1),X.Dc("ngIf",!t.expanded&&(null==t.suggestedTemplates||null==t.suggestedTemplates.templates?null:t.suggestedTemplates.templates.length)>6&&!t.isLastStep),X.Ib(1),X.ad("transform",t.translate),X.Ob("cu-template-center-onboarding-templates__row-expanded",t.expanded),X.Ib(1),X.Dc("ngForOf",null==t.suggestedTemplates?null:t.suggestedTemplates.templates)("ngForTrackBy",t.trackByProperty),X.Ib(1),X.Dc("ngIf",(null==t.suggestedTemplates||null==t.suggestedTemplates.templates?null:t.suggestedTemplates.templates.length)>3))},directives:[er.a,n.q,n.p,Qe.a,yp],styles:['cu-template-center-onboarding-templates{height:100%;background-color:#fafbfc;display:flex;flex-direction:column;overflow:hidden;padding:24px 0;max-height:calc(100vh - 154px)}.dark-theme cu-template-center-onboarding-templates{background-color:#2b343b}.cu-template-center-onboarding-templates{height:100%;display:flex;flex-direction:column}.cu-template-center-onboarding-templates-expanded .cu-template-center-onboarding-templates__container{max-height:calc(100% - 70px);padding:0 24px}.cu-template-center-onboarding-templates__header{padding:0 24px 16px;display:flex;align-items:center}.cu-template-center-onboarding-templates__header-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1;color:#292d34;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-onboarding-templates__header-text{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-onboarding-templates__header-text{color:#d5d6d7}.cu-template-center-onboarding-templates__header-more{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;height:16px;display:flex;align-items:center;color:#7c828d;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-onboarding-templates__header-more{font-family:var(--global-font-support)}}.cu-template-center-onboarding-templates__header-more:hover{color:var(--theme-main-color)}.dark-theme .cu-template-center-onboarding-templates__header-more{color:#828588;border-color:#1e272e}.cu-template-center-onboarding-templates__container{display:flex;flex-wrap:wrap;padding:0 8px 0 24px;overflow-x:hidden}.cu-template-center-onboarding-templates__container:hover .cu-template-center-onboarding-templates__container-arrow{opacity:1}.cu-template-center-onboarding-templates__container .cu-template-center-template{margin-bottom:16px;width:310px;min-width:310px}.cu-template-center-onboarding-templates__container-arrow{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:32px;opacity:0;height:316px;width:48px;cursor:pointer;z-index:8;display:flex;align-items:center;justify-content:center;overflow:hidden;background:rgba(250,251,252,.9)}.dark-theme .cu-template-center-onboarding-templates__container-arrow{background:rgba(56,64,71,.8)}.cu-template-center-onboarding-templates__container-arrow:before{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;content:"";top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.1);z-index:7;opacity:0;pointer-events:none}.cu-template-center-onboarding-templates__container-arrow .icon{fill:#292d34;height:18px;width:18px;position:relative;z-index:9}.dark-theme .cu-template-center-onboarding-templates__container-arrow .icon{fill:#b9bec7}.cu-template-center-onboarding-templates__container-arrow:hover:before{opacity:1}.cu-template-center-onboarding-templates__container-arrow-left{left:0;border-radius:4px 0 0 4px}.cu-template-center-onboarding-templates__container-arrow-left .icon{transform:rotate(180deg)}.cu-template-center-onboarding-templates__container-arrow-right{right:0;border-radius:0 4px 4px 0}.cu-template-center-onboarding-templates__footer{display:flex;align-items:center;justify-content:space-between;background-color:#fafbfc;margin-top:auto;padding:10px 24px;position:fixed;left:0;right:0;bottom:0;z-index:3}.dark-theme .cu-template-center-onboarding-templates__footer{background-color:#2b343b}.cu-template-center-onboarding-templates__footer-scratch{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;border-radius:4px;border:1px solid #e9ebf0;background:#fff;height:36px;width:238px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-onboarding-templates__footer-scratch{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-onboarding-templates__footer-scratch{border-color:#1e272e;background:#384047;color:#d5d6d7}.cu-template-center-onboarding-templates__footer-scratch:hover{border-color:var(--theme-main-color);color:var(--theme-main-color)}.cu-template-center-onboarding-templates__footer-explore{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;cursor:pointer;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-onboarding-templates__footer-explore{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-onboarding-templates__footer-explore{color:#d5d6d7}.cu-template-center-onboarding-templates__footer-explore:hover{color:var(--theme-main-color)}.cu-template-center-onboarding-templates__footer-explore:hover .icon{fill:var(--theme-main-color)}.cu-template-center-onboarding-templates__footer-explore .icon{fill:#7c828d;width:12px;height:12px;margin-left:3px;margin-top:1px}.dark-theme .cu-template-center-onboarding-templates__footer-explore .icon{fill:#d5d6d7}.cu-template-center-onboarding-templates__row{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;flex-wrap:nowrap}.cu-template-center-onboarding-templates__row-expanded{transition:none;flex-wrap:wrap;transform:none!important;margin-right:0;justify-content:flex-start;position:relative}.cu-template-center-onboarding-templates__row-expanded .cu-template-center-template{margin-bottom:16px;width:calc(33.33% - 12px);min-width:calc(33.33% - 12px)}.cu-template-center-onboarding-templates__row-expanded .cu-template-center-template:nth-of-type(3n){margin-right:0}.cu-template-center-onboarding-templates__row-none{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;padding-bottom:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-template-center-onboarding-templates__row-none{font-family:var(--global-font-support)}}.dark-theme .cu-template-center-onboarding-templates__row-none{color:#828588}'],encapsulation:2,changeDetection:0}),e})();var Ub=i("FLRT");let Nb=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,E.a,F.a]]}),e})();var Rb=i("VrOs");let Gb=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})();var qb=i("IRoT");i("GSMa");let Bb=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,En.a,q.a,B.a,er.b,cr.a,Cr,Pr.a,M.LoaderModule,E.a,rb.a,s.l,j.a,N.a,Xn.a,k.a,F.a,$n.a,S.b,_.a,y.a,Ws.a,Na.b,m.d,Ln.a,L.a,$.a,Ib.a,Mn.a,Ub.a,Nb,$r.c,Rb.a.forFeature(),$r.n,Gb,qb.a]]}),e})();X.Yc(va,[Ch,n.q,op,wm,Nu,jh,tb,sb,Ob,Fb],[n.b]);var Wb=i("GyhO"),Vb=i("m2rH");let Xb=(()=>{class e{constructor(e,t,i,a){this.action$=e,this.store=t,this.dataService=i,this.userService=a,this.openProfile$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zi.d.type),Object(qt.a)(this.store.select(Kt.f),this.store.select(me.getSelectedTeamId)),Object(Vt.a)(([e,t,i])=>e.user&&i?this.dataService.getUserProfile(i,e.user.id).pipe(Object(Vt.a)(e=>{const t=[];return e.user.description=e.memberInfo.description,t.push(Zi.e(e)),t.push(Zi.b()),Object(ur.a)(t)}),Object(hr.a)(this.handleError.bind(this))):pr.a))),this.loadRecentTasks$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zi.b.type),Object(qt.a)(this.store.select(Kt.f),this.store.select(me.getSelectedTeamId)),Object(Vt.a)(([e,t,i])=>t&&i?this.dataService.getUserProfileRecent(i,t.id).pipe(Object(Fe.a)(e=>Zi.g({data:e,page:1})),Object(hr.a)(this.handleError.bind(this))):pr.a))),this.loadRecentTasksPage$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zi.c.type),Object(qt.a)(this.store.select(Kt.f),this.store.select(me.getSelectedTeamId),this.store.select(Kt.c)),Object(Vt.a)(([e,t,i,a])=>{if(!t||!i||!a[e.id])return pr.a;const o=(a[e.id].page||0)+1;return this.dataService.getUserProfileRecent(i,t.id,o,e.id).pipe(Object(Fe.a)(t=>Zi.g({data:t,page:o,id:e.id})),Object(hr.a)(this.handleError.bind(this)))}))),this.setProfileRecentData$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zi.g.type),Object(qt.a)(this.store.select(Qa.g),this.store.select(Kt.c)),Object(Vt.a)(([e,t,i])=>{const a=[],o={},c=[];return["recentlyDone","recentlyCreated","recentlyTracked","recentlyUpdated"].filter(t=>t===e.id||!e.id).forEach(a=>{if(e.data[a]){const s=(n=e.data[a])&&n.tasks&&n.tasks.filter(e=>e.task).map(e=>Object.assign(Object.assign({},t[e.task.id]),e.task))||[];o[a]={tasks:e.page&&1!==e.page&&i&&i[a]&&i[a].tasks?[...i[a].tasks,...s]:s,lastPage:e.data[a].last_page,page:e.page},c.push(s)}var n}),a.push(Zi.h({data:o})),a.push(new Vb.f(c)),Object(ur.a)(a)}))),this.updateProfileUserDesc$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zi.k.type),Object(qt.a)(this.store.select(Kt.f),this.store.select(me.getSelectedTeamId)),Object(Vt.a)(([e,t,i])=>{if(!t)return pr.a;const a=(e.desc||"").substring(0,256);return Object(Wb.a)(Object(Wa.a)(Zi.j({data:{description:a}})),this.userService.updateUserDescription(i,t.id,a).pipe(Object(Vt.a)(()=>pr.a),Object(hr.a)(this.handleError.bind(this))))})))}handleError(e){return setTimeout(()=>{this.store.dispatch(new sa.d(e))},mr.a),Object(Wa.a)(new sa.b(e))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(ye.Store),X.nc(Da.a),X.nc(we.c))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),Hb=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("profiles",Ji),Ei.b.forFeature([Xb])]]}),e})();var Yb=i("+GyZ"),Zb=i("1gLt"),Qb=i("D+Sl"),Kb=i("BeWh"),Jb=i("Xa+F");function eg(e,t){for(;t>=0;){if(e[t].type===Yb.b.GroupByHeader)return e[t];t--}}let tg=(()=>{class e{constructor(e,t,i,a,o,c){this.action$=e,this.portfolios=t,this.modal=i,this.store=a,this.reporting=o,this.dataService=c,this.loadPortfoliosFromNav$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.PortfoliosListLoadStartFromNav),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId)),this.store.select(Object(Qb.h)(e.payload.portfolioGroupId)),this.store.select(Object(Qb.i)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Vt.a)(([e,t,i,a])=>i.list||t===e.payload.teamId&&0!==a.length?pr.a:Object(Wa.a)(new Zb.p({teamId:e.payload.teamId,portfolioGroupId:e.payload.portfolioGroupId}))))),this.loadPortfolios$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.PortfoliosListLoadStart),Object(br.a)(e=>Object(Nt.a)([Object(Wa.a)(e),e.payload.onlyLoadSelected?Object(Wa.a)([]):this.portfolios.getPortfolios(e.payload.teamId),e.payload.selectedId?this.portfolios.getPortfolio(e.payload.teamId,e.payload.selectedId,e.payload.isPrettyId,e.payload.paging?{count:Yb.a}:void 0).pipe(Object(hr.a)(()=>Object(Wa.a)(null))):Object(Wa.a)(null)])),Object(Vt.a)(([e,t,i])=>[!i&&t.length>0&&e.payload.redirect?this.navigateToPortfolio(e.payload.teamId,t[0].pretty_id):null,new Zb.r({portfolios:t,selectedPortfolio:i,teamId:e.payload.teamId,portfolioGroupId:e.payload.portfolioGroupId}),...(i?i.rows:[]).filter(e=>e.calculation&&e.calculation.field_id).map(t=>{const a=t.calculation;return new Zb.b({portfolioId:i.id,listId:"subcategory"===t.type?t.subcategory.id:null,categoryId:"category"===t.type?t.category.id:null,statuses:a.statuses,fieldId:a.field_id,calculationTypeId:a.operation,persist:!1,portfolioGroupId:e.payload.portfolioGroupId})})].filter(Boolean)))),this.createPortfolio$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.CreatePortfolioStart),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Vt.a)(([e,t])=>this.portfolios.createPortfolio(t,e.payload.portfolio).pipe(Object(Vt.a)(i=>(this.modal.close(),[new Zb.g({portfolio:i,portfolioGroupId:e.payload.portfolioGroupId}),this.navigateToPortfolio(t,i.pretty_id)])),Object(hr.a)(t=>Object(Wa.a)(new Zb.o({error:t,loadingKey:"create",portfolioGroupId:e.payload.portfolioGroupId}))))))),this.updatePortfolio$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.UpdatePortfolioStart),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId)),this.store.select(Object(Qb.k)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Vt.a)(([e,t,i])=>6===Object.keys(e.payload.changes).length&&i.name===e.payload.changes.name&&i.show_subtasks===e.payload.changes.show_subtasks&&e.payload.changes.add_categories&&0===e.payload.changes.add_categories.length&&e.payload.changes.rem_categories&&0===e.payload.changes.rem_categories.length&&e.payload.changes.add_subcategories&&0===e.payload.changes.add_subcategories.length&&e.payload.changes.rem_subcategories&&0===e.payload.changes.rem_subcategories.length?pr.a:this.portfolios.updatePortfolio(t,e.payload.portfolioId,e.payload.changes).pipe(Object(Vt.a)(t=>(this.modal.close(),[new Zb.C({portfolio:t,portfolioGroupId:e.payload.portfolioGroupId,changes:e.payload.changes}),void 0!==e.payload.changes.show_subtasks?new Zb.s({portfolioGroupId:e.payload.portfolioGroupId}):void 0].filter(Boolean))),Object(hr.a)(t=>Object(Wa.a)(new Zb.o({error:t,loadingKey:"update",portfolioGroupId:e.payload.portfolioGroupId}))))))),this.deletePortfolio$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.DeletePortfolioStart),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Vt.a)(([e,t])=>this.portfolios.deletePortfolio(t,e.payload.portfolio.id).pipe(Object(qt.a)(this.store.select(Object(Qb.i)(e.payload.portfolioGroupId)),this.store.select(Object(Qb.k)(e.payload.portfolioGroupId))),Object(Vt.a)(([,i,a])=>{this.modal.close();const o=[];if(o.push(new Zb.i({portfolio:e.payload.portfolio,portfolioGroupId:e.payload.portfolioGroupId})),e.payload.portfolio.id===a.id){const a=i.find(t=>t.id!==e.payload.portfolio.id);o.push(this.navigateToPortfolio(t,a?a.pretty_id:void 0))}return o}),Object(hr.a)(t=>Object(Wa.a)(new Zb.o({error:t,loadingKey:"delete",portfolioGroupId:e.payload.portfolioGroupId}))))))),this.fetchMilestoneTasks$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.FetchMilestoneTasks),Object(Vt.a)(e=>this.dataService.getTasksByIds(e.payload.ids).pipe(Object(Vt.a)(e=>{const t=[];return t.push(new Vb.f(e||[])),t}),Object(hr.a)(this.handleError.bind(this)))))),this.copyPortfolio$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.CopyPortfolio),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Vt.a)(([e,t])=>this.portfolios.getPortfolio(t,e.payload.portfolio.id,!1).pipe(Object(Fe.a)(t=>new Zb.f({portfolio:{name:t.name+" (Copy)",private:t.private,members:t.portfolio_members.map(e=>e.id),subcategories:t.rows.filter(e=>"subcategory"===e.type).map(e=>e.id),show_subtasks:t.show_subtasks},portfolioGroupId:e.payload.portfolioGroupId})))))),this.updateSubcategory$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ge.di),Object(Fe.a)(e=>new Zb.E({subcategory:e.subcategory})))),this.updateCategory$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ge.Hg),Object(Fe.a)(e=>new Zb.y({category:e.payload})))),this.updatePortfolioSubcategory$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.UpdatePortfolioSubcategory),Object(br.a)(e=>this.portfolios.editPortfolioSubcategory(e.payload.portfolioId,e.payload.subcategoryId,e.payload.changes).pipe(Object(Xt.a)(new Zb.s({portfolioGroupId:e.payload.portfolioGroupId})))))),this.updatePortfolioCategory$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.UpdatePortfolioCategory),Object(br.a)(e=>this.portfolios.editPortfolioCategory(e.payload.portfolioId,e.payload.categoryId,e.payload.changes).pipe(Object(Xt.a)(new Zb.s({portfolioGroupId:e.payload.portfolioGroupId})))))),this.updateProject$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ge.Tl),Object(Fe.a)(e=>new Zb.D({project:e.data})))),this.reloadSelectedPortfolio$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.ReloadSelectedPortfolio),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId)),this.store.select(Object(Qb.k)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Ge.a)(([,,e])=>Boolean(e)),Object(br.a)(([e,t,i])=>this.portfolios.getPortfolio(t,i.id,!1).pipe(Object(Fe.a)(t=>new Zb.C({portfolio:t,portfolioGroupId:e.payload.portfolioGroupId,changes:{}})))))),this.addCalculation$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.AddCalculationStart),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(br.a)(([e,t])=>this.reporting.getCustomFieldsReport(new wr.g({fromObject:{"fields[]":[JSON.stringify({id:e.payload.fieldId,operator:"is set"})],team_id:t,"calculate[]":[e.payload.calculationTypeId],"statuses[]":e.payload.statuses,"subcategory_ids[]":[e.payload.listId],"category_ids[]":[e.payload.categoryId],from_portfolio:"true"}})).pipe(Object(Vt.a)(({calculations:t})=>{const i=[];return i.push(new Zb.c({portfolioId:e.payload.portfolioId,listId:e.payload.listId,categoryId:e.payload.categoryId,calculatedValue:t.length>0?t[0][e.payload.calculationTypeId]:0,portfolioGroupId:e.payload.portfolioGroupId})),e.payload.persist&&i.push(e.payload.listId?new Zb.B({portfolioId:e.payload.portfolioId,subcategoryId:e.payload.listId,changes:{field_id:e.payload.fieldId,statuses:e.payload.statuses,operation:e.payload.calculationTypeId},portfolioGroupId:e.payload.portfolioGroupId}):new Zb.z({portfolioId:e.payload.portfolioId,categoryId:e.payload.categoryId,changes:{field_id:e.payload.fieldId,statuses:e.payload.statuses,operation:e.payload.calculationTypeId},portfolioGroupId:e.payload.portfolioGroupId})),i}),Object(hr.a)(t=>Object(Wa.a)(new Zb.a({portfolioId:e.payload.portfolioId,listId:e.payload.listId,error:t,portfolioGroupId:e.payload.portfolioGroupId}))))))),this.listRowDropped$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.ListRowDropped),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.k)(e.payload.portfolioGroupId)),this.store.select(Object(Qb.g)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Vt.a)(([e,t,i])=>{const{item:a,targetIndex:o,targetModel:c,sourceIndex:n}=e.payload;if(!i.some(e=>e.type===Yb.b.GroupByHeader))return a.type===Yb.b.List?Object(Wa.a)(new Zb.B({portfolioId:t.id,subcategoryId:a.list.id,changes:{position:o},portfolioGroupId:e.payload.portfolioGroupId})):Object(Wa.a)(new Zb.z({portfolioId:t.id,categoryId:a.category.id,changes:{position:o},portfolioGroupId:e.payload.portfolioGroupId}));{const e=eg(i,n),t=eg(c,o);if(e.id!==t.id&&a.type===Yb.b.List)return Object(Wa.a)(new ge.Fm(a.list.id,a.list.category_details.id,a.list.project_details.id,t.changePayload))}return[]}))),this.removeCalculation$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.RemoveCalculation),Object(Fe.a)(e=>e.payload.listId?new Zb.B({portfolioId:e.payload.portfolioId,subcategoryId:e.payload.listId,changes:{field_id:"unset"},portfolioGroupId:e.payload.portfolioGroupId}):new Zb.z({portfolioId:e.payload.portfolioId,categoryId:e.payload.categoryId,changes:{field_id:"unset"},portfolioGroupId:e.payload.portfolioGroupId})))),this.saveState$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.ToggleColumnVisibility,Zb.n.ToggleColumnSorting,Zb.n.ClearColumnSorting,Zb.n.ToggleSortGroupCollapse),Object(Vt.a)(e=>Object(Nt.a)([Object(Wa.a)(e),this.store.select(Object(Qb.j)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1))),Object(Fe.a)(([e,t])=>new Zb.A({portfolioId:t.selectedPortfolio.id,changes:{sorting:Object.values(t.columns).filter(e=>e.visible&&e.sort.active).map(e=>({field:e.id,dir:e.sort.direction===Yb.c.Desc?-1:1})),columns:Object.values(t.columns).filter(e=>e.visible).map(e=>e.id),collapsed:t.collapsedSortGroups},portfolioGroupId:e.payload.portfolioGroupId})))),this.loadMorePortfolioRows$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Zb.n.LoadMorePortfolioRowsStart),Object(br.a)(e=>Object(Nt.a)([this.store.select(Object(Qb.k)(e.payload.portfolioGroupId)),this.store.select(Object(Qb.l)(e.payload.portfolioGroupId))]).pipe(Object(Ne.a)(1),Object(Vt.a)(([e,t])=>this.portfolios.getPortfolio(t,e.id,!1,{lastOrderIndex:e.last_orderindex,lastSortId:e.last_sort_id,count:Yb.a})),Object(Fe.a)(t=>new Zb.m({portfolioGroupId:e.payload.portfolioGroupId,rows:t.rows,lastPage:t.last_page,lastOrderIndex:t.last_orderindex,lastSortId:t.last_sort_id}))))))}navigateToPortfolio(e,t){return new an.d({path:["/",e,"portfolios",t].filter(Boolean)})}handleError(e){return setTimeout(()=>{this.store.dispatch(new sa.d(e))},mr.a),Object(Wa.a)(new sa.b(e))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(Kb.a),X.nc(_e.a),X.nc(ye.Store),X.nc(Jb.a),X.nc(Da.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),ig=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("portfolios",Yb.f),Ei.b.forFeature([tg])]]}),e})();var ag=i("ZeNw"),og=i("LN6Z"),cg=i("G/1d"),ng=i("5Mx3");let sg=(()=>{class e{constructor(e,t,i){this.http=e,this.sharedData=t,this.errorHandler=i,this.apiUrl=Li.a.apiUrl}getGoals(e,t=!1){let i=new wr.g;return e&&(i=i.set("order_by",e.field),i=i.set("order_dir",e.direction)),t&&(i=i.set("all_goals","true")),i=i.set("archived","true"),this.http.get(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal`,{params:i}).pipe(this.errorHandler.http())}getGoal(e){return this.http.get(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal/${e}?pretty_id=true`).pipe(this.errorHandler.http())}createGoal(e,t){return this.http.post(`${this.apiUrl}/team/${e}/goal`,t).pipe(this.errorHandler.http())}createFolder(e){return this.http.post(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal_folder`,e).pipe(this.errorHandler.http())}getFolder(e,t){let i=new wr.g;return t&&(i=i.set("order_by",t.field),i=i.set("order_dir",t.direction)),i=i.set("archived","true"),this.http.get(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal_folder/${e}`,{params:i}).pipe(this.errorHandler.http())}deleteGoal(e){return this.http.delete(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal/${e}`).pipe(this.errorHandler.http())}deleteFolder(e){return this.http.delete(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal_folder/${e}`).pipe(this.errorHandler.http())}removeGoalMember(e,t){return this.http.delete(`${this.apiUrl}/goal/${e}/member/${t}`).pipe(this.errorHandler.http())}updateGoal(e){return this.http.put(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal/${e.id}`,e).pipe(this.errorHandler.http())}updateFolder(e,t){return this.http.put(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/goal_folder/${e}`,t).pipe(this.errorHandler.http())}editGoalMembers(e,t){return this.http.post(`${this.apiUrl}/goal/${e}/member`,t).pipe(this.errorHandler.http())}updateKeyResult(e){return this.http.put(`${this.apiUrl}/goal/${e.goal_id}/key_result/${e.id}`,e).pipe(this.errorHandler.http())}createKeyResult(e,t){return this.http.post(`${this.apiUrl}/goal/${e}/key_result`,t).pipe(this.errorHandler.http())}deleteKeyResult(e,t){return this.http.delete(`${this.apiUrl}/goal/${e}/key_result/${t}`).pipe(this.errorHandler.http())}}return e.\u0275fac=function(t){return new(t||e)(X.nc(wr.b),X.nc(fe.a),X.nc(Tr.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rg=(()=>{class e{constructor(e,t,i,a,o,c){this.action$=e,this.sharedData=t,this.goalsService=i,this.store=a,this.dataService=o,this.localStorage=c,this.getGoals$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.P),Object(qt.a)(this.store.select(cg.x)),Object(Fe.a)(([e,t])=>({selectedSort:t})),Object(Vt.a)(({selectedSort:e})=>this.goalsService.getGoals(e).pipe(Object(Fe.a)(e=>new ea.db({goals:e.goals||[],folders:e.folders||[]})),Object(hr.a)(e=>Object(Wa.a)(new ea.cb(e.err))))))),this.getAllGoals$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.I),Object(Fe.a)(e=>e),Object(Vt.a)(()=>this.goalsService.getGoals(null,!0).pipe(Object(Fe.a)(e=>new ea.U({allGoals:e.goals||[],allFolders:e.folders||[]})),Object(hr.a)(e=>Object(Wa.a)(new ea.cb(e.err))))))),this.getFolder$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.K),Object(qt.a)(this.store.select(cg.v),this.store.select(cg.x)),Object(Fe.a)(([e,t,i])=>({folderId:e.payload.folderId,showArchived:t,selectedSort:i})),Object(Vt.a)(({selectedSort:e,folderId:t})=>t?this.goalsService.getFolder(t,e).pipe(Object(Fe.a)(e=>new ea.Kb({folder:e})),Object(hr.a)(e=>Object(Wa.a)(new ea.cb(e.err)))):pr.a))),this.toggleHideFolders$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.sb),Object(qt.a)(this.store.select(cg.E),this.store.select(cg.t)),Object(Fe.a)(([e,t,i])=>({fetchedGoals:t,hideFolders:i})),Object(Vt.a)(({fetchedGoals:e,hideFolders:t})=>(this.localStorage.set(ng.a,t),e?pr.a:Object(Wa.a)(new ea.bb))))),this.getFolderSelector$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.M),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({folderId:e})=>e?this.goalsService.getFolder(e).pipe(Object(Vt.a)(e=>[new ea.Y({folder:e}),new ea.Kb({folder:e})]),Object(hr.a)(e=>Object(Wa.a)(new ea.X(e.err)))):pr.a))),this.getGoal$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.O),Object(Fe.a)(e=>e.payload),Object(Vt.a)(e=>{const{goalId:t}=e;return t?this.goalsService.getGoal(t).pipe(Object(Fe.a)(e=>new ea.Ob({goal:e,members:(this.sharedData.compatCurrentTeam.members||[]).map(e=>e.user)})),Object(hr.a)(e=>Object(Wa.a)(new ea.ab(e)))):pr.a}))),this.getGoalFail$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.S),Object(Fe.a)(e=>e.payload),Object(Vt.a)(e=>-1!==String(e.ECODE).indexOf("ACCESS")?Object(Wa.a)(new an.d({path:["/",this.sharedData.compatCurrentTeam.id,"goals"]})):pr.a))),this.updateGoal$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.Ab),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({goal:e})=>this.goalsService.updateGoal(e).pipe(Object(Fe.a)(e=>new ea.Ob({goal:e,members:(this.sharedData.compatCurrentTeam.members||[]).map(e=>e.user)})),Object(hr.a)(e=>Object(Wa.a)(new ea.Mb(e))))))),this.createFolder$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.b),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({data:e})=>this.goalsService.createFolder(e).pipe(Object(Vt.a)(e=>[new ea.h({folder:e}),new ea.bb,new an.d({path:["/",this.sharedData.compatCurrentTeam.id,"goals","folder",e.id],query:{new:"true"}})]),Object(hr.a)(e=>Object(Wa.a)(new ea.g(e))))))),this.updateFolder$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.xb),Object(qt.a)(this.store.select(cg.e)),Object(Fe.a)(([e,t])=>({data:e.payload.data,folderId:e.payload.folderId,fromSelector:e.payload.fromSelector,goalId:e.payload.goalId,refreshCurrent:e.payload.refreshCurrent,currentFolderId:t})),Object(Vt.a)(({data:e,folderId:t,fromSelector:i,refreshCurrent:a,currentFolderId:o,goalId:c})=>this.goalsService.updateFolder(t,e).pipe(Object(Vt.a)(e=>{const t=[new ea.Kb({folder:e}),new ea.bb];return c&&t.push(new ea.Z({goalId:c})),i&&(t.push(new ea.Y({folder:e})),t.push(new ea.T({noReload:!0}))),a&&o&&t.push(new ea.V({folderId:o})),t}),Object(hr.a)(e=>Object(Wa.a)(new ea.Jb(e))))))),this.updateKeyResult$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.Eb),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({keyResult:e,closeModal:t})=>this.goalsService.updateKeyResult(e).pipe(Object(Fe.a)(e=>new ea.Sb({keyResult:e,closeModal:t})),Object(hr.a)(e=>Object(Wa.a)(new ea.Rb(e))))))),this.editGoalMembers$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.z),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({goalId:e,permissionLevel:t,userId:i,goalPrettyId:a})=>this.goalsService.editGoalMembers(e,{member_to_add:i,permission_level:t}).pipe(Object(Fe.a)(()=>new ea.Z({goalId:a})),Object(hr.a)(e=>Object(Wa.a)(new ea.C(e))))))),this.removeGoalMembers$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.gb),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({goalId:e,userId:t,goalPrettyId:i})=>this.goalsService.removeGoalMember(e,t).pipe(Object(Fe.a)(()=>new ea.Z({goalId:i})),Object(hr.a)(e=>Object(Wa.a)(new ea.C(e))))))),this.saveKeyResultEdit$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.nb),Object(qt.a)(this.store.select(cg.G),this.store.select(cg.H),this.store.select(cg.y),this.store.select(cg.A)),Object(Fe.a)(([e,t,i,a,o])=>({keyResultEdit:a,keyResultEditValues:o,selected:e.payload.selected,ready:t,readyFromInput:i,closeModal:e.payload.closeModal,fromInput:e.payload.fromInput})),Object(Vt.a)(({keyResultEdit:e,keyResultEditValues:t,selected:i,ready:a,readyFromInput:o,closeModal:c,fromInput:n})=>!n&&!a||n&&!o?pr.a:(t.increment&&("increase"===i?t.current+=t.increment:"decrease"===i&&(t.current-=t.increment)),Object(Wa.a)(new ea.Pb({keyResult:{id:e.id,goal_id:e.goal_id,steps_current:t.current,steps_start:t.start,steps_end:t.end,note:t.note,unit:t.unit},closeModal:c})))))),this.fetchKeyResultTasks$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.E),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({keyResult:e})=>this.dataService.getTasksByIds(e.task_ids).pipe(Object(Fe.a)(t=>{const i=e.task_ids.map(e=>t.find(t=>t.id===e)||{id:e,no_access:!0});return new ea.Sb({keyResult:{id:e.id,goal_id:e.goal_id,goal_pretty_id:e.goal_pretty_id,tasks:i}})}),Object(hr.a)(e=>Object(Wa.a)(new ea.H(e.err))))))),this.fetchKeyResultLists$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.D),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({keyResult:e})=>this.dataService.getSubcategoriesByIds(e.subcategory_ids).pipe(Object(Fe.a)(t=>{const i=e.subcategory_ids.map(e=>t.find(t=>t.id===e)||{id:e,no_access:!0});return new ea.Sb({keyResult:{id:e.id,goal_id:e.goal_id,goal_pretty_id:e.goal_pretty_id,subcategories:i}})}),Object(hr.a)(e=>Object(Wa.a)(new ea.H(e.err))))))),this.deleteGoal$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.k),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({goal:e})=>this.goalsService.deleteGoal(e.id).pipe(Object(Fe.a)(t=>new ea.v({goal:e})),Object(hr.a)(e=>Object(Wa.a)(new ea.u(e))))))),this.deleteFolder$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.i),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({folder:e,folderSummary:t})=>this.goalsService.deleteFolder(e.id).pipe(Object(Vt.a)(()=>{const i=[new ea.s({folderId:e.id})];return t&&i.push(new an.d({path:["/",this.sharedData.compatCurrentTeam.id,"goals"]})),i}),Object(hr.a)(e=>Object(Wa.a)(new ea.r(e))))))),this.deleteKeyResult$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ea.n),Object(Fe.a)(e=>e.payload),Object(Vt.a)(({keyResultId:e,goalId:t,goalPrettyId:i})=>this.goalsService.deleteKeyResult(t,e).pipe(Object(Fe.a)(t=>new ea.y({keyResultId:e,goalId:i})),Object(hr.a)(e=>Object(Wa.a)(new ea.x(e)))))))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(fe.a),X.nc(sg),X.nc(ye.Store),X.nc(Da.a),X.nc(ti.b))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),lg=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("goals",ag.t),ye.StoreModule.forFeature("goalsRestriction",og.b),Ei.b.forFeature([rg])]]}),e})();var dg=i("n+2j"),ug=i("YHHY"),pg=i("NxbL"),mg=i("zJDR");let hg=(()=>{class e{constructor(e,t,i){this.action$=e,this.store=t,this.goalsService=i,this.goToNextKeyResultStep$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ug.i),Object(qt.a)(this.store.pipe(Object(ye.select)(pg.b)),this.store.pipe(Object(ye.select)(pg.n))),Object(Fe.a)(([e,t,i])=>({moveBack:e.payload.moveBack,keyResultAddState:t,ready:i,goalId:e.payload.goalId,goalPrettyId:e.payload.goalPrettyId})),Object(Vt.a)(({keyResultAddState:e,moveBack:t,ready:i,goalId:a,goalPrettyId:o})=>{const c=[];if(e.creating)return pr.a;if(t)return e.step!==mg.c.NAME?(c.push(new ug.y({step:e.step-1})),c):pr.a;switch(e.step){case mg.c.NAME:if(!e.name)return pr.a;break;case mg.c.ASSIGN:break;case mg.c.METRIC:return i?Object(Wa.a)(new ug.d({goalId:a,goalPrettyId:o})):Object(Wa.a)(new ug.J);default:return pr.a}return Object(Wa.a)(new ug.y({step:e.step+1}))}))),this.createKeyResult$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ug.a),Object(qt.a)(this.store.pipe(Object(ye.select)(pg.b))),Object(Fe.a)(([e,t])=>({state:t,goalId:e.payload.goalId,goalPrettyId:e.payload.goalPrettyId})),Object(Vt.a)(({state:e,goalId:t,goalPrettyId:i})=>{const a={name:e.name,type:e.type!==mg.d.DONE?e.type:"boolean"};switch(e.owners.length&&(a.owners=e.owners.map(e=>e.id.toString())),e.type){case mg.d.NUMBER:a.steps_start=e.numberStart,a.steps_end=e.numberEnd,e.numberUnits&&(a.unit=e.numberUnits);break;case mg.d.DONE:a.steps_start=0,a.steps_end=1;break;case mg.d.CURRENCY:a.steps_start=e.currencyStart,a.steps_end=e.currencyEnd,a.unit=e.currency.code;break;case mg.d.AUTOMATIC:e.tasks.length&&(a.task_ids=e.tasks.map(e=>e.id)),e.lists.length&&(a.subcategory_ids=e.lists.map(e=>e.id)),a.steps_start=0,a.steps_end=e.tasks.length+e.lists.length}return this.goalsService.createKeyResult(t,a).pipe(Object(Fe.a)(e=>new ug.f({keyResult:e,goalId:i})),Object(hr.a)(e=>Object(Wa.a)(new ug.e(e))))})))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(ye.Store),X.nc(sg))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),bg=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("keyResultAdd",dg.o),Ei.b.forFeature([hg])]]}),e})();var gg=i("9+lH"),fg=i("axEd"),_g=i("8coG");let vg=(()=>{class e{constructor(e,t,i,a){this.action$=e,this.store=t,this.sharedData=i,this.goalsService=a,this.goToNextGoalStep$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(fg.g),Object(qt.a)(this.store.pipe(Object(ye.select)(_g.b))),Object(Fe.a)(([e,t])=>({moveBack:e.payload.moveBack,folderId:e.payload.folderId,goalAddState:t})),Object(Vt.a)(({goalAddState:e,moveBack:t,folderId:i})=>{const a=[];if(e.creating)return pr.a;if(t)return e.step!==mg.a.NAME?(a.push(new fg.y({step:e.step-1})),a):pr.a;switch(e.step){case mg.a.NAME:if(!e.name)return pr.a;break;case mg.a.ASSIGN:case mg.a.PRIVACY:break;case mg.a.DATES:if(e.startDate&&e.endDate&&e.endDate.isBefore(e.startDate))return pr.a;break;case mg.a.DESCRIPTION:return Object(Wa.a)(new fg.d({folderId:i}));default:return pr.a}return Object(Wa.a)(new fg.y({step:e.step+1}))}))),this.createGoal$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(fg.a),Object(qt.a)(this.store.pipe(Object(ye.select)(_g.b))),Object(Fe.a)(([e,t])=>({state:t,folderId:e.payload.folderId})),Object(Vt.a)(({state:e,folderId:t})=>{const i={name:e.name,private:e.isPrivate,color:e.color};return e.startDate&&(i.start_date=e.startDate.valueOf()),e.endDate&&(i.due_date=e.endDate.valueOf()),e.owners.length&&(i.owners=e.owners.map(e=>e.id.toString())),e.description&&(i.description=e.description),e.isPrivate&&e.usersGoalIsFor.length&&(i.members=e.usersGoalIsFor.map(e=>e.id.toString())),this.goalsService.createGoal(this.sharedData.compatCurrentTeam.id,i).pipe(Object(Vt.a)(e=>{const i=[new fg.f({goal:e}),new ea.bb];return t&&i.push(new ea.Ib({folderId:t,data:{add_goals:[e.id]},refreshCurrent:!0})),i}),Object(hr.a)(e=>Object(Wa.a)(new fg.e(e))))})))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(ye.Store),X.nc(fe.a),X.nc(sg))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),yg=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("goalAdd",gg.l),Ei.b.forFeature([vg])]]}),e})();var wg=i("6qs+"),kg=i("4DGh"),xg=i("RyV3"),Tg=i("I1n0"),Sg=i("7lY2");let jg=(()=>{class e{constructor(e,t,i,a){this.action$=e,this.store=t,this.dataService=i,this.gridService=a,this.loadQuickSwitcherData$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(kg.n),Object(qt.a)(this.store.select(me.getSelectedTeamId),this.store.select(me.getTeamUsers),this.store.select(me.hasSharedData),this.store.select(xg.a),this.store.pipe(Object(ye.select)(me.getAllProjectsWithCategories),Object(Fe.a)(e=>e.filter(e=>!1!==e.access)))),Object(Vt.a)(([e,t,i,a,o,c])=>{if(!t)return pr.a;const n=[];if(n.push(new kg.i),!o||!o.length){const e=[{id:ne.a,name:"Everything",categories:[],quickItemType:wg.a.PROJECT},a?{id:ne.h,name:"Shared with me",categories:[],quickItemType:wg.a.PROJECT}:null,...c.map(e=>Object.assign(Object.assign({},e),{quickItemType:wg.a.PROJECT})),...i.map(e=>Object.assign(Object.assign({},e),{quickItemType:wg.a.USER}))].filter(Boolean);n.push(new kg.k(t,e))}return Object(ur.a)(n)}))),this.getQuickSwitcherData$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(kg.e),Object(qt.a)(this.store.select(me.getSelectedTeamId),this.store.select(me.getTeamUsers),this.store.select(me.hasSharedData)),Object(Vt.a)(([e,t,i,a])=>t?Object(Nt.a)([this.dataService.getSharedHierarchy(t,!0),this.gridService.getDashboards(t)]).pipe(Object(Fe.a)(([e,o])=>new kg.k(t,[{id:ne.a,name:"Everything",categories:[],quickItemType:wg.a.PROJECT},a?{id:ne.h,name:"Shared with me",categories:[],quickItemType:wg.a.PROJECT}:null,...e.projects.map(e=>Object.assign(Object.assign({},e),{quickItemType:wg.a.PROJECT})),...e.views.map(e=>Object.assign(Object.assign({},e),{quickItemType:wg.a.VIEW})),...i.map(e=>Object.assign(Object.assign({},e),{quickItemType:wg.a.USER})),...(o.dashboards||[]).map(e=>Object.assign(Object.assign({},e),{quickItemType:wg.a.DASHBOARD}))].filter(Boolean))),Object(hr.a)(e=>Object(Wa.a)(new kg.j(e.err)))):pr.a))),this.getQuickSwitcherRecent$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(kg.g),Object(qt.a)(this.store.select(me.getSelectedTeamId)),Object(Fe.a)(([e,t])=>new kg.m(t,this.getRecentItems(t))))),this.addQuickSwitcherRecent$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(kg.a),Object(qt.a)(this.store.select(me.getSelectedTeamId)),Object(Vt.a)(([e,t])=>{let i=this.getRecentItems(t),{item:a}=e;if(a&&a.type&&a.id){const e=i.findIndex(e=>e.type===a.type&&e.id===a.id);a=Object.assign(Object.assign({},a),{count:-1===e?1:(i[e].count||1)+1,lastSelected:Date.now()}),i=-1===e?[a,...i]:[a,...i.slice(0,e),...i.slice(e+1)],i=i.map(e=>{if(!e.lastSelected){const t=new Date;e=Object.assign(Object.assign({},e),{lastSelected:t.setDate(t.getDate()-1),count:1})}return e}),i.sort((e,t)=>e.count===t.count?t.lastSelected-e.lastSelected:t.count-e.count),i=i.slice(0,3);const o=this.getRecentData()||{};return o[t]=i,this.saveRecentData(o),Object(Wa.a)(new kg.d(t,i))}return pr.a}))),this.navigateQuickSwitcher$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(kg.p),Object(qt.a)(this.store.select(me.getSelectedTeamId),this.store.select(me.getDashboardView),this.store.select(Tg.m)),Object(Vt.a)(([e,t,i,a])=>{const o=[];if(e.item.type===wg.a.CUSTOM)e.item.payload&&e.item.payload.path&&o.push(new an.d({path:["/",t,...e.item.payload.path]}));else if(e.item.type===wg.a.USER)o.push(Object(Zi.d)({user:e.item.user,overTaskView:!!a}));else if(e.item.type===wg.a.VIEW){let i=["/",t,"v",Object(ne.U)(e.item.view.type),e.item.view.id];!e.item.view.parent||+e.item.view.parent.type!==ce.e.Task&&+e.item.view.parent.type!==ce.e.DocsHome||(i=["/",t,"docs",e.item.view.id]),o.push(new an.d({path:i}))}else if(e.item.type===wg.a.DASHBOARD)o.push(new an.d({path:["/",t,"dashboards",e.item.dashboard.id]}));else{o.push(new ge.fk(!1,!1)),o.push(new ge.dk(!1===e.item.project.access,!1));let i,a="",c="",n="";if(e.item.subcategory?(a=e.item.subcategory.id,n="li"):e.item.category?(a=e.item.category.id,n="f",i=e.item.project?e.item.project.id:null,c=i):e.item.project&&(e.item.project.id===ne.h?(a="2",n="sh",c="1"):e.item.project.id===ne.a?(a=t,n="t"):(a=e.item.project.id,n="s",c="1")),a){const e={path:["/",t,"v",n,a,c]};i&&(e.query={pr:i}),o.push(new an.d(e))}}return Object(ur.a)(o)})))}saveRecentData(e){localStorage.setItem("quickRecent",JSON.stringify(e))}getRecentData(){try{return JSON.parse(localStorage.getItem("quickRecent"))||{}}catch(e){}return{}}getRecentItems(e){const t=this.getRecentData();return t&&Array.isArray(t[e])?t[e]:[]}handleError(e){return setTimeout(()=>{this.store.dispatch(new sa.d(e))},mr.a),Object(Wa.a)(new sa.b(e))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(ye.Store),X.nc(Da.a),X.nc(Sg.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),Og=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("quickSwitcher",wg.b),Ei.b.forFeature([jg])]]}),e})();var Ig=i("W0Uc"),Dg=i("S+3w"),Cg=i("xMfC");let Pg=(()=>{class e{constructor(e,t,i){this.action$=e,this.teamService=t,this.sharedData=i,this.updateTeamUser$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Dg.j.StartUpdateTeamUser),Object(br.a)(e=>this.teamService.updateTeamUser(e.payload.teamId,e.payload.userId,e.payload.changes).pipe(Object(Fe.a)(()=>new Dg.k(e.payload)))))),this.giveTeamBonus$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Dg.j.GiveTeamBonus),Object(br.a)(e=>this.teamService.onboardingBonus(e.payload).pipe(Object(Fe.a)(()=>new Dg.c(null)))))),this.giveTeamThreeMonthsFree$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Dg.j.GiveTeamThreeMonthsFree),Object(Fe.a)(e=>e.payload),Object(Vt.a)(e=>this.teamService.giveTeamThreeMonthsFree(e.team_id).pipe(Object(Vt.a)(()=>{const e=[];return e.push(new ge.Ab({close:!0})),this.sharedData.addToastItem({title:"Success! You've received three months free"}),Object(ur.a)(e)}),Object(hr.a)(e=>{const t=[];return t.push(new ge.Ab({close:!0})),Object(ur.a)(t)}))))),this.giveTeamDiscount$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(Dg.j.GiveTeamDiscount),Object(Fe.a)(e=>e.payload),Object(Vt.a)(e=>this.teamService.giveTeamDiscount(e.team_id,e.percent).pipe(Object(Vt.a)(()=>{const t=[];return t.push(new ge.Ab({close:!0})),this.sharedData.addToastItem({title:`Success! You've received a ${e.percent} discount`}),Object(ur.a)(t)}),Object(hr.a)(e=>{const t=[];return t.push(new ge.Ab({close:!0})),Object(ur.a)(t)})))))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(Cg.a),X.nc(fe.a))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),$g=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("team",Ig.b),Ei.b.forFeature([Pg])]]}),e})();var zg=i("l0IL");const Mg={isOpen:!1,project:null,category:null,subcategory:null,showMenu:null,showComments:!1};function Eg(e=Mg,t){switch(t.type){case zg.i:return Object.assign(Object.assign({},e),{isOpen:!0,showComments:!0===t.showComments});case zg.a:return Object.assign(Object.assign({},e),{isOpen:!1});case zg.k:return Object.assign(Object.assign({},e),{project:t.project});case zg.d:return Object.assign(Object.assign({},e),{subcategory:t.subcategory});case zg.l:return Object.assign(Object.assign({},e),{showMenu:Object.assign({id:t.id},t.event?{x:t.event.clientX,y:t.event.clientY}:{})});case zg.h:return Object.assign(Object.assign({},e),{showMenu:null});default:return e}}let Lg=(()=>{class e{constructor(e,t,i){this.action$=e,this.managerDataService=t,this.store=i,this.loadSubcategory$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(zg.c),Object(Vt.a)(e=>e.id?this.managerDataService.getSubcategoryById(e.id,{includeAll:!0,includeAdd:!0}).pipe(Object(Fe.a)(e=>new zg.g(e)),Object(hr.a)(()=>Object(Wa.a)(new zg.f))):Object(Wa.a)(new zg.f)))),this.updateSubcategory$=Object(Ei.c)(()=>this.action$.pipe(Object(Ei.d)(ge.di),Object(qt.a)(this.store.select(Zt.d)),Object(Ge.a)(([e,t])=>t&&t.id===e.subcategory.id),Object(Fe.a)(([e])=>new zg.g(Object.assign({},e.subcategory)))))}}return e.\u0275fac=function(t){return new(t||e)(X.nc(Ei.a),X.nc(Da.a),X.nc(ye.Store))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac}),e})(),Ag=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,ye.StoreModule.forFeature("listDetails",Eg),Ei.b.forFeature([Lg])]]}),e})();var Fg=i("5b//"),Ug={};!function e(t,i,a,o){var c=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function n(){}function s(e){var a=i.exports.Promise,o=void 0!==a?a:t.Promise;return"function"==typeof o?new o(e):(e(n,n),null)}var r,l,d,u,p,m,h,b,g=(d=Math.floor(1e3/60),u={},p=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(r=function(e){var t=Math.random();return u[t]=requestAnimationFrame(function i(a){p===a||p+d-1<a?(p=a,delete u[t],e()):u[t]=requestAnimationFrame(i)}),t},l=function(e){u[e]&&cancelAnimationFrame(u[e])}):(r=function(e){return setTimeout(e,d)},l=function(e){return clearTimeout(e)}),{frame:r,cancel:l}),f=(b={},function(){if(m)return m;if(!a&&c){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{m=new Worker(URL.createObjectURL(new Blob([t])))}catch(i){return void 0!==typeof console&&console,null}!function(e){function t(t,i){e.postMessage({options:t||{},callback:i})}e.init=function(t){var i=t.transferControlToOffscreen();e.postMessage({canvas:i},[i])},e.fire=function(i,a,o){if(h)return t(i,null),h;var c=Math.random().toString(36).slice(2);return h=s(function(a){function n(t){t.data.callback===c&&(delete b[c],e.removeEventListener("message",n),h=null,o(),a())}e.addEventListener("message",n),t(i,c),b[c]=n.bind(null,{data:{callback:c}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),b)b[t](),delete b[t]}}(m)}return m}),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(e,t,i){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:_[t],i)}function y(e){return e<0?0:Math.floor(e)}function w(e){return parseInt(e,16)}function k(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function x(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function T(e,i){var n,r=!e,l=!!v(i||{},"resize"),d=v(i,"disableForReducedMotion",Boolean),u=c&&v(i||{},"useWorker")?f():null,p=r?k:x,m=!(!e||!u||!e.__confetti_initialized),h="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function b(i){var c=d||v(i,"disableForReducedMotion",Boolean),b=v(i,"zIndex",Number);if(c&&h)return s(function(e){e()});r&&n?e=n.canvas:r&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(b),document.body.appendChild(e)),l&&!m&&p(e);var f={width:e.width,height:e.height};function _(){if(u){var t={getBoundingClientRect:function(){if(!r)return e.getBoundingClientRect()}};return p(t),void u.postMessage({resize:{width:t.width,height:t.height}})}f.width=f.height=null}function k(){n=null,l&&t.removeEventListener("resize",_),r&&e&&(document.body.removeChild(e),e=null,m=!1)}return u&&!m&&u.init(e),m=!0,u&&(e.__confetti_initialized=!0),l&&t.addEventListener("resize",_,!1),u?u.fire(i,f,k):function(t,i,c){for(var r,l,d,u,m,h,b=v(t,"particleCount",y),f=v(t,"angle",Number),_=v(t,"spread",Number),k=v(t,"startVelocity",Number),x=v(t,"decay",Number),T=v(t,"gravity",Number),S=v(t,"colors"),j=v(t,"ticks",Number),O=v(t,"shapes"),I=v(t,"scalar"),D=function(e){var t=v(e,"origin",Object);return t.x=v(t,"x",Number),t.y=v(t,"y",Number),t}(t),C=b,P=[],$=e.width*D.x,z=e.height*D.y;C--;)P.push((d=void 0,u=(r={x:$,y:z,angle:f,spread:_,startVelocity:k,color:S[C%S.length],shape:O[(h=O.length,Math.floor(Math.random()*(h-0))+0)],ticks:j,decay:x,gravity:T,scalar:I}).angle*(Math.PI/180),m=r.spread*(Math.PI/180),{x:r.x,y:r.y,wobble:10*Math.random(),velocity:.5*r.startVelocity+Math.random()*r.startVelocity,angle2D:-u+(.5*m-Math.random()*m),tiltAngle:Math.random()*Math.PI,color:(l=r.color,d=String(l).replace(/[^0-9a-f]/gi,""),d.length<6&&(d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]),{r:w(d.substring(0,2)),g:w(d.substring(2,4)),b:w(d.substring(4,6))}),shape:r.shape,tick:0,totalTicks:r.ticks,decay:r.decay,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*r.gravity,ovalScalar:.6,scalar:r.scalar}));return n?n.addFettis(P):(n=function(e,t,i,c,n){var r,l,d=t.slice(),u=e.getContext("2d"),p=s(function(t){function s(){r=l=null,u.clearRect(0,0,c.width,c.height),n(),t()}r=g.frame(function t(){!a||c.width===o.width&&c.height===o.height||(c.width=e.width=o.width,c.height=e.height=o.height),c.width||c.height||(i(e),c.width=e.width,c.height=e.height),u.clearRect(0,0,c.width,c.height),(d=d.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=.1,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+5,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var i=t.tick++/t.totalTicks,a=t.x+t.random*t.tiltCos,o=t.y+t.random*t.tiltSin,c=t.wobbleX+t.random*t.tiltCos,n=t.wobbleY+t.random*t.tiltSin;return e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-i)+")",e.beginPath(),"circle"===t.shape?e.ellipse?e.ellipse(t.x,t.y,Math.abs(c-a)*t.ovalScalar,Math.abs(n-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,i,a,o,c,n,s,r){e.save(),e.translate(t,i),e.rotate(c),e.scale(a,o),e.arc(0,0,1,0,s,void 0),e.restore()}(e,t.x,t.y,Math.abs(c-a)*t.ovalScalar,Math.abs(n-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(o)),e.lineTo(Math.floor(c),Math.floor(n)),e.lineTo(Math.floor(a),Math.floor(t.wobbleY))),e.closePath(),e.fill(),t.tick<t.totalTicks}(u,e)})).length?r=g.frame(t):s()}),l=s});return{addFettis:function(e){return d=d.concat(e),p},canvas:e,promise:p,reset:function(){r&&g.cancel(r),l&&l()}}}(e,P,p,i,c)).promise}(i,f,k)}return b.reset=function(){u&&u.reset(),n&&n.reset()},b}i.exports=T(null,{useWorker:!0,resize:!0}),i.exports.create=T}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}(),Ug,!1);var Ng=Ug.exports,Rg=i("nIWy");let Gg=(()=>{class e{constructor(e,t,i){this.store=e,this.visibilityDetector=t,this.localStorageService=i,this.showConfettiCelebration$=this.store.select(me.showConfettiCelebrationState),this.destroy$=new Ee.a,this.runningConfetti=0}ngOnInit(){this.showConfettiCelebration$.pipe(Object(qt.a)(this.store.select(me.getTeam)),Object(Re.a)(this.destroy$)).subscribe(([{show:e,source:t,force:i},a])=>{const o=t?`team-${a.id}-confetti-last-shown-${t}`:void 0,c=o?this.localStorageService.get(o):void 0,n=Date.now()-36e5;e&&(this.showUserCelebrations||i)&&((!c||c<n)&&(this.showConfetti(),o&&this.localStorageService.set(o,Date.now())),this.store.dispatch(new ge.Ik({show:!1,force:!1})))}),this.visibilityDetector.$onPageVisibilityChange.pipe(Object(Ge.a)(()=>this.visibilityDetector.isPageHidden()&&this.runningConfetti>0),Object(Re.a)(this.destroy$)).subscribe(()=>{Ng.reset()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}showConfetti(){this.runningConfetti++,Ng({particleCount:600,spread:500,startVelocity:150,origin:{y:1.4},colors:[Fg.a.yellow,Fg.a.cyan,Fg.a.magenta,Fg.a.purple]}).finally(()=>{this.runningConfetti--})}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(Rg.a),X.Wb(ti.b))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-confetti-celebration"]],hostAttrs:[1,"cu-confetti-celebration"],inputs:{showUserCelebrations:"showUserCelebrations"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();var qg=i("q8VT"),Bg=i("DiaY"),Wg=i("lGbC"),Vg=i("ZAnn"),Xg=i("uxFD"),Hg=i("quSY"),Yg=i("3UWI"),Zg=i("WluX"),Qg=i("o0vL"),Kg=i("QdBX"),Jg=i("Zss7"),ef=i("RwZa"),tf=i("wa4x"),af=i("S7bF"),of=i("drq7"),cf=i("cGJt"),nf=i("SBM/"),sf=i("2OkI"),rf=i("5LUp"),lf=i("GQj/"),df=i("oMOK"),uf=i("XPyF");let pf=(()=>{class e{constructor(e,t){this.viewContainer=e,this.templateRef=t,this.delay=0,this.destroy$=new Ee.a}ngAfterViewInit(){Object(xm.a)(this.delay).pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{this.view=this.viewContainer.createEmbeddedView(this.templateRef)})}ngOnDestroy(){this.destroy$.next(),this.view&&(this.view.destroy(),this.view=null)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(X.U),X.Wb(X.Q))},e.\u0275dir=X.Rb({type:e,selectors:[["","cuLazyRender",""]],inputs:{delay:"delay"}}),e})();var mf=i("JcCK");const hf=["colorPickerContainer"];function bf(e,t){1&e&&X.Xb(0,"div",4)}function gf(e,t){}const ff=function(e,t){return{"section-color-picker__toggle_empty":e,"section-color-picker__toggle_full":t}},_f=function(e,t){return{color:e,"background-color":t}};let vf=(()=>{class e{constructor(e){this.resolver=e,this.readOnly=!1,this.lighter=!1,this.onSelect=new X.o}ngOnChanges(e){(e.status||e.lighter)&&(this.color=this.status?this.lighter?Jg(this.status.color).lighten(12).toString():this.status.color:null)}openColorPicker(){if(!this.readOnly){if(!this.colorPickerDropdown){const e=this.resolver.resolveComponentFactory(mf.a);this.colorPickerDropdown=this.colorPickerContainer.createComponent(e),this.colorPickerDropdown.instance.onSelect.subscribe(e=>{this.onSelect.emit(e)})}this.colorPickerDropdown.instance.selectedColor=this.status?this.status.color:null,this.colorPickerDropdown.changeDetectorRef.detectChanges(),setTimeout(()=>this.colorPickerDropdown.instance.open())}}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(X.j))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-section-color-picker"]],viewQuery:function(e,t){if(1&e&&X.jd(hf,3,X.U),2&e){let e;X.Qc(e=X.rc())&&(t.colorPickerContainer=e.first)}},inputs:{readOnly:"readOnly",status:"status",lighter:"lighter"},outputs:{onSelect:"onSelect"},features:[X.Gb],decls:6,vars:12,consts:[[1,"section-color-picker"],[1,"section-color-picker__toggle",3,"ngClass","ngStyle","cuTooltip","click"],["class","section-color-picker__icon","icon","eyedropper",4,"ngIf"],["colorPickerContainer",""],["icon","eyedropper",1,"section-color-picker__icon"]],template:function(e,t){1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.qc("click",function(){return t.openColorPicker()}),X.vc(2,"uppercase"),X.bd(3,bf,1,0,"div",2),X.bc(),X.bd(4,gf,0,0,"ng-template",null,3,X.cd),X.bc()),2&e&&(X.Ib(1),X.Dc("ngClass",X.Ic(6,ff,!t.status,!!t.status))("ngStyle",X.Ic(9,_f,null==t.status?null:t.status.color,t.status?t.color:"transparent"))("cuTooltip",null!=t.status&&t.status.hide_label?"":X.wc(2,4,null==t.status?null:t.status.status)),X.Ib(2),X.Dc("ngIf",!t.readOnly&&!t.status))},directives:[n.o,n.t,Lr.a,n.q,Qe.a],pipes:[n.B],encapsulation:2,changeDetection:0}),e})();var yf=i("2uWK"),wf=i("SBD2"),kf=i("zYZY"),xf=i("TBcZ"),Tf=i("qKyM"),Sf=i("V3nW"),jf=i("RhU4"),Of=i("qJ3x"),If=i("KX9h"),Df=i("lkVx");const Cf=["attachmentsComponent"],Pf=["editor"],$f=["mainColumn"],zf=["mainScrollbar"];function Mf(e,t){1&e&&X.Xb(0,"cu-loader")}const Ef=function(e,t){return["/",e,"v","s",t,"1"]};function Lf(e,t){if(1&e){const e=X.dc();X.ac(0),X.cc(1,"a",8),X.qc("click",function(){return X.Uc(e),X.uc(2).closeSidebar()}),X.vc(2,"async"),X.dd(3),X.bc(),X.Xb(4,"div",32),X.Zb()}if(2&e){const e=X.uc(2);let t=null;X.Ib(1),X.Dc("routerLink",X.Ic(4,Ef,null==(t=X.wc(2,2,e.team$))?null:t.id,null==e.project?null:e.project.id)),X.Ib(2),X.ed(null==e.project?null:e.project.name)}}const Af=function(e,t,i){return["/",e,"v","f",t,i]};function Ff(e,t){if(1&e){const e=X.dc();X.ac(0),X.cc(1,"a",8),X.qc("click",function(){return X.Uc(e),X.uc(2).closeSidebar()}),X.vc(2,"async"),X.dd(3),X.bc(),X.Xb(4,"div",32),X.Zb()}if(2&e){const e=X.uc(2);let t=null;X.Ib(1),X.Dc("routerLink",X.Jc(4,Af,null==(t=X.wc(2,2,e.team$))?null:t.id,null==e.subcategory||null==e.subcategory.category_details?null:e.subcategory.category_details.id,null==e.project?null:e.project.id)),X.Ib(2),X.ed(e.subcategory.category_details.name)}}function Uf(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-section-color-picker",33),X.qc("onSelect",function(t){return X.Uc(e),X.uc(2).setStatus(t)}),X.bc()}if(2&e){const e=X.uc(2);X.Dc("readOnly",!(null!=e.subcategory&&null!=e.subcategory.permissions&&e.subcategory.permissions.edit_list_details&&null!=e.subcategory&&null!=e.subcategory.permissions&&e.subcategory.permissions.change_description))("status",null==e.subcategory?null:e.subcategory.status)("lighter",(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color)&&"#fff"!==(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color)&&"#ffffff"!==(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color)&&"rgb(255, 255, 255)"!==(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color))}}const Nf=function(e,t){return["/",e,"v","li",t]};function Rf(e,t){if(1&e){const e=X.dc();X.cc(0,"div",34),X.cc(1,"a",35),X.qc("click",function(){return X.Uc(e),X.uc(2).closeSidebar()}),X.vc(2,"async"),X.dd(3," Go to List "),X.bc(),X.bc()}if(2&e){const e=X.uc(2);let t=null;X.Ib(1),X.Dc("routerLink",X.Ic(3,Nf,null==(t=X.wc(2,1,e.team$))?null:t.id,null==e.subcategory?null:e.subcategory.id))}}const Gf=function(e,t,i){return[e,t,!1,i,!1]};function qf(e,t){if(1&e&&(X.cc(0,"div",36),X.cc(1,"div",37),X.tc(),X.cc(2,"svg",38),X.cc(3,"g",39),X.Xb(4,"path",40),X.Xb(5,"rect",41),X.Xb(6,"rect",42),X.bc(),X.bc(),X.bc(),X.dd(7),X.vc(8,"timeTracked"),X.vc(9,"async"),X.vc(10,"async"),X.bc()),2&e){const e=X.uc(2);let t=null;X.Ib(7),X.fd(" ",X.Ac(8,1,X.Jc(11,Gf,e.timeEstimate,null==(t=X.wc(9,7,e.sharedData.compatCurrentTeam$))?null:t.hours_per_day,null==(t=X.wc(10,9,e.sharedData.compatCurrentTeam$))?null:t.time_estimate_display_hours))," ")}}function Bf(e,t){if(1&e&&(X.cc(0,"div",43),X.Xb(1,"cu-points-estimates-display",44),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("points",e.points)}}const Wf=function(e,t){return[e,8,!1,t,!1]};function Vf(e,t){if(1&e&&(X.cc(0,"div",45),X.cc(1,"div",46),X.tc(),X.cc(2,"svg",47),X.cc(3,"g",48),X.Xb(4,"rect",49),X.Xb(5,"path",50),X.Xb(6,"path",51),X.bc(),X.bc(),X.bc(),X.dd(7),X.vc(8,"timeTracked"),X.vc(9,"async"),X.bc()),2&e){const e=X.uc(2);let t=null;X.Ib(7),X.fd(" ",X.Ac(8,1,X.Ic(9,Wf,e.timeSpent,null==(t=X.wc(9,7,e.sharedData.compatCurrentTeam$))?null:t.time_tracking_display_hours))," ")}}function Xf(e,t){if(1&e&&(X.cc(0,"div",52),X.gc(1,53),X.vc(2,"timeTracked"),X.vc(3,"async"),X.vc(4,"async"),X.bc()),2&e){const e=X.uc(2);let t=null;X.Ib(4),X.kc(X.Ac(2,1,X.Jc(11,Gf,e.timeEstimate-e.timeSpent,null==(t=X.wc(3,7,e.sharedData.compatCurrentTeam$))?null:t.hours_per_day,null==(t=X.wc(4,9,e.sharedData.compatCurrentTeam$))?null:t.time_tracking_display_hours))),X.hc(1)}}function Hf(e,t){if(1&e){const e=X.dc();X.cc(0,"a",54),X.qc("click",function(){return X.Uc(e),X.uc(2).showSharingModal()}),X.Xb(1,"div",55),X.cc(2,"div",56),X.gc(3,57),X.bc(),X.bc()}}function Yf(e,t){if(1&e){const e=X.dc();X.cc(0,"cu2-list-details-datepicker",58),X.qc("onPickerToggled",function(t){return X.Uc(e),X.uc(2).datePickerOpen=t})("onDateChanged",function(t){return X.Uc(e),X.uc(2).setDates(t)}),X.bc()}if(2&e){const e=X.uc(2);X.Dc("dates",e.dates)("readOnly",!(null!=e.subcategory&&null!=e.subcategory.permissions&&e.subcategory.permissions.edit_list_details&&null!=e.subcategory&&null!=e.subcategory.permissions&&e.subcategory.permissions.change_due_date))}}function Zf(e,t){if(1&e&&X.Xb(0,"cu-automation-entity-count",59),2&e){const e=X.uc(2);X.Dc("count",e.subcategory.automation_count)("parentId",e.subcategory.id)("parentType",e.DataViewParentType.Subcategory)("location","list-details")}}function Qf(e,t){if(1&e){const e=X.dc();X.cc(0,"div",61),X.cc(1,"div",62),X.qc("ondrop",function(t){return X.Uc(e),X.uc(3).addFileToTask(t)})("dragover",function(e){return e.preventDefault()}),X.Xb(2,"div",63),X.cc(3,"div",64),X.gc(4,65),X.bc(),X.bc(),X.bc()}}function Kf(e,t){if(1&e&&(X.ac(0),X.bd(1,Qf,5,0,"div",60),X.Zb()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngIf",null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.add_attachments)}}function Jf(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-uploader-bar",74),X.qc("onFilesAdded",function(t){return X.Uc(e),X.uc(3).addFiles(t)})("onBadgeClick",function(){return X.Uc(e),X.uc(3).scrollToAttachments()}),X.vc(1,"async"),X.bc()}if(2&e){const e=X.uc(3);let t=null;X.Dc("attachmentsLength",null==(t=X.wc(1,3,e.attachments$))?null:t.length)("badgeVisible",e.showAttachmentsBadge)("uniqueId",e.subcategory?"section_"+(null==e.subcategory?null:e.subcategory.id):null)}}const e_=function(){return[]};function t_(e,t){if(1&e){const e=X.dc();X.cc(0,"div",66),X.cc(1,"div",67),X.cc(2,"cu-task-editor",68,69),X.qc("onSave",function(){return X.Uc(e),X.uc(2).update(["content"])}),X.vc(4,"async"),X.vc(5,"membersToUsers"),X.vc(6,"async"),X.vc(7,"async"),X.bc(),X.cc(8,"cu-attachments",70,71),X.qc("onRemove",function(t){return X.Uc(e),X.uc(2).removeAttachment(t)})("viewInit",function(){return X.Uc(e),X.uc(2).manageAttachmentsBadge()}),X.vc(10,"async"),X.bc(),X.bc(),X.cc(11,"div",72),X.bd(12,Jf,2,5,"cu-uploader-bar",73),X.bc(),X.bc()}if(2&e){X.uc();const e=X.Rc(3),t=X.uc();X.Ib(2),X.Dc("overview",!0)("content",null==t.subcategory?null:t.subcategory.content)("project",t.project)("weights",X.wc(4,25,t.weights$))("canEdit",(null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.edit_list_details)&&(null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.change_description))("uploadParent",null==t.subcategory?null:t.subcategory.id)("scrollContainer",e)("editorToken",null==t.subcategory?null:t.subcategory.editor_token)("entityId",null==t.subcategory?null:t.subcategory.id)("enableUserMentions",!0)("users",t.subcategoryMembers$?X.wc(5,27,X.wc(6,29,t.subcategoryMembers$)):X.Gc(35,e_))("taskUserGroups",t.taskUserGroups)("userGroups",X.wc(7,31,t.userGroups$)),X.Ib(6),X.Dc("uploaderUrl",t.uploaderUrl)("attachmentType",t.attachmentType)("attachments",X.wc(10,33,t.attachments$))("canAddAttachments",null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.add_attachments)("canRemoveAttachments",(null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.remove_attachments)&&(null==t.subcategory?null:t.subcategory.permission_level)!==t.UserPermission.COMMENT)("canRemoveOwnAttachments",(null==t.subcategory?null:t.subcategory.permission_level)===t.UserPermission.COMMENT||(null==t.subcategory?null:t.subcategory.permission_level)===t.UserPermission.CREATE||(null==t.subcategory?null:t.subcategory.permission_level)===t.UserPermission.EDIT)("parentId",null==t.subcategory?null:t.subcategory.id)("uniqueId","section_"+(null==t.subcategory?null:t.subcategory.id))("canChangeDescription",!1),X.Ib(3),X.Ob("no-permission",!(null!=t.subcategory&&null!=t.subcategory.permissions&&t.subcategory.permissions.add_attachments)),X.Ib(1),X.Dc("ngIf",null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.add_attachments)}}function i_(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-comment-thread",80,81),X.qc("commentCreated",function(t){return X.Uc(e),X.uc(4).commentCreated(t.comment,t.attachments)}),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.bc()}if(2&e){const e=X.uc(4);let t=null;X.Dc("focusOnInit",e.focusCommentEditor)("modifier","cu-comment-thread_list-details")("parentId",null==(t=X.wc(2,11,e.subcategory$))?null:t.id)("assignedComments",!0)("type",e.CommentType.Subcategory)("members",e.subcategoryMembers$?X.wc(3,13,e.subcategoryMembers$):X.Gc(17,e_))("permissions",null==e.subcategory?null:e.subcategory.permissions)("permissionLevel",null==e.subcategory?null:e.subcategory.permission_level)("canComment",null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.comment)("project",X.wc(4,15,e.project$)||null)("taskUserGroups",e.taskUserGroups)}}function a_(e,t){if(1&e){const e=X.dc();X.cc(0,"div",76),X.cc(1,"div",77),X.cc(2,"cu-entity-followers",78),X.qc("followersChanged",function(t){return X.Uc(e),X.uc(3).setFollowers(t)}),X.vc(3,"membersToUsers"),X.vc(4,"async"),X.vc(5,"async"),X.bc(),X.bc(),X.bd(6,i_,5,18,"cu-comment-thread",79),X.vc(7,"async"),X.bc()}if(2&e){const e=X.uc(3);X.Ib(2),X.Dc("allUsers",e.subcategoryMembers$?X.wc(3,6,X.wc(4,8,e.subcategoryMembers$)):X.Gc(14,e_))("currentUser",X.wc(5,10,e.user$))("followers",e.subcategory.followers)("canAddFollowers",(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.add_followers)&&(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.edit_list_details))("canAddSelf",null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.add_self_follower),X.Ib(4),X.Dc("ngIf",X.wc(7,12,e.subcategory$))}}function o_(e,t){if(1&e&&(X.ac(0),X.bd(1,a_,8,15,"div",75),X.Zb()),2&e){const e=X.uc(2);X.Ib(1),X.Dc("ngIf",e.commentsOpen)}}const c_=function(e){return{"cu2-list-details_task-tray":e}},n_=function(e){return{"cu2-list-details__header-row_colored-not-white":e}};function s_(e,t){if(1&e){const e=X.dc();X.cc(0,"div",3),X.vc(1,"async"),X.cc(2,"div",4,5),X.cc(5,"div",6),X.cc(6,"div",7),X.cc(7,"div"),X.bd(8,Lf,5,7,"ng-container",1),X.bd(9,Ff,5,8,"ng-container",1),X.cc(10,"a",8),X.qc("click",function(){return X.Uc(e),X.uc().closeSidebar()}),X.vc(11,"async"),X.dd(12),X.bc(),X.bc(),X.cc(13,"div",9),X.bd(14,Uf,1,3,"cu-section-color-picker",10),X.bc(),X.bc(),X.bd(15,Rf,4,6,"div",11),X.vc(16,"async"),X.cc(17,"div",12),X.cc(18,"cu-editable",13),X.qc("onChange",function(t){return X.Uc(e),X.uc().rename(t)}),X.dd(19),X.bc(),X.cc(20,"cu2-list-details-menu",14),X.qc("renameStart",function(){return X.Uc(e),X.uc().setRenameActive(!0)})("moveComplete",function(t){return X.Uc(e),X.uc().subcategoryMoved(t.category)})("createSubcategory",function(){return X.Uc(e),X.uc().createSubCategory()}),X.Xb(21,"div",15),X.bc(),X.bc(),X.cc(22,"div",16),X.cc(23,"div",17),X.bd(24,qf,11,15,"div",18),X.bd(25,Bf,2,1,"div",19),X.bd(26,Vf,10,12,"div",20),X.bd(27,Xf,5,15,"div",21),X.bc(),X.bd(28,Hf,4,0,"a",22),X.bc(),X.cc(29,"div",23),X.bd(30,Yf,1,2,"cu2-list-details-datepicker",24),X.cc(31,"cu-list-details-priority",25),X.qc("updatePriority",function(t){return X.Uc(e),X.uc().updatePriority(t)}),X.bc(),X.bd(32,Zf,1,4,"cu-automation-entity-count",26),X.vc(33,"async"),X.cc(34,"cu-list-details-assignee",27),X.qc("setAssignee",function(t){return X.Uc(e),X.uc().setAssignee(t)})("removeAssignee",function(){return X.Uc(e),X.uc().removeAssignee()}),X.bc(),X.Xb(35,"div",28),X.cc(36,"cu-list-details-comment-count",29),X.qc("clicked",function(){return X.Uc(e),X.uc().toggleCommentsOpen()}),X.bc(),X.bc(),X.bc(),X.bd(37,Kf,2,1,"ng-container",30),X.bd(38,t_,13,36,"div",31),X.bc(),X.bd(39,o_,2,1,"ng-container",30),X.bc()}if(2&e){const e=X.uc();let t=null,i=null;X.Dc("ngClass",X.Hc(41,c_,null==(t=X.wc(1,33,e.trayTasks$))||null==t.fullTeamTray?null:t.fullTeamTray.length)),X.Ib(2),X.Ob("cu2-list-details__body_comments-open",e.commentsOpen),X.Ib(4),X.ad("background-color",null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color),X.Dc("ngClass",X.Hc(43,n_,(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color)&&"#fff"!==(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color)&&"#ffffff"!==(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color)&&"rgb(255, 255, 255)"!==(null==e.subcategory||null==e.subcategory.status?null:e.subcategory.status.color))),X.Ib(1),X.Mb("cu2-list-details__breadcrumbs ",e.breadCrumbsColorClass,""),X.Ib(1),X.Dc("ngIf",null==e.project?null:e.project.name),X.Ib(1),X.Dc("ngIf",(null==e.subcategory||null==e.subcategory.category_details?null:e.subcategory.category_details.name)&&!(null!=e.subcategory&&e.subcategory.category_hidden)),X.Ib(1),X.Dc("routerLink",X.Ic(45,Nf,null==(i=X.wc(11,35,e.team$))?null:i.id,null==e.subcategory?null:e.subcategory.id)),X.Ib(2),X.ed(e.subcategory.name),X.Ib(2),X.Dc("ngIf",(null==e.subcategory?null:e.subcategory.status)||(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.edit_list_details)&&(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.change_description)),X.Ib(1),X.Dc("ngIf",X.wc(16,37,e.showGoToList$)),X.Ib(3),X.Dc("text",e.subcategory.name)("editing",e.renameActive),X.Ib(1),X.fd(" ",e.subcategory.name," "),X.Ib(1),X.Dc("dirtySubcategory",e.subcategory)("showListInfo",!1),X.Ib(4),X.Dc("ngIf",e.timeEstimate&&(null==e.project||null==e.project.features||null==e.project.features.time_estimates?null:e.project.features.time_estimates.enabled)&&(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.can_see_time_estimated)),X.Ib(1),X.Dc("ngIf",e.points&&(null==e.project||null==e.project.features||null==e.project.features.points?null:e.project.features.points.enabled)&&(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.can_see_points_estimated)),X.Ib(1),X.Dc("ngIf",e.timeSpent&&(null==e.project||null==e.project.features||null==e.project.features.time_tracking?null:e.project.features.time_tracking.enabled)&&(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.can_see_time_spent)),X.Ib(1),X.Dc("ngIf",e.timeEstimate&&e.timeSpent&&e.timeEstimate>e.timeSpent&&(null==e.project||null==e.project.features||null==e.project.features.time_estimates?null:e.project.features.time_estimates.enabled)&&(null==e.project||null==e.project.features||null==e.project.features.time_tracking?null:e.project.features.time_tracking.enabled)&&(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.can_see_time_estimated)),X.Ib(1),X.Dc("ngIf",(null==e.subcategory?null:e.subcategory.permission_level)===e.UserPermission.CREATE||(null==e.subcategory?null:e.subcategory.permission_level)===e.UserPermission.EDIT),X.Ib(2),X.Dc("ngIf",(null==e.dates?null:e.dates.start_date)||(null==e.dates?null:e.dates.due_date)||(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.edit_list_details)&&(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.change_due_date)&&(null==e.project||null==e.project.features||null==e.project.features.due_dates?null:e.project.features.due_dates.enabled)),X.Ib(1),X.Dc("subcategory",e.subcategory)("project",e.project),X.Ib(1),X.Dc("ngIf",(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.can_add_automation)&&!X.wc(33,39,e.isGuest$)),X.Ib(2),X.Dc("subcategory",e.subcategory),X.Ib(2),X.Dc("subcategory",e.subcategory)("isActive",e.commentsOpen)("showIfZero",!0)}}let r_=(()=>{class e{constructor(e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b){this.sharedData=e,this.changeDetector=t,this.attachmentsViewerService=i,this.renderer=a,this.quillHelpers=o,this.dataService=c,this.taskMentionService=n,this.navService=s,this.zone=r,this.store=l,this.taskService=d,this.websocketService=u,this.listDetailsService=p,this.actions$=m,this.codoxService=h,this.router=b,this.uploaderUrl=[Li.a.apiUrl,"attachment"].join("/"),this.UserPermission=Ie.e,this.DataViewParentType=ce.e,this.destroy$=new Ee.a,this.showAttachmentsBadge=!1,this.attachmentType=6,this.attachments$=new oa.a([]),this.project$=this.store.select(Zt.b),this.subcategory$=this.store.select(Zt.d),this.weights$=this.store.select(me.getUserWeights),this.trayTasks$=this.store.select(gi.d),this.CommentType=Qg.c,this.renameActive=!1,this.user$=this.store.select(me.getUser),this.userGroups$=this.store.select(tf.c),this.comments$=Object(Wa.a)([]),this.team$=this.store.select(me.getTeam),this.commentsOpen=!1,this.breadCrumbsColorClass="cu2-list-details__breadcrumbs_dark",this.focusCommentEditor=!1,this.taskUserGroups=[ef.b],this.initialCommentsOpen=!0,this.isGuest$=this.store.select(me.isGuestTeam),this.showGoToList$=Object(Nt.a)([this.subcategory$,this.store.select(Q.i),this.store.select(me.getSubcategory),this.store.select(me.getCategory),this.store.select(me.getProject)]).pipe(Object(Fe.a)(([e,t,i,a,o])=>!t||(i?i.id!==e.id:a?a.id!==e.category:!!o&&o.id!==e.project_id))),this.subscriptions=new Hg.a,this.loaded=!1}get subcategoryLoaded$(){return this.subcategory$.pipe(Object(Ge.a)(e=>!!e),Object(Ne.a)(1))}get subcategory(){return this.subcategoryValue}set subcategory(e){this.subcategoryValue||this.updateSubcategoryMembers(e),this.subcategoryValue=e,this.comments$=this.store.select(Object(Kg.b)(String(Qg.c.Subcategory),e.id)),e.comment_count>0&&this.initialCommentsOpen&&(this.commentsOpen=!0,this.initialCommentsOpen=!1),this.focusCommentEditor=!1,this.store.select(Zt.c).pipe(Object(Ne.a)(1)).subscribe(e=>{e&&(this.commentsOpen=!0,this.focusCommentEditor=!0)})}ngOnInit(){this.subscriptions.add(this.onUpdateNavAndWebsocket().subscribe(e=>{this.subcategory=Object.assign(Object.assign(Object.assign({},this.subcategory),e),{permissions:this.subcategory.permissions}),this.changeDetector.markForCheck()})),this.subscriptions.add(this.project$.subscribe(e=>this.project=e)),this.subscriptions.add(this.subcategory$.subscribe(e=>{this.subcategory=e,this.subcategory.attachments&&this.attachments$.next(this.subcategory.attachments),this.dates={start_date:this.subcategory.start_date,start_date_time:this.subcategory.start_date_time,due_date:this.subcategory.due_date,due_date_time:this.subcategory.due_date_time},this.contentSize=this.subcategory.content_size?this.subcategory.content_size:null,this.timeEstimate=this.subcategory.time_estimate?this.subcategory.time_estimate:null,this.timeSpent=this.subcategory.time_spent?this.subcategory.time_spent:null,this.points=this.subcategory.points?this.subcategory.points:null,this.changeDetector.detectChanges(),this.taskMentionService.updateMentions()})),this.subscriptions.add(this.store.select(Ta.d).pipe(Object(Ge.a)(Boolean)).subscribe(()=>{this.listDetailsService.closeSidebar()})),this.subcategory.status?Jg(this.subcategory.status.color).isLight()?this.breadCrumbsColorClass="cu2-list-details__breadcrumbs_dark":Jg(this.subcategory.status.color).isDark()&&(this.breadCrumbsColorClass="cu2-list-details__breadcrumbs_light"):this.breadCrumbsColorClass="cu2-list-details__breadcrumbs_dark",setTimeout(()=>this.initialize()),this.subcategory$.pipe(Object(Vt.a)(e=>{const t=(e&&e.editor_expiration)-(new Date).valueOf();return t>0?Object(xm.a)(t):pr.a}),Object(Re.a)(this.destroy$)).subscribe(e=>{this.store.dispatch(new zg.e(this.subcategory.id))}),this.router.events.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e&&this.closeSidebar()})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}initialize(){this.load(),this.subscriptions.add(this.attachmentsViewerService.onRemove.subscribe(e=>{this.attachments$.next(this.attachments$.value.filter(t=>t.id!==e))})),this.initPreviewAttachment(),this.subscriptions.add(this.taskService.onNeedRefresh.pipe(Object(Ge.a)(e=>e&&this.loaded&&"list"===e.type&&(e.id===this.subcategory.id||e.ids&&e.ids.length))).subscribe(e=>{let t=!1;t=!!e.id||-1!==(e.ids||[]).indexOf(this.subcategory.id),t&&this.store.dispatch(new zg.e(this.subcategory.id))})),this.changeDetector.markForCheck()}load(){this.loaded=!0,setTimeout(()=>{this.attachmentsComponent&&this.subscriptions.add(this.attachmentsComponent.uploader.overviewFileUploaded.subscribe(e=>this.subscriptions.add(this.dataService.linkAttachmentsV2(this.subcategory.id,this.attachmentType,[e.id]).subscribe(()=>{e.user=this.sharedData.currentUser.value,this.attachments$.value.find(t=>t.id===e.id)||(this.attachments$.value.push(e),this.changeDetector.markForCheck())}))))})}addFiles(e){this.attachmentsComponent.uploader.setUrl(this.uploaderUrl),this.attachmentsComponent.addFiles(e)}addFileToTask(e){this.addFiles(e)}manageAttachmentsBadge(){this.mainColumn&&this.mainColumn.nativeElement&&this.attachmentsComponent.element&&(this.showAttachmentsBadge=this.attachmentsComponent.element.nativeElement.offsetTop>this.mainColumn.nativeElement.scrollTop+this.mainColumn.nativeElement.clientHeight-70,this.changeDetector.detectChanges())}scrollToAttachments(){this.mainScrollbar.scrollToBottom(0,300)}removeAttachment(e){this.subscriptions.add(this.dataService.deleteAttachmentV2(e.id).subscribe(()=>{this.attachments$.next(this.attachments$.value.filter(t=>t.id!==e.id)),this.changeDetector.detectChanges()}))}closeSidebar(){this.listDetailsService.closeSidebar()}createSubCategory(){const e=this.subcategory.project_id?this.subcategory.project_id:void 0;this.subcategory.category_details&&this.sharedData.compatCategoryList.find(e=>e.id===this.subcategory.category_details.id)?this.navService.onRemoveLastSection.emit(this.subcategory.category_details.id):this.navService.onCreateFolderlessListByModal.emit(e)}getAttachments(e,t){this.subscriptions.add(this.dataService.getAttachmentsList(e,t).subscribe(e=>{this.attachments$.next(e.attachments)}))}commentCreated(e,t){t&&t.length>0&&this.dataService.linkAttachmentsV2(this.subcategory.id,this.attachmentType,t).subscribe(()=>this.getAttachments(this.subcategory.id,this.attachmentType))}updateSubcategoryMembers(e){this.loaded&&this.zone.runOutsideAngular(()=>this.subscriptions.add(Object(Rt.a)(this.mainColumn.nativeElement,"scroll",{passive:!0}).pipe(Object(Yg.a)(300)).subscribe(()=>this.manageAttachmentsBadge()))),this.subcategoryMembers$=this.store.pipe(Object(ye.select)(Object(Zg.i)(e.id))),this.store.dispatch(new ge.ne(e.id))}updateEditor(){if(this.editor&&this.editor.editor){const e=this.editor.editor.getContents(),t=this.quillHelpers.getDeltaLength(e);this.subcategory.content=JSON.stringify(e),this.subcategory.content_size=t>500?"long":t>100?"medium":t>0?"small":null,this.contentSize=this.subcategory.content_size?this.subcategory.content_size:null}}setStatus(e){this.subcategory.status=e||null,e?Jg(e.color).isLight()?this.breadCrumbsColorClass="cu2-list-details__breadcrumbs_dark":Jg(e.color).isDark()&&(this.breadCrumbsColorClass="cu2-list-details__breadcrumbs_light"):this.breadCrumbsColorClass="cu2-list-details__breadcrumbs_dark",this.update(["status"]),this.navService.updateSection(this.subcategory,!0),this.changeDetector.markForCheck()}update(e){this.updateList(e),this.changeDetector.markForCheck()}setDates(e){Object.assign(this.dates,e),Object.assign(this.subcategory,e),this.update(Object.keys(e))}updatePriority(e){this.subcategory.priority=e,this.updateList(["priority"])}setAssignee(e){this.subcategory.assignee=e,this.updateList(["assignee"])}rename(e){const t=this.subcategory.name;this.subcategory.name=e,this.setRenameActive(!1),this.updateList(["name"]);const i=this.actions$.pipe(Object(Ei.d)(ge.Zl),Object(Ge.a)(e=>e.id===this.subcategory.id),Object(Ne.a)(1),Object(Re.a)(this.actions$.pipe(Object(Ei.d)(ge.di),Object(Ge.a)(e=>e.subcategory.id===this.subcategory.id)))).subscribe(()=>{this.subcategory.name=t,this.changeDetector.detectChanges()});this.subscriptions.add(i)}removeAssignee(){this.subcategory.assignee=null,this.updateList(["assignee"])}setFollowers(e){this.store.dispatch(new ge.Hm({projectId:this.subcategory.project_id,categoryId:this.subcategory.category,subcategoryId:this.subcategory.id,add:e.add,remove:e.rem})),this.subcategory.followers=e.all}setRenameActive(e){this.renameActive=e}toggleCommentsOpen(){this.commentsOpen=!this.commentsOpen,this.focusCommentEditor=this.commentsOpen}subcategoryMoved(e){this.subcategory.category_details={id:e.id,name:e.name}}showSharingModal(){Object(Nt.a)([this.subcategoryLoaded$,this.store.select(Object(me.getProjectById)(this.subcategory.project_id))]).pipe(Object(Ne.a)(1)).subscribe(([e,t])=>{this.store.dispatch(new ge.Le("list",e,null,null,t))})}updateList(e){this.updateEditor();const t={};e.forEach(e=>{t[e]=this.subcategory[e]}),this.store.dispatch(new ge.Fm(this.subcategory.id,this.subcategory.category,this.subcategory.project_id,t))}initPreviewAttachment(){this.subscriptions.add(Object(Rt.a)(document,ui.b).subscribe(e=>{if(this.editor&&this.editor.editor&&!this.editor.isEditorEnabled&&""===Object(Za.l)(this.editor.editor.getContents()).trim())return;const t=e.detail;this.attachmentsViewerService.onOpen.emit({attachments:[{date:0,source:1,thumbnail_small:t.url,thumbnail_large:t.url,url:t.url}],index:0}),e.detail.original.preventDefault(),e.detail.original.stopPropagation()}))}onUpdateNavAndWebsocket(){return Object(Le.a)(this.navService.onChange.pipe(Object(Ge.a)(e=>e&&"updateSection"===e.type),Object(Fe.a)(e=>e.payload)),this.websocketService.onChange.pipe(Object(Ge.a)(e=>this.codoxService.disabled&&e&&e.payload&&"subcategoryEdited"===e.type),Object(Fe.a)(e=>e.payload.subcategory))).pipe(Object(Ge.a)(e=>e&&this.subcategory&&e.id===this.subcategory.id),Object(Ht.a)(250))}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a),X.Wb(X.h),X.Wb(Ja.a),X.Wb(X.H),X.Wb(af.a),X.Wb(Da.a),X.Wb(of.a),X.Wb(ki.a),X.Wb(X.B),X.Wb(ye.Store),X.Wb(Ve.a),X.Wb(Ca.WebsocketService),X.Wb(cf.a),X.Wb(Ei.a),X.Wb(nf.a),X.Wb(d.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu2-list-details-sidebar"]],viewQuery:function(e,t){if(1&e&&(X.jd(Cf,1),X.jd(Pf,1),X.jd($f,1),X.jd(zf,1)),2&e){let e;X.Qc(e=X.rc())&&(t.attachmentsComponent=e.first),X.Qc(e=X.rc())&&(t.editor=e.first),X.Qc(e=X.rc())&&(t.mainColumn=e.first),X.Qc(e=X.rc())&&(t.mainScrollbar=e.first)}},decls:3,vars:5,consts:function(){let e,t,i,a,o,c,n;return e=$localize`:@@common_time-estimated␟4a9acc37bed3f51cc07f2588ececa81014db5fc0␟8828917481529450825:Time Estimated`,t=$localize`:@@common_sprint-points␟2bb10cb52d2403c7e9c78562abcaf914d22dd5f3␟467707537467110471:Sprint Points`,i=$localize`:@@common_time-tracked␟404acec519cca4dd470d9e5491ad38b564b31616␟708273473338928952:Time Tracked`,a=$localize`:@@common_time-remaining␟3913687c123ed097c669519bd9a808ecbf2e1c38␟71437189386964081:Time Remaining`,o=$localize`:remaining time@@cu2-list-details-sidebar__remaining-time␟fc37b96c7c2e7dc60a7b544162992bdfad164b0b␟1347659620268671452: ${"\ufffd0\ufffd"}:INTERPOLATION: to go `,c=$localize`:@@common_sharing-and-permissions␟f459d8c7e5b50e294c6796d6edbc5c4fc4926516␟3526929150455398461: Sharing & Permissions `,n=$localize`:@@cu2-list-details-sidebar__attach-files-to-list␟bcc00cf44051fd237d6e55fd4b32c44d95a68151␟908749522053879655: Attach files to this List `,[[3,"width","zIndex","modifier","closeSidebar"],[4,"ngIf"],["class","cu2-list-details",3,"ngClass",4,"ngIf"],[1,"cu2-list-details",3,"ngClass"],["cuDropArea","",1,"cu2-list-details__body",3,"perfectScrollbar"],["mainColumn","","mainScrollbar","ngxPerfectScrollbar"],[1,"cu2-list-details__header"],[1,"cu2-list-details__header-row","cu2-list-details__header-row_colored",3,"ngClass"],[3,"routerLink","click"],[1,"cu2-list-details__colorpicker"],[3,"readOnly","status","lighter","onSelect",4,"ngIf"],["class","cu2-list-details__header-row cu2-list-details__header-row_go-to-list",4,"ngIf"],[1,"cu2-list-details__header-row","cu2-list-details__header-row_title-block"],[1,"cu2-list-details__header-title",3,"text","editing","onChange"],[3,"dirtySubcategory","showListInfo","renameStart","moveComplete","createSubcategory"],["icon","ellipsis",1,"cu2-list-details__menu"],[1,"cu2-list-details__header-row","cu2-list-details__header-row_time-and-sharing"],[1,"lv-location__info"],["class","lv-location__info-item","cuTooltip",e,4,"ngIf"],["class","lv-location__info-item","cuTooltip",t,4,"ngIf"],["class","lv-location__info-item","cuTooltip",i,4,"ngIf"],["class","lv-location__info-item","cuTooltip",a,4,"ngIf"],["class","cu2-list-details__share","cuLink","","draggable","false",3,"click",4,"ngIf"],[1,"cu2-list-details__header-row","cu2-list-details__header-row_dates-and-priority"],["class","cu2-list-details__datepicker",3,"dates","readOnly","onPickerToggled","onDateChanged",4,"ngIf"],[3,"subcategory","project","updatePriority"],[3,"count","parentId","parentType","location",4,"ngIf"],[3,"subcategory","setAssignee","removeAssignee"],[1,"cu2-list-details__header-row-divider"],[3,"subcategory","isActive","showIfZero","clicked"],[4,"cuLazyRender"],["class","cu2-list-details-column cu2-list-details-column_main",4,"cuLazyRender"],["icon","angle-right-no-padding",1,"cu2-list-details__breadcrumbs-icon"],[3,"readOnly","status","lighter","onSelect"],[1,"cu2-list-details__header-row","cu2-list-details__header-row_go-to-list"],[1,"cu2-list-details__header-row-link",3,"routerLink","click"],["cuTooltip",e,1,"lv-location__info-item"],[1,"lv-location__info-icon","lv-location__info-icon_time-estimate"],["width","12","height","16","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd",1,"cu-stroke"],["d","M2.5 2.5L2.5 4C2.5 5.93299662 4.06700338 7.5 6 7.5 7.93299662 7.5 9.5 5.93299662 9.5 4L9.5 2.5 2.5 2.5zM2.5 13.5L9.5 13.5 9.5 12C9.5 10.0670034 7.93299662 8.5 6 8.5 4.06700338 8.5 2.5 10.0670034 2.5 12L2.5 13.5z"],["x",".5","y",".5","width","11","height","2","rx","1"],["x",".5","y","13.5","width","11","height","2","rx","1"],["cuTooltip",t,1,"lv-location__info-item"],[3,"points"],["cuTooltip",i,1,"lv-location__info-item"],[1,"lv-location__info-icon","lv-location__info-icon_clock"],["width","16","height","16","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["x",".5","y",".5","width","15","height","15","rx","7.5",1,"cu-stroke"],["d","M7 3H8V9H7z",1,"cu-fill"],["d","M7 8H12V9H7z",1,"cu-fill"],["cuTooltip",a,1,"lv-location__info-item"],o,["cuLink","","draggable","false",1,"cu2-list-details__share",3,"click"],["icon","share",1,"cu2-list-details__share-icon"],[1,"cu2-list-details__share-name"],c,[1,"cu2-list-details__datepicker",3,"dates","readOnly","onPickerToggled","onDateChanged"],[3,"count","parentId","parentType","location"],["class","cu2-list-details__dropzone",4,"ngIf"],[1,"cu2-list-details__dropzone"],["cuDropArea","",1,"cu2-list-details__dropzone-content",3,"ondrop","dragover"],["icon","chevron-top",1,"cu2-list-details__dropzone-icon"],[1,"cu2-list-details__dropzone-text"],n,[1,"cu2-list-details-column","cu2-list-details-column_main"],[1,"cu2-list-details-column__body"],["uploadType","6","modifier","cu-task-editor_section-overview","editorId","list_details",3,"overview","content","project","weights","canEdit","uploadParent","scrollContainer","editorToken","entityId","enableUserMentions","users","taskUserGroups","userGroups","onSave"],["editor",""],["parentType","subcategory",3,"uploaderUrl","attachmentType","attachments","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","parentId","uniqueId","canChangeDescription","onRemove","viewInit"],["attachmentsComponent",""],[1,"cu2-list-details-column__footer"],[3,"attachmentsLength","badgeVisible","uniqueId","onFilesAdded","onBadgeClick",4,"ngIf"],[3,"attachmentsLength","badgeVisible","uniqueId","onFilesAdded","onBadgeClick"],["class","cu2-list-details-column cu2-list-details-column_comments",4,"ngIf"],[1,"cu2-list-details-column","cu2-list-details-column_comments"],[1,"cu2-list-details-column__followers"],[3,"allUsers","currentUser","followers","canAddFollowers","canAddSelf","followersChanged"],[3,"focusOnInit","modifier","parentId","assignedComments","type","members","permissions","permissionLevel","canComment","project","taskUserGroups","commentCreated",4,"ngIf"],[3,"focusOnInit","modifier","parentId","assignedComments","type","members","permissions","permissionLevel","canComment","project","taskUserGroups","commentCreated"],["commentsRef",""]]},template:function(e,t){1&e&&(X.cc(0,"cu2-right-sidebar",0),X.qc("closeSidebar",function(){return t.closeSidebar()}),X.bd(1,Mf,1,0,"cu-loader",1),X.bd(2,s_,40,48,"div",2),X.bc()),2&e&&(X.Dc("width",t.commentsOpen?890:445)("zIndex",590)("modifier",t.commentsOpen?"cu2-right-sidebar_list-details-sidebar-with-comments":"cu2-right-sidebar_list-details-sidebar"),X.Ib(1),X.Dc("ngIf",!t.subcategory),X.Ib(1),X.Dc("ngIf",t.subcategory))},directives:[sf.a,n.q,Ze.a,n.o,Mr.a,er.a,d.k,Nr.a,rf.a,Qe.a,lf.a,df.a,uf.a,pf,vf,Lr.a,yf.a,wf.a,kf.a,xf.b,Tf.a,Sf.a,jf.a,Of.a],pipes:[n.b,If.a,Df.a],styles:['.cu2-list-details{height:100%;display:flex}.cu2-list-details__title{display:flex;align-items:center;margin-top:-5px}.cu2-list-details__body{padding:10px 0 0;height:100%;flex-basis:100%;flex-shrink:0}.cu2-list-details__body .ql-editor p{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.cu2-list-details__body_comments-open{flex-basis:50%}.cu2-list-details__column{flex-basis:0;flex-grow:1}.cu2-list-details__column_main{background:#fff}.cu2-list-details__breadcrumbs{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-list-details__breadcrumbs{font-family:var(--global-font-support)}}.cu2-list-details__breadcrumbs a,.cu2-list-details__breadcrumbs span{color:#82868d}.cu2-list-details__breadcrumbs .cu2-list-details__breadcrumbs-icon{width:13px;height:6px;display:inline-block;fill:#82868d}.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs a,.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs span{color:#fff}.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs a:last-child,.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs span:last-child{font-weight:500}.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs .cu2-list-details__breadcrumbs-icon{fill:#fff}.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs_dark a,.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs_dark span{color:#111}.cu2-list-details__header-row_colored-not-white .cu2-list-details__breadcrumbs_dark .cu2-list-details__breadcrumbs-icon{fill:#111}.cu2-list-details__header-title{font-weight:400;font-size:24px;line-height:1;word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.cu2-list-details__header-row{margin:0 30px;display:flex;align-items:center;justify-content:space-between}.cu2-list-details__header-row_go-to-list{margin-bottom:30px}.cu2-list-details__header-row-link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-list-details__header-row-link{color:var(--theme-main-color)}}.cu2-list-details__header-row-divider{flex-grow:1}.cu2-list-details__header-row .lv-location__info{justify-content:flex-start;padding-left:0;margin-top:0;cursor:default;flex-wrap:wrap}.cu2-list-details__header-row .lv-location__info-item{color:#82868d;position:relative;margin:3px 30px 3px 0}.cu2-list-details__header-row .lv-location__info-item:before{content:"";display:block;position:absolute;width:1px;height:8px;background:#ccc;right:-18px;margin:0}.cu2-list-details__header-row .lv-location__info-item:last-child:before{display:none}.cu2-list-details__header-row .lv-location__info .cu-points-estimates-display__full-value{cursor:default!important}.cu2-list-details__header-row .lv-location__info .cu-points-estimates-display__full-value-icon{fill:#c1c1c1!important}.contrast_high .cu2-list-details__header-row .lv-location__info .cu-points-estimates-display__full-value-icon{fill:#979797!important}.cu2-list-details__header-row_colored{margin:-10px 0 20px;padding:0 15px 3px 30px;height:60px}.cu2-list-details__header-row_colored-not-white{margin-bottom:30px}.cu2-list-details__header-row_title-block{justify-content:flex-start}.cu2-list-details__header-row_time-and-sharing{margin-top:20px}.cu2-list-details__header-row_dates-and-priority{margin-top:20px;justify-content:flex-start}.cu2-list-details__menu{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#bcc0c7;width:30px;height:17px;margin-left:15px;cursor:pointer}.cu2-list-details__menu:hover{transition:none;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-list-details__menu:hover{fill:var(--theme-main-color)}}.cu2-list-details__colorpicker-label{font-weight:500;font-size:11px}.cu2-list-details__colorpicker .section-color-picker__toggle_full{transition:box-shadow .2s cubic-bezier(.785,.135,.15,.86) 0s;width:22px;height:22px;box-shadow:0 0 6px 0 rgba(0,0,0,.1);border:1px solid #fff}.cu2-list-details__colorpicker .section-color-picker__toggle_full:hover{box-shadow:none}.cu2-list-details__priority{display:block}.cu2-list-details__assignee{margin-right:15px;display:block}.cu2-list-details__datepicker{margin:0 5px 0 0}.cu2-list-details__dropzone{display:none;position:absolute;top:0;left:0;right:0;bottom:0;z-index:1000}.cu-state-drag-over .cu2-list-details__dropzone{display:flex;animation:fadeIn .1s linear both}.cu2-list-details__dropzone-content{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;width:100%;background:hsla(0,0%,100%,.8);transition:.1s;position:relative}.cu2-list-details__dropzone-content:before{content:"";display:block;position:absolute;top:60px;left:60px;bottom:60px;right:60px;border:1px dashed #cecfe0;border-radius:4px;transition:.1s}.cu-state-drag-over .cu2-list-details__dropzone-content{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-state-drag-over .cu2-list-details__dropzone-content{background:var(--theme-main-color)}}.cu-state-drag-over .cu2-list-details__dropzone-content:before{border:1px dashed #fff}.cu-state-drag-over .cu2-list-details__dropzone-content .cu2-list-details__dropzone-text{color:#fff}.cu-state-drag-over .cu2-list-details__dropzone-content .cu2-list-details__dropzone-icon{fill:#fff}.cu2-list-details__dropzone-icon{height:72px;width:72px;margin:0 0 20px;fill:#cecfe0;transition:.1s}.cu2-list-details__dropzone-text{font:16px Gotham Pro,Proxima Nova,arial,serif;color:#cfd0e0;transition:.1s}.cu2-list-details__share{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;white-space:nowrap;cursor:pointer;border-radius:3px;border:1px solid #e9ebf0;padding:4px 8px;margin:0 0 0 5px}.dark-theme .cu2-list-details__share{border-color:#82868d}.cu2-list-details__share:hover{background:#fafbfc}.dark-theme .cu2-list-details__share:hover{background:#2b343b;border-color:#2b343b}.cu2-list-details__share:hover .cu2-list-details__share-name{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-list-details__share:hover .cu2-list-details__share-name{color:var(--theme-main-color)}}.cu2-list-details__share:hover .cu2-list-details__share-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-list-details__share:hover .cu2-list-details__share-icon{fill:var(--theme-main-color)}}.cu2-list-details__share-name{font-weight:400;font-size:13px;line-height:1;color:#82868d;padding:0;flex-grow:1}.cu2-list-details__share-icon{flex-shrink:0;margin:0 7px 0 0;width:16px;height:16px;fill:#82868d}.cu2-list-details-column{display:flex;flex-direction:column;flex-grow:1}.cu2-list-details-column_main{background:#fff}.dark-theme .cu2-list-details-column_main{background:#384047}.cu2-list-details-column__body{flex-grow:1}.cu2-list-details-column_comments .cu2-list-details-column__body{padding:15px 10px 5px}.cu2-list-details-column_comments{overflow:hidden;border-left:1px solid #e4e4e4}.dark-theme .cu2-list-details-column_comments{border-color:#1e272e}.cu2-list-details-column_comments cu-comment-thread{flex:1;display:flex;flex-direction:column;min-height:0}.cu2-list-details-column .cu-comment-bar,.cu2-list-details-column__footer{position:relative;flex-shrink:0;margin-bottom:50px}.cu2-list-details_task-tray .cu2-list-details-column .cu-comment-bar,.cu2-list-details_task-tray .cu2-list-details-column__footer{margin-bottom:75px}.cu2-list-details-column .cu-comment-bar:before,.cu2-list-details-column__footer:before{content:"";display:block;position:absolute;z-index:1;top:-10px;left:0;width:100%;height:10px;background-image:linear-gradient(-180deg,transparent,rgba(0,0,0,.03))}.cu2-list-details-column .cu-comment-bar .comment-bar__controls>*+*,.cu2-list-details-column__footer .comment-bar__controls>*+*{margin-left:10px}.cu2-list-details-column__followers{display:flex;justify-content:flex-end}.cu2-list-details-column__followers cu-entity-followers{width:43px;display:block;padding:15px 5px 5px;margin-right:5px}'],encapsulation:2,changeDetection:0}),e})();var l_=i("xdr/"),d_=i("qAkX"),u_=i("cC1p"),p_=i("4bgU"),m_=i("nLWA"),h_=i("L5Tv"),b_=i("l5mm"),g_=i("tS1D"),f_=i("b3J4"),__=i("82+D"),v_=i("/qOb"),y_=i("VFKG"),w_=i("wT7j"),k_=i("jwRX"),x_=i("7Cbv"),T_=i("twO/"),S_=i("fywt"),j_=i("Ws7a"),O_=i("/1FC"),I_=function(e,t){return(Object(O_.a)(e)?T_.a:j_.a)(e,Object(S_.a)(t,3))},D_=i("lE2N"),C_=i("BeL+"),P_=i("IlGD"),$_=i("h3dx"),z_=i("hITm"),M_=i("12P9"),E_=i("yR4P"),L_=i("IE5h"),A_=i("zfYP"),F_=i("HBOB"),U_=i("RUe1"),N_=i("t6Eg");const R_=["categoryListDropdownComponent"],G_=["searchInput"],q_=function(e){return{"cu-hidden":e}};let B_=(()=>{class e{constructor(e){this.changeDetector=e,this.categoryDropdownOpen=!1,this.query="",this.disabled=!1,this.onSelect=new X.o,this.onDropdown=new X.o,this.onKeydown=new X.o,this.onClose=new X.o,this.onOpen=new X.o}ngOnInit(){}categoryDropdownToggle(e){this.disabled||(this.categoryDropdownOpen=e,e?setTimeout(()=>this.focus(),100):this.onClose.emit(),this.changeDetector.markForCheck())}search(){}focus(){this.disabled||this.searchInput&&this.searchInput.nativeElement.focus()}searchClick(e){this.disabled||e&&this.categoryDropdownOpen&&e&&(e.stopPropagation(),e.preventDefault())}keydown(e){this.disabled||(this.categoryListDropdownComponent.keydown(e),this.onKeydown.emit(e))}open(){this.disabled||this.categoryListDropdownComponent.open()}close(){this.categoryListDropdownComponent.close(),this.onClose.emit()}isOpened(){return this.categoryDropdownOpen}listDropdownClosed(e){e&&(e.preventDefault(),e.stopPropagation()),this.categoryDropdownToggle(!1),this.onDropdown.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(X.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-draft-location-selector"]],viewQuery:function(e,t){if(1&e&&(X.jd(R_,3),X.jd(G_,3)),2&e){let e;X.Qc(e=X.rc())&&(t.categoryListDropdownComponent=e.first),X.Qc(e=X.rc())&&(t.searchInput=e.first)}},inputs:{selectedProject:"selectedProject",selectedCategory:"selectedCategory",selectedSubcategory:"selectedSubcategory",popoverTemplate:"popoverTemplate",disabled:"disabled"},outputs:{onSelect:"onSelect",onDropdown:"onDropdown",onKeydown:"onKeydown",onClose:"onClose",onOpen:"onOpen"},decls:18,vars:24,consts:function(){let e,t;return e=$localize`:@@common_search-list␟ca667f2828a4c6d80f36c54564807c4e12d93b04␟3594716242944541317:Search List...`,t=$localize`:@@common_select-list␟22d987f137a3ce04bb8dad28aaaeca02bffa4603␟2662217524112605006: Select List... `,[[1,""],[1,"cu-draft-location-selector__category-list",3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","includeCategories","singleCategory","displaySearch","checkCreateTaskPermission","query","onSelect","onClearSearch","onOpen","onClose","onChangeProject"],["categoryListDropdownComponent",""],[1,"cu-draft-location-selector__category-selector",3,"cuTooltip"],[1,"cu-search","cu-search_lg",3,"ngClass"],["type","text","placeholder",e,1,"cu-search__input",3,"ngClass","ngModel","ngModelChange","click","keydown"],["searchInput",""],[1,"cu-dropdown__toggle-text",3,"ngClass"],t,[1,"cu-search__icon"],[1,"cu-icon","cu-icon_search"],[1,"cu-search__spinner"],[1,"cu-icon","cu-icon_spinner"],[1,"cu-draft-location-selector__category-selector-body",3,"ngClass"],[1,"cu-draft-location-selector__category-selection","cu-draft-location-selector__category-selection_highlight"],[1,"cu-draft-location-selector__selection-text"],[1,"cu-draft-location-selector__selection-text_truncate"]]},template:function(e,t){1&e&&(X.cc(0,"div",0),X.cc(1,"cu-category-list-dropdown",1,2),X.qc("onSelect",function(e){return t.onSelect.emit(e)})("onClearSearch",function(){return t.query=""})("onOpen",function(){return t.categoryDropdownToggle(!0),t.onDropdown.emit(!0),t.onOpen.emit()})("onClose",function(e){return t.listDropdownClosed(e),t.onClose.emit()})("onChangeProject",function(){return t.focus()}),X.cc(3,"div",3),X.cc(4,"div",4),X.cc(5,"input",5,6),X.qc("ngModelChange",function(e){return t.query=e})("ngModelChange",function(){return t.search()})("click",function(e){return t.searchClick(e)})("keydown",function(e){return t.keydown(e)}),X.bc(),X.cc(7,"div",7),X.gc(8,8),X.bc(),X.cc(9,"div",9),X.Xb(10,"i",10),X.bc(),X.cc(11,"div",11),X.Xb(12,"i",12),X.bc(),X.bc(),X.cc(13,"div",13),X.cc(14,"div",14),X.cc(15,"div",15),X.cc(16,"div",16),X.dd(17),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.bc()),2&e&&(X.Ib(1),X.Dc("selectableProject",!0)("defaultProject",t.selectedProject)("selectedCategory",null==t.selectedCategory?null:t.selectedCategory.id)("selectedSubcategory",null==t.selectedSubcategory?null:t.selectedSubcategory.id)("includeCategories",!0)("singleCategory",!1)("displaySearch",!1)("checkCreateTaskPermission",!0)("query",t.query),X.Ib(2),X.Dc("cuTooltip","Choose Location"),X.Ib(1),X.Dc("ngClass",X.Hc(16,q_,t.selectedCategory&&t.selectedSubcategory&&!t.categoryDropdownOpen)),X.Ib(1),X.Dc("ngClass",X.Hc(18,q_,!t.categoryDropdownOpen))("ngModel",t.query),X.Ib(2),X.Dc("ngClass",X.Hc(20,q_,t.categoryDropdownOpen)),X.Ib(6),X.Dc("ngClass",X.Hc(22,q_,!t.selectedCategory||t.categoryDropdownOpen)),X.Ib(4),X.fd(" ",null==t.selectedSubcategory?null:t.selectedSubcategory.name," "))},directives:[Dm.a,Lr.a,n.o,s.c,s.p,s.s],styles:['.cu-draft-location-selector__category-list{width:100%;min-width:0}.cu-draft-location-selector__category-list .category-list_dropdown{width:100%}.cu-draft-location-selector__category-list .cu-search__input{padding:10px 20px 10px 45px;background:transparent;border-bottom:none;box-shadow:none}.cu-draft-location-selector__category-list .category-list,.cu-draft-location-selector__category-list .category-list_dropdown{max-height:40%}.cu-draft-location-selector__category-selector{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;min-width:190px;height:36px;border-radius:18px;padding:0;margin:0;position:relative;cursor:pointer;border:1px solid #e4e4e4}.dark-theme .cu-draft-location-selector__category-selector{border:1px solid #1e272e}.cu-draft-location-selector__category-selector:hover{background:#f7f7f7}.dark-theme .cu-draft-location-selector__category-selector:hover{background:#2b343b}.cu-draft-location-selector__category-selector-body{display:flex;min-width:0}.cu-draft-location-selector__category-selector .cu-dropdown__toggle-text{padding:10px 20px 10px 45px;font-size:14px}.cu-draft-location-selector__category-selector.cu-draft-location-selector__category-selector_selecting{background-color:#f0f0f0}.dark-theme .cu-draft-location-selector__category-selector.cu-draft-location-selector__category-selector_selecting{background:#2b343b}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:last-of-type{min-width:0;display:table-cell;height:36px;position:relative;padding:0;margin:0;text-align:center}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:last-of-type .cu-draft-location-selector__selection-text{position:relative;line-height:36px;height:100%;width:100%}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:last-of-type .cu-draft-location-selector__selection-text_truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Proxima Nova,arial,serif;margin:0 10px 0 25px}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:last-of-type .cu-draft-location-selector__selection-text_truncate{font-family:var(--global-second-font-support)}}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:not(:last-of-type){width:33%;min-width:0;display:table-cell;height:36px;position:relative;padding:0;margin:0;text-align:center;border-right:0;border-radius:.3em}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:not(:last-of-type) .cu-draft-location-selector__selection-text{position:relative;line-height:36px;height:100%;width:100%;font-weight:400}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:not(:last-of-type) .cu-draft-location-selector__selection-text_truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Proxima Nova,arial,serif;margin:0 0 0 25px}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:not(:last-of-type) .cu-draft-location-selector__selection-text_truncate{font-family:var(--global-second-font-support)}}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:not(:last-of-type) .cu-draft-location-selector__selection-text:before{content:"";display:inline-block;width:28px;height:28px;left:100%;margin-left:-12px;top:5px;position:absolute;z-index:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transform:rotate(45deg);border-color:#e4e4e4;border-style:solid;border-width:1px 1px 0 0}.dark-theme .cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:not(:last-of-type) .cu-draft-location-selector__selection-text:before{border-color:#1e272e}.cu-draft-location-selector__category-selector .cu-draft-location-selector__category-selection:first-of-type .cu-draft-location-selector__selection-text_truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0 10px}'],encapsulation:2,changeDetection:0}),e})();var W_=i("0bNS"),V_=i("aitn"),X_=i("UiHY"),H_=i("Yj50"),Y_=i("xZYg"),Z_=i("kU3c"),Q_=i("27jl"),K_=i("FbC1"),J_=i("qJfo");function ev(e,t){if(1&e){const e=X.dc();X.cc(0,"div",3),X.cc(1,"div",12),X.gc(2,13),X.bc(),X.cc(3,"cu-template-list-dropdown",14),X.qc("onSelect",function(t){return X.Uc(e),X.uc().selectProject(t)}),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(3),X.Dc("canDelete",X.wc(4,7,e.canDelete$))("onlyDeleteIfOwner",X.wc(5,9,e.onlyDeleteIfOwner$))("meUser",X.wc(6,11,e.meUser$))("defaultSelected",e.projectListFiltered[0])("type",e.type)("readOnly",!0)("insertTemplateList",e.projectListFiltered)}}function tv(e,t){if(1&e&&(X.cc(0,"div",15),X.cc(1,"div",16),X.gc(2,17),X.bc(),X.cc(3,"div",18),X.dd(4," Create one by "),X.cc(5,"a",19),X.dd(6),X.bc(),X.dd(7,". "),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(6),X.fd("saving a ",e.entityTitle," as a template")}}let iv=(()=>{class e extends ue.a{}return e.\u0275fac=function(t){return av(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-custom-load-template"]],features:[X.Fb],decls:12,vars:10,consts:function(){let e,t,i,a,o;return e=$localize`:@@common_select-template␟a40a60cce10682ee89d24095cac62f91d061bb47␟4623538338290267225:Select Template`,t=$localize`:@@common_import-options␟f1090cb793311aab855ca227c714938557858fc2␟7017375107409096838: Import Options `,i=$localize`:@@common_select-space␟44c42f8ee00715dec0f6932fc1a7b95c5780a1bf␟8544445354581781653: Select Space `,a=$localize`:@@common_spaces␟041a8f5e357685f1af16ffb9ffda7f2db6dcef20␟660809762116764762:Spaces`,o=$localize`:@@common_no-templates-yet␟402aebaed7089daefb5ad9e554c24f47946fca4c␟725541293527012317: You don't have any templates yet. `,[[1,"cu-form","template","create-template"],[3,"hidden"],["class","cu-form__row template__template-block",4,"ngIf"],[1,"cu-form__row","template__template-block"],["listTitle",e,3,"type","groupByProject","insertTemplateList","showProjectFilter","autoFocusSearch","onLoaded","onSelect"],["templateDropdown",""],[1,"template__options-block","cu-hidden"],[1,"template__options-title"],t,[3,"mode","templateOptions"],["optionsComponent",""],["class","template__empty",4,"ngIf"],[1,"cu-form__label","template__title"],i,["listTitle",a,3,"canDelete","onlyDeleteIfOwner","meUser","defaultSelected","type","readOnly","insertTemplateList","onSelect"],[1,"template__empty"],[1,"template__empty-title"],o,["i19n","@@cu-custom-load-template__documentation-link",1,"template__empty-desc"],["href","http://docs.clickup.com/features/templates","target","_blank",1,"template__empty-desc-link"]]},template:function(e,t){1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.bd(2,ev,7,13,"div",2),X.cc(3,"div",3),X.cc(4,"cu-inline-template-list",4,5),X.qc("onLoaded",function(e){return t.loadTemplates(e)})("onSelect",function(e){return t.selectTemplate(e)}),X.bc(),X.bc(),X.cc(6,"div",6),X.cc(7,"div",7),X.gc(8,8),X.bc(),X.Xb(9,"template-options",9,10),X.bc(),X.bc(),X.bd(11,tv,8,1,"div",11),X.bc()),2&e&&(X.Ib(1),X.Dc("hidden",t.emptyTemplateList),X.Ib(1),X.Dc("ngIf",t.isGroupByProject&&t.projectListFiltered.length>0&&!t.forDraft),X.Ib(2),X.Dc("type","task")("groupByProject",t.selectedProject)("insertTemplateList",t.insertTemplateList?t.insertTemplateList:null)("showProjectFilter",t.showProjectFilter)("autoFocusSearch",!0),X.Ib(5),X.Dc("mode",t.type)("templateOptions",null==t.selectedTemplate?null:t.selectedTemplate.options),X.Ib(2),X.Dc("ngIf",t.emptyTemplateList))},directives:[n.q,Q_.a,K_.a,J_.a],pipes:[n.b],encapsulation:2}),e})();const av=X.ec(iv);var ov=i("GhnD");let cv=(()=>{class e{constructor(){this.modifier=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-drop-area"]],inputs:{modifier:"modifier"},decls:6,vars:3,consts:function(){let e;return e=$localize`:@@cu-drop-area__drop-area-text␟5050fc11d9ee18dd85a8ffd4ca1864c4be7a4d93␟7237275715442775819: Drop files here ${"\ufffd#5\ufffd\ufffd/#5\ufffd"}:LINE_BREAK: to attach to this task `,[[1,"cu-drop-area__icon"],[1,"cu-drop-area__text"],e]},template:function(e,t){1&e&&(X.cc(0,"div"),X.cc(1,"div",0),X.dd(2,"+"),X.bc(),X.cc(3,"div",1),X.mc(4,2),X.Xb(5,"br"),X.jc(),X.bc(),X.bc()),2&e&&X.Mb("cu-drop-area ",t.modifier,"")},styles:[".cu-drop-area{display:none;align-items:center;flex-direction:column;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(248,248,255,.75);border:1px dashed;z-index:1000;-webkit-user-select:none;-ms-user-select:none;user-select:none}@supports (--theme-main-color:#7b68ee){.cu-drop-area{border-color:var(--theme-main-color)}}.cu-drop-area__icon{display:flex;align-items:center;justify-content:center;color:#7b68ee;height:60px;width:60px;border-radius:4px;border:2px solid;font:300 40px Gotham Pro,Proxima Nova,arial,serif;margin-top:20%;margin-bottom:20px;padding:5px 0 0}@supports (--theme-main-color:#7b68ee){.cu-drop-area__icon{color:var(--theme-main-color);border-color:var(--theme-main-color)}}.cu-drop-area__text{text-align:center;font:300 18px/1.4em Proxima Nova,arial,serif;color:#857899}.cu-state-drag-over .cu-drop-area{display:flex;animation:fadeIn .1s linear both}"],encapsulation:2,changeDetection:0}),e})();var nv=i("KbVY"),sv=i("KQLT"),rv=i("SjmV"),lv=i("0ENg"),dv=i("akl0"),uv=i("keUj"),pv=i("XaMR"),mv=i("QBIw"),hv=i("zY2b"),bv=i("bNw/"),gv=i("TzhX"),fv=i("u4pA"),_v=i("AjG6"),vv=i("sl2P");const yv=["taskNameInput"],wv=["editor"],kv=["uploader"],xv=["categoryFilterInput"],Tv=["subcategoryCreationInput"],Sv=["categoryListView"],jv=["createFlowDropdown"],Ov=["loadTemplateComponent"],Iv=["templateConfirmModal"],Dv=["draftLocationSelector"],Cv=["assigneesSelector"],Pv=["drafterSlashCommandTemplate"],$v=["draftSlashCommand"],zv=["slashCommandInput"],Mv=["draftSlashCommandContainer"],Ev=["statusListComponent"],Lv=["statusDropdown"],Av=["createTimeEstimate"],Fv=["createPointsEstimate"],Uv=["templateDropdown"],Nv=["blockHandleDropdown"],Rv=["blockHandleDropdownContainer"],Gv=["addSubcategoryInput"];function qv(e,t){1&e&&X.Xb(0,"cu-loader")}const Bv=function(e){return{"cu-hidden":e}};function Wv(e,t){if(1&e){const e=X.dc();X.cc(0,"div",154),X.cc(1,"div",155),X.cc(2,"div",156),X.cc(3,"div",157),X.qc("click",function(){return X.Uc(e),X.uc().switchMode("create")}),X.Xb(4,"div",158),X.cc(5,"div",159),X.gc(6,160),X.bc(),X.bc(),X.bc(),X.bd(7,qv,1,0,"cu-loader",5),X.cc(8,"cu-custom-load-template",161),X.qc("onSelectTemplate",function(t){return X.Uc(e),X.uc().applyTemplate(t)})("onLoaded",function(){return X.Uc(e),X.uc().templateLoading=!1}),X.vc(9,"async"),X.vc(10,"async"),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(7),X.Dc("ngIf",e.templateLoading),X.Ib(1),X.Dc("ngClass",X.Hc(11,Bv,e.templateLoading))("team",X.wc(9,7,e.team$))("isGroupByProject",!0)("project",e.selectedProject)("projectsList",X.wc(10,9,e.projects$))("forDraft",!0)}}function Vv(e,t){1&e&&(X.cc(0,"div",168),X.cc(1,"div",169),X.Xb(2,"div",170),X.bc(),X.cc(3,"div",171),X.gc(4,172),X.bc(),X.bc())}const Xv=function(e){return{"cu-form__row_error":e}},Hv=function(e){return{subcategory_id:e}};function Yv(e,t){if(1&e){const e=X.dc();X.cc(0,"div",162),X.qc("keydown",function(t){return X.Uc(e),X.uc().manageCreateKeys(t)},!1,X.Tc),X.cc(1,"div",163),X.cc(2,"div",156),X.cc(3,"div",157),X.qc("click",function(){return X.Uc(e),X.uc().switchMode("create")}),X.Xb(4,"div",158),X.cc(5,"div",159),X.gc(6,164),X.bc(),X.bc(),X.bc(),X.cc(7,"cu-create-task-nav-selector",165),X.qc("onSelect",function(t){return X.Uc(e),X.uc().selectCategory(t,!1)}),X.bc(),X.bd(8,Vv,5,0,"div",63),X.bc(),X.cc(9,"load-template",166,167),X.qc("onSubmit",function(){return X.Uc(e),X.uc().templateSubmitted()})("onDone",function(){return X.Uc(e),X.uc().createdFromTemplate()}),X.vc(11,"async"),X.vc(12,"async"),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("ngClass",X.Hc(17,Xv,!e.isTaskSubcategoryValid)),X.Ib(6),X.Dc("selectedProject",e.selectedProject)("selectedCategory",e.taskCategory)("selectedSubcategory",e.taskSubcategory),X.Ib(1),X.Dc("ngIf",!e.isTaskSubcategoryValid),X.Ib(1),X.Dc("team",X.wc(11,13,e.team$))("requestPayload",X.Hc(19,Hv,null==e.taskSubcategory?null:e.taskSubcategory.id))("isGroupByProject",!0)("project",e.selectedProject)("projectsList",X.wc(12,15,e.projects$))("validExtraData",!!e.taskSubcategory)("hideOptionsUntilSelected",!0)("forDraft",!0)}}function Zv(e,t){if(1&e){const e=X.dc();X.cc(0,"div",154),X.cc(1,"div",163),X.cc(2,"div",156),X.cc(3,"div",157),X.qc("click",function(){return X.Uc(e),X.uc().switchMode("create")}),X.Xb(4,"div",158),X.cc(5,"div",159),X.gc(6,173),X.bc(),X.bc(),X.bc(),X.bc(),X.cc(7,"save-template",174),X.qc("onOpenTemplateManagerModal",function(){return X.Uc(e),X.uc().switchMode("create")}),X.vc(8,"async"),X.vc(9,"membersToUsers"),X.vc(10,"async"),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("ngClass",X.Hc(12,Xv,!e.isTaskSubcategoryValid)),X.Ib(6),X.Dc("type","task")("task",e.task)("user",X.wc(8,6,e.user$))("members",X.wc(9,8,X.wc(10,10,e.members$)))("section",e.taskSubcategory)}}function Qv(e,t){1&e&&(X.cc(0,"div",175),X.gc(1,176),X.bc())}function Kv(e,t){1&e&&X.Xb(0,"cu-drop-area")}function Jv(e,t){if(1&e){const e=X.dc();X.cc(0,"div",181),X.qc("click",function(){return X.Uc(e),X.uc(2).clickSettings()}),X.bc()}}function ey(e,t){if(1&e){const e=X.dc();X.cc(0,"div",177),X.cc(1,"cu-status-list",178,179),X.qc("onChange",function(t){return X.Uc(e),X.uc().setStatus(t,!0,!0)}),X.vc(3,"async"),X.bc(),X.bd(4,Jv,1,0,"div",180),X.bc()}if(2&e){const e=X.uc();let t=null;X.Ib(1),X.Dc("statuses",e.statusList)("groupByStatusType",null==(t=X.wc(3,3,e.sharedData.compatCurrentTeam$))?null:t.unstarted_status_group),X.Ib(3),X.Dc("ngIf",null==e.taskSubcategory||null==e.taskSubcategory.permissions?null:e.taskSubcategory.permissions.manage_statuses)}}function ty(e,t){1&e&&(X.cc(0,"div",168),X.cc(1,"div",169),X.Xb(2,"div",170),X.bc(),X.cc(3,"div",171),X.gc(4,182),X.bc(),X.bc())}function iy(e,t){1&e&&(X.cc(0,"div",168),X.cc(1,"div",169),X.Xb(2,"div",170),X.bc(),X.cc(3,"div",171),X.gc(4,183),X.bc(),X.bc())}const ay=function(e){return{"cu-list-status__item_active":e}};function oy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",193),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).setPosition(i,!0)}),X.dd(1),X.bc()}if(2&e){const e=t.$implicit,i=X.uc(3);X.Dc("ngClass",X.Hc(2,ay,i.taskPositionIsActive[e])),X.Ib(1),X.fd(" ",e," ")}}function cy(e,t){if(1&e&&(X.cc(0,"div",190),X.cc(1,"div",191),X.bd(2,oy,2,4,"div",192),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.Dc("ngForOf",e.taskPositions)("ngForTrackBy",e.trackByValue)}}function ny(e,t){if(1&e&&(X.cc(0,"div",184),X.cc(1,"div",185),X.cc(2,"div",186),X.cc(3,"div",187),X.dd(4),X.Xb(5,"div",188),X.bc(),X.bc(),X.bd(6,cy,3,2,"div",189),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(4),X.gd(" ",e.taskPosition||"1","/",e.taskPositions.length||"1"," ")}}function sy(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-task-blockers",194),X.qc("onOpenDependencies",function(){X.Uc(e);const t=X.uc(),i=X.Rc(202);return t.showDependencyModal(i)}),X.vc(1,"async"),X.bc()}if(2&e){const e=X.uc();let t=null;X.Dc("tasksLinked",e.dependencies.links)("teamId",null==(t=X.wc(1,5,e.team$))?null:t.id)("taskBlockers",e.dependencies.blockers)("tasksBlocked",e.dependencies.blocked)("canOpenDependencies",!0)}}function ry(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-task-editor",195,196),X.qc("onFileAdded",function(t){return X.Uc(e),X.uc().addFileFromEditor(t)})("onFileStarted",function(){return X.Uc(e),X.uc().checkContentUploading()})("onFileError",function(){return X.Uc(e),X.uc().errorFileFromEditor()})("onSave",function(){return X.Uc(e),X.uc().contentChanged()})("onShiftTab",function(){return X.Uc(e),X.uc().goBackToAssignees()})("onBlockHandleDropdownChange",function(t){return X.Uc(e),X.uc().handleBlockHandleDropdownChange(t)}),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.bc()}if(2&e){const e=X.uc(),t=X.Rc(85),i=X.Rc(54),a=X.Rc(4);let o=null;X.Dc("modifier","cu-editor-wrapper_create-task")("enableOnStart",!1)("alwaysEnabled",!0)("weights",X.wc(2,21,e.weights$))("content",e.taskContent)("project",e.selectedProject)("taskUserGroups",e.taskUserGroups)("forCreateTask",!0)("scrollContainer",t)("disablePasteImage",X.wc(3,23,e.disconnected$))("uploadParent",null==(o=X.wc(4,25,e.team$))?null:o.id)("slashCommandCustom",!0)("disableOffline",!1)("users",e.users)("listenForShiftTab",!0)("enableUserMentions",!0)("popupInBody",!0)("userGroups",e.userGroups)("autoFocus",!1)("customBlockHandleDropdown",i)("customBlockHandleDropdownContainer",a)}}function ly(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-task-custom-fields",197),X.qc("setMissingRequiredFields",function(t){return X.Uc(e),X.uc().missingRequiredMap$.next(t)})("updateCustomFieldValue",function(t){return X.Uc(e),X.uc().setCustomFieldValue(t.field,t.value)}),X.vc(1,"async"),X.vc(2,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("permissions",e.taskSubcategory.permissions)("disconnected",X.wc(1,7,e.disconnected$))("customFields",e.customFields)("subcategory",e.taskSubcategory)("members",e.projectMembers)("showMissingRequired",e.showMissingRequired)("team",X.wc(2,9,e.team$))}}function dy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",201),X.qc("click",function(){return X.Uc(e),X.uc(2).addSubtask()}),X.Xb(1,"div",202),X.cc(2,"p"),X.gc(3,203),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ob("cu-draft-view__add-item-subtask-no-border",e.subtaskList&&0===e.subtaskList.length&&e.showChecklistBlock)}}function uy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",204),X.qc("click",function(){return X.Uc(e),X.uc(2).createChecklist()}),X.Xb(1,"div",202),X.cc(2,"p"),X.gc(3,205),X.bc(),X.bc()}}function py(e,t){if(1&e&&(X.cc(0,"div",198),X.bd(1,dy,4,2,"div",199),X.bd(2,uy,4,0,"div",200),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",e.subtaskList&&0===e.subtaskList.length),X.Ib(1),X.Dc("ngIf",!e.showChecklistBlock)}}const my=function(e){return{"cu-draft-view__subtasks_editing":e}};function hy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",211),X.cc(1,"input",212),X.qc("keyup",function(i){X.Uc(e);const a=t.$implicit,o=t.index;return X.uc(2).manageSubtaskKeys(i,a,o)})("ngModelChange",function(e){return t.$implicit.name=e})("blur",function(){X.Uc(e);const i=t.$implicit,a=t.index;return X.uc(2).saveSubtask(i,a,!0)}),X.bc(),X.cc(2,"div",213),X.cc(3,"a",214),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=t.index;return X.uc(2).editSubtask(i,a,!0)}),X.bc(),X.cc(4,"a",215),X.qc("click",function(){X.Uc(e);const i=t.index;return X.uc(2).removeSubtask(i,!0)}),X.bc(),X.cc(5,"a",216),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=t.index;return X.uc(2).saveSubtask(i,a,!0)}),X.Xb(6,"i",217),X.bc(),X.cc(7,"a",218),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=t.index;return X.uc(2).cancelSubtask(i,a,!0)}),X.Xb(8,"i",219),X.bc(),X.bc(),X.bc()}if(2&e){const e=t.$implicit,i=t.index;X.Dc("ngClass",X.Hc(4,my,e.editing)),X.Ib(1),X.Fc("id","subtaskInput-",i,""),X.Dc("ngModel",e.name)("disabled",!e.editing)}}function by(e,t){if(1&e){const e=X.dc();X.cc(0,"div",206),X.cc(1,"div",97),X.dd(2,"Subtasks"),X.bc(),X.cc(3,"div",207),X.bd(4,hy,9,6,"div",208),X.bc(),X.cc(5,"a",209),X.qc("click",function(){return X.Uc(e),X.uc().addSubtask()}),X.cc(6,"span"),X.dd(7,"+"),X.bc(),X.ac(8),X.gc(9,210),X.Zb(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(4),X.Dc("ngForOf",e.subtaskList)("ngForTrackBy",e.trackByValue)}}function gy(e,t){1&e&&(X.cc(0,"div",220),X.cc(1,"div",221),X.cc(2,"div",222),X.mc(3,223),X.Xb(4,"strong"),X.jc(),X.bc(),X.bc(),X.bc())}function fy(e,t){1&e&&X.Xb(0,"cu-cloud-storage-deny-msg")}function _y(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-cloud-storage-button",233),X.qc("onDenied",function(){return X.Uc(e),X.uc(3),X.Rc(123).show()})("onAdded",function(t){X.Uc(e);const i=X.uc().$implicit;return X.uc(2).addAttachment(t,i)}),X.Xb(1,"div",234),X.dd(2),X.bc()}if(2&e){const e=X.uc().$implicit,t=X.uc(2);X.Dc("parentId",t.currentTeamId)("source",t.cloudData[e].sourceText)("showDeny",!1),X.Ib(1),X.Dc("icon",t.cloudData[e].icon),X.Ib(1),X.fd(" ",t.cloudData[e].title," ")}}function vy(e,t){if(1&e&&(X.ac(0),X.bd(1,_y,3,5,"cu-cloud-storage-button",232),X.vc(2,"async"),X.vc(3,"async"),X.Zb()),2&e){const e=t.$implicit,i=X.uc(2);X.Ib(1),X.Dc("ngIf",X.wc(2,1,i.user$)&&X.wc(3,3,i.user$)[i.cloudData[e].userProperty])}}function yy(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-cloud-storage-button",235),X.qc("onDenied",function(){return X.Uc(e),X.uc(2),X.Rc(123).show()})("onAdded",function(t){X.Uc(e);const i=X.uc(2);return i.addAttachment(t,i.AttachmentSource.google)}),X.Xb(1,"div",236),X.ac(2),X.gc(3,237),X.Zb(),X.bc()}if(2&e){const e=X.uc(2);X.Dc("parentId",e.currentTeamId)("showDeny",!1)}}function wy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",177),X.cc(1,"div",224),X.cc(2,"div",225),X.cc(3,"div",226),X.cc(4,"div",227),X.qc("click",function(){return X.Uc(e),X.uc().browseFile()}),X.Xb(5,"div",228),X.ac(6),X.gc(7,229),X.Zb(),X.bc(),X.bc(),X.bd(8,vy,4,5,"ng-container",230),X.bd(9,yy,4,2,"cu-cloud-storage-button",231),X.vc(10,"async"),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();let t=null;X.Ib(8),X.Dc("ngForOf",e.cloudList)("ngForTrackBy",e.trackByValue),X.Ib(1),X.Dc("ngIf",null==(t=X.wc(10,3,e.user$))?null:t.drive_enabled)}}const ky=function(e){return[e]};function xy(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-priority-list-dropdown",238),X.qc("onChange",function(t){return X.Uc(e),X.uc().setPriority(t,!0)}),X.Xb(1,"cu-priorities-view",239),X.bc()}if(2&e){const e=X.uc();X.Dc("prioritySelected",X.Hc(2,ky,e.priority)),X.Ib(1),X.Dc("priority",e.priority)}}const Ty=function(e){return{task:null,statuses:e}},Sy=function(e,t,i){return{recur:e,recurring_settings:t,legacy_recurring:i}};function jy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",240),X.cc(1,"cu-recurring-date-dropdown",241),X.qc("onChange",function(t){return X.Uc(e),X.uc().setDueDate(t,!0)})("onRecurringChange",function(t){return X.Uc(e),X.uc().setRecurring(t.recurring,!0)})("onRecurringLegacyChange",function(t){return X.Uc(e),X.uc().setRecurringLegacy(t,!0)}),X.cc(2,"cu-due-date-view",242),X.qc("onChange",function(t){return X.Uc(e),X.uc().setDueDate(t,!0)}),X.bc(),X.bc(),X.cc(3,"cu-recurring-date-dropdown",241),X.qc("onChange",function(t){return X.Uc(e),X.uc().setDueDate(t,!0)})("onRecurringChange",function(t){return X.Uc(e),X.uc().setRecurring(t.recurring,!0)})("onRecurringLegacyChange",function(t){return X.Uc(e),X.uc().setRecurringLegacy(t,!0)}),X.Xb(4,"cu-recurring-icon",243),X.cc(5,"cu-due-date-view",244),X.qc("onChange",function(t){return X.Uc(e),X.uc().setDueDate(t,!0)}),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("selectedDate",e.dueDate)("startDate",e.startDate)("dueTimeExists",e.dueDateTime)("startTimeExists",e.startDateTime)("forceStart",!0)("forceDue",!1)("recurringOptions",e.taskRecurOptions)("recurringLegacyOptions",e.taskRecurOptionsLegacy)("allowLegacyRecurring",!0)("legacyRecurring",null==e.taskRecurOptionsLegacy?null:e.taskRecurOptionsLegacy.recurring)("recurringLegacyData",X.Hc(35,Ty,e.statusList))("showRecurring",!0),X.Ib(1),X.Dc("selectedDate",e.startDate)("hasTime",e.startDateTime)("otherDate",e.dueDate)("allowIcon",!1)("forStart",!0),X.Ib(1),X.Dc("selectedDate",e.dueDate)("startDate",e.startDate)("dueTimeExists",e.dueDateTime)("startTimeExists",e.startDateTime)("forceStart",!1)("forceDue",!0)("recurringOptions",e.taskRecurOptions)("recurringLegacyOptions",e.taskRecurOptionsLegacy)("allowLegacyRecurring",!0)("legacyRecurring",null==e.taskRecurOptionsLegacy?null:e.taskRecurOptionsLegacy.recurring)("recurringLegacyData",X.Hc(37,Ty,e.statusList))("showRecurring",!0),X.Ib(1),X.Dc("task",X.Jc(39,Sy,e.taskRecurOptionsLegacy,e.taskRecurOptions,null==e.taskRecurOptionsLegacy?null:e.taskRecurOptionsLegacy.recurring)),X.Ib(1),X.Dc("selectedDate",e.dueDate)("hasTime",e.dueDateTime)("otherDate",e.startDate)("allowIcon",!0)("dateTimeTooltip",e.dueDate?"Due Date":e.commonStringsService.setDatesText)}}function Oy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",245),X.cc(1,"cu-tags-list",246,247),X.qc("onChange",function(t){return X.Uc(e),X.uc().setTag(t,!0)})("onDelete",function(t){return X.Uc(e),X.uc().removeTag(t,!0)})("onDeleteFromSpace",function(t){return X.Uc(e),X.uc().deleteTag(t,!0)})("onRename",function(t){return X.Uc(e),X.uc().renameTag(t,!0)})("onColorChange",function(t){return X.Uc(e),X.uc().colorChange(t,!0)})("onPage",function(t){return X.Uc(e),X.uc().pageTags(t)}),X.vc(3,"async"),X.cc(4,"cu-tags-view",248),X.qc("onRename",function(t){return X.Uc(e),X.uc().renameTag(t,!0)})("onDelete",function(t){return X.Uc(e),X.uc().removeTag(t,!0)})("onDeleteFromSpace",function(t){return X.Uc(e),X.uc().deleteTag(t,!0)})("onColorChange",function(t){return X.Uc(e),X.uc().colorChange(t,!0)}),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("tags",e.tagsList)("taskTags",e.draftValue.tags)("tagsLoadingMap",e.tagsLoading)("spaceId",e.selectedProject.id)("forNewTask",!0)("canManageTag",null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.manage_tags)("readonly",X.wc(3,17,e.disconnected$)),X.Ib(3),X.Dc("tags",e.draftValue.tags)("availableTags",e.tagsList)("canAddTag",null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.add_tags)("canRemoveTag",null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.remove_tags)("canManageTag",null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.manage_tags)("spaceId",null==e.selectedProject?null:e.selectedProject.id)("spaceAccess",(null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.manage_tags)||!1)("truncate",!0)("showTags",3)("forFilter",!0)}}function Iy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",249),X.cc(1,"cu-time-estimates-create-task",250,251),X.qc("onTimeEstimateAction",function(t){return X.Uc(e),X.uc().timeEstimateAction(t)}),X.vc(3,"async"),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("timeEstimate",e.timeEstimateMilli)("assignees",e.taskAssignees)("team",X.wc(3,3,e.sharedData.compatCurrentTeam$))}}function Dy(e,t){if(1&e){const e=X.dc();X.cc(0,"div",249),X.cc(1,"cu-create-task-points-estimates",252,253),X.qc("onOpen",function(){return X.Uc(e),X.uc().loadFromTemplate=!1})("onPointsEstimatesAction",function(t){return X.Uc(e),X.uc().pointsEstimatesAction(t)}),X.vc(3,"async"),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("points",e.points)("assignees",e.taskAssignees)("team",X.wc(3,3,e.sharedData.compatCurrentTeam$))}}function Cy(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-template-list",254),X.qc("onSelect",function(t){return X.Uc(e),X.uc().selectRecentTemplate(t)}),X.vc(1,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("readOnlyMode",!0)("groupByProject",!1)("allowCustom",!1)("templateList",X.wc(1,4,e.templateList$))}}function Py(e,t){1&e&&X.Xb(0,"cu-loader")}function $y(e,t){if(1&e){const e=X.dc();X.cc(0,"div",255),X.qc("click",function(t){X.Uc(e);const i=X.uc();return i.createTask(t,i.loadedTemplateId)}),X.cc(1,"span",256),X.dd(2),X.bc(),X.cc(3,"div",257),X.dd(4),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(2),X.ed(e.createTaskText),X.Ib(2),X.fd(" ",e.SHORTKEY_TEXT," + enter ")}}function zy(e,t){1&e&&(X.cc(0,"div",258),X.cc(1,"span",256),X.gc(2,259),X.bc(),X.bc())}function My(e,t){if(1&e){const e=X.dc();X.cc(0,"div",260),X.qc("mouseover",function(){return X.Uc(e),X.uc().openCreateFlowDropdown()}),X.cc(1,"div",261,262),X.cc(3,"div",263),X.Xb(4,"div",264),X.bc(),X.cc(5,"div",265),X.qc("mouseout",function(){return X.Uc(e),X.uc().closeCreateFlowDropdown()}),X.Xb(6,"div",266),X.cc(7,"div",267),X.cc(8,"div",268),X.cc(9,"div",269),X.qc("click",function(t){return X.Uc(e),X.uc().selectCreateFlow("open",t)}),X.cc(10,"div",270),X.gc(11,271),X.bc(),X.bc(),X.cc(12,"div",269),X.qc("click",function(t){return X.Uc(e),X.uc().selectCreateFlow("create",t)}),X.cc(13,"div",270),X.gc(14,272),X.bc(),X.bc(),X.cc(15,"div",269),X.qc("click",function(t){return X.Uc(e),X.uc().selectCreateFlow("duplicate",t)}),X.cc(16,"div",270),X.gc(17,273),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.bc()}2&e&&(X.Ib(1),X.Dc("autoClose",!0)("noOverlay",!0))}function Ey(e,t){if(1&e){const e=X.dc();X.cc(0,"div",274),X.gc(1,275),X.bc(),X.cc(2,"div",276),X.cc(3,"button",277),X.qc("click",function(){return X.Uc(e),X.uc().selectTemplate(!1)}),X.gc(4,278),X.bc(),X.cc(5,"button",279),X.qc("click",function(){return X.Uc(e),X.uc().selectTemplate(!0)}),X.gc(6,280),X.bc(),X.bc()}}const Ly=function(e,t,i,a,o,c,n,s,r){return{a:!0,me:!0,w:!0,p:e,d:t,inbox:i,sd:a,est:o,pts:c,s:n,t:s,m:!0,"-":!0,"#":!0,pos:r,attach:!0}},Ay=function(e,t,i){return{project:e,category:t,subcategory:i}},Fy=function(e,t){return{date:e,showTime:t}},Uy=function(e,t){return{position:e,total:t}},Ny=function(e,t,i,a,o,c,n,s,r,l,d,u){return{assignees:e,groupAssignees:t,followers:i,groupFollowers:a,status:o,priority:c,points:n,location:s,dueDate:r,tags:l,position:d,timeEstimate:u}},Ry=function(e){return{multi:e}},Gy=function(e){return{allowCreate:e}},qy=function(e,t){return{a:e,t}};function By(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-slash-command",281,282),X.qc("applyCommand",function(t){return X.Uc(e),X.uc().applySlashCommand(t)})("cancelCommand",function(t){return X.Uc(e),X.uc().hideSlashCommand(null==t?null:t.replace,null==t?null:t.updateSelection)})("onPage",function(t){return X.Uc(e),X.uc().checkPaging(t)}),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.bc()}if(2&e){const e=X.uc();let t=null,i=null;X.Dc("alwaysVisible",!0)("dropdownPlacement",null==e.embedSlashCommandInfo?null:e.embedSlashCommandInfo.placement)("dateFormatting",null==(t=X.wc(2,16,e.user$))?null:t.date_format)("militaryTime",null==(i=X.wc(3,18,e.user$))?null:i.twenty_four_hr_setting)("meUser",X.wc(4,20,e.user$))("users",e.users)("userGroups",e.userGroups)("weights",X.wc(5,22,e.weights$))("points",X.wc(6,24,e.points$))("statuses",e.statusList)("priorities",e.priorityList)("tags",e.tagsList)("allowedCommandsExtra",e.formatCommands)("allowedCommands",X.Pc(26,Ly,[null==e.selectedProject||null==e.selectedProject.features||null==e.selectedProject.features.priorities?null:e.selectedProject.features.priorities.enabled,null==e.selectedProject||null==e.selectedProject.features||null==e.selectedProject.features.due_dates?null:e.selectedProject.features.due_dates.enabled,null==e.selectedProject||null==e.selectedProject.features||null==e.selectedProject.features.due_dates?null:e.selectedProject.features.due_dates.enabled,null==e.selectedProject||null==e.selectedProject.features||null==e.selectedProject.features.due_dates?null:e.selectedProject.features.due_dates.enabled,null==e.selectedProject||null==e.selectedProject.features||null==e.selectedProject.features.time_estimates?null:e.selectedProject.features.time_estimates.enabled,null==e.selectedProject||null==e.selectedProject.features||null==e.selectedProject.features.points?null:e.selectedProject.features.points.enabled,(null==e.statusList?null:e.statusList.length)>2,(null==e.selectedProject||null==e.selectedProject.features||null==e.selectedProject.features.tags?null:e.selectedProject.features.tags.enabled)&&((null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.manage_tags)||(null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.add_tags)),e.taskSubcategory&&e.taskPositions.length]))("currentValues",X.Pc(46,Ny,[e.taskAssignees,e.taskUserGroupAssignees,e.taskFollowers,e.taskGroupFollowers,e.taskStatus,e.priority,e.points,X.Jc(36,Ay,e.selectedProject,e.taskCategory,e.taskSubcategory),X.Ic(40,Fy,e.dueDate,e.dueDateTime),e.tags,X.Ic(43,Uy,e.taskPosition||1,e.taskPositions.length||1),e.timeEstimateMilli]))("options",X.Ic(63,qy,X.Hc(59,Ry,null==e.selectedProject?null:e.selectedProject.multiple_assignees),X.Hc(61,Gy,null==e.selectedProject||null==e.selectedProject.permissions?null:e.selectedProject.permissions.manage_tags)))}}function Wy(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-dependencies-selector",283),X.qc("createDependency",function(t){return X.Uc(e),X.uc().addDependency(t.selectedTask,t.isBlocker)})("removeDependency",function(t){return X.Uc(e),X.uc().removeDependency(t.selectedTask,t.isBlocker)})("createRelationshipLink",function(t){return X.Uc(e),X.uc().addRelationshipLink(t.task)})("removeRelationshipLink",function(t){return X.Uc(e),X.uc().removeRelationshipLink(t.task)}),X.vc(1,"async"),X.bc()}if(2&e){const e=X.uc();X.Dc("project",e.selectedProject)("selectedState",X.wc(1,5,e.dependencySelectionState$))("displayedTasksBlocked",e.dependencies.blocked)("displayedTaskBlocker",e.dependencies.blockers)("tasksLinked",e.dependencies.links)}}const Vy=function(e){return{color:e}},Xy=function(e,t,i,a,o,c,n,s,r){return{a:!0,me:!0,w:!0,p:e,d:t,inbox:i,sd:a,est:o,pts:c,s:n,t:s,m:!0,"-":!0,pos:r,attach:!0}},Hy=function(e,t,i,a,o,c,n,s,r,l){return{assignees:e,followers:t,status:i,priority:a,location:o,points:c,dueDate:n,tags:s,position:r,timeEstimate:l}},Yy=function(){return{m:!0}},Zy=function(){return[]},Qy=function(e,t){return{"cu-activity-viewers_active":e,"cu-activity-viewers_watching":t}},Ky=new WeakMap;let Jy=(()=>{class e{constructor(e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g){this.store=e,this.renderer=t,this.helpers=i,this.taskService=a,this.sharedTaskService=o,this.sharedData=c,this.commonStringsService=n,this.dataService=s,this.featuresService=r,this.changeDetector=l,this.modalService=d,this.domService=u,this.taskMentionService=p,this.injector=m,this.navService=h,this.cdr=b,this.zone=g,this.draftValue={name:"",team:"",content:"",followers:[],assignees:[]},this.enterWillCreate=!1,this.locationSelectionOpen=!1,this.assigneeOpen=!1,this.blockHandleMenuData=[],this.tagsLoadingMap={},this.modeValue="create",this.onTaskCreated=new X.o,this.onModeChange=new X.o,this.taskFollowers=[],this.taskGroupFollowers=[],this.taskName="",this.taskPosition=1,this.taskPositions=[],this.taskPositionIsActive=[],this.isTaskNameValid=!0,this.taskContent=null,this.taskStatus=null,this.taskAssignees=[],this.taskUserGroupAssignees=[],this.customFields=[],this.hostListFields=[],this.showMissingRequired=!1,this.missingRequiredMap$=new oa.a({}),this.missingRequired$=this.missingRequiredMap$.pipe(Object(Fe.a)(e=>Object.keys(e).length>0)),this.dependencies={blocked:[],blockers:[],links:[]},this.taskCategory=null,this.taskSubcategory$=new Ee.a,this.taskRecurOptionsLegacy=null,this.taskRecurOptions=null,this.isTaskSubcategoryValid=!0,this.subtaskList=[],this.UPLOAD_OPTIONS={autoUpload:!0,fieldName:"attachment",method:"POST",url:"",attachmentType:7,hideFileSize:!0},this.isSaving=!1,this.isContentUploading=!1,this.users=[],this.statusList=[],this.priorityList=[],this.selectedCreateFlow="quick",this.saveTimer="done",this.fileMover="fileStart",this.finalFile=!1,this.categoryError=null,this.subcategoryError=null,this.fileMovementFinished=!1,this.hasNewCategory=!1,this.hasError=!1,this.convertingNote=!1,this.dueDate=null,this.startDate=null,this.errors={},this.editorAttachments=[],this.createTaskText=$localize`:@@common_create-task-1:Create Task`,this.dueDateTime=!1,this.startDateTime=!1,this.categoryDropdownOpen=!1,this.tags=[],this.templateLoading=!1,this.closed$=new Ee.a,this.SHORTKEY_TEXT=/Mac/i.test(navigator.platform)?"cmd":"ctrl",this.trackByValue=be.f,this.showChecklistBlock=!1,this.taskUserGroups=ef.c,this.team$=this.store.select(me.getTeam),this.debounceDraftChanges=new Ee.a,this.loadingDraft$=new oa.a(!1),this.lastFieldChanged$=new oa.a(""),this.resettingBaseDraft=!1,this.cleanup=!1,this.selfWatching=!0,this.relativePosition="bottom",this.attachmentCount=0,this.attachmentLoadPercent=0,this.attachmentLoadArr=[],this.manualAttachmentLoadPercent=0,this.manualAnimation=!1,this.displayedTaskFollowers$=new Ee.a,this.displayedTaskGroupFollowers$=new Ee.a,this.connected=!0,this.disconnected$=this.store.select(ta.b),this.templateList$=this.store.select(ja.b),this.isTemplatesLoading$=this.store.select(ja.c),this.formatCommands=u_.Ib,this.AttachmentSource=__.a,this.cloudList=L_.d,this.cloudData=L_.c,this.user$=this.store.select(me.getUser),this.weights$=this.store.select(me.getUserWeights),this.projects$=this.store.select(me.getAllProjects),this.points$=this.store.select(J.b),this.dependencySelectionState$=this.store.select(Ni.a),this.members$=this.store.select(me.getMembers),this.showExtraItems=!1,this.UserWeightType=h_.c,this.lastSelectedTemplate$=this.store.select(na.k),this.lastQuickSelectedTemplate$=this.store.select(na.j),this.createInstantly=!1,this.loadFromTemplate=!1,this.destroy$=new Ee.a}set template(e){if(null!==e){if(this.selectedTemplate&&this.selectedTemplate.id===e.id)return;this.draftValue=e,e.updating||this.selectedTemplate&&this.selectedTemplate.id===e.id||this.applyTemplate(e,!0)}}set draft(e){null!==e?(this.draftValue=e,e.updating||this.setFromDraft()):this.resetBaseDraft()}set mode(e){switch(this.modeValue=e,e){case"from_template":this.renderer.addClass(document.body,"create-task-modal__template");break;case"load_template":this.templateLoading=!0,this.renderer.addClass(document.body,"create-task-modal__template");break;case"create":this.isTaskSubcategoryValid=!0,this.renderer.removeClass(document.body,"create-task-modal__template");break;case"save_template":if(!this.editor||!this.editor.editor)return;const e=this.createTaskObject();delete e.draft_uuid,this.task=e,this.renderer.addClass(document.body,"create-task-modal__template")}}get taskSubcategory(){return Ky.get(this)||null}set taskSubcategory(e){e&&(this.store.dispatch(new ge.ne(e.id)),this.store.dispatch(Object(Va.m)({entity:{id:e.id,type:"subcategory",name:e.name}}))),Ky.set(this,e),this.taskSubcategory$.next(e)}ngOnInit(){this.lastSelectedTemplate$.pipe(Object(qt.a)(this.lastQuickSelectedTemplate$),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{e&&e.type===Hi.d.Task&&this.applyTemplate(e,!this.loadFromTemplate,!0,null!=t&&e.type===Hi.d.Task)}),this.disconnected$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.connected=!e}),this.team$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.currentTeamId=String(e.id||""),this.updateUploadOptions()}),this.store.select(me.getUser).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e&&(this.currentUserId=e.id)}),this.store.select(Ta.e).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.drafter=e}),this.debounceDraftChanges.pipe(Object(Ht.a)(400),Object(Re.a)(this.destroy$)).subscribe(e=>{let t=e.slice();t=t.replace(/(\r\n\t|\n|\r\t)/gm," "),this.taskName=t,this.lastFieldChanged$.next("taskName"),"create"!==this.modeValue&&"initial_template"!==this.modeValue||(this.isTaskNameValid=!0,this.saveDraft())}),this.store.select(me.getProjects).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.projectsList=e});const e=this.sharedData.userData.value;e.preferences&&e.preferences.createTaskMethod&&(e.preferences.createTaskMethod=null,this.sharedData.setUserData(e)),this.sharedData.userData.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e.preferences||(e.preferences={}),this.currentUserData=e}),this.featuresService.projectFeatures.pipe(Object(Ge.a)(e=>!!e),Object(Re.a)(this.destroy$)).subscribe(e=>{e.priorities&&e.priorities.enabled&&(this.priorityList=e.priorities.priorities)}),this.initProjectMembers(),this.adjustProjectMembers(),this.store.select(A_.h).pipe(Object(Ge.a)(()=>!!this.draftValue&&!!this.selectedProject),Object(Re.a)(this.destroy$)).subscribe(e=>{this.showChecklistBlock=0!==e.length,this.checklists=e,this.resettingBaseDraft?this.resettingBaseDraft=!1:"create"!==this.modeValue&&"initial_template"!==this.modeValue||this.saveDraft()}),this.store.select(A_.g).pipe(Object(Ge.a)(()=>!!this.selectedProject),Object(Ge.a)(e=>e.changed),Object(Re.a)(this.destroy$)).subscribe(()=>{this.saveDraft()}),this.store.select(A_.j).pipe(Object(Ge.a)(()=>!!this.selectedProject),Object(Ge.a)(e=>e),Object(Re.a)(this.destroy$)).subscribe(()=>{this.saveDraft()}),this.initSlashCommandHandler=this.renderer.listen("document",f_.a,e=>{if(this.slashCommand)return;this.hideSlashCommand();const t="content_new"===e.detail.id&&this.editor?this.editor.editor:null;if(!t)return;this.embedSlashCommandInfo=Object(w_.c)(t),this.embedSlashCommandInfo.container=e.detail.node.children[0];const i=this.embedSlashCommandInfo.container.getBoundingClientRect();this.embedSlashCommandInfo.placement=window.innerWidth-i.right>500&&window.innerHeight-i.bottom>250?"right":window.innerWidth-i.right<250?"left":i.top>window.innerHeight/2?"top":"bottom",this.embedSlashCommandInfo.view=this.domService.appendTemplateToElement(this.slashCommandTemplate,this.embedSlashCommandInfo.container,this.slashCommandContainer),this.changeDetector.detectChanges(),this.slashCommand?this.slashCommand.activate(e.detail.replace,"","",e.detail.defaultCommand):setTimeout(()=>{this.slashCommand&&this.slashCommand.activate(e.detail.replace,"","",e.detail.defaultCommand)})}),this.taskSubcategory$.pipe(Object(Vt.a)(e=>e?this.store.select(Object(Ph.f)({id:e.id,type:"subcategory",name:e.name})).pipe(Object(Ge.a)(e=>!!e)):Object(Wa.a)([])),Object(Re.a)(this.destroy$)).subscribe(e=>{const t=this.customFields||[];this.customFields=e.filter(e=>!P_.e[e.type].isAutomaticValue),this.hostListFields=this.customFields,this.customFields=this.customFields.map(e=>{const i=t.find(t=>t.id===e.id);return Object.assign(Object.assign({},e),{value:i?i.value:void 0})}),this.cdr.detectChanges()})}ngAfterViewInit(){Object(xm.a)().pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{this.showExtraItems=!0,this.cdr.markForCheck()})}setCustomFieldValue(e,t){this.customFields=this.customFields.map(i=>i.id===e.id?Object.assign(Object.assign({},i),{value:t}):i),this.saveDraft()}initProjectMembers(){this.members$.pipe(Object(Ne.a)(1)).subscribe(e=>{this.projectMembers=Object(nr.a)(e),this.users=[...this.projectMembers.map(e=>e.user)]})}adjustProjectMembers(){this.taskSubcategory$.pipe(Object(cp.a)(this.taskSubcategory),Object(Ht.a)(400),Object(Vt.a)(e=>e?this.store.select(Object(Zg.h)(e.id,e.category,this.taskCategory.project_id)):this.members$),Object(Ge.a)(e=>e&&e.length>0),Object(Re.a)(this.destroy$)).subscribe(e=>{if(this.taskSubcategory){this.projectMembers=Object(nr.a)(e);const t=this.projectMembers.map(e=>e.user).filter(e=>(this.draftValue.assignees||[]).includes(parseInt(e.id,10)));this.setAssignees(t);const i=this.projectMembers.map(e=>e.user).filter(e=>(this.taskFollowers||[]).map(e=>String(e.id)).includes(String(e.id)));this.setFollowers(i),this.users=[...this.projectMembers.map(e=>e.user)],this.resettingBaseDraft&&(this.resettingBaseDraft=!1)}})}closeDrafter(e=!0){e&&this.saveDraft(),this.store.dispatch(new xa.c)}removeDraft(){this.store.dispatch(new xa.j({task:this.draftValue})),this.closeDrafter(!1)}saveDraft(e=!1,t=!1,i){this.store.select(Ta.b).pipe(Object(Ge.a)(e=>!e),Object(Ne.a)(1)).subscribe(()=>{const a=this.createDraftObject();a.templateId=i,a.queued=e,a.sync_state="initial",a.isTimeout=t,this.store.dispatch(new xa.p({draft:a,updating:!0})),t&&this.connected&&this.store.dispatch(new $e.l({draft:a}))})}createDraftObject(){const e=Object(nr.a)(this.draftValue);if(e.name=this.taskName,e.tab_orderindex||(e.tab_orderindex=this.latestTabOrderindex),e.new_draft=!e.draft_uuid,e.new_draft&&(e.draft_uuid=this.draftUUID,this.draftValue.draft_uuid=e.draft_uuid),e.tags=this.tags||[],e.time_estimate=this.timeEstimateMilli,e.points=this.points,e.time_estimate_string=this.timeEstimate,e.assignee_time_estimate_map=this.estimateAssigneeMap,e.assignee_points_map=this.pointsAssigneeMap,e.assignees=(this.taskAssignees||[]).map(e=>e.id),e.group_assignees=(this.taskUserGroupAssignees||[]).map(e=>e.id),e.due_date=this.dueDate?this.dueDate.valueOf().toString():null,e.due_date_time=this.dueDateTime,e.start_date=this.startDate?this.startDate.valueOf().toString():null,e.start_date_time=this.startDateTime,e.followers=(this.taskFollowers||[]).map(e=>e.id),e.group_followers=(this.taskGroupFollowers||[]).map(e=>e.id),e.priority=this.priority&&this.priority.id?this.priority.id:null,this.editor&&this.editor.editor&&(e.content=this.editor.editor.getContents()),e.relative_position=this.relativePosition,e.position=this.taskPosition-1,this.uploader.getFileList().length||this.attachments&&this.attachments.length){const t=this.uploader.getFileList();e.attachments_to_copy=t.filter(e=>e.fromTemplate).map(e=>{if(e.uploadResult)return e.uploadResult.id}).filter(e=>null!==e),e.attachments=t.filter(e=>!e.fromTemplate).map(e=>{if(e.uploadResult)return e.uploadResult.id}).filter(e=>null!==e)}return e.attachments&&(e.attachmentFiles=this.uploader.getFileList().map(e=>(delete e.request,e))),this.customFields&&this.customFields.length&&(e.customFields=[...this.customFields]),e.dependencies=Object(nr.a)(this.dependencies),this.subtaskList.length&&(e.subtasks=this.subtaskList.filter(e=>e.name&&e.name.trim().length)),e.project&&e.project.id||(e.project={id:this.selectedProject.id,name:this.selectedProject.name}),e.checklists=this.checklists,e}contentChanged(){this.lastFieldChanged$.next("description"),this.selectedProject&&this.selectedProject.id&&(this.saveDraft(),this.isContentUploading&&this.checkContentUploading())}checkContentUploading(){this.isContentUploading=this.helpers.hasNotUploadedImages(this.editor.editor.getContents())}setCategoriesFromStore(e,t,i){const a=e&&e.id?e.id:null,o=t&&t.id?t.id:null,c=i&&i.id?i.id:null;void 0!==this.category$&&this.category$.unsubscribe(),this.category$=this.store.select(Object(me.getCategoryById)(o,a)).pipe(Object(Bt.a)("statuses"),Object(Re.a)(this.destroy$)).subscribe(e=>{var o;if(!e)return this.setCategories(t,i);if(this.categoryError=null,this.subcategoryError=null,this.taskCategory=e,this.draftValue.category={id:e.id,name:e.name,project_id:a},this.taskCategory){const t=this.taskCategory.subcategories.find(e=>c&&e.id===c);if(c&&t){const i=Object(nr.a)(t);this.taskSubcategory=Object.assign(Object.assign({},i),{permissions:Object.assign(Object.assign({},te.g[null===(o=i.permissions)||void 0===o?void 0:o.permission_level]),i.permissions)}),this.draftValue.subcategory={id:t.id,name:t.name,category:e.id.toString()},this.isTaskSubcategoryValid=!0}this.updateStatusList()}})}setFromDraft(){this.loadingDraft$.next(!0);const e=this.draftValue;if(this.taskName=e.name.slice(),this.convertingNote=!!e.convertingNote&&e.convertingNote,setTimeout(()=>{this.editor.editor&&this.editor.editor.setContents("string"==typeof e.content&&e.content.length?JSON.parse(e.content):e.content)},1),this.selectProject(e.project),e.category&&e.category.id&&this.setCategoriesFromStore(e.project,e.category||null,e.subcategory||null),this.subtaskList=I_(e.subtasks||[],nr.a),e.priority&&this.selectedProject.features&&this.selectedProject.features.priorities&&this.selectedProject.features.priorities.enabled&&this.setPriority(this.selectedProject.features.priorities.priorities.find(t=>t.id===e.priority)),this.selectedProject.features&&this.selectedProject.features.due_dates&&this.selectedProject.features.due_dates.enabled){let t={};e.due_date&&(t=Object.assign(t,{dueDate:new Date(parseInt(e.due_date,10)),dueDateTime:e.due_date_time})),e.start_date&&(t=Object.assign(t,{startDate:new Date(parseInt(e.start_date,10)),startDateTime:e.due_date_time})),this.setDueDate(t)}this.setStatus(e.status,!1),e.attachments&&e.attachmentFiles&&this.uploader&&(e.attachmentFiles.map(e=>(!e.name&&e.uploadResult&&e.uploadResult.title&&(e.name=e.uploadResult.title),e)),this.uploader.setFileList(e.attachmentFiles),this.attachments=this.uploader.getFileList().map(e=>{if(e.uploadResult)return e.uploadResult.id}).filter(e=>null!==e),this.attachmentCount=this.attachments.length,this.changeDetector.detectChanges()),e.customFields&&e.customFields.length&&(this.customFields=[...e.customFields]),e.dependencies&&(this.dependencies=Object(nr.a)(e.dependencies)),e.checklists&&e.checklists.length&&this.store.dispatch(new z_.vb(e.checklists));const t=this.projectMembers.map(e=>e.user).filter(t=>(e.assignees||[]).includes(parseInt(t.id,10)));this.setAssignees(t);const i=this.userGroups.filter(t=>(e.group_assignees||[]).some(e=>t.id===e));this.setUserGroupAssignees(i);const a=this.projectMembers.map(e=>e.user).filter(t=>(e.followers||[]).includes(parseInt(t.id,10)));this.setFollowers(a),e.tags&&e.tags.length&&(this.tags=e.tags||[]),this.taskRecurOptionsLegacy=e.recur,this.taskRecurOptions=e.recurring_settings,this.timeEstimate=e.time_estimate_string,this.timeEstimateMilli=parseInt(e.time_estimate,10),this.points=parseInt(e.points,10),this.estimateAssigneeMap=e.assignee_time_estimate_map,this.pointsAssigneeMap=e.assignee_points_map,e.relative_position&&e.relative_position.length&&(this.relativePosition=e.relative_position),this.changeDetector.detectChanges(),setTimeout(()=>{this.taskPosition=this.taskPositions.length>e.position+1?e.position+1:Object(d_.a)(this.taskPositions),this.loadingDraft$.next(!1)},400),this.lastFieldChanged$.next("")}awaiting(e){"done"===e.fromState&&(this.fileMover="fileStop"),"saving"===e.fromState&&(this.fileMover="fileStart",this.finalFile=!1),this.hasError&&this.fileMovementFinished&&setTimeout(()=>{this.isSaving=!1,this.saveTimer="done",this.isLoaded=!1},500)}animationCreationCompleted(){if(!this.createdTask||this.cleanup)return;const e=Object(nr.a)(this.draftValue);switch(this.cleanup=!0,this.taskService.taskCreated(this.createdTask,this.convertingNote,!0,null,!1),this.onTaskCreated.emit(this.createdTask),this.store.next({type:y_.a,payload:this.createdTask}),this.selectedCreateFlow){case"quick":this.store.dispatch(new xa.c);break;case"create":this.store.dispatch(new xa.g),this.focusTaskNameInput(100);break;case"duplicate":const e=this.createDraftObject();this.store.dispatch(new xa.g({duplicate:e})),this.focusTaskNameInput(100);break;case"open":this.store.dispatch(new xa.c),this.sharedTaskService.openTaskExt({id:this.createdTask.id,customId:this.createdTask.custom_id,teamId:this.createdTask.team})}setTimeout(()=>{e.draft_uuid&&this.store.dispatch(new xa.j({task:e}))},100),setTimeout(()=>{"quick"!==this.selectedCreateFlow&&(this.selectedCreateFlow="quick",this.saveTimer="done",this.isSaving=!1,this.createdTask=null,this.convertingNote=!1,this.isLoaded=!1),this.cleanup=!1},500)}fileMoveFinished(e){this.fileMovementFinished=!0,this.createdTask&&"fileStart"===e.fromState&&(this.finalFile=!0,this.animationCreationCompleted())}ngOnChanges(e){(e.tagsMap||e.tagsLoadingMap)&&this.selectedProject&&this.tagsMap[this.selectedProject.id]&&(this.tagsLoading=this.tagsLoadingMap[this.selectedProject.id],this.tagsList=[...this.tagsMap[this.selectedProject.id]])}ngOnDestroy(){this.initSlashCommandHandler&&(this.initSlashCommandHandler(),this.initSlashCommandHandler=null),this.closed$.next(!0),this.closed$.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}getStatuses(){this.store.select(Object(me.getCommonSubcategoryStatuses)(this.selectedProject&&this.selectedProject.id,this.selectedCategory&&this.selectedCategory.id,this.selectedSubCat&&this.selectedSubCat.id)).pipe(Object(Yt.a)()).subscribe(e=>{this.updateStatusList(e)})}updateStatusList(e,t){let i=[];this.taskSubcategory&&this.taskSubcategory.override_statuses&&this.taskSubcategory.statuses?i=[...this.taskSubcategory.statuses]:this.taskCategory&&this.taskCategory.override_statuses&&(this.taskCategory.statuses?i=[...this.taskCategory.statuses]:this.taskSubcategory&&this.taskSubcategory.statuses&&(i=[...this.taskSubcategory.statuses])),i.length||(i=[...e||(this.selectedProject?this.selectedProject.statuses:null)||[]]),this.statusList=i,this.adjustStatus(t)}adjustUsers(e){return e.filter(e=>this.projectMembers.map(e=>e.user.id).includes(e.id))}adjustStatus(e){if(!this.statusList||0===this.statusList.length)return;const t=e||this.draftValue.status,i=t&&t.status?this.statusList.find(e=>t.id&&e.id?t.id===e.id:e.status&&e.status.toLowerCase()===t.status.toLowerCase()):null;this.setStatus(i||this.statusList[0])}adjustTags(){this.tagsList&&this.tags&&this.tags.length>0&&(this.tags=this.tagsList.filter(e=>this.tags.some(t=>t.name.toLowerCase()===e.name.toLowerCase())),this.draftValue.tags=this.tags,this.changeDetector.markForCheck())}checkPaging(e){e.type===k_.a.Tags&&this.pageTags({last:e.newSearch?null:"true",search:e.search})}pageTags(e){if(this.selectedProject){const t=this.selectedProject.id;this.store.dispatch(e&&e.clear?Object(wi.g)({projectId:t,tags:[],last:!1,permissions:null}):Object(wi.e)({projectId:t,paging:e}))}}selectProject(e){this.tagsMap[e.id]?(this.tagsList=[...this.tagsMap[e.id]],this.adjustTags()):e.id!==ne.h&&this.store.dispatch(Object(wi.e)({projectId:e.id,paging:null})),this.store.select(Object(me.getProjectById)(e.id)).pipe(Object(Yt.a)()).pipe(Object(Re.a)(this.destroy$)).subscribe(t=>{this.selectedProject=t||e,this.selectedProject.features&&this.selectedProject.features.priorities&&this.selectedProject.features.priorities.enabled&&(this.priorityList=this.selectedProject.features.priorities.priorities),!this.selectedProject.multiple_assignees&&this.taskAssignees.length>1&&this.setAssignees([this.taskAssignees[0]]),this.updateUploadOptions(),this.taskCategory&&this.taskCategory.override_statuses||this.getStatuses()})}selectCreateFlow(e,t){this.squashEvent(t),this.selectedCreateFlow=e,this.currentUserData.preferences||(this.currentUserData.preferences={}),this.currentUserData.preferences.createTaskMethod=e,this.sharedData.setUserData(this.currentUserData),this.createTask()}openCreateFlowDropdown(){this.createFlowDropdown.open()}closeCreateFlowDropdown(){this.createFlowDropdown.close()}loadCategory(e,t){!1!==e.access&&this.dataService.getCategoryById(e.id).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.setCategories(e,e.subcategories.find(e=>e.id===t.id)||t)})}setCategories(e,t,i=!1){this.categoryError=null,this.subcategoryError=null,this.taskCategory=e,this.draftValue.category={id:e.id,name:e.name,project_id:this.selectedProject.id},t&&t.permissions&&t.permissions.can_create_tasks?(this.draftValue.subcategory={id:t.id,name:t.name,category:e.id.toString()},this.taskSubcategory=t,this.isTaskSubcategoryValid=!0):(this.draftValue.subcategory=null,this.taskSubcategory=null,this.isTaskSubcategoryValid=!1),this.updateStatusList(),i&&this.saveDraft()}setOrderIndexCounts(e=!1){if(this.selectedProject&&this.selectedProject.statuses&&this.taskSubcategory&&this.taskSubcategory.id&&this.connected){const e={};Object.assign(e,{subcategory:this.taskSubcategory.id?this.taskSubcategory.id:null,noSubtasks:!0}),this.dataService.getProjectTaskCount(this.selectedProject.id,e).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{const t=this.taskStatus?this.taskStatus.status:null,i=e.statuses.find(e=>e.status.status===t);if(this.taskPositions=[],i)for(let a=0;a<=i.task_count;a++)this.taskPositions.push(a+1);this.taskPositions.length||this.taskPositions.push(1),this.taskPosition=this.taskPositions[this.taskPositions.length-1]})}else this.connected&&(this.taskPositions=[1],this.taskPosition=1);e&&(this.lastFieldChanged$.next("orderIndex"),this.saveDraft())}setStatus(e,t=!1,i){this.draftValue.status=e,this.taskStatus=e,this.setOrderIndexCounts(t),t&&(this.lastFieldChanged$.next("status"),this.saveDraft()),i&&this.statusDropdown&&this.statusDropdown.isOpen&&this.statusDropdown.close()}setAssignees(e,t=!1){this.taskAssignees=e||[],this.adjustDisplayedFollowers(),t&&(this.lastFieldChanged$.next("assignees"),this.saveDraft())}removeAssignee(e,t=!1){this.taskAssignees=this.taskAssignees.filter(t=>t.id!==e.id),this.adjustDisplayedFollowers(),t&&(this.lastFieldChanged$.next("assignees"),this.saveDraft())}setUserGroupAssignees(e,t=!1){this.taskUserGroupAssignees=e||[],this.adjustDisplayedFollowers(),t&&(this.lastFieldChanged$.next("assignees"),this.saveDraft())}removeUserGroupAssignee(e,t=!1){this.taskUserGroupAssignees=this.taskUserGroupAssignees.filter(t=>t.id!==e.id),this.adjustDisplayedFollowers(),t&&(this.lastFieldChanged$.next("assignees"),this.saveDraft())}setFollowers(e,t=!1){this.taskFollowers=e,this.adjustDisplayedFollowers(),t&&(this.lastFieldChanged$.next("followers"),this.saveDraft())}setGroupFollowers(e,t=!1){this.taskGroupFollowers=e,this.adjustDisplayedFollowers(),t&&(this.lastFieldChanged$.next("group_followers"),this.saveDraft())}adjustDisplayedFollowers(){const e=Object(D_.a)(this.taskAssignees.concat(this.taskFollowers),"id");this.displayedTaskFollowers$.next(e),this.selfWatching=e.some(e=>parseInt(e.id,10)===this.currentUserId),this.displayedTaskGroupFollowers$.next(Object(D_.a)([...this.taskUserGroupAssignees,...this.taskGroupFollowers],"id"))}setDueDate(e,t=!1){this.dueDate=Object(E_.j)(e.dueDate),this.startDate=Object(E_.j)(e.startDate),this.dueDateTime=e.dueDateTime,this.startDateTime=e.startDateTime,t&&(this.lastFieldChanged$.next("date"),this.saveDraft())}setPriority(e,t=!1){this.priority=e,t&&(this.lastFieldChanged$.next("priority"),this.saveDraft())}setTag(e,t=!1){e.new?(this.draftValue.tags||(this.draftValue.tags=[]),this.draftValue.tags.some(t=>t.name===e.name)||(this.draftValue.tags.push(e),this.tags=this.tags.concat([e]),t&&(this.lastFieldChanged$.next("tag"),this.saveDraft()),this.store.dispatch(Object(wi.p)({projectId:this.selectedProject.id,tag:e})))):this.tags.some(t=>t.name===e.name)||(this.tags=this.tags.concat([e]),this.draftValue.tags.push(e),t&&(this.lastFieldChanged$.next("tag"),this.saveDraft())),this.changeDetector.detectChanges()}removeTag(e,t=!1){this.tags=this.tags.filter(t=>t.name.toLowerCase()!==e.name.toLowerCase()),this.draftValue.tags=(this.draftValue.tags||[]).filter(t=>t.name.toLowerCase()!==e.name.toLowerCase()),t&&(this.lastFieldChanged$.next("tag"),this.saveDraft())}renameTag(e,t=!1){this.tags=(this.tags||[]).map(t=>t.name===e.tag.name?Object.assign(Object.assign({},t),{name:e.newName}):t),this.draftValue.tags=(this.draftValue.tags||[]).map(t=>t.name===e.tag.name?Object.assign(Object.assign({},t),{name:e.newName}):t),this.store.dispatch(Object(wi.o)({projectId:this.selectedProject.id,newName:e.newName,tag:e.tag})),t&&(this.lastFieldChanged$.next("tag"),this.saveDraft())}colorChange(e,t=!1){this.tags=(this.tags||[]).map(t=>t.name===e.tag.name?Object.assign(Object.assign({},t),{tag_bg:e.newColor,tag_fg:e.newColor}):t),this.draftValue.tags=(this.draftValue.tags||[]).map(t=>t.name===e.tag.name?Object.assign(Object.assign({},t),{tag_bg:e.newColor,tag_fg:e.newColor}):t),this.store.dispatch(Object(wi.c)({projectId:this.selectedProject.id,newColor:e.newColor,tag:e.tag})),t&&(this.lastFieldChanged$.next("tag"),this.saveDraft())}deleteTag(e,t=!1){this.store.dispatch(Object(wi.d)({projectId:this.selectedProject.id,tagName:e.name})),this.tags=this.tags.slice().filter(t=>t.name.toLowerCase()!==e.name.toLowerCase()),this.draftValue.tags=this.draftValue.tags.slice().filter(t=>t.name.toLowerCase()!==e.name.toLowerCase()),t&&(this.lastFieldChanged$.next("tag"),this.saveDraft())}setTags(e,t=!1){this.tags=e,this.draftValue.tags=this.tags,t&&(this.lastFieldChanged$.next("tag"),this.saveDraft()),this.changeDetector.markForCheck()}resetBaseDraft(){this.resettingBaseDraft=!0,this.draftValue={name:"",team:"",content:"",followers:[],assignees:[],tags:[]},this.draftUUID=Object(x_.a)(),this.displayedTaskFollowers$.next([]),this.displayedTaskGroupFollowers$.next([]),this.taskCategory=null,this.taskSubcategory=null,this.taskStatus=null,this.isSaving=!1,this.taskName="",this.taskAssignees=[],this.taskUserGroupAssignees=[],this.taskFollowers=[],this.taskGroupFollowers=[],this.dueDate=null,this.startDate=null,this.dueDateTime=!1,this.startDateTime=!1,this.priority=null,this.checklists=[],this.store.dispatch(new z_.Bb),this.uploader&&this.uploader.deleteAllFiles(),this.editor&&this.editor.editor&&this.editor.editor.setContents("\n"),this.tags=[],this.createTaskText=$localize`:@@common_create-task-1:Create Task`,this.createFlowDropdown&&this.createFlowDropdown.close(),this.subtaskList=[],this.timeEstimate=null,this.timeEstimateMilli=null,this.points=null,this.estimateAssigneeMap=null,this.pointsAssigneeMap=null,this.lastFieldChanged$.next("")}fixChecklistsForRequest(){return I_(this.checklists,nr.a).map(e=>(0!==e.items.length&&(delete e.id,delete e.task_id,e.items.forEach(e=>{null!==e.assignee&&(e.assignee=e.assignee.id),delete e.id,0!==e.children.length&&(e.children=this.fixChecklistsInnerItems(e.children))})),e))}fixChecklistsInnerItems(e){return e.map(e=>(null!==e.assignee&&(e.assignee=e.assignee.id),delete e.id,e.children=this.fixChecklistsInnerItems(e.children),e))}templateSubmitted(){this.isTaskSubcategoryValid=!!this.taskSubcategory}createdFromTemplate(){this.store.dispatch(new xa.u({}))}createTask(e,t){if(this.showMissingRequired=!1,Object.keys(this.missingRequiredMap$.value).length)return this.showMissingRequired=!0,void this.changeDetector.markForCheck();if(this.checkContentUploading(),!this.isContentUploading){if(this.blurTaskNameInput(),this.isTaskNameValid=this.taskName.trim().length>0,!this.isTaskNameValid)return this.focusTaskNameInput();this.isTaskSubcategoryValid=!!this.taskSubcategory,this.isTaskSubcategoryValid&&this.isTaskNameValid?this.categoryError||this.subcategoryError||(this.isLoaded=!0,this.isSaving=!0,this.saveTimer="saving",e&&e.metaKey&&("click"===e.type||"Enter"===e.key)&&(this.selectedCreateFlow=this.currentUserData.preferences.createTaskMethod?this.currentUserData.preferences.createTaskMethod:"quick"),this.connected?this.handleOnlineCreation(t):this.handleOfflineCreation(!this.connected,!1,t)):this.draftLocationSelector&&this.draftLocationSelector.open()}}handleOfflineCreation(e=!this.connected,t=!1,i){if(this.saveDraft(e,t,i),this.convertingNote)this.store.dispatch(new xa.u({}));else switch(this.selectedCreateFlow){case"quick":this.store.dispatch(new xa.u({}));break;case"create":this.resetBaseDraft(),this.focusTaskNameInput(100);break;case"duplicate":const e=this.createDraftObject();this.store.dispatch(new xa.g({duplicate:e})),this.focusTaskNameInput(100);break;case"open":this.store.dispatch(new xa.u({}))}this.selectedCreateFlow="quick",this.saveTimer="done",this.isSaving=!1,this.isLoaded=!1,this.createTaskText=$localize`:@@common_create-task-1:Create Task`,this.createdTask=null,this.convertingNote=!1}handleOnlineCreation(e){const t=this.createTaskObject();this.dataService.createTask(this.taskSubcategory.id,t,null,e).pipe(Object(g_.a)(2e4)).subscribe(e=>{this.createdTask=e.task,this.createdTask.assignees=this.taskAssignees,this.createdTask.projectId=this.selectedProject.id,this.createdTask.hasNewCategory=this.hasNewCategory,t.unresolved&&(this.createdTask.checklist_counts={resolved:t.unresolved,unresolved:t.unresolved}),this.fileMovementFinished&&(this.finalFile=!0,setTimeout(()=>{this.animationCreationCompleted()},100)),this.store.dispatch(new ge.jg({id:this.taskSubcategory.id}))},e=>{"TimeoutError"===e.name?this.handleOfflineCreation(!0,!0):(this.hasError=!0,this.taskCreationError=e.err,this.fileMovementFinished&&(this.finalFile=!0,setTimeout(()=>{this.selectedCreateFlow="quick",this.saveTimer="done",this.isSaving=!1,this.createdTask=null},500)))}),this.store.dispatch(new z_.Bb)}addSubtask(){this.lastFieldChanged$.next("subtask"),(this.subtaskList||[]).some(e=>e.editing)||(this.subtaskList.push({name:"",editing:!0,new:!0}),this.changeDetector.markForCheck()),this.focusSubtask(-1)}editSubtask(e,t,i){e.editing=!0,this.focusSubtask(t),i&&this.lastFieldChanged$.next("subtask")}removeSubtask(e,t=!1){this.subtaskList.splice(e,1),t&&(this.lastFieldChanged$.next("subtask"),this.saveDraft())}saveSubtask(e,t,i=!1){e.name.trim().length?(e.editing=!1,i&&(this.lastFieldChanged$.next("subtask"),this.saveDraft()),e.new&&(e.new=!1,this.addSubtask())):this.removeSubtask(t)}cancelSubtask(e,t,i=!1){e.new?this.removeSubtask(t,i):e.editing=!1}focusSubtask(e){setTimeout(()=>{-1===e&&(e=(this.subtaskList||[]).length-1);const t=document.getElementById("subtaskInput-"+e);t&&t.focus()},0)}manageSubtaskKeys(e,t,i){switch(e.which){case 13:e.target.blur();break;case 27:this.cancelSubtask(t,i)}}checkCreateText(e){if(this.isSaving)this.createTaskText=$localize`:@@common_create-task-1:Create Task`;else if("keydown"===e.type){if(e.metaKey&&"Meta"===e.key&&this.currentUserData.preferences.createTaskMethod)switch(this.currentUserData.preferences.createTaskMethod){case"duplicate":this.createTaskText=$localize`:@@cu-draft-view__btn-txt_create-dupe-task:Create Duplicate Task`;break;case"create":this.createTaskText=$localize`:@@cu-draft-view__btn-txt_create-and-start-another:Create and Start Another`;break;case"open":this.createTaskText=$localize`:@@cu-draft-view__btn-txt_create-and-open-task:Create and Open Task`;break;case"quick":default:this.createTaskText=$localize`:@@common_create-task-1:Create Task`}}else"keyup"===e.type&&"Meta"===e.key&&(this.createTaskText=$localize`:@@common_create-task-1:Create Task`)}manageCreateKeys(e){switch(this.modeValue){case"create":if(e.which===v_.a.SHIFT)return this.squashEvent(e);if(this.editor&&this.editor.hasFocus()&&e.altKey&&e.which===v_.a.TAB)return this.enterWillCreate=!0,this.changeDetector.detectChanges(),this.editor.editor&&this.editor.editor.blur(),void this.squashEvent(e);if(this.enterWillCreate&&e.which===v_.a.ENTER)return this.createTask(),void this.squashEvent(e);const t=this.lastFieldChanged$.value&&this.lastFieldChanged$.value.length?this.lastFieldChanged$.value:null;if(e.shiftKey&&e.which===v_.a.TAB){if(this.enterWillCreate)return this.enterWillCreate=!1,this.changeDetector.detectChanges(),this.enterEditor(e);if(this.locationSelectionOpen)return this.draftLocationSelector&&this.draftLocationSelector.close(),this.focusTaskNameInput(),this.squashEvent(e);if(this.assigneeOpen)return this.assigneesSelector&&this.assigneesSelector.close(),setTimeout(()=>{this.editor.editor&&this.editor.editor.blur(),this.draftLocationSelector&&this.draftLocationSelector.open()},100),this.squashEvent(e)}if(this.enterWillCreate=!1,this.changeDetector.detectChanges(),t&&("location"===t||"assignees"===t)&&e.which===v_.a.TAB&&("location"===t&&this.openAssignees(e),"assignees"===t))return this.enterEditor(e);if(this.isSaving)return this.preventBadKeys(e);setTimeout(()=>{13===e.which&&(e.metaKey||e.ctrlKey)&&this.createTask(e)},0);break;case"from_template":setTimeout(()=>{this.loadTemplateComponent&&13===e.which&&(e.metaKey||e.ctrlKey)&&this.loadTemplateComponent.create()},0)}}preventBadKeys(e){("Shift"===e.key||"Tab"===e.key&&e.shiftKey||this.isSaving)&&this.squashEvent(e)}goBackToAssignees(){this.editor.editor&&this.editor.editor.blur(),this.openAssignees()}openAssignees(e){this.assigneesSelector&&(this.lastFieldChanged$.next(""),this.assigneesSelector.open(),this.assigneesSelector.setFocus(),e&&this.squashEvent(e))}enterEditor(e){this.lastFieldChanged$.next(""),this.editor.editor&&this.editor.editor.focus(),this.squashEvent(e)}squashEvent(e){e&&(e.stopPropagation(),e.preventDefault())}nameInputKeydown(e){if(e.which===v_.a.ENTER)return e[this.helpers.SHORTKEY]&&this.createTask(e),void this.squashEvent(e);if(!this.isSaving)switch(e.which){case v_.a.TAB:this.draftLocationSelector&&this.draftLocationSelector.open(),this.squashEvent(e);break;case v_.a.ESCAPE:this.store.dispatch(new xa.c),this.squashEvent(e)}}navSelectorKeydown(e){if(!this.isSaving)switch(e.which){case v_.a.TAB:if(document.activeElement.closest(".checklist"))break;this.squashEvent(e)}}assigneesSelectorClosed(e){if(e&&(!e||"click"!==e.type)&&(this.editor.editor&&this.editor.editor.enable(),this.editor.isEditorEnabled=!0,this.editor.isShowAll=!0,this.editor.editor)){const e=this.editor.editor.getLength();this.editor.editor.setSelection(e,0,ui.i.USER)}}closeAssignee(){setTimeout(()=>{this.assigneeOpen=!1},100)}addFileFromEditor(e){this.editorAttachments.push(e),setTimeout(()=>{this.checkContentUploading()})}errorFileFromEditor(){setTimeout(()=>{this.checkContentUploading()})}setPosition(e,t=!1){this.taskPosition=e,this.taskPositionIsActive=[],this.taskPositionIsActive[e]=!0,t&&(this.lastFieldChanged$.next("position"),this.saveDraft())}timeEstimateAction(e){if(e.action===m_.b.UpdateTotal)this.setTimeEstimate(e.estimate,!0);else if(e.action===m_.b.UpdateDraftAssigneeData){const{total:t,assigneeMap:i,estimateString:a}=e.draftUpdate;this.timeEstimateMilli=t,this.estimateAssigneeMap=i,this.timeEstimate=a,this.lastFieldChanged$.next("timeEstimate"),this.createDraftObject().tab_id&&this.saveDraft()}}pointsEstimatesAction(e){if(!this.loadFromTemplate)if(e.action===p_.a.UpdateTaskPointsEstimates)this.setPointsEstimate(e.points);else if(e.action===p_.a.UpdateDraftAssigneeData){const{points:t,assigneeMap:i}=e.draftUpdate;this.points=t,this.pointsAssigneeMap=i,this.lastFieldChanged$.next("pointsEstimate"),this.createDraftObject().tab_id&&this.saveDraft()}}setPointsEstimate(e,t=!1,i=!1){this.points=e,t&&(this.lastFieldChanged$.next("pointsEstimate"),this.saveDraft()),setTimeout(()=>{i&&this.createPointsEstimate&&this.createPointsEstimate.forceUpdate()},200)}setSprintPoints(e){const t=e&&e.id?parseInt(e.id,10):0;if(e.user){const i=this.pointsAssigneeMap||{},a=(this.taskAssignees||[]).map(a=>{const o=a;return Object.assign(Object.assign({},o),e.user.id===a.id?{points:t}:{points:i[o.id]})});this.createPointsEstimate.users$.next(a)}else this.points=t;this.changeDetector.markForCheck()}setTimeEstimate(e,t=!1,i=!1){this.timeEstimate=(e=e||{output:"",seconds:0,milliseconds:0}).output||"",this.timeEstimateMilli=1e3*e.seconds,t&&(this.lastFieldChanged$.next("timeEstimate"),this.saveDraft()),setTimeout(()=>{i&&this.createTimeEstimate&&this.createTimeEstimate.forceUpdate()},200)}addAttachment(e,t){e.name||(e.name=e.title),e.type=e.extension,e.source=t,e.loadStatus={load:!0},e.uploadResult={id:e.id,title:e.title},e.canUpload=!0,this.uploader.getFileList().push(e),e.fromTemplate||(this.lastFieldChanged$.next("attachment"),this.saveDraft()),this.updateAttachmentCount("add")}browseFile(){this.uploader.browseFile()}getDefaultAssignees(){return(this.isMeTabSelected()||this.isPersonalTeam())&&this.sharedData.currentUser.value?[this.sharedData.currentUser.value]:[]}getDefaultFollowers(){return[this.sharedData.currentUser.value]}isMeTabSelected(){return"me"===this.sharedData.defaultViewTab}isPersonalTeam(){return!!this.sharedData.compatCurrentTeam.personal_team}switchMode(e,t=!1){this.onModeChange.emit({mode:e,fromTemplateLoad:t})}selectCategory(e,t=!1){var i;(null===(i=null==e?void 0:e.project)||void 0===i?void 0:i.id)===ne.h&&(null==e?void 0:e.subcategory.project_id)&&this.store.select(Object(me.getProjectById)(e.subcategory.project_id)).pipe(Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(e=>{var t,i;this.cfEnabledForSelectedGuestSpace=null===(i=null===(t=null==e?void 0:e.features)||void 0===t?void 0:t.custom_fields)||void 0===i?void 0:i.enabled}),this.lastFieldChanged$.next("location"),this.selectedProject&&this.selectedProject.id===e.project.id||(this.draftValue.project=Object.assign({},e.project),this.selectProject(e.project)),"extra"===e.source?this.loadCategory(e.category,e.subcategory):this.setCategories(Object.assign({},e.category),Object.assign({},e.subcategory),t)}categoryDropdownToggle(e){this.categoryDropdownOpen=e,this.changeDetector.markForCheck()}applyTemplate(e,t,i,a){this.selectedTemplate&&this.selectedTemplate.id===e.id||(this.selectedTemplate=e,this.loadedTemplateId=e.original_id,!t&&this.hasAnyContent()?setTimeout(()=>{this.modalService.open({title:$localize`:@@common_load-template:Load Template`,modifier:"cu-ct__template-confirm-modal",bodyModifier:"cu-modal__body_no-min-height",content:this.templateConfirmModal,keepCurrent:!0})},250):this.selectTemplate(!0,!1,i,a))}selectTemplate(e,t=!0,i=!1,a){this.dataService.getTask(this.selectedTemplate.id,!0,!0,!1,{saveTemplateUsed:!0,template:this.selectedTemplate.version===Hi.e.TWO}).pipe(Object(Re.a)(this.destroy$)).subscribe(t=>{const o=this.selectedTemplate;this.loadTemplate(t,e,this.selectedTemplate),this.selectedTemplate=null,this.store.dispatch(new Oa.k({})),(i&&this.createInstantly||a)&&setTimeout(()=>{this.createTask(null,o.original_id)},250)}),this.modalService.close()}sameUserLists(e,t){return e.length===t.length&&e.every((e,i)=>e&&t[i]&&e.id===t[i].id)}isQuillEmpty(){const e=!this.editor||!this.editor.editor||"\n"===this.editor.editor.getContents().ops[0].insert&&this.editor.editor.getLength()<2;return!this.convertingNote&&e}hasAnyContent(){return this.taskName||!this.isQuillEmpty()||!this.sameUserLists(this.taskAssignees||[],this.getDefaultAssignees())||!this.sameUserLists(this.taskFollowers||[],this.getDefaultFollowers())||(this.taskGroupFollowers||[]).length>0||(this.taskUserGroupAssignees||[]).length>0||this.tags&&this.tags.length||this.priority||this.dueDate||this.startDate||this.timeEstimate||this.taskRecurOptionsLegacy||this.taskRecurOptions||this.subtaskList&&this.subtaskList.length||this.checklists&&0!==this.checklists.length||this.attachments&&this.attachments.length||this.taskStatus&&!this.taskStatus.status&&"open"!==this.taskStatus.status.toLowerCase()}loadTemplate(e,t=!1,i){const a=i.options;if(this.taskName&&!t||(this.taskName=e.name,this.focusTaskNameInput(500)),this.editor.editor&&this.editor.editor.setContents(this.draftValue.content),this.isQuillEmpty()||t)this.taskContent=e.content;else{let t=JSON.parse(e.content)||{};t.ops||(t.ops=[]),this.convertingNote&&"string"==typeof this.draftValue.content&&(this.draftValue.content=JSON.parse(this.draftValue.content)),t.ops.push({insert:"\r"}),t.ops=t.ops.concat(this.draftValue.content.ops),t=JSON.stringify(t),this.taskContent=t}e.checklists&&e.checklists.length&&a.old_checklists&&(this.checklists=e.checklists,this.store.dispatch(new z_.vb(e.checklists))),e.customFields&&e.customFields.length&&a.custom_fields&&(this.customFields=Object(D_.a)([...e.customFields.map(e=>{const t=this.hostListFields.find(t=>t.id===e.id);return t?Object.assign(Object.assign({},t),e):e}),...this.hostListFields],"id")),t&&(this.dependencies={blocked:[],blockers:[],links:[]}),e.dependencies&&(a.internal_dependencies||a.external_dependencies)&&e.dependencies.filter(e=>!!e.task).forEach(t=>{t.depends_on===e.id?this.dependencies.blocked=[...this.dependencies.blocked,t.task]:this.dependencies.blockers=[...this.dependencies.blockers,t.task]}),e.linkedTasks&&(this.dependencies.links=e.linkedTasks.map(e=>e.task).filter(Boolean)),a.old_assignees&&(this.sameUserLists(this.taskAssignees||[],this.getDefaultAssignees())||t)&&(this.draftValue.assignees=e.assignees.map(e=>e.id),this.taskAssignees=e.assignees),a.old_assignees&&(this.draftValue.group_assignees=(e.group_assignees||[]).map(e=>e.id),this.taskUserGroupAssignees=e.group_assignees||[],(this.sameUserLists(this.taskFollowers||[],this.getDefaultFollowers())||t)&&this.setFollowers(e.followers)),a.old_followers&&this.setGroupFollowers(e.group_followers||[]),this.tags&&this.tags.length&&!t||!a.old_tags||(this.tags=e.tags,this.draftValue.tags=e.tags),this.priority&&!t||!a.priority||(this.draftValue.priority=e.priority,this.priority=e.priority),(!this.dueDate&&!this.startDate||t)&&this.setDueDate({dueDate:a.old_due_date&&e.due_date?new Date(parseInt(e.due_date,10)):null,dueDateTime:a.old_due_date?e.due_date_time:null,startDate:a.old_start_date&&e.start_date?new Date(parseInt(e.start_date,10)):null,startDateTime:a.old_start_date?e.start_date_time:null}),this.timeEstimate&&!t||!a.time_estimate||(this.timeEstimate=e.time_estimate_string,this.timeEstimateMilli=e.time_estimate,this.estimateAssigneeMap=null,this.draftValue.time_estimate_string=e.time_estimate_string,this.draftValue.time_estimate=e.time_estimate),this.points&&!t||(this.points=e.points,this.pointsAssigneeMap=null,this.draftValue.points=e.points),this.taskRecurOptionsLegacy&&!t||!a.recur_settings||(this.taskRecurOptionsLegacy=e.recur,this.draftValue.recur=e.recur),this.taskRecurOptions&&!t||!a.recur_settings||(this.taskRecurOptions=e.recurring_settings,this.draftValue.recurring_settings=e.recurring_settings),a.subtasks&&(this.subtaskList=t?e.subtasks.map(e=>({name:e.name,content:e.content,copy_id:e.id,status:e.status?e.status.status:null,start_date:e.start_date,start_date_time:e.start_date_time,due_date:e.due_date,due_date_time:e.due_date_time})):e.subtasks.map(e=>({name:e.name,content:e.content,copy_id:e.id,status:e.status?e.status.status:null,start_date:e.start_date,start_date_time:e.start_date_time,due_date:e.due_date,due_date_time:e.due_date_time})).concat(this.subtaskList||[])),a.attachments&&(t?(this.uploader.deleteAllFiles(),this.attachments=[],e.attachments.forEach(e=>this.addAttachment(Object.assign(Object.assign({},e),{fromTemplate:!0}),e.source))):e.attachments.forEach(e=>this.addAttachment(Object.assign(Object.assign({},e),{fromTemplate:!0}),e.source))),this.taskSubcategory&&(!t||this.createInstantly)||e.project.archived||e.category.archived||e.subcategory.archived||(!this.selectedProject||e.project.id&&this.selectedProject.id!==e.project.id?this.selectProject(Object.assign(Object.assign({},e.project),{multiple_assignees:e.features&&e.features.multiple_assignees})):(a.old_assignees&&this.setAssignees(this.adjustUsers(this.taskAssignees)),a.old_followers&&this.setFollowers(this.adjustUsers(this.taskFollowers)),!this.selectedProject.multiple_assignees&&this.taskAssignees.length>1&&a.old_assignees&&this.setAssignees([this.taskAssignees[0]])),this.loadCategory(e.category,e.subcategory)),this.taskStatus&&this.taskStatus.status&&"open"!==this.taskStatus.status.toLowerCase()&&!t||!a.old_status||this.adjustStatus(e.status),"create"!==this.modeValue&&this.switchMode("create",!0),this.saveDraft(),this.changeDetector.markForCheck()}setRecurringLegacy(e,t=!1){if(this.taskRecurOptionsLegacy=e,this.draftValue.recur=e,e){const t=Object($_.a)(Object.assign(Object.assign({},e),{set_due_date:!!e.set_due_date}),null,0);t.setDueDate&&t.start&&this.setDueDate({dueDate:t.start,dueDateTime:!!t.time})}t&&(this.lastFieldChanged$.next("recurringLegacy"),this.saveDraft())}setRecurring(e,t=!1){const i=Object(M_.i)(e);this.taskRecurOptions=i,this.taskRecurOptionsLegacy=null,this.draftValue.recur=null,this.draftValue.recurring_settings=i,t&&(this.lastFieldChanged$.next("recurring"),this.saveDraft())}applySlashCommand({command:e,value:t}){if(!e)return;let i;switch(e.key){case u_.c.key:{const e=t.filter(e=>e.group).map(e=>e.group);this.setUserGroupAssignees(e,!0);const i=t.filter(e=>!e.group);this.setAssignees(i,!0)}break;case u_.Gb.key:{const e=t.filter(e=>e.group).map(e=>e.group);this.setUserGroupAssignees(e,!0);const i=t.filter(e=>!e.group);this.setFollowers(i,!0)}break;case u_.kb.key:this.setStatus(t,!0);break;case u_.cb.key:this.setPriority(t,!0);break;case u_.nb.key:this.setTags(t||[]);break;case u_.o.key:this.setDueDate({dueDate:t?new Date(t.date):null,dueDateTime:t?t.showTime:null,startDate:this.startDate,startDateTime:this.startDateTime});break;case u_.q.key:const a=t[1];this.setDueDate({dueDate:(t=t[0])?new Date(t.date):null,dueDateTime:t?t.showTime:null,startDate:this.startDate,startDateTime:this.startDateTime}),this.setAssignees(a,!0);break;case u_.jb.key:this.setDueDate({dueDate:this.dueDate,dueDateTime:this.dueDateTime,startDate:t?new Date(t.date):null,startDateTime:t?t.showTime:null});break;case u_.pb.key:this.setTimeEstimate(t,!1,!0);break;case u_.ib.key:this.setSprintPoints(t);break;case u_.Z.key:t&&this.selectCategory(t);break;case u_.mb.key:t&&this.subtaskList.push({name:t});break;case u_.ob.key:i=[{task_mention:this.taskMentionService.getTaskMentionObject(t)}," "];break;case u_.bb.key:this.setPosition(t);break;case u_.f.key:if(t&&"upload"===t.id)return this.hideSlashCommand(),this.editor.focus(),void this.addFileToTask(t.data);i=Object(w_.e)(e,t,!0);break;default:i||(i=Object(w_.e)(e,t,!!this.embedSlashCommandInfo))}const a=this.embedSlashCommandInfo&&this.embedSlashCommandInfo.editor;this.hideSlashCommand(i),a&&e.formatCommand&&Object(w_.a)(a,e.key,t)}hideSlashCommand(e="",t=!0){this.embedSlashCommandInfo&&(this.slashCommandContainer&&this.embedSlashCommandInfo.view&&this.domService.removeView(this.embedSlashCommandInfo.view,this.slashCommandContainer),Object(w_.f)(this.embedSlashCommandInfo,e,t),this.embedSlashCommandInfo=null)}keyEvent(e){if(null!==this.draftValue)switch(e.key){case"Escape":this.editor.hasFocus()||this.store.dispatch(new xa.c)}}updateUploadOptions(){this.selectedProject&&this.selectedProject.id&&(this.UPLOAD_OPTIONS=Object.assign(Object.assign({},this.UPLOAD_OPTIONS),{url:Li.a.apiUrl+"/attachment",parent:this.currentTeamId}))}focusTaskNameInput(e=0){setTimeout(()=>{this.taskNameInput.nativeElement.focus()},e)}blurTaskNameInput(e=0){setTimeout(()=>{this.taskNameInput.nativeElement.blur()},e)}selectRecentTemplate(e){this.applyTemplate(e,!1)}loadTemplates(){this.store.dispatch(new Oa.q({teamId:this.sharedData.compatCurrentTeam.id}))}createChecklist(){this.showChecklistBlock=!0,this.store.dispatch(new z_.tb(!0))}createChecklistClosed(){this.store.select(A_.h).pipe(Object(Ne.a)(1)).subscribe(e=>{e&&setTimeout(()=>{this.showChecklistBlock=0!==e.length,this.changeDetector.markForCheck()},0)})}toggleMe(){this.setAssignees(this.helpers.toggleMe(this.taskAssignees||[],this.selectedProject&&this.selectedProject.multiple_assignees))}showDependencyModal(e){this.modalService.open({content:e,title:"Dependencies"})}addDependency(e,t){t?this.dependencies.blockers=[...this.dependencies.blockers,e]:this.dependencies.blocked=[...this.dependencies.blocked,e],this.saveDraft()}removeDependency(e,t){t?this.dependencies.blockers=this.dependencies.blockers.filter(t=>t.id!==e.id):this.dependencies.blocked=this.dependencies.blocked.filter(t=>t.id!==e.id),this.saveDraft()}addRelationshipLink(e){this.dependencies.links=[...this.dependencies.links,e],this.saveDraft()}removeRelationshipLink(e){this.dependencies.links=this.dependencies.links.filter(t=>t.id!==e.id),this.saveDraft()}onKeydown(e){e.which===v_.a.TAB&&this.assigneesSelector.isOpen&&(e.preventDefault(),this.assigneesSelector.close(),this.editor.editor&&this.editor.editor.focus())}addFileToTask(e){this.connected&&(this.editor&&this.editor.hasFocus()?Array.from(e).forEach(e=>{this.editor.sendFile(e)}):this.uploader.addFiles(e))}updateAttachmentCount(e){"add"===e?(this.attachmentCount+=1,this.attachmentLoadPercent=0,this.attachmentLoadArr=[]):this.attachmentCount-=1,this.changeDetector.detectChanges()}updateLoadPercent(e){if(this.attachmentLoadArr.push(e),1===this.attachmentLoadArr.length&&100===this.attachmentLoadArr[0]){this.manualAnimation=!0,this.manualAttachmentLoadPercent=0;const e=new Ee.a;Object(b_.a)(25).pipe(Object(Re.a)(Object(Le.a)(this.destroy$,e))).subscribe(()=>{100!==this.manualAttachmentLoadPercent?(this.manualAttachmentLoadPercent+=20,this.changeDetector.detectChanges()):(this.manualAnimation=!1,this.changeDetector.detectChanges(),e.next())})}else this.attachmentLoadPercent=e,this.changeDetector.detectChanges()}clickSettings(){this.setCategoriesFromStore(this.selectedProject,this.taskCategory,this.taskSubcategory);const e=this.modalService.openComponent(se.a,this.injector,{name:"forceCreateCategory",preventExternalClick:!0,modifier:"cu-modal__create-new-space"});e.instance.projectId=this.selectedProject.id,this.taskSubcategory&&this.taskSubcategory.override_statuses&&this.taskSubcategory.statuses||this.taskCategory.hidden?(e.instance.subcategoryToEdit=this.taskSubcategory,e.instance.parentCategory=this.taskCategory):e.instance.projectToEdit=this.taskCategory,e.instance.onEditProject.pipe(Object(Re.a)(e.instance.destroy$)).subscribe(e=>{const{project:t,changeMap:i}=e;this.navService.updateCategory(t,!0,i),this.modalService.close()}),e.instance.onEditSubcategory.pipe(Object(Re.a)(e.instance.destroy$)).subscribe(e=>{const{subcategory:t,changeMap:i}=e;this.navService.updateSection(t,!0,i),this.modalService.close()}),this.statusDropdown.close()}checkListValidForTemplate(){setTimeout(()=>{this.draftLocationSelector&&!this.taskSubcategory&&(this.isTaskSubcategoryValid=!!this.taskSubcategory,this.templateDropdown&&this.templateDropdown.close())},0)}openTemplateCenter(e){const t=this.createTaskObject();this.createInstantly=!1,this.loadFromTemplate=!1,"create"===e&&(this.createInstantly=!0,this.store.dispatch(new ge.Oe({open:!0,parent:t.subcategoryId,parentType:Hi.d.List,initialType:Hi.d.Task,creatingTask:!0,fromTaskDraft:!0,returnOnTemplateSelect:!0}))),"load"===e&&(this.loadFromTemplate=!0,this.store.dispatch(new ge.Oe({open:!0,parent:t.subcategoryId,parentType:Hi.d.List,initialType:Hi.d.Task,fromTaskDraft:!0,returnOnTemplateSelect:!0}))),"save"===e&&this.store.dispatch(new ge.Oe({open:!0,parent:t.subcategoryId,parentType:Hi.d.List,initialType:Hi.d.Task,itemToSave:t,fromTaskDraft:!0})),"update"===e&&this.store.dispatch(new ge.Oe({open:!0,parent:t.subcategoryId,parentType:Hi.d.List,initialType:Hi.d.Task,itemToSave:t,fromTaskDraft:!0,updateExisting:!0}))}getRecentTemplates(){this.store.dispatch(new Oa.k({}))}handleBlockHandleDropdownChange({menuData:e,onCommit:t,onSelect:i}){this.zone.run(()=>{this.blockHandleMenuData=e,t&&(this.blockHandleCommit=t),i&&(this.blockHandleSelect=i),this.changeDetector.detectChanges()})}createTaskObject(){var e;const t={type:"task",name:this.taskName.trim(),content:this.editor.editor.getContents(),status:this.taskStatus?this.taskStatus.status:null,position:this.taskPosition-1,project:{id:this.selectedProject.id,name:this.selectedProject.name},categoryId:"",subcategoryId:"",draft_uuid:this.draftUUID};this.draftValue.recur&&(t.recur=this.draftValue.recur),this.draftValue.recurring_settings&&(t.recurring_settings=this.draftValue.recurring_settings),this.customFields&&this.customFields.length&&(t.customFields=this.customFields.map(e=>{const t=P_.e[e.type];let i=e.value;return t&&t.serialiseValueForApi&&(i=t.serialiseValueForApi(void 0,e.value,e)),{id:e.id,value:i}})),t.dependencies=[...this.dependencies.blockers.map(e=>({task_id:e.id,type:1})),...this.dependencies.blocked.map(e=>({task_id:e.id,type:2}))],t.linkedTasks=this.dependencies.links.map(e=>e.id),this.draftValue.template_id&&(t.id=this.draftValue.template_id),this.checklists&&0!==this.checklists.length&&(t.checklists=this.fixChecklistsForRequest()),this.dueDate&&(t.due_date=this.dueDate.valueOf(),t.due_date_time=this.dueDateTime),this.startDate&&(t.start_date=this.startDate.valueOf(),t.start_date_time=this.startDateTime),this.timeEstimateMilli&&(t.time_estimate=this.timeEstimateMilli,t.time_estimate_string=this.timeEstimate||""),this.points&&(t.points=this.points),this.estimateAssigneeMap&&Object.entries(this.estimateAssigneeMap).some(([e,t])=>!!t)&&this.taskAssignees&&this.taskAssignees.length&&(t.assignee_time_estimate_map=this.estimateAssigneeMap),this.pointsAssigneeMap&&Object.entries(this.pointsAssigneeMap).some(([e,t])=>!!t)&&this.taskAssignees&&this.taskAssignees.length&&(t.assignee_points_map=this.pointsAssigneeMap),this.taskCategory&&this.taskCategory.id&&(t.categoryId=this.taskCategory.id),this.taskSubcategory&&this.taskSubcategory.id&&(t.subcategoryId=this.taskSubcategory.id),this.taskAssignees.length&&(t.assignees=this.taskAssignees.map(e=>e.id)),this.taskUserGroupAssignees.length&&(t.group_assignees=this.taskUserGroupAssignees.map(e=>e.id)),t.dont_follow=!this.taskFollowers.some(e=>e.id===this.currentUserId),this.taskFollowers.length&&(t.followers=this.taskFollowers.map(e=>e.id).filter(e=>e!==this.currentUserId)),this.taskGroupFollowers.length&&(t.group_followers=this.taskGroupFollowers.map(e=>e.id)),this.priority&&(t.priority=this.priority.id),this.subtaskList.length&&(t.subtasks=this.subtaskList.filter(e=>e.name&&e.name.trim().length)),this.tags.length&&(t.tags=this.tags.slice());const i=this.getNonDeletedEditorAttachments();if(this.uploader.getFileList().length||(null===(e=this.attachments)||void 0===e?void 0:e.length)||i.length>0){const e=this.uploader.getFileList().filter(e=>!e.fromTemplate).map(e=>{var t;return null===(t=e.uploadResult)||void 0===t?void 0:t.id}).filter(Boolean);t.attachments=t.attachments_to_copy=Object(C_.a)([...e,...i.map(e=>e.id)])}return t}getNonDeletedEditorAttachments(){const e=this.editor.editor.getContents().filter(e=>{var t,i,a;return(null===(i=null===(t=e.insert)||void 0===t?void 0:t.image)||void 0===i?void 0:i.length)||(null===(a=e.insert)||void 0===a?void 0:a.attachment)}).map(e=>{var t,i;return(null===(t=e.insert)||void 0===t?void 0:t.image)||(null===(i=e.insert)||void 0===i?void 0:i.attachment.url)});return this.editorAttachments.filter(t=>-1!==e.indexOf(t.url))}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(X.H),X.Wb($a.b),X.Wb(Ve.a),X.Wb(Xe.a),X.Wb(fe.a),X.Wb(Om.a),X.Wb(Da.a),X.Wb(Pa.a),X.Wb(X.h),X.Wb(_e.a),X.Wb(F_.a),X.Wb(of.a),X.Wb(X.t),X.Wb(ki.a),X.Wb(X.h),X.Wb(X.B))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-draft-view"]],viewQuery:function(e,t){if(1&e&&(X.jd(yv,3),X.jd(wv,1),X.jd(kv,3),X.jd(xv,1),X.jd(Tv,1),X.jd(Sv,1),X.jd(jv,1),X.jd(Ov,1),X.jd(Iv,3),X.jd(Dv,3),X.jd(Cv,3),X.jd(Pv,3),X.jd($v,1),X.jd(zv,3),X.jd(Mv,3,X.U),X.jd(Ev,1),X.jd(Lv,1),X.jd(Av,1),X.jd(Fv,1),X.jd(Uv,1),X.jd(Nv,3),X.jd(Rv,1),X.jd(Gv,1)),2&e){let e;X.Qc(e=X.rc())&&(t.taskNameInput=e.first),X.Qc(e=X.rc())&&(t.editor=e.first),X.Qc(e=X.rc())&&(t.uploader=e.first),X.Qc(e=X.rc())&&(t.categoryFilterInput=e.first),X.Qc(e=X.rc())&&(t.subcategoryCreationInput=e.first),X.Qc(e=X.rc())&&(t.categoryListView=e.first),X.Qc(e=X.rc())&&(t.createFlowDropdown=e.first),X.Qc(e=X.rc())&&(t.loadTemplateComponent=e.first),X.Qc(e=X.rc())&&(t.templateConfirmModal=e.first),X.Qc(e=X.rc())&&(t.draftLocationSelector=e.first),X.Qc(e=X.rc())&&(t.assigneesSelector=e.first),X.Qc(e=X.rc())&&(t.slashCommandTemplate=e.first),X.Qc(e=X.rc())&&(t.slashCommand=e.first),X.Qc(e=X.rc())&&(t.slashCommandInput=e.first),X.Qc(e=X.rc())&&(t.slashCommandContainer=e.first),X.Qc(e=X.rc())&&(t.statusListComponent=e.first),X.Qc(e=X.rc())&&(t.statusDropdown=e.first),X.Qc(e=X.rc())&&(t.createTimeEstimate=e.first),X.Qc(e=X.rc())&&(t.createPointsEstimate=e.first),X.Qc(e=X.rc())&&(t.templateDropdown=e.first),X.Qc(e=X.rc())&&(t.blockHandleDropdown=e.first),X.Qc(e=X.rc())&&(t.blockHandleDropdownContainer=e.first),X.Qc(e=X.rc())&&(t.subcategoryInputs=e)}},hostBindings:function(e,t){1&e&&X.qc("keydown",function(e){return t.onKeydown(e)},!1,X.Sc)},inputs:{template:"template",draft:"draft",mode:"mode",tagsMap:"tagsMap",tagsLoadingMap:"tagsLoadingMap",userGroups:"userGroups",latestTabOrderindex:"latestTabOrderindex"},outputs:{onTaskCreated:"onTaskCreated",onModeChange:"onModeChange"},features:[X.Gb],decls:203,vars:196,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w,k,x,T,S,j,O,I,D,C,P,$,z,M,E,L;return e=$localize`:@@common_change-status␟3433adc4751097b46abd5305b1f7180830800ab1␟7893242329213539447:Change status`,t=$localize`:@@common_task-name-or-slash-cmds␟4c070a32a1f5357862c5282d819a2bbc093ba288␟6140007047963435912:Task na﻿me or type '/' for commands`,i=$localize`:@@cu-draft-view__tooltip-msg_minimize-draft␟7618df2146ab58ae852edd88044fa3fe5debdddf␟7885879080215492995:Minimize draft`,a=$localize`:location@@common_in␟d37eba04a7fcace3c091a63cce49526f74b51671␟2841739558138901231:In`,o=$localize`:@@cu-draft-view__draft-for-assignee␟94e14b37828786677cc5eb46727e9278f72e1d54␟5758092745052900088:For`,c=$localize`:@@cu-draft-view__tooltip-msg_position-in-list␟9818ecc44496567cfcff1c789c4ab7dcd44d6481␟5421392260500355146:Position in List`,n=$localize`:@@common_attachments␟d18f7db38ee0904fe26a822ffb00016eafb3081e␟4711366409573863665: Attachments `,s=$localize`:@@common_add␟f6755cff4957d5c3c89bafce5651f1b6fa2b1fd9␟3249513483374643425:Add`,r=$localize`:@@common_templates␟0ff736fd2d2de1e6c6a94919e2d172d3850674cd␟5433675495457939071:Templates`,l=$localize`:@@cu-draft-view__tooltip-msg_recent-templates␟fe3a0a76a8de8a30b52e2dbce80d5fa35d688d53␟1283915208724716154:Recent Templates`,d=$localize`:@@cu-draft-view__create-instantly-from-tmpl␟71f67fa3967a8e370e0a15bf8dbf16ac4ad218ba␟1612398258395813241: Create instantly from template `,u=$localize`:@@common_load-from-template␟a935ab935f3c4756c15da18c7a87221a49ed58a5␟6636847443012719159: Load from Template `,p=$localize`:@@common_update-existing-template␟1e45fc0071b10eee0f27f5797fe02b337ec811e1␟67040917326177160: Update existing Template `,m=$localize`:@@common_dependencies␟473fb06a7b7b3992af493059e8f9c8c74f369a97␟4045087308145757242:Dependencies`,h=$localize`:@@common_watchers␟5410a33e3960f482ee3ce21cf8078dbac1559d13␟8928991855387678519:Watchers`,b=$localize`:@@common_back-2␟9c80bb14f602d693b9643a90bb740ffcedbb41a5␟55648798660463428: back `,g=$localize`:@@common_back-2␟9c80bb14f602d693b9643a90bb740ffcedbb41a5␟55648798660463428: back `,f=$localize`:@@common_select-a-list␟b4ad79e83e3ba43519de4e423a89f145ad74a502␟334342249581683791: Select a List `,_=$localize`:@@common_back-2␟9c80bb14f602d693b9643a90bb740ffcedbb41a5␟55648798660463428: back `,v=$localize`:@@cu-draft-view__form-error_required-custom-fields␟e92b927037b6e1ad16f89084c81e77633e4ca0b9␟8029001471479176782: Please fill in required custom fields to save this task. `,y=$localize`:@@common_add-edit-statuses␟e004a171a05ea51c6570c52be80103e320a4b184␟4179116217858523980:Add/Edit Statuses`,w=$localize`:@@cu-draft-view__form-error_task-name␟a47c44fa6b4a8c052891df18a6b5c9ff3aa6a935␟8608464693267866959: Enter Task Name `,k=$localize`:@@common_select-a-list␟9eefab3a03200b9daae42bc6553054091edbcee6␟4903050301787988519: Select a List `,x=$localize`:@@common_add-subtask␟1a8140eb8c2d161fb1023c839f0d556f1587ddc6␟2799262970272602043:Add subtask`,T=$localize`:@@common_add-checklist␟09ee10a652da06375ad6b718adda604cf5210345␟7791426209832144175:Add checklist`,S=$localize`:@@common_add-subtask␟1a8140eb8c2d161fb1023c839f0d556f1587ddc6␟2799262970272602043:Add subtask`,j=$localize`:@@cu-draft-view__attachments-offline-notice␟91b7cbfc623f9641d174a698e114834928edec2c␟3291463179414428133:${"\ufffd#4\ufffd"}:START_TAG_STRONG:Offline:${"\ufffd/#4\ufffd"}:CLOSE_TAG_STRONG: You can't add attachments while offline `,O=$localize`:@@common_upload-file␟30425abcb2ca17bc7f74857afd2d4a74e31b9b2b␟8605421971099461066:Upload file`,I=$localize`:@@common_google--new-doc␟9f6d03cedeee356c37435c4053068552ad1dc728␟4509582487840244118:New Google Doc`,D=$localize`:@@common_start-date␟3e6acd589d8b82cafd8546409da0a36469d297a0␟3604386807230411192:Start Date`,C=$localize`:@@cu-draft-view__uploading␟f54acc637f2d1ea81cf76322b0c3f381b868baa1␟7636862518745301168:Uploading`,P=$localize`:@@cu-draft-view__create-and-open␟75caca282ae29aac7d8bd2c6fb3a80d1c54b1d23␟4397032327825421713: Create and open `,$=$localize`:@@cu-draft-view__create-and-start-another␟306241b394a4d9b5fc2a9eee83c2561d436439ae␟5036642035966714447: Create and start another `,z=$localize`:@@cu-draft-view__create-and-duplicate␟358d5a2c17ac3224909e522bd3589738453065b8␟4707855687880790674: Create and duplicate `,M=$localize`:@@cu-draft-view__question_draft-action␟2b9bf8617eab8e6ea932c79e172a5227e46a9e5a␟2123594713685184096: You have a saved draft. What should we do with it? `,E=$localize`:@@cu-draft-view__btn-txt_append-draft␟e4e595d6d68c8de340f403a1b8d49c3594524b1b␟1615960505102326309: Append draft to template `,L=$localize`:@@cu-draft-view__btn-txt_erase-draft␟89710385f1b929174c0024d0359bc29381c7c732␟2552110883983539853: Erase draft and load template `,[["class","cu-draft-view__template",4,"ngIf"],["class","cu-draft-view__template",3,"keydown",4,"ngIf"],["cuDropArea","",1,"cu-draft-view",3,"hidden","ondrop"],["blockHandleDropdownContainer",""],["class","cu-draft-view__missing",4,"ngIf"],[4,"ngIf"],[1,"cu-draft-view__animation",3,"hidden"],[1,"cu-draft-view__animation-inner"],[1,"cu-draft-view__animation-folder",3,"hidden"],[1,"cu-draft-view__animation-folder-task"],["width","94","height","116","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M84 114H10a8 8 0 01-8-8V10a8 8 0 018-8h48.77L92 35.23V106a8 8 0 01-8 8z","fill","#fff"],["fill-rule","evenodd","clip-rule","evenodd","d","M10 116h74c5.523 0 10-4.477 10-10V34.41L59.59 0H10C4.477 0 0 4.477 0 10v96c0 5.523 4.477 10 10 10zM4 10a6 6 0 016-6h47.94L90 36.06V106a6 6 0 01-6 6H10a6 6 0 01-6-6V10z",1,"cu-fill_dark"],["d","M92 35.23H68.77c-5.523 0-10-4.477-10-10V2L92 35.23z","fill","#ECECEC"],["fill-rule","evenodd","clip-rule","evenodd","d","M68.77 37.23H92a2 2 0 001.41-3.41L60.18.59A2 2 0 0056.77 2v23.23c0 6.627 5.373 12 12 12zm-8-12V6.83l26.41 26.4H68.77a8 8 0 01-8-8zM24.315 76.83l8.372-6.414c4.448 5.805 9.174 8.481 14.434 8.481 5.232 0 9.825-2.644 14.072-8.404l8.492 6.26c-6.129 8.305-13.745 12.693-22.564 12.693-8.79 0-16.48-4.36-22.806-12.617zM47.093 48.953l-14.902 12.84-6.888-7.988L47.125 35l21.65 18.819-6.92 7.96-14.762-12.827z",1,"cu-fill_dark"],[1,"cu-draft-view__animation-folder-eyes"],["xmlns","http://www.w3.org/2000/svg","width","149","height","145"],["cx","55","cy","80","r","4",1,"cu-fill_dark"],["cx","88","cy","80","r","4",1,"cu-fill_dark"],[1,"cu-draft-view__animation-folder-front"],["d","M123,112V66a12,12,0,0,0-12-12H35A12,12,0,0,0,23,66v46a12,12,0,0,0,12,12H135A12,12,0,0,1,123,112Z","fill","#fff"],["d","M135,126H35a14,14,0,0,1-14-14V66A14,14,0,0,1,35,52h76a14,14,0,0,1,14,14v46a10,10,0,0,0,\n        10,10ZM35,56A10,10,0,0,0,25,66v46a10,10,0,0,0,10,10h90.21A14,14,0,0,1,121,112V66a10,10,0,0,0-10-10Z",1,"cu-fill_dark"],["d","M32 79.33a2 2 0 0 1-2-2V66a5 5 0 0 1 5-5H48a2 2 0 0 1 0 4H35a1 1 0 0 0-1 1V77.33A2 2 0 0 1 32 79.33zM61 65H56.33a2 2 0 0 1 0-4H61a2 2 0 0 1 0 4z",1,"cu-fill_dark"],["d","M59,89.75a12.5,12.5,0,0,0,25,0Z","fill","#fff"],["d","M71.5,104.25A14.52,14.52,0,0,1,57,89.75a2,2,0,0,1,2-2H84a2,2,0,0,1,2,2A14.52,14.52,\n          0,0,1,71.5,104.25ZM61.19,91.75a10.5,10.5,0,0,0,20.62,0Z",1,"cu-fill_dark"],[1,"cu-draft-view__animation-folder-back"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 149 145"],["d","M135,44h-33c0-6.6-5.4-12-12-12H59c-6.6,0-12,5.4-12,12v68c0,6.6,5.4,12,12,12h76c6.6,0,12-5.4,\n        12-12V56 C147,49.4,141.6,44,135,44z","fill","#ececec"],["d","M135,126H59c-7.7,0-14-6.3-14-14V44c0-7.7,6.3-14,14-14h31c7,0,12.9,5.1,13.9,12H135c7.7,0,14,6.3,14,\n        14l0,0 v56C149,119.7,142.7,126,135,126z M59,34c-5.5,0-10,4.5-10,10v68c0,5.5,4.5,10,10,10h76c5.5,0,10-4.5,\n        10-10V56c0-5.5-4.5-10-10-10 h-35v-2c0-5.5-4.5-10-10-10H59z",1,"cu-fill_dark"],[1,"cu-draft-view__animation-final",3,"hidden"],["width","149","height","145","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M135 44h-33c0-6.627-5.373-12-12-12H59c-6.627 0-12 5.373-12 12v68c0 6.627 5.373 12 12 12h76c6.627 0 12-5.373 12-12V56c0-6.627-5.373-12-12-12z","fill","#ECECEC"],["fill-rule","evenodd","clip-rule","evenodd","d","M59 126h76c7.732 0 14-6.268 14-14V56c0-7.732-6.268-14-14-14h-31.14A14 14 0 0090 30H59c-7.732 0-14 6.268-14 14v68c0 7.732 6.268 14 14 14zM49 44c0-5.523 4.477-10 10-10h31c5.523 0 10 4.477 10 10v2h35c5.523 0 10 4.477 10 10v56c0 5.523-4.477 10-10 10H59c-5.523 0-10-4.477-10-10V44z",1,"cu-fill_dark"],["d","M129 114H55a8 8 0 01-8-8V10a8 8 0 018-8h48.77L137 35.23V106a8 8 0 01-8 8z","fill","#fff"],["fill-rule","evenodd","clip-rule","evenodd","d","M55 116h74c5.523 0 10-4.477 10-10V34.41L104.59 0H55c-5.523 0-10 4.477-10 10v96c0 5.523 4.477 10 10 10zM49 10a6 6 0 016-6h47.94L135 36.06V106a6 6 0 01-6 6H55a6 6 0 01-6-6V10z",1,"cu-fill_dark"],["d","M137 35.23h-23.23c-5.523 0-10-4.477-10-10V2L137 35.23z","fill","#ECECEC"],["fill-rule","evenodd","clip-rule","evenodd","d","M113.77 37.23H137a2 2 0 001.41-3.41L105.18.59A2 2 0 00101.77 2v23.23c0 6.627 5.373 12 12 12zm-8-12V6.83l26.41 26.4h-18.41a8 8 0 01-8-8zM69.315 76.653l8.372-6.414c4.448 5.806 9.174 8.481 14.434 8.481 5.233 0 9.825-2.644 14.072-8.403l8.492 6.259c-6.129 8.305-13.745 12.693-22.564 12.693-8.79 0-16.48-4.36-22.806-12.616zM92.093 48.776L77.191 61.617l-6.888-7.989 21.822-18.805 21.649 18.82-6.92 7.96-14.76-12.827z",1,"cu-fill_dark"],["d","M123 112V66c0-6.627-5.373-12-12-12H35c-6.627 0-12 5.373-12 12v46c0 6.627 5.373 12 12 12h100c-6.627 0-12-5.373-12-12z","fill","#fff"],["fill-rule","evenodd","clip-rule","evenodd","d","M35 126h100v-4c-5.523 0-10-4.477-10-10V66a13.998 13.998 0 00-14-14H35c-7.732 0-14 6.268-14 14v46c0 7.732 6.268 14 14 14zM25 66c0-5.523 4.477-10 10-10h76c5.523 0 10 4.477 10 10v46a14.001 14.001 0 004.21 10H35c-5.523 0-10-4.477-10-10V66z",1,"cu-fill_dark"],["fill-rule","evenodd","clip-rule","evenodd","d","M30 77.33a2 2 0 104 0V66a1 1 0 011-1h13a2 2 0 100-4H35a5 5 0 00-5 5v11.33zM56.33 65H61a2 2 0 100-4h-4.67a2 2 0 100 4z",1,"cu-fill_dark"],["d","M59 89.75c0 6.904 5.596 12.5 12.5 12.5S84 96.654 84 89.75H59z",1,"cu-fill_dark"],["fill-rule","evenodd","clip-rule","evenodd","d","M57 89.75c.011 8.004 6.496 14.489 14.5 14.5 8.004-.011 14.489-6.496 14.5-14.5a2 2 0 00-2-2H59a2 2 0 00-2 2zm14.5 10.512a10.5 10.5 0 01-10.31-8.512h20.62a10.5 10.5 0 01-10.31 8.512z",1,"cu-fill_dark"],["d","M27 141c11.598 0 21-9.402 21-21s-9.402-21-21-21-21 9.402-21 21 9.402 21 21 21z","fill","#FF6EB0"],["fill-rule","evenodd","clip-rule","evenodd","d","M2 120c0-13.807 11.193-25 25-25s25 11.193 25 25-11.193 25-25 25-25-11.193-25-25zm46 0c0-11.598-9.402-21-21-21s-21 9.402-21 21 9.402 21 21 21 21-9.402 21-21z",1,"cu-fill_dark"],["d","M27 130.57a.73.73 0 01-.54-.22L18.8 123c-.12-.1-.233-.207-.34-.32-.14-.147-.367-.413-.68-.8a10.84 10.84 0 01-.83-1.2 7.415 7.415 0 01-.66-1.49 5.38 5.38 0 01-.29-1.69 5.63 5.63 0 011.56-4.22 5.91 5.91 0 014.31-1.52c.527.003 1.05.091 1.55.26.519.172 1.013.41 1.47.71.453.3.843.58 1.17.84.325.259.636.536.93.83.294-.294.605-.571.93-.83.327-.26.717-.54 1.17-.84.457-.3.951-.538 1.47-.71a4.923 4.923 0 011.55-.26 5.9 5.9 0 014.31 1.52 5.63 5.63 0 011.58 4.18c0 1.807-.937 3.647-2.81 5.52l-7.65 7.37a.73.73 0 01-.54.22z","fill","#fff"],["d","M77 101v-.73a5.5 5.5 0 10-11 0v.73a12.533 12.533 0 0011 0z","fill","#ECECEC"],["fill-rule","evenodd","clip-rule","evenodd","d","M90 80a2 2 0 104 0 6 6 0 00-11.83-1.41 2 2 0 103.89.94A2 2 0 0190 80zm-38.94 2a2 2 0 01-2-2 6 6 0 0111.83-1.4 2 2 0 01-3.89.93 2 2 0 00-3.94.47 2 2 0 01-2 2zm14.06 20.77a14.373 14.373 0 006.38 1.48 14.359 14.359 0 006.38-1.48l1.12-.55v-2a7.5 7.5 0 00-15 0v2l1.12.55zm9.78-3.1a10.607 10.607 0 01-6.9 0 3.5 3.5 0 016.9 0z",1,"cu-fill_dark"],["d","M2 60h8a2 2 0 110 4H2a2 2 0 110-4zM35 33v8a2 2 0 11-4 0v-8a2 2 0 114 0zM8.41 38.41a2 2 0 012.83 0l6.19 6.19a2.001 2.001 0 11-2.83 2.83l-6.19-6.19a2 2 0 010-2.83z",1,"cu-fill_dark"],["opacity",".7","fill-rule","evenodd","clip-rule","evenodd","d","M14.57 107.316a2 2 0 003.13.914A14.837 14.837 0 0127 105c1.09-.001 2.176.117 3.24.35a2.002 2.002 0 00.86-3.91A19.095 19.095 0 0027 101a18.81 18.81 0 00-11.78 4.09 2 2 0 00-.65 2.226zm23.01 2.094c.376.378.887.59 1.42.59a2 2 0 001.45-3.41 19.176 19.176 0 00-3-2.43 1.999 1.999 0 00-3.171 1.522 2 2 0 00.961 1.808c.842.56 1.626 1.203 2.34 1.92z","fill","#FF99C7"],["blockHandleDropdown",""],[3,"menu","handleCommit","handleSelect"],[1,"cu-draft-view__container",3,"keydown","keyup"],[1,"cu-draft-view__titlebar"],[1,"cu-draft-view__titlebar-status-selector"],["cuDropdown","",1,"lv-task__status-container",3,"dropdownDisabled","dropdownCloseOnInsideClick","dropdownOpen","dropdownClose"],["statusDropdown","dropdown"],["cuTooltip",e,"cuDropdownToggle","",1,"lv-task__status",3,"ngStyle"],["class","cu-dropdown__menu cu-dropdown__menu_overflow-hidden",4,"cuDropdownMenu"],[1,"cu-form__row",3,"ngClass"],[1,"cu-form__field"],["inputClass","cu-draft-view__title",1,"cu-draft-view__title-container",3,"dateFormatting","meUser","users","userGroups","statuses","priorities","tags","points","weights","allowedCommands","currentValues","options","applyCommand","onPage"],["cuSlashCommandInput","","rows","1","cdkTextareaAutosize","","cdkAutosizeMinRows","1","data-gramm","false","placeholder",t,1,"cu-form__input","cu-draft-view__title",3,"ngModel","keydown","ngModelChange"],["taskNameInput","","slashCommandInput","cuSlashCommandInput"],["class","cu-form__error",4,"ngIf"],["cuTooltip",i,1,"cu-draft-view__titlebar-quick-option","cu-draft-view__titlebar-quick-option_minimize","icon",3,"click"],["viewBox","0 0 19 19","xmlns","http://www.w3.org/2000/svg",1,"task-minimize__btn"],["fill","none","fill-rule","evenodd"],["d","M17.77 1.54L9.1 10.2","stroke-width","1.5","stroke-linecap","square"],["stroke-width","1.5","d","M14.34 10.95H8.53V4.81"],["d","M17.23 9.18v5.88c0 1.8-1.46 3.25-3.25 3.25H4.25A3.25 3.25 0 0 1 1 15.06V5.33c0-1.8 1.45-3.25 3.25-3.25h5.92","stroke-width","1.5"],["icon","cu2-close",1,"cu-draft-view__titlebar-quick-option",3,"click"],[1,"cu-draft-view__body"],[1,"cu-draft-view__scrollable"],["scrollContainer",""],[1,"cu-draft-view__location"],a,[1,"cu-draft-view__location-location"],[3,"disabled","selectedProject","selectedCategory","selectedSubcategory","onSelect","onDropdown","onClose","onOpen","onKeydown"],["draftLocationSelector",""],o,[1,"cu-draft-view__location-assignee",3,"cuHoverKeyDown","hoverKeyDown"],[3,"enableFirstSelection","multiChoice","selectedUsers","weights","weightType","users","showUnassign","userGroups","selectedUserGroups","subcategory","onChange","onFinished","onOpen","onClose","onUserGroupsChanged"],["assigneesSelector",""],[3,"showUserRemover","users","assignIcon","multiChoice","modifier","avatarSize","showDropdown","userGroups","onUserRemove","onUserGroupRemove"],[1,"cu-draft-view__location-divider"],["class","cu-draft-view__location-position","cuTooltip",c,4,"ngIf"],[3,"tasksLinked","teamId","taskBlockers","tasksBlocked","canOpenDependencies","onOpenDependencies",4,"ngIf"],["uploadType","7","editorId","content_new",3,"modifier","enableOnStart","alwaysEnabled","weights","content","project","taskUserGroups","forCreateTask","scrollContainer","disablePasteImage","uploadParent","slashCommandCustom","disableOffline","users","listenForShiftTab","enableUserMentions","popupInBody","userGroups","autoFocus","customBlockHandleDropdown","customBlockHandleDropdownContainer","onFileAdded","onFileStarted","onFileError","onSave","onShiftTab","onBlockHandleDropdownChange",4,"ngIf"],[3,"permissions","disconnected","customFields","subcategory","members","showMissingRequired","team","setMissingRequiredFields","updateCustomFieldValue",4,"ngIf"],["class","cu-draft-view__add",4,"ngIf"],["class","cu-form__row",4,"ngIf"],[1,"cu-draft-view__checklists",3,"hidden"],[3,"itemData","spaceData","teamId","isNewTask","newTaskMembers","createChecklistClosed"],["class","cu-alert cu-alert_standby",4,"ngIf"],[1,"cu-draft-view__attachments",3,"hidden"],[1,"cu-draft-view__attachments-header"],["popTemplate",""],[1,"cu-form__label"],n,["cuDropdown","",1,"cu-dropdown","cu-dropdown_bottom","cu-dropdown_pointer","cu-dropdown_center",3,"dropdownDestroyMenuOnClose"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle","cu-todo-list__add"],["containerClass","popover_white","triggers","","container","body","placement","top",1,"cu-todo-list__add-text",3,"popover","outsideClick"],["pop","bs-popover"],s,["icon","dropdown-settings_down",1,"cu-todo-list__add-dropdown"],[1,"cu-draft-view__uploader",3,"hidden","options","onFileUploaded","onFileDeleted","onLoadPercent"],["uploader",""],[1,"cu-draft-view__footer"],[1,"cu-draft-view__footer-options"],["class","cu-draft-view__footer-options-item",3,"prioritySelected","onChange",4,"ngIf"],["class","cu-draft-view__footer-options-date cu-draft-view__footer-options-item",4,"ngIf"],["class","cu-draft-view__footer-tags cu-draft-view__footer-options-item",4,"ngIf"],["class","task-create-estimate cu-draft-view__footer-options-item",4,"ngIf"],["cuLegacyDropdown","",1,"cu-dropdown","cu-dropdown_center","cu-dropdown_pointer","cu-draft-view__footer-options-item","cu-draft-view__templates",3,"onOpen"],["templateDropdown","cu-dropdown"],["cuLegacyDropdownToggle","","cuTooltip",r,1,"cu-dropdown__toggle","cu-draft-view__templates-toggle",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","11.2207","y","10.8672","width","5.5","height","0.5","rx","0.25","transform","rotate(45 11.2207 10.8672)","stroke","#c1c1c1","stroke-width","0.5",1,"cu-stroke"],["d","M16.1213 13.9999L19.5603 17.439C20.1461 18.0247 20.1461 18.9745 19.5603 19.5603C18.9745 20.1461 18.0248 20.1461 17.439 19.5603L14 16.1213L14.5 14.5L16.1213 13.9999Z","stroke","#c1c1c1","stroke-width","1",1,"cu-stroke"],["d","M4.89255 5.65997L5.78804 8.30089L4.12016 10.5357C3.98236 10.7203 3.96142 10.9671 4.06595 11.1725C4.17048 11.3777 4.38257 11.5058 4.61291 11.5028L7.40122 11.4672L9.01152 13.744C9.12399 13.9046 9.30771 14 9.50377 14C9.53619 14 9.56827 13.9975 9.60019 13.9924C9.82816 13.9571 10.0159 13.7947 10.0835 13.5741L10.4351 12.4435L10.6671 11.6973L10.9114 10.9112L11.6973 10.6671L12.4437 10.435L13.5744 10.0836C13.7943 10.0152 13.9564 9.82796 13.9926 9.60033C14.0285 9.37286 13.9323 9.14455 13.7442 9.01149L11.4673 7.40134L11.503 4.613C11.506 4.38266 11.3778 4.17056 11.1727 4.06603C10.9673 3.96134 10.7206 3.98244 10.5359 4.12007L8.30094 5.78798L5.66004 4.89247C5.44187 4.81834 5.20073 4.87474 5.03777 5.03753C4.87482 5.20049 4.81858 5.4418 4.89255 5.65997Z","stroke","#c1c1c1","stroke-width","1",1,"cu-stroke"],["d","M14.9395 4.23219L14.5859 3.87864C14.3907 3.68338 14.0741 3.68338 13.8788 3.87864C13.6836 4.0739 13.6836 4.39048 13.8788 4.58575L14.2324 4.9393L13.8788 5.29285C13.6836 5.48811 13.6836 5.8047 13.8788 5.99996C14.0741 6.19522 14.3907 6.19522 14.5859 5.99996L14.9395 5.64641L15.2931 5.99996C15.4883 6.19522 15.8049 6.19522 16.0002 5.99996C16.1954 5.8047 16.1954 5.48811 16.0002 5.29285L15.6466 4.9393L16.0002 4.58575C16.1954 4.39048 16.1954 4.0739 16.0002 3.87864C15.8049 3.68338 15.4883 3.68338 15.2931 3.87864L14.9395 4.23219Z","fill","#c1c1c1","stroke","none","stroke-width","0",1,"cu-fill"],["d","M5.06066 14.2322L4.70711 13.8786C4.51185 13.6834 4.19526 13.6834 4 13.8786C3.80474 14.0739 3.80474 14.3905 4 14.5857L4.35356 14.9393L4 15.2929C3.80474 15.4881 3.80474 15.8047 4 16C4.19526 16.1952 4.51185 16.1952 4.70711 16L5.06066 15.6464L5.41421 16C5.60948 16.1952 5.92606 16.1952 6.12132 16C6.31658 15.8047 6.31658 15.4881 6.12132 15.2929L5.76777 14.9393L6.12132 14.5857C6.31658 14.3905 6.31658 14.0739 6.12132 13.8786C5.92606 13.6834 5.60948 13.6834 5.41421 13.8786L5.06066 14.2322Z","stroke","none","fill","#c1c1c1","stroke-width","0",1,"cu-fill"],["d","M2.06066 6.23223L1.70711 5.87868C1.51184 5.68342 1.19526 5.68342 1 5.87868C0.804738 6.07394 0.804738 6.39052 1 6.58579L1.35355 6.93934L1 7.29289C0.804739 7.48816 0.804738 7.80474 1 8C1.19526 8.19526 1.51185 8.19526 1.70711 8L2.06066 7.64645L2.41421 8C2.60948 8.19526 2.92606 8.19526 3.12132 8C3.31658 7.80474 3.31658 7.48816 3.12132 7.29289L2.76777 6.93934L3.12132 6.58579C3.31658 6.39052 3.31658 6.07394 3.12132 5.87868C2.92606 5.68342 2.60948 5.68342 2.41421 5.87868L2.06066 6.23223Z","stroke","none","fill","#c1c1c1","stroke-width","0",1,"cu-fill"],["d","M6.93934 1.35352L6.58579 0.999962C6.39053 0.8047 6.07394 0.804701 5.87868 0.999963C5.68342 1.19522 5.68342 1.51181 5.87868 1.70707L6.23223 2.06062L5.87868 2.41418C5.68342 2.60944 5.68342 2.92602 5.87868 3.12128C6.07394 3.31654 6.39052 3.31655 6.58579 3.12128L6.93934 2.76773L7.29289 3.12128C7.48816 3.31655 7.80474 3.31655 8 3.12128C8.19526 2.92602 8.19526 2.60944 8 2.41418L7.64645 2.06062L8 1.70707C8.19526 1.51181 8.19526 1.19522 8 0.999962C7.80474 0.8047 7.48816 0.8047 7.29289 0.999962L6.93934 1.35352Z","fill","#c1c1c1","stroke","none","stroke-width","0",1,"cu-fill"],[1,"cu-dropdown__menu"],[1,"cu-task-settings-list"],["listTitle",l,3,"readOnlyMode","groupByProject","allowCustom","templateList","onSelect",4,"ngIf"],["cuLink","","draggable","false",1,"cu-task-settings-list__item","cu-task-settings-list__item_border-top",3,"click"],["icon","load-template",1,"cu-task-settings-list__icon"],[1,"cu-task-settings-list__text"],d,["cuLink","","draggable","false",1,"cu-task-settings-list__item",3,"click"],u,p,["cuTooltip",m,1,"cu-draft-view__footer-dependencies","cu-draft-view__footer-options-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 37 37"],["d","M17.5,35 C27.1649831,35 35,27.1649831 35,17.5 C35,7.83501688 27.1649831,0 17.5,\n                    0 C7.83501688,0 0,7.83501688 0,17.5 C0,27.1649831 7.83501688,35 17.5,35 Z","stroke-dasharray","3","transform","translate(1 1)",1,"cu-stroke"],[1,"cu-stroke"],["d","M1.575,3.9375 C1.01581169,3.9375 0.5625,3.43382034 0.5625,2.8125 L0.5625,1.6875 C0.5625,\n                      1.06617966 1.01581169,0.5625 1.575,0.5625 L9.675,0.5625 C10.2341883,0.5625 10.6875,\n                      1.06617966 10.6875,1.6875 L10.6875,2.8125 C10.6875,3.43382034 10.2341883,3.9375 9.675,\n                      3.9375 L1.575,3.9375 Z","transform","translate(9.5 9.5)"],["d","M4.95,10.6875 C4.3908117,10.6875 3.9375,10.1838203 3.9375,9.5625 L3.9375,8.4375 C3.9375,\n                      7.81617966 4.3908117,7.3125 4.95,7.3125 L13.05,7.3125 C13.6091883,7.3125 14.0625,\n                      7.81617966 14.0625,8.4375 L14.0625,9.5625 C14.0625,10.1838203 13.6091883,10.6875 13.05,\n                      10.6875 L4.95,10.6875 Z","fill-rule","nonzero","transform","translate(9.5 9.5)",1,"cu-fill"],["d","M8.325,17.4375 C7.7658117,17.4375 7.3125,16.9338203 7.3125,16.3125 L7.3125,\n                      15.1875 C7.3125,14.5661797 7.7658117,14.0625 8.325,14.0625 L16.425,14.0625 C16.9841883,\n                      14.0625 17.4375,14.5661797 17.4375,15.1875 L17.4375,16.3125 C17.4375,16.9338203 16.9841883,\n                      17.4375 16.425,17.4375 L8.325,17.4375 Z","transform","translate(9.5 9.5)"],[1,"cu-draft-view__footer-watchers","cu-draft-view__footer-options-item",3,"enableFirstSelection","multiChoice","showUnassign","selectedUsers","users","userGroups","subcategory","selectedUserGroups","onChange","onUserGroupsChanged"],[1,"cu-activity-viewers",3,"ngClass"],["icon","eye","cuTooltip",h,1,"cu-activity-viewers__icon"],[1,"cu-activity-viewers__counter",3,"ngClass"],[1,"cu-draft-view__submit",3,"disabled"],["class","cu-draft-view__submit-btn",3,"click",4,"ngIf"],["class","cu-draft-view__submit-btn",4,"ngIf"],["class","cu-draft-view__submit-options",3,"mouseover",4,"ngIf"],["templateConfirmModal",""],["drafterSlashCommandTemplate",""],["draftSlashCommandContainer",""],["dependenciesModalTemplate",""],[1,"cu-draft-view__template"],[1,"cu-form__row_fullwidth",2,"margin-bottom","30px"],[1,"cu-draft-view__template-back"],[1,"cu-draft-view__template-back-container",3,"click"],["icon","arrow-down",1,"cu-draft-view__template-back-icon"],[1,"cu-draft-view__template-back-text"],b,["type","task",3,"ngClass","team","isGroupByProject","project","projectsList","forDraft","onSelectTemplate","onLoaded"],[1,"cu-draft-view__template",3,"keydown"],[1,"cu-form__row_fullwidth",2,"margin-bottom","30px",3,"ngClass"],g,[3,"selectedProject","selectedCategory","selectedSubcategory","onSelect"],["type","task",3,"team","requestPayload","isGroupByProject","project","projectsList","validExtraData","hideOptionsUntilSelected","forDraft","onSubmit","onDone"],["loadTemplateComponent",""],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],f,_,[3,"type","task","user","members","section","onOpenTemplateManagerModal"],[1,"cu-draft-view__missing"],v,[1,"cu-dropdown__menu","cu-dropdown__menu_overflow-hidden"],[3,"statuses","groupByStatusType","onChange"],["statusListComponent",""],["class","cu-task-row-status__settings","icon","cog","cuTooltip",y,3,"click",4,"ngIf"],["icon","cog","cuTooltip",y,1,"cu-task-row-status__settings",3,"click"],w,k,["cuTooltip",c,1,"cu-draft-view__location-position"],["cuDropdown","",1,"cu-dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],[1,"cu-draft-view__orderindex-toggle"],["icon","cu2-caret-down",1,"cu-draft-view__orderindex-caret"],["class","cu-dropdown__menu cu-draft-view__orderindex-dropdown",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","cu-draft-view__orderindex-dropdown"],[1,"cu-list-status"],["class","cu-list-status__item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-list-status__item",3,"ngClass","click"],[3,"tasksLinked","teamId","taskBlockers","tasksBlocked","canOpenDependencies","onOpenDependencies"],["uploadType","7","editorId","content_new",3,"modifier","enableOnStart","alwaysEnabled","weights","content","project","taskUserGroups","forCreateTask","scrollContainer","disablePasteImage","uploadParent","slashCommandCustom","disableOffline","users","listenForShiftTab","enableUserMentions","popupInBody","userGroups","autoFocus","customBlockHandleDropdown","customBlockHandleDropdownContainer","onFileAdded","onFileStarted","onFileError","onSave","onShiftTab","onBlockHandleDropdownChange"],["editor",""],[3,"permissions","disconnected","customFields","subcategory","members","showMissingRequired","team","setMissingRequiredFields","updateCustomFieldValue"],[1,"cu-draft-view__add"],["class","cu-draft-view__add-item cu-draft-view__add-item-subtask",3,"cu-draft-view__add-item-subtask-no-border","click",4,"ngIf"],["class","cu-draft-view__add-item cu-draft-view__add-item-checklist",3,"click",4,"ngIf"],[1,"cu-draft-view__add-item","cu-draft-view__add-item-subtask",3,"click"],["icon","cu2-plus",1,"cu-draft-view__add-item-icon"],x,[1,"cu-draft-view__add-item","cu-draft-view__add-item-checklist",3,"click"],T,[1,"cu-form__row"],[1,"cu-draft-view__subtasks-list"],["class","cu-draft-view__subtasks",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["cuLink","","draggable","false",1,"cu-draft-view__subtasks-add",3,"click"],S,[1,"cu-draft-view__subtasks",3,"ngClass"],["type","text",1,"cu-draft-view__subtasks-name",3,"id","ngModel","disabled","keyup","ngModelChange","blur"],[1,"cu-draft-view__subtasks-controls"],["cuLink","","draggable","false","icon","edit-v2",1,"cu-draft-view__subtasks-control","cu-draft-view__subtasks-control_edit",3,"click"],["cuLink","","draggable","false","icon","cu2-trash",1,"cu-draft-view__subtasks-control","cu-draft-view__subtasks-control_remove",3,"click"],["cuLink","","draggable","false",1,"cu-draft-view__subtasks-control","cu-draft-view__subtasks-control_save",3,"click"],[1,"cu-icon","cu-icon_tick"],["cuLink","","draggable","false",1,"cu-draft-view__subtasks-control","cu-draft-view__subtasks-control_cancel",3,"click"],[1,"cu-icon","cu-icon_close-small"],[1,"cu-alert","cu-alert_standby"],[1,"cu-alert__content"],[1,"cu-alert__note"],j,[1,"filter-list"],[1,"filter-list__body","task-drowdown"],[1,"cu-dropdown","cu-dropdown_center","cu-dropdown_pointer","show-checklist-menu"],[1,"filter-list__item","task-drowdown__item",3,"click"],["icon","paperclip",1,"cu-cloud-storage__button-icon","cu-cloud-storage__button-icon_paperclip"],O,[4,"ngFor","ngForOf","ngForTrackBy"],["modifier","filter-list__item task-drowdown__item","type","team","source","google-doc",3,"parentId","showDeny","onDenied","onAdded",4,"ngIf"],["modifier","filter-list__item task-drowdown__item","type","team",3,"parentId","source","showDeny","onDenied","onAdded",4,"ngIf"],["modifier","filter-list__item task-drowdown__item","type","team",3,"parentId","source","showDeny","onDenied","onAdded"],[1,"cu-cloud-storage__button-icon",3,"icon"],["modifier","filter-list__item task-drowdown__item","type","team","source","google-doc",3,"parentId","showDeny","onDenied","onAdded"],["icon","google-drive-colored",1,"cu-cloud-storage__button-icon"],I,[1,"cu-draft-view__footer-options-item",3,"prioritySelected","onChange"],["modifier","cu-priorities-view__icon-ct",3,"priority"],[1,"cu-draft-view__footer-options-date","cu-draft-view__footer-options-item"],[1,"due-date_create-task",3,"selectedDate","startDate","dueTimeExists","startTimeExists","forceStart","forceDue","recurringOptions","recurringLegacyOptions","allowLegacyRecurring","legacyRecurring","recurringLegacyData","showRecurring","onChange","onRecurringChange","onRecurringLegacyChange"],["modifier","due-date_create-task","dateTimeTooltip",D,3,"selectedDate","hasTime","otherDate","allowIcon","forStart","onChange"],[3,"task"],["modifier","due-date_create-task",3,"selectedDate","hasTime","otherDate","allowIcon","dateTimeTooltip","onChange"],[1,"cu-draft-view__footer-tags","cu-draft-view__footer-options-item"],["modifier","",3,"tags","taskTags","tagsLoadingMap","spaceId","forNewTask","canManageTag","readonly","onChange","onDelete","onDeleteFromSpace","onRename","onColorChange","onPage"],["tagList",""],["modifier","cu-tags-view_34",3,"tags","availableTags","canAddTag","canRemoveTag","canManageTag","spaceId","spaceAccess","truncate","showTags","forFilter","onRename","onDelete","onDeleteFromSpace","onColorChange"],[1,"task-create-estimate","cu-draft-view__footer-options-item"],[3,"timeEstimate","assignees","team","onTimeEstimateAction"],["createTimeEstimate",""],[3,"points","assignees","team","onOpen","onPointsEstimatesAction"],["createPointsEstimate",""],["listTitle",l,3,"readOnlyMode","groupByProject","allowCustom","templateList","onSelect"],[1,"cu-draft-view__submit-btn",3,"click"],[1,"cu-draft-view__submit-msg"],[1,"cu-draft-view__submit-msg-key"],[1,"cu-draft-view__submit-btn"],C,[1,"cu-draft-view__submit-options",3,"mouseover"],["cuLegacyDropdown","",1,"cu-dropdown","cu-dropdown_top","cu-dropdown_left",3,"autoClose","noOverlay"],["createFlowDropdown","cu-dropdown"],["cuLegacyDropdownToggle","",1,"cu-dropdown__toggle"],["icon","cu2-caret-down",1,"cu-draft-view__submit-icon"],[1,"cu-dropdown__menu","cu-dropdown__menu_no-animate",3,"mouseout"],[1,"cu-user-list__menu-bottom-arrow"],[1,"cu-user-list"],[1,"cu-user-list__body"],[1,"cu-plate","cu-plate_sm","cu-plate_interact",3,"click"],[1,"cu-plate__text","cu-plate__text_light"],P,$,z,[1,"cu-draft-view__template-confirm"],M,[1,"cu-draft-view__template-confirm-options"],[1,"cu-btn","cu-btn_status","cu-btn_option","cu-btn_green",3,"click"],E,[1,"cu-btn","cu-btn_status","cu-btn_option",3,"click"],L,[3,"alwaysVisible","dropdownPlacement","dateFormatting","militaryTime","meUser","users","userGroups","weights","points","statuses","priorities","tags","allowedCommandsExtra","allowedCommands","currentValues","options","applyCommand","cancelCommand","onPage"],["draftSlashCommand",""],[3,"project","selectedState","displayedTasksBlocked","displayedTaskBlocker","tasksLinked","createDependency","removeDependency","createRelationshipLink","removeRelationshipLink"]]},template:function(e,t){if(1&e){const e=X.dc();X.bd(0,Wv,11,13,"div",0),X.bd(1,Yv,13,21,"div",1),X.bd(2,Zv,11,14,"div",0),X.cc(3,"div",2,3),X.qc("ondrop",function(e){return t.addFileToTask(e)}),X.bd(5,Qv,2,0,"div",4),X.vc(6,"async"),X.bd(7,Kv,1,0,"cu-drop-area",5),X.cc(8,"div",6),X.cc(9,"div",7),X.qc("@taskSavingTrigger.done",function(e){return t.awaiting(e)}),X.cc(10,"div",8),X.cc(11,"div",9),X.qc("@fileMoveTrigger.done",function(e){return t.fileMoveFinished(e)}),X.tc(),X.cc(12,"svg",10),X.Xb(13,"path",11),X.Xb(14,"path",12),X.Xb(15,"path",13),X.Xb(16,"path",14),X.bc(),X.bc(),X.sc(),X.cc(17,"div",15),X.tc(),X.cc(18,"svg",16),X.Xb(19,"circle",17),X.Xb(20,"circle",18),X.bc(),X.bc(),X.sc(),X.cc(21,"div",19),X.tc(),X.cc(22,"svg",16),X.Xb(23,"path",20),X.Xb(24,"path",21),X.Xb(25,"path",22),X.cc(26,"g"),X.Xb(27,"path",23),X.Xb(28,"path",24),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(29,"div",25),X.tc(),X.cc(30,"svg",26),X.Xb(31,"path",27),X.Xb(32,"path",28),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(33,"div",29),X.tc(),X.cc(34,"svg",30),X.Xb(35,"path",31),X.Xb(36,"path",32),X.Xb(37,"path",33),X.Xb(38,"path",34),X.Xb(39,"path",35),X.Xb(40,"path",36),X.Xb(41,"path",37),X.Xb(42,"path",38),X.Xb(43,"path",39),X.Xb(44,"path",40),X.Xb(45,"path",41),X.Xb(46,"path",42),X.Xb(47,"path",43),X.Xb(48,"path",44),X.Xb(49,"path",45),X.Xb(50,"path",46),X.Xb(51,"path",47),X.Xb(52,"path",48),X.bc(),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(53,"div",null,49),X.Xb(55,"cu-block-handle-menu",50),X.bc(),X.cc(56,"div",51),X.qc("keydown",function(e){return t.manageCreateKeys(e)},!1,X.Tc)("keydown",function(e){return t.checkCreateText(e)},!1,X.Sc)("keyup",function(e){return t.checkCreateText(e),t.preventBadKeys(e)},!1,X.Sc)("keyup",function(e){return t.preventBadKeys(e)})("keydown",function(e){return t.preventBadKeys(e)}),X.cc(57,"div",52),X.cc(58,"div",53),X.cc(59,"div",54,55),X.qc("dropdownOpen",function(){return t.getStatuses(),t.statusListComponent.focusInput()})("dropdownClose",function(){return null==t.statusListComponent?null:t.statusListComponent.resetSearch(!1)}),X.vc(61,"async"),X.Xb(62,"div",56),X.vc(63,"isColorDarkerThan"),X.bd(64,ey,5,5,"div",57),X.bc(),X.bc(),X.cc(65,"div",58),X.cc(66,"div",59),X.cc(67,"cu-slash-command",60),X.qc("applyCommand",function(e){return t.applySlashCommand(e)})("onPage",function(e){return t.checkPaging(e)}),X.vc(68,"async"),X.vc(69,"async"),X.vc(70,"async"),X.vc(71,"async"),X.cc(72,"textarea",61,62),X.qc("keydown",function(e){return t.nameInputKeydown(e)})("ngModelChange",function(e){return t.taskName=e})("ngModelChange",function(e){return t.debounceDraftChanges.next(e)}),X.bc(),X.bc(),X.bc(),X.bd(75,ty,5,0,"div",63),X.bc(),X.cc(76,"div",64),X.qc("click",function(){return t.closeDrafter()}),X.tc(),X.cc(77,"svg",65),X.cc(78,"g",66),X.Xb(79,"path",67),X.Xb(80,"path",68),X.Xb(81,"path",69),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(82,"div",70),X.qc("click",function(){return t.removeDraft()}),X.bc(),X.bc(),X.cc(83,"div",71),X.cc(84,"div",72,73),X.cc(86,"div",74),X.ac(87),X.gc(88,75),X.Zb(),X.cc(89,"div",76),X.cc(90,"cu-draft-location-selector",77,78),X.qc("onSelect",function(e){return t.selectCategory(e,!0)})("onDropdown",function(e){return t.categoryDropdownToggle(e)})("onClose",function(){return t.locationSelectionOpen=!1})("onOpen",function(){return t.locationSelectionOpen=!0})("onKeydown",function(e){return t.navSelectorKeydown(e)}),X.vc(92,"async"),X.bc(),X.bd(93,iy,5,0,"div",63),X.bc(),X.ac(94),X.gc(95,79),X.Zb(),X.cc(96,"div",80),X.qc("hoverKeyDown",function(){return t.toggleMe()}),X.cc(97,"cu-user-and-groups-list-dropdown",81,82),X.qc("onChange",function(e){return t.setAssignees(e,!0)})("onFinished",function(e){return t.assigneesSelectorClosed(e)})("onOpen",function(){return t.assigneeOpen=!0})("onClose",function(){return t.closeAssignee()})("onUserGroupsChanged",function(e){return t.setUserGroupAssignees(e,!0)}),X.vc(99,"async"),X.vc(100,"membersToUsers"),X.cc(101,"cu-user-group",83),X.qc("onUserRemove",function(e){return t.removeAssignee(e,!0)})("onUserGroupRemove",function(e){return t.removeUserGroupAssignee(e,!0)}),X.bc(),X.bc(),X.bc(),X.Xb(102,"div",84),X.bd(103,ny,7,2,"div",85),X.bc(),X.bd(104,sy,2,7,"cu-task-blockers",86),X.bd(105,ry,5,27,"cu-task-editor",87),X.bd(106,ly,3,11,"cu-task-custom-fields",88),X.bd(107,py,3,2,"div",89),X.bd(108,by,10,2,"div",90),X.cc(109,"div",91),X.cc(110,"cu-checklist2",92),X.qc("createChecklistClosed",function(){return t.createChecklistClosed()}),X.vc(111,"async"),X.bc(),X.bc(),X.bd(112,gy,5,0,"div",93),X.cc(113,"div",94),X.cc(114,"div",95),X.bd(115,fy,1,0,"ng-template",null,96,X.cd),X.cc(117,"div",97),X.gc(118,98),X.bc(),X.cc(119,"div",99,100),X.cc(121,"div",101),X.cc(122,"span",102,103),X.gc(124,104),X.bc(),X.Xb(125,"div",105),X.bc(),X.bd(126,wy,11,5,"div",57),X.bc(),X.bc(),X.cc(127,"cu-uploader",106,107),X.qc("onFileUploaded",function(){return t.saveDraft(),t.updateAttachmentCount("add")})("onFileDeleted",function(){return t.saveDraft(),t.updateAttachmentCount("remove")})("onLoadPercent",function(e){return t.updateLoadPercent(e)}),X.bc(),X.bc(),X.bc(),X.bc(),X.cc(129,"div",108),X.cc(130,"div",109),X.bd(131,xy,2,4,"cu-priority-list-dropdown",110),X.bd(132,jy,6,43,"div",111),X.bd(133,Oy,5,19,"div",112),X.bd(134,Iy,4,5,"div",113),X.bd(135,Dy,4,5,"div",113),X.vc(136,"async"),X.cc(137,"div",114,115),X.qc("onOpen",function(){return t.getRecentTemplates()}),X.cc(139,"div",116),X.qc("click",function(){return t.checkListValidForTemplate()}),X.tc(),X.cc(140,"svg",117),X.Xb(141,"rect",118),X.Xb(142,"path",119),X.Xb(143,"path",120),X.Xb(144,"path",121),X.Xb(145,"path",122),X.Xb(146,"path",123),X.Xb(147,"path",124),X.bc(),X.bc(),X.sc(),X.cc(148,"div",125),X.cc(149,"div",126),X.bd(150,Cy,2,6,"cu-template-list",127),X.vc(151,"async"),X.vc(152,"async"),X.bd(153,Py,1,0,"cu-loader",5),X.vc(154,"async"),X.cc(155,"a",128),X.qc("click",function(){return t.openTemplateCenter("create")}),X.Xb(156,"div",129),X.cc(157,"div",130),X.gc(158,131),X.bc(),X.bc(),X.cc(159,"a",132),X.qc("click",function(){return t.openTemplateCenter("load")}),X.Xb(160,"div",129),X.cc(161,"div",130),X.gc(162,133),X.bc(),X.bc(),X.cc(163,"a",132),X.qc("click",function(){return t.openTemplateCenter("save")}),X.Xb(164,"div",129),X.cc(165,"div",130),X.dd(166," Save as Template "),X.bc(),X.bc(),X.cc(167,"a",132),X.qc("click",function(){return t.openTemplateCenter("update")}),X.Xb(168,"div",129),X.cc(169,"div",130),X.gc(170,134),X.bc(),X.bc(),X.bc(),X.bc(),X.bc(),X.cc(171,"div",135),X.qc("click",function(){X.Uc(e);const i=X.Rc(202);return t.showDependencyModal(i)}),X.tc(),X.cc(172,"svg",136),X.cc(173,"g",66),X.Xb(174,"path",137),X.cc(175,"g",138),X.Xb(176,"path",139),X.Xb(177,"path",140),X.Xb(178,"path",141),X.bc(),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(179,"cu-user-and-groups-list-dropdown",142),X.qc("onChange",function(e){return t.setFollowers(e,!0)})("onUserGroupsChanged",function(e){return t.setGroupFollowers(e,!0)}),X.vc(180,"async"),X.vc(181,"membersToUsers"),X.vc(182,"async"),X.cc(183,"div",143),X.Xb(184,"div",144),X.cc(185,"div",145),X.vc(186,"async"),X.vc(187,"async"),X.dd(188),X.vc(189,"async"),X.vc(190,"async"),X.bc(),X.bc(),X.bc(),X.bc(),X.cc(191,"button",146),X.bd(192,$y,5,2,"div",147),X.bd(193,zy,3,0,"div",148),X.bd(194,My,18,2,"div",149),X.bc(),X.bc(),X.bc(),X.bc(),X.bd(195,Ey,7,0,"ng-template",null,150,X.cd),X.bd(197,By,7,66,"ng-template",null,151,X.cd),X.Yb(199,null,152),X.bd(201,Wy,2,7,"ng-template",null,153,X.cd)}if(2&e){const e=X.Rc(116),i=X.Rc(128);let a=null,o=null,c=null,n=null,s=null,r=null;X.Dc("ngIf","load_template"===t.modeValue),X.Ib(1),X.Dc("ngIf","from_template"===t.modeValue),X.Ib(1),X.Dc("ngIf","save_template"===t.modeValue),X.Ib(1),X.Dc("hidden",!("create"===t.modeValue||"initial_template"===t.modeValue)),X.Ib(2),X.Dc("ngIf",X.wc(6,101,t.missingRequired$)&&t.showMissingRequired),X.Ib(2),X.Dc("ngIf",t.connected),X.Ib(1),X.Dc("hidden",!t.isLoaded),X.Ib(1),X.Dc("@taskSavingTrigger",t.saveTimer),X.Ib(1),X.Dc("hidden",t.finalFile),X.Ib(1),X.Dc("@fileMoveTrigger",t.fileMover),X.Ib(22),X.Dc("hidden",!t.finalFile),X.Ib(22),X.Dc("menu",t.blockHandleMenuData)("handleCommit",t.blockHandleCommit)("handleSelect",t.blockHandleSelect),X.Ib(4),X.Dc("dropdownDisabled",X.wc(61,103,t.loadingDraft$))("dropdownCloseOnInsideClick",!1),X.Ib(3),X.Ob("lv-task__status_light",!X.xc(63,105,(null==t.draftValue||null==t.draftValue.status?null:t.draftValue.status.color)||(null==t.draftValue||null==t.draftValue.status?null:t.draftValue.status.colors)&&(null==t.draftValue||null==t.draftValue.status?null:t.draftValue.status.colors[0]),.86)),X.Dc("ngStyle",X.Hc(146,Vy,(null==t.draftValue||null==t.draftValue.status?null:t.draftValue.status.color)||(null==t.draftValue||null==t.draftValue.status?null:t.draftValue.status.colors)&&(null==t.draftValue||null==t.draftValue.status?null:t.draftValue.status.colors[0]))),X.Ib(3),X.Dc("ngClass",X.Hc(148,Xv,!t.isTaskNameValid&&!t.taskName)),X.Ib(2),X.Dc("dateFormatting",null==(a=X.wc(68,108,t.user$))?null:a.date_format)("meUser",X.wc(69,110,t.user$))("users",t.users)("userGroups",t.userGroups)("statuses",t.statusList)("priorities",t.priorityList)("tags",t.tagsList)("points",X.wc(70,112,t.points$))("weights",X.wc(71,114,t.weights$))("allowedCommands",X.Pc(150,Xy,[null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.priorities?null:t.selectedProject.features.priorities.enabled,null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.due_dates?null:t.selectedProject.features.due_dates.enabled,null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.due_dates?null:t.selectedProject.features.due_dates.enabled,null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.due_dates?null:t.selectedProject.features.due_dates.enabled,null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.time_estimates?null:t.selectedProject.features.time_estimates.enabled,null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.points?null:t.selectedProject.features.points.enabled,(null==t.statusList?null:t.statusList.length)>2,(null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.tags?null:t.selectedProject.features.tags.enabled)&&((null==t.selectedProject||null==t.selectedProject.permissions?null:t.selectedProject.permissions.manage_tags)||(null==t.selectedProject||null==t.selectedProject.permissions?null:t.selectedProject.permissions.add_tags)),t.taskSubcategory&&t.taskPositions.length]))("currentValues",X.Pc(170,Hy,[t.taskAssignees,t.taskFollowers,t.taskStatus,t.priority,X.Jc(160,Ay,t.selectedProject,t.taskCategory,t.taskSubcategory),t.points,X.Ic(164,Fy,t.dueDate,t.dueDateTime),t.tags,X.Ic(167,Uy,t.taskPosition||1,t.taskPositions.length||1),t.timeEstimateMilli]))("options",X.Ic(185,qy,X.Hc(181,Ry,null==t.selectedProject?null:t.selectedProject.multiple_assignees),X.Hc(183,Gy,null==t.selectedProject||null==t.selectedProject.permissions?null:t.selectedProject.permissions.manage_tags))),X.Ib(5),X.Dc("ngModel",t.taskName),X.Ib(3),X.Dc("ngIf",!t.isTaskNameValid),X.Ib(15),X.Dc("disabled",X.wc(92,116,t.loadingDraft$))("selectedProject",t.selectedProject)("selectedCategory",t.taskCategory)("selectedSubcategory",t.taskSubcategory),X.Ib(3),X.Dc("ngIf",!t.isTaskSubcategoryValid),X.Ib(3),X.Dc("cuHoverKeyDown",X.Gc(188,Yy)),X.Ib(1),X.Dc("enableFirstSelection",!0)("multiChoice",null==t.selectedProject?null:t.selectedProject.multiple_assignees)("selectedUsers",t.taskAssignees)("weights",X.wc(99,118,t.weights$))("weightType",t.UserWeightType.ASSIGN)("users",X.wc(100,120,t.projectMembers))("showUnassign",(null==t.taskAssignees?null:t.taskAssignees.length)>0)("userGroups",t.userGroups)("selectedUserGroups",t.taskUserGroupAssignees)("subcategory",t.taskSubcategory),X.Ib(4),X.Dc("showUserRemover",!0)("users",t.taskAssignees)("assignIcon",!0)("multiChoice",null==t.selectedProject?null:t.selectedProject.multiple_assignees)("modifier","cu-user-group_m")("avatarSize",30)("showDropdown",!1)("userGroups",t.taskUserGroupAssignees),X.Ib(2),X.Dc("ngIf",t.taskSubcategory&&t.taskPositions.length&&!!t.connected),X.Ib(1),X.Dc("ngIf",t.dependencies.links.length>0||t.dependencies.blockers.length>0||t.dependencies.blocked.length>0),X.Ib(1),X.Dc("ngIf",t.showExtraItems),X.Ib(1),X.Dc("ngIf",((null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.custom_fields?null:t.selectedProject.features.custom_fields.enabled)||t.cfEnabledForSelectedGuestSpace)&&(null==t.taskSubcategory?null:t.taskSubcategory.permissions)&&t.showExtraItems),X.Ib(1),X.Dc("ngIf",t.subtaskList&&0===t.subtaskList.length||!t.showChecklistBlock),X.Ib(1),X.Dc("ngIf",t.subtaskList&&0!==t.subtaskList.length),X.Ib(1),X.Dc("hidden",!t.showChecklistBlock),X.Ib(1),X.Dc("itemData",null)("spaceData",t.selectedProject)("teamId",null==(o=X.wc(111,122,t.team$))?null:o.id)("isNewTask",!0)("newTaskMembers",t.users),X.Ib(2),X.Dc("ngIf",!t.connected),X.Ib(1),X.Dc("hidden",!t.connected),X.Ib(6),X.Dc("dropdownDestroyMenuOnClose",!1),X.Ib(3),X.Dc("popover",e)("outsideClick",!0),X.Ib(5),X.Dc("hidden",!t.connected)("options",t.UPLOAD_OPTIONS),X.Ib(4),X.Dc("ngIf",null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.priorities?null:t.selectedProject.features.priorities.enabled),X.Ib(1),X.Dc("ngIf",null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.due_dates?null:t.selectedProject.features.due_dates.enabled),X.Ib(1),X.Dc("ngIf",null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.tags?null:t.selectedProject.features.tags.enabled),X.Ib(1),X.Dc("ngIf",null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.time_estimates?null:t.selectedProject.features.time_estimates.enabled),X.Ib(1),X.Dc("ngIf",(null==t.selectedProject||null==t.selectedProject.features||null==t.selectedProject.features.points?null:t.selectedProject.features.points.enabled)&&!(null!=(c=X.wc(136,124,t.team$))&&c.points_limit_reached)),X.Ib(15),X.Dc("ngIf",!X.wc(151,126,t.isTemplatesLoading$)&&(null==(n=X.wc(152,128,t.templateList$))?null:n.length)>0),X.Ib(3),X.Dc("ngIf",X.wc(154,130,t.isTemplatesLoading$)),X.Ib(26),X.Dc("enableFirstSelection",!0)("multiChoice",!0)("showUnassign",!1)("selectedUsers",X.wc(180,132,t.displayedTaskFollowers$)||X.Gc(189,Zy))("users",X.wc(181,134,t.projectMembers))("userGroups",t.userGroups)("subcategory",t.taskSubcategory)("selectedUserGroups",X.wc(182,136,t.displayedTaskGroupFollowers$)||X.Gc(190,Zy)),X.Ib(4),X.Dc("ngClass",X.Ic(191,Qy,t.selfWatching,t.selfWatching)),X.Ib(2),X.Dc("ngClass",X.Hc(194,Bv,!((null==(s=X.wc(186,138,t.displayedTaskFollowers$))?null:s.length)+(null==(s=X.wc(187,140,t.displayedTaskGroupFollowers$))?null:s.length)))),X.Ib(3),X.fd(" ",(null==(r=X.wc(189,142,t.displayedTaskFollowers$))?null:r.length)+(null==(r=X.wc(190,144,t.displayedTaskGroupFollowers$))?null:r.length)," "),X.Ib(3),X.Ob("enter-will-create",t.enterWillCreate),X.Dc("disabled",t.isSaving||i.isLoading||t.isContentUploading),X.Ib(1),X.Dc("ngIf",!i.isLoading&&!t.isContentUploading),X.Ib(1),X.Dc("ngIf",i.isLoading||t.isContentUploading),X.Ib(1),X.Dc("ngIf",!i.isLoading&&!t.isContentUploading)}},directives:[n.q,Mr.a,U_.a,Ar.b,Lr.a,Fr.a,n.t,Ur.a,n.o,k_.b,S.a,s.c,N_.a,s.p,s.s,Qe.a,B_,W_.a,V_.a,qr.a,X_.a,m.c,H_.a,Y_.a,Z_.a,iv,Ze.a,ov.a,ue.a,le.a,cv,nv.a,n.p,sv.a,xf.b,rv.a,lv.a,dv.a,uv.a,pv.a,Cm.a,$m.a,mv.a,hv.a,bv.a,gv.a,fv.a,_v.a,Jt.a],pipes:[n.b,vv.a,Df.a],styles:['.cu-draft-view{height:510px;width:580px;max-height:calc(100vh - 70px);position:relative}.cu-draft-view__missing{position:absolute;top:-30px;background:#d16464;width:100%;display:flex;align-items:center;justify-content:center;height:30px;color:#fff}.cu-draft-view .cu-slash-command__input{white-space:normal}.cu-draft-view__animation{position:absolute;z-index:10001;width:100%;height:100%;overflow:hidden}.cu-draft-view__animation-inner{background-color:#7b68ee;position:absolute;transform:translateX(100%);width:120%;height:100%}@supports (--theme-main-color:#7b68ee){.cu-draft-view__animation-inner{background-color:var(--theme-main-color)}}.cu-draft-view__animation-folder{position:absolute;top:40%;left:30%;z-index:10002;text-align:center}.cu-draft-view__animation-folder-task{position:absolute;top:-100px;height:150px;width:150px;z-index:10003}.cu-draft-view__animation-folder-front{position:absolute;height:150px;width:150px;z-index:10004}.cu-draft-view__animation-folder-back{position:absolute;height:150px;width:150px;z-index:10002}.cu-draft-view__animation-folder-eyes{position:absolute;height:150px;width:150px;z-index:10005}.cu-draft-view__animation-folder-heart{position:absolute;height:50px;width:50px;z-index:10005}.cu-draft-view__animation-final{position:absolute;top:40%;left:30%;z-index:10002;text-align:center;height:150px;width:150px}.cu-draft-view__container{height:100%;display:flex;flex-direction:column}.cu-draft-view__body{min-width:0;min-height:0;flex-grow:1;height:0}.cu-draft-view__scrollable{width:100%;height:100%;padding:0 20px;overflow-y:scroll;background:#fff}.cu-os-win .cu-draft-view__scrollable{scrollbar-width:thin}.cu-os-win .cu-draft-view__scrollable::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-draft-view__scrollable::-webkit-scrollbar-track,.cu-os-win .cu-draft-view__scrollable::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-draft-view__scrollable::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-draft-view__scrollable::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-draft-view__scrollable::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-draft-view__scrollable::-webkit-scrollbar,.cu-os-win .dark-theme .cu-draft-view__scrollable::-webkit-scrollbar,.cu-os-win.dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-track{background-color:#384047}.cu-os-win.dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-track:hover{background-color:#384047}.cu-os-win.dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-draft-view__scrollable::-webkit-scrollbar-thumb:hover{border-color:#384047}.dark-theme .cu-draft-view__scrollable{background:#384047}.cu-draft-view__scrollable:before{content:"";display:block;position:sticky;width:100%;top:0;height:8px;z-index:1;pointer-events:none;background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu-draft-view__scrollable:before{background:linear-gradient(180deg,#384047 0,rgba(56,64,71,0))}.cu-draft-view__scrollable .ps__rail-y{z-index:10}.cu-draft-view__titlebar{display:flex;z-index:10;position:relative;background:#fff}.dark-theme .cu-draft-view__titlebar{background:#384047}.cu-draft-view__titlebar>.cu-form__row{display:flex;flex-grow:1;margin:0;padding-right:15px}.cu-draft-view__titlebar>.cu-form__row .cu-form__field{border:transparent}.cu-draft-view__titlebar>.cu-form__row .cu-form__error{position:absolute;bottom:-5px}.cu-draft-view__titlebar-status-selector{display:flex;align-items:flex-start;margin-top:24px;margin-left:20px}.cu-draft-view__titlebar-status-selector .lv-task__status-container{margin-right:10px}.cu-draft-view__titlebar-quick-option{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:24px;height:24px;padding:5px;margin-top:15px;cursor:pointer;fill:#343434}.dark-theme .cu-draft-view__titlebar-quick-option{fill:#d5d6d7}.cu-draft-view__titlebar-quick-option:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__titlebar-quick-option:hover{fill:var(--theme-main-color)}}.cu-draft-view__titlebar-quick-option+.cu-draft-view__titlebar-quick-option{margin-left:5px}.cu-draft-view__titlebar-quick-option:last-child{margin-right:15px}.cu-draft-view__titlebar-quick-option_minimize{transition:stroke .2s cubic-bezier(.785,.135,.15,.86) 0s;padding:4px 4px 3px;stroke:#343434}.dark-theme .cu-draft-view__titlebar-quick-option_minimize{stroke:#d5d6d7}.cu-draft-view__titlebar-quick-option_minimize:hover{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__titlebar-quick-option_minimize:hover{stroke:var(--theme-main-color)}}.cu-draft-view__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1.3em;color:#111;resize:none;border:0;outline:none;background:transparent;padding:16px 20px 0 0}.cu-draft-view__title::-webkit-input-placeholder{color:rgba(34,34,34,.5);font-size:16px}.cu-draft-view__title::-moz-placeholder{color:rgba(34,34,34,.5);opacity:1;font-size:16px}.cu-draft-view__title:-ms-input-placeholder{color:rgba(34,34,34,.5);font-size:16px}.cu-draft-view__title:-moz-placeholder{color:rgba(34,34,34,.5);opacity:1;font-size:16px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-draft-view__title{font-family:var(--global-font-support)}}.dark-theme .cu-draft-view__title{color:#d5d6d7}.dark-theme .cu-draft-view__title::-webkit-input-placeholder{color:rgba(213,214,215,.5);font-size:16px}.dark-theme .cu-draft-view__title::-moz-placeholder{color:rgba(213,214,215,.5);opacity:1;font-size:16px}.dark-theme .cu-draft-view__title:-ms-input-placeholder{color:rgba(213,214,215,.5);font-size:16px}.dark-theme .cu-draft-view__title:-moz-placeholder{color:rgba(213,214,215,.5);opacity:1;font-size:16px}.cu-draft-view__title-container{width:100%;flex-grow:1;padding:5px 20px 0 0;min-height:55px}.cu-draft-view__title-container .cu-slash-command{display:inline-block;padding:15px 20px 12px 0}.cu-draft-view__title-container .cu-slash-command__input{min-width:255px}.cu-draft-view__location{display:flex;align-items:center;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:rgba(34,34,34,.6);padding:5px 0 10px}.dark-theme .cu-draft-view__location{color:#abaeb0}.cu-draft-view__location-location{margin:0 12px;min-width:0}.cu-draft-view__location-assignee{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;margin:0 12px;padding:0 2px;height:36px;border-radius:18px;border:1px solid #e4e4e4}.dark-theme .cu-draft-view__location-assignee{border:1px solid #1e272e}.cu-draft-view__location-assignee:hover{background:#f7f7f7}.dark-theme .cu-draft-view__location-assignee:hover{background:#2b343b}.cu-draft-view__location-divider{flex-grow:1}.cu-draft-view__location-position{flex-shrink:0}.cu-draft-view__orderindex-caret{width:10px;height:10px;margin-left:5px;fill:rgba(34,34,34,.6)}.dark-theme .cu-draft-view__orderindex-caret{fill:#abaeb0}.cu-draft-view__orderindex-toggle{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;height:26px;display:flex;align-items:center;border:1px solid #e4e4e4;border-radius:5px;padding:0 6px 0 8px;white-space:nowrap;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:rgba(34,34,34,.6)}.dark-theme .cu-draft-view__orderindex-toggle{border:1px solid #1e272e;color:#abaeb0}.cu-draft-view__orderindex-toggle:hover{background:#f7f7f7}.dark-theme .cu-draft-view__orderindex-toggle:hover{background:#2b343b}.cu-draft-view__orderindex-dropdown{width:90px;max-height:400px;overflow-y:scroll}.cu-draft-view__orderindex-dropdown .cu-list-status{min-width:100%;padding:0}.cu-draft-view__orderindex-dropdown .cu-list-status__item{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif}.cu-draft-view__orderindex-dropdown .cu-list-status__item:hover{background-color:#fafbfc}.dark-theme .cu-draft-view__orderindex-dropdown .cu-list-status__item:hover{background:#2b343b}.cu-draft-view__orderindex-dropdown .cu-list-status__item:hover,.cu-draft-view__orderindex-dropdown .cu-list-status__item_active{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__orderindex-dropdown .cu-list-status__item:hover,.cu-draft-view__orderindex-dropdown .cu-list-status__item_active{color:var(--theme-main-color)}}.cu-draft-view__subtasks{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;position:relative;display:flex;align-items:center;border:1px solid transparent;border-radius:3px;padding:0 10px 0 0}.cu-draft-view__subtasks:hover{transition:none}.cu-draft-view__subtasks:before{content:"";display:block;position:absolute;width:6px;height:6px;border-radius:50%;background:#e4e4e4;top:calc(50% - 4px);left:0}.cu-draft-view__subtasks-list{margin-top:5px}.cu-draft-view__subtasks-name{font-family:Gotham Pro,Proxima Nova,arial,serif;font-size:14px;line-height:130%;border:0;background:none;box-shadow:none;flex-grow:1;padding:7px 10px 7px 15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-draft-view__subtasks-name{font-family:var(--global-font-support)}}.cu-draft-view__subtasks-name:focus{outline:none;background:none;box-shadow:none}.cu-draft-view__subtasks-controls{display:flex;align-items:center;justify-content:flex-end;flex-shrink:0}.cu-draft-view__subtasks-control{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;width:24px;height:24px;margin:0 0 0 5px;padding:4px;border-radius:3px}.cu-draft-view__subtasks-control:hover{background:#f2f2f2}.dark-theme .cu-draft-view__subtasks-control:hover{background:#2b343b}.cu-draft-view__subtasks-control:active{background:#fafbfc}.cu-draft-view__subtasks-control_edit{padding:5px;stroke:#b9bec7}.cu-draft-view__subtasks-control_remove{fill:#fd71af;stroke:#fd71af}.cu-draft-view__subtasks-control_cancel,.cu-draft-view__subtasks-control_save{display:none}.cu-draft-view__subtasks-add{display:inline-block;margin:10px 0;padding:2px 0;color:#4a90e2;font:14px Gotham Pro,Proxima Nova,arial,serif}.dark-theme .cu-draft-view__subtasks-add{color:#72b3fd}.cu-draft-view__subtasks-add>span{color:inherit;margin:0 4px 0 0}.cu-draft-view__checklists{margin-bottom:25px}.cu-draft-view__checklists .cu-form__label{margin-bottom:5px}.cu-draft-view__checklists .checklist2-bubble{pointer-events:none}.cu-draft-view__attachments-header{display:flex;align-items:center}.cu-modal__body .cu-draft-view__attachments .filter-list{width:200px}.cu-draft-view__uploader .cu-uploader{padding:7px 0}.cu-draft-view__uploader .cu-uploader .cu-btn,.cu-draft-view__uploader .cu-uploader__title{display:none}.cu-draft-view__footer{display:flex;align-items:flex-start;position:relative;padding:10px 0 20px;background:#fff}.dark-theme .cu-draft-view__footer{background:#384047}.cu-draft-view__footer:before{content:"";display:block;position:absolute;width:100%;height:8px;top:-8px;z-index:2;pointer-events:none;background:linear-gradient(180deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-draft-view__footer:before{background:linear-gradient(180deg,rgba(56,64,71,0) 0,#384047)}.cu-draft-view__footer-options{flex-grow:1;display:flex;align-items:center;padding-right:20px;margin-top:5px;margin-left:20px;flex-wrap:wrap}.cu-draft-view__footer-options-date{margin-left:7px;flex-shrink:0;display:flex;align-items:center}.cu-draft-view__footer-options-date .cu-dropdown__toggle{display:flex;align-items:center}.cu-draft-view__footer-options-date .cu-recurring-icon__icon{margin:0 5px}.cu-draft-view__footer-options-date .due-date__row .datepicker__close-date-view{margin:0}.cu-draft-view__footer-options-date .due-date__row span.due-date__info-value{border-bottom:0}.cu-draft-view__footer-options .cu-draft-view__footer-options-item{margin-left:0;margin-right:10px;margin-bottom:7px}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-dropdown__menu:after{display:none!important}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-user-group .cu-user-group__item.cu-user-group__item_due-date{margin-right:0;margin-left:0}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-user-group_due-date{margin:0;padding:0}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-circular-progress{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-btn__spinner{padding:0}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-btn__spinner>div{height:5px;width:5px}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments,.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments .cu-dropdown__toggle{position:relative}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments-icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;height:34px;width:34px;border-radius:50%;border:.6px dashed #aeacb0;display:flex;align-items:center;justify-content:center}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments-icon.loading{border:none}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments-icon:hover .icon{fill:var(--theme-main-color)!important}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments-icon .icon{width:9px;height:17px;fill:var(--theme-main-color)}.dark-theme .cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments-icon .icon{fill:#979797}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments-icon:hover{border-color:var(--theme-main-color)}.cu-draft-view__footer-options .cu-draft-view__footer-options-item .cu-draft-view__attachments-count{font-weight:500;font-size:9px;line-height:9px;background-color:var(--theme-main-color);position:absolute;top:-4px;right:-4px;border-radius:10px;color:#fff;padding:3px 6px 1px}.cu-draft-view__footer-options .cu-template-item__row{padding:0 20px;margin:0 -15px}.cu-draft-view__footer-options .due-date__row.due-date_create-task{padding:0;border-right:none;margin:0}.cu-draft-view__footer-options .due-date__row.due-date_create-task:hover .icon_due-date-calendar{visibility:hidden;display:block}.cu-draft-view__footer-tags .cu-tags-view__icon{display:flex}.cu-draft-view__footer-watchers{padding:5px 0;margin-left:auto}.cu-draft-view__footer-dependencies{width:34px;margin-top:4px;cursor:pointer}.cu-draft-view__footer-dependencies svg .cu-fill{fill:#979797}.cu-draft-view__footer-dependencies svg .cu-stroke{stroke:#979797}.cu-draft-view__footer-dependencies:hover svg .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__footer-dependencies:hover svg .cu-fill{fill:var(--theme-main-color)}}.cu-draft-view__footer-dependencies:hover svg .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__footer-dependencies:hover svg .cu-stroke{stroke:var(--theme-main-color)}}.cu-draft-view__submit{background:#7b68ee;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;width:145px;height:40px;border-radius:3px;cursor:pointer;border:0;position:relative;padding-right:24px;margin-right:20px}@supports (--theme-main-color:#7b68ee){.cu-draft-view__submit{background:var(--theme-main-color)}}.cu-draft-view__submit.enter-will-create{border:3px solid}.cu-draft-view__submit:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-draft-view__submit:hover{background:var(--theme-main-color-dark)}}.cu-draft-view__submit[disabled]{opacity:.7;cursor:not-allowed}.cu-draft-view__submit-btn{background:#7b68ee;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:100%;border-radius:3px}@supports (--theme-main-color:#7b68ee){.cu-draft-view__submit-btn{background:var(--theme-main-color)}}.cu-draft-view__submit-btn:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-draft-view__submit-btn:hover{background:var(--theme-main-color-dark)}}.cu-draft-view__submit-msg{font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff}.cu-draft-view__submit-msg-key{font:400 9px/1 Gotham Pro,Proxima Nova,arial,serif;position:absolute;bottom:-12px;color:rgba(34,34,34,.6)}.dark-theme .cu-draft-view__submit-msg-key{color:#abaeb0}.cu-draft-view__submit-options{background:#7b68ee;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;position:absolute;top:0;right:0;width:24px;height:100%;cursor:pointer;border-radius:0 3px 3px 0;border-left:1px solid #fff}@supports (--theme-main-color:#7b68ee){.cu-draft-view__submit-options{background:var(--theme-main-color)}}.dark-theme .cu-draft-view__submit-options{border-left-color:#384047}.cu-draft-view__submit-options:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-draft-view__submit-options:hover{background:var(--theme-main-color-dark)}}.cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top{width:20px}.cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-dropdown__menu{margin-top:0;right:-10px}.cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-user-list{margin:0;padding:0;width:auto}.cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-plate.cu-plate_sm{border-bottom:1px solid #f4f4f4;border-radius:0;padding:15px 20px}.dark-theme .cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-plate.cu-plate_sm{border-bottom:1px solid #1e272e}.cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-plate.cu-plate_sm:last-child{border-bottom:0}.cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-user-list__body{padding:0;width:auto}.cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-user-list__menu-bottom-arrow{position:absolute;bottom:-5px;right:15px;width:12px;height:12px;background:#fff;transform:rotate(45deg)}.dark-theme .cu-draft-view__submit-options .cu-dropdown.cu-dropdown_top .cu-user-list__menu-bottom-arrow{background:#384047}.cu-draft-view__submit-options .cu-dropdown__toggle{display:flex;align-items:center;justify-content:center;height:40px;cursor:pointer}.cu-draft-view__submit-icon{transform:rotate(180deg);fill:#fff;width:11px;height:11px}.cu-draft-view__templates{margin-left:12px}.cu-draft-view__templates-toggle{position:relative;width:34px;height:34px;padding:7px;cursor:pointer;display:flex;align-items:center;justify-content:center}.cu-draft-view__templates-toggle svg .cu-fill{fill:#979797}.cu-draft-view__templates-toggle svg .cu-stroke{stroke:#979797}.cu-draft-view__templates-toggle:before{content:"";display:block;position:absolute;width:34px;height:34px;border-radius:50%;border:.6px dashed #aeacb0}.cu-draft-view__templates-toggle:hover svg .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__templates-toggle:hover svg .cu-fill{fill:var(--theme-main-color)}}.cu-draft-view__templates-toggle:hover svg .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__templates-toggle:hover svg .cu-stroke{stroke:var(--theme-main-color)}}.contrast_high .cu-draft-view__templates-toggle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.contrast_high .cu-draft-view__templates-toggle:hover{fill:var(--theme-main-color)}}.cu-draft-view__templates-toggle:hover:before{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__templates-toggle:hover:before{border-color:var(--theme-main-color)}}.cu-draft-view__templates.cu-dropdown.cu-dropdown_left>.cu-dropdown__menu{right:-25px}.cu-draft-view__template{height:610px;width:620px;padding:20px;overflow-y:auto}.cu-draft-view__template-back{display:flex;margin-bottom:20px}.cu-draft-view__template-back-container{display:inline-flex;align-items:center}.cu-draft-view__template-back-container:hover .cu-draft-view__template-back-icon use{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-draft-view__template-back-container:hover .cu-draft-view__template-back-icon use{fill:var(--theme-main-color-dark)}}.cu-draft-view__template-back-container:hover .cu-draft-view__template-back-text{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-draft-view__template-back-container:hover .cu-draft-view__template-back-text{color:var(--theme-main-color-dark)}}.cu-draft-view__template-back-icon{width:10px;height:6px;transform:rotate(90deg);margin:4px 4px 4px 0;cursor:pointer}.cu-draft-view__template-back-icon use{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-draft-view__template-back-icon use{fill:var(--theme-main-color)}}.cu-draft-view__template-back-text{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#7b68ee;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-draft-view__template-back-text{color:var(--theme-main-color)}}.cu-draft-view__template .template-list{max-height:none}.cu-draft-view__template .template-list__body{max-height:380px}.cu-draft-view__template-confirm{padding:30px 0;font-size:1.5em;line-height:1.5em;text-align:center}.cu-draft-view__template-confirm-options{display:flex;flex-wrap:nowrap;justify-content:center;align-items:center}.cu-draft-view__template-confirm-options .cu-btn.cu-btn_status.cu-btn_option{display:block;width:unset;margin:0 10px;font-size:15px;font-weight:500;flex-shrink:0;line-height:18px;max-width:33%}.cu-draft-view__template-confirm-modal .cu-modal__body{min-height:0}.cu-draft-view__add{width:100%;display:flex;justify-content:space-between;padding-bottom:15px;margin-bottom:15px}.cu-draft-view__add-item{display:flex;align-items:center;cursor:pointer}.cu-draft-view__add-item:hover p{color:var(--theme-main-color-dark)}.cu-draft-view__add-item:hover .icon{background-color:var(--theme-main-color);fill:#fff}.cu-draft-view__add-item-icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;height:15px;width:15px;background-color:#eee;margin-right:5px;padding:3px;border-radius:2px;fill:#858585}.dark-theme .cu-draft-view__add-item-icon{fill:#1e272e;background-color:#d5d6d7}.cu-draft-view__add-item p{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-draft-view__add-item p{font-family:var(--global-font-support)}}.cu-draft-view__add-item-checklist{margin-left:auto}.cu-draft-view__add-item-checklist .cu-draft-view__add-item-icon{border-radius:50%}'],encapsulation:2,data:{animation:[Qt.h,Qt.k,Qt.b]},changeDetection:0}),e})();const ew=["draftView"],tw=function(e){return{"cu-create-task-draft__container_scratchpad":e}};let iw=(()=>{class e{constructor(e,t,i,a,o,c){this.store=e,this.helpers=t,this.sharedData=i,this.dataService=a,this.userService=o,this.changeDetector=c,this.defaultPath={category:null,subcategory:null},this.onTaskCreated=new X.o,this.scratchpadEnabled=!1,this.draft$=new Ee.a,this.mode$=new oa.a("create"),this.template$=new Ee.a,this.tagsMap$=this.store.select(yi.d),this.tagsLoadingMap$=this.store.select(yi.c),this.userGroups$=this.store.select(tf.c),this.user$=this.store.select(me.getUser),this.LayoutVersion=Ie.b,this.destroy$=new Ee.a}ngOnInit(){this.store.select(me.getTeam).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.team=e}),this.store.select(me.getUser).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e&&(this.currentUser=e,this.scratchpadEnabled=e.scratchpad)}),this.store.select(gi.d).pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{if(this.taskTray=e,e.fullTeamTray&&e.fullTeamTray.length){const t=Object(d_.a)(this.taskTray.teamTrayTasks);this.latestTabOrderindex=e.fullTeamTray.length<=10?t.tab_orderindex-1:(e.fullTeamTray[8].tab_orderindex+e.fullTeamTray[9].tab_orderindex)/2}}),this.store.select(Ta.e).pipe(Object(qt.a)(this.store.select(me.getUser),this.store.select(me.getTeam),this.store.select(ia.qb),this.store.select(me.getProject),this.store.select(Object(me.getDefaultPath)({withPermission:"can_create_tasks",ifSingle:!0}))),Object(Re.a)(this.destroy$)).subscribe(([e,t,i,a,o,c])=>{this.defaultPath=c||this.defaultPath,this.drafter=e;const{updating:n,mode:s}=this.drafter;if("shown"===this.drafter.view)if(null!==this.drafter.current_draft){const e=Object.assign({},Object(nr.a)(this.drafter.current_draft),{updating:n});e.project&&e.project.id||(e.project=o||this.sharedData.defaultProject),e.category&&e.category.id||Object.assign(e,Object.assign({},this.defaultPath)),n||(this.draftView.resetBaseDraft(),"create"===s&&this.draftView.focusTaskNameInput(1e3)),"initial_template"!==s||n?this.draft$.next(e):this.template$.next(e)}else{o||(o=this.sharedData.defaultProject);const e=Object.assign({team:String(this.team.id||""),name:"",content:"",project:o,assignees:[],followers:[this.currentUser.id],tags:[]},this.defaultPath);(a&&a.meView||i.personal_team)&&e.assignees.push(t.id),this.draft$.next(e)}else"hidden"===this.drafter.view&&this.draft$.next(null);this.nextMode?(this.store.dispatch(new xa.r(Object.assign(Object.assign({},this.drafter),{updating:!0,mode:this.nextMode}))),this.nextMode=null):this.mode$.value!==s&&this.mode$.next(s||"create"),this.changeDetector.detectChanges()})}ngAfterViewInit(){this.drafter.view&&this.draftView.taskNameInput.nativeElement.focus()}modeChanged(e){const{mode:t,fromTemplateLoad:i}=e;t!==this.mode$.value&&(i?this.nextMode=t:this.store.dispatch(new xa.r(Object.assign(Object.assign({},this.drafter),{updating:!0,mode:t}))),this.mode$.next(t),this.changeDetector.detectChanges())}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}taskCreated(e){this.onTaskCreated.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb($a.b),X.Wb(fe.a),X.Wb(Da.a),X.Wb(we.c),X.Wb(X.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["create-task-draft"]],viewQuery:function(e,t){if(1&e&&X.jd(ew,3),2&e){let e;X.Qc(e=X.rc())&&(t.draftView=e.first)}},outputs:{onTaskCreated:"onTaskCreated"},decls:10,vars:26,consts:[[1,"cu-create-task-draft__container",3,"ngClass"],[1,"cu-ct",3,"draft","template","mode","tagsMap","tagsLoadingMap","latestTabOrderindex","userGroups","onModeChange","onTaskCreated"],["draftView",""]],template:function(e,t){if(1&e&&(X.cc(0,"div",0),X.vc(1,"async"),X.cc(2,"cu-draft-view",1,2),X.qc("onModeChange",function(e){return t.modeChanged(e)})("onTaskCreated",function(e){return t.taskCreated(e)}),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.vc(7,"async"),X.vc(8,"async"),X.vc(9,"async"),X.bc(),X.bc()),2&e){let e=null;X.Ob("cu-create-task-draft__container-simple",(null==(e=X.wc(1,10,t.user$))?null:e.dashboard)===t.LayoutVersion.Six),X.Dc("ngClass",X.Hc(24,tw,t.scratchpadEnabled)),X.Ib(2),X.Dc("draft",X.wc(4,12,t.draft$))("template",X.wc(5,14,t.template$))("mode",X.wc(6,16,t.mode$))("tagsMap",X.wc(7,18,t.tagsMap$))("tagsLoadingMap",X.wc(8,20,t.tagsLoadingMap$))("latestTabOrderindex",t.latestTabOrderindex)("userGroups",X.wc(9,22,t.userGroups$))}},directives:[n.o,Jy],pipes:[n.b],styles:[".cu-create-task-draft__container{z-index:920;position:absolute;right:20px;bottom:51px;box-shadow:0 10px 25px 0 rgba(0,0,0,.5);background:#fff;will-change:transition,opacity}.dark-theme .cu-create-task-draft__container{background:#384047}.cu-create-task-draft__container.cu-create-task-draft__container_scratchpad{right:60px}.cu-create-task-draft__container.cu-create-task-draft__container-simple{bottom:63px;right:10px}"],encapsulation:2,data:{animation:[Qt.h,Qt.i]}}),e})();var aw=i("OZTK"),ow=i("loh9");function cw(e,t){1&e&&(X.cc(0,"div"),X.gc(1,2),X.bc())}function nw(e,t){1&e&&(X.cc(0,"div",12),X.Xb(1,"div",13),X.ac(2),X.gc(3,14),X.Zb(),X.bc()),2&e&&(X.Ib(1),X.Dc("icon","exclamation3"))}function sw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",15),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc().cancelSync(t)}),X.bc()}}function rw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",16),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc().cancelSync(t)}),X.bc()}}function lw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",17),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc().reattemptSync(t)}),X.bc()}}function dw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc().removeFromTray(t)}),X.bc()}}function uw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",3),X.cc(1,"div",4),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().redraftTask(i)}),X.dd(2),X.bd(3,nw,4,1,"div",5),X.bc(),X.Xb(4,"div",6),X.ac(5,7),X.bd(6,sw,1,0,"div",8),X.bd(7,rw,1,0,"div",9),X.bd(8,lw,1,0,"div",10),X.bd(9,dw,1,0,"div",11),X.Zb(),X.bc()}if(2&e){const e=t.$implicit;X.Ib(2),X.fd(" ",null==e?null:e.name," "),X.Ib(1),X.Dc("ngIf","fail"===e.sync_state&&"ACCESS_006"===e.sync_error.ECODE),X.Ib(2),X.Dc("ngSwitch",e.sync_state),X.Ib(1),X.Dc("ngSwitchCase","initial"),X.Ib(1),X.Dc("ngSwitchCase","syncing"),X.Ib(1),X.Dc("ngSwitchCase","fail"),X.Ib(1),X.Dc("ngSwitchCase","success")}}let pw=(()=>{class e{constructor(e){this.store=e,this.queuedTasks$=this.store.select(aw.b),this.disconnected$=this.store.select(ta.b),this.disconnected=!1,this.trackByDraftUuid=Object(be.d)("draft_uuid"),this.destroy$=new Ee.a,this.redraft=new X.o}ngOnInit(){this.disconnected$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.disconnected=e})}ngOnDestroy(){this.destroy$.next()}redraftTask(e){this.store.dispatch(new $e.m({task:e})),this.redraft.emit()}removeFromTray(e){this.store.dispatch(new xa.j({task:e}))}cancelSync(e){}reattemptSync(e){if("success"===e.sync_state)return this.removeFromTray(e);this.disconnected||this.store.dispatch(new $e.l({draft:e}))}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-queued-tasks-list"]],hostAttrs:[1,"cu-queued-tasks-list"],outputs:{redraft:"redraft"},decls:4,vars:7,consts:function(){let e,t,i,a,o,c;return e=$localize`:@@cu-queued-tasks-list__no-queued-tasks␟548b729a701c5bb9ae08d1fc08aace7d5c7a3217␟3573363637732298770: No Queued Tasks!
`,t=$localize`:@@cu-queued-tasks-list__tooltip-msg_awaiting-sync␟aacd91502ae1d7f75b91c7aa8e213e008a7bcf84␟7426508356328941025:Awaiting Sync`,i=$localize`:@@cu-queued-tasks-list__tooltip-msg_syncing␟ef06d69259e587e28d52372455f44c7153cda7e7␟7942348927165374914:Syncing`,a=$localize`:@@cu-queued-tasks-list__tooltip-msg_failed-to-sync␟b517eff0c2c158901d20145dda397fc0bf2d823d␟6493754367142530014:Failed to Sync`,o=$localize`:@@cu-queued-tasks-list__tooltip-msg_created␟29ede65155d2480e919b064f88b252df0b876cd7␟484689478066097736:Created!`,c=$localize`:@@cu-queued-tasks-list__location-no-longer-valid␟76a260c4a6cbee14a39020945e3b898cbe34b4a4␟8763567064928241212: The location selected for this Task is no longer valid. `,[[4,"ngIf"],["class","cu-queued-tasks-list__row",4,"ngFor","ngForOf","ngForTrackBy"],e,[1,"cu-queued-tasks-list__row"],[1,"cu-queued-tasks-list__name",3,"click"],["class","cu-queued-tasks-list__fail-reason",4,"ngIf"],[1,"cu-queued-tasks-list__divider"],[3,"ngSwitch"],["class","cu-queued-tasks-list__sync cu-queued-tasks-list__sync_initial","icon","refresh","cuTooltip",t,3,"click",4,"ngSwitchCase"],["class","cu-queued-tasks-list__sync cu-queued-tasks-list__sync_syncing","icon","refresh","cuTooltip",i,3,"click",4,"ngSwitchCase"],["class","cu-queued-tasks-list__sync cu-queued-tasks-list__sync_fail","icon","refresh","cuTooltip",a,3,"click",4,"ngSwitchCase"],["class","cu-queued-tasks-list__sync cu-queued-tasks-list__sync_success","icon","refresh","cuTooltip",o,3,"click",4,"ngSwitchCase"],[1,"cu-queued-tasks-list__fail-reason"],[1,"cu-queued-tasks-list__fail-reason-icon",3,"icon"],c,["icon","refresh","cuTooltip",t,1,"cu-queued-tasks-list__sync","cu-queued-tasks-list__sync_initial",3,"click"],["icon","refresh","cuTooltip",i,1,"cu-queued-tasks-list__sync","cu-queued-tasks-list__sync_syncing",3,"click"],["icon","refresh","cuTooltip",a,1,"cu-queued-tasks-list__sync","cu-queued-tasks-list__sync_fail",3,"click"],["icon","refresh","cuTooltip",o,1,"cu-queued-tasks-list__sync","cu-queued-tasks-list__sync_success",3,"click"]]},template:function(e,t){if(1&e&&(X.bd(0,cw,2,0,"div",0),X.vc(1,"async"),X.bd(2,uw,10,7,"div",1),X.vc(3,"async")),2&e){let e=null;X.Dc("ngIf",(null==(e=X.wc(1,3,t.queuedTasks$))?null:e.length)<1),X.Ib(2),X.Dc("ngForOf",X.wc(3,5,t.queuedTasks$))("ngForTrackBy",t.trackByDraftUuid)}},directives:[n.q,n.p,n.u,n.v,Qe.a,Lr.a],pipes:[n.b],styles:['.cu-queued-tasks-list__row{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;margin:0 -50px;padding:7px 50px}.cu-queued-tasks-list__row:hover{background-color:#fafbfc}.dark-theme .cu-queued-tasks-list__row:hover{background:#2b343b}.cu-queued-tasks-list__name{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;cursor:pointer;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-queued-tasks-list__name{font-family:var(--global-font-support)}}.dark-theme .cu-queued-tasks-list__name{color:#d5d6d7}.cu-queued-tasks-list__name:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks-list__name:hover{color:var(--theme-main-color)}}.cu-queued-tasks-list__divider{flex-grow:1}.cu-queued-tasks-list__sync{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7b68ee;flex-shrink:0;margin-left:10px;width:24px;height:24px;padding:4px;cursor:pointer;fill:#b9bec7}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks-list__sync{fill:var(--theme-main-color)}}.cu-queued-tasks-list__sync:hover{transform:rotate(180deg)}.cu-queued-tasks-list__sync_syncing{fill:#fc0}.cu-queued-tasks-list__sync_fail{fill:#d16464}.cu-queued-tasks-list__sync_success{fill:#67cb48}.cu-queued-tasks-list__fail-reason{display:flex;align-items:flex-end;margin-top:4px;color:#d16464;font:400 10px/1.4 Gotham Pro,Proxima Nova,arial,serif}.cu-queued-tasks-list__fail-reason-icon{width:14px;height:14px;margin-right:4px}.cu-queued-tasks-list__fail-reason-icon use{fill:#d16464}'],encapsulation:2}),e})();const mw=["queuedTasksListModal"];function hw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",6),X.cc(1,"div",7),X.qc("click",function(){return X.Uc(e),X.uc(2).minimised=!0}),X.bc(),X.Xb(2,"div",8),X.cc(3,"div",9),X.cc(4,"div",10),X.gc(5,11),X.bc(),X.cc(6,"div",12),X.mc(7,13),X.Xb(8,"br"),X.jc(),X.bc(),X.bc(),X.bc()}}function bw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",19),X.qc("click",function(){return X.Uc(e),X.uc(3).viewQueuedTasks()}),X.gc(1,20),X.bc()}}function gw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",21),X.qc("click",function(){return X.Uc(e),X.uc(3).resyncFailedTasks()}),X.gc(1,22),X.bc()}}function fw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",23),X.qc("click",function(){return X.Uc(e),X.uc(3).minimised=!0}),X.bc()}}function _w(e,t){if(1&e){const e=X.dc();X.cc(0,"div",14),X.cc(1,"div",15),X.qc("click",function(){return X.Uc(e),X.uc(2).viewQueuedTasks()}),X.dd(2),X.vc(3,"async"),X.bc(),X.bd(4,bw,2,0,"div",16),X.vc(5,"async"),X.bd(6,gw,2,0,"div",17),X.bd(7,fw,1,0,"div",18),X.vc(8,"async"),X.bc()}if(2&e){const e=X.uc(2);X.Ib(2),X.fd(" ",X.wc(3,4,e.pendingSyncText$)," "),X.Ib(2),X.Dc("ngIf",X.wc(5,6,e.disconnected$)),X.Ib(2),X.Dc("ngIf",!e.disconnected&&e.pendingCount>0),X.Ib(1),X.Dc("ngIf",!X.wc(8,8,e.disconnected$))}}function vw(e,t){if(1&e&&(X.cc(0,"div",14),X.cc(1,"div",24),X.dd(2),X.vc(3,"async"),X.bc(),X.bc()),2&e){const e=X.uc(2);X.Ib(2),X.fd(" ",X.wc(3,1,e.offlineTimeActionsText$)," ")}}function yw(e,t){if(1&e&&(X.cc(0,"div",3),X.bd(1,hw,9,0,"div",4),X.vc(2,"async"),X.bd(3,_w,9,10,"div",5),X.vc(4,"async"),X.vc(5,"async"),X.bd(6,vw,4,3,"div",5),X.vc(7,"async"),X.vc(8,"async"),X.bc()),2&e){const e=X.uc();let t=null,i=null;X.Ib(1),X.Dc("ngIf",X.wc(2,3,e.disconnected$)),X.Ib(2),X.Dc("ngIf",(null==(t=X.wc(4,5,e.queueState$))?null:t.open)&&(null==(t=X.wc(5,7,e.queuedTasks$))?null:t.length)>0),X.Ib(3),X.Dc("ngIf",(null==(i=X.wc(7,9,e.queueState$))?null:i.open)&&(null==(i=X.wc(8,11,e.offlineTimeActions$))?null:i.length)>0)}}function ww(e,t){if(1&e){const e=X.dc();X.cc(0,"div",25),X.qc("click",function(){return X.Uc(e),X.uc().minimised=!1}),X.Xb(1,"div",8),X.bc()}}function kw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",29),X.qc("click",function(){return X.Uc(e),X.uc(2).resyncFailedTasks()}),X.bc()}if(2&e){const e=X.uc(2);X.Dc("cuTooltip",e.resyncFailedText)}}function xw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",21),X.qc("click",function(){return X.Uc(e),X.uc(2).resyncFailedTasks()}),X.gc(1,30),X.bc()}}function Tw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",26),X.bd(1,kw,1,1,"div",27),X.cc(2,"div",24),X.dd(3),X.vc(4,"async"),X.bc(),X.bd(5,xw,2,0,"div",17),X.bc(),X.cc(6,"cu-queued-tasks-list",28),X.qc("redraft",function(){return X.Uc(e),X.uc().closeModal()}),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("ngIf",e.pendingCount>0&&!e.disconnected),X.Ib(2),X.fd(" ",X.wc(4,3,e.taskCreatedCountText$)," "),X.Ib(2),X.Dc("ngIf",!e.disconnected&&e.pendingCount>0)}}let Sw=(()=>{class e{constructor(e,t,i){this.store=e,this.modal=t,this.changeDetector=i,this.queuedTasks$=this.store.select(aw.b),this.queueState$=this.store.select(aw.a),this.offlineTimeActions$=this.store.pipe(Object(ye.select)(qi.f),Object(ra.a)(e=>{})),this.disconnected$=this.store.select(ta.b),this.disconnected=!1,this.queuedTasks=[],this.destroy$=new Ee.a,this.hasFailures=!1,this.failureCount=0,this.pendingCount=0,this.minimised=!1,this.pendingSyncText$=this.queuedTasks$.pipe(Object(Fe.a)(e=>{const t=e.length;return t>1?$localize`:@@cu-queued-tasks__pending-task-count-sync_multiple:${t}:queuedTasksCount: tasks pending sync`:$localize`:@@cu-queued-tasks__pending-task-count-sync:${t}:queuedTasksCount: task pending sync`}),Object(Ue.a)()),this.taskCreatedCountText$=this.queuedTasks$.pipe(Object(Fe.a)(e=>{const t=e.length;return t>1?$localize`:@@cu-queued-tasks__task-count-created-on-sync-when-online_multiple:${t}:queuedTasksCount: tasks will be created as soon as you're online!`:$localize`:@@cu-queued-tasks__task-count-created-on-sync-when-online:${t}:queuedTasksCount: task will be created as soon as you're online!`}),Object(Ue.a)()),this.offlineTimeActionsText$=this.offlineTimeActions$.pipe(Object(Fe.a)(e=>{const t=e.length;return t>1?$localize`:@@cu-queued-tasks__pending-time-entry-count-sync_multiple:${t}:offlineTimeTrackingEntryCount: time entries pending sync`:$localize`:@@cu-queued-tasks__pending-time-entry-count-sync:${t}:offlineTimeTrackingEntryCount: time entry pending sync`}),Object(Ue.a)())}get resyncFailedText(){return`:@@cu-queued-tasks__tooltip-msg_resync-failed-tasks:Resync ${this.pendingCount}:pendingTaskCount: Failed Tasks`}ngOnInit(){this.disconnected$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.disconnected=e,e||(this.minimised=!1)}),this.queuedTasks$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.minimised&&e.length>0&&this.queuedTasks.length!==e.length&&(this.minimised=!1),this.queuedTasks=e,this.failureCount=(this.queuedTasks.filter(e=>"fail"===e.sync_state)||[]).length,this.pendingCount=(this.queuedTasks.filter(e=>"success"!==e.sync_state)||[]).length,this.hasFailures=this.failureCount>0,this.changeDetector.markForCheck()})}viewQueuedTasks(){this.modal.open({content:this.queuedTasksListModal,modifier:""})}ngOnDestroy(){this.destroy$.next(!0)}closeModal(){this.modal.close()}close(){this.store.dispatch(new $e.c)}resyncFailedTasks(){this.disconnected||this.store.dispatch(new $e.n)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(_e.a),X.Wb(X.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-queued-tasks"]],viewQuery:function(e,t){if(1&e&&X.jd(mw,3),2&e){let e;X.Qc(e=X.rc())&&(t.queuedTasksListModal=e.first)}},decls:4,vars:2,consts:function(){let e,t,i,a,o;return e=$localize`:@@cu-queued-tasks__title_offline-mode␟682b40a00cebceaf940d8689265888b1ae3e1613␟3252860234160418870: Offline mode `,t=$localize`:@@cu-queued-tasks__description_offline-mode␟17f2f21e03c2cc225ec4ab923315ef850b830cbb␟3122116085033650318: You can still track time and create tasks and reminders!${"\ufffd#8\ufffd\ufffd/#8\ufffd"}:LINE_BREAK:Access any task in your tray. `,i=$localize`:@@cu-queued-tasks__see-tasks␟c0e69e76bdefc2b63b2e733c37ddd529aa1f96a7␟9185788975148006054: See tasks `,a=$localize`:@@common_sync-now␟2292020607ec717415a9e8faae44ffaa654e94a8␟606748125202699932: Sync Now `,o=$localize`:@@common_sync-now␟f5d30b03908b8bd7d052dd859bd06b96438c04b4␟4484224897513784460: Sync now `,[["class","cu-queued-tasks",4,"ngIf"],["class","cu-queued-tasks cu-queued-tasks_minimized",3,"click",4,"ngIf"],["queuedTasksListModal",""],[1,"cu-queued-tasks"],["class","cu-queued-tasks__offline",4,"ngIf"],["class","cu-queued-tasks__inner",4,"ngIf"],[1,"cu-queued-tasks__offline"],["icon","cu2-minus",1,"cu-queued-tasks__offline-minimize",3,"click"],["icon","cu2-cloud",1,"cu-queued-tasks__offline-icon"],[1,"cu-queued-tasks__offline-right"],[1,"cu-queued-tasks__offline-title"],e,[1,"cu-queued-tasks__offline-description"],t,[1,"cu-queued-tasks__inner"],[1,"cu-queued-tasks__title",3,"click"],["class","cu-queued-tasks__help-link",3,"click",4,"ngIf"],["class","cu-queued-tasks__link",3,"cuPreventDefault","click",4,"ngIf"],["class","cu-queued-tasks__close","icon","cu2-minus",3,"cuPreventDefault","click",4,"ngIf"],[1,"cu-queued-tasks__help-link",3,"click"],i,[1,"cu-queued-tasks__link",3,"cuPreventDefault","click"],a,["icon","cu2-minus",1,"cu-queued-tasks__close",3,"cuPreventDefault","click"],[1,"cu-queued-tasks__title"],[1,"cu-queued-tasks","cu-queued-tasks_minimized",3,"click"],[1,"cu-queued-tasks__header"],["class","cu-queued-tasks__icon","icon","refresh",3,"cuTooltip","cuPreventDefault","click",4,"ngIf"],[3,"redraft"],["icon","refresh",1,"cu-queued-tasks__icon",3,"cuTooltip","cuPreventDefault","click"],o]},template:function(e,t){1&e&&(X.bd(0,yw,9,13,"div",0),X.bd(1,ww,2,0,"div",1),X.bd(2,Tw,7,5,"ng-template",null,2,X.cd)),2&e&&(X.Dc("ngIf",!t.minimised),X.Ib(1),X.Dc("ngIf",t.minimised))},directives:[n.q,Qe.a,ow.a,pw,Lr.a],pipes:[n.b],styles:[".cu-queued-tasks{position:fixed;bottom:17px;left:17px;border-radius:4px;z-index:1000;box-shadow:0 5px 10px 0 rgba(0,0,0,.2);background:#fff}.dark-theme .cu-queued-tasks{background:#1e272e}.cu-queued-tasks_minimized{display:flex;align-items:center;justify-content:center;width:40px;height:40px;left:60px;bottom:0;cursor:pointer;border-bottom-left-radius:0;border-bottom-right-radius:0}.cu-queued-tasks_minimized:hover .cu-queued-tasks__offline-icon{fill:#67cb48}.cu-queued-tasks__offline{display:flex;align-items:center;padding:15px 20px;border-bottom:1px solid #e9ebf0}.dark-theme .cu-queued-tasks__offline{border-bottom-color:#2b343b}.cu-queued-tasks__offline-minimize{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:8px;right:13px;width:15px;height:15px;cursor:pointer;fill:#292d34}.dark-theme .cu-queued-tasks__offline-minimize{fill:#d5d6d7}.cu-queued-tasks__offline-minimize:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks__offline-minimize:hover{fill:var(--theme-main-color)}}.cu-queued-tasks__offline-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:20px;height:16px;fill:rgba(103,203,72,.4)}.cu-queued-tasks__offline-right{margin-left:18px}.cu-queued-tasks__offline-title{font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:5px;color:#292d34}.dark-theme .cu-queued-tasks__offline-title{color:#d5d6d7}.cu-queued-tasks__offline-description{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-queued-tasks__offline-description{color:#d5d6d7}.cu-queued-tasks__inner{display:flex;align-items:center;height:40px;padding:0 20px;width:410px}.cu-queued-tasks__icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7b68ee;width:18px;height:18px;margin-right:10px;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks__icon{fill:var(--theme-main-color)}}.cu-queued-tasks__icon:hover{transform:rotate(180deg)}.cu-queued-tasks__title{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;color:#292d34;border-bottom:1px dashed #292d34}.dark-theme .cu-queued-tasks__title{color:#d5d6d7;border-bottom-color:#d5d6d7}.cu-queued-tasks__title:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks__title:hover{color:var(--theme-main-color)}}.cu-queued-tasks__header{display:flex;align-items:center;margin-bottom:40px}.cu-queued-tasks__link{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#7b68ee;cursor:pointer;margin-left:auto;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;border-bottom:1px dashed}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks__link{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-queued-tasks__link:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-queued-tasks__link:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}.cu-queued-tasks__help-link{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;margin-left:auto;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-queued-tasks__help-link{color:#abaeb0}.cu-queued-tasks__help-link:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks__help-link:hover{color:var(--theme-main-color)}}.cu-queued-tasks__close{width:15px;height:15px;cursor:pointer;fill:#292d34;padding:2px;margin-right:-5px;margin-left:15px}.dark-theme .cu-queued-tasks__close{fill:#d5d6d7}.cu-queued-tasks__close:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-queued-tasks__close:hover{fill:var(--theme-main-color)}}"],encapsulation:2}),e})();var jw=i("TyyD"),Ow=i("8kh7"),Iw=i("/xxf");const Dw=["input"],Cw=["scrollbar"];function Pw(e,t){1&e&&(X.cc(0,"div",6),X.gc(1,7),X.bc())}function $w(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-quick-switcher-item",8),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc().selectItem(i)}),X.bc()}if(2&e){const e=t.$implicit,i=X.uc();X.Dc("item",e)("selected",(null==i.selected?null:i.selected.id)===e.id)}}const zw=function(){return{suppressScrollX:!0}},Mw=[{type:wg.a.CUSTOM,id:"notifications",payload:{name:"Notifications",path:["notifications"]}},{type:wg.a.CUSTOM,id:"home",payload:{name:"Home",path:["home"]}},{type:wg.a.CUSTOM,id:"inbox",payload:{name:"Inbox",path:["inbox"]}},{type:wg.a.CUSTOM,id:"dashboards",payload:{name:"Dashboards",path:["dashboards"]}},{type:wg.a.CUSTOM,id:"docs",payload:{name:"Docs Home",path:["docs"]}}];let Ew=(()=>{class e{constructor(e){this.changeDetector=e,this.debounceSearch$=new Ee.a,this.destroy$=new Ee.a,this.filteredData=[],this.nothingFound=!1,this.recent=[],this.showDocs=!0,this.showDashboards=!0,this.selectValue=new X.o,this.cancel=new X.o,this.trackById=e=>e.id}get query(){return this.queryString}set query(e){this.queryString=e,this.debounceSearch$.next()}ngOnInit(){this.debounceSearch$.pipe(Object(Ht.a)(250),Object(Re.a)(this.destroy$)).subscribe(()=>this.applyFilter())}ngAfterViewInit(){setTimeout(()=>{this.input.nativeElement.focus()},100)}ngOnChanges(e){(e.data||e.recent)&&this.applyFilter()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}keyDown(e){switch(e.which){case v_.a.TAB:case v_.a.ARROW_DOWN:if(this.selected){const e=this.filteredData.findIndex(e=>e.id===this.selected.id);e>=0&&e<this.filteredData.length-1&&(this.selected=this.filteredData[e+1])}else this.filteredData.length>0&&(this.selected=this.filteredData[0]);return this.changeDetector.markForCheck(),setTimeout(()=>{this.scrollToSelected(-100)}),e.preventDefault(),!1;case v_.a.ARROW_UP:if(this.selected){const e=this.filteredData.findIndex(e=>e.id===this.selected.id);e>0&&(this.selected=this.filteredData[e-1])}else this.filteredData.length>0&&(this.selected=this.filteredData[0]);return this.changeDetector.markForCheck(),setTimeout(()=>{this.scrollToSelected(-100)}),e.preventDefault(),!1;case v_.a.ENTER:return this.applyFilter(!1),this.selected?this.selectItem(this.selected):this.nothingFound=!0,this.changeDetector.markForCheck(),e.preventDefault(),!1;case v_.a.ESCAPE:this.cancel.emit()}}applyFilter(e=!0){this.filteredData=[],this.nothingFound=!1;const t=this.queryString?this.queryString.trim().toLowerCase():"";this.data&&this.data.forEach(e=>{if(e.quickItemType===wg.a.PROJECT&&((t&&e.name.toLowerCase().includes(t)||!t&&this.recent.some(t=>t.type===wg.a.PROJECT&&t.id===e.id))&&!1!==e.access&&this.filteredData.push(this.composeItem({type:wg.a.PROJECT,project:e})),e.categories&&e.categories.forEach(i=>{(t&&i.name.toLowerCase().includes(t)&&!i.hidden||!t&&this.recent.some(e=>e.type===wg.a.CATEGORY&&e.id===i.id))&&!1!==i.access&&this.filteredData.push(this.composeItem({type:wg.a.CATEGORY,project:e,category:i})),i.subcategories&&i.subcategories.forEach(a=>{(t&&a.name.toLowerCase().includes(t)||!t&&this.recent.some(e=>e.type===wg.a.SUBCATEGORY&&e.id===a.id))&&!1!==a.access&&this.filteredData.push(this.composeItem({type:wg.a.SUBCATEGORY,project:e,category:i,subcategory:a}))})})),e.quickItemType===wg.a.VIEW){let i=e;i=i,(t&&e.name.toLowerCase().includes(t)||!t&&this.recent.some(t=>t.type===wg.a.VIEW&&t.id===e.id))&&this.filteredData.push(this.composeItem({type:wg.a.VIEW,view:i}))}if(e.quickItemType===wg.a.DASHBOARD){let i=e;i=i,(t&&e.name.toLowerCase().includes(t)||!t&&this.recent.some(t=>t.type===wg.a.DASHBOARD&&t.id===e.id))&&this.filteredData.push(this.composeItem({type:wg.a.DASHBOARD,dashboard:i}))}if(e.quickItemType===wg.a.USER){let i=e;i=i,(t&&((i.username||"").toLowerCase().includes(t)||(i.email||"").toLowerCase().includes(t))||!t&&this.recent.some(e=>e.type===wg.a.USER&&e.id===i.id))&&this.filteredData.push(this.composeItem({type:wg.a.USER,user:i}))}}),Mw.forEach(e=>{!(t&&e.payload&&e.payload.name&&e.payload.name.toLowerCase().includes(t))&&t||"docs"===e.id&&!this.showDocs||"dashboards"===e.id&&!this.showDashboards||this.filteredData.push(e)}),this.filteredData.sort(t?(e,i)=>{const a=Object(jw.d)(e.type),o=Object(jw.d)(i.type),c=Object(jw.b)(e),n=Object(jw.b)(i);return a===o?e.type===wg.a.USER&&i.type===wg.a.USER?n.toLowerCase().indexOf(t)-c.toLowerCase().indexOf(t):c.toLowerCase().indexOf(t)-n.toLowerCase().indexOf(t):a-o}:(e,t)=>{const i=Object(jw.a)(e),a=Object(jw.a)(t);return(e.type===wg.a.CUSTOM?Number.MAX_VALUE:this.recent.findIndex(t=>t.type===e.type&&t.id===i))-(t.type===wg.a.CUSTOM?Number.MAX_VALUE:this.recent.findIndex(e=>e.type===t.type&&e.id===a))}),!e&&this.selected&&(this.selected=this.filteredData.find(e=>e.id===this.selected.id)),!e&&this.selected||(this.selected=this.filteredData.length>0?this.filteredData[0]:null),this.changeDetector.markForCheck()}composeItem(e){return Object.assign({type:e.type,project:e.project,id:Object(jw.c)(e)},e)}selectItem(e){this.selected=e,this.selectValue.emit(e)}scrollToSelected(e=0){this.selected&&setTimeout(()=>{this.scrollbar.scrollToElement(".cu-quick-switcher-item_selected",e,0)})}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(X.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-quick-switcher-list"]],viewQuery:function(e,t){if(1&e&&(X.jd(Dw,3),X.jd(Cw,3)),2&e){let e;X.Qc(e=X.rc())&&(t.input=e.first),X.Qc(e=X.rc())&&(t.scrollbar=e.first)}},hostBindings:function(e,t){1&e&&X.qc("keydown",function(e){return t.keyDown(e)},!1,X.Sc)},inputs:{data:"data",recent:"recent",showDocs:"showDocs",showDashboards:"showDashboards"},outputs:{selectValue:"selectValue",cancel:"cancel"},features:[X.Gb],decls:7,vars:6,consts:function(){let e,t;return e=$localize`:@@cu-quick-switcher-list__form-placeholder_jump-to-location␟75a642c3920a0a5f49b91486bee99729c03b4551␟3838751586472583103:Jump to location`,t=$localize`:@@common_nothing-found␟5d7307c43c65fc317b4b328327abf07b0c14d98b␟6217879687197489844: Nothing found `,[["type","text","placeholder",e,1,"cu-quick-switcher-list__input",3,"ngModel","ngModelChange"],["input",""],[1,"cu-quick-switcher-list__body",3,"perfectScrollbar"],["scrollbar","ngxPerfectScrollbar"],["class","cu-quick-switcher-list__empty",4,"ngIf"],[3,"item","selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-quick-switcher-list__empty"],t,[3,"item","selected","click"]]},template:function(e,t){1&e&&(X.cc(0,"div"),X.cc(1,"input",0,1),X.qc("ngModelChange",function(e){return t.query=e}),X.bc(),X.cc(3,"div",2,3),X.bd(5,Pw,2,0,"div",4),X.bd(6,$w,1,2,"cu-quick-switcher-item",5),X.bc(),X.bc()),2&e&&(X.Ib(1),X.Dc("ngModel",t.query),X.Ib(2),X.Dc("perfectScrollbar",X.Gc(5,zw)),X.Ib(2),X.Dc("ngIf",t.nothingFound),X.Ib(1),X.Dc("ngForOf",t.filteredData)("ngForTrackBy",t.trackById))},directives:[s.c,s.p,s.s,er.a,n.q,n.p,Iw.a],encapsulation:2,changeDetection:0}),e})();const Lw=["switcherModal"];function Aw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",1),X.Xb(1,"div",2),X.cc(2,"div",3),X.mc(3,4),X.Xb(4,"span"),X.jc(),X.bc(),X.bc(),X.cc(5,"cu-quick-switcher-list",5),X.qc("selectValue",function(t){return X.Uc(e),X.uc().selectValue(t)})("cancel",function(){return X.Uc(e),X.uc().cancel()}),X.vc(6,"async"),X.vc(7,"async"),X.vc(8,"async"),X.vc(9,"async"),X.bc(),X.cc(10,"div",6),X.cc(11,"div",7),X.tc(),X.cc(12,"svg",8),X.Xb(13,"path",9),X.bc(),X.sc(),X.ac(14),X.gc(15,10),X.Zb(),X.bc(),X.cc(16,"div",7),X.tc(),X.cc(17,"svg",11),X.Xb(18,"path",12),X.bc(),X.sc(),X.ac(19),X.gc(20,13),X.Zb(),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(5),X.Dc("data",X.wc(6,4,e.data$))("recent",X.wc(7,6,e.recent$))("showDocs",X.wc(8,8,e.showDocs$))("showDashboards",X.wc(9,10,e.showDashboards$))}}let Fw=(()=>{class e{constructor(e,t,i,a,o,c){this.modalService=e,this.zone=t,this.store=i,this.quickSwitcherService=a,this.effects=o,this.ngZoneScheduler=c,this.showDocs$=this.store.select(me.getShowDocsHome),this.showDashboards$=this.store.select(Pi.J)}ngOnInit(){this.data$=this.store.pipe(Object(ye.select)(xg.a)),this.recent$=this.store.pipe(Object(ye.select)(xg.b)),this.initHotkeys(),this.effects.register(this.quickSwitcherService.openQuickSwitcher,()=>{this.loadData(),this.open()})}open(){this.modalService.open({modifier:"cu-quick-switcher__modal cu-modal_zoom",content:this.switcherModal})}initHotkeys(){const e=this.store.select(me.getUser),t=/Mac/i.test(navigator.platform)?"meta":"ctrl";this.zone.runOutsideAngular(()=>{this.effects.register(Object(Rt.a)(document,"keydown").pipe(Object(qt.a)(e),Object(Ge.a)(([e,i])=>!!(null==i?void 0:i.hotkeys)&&75===e.keyCode&&Object(li.b)(e,t)),this.ngZoneScheduler.observeOnNgZone()),()=>{this.loadData(),this.open()})})}loadData(){this.store.dispatch(new kg.l),this.store.dispatch(new kg.o)}selectValue(e){this.cancel(),this.store.dispatch(new kg.c({type:e.type,id:Object(jw.a)(e)})),this.navigateDashboard(e)}navigateDashboard(e){this.store.dispatch(new kg.q(e))}cancel(){this.modalService.closeAll()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(_e.a),X.Wb(X.B),X.Wb(ye.Store),X.Wb(Ow.a),X.Wb(Tm.b),X.Wb(Ga.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-quick-switcher"]],viewQuery:function(e,t){if(1&e&&X.jd(Lw,3),2&e){let e;X.Qc(e=X.rc())&&(t.switcherModal=e.first)}},features:[X.Hb([Tm.b])],decls:2,vars:0,consts:function(){let e,t,i;return e=$localize`:@@cu-quick-switcher__header-title_quick-switch␟f31787bbac06e7bde54bd55c2ea04128d8132edd␟3875316287548355740: Quick${"\ufffd#4\ufffd"}:START_TAG_SPAN:Switch${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,t=$localize`:@@cu-quick-switcher__hotkeys-item_to-select␟c725a840edfb8cd7cf1846ed71f64762bb7611c5␟7066420346371379938:to select`,i=$localize`:@@cu-quick-switcher__hotkeys-item_to-navigate␟e4ac4edcdb0175665ca022ec626fcbdb6ab7ab48␟8694823514622935659:to navigate`,[["switcherModal",""],[1,"cu-quick-switcher__header"],["icon","quick-switcher",1,"cu-quick-switcher__header-icon"],[1,"cu-quick-switcher__header-title"],e,[3,"data","recent","showDocs","showDashboards","selectValue","cancel"],[1,"cu-quick-switcher__hotkeys"],[1,"cu-quick-switcher__hotkeys-item"],["width","11","height","10","xmlns","http://www.w3.org/2000/svg"],["d","M.098 6.303l2.977-2.977V5.75h4.812c.533 0 .987-.187 1.361-.561.375-.375.562-.827.562-1.356a1.85 1.85\n        0 0 0-.559-1.358 1.85 1.85 0 0 0-1.358-.558h-1.06V.818h1.06c.834 0 1.545.294 2.133.883.588.588.882 1.299.882\n        2.132a2.9 2.9 0 0 1-.885 2.133 2.916 2.916 0 0 1-2.136.883H3.075v2.43L.098 6.304z","fill-rule","evenodd"],t,["width","16","height","11","xmlns","http://www.w3.org/2000/svg",2,"margin-top","-2px"],["d","M3.69 11L.72 8.023h2.425l.006-7.28H4.25l-.007 7.28h2.425L3.691 11zM13.093.742l2.977\n        2.977h-2.425L13.631 11H12.54l.006-7.28h-2.431L13.092.741z","fill-rule","evenodd"],i]},template:function(e,t){1&e&&X.bd(0,Aw,21,12,"ng-template",null,0,X.cd)},directives:[Qe.a,Ew],pipes:[n.b],styles:['.cu-quick-switcher__modal .cu-modal__inner{display:flex;flex-direction:column;justify-content:flex-start}.cu-quick-switcher__modal .cu-modal__body{min-height:0;max-height:80vh}.cu-quick-switcher__modal .cu-modal__dialog{margin-top:180px;padding:20px 0 0;border-radius:8px;max-height:75vh}.cu-quick-switcher__modal .cu-modal__header{margin:0}.cu-quick-switcher__modal .cu-modal__close{margin-top:-60px}.cu-quick-switcher__header{display:flex;justify-content:center;align-items:center;margin-top:-70px;position:absolute;margin-left:50%;transform:translateX(-50%)}.cu-quick-switcher__header-icon{fill:#7b68ee;width:12px;height:21px;margin-right:6px}@supports (--theme-main-color:#7b68ee){.cu-quick-switcher__header-icon{fill:var(--theme-main-color)}}.cu-quick-switcher__header-title{font:500 20px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff}.cu-quick-switcher__header-title span{color:#bcbcbc}.cu-quick-switcher__hotkeys{background:#fbfbfb;border-top:1px solid #e4e4e4;height:55px;border-radius:0 0 8px 8px;padding:20px 30px;display:flex;align-items:center}.dark-theme .cu-quick-switcher__hotkeys{background:#2b343b;border-top:1px solid #1e272e}.cu-quick-switcher__hotkeys-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#818193;display:flex;align-items:center}.dark-theme .cu-quick-switcher__hotkeys-item{color:#828588}.cu-quick-switcher__hotkeys-item:not(:last-child){margin-right:40px}.cu-quick-switcher__hotkeys-item svg{margin-right:8px;fill:#544d61}.dark-theme .cu-quick-switcher__hotkeys-item svg{fill:#abaeb0}.cu-quick-switcher-list__input{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:26px;width:100%;border:0;margin:0;padding:20px 30px;background:transparent;box-shadow:none}.cu-quick-switcher-list__input::-webkit-input-placeholder{color:rgba(52,52,52,.4);font-size:26px}.cu-quick-switcher-list__input::-moz-placeholder{color:rgba(52,52,52,.4);opacity:1;font-size:26px}.cu-quick-switcher-list__input:-ms-input-placeholder{color:rgba(52,52,52,.4);font-size:26px}.cu-quick-switcher-list__input:-moz-placeholder{color:rgba(52,52,52,.4);opacity:1;font-size:26px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-quick-switcher-list__input{font-family:var(--global-font-support)}}.dark-theme .cu-quick-switcher-list__input::-webkit-input-placeholder{color:#828588;font-size:26px}.dark-theme .cu-quick-switcher-list__input::-moz-placeholder{color:#828588;opacity:1;font-size:26px}.dark-theme .cu-quick-switcher-list__input:-ms-input-placeholder{color:#828588;font-size:26px}.dark-theme .cu-quick-switcher-list__input:-moz-placeholder{color:#828588;opacity:1;font-size:26px}.cu-quick-switcher-list__input:focus{background:transparent;box-shadow:none}.cu-quick-switcher-list__body{max-height:400px;padding:0 30px 20px}.cu-quick-switcher-list__empty{font:300 20px Gotham Pro,Proxima Nova,arial,serif;text-align:center;padding:20px}.cu-quick-switcher-item{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;padding:12px 12px 10px;cursor:pointer;color:#343434;border-radius:8px;margin:2px 0}.dark-theme .cu-quick-switcher-item{color:#828588}.cu-quick-switcher-item:hover .cu-quick-switcher-item__breadcrumbs-name{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-quick-switcher-item:hover .cu-quick-switcher-item__breadcrumbs-name{color:var(--theme-main-color-dark)}}.cu-quick-switcher-item.cu-quick-switcher-item_selected{background-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-quick-switcher-item.cu-quick-switcher-item_selected{background-color:var(--theme-main-color-dark)}}.cu-quick-switcher-item.cu-quick-switcher-item_selected .cu-quick-switcher-item__breadcrumbs-name{color:#fff}.cu-quick-switcher-item.cu-quick-switcher-item_selected .cu-quick-switcher-item__breadcrumbs-name-icon{fill:#fff;stroke:#fff}.cu-quick-switcher-item__breadcrumbs{width:100%;font:300 12px/16px Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;color:inherit;min-height:16px;display:flex;align-items:center}.cu-quick-switcher-item__breadcrumbs-chevron{width:10px;height:8px;margin-left:1px;display:inline-block}.cu-quick-switcher-item__breadcrumbs-chevron use{fill:rgba(52,52,52,.4)}.cu-quick-switcher-item_selected .cu-quick-switcher-item__breadcrumbs-chevron use,.dark-theme .cu-quick-switcher-item_selected .cu-quick-switcher-item__breadcrumbs-chevron use{fill:#fff}.dark-theme .cu-quick-switcher-item__breadcrumbs-chevron use{fill:#828588}.cu-quick-switcher-item__breadcrumbs-type{font:500 9px/1 Gotham Pro,Proxima Nova,arial,serif;background-color:#cfcdd2;color:#fff;padding:4px 0;border-radius:6px;margin-top:1px;margin-right:8px;width:40px;height:16px;text-align:center;display:block;float:left;flex-shrink:0}.dark-theme .cu-quick-switcher-item__breadcrumbs-type{background:#2b343b;color:#abaeb0}.cu-quick-switcher-item__breadcrumbs-type.longer-type{width:60px}.cu-quick-switcher-item__breadcrumbs-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:300;font-size:12px;line-height:1.15;color:#343434;opacity:.5}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-quick-switcher-item__breadcrumbs-name{font-family:var(--global-font-support)}}.cu-quick-switcher-item__breadcrumbs-name-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86),stroke .2s cubic-bezier(.785,.135,.15,.86);width:16px;height:16px;fill:#82868d;stroke:#82868d;stroke-width:2px;margin-bottom:0;opacity:1;padding:1px}.cu-quick-switcher-item__breadcrumbs-name-icon-avatar,.cu-quick-switcher-item__breadcrumbs-name-icon-container{width:15px;display:inline-block;margin:0 7px 0 10px;opacity:1;flex-shrink:0}.cu-quick-switcher-item__breadcrumbs-name-icon-avatar{width:40px}.dark-theme .cu-quick-switcher-item__breadcrumbs-name{color:#d5d6d7}.cu-quick-switcher-item__breadcrumbs-name:last-child{font-size:16px;font-weight:400;opacity:1;flex-grow:1;min-width:50px}'],encapsulation:2,changeDetection:0}),e})();var Uw=i("Rpu1"),Nw=i("ANIu");function Rw(e,t){1&e&&(X.cc(0,"div",6),X.gc(1,7),X.bc())}function Gw(e,t){if(1&e&&(X.cc(0,"div",3),X.cc(1,"div",4),X.dd(2),X.bd(3,Rw,2,0,"div",5),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(2),X.fd(" ",e.item.title," "),X.Ib(1),X.Dc("ngIf",e.item.beta)}}function qw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",8),X.qc("click",function(t){return X.Uc(e),X.uc().togglePin(t)}),X.bc()}if(2&e){const e=X.uc();X.Ob("cu-float-button-item__pin-fill",null==e.item?null:e.item.pinned),X.Dc("icon",null!=e.item&&e.item.pinned?"cu2-thumbtack-solid":"cu2-thumbtack-light")("cuTooltip",null!=e.item&&e.item.pinned?"Unpin item":"Pin item")}}const Bw=function(e){return{fill:e}};let Ww=(()=>{class e{constructor(){this.onPinToggle=new X.o}ngOnInit(){}togglePin(e){e.preventDefault(),e.stopPropagation(),this.item.pinned=!this.item.pinned,this.onPinToggle.emit(this.item)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-float-button-item"]],hostAttrs:[1,"cu-float-button-item"],inputs:{item:"item",hideTitle:"hideTitle",simpleLayout:"simpleLayout"},outputs:{onPinToggle:"onPinToggle"},decls:3,vars:12,consts:function(){let e;return e=$localize`:@@common_beta␟655b6b4db3d2800d259189c8ad58393cac4a98e9␟1308845697189063215: beta `,[["class","cu-float-button-item__title",4,"ngIf"],[3,"cuTooltip","icon","ngStyle"],["class","cu-float-button-item__pin",3,"cu-float-button-item__pin-fill","icon","cuTooltip","click",4,"ngIf"],[1,"cu-float-button-item__title"],[1,"cu-float-button-item__title-text"],["class","cu-float-button-item__title-text-beta",4,"ngIf"],[1,"cu-float-button-item__title-text-beta"],e,[1,"cu-float-button-item__pin",3,"icon","cuTooltip","click"]]},template:function(e,t){1&e&&(X.bd(0,Gw,4,2,"div",0),X.Xb(1,"div",1),X.bd(2,qw,1,4,"div",2)),2&e&&(X.Dc("ngIf",t.item.title&&!t.hideTitle),X.Ib(1),X.Mb("cu-float-button-item__icon cu-float-button-item__icon_",t.item.id," icon"),X.Ob("cu-float-button-item__icon_clip-active","clip"===t.item.id&&!0===t.item.alwaysVisible),X.Dc("cuTooltip","clip"===t.item.id&&!0===t.item.alwaysVisible?"Stop recording":null)("icon",t.item.icon)("ngStyle",X.Hc(10,Bw,t.item.color)),X.Ib(1),X.Dc("ngIf",t.simpleLayout))},directives:[n.q,Lr.a,Qe.a,n.t],styles:['.cu-float-button-item{display:flex;align-items:center;cursor:pointer;justify-content:flex-start;border-radius:3px;position:relative;padding:0 15px;width:100%;height:36px}.cu-float-button-item:after{content:"";position:absolute;left:5px;top:0;background-color:var(--theme-main-color);opacity:0;border-radius:8px;height:100%;width:calc(100% - 10px);z-index:-1}.cu-float-button-item:hover:after{opacity:.15}.cu-float-button-item__icon{transition:transform .1s cubic-bezier(.785,.135,.15,.86);position:relative;display:flex;align-items:center;justify-content:center;flex-grow:0;flex-shrink:0;order:0;width:14px;height:14px;margin-right:12px}.cu-float-button-item__icon_clip-active svg{animation:clipPulse 2s infinite;transform-origin:center}.cu-float-button-item__icon_tray{width:17px;height:18px;margin-right:9px}.cu-float-button-item__icon_calendar{width:16px;height:16px;margin-right:11px;margin-left:-1px}.cu-float-button-item__icon_notepad{width:16px;height:17px;margin-right:11px;margin-left:-1px}@keyframes clipPulse{0%{transform:scaleX(1);opacity:.8}50%{transform:scale3d(1.15,1.15,1.15);opacity:1}to{transform:scaleX(1);opacity:.8}}.cu-float-button-item__title{position:relative;order:1;flex-grow:1}.cu-float-button-item__title-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;display:flex;align-items:flex-start;white-space:nowrap;position:relative;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-float-button-item__title-text{font-family:var(--global-font-support)}}.dark-theme .cu-float-button-item__title-text{color:#d5d6d7}.cu-float-button-item__title-text-beta{color:#7b68ee;margin-top:-2px;margin-left:3px;font:500 9px/1 Gotham Pro,Proxima Nova,arial,serif}@supports (--theme-main-color:#7b68ee){.cu-float-button-item__title-text-beta{color:var(--theme-main-color)}}.cu-float-button-item__pin{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;order:2;fill:#b9bec7;width:20px;height:20px;padding:5px}.cu-float-button-item__pin:hover{transition:none;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-float-button-item__pin:hover{fill:var(--theme-main-color)}}.cu-float-button-item__pin-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-float-button-item__pin-fill{fill:var(--theme-main-color)}}'],encapsulation:2,changeDetection:0}),e})();var Vw=i("0lvH");function Xw(e,t){if(1&e){const e=X.dc();X.cc(0,"div"),X.cc(1,"div",16),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit,i=X.uc();return i.notePadOpened?i.onCloseNotepad.emit():i.selectItem(t),i.closeTimeTracker()}),X.Xb(2,"div",17),X.bc(),X.bc()}if(2&e){const e=X.uc().$implicit,t=X.uc();X.Ib(1),X.Dc("cuTooltip",t.notePadOpened?"Close Notepad":null==e?null:e.title)("tooltipDelay",200),X.Ib(1),X.Dc("icon",null==e?null:e.icon)}}function Hw(e,t){if(1&e&&X.Xb(0,"div",24),2&e){const e=X.uc(3).$implicit;X.Dc("icon",null==e?null:e.icon)}}function Yw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",21),X.bd(1,Hw,1,1,"div",20),X.vc(2,"async"),X.cc(3,"span",22),X.vc(4,"async"),X.vc(5,"async"),X.dd(6),X.vc(7,"timeTrackerDuration"),X.vc(8,"async"),X.bc(),X.cc(9,"cu-time-tracker-toggle",23),X.qc("onToggle",function(){return X.Uc(e),X.uc(3).toggleTimer()}),X.vc(10,"async"),X.bc(),X.bc()}if(2&e){const e=X.uc(3);X.Ib(1),X.Dc("ngIf",X.wc(2,6,e.currentDuration$)),X.Ib(2),X.Ob("fixed-width",!!X.wc(4,8,e.currentDuration$)&&X.wc(5,10,e.currentDuration$)>-6e4),X.Dc("cuTooltip",null!=e.currentEntry&&e.currentEntry.task?null==e.currentEntry||null==e.currentEntry.task?null:e.currentEntry.task.name:null!=e.currentEntry&&e.currentEntry.description?null==e.currentEntry?null:e.currentEntry.description:"(no note)"),X.Ib(3),X.fd(" ",X.yc(7,12,X.wc(8,16,e.currentDuration$),!1,!0)," "),X.Ib(3),X.Dc("running",!!X.wc(10,18,e.currentDuration$))}}function Zw(e,t){if(1&e&&X.Xb(0,"div",24),2&e){const e=X.uc(2).$implicit;X.Dc("icon",null==e?null:e.icon)}}function Qw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit,i=X.uc();return i.timeTrackerOpened?i.closeTimeTracker():i.selectItem(t),i.onCloseNotepad.emit()}),X.vc(1,"async"),X.vc(2,"async"),X.bd(3,Yw,11,20,"div",19),X.vc(4,"async"),X.bd(5,Zw,1,1,"div",20),X.vc(6,"async"),X.bc()}if(2&e){const e=X.uc().$implicit,t=X.uc();X.Mb("cu-float-button__toggle-simple-container-pinned-item cu-float-button__toggle-simple-container-pinned-item_",null==e?null:e.id,""),X.Ob("cu-float-button__toggle-simple-container-pinned-item-time-tracking-active",X.wc(1,8,t.currentDuration$)),X.Dc("cuTooltip",X.wc(2,10,t.currentDuration$)||null==e?null:e.title),X.Ib(3),X.Dc("ngIf",X.wc(4,12,t.currentDuration$)),X.Ib(2),X.Dc("ngIf",!X.wc(6,14,t.currentDuration$))}}function Kw(e,t){1&e&&(X.cc(0,"div",27),X.gc(1,28),X.bc())}function Jw(e,t){if(1&e){const e=X.dc();X.cc(0,"div",18),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit,i=X.uc();return i.selectItem(t),i.onCloseNotepad.emit(),i.closeTimeTracker()}),X.Xb(1,"div",25),X.bd(2,Kw,2,0,"div",26),X.bc()}if(2&e){const e=X.uc().$implicit;X.Mb("cu-float-button__toggle-simple-container-pinned-item cu-float-button__toggle-simple-container-pinned-item_",null==e?null:e.id,""),X.Ob("cu-float-button__toggle-simple-container-pinned-item-recording","Stop recording"===(null==e?null:e.title)),X.Dc("cuTooltip",null==e?null:e.title),X.Ib(1),X.Mb("cu-float-button__toggle-simple-container-pinned-item-icon cu-float-button__toggle-simple-container-pinned-item-icon_",null==e?null:e.id," icon"),X.Dc("icon",null==e?null:e.icon),X.Ib(1),X.Dc("ngIf","Stop recording"===(null==e?null:e.title))}}function ek(e,t){if(1&e&&(X.ac(0),X.bd(1,Xw,3,3,"div",13),X.bd(2,Qw,7,16,"div",14),X.vc(3,"async"),X.bd(4,Jw,3,11,"div",15),X.Zb()),2&e){const e=t.$implicit,i=X.uc();X.Ib(1),X.Dc("ngIf",(null==e?null:e.pinned)&&"notepad"===e.id),X.Ib(1),X.Dc("ngIf",((null==e?null:e.pinned)||X.wc(3,3,i.currentDuration$))&&"time_tracking"===e.id),X.Ib(2),X.Dc("ngIf",(null==e?null:e.pinned)&&"time_tracking"!==e.id&&"notepad"!==e.id&&"tray"!==e.id)}}function tk(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-float-button-item",33),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=X.uc(2);return"tray"===i.id?a.toggleTray(i):a.selectItem(i)})("onPinToggle",function(t){return X.Uc(e),X.uc(2).onPin.emit(t)}),X.bc()}2&e&&X.Dc("item",t.$implicit)("simpleLayout",!0)}function ik(e,t){if(1&e&&(X.cc(0,"div",29),X.cc(1,"div",30),X.cc(2,"div",31),X.bd(3,tk,1,2,"cu-float-button-item",32),X.bc(),X.bc(),X.bc()),2&e){const e=X.uc();X.Ib(3),X.Dc("ngForOf",e.simpleLayoutItems)("ngForTrackBy",e.trackById)}}const ak=function(){return["top"]};let ok=(()=>{class e{constructor(){this.destroy$=new Ee.a,this.currentDuration$=new oa.a(null),this.floatButtonHide=!1,this.onSelect=new X.o,this.onTimeTrackerAction=new X.o,this.onPin=new X.o,this.onCloseNotepad=new X.o,this.onCloseTimeTracking=new X.o,this.onStopTimeTracking=new X.o,this.trackById=Object(be.d)("id"),this.alwaysVisibleItems=[],this.createTaskItem=Bc,this.simpleLayoutItems=[],this.simpleLayoutMenuOpened=!1,this.LayoutVersion=Ie.b}ngOnInit(){}ngOnChanges(e){e.items&&(this.alwaysVisibleItems=(this.items||[]).filter(e=>e.alwaysVisible),this.updateSimpleLayoutItems()),e.currentDuration&&(this.currentDuration?this.timeTrackerSubscription=Object(b_.a)(Uw.a).pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{if(this.currentDuration$.value&&this.currentEntry){const e=(new Date).getTime()-parseInt(this.currentEntry.start,10);this.currentDuration$.next(e)}}):this.timeTrackerSubscription&&this.timeTrackerSubscription.unsubscribe(),this.currentDuration$.next(this.currentDuration))}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe(),this.timeTrackerSubscription&&this.timeTrackerSubscription.unsubscribe()}selectItem(e){this.onSelect.emit(e)}toggleTimer(){this.onTimeTrackerAction.emit({action:Uw.d.Stop})}openTimeTracker(e){const t=this.items.findIndex(e=>"time_tracking"===e.id);-1!==t&&this.selectItem(this.items[t])}closeTimeTracker(){this.onTimeTrackerAction.emit({action:Uw.d.Close})}updateSimpleLayoutItems(){const e=[],t=Object(nr.a)(this.items),i=this.user.user_settings||[];t.forEach(t=>{switch(t.id){case"clip":const a=i.findIndex(e=>"pinned_rec"===e.name);t.title="Stop recording"===t.title?"Stop recording":"Record Clip",t.color="#FD71AF",t.position=1,t.pinned=-1!==a&&i[a].value||"Stop recording"===t.title,e.push(t);break;case"docs":const o=i.findIndex(e=>"pinned_doc"===e.name);t.title="New Doc",t.icon="cu2-doc-3",t.color="#FFC800",t.position=5,t.pinned=-1!==o&&i[o].value,e.push(t);break;case"time_tracking":const c=i.findIndex(e=>"pinned_time_tracking"===e.name);t.title="Track Time",t.icon="cu3-stopwatch",t.color="#45B488",t.position=2,t.pinned=-1!==c&&i[c].value,e.push(t);break;case"reminder":const n=i.findIndex(e=>"pinned_reminder"===e.name);t.icon="cu3-reminder",t.color="#F26F56",t.position=3,t.pinned=-1!==n&&i[n].value,e.push(t);break;case"notepad":const s=i.findIndex(e=>"pinned_note"===e.name);t.icon="cu3-notepad",t.color="#7b68ee",t.position=4,t.pinned=!(!this.user.scratchpad||-1===s||!i[s].value),e.push(t);break;case"calendar":const r=i.findIndex(e=>"pinned_calendar"===e.name);t.title="Calendar",t.icon="cu3-calendar",t.color="#67CB45",t.position=6,t.pinned=-1!==r&&i[r].value,e.push(t);break;case"tray":const l=i.findIndex(e=>"pinned_tray"===e.name);t.title=$localize`:@@common_task-tray:Task tray`,t.icon="cu3-tray",t.color="#7c828d",t.position=7,t.pinned=-1===l||i[l].value,e.push(t);break;case"task":break;default:t.position=99,e.push(t)}}),this.simpleLayoutItems=Object(np.a)(e,"position")}toggleTray(e){e.pinned=!e.pinned,this.onPin.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-float-button"]],hostAttrs:[1,"cu-float-button"],hostVars:6,hostBindings:function(e,t){2&e&&X.Ob("cu-float-button__has-tray-tasks",t.hasTrayTasks)("cu-float-button_hide",t.floatButtonHide)("cu-float-button_simple",!0)},inputs:{user:"user",items:"items",hasTrayTasks:"hasTrayTasks",currentEntry:"currentEntry",floatButtonHide:"floatButtonHide",currentDuration:"currentDuration",notePadOpened:"notePadOpened",timeTrackerOpened:"timeTrackerOpened"},outputs:{onSelect:"onSelect",onTimeTrackerAction:"onTimeTrackerAction",onPin:"onPin",onCloseNotepad:"onCloseNotepad",onCloseTimeTracking:"onCloseTimeTracking",onStopTimeTracking:"onStopTimeTracking"},features:[X.Gb],decls:14,vars:15,consts:function(){let e,t;return e=$localize`:@@common_task␟148c6fa7bbd00cb861761b4179fdae32066114b0␟5776563167466389601: Task `,t=$localize`:@@common_stop-recording␟3b3a4657356247ae6e8bab70f52a6a12c3813f3d␟2083519662474832372: Stop Recording `,[[1,"cu-float-button__toggle-simple"],[1,"cu-float-button__toggle-simple-container-pinned"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-float-button__toggle-simple-container"],[1,"cu-float-button__toggle-simple-container-create-task",3,"click"],["icon","cu2-plus-2",1,"cu-float-button__toggle-simple-plus"],[1,"cu-float-button__toggle-simple-text"],e,["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownCloseOnOutsideClick","dropdownPreventDocumentScroll","dropdownPlacement","dropdownRightEdgePadding","dropdownOpen","dropdownClose"],["dropdown","dropdown"],["cuDropdownToggle",""],[1,"cu-float-button__toggle-simple-actions",3,"icon","click"],["class","cu-float-button__menu-simple-container",4,"cuDropdownMenu"],[4,"ngIf"],[3,"class","cu-float-button__toggle-simple-container-pinned-item-time-tracking-active","cuTooltip","click",4,"ngIf"],[3,"class","cuTooltip","cu-float-button__toggle-simple-container-pinned-item-recording","click",4,"ngIf"],[1,"cu-float-button__toggle-simple-container-pinned-item","cu-float-button__toggle-simple-container-pinned-item_notepad",3,"cuTooltip","tooltipDelay","click"],[1,"cu-float-button__toggle-simple-container-pinned-item-icon","cu-float-button__toggle-simple-container-pinned-item-icon_notepad",3,"icon"],[3,"cuTooltip","click"],["class","cu-float-button__toggle-simple-container-pinned-item-time-tracking",4,"ngIf"],["class","cu-float-button__toggle-simple-container-pinned-item-icon",3,"icon",4,"ngIf"],[1,"cu-float-button__toggle-simple-container-pinned-item-time-tracking"],[3,"cuTooltip"],[3,"running","onToggle"],[1,"cu-float-button__toggle-simple-container-pinned-item-icon",3,"icon"],[3,"icon"],["class","cu-float-button__toggle-simple-container-pinned-item-recording-toggle",4,"ngIf"],[1,"cu-float-button__toggle-simple-container-pinned-item-recording-toggle"],t,[1,"cu-float-button__menu-simple-container"],[1,"cu-float-button__menu","cu-float-button__menu-simple"],[1,"cu-float-button__items"],[3,"item","simpleLayout","click","onPinToggle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item","simpleLayout","click","onPinToggle"]]},template:function(e,t){1&e&&(X.cc(0,"div",0),X.vc(1,"async"),X.cc(2,"div",1),X.bd(3,ek,5,5,"ng-container",2),X.bc(),X.cc(4,"div",3),X.cc(5,"div",4),X.qc("click",function(){return t.selectItem(t.createTaskItem),t.onCloseNotepad.emit(),t.closeTimeTracker()}),X.Xb(6,"div",5),X.cc(7,"div",6),X.gc(8,7),X.bc(),X.bc(),X.cc(9,"div",8,9),X.qc("dropdownOpen",function(){return t.simpleLayoutMenuOpened=!0})("dropdownClose",function(){return t.simpleLayoutMenuOpened=!1}),X.cc(11,"div",10),X.cc(12,"div",11),X.qc("click",function(){return t.onCloseNotepad.emit(),t.closeTimeTracker()}),X.bc(),X.bc(),X.bd(13,ik,4,2,"div",12),X.bc(),X.bc(),X.bc()),2&e&&(X.Ob("timerActive",X.wc(1,12,t.currentDuration$)),X.Ib(3),X.Dc("ngForOf",t.simpleLayoutItems)("ngForTrackBy",t.trackById),X.Ib(6),X.Dc("dropdownCloseOnInsideClick",!0)("dropdownCloseOnOutsideClick",!0)("dropdownPreventDocumentScroll",!1)("dropdownPlacement",X.Gc(14,ak))("dropdownRightEdgePadding",27),X.Ib(3),X.Ob("cu-float-button__toggle-simple-actions_active",t.simpleLayoutMenuOpened),X.Dc("icon","cu3-actions"))},directives:[n.p,Qe.a,Ar.b,Fr.a,Ur.a,n.q,Lr.a,Nw.a,Ww],pipes:[n.b,Vw.a],styles:['.cu-float-button{position:fixed;bottom:11px;right:10px;z-index:610}.cu-os-win .cu-float-button{bottom:21px;right:20px}.cu-os-win.gantt_view_active .cu-float-button__has-tray-tasks{bottom:11px;right:10px}@media print{.cu-float-button{visibility:hidden}}.cu-float-button_hide{display:none}.modal-open .cu-float-button{z-index:900;bottom:5px;right:5px}.cu-float-button__toggle{display:flex;align-items:center;justify-content:center;position:absolute;bottom:0;right:0;border-radius:50%;width:40px;height:40px;cursor:pointer;box-shadow:0 2px 5px 0 rgba(0,0,0,.26);padding:11px;fill:#fff;z-index:0;background:#7b68ee 50%/contain no-repeat url(/assets/images/components/float-button/btn.png)}.modal-open .cu-float-button__toggle{width:30px;height:30px;bottom:5px;right:5px;padding:8px}.cu-float-button__toggle:before{content:"";display:block;position:absolute;transition:opacity .1s cubic-bezier(.785,.135,.15,.86) 0s;width:calc(100% + 2px);height:calc(100% + 2px);top:-1px;left:-1px;border-radius:50%;background:#fff;opacity:0}.dark-theme .cu-float-button__toggle:before{background:#384047}.cu-float-button__toggle svg{z-index:10}.cu-float-button__toggle.timerActive{border:2px solid rgba(0,0,0,.3)}.cu-float-button__menu{position:absolute;z-index:10;right:0;bottom:-5px}.cu-float-button__menu_always-visible{bottom:45px}.cu-float-button__items{display:flex;flex-direction:column}.cu-float-button_simple{bottom:11px;right:15px;z-index:999}.modal-open .cu-float-button_simple{bottom:2px}.cu-float-button_simple .cu-float-button__toggle-simple{height:38px;position:relative;display:flex;align-items:center;justify-content:center;width:auto}.cu-float-button_simple .cu-float-button__toggle-simple-container{display:flex;align-items:center;justify-content:center}.cu-float-button_simple .cu-float-button__toggle-simple-container-create-task{position:relative;height:32px;border-radius:10px;display:flex;align-items:center;cursor:pointer;padding:0 12px 0 11px;box-shadow:0 3px 10px -3px var(--theme-main-color)}.dark-theme .cu-float-button_simple .cu-float-button__toggle-simple-container-create-task,.modal-open .cu-float-button_simple .cu-float-button__toggle-simple-container-create-task{box-shadow:none}.cu-float-button_simple .cu-float-button__toggle-simple-container-create-task:hover:before{background:#5f48ea;transform:scale(1.07,1.15)}@supports (--theme-main-color-dark:#5f48ea){.cu-float-button_simple .cu-float-button__toggle-simple-container-create-task:hover:before{background:var(--theme-main-color-dark)}}.cu-float-button_simple .cu-float-button__toggle-simple-container-create-task:before{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;background:#7b68ee;will-change:transform,background;width:100%;height:100%;top:0;left:0;border-radius:10px;border:1px solid rgba(0,0,0,.05)}@supports (--theme-main-color:#7b68ee){.cu-float-button_simple .cu-float-button__toggle-simple-container-create-task:before{background:var(--theme-main-color)}}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned{display:flex;align-items:center;height:30px}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item{display:flex;align-items:center;justify-content:center;position:relative;border-radius:10px;height:32px;width:32px;cursor:pointer;margin-right:8px;box-shadow:0 3px 10px -3px currentColor}.dark-theme .cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item,.modal-open .cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item{box-shadow:none}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item:hover:before{transform:scale(1.15)}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_clip{color:#fd71af}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_clip:hover{color:#fc59a3}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_time_tracking{color:#45b488}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_time_tracking:hover{color:#3ea37a}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_reminder{color:#f26f56}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_reminder:hover{color:#f05b3d}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_notepad{color:#7b68ee}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_notepad:hover{color:#5f48ea}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_docs{color:#f5c644}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_docs:hover{color:#e6b400}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_calendar{color:#67cb45}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item_calendar:hover{color:#5ac337}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item:before{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;background:currentColor;will-change:transform,background;width:100%;height:100%;top:0;left:0;border-radius:10px;border:1px solid rgba(0,0,0,.05)}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-icon{position:relative;height:14px;width:14px;fill:#fff}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-icon_calendar{width:16px;height:16px}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-icon_notepad{width:16px;height:17px;margin-top:-2px}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording{width:150px;padding:0 8px;background-color:#ea3a77!important;justify-content:space-between}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording-toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;height:20px;width:112px;background-color:#fff;border-radius:6px;color:#ea3a77;padding-left:19px;display:flex;align-items:center;position:relative;padding-top:1px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording-toggle{font-family:var(--global-font-support)}}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording-toggle:after{content:"";position:absolute;width:6px;height:6px;border-radius:2px;background-color:#ea3a77;left:8px;top:7px}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording .icon{fill:#fff!important}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording:before{transform:scale(1)}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording:hover:before{transform:scale(1.03,1.15)}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-recording .cu-float-button__toggle-simple-container-pinned-item-icon svg{animation:clipPulse 2s infinite;transform-origin:center}@keyframes clipPulse{0%{transform:scaleX(1);opacity:.8}50%{transform:scale3d(1.15,1.15,1.15);opacity:1}to{transform:scaleX(1);opacity:.8}}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-time-tracking-active{min-width:100px;display:flex;align-items:center;justify-content:center;padding:0 5px}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-time-tracking-active .cu-float-button__toggle-simple-container-pinned-item-time-tracking{display:flex;align-items:center;justify-content:space-between;width:100%;position:relative}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-time-tracking-active span{margin-top:3px;font-size:13px;color:#fff}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-time-tracking-active .cu-time-tracker-toggle__play-container{width:20px;height:20px;margin-right:0}.cu-float-button_simple .cu-float-button__toggle-simple-container-pinned-item-time-tracking-active:hover:before{transform:scale(1.07,1.15)}.cu-float-button_simple .cu-float-button__toggle-simple-plus{position:relative;fill:#fff;height:10px;width:10px}.cu-float-button_simple .cu-float-button__toggle-simple-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;position:relative;color:#fff;margin:0 0 0 9px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-float-button_simple .cu-float-button__toggle-simple-text{font-family:var(--global-font-support)}}.cu-float-button_simple .cu-float-button__toggle-simple-actions{position:relative;width:32px;height:32px;border-radius:10px;cursor:pointer;margin-left:8px;padding:10px;box-shadow:0 0 8px hsla(0,0%,79.2%,.2),0 2px 12px hsla(0,0%,79.2%,.3),0 6px 10px hsla(0,0%,79.2%,.3)}.dark-theme .cu-float-button_simple .cu-float-button__toggle-simple-actions,.modal-open .cu-float-button_simple .cu-float-button__toggle-simple-actions{box-shadow:none}.cu-float-button_simple .cu-float-button__toggle-simple-actions:hover:before,.cu-float-button_simple .cu-float-button__toggle-simple-actions_active:before{transform:scale(1.15)}.cu-float-button_simple .cu-float-button__toggle-simple-actions:before{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;width:100%;height:100%;top:0;left:0;border-radius:10px;background:#fff;border:1px solid rgba(0,0,0,.1)}.cu-float-button_simple .cu-float-button__toggle-simple-actions svg{position:relative}.cu-float-button__menu-simple{min-width:180px;box-shadow:-1px 2px 20px rgba(0,71,138,.13);border-radius:8px;padding:5px 0;position:relative;bottom:auto;right:auto;background:#fff}.dark-theme .cu-float-button__menu-simple{background:#2b343b}.cu-float-button__menu-simple-container{margin-top:10px!important;margin-left:14px}','.cu-time-tracker-timer__items{justify-content:space-between;margin-top:10px}.cu-time-tracker-timer__items,.cu-time-tracker-timer__items-selections{display:flex;align-items:center}.cu-time-tracker-timer__items-time{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__items-time{font-family:var(--global-font-support)}}.cu-time-tracker-timer__items-time span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__items-time span{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-timer__items-time span{color:#d5d6d7}.cu-time-tracker__container-top .cu-time-tracker-timer__items-time span,.cu-time-tracking-dropdown__current .cu-time-tracker-timer__items-time span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker__container-top .cu-time-tracker-timer__items-time span,.cu-time-tracking-dropdown__current .cu-time-tracker-timer__items-time span{font-family:var(--global-font-support)}}.cu-time-tracker-timer__items-time-manual{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;border-bottom:1px dotted #fff;margin-left:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__items-time-manual{font-family:var(--global-font-support)}}.cu-time-tracker-timer__items-time-manual:hover{color:var(--theme-main-color-light)}.cu-time-tracker-timer__icon{display:inline-block;width:14px;height:14px;stroke:#fff}.dark-theme .cu-time-tracker-timer__icon{stroke:#fff}.cu-time-tracker-timer__icon-container{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px dashed #fff;border-radius:50%;cursor:pointer}.cu-time-tracker-timer__icon-container .dark-theme *{border-color:#fff}.cu-time-tracker-timer__icon-container.cu-time-tracker-timer__lighten{background:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu-time-tracker-timer__icon-container.cu-time-tracker-timer__lighten{background:var(--theme-main-color-light)}}.cu-time-tracker-timer__icon-container.cu-time-tracker-timer__billable{background:green}.cu-time-tracker-timer__icon-container:not(:last-child){margin-right:5px}.cu-time-tracker-timer__float{display:flex;align-items:center;justify-content:center;background:#7b68ee;position:fixed;bottom:11px;right:10px;height:40px;padding:5px 40px 5px 5px;cursor:pointer;border-radius:20px}@supports (--theme-main-color:#7b68ee){.cu-time-tracker-timer__float{background:var(--theme-main-color)}}.cu-os-win .cu-time-tracker-timer__float{bottom:21px;right:20px}.modal-open .cu-time-tracker-timer__float{height:29px}.modal-open .cu-time-tracker-timer__float .cu-time-tracker-toggle__play-container{width:18px;height:18px}.cu-time-tracker-timer__float span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:13px;color:#fff;min-width:45px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__float span{font-family:var(--global-font-support)}}.cu-time-tracker-timer__float span.fixed-width{min-width:65px;text-align:left}.cu-time-tracker-timer__play{width:10px;height:10px}.cu-time-tracker-timer__play-container{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:32px;background-color:#fff;cursor:pointer}.cu-time-tracker-timer__play-container.cu-time-tracker-timer__play-running{background-color:#fd7179}.cu-time-tracker-timer.small .cu-time-tracker-timer__items{margin-top:0}.cu-time-tracker-timer.small .cu-time-tracker-toggle__play-container{margin-top:-1px;margin-right:3px!important;height:14px;width:14px;background-color:#67cb45!important}.cu-time-tracker-timer.small .cu-time-tracker-toggle__play{fill:#fff!important;width:4px!important;height:6px!important}.cu-time-tracker-timer.small .cu-time-tracker-timer__items-time{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:11px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer.small .cu-time-tracker-timer__items-time{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-timer.small .cu-time-tracker-timer__items-time{color:#d5d6d7}'],encapsulation:2,data:{animation:[Object(os.m)("loading",[Object(os.l)(":enter",[Object(os.k)({opacity:0}),Object(os.e)("100ms",Object(os.k)({opacity:1}))]),Object(os.l)(":leave",[Object(os.k)({opacity:1}),Object(os.e)("100ms",Object(os.k)({opacity:0}))])])]},changeDetection:0}),e})();function ck(e,t){1&e&&(X.ac(0),X.gc(1,13),X.Zb())}function nk(e,t){1&e&&(X.ac(0),X.gc(1,14),X.Zb())}function sk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",4),X.cc(1,"a",5),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.action(t.QuickAction.archive)}),X.cc(2,"div",6),X.tc(),X.cc(3,"svg",7),X.Xb(4,"path",8),X.Xb(5,"path",9),X.bc(),X.bc(),X.sc(),X.cc(6,"div",10),X.bd(7,ck,2,0,"ng-container",11),X.bd(8,nk,2,0,"ng-template",null,12,X.cd),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.Rc(9),t=X.uc();X.Ib(7),X.Dc("ngIf",t.showArchived)("ngIfElse",e)}}const rk=function(){return["bottom-right","auto"]},lk=["*"];var dk=function(e){return e.archive="archive",e}({});let uk=(()=>{class e{constructor(){this.onAction=new X.o,this.QuickAction=dk}action(e){this.onAction.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-scratchpad-menu"]],inputs:{showArchived:"showArchived"},outputs:{onAction:"onAction"},ngContentSelectors:lk,decls:5,vars:2,consts:function(){let e,t;return e=$localize`:@@common_hide-archived␟af2348e68fa3cee732f296b7192e50a9aa67951f␟5346208167923617108:Hide archived`,t=$localize`:@@common_show-archived␟9837b0caee0ab6f24e881c7d6ddd6bc304d196ae␟1525728150043011845:Show archived`,[["cuDropdown","",1,"nav-menu","cu-dropdown","menu-options",3,"dropdownPlacement"],["menu","dropdown"],["cuDropdownToggle",""],["class","cu-dropdown__menu nav-menu__controls",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","nav-menu__controls"],["cuLink","","draggable","false",1,"nav-menu-item",3,"click"],[1,"nav-menu-item__icon","icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 17 14","fill","none"],["fill","#CECFE0","d","M14.76.02H2.21a2.2 2.2 0 0 0-.7 4.28v7.51A2.19 2.19 0 0 0 3.72 14h9.53a2.2 2.2 0 0 0 2.05-1.35c.1-.26.16-.55.16-.84V4.28a2.2 2.2 0 0 0 1.51-2.44A2.19 2.19 0 0 0 14.78 0l-.02.02zM1.61 2.21a.58.58 0 0 1 .58-.58h12.57a.58.58 0 1 1 0 1.16H2.21a.58.58 0 0 1-.58-.58H1.6zm11.64 10.18H3.72a.58.58 0 0 1-.58-.58V4.4h10.71v7.41a.58.58 0 0 1-.6.58z"],["fill","#CECFE0","d","M11.18 5.28H5.79a.8.8 0 0 0-.57 1.37.8.8 0 0 0 .57.24h5.4a.8.8 0 0 0 .56-1.37.8.8 0 0 0-.57-.24z"],[1,"nav-menu-item__name"],[4,"ngIf","ngIfElse"],["showArchivedTmpl",""],e,t]},template:function(e,t){1&e&&(X.Cc(),X.cc(0,"div",0,1),X.cc(2,"div",2),X.Bc(3),X.bc(),X.bd(4,sk,10,2,"div",3),X.bc()),2&e&&X.Dc("dropdownPlacement",X.Gc(1,rk))},directives:[Ar.b,Fr.a,Ur.a,n.q],encapsulation:2,changeDetection:0}),e})();var pk=i("sf8M"),mk=i("HcWw");const hk=["inputNewScratchpadName"],bk=["scratchpadList"],gk=["confirmDeleteModal"];function fk(e,t){1&e&&(X.cc(0,"span",36),X.tc(),X.cc(1,"svg",18),X.Xb(2,"path",19),X.Xb(3,"path",20),X.bc(),X.bc())}function _k(e,t){if(1&e){const e=X.dc();X.cc(0,"div",34),X.qc("click",function(){X.Uc(e);const t=X.uc().$implicit;return X.uc(2).openNote(t)}),X.bd(1,fk,4,0,"span",35),X.dd(2),X.bc()}if(2&e){const e=X.uc().$implicit;X.Ib(1),X.Dc("ngIf",null==e?null:e.archived),X.Ib(1),X.fd(" ",e.name," ")}}function vk(e,t){if(1&e){const e=X.dc();X.cc(0,"input",37),X.qc("blur",function(){return X.Uc(e),X.uc(3).saveEditableNote()})("ngModelChange",function(t){return X.Uc(e),X.uc(3).noteTmpName=t})("keypress",function(t){return X.Uc(e),X.uc(3).keyPressEditNote(t)}),X.bc()}if(2&e){const e=X.uc(3);X.Dc("ngModel",e.noteTmpName)}}function yk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",38),X.qc("click",function(){return X.Uc(e),X.uc(3).saveEditableNote()}),X.tc(),X.cc(1,"svg",39),X.Xb(2,"path",40),X.bc(),X.bc()}}function wk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",41),X.qc("click",function(t){return X.Uc(e),X.uc(3).editNameNote(t)}),X.tc(),X.cc(1,"svg",42),X.cc(2,"g",23),X.Xb(3,"path",43),X.Xb(4,"path",44),X.bc(),X.bc(),X.bc()}}const kk=function(e){return{"scratchpad-item-show-warning":e}},xk=function(e){return{display:e}};function Tk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",8),X.Xb(1,"div",9),X.bd(2,_k,3,2,"div",10),X.bd(3,vk,1,1,"input",11),X.cc(4,"div",12),X.gc(5,13),X.bc(),X.cc(6,"div",14),X.bd(7,yk,3,0,"div",15),X.bd(8,wk,5,0,"div",16),X.cc(9,"div",17),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(2).archiveNote(i)}),X.tc(),X.cc(10,"svg",18),X.Xb(11,"path",19),X.Xb(12,"path",20),X.bc(),X.bc(),X.sc(),X.cc(13,"div",21),X.qc("click",function(){X.Uc(e);const i=t.index;return X.uc(2).showDeleteDialog(i)}),X.tc(),X.cc(14,"svg",22),X.cc(15,"g",23),X.Xb(16,"path",24),X.Xb(17,"rect",25),X.Xb(18,"rect",26),X.Xb(19,"rect",27),X.Xb(20,"rect",28),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(21,"div",29),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(2).openNote(i,!0)}),X.tc(),X.cc(22,"svg",30),X.cc(23,"g",31),X.Xb(24,"path",32),X.Xb(25,"path",33),X.bc(),X.bc(),X.bc(),X.bc(),X.bc()}if(2&e){const e=t.$implicit,i=t.index;X.uc();const a=X.Rc(1),o=X.uc();X.Dc("ngClass",X.Hc(9,kk,e&&e.hasntSave))("ngStyle",X.Hc(11,xk,e.hide?"none":""))("cdkDragData",e)("cuDragScrollContainer",a),X.Ib(2),X.Dc("ngIf",o.noteEditIndex!==i),X.Ib(1),X.Dc("ngIf",o.noteEditIndex===i),X.Ib(4),X.Dc("ngIf",o.noteEditIndex==i),X.Ib(1),X.Dc("ngIf",o.noteEditIndex!=i),X.Ib(1),X.Dc("cuTooltip",null!=e&&e.archived?o.unarchiveText:o.archiveText)}}function Sk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",5,6),X.qc("cdkDropListDropped",function(t){return X.Uc(e),X.uc().dropNote(t)}),X.bd(2,Tk,26,13,"div",7),X.bc()}if(2&e){const e=X.uc();X.Ib(2),X.Dc("ngForOf",e.notesList)("ngForTrackBy",e.trackById)}}function jk(e,t){1&e&&(X.cc(0,"div",45),X.cc(1,"div",46),X.tc(),X.cc(2,"svg",47),X.cc(3,"g",23),X.Xb(4,"path",48),X.Xb(5,"path",49),X.Xb(6,"path",50),X.Xb(7,"path",51),X.Xb(8,"path",52),X.Xb(9,"path",53),X.Xb(10,"path",54),X.Xb(11,"path",55),X.Xb(12,"path",56),X.Xb(13,"path",57),X.Xb(14,"path",58),X.Xb(15,"path",59),X.Xb(16,"path",60),X.Xb(17,"path",61),X.Xb(18,"path",62),X.Xb(19,"path",63),X.Xb(20,"path",64),X.Xb(21,"path",65),X.Xb(22,"path",66),X.Xb(23,"path",67),X.Xb(24,"path",68),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(25,"p",69),X.mc(26,70),X.Xb(27,"br"),X.jc(),X.bc(),X.cc(28,"p",71),X.ac(29),X.gc(30,72),X.Zb(),X.dd(31,": "),X.bc(),X.cc(32,"ul",73),X.cc(33,"li",74),X.gc(34,75),X.bc(),X.cc(35,"li",74),X.gc(36,76),X.bc(),X.cc(37,"li",74),X.gc(38,77),X.bc(),X.bc(),X.bc())}function Ok(e,t){1&e&&X.Xb(0,"cu-loader")}function Ik(e,t){if(1&e){const e=X.dc();X.cc(0,"button",82),X.qc("click",function(){return X.Uc(e),X.uc(2).createNewScratchpadNote()}),X.gc(1,83),X.bc()}}function Dk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",78),X.cc(1,"input",79,80),X.qc("keypress",function(t){return X.Uc(e),X.uc().keyPress(t)})("ngModelChange",function(t){return X.Uc(e),X.uc().newNoteName=t}),X.bc(),X.bd(3,Ik,2,0,"button",81),X.bc()}if(2&e){const e=X.uc();X.Ib(1),X.Dc("ngModel",e.newNoteName),X.Ib(2),X.Dc("ngIf",e.newNoteName.length>0)}}function Ck(e,t){if(1&e){const e=X.dc();X.cc(0,"div",84),X.cc(1,"div",85),X.gc(2,86),X.bc(),X.bc(),X.cc(3,"div",87),X.cc(4,"button",88),X.qc("click",function(){return X.Uc(e),X.uc().cancelDeleteNote()}),X.gc(5,89),X.bc(),X.cc(6,"button",90),X.qc("click",function(){return X.Uc(e),X.uc().acceptDeleteNote()}),X.gc(7,91),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Ib(2),X.kc(e.notesList[e.possibleDeleteNoteIndex].name),X.hc(2)}}let Pk=(()=>{class e{constructor(e,t,i){this.modalService=e,this.changeDetector=t,this.store=i,this.destroy$=new Ee.a,this.loading$=this.store.select(wa.d),this.notesList=[],this.newNoteName="",this.noteEditIndex=null,this.possibleDeleteNoteIndex=null,this.noteTmpName=null,this.trackById=Object(be.d)("id"),this.setActiveNote=new X.o,this.archiveText=$localize`:@@common_archive:Archive`,this.unarchiveText=$localize`:@@common_unarchive:Unarchive`}ngOnInit(){this.store.pipe(Object(ye.select)(wa.e),Object(Re.a)(this.destroy$)).subscribe(e=>{this.notesList=e,this.changeDetector.markForCheck()}),this.store.pipe(Object(ye.select)(wa.a),Object(Ge.a)(e=>!!e),Object(Re.a)(this.destroy$)).subscribe(e=>{this.openNote(e),this.store.dispatch(new ka.f)})}ngAfterViewInit(){setTimeout(()=>{this.inputNewScratchpadName&&this.inputNewScratchpadName.nativeElement.focus()},500)}keyPress(e){switch(e.which){case v_.a.ENTER:this.createNewScratchpadNote()}}dropNote(e){this.store.dispatch(new ka.y({note:e.item.data,currentIndex:e.currentIndex,previousIndex:e.previousIndex,notesList:this.notesList}))}createNewScratchpadNote(){this.newNoteName.length>0&&(this.store.dispatch(new ka.g({name:this.newNoteName.trim(),orderindex:this.notesList.length>0?this.notesList[this.notesList.length-1].orderindex+1:1})),this.newNoteName="")}getNodeIndex(e){const t=e.closest(".scratchpad-item");return Array.prototype.slice.call(t.parentNode.children).indexOf(t)}openNote(e,t=!1){this.setActiveNote.emit({note:e,convert:t})}archiveNote(e){this.store.dispatch(new ka.b({note:e}))}editNameNote(e){const t=this.getNodeIndex(e.target);this.notesList[t]&&(this.noteEditIndex=t,this.noteTmpName=(this.notesList[t].name||"").trim(),this.changeDetector.markForCheck())}saveEditableNote(){this.noteTmpName&&this.noteTmpName!==this.notesList[this.noteEditIndex].name&&this.store.dispatch(new ka.n({note_id:this.notesList[this.noteEditIndex].id,data:{name:this.noteTmpName.trim()}})),this.noteEditIndex=null,this.changeDetector.markForCheck()}keyPressEditNote(e){switch(e.which){case v_.a.ENTER:e.stopPropagation(),e.preventDefault(),this.saveEditableNote();break;case v_.a.ESCAPE:e.stopPropagation(),e.preventDefault(),this.noteEditIndex=null}}showDeleteDialog(e){this.possibleDeleteNoteIndex=e,this.modalService.open({blank:!1,modifier:"task-sc__modal",content:this.confirmDeleteModal})}cancelDeleteNote(){this.possibleDeleteNoteIndex=null,this.modalService.closeAll()}acceptDeleteNote(){this.store.dispatch(new ka.k({noteId:this.notesList[this.possibleDeleteNoteIndex].id})),this.possibleDeleteNoteIndex=null,this.modalService.closeAll(),setTimeout(()=>{this.changeDetector.markForCheck()},50)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(_e.a),X.Wb(X.h),X.Wb(ye.Store))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-scratchpad-notes"]],viewQuery:function(e,t){if(1&e&&(X.jd(hk,1),X.jd(bk,1),X.jd(gk,3)),2&e){let e;X.Qc(e=X.rc())&&(t.inputNewScratchpadName=e.first),X.Qc(e=X.rc())&&(t.scratchpadList=e.first),X.Qc(e=X.rc())&&(t.confirmDeleteModal=e.first)}},hostAttrs:[1,"scratchpad-body"],outputs:{setActiveNote:"setActiveNote"},decls:9,vars:10,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p;return e=$localize`:@@common_not-saved␟fd05efb9363fa59725f578800893b0d701e55c80␟544157035195172930: Not saved. `,t=$localize`:@@common_rename␟e26f9cf3666aace4e524b1505c9795d76d87738d␟6041115344061899387:Rename`,i=$localize`:@@common_convert-to-task␟8353d528edde47c085a4fcfeefc2c7ac4a6c06d1␟4059907482689704268:Convert to task`,a=$localize`:@@cu-scratchpad-notes__empty-title␟a469ad9f28fa0b38673748c18a9f1743f3199849␟7309280876632507388: This is your own personal${"\ufffd#27\ufffd\ufffd/#27\ufffd"}:LINE_BREAK:note taking machine `,o=$localize`:@@common_suggestions␟7f408a4c8c7478d16c9823a45ddf540af5d3aa6c␟2170214905466301783:Suggestions`,c=$localize`:@@cu-scratchpad-notes__suggestions_plan-for-today␟882b2cfefd4b4ae2e56320dfed50de24db0a94a0␟4881387286434802880: Plan for today `,n=$localize`:@@cu-scratchpad-notes__suggestions_things-im-thinking␟b98b43c5068ad59501f38ad6b9344ffcc52b720c␟3682345858842739973: Things I'm thinking about `,s=$localize`:@@common_ideas␟277c2fc07cafcfd549c932c023c5925ca59f159c␟1733032782702468487:Ideas`,r=$localize`:@@cu-scratchpad-notes__scratchpad-footer-input-placeholder␟884ed4492c596d87a6159a79a300f2977771f653␟3545822917470088539:Create new note…`,l=$localize`:@@common_create␟5ddde4e47e7de2e987bb8d25dd803b9fa4e775cd␟1470343010709449695: Create `,d=$localize`:@@cu-scratchpad-notes__warning-msg_delete-note␟f821d5b8a82d606d116935f6f464a97d4865db50␟1212425002808859304: Are you sure you want to delete your ${"\ufffd0\ufffd"}:INTERPOLATION: note? `,u=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,p=$localize`:@@common_delete␟d9797b7f7d130802253f3bdd06f7da9f474816af␟1555388322412608200: Delete `,[["class","scratchpad-list","cdkDropList","","cdkDropListOrientation","vertical",3,"cdkDropListDropped",4,"ngIf"],["class","scratchpad-list scratchpad-empty",4,"ngIf"],[4,"ngIf"],["class","scratchpad-footer",4,"ngIf"],["confirmDeleteModal",""],["cdkDropList","","cdkDropListOrientation","vertical",1,"scratchpad-list",3,"cdkDropListDropped"],["scratchpadList",""],["class","scratchpad-item","cdkDrag","","cuDragScroll","",3,"ngClass","ngStyle","cdkDragData","cuDragScrollContainer",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","cuDragScroll","",1,"scratchpad-item",3,"ngClass","ngStyle","cdkDragData","cuDragScrollContainer"],["icon","handle6",1,"scratchpad-item__handle"],["class","scratchpad-item__content note-name",3,"click",4,"ngIf"],["class","scratchpad-item__content","cuAutoFocus","",3,"ngModel","blur","ngModelChange","keypress",4,"ngIf"],[1,"scratchpad-item__warning"],e,[1,"scratchpad-item__right-menu","scratchpad-item__right-menu--notes"],["class","scratchpad-item__button scratchpad-item__button--save","cuTooltip","Save",3,"click",4,"ngIf"],["class","scratchpad-item__button scratchpad-item__button--edit","cuTooltip",t,3,"click",4,"ngIf"],[1,"scratchpad-item__button","scratchpad-item__button--archive",3,"cuTooltip","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 17 14","fill","none"],["fill","#CECFE0","d","M14.76.02H2.21a2.2 2.2 0 0 0-.7 4.28v7.51A2.19 2.19 0 0 0 3.72 14h9.53a2.2 2.2 0 0 0 2.05-1.35c.1-.26.16-.55.16-.84V4.28a2.2 2.2 0 0 0 1.51-2.44A2.19 2.19 0 0 0 14.78 0l-.02.02zM1.61 2.21a.58.58 0 0 1 .58-.58h12.57a.58.58 0 1 1 0 1.16H2.21a.58.58 0 0 1-.58-.58H1.6zm11.64 10.18H3.72a.58.58 0 0 1-.58-.58V4.4h10.71v7.41a.58.58 0 0 1-.6.58z"],["fill","#CECFE0","d","M11.18 5.28H5.79a.8.8 0 0 0-.57 1.37.8.8 0 0 0 .57.24h5.4a.8.8 0 0 0 .56-1.37.8.8 0 0 0-.57-.24z"],["cuTooltip","Delete",1,"scratchpad-item__button","scratchpad-item__button--trash",3,"click"],["width","16","height","18","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["d","M2,4 L14,4 L14,14.9972399 C14,16.1033337 13.0980496,17 11.9914698,17 L4.0085302,17 C2.8992496,\n            17 2,16.1064574 2,14.9972399 L2,4 Z","stroke-width","2",1,"cu-stroke"],["y","3","width","16","height","2","rx","1",1,"cu-fill"],["stroke-width","2","x","5","y","1","width","6","height","3","rx","1.5",1,"cu-stroke"],["x","5","y","7","width","2","height","7","rx","1",1,"cu-fill"],["x","9","y","7","width","2","height","7","rx","1",1,"cu-fill"],["cuTooltip",i,1,"scratchpad-item__button","scratchpad-item__button--new",3,"click"],["width","15","height","15","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd",1,"cu-fill"],["d","M6.31 1.44c0-.64.45-1.16 1-1.16s1 .52 1 1.16v11.67c0 .64-.45 1.17-1 1.17s-1-.53-1-1.17V1.44z"],["d","M13.14 6.28c.64 0 1.17.44 1.17 1 0 .55-.53 1-1.17 1H1.48c-.65 0-1.17-.45-1.17-1 0-.56.52-1 1.17-1h11.66z"],[1,"scratchpad-item__content","note-name",3,"click"],["class","scratchpad-item__button scratchpad-item__button--archive",4,"ngIf"],[1,"scratchpad-item__button","scratchpad-item__button--archive"],["cuAutoFocus","",1,"scratchpad-item__content",3,"ngModel","blur","ngModelChange","keypress"],["cuTooltip","Save",1,"scratchpad-item__button","scratchpad-item__button--save",3,"click"],["width","19","height","19","xmlns","http://www.w3.org/2000/svg"],["d","M17.8281855,3.51039707 L15.7783032,1.48380884 C15.3785973,1.08357355 14.8237738,\n          0.863338251 14.258362,0.863338251 L12.6701267,0.863338251 L6.31718553,0.863338251 L2.08189141,\n          0.863338251 C1.20624435,0.863338251 0.493656116,1.57592649 0.493656116,2.45157355 L0.493656116,\n          17.275103 C0.493656116,18.15075 1.20624435,18.8633383 2.08189141,18.8633383 L16.814362,\n          18.8633383 C17.6900091,18.8633383 18.4936561,18.15075 18.4936561,17.275103 L18.4936561,\n          5.00757355 C18.4936561,4.44216178 18.2278914,3.91010296 17.8281855,3.51039707 Z M6.31718553,\n          2.98098531 L12.6701267,2.98098531 L12.6711855,5.62804413 L6.31718553,5.62804413 L6.31718553,\n          2.98098531 Z M16.3760091,16.7456912 L2.61130317,16.7456912 L2.61130317,2.98098531 L4.19953847,\n          2.98098531 L4.19953847,5.62804413 C4.19953847,6.79592649 5.14930317,7.74569119 6.31718553,\n          7.74569119 L12.6701267,7.74569119 C13.8380091,7.74569119 14.7877738,6.79592649 14.7877738,\n          5.62804413 L14.7877738,3.51039707 L16.3760091,5.00757355 L16.3760091,16.7456912 Z M13.7289502,\n          13.5692206 L5.258362,13.5692206 C4.67389141,13.5692206 4.19953847,14.0435735 4.19953847,\n          14.6280441 C4.19953847,15.2125147 4.67389141,15.6868677 5.258362,15.6868677 L13.7289502,\n          15.6868677 C14.3134208,15.6868677 14.7877738,15.2125147 14.7877738,14.6280441 C14.7877738,\n          14.0435735 14.3134208,13.5692206 13.7289502,13.5692206 Z","fill-rule","nonzero",1,"cu-fill"],["cuTooltip",t,1,"scratchpad-item__button","scratchpad-item__button--edit",3,"click"],["width","18","height","18","xmlns","http://www.w3.org/2000/svg"],["d","M1,17 L2.9951185,17 C3.8394114,17 5.11489104,16.4708954 5.71233221,15.8734542 L16.5197835,\n            5.06600289 C17.1100289,4.47575757 17.1126001,3.52730845 16.5302285,2.94518093 L15.0558544,\n            1.47142484 C14.4755461,0.891359724 13.5224339,0.893698164 12.9339442,1.48209974 L2.12649284,\n            12.2879332 C1.53159106,12.8827459 1,14.164216 1,15.0048815 L1,17 Z","stroke-width","2",1,"cu-stroke"],["d","M10.5 4.5L12 3.00209579 15 6 13.5 7.5z",1,"cu-fill"],[1,"scratchpad-list","scratchpad-empty"],[1,"scrachpad-empty-image"],["width","100","height","98","xmlns","http://www.w3.org/2000/svg"],["fill","#FFF","d","M14.0019681,33.0511518 L24.9449251,95.6780977 C25.2111819,97.2025856 26.6678623,98.2233917 28.1984874,97.9580381 L84.6689644,88.1679613 C86.1994489,87.9027477 87.2242704,86.4517747 86.9578731,84.9271469 L85.2525082,75.166616 L84.2659242,69.7952714 L73.8740372,10.3219023 C73.6077804,8.79741442 72.1511,7.77660829 70.6204749,8.04196188 L26.1835674,15.7457575 L14,33.0379892 L14.0019681,33.0511518"],["d","M13.5782082,32.5092633 L24.4191182,95.334613 C24.6564004,96.7098299 25.9587324,97.6339576 27.3221636,97.3946243 L83.3574555,87.5576166 C84.7208867,87.3181425 85.6370946,86.0045529 85.3998124,84.629336 L83.7075898,74.8218757 L82.7290273,69.4270971 L72.4169456,9.66538275 C72.1795239,8.29002516 70.8771918,7.36589742 69.5137606,7.60537145 L25.534247,15.3259465 L13.5782082,32.5092633 Z M83.4539866,88.1167645 L27.4186947,97.9537722 C25.7494889,98.2468535 24.1551923,97.1156131 23.8647622,95.4319785 L13.0061362,32.5039166 C13.0058572,32.5019468 13.0054387,32.499977 13.0052992,32.4981478 L13.0032068,32.4849219 C12.9923261,32.4126013 13.0093446,32.3388737 13.0510538,32.2790755 L25.1407295,14.9035605 C25.1836942,14.8419332 25.2491177,14.7998635 25.3227715,14.7870596 L69.4172296,7.04622351 C71.0865749,6.7531422 72.680732,7.88452331 72.9713016,9.56801728 L83.2831043,69.3273397 L84.2615273,74.7221183 L85.9541684,84.5319706 C86.244738,86.2156052 85.1231924,87.8236832 83.4539866,88.1167645 Z",1,"cu-fill_dark"],["fill","#FFF","d","M25.2990549,30.9199741 L13.3341707,32.9957707 C13.2204565,33.015508 13.1060351,32.965037 13.0443692,32.8679014 C12.9825619,32.7707659 12.985532,32.6459981 13.0520068,32.5519641 L25.3546391,15.120714 C25.420831,15.0265391 25.5377982,14.9817073 25.6502395,15.0069428 C25.7628222,15.0320373 25.8490979,15.1222648 25.8688989,15.2356131 L27.9513963,27.1619982 C28.2595845,28.9269329 27.0698284,30.6127776 25.2990549,30.9199741"],["d","M13.9149052 32.3177956L25.2011815 30.3597176C26.6620696 30.1062347 27.6434911 28.7156032 27.3893314 27.2595567L25.4249326 16.009455 13.9149052 32.3177956zM25.2990549 30.9199741L13.3341707 32.9957707C13.2204565 33.015508 13.1060351 32.965037 13.0443692 32.8679014 12.9825619 32.7707659 12.985532 32.6459981 13.0520068 32.5519641L25.3546391 15.120714C25.420831 15.0265391 25.5377982 14.9817073 25.6502395 15.0069428 25.7628222 15.0320373 25.8490979 15.1222648 25.8688989 15.2356131L27.9513963 27.1619982C28.2595845 28.9269329 27.0698284 30.6127776 25.2990549 30.9199741zM30.2636435 78.989858C35.6276538 78.1259806 40.9918053 77.2621032 46.3558155 76.398095 54.8413288 75.0314553 63.3269835 73.6648157 71.8124969 72.298176 73.7560689 71.9851921 75.6994997 71.6720774 77.6429304 71.3590935 77.9658933 71.3071693 78.2074441 70.934283 77.7363565 71.010142 72.3723462 71.8740194 67.0081947 72.7378968 61.6441845 73.601905 53.1586712 74.9685447 44.6730165 76.3351843 36.1875031 77.701824 34.2440724 78.0148079 32.3005003 78.3277918 30.3570696 78.6409065 30.0341067 78.6928307 29.7925559 79.065717 30.2636435 78.989858M30.3979996 81.9922412C35.7574113 81.0331056 41.1166819 80.07397 46.4760936 79.1146892 54.9541091 77.5973526 63.4321246 76.0800161 71.9102812 74.5626795 73.8519948 74.2151834 75.7937083 73.8676874 77.735563 73.5201913 78.1707893 73.4422116 78.0283028 72.9314955 77.6019731 73.0077326 72.2427026 73.9668682 66.8832909 74.9261491 61.5240203 75.8852847 53.0460049 77.4026212 44.5678482 78.9199578 36.0898327 80.4372944 34.1481192 80.7849356 32.2062644 81.1324317 30.2645509 81.4799278 29.8291835 81.5577622 29.9716699 82.0686236 30.3979996 81.9922412M31.2626287 84.9898449C37.2173792 83.9442977 43.1719916 82.8987505 49.1266039 81.8532033 49.9687513 81.7052341 50.8110369 81.5574043 51.6531843 81.4095745 51.979703 81.3521161 52.1959076 80.9296855 51.7373713 81.0101551 45.782759 82.0557023 39.8281467 83.1012495 33.8735344 84.1467967 33.0312487 84.2947659 32.1891014 84.4425957 31.3468157 84.5904255 31.020297 84.6478839 30.8040924 85.0703145 31.2626287 84.9898449M49.0306328 42C47.9855829 42 46.9677833 41.6918196 46.0892329 41.0984963 44.9291866 40.3150779 44.1513262 39.1285695 43.8988519 37.7574838L43 32.8770865 43.5357414 32.7759691 44.4345933 37.6563664C44.6599534 38.8798455 45.3549729 39.939302 46.3917115 40.6395365 47.4304938 41.3410126 48.68796 41.5982894 49.9320735 41.3633605 51.0599644 41.1503656 52.040431 40.5170368 52.6925313 39.5799421 53.3431327 38.6450545 53.5889307 37.519382 53.3846895 36.4105394L52.4068116 31.1011174 52.942553 31 53.9205671 36.309422C54.1519223 37.5657332 53.873969 38.8401159 53.1380741 39.897779 52.4035416 40.953097 51.3005848 41.6662988 50.031946 41.9057801 49.6979932 41.9688233 49.3628143 42 49.0306328 42",1,"cu-fill_dark"],["fill","#FFF","d","M54.1691515,30.7785467 L42.4415825,33 L42.2979019,32.2172708 C41.8229072,29.6291781 40.2557726,27.3529055 37.998192,25.9722503 L37.5828672,25.7326278 C34.2396839,23.6832619 31.9288315,20.3211998 31.227119,16.4992489 C29.8466441,8.97897324 34.90259,1.68885384 42.497497,0.248151732 C50.0932385,-1.18859435 57.3953596,3.76082564 58.7758345,11.28096 C59.4774079,15.1026283 58.5146223,19.0845159 56.1342245,22.2062491 L55.8102823,22.6093405 C54.2050369,24.7116889 53.5506153,27.4089964 54.0254709,29.9958175 L54.1691515,30.7785467"],["d","M44.6342102,0.554989133 C43.7691861,0.554989133 42.8921556,0.632530128 42.0104638,0.793854236 C34.4506842,2.18029832 29.4174699,9.19255655 30.7909994,16.4253697 C31.4887817,20.100036 33.7931585,23.3362281 37.1135572,25.3038829 L37.5289778,25.5355349 C39.8967765,26.9354342 41.5364238,29.2383601 42.0337703,31.8571373 L42.1278438,32.3529003 L53.4820621,30.273581 L53.3879886,29.7779567 C52.8909246,27.1605666 53.5714743,24.4367832 55.2549095,22.3051687 L55.5884043,21.9040085 C57.9519654,18.9073751 58.909933,15.0781816 58.2121507,11.4039314 C56.9989416,5.01463667 51.1850304,0.554989133 44.6342102,0.554989133 Z M41.6759803,33 L41.4782282,31.9588145 C41.0105445,29.4958129 39.4670895,27.3291039 37.2437911,26.0143748 L36.828088,25.7827228 C33.3634715,23.7294817 30.9627612,20.3573501 30.2354573,16.5270469 C28.8050035,8.9935023 34.0407723,1.69091615 41.9067852,0.248431713 C49.7737868,-1.19044617 57.3369564,3.76857092 58.7675515,11.3021155 C59.4948554,15.1318638 58.4971962,19.1219653 56.0305214,22.2492671 L55.6970267,22.650566 C54.116705,24.6516508 53.475847,27.2143876 53.9433895,29.6761408 L54.1411415,30.717465 L41.6759803,33 Z",1,"cu-fill_dark"],["d","M57.9657245,15.3410571 C57.5011803,21.1209713 52.438996,25.4301298 46.6589429,24.9657245 C40.8790287,24.5011803 36.5698702,19.4391349 37.0342755,13.6590818 C37.4988197,7.87902869 42.5608651,3.56987021 48.3409182,4.03427548 C54.1209713,4.49881972 58.4301298,9.561004 57.9657245,15.3410571",1,"cu-fill_light"],["d","M43.0371291 33L43 32.539039 52.9628709 32 53 32.460961 43.0371291 33M44.0372697 36L44 35.539039 53.9627303 35 54 35.460961 44.0372697 36M44.0371291 38L44 37.5389768 53.9627298 37 54 37.4610232 44.0371291 38",1,"cu-fill_dark"],["d","M45.0377333 33L42 15.9674877 46.9621305 15 50 32.0325123 49.4642419 32.1370517 46.5263588 15.664409 42.635472 16.4231028 45.5734913 32.895603 45.0377333 33",1,"cu-fill_dark"],["d","M43.0081371 14.5179645C42.9767247 14.5179645 42.9450579 14.5208121 42.9133911 14.5268955 42.6467034 14.5775048 42.4687844 14.8309393 42.5166026 15.0918811 42.5644207 15.3528229 42.8208071 15.5241954 43.0867318 15.4733273 43.3532923 15.422718 43.5312113 15.1692835 43.4833932 14.9083417 43.4605016 14.7831777 43.3894103 14.6745813 43.2832185 14.6024858 43.2013172 14.5468286 43.1060625 14.5179645 43.0081371 14.5179645zM42.992876 16C42.5223255 16 42.1041713 15.6655389 42.01642 15.1867573 41.9172229 14.6451995 42.2777663 14.1207272 42.8200441 14.017826 43.0818991 13.9682523 43.3464248 14.022874 43.5655488 14.1717247 43.7868347 14.3219993 43.9352489 14.5498056 43.9835758 14.8134655 44.0827729 15.3550233 43.7223566 15.8793662 43.1799517 15.9823968 43.1171268 15.9941754 43.0545563 16 42.992876 16zM47.0070682 13.5177332C46.976294 13.5177332 46.9448839 13.5205815 46.9134739 13.526537 46.7831286 13.5512652 46.6700779 13.6245434 46.5951771 13.7327778 46.521675 13.8390701 46.4936985 13.9664656 46.5167155 14.0916601 46.56453 14.3527949 46.8211513 14.5242091 47.0868014 14.4731991 47.3533416 14.422707 47.5313742 14.1690813 47.4835597 13.9082055 47.4413406 13.6780133 47.2374932 13.5177332 47.0070682 13.5177332zM46.9929527 15C46.522438 15 46.1043157 14.6655869 46.0165711 14.1866888 45.9683751 13.9229647 46.0261086 13.6558744 46.1793438 13.4346155 46.3311801 13.215169 46.5586804 13.0670589 46.820134 13.0174731 47.3628791 12.9153237 47.8843874 13.2714872 47.983577 13.8131767 48.0827666 14.3548663 47.7223777 14.8793368 47.1800141 14.9823925 47.1171941 14.9943035 47.0546283 15 46.9929527 15z",1,"cu-fill_dark"],["d","M45.0080121,14.5179098 C44.9765996,14.5179098 44.9449327,14.5207575 44.9132659,14.5268412 C44.6467048,14.5774523 44.4686583,14.8308962 44.5164765,15.0919771 C44.5642947,15.3529285 44.8208089,15.523919 45.0866069,15.4733079 C45.3532952,15.4228262 45.5312146,15.1692529 45.4833964,14.9084309 C45.4605047,14.7831328 45.3894132,14.6745325 45.2832212,14.6024343 C45.2013198,14.546775 45.1060649,14.5179098 45.0080121,14.5179098 Z M44.992751,16 C44.5221994,16 44.1041716,15.665656 44.0164201,15.1867273 C43.9172227,14.6451495 44.2777669,14.1207873 44.8200458,14.0178824 C45.0817742,13.9681774 45.3463005,14.0229306 45.5654249,14.1716573 C45.7867113,14.3219374 45.935253,14.5498816 45.9835799,14.8134218 C46.0827773,15.3549995 45.7222331,15.8793617 45.1799542,15.9823961 C45.1171292,15.9943046 45.0544314,16 44.992751,16 Z",1,"cu-fill_dark"],["fill","#FFF","d","M55.9918378 13.700155C55.8812557 15.0764159 54.676006 16.1024227 53.2997825 15.9918375 51.923559 15.8812524 50.8975801 14.67597 51.0081622 13.299709 51.1187443 11.9235841 52.323994 10.8975774 53.7002175 11.0081625 55.076441 11.1187476 56.1024199 12.3240301 55.9918378 13.700155M52.9967346 18.0800564C52.9525006 18.630628 52.4703976 19.0409686 51.9199436 18.9967346 51.369372 18.9525006 50.9590314 18.4703976 51.0032654 17.9199436 51.0474994 17.369372 51.5296024 16.9590314 52.0800564 17.0032654 52.630628 17.0474994 53.0409686 17.5296024 52.9967346 18.0800564"],["d","M35.6209795,72.9916743 C39.1701344,72.4204685 42.7191471,71.8492627 46.2683019,71.2781942 C51.9543638,70.3630557 57.6404257,69.4479172 63.3264876,68.5329161 C64.629653,68.3232312 65.9329603,68.1134089 67.2361257,67.903724 C67.4983211,67.8615397 67.9837946,67.7228948 67.9995604,67.3949015 C68.014474,67.088069 67.646747,66.9652261 67.3790123,67.0083723 C63.8299995,67.5794407 60.2808447,68.1506465 56.7318319,68.7218523 C51.04577,69.6368535 45.3597081,70.551992 39.6736462,71.4671305 C38.3703388,71.6768154 37.0671735,71.8865003 35.7640082,72.0963226 C35.5018127,72.1385069 35.0163392,72.2771518 35.0004314,72.6050077 C34.9856598,72.9118402 35.3533868,73.0346831 35.6209795,72.9916743",1,"cu-fill"],["d","M93.8824544,49.0023145 L59.9695634,46.0011403 C59.921413,45.9968474 59.872844,46.0047177 59.8281829,46.0240358 L51.181783,49.7673113 C50.9661533,49.8607537 50.9353092,50.1611143 51.1272126,50.2984875 L58.9906466,55.9282112 C59.0334934,55.958834 59.0833185,55.9774366 59.1353767,55.9820157 L93.0422664,58.9826175 C95.5209606,59.2019853 97.7037746,57.3195437 97.9175899,54.7781403 L97.9830464,54.0009803 C98.1970013,51.4595769 96.361009,49.2216823 93.8824544,49.0023145",1,"cu-fill_light"],["fill","#FFF","d","M96.100766,50.0267404 L61.3392871,47 L52,50.9781199 L60.4873664,56.9570778 L95.2488452,59.9838182 C97.5961557,60.1881135 99.6631248,58.4342573 99.8657744,56.0662302 L99.9839395,54.6844171 C100.186589,52.31639 98.4479349,50.2310357 96.100766,50.0267404"],["d","M92 58.7793014L92.8150462 49 95.8864665 49.3215132 96.7422718 49.6428862 97.4786436 50.1274695 98.1173831 50.7884435 98.524026 51.4226363 98.8102875 52.1080077 99 53.0746505 98.9998646 53.7952159 98.9152319 54.811635 98.7887569 55.6095991 98.4721631 56.6764957 98.0141989 57.4201966 97.4921848 57.9827395 96.9372654 58.4019826 96.1186985 58.7962675 95.5134058 58.9548507 94.4689713 59 92 58.7793014",1,"cu-fill"],["d","M52 50.732837L55.6504221 53 56 49 52 50.732837",1,"cu-fill_light"],["d","M96.0382023,49.9490159 C90.1556814,49.4395887 84.2731606,48.9301614 78.3906397,48.4207341 C74.4714643,48.0812556 70.5522889,47.7419167 66.6331135,47.4024382 C65.4099021,47.2965868 64.1868299,47.1905958 62.9637577,47.0846048 C62.4220876,47.0378235 61.8690051,46.9100477 61.3483504,47.1044344 C58.2458555,48.2625156 55.2228296,49.6996088 52.1728037,50.9917499 C52.1297985,51.0100434 51.9314738,51.1156155 52.024582,51.1809697 C53.4916285,52.2087615 54.9586749,53.236693 56.4257214,54.2644849 C57.375175,54.9297567 58.3247678,55.5950284 59.2742215,56.2603002 C59.6369122,56.5144553 60.060005,56.9396762 60.4918659,57.056001 C61.1846803,57.2424279 62.0357371,57.1896419 62.7467835,57.2512256 C64.6127062,57.4127956 66.4787681,57.5743656 68.3446909,57.7360752 C73.3750416,58.17163 78.4052531,58.6073243 83.4356039,59.0428791 C86.9901401,59.3507977 90.5446763,59.6585766 94.0992125,59.9664953 C95.8020219,60.1139611 97.5376766,59.802272 98.7526766,58.476616 C99.7353931,57.4041376 99.8692797,56.1265197 99.9824292,54.7493345 C100.111862,53.1751093 99.5264911,51.6609317 98.2168518,50.7308918 C97.5664858,50.2689441 96.8238466,50.034898 96.0382023,49.9490159 C95.8642332,49.9300241 95.1179754,50.2334741 95.5144858,50.2767642 C97.3191714,50.4742232 98.8087642,51.853922 99.1387488,53.6494855 C99.3397179,54.7431901 99.1966457,56.3463219 98.7688209,57.3655954 C98.1531096,58.8322935 96.7747178,59.7982223 95.1737847,59.6862265 C94.9266094,59.6690501 94.6798517,59.6434949 94.433094,59.6221291 C90.9854443,59.3235668 87.5379339,59.0250044 84.0902843,58.7264421 C79.2368253,58.3061087 74.3833664,57.8857754 69.5300466,57.465442 C66.7334589,57.2232965 63.9171083,57.0596318 61.1283143,56.7378883 C60.9849638,56.7212704 61.0338143,56.7003236 61.1238607,56.7487806 C60.9689587,56.6654122 60.8249123,56.5393122 60.6811442,56.4386277 C59.9063555,55.8956855 59.1314277,55.3528829 58.356639,54.8099407 C56.6149997,53.5897172 54.8732213,52.3694937 53.1315821,51.1491305 C53.0160666,51.068136 52.900412,50.9872812 52.7848965,50.9062867 C52.7354893,50.9692669 52.6860821,51.0323867 52.636814,51.0953669 C55.537644,49.8664854 58.438474,48.6374642 61.339304,47.408443 C61.475835,47.3506297 61.6826494,47.3048259 61.8008092,47.2129391 C61.7796546,47.2292776 61.1331855,47.2384942 61.4013762,47.3225609 C61.605268,47.3865186 61.8830618,47.364315 62.0951649,47.3826085 C63.176,47.4763107 64.2568351,47.5698733 65.3378093,47.6634359 C73.1643303,48.3412758 80.9909904,49.0191157 88.8176505,49.6968159 C91.0498825,49.8902251 93.2821145,50.0834947 95.5144858,50.2767642 C95.6881765,50.291846 96.4337384,49.9832291 96.0382023,49.9490159",1,"cu-fill_dark"],["d","M60.3890042 56.8289431C60.5925304 53.5816182 60.7961581 50.3341536 60.9997858 47.0868287 61.010439 46.9165565 60.6201272 47.0248099 60.6109959 47.1710569 60.4073682 50.4185215 60.2038419 53.6658464 60.0002142 56.9131713 59.989561 57.0834435 60.3797714 56.9751901 60.3890042 56.8289431M92.4445237 58.7726604C92.6295368 55.5608149 92.8146422 52.3488312 92.9996553 49.1369857 93.0141354 48.8867856 92.5676506 49.0169284 92.5554763 49.2273396 92.3704632 52.4391851 92.1853578 55.6511688 92.0003447 58.8630143 91.9858646 59.1132144 92.4323494 58.9830716 92.4445237 58.7726604",1,"cu-fill_dark"],["d","M60.1137753 53.3187766C63.7640616 53.6214245 67.4144901 53.9239358 71.0649186 54.2264471 76.8577055 54.7066412 82.6504923 55.1868352 88.4434214 55.6668927 89.7804044 55.7777908 91.1175296 55.8885523 92.4545125 55.9994503 92.6385414 56.01461 93.250786 55.7114158 92.8862836 55.681233 89.2358551 55.3785851 85.5854266 55.0760738 81.9349981 54.7734258 76.1422112 54.2933684 70.3494243 53.8131743 64.5566375 53.3329802 63.2195123 53.2222188 61.8825293 53.1114573 60.5454042 53.0005592 60.3615175 52.9852629 59.7491306 53.2885937 60.1137753 53.3187766M61.1080476 50.3026452C64.7591833 50.6069818 68.4103191 50.9114557 72.0614548 51.2157923 77.855364 51.6988837 83.6492732 52.1819751 89.4431824 52.6649291 90.7804243 52.7764963 92.1178086 52.8879261 93.4550505 52.9994933 93.6258864 53.0136453 94.2474955 52.7268956 93.8920261 52.6973551 90.2408904 52.3928811 86.5897546 52.0885445 82.9386189 51.7840705 77.1447097 51.3011165 71.3508005 50.8180251 65.5567491 50.3350711 64.2195071 50.2235039 62.8822651 50.1120741 61.5448809 50.0005069 61.3740451 49.9863549 60.752436 50.2729672 61.1080476 50.3026452",1,"cu-fill_dark"],["d","M49.9821334,51.3142974 C49.8353897,52.094867 49.6674199,52.8823846 49.3450649,53.6120506 C48.8250235,54.7892149 48.0058344,55.4425964 46.6583963,55.2498999 C44.9430378,55.0045983 43.409517,54.3720604 41.6398194,54.5549731 C40.2868626,54.6947809 38.8903214,55.2296236 38.1267448,56.4191239 C37.1278407,57.9754423 37.4443938,60.1132532 35.8962977,61.3546497 C34.2123539,62.7052266 31.8401158,62.2943109 29.8461283,62.2706315 C27.7610097,62.2459596 25.6865042,62.5600308 23.6742622,63.0967167 C19.7716164,64.1379017 16.2409949,65.918111 12.8892392,68.1436917 C9.03824384,70.7007841 4.95970377,73.4931109 0.407819843,74.583498 C-0.198682924,74.7288357 -0.0990613775,75.1135197 0.510554563,74.9674731 C4.52980283,74.0046995 8.21580005,71.7873428 11.6575547,69.5624711 C13.4254126,68.4196206 15.139639,67.1884332 16.9874489,66.1747561 C18.964597,65.0900407 21.1099979,64.2407015 23.2764836,63.6193652 C25.5581566,62.9649912 27.8575181,62.6814054 30.2280581,62.7650632 C32.0880376,62.8305715 33.9906111,62.8689974 35.7078092,62.0379495 C36.4580839,61.6748179 37.1417085,61.157274 37.5977884,60.4498694 C38.0746699,59.7099943 38.2453284,58.8433564 38.4621185,58.0033755 C38.6885311,57.1258195 38.9811694,56.2339424 39.7051237,55.6392631 C40.4678512,55.0128223 41.4933588,54.9365377 42.440471,55.006867 C44.4529961,55.1564584 46.4322667,56.2893834 48.4337542,55.4505368 C50.1659521,54.7245574 50.6804748,52.8398467 50.9978769,51.150952 C51.052499,50.8602766 50.0354819,51.0305699 49.9821334,51.3142974",1,"cu-fill_light"],[1,"scratchpad-empty__title"],a,[1,"scratchpad-empty__list-title"],o,[1,"scratchpad-empty__list"],[1,"scratchpad-empty__list__item"],c,n,s,[1,"scratchpad-footer"],["type","text","placeholder",r,1,"scratchpad-footer__input",3,"ngModel","keypress","ngModelChange"],["inputNewScratchpadName",""],["class","scratchpad-footer__button",3,"click",4,"ngIf"],[1,"scratchpad-footer__button",3,"click"],l,[1,"task-sc__inner"],[1,"task-sc__title"],d,[1,"task-sc__options"],[1,"cu-btn","cu-btn_status","cu-btn_option","cu-btn_cancel","scratchpad-modal-button",3,"click"],u,[1,"cu-btn","cu-btn_status","cu-btn_option","scratchpad-modal-button",3,"click"],p]},template:function(e,t){1&e&&(X.bd(0,Sk,3,2,"div",0),X.bd(1,jk,39,0,"div",1),X.vc(2,"async"),X.bd(3,Ok,1,0,"cu-loader",2),X.vc(4,"async"),X.bd(5,Dk,4,2,"div",3),X.vc(6,"async"),X.bd(7,Ck,8,1,"ng-template",null,4,X.cd)),2&e&&(X.Dc("ngIf",t.notesList.length>0),X.Ib(1),X.Dc("ngIf",0==t.notesList.length&&!X.wc(2,4,t.loading$)),X.Ib(2),X.Dc("ngIf",X.wc(4,6,t.loading$)),X.Ib(2),X.Dc("ngIf",!X.wc(6,8,t.loading$)))},directives:[n.q,Tn.d,n.p,Tn.a,pk.a,n.o,n.t,Qe.a,Lr.a,s.c,mk.a,s.p,s.s,Ze.a],pipes:[n.b],encapsulation:2,changeDetection:0}),e})();const $k=["toolbar"],zk=["editor"],Mk=function(e,t){return{"task__inner task__full-editor":e,"scratchpad-note__inner":t}};let Ek=(()=>{class e{constructor(e,t,i,a){this.taskMentionService=e,this.store=t,this.sharedData=i,this.changeDetector=a,this.destroy$=new Ee.a,this.debounceSave=new Ee.a,this.selectionOption=null,this.editorFullScreen=!1,this.closeWithoutSave=new X.o,this.saveNote=new X.o,this.showWarning=new X.o,this.hideWarning=new X.o,this.onToggleFullscreen=new X.o,this.convertToTask=new X.o,this.tryToSaveFlag=new X.o,this.isFocus=!0,this.users$=this.store.select(me.getUser).pipe(Object(Fe.a)(e=>[e]))}ngOnInit(){this.descriptionHistoryList$=this.store.pipe(Object(ye.select)(Object(wa.b)(this.activeNoteId)),Object(Fe.a)(e=>e.map(e=>Object.assign(Object.assign({},e),{userid:e.userid||this.sharedData.currentUser.value.id})))),this.store.pipe(Object(ye.select)(wa.e),Object(Re.a)(this.destroy$)).subscribe(e=>{this.noteList=e.filter(e=>e.id===this.activeNoteId),this.noteList.length>0?(this.noteList[0]&&(this.noteList[0].hasntSave?this.tryToSaveFlag||this.showWarning.emit():this.hideWarning.emit()),!this.editor.editor||this.isFocus&&!this.gettingUpdate?this.noteContent||(this.noteContent=this.getStringContent(this.noteList[0].content),this.editorToken=this.noteList[0].editor_token):this.noteList[0]&&(this.noteContent=this.getStringContent(this.noteList[0].content),this.editorToken=this.noteList[0].editor_token,this.editor.editor.setContents(JSON.parse(this.noteContent)),this.selectionOption&&setTimeout(()=>{0!==this.selectionOption.index&&0!==this.selectionOption.length&&this.editor.editor.setSelection(this.selectionOption.index,this.selectionOption.length)},100),this.taskMentionService.updateMentions())):this.closeWithoutSave.emit()}),setTimeout(()=>{this.taskMentionService.updateMentions(),this.editor.editor.on(ui.h.TEXT_CHANGE,(e,t,i)=>{this.isFocus&&(this.debounceSave.next(),this.selectionOption=this.editor.editor.getSelection())}),this.editor.editor.on(ui.h.SELECTION_CHANGE,(e,t,i)=>{this.editor&&this.editor.editor&&(this.selectionOption=this.editor.editor.getSelection())})},50),this.debounceSave.pipe(Object(Ht.a)(750),Object(Re.a)(this.destroy$)).subscribe(()=>{this.saveNote.emit()})}getContent(){return this.editor.editor.getContents()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}setFocus(e){this.isFocus=e,this.store.dispatch(new ka.J({hasFocus:e}))}loadDescHistory(){this.store.dispatch(new ka.w(this.activeNoteId))}toggleFullscreen(e){this.editor&&this.editor.editor&&this.editor.editor.enable(),setTimeout(()=>{this.editorFullScreen=!this.editorFullScreen,this.changeDetector.markForCheck(),this.onToggleFullscreen.emit()})}getStringContent(e){return"object"==typeof e?JSON.stringify(e):e}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(of.a),X.Wb(ye.Store),X.Wb(fe.a),X.Wb(X.h))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-scratchpad-notes-item"]],viewQuery:function(e,t){if(1&e&&(X.jd($k,1),X.jd(zk,3)),2&e){let e;X.Qc(e=X.rc())&&(t.toolbar=e.first),X.Qc(e=X.rc())&&(t.editor=e.first)}},hostAttrs:[1,"scratchpad-body"],inputs:{activeNoteId:"activeNoteId",gettingUpdate:"gettingUpdate",tryToSaveFlag:"tryToSaveFlag"},outputs:{closeWithoutSave:"closeWithoutSave",saveNote:"saveNote",showWarning:"showWarning",hideWarning:"hideWarning",onToggleFullscreen:"onToggleFullscreen",convertToTask:"convertToTask"},decls:6,vars:29,consts:[[1,"scratchpad-note"],[3,"ngClass"],["editorId","notepad",3,"disablePasteImage","modifier","enableOnStart","alwaysShowAll","isShowHistory","showConvert","isShowFullScreen","isFullScreen","alwaysEnabled","content","historyItems","editorToken","entityId","showCursor","popupInBody","allowPinToolbar","pinToolbarKey","enableUserMentions","enableUserMentionsNotif","users","allowEditorCopyLink","toggleConvert","onChange","onCancel","toggleFullscreen","onLoadHistory"],["editor",""]],template:function(e,t){1&e&&(X.cc(0,"div",0),X.cc(1,"div",1),X.cc(2,"cu-task-editor",2,3),X.qc("toggleConvert",function(){return t.convertToTask.emit()})("onChange",function(){return t.setFocus(!0)})("onCancel",function(){return t.setFocus(!1)})("toggleFullscreen",function(e){return t.toggleFullscreen(e)})("onLoadHistory",function(){return t.loadDescHistory()}),X.vc(4,"async"),X.vc(5,"async"),X.bc(),X.bc(),X.bc()),2&e&&(X.Ib(1),X.Dc("ngClass",X.Ic(26,Mk,t.editorFullScreen,!t.editorFullScreen)),X.Ib(1),X.Dc("disablePasteImage",!0)("modifier","scrachpad-editor")("enableOnStart",!t.noteContent||0===t.noteContent.length||25===t.noteContent.length)("alwaysShowAll",!0)("isShowHistory",!0)("showConvert",!0)("isShowFullScreen",!0)("isFullScreen",t.editorFullScreen)("alwaysEnabled",!0)("content",t.noteContent)("historyItems",X.wc(4,22,t.descriptionHistoryList$))("editorToken",t.editorToken)("entityId",t.activeNoteId)("showCursor",!1)("popupInBody",!0)("allowPinToolbar",!0)("pinToolbarKey","notepad")("enableUserMentions",!0)("enableUserMentionsNotif",!1)("users",X.wc(5,24,t.users$))("allowEditorCopyLink",!1))},directives:[n.o,xf.b],pipes:[n.b],encapsulation:2,changeDetection:0}),e})();const Lk=["searchInput"],Ak=["scratchpadNoteEdit"],Fk=["scratchpadTitle"];function Uk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",15),X.cc(1,"div",16),X.cc(2,"input",17,18),X.qc("ngModelChange",function(t){return X.Uc(e),X.uc(2).searchQuery=t})("input",function(t){return X.Uc(e),X.uc(2).debounceSearch.next(t.target.value)}),X.bc(),X.cc(4,"div",19),X.qc("click",function(){return X.Uc(e),X.uc(2).showForm()}),X.cc(5,"div",20),X.tc(),X.cc(6,"svg",21),X.cc(7,"g",22),X.Xb(8,"circle",23),X.Xb(9,"path",24),X.bc(),X.bc(),X.bc(),X.bc(),X.sc(),X.cc(10,"div",25),X.qc("click",function(){return X.Uc(e),X.uc(2).hideForm()}),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ob("scratchpad-search_hidden",e.isHidden)("scratchpad-search_menu",e.isMenu),X.Ib(2),X.Dc("ngModel",e.searchQuery),X.Ib(8),X.Dc("icon","close")}}function Nk(e,t){if(1&e){const e=X.dc();X.cc(0,"button",26),X.qc("click",function(){return X.Uc(e),X.uc(2).closeNote(!0)}),X.bc()}}function Rk(e,t){if(1&e&&(X.ac(0),X.dd(1),X.Zb()),2&e){const e=X.uc(2);X.Ib(1),X.ed(e.activeNote.name)}}function Gk(e,t){1&e&&(X.ac(0),X.gc(1,27),X.Zb())}function qk(e,t){if(1&e){const e=X.dc();X.ac(0),X.cc(1,"cu-scratchpad-menu",28),X.qc("onAction",function(t){return X.Uc(e),X.uc(2).quickAction(t)}),X.vc(2,"async"),X.Xb(3,"div",29),X.bc(),X.Zb()}if(2&e){const e=X.uc(2);X.Ib(1),X.Dc("showArchived",X.wc(2,1,e.showArchived$))}}function Bk(e,t){if(1&e){const e=X.dc();X.ac(0),X.cc(1,"div",30),X.qc("click",function(){return X.Uc(e),X.uc(2).setOpened(!1)}),X.bc(),X.Zb()}}function Wk(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-scratchpad-notes",31),X.qc("setActiveNote",function(t){X.Uc(e);const i=X.uc(2);return i.openNote(t),i.hideForm()}),X.bc()}}function Vk(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-scratchpad-notes-item",32,33),X.qc("closeWithoutSave",function(){return X.Uc(e),X.uc(2).closeWithoutSave()})("saveNote",function(){return X.Uc(e),X.uc(2).saveNote()})("showWarning",function(){return X.Uc(e),X.uc(2).showWarning()})("hideWarning",function(){return X.Uc(e),X.uc(2).hideWarning()})("convertToTask",function(){return X.Uc(e),X.uc(2).convertNoteToTask()})("onToggleFullscreen",function(){return X.Uc(e),X.uc(2).toggleFullscreen()}),X.bc()}if(2&e){const e=X.uc(2);X.Dc("tryToSaveFlag",e.tryToSaveFlag)("gettingUpdate",e.gettingUpdate)("activeNoteId",e.activeNote.id)}}function Xk(e,t){if(1&e){const e=X.dc();X.cc(0,"button",41),X.qc("click",function(){return X.Uc(e),X.uc(3).archiveNoteAfterConvertingToTask()}),X.gc(1,43),X.bc()}}function Hk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",34),X.cc(1,"div",35),X.mc(2,36),X.Xb(3,"br"),X.jc(),X.bc(),X.cc(4,"div",37),X.cc(5,"button",38),X.qc("click",function(){return X.Uc(e),X.uc(2).deleteNoteAfterConvertingToTask()}),X.gc(6,39),X.bc(),X.bd(7,Xk,2,0,"button",40),X.Xb(8,"br"),X.Xb(9,"br"),X.cc(10,"button",41),X.qc("click",function(){return X.Uc(e),X.uc(2).keepNote()}),X.gc(11,42),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(7),X.Dc("ngIf",!(null!=e.activeNote&&e.activeNote.archived))}}function Yk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",44),X.mc(1,45),X.Xb(2,"br"),X.cc(3,"div",46),X.qc("click",function(){return X.Uc(e),X.uc(2).getCurrentNote()}),X.bc(),X.cc(4,"div",47),X.qc("click",function(){return X.Uc(e),X.uc(2).saveNote(!0)}),X.Xb(5,"span",48),X.bc(),X.jc(),X.bc()}}function Zk(e,t){if(1&e){const e=X.dc();X.cc(0,"div",2),X.cc(1,"div",3),X.bd(2,Uk,11,6,"div",4),X.bd(3,Nk,1,0,"button",5),X.cc(4,"div",6,7),X.qc("keydown",function(t){return X.Uc(e),X.uc().keyPress(t)})("blur",function(){return X.Uc(e),X.uc().scrollBack()})("paste",function(t){return X.Uc(e),X.uc().onPaste(t)}),X.bd(6,Rk,2,1,"ng-container",8),X.bd(7,Gk,2,0,"ng-template",null,9,X.cd),X.bc(),X.bd(9,qk,4,3,"ng-container",10),X.bd(10,Bk,2,0,"ng-container",10),X.bc(),X.bd(11,Wk,1,0,"cu-scratchpad-notes",11),X.bd(12,Vk,2,3,"cu-scratchpad-notes-item",12),X.bd(13,Hk,12,1,"div",13),X.bd(14,Yk,6,0,"div",14),X.bc()}if(2&e){const e=X.Rc(8),t=X.uc();X.Ib(1),X.Ob("scratchpad-navigation-search",t.isMenu),X.Ib(1),X.Dc("ngIf",!t.activeNote),X.Ib(1),X.Dc("ngIf",t.activeNote),X.Ib(1),X.Ob("scratchpad-navigation__editor-title_no-active",!t.activeNote),X.Ib(2),X.Dc("ngIf",t.activeNote)("ngIfElse",e),X.Ib(3),X.Dc("ngIf",t.isHidden&&!t.activeNote),X.Ib(1),X.Dc("ngIf",t.isHidden),X.Ib(1),X.Dc("ngIf",!t.activeNote),X.Ib(1),X.Dc("ngIf",t.activeNote&&!t.convertingToTask),X.Ib(1),X.Dc("ngIf",t.activeNote&&t.convertingToTask),X.Ib(1),X.Dc("ngIf",t.activeNote)}}const Qk=function(e,t,i,a){return{"scratchpad-active":e,"scratchpad-hide":t,"scratchpad-show-warning":i,"scratchpad-fullscreen":a}};let Kk=(()=>{class e{constructor(e,t,i,a,o,c,n){this.sharedData=e,this.changeDetector=t,this.zone=i,this.store=a,this.taskService=o,this.renderer=c,this.codoxService=n,this.destroy$=new Ee.a,this.showWidget=!1,this.noteClosed=!1,this.noteTitle="",this.notSavingNotes=[],this.tryToSaveFlag=!1,this.activeNote=null,this.scratchpadHide=!1,this.isFullScreen=!1,this.searchQuery="",this.isMenu=!1,this.isHidden=!0,this.gettingUpdate=!1,this.debounceSearch=new Ee.a,this.convertingToTask=!1,this.overwrite=!1,this.showArchived$=this.store.select(wa.g),this.opened$=this.store.select(wa.f),this.user$=this.store.select(me.getUser),this.LayoutVersion=Ie.b,this.convertToTask=new X.o}keyboardDomListener(e){e.keyCode===v_.a.ESCAPE&&(e.stopPropagation(),e.preventDefault(),this.setOpened(!1))}showWarning(){this.tryToSaveFlag||(this.tryToSaveFlag=!0)}tryToSave(){if(this.activeNote){const e=this.notSavingNotes.filter(e=>e.id===this.activeNote.id);e.length>0&&(this.activeNote=e[0])}this.notSavingNotes&&this.notSavingNotes.length>0&&this.notSavingNotes.map(e=>new ka.n({note_id:e.id,data:{name:e.name,content:e.content,date_updated:e.date_updated}})).map((e,t)=>{setTimeout(()=>{this.store.dispatch(e)},200*(t+1))})}hideWarning(){this.tryToSaveFlag=!1}ngOnInit(){this.store.select(wa.c).pipe(Object(Ne.a)(1)).subscribe(e=>{e&&(this.activeNote=e)}),this.debounceSearch.pipe(Object(Ht.a)(250)).subscribe(()=>this.store.dispatch(new ka.G({query:this.searchQuery}))),this.doNotShowScrarchpad(),this.taskService.onTaskCreate.pipe(Object(Ge.a)(e=>e&&e.convertedNote),Object(Re.a)(this.destroy$)).subscribe(()=>{this.convertingToTask=!0,this.changeDetector.detectChanges()}),this.store.pipe(Object(ye.select)(wa.e),Object(Re.a)(this.destroy$)).subscribe(e=>{if(this.notSavingNotes=e.filter(e=>e.hasntSave),this.activeNote){const t=(e||[]).find(e=>e.id===this.activeNote.id);t&&(this.activeNote=Object.assign(Object.assign({},this.activeNote),{hasntSave:t.hasntSave}),this.changeDetector.detectChanges())}setTimeout(()=>this.gettingUpdate=!1,400)}),this.sharedData.isConnected.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e&&this.tryToSave()}),0===this.notSavingNotes.length&&this.tryToSaveFlag&&this.hideWarning(),this.opened$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e?setTimeout(()=>{this.showWidget=!0,this.changeDetector.detectChanges(),this.zone.runOutsideAngular(()=>{this.escapeListener=this.renderer.listen("document","keydown",e=>this.keyboardDomListener(e))}),this.activeNote&&(this.scratchpadTitle.nativeElement.setAttribute("contenteditable","true"),this.store.select(wa.e).pipe(Object(Ne.a)(1)).subscribe(e=>{e.forEach(e=>{e.id===this.activeNote.id&&(this.activeNote=Object.assign(Object.assign({},this.activeNote),e),this.changeDetector.markForCheck())})}))},50):(this.activeNote&&this.saveNote(),this.showWidget=!1,this.escapeListener&&this.escapeListener(),this.isFullScreen=!1,setTimeout(()=>{this.convertingToTask=!1,this.changeDetector.markForCheck()},300))})}doNotShowScrarchpad(){this.store.pipe(Object(ye.select)(Q.d),Object(Re.a)(this.destroy$)).subscribe(e=>{e&&(this.scratchpadHide=e.search(/(\/signup)|(\/login$)|(\/onboarding)|(\/api\?)|(\/setup\/)/)>=0,this.changeDetector.markForCheck())})}ngOnDestroy(){this.store.dispatch(new ka.H({note:this.activeNote})),this.destroy$.next(),this.destroy$.unsubscribe(),this.escClickHandler&&this.escClickHandler()}openNote(e){this.activeNote=e.note,this.noteTitle=e.note.name,e.convert&&this.convertNoteToTask(),this.scratchpadTitle&&this.scratchpadTitle.nativeElement&&(this.scratchpadTitle.nativeElement.setAttribute("contenteditable","true"),this.resetName()),this.getCurrentNote()}convertNoteToTask(){this.isFullScreen=!1,this.changeDetector.detectChanges(),this.convertToTask.emit({description:this.scratchpadNoteEdit?JSON.stringify(this.scratchpadNoteEdit.getContent()):this.activeNote.content,name:(this.noteTitle||"").trim()})}getCurrentNote(){this.gettingUpdate=!0,this.store.dispatch(new ka.s({id:this.activeNote.id}))}saveNote(e=!1){return t=this,void 0,a=function*(){if(!this.gettingUpdate&&!this.overwrite&&(this.overwrite=e,this.overwrite&&setTimeout(()=>this.overwrite=!1,1500),this.noteTitle=(this.scratchpadTitle.nativeElement.textContent||"").replace(/\s*$/,"").trim(),this.scratchpadNoteEdit)){const t=this.scratchpadNoteEdit.getContent();if("object"==typeof this.activeNote.content&&(this.activeNote.content=JSON.stringify(this.activeNote.content)),this.activeNote&&(JSON.stringify(t)!==this.activeNote.content||this.noteTitle!==this.activeNote.name)){const i={name:this.noteTitle,content:t};if(!e){const e=(yield this.store.select(wa.e).pipe(Object(Yt.a)()).toPromise()).find(e=>e.id===this.activeNote.id);i.date_updated=e?e.date_updated:this.activeNote.date_updated}this.store.dispatch(new ka.n({note_id:this.activeNote.id,data:i,overwrite:e}))}}},new((i=void 0)||(i=Promise))(function(e,o){function c(e){try{s(a.next(e))}catch(t){o(t)}}function n(e){try{s(a.throw(e))}catch(t){o(t)}}function s(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i(function(e){e(a)})).then(c,n)}s((a=a.apply(t,[])).next())});var t,i,a}closeWithoutSave(){this.activeNote=null,this.scratchpadTitle.nativeElement.setAttribute("contenteditable","false"),this.scratchpadTitle.nativeElement.textContent=$localize`:@@common_notepad:Notepad`,this.changeDetector.markForCheck()}closeNote(e=!1){this.noteClosed||(this.convertingToTask||this.saveNote(e),setTimeout(()=>{this.activeNote=null,this.scratchpadTitle.nativeElement.setAttribute("contenteditable","false"),this.scratchpadTitle.nativeElement.textContent=$localize`:@@common_notepad:Notepad`,this.convertingToTask=!1,this.isFullScreen=!1,this.changeDetector.markForCheck()},10),this.noteClosed=!0,setTimeout(()=>this.noteClosed=!1,100))}resetName(){this.scratchpadTitle&&this.scratchpadTitle.nativeElement&&(this.scratchpadTitle.nativeElement.textContent=this.activeNote.name)}onPaste(e){if(e.preventDefault(),e&&e.clipboardData){let t;if(t=void 0!==e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("text"),t){const e=t.split(/\n/).filter(e=>e.trim().length>0);e.forEach((t,i)=>{e[i]=t.trim()}),this.noteTitle=e.join(" "),this.scratchpadTitle.nativeElement.textContent=e.join(" ")}}}keyPress(e){switch(this.noteTitle=e.target.textContent,e.which){case v_.a.ENTER:e.stopPropagation(),e.preventDefault(),e.target&&"function"==typeof e.target.blur&&e.target.blur();break;case v_.a.ESCAPE:e.stopPropagation(),e.preventDefault(),this.resetName()}}scrollBack(){!this.scratchpadTitle.nativeElement.textContent&&this.activeNote&&this.activeNote.name&&(this.scratchpadTitle.nativeElement.textContent=this.activeNote.name),this.scratchpadTitle.nativeElement.scrollLeft=0}archive(){this.store.dispatch(new ka.M)}toggleFullscreen(){this.isFullScreen=!this.isFullScreen,this.changeDetector.detectChanges()}deleteNoteAfterConvertingToTask(){this.store.dispatch(new ka.k({noteId:this.activeNote.id})),this.closeNote()}archiveNoteAfterConvertingToTask(){this.store.dispatch(new ka.b({note:this.activeNote})),this.closeNote()}showForm(){this.isHidden=!1,this.isMenu=!0,setTimeout(()=>{this.searchInput&&this.searchInput.nativeElement.focus()}),this.escClickHandler=this.renderer.listen("document","keyup",e=>{e.keyCode===v_.a.ESCAPE&&this.hideForm()})}hideForm(){this.isHidden=!0,this.clear()}clear(){this.searchQuery="",this.store.dispatch(new ka.G({query:this.searchQuery})),this.isMenu=!1,this.escClickHandler&&this.escClickHandler(),this.changeDetector.markForCheck()}keepNote(){this.convertingToTask=!1,this.changeDetector.markForCheck()}quickAction(e){e===dk.archive&&this.archive()}setOpened(e){this.store.dispatch(new ka.K({open:e}))}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(fe.a),X.Wb(X.h),X.Wb(X.B),X.Wb(ye.Store),X.Wb(Ve.a),X.Wb(X.H),X.Wb(nf.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-scratchpad"]],viewQuery:function(e,t){if(1&e&&(X.jd(Lk,1),X.jd(Ak,1),X.jd(Fk,1)),2&e){let e;X.Qc(e=X.rc())&&(t.searchInput=e.first),X.Qc(e=X.rc())&&(t.scratchpadNoteEdit=e.first),X.Qc(e=X.rc())&&(t.scratchpadTitle=e.first)}},outputs:{convertToTask:"convertToTask"},decls:3,vars:9,consts:function(){let e,t,i,a,o,c,n,s;return e=$localize`:form input placeholder@@forms_placeholder--search␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,t=$localize`:generic search text@@common_search␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,i=$localize`:@@common_notepad␟217b84da242dc638df3eb122cc23551c58386998␟3055113511212976663:Notepad`,a=$localize`:@@cu-scratchpad__question_converted-to-task␟647dcf6610881b35f63f2d382ea2fd65eb5445a3␟1635244577416766390: Converted to task! What${"\ufffd#3\ufffd\ufffd/#3\ufffd"}:LINE_BREAK: should we do with this note? `,o=$localize`:@@common_delete␟17c7bc4ead8a8d8180ca9fe6b865d5ccc1290694␟9087057541878216252: Delete `,c=$localize`:@@cu-scratchpad__btn-txt_keep-this-note␟257328eaf0df51f8a7d162a96055730e23672728␟6774790451838758089: Keep this Note `,n=$localize`:@@common_archive␟5851e12c64d3f919ca109fb731a2280dccf1f68b␟8498376327560416343: Archive `,s=$localize`:@@cu-scratchpad__warning-msg_new-note-version␟662d16f520de14413a54f7bd0c3f481df66641bc␟834086436838495609: There's a newer version of this Note available.${"\ufffd#2\ufffd\ufffd/#2\ufffd"}:LINE_BREAK:${"\ufffd#3\ufffd"}:START_TAG_DIV: Reload newest version ${"[\ufffd/#3\ufffd|\ufffd/#4\ufffd]"}:CLOSE_TAG_DIV:${"\ufffd#4\ufffd"}:START_TAG_DIV_1: or ${"\ufffd#5\ufffd"}:START_TAG_SPAN:keep this version${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:${"[\ufffd/#3\ufffd|\ufffd/#4\ufffd]"}:CLOSE_TAG_DIV:`,s=X.lc(s),[[1,"scratchpad",3,"ngClass"],["class","scratchpad-container",4,"ngIf"],[1,"scratchpad-container"],[1,"scratchpad-navigation"],["class","scratchpad-search",3,"scratchpad-search_hidden","scratchpad-search_menu",4,"ngIf"],["class","scratchpad-navigation__back","icon","chevron-left-white",3,"click",4,"ngIf"],[1,"scratchpad-navigation__editor-title",3,"keydown","blur","paste"],["scratchpadTitle",""],[4,"ngIf","ngIfElse"],["notepadTmpl",""],[4,"ngIf"],[3,"setActiveNote",4,"ngIf"],["closeWarning","",3,"tryToSaveFlag","gettingUpdate","activeNoteId","closeWithoutSave","saveNote","showWarning","hideWarning","convertToTask","onToggleFullscreen",4,"ngIf"],["class","scratchpad-converted",4,"ngIf"],["class","scratchpad-container__warning",4,"ngIf"],[1,"scratchpad-search"],[1,"scratchpad-search-form"],["type","text","placeholder",e,1,"scratchpad-search-form__input",3,"ngModel","ngModelChange","input"],["searchInput",""],["cuTooltip",t,"tooltipDelay","600",1,"scratchpad-search-form__icon","scratchpad-search-form__icon-loupe",3,"click"],[1,"icon"],["width","24","height","24","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["stroke-width","2","fill","none","fill-rule","evenodd",1,"cu-stroke"],["cx","10","cy","10","r","9"],["d","M17 17l5.5 5.5","stroke-linecap","square"],[1,"scratchpad-search-close",3,"icon","click"],["icon","chevron-left-white",1,"scratchpad-navigation__back",3,"click"],i,[3,"showArchived","onAction"],["icon","ellipsis",1,"scratchpad__btn"],["icon","cu2-close",1,"scratchpad__btn","scratchpad__btn_last",3,"click"],[3,"setActiveNote"],["closeWarning","",3,"tryToSaveFlag","gettingUpdate","activeNoteId","closeWithoutSave","saveNote","showWarning","hideWarning","convertToTask","onToggleFullscreen"],["scratchpadNoteEdit",""],[1,"scratchpad-converted"],[1,"scratchpad-converted-text"],a,[1,"scratchpad-converted-btns"],[1,"cu-btn","scatchpad-delete-btn",3,"click"],o,["class","cu-btn",3,"click",4,"ngIf"],[1,"cu-btn",3,"click"],c,n,[1,"scratchpad-container__warning"],s,[1,"cu-btn","cu-btn_danger","cu-btn_sm","scratchpad-container__warning-btn",3,"click"],[1,"scratchpad-container__warning-retry",3,"click"],[1,"scratchpad-container__warning-retry-link"]]},template:function(e,t){1&e&&(X.cc(0,"div",0),X.bd(1,Zk,15,14,"div",1),X.vc(2,"async"),X.bc()),2&e&&(X.Dc("ngClass",X.Kc(4,Qk,t.showWidget,t.scratchpadHide,(null==t.activeNote?null:t.activeNote.hasntSave)&&t.codoxService.disabled,t.isFullScreen)),X.Ib(1),X.Dc("ngIf",X.wc(2,2,t.opened$)))},directives:[n.o,n.q,s.c,s.p,s.s,Lr.a,Qe.a,uk,Pk,Ek],pipes:[n.b],encapsulation:2,changeDetection:0}),e})();var Jk=i("7whL"),ex=i("lU5h"),tx=i("TyK0"),ix=i("y83z"),ax=i("IX71"),ox=i("s1tu");let cx=(()=>{class e{constructor(e,t){this.sharedData=e,this.store=t,this.destroy$=new Ee.a,this.draftTask$=new oa.a(null),this.hideDraft=new X.o,this.store.pipe(Object(ye.select)(me.getUser),Object(Re.a)(this.destroy$)).subscribe(e=>{e&&(this.currentUser=e)}),this.sharedData.compatCurrentTeam$.pipe(Object(Ge.a)(e=>null!==e),Object(Re.a)(this.destroy$)).subscribe(e=>{this.currentTeam=e,this.draftTask$.next(this.fetchUserDrafts()[this.currentTeam.id]||null)})}get draftTask(){return this.draftTask$.value}set draftTask(e){let t=this.fetchDrafts();t[this.currentUser.id.toString()]||(t[this.currentUser.id.toString()]={}),t[this.currentUser.id.toString()][this.currentTeam.id]=e,t=JSON.stringify(t),localStorage.setItem("drafts",t),this.draftTask$.next(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}clearDraft(){const e=this.fetchUserDrafts(),t=this.fetchDrafts();e&&e[this.currentTeam.id]&&(t[this.currentUser.id.toString()][this.currentTeam.id]=null,this.draftTask$.next(t[this.currentUser.id.toString()][this.currentTeam.id])),localStorage.setItem("drafts",JSON.stringify(t))}hideDraftTask(){this.hideDraft.emit("HIDE_DRAFT_TASK")}fetchDrafts(){return JSON.parse(localStorage.getItem("drafts"))||{}}fetchUserDrafts(){const e=this.fetchDrafts();return this.currentUser&&this.currentUser.id&&e[this.currentUser.id.toString()]||{}}}return e.\u0275fac=function(t){return new(t||e)(X.nc(fe.a),X.nc(ye.Store))},e.\u0275prov=X.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var nx=i("0aO/"),sx=i("tNvG"),rx=i("JX/H");const lx=["input"];let dx=(()=>{class e{constructor(e,t,i,a,o){this.clickUpStore=e,this.dataService=t,this.modalService=i,this.formBuilder=a,this.renderer=o,this.forTray=!0,this.formCtrl=this.formBuilder.control("")}ngOnInit(){this.formCtrl.setValue(this.forTray?this.task.name:this.task.text)}ngAfterViewInit(){this.blurListener=this.renderer.listen(this.input.nativeElement,"blur",()=>this.onSubmit(this.input.nativeElement.value)),this.keyDownListener=this.renderer.listen(this.input.nativeElement,"keydown",e=>{switch(e.keyCode){case v_.a.ENTER:this.blurListener&&(this.blurListener(),this.blurListener=null),this.onSubmit(this.input.nativeElement.value);break;case v_.a.ESCAPE:this.onSubmit(this.input.nativeElement.value),this.modalService.close()}}),setTimeout(()=>{this.input.nativeElement.focus()},0)}onSubmit(e){const t=this.forTray?this.task.name:this.task.text;""!==e&&e.trim()!==t&&(this.forTray&&(this.task.name=e,this.dataService.editTask(this.task.id,{name:e}).subscribe(),this.clickUpStore.dispatch(new Sa.O({tasks:[this.task]}))),this.modalService.close())}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(Da.a),X.Wb(_e.a),X.Wb(s.f),X.Wb(X.H))},e.\u0275cmp=X.Qb({type:e,selectors:[["rename-task"]],viewQuery:function(e,t){if(1&e&&X.jd(lx,3),2&e){let e;X.Qc(e=X.rc())&&(t.input=e.first)}},inputs:{task:"task",forTray:"forTray"},decls:8,vars:1,consts:function(){let e,t;return e=$localize`:@@common_new-task-name␟1b9176deb995b2627380005d3deef2d9e513ad42␟8815138415070251918: New task Name `,t=$localize`:@@forms_submit␟99387bde50a12de9097e8cb9c92e2aa6a43f8324␟1111200298196674213: Submit `,[[1,"rename-task-container"],[1,"task-copy__input-block"],[1,"task-copy__title"],e,["type","text",1,"cu-form__input","ng-pristine","ng-valid","ng-touched",3,"formControl"],["input",""],[1,"cu-btn",3,"click"],t]},template:function(e,t){if(1&e){const e=X.dc();X.cc(0,"div",0),X.cc(1,"div",1),X.cc(2,"div",2),X.gc(3,3),X.bc(),X.Xb(4,"input",4,5),X.bc(),X.cc(6,"button",6),X.qc("click",function(){X.Uc(e);const i=X.Rc(5);return t.onSubmit(i.value)}),X.gc(7,7),X.bc(),X.bc()}2&e&&(X.Ib(4),X.Dc("formControl",t.formCtrl))},directives:[s.c,s.p,s.h],encapsulation:2}),e})();var ux=i("eDEC"),px=i("0dWf");const mx=["widthChecker"],hx=["widthCheckerMaxContainer"],bx=["menuContainer"],gx=["menuTrigger"],fx=["editorContainer"],_x=["convertSub"],vx=["confirmSubtaskModal"],yx=["confirmMergeSubtaskModal"],wx=["taskRenameModal"],kx=["minimize-tasks-keeper-item",""],xx=function(e){return{color:e}};function Tx(e,t){if(1&e&&(X.cc(0,"div",21),X.Xb(1,"div",22),X.bc()),2&e){const e=X.uc(2);X.Ib(1),X.Ob("minimize-item__custom-type",!!e.task.custom_type),X.Dc("ngStyle",X.Hc(3,xx,e.task.status?e.task.status.color:""))}}const Sx=function(e){return{"minimize-item__icon_simple_active":e}};function jx(e,t){if(1&e&&X.Xb(0,"div",23),2&e){const e=X.uc(2);X.Dc("ngClass",X.Hc(2,Sx,e.task.status.type===e.StatusTypes.Closed))("icon","check")}}function Ox(e,t){1&e&&X.Xb(0,"div",24),2&e&&X.Dc("icon","cu2-file")}function Ix(e,t){1&e&&X.Xb(0,"div",25),2&e&&X.Dc("icon","handle4-no-color")}function Dx(e,t){if(1&e&&(X.cc(0,"div",26,27),X.dd(2),X.bc()),2&e){const e=X.uc(2);X.Ob("minimize-item__custom-type",!!e.task.custom_type),X.Ib(2),X.fd(" ",e.task.short_name," ")}}function Cx(e,t){1&e&&(X.cc(0,"div",26),X.gc(1,28),X.bc())}function Px(e,t){if(1&e){const e=X.dc();X.cc(0,"div",6),X.cc(1,"div",7,8),X.bd(3,Tx,2,5,"div",9),X.bd(4,jx,1,4,"div",10),X.bd(5,Ox,1,1,"div",11),X.bd(6,Ix,1,1,"div",12),X.bd(7,Dx,3,3,"div",13),X.bd(8,Cx,2,0,"div",14),X.cc(9,"div",15),X.qc("click",function(t){return X.Uc(e),X.uc().remove(t)}),X.Xb(10,"div",16),X.bc(),X.bc(),X.Xb(11,"div",17,18),X.cc(13,"div",19,20),X.dd(15),X.bc(),X.bc()}if(2&e){const e=X.uc();X.Dc("cuTooltip",e.showToolltip?null==e.task?null:e.task.name:null)("tooltipModifier",e.minimizeTasksLength===e.index+1?e.scratchpadEnabled?e.tooltipMode[1]:e.tooltipMode[0]:""),X.Ib(3),X.Dc("ngIf",!!e.task.custom_type||!e.isSimpleStatus&&!e.isDraft),X.Ib(1),X.Dc("ngIf",!e.task.custom_type&&e.isSimpleStatus&&!e.isDraft),X.Ib(1),X.Dc("ngIf",e.isDraft),X.Ib(1),X.Dc("ngIf",!e.isDraft),X.Ib(1),X.Dc("ngIf",null==e.task||null==e.task.short_name?null:e.task.short_name.length),X.Ib(1),X.Dc("ngIf",!(null!=e.task&&null!=e.task.short_name&&e.task.short_name.length)),X.Ib(7),X.fd(" ",e.task.short_name," ")}}function $x(e,t){}function zx(e,t){}function Mx(e,t){}function Ex(e,t){}function Lx(e,t){}let Ax=(()=>{class e{constructor(e,t,i,a,o,c,n,s,r,l,d){this.quickActionsHandlerFactory=e,this.sharedTaskService=t,this.changeDetectorRef=i,this.resolver=a,this.dataService=o,this.sharedData=c,this.store=n,this.modalService=s,this.taskService=r,this.injector=l,this.commonStringsService=d,this.StatusTypes=qe.g,this.inStack=!1,this.scratchpadEnabled=!1,this.removeAction=new X.o,this.openAction=new X.o,this.checkWidth=new X.o,this.onCreateTask=new X.o,this.destroy$=new Ee.a,this.showToolltip=!1,this.tooltipMode=["tooltip_right-nowrap","tooltip_left-nowrap"],this.name="",this.disabled=!1,this.isDraft=!1}onContextmenu(e){e.preventDefault(),e.stopPropagation(),this.showMenu(e,!0),setTimeout(()=>{window.getSelection&&window.getSelection().removeAllRanges()})}ngOnInit(){this.projectFeatures$=this.store.pipe(Object(ye.select)(me.getProjectFeaturesById,{project_id:this.task.project_id})),this.isDraft=!!this.task&&this.task.draft_uuid&&!this.task.id}ngAfterViewInit(){setTimeout(()=>{this.checkWidth.emit({}),this.setVisabilityTooltip()})}setVisabilityTooltip(){this.widthCheckerMaxContainer&&this.widthCheckerMaxContainer.nativeElement&&(this.showToolltip=this.widthChecker.nativeElement.offsetWidth>=this.widthCheckerMaxContainer.nativeElement.offsetWidth-20)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}showMenu(e,t=!1){if(this.disabled||this.isDraft)return;t&&(this.menuTrigger.nativeElement.remove(),this.menuContainer.clear(),this.menu=null);const i=this.createQuickActionsHandler(),a=this.resolver.resolveComponentFactory(nx.a);this.menu=this.menuContainer.createComponent(a),this.task&&(this.menu.instance.task=this.task),this.menu.instance.forTasks=!0,this.menu.instance.permissions=this.task&&this.task.permissions,this.menu.instance.limited=this.task&&this.task.permission_level!==Ie.e.CREATE,this.menu.instance.newTab=Object(px.c)(this.task),this.menu.instance.noParent=!this.task.parent,this.menu.instance.archived=this.task.archived,this.menu.instance.toggle.nativeElement.append(this.menuTrigger.nativeElement),this.menu.instance.onAction.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{if(i.handle(e.action,e.data),"rename"===e.action){const e=this.resolver.resolveComponentFactory(dx),t=this.taskRenameModal.createComponent(e);t.instance.task=this.task,t.instance.forTray=!0,this.modalService.open({title:"Rename "+this.task.name,content:t,modifier:""})}}),this.store.pipe(Object(ye.select)(Object(Tg.I)(this.task.id)),Object(Ge.a)(e=>!!e),Object(Ne.a)(1),Object(Re.a)(this.destroy$)).subscribe(e=>{this.menu.instance.users=e,this.menu.instance.changeDetector.markForCheck()}),this.store.dispatch(new ux.R({taskId:this.task.id})),this.menu.instance.onClose.pipe(Object(Re.a)(this.destroy$)).subscribe(()=>{this.menu.instance.menu.fromPoint=null}),this.menu.instance.open()}getStatusList(){if(this.disabled)return Object(Wa.a)([]);{const e=this.sharedData.statusCache[this.task.category.id];return e?Object(Wa.a)(e):this.store.pipe(Object(ye.select)(me.getCommonTaskStatuses(this.task)),Object(Yt.a)(),Object(Vt.a)(e=>e?Object(Wa.a)(e):this.dataService.getCategoryById(this.task.category.id).pipe(Object(Fe.a)(e=>e.override_statuses?e.statuses:this.project?this.project.statuses:[]))),Object(ra.a)(e=>{this.sharedData.statusCache[this.task.category.id]=e}))}}showEmailModal(){const e=this.modalService.openComponent(rx.a,this.injector,{title:this.commonStringsService.attachEmailsToTaskText});e.instance.emailType=rx.b.Comment,e.instance.task=this.task}setRecurring(e){this.task.recur=e,this.taskService.setRecurringLegacyAsync(this.task,e).subscribe(t=>{this.task.recur=t,this.task.legacy_recurring=e&&e.recurring})}openRecurring(){!this.disabled&&this.task.permissions&&this.task.permissions.can_create_tasks&&this.getStatusList().pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.statuses=e,this.changeDetectorRef.markForCheck()})}remove(e){e&&(e.preventDefault(),e.stopPropagation()),this.removeAction.emit({task:this.task})}createQuickActionsHandler(){return this.quickActionsHandlerFactory.create(new sx.a({task:this.task,convertSubtaskContainer:this.convertSub,confirmMergeSubtaskModalContainer:this.confirmMergeSubtaskModal,confirmSubtaskModalContainer:this.confirmSubtaskModal,componentDestroy$:this.destroy$,project:this.task.project,onCreate:()=>this.onCreateTask.emit(),onRename:()=>{this.changeDetectorRef.detectChanges()},onOpenRecurring:()=>{this.openRecurring()}}))}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(Jn.a),X.Wb(Xe.a),X.Wb(X.h),X.Wb(X.j),X.Wb(Da.a),X.Wb(fe.a),X.Wb(ye.Store),X.Wb(_e.a),X.Wb(Ve.a),X.Wb(X.t),X.Wb(Om.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["","minimize-tasks-keeper-item",""]],viewQuery:function(e,t){if(1&e&&(X.jd(mx,1),X.jd(hx,1),X.jd(bx,1,X.U),X.jd(gx,1),X.jd(fx,1,X.U),X.jd(_x,3,X.U),X.jd(vx,3,X.U),X.jd(yx,3,X.U),X.jd(wx,3,X.U)),2&e){let e;X.Qc(e=X.rc())&&(t.widthChecker=e.first),X.Qc(e=X.rc())&&(t.widthCheckerMaxContainer=e.first),X.Qc(e=X.rc())&&(t.menuContainer=e.first),X.Qc(e=X.rc())&&(t.menuTrigger=e.first),X.Qc(e=X.rc())&&(t.editorContainer=e.first),X.Qc(e=X.rc())&&(t.convertSub=e.first),X.Qc(e=X.rc())&&(t.confirmSubtaskModal=e.first),X.Qc(e=X.rc())&&(t.confirmMergeSubtaskModal=e.first),X.Qc(e=X.rc())&&(t.taskRenameModal=e.first)}},hostBindings:function(e,t){1&e&&X.qc("contextmenu",function(e){return t.onContextmenu(e)})},inputs:{index:"index",minimizeTasksLength:"minimizeTasksLength",hideLastMinimize:"hideLastMinimize",activeTaskId:"activeTaskId",task:"task",inStack:"inStack",statusesType:"statusesType",isSimpleStatus:"isSimpleStatus",scratchpadEnabled:"scratchpadEnabled",project:"project"},outputs:{removeAction:"removeAction",openAction:"openAction",checkWidth:"checkWidth",onCreateTask:"onCreateTask"},attrs:kx,decls:11,vars:1,consts:function(){let e;return e=$localize`:@@cu-minimize-tasks-keeper-item__draft␟97499a330642bdaa675401df4cb1437a49b7e2bc␟5743079024647025821: Draft `,[["class","minimize-item__inner","tooltipDelay","200",3,"cuTooltip","tooltipModifier",4,"ngIf"],["convertSub",""],["copyModal",""],["confirmSubtaskModal",""],["confirmMergeSubtaskModal",""],["taskRenameModal",""],["tooltipDelay","200",1,"minimize-item__inner",3,"cuTooltip","tooltipModifier"],[1,"minimize-item__name","new-dropdown-skip-container-check"],["menuTrigger",""],["class","minimize-item__icon minimize-item__icon_status",4,"ngIf"],["class","minimize-item__icon minimize-item__icon_simple",3,"ngClass","icon",4,"ngIf"],["class","minimize-item__icon minimize-item__icon_draft",3,"icon",4,"ngIf"],["class","minimize-item__handle",3,"icon",4,"ngIf"],["class","minimize-item__taskname",3,"minimize-item__custom-type",4,"ngIf"],["class","minimize-item__taskname",4,"ngIf"],[1,"minimize-item__remove",3,"click"],["icon","close-modal"],[1,"cu-hidden"],["menuContainer",""],[1,"minimize-item__width-check"],["widthChecker",""],[1,"minimize-item__icon","minimize-item__icon_status"],[1,"lv-task__status",3,"ngStyle"],[1,"minimize-item__icon","minimize-item__icon_simple",3,"ngClass","icon"],[1,"minimize-item__icon","minimize-item__icon_draft",3,"icon"],[1,"minimize-item__handle",3,"icon"],[1,"minimize-item__taskname"],["widthCheckerMaxContainer",""],e]},template:function(e,t){1&e&&(X.bd(0,Px,16,9,"div",0),X.bd(1,$x,0,0,"ng-template",null,1,X.cd),X.bd(3,zx,0,0,"ng-template",null,2,X.cd),X.bd(5,Mx,0,0,"ng-template",null,3,X.cd),X.bd(7,Ex,0,0,"ng-template",null,4,X.cd),X.bd(9,Lx,0,0,"ng-template",null,5,X.cd)),2&e&&X.Dc("ngIf",t.index<10||t.inStack)},directives:[n.q,Lr.a,Qe.a,n.t,n.o],encapsulation:2}),e})();var Fx=i("3uaV");const Ux=["minimize"],Nx=["createTaskModal"],Rx=["minimizeItem"],Gx=function(e){return{"minimize-item-active":e}};function qx(e,t){if(1&e){const e=X.dc();X.cc(0,"div",14,15),X.qc("click",function(){X.Uc(e);const i=t.$implicit;return X.uc(3).open(i)})("onCreateTask",function(){return X.Uc(e),X.uc(3).toggleTaskModal()})("checkWidth",function(){return X.Uc(e),X.uc(3).checkWidth()})("removeAction",function(t){return X.Uc(e),X.uc(3).remove(t)}),X.vc(2,"async"),X.vc(3,"async"),X.bc()}if(2&e){const e=t.$implicit,i=t.index,a=X.uc(3);let o=null;X.Dc("task",e)("ngClass",X.Hc(13,Gx,e.id&&e.id===a.activeTaskId))("cdkDragStartDelay",X.wc(2,9,a.isTouchDevice$)?500:0)("cdkDragData",e)("cdkDragDisabled",!!e&&e.draft_uuid&&!e.id)("index",i)("minimizeTasksLength",null==(o=X.wc(3,11,a.trayTasks$))||null==o.horizontal?null:o.horizontal.length)("statusesType",a.statusesType)("isSimpleStatus",e.simple_statuses)}}const Bx=function(){return["trayVertical","taskLineup"]};function Wx(e,t){if(1&e){const e=X.dc();X.cc(0,"div",12),X.qc("cdkDropListDropped",function(t){return X.Uc(e),X.uc(2).drop(t)}),X.bd(1,qx,4,15,"div",13),X.vc(2,"async"),X.bc()}if(2&e){const e=X.uc(2);let t=null;X.Dc("cdkDropListConnectedTo",X.Gc(6,Bx))("@loadingEnter",void 0),X.Ib(1),X.Dc("ngForOf",null==(t=X.wc(2,4,e.trayTasks$))?null:t.horizontal)("ngForTrackBy",e.trackById)}}function Vx(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",16),X.Xb(2,"div",17),X.dd(3),X.vc(4,"async"),X.bc(),X.Zb()),2&e){const e=X.uc(2);let t=null;X.Ib(1),X.Dc("@loadingEnter",void 0),X.Ib(2),X.fd(" ",null==(t=X.wc(4,2,e.trayTasks$))||null==t.full?null:t.full.length," ")}}function Xx(e,t){if(1&e&&(X.ac(0),X.cc(1,"div",16),X.dd(2),X.vc(3,"async"),X.bc(),X.cc(4,"div",18),X.dd(5),X.vc(6,"async"),X.bc(),X.Zb()),2&e){const e=X.uc(2);let t=null,i=null;X.Ib(1),X.Dc("@loadingEnter",void 0),X.Ib(1),X.fd(" ",null==(t=X.wc(3,3,e.trayTasks$))||null==t.horizontal?null:t.horizontal.length," "),X.Ib(3),X.fd(" /",null==(i=X.wc(6,5,e.trayTasks$))||null==i.full?null:i.full.length," ")}}function Hx(e,t){if(1&e){const e=X.dc();X.cc(0,"div",21,15),X.qc("click",function(){X.Uc(e);const i=t.$implicit,a=X.uc(3);return a.open(i),a.dropdownOpen=!a.dropdownOpen})("checkWidth",function(){return X.Uc(e),X.uc(3).checkWidth()})("onCreateTask",function(){return X.Uc(e),X.uc(3).toggleTaskModal()})("removeAction",function(t){return X.Uc(e),X.uc(3).remove(t)}),X.vc(2,"async"),X.vc(3,"async"),X.bc()}if(2&e){const e=t.$implicit,i=t.index,a=X.uc(3);X.Dc("index",i)("cdkDragStartDelay",X.wc(2,9,a.isTouchDevice$)?500:0)("cdkDragData",e)("cdkDragDisabled",!!e&&e.draft_uuid&&!e.id)("task",e)("scratchpadEnabled",X.wc(3,11,a.scratchpadEnabled$))("statusesType",a.statusesType)("isSimpleStatus",e.simple_statuses)("ngClass",X.Hc(13,Gx,e.id&&e.id===a.activeTaskId))}}const Yx=function(){return["trayHorizontal","taskLineup"]};function Zx(e,t){if(1&e){const e=X.dc();X.cc(0,"div",19),X.qc("cdkDropListDropped",function(t){return X.Uc(e),X.uc(2).drop(t)})("clickOutside",function(t){return X.Uc(e),X.uc(2).outsideClick(t)}),X.bd(1,Hx,4,15,"div",20),X.vc(2,"async"),X.bc()}if(2&e){const e=X.uc(2);X.Dc("cdkDropListConnectedTo",X.Gc(6,Yx))("clickOutsideElement",e.elementRef),X.Ib(1),X.Dc("ngForOf",X.wc(2,4,e.dropdownTrayTasks$))("ngForTrackBy",e.trackById)}}const Qx=function(e,t,i,a,o,c,n){return{minimize_hidden:e,minimize__timer:t,"cu-minimize-tasks-keeper__body_unpinned":i,"cu-minimize-tasks-keeper__body_dropdown-opened":a,"minimize--with-scrachpad":o,"minimize_offset-for-scroll":c,"minimize_no-macos":n}},Kx=function(e){return{"minimize-container_stacked":e}},Jx=function(e){return{"cu-hidden":e}};function eT(e,t){if(1&e){const e=X.dc();X.cc(0,"div",2,3),X.vc(2,"async"),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.vc(7,"async"),X.vc(8,"async"),X.cc(9,"div",4),X.vc(10,"async"),X.bd(11,Wx,3,7,"div",5),X.vc(12,"async"),X.cc(13,"div",6),X.vc(14,"async"),X.vc(15,"async"),X.vc(16,"async"),X.cc(17,"div",7),X.qc("click",function(){X.Uc(e);const t=X.uc();return t.dropdownOpen=!t.dropdownOpen,t.checkCloseTimeTracker()}),X.vc(18,"async"),X.bd(19,Vx,5,4,"ng-container",8),X.vc(20,"async"),X.bd(21,Xx,7,7,"ng-container",8),X.vc(22,"async"),X.cc(23,"div",9),X.Xb(24,"div",10),X.Xb(25,"div",10),X.Xb(26,"div",10),X.Xb(27,"div",10),X.bc(),X.bc(),X.bd(28,Zx,3,7,"div",11),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.uc();let t=null,i=null;X.ad("right",X.wc(2,15,e.rightPosition$),"px")("max-width",X.wc(3,17,e.maxWidth$)),X.Dc("ngClass",X.Nc(45,Qx,e.minimizeHide,e.adjustForTimer,!X.wc(4,19,e.isTrayPinned$),e.dropdownOpen,X.wc(5,21,e.scratchpadEnabled$),X.wc(6,23,e.isBoard$)||X.wc(7,25,e.isListView$)||X.wc(8,27,e.isTimeline$),!e.isMacOS)),X.Ib(9),X.Dc("ngClass",X.Hc(53,Kx,null==(t=X.wc(10,29,e.trayTasks$))||null==t.vertical?null:t.vertical.length)),X.Ib(2),X.Dc("ngIf",X.wc(12,31,e.isTrayPinned$)),X.Ib(2),X.Dc("ngClass",X.Hc(55,Jx,(!(null!=(i=X.wc(14,33,e.trayTasks$))&&i.vertical)||(null==(i=X.wc(15,35,e.trayTasks$))||null==i.vertical?null:i.vertical.length)<1)&&X.wc(16,37,e.isTrayPinned$))),X.Ib(4),X.Dc("cuTooltip",e.dropdownOpen||X.wc(18,39,e.isTrayPinned$)?null:"Task Tray"),X.Ib(2),X.Dc("ngIf",!X.wc(20,41,e.isTrayPinned$)),X.Ib(2),X.Dc("ngIf",X.wc(22,43,e.isTrayPinned$)),X.Ib(2),X.Ob("minimize-list-overflow__arrow_rotate",e.dropdownOpen),X.Dc("@loadingEnter",void 0),X.Ib(5),X.Dc("ngIf",e.dropdownOpen)}}function tT(e,t){1&e&&X.dd(0," ToDo Ray ) ")}let iT=(()=>{class e{constructor(e,t,i,a,o,c,n,s,r,l,d,u){this.sharedTaskService=e,this.minimizeTasksService=t,this.changeDetectorRef=i,this.websocketService=a,this.modalService=o,this.draftService=c,this.location=n,this.router=s,this.navService=r,this.store=l,this.screenRecorderService=d,this.elementRef=u,this.adjustForTimer=!1,this.onCloseTimeTracker=new X.o,this.destroy$=new Ee.a,this.isBoard$=this.store.select(Q.j),this.isListView$=this.store.select(Q.o),this.scratchpadEnabled$=this.store.pipe(Object(ye.select)(me.getUser),Object(Fe.a)(e=>e&&e.scratchpad)),this.trayTasks$=this.store.pipe(Object(ye.select)(gi.f),Object(ra.a)(e=>{setTimeout(()=>{this.checkWidth()},50)})),this.isTouchDevice$=tx.a,this.isTimeline$=this.store.select(ix.i),this.user$=this.store.select(me.getUser),this.currentTimeTrackerDuration$=this.store.pipe(Object(ye.select)(qi.a)),this.isTimeTrackerOpen$=this.store.pipe(Object(ye.select)(qi.e)),this.spacesWidth$=this.store.select(me.getSpacesBarWidthOption),this.sidebarWidth$=this.store.select(me.getSidebarWidthOption),this.isCollapsed$=this.store.select(me.getSidebarIsCollapsedOption),this.isSpacesBarCollapsed$=this.store.pipe(Object(ye.select)(me.getSpacesBarIsCollapsedOption)),this.rightPosition$=Object(Nt.a)([this.user$,this.currentTimeTrackerDuration$,this.screenRecorderService.recordingInProgress$,this.isTimeTrackerOpen$]).pipe(Object(Fe.a)(([e,t,i,a])=>{let o=133;return e.user_settings.forEach(e=>{"pinned_time_tracking"===e.name&&t?o+=108:"pinned_rec"===e.name?i&&this.isScreenRecordingSupported?o+=158:this.isScreenRecordingSupported&&e.value&&(o+=40):e.value&&"pinned_tray"!==e.name&&"country_holidays"!==e.name&&(o+=40)}),o})),this.maxWidth$=Object(Nt.a)([this.user$,this.sidebarWidth$,this.spacesWidth$,this.rightPosition$,this.isCollapsed$,this.isSpacesBarCollapsed$]).pipe(Object(Fe.a)(([e,t,i,a,o,c])=>{if(e.dashboard===Ie.b.Four){let e=0;return e=(c?50:i)+a+12,"calc(100vw - "+e+"px)"}if(e.dashboard===Ie.b.Five){let e=0;return e=50+(o?0:t)+a+12,"calc(100vw - "+e+"px)"}if(e.dashboard===Ie.b.Six){let e=0;return e=(o?0:t)+a+12,"calc(100vw - "+e+"px)"}return"none"})),this.isTrayPinned$=this.store.select(me.getTrayPinned),this.dropdownTrayTasks$=Object(Nt.a)([this.trayTasks$,this.isTrayPinned$]).pipe(Object(Fe.a)(([e,t])=>t?e.vertical:e.full)),this.statusesType="custom",this.teamId="",this.activeTaskId="",this.minimizeHide=!1,this.dropdownOpen=!1,this.fullTeamTray=[],this.trackById=Object(be.d)("id"),this.isMacOS=Object(ex.e)()}checkWidth(){this.minimize&&(this.minimizeTasksService.minimizeWidth=this.minimize.nativeElement.offsetWidth)}ngOnInit(){this.minimize&&(this.minimizeTasksService.minimizeWidth=this.minimize.nativeElement.offsetWidth),this.minimizeTasksService.getActiveTaskId().pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.activeTaskId=e,this.changeDetectorRef.markForCheck()}),this.minimizeTasksService.windowWidth=window.innerWidth,this.store.pipe(Object(ye.select)(me.getTeam),Object(Re.a)(this.destroy$)).subscribe(e=>{e&&(this.teamId=e.id,this.changeDetectorRef.markForCheck())}),this.router.events.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{this.minimizeHide=this.location.path().includes("/settings")||this.location.path().includes("/onboarding")||this.location.path().includes("/api"),this.changeDetectorRef.markForCheck()}),this.navService.onChange.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e&&e.type&&e.payload&&"updateCategory"===e.type&&this.store.dispatch(new Sa.j)}),this.websocketService.onChange.pipe(Object(qt.a)(this.store.select(gi.a)),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{switch(e.type){case"projectDeleted":this.store.dispatch(new Sa.v({type:"space",id:e.payload.project_id,team_id:e.payload.team}));break;case"categoriesDeleted":e.payload.categories.forEach(t=>{this.store.dispatch(new Sa.v({type:"project",id:t,team_id:e.payload.team_id}))});break;case"subcategoryDeleted":this.store.dispatch(new Sa.v({type:"list",id:e.payload.subcategory_id,team_id:e.payload.team}));break;case"categoryEdited":case"categoryMoved":case"subcategoryMoved":this.store.dispatch(new Sa.j);break;case"tabEdited":void 0!==e.payload.orderindex&&this.store.dispatch(new Sa.O({tasks:[{id:e.payload.task_id,tab_orderindex:e.payload.orderindex,team:e.payload.team_id}]}));break;case"tabsAdded":e.payload.new_tabs.forEach(e=>{let t,i;e.draft_data?(i=Object.assign(Object.assign({},e.draft_data),{tab_id:e.task_id}),t=i.team):(i=e,t=e.team),this.store.dispatch(new Sa.d({taskAdded:i,currentTeamId:t}))});break;case"tabsRemoved":this.store.dispatch(new Sa.y({tasksRemoved:e.payload.task_ids,currentTeamId:this.teamId}));break;case"minimize-taskMoved":this.store.dispatch(new Sa.O({tasks:[e.payload.task]}));break;case"minimize-taskUpdate":const i=Object(ax.a)(e.payload.hist_item,(t||[]).find(t=>t.id===e.payload.id));i&&this.store.dispatch(new Sa.O({tasks:[i]}));break;case"minimize-taskMerged":this.store.dispatch(new Sa.D(e.payload))}})}keyEvent(e){e.keyCode===v_.a.ESCAPE&&this.dropdownOpen&&(this.dropdownOpen=!1)}saveDraftTask(){this.draftService.hideDraftTask(),this.modalService.closeAll()}removeDraftTask(){this.draftService.clearDraft(),this.modalService.closeAll()}toggleTaskModal(){if(this.isTaskModalOpen())return;const e={blank:!0,name:"create-task",preventExternalClick:!0,content:this.createTaskModal,modifier:"cu-modal_right cu-modal_show-overflow",bodyModifier:"cu-modal__body-nopad",showInnerClose:!0,closeAction:this.removeDraftTask.bind(this),extraActionIcon:"modal-close-extra",extraAction:this.saveDraftTask.bind(this)};this.modalService.open(e)}isTaskModalOpen(){return"create-task"===this.modalService.currentModal}outsideClick(e){this.dropdownOpen=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngAfterViewInit(){this.minimizeHide=this.location.path().includes("/settings")||this.location.path().includes("/onboarding")||this.location.path().includes("/api")}open(e){this.activeTaskId===e.id?this.sharedTaskService.closeTask(e,!0,!0):e&&e.id?this.sharedTaskService.openTaskModal({id:e.id,customId:e.custom_id,teamId:e.team}):e&&e.draft_uuid&&this.store.dispatch(new xa.g({current_draft:e}))}remove(e){e&&e.task&&(e.task.id?this.store.dispatch(new Sa.x({removeTask:e.task,currentTeamId:this.teamId})):e.task.draft_uuid&&this.store.dispatch(new xa.j({task:e.task})))}drop(e){const{container:t,previousContainer:i,currentIndex:a,previousIndex:o,item:c}=e;this.store.dispatch(new Sa.f({container:t.id,previousContainer:i.id,currentIndex:a,previousIndex:o,item:c.data}))}checkCloseTimeTracker(){this.timeTrackerOpen&&this.onCloseTimeTracker.emit()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(Xe.a),X.Wb(ox.a),X.Wb(X.h),X.Wb(Ca.WebsocketService),X.Wb(_e.a),X.Wb(cx),X.Wb(n.l),X.Wb(d.h),X.Wb(ki.a),X.Wb(ye.Store),X.Wb(Ya.a),X.Wb(X.m))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-minimize-tasks-keeper"]],viewQuery:function(e,t){if(1&e&&(X.jd(Ux,1),X.jd(Nx,3),X.jd(Rx,1)),2&e){let e;X.Qc(e=X.rc())&&(t.minimize=e.first),X.Qc(e=X.rc())&&(t.createTaskModal=e.first),X.Qc(e=X.rc())&&(t.minimizeItem=e)}},hostAttrs:[1,"cu-minimize-tasks-keeper"],hostBindings:function(e,t){1&e&&X.qc("keydown",function(e){return t.keyEvent(e)},!1,X.Sc)},inputs:{adjustForTimer:"adjustForTimer",timeTrackerOpen:"timeTrackerOpen",isScreenRecordingSupported:"isScreenRecordingSupported"},outputs:{onCloseTimeTracker:"onCloseTimeTracker"},features:[X.Hb([n.l,{provide:n.m,useClass:n.y}])],decls:4,vars:3,consts:[["class","minimize cu-minimize-tasks-keeper__body","id","minimize-tray-wrapper",3,"ngClass","right","maxWidth",4,"ngIf"],["createTaskModal",""],["id","minimize-tray-wrapper",1,"minimize","cu-minimize-tasks-keeper__body",3,"ngClass"],["minimize",""],[1,"minimize-container",3,"ngClass"],["class","minimize-tray-list","id","trayHorizontal","cdkDropList","","cdkDropListOrientation","horizontal",3,"cdkDropListConnectedTo","cdkDropListDropped",4,"ngIf"],[1,"minimize-list-overflow",3,"ngClass"],[1,"minimize-item__inner","minimize-dropdown-toggle",3,"cuTooltip","click"],[4,"ngIf"],[1,"minimize-list-overflow__arrow"],[1,"minimize-list-overflow__arrow-line"],["class","minimize-more","id","trayVertical","cdkDropList","","cdkDropListOrientation","vertical",3,"cdkDropListConnectedTo","clickOutsideElement","cdkDropListDropped","clickOutside",4,"ngIf"],["id","trayHorizontal","cdkDropList","","cdkDropListOrientation","horizontal",1,"minimize-tray-list",3,"cdkDropListConnectedTo","cdkDropListDropped"],["class","minimize-item minimize-item-in-tray","minimize-tasks-keeper-item","","cdkDrag","",3,"task","ngClass","cdkDragStartDelay","cdkDragData","cdkDragDisabled","index","minimizeTasksLength","statusesType","isSimpleStatus","click","onCreateTask","checkWidth","removeAction",4,"ngFor","ngForOf","ngForTrackBy"],["minimize-tasks-keeper-item","","cdkDrag","",1,"minimize-item","minimize-item-in-tray",3,"task","ngClass","cdkDragStartDelay","cdkDragData","cdkDragDisabled","index","minimizeTasksLength","statusesType","isSimpleStatus","click","onCreateTask","checkWidth","removeAction"],["minimizeItem",""],[1,"minimize-list-overflow__length"],["icon","cu3-tray",1,"minimize-list-overflow__length-icon"],[1,"minimize-list-overflow__length","minimize-list-overflow__length_all"],["id","trayVertical","cdkDropList","","cdkDropListOrientation","vertical",1,"minimize-more",3,"cdkDropListConnectedTo","clickOutsideElement","cdkDropListDropped","clickOutside"],["class","minimize-item minimize-item-more","minimize-tasks-keeper-item","","cdkDrag","","inStack","true",3,"index","cdkDragStartDelay","cdkDragData","cdkDragDisabled","task","scratchpadEnabled","statusesType","isSimpleStatus","ngClass","click","checkWidth","onCreateTask","removeAction",4,"ngFor","ngForOf","ngForTrackBy"],["minimize-tasks-keeper-item","","cdkDrag","","inStack","true",1,"minimize-item","minimize-item-more",3,"index","cdkDragStartDelay","cdkDragData","cdkDragDisabled","task","scratchpadEnabled","statusesType","isSimpleStatus","ngClass","click","checkWidth","onCreateTask","removeAction"]],template:function(e,t){if(1&e&&(X.bd(0,eT,29,57,"div",0),X.vc(1,"async"),X.bd(2,tT,1,0,"ng-template",null,1,X.cd)),2&e){let e=null;X.Dc("ngIf",t.teamId&&(null==(e=X.wc(1,1,t.trayTasks$))||null==e.horizontal?null:e.horizontal.length)>0)}},directives:[n.q,n.o,Lr.a,Tn.d,n.p,Ax,Tn.a,Qe.a,Fx.a],pipes:[n.b],styles:['.cu-minimize-tasks-keeper__body{transition:right .2s cubic-bezier(.785,.135,.15,.86);height:38px;box-shadow:-1px 2px 20px rgba(0,71,138,.13);border-radius:8px;padding-right:6px;display:flex;align-items:center;right:148px;bottom:11px;background:#fff}.dark-theme .cu-minimize-tasks-keeper__body{background:#384047}.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned{box-shadow:none;padding:0;border:0;background:transparent}.dark-theme .cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned{background:transparent}.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned.cu-minimize-tasks-keeper__body_dropdown-opened:before,.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned:hover:before{transform:scale(1.07,1.15)}.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned:before{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;width:100%;height:34px;left:0;border-radius:10px;pointer-events:none;background:#fff;border:1px solid rgba(0,0,0,.1);box-shadow:0 0 8px hsla(0,0%,79.2%,.2),0 2px 12px hsla(0,0%,79.2%,.3),0 6px 10px hsla(0,0%,79.2%,.3)}.dark-theme .cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned:before{background:#384047}.dark-theme .cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned:before,.modal-open .cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned:before{box-shadow:none}.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned .minimize-list-overflow{padding:0;margin:0;height:34px}.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned .minimize-list-overflow:hover,.dark-theme .cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned .minimize-list-overflow:hover{background:transparent}.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned .minimize-item__inner{height:34px}.cu-minimize-tasks-keeper__body.cu-minimize-tasks-keeper__body_unpinned .minimize-dropdown-toggle{border:none;padding:0 13px 0 15px}.modal-open .cu-minimize-tasks-keeper__body{bottom:2px!important;margin-right:-10px!important}.modal-open .cu-minimize-tasks-keeper__body.minimize_offset-for-scroll{bottom:2px!important}.cu-minimize-tasks-keeper__body .minimize-container{height:auto;max-width:none}.cu-minimize-tasks-keeper__body .minimize-tray-list{align-items:center}.cu-minimize-tasks-keeper__body .minimize-item{-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:0 0 0 6px;height:26px;box-shadow:0 2px 3px rgba(0,71,138,.12),1px 0 5px rgba(0,71,138,.1);border-radius:3px;border:0;padding:0 0 0 5px;min-width:60px;max-width:170px;flex:0 1 auto;background:#f9fafd}.dark-theme .cu-minimize-tasks-keeper__body .minimize-item{background-color:#2b343b}.cu-minimize-tasks-keeper__body .minimize-item__name{display:flex;align-items:center;justify-content:center;padding:0;height:26px}.cu-minimize-tasks-keeper__body .minimize-item .minimize-item__icon_simple{margin:-2px 5px 0 0;width:14px;height:14px}.cu-minimize-tasks-keeper__body .minimize-item .minimize-item__icon_draft{width:14px;height:14px}.cu-minimize-tasks-keeper__body .minimize-item__inner{height:26px;line-height:26px}.cu-minimize-tasks-keeper__body .minimize-item__remove{position:absolute;top:0;right:0;width:21px;padding:0 6px 0 4px;background:#f9fafd}.dark-theme .cu-minimize-tasks-keeper__body .minimize-item__remove{background-color:#2b343b}.cu-minimize-tasks-keeper__body .minimize-item__remove:after{content:"";height:100%;width:8px;left:-8px;top:0;position:absolute;pointer-events:none;background:linear-gradient(90deg,rgba(249,250,253,0),#f9fafd)}.dark-theme .cu-minimize-tasks-keeper__body .minimize-item__remove:after{background:linear-gradient(90deg,rgba(43,52,59,0),#2b343b)}.cu-minimize-tasks-keeper__body .minimize-item__handle{top:auto;left:2px;width:18px;padding:0 6px}.cu-minimize-tasks-keeper__body .minimize-item__taskname{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-size:13px;line-height:1;padding-right:7px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-minimize-tasks-keeper__body .minimize-item__taskname{font-family:var(--global-font-support)}}.cu-minimize-tasks-keeper__body .minimize-item__taskname:after{content:"";display:block;position:absolute;top:0;right:0;left:auto;width:10px;height:100%;background:linear-gradient(90deg,rgba(249,250,253,0),#f9fafd)}.dark-theme .cu-minimize-tasks-keeper__body .minimize-item__taskname:after{background:linear-gradient(90deg,rgba(43,52,59,0),#2b343b)}.cu-minimize-tasks-keeper__body .minimize-container_stacked .minimize-tray-list{width:calc(100% - 62px);max-width:calc(100% - 62px)}.cu-minimize-tasks-keeper__body .minimize-list-overflow{transition:background-color .1s cubic-bezier(.785,.135,.15,.86) 0s;width:auto;padding:0 6px;margin-left:6px;display:flex;align-items:center;justify-content:center;height:26px;border-radius:4px;cursor:pointer}.cu-minimize-tasks-keeper__body .minimize-list-overflow:hover{background-color:#f2f2f2}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow:hover{background-color:#1e272e}.cu-minimize-tasks-keeper__body .minimize-list-overflow__length{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#7b68ee;display:flex;align-items:center;position:relative;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif}@supports (--theme-main-color:#7b68ee){.cu-minimize-tasks-keeper__body .minimize-list-overflow__length{color:var(--theme-main-color)}}.cu-minimize-tasks-keeper__body .minimize-list-overflow__length_all{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;margin-top:2px;color:#7c828d}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow__length_all{color:#abaeb0}.cu-minimize-tasks-keeper__body .minimize-list-overflow__length-icon{fill:#7b68ee;width:14px;height:15px;margin-right:4px}@supports (--theme-main-color:#7b68ee){.cu-minimize-tasks-keeper__body .minimize-list-overflow__length-icon{fill:var(--theme-main-color)}}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow{width:14px;height:13px;margin-left:3px;cursor:pointer;position:relative;flex-shrink:0}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow_rotate .minimize-list-overflow__arrow-line{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow_rotate .minimize-list-overflow__arrow-line:first-child,.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow_rotate .minimize-list-overflow__arrow-line:nth-child(3){transform:rotate(40deg)}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow_rotate .minimize-list-overflow__arrow-line:nth-child(2),.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow_rotate .minimize-list-overflow__arrow-line:nth-child(4){transform:rotate(-40deg)}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:6px;height:1px;transform-origin:50% 75%;position:absolute;background:#7c828d}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line{background:#828588}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line:before{content:"";display:block;position:absolute;width:100%;height:100%;transform:translateY(50%);background:#7c828d}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line:before{background:#828588}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line:first-child{transform:rotate(-40deg);top:4px;left:2px}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line:nth-child(2){transform:rotate(40deg);top:4px;right:2px}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line:nth-child(3){transform:rotate(-40deg);bottom:4px;left:2px}.cu-minimize-tasks-keeper__body .minimize-list-overflow__arrow-line:nth-child(4){transform:rotate(40deg);bottom:4px;right:2px}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item__inner{justify-content:center;align-items:center}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more{justify-content:space-between;margin:0;padding:0 0 0 8px;height:32px;max-width:none;border-radius:0;box-shadow:none;background:#fff}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more{background:#384047}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more:hover{background:#f9fafd}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more:hover{background-color:#2b343b}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more:hover .minimize-item__taskname:after{background:linear-gradient(90deg,rgba(249,250,253,0),#f9fafd)}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more:hover .minimize-item__taskname:after{background:linear-gradient(90deg,rgba(43,52,59,0),#2b343b)}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more .minimize-item__inner{justify-content:space-between;height:32px;line-height:32px;padding-right:5px}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more .minimize-item__taskname:after{background:linear-gradient(90deg,hsla(0,0%,100%,0),#fff)}.dark-theme .cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more .minimize-item__taskname:after{background:linear-gradient(90deg,rgba(56,64,71,0),#384047)}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more .minimize-item__name{padding-top:0;height:32px}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more .lv-task__status:after{top:4px}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more .minimize-item__handle{left:6px}.cu-minimize-tasks-keeper__body .minimize-list-overflow .minimize-item-more .minimize-item__remove{width:25px;padding:0 10px 0 4px}.cu-minimize-tasks-keeper__body .minimize-dropdown-toggle{border:none;padding:0}.cu-minimize-tasks-keeper__body .minimize-item__more{display:none}.cu-minimize-tasks-keeper__body .minimize-more{width:200px;bottom:43px;right:0;box-shadow:-1px 2px 20px rgba(0,71,138,.13);border-radius:8px;padding:5px 0;background:#fff}.dark-theme .cu-minimize-tasks-keeper__body .minimize-more{background:#384047}'],encapsulation:2,data:{animation:[Qt.f]},changeDetection:0}),e})();var aT=i("T1Rn"),oT=i("mrTC"),cT=i("hfeG"),nT=i("S1QS"),sT=i("WkAz"),rT=i("EP2k");function lT(e,t){if(1&e&&X.Xb(0,"cu-user-group-avatar",19),2&e){const e=t.$implicit;X.Dc("group",e)("cuTooltip",e.name)("avatarSize",24)}}function dT(e,t){if(1&e&&(X.cc(0,"div",17),X.bd(1,lT,1,3,"cu-user-group-avatar",18),X.bc()),2&e){const e=X.uc();X.Ib(1),X.Dc("ngForOf",e.profileUserGroups)("ngForTrackBy",e.trackById)}}let uT=(()=>{class e{constructor(e){this.commonStringsService=e,this.descriptionPlaceholder=$localize`:@@common_add-description:Add description`,this.onSelectTab=new X.o,this.onEditDesc=new X.o,this.ProfileTabs=Qi,this.editing=!1,this.trackById=Object(be.d)("id")}ngOnInit(){}setEditing(e){this.allowEdit&&(this.editing=e)}rename(e){this.onEditDesc.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(Om.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-user-profile-header"]],hostAttrs:[1,"cu-user-profile-header"],inputs:{user:"user",profileData:"profileData",selectedTab:"selectedTab",allowEdit:"allowEdit",profileUserGroups:"profileUserGroups"},outputs:{onSelectTab:"onSelectTab",onEditDesc:"onEditDesc"},decls:32,vars:28,consts:function(){let e,t,i,a;return e=$localize`:@@common_activity␟bea76318a764155d1ef9bfcb9893c400786dc14a␟839461064883026171: Activity `,t=$localize`:@@common_inbox␟aefb9b7331e1679354b0d1e07877a3ffba0a5002␟3572628329490564370: Inbox `,i=$localize`:@@common_assigned␟80c775ed60e98cfb50c36057ee485bd0e08213ad␟7458259822794853079: Assigned `,a=$localize`:@@common_calendar␟51e2453584130cfc3947b5ed8bb3cb531d829365␟7482227324847786078: Calendar `,[["modifier","cu-avatar_m-lg",3,"user"],[1,"cu-user-profile-header__info"],[1,"cu-user-profile-header__username"],[1,"cu-user-profile-header__desc",3,"text","editing","autosize","placeholder","allowEmpty","onChange","onCancel"],[1,"cu-user-profile-header__desc-text",3,"click"],["class","cu-user-profile-header__usergroups",4,"ngIf"],[1,"cu-user-profile-header__tabs"],[1,"cu-user-profile-header__tab",3,"click"],[1,"cu-user-profile-header__tab-icon","cu-user-profile-header__tab-icon_activity",3,"icon"],[1,"cu-user-profile-header__tab-title"],e,[1,"cu-user-profile-header__tab-icon",3,"icon"],t,[1,"cu-user-profile-header__tab-count"],[1,"cu-user-profile-header__tab-count-text"],i,a,[1,"cu-user-profile-header__usergroups"],["class","cu-user-profile-header__usergroups-item",3,"group","cuTooltip","avatarSize",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-user-profile-header__usergroups-item",3,"group","cuTooltip","avatarSize"]]},template:function(e,t){1&e&&(X.Xb(0,"cu-avatar",0),X.cc(1,"div",1),X.cc(2,"div",2),X.dd(3),X.vc(4,"username"),X.bc(),X.cc(5,"cu-editable",3),X.qc("onChange",function(e){return t.rename(e)})("onCancel",function(){return t.setEditing(!1)}),X.cc(6,"div",4),X.qc("click",function(){return t.setEditing(!0)}),X.dd(7),X.bc(),X.bc(),X.bd(8,dT,2,2,"div",5),X.bc(),X.cc(9,"div",6),X.cc(10,"div",7),X.qc("click",function(){return t.onSelectTab.emit(t.ProfileTabs.Activity)}),X.Xb(11,"div",8),X.cc(12,"div",9),X.gc(13,10),X.bc(),X.bc(),X.cc(14,"div",7),X.qc("click",function(){return t.onSelectTab.emit(t.ProfileTabs.Inbox)}),X.Xb(15,"div",11),X.cc(16,"div",9),X.gc(17,12),X.bc(),X.cc(18,"div",13),X.cc(19,"div",14),X.dd(20),X.bc(),X.bc(),X.bc(),X.cc(21,"div",7),X.qc("click",function(){return t.onSelectTab.emit(t.ProfileTabs.Unscheduled)}),X.Xb(22,"div",11),X.cc(23,"div",9),X.gc(24,15),X.bc(),X.cc(25,"div",13),X.cc(26,"div",14),X.dd(27),X.bc(),X.bc(),X.bc(),X.cc(28,"div",7),X.qc("click",function(){return t.onSelectTab.emit(t.ProfileTabs.Calendar)}),X.Xb(29,"div",11),X.cc(30,"div",9),X.gc(31,16),X.bc(),X.bc(),X.bc()),2&e&&(X.Dc("user",t.user),X.Ib(3),X.fd(" ",X.xc(4,25,t.user,t.commonStringsService.meText)," "),X.Ib(2),X.Dc("text",null==t.user?null:t.user.description)("editing",t.editing)("autosize",!1)("placeholder",t.descriptionPlaceholder)("allowEmpty",!0),X.Ib(1),X.Ob("cu-user-profile-header__desc-text_empty",!(null!=t.user&&t.user.description)),X.Ib(1),X.fd(" ",(null==t.user?null:t.user.description)||(t.allowEdit?t.descriptionPlaceholder:"")," "),X.Ib(1),X.Dc("ngIf",(null==t.profileUserGroups?null:t.profileUserGroups.length)>0),X.Ib(2),X.Ob("cu-user-profile-header__tab_selected",t.selectedTab===t.ProfileTabs.Activity),X.Ib(1),X.Dc("icon","cu2-view-17"),X.Ib(3),X.Ob("cu-user-profile-header__tab_selected",t.selectedTab===t.ProfileTabs.Inbox),X.Ib(1),X.Dc("icon","cu2-inbox"),X.Ib(5),X.fd(" ",null==t.profileData||null==t.profileData.counts?null:t.profileData.counts.inbox," "),X.Ib(1),X.Ob("cu-user-profile-header__tab_selected",t.selectedTab===t.ProfileTabs.Unscheduled),X.Ib(1),X.Dc("icon","cu2-assign-4"),X.Ib(5),X.fd(" ",null==t.profileData||null==t.profileData.counts?null:t.profileData.counts.unscheduled," "),X.Ib(1),X.Ob("cu-user-profile-header__tab_selected",t.selectedTab===t.ProfileTabs.Calendar),X.Ib(1),X.Dc("icon","cu2-view-5"))},directives:[lp.a,Nr.a,n.q,Qe.a,n.p,sT.a,Lr.a],pipes:[rT.a],styles:['.cu-user-profile-header{min-height:70px;display:flex;align-items:center;padding:0 20px;background:#fff;border-bottom:1px solid #e9ebf0;min-width:0;flex-shrink:0}.dark-theme .cu-user-profile-header{background:#2b343b;border-bottom-color:#1e272e}.cu-user-profile-header__info{flex-grow:1;margin:0 0 0 18px;padding:8px 0;display:flex;flex-direction:column;align-items:flex-start;min-width:0;justify-content:center;align-self:stretch}.cu-user-profile-header__username{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;font:400 16px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-user-profile-header__username{color:#d5d6d7}.cu-user-profile-header__desc{display:inline-block;width:100%;height:14px;margin-top:4px}.cu-user-profile-header__desc-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d;padding-top:1px;max-width:100%;display:inline-block;border-bottom:1px dotted transparent}.cu-user-profile-header__desc-text:hover{border-bottom-color:#82868d}.cu-user-profile-header__desc-text_empty{opacity:.5}.cu-user-profile-header__desc .cu-editable__input{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d;width:100%}.dark-theme .cu-user-profile-header__desc .cu-editable__input,.dark-theme .cu-user-profile-header__desc .cu-editable__input:focus{background:transparent}.cu-user-profile-header__tabs{display:flex;align-self:stretch}.cu-user-profile-header__tab{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;cursor:pointer;text-align:center;border-bottom:2px solid transparent;margin-left:20px}.cu-user-profile-header__tab:hover .cu-user-profile-header__tab-icon,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-user-profile-header__tab:hover .cu-user-profile-header__tab-icon,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-icon{fill:var(--theme-main-color)}}.cu-user-profile-header__tab:hover .cu-user-profile-header__tab-count-text,.cu-user-profile-header__tab:hover .cu-user-profile-header__tab-title,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-count-text,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-user-profile-header__tab:hover .cu-user-profile-header__tab-count-text,.cu-user-profile-header__tab:hover .cu-user-profile-header__tab-title,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-count-text,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-title{color:var(--theme-main-color)}}.cu-user-profile-header__tab_selected{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-user-profile-header__tab_selected{border-color:var(--theme-main-color)}}.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-title{font-weight:500}.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-count:before,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-icon:before{background:#7b68ee;opacity:.1}@supports (--theme-main-color:#7b68ee){.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-count:before,.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-icon:before{background:var(--theme-main-color)}}.cu-user-profile-header__tab_selected .cu-user-profile-header__tab-icon{margin-right:3px}.cu-user-profile-header__tab-icon{width:26px;height:26px;border-radius:50%;padding:5px;overflow:hidden;position:relative;fill:#b9bec7}.dark-theme .cu-user-profile-header__tab-icon{border-color:#828588}.cu-user-profile-header__tab-icon_activity{padding:6px}.cu-user-profile-header__tab-icon:before{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;width:100%;height:100%;background:#e9ebf0;opacity:0;z-index:0}.cu-user-profile-header__tab-icon svg{z-index:10}.cu-user-profile-header__tab-count{display:flex;align-items:center;justify-content:center;margin-left:4px;padding:0 4px;min-width:18px;height:18px;overflow:hidden;position:relative;border-radius:6px 6px 6px 0}.cu-user-profile-header__tab-count-text{font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;z-index:10}.dark-theme .cu-user-profile-header__tab-count-text{color:#fff}.cu-user-profile-header__tab-count:before{content:"";display:block;position:absolute;width:100%;height:100%;background:#e9ebf0;opacity:.6;z-index:0}.dark-theme .cu-user-profile-header__tab-count:before{opacity:.2}.cu-user-profile-header__tab-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-user-profile-header__tab-title{color:#ababab}.cu-user-profile-header__usergroups{display:flex;align-items:center;flex-wrap:wrap}.cu-user-profile-header__usergroups-item{margin-top:4px;margin-right:4px}'],encapsulation:2,changeDetection:0}),e})();var pT=i("tjnY"),mT=i("KDRc"),hT=i("o4qs"),bT=i("nV+W"),gT=i("g4c/"),fT=i("7dUY"),_T=i("CgHv"),vT=i("P3m4");const yT=function(e,t,i,a){return{id:e,tasks:t,hasMore:i,title:a}};function wT(e,t){if(1&e&&X.Yb(0,2),2&e){const e=t.$implicit,i=X.uc(),a=X.Rc(2);X.Dc("ngTemplateOutlet",a)("ngTemplateOutletContext",X.Kc(2,yT,e.id,null==i.data[e.id]?null:i.data[e.id].tasks,!1===(null==i.data[e.id]?null:i.data[e.id].lastPage),e.title))}}function kT(e,t){if(1&e&&(X.cc(0,"div",8),X.dd(1),X.bc()),2&e){const e=X.uc().title;X.Ib(1),X.fd(" ",e," ")}}function xT(e,t){1&e&&(X.cc(0,"div",9),X.gc(1,10),X.bc())}const TT=function(){return{allowed:!1,show:!1,closeable:!0,autoFocus:!0}};function ST(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-task-list",11),X.qc("onOpenTask",function(t){return X.Uc(e),X.uc(2).onOpenTask.emit(t)}),X.bc()}if(2&e){const e=X.uc().tasks,t=X.uc();X.Dc("readOnly",!0)("showMenu",!1)("showDeleteButton",!0)("projectsMap",t.projectsMap)("weights",t.weights)("showHeader",!1)("tasks",e)("showCount",!1)("rollups",t.rollups)("columns",t.columns)("multiTaskEnabled",!1)("dragDisabled",!0)("dragSortingDisabled",!0)("showFooter",!1)("createTaskOptions",X.Gc(15,TT))}}function jT(e,t){if(1&e){const e=X.dc();X.cc(0,"div",12),X.qc("click",function(){X.Uc(e);const t=X.uc().id;return X.uc().onLoadMore.emit(t)}),X.gc(1,13),X.bc()}}function OT(e,t){if(1&e&&(X.cc(0,"div",3),X.bd(1,kT,2,1,"div",4),X.bd(2,xT,2,0,"div",5),X.bd(3,ST,1,16,"cu-task-list",6),X.bd(4,jT,2,0,"div",7),X.bc()),2&e){const e=t.tasks,i=t.title,a=t.hasMore;X.Ib(1),X.Dc("ngIf",i),X.Ib(1),X.Dc("ngIf",0===(null==e?null:e.length)),X.Ib(1),X.Dc("ngIf",0!==(null==e?null:e.length)),X.Ib(1),X.Dc("ngIf",a)}}let IT=(()=>{class e{constructor(){this.onOpenTask=new X.o,this.onLoadMore=new X.o,this.columns=[_T.l],this.items=[{id:"recentlyCreated",title:$localize`:@@common_created:Created`},{id:"recentlyTracked",title:$localize`:@@common_tracked:Tracked`},{id:"recentlyUpdated",title:$localize`:@@common_updated:Updated`}],this.trackById=Object(be.d)("id")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-user-profile-data-recent"]],hostAttrs:[1,"cu-user-profile-data-recent"],inputs:{data:"data",projectsMap:"projectsMap",rollups:"rollups",weights:"weights"},outputs:{onOpenTask:"onOpenTask",onLoadMore:"onLoadMore"},decls:3,vars:2,consts:function(){let e,t;return e=$localize`:@@common_empty-contents␟7bd026ec8c126b7a7fca608bf69021a3ecbc93a3␟8309437889986953420: Nothing to see here `,t=$localize`:@@common_show-more-tasks␟800beb2074db7001eaf334214800ecf11d498beb␟3800033741871018308: Show more tasks `,[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],["taskList",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-user-profile-data-recent__block"],["class","cu-user-profile-data-recent__header",4,"ngIf"],["class","cu-user-profile-data-recent__empty",4,"ngIf"],[3,"readOnly","showMenu","showDeleteButton","projectsMap","weights","showHeader","tasks","showCount","rollups","columns","multiTaskEnabled","dragDisabled","dragSortingDisabled","showFooter","createTaskOptions","onOpenTask",4,"ngIf"],["class","cu-user-profile-data-recent__show-more",3,"click",4,"ngIf"],[1,"cu-user-profile-data-recent__header"],[1,"cu-user-profile-data-recent__empty"],e,[3,"readOnly","showMenu","showDeleteButton","projectsMap","weights","showHeader","tasks","showCount","rollups","columns","multiTaskEnabled","dragDisabled","dragSortingDisabled","showFooter","createTaskOptions","onOpenTask"],[1,"cu-user-profile-data-recent__show-more",3,"click"],t]},template:function(e,t){1&e&&(X.bd(0,wT,1,7,"ng-container",0),X.bd(1,OT,5,4,"ng-template",null,1,X.cd)),2&e&&X.Dc("ngForOf",t.items)("ngForTrackBy",t.trackById)},directives:[n.p,n.x,n.q,vT.c],styles:[".cu-user-profile-data-recent{display:block;padding:0 10px 10px;overflow-y:scroll}.cu-user-profile-data-recent__block{padding:0 10px 10px}.cu-user-profile-data-recent__block .cu-task-row__container{padding-right:10px}.cu-user-profile-data-recent__header{font:500 12px Gotham Pro,Proxima Nova,arial,serif;position:sticky;top:0;z-index:20;padding:10px;margin:0 -10px;color:#292d34;background:#f2f4f7}.contrast_high .cu-user-profile-data-recent__header{background:#eee}.dark-theme .cu-user-profile-data-recent__header{background:#1e272e;color:#abaeb0}.cu-user-profile-data-recent__empty{font:400 12px Gotham Pro,Proxima Nova,arial,serif;opacity:.5}.cu-user-profile-data-recent__show-more{color:#7b68ee;margin:0 0 5px;padding:9px 50px;cursor:pointer;text-align:center}@supports (--theme-main-color:#7b68ee){.cu-user-profile-data-recent__show-more{color:var(--theme-main-color)}}.cu-user-profile-data-recent__show-more:hover{background:#f9f9f9}.dark-theme .cu-user-profile-data-recent__show-more:hover{background:rgba(43,52,59,.5)}"],encapsulation:2,changeDetection:0}),e})();var DT=i("Xk4g"),CT=i("+/ch");function PT(e,t){if(1&e&&X.Xb(0,"cu-lineup",22),2&e){const e=X.uc(2);X.Dc("user",e.user)("team",e.team)}}function $T(e,t){if(1&e){const e=X.dc();X.cc(0,"div",23),X.cc(1,"cu-live-task-list",24),X.qc("onOpenTask",function(t){return X.Uc(e),X.uc(2).onOpenTask.emit(t)}),X.bc(),X.bc()}if(2&e){const e=X.uc(2);X.Ib(1),X.Dc("activity",null==e.profileData?null:e.profileData.task_activity)("title",e.trendingTasks24hText)}}function zT(e,t){1&e&&(X.ac(0),X.gc(1,25),X.Zb())}function MT(e,t){1&e&&(X.ac(0),X.gc(1,26),X.Zb())}function ET(e,t){if(1&e){const e=X.dc();X.cc(0,"div",6),X.bd(1,PT,1,2,"cu-lineup",7),X.bd(2,$T,2,2,"div",8),X.cc(3,"div",9),X.cc(4,"div",10),X.cc(5,"cu-search-input",11),X.qc("onChange",function(t){return X.Uc(e),X.uc().activitySearch=t}),X.bc(),X.cc(6,"div",12),X.cc(7,"div",13),X.qc("click",function(){return X.Uc(e),X.uc().toggleActivitySubtasks()}),X.Xb(8,"div",14),X.cc(9,"div",15),X.bd(10,zT,2,0,"ng-container",16),X.bd(11,MT,2,0,"ng-template",null,17,X.cd),X.bc(),X.bc(),X.cc(13,"cu-activity-fields-filter",18),X.qc("onChangeValues",function(t){return X.Uc(e),X.uc().setActivityFields(t)}),X.bc(),X.bc(),X.bc(),X.cc(14,"div",19,20),X.Xb(16,"cu-activity-list",21),X.bc(),X.bc(),X.bc()}if(2&e){const e=X.Rc(12),t=X.Rc(15),i=X.uc();X.Ib(1),X.Dc("ngIf",i.team.lineup&&!i.profileUserIsGuest),X.Ib(1),X.Dc("ngIf",(null==i.profileData||null==i.profileData.task_activity||null==i.profileData.task_activity.tasks?null:i.profileData.task_activity.tasks.length)&&i.showPulse),X.Ib(3),X.Dc("placeholder",i.searchText)("filterString",i.activitySearch),X.Ib(3),X.Dc("icon","cu2-subtask"),X.Ib(2),X.Dc("ngIf",i.showActivitySubtasks)("ngIfElse",e),X.Ib(3),X.Dc("values",i.activityFields),X.Ib(3),X.Dc("key","profile_"+i.user.id)("parentId",null==i.team?null:i.team.id)("parentType",i.DataViewParentType.Team)("userId",i.user.id)("search",i.activitySearch)("fields",i.activityFields)("scrollContainer",t)("showSubtasks",i.showActivitySubtasks)}}function LT(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-user-inbox",27),X.qc("onSelectTab",function(t){return X.Uc(e),X.uc().inboxTab=t}),X.bc()}if(2&e){const e=X.uc();X.Dc("tab",e.inboxTab)("team",e.team)("user",e.user)("showComments",!1)("showUnscheduled",!1)}}function AT(e,t){if(1&e){const e=X.dc();X.cc(0,"cu-user-profile-data-recent",28),X.qc("onOpenTask",function(t){return X.Uc(e),X.uc().onOpenTask.emit(t)})("onLoadMore",function(t){return X.Uc(e),X.uc().onLoadMore.emit({type:"recent",id:t})}),X.bc()}if(2&e){const e=X.uc();X.Dc("data",e.profileRecentData)("rollups",e.rollups)("weights",e.weights)("projectsMap",e.projectsMap)}}function FT(e,t){if(1&e&&X.Xb(0,"cu-inbox-section",29),2&e){const e=X.uc();X.Dc("tab",e.InboxTabs.Unscheduled)("user",e.user)("expandable",!1)}}function UT(e,t){if(1&e&&X.Xb(0,"cu-user-profile-calendar",30),2&e){const e=X.uc();X.Dc("user",e.user)}}let NT=(()=>{class e{constructor(e){this.localStorageService=e,this.statusesMap={},this.onSelectTab=new X.o,this.onOpenTask=new X.o,this.onLoadMore=new X.o,this.onEditDesc=new X.o,this.ProfileTabs=Qi,this.InboxTabs=oT.a,this.StatusTypes=qe.g,this.DataViewParentType=ce.e,this.unscheduledTab=oT.i,this.trackById=Object(be.d)("id"),this.inboxTab=nT.c.Inbox,this.showActivitySubtasks=this.localStorageService.get("activity-show-subtasks"),this.searchText=$localize`:form input placeholder@@forms_placeholder--search-1:Search...`,this.trendingTasks24hText=$localize`:@@cu-user-profile-block__trending-tasks:Trending tasks last 24 hours`}ngOnInit(){this.activityFields=this.localStorageService.get("activity_fields")}setActivityFields(e){this.activityFields=e,this.localStorageService.set("activity_fields",e)}toggleActivitySubtasks(){this.showActivitySubtasks=!this.showActivitySubtasks,this.localStorageService.set("activity-show-subtasks",this.showActivitySubtasks)}toggleCollapseSection(e){}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ti.b))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-user-profile-block"]],hostAttrs:[1,"cu-user-profile-block"],inputs:{isAdmin:"isAdmin",team:"team",user:"user",usersMap:"usersMap",currentUser:"currentUser",profileData:"profileData",profileRecentData:"profileRecentData",selectedTab:"selectedTab",projectsMap:"projectsMap",statusesMap:"statusesMap",rollups:"rollups",weights:"weights",showPulse:"showPulse",profileUserGroups:"profileUserGroups",profileUserIsGuest:"profileUserIsGuest"},outputs:{onSelectTab:"onSelectTab",onOpenTask:"onOpenTask",onLoadMore:"onLoadMore",onEditDesc:"onEditDesc"},decls:6,vars:10,consts:function(){let e,t;return e=$localize`:@@common_showing-subtasks␟2cfc253b309a28db29df88ab4c72344c55a70a59␟2658518504318574309:Showing Subtasks`,t=$localize`:@@common_hiding-subtasks␟3d86757d70604d3d9f324bb9034c97ef203db6fb␟6814745119219337517:Hiding Subtasks`,[[3,"user","profileData","selectedTab","allowEdit","profileUserGroups","onSelectTab","onEditDesc"],["class","cu-user-profile-block__activity-container",4,"ngIf"],["class","cu-user-profile-block__user-inbox",3,"tab","team","user","showComments","showUnscheduled","onSelectTab",4,"ngIf"],[3,"data","rollups","weights","projectsMap","onOpenTask","onLoadMore",4,"ngIf"],[3,"tab","user","expandable",4,"ngIf"],[3,"user",4,"ngIf"],[1,"cu-user-profile-block__activity-container"],["class","cu-lineup_profile",3,"user","team",4,"ngIf"],["class","cu-user-profile-block__tasks",4,"ngIf"],[1,"cu-user-profile-block__activity"],[1,"cu-user-profile-block__activity-header"],[3,"placeholder","filterString","onChange"],[1,"cu-user-profile-block__activity-header-section"],[1,"cu2-views-bar__btn","cu2-views-bar__btn_toggle",3,"click"],[1,"cu2-views-bar__btn-icon",3,"icon"],[1,"cu2-views-bar__btn-title"],[4,"ngIf","ngIfElse"],["hidingSubtasksTmpl",""],[3,"values","onChangeValues"],[1,"cu-user-profile-block__activity-list"],["activityListScrollContainer",""],[3,"key","parentId","parentType","userId","search","fields","scrollContainer","showSubtasks"],[1,"cu-lineup_profile",3,"user","team"],[1,"cu-user-profile-block__tasks"],[3,"activity","title","onOpenTask"],e,t,[1,"cu-user-profile-block__user-inbox",3,"tab","team","user","showComments","showUnscheduled","onSelectTab"],[3,"data","rollups","weights","projectsMap","onOpenTask","onLoadMore"],[3,"tab","user","expandable"],[3,"user"]]},template:function(e,t){1&e&&(X.cc(0,"cu-user-profile-header",0),X.qc("onSelectTab",function(e){return t.onSelectTab.emit(e)})("onEditDesc",function(e){return t.onEditDesc.emit(e)}),X.bc(),X.bd(1,ET,17,16,"div",1),X.bd(2,LT,1,5,"cu-user-inbox",2),X.bd(3,AT,1,4,"cu-user-profile-data-recent",3),X.bd(4,FT,1,3,"cu-inbox-section",4),X.bd(5,UT,1,1,"cu-user-profile-calendar",5)),2&e&&(X.Dc("user",t.user)("profileData",t.profileData)("selectedTab",t.selectedTab)("allowEdit",(null==t.currentUser?null:t.currentUser.id)===(null==t.user?null:t.user.id)||t.isAdmin)("profileUserGroups",t.profileUserGroups),X.Ib(1),X.Dc("ngIf",t.selectedTab===t.ProfileTabs.Activity),X.Ib(1),X.Dc("ngIf",t.selectedTab===t.ProfileTabs.Inbox),X.Ib(1),X.Dc("ngIf",t.selectedTab===t.ProfileTabs.Recent),X.Ib(1),X.Dc("ngIf",t.selectedTab===t.ProfileTabs.Unscheduled),X.Ib(1),X.Dc("ngIf",t.selectedTab===t.ProfileTabs.Calendar))},directives:[uT,n.q,pT.a,Qe.a,mT.a,hT.a,bT.a,gT.a,fT.a,IT,DT.a,CT.b],styles:['.cu2-views-bar{min-height:51px}.cu2-views-bar__settings{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#7b68ee;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;position:relative;padding-bottom:1px;flex-shrink:0}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__settings{color:var(--theme-main-color)}}.cu2-views-bar__settings:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu2-views-bar__settings:hover{color:var(--theme-main-color-dark)}}.cu2-views-bar__settings:after{content:"";display:block;position:absolute;transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;background-color:#7b68ee;bottom:0;left:0;width:100%;height:1px}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__settings:after{background-color:var(--theme-main-color)}}.cu2-views-bar__settings:hover:after{opacity:0}.cu2-views-bar__container{display:flex;align-items:center;min-width:0;height:51px;background:#fff;border-bottom:1px solid #e9ebf0;padding:0 10px 0 15px}.dark-theme .cu2-views-bar__container{background:#2b343b;border-bottom-color:#1e272e}.layout-size_compact .cu2-views-bar__container{height:51px}.layout-size_default .cu2-views-bar__container{height:56px}.layout-size_large .cu2-views-bar__container{height:60px}.cu2-views-bar_v6 .cu2-views-bar__container{padding-right:18px;height:51px}.layout-size_compact .cu2-views-bar_v6 .cu2-views-bar__container,.layout-size_default .cu2-views-bar_v6 .cu2-views-bar__container,.layout-size_large .cu2-views-bar_v6 .cu2-views-bar__container{height:51px}.cu2-views-bar__options{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;min-width:0;min-height:51px;padding:10px 17px 10px 0}.cu2-views-bar_v6 .cu2-views-bar__options{min-height:35px;padding:0 12px 0 0;background:#fff;border-bottom:1px solid #e9ebf0}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__options{background:#2b343b;border-bottom-color:#1e272e}.cu2-views-bar__options-today{display:flex;align-items:center;justify-content:center;cursor:pointer}.cu2-views-bar__options_v6 .cu2-views-bar__options-today{height:24px;padding:0 6px;margin-right:4px;border-radius:6px}.cu2-views-bar__options_v6 .cu2-views-bar__options-today:hover{background-color:#f2f2f2}.dark-theme .cu2-views-bar__options_v6 .cu2-views-bar__options-today:hover{background-color:#1e272e}.cu2-views-bar__options-today-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-user-select:none;-ms-user-select:none;user-select:none}.cu2-views-bar__options_v6 .cu2-views-bar__options-today-label{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#333}.dark-theme .cu2-views-bar__options_v6 .cu2-views-bar__options-today-label{color:#abaeb0}.cu2-views-bar__options-divider{flex-grow:1}.cu2-views-bar__options .cu2-views-bar__btn_label{margin-right:26px}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label{position:relative;margin-right:4px;border-radius:6px;height:24px;overflow:hidden}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label.cu-dropdown-list_opened:before,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label.cu-dropdown_open:before,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label:hover:before{opacity:1}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label:before{transition:opacity .1s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;width:100%;height:100%;opacity:0;background-color:#f2f2f2}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label:before{background-color:#1e272e}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label_unsaved{margin-right:0}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label+.cu2-views-bar__selected-options-icon{margin-left:0}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_label .cu2-views-bar__btn-dropdown-list-toggle{display:flex;align-items:center;padding:0 6px;height:24px;position:relative}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:before{background:#7b68ee;opacity:.1}@supports (--theme-main-color:#7b68ee){.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:before{background:var(--theme-main-color)}}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:before{background:var(--theme-main-color)}}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active .cu2-views-bar__btn-label,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active .cu2-views-bar__btn-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active .cu2-views-bar__btn-label,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active .cu2-views-bar__btn-title{color:var(--theme-main-color)}}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active .cu2-views-bar__btn-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active .cu2-views-bar__btn-icon{fill:var(--theme-main-color)}}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active.cu-dropdown-list_opened:before,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:hover:before{opacity:.1}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active.cu-dropdown-list_opened .cu2-views-bar__btn-label,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active.cu-dropdown-list_opened .cu2-views-bar__btn-title,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:hover .cu2-views-bar__btn-label,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:hover .cu2-views-bar__btn-title{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active.cu-dropdown-list_opened .cu2-views-bar__btn-label,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active.cu-dropdown-list_opened .cu2-views-bar__btn-title,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:hover .cu2-views-bar__btn-label,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:hover .cu2-views-bar__btn-title{color:var(--theme-main-color-dark)}}.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active.cu-dropdown-list_opened .cu2-views-bar__btn-icon,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:hover .cu2-views-bar__btn-icon{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active.cu-dropdown-list_opened .cu2-views-bar__btn-icon,.cu2-views-bar_v6 .cu2-views-bar__options .cu2-views-bar__btn_active:hover .cu2-views-bar__btn-icon{fill:var(--theme-main-color-dark)}}.cu2-views-bar__options_team-sidebar-opened{transition:margin-right .3s cubic-bezier(.785,.135,.15,.86) 0s;margin-right:55px}.cu2-views-bar__options_team-sidebar-opened.cu2-views-bar__options_v6{margin-right:243px}.cu2-views-bar__options_activity{background:#f2f4f7}.contrast_high .cu2-views-bar__options_activity{background:#eee}.dark-theme .cu2-views-bar__options_activity{background:#1e272e}.cu2-views-bar__options_activity .cu-search-filter__close_btn:before{background:linear-gradient(90deg,rgba(242,244,247,0) 0,#f2f4f7)}.cu2-views-bar__views{flex-grow:1;min-width:0;align-self:flex-end;margin-bottom:-1px}.cu2-views-bar_v6 .cu2-views-bar__views{align-self:center;margin:0;height:100%}.cu2-views-bar__reset{width:26px;height:26px;padding:6px;cursor:pointer;fill:#bcc0c7}.dark-theme .cu2-views-bar__reset{fill:#828588}.cu2-views-bar__reset:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__reset:hover{fill:var(--theme-main-color)}}.cu2-views-bar__btn{flex-shrink:0}.cu2-views-bar__btn-toggle{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:26px;height:26px;fill:#bcc0c7}.dark-theme .cu2-views-bar__btn-toggle{fill:#828588}.cu2-views-bar__btn-toggle.view-sorting-active,.cu2-views-bar__btn-toggle:hover,.cu2-views-bar__btn-toggle_active{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__btn-toggle.view-sorting-active,.cu2-views-bar__btn-toggle:hover,.cu2-views-bar__btn-toggle_active{fill:var(--theme-main-color)}}.cu2-views-bar__btn-toggle_group-by{padding:7px}.cu2-views-bar__btn-toggle_subtasks{padding:6px 7px}.cu2-views-bar__btn-toggle_view-settings{transform:rotate(90deg);padding:6px}.cu2-views-bar__btn-toggle_view-settings-two-rows{width:25px;height:25px;padding:5px;fill:#7c828d;margin-left:15px}.cu2-views-bar__btn-toggle_ellipsis{padding:5px}.cu2-views-bar__btn-toggle_date-scale{padding:6px}.cu2-views-bar__btn-toggle_color{padding:7px 6px 6px}.cu2-views-bar__btn-toggle_export{padding:5px;stroke-width:1.8;fill:transparent;stroke:#bcc0c7}.dark-theme .cu2-views-bar__btn-toggle_export{fill:transparent;stroke:#828588}.cu2-views-bar__btn-toggle_export:hover,.cu-export-view .cu-dropdown_open .cu2-views-bar__btn-toggle_export{stroke:#7b68ee;fill:transparent}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__btn-toggle_export:hover,.cu-export-view .cu-dropdown_open .cu2-views-bar__btn-toggle_export{stroke:var(--theme-main-color)}}.cu2-views-bar__btn-label{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;white-space:nowrap;cursor:pointer;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d;margin-right:6px}.dark-theme .cu2-views-bar__btn-label{color:#828588}.cu2-views-bar__btn-label+.cu2-views-bar__btn-label{margin-left:-2px}.cu2-views-bar_v6 .cu2-views-bar__btn-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0 0 0 4px;color:#333}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__btn-label{color:#abaeb0}.cu2-views-bar__btn-label span{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#292d34}.dark-theme .cu2-views-bar__btn-label span{color:#d5d6d7}.cu2-views-bar__btn-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-right:5px;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;white-space:nowrap;color:#7c828d}.dark-theme .cu2-views-bar__btn-title{color:#abaeb0}.cu2-views-bar_v6 .cu2-views-bar__btn-title{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;margin-left:4px;margin-right:0;color:#333}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__btn-title{color:#abaeb0}.cu2-views-bar_v6 .cu2-views-bar__btn-title_unsaved{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar_v6 .cu2-views-bar__btn-title_unsaved{color:var(--theme-main-color)}}.cu2-views-bar__btn-caret-down{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:8px;height:13px;fill:#7c828d}.dark-theme .cu2-views-bar__btn-caret-down{fill:#abaeb0}.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-toggle,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-toggle{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-toggle,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-toggle{fill:var(--theme-main-color)}}.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-caret-down,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-caret-down{fill:#7b68ee;transform:rotate(180deg)}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-caret-down,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-caret-down{fill:var(--theme-main-color)}}.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-label,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-label,.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-label span,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-label span{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-label,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-label,.cu2-views-bar__btn.cu-dropdown_open .cu2-views-bar__btn-label span,.cu2-views-bar__btn .cu-dropdown_open .cu2-views-bar__btn-label span{color:var(--theme-main-color)}}.cu2-views-bar__btn .cu-dropdown__toggle{display:flex;align-items:center}.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-caret-down,.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-toggle{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-caret-down,.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-toggle{fill:var(--theme-main-color)}}.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-label,.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-label span{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-label,.cu2-views-bar__btn .cu-dropdown__toggle:hover .cu2-views-bar__btn-label span{color:var(--theme-main-color)}}.cu2-views-bar__btn_row{display:flex;align-items:center}.cu2-views-bar__btn_row cu-toggle-switch{display:flex}.cu2-views-bar__btn_toggle{display:flex;align-items:center;margin-left:10px;border-radius:4px;height:22px;padding:2px 6px 0;cursor:pointer;margin-right:25px}.cu2-views-bar__btn_toggle:hover{background:#f2f2f2}.dark-theme .cu2-views-bar__btn_toggle:hover{background:#2b343b}.cu2-views-bar_v6 .cu2-views-bar__btn_toggle{border-radius:6px;height:24px;padding:0 6px;margin-left:0;margin-right:4px}.cu2-views-bar__btn_toggle .cu2-views-bar__btn-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-transform:uppercase;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu2-views-bar__btn_toggle .cu2-views-bar__btn-title{color:#7c828d}.cu2-views-bar_v6 .cu2-views-bar__btn_toggle .cu2-views-bar__btn-title{text-transform:none;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#333}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__btn_toggle .cu2-views-bar__btn-title{color:#abaeb0}.cu2-views-bar__btn-icon{width:11px;height:11px;margin-right:5px;fill:#b9bec7}.dark-theme .cu2-views-bar__btn-icon{fill:#7c828d}.cu2-views-bar_v6 .cu2-views-bar__btn-icon{width:12px;height:12px;margin-right:0;fill:#53575e}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__btn-icon{fill:#abaeb0}.cu2-views-bar_v6 .cu2-views-bar__btn-icon_ellipsis{width:13px}.cu2-views-bar_v6 .cu2-views-bar__btn-icon_subtasks{width:14px;height:14px}.cu2-views-bar_v6 .cu2-views-bar__btn-icon_unsaved{fill:#7b68ee;width:16px;height:16px}@supports (--theme-main-color:#7b68ee){.cu2-views-bar_v6 .cu2-views-bar__btn-icon_unsaved{fill:var(--theme-main-color)}}.cu2-views-bar__share{transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;position:relative;height:24px;padding:0 5px;margin-left:10px;cursor:pointer;border-radius:3px;border:1px solid #d8dce2}.contrast_high .cu2-views-bar__share{border-color:#b9bec7}.dark-theme .cu2-views-bar__share{border-color:#384047}.cu2-views-bar_v6 .cu2-views-bar__share{border:0;margin-left:14px}.cu2-views-bar_v6 .cu2-views-bar__share:hover{background-color:#f2f2f2}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__share:hover{background-color:#1e272e}.cu2-views-bar_v6 .cu-automation-entity-count+.cu2-views-bar__share:before{content:"";display:block;position:absolute;left:-7px;width:1px;height:20px;background:#e9ebf0}.dark-theme .cu2-views-bar_v6 .cu-automation-entity-count+.cu2-views-bar__share:before{background:#1e272e}.cu2-views-bar__share:hover{background-color:#f2f2f2}.dark-theme .cu2-views-bar__share:hover{background-color:#2b343b}.cu2-views-bar__share-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:12px;height:12px;fill:#7c828d;stroke:#7c828d}.dark-theme .cu2-views-bar__share-icon{fill:#b9bec7;stroke:#b9bec7}.cu2-views-bar_v6 .cu2-views-bar__share-icon{fill:#7c828d;stroke:#7c828d}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__share-icon{fill:#828588;stroke:#828588}.cu2-views-bar__share-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-left:5px;margin-bottom:-1px;color:#7c828d}.cu2-views-bar_v6 .cu2-views-bar__share-label{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu2-views-bar_v6 .cu2-views-bar__share-label{color:#828588}.cu2-views-bar__me-team{display:flex;align-items:center;cursor:pointer}.cu2-views-bar__me-team_selected{cursor:default}.cu2-views-bar__me-team_selected .cu2-views-bar__me-team-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__me-team_selected .cu2-views-bar__me-team-label{color:var(--theme-main-color)}}.dark-theme .cu2-views-bar__me-team_selected .cu2-views-bar__me-team-label{color:#d5d6d7}.cu2-views-bar__me-team_selected .cu2-views-bar__me-team-label:hover{color:#292d34}.dark-theme .cu2-views-bar__me-team_selected .cu2-views-bar__me-team-label:hover{color:#d5d6d7}.cu2-views-bar__me-team_clickable{cursor:pointer}.cu2-views-bar__me-team_clickable:hover .cu2-views-bar__me-team-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__me-team_clickable:hover .cu2-views-bar__me-team-label{color:var(--theme-main-color)}}.dark-theme .cu2-views-bar__me-team_clickable:hover .cu2-views-bar__me-team-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-views-bar__me-team_clickable:hover .cu2-views-bar__me-team-label{color:var(--theme-main-color)}}.cu2-views-bar__me-team-label{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;white-space:nowrap;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.dark-theme .cu2-views-bar__me-team-label{color:#828588}.cu2-views-bar__me-team-label:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__me-team-label:hover{color:var(--theme-main-color)}}.cu2-views-bar__me-team-container{display:flex;align-items:center;margin-left:6px}.cu2-views-bar__me-team-container_disabled>*{pointer-events:none}.cu2-views-bar__me-team-divider{width:1px;height:16px;background:#e9ebf0;margin:0 16px 0 13px}.dark-theme .cu2-views-bar__me-team-divider{background:#828588}.cu2-views-bar__me-team-icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:18px;height:18px;fill:#bcc0c7;margin-left:6px;padding:3px;cursor:pointer}.dark-theme .cu2-views-bar__me-team-icon{fill:#828588}.cu2-views-bar__me-team-icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__me-team-icon:hover{fill:var(--theme-main-color)}}.cu2-views-bar__default-badge{padding:3px 4px;border-radius:4px;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;margin-left:4px;background:#bcc0c7}.dark-theme .cu2-views-bar__default-badge{background:#828588}.cu2-views-bar__default-text{font-weight:600;font-size:12px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-views-bar__default-text{font-family:var(--global-font-support)}}.cu2-views-bar__default-italic{font-weight:400;font-size:11px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;color:#818193;padding:0 5px;font-style:italic}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-views-bar__default-italic{font-family:var(--global-font-support)}}.cu2-views-bar__group-by .cu-dropdown-list-item__check{width:12px;height:12px}.cu2-views-bar__selected-view-options{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;flex-direction:column;color:#7c828d;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding:0 9px;border-radius:0 0 3px 3px;position:relative;background:#fff}.dark-theme .cu2-views-bar__selected-view-options{color:#828588;background:#2b343b}.cu2-views-bar__selected-view-options_saved{animation:fadeOut .3s linear 3s forwards,layoutSaved .1s linear 3.5s forwards}.cu2-views-bar__selected-view-options_saved:hover{animation:none}@keyframes layoutSaved{0%{max-height:20px}to{max-height:0;min-height:0;overflow:hidden}}.cu2-views-bar__selected-view-options:before{content:"";display:block;position:absolute;width:100%;height:100%;bottom:0;left:0;border:1px solid #e9ebf0;border-top:0;border-radius:0 0 3px 3px}.dark-theme .cu2-views-bar__selected-view-options:before{border-color:#1e272e}.cu2-views-bar__selected-view-options-row{display:flex;align-items:center;height:19px}.cu2-views-bar__selected-view-options-container{position:absolute;min-height:17px;left:50%;transform:translate(-50%,-1px);display:flex;justify-content:center;align-items:center;z-index:20;-webkit-user-select:none;-ms-user-select:none;user-select:none}.cu2-views-bar__selected-view-options-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;margin-right:8px;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d;position:relative}.dark-theme .cu2-views-bar__selected-view-options-item{color:#828588}.cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-item{margin-left:9px}.cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-item:before{content:"";display:block;position:absolute;width:1px;height:7px;left:-9px;background:#e9ebf0}.dark-theme .cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-item:before{background:#828588}.cu2-views-bar__selected-view-options-item-settings{display:inline-flex;color:#585c63;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin-top:2px}.dark-theme .cu2-views-bar__selected-view-options-item-settings{color:#828588}.cu2-views-bar__selected-view-options-icon{fill:#82868d;margin-top:-1px;position:relative}.dark-theme .cu2-views-bar__selected-view-options-icon{fill:#828588}.cu2-views-bar__selected-view-options-icon_default{width:14px;height:14px;margin-right:10px}.cu2-views-bar__selected-view-options-icon_lock,.cu2-views-bar__selected-view-options-icon_private{width:11px;height:12px;margin-right:4px}.cu2-views-bar__selected-view-options-icon_saved{width:11px;height:11px;margin-right:5px;animation:iconSaved .5s ease-out 1.5s forwards;fill:#67cb48}.dark-theme .cu2-views-bar__selected-view-options-icon_saved{fill:#67cb48}@keyframes iconSaved{0%{fill:#67cb48}to{fill:#bcc0c7}}.cu2-views-bar__selected-view-options-icon_unsaved{width:11px;height:11px;margin-right:5px;fill:#d64c4c}.dark-theme .cu2-views-bar__selected-view-options-icon_unsaved{fill:#d64c4c}.cu2-views-bar__selected-view-options-icon_autosave{width:13px;height:12px;margin-right:8px;fill:#bcc0c7}.dark-theme .cu2-views-bar__selected-view-options-icon_autosave{fill:#bcc0c7}.cu2-views-bar__selected-view-options-icon_autosave:not(.cu2-views-bar__selected-view-options-icon_spinner){animation:iconAutoSave .5s ease-out forwards}@keyframes iconAutoSave{0%{fill:#67cb48;transform:scale(1)}50%{fill:#67cb48;transform:scale(1.15)}to{transform:scale(1);fill:#bcc0c7}}.cu2-views-bar__selected-view-options-icon_close{width:10px;height:10px;margin-right:5px;padding:1px;fill:#82868d}.dark-theme .cu2-views-bar__selected-view-options-icon_close{fill:#828588}.cu2-views-bar__selected-view-options-icon_clickable{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer}.cu2-views-bar__selected-view-options-icon_clickable:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__selected-view-options-icon_clickable:hover{fill:var(--theme-main-color)}}.cu2-views-bar__selected-view-options-icon_spinner,.dark-theme .cu2-views-bar__selected-view-options-icon_spinner{fill:#67cb48}.cu2-views-bar__selected-view-options-icon_spinner>svg{animation:spinner 1.5s linear infinite}.cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-icon{margin-left:9px}.cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-icon:before{content:"";display:block;position:absolute;width:1px;height:7px;left:-9px;background:#e9ebf0}.dark-theme .cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-icon:before{background:#828588}.cu2-views-bar__selected-view-options-question{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:14px;height:14px;cursor:pointer;margin-top:-1px;margin-left:4px;pointer-events:all;fill:#bcc0c7;position:relative}.dark-theme .cu2-views-bar__selected-view-options-question{fill:#828588}.cu2-views-bar__selected-view-options-question:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__selected-view-options-question:hover{fill:var(--theme-main-color)}}.cu2-views-bar__selected-view-options-changes{display:flex;align-items:center;height:13px;position:relative}.cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-changes{margin-left:9px}.cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-changes:before{content:"";display:block;position:absolute;width:1px;height:7px;left:-9px;background:#e9ebf0}.dark-theme .cu2-views-bar__selected-view-options-item+.cu2-views-bar__selected-view-options-changes:before{background:#828588}.cu2-views-bar__selected-view-options-icon+.cu2-views-bar__selected-view-options-changes{border-left:1px solid #e9ebf0;padding-left:10px}.contrast_high .cu2-views-bar__selected-view-options-icon+.cu2-views-bar__selected-view-options-changes{border-left-color:#dedede}.dark-theme .cu2-views-bar__selected-view-options-icon+.cu2-views-bar__selected-view-options-changes{border-left-color:#828588}.cu2-views-bar__selected-view-options-changes .cu2-views-bar__save-changes-option{display:flex;align-items:center;height:13px;margin-right:8px}.cu2-views-bar__selected-view-options-changes .cu2-views-bar__save-changes-option .cu-checkbox__label:hover:after{opacity:1}.cu2-views-bar__selected-view-options-changes .cu2-views-bar__save-changes-option .cu-checkbox__label:before{top:2px;width:12px;height:12px;border-radius:3px;border-color:#b9bec7}.cu2-views-bar__selected-view-options-changes .cu2-views-bar__save-changes-option .cu-checkbox__label:after{left:3px;top:5px;width:6px;height:6px;border-radius:1px}.cu2-views-bar__selected-view-options-changes-saved{display:flex;align-items:center;color:#585c63;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-transform:none;overflow:hidden;margin-right:8px;transform:translateZ(0)}.dark-theme .cu2-views-bar__selected-view-options-changes-saved{color:#828588}.cu2-views-bar__selected-view-options-text{display:flex;align-items:center;position:relative;color:#7c828d}.cu2-views-bar__selected-view-options-option{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#7b68ee;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;color:inherit;margin:1px 4px 0;position:relative;padding-bottom:1px}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__selected-view-options-option{color:var(--theme-main-color)}}.cu2-views-bar__selected-view-options-option:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu2-views-bar__selected-view-options-option:hover{color:var(--theme-main-color-dark)}}.cu2-views-bar__selected-view-options-option:last-child:not(.cu2-views-bar__selected-view-options-option_single){margin-right:8px}.cu2-views-bar__selected-view-options-option:after{content:"";display:block;position:absolute;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;bottom:0;left:0;width:100%;height:0;border-bottom:1px dotted}.cu2-views-bar__selected-view-options-option:after:hover{transition:none}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__selected-view-options-option:after{border-bottom-color:var(--theme-main-color)}}.cu2-views-bar__selected-view-options-option:hover:after{opacity:0}.cu2-views-bar__selected-view-options .cu-checkbox{position:relative}.cu2-views-bar__selected-view-options .cu-checkbox__label{color:#585c63;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-transform:none;padding-left:20px;transform:translateZ(0)}.dark-theme .cu2-views-bar__selected-view-options .cu-checkbox__label{color:#828588}.cu2-views-bar__selected-view-options-divider{width:1px;height:7px;margin:0 8px 0 0;flex-shrink:0;background:#e9ebf0}.dark-theme .cu2-views-bar__selected-view-options-divider{background:#828588}.cu2-views-bar__selected-view-options-ellipsis{width:20px;height:16px;padding:3px;margin:0 -3px;fill:#bcc0c7;cursor:pointer;position:relative}.dark-theme .cu2-views-bar__selected-view-options-ellipsis{fill:#828588}.cu2-views-bar__selected-view-options-ellipsis:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-views-bar__selected-view-options-ellipsis:hover{fill:var(--theme-main-color)}}.cu2-views-bar__frozen-tooltip{z-index:20;width:100%;min-width:250px;justify-content:center}.cu2-views-bar__frozen-tooltip-body{font:400 12px/1.4 Gotham Pro,Proxima Nova,arial,serif;-webkit-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.dark-theme .cu2-views-bar__frozen-tooltip-body{color:#2b343b}.cu2-views-bar__frozen-tooltip-body-by{font-weight:500;display:inline-block;color:#fff}.dark-theme .cu2-views-bar__frozen-tooltip-body-by{color:#2b343b}.cu2-views-bar__options-gantt{background-color:#fff;min-height:60px;height:60px;padding:0 12px;justify-content:space-between;flex-wrap:nowrap}.dark-theme .cu2-views-bar__options-gantt{background-color:#2b343b}.cu-gantt__fullscreen .cu2-views-bar__options-gantt{margin-right:0}.cu2-views-bar__options-gantt .cu2-views-bar__options-divider{display:none}.cu2-views-bar__options-gantt .cu-filter-block{position:relative}.cu2-views-bar__options-gantt .cu-filter-block:after{content:"";position:absolute;right:0;top:7px;width:1px;height:15px;background:#e9ebf0}.dark-theme .cu2-views-bar__options-gantt .cu-filter-block:after{background-color:#1e272e}.cu2-views-bar__options-gantt .cu-search-filter{margin:0}.cu2-views-bar__options-gantt .cu-filter-block__extra-icon-container{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;position:relative;width:34px;height:28px;border:1px solid #e9ebf0;border-radius:3px}.dark-theme .cu2-views-bar__options-gantt .cu-filter-block__extra-icon-container{border-color:#1e272e}.cu2-views-bar__options-gantt .cu-filter-block__extra-icon-container:hover{background-color:var(--theme-main-color)}.cu2-views-bar__options-gantt .cu-filter-block__extra-icon-container:hover .icon{fill:#fff!important}.cu2-views-bar__options-gantt .cu-filter-block__extra-icon{padding:9px 0!important;width:24px!important}.dark-theme .cu2-views-bar__options-gantt .cu-filter-block__extra-icon{fill:#d5d6d7!important}.cu2-views-bar__options-gantt .cu-filter-block__extra-icon-down{position:absolute;right:3px}.dark-theme .cu2-views-bar__options-gantt .cu-filter-block__extra-icon-down{fill:#d5d6d7!important}.cu2-views-bar__options-gantt .cu-search-filter__input{width:210px!important}.dark-theme .cu2-views-bar__options-gantt .cu-search-filter__input{color:#d5d6d7!important}.cu2-views-bar__selected-options{display:flex;align-items:center;position:relative;margin-right:4px;padding-right:8px}.cu2-views-bar__selected-options:before{content:"";display:block;position:absolute;right:0;width:1px;height:16px;background:#e9ebf0}.dark-theme .cu2-views-bar__selected-options:before{background-color:#1e272e}.cu2-views-bar__selected-options-dropdown-list{position:relative;margin-right:4px;border-radius:6px;height:24px;overflow:hidden}.cu2-views-bar__selected-options-dropdown-list.cu-dropdown-list_opened:before,.cu2-views-bar__selected-options-dropdown-list:hover:before{opacity:1}.cu2-views-bar__selected-options-dropdown-list:before{transition:opacity .1s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;width:100%;height:100%;opacity:0;background-color:#f2f2f2}.dark-theme .cu2-views-bar__selected-options-dropdown-list:before{background-color:#1e272e}.cu2-views-bar__selected-options-dropdown-list-toggle{display:flex;align-items:center;padding:0 4px 0 2px;height:24px;cursor:pointer}.cu2-views-bar__selected-options-dropdown-list-toggle .cu2-views-bar__selected-options-icon{margin-left:0}.cu2-views-bar__selected-options-icon{position:relative;margin-left:6px;width:24px;height:24px;padding:4px;fill:#53575e}.dark-theme .cu2-views-bar__selected-options-icon{fill:#abaeb0}.cu2-views-bar__selected-options-icon+.cu2-views-bar__selected-options-icon:before{content:"";display:block;position:absolute;width:3px;height:3px;left:-4px;border-radius:50%;background:#cdd2d9}.dark-theme .cu2-views-bar__selected-options-icon+.cu2-views-bar__selected-options-icon:before{background:#384047}.cu2-views-bar__selected-options-icon_pointer{transition:opacity .1s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;border-radius:6px}.cu2-views-bar__selected-options-icon_pointer:hover{background-color:#f2f2f2}.dark-theme .cu2-views-bar__selected-options-icon_pointer:hover{background-color:#1e272e}.cu2-views-bar__selected-options-icon_shield{padding:5px}.cu2-views-bar__selected-options-icon_saved{animation:iconSaved .5s ease-out 1.5s forwards;fill:#67cb48}.dark-theme .cu2-views-bar__selected-options-icon_saved{fill:#67cb48}.cu2-views-bar__selected-options-icon_unsaved,.dark-theme .cu2-views-bar__selected-options-icon_unsaved{fill:#d64c4c}.cu2-views-bar__selected-options-icon_autosave:not(.cu2-views-bar__selected-options-icon_spinner){animation:iconAutoSave .5s ease-out forwards}.cu2-views-bar__selected-options-icon_spinner,.dark-theme .cu2-views-bar__selected-options-icon_spinner{fill:#67cb48}.cu2-views-bar__selected-options-icon_spinner>svg{animation:spinner 1.5s linear infinite}.cu-task-list-header-settings__add-new-type{display:flex;flex-direction:column;min-width:500px;max-height:480px;overflow:auto;padding:15px 20px}.cu-task-list-header-settings__add-new-type-shorter{max-height:370px;min-height:200px}.cu-task-list-header-settings__add-new-type-shorter form.cu-custom-fields__form-row-value{min-height:285px}.cu-task-list-header-settings__add-new-type-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;flex-shrink:0;text-transform:uppercase;font:500 11px Gotham Pro,Proxima Nova,arial,serif;color:rgba(34,34,34,.3);margin-bottom:17px}.contrast_high .cu-task-list-header-settings__add-new-type-header{color:#858585}.dark-theme .cu-task-list-header-settings__add-new-type-header{color:#828588}.cu-task-list-header-settings__add-new-type-body{flex:0 1 auto;position:relative}',".cu-user-profile-block{display:flex;flex-direction:column;height:100%;background:#f2f4f7}.contrast_high .cu-user-profile-block{background:#eee}.dark-theme .cu-user-profile-block{background:#1e272e}.cu-user-profile-block__tasks{padding:15px 20px;box-shadow:0 2px 5px rgba(0,0,0,.1);z-index:100;background:#fff;border-bottom:1px solid #e9ebf0}.dark-theme .cu-user-profile-block__tasks{background:#2b343b;border-bottom-color:#1e272e}.cu-user-profile-block__activity{display:flex;flex-direction:column;background:#fafbfc}.contrast_high .cu-user-profile-block__activity{background:#eee}.dark-theme .cu-user-profile-block__activity{background:#1e272e}.cu-user-profile-block__activity-container{position:relative;overflow-y:auto;overflow-x:hidden;background:#fafbfc}.cu-os-win .cu-user-profile-block__activity-container{scrollbar-width:thin}.cu-os-win .cu-user-profile-block__activity-container::-webkit-scrollbar{background-color:#fafbfc;width:16px;height:16px}.cu-os-win .cu-user-profile-block__activity-container::-webkit-scrollbar-track,.cu-os-win .cu-user-profile-block__activity-container::-webkit-scrollbar-track:hover{background-color:#fafbfc}.cu-os-win .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fafbfc}.cu-os-win .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fafbfc}.cu-os-win .cu-user-profile-block__activity-container::-webkit-scrollbar-button{display:none}.cu-os-win.contrast_high .cu-user-profile-block__activity-container::-webkit-scrollbar,.cu-os-win.contrast_high .cu-user-profile-block__activity-container::-webkit-scrollbar-track{background-color:#eee}.cu-os-win.contrast_high .cu-user-profile-block__activity-container::-webkit-scrollbar-track:hover{background-color:#eee}.cu-os-win.contrast_high .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb,.cu-os-win.contrast_high .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb:hover{border-color:#eee}.cu-os-win.dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar,.cu-os-win .dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar,.cu-os-win.dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-track{background-color:#1e272e}.cu-os-win.dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-track:hover{background-color:#1e272e}.cu-os-win.dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-user-profile-block__activity-container::-webkit-scrollbar-thumb:hover{border-color:#1e272e}.contrast_high .cu-user-profile-block__activity-container{background:#eee}.dark-theme .cu-user-profile-block__activity-container{background:#1e272e}.cu-user-profile-block__activity-header{display:flex;justify-content:space-between;align-items:center;padding:10px 30px;flex-shrink:0;z-index:10;background:#f2f4f7}.contrast_high .cu-user-profile-block__activity-header{background:#eee}.dark-theme .cu-user-profile-block__activity-header{background:#1e272e}.cu-user-profile-block__activity-header-section{display:flex;align-items:center}.cu-user-profile-block__activity .cu-activity-list__body{width:100%}.cu-user-profile-block__activity-list{background:#fafbfc}.contrast_high .cu-user-profile-block__activity-list{background:#eee}.dark-theme .cu-user-profile-block__activity-list{background:#1e272e}.cu-user-profile-block__comments{padding:15px;background:#fafbfc}.contrast_high .cu-user-profile-block__comments{background:#eee}.dark-theme .cu-user-profile-block__comments{background:#1e272e}.cu-user-profile-block__user-inbox{display:block;overflow-y:auto}"],encapsulation:2,changeDetection:0}),e})(),RT=(()=>{class e{constructor(e,t,i,a,o){this.store=e,this.sharedTaskService=t,this.inboxService=i,this.taskService=a,this.modalService=o,this.destroy$=new Ee.a,this.team$=this.store.select(me.getTeam),this.currentUser$=this.store.select(me.getUser),this.user$=this.store.select(Kt.f),this.usersMap$=this.store.pipe(Object(ye.select)(me.getMembers),Object(Fe.a)(e=>e&&e.map(e=>e.user)),Object(Fe.a)(e=>({reminder:e}))),this.profileData$=this.store.pipe(Object(ye.select)(Kt.a),Object(ra.a)(e=>{})),this.isAdmin$=this.store.select(me.getIsAdmin),this.weights$=this.store.select(me.getUserWeights),this.profileRecentData$=this.store.pipe(Object(ye.select)(Kt.c),Object(Fe.a)(e=>e||{})),this.profileUserGroups$=this.user$.pipe(Object(Ge.a)(e=>!!e),Object(Vt.a)(e=>this.store.select(Object(tf.d)(e.id)))),this.profileUserIsGuest$=this.user$.pipe(Object(Ge.a)(e=>!!e),Object(qt.a)(this.store.select(me.getGuestMap)),Object(Fe.a)(([e,t])=>t[e.id])),this.selectedTab$=this.store.select(Kt.d),this.profilesOverTaskView$=this.store.select(Kt.b),this.projectsMap$=this.store.select(me.getAllProjectsMap),this.rollups$=this.store.select(me.getTimeRollups),this.showLiveView$=this.store.select(me.showLiveView)}ngOnInit(){this.user$.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>this.user=e),this.user$.pipe(Object(Ge.a)(e=>!!e),Object(Bt.a)("id"),Object(qt.a)(this.team$),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{this.store.dispatch(Object(aT.e)({userId:e.id,teamId:t.id}))}),this.taskService.onChange.pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e&&Array.isArray(e.tasks||e)}),this.team$.pipe(Object(Ge.a)(e=>!!e),Object(Bt.a)("id"),Object(Wt.a)(1),Object(Re.a)(this.destroy$)).subscribe(()=>{this.closeSidebar()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}closeSidebar(){this.store.dispatch(Object(Zi.a)())}selectTab(e){this.store.dispatch(Object(Zi.i)({tab:e}))}openTask(e){this.store.dispatch(Object(Zi.f)({overTaskView:!1})),this.sharedTaskService.clickTaskLink({id:e.id,customId:e.custom_id,teamId:e.team})}loadMore(e){switch(e.type){case"recent":this.store.dispatch(Object(Zi.c)({id:e.id}))}}createReminder(e){this.inboxService.createReminder(this.user,oT.a.Today,e)}editTask({event:e,tab:t}){this.inboxService.editTask(this.user,t,e)}editDesc(e){this.store.dispatch(Object(Zi.k)({desc:e}))}lazyLoadData(e){this.inboxService.lazyLoadData(e)}changeSettings(e){this.store.dispatch(new ge.om({[e.option]:e.value}))}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(ye.Store),X.Wb(Xe.a),X.Wb(cT.a),X.Wb(Ve.a),X.Wb(_e.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-user-profile-sidebar"]],hostBindings:function(e,t){1&e&&X.qc("keyup.esc",function(){return t.closeSidebar()},!1,X.Sc)},decls:18,vars:50,consts:[[3,"zIndex","width","modifier","closeSidebar"],[3,"isAdmin","team","user","profileUserGroups","rollups","weights","usersMap","currentUser","profileData","profileRecentData","selectedTab","projectsMap","statusesMap","showPulse","profileUserIsGuest","onSelectTab","onOpenTask","onLoadMore","onCreateReminder","onEditTask","onEditDesc","onLazyLoad","onChangeSettings"]],template:function(e,t){1&e&&(X.cc(0,"cu2-right-sidebar",0),X.qc("closeSidebar",function(){return t.closeSidebar()}),X.vc(1,"async"),X.cc(2,"cu-user-profile-block",1),X.qc("onSelectTab",function(e){return t.selectTab(e)})("onOpenTask",function(e){return t.openTask(e)})("onLoadMore",function(e){return t.loadMore(e)})("onCreateReminder",function(e){return t.createReminder(e)})("onEditTask",function(e){return t.editTask(e)})("onEditDesc",function(e){return t.editDesc(e)})("onLazyLoad",function(e){return t.lazyLoadData(e)})("onChangeSettings",function(e){return t.changeSettings(e)}),X.vc(3,"async"),X.vc(4,"async"),X.vc(5,"async"),X.vc(6,"async"),X.vc(7,"async"),X.vc(8,"async"),X.vc(9,"async"),X.vc(10,"async"),X.vc(11,"async"),X.vc(12,"async"),X.vc(13,"async"),X.vc(14,"async"),X.vc(15,"async"),X.vc(16,"async"),X.vc(17,"async"),X.bc(),X.bc()),2&e&&(X.Dc("zIndex",X.wc(1,18,t.profilesOverTaskView$)?802:null!=t.modalService&&t.modalService.currentModalInstance&&"googleCalendarEventDetails"!==(null==t.modalService||null==t.modalService.currentModalInstance?null:t.modalService.currentModalInstance.name)?1001:598)("width",700)("modifier","cu2-right-sidebar_user-profile-sidebar"),X.Ib(2),X.Dc("isAdmin",X.wc(3,20,t.isAdmin$))("team",X.wc(4,22,t.team$))("user",X.wc(5,24,t.user$))("profileUserGroups",X.wc(6,26,t.profileUserGroups$))("rollups",X.wc(7,28,t.rollups$))("weights",X.wc(8,30,t.weights$))("usersMap",X.wc(9,32,t.usersMap$))("currentUser",X.wc(10,34,t.currentUser$))("profileData",X.wc(11,36,t.profileData$))("profileRecentData",X.wc(12,38,t.profileRecentData$))("selectedTab",X.wc(13,40,t.selectedTab$))("projectsMap",X.wc(14,42,t.projectsMap$))("statusesMap",X.wc(15,44,t.inboxService.statusesMap$))("showPulse",X.wc(16,46,t.showLiveView$))("profileUserIsGuest",X.wc(17,48,t.profileUserIsGuest$)))},directives:[sf.a,NT],pipes:[n.b],encapsulation:2,changeDetection:0}),e})();var GT=i("Nv8m"),qT=i("HDdC");const BT=["attachmentsViewerOutlet"];function WT(e,t){}let VT=(()=>{class e{constructor(e,t){this.dynamicComponentLoader=e,this.attachmentsViewerService=t,this.destroy$=new Ee.a}ngOnInit(){Object(GT.a)(new qT.a(e=>{const t=window.requestIdleCallback(()=>{e.next(void 0),e.complete()});return()=>{window.cancelIdleCallback(t)}}),this.attachmentsViewerService.onOpen).pipe(Object(Ne.a)(1),Object(Vt.a)(e=>Object(Nt.a)([this.dynamicComponentLoader.getComponentFactory("attachments-viewer"),Object(Wa.a)(e)])),Object(Re.a)(this.destroy$)).subscribe(([e,t])=>{this.componentRef=this.attachmentsViewerOutlet.createComponent(e),this.componentRef.changeDetectorRef.detectChanges(),t&&this.attachmentsViewerService.onOpen.emit(t)})}ngOnDestroy(){this.destroy$.next(),this.componentRef&&this.componentRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(X.Wb(Ua.a),X.Wb(Ja.a))},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-attachments-viewer"]],viewQuery:function(e,t){if(1&e&&X.jd(BT,1,X.U),2&e){let e;X.Qc(e=X.rc())&&(t.attachmentsViewerOutlet=e.first)}},decls:2,vars:0,consts:[["attachmentsViewerOutlet",""]],template:function(e,t){1&e&&X.bd(0,WT,0,0,"ng-template",null,0,X.cd)},encapsulation:2}),e})(),XT=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=X.Qb({type:e,selectors:[["cu-access-denied"]],decls:5,vars:0,consts:function(){let e,t;return e=$localize`:@@cu-access-denied__no-access-to-any-workspace-space␟e2ab2c959ee569aa87cd5009ae1990b29649514e␟3862065658494399098: Whoops! You don't have access to any spaces in this Workspace.
`,t=$localize`:@@cu-access-denied__no-access-to-any-workspace-space_description␟3de6610eaf433a5bc8cf4a8dee9d9e4f7e6085bf␟7164908513350910365: Please ask your Workspace admin to give you access to ClickUp spaces.
`,[[1,"cu-icon","cu-icon_sad-face"],[1,"no-access__modal-title"],e,[1,"no-access__modal-text"],t]},template:function(e,t){1&e&&(X.Xb(0,"div",0),X.cc(1,"h1",1),X.gc(2,2),X.bc(),X.cc(3,"h4",3),X.gc(4,4),X.bc())},encapsulation:2}),e})();var HT=i("NV0y"),YT=i("rURA"),ZT=i("Vi3F");const QT=[{threshold:86400,label:"day"},{threshold:3600,label:"hour"},{threshold:60,label:"minute"},{threshold:1,label:"second"}];let KT=(()=>{class e{transform(e){return QT.map(t=>{const i=Math.floor(e/t.threshold);return e-=i*t.threshold,Object.assign(Object.assign({},t),{amount:i})}).filter(e=>e.amount>0).map(e=>`${e.amount} ${e.label}${1===e.amount?"":"s"}`).join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=X.Vb({name:"secondsToHumanTime",type:e,pure:!0}),e})();var JT=i("FrPa"),eS=i("hmfO");let tS=(()=>{class e{}return e.\u0275mod=X.Ub({type:e}),e.\u0275inj=X.Tb({factory:function(t){return new(t||e)},imports:[[n.c,r.a,Z.a,Y.a,Jc.SearchModule,m.d.forRoot(),pn,Na.b,s.l,E.a,mn.a,hn.a,bn.a,gn.a,fn.a,_n.a,yn,wn.a,H,kn.a,jn,On.a,In.a,Dn.a,Cn.a,Qn,as,C.a,Vs,Ds.a,$s,zs.a,Ls,As.a,Fs.a,Us.a,Ns.a,Rs,Gs.a,ye.StoreModule.forFeature("docManager",qs.d),Ei.b.forFeature([Bs.a]),Ws.a,c.a,o.a,a.a,Xs.a,ir,Bb,q.a,Pr.a,Hs.a,M.LoaderModule,Hb,ig,lg,bg,yg,Og,$g,Ag]]}),e})();X.Yc(Kc,[n.o,_s,Gg,n.q,qg.a,Bg.a,Wg.a,Vg.a,Xg.a,d.m,r_,l_.a,iw,Sw,n.p,Qe.a,Na.a,ql.a,or,d.k,n.t,Fw,ok,Kk,Jk.a,iT,RT,VT,se.a,ws,Is,XT,HT.a,YT.a,ZT.a,ie.a],[n.b,KT,JT.a,eS.a])},W6OC:function(e,t,i){"use strict";i.d(t,"a",function(){return m});var a=i("zP0r"),o=i("1G5W"),c=i("fXoL"),n=i("/qOb"),s=i("XNiG"),r=i("o7Ov"),l=i("tyNb"),d=i("l7P3"),u=i("3Pt+");const p=["input"];let m=(()=>{class e{constructor(e,t,i,a){this.renderer=e,this.route=t,this.store=i,this.cdr=a,this.destroy$=new s.a,this.name="",this.modifier="",this.onCancel=new c.o,this.onBlur=new c.o,this.onSave=new c.o,this.onHideError=new c.o}ngAfterViewInit(){this.store.dispatch(new r.jk({isOpen:!0})),this.input.nativeElement.focus(),this.route.queryParams.pipe(Object(a.a)(1),Object(o.a)(this.destroy$)).subscribe(()=>{this.input&&this.cancel()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe(),this.store.dispatch(new r.jk({isOpen:!1}))}keydownHandler(e){switch(e.keyCode){case n.a.ENTER:this.save();break;case n.a.ESCAPE:this.cancel();break;default:this.onHideError.emit()}}update(){this.cdr.markForCheck()}save(e="save",t=!1){const i=this.name.trim(),a=this.input.nativeElement.value.trim();a.length?i===a?this.cancel():"save"===e?this.onSave.emit({name:a}):this.onBlur.emit({name:a}):t&&this.cancel()}cancel(){this.onCancel.emit()}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(c.H),c.Wb(l.a),c.Wb(d.Store),c.Wb(c.h))},e.\u0275cmp=c.Qb({type:e,selectors:[["cu-nav-editor"]],viewQuery:function(e,t){if(1&e&&c.jd(p,3),2&e){let e;c.Qc(e=c.rc())&&(t.input=e.first)}},inputs:{name:"name",modifier:"modifier"},outputs:{onCancel:"onCancel",onBlur:"onBlur",onSave:"onSave",onHideError:"onHideError"},decls:3,vars:4,consts:[["type","text",1,"nav-editor__input",3,"ngModel","blur","keydown"],["input",""]],template:function(e,t){1&e&&(c.cc(0,"div"),c.cc(1,"input",0,1),c.qc("blur",function(){return t.save("blur",!0)})("keydown",function(e){return t.keydownHandler(e)}),c.bc(),c.bc()),2&e&&(c.Mb("nav-editor ",t.modifier,""),c.Ib(1),c.Dc("ngModel",t.name))},directives:[u.c,u.p,u.s],encapsulation:2}),e})()},WsdY:function(e,t,i){"use strict";i.d(t,"a",function(){return L});var a=i("U4aC"),o=i("1G5W"),c=i("uvw/"),n=i("Gj5t"),s=i("fXoL"),r=i("XNiG"),l=i("jJQC"),d=i("MguC"),u=i("dTHz"),p=i("TyK0"),m=i("o7Ov"),h=i("l7P3"),b=i("Jf2N"),g=i("8it8"),f=i("5+WD"),_=i("Z1X6"),v=i("ofXK"),y=i("IkRJ"),w=i("sf8M"),k=i("/qOb"),x=i("tyNb"),T=i("DkPU"),S=i("3Pt+"),j=i("EDFS"),O=i("8r6i");const I=["input"],D=["pop"];function C(e,t){if(1&e&&(s.cc(0,"div",7),s.ac(1),s.gc(2,8),s.Zb(),s.dd(3),s.bc()),2&e){const e=s.uc();s.Ib(3),s.fd(" ",e.errorText," ")}}function P(e,t){if(1&e&&s.Xb(0,"cu-paywall-popover",9),2&e){const e=s.uc();s.Dc("badge","")("title",e.paywallCommonStringsService.freePlanListLimitationText)("text",e.paywallCommonStringsService.freePlanListLimitationDescriptionText)("image","./assets/images/components/paywall-popover/personal-view.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToUnlimitedText)("learnMore","https://docs.clickup.com/en/articles/3315031-limits-on-spaces-and-lists")("amplitudeLabel","400 Lists Per Space")}}const $=function(e){return{"nav-section-maker_error":e}};let z=(()=>{class e{constructor(e,t,i,a,o,c){this.renderer=e,this.changeDetectorRef=t,this.router=i,this.hostElement=a,this.store=o,this.paywallCommonStringsService=c,this.showTemplate=!1,this.onAction=new s.o,this.onChangeError=new s.o,this.name="",this.popplace="right",this.destroy$=new r.a,this.dontHide=!1,this.hiding=!1}ngOnInit(){this.store.dispatch(new m.jk({isOpen:!0})),this.router.events.pipe(Object(o.a)(this.destroy$)).subscribe(e=>{e instanceof x.e&&this.cancel()})}showingPopup(e){if(this.showTemplate){this.hiding=!1;const e=this.hostElement.nativeElement.getBoundingClientRect();window.innerHeight-e.bottom<250?this.popplace="top":e.top<250&&(this.popplace="bottom"),"right"!==this.popplace&&(this.pop.placement=this.popplace,this.dontHide||(this.pop.hide(),this.hiding=!0),this.changeDetectorRef.markForCheck(),this.dontHide=!0,this.pop.show())}}hidingPopup(){this.dontHide=!1,this.popplace="right"}ngAfterViewInit(){this.input.nativeElement.focus()}onKeydown(e){switch(this.hideError(),e.keyCode){case k.a.ENTER:e.preventDefault(),e.stopPropagation(),this.save();break;case k.a.ESCAPE:this.cancel()}}save(e=!1){this.name=this.name.trim(),this.name.length?this.onAction.emit({action:"addSection",name:this.name}):e&&this.cancel()}cancel(){this.showTemplate=!1,this.onAction.emit({action:"cancel"})}showError(e,t=!1){this.showTemplate=t,this.onChangeError.emit(e),this.errorText=e,this.changeDetectorRef.markForCheck()}hideError(){this.showTemplate=!1,this.onChangeError.emit(null),this.errorText=null,this.changeDetectorRef.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.hideError(),this.store.dispatch(new m.jk({isOpen:!1}))}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(s.H),s.Wb(s.h),s.Wb(x.h),s.Wb(s.m),s.Wb(h.Store),s.Wb(T.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["cu-nav-section-maker"]],viewQuery:function(e,t){if(1&e&&(s.jd(I,3),s.jd(D,1)),2&e){let e;s.Qc(e=s.rc())&&(t.input=e.first),s.Qc(e=s.rc())&&(t.pop=e.first)}},inputs:{errorText:"errorText",showTemplate:"showTemplate"},outputs:{onAction:"onAction",onChangeError:"onChangeError"},decls:9,vars:9,consts:function(){let e,t,i;return e=$localize`:@@common_enter-list-name-1␟3b94d60d9d8c8994618f61841b941e8cc4201be4␟6647497505370990842:Enter List na﻿me`,t=$localize`:@@common_whoops␟75c69a09c8013a15c42851be34d406d34c2c420d␟7995615390067107909:Whoops!`,i=$localize`:@@paywall_email-subject--increased-lists-per-spaces␟a4bc6705bc2fd756a0c0dfe250b49121beaa6b7d␟2445000347678166812:Please upgrade ClickUp so we can have 400 lists per Space`,[[1,"nav-section-maker",3,"ngClass"],["type","text","placeholder",e,1,"nav-section-maker__input",3,"ngModel","ngModelChange","blur","keydown"],["input",""],["container","body","triggers","",1,"lv-category-edit__popover",3,"containerClass","popover","placement","outsideClick","isOpen","onShown","onHidden"],["pop","bs-popover"],["error",""],["paywallLimitedLists",""],[1,"cu-error-popover"],t,["emailSubject",i,3,"badge","title","text","image","upgradeButtonText","learnMore","amplitudeLabel"]]},template:function(e,t){if(1&e&&(s.cc(0,"div",0),s.cc(1,"input",1,2),s.qc("ngModelChange",function(e){return t.name=e})("blur",function(){return t.save(!0)})("keydown",function(e){return t.onKeydown(e)}),s.bc(),s.cc(3,"div",3,4),s.qc("onShown",function(e){return t.showingPopup(e)})("onHidden",function(){return t.hidingPopup()}),s.bc(),s.bc(),s.bd(5,C,4,1,"ng-template",null,5,s.cd),s.bd(7,P,1,7,"ng-template",null,6,s.cd)),2&e){const e=s.Rc(6),i=s.Rc(8);s.Dc("ngClass",s.Hc(7,$,t.errorText)),s.Ib(1),s.Dc("ngModel",t.name),s.Ib(2),s.Dc("containerClass",t.showTemplate?"popover_white popover_no-max-width popover_no-padding":null)("popover",t.showTemplate?i:e)("placement",t.popplace)("outsideClick",!0)("isOpen",!t.hiding&&!!t.errorText)}},directives:[v.o,S.c,S.p,S.s,j.c,O.a],encapsulation:2,changeDetection:0}),e})();function M(e,t){if(1&e){const e=s.dc();s.ac(0),s.cc(1,"cu-nav-section",3,4),s.qc("cdkDragStarted",function(t){return s.Uc(e),s.uc().dragStarted(t)})("cdkDragEnded",function(t){return s.Uc(e),s.uc().dragEnded(t)})("onCreate",function(){s.Uc(e);const i=t.index;return s.uc().createSection(i)})("onDropView",function(i){s.Uc(e);const a=t.$implicit;return s.uc().dropViewToSubcategory(i,a)})("renaming",function(t){return s.Uc(e),s.uc().onEdit.emit(t)})("dropdownOpen",function(){return s.Uc(e),s.uc().dropdownOpen.emit()})("dropdownClose",function(){return s.Uc(e),s.uc().dropdownClose.emit()}),s.vc(3,"async"),s.bc(),s.Zb()}if(2&e){const e=t.$implicit,i=t.index,a=s.Rc(2),o=s.uc();s.Ib(1),s.ad("order",null!=o.createListState&&o.createListState.creating?i:null),s.Dc("section",e)("projectId",o.projectId)("onlyDeleteIfOwner",o.onlyDeleteIfOwner)("canDelete",o.canDelete)("meUser",o.meUser)("categoryId",null==e||null==e.hiddenCategory?null:e.hiddenCategory.id)("folderless",!0)("alwaysVisible",!0)("layoutType",o.layoutType)("isActive",o.selectedSubcategory===(null==e?null:e.id))("isDragging",o.isDragging||o.isDraggingList)("cdkDragStartDelay",s.wc(3,23,o.isTouchDevice$)?500:0)("cdkDragDisabled",null==a||null==a.state?null:a.state.editing)("cuDragScrollContainer",o.scrollContainer)("cuDragScrollConnectedTo",o.dragIds)("cdkDragData",e),s.Jb("data-category",null==e||null==e.hiddenCategory?null:e.hiddenCategory.id)("data-source","list")("data-id",e.id)("data-project",e.project_id)("data-folderless",o.FOLDERLESS_ID)}}function E(e,t){if(1&e){const e=s.dc();s.cc(0,"div",5),s.cc(1,"cu-nav-section-maker",6),s.qc("onAction",function(t){return s.Uc(e),s.uc().createListAction(t)})("onChangeError",function(t){return s.Uc(e),s.uc().onChangeCreateListError.emit(t)}),s.bc(),s.bc()}if(2&e){const e=s.uc();s.ad("order",-1===(null==e.createListState?null:e.createListState.index)?null==e.folderless||null==e.folderless.subcategories?null:e.folderless.subcategories.length:null==e.createListState?null:e.createListState.index),s.Ib(1),s.Dc("errorText",null==e.createListState?null:e.createListState.error)("showTemplate",null==e.createListState?null:e.createListState.overlimit)}}let L=(()=>{class e{constructor(e,t,i,a){this.store=e,this.modalService=t,this.injector=i,this.commonStringsService=a,this.destroy$=new r.a,this.FOLDERLESS_ID=n.d,this.canDelete=!0,this.isDragging=!1,this.isDraggingList=!1,this.dragDisabled=!1,this.onEdit=new s.o,this.onDraggingList=new s.o,this.onCreateListStateChange=new s.o,this.onCreateList=new s.o,this.onChangeCreateListError=new s.o,this.onDropView=new s.o,this.dropdownOpen=new s.o,this.dropdownClose=new s.o,this.trackById=Object(l.d)("id"),this.isTouchDevice$=p.a}ngOnInit(){}ngOnChanges(e){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}createSection(e=-1){const t=Object(n.X)("List",(this.folderless.subcategories||[]).map(e=>e.name));this.onCreateList.emit(t)}createListAction(e){switch(e.action){case"addSection":e.name?this.onCreateList.emit(e.name):this.cancelCreating();break;case"cancel":this.cancelCreating()}}cancelCreating(){this.onCreateListStateChange.emit({index:-1,creating:!1,error:null,saving:!1})}dragStarted(e){this.onDraggingList.emit(!0)}dragEnded(e){this.onDraggingList.emit(!1)}dropSubcat(e){if((e.currentIndex!==e.previousIndex||e.container!==e.previousContainer)&&(this.layoutType!==u.b.Five||e.isPointerOverContainer))if(e.item.data.sprint){const t=this.modalService.openComponent(c.a,this.injector,{title:this.commonStringsService.moveSprintText});t.instance.onConvert.pipe(Object(o.a)(t.instance.destroy$)).subscribe(()=>{this.store.dispatch(new m.lc({subcategory:e.item.data,fromIndex:e.previousIndex,toIndex:e.currentIndex,fromCategory:e.previousContainer.data,toCategory:e.container.data}))}),t.instance.onCopy.pipe(Object(o.a)(t.instance.destroy$)).subscribe(()=>{const t=this.modalService.openComponent(a.a,this.injector,{title:this.commonStringsService.copyListText});t.instance.section=e.item.data,t.instance.type="list"})}else this.store.dispatch(new m.lc({subcategory:e.item.data,fromIndex:e.previousIndex,toIndex:e.currentIndex,fromCategory:e.previousContainer.data,toCategory:e.container.data}))}dropViewToSubcategory(e,t){this.onDropView.emit({id:e,parent:{type:d.e.Subcategory,id:t.id}})}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(h.Store),s.Wb(b.a),s.Wb(s.t),s.Wb(g.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["cu-folderless"]],hostAttrs:[1,"cu-folderless"],hostVars:2,hostBindings:function(e,t){2&e&&s.Ob("cu-folderless_dragging",t.isDraggingList)},inputs:{projectId:"projectId",folderless:"folderless",selectedSubcategory:"selectedSubcategory",createListState:"createListState",canDelete:"canDelete",onlyDeleteIfOwner:"onlyDeleteIfOwner",meUser:"meUser",isDragging:"isDragging",isDraggingList:"isDraggingList",dragIds:"dragIds",connectedDragIds:"connectedDragIds",dragDisabled:"dragDisabled",layoutType:"layoutType",scrollContainer:"scrollContainer"},outputs:{onEdit:"onEdit",onDraggingList:"onDraggingList",onCreateListStateChange:"onCreateListStateChange",onCreateList:"onCreateList",onChangeCreateListError:"onChangeCreateListError",onDropView:"onDropView",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},features:[s.Gb],decls:3,vars:11,consts:[["cdkDropList","","cdkDropListOrientation","vertical",1,"cu-folderless__body",3,"id","cdkDropListData","cdkDropListDisabled","cdkDropListConnectedTo","cdkDropListDropped"],[4,"rxFor","rxForOf","rxForStrategy","rxForTrackBy","rxForPatchZone"],["class","cu-folderless__new-list",3,"order",4,"ngIf"],["data-section-item","","cdkDrag","","cuDragScroll","",3,"section","projectId","onlyDeleteIfOwner","canDelete","meUser","categoryId","folderless","alwaysVisible","layoutType","isActive","isDragging","cdkDragStartDelay","cdkDragDisabled","cuDragScrollContainer","cuDragScrollConnectedTo","cdkDragData","cdkDragStarted","cdkDragEnded","onCreate","onDropView","renaming","dropdownOpen","dropdownClose"],["navSection",""],[1,"cu-folderless__new-list"],[3,"errorText","showTemplate","onAction","onChangeError"]],template:function(e,t){1&e&&(s.cc(0,"div",0),s.qc("cdkDropListDropped",function(e){return t.dropSubcat(e)}),s.bd(1,M,4,25,"ng-container",1),s.bd(2,E,2,4,"div",2),s.bc()),2&e&&(s.Ob("cu-folderless_dragging",t.isDraggingList),s.Dc("id",t.folderless.id)("cdkDropListData",t.folderless)("cdkDropListDisabled",t.dragDisabled)("cdkDropListConnectedTo",t.connectedDragIds),s.Ib(1),s.Dc("rxForOf",null==t.folderless?null:t.folderless.subcategories)("rxForStrategy","normal")("rxForTrackBy",t.trackById)("rxForPatchZone",!0),s.Ib(1),s.Dc("ngIf",null==t.createListState?null:t.createListState.creating))},directives:[f.d,_.a,v.q,y.a,f.a,w.a,z],pipes:[v.b],styles:[".cu-folderless{display:block}.cu-folderless__body{display:flex;flex-direction:column;min-height:50px}.cu2-sidebar__body_v5 .cu-folderless__body,.cu-simple-bar .cu-folderless__body{min-height:0}.cu2-sidebar__body_v5 .cu-folderless__body.cu-folderless_dragging,.cu-simple-bar .cu-folderless__body.cu-folderless_dragging{min-height:50px}.cu2-sidebar__body_v5 .cu-folderless__body .nav-section:before{width:calc(100% - 32px - 12px)!important;left:32px!important}.cu-folderless__body .nav-section__name,.layout-size_compact .cu-folderless__body .nav-section__name,.layout-size_default .cu-folderless__body .nav-section__name{padding-left:13px}.layout-size_large .cu-folderless__body .nav-section__name{padding-left:14px}.cu2-sidebar__body_v5 .cu-folderless__body .nav-section__name{margin-left:46px;padding-left:0}.layout-size_compact .cu2-sidebar__body_v5 .cu-folderless__body .nav-section__name,.layout-size_default .cu2-sidebar__body_v5 .cu-folderless__body .nav-section__name,.layout-size_large .cu2-sidebar__body_v5 .cu-folderless__body .nav-section__name{padding-left:0}.cu-simple-bar .cu-folderless__body .nav-section__name,.layout-size_compact .cu-simple-bar .cu-folderless__body .nav-section__name,.layout-size_default .cu-simple-bar .cu-folderless__body .nav-section__name,.layout-size_large .cu-simple-bar .cu-folderless__body .nav-section__name{padding-left:33px}.cu-folderless__body .nav-section__name-handle{width:14px}.cu2-sidebar__body_v5 .cu-folderless__body .nav-section__name-handle{left:-27px}.cu-folderless__body .nav-section-maker{margin:0 10px 0 14px}.cu-folderless.cdk-drag-placeholder,.cu-folderless.cdk-drag-preview{opacity:.7}.cdk-drop-list-dragging .cu-folderless.cdk-drag:not(.cdk-drag-placeholder){transition:transform .2s cubic-bezier(0,0,.2,1)}.cu-folderless.cdk-drag-animating{transition:transform .15s cubic-bezier(0,0,.2,1)}"],encapsulation:2,changeDetection:0}),e})()},X286:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var a=i("ofXK"),o=i("vV3l"),c=i("TT1W"),n=i("l7P3"),s=i("9jGm"),r=i("tyNb"),l=i("V6/z"),d=i("mcWp"),u=i("K0KF"),p=i("gb9A"),m=i("/qmH"),h=i("5+WD"),b=i("an+h"),g=i("kUag"),f=i("fXoL");let _=(()=>{class e{}return e.\u0275mod=f.Ub({type:e}),e.\u0275inj=f.Tb({factory:function(t){return new(t||e)},imports:[[a.c,n.StoreModule.forFeature("gridView",c.d),s.b.forFeature([o.a]),r.l,l.a,d.a,u.a,p.a,m.b,h.f,b.a,g.a]]}),e})()},XNeh:function(e,t,i){"use strict";i.d(t,"a",function(){return se});var a=i("fXoL"),o=i("c3rA"),c=i("lJxs"),n=i("IzEk"),s=i("1G5W"),r=i("itXk"),l=i("LEq2"),d=i("jJQC"),u=i("MguC"),p=i("dTHz"),m=i("uslN"),h=i("xDGP"),b=i("XIp8"),g=i("o7Ov"),f=i("l7P3"),_=i("jJW4"),v=i("tyNb"),y=i("Jf2N"),w=i("8it8"),k=i("DkPU"),x=i("ofXK"),T=i("LdyQ"),S=i("MJvn"),j=i("UdVN"),O=i("n+1/"),I=i("pxPQ"),D=i("NsZK"),C=i("bFKe");function P(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-dropdown-list-item",14),a.qc("onSelect",function(){a.Uc(e);const i=t.$implicit;return a.uc(4).updateViewPreferences.emit({colorTasksBy:{source:"customFieldDropdown",customFieldDropdownId:i.id}})}),a.bc()}2&e&&a.Dc("item",t.$implicit)}function $(e,t){if(1&e&&(a.cc(0,"div",6),a.cc(1,"div",12),a.bd(2,P,1,1,"cu-dropdown-list-item",13),a.bc(),a.bc()),2&e){const e=a.uc(3);a.Ib(2),a.Dc("ngForOf",e.colorByFields)("ngForTrackBy",e.trackById)}}const z=function(e,t){return{title:e,checkType:"check",checked:t}};function M(e,t){if(1&e){const e=a.dc();a.cc(0,"div",9,10),a.qc("click",function(t){return a.Uc(e),a.Rc(1).open(t)}),a.cc(2,"div",11),a.cc(3,"cu-dropdown-list-item",7),a.qc("click",function(){return a.Uc(e),a.uc(2).updateViewPreferences.emit({colorTasksBy:{source:"taskStatus"}})}),a.bc(),a.bc(),a.bd(4,$,3,2,"div",5),a.bc()}if(2&e){const e=a.uc(2);a.Dc("dropdownDisabled",0===(null==e.colorByFields?null:e.colorByFields.length))("cuTooltip",0===(null==e.colorByFields?null:e.colorByFields.length)?e.locationNoDropdownFieldsWithColorsText:""),a.Ib(3),a.Dc("item",a.Ic(3,z,e.colorTasksBySource.customFieldDropdown,"customFieldDropdown"===e.viewPreferences.colorTasksBy.source))}}function E(e,t){if(1&e){const e=a.dc();a.cc(0,"div",6),a.cc(1,"cu-dropdown-list-item",7),a.qc("click",function(){return a.Uc(e),a.uc().updateViewPreferences.emit({colorTasksBy:{source:"subcategoryStatus"}})}),a.bc(),a.cc(2,"cu-dropdown-list-item",7),a.qc("click",function(){return a.Uc(e),a.uc().updateViewPreferences.emit({colorTasksBy:{source:"taskStatus"}})}),a.bc(),a.bd(3,M,5,6,"div",8),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Dc("item",a.Ic(3,z,e.colorTasksBySource.subcategoryStatus,"subcategoryStatus"===e.viewPreferences.colorTasksBy.source)),a.Ib(1),a.Dc("item",a.Ic(6,z,e.colorTasksBySource.taskStatus,"taskStatus"===e.viewPreferences.colorTasksBy.source)),a.Ib(1),a.Dc("ngIf",e.colorByFields)}}const L=function(){return["bottom-right","top-right","auto"]};let A=(()=>{class e{constructor(){this.updateViewPreferences=new a.o,this.colorTasksBySource={subcategoryStatus:$localize`:@@common_list:List`,taskStatus:$localize`:@@common_status:Status`,customFieldDropdown:$localize`:@@common_custom-field-1:Custom Field`},this.trackById=Object(d.d)("id"),this.locationNoDropdownFieldsWithColorsText=$localize`:@@common_location-no-dropdown-fields-with-colors:The location you're viewing doesn't have any dropdown fields with colors`}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-calendar-color-menu"]],hostAttrs:[1,"cu-calendar-color-menu"],inputs:{viewPreferences:"viewPreferences",colorByFields:"colorByFields"},outputs:{updateViewPreferences:"updateViewPreferences"},decls:7,vars:4,consts:function(){let e;return e=$localize`:@@common_color-tasks-by␟3e1e26a34deec85c6c93f4898cc43c645ba69be3␟2981356646975566650: Color tasks by
`,[[1,"cu-calendar-color-menu__title"],e,["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownPlacement"],["cuDropdownToggle","",1,"cu-calendar-color-menu__toggle"],["icon","angle-right-no-padding",1,"cu-calendar-color-menu__toggle-arrow"],["class","cu-dropdown-list__menu",4,"cuDropdownMenu"],[1,"cu-dropdown-list__menu"],[3,"item","click"],["cuDropdown","","tooltipModifier","tooltip_left-nowrap",3,"dropdownDisabled","cuTooltip","click",4,"ngIf"],["cuDropdown","","tooltipModifier","tooltip_left-nowrap",3,"dropdownDisabled","cuTooltip","click"],["dropdown","dropdown"],["cuDropdownToggle",""],[1,"cu-dropdown-list__body",3,"perfectScrollbar"],[3,"item","onSelect",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item","onSelect"]]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.gc(1,1),a.bc(),a.cc(2,"div",2),a.cc(3,"div",3),a.dd(4),a.Xb(5,"div",4),a.bc(),a.bd(6,E,4,9,"div",5),a.bc()),2&e&&(a.Ib(2),a.Dc("dropdownCloseOnInsideClick",!1)("dropdownPlacement",a.Gc(3,L)),a.Ib(2),a.fd(" ",t.colorTasksBySource[t.viewPreferences.colorTasksBy.source]," "))},directives:[T.b,S.a,j.a,O.a,I.a,x.q,D.a,C.a,x.p],styles:[".cu-calendar-color-menu{display:flex;align-items:center;justify-content:space-between;width:100%}.cu-calendar-color-menu__title{font:400 13px Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-calendar-color-menu__title{color:#d5d6d7}.cu-calendar-color-menu__toggle{display:flex;align-items:center;font:400 13px Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-calendar-color-menu__toggle{color:#d5d6d7}.cu-calendar-color-menu .cu-dropdown_open .cu-calendar-color-menu__toggle,.cu-calendar-color-menu__toggle:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-calendar-color-menu .cu-dropdown_open .cu-calendar-color-menu__toggle,.cu-calendar-color-menu__toggle:hover{color:var(--theme-main-color)}}.cu-calendar-color-menu .cu-dropdown_open .cu-calendar-color-menu__toggle .cu-calendar-color-menu__toggle-arrow,.cu-calendar-color-menu__toggle:hover .cu-calendar-color-menu__toggle-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-calendar-color-menu .cu-dropdown_open .cu-calendar-color-menu__toggle .cu-calendar-color-menu__toggle-arrow,.cu-calendar-color-menu__toggle:hover .cu-calendar-color-menu__toggle-arrow{fill:var(--theme-main-color)}}.cu-calendar-color-menu__toggle-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;transform:rotate(90deg);width:8px;height:8px;margin-left:5px;fill:#292d34}.dark-theme .cu-calendar-color-menu__toggle-arrow{fill:#d5d6d7}.cu-calendar-color-menu .cu-dropdown_open .cu-calendar-color-menu__toggle-arrow{fill:#7b68ee;transform:rotate(270deg)}@supports (--theme-main-color:#7b68ee){.cu-calendar-color-menu .cu-dropdown_open .cu-calendar-color-menu__toggle-arrow{fill:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),e})();var F=i("OBnU"),U=i("EDFS"),N=i("loh9"),R=i("8r6i");const G=["paywallPopover"];function q(e,t){}function B(e,t){if(1&e&&(a.cc(0,"div",14),a.bd(1,q,0,0,"ng-template",15),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngTemplateOutlet",e.titleTemplate)}}function W(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-toggle-switch",16),a.qc("onChange",function(){a.Uc(e);const t=a.uc();return t.toggleShowSubtasks(t.DataViewSubtasks.None)}),a.bc()}2&e&&a.Dc("checked",!0)}function V(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-toggle-switch",16),a.qc("onChange",function(){a.Uc(e);const t=a.uc();return t.toggleShowSubtasks(t.DataViewSubtasks.StandAlone)}),a.bc()}2&e&&a.Dc("checked",!1)}function X(e,t){if(1&e){const e=a.dc();a.cc(0,"div",5),a.ac(1),a.gc(2,17),a.Zb(),a.cc(3,"div",7),a.cc(4,"cu-toggle-switch",18),a.qc("onChange",function(t){return a.Uc(e),a.uc().updateViewPreferences.emit({showMeViewScheduledTasks:t})}),a.bc(),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(4),a.Dc("updateImmediately",!0)("checked",e.viewPreferences.showMeViewScheduledTasks)}}function H(e,t){if(1&e){const e=a.dc();a.cc(0,"div",5),a.ac(1),a.gc(2,33),a.Zb(),a.cc(3,"div",7),a.cc(4,"cu-toggle-switch",16),a.qc("onChange",function(t){return a.Uc(e),a.uc(3).updateViewPreferences.emit({showRecurringTasks:t})}),a.bc(),a.bc(),a.bc()}if(2&e){const e=a.uc(3);a.Ib(4),a.Dc("checked",e.viewPreferences.showRecurringTasks)}}function Y(e,t){if(1&e){const e=a.dc();a.cc(0,"div",34,35),a.qc("click",function(){return a.Uc(e),a.uc(3).recurringPaywallClicked()}),a.ac(2),a.gc(3,36),a.Zb(),a.cc(4,"div",7),a.cc(5,"div",37),a.cc(6,"label",38),a.Xb(7,"div",39),a.bc(),a.bc(),a.bc(),a.bc()}if(2&e){a.uc(3);const e=a.Rc(17);a.Dc("popover",e)}}function Z(e,t){if(1&e){const e=a.dc();a.ac(0),a.cc(1,"div",24),a.gc(2,25),a.bc(),a.cc(3,"div",5),a.ac(4),a.gc(5,26),a.Zb(),a.cc(6,"div",7),a.cc(7,"cu-toggle-switch",16),a.qc("onChange",function(t){return a.Uc(e),a.uc(2).updateViewPreferences.emit({showWeekends:t})}),a.bc(),a.bc(),a.bc(),a.cc(8,"div",5),a.ac(9),a.gc(10,27),a.Zb(),a.cc(11,"div",7),a.cc(12,"cu-toggle-switch",16),a.qc("onChange",function(t){return a.Uc(e),a.uc(2).updateViewPreferences.emit({showTimeEvents:t})}),a.bc(),a.bc(),a.bc(),a.cc(13,"div",5),a.ac(14),a.gc(15,28),a.Zb(),a.cc(16,"div",7),a.cc(17,"cu-toggle-switch",16),a.qc("onChange",function(t){return a.Uc(e),a.uc(2).updateViewPreferences.emit({fadePastEvents:t})}),a.bc(),a.bc(),a.bc(),a.cc(18,"div",5),a.ac(19),a.gc(20,29),a.Zb(),a.cc(21,"div",7),a.cc(22,"cu-toggle-switch",16),a.qc("onChange",function(t){return a.Uc(e),a.uc(2).updateViewPreferences.emit({showWeekNumbers:t})}),a.bc(),a.bc(),a.bc(),a.cc(23,"div",30),a.ac(24),a.gc(25,31),a.Zb(),a.cc(26,"div",7),a.cc(27,"cu-toggle-switch",16),a.qc("onChange",function(t){return a.Uc(e),a.uc(2).toggleViewDate(t)}),a.bc(),a.bc(),a.bc(),a.bd(28,H,5,1,"div",9),a.vc(29,"async"),a.bd(30,Y,8,1,"div",32),a.vc(31,"async"),a.Zb()}if(2&e){const e=a.uc(2);let t=null,i=null;a.Ib(7),a.Dc("checked",e.viewPreferences.showWeekends),a.Ib(5),a.Dc("checked",e.viewPreferences.showTimeEvents),a.Ib(5),a.Dc("checked",e.viewPreferences.fadePastEvents),a.Ib(5),a.Dc("checked",e.viewPreferences.showWeekNumbers),a.Ib(5),a.Dc("checked",!!e.viewPreferences.viewDate),a.Ib(1),a.Dc("ngIf",(null==(t=a.wc(29,7,e.team$))?null:t.plan_id)!==e.TeamPlan.FREE),a.Ib(2),a.Dc("ngIf",(null==(i=a.wc(31,9,e.team$))?null:i.plan_id)===e.TeamPlan.FREE)}}const Q=function(){return{"margin-right":"5px"}};function K(e,t){if(1&e){const e=a.dc();a.cc(0,"div",47),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(3).toggleEventItemVisible(i.key)}),a.cc(1,"div",48),a.cc(2,"div",49),a.dd(3),a.bc(),a.bc(),a.cc(4,"div",50),a.Xb(5,"cu-toggle-switch",51),a.bc(),a.bc()}if(2&e){const e=t.$implicit,i=a.uc(3);a.Ib(2),a.Dc("cuTooltip",e.label)("tooltipDisabledIfTextNotTruncated",!0),a.Ib(1),a.fd(" ",e.label," "),a.Ib(1),a.Dc("ngStyle",a.Gc(5,Q)),a.Ib(1),a.Dc("checked",i.viewPreferences.showEventItems[e.key])}}function J(e,t){if(1&e){const e=a.dc();a.cc(0,"div",52),a.qc("click",function(t){return a.Uc(e),a.uc(3).customFieldsMenuVisible=!0,t.stopPropagation()}),a.cc(1,"div",48),a.ac(2),a.gc(3,53),a.Zb(),a.dd(4),a.bc(),a.bc()}if(2&e){const e=a.uc(3);a.Ib(4),a.fd(" (",null==e.customFields?null:e.customFields.length,") ")}}const ee=function(e){return["/",e,"settings","calendar"]};function te(e,t){if(1&e){const e=a.dc();a.ac(0),a.cc(1,"div",10),a.gc(2,40),a.bc(),a.cc(3,"div",41),a.bd(4,K,6,6,"div",42),a.vc(5,"async"),a.bd(6,J,5,1,"div",43),a.vc(7,"async"),a.bc(),a.cc(8,"a",44),a.qc("click",function(){return a.Uc(e),a.uc(2).rememberUrl()}),a.vc(9,"async"),a.vc(10,"async"),a.Xb(11,"span",45),a.ac(12),a.gc(13,46),a.Zb(),a.bc(),a.Zb()}if(2&e){const e=a.uc(2);let t=null,i=null;a.Ib(4),a.Dc("ngForOf",a.wc(5,5,e.eventItems$))("ngForTrackBy",e.trackByKey),a.Ib(2),a.Dc("ngIf",null==(t=a.wc(7,7,e.projectFeatures$))||null==t.custom_fields?null:t.custom_fields.enabled),a.Ib(2),a.Dc("routerLink",a.Hc(13,ee,null==(i=a.wc(9,9,e.team$))?null:i.id))("queryParams",a.wc(10,11,e.calendarSyncLinkQueryParams$))}}function ie(e,t){if(1&e){const e=a.dc();a.ac(0),a.cc(1,"div",19),a.cc(2,"div",20),a.cc(3,"div",21),a.qc("click",function(){return a.Uc(e),a.uc().toggleUserTimeFormat()}),a.gc(4,22),a.vc(5,"async"),a.bc(),a.cc(6,"div",21),a.qc("click",function(){return a.Uc(e),a.uc().toggleUserTimeFormat()}),a.gc(7,23),a.vc(8,"async"),a.bc(),a.bc(),a.bc(),a.bd(9,Z,32,11,"ng-container",12),a.bd(10,te,14,15,"ng-container",12),a.Zb()}if(2&e){const e=a.uc();let t=null,i=null;a.Ib(1),a.Ob("filter-list__item-tabs_no-border-bottom",!e.showViewSettings),a.Ib(2),a.Ob("filter-list__item-tabs-item_active",!(null!=(t=a.wc(5,8,e.currentUser$))&&t.twenty_four_hr_setting)),a.Ib(3),a.Ob("filter-list__item-tabs-item_active",null==(i=a.wc(8,10,e.currentUser$))?null:i.twenty_four_hr_setting),a.Ib(3),a.Dc("ngIf",e.showViewSettings),a.Ib(1),a.Dc("ngIf",e.showTaskCardSettings)}}function ae(e,t){1&e&&a.Xb(0,"div",59),2&e&&a.Dc("icon","dropdown-settings_mark")}function oe(e,t){if(1&e){const e=a.dc();a.cc(0,"div",47),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(2).toggleEventItemVisible("customFields",i)}),a.cc(1,"div",48),a.Xb(2,"div",57),a.cc(3,"div",49),a.dd(4),a.bc(),a.bc(),a.bd(5,ae,1,1,"div",58),a.bc()}if(2&e){const e=t.$implicit,i=a.uc(2);a.Ib(2),a.Dc("icon","field-"+e.type),a.Ib(1),a.Dc("cuTooltip",e.name)("tooltipDisabledIfTextNotTruncated",!0),a.Ib(1),a.fd(" ",e.name," "),a.Ib(1),a.Dc("ngIf",i.viewPreferences.showEventItems.customFields[e.id])}}function ce(e,t){if(1&e){const e=a.dc();a.cc(0,"div"),a.cc(1,"div",54),a.qc("click",function(t){return a.Uc(e),a.uc().customFieldsMenuVisible=!1,t.stopPropagation()}),a.Xb(2,"div",55),a.ac(3),a.gc(4,56),a.Zb(),a.bc(),a.cc(5,"div",41),a.bd(6,oe,6,5,"div",42),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(6),a.Dc("ngForOf",e.customFields)("ngForTrackBy",e.trackById)}}function ne(e,t){if(1&e&&a.Xb(0,"cu-paywall-popover",60),2&e){const e=a.uc();a.Dc("title",e.showFutureRecurringTasksPaywallTitleText)("upgradeButtonText",e.paywallCommonStringsService.upgradeToUnlimitedText)("amplitudeLabel","Future Recurring Tasks")}}let se=(()=>{class e{constructor(e,t,i,n,s,l,h){this.store=e,this.sharedData=t,this.router=i,this.modal=n,this.injector=s,this.commonStringsService=l,this.paywallCommonStringsService=h,this.updateViewPreferences=new a.o,this.timeFormatChanged=new a.o,this.currentUser$=this.store.select(o.getUser),this.projectFeatures$=this.store.select(o.getProjectFeatures),this.team$=this.store.select(o.getTeam),this.calendarSyncLinkQueryParams$=Object(r.a)([this.store.select(o.getProject),this.store.select(o.getCategory),this.store.select(o.getSubcategory)]).pipe(Object(c.a)(([e,t,i])=>{const a={};return e&&(a.p=e.id),t&&(a.c=t.id),i&&(a.s=i.id),a})),this.eventItems$=Object(r.a)([this.store.select(o.getProject),this.store.select(o.getCategory)]).pipe(Object(c.a)(([e,t])=>{const i=e?t?$localize`:@@cu-calendar-settings-menu__location-list-name:Location (List name)`:$localize`:@@cu-calendar-settings-menu__location-list-folder-name:Location (Folder & List name)`:$localize`:@@common_all-locations:Location (Space, Folder & List name)`;return[{key:"assignee",label:$localize`:@@common_assignee:Assignee`},{key:"priority",label:this.commonStringsService.priorityText},{key:"timeEstimate",label:$localize`:@@common_time-estimate:Time Estimate`},{key:"pointsEstimate",label:$localize`:@@common_sprint-points:Sprint Points`},{key:"timeTracked",label:$localize`:@@common_time-tracked:Time Tracked`},{key:"location",label:i},{key:"subtasks",label:$localize`:@@common_subtasks:Subtasks`},{key:"parentName",label:$localize`:@@common_parent-name:Parent name`},{key:"tags",label:$localize`:@@common_tags:Tags`}]})),this.UserRole=p.f,this.TeamPlan=m.f,this.DataViewSubtasks=u.h,this.customFieldsMenuVisible=!1,this.trackByKey=Object(d.d)("key"),this.trackById=Object(d.d)("id"),this.onChangeShowSubtasks=new a.o,this.showFutureRecurringTasksPaywallTitleText=$localize`:@@paywall_title--show-future-recurring-tasks:Show future recurring tasks`}toggleShowSubtasks(e){this.onChangeShowSubtasks.emit(e)}toggleUserTimeFormat(){this.store.select(o.getUser).pipe(Object(n.a)(1)).subscribe(e=>{const t=!e.twenty_four_hr_setting;this.sharedData.currentUser.value.twenty_four_hr_setting=t,this.store.dispatch(new g.om({twenty_four_hr_setting:t})),this.timeFormatChanged.emit()})}toggleEventItemVisible(e,t){const i=Object(b.a)(this.viewPreferences);t?i.showEventItems.customFields[t.id]=!i.showEventItems.customFields[t.id]:i.showEventItems[e]=!i.showEventItems[e],this.updateViewPreferences.emit(i)}rememberUrl(){this.store.dispatch(new g.Ri(this.router.url))}toggleViewDate(e){this.store.select(l.Z).pipe(Object(n.a)(1)).subscribe(t=>{this.updateViewPreferences.emit(e?{viewDate:t.toISOString()}:{viewDate:null})})}recurringPaywallClicked(){this.team$.pipe(Object(n.a)(1)).subscribe(e=>{if(e.trial_count>=1)this.paywallPopover.show();else{const e=this.modal.openComponent(h.a,this.injector,{modifier:"cu-modal_fullwidth"});e.instance.featureTitle=$localize`:@@cu-calendar-settings-menu__title_future-recurring-tasks:Future recurring tasks`,e.instance.description=$localize`:@@cu-calendar-settings-menu__description_free-trial:Start your free trial of Unlimited so you can see all future recurring tasks in your calendar. Plus you'll get:`,e.instance.features=[{icon:"cu2-server",name:$localize`:@@common_unlimited-storage:Unlimited Storage`},{icon:"cu2-box",name:$localize`:@@common_box-view:Box view`},{icon:"cu2-infinity",name:$localize`:@@common_unlimited-cf-goals-and-portfolios:Unlimited custom fields, Goals & Portfolios`}],e.instance.image="./assets/images/paywall/calendar-view-flat.png",e.instance.trialClick.pipe(Object(n.a)(1),Object(s.a)(this.modal.closeModal)).subscribe(()=>{this.modal.close(),this.store.dispatch(new g.Rk)})}})}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(f.Store),a.Wb(_.a),a.Wb(v.h),a.Wb(y.a),a.Wb(a.t),a.Wb(w.a),a.Wb(k.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-calendar-settings-menu"]],viewQuery:function(e,t){if(1&e&&a.jd(G,1),2&e){let e;a.Qc(e=a.rc())&&(t.paywallPopover=e.first)}},hostAttrs:[1,"cu-calendar-settings-menu"],inputs:{customFields:"customFields",titleTemplate:"titleTemplate",viewPreferences:"viewPreferences",showViewSettings:"showViewSettings",showTaskCardSettings:"showTaskCardSettings",colorByFields:"colorByFields",subtasksType:"subtasksType"},outputs:{updateViewPreferences:"updateViewPreferences",timeFormatChanged:"timeFormatChanged",onChangeShowSubtasks:"onChangeShowSubtasks"},decls:18,vars:8,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w;return e=$localize`:@@cu-calendar-settings-menu__tasks-visibility␟40edb596dca39276eee1d0c760ced499ddd14ff0␟8353135901510739795: Tasks visibility
`,t=$localize`:@@common_show-subtasks␟fe6e7fe46d89cb843da35c4ada97d35fb828321e␟668270195383843552:Show subtasks`,i=$localize`:@@common_time-format␟4e20e5278d8f1d20407f479e15bbf28095ee93e5␟2694503174953626812: Time Format
`,a=$localize`:@@cu-calendar-settings-menu__show-tasks-from-all-lists␟d0e14b078de8904abff90897552b57a827e6ebcb␟5508381006664940132:Show my tasks from all Lists`,o=$localize`:@@common_dt-format--ante-post-meridiem␟4ebd43477358419076f6a10e586a7483879bd3da␟1605881164232602614: am/pm `,c=$localize`:@@common_dt-format--24-hours␟95c201ba986276fafb85c1a708e7118b293ced02␟3504462148672944223: 24 hour `,n=$localize`:@@cu-calendar-settings-menu__view-settings␟d1d40f7e73e4f758e2deb88fb82e7e9ba9f55f90␟7147545675995687576: Calendar view settings `,s=$localize`:@@common_show-weekends␟fe45bff29aea9418a8e2657c52770c3366bfc9f7␟4199575017161061325:Show weekends`,r=$localize`:@@cu-calendar-settings-menu__form-label_show-hour-grid-lines␟25b98c11e5107ff4c1356fd32a642a06249abea6␟8440220148888371455:Show hour grid lines`,l=$localize`:@@common_fade-out-past-tasks␟dccb7873b805386fbb6247e6dce220fd033e3ec8␟3937772717201086164:Fade out tasks in the past`,d=$localize`:@@common_show-week-numbers␟0bc593e031bf6d555abc66a6e64ecd4b87b2756e␟3136854792836252420:Show week numbers`,u=$localize`:@@help_tooltip-msg--always-stay-on-date-helper␟919cf00eb65ec95a98d67376d3381991073a3b17␟5788236842225130066:With this turned on, the date you scroll to will always be preserved in a saved view, instead of automatically scrolling to today's date.`,p=$localize`:@@common_always-stay-on-date␟4eb32cc912636aded634fd3008125d9d65681e1c␟8949344960954000244:Always stay on this date`,m=$localize`:@@cu-calendar-settings-menu__form-label_show-recurring-tasks␟6011e8126ad490f46634c926818d792a722cc7b5␟7410718835342544276:Show recurring tasks`,h=$localize`:@@common_show-recurring-tasks␟6011e8126ad490f46634c926818d792a722cc7b5␟7410718835342544276:Show recurring tasks`,b=$localize`:@@cu-calendar-settings-menu__task-card-settings␟703ab667563e84e51eac2b6f0c0b0dfabf2b8a99␟3011374647206124272: Task card settings `,g=$localize`:@@cu-calendar-settings-menu__sync-with-calendar␟a51d92e9d9cf1fe7c8f4f611b04e89dd157eeecf␟4370214644926156692:Sync with calendar`,f=$localize`:@@common_custom-fields␟74418be6e4bf82e629d4db6f5d9e3c4fddd5a313␟3188389494264426470:Custom Fields`,_=$localize`:@@common_custom-fields␟74418be6e4bf82e629d4db6f5d9e3c4fddd5a313␟3188389494264426470:Custom Fields`,v=$localize`:@@common_plans--unlimited␟aa6fb95c355f172bda303de1ce2f38c251a149cf␟240806681889331244:Unlimited`,y=$localize`:@@paywall_text--unlimited-features␟4238510b16622f7f510cea87abc8763ef6692081␟920804857663251175:Upgrade to get this and many more Unlimited features.`,w=$localize`:@@paywall_email-subject--show-future-recurring-tasks␟f3a0baaec25e278e93a04f715c69f99a6bbfca65␟4283996940988206257:Please upgrade ClickUp so we can view recurring tasks on the calendar`,[["class","filter-list__default-settings",4,"ngIf"],[1,"columns-list__header","columns-list__header_no-border","columns-list__header_no-border"],e,[1,"filter-list__item","filter-list__item_no-hover"],[3,"viewPreferences","colorByFields","updateViewPreferences"],[1,"filter-list__item","filter-list__item_no-hover","filter-list__item_switch"],t,[1,"switch"],["data-cns-disable","","class","cu-dt-filter__subtask",3,"checked","onChange",4,"ngIf"],["class","filter-list__item filter-list__item_no-hover filter-list__item_switch",4,"ngIf"],[1,"columns-list__header","columns-list__header_no-border","filter-list__item_top-border"],i,[4,"ngIf"],["paywallTemplate",""],[1,"filter-list__default-settings"],[3,"ngTemplateOutlet"],["data-cns-disable","",1,"cu-dt-filter__subtask",3,"checked","onChange"],a,["data-cns-disable","",1,"cu-dt-filter__subtask",3,"updateImmediately","checked","onChange"],[1,"filter-list__item-tabs"],[1,"filter-list__item-tabs-container"],[1,"filter-list__item-tabs-item",3,"click"],o,c,[1,"columns-list__header","columns-list__header_no-border"],n,s,r,l,d,["cuTooltip",u,1,"filter-list__item","filter-list__item_no-hover","filter-list__item_switch"],p,["class","filter-list__item filter-list__item_no-hover filter-list__item_switch","containerClass","popover_white popover_no-max-width popover_no-padding","placement","bottom","outsideClick","true","container","body","triggers","",3,"popover","click",4,"ngIf"],m,["containerClass","popover_white popover_no-max-width popover_no-padding","placement","bottom","outsideClick","true","container","body","triggers","",1,"filter-list__item","filter-list__item_no-hover","filter-list__item_switch",3,"popover","click"],["paywallPopover","bs-popover"],h,[1,"cu-dt-filter__subtask"],[1,"cu-toggle-switch"],[1,"cu-toggle-switch__slider","cu-toggle-switch__round"],b,[1,"columns-list__body",3,"perfectScrollbar"],["class","columns-list__item",3,"cuPreventDefault","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","columns-list__item",3,"click",4,"ngIf"],[1,"filter-list__item","filter-list__item_top-border",3,"routerLink","queryParams","click"],["icon","calend",1,"filter-list__icon","filter-list__icon_calend"],g,[1,"columns-list__item",3,"cuPreventDefault","click"],[1,"columns-list__item-name"],[1,"columns-list__item-name-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],[1,"switch",3,"ngStyle"],["data-cns-disable","",1,"cu-dt-filter__subtask",3,"checked"],[1,"columns-list__item",3,"click"],f,[1,"columns-list__header","columns-list__header_clickable",3,"click"],["icon","arrow-back",1,"columns-list__header-back"],_,[1,"cu-custom-fields__list-item-icon",3,"icon"],["class","columns-list__item-check",3,"icon",4,"ngIf"],[1,"columns-list__item-check",3,"icon"],["badge",v,"text",y,"emailSubject",w,3,"title","upgradeButtonText","amplitudeLabel"]]},template:function(e,t){1&e&&(a.bd(0,B,2,1,"div",0),a.cc(1,"div",1),a.gc(2,2),a.bc(),a.cc(3,"div",3),a.cc(4,"cu-calendar-color-menu",4),a.qc("updateViewPreferences",function(e){return t.updateViewPreferences.emit(e)}),a.bc(),a.bc(),a.cc(5,"div",5),a.ac(6),a.gc(7,6),a.Zb(),a.cc(8,"div",7),a.bd(9,W,1,1,"cu-toggle-switch",8),a.bd(10,V,1,1,"cu-toggle-switch",8),a.bc(),a.bc(),a.bd(11,X,5,2,"div",9),a.cc(12,"div",10),a.gc(13,11),a.bc(),a.bd(14,ie,11,12,"ng-container",12),a.bd(15,ce,7,2,"div",12),a.bd(16,ne,1,3,"ng-template",null,13,a.cd)),2&e&&(a.Dc("ngIf",t.titleTemplate),a.Ib(4),a.Dc("viewPreferences",t.viewPreferences)("colorByFields",t.colorByFields),a.Ib(5),a.Dc("ngIf",t.subtasksType===t.DataViewSubtasks.StandAlone),a.Ib(1),a.Dc("ngIf",t.subtasksType===t.DataViewSubtasks.None),a.Ib(1),a.Dc("ngIf",t.showViewSettings),a.Ib(3),a.Dc("ngIf",!t.customFieldsMenuVisible),a.Ib(1),a.Dc("ngIf",t.customFieldsMenuVisible))},directives:[x.q,A,x.x,F.a,D.a,U.c,C.a,x.p,v.k,j.a,N.a,x.t,R.a],pipes:[x.b],styles:[".cu-calendar-settings-menu{display:block;max-height:456px;overflow-y:auto;width:260px}"],encapsulation:2,changeDetection:0}),e})()},XPyF:function(e,t,i){"use strict";i.d(t,"a",function(){return h});var a=i("fXoL"),o=i("9jGm"),c=i("tjT+"),n=i("XNiG"),s=i("pLZG"),r=i("1G5W"),l=i("o0vL"),d=i("ofXK");function u(e,t){if(1&e&&(a.tc(),a.sc(),a.cc(0,"span",8),a.mc(1,9),a.Xb(2,"span"),a.jc(),a.bc()),2&e){const e=a.uc(2);a.Ib(2),a.kc(e.subcategory.comment_count)(e.subcategory.comment_count),a.hc(1)}}function p(e,t){1&e&&(a.tc(),a.sc(),a.cc(0,"span",8),a.gc(1,10),a.bc())}function m(e,t){if(1&e){const e=a.dc();a.cc(0,"button",1),a.qc("click",function(){return a.Uc(e),a.uc().clicked.emit()}),a.cc(1,"span",2),a.tc(),a.cc(2,"svg",3),a.Xb(3,"defs",4),a.Xb(4,"path",5),a.bc(),a.bc(),a.bd(5,u,3,2,"span",6),a.bd(6,p,2,0,"ng-template",null,7,a.cd),a.bc()}if(2&e){const e=a.Rc(7),t=a.uc();a.Ob("cu-list-details-comment-count__comments-btn_active",t.isActive),a.Ib(5),a.Dc("ngIf",!t.isActive)("ngIfElse",e)}}let h=(()=>{class e{constructor(e,t){this.actions$=e,this.cdr=t,this.clicked=new a.o,this.destroy$=new n.a}ngOnInit(){this.actions$.pipe(Object(o.d)(c.e.CreateCommentSuccess,c.e.DeleteCommentSuccess),Object(s.a)(e=>e.payload.type===l.c.Subcategory&&e.payload.parent===this.subcategory.id),Object(r.a)(this.destroy$)).subscribe(e=>{e.type===c.e.CreateCommentSuccess?this.subcategory.comment_count++:this.subcategory.comment_count--,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.a),a.Wb(a.h))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-list-details-comment-count"]],inputs:{subcategory:"subcategory",isActive:"isActive",showIfZero:"showIfZero"},outputs:{clicked:"clicked"},decls:1,vars:1,consts:function(){let e,t,i;return e=$localize`:␟1acfb270335502ea97f730e0dfb70d270a7d9332␟3578140210028228215:{VAR_PLURAL, plural, =0 {Comment} =1 {Comment} other {Comments}}`,e=a.lc(e,{VAR_PLURAL:"\ufffd1\ufffd"}),t=$localize`:@@cu-list-details-comment-count__comment-count␟3544c1953a9aa55051919b53b3e7a40a2b032b3f␟1438795682244090039:${"\ufffd#2\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#2\ufffd"}:CLOSE_TAG_SPAN: ${e}:ICU: `,i=$localize`:@@cu-list-details-comment-count__hide-comments␟559ad79ba68f124c6d3de9fd5ebfb3d42256c553␟6002399199138617450:Hide Comments`,[["class","cu-list-details-comment-count__comments-btn",3,"cu-list-details-comment-count__comments-btn_active","click",4,"ngIf"],[1,"cu-list-details-comment-count__comments-btn",3,"click"],[1,"cu-list-details-comment-count__comments-btn-icon"],[0,"xmlns","svg","http://www.w3.org/2000/svg","xmlns","http://www.w3.org/2000/svg","id","svg4","version","1.1","stroke-linejoin","arcs","viewBox","0 0 21.871737 21.871737",2,"fill","none","stroke-linecap","square"],["id","defs8"],["id","path2","d","m 20.371708,10.000028 a 8.38,8.38 0 0 1 -0.9,3.8 8.5,8.5 0 0 1 -7.6,4.7 8.38,8.38 0 0 1 -3.7999998,-0.9 l -5.7,1.9 1.9,-5.7 a 8.38,8.38 0 0 1 -0.9,-3.8 8.5,8.5 0 0 1 4.7,-7.5999995 8.38,8.38 0 0 1 3.7999998,-0.9 h 0.5 a 8.48,8.48 0 0 1 8,8 z"],["class","cu-list-details-comment-count__comments-btn-label",4,"ngIf","ngIfElse"],["activeComments",""],[1,"cu-list-details-comment-count__comments-btn-label"],t,i]},template:function(e,t){1&e&&a.bd(0,m,8,4,"button",0),2&e&&a.Dc("ngIf",t.subcategory.comment_count>0||t.showIfZero)},directives:[d.q],styles:[".cu-list-details-comment-count__comments-btn{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;border-radius:13px;height:26px;padding:0 7px;margin-left:5px;position:relative;background:transparent;border:1px solid #e9ebf0}.dark-theme .cu-list-details-comment-count__comments-btn{border-color:#82868d}.cu-list-details-comment-count__comments-btn:hover,.cu-list-details-comment-count__comments-btn_active{background:#fafbfc}.dark-theme .cu-list-details-comment-count__comments-btn:hover,.dark-theme .cu-list-details-comment-count__comments-btn_active{background:#2b343b;border-color:#2b343b}.cu-list-details-comment-count__comments-btn:hover:hover .cu-list-details-comment-count__comments-btn-icon,.cu-list-details-comment-count__comments-btn_active:hover .cu-list-details-comment-count__comments-btn-icon{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-list-details-comment-count__comments-btn:hover:hover .cu-list-details-comment-count__comments-btn-icon,.cu-list-details-comment-count__comments-btn_active:hover .cu-list-details-comment-count__comments-btn-icon{stroke:var(--theme-main-color)}}.cu-list-details-comment-count__comments-btn:hover:hover span,.cu-list-details-comment-count__comments-btn_active:hover span{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-list-details-comment-count__comments-btn:hover:hover span,.cu-list-details-comment-count__comments-btn_active:hover span{color:var(--theme-main-color)}}.cu-list-details-comment-count__comments-btn-icon{width:14px;height:14px;transform:scaleX(-1);position:relative;stroke:#82868d;stroke-width:1}.cu-list-details-comment-count__comments-btn-label{font-weight:400;font-size:11px;line-height:1;position:relative;color:#82868d;margin:0 5px}.cu-list-details-comment-count__comments-btn-label span{font-weight:500;color:#82868d}"],encapsulation:2,changeDetection:0}),e})()},"Xa+F":function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("2p4s"),o=i("fXoL"),c=i("tk/3"),n=i("irDL");let s=(()=>{class e{constructor(e,t){this.http=e,this.errorHandler=t,this.apiUrl=a.a.apiUrl,this.apiUrlV2=a.a.apiUrlV2}getTimeTrackingReport(e){return this.http.get(this.apiUrl+"/reporting/timeTracking",{params:e}).pipe(this.errorHandler.http())}getTimeEstimateReport(e){return this.http.get(this.apiUrl+"/reporting/timeEstimated",{params:e}).pipe(this.errorHandler.http())}getWorkedOnReport(e){return this.http.get(this.apiUrl+"/reporting/workedOn",{params:e}).pipe(this.errorHandler.http())}getCompletedReport(e){return this.http.get(this.apiUrl+"/reporting/completed",{params:e}).pipe(this.errorHandler.http())}getTimeTrackingExport(e){return this.http.get(this.apiUrl+"/reporting/timeTracking/export",{params:e}).pipe(this.errorHandler.http())}getTimeEstimateExport(e){return this.http.get(this.apiUrl+"/reporting/timeEstimated/export",{params:e}).pipe(this.errorHandler.http())}getWorkedOnExport(e){return this.http.get(this.apiUrl+"/reporting/workedOn/export",{params:e}).pipe(this.errorHandler.http())}getCompletedExport(e){return this.http.get(this.apiUrl+"/reporting/completed/export",{params:e}).pipe(this.errorHandler.http())}getTeamTable(e){return this.http.get(this.apiUrl+"/reporting/teamTable",{params:e}).pipe(this.errorHandler.http())}getBehindTable(e){return this.http.get(this.apiUrl+"/reporting/behindTable",{params:e}).pipe(this.errorHandler.http())}getTasksById(e){return this.http.get(this.apiUrlV2+"/task",{params:e}).pipe(this.errorHandler.http())}getTimeTrackingTaskIds(e,t){return this.http.get(`${this.apiUrl}/reporting/timeTracking/tasks/${e}`,{params:t}).pipe(this.errorHandler.http())}getTimeEstimateTaskIds(e,t){return this.http.get(`${this.apiUrl}/reporting/timeEstimated/tasks/${e}`,{params:t}).pipe(this.errorHandler.http())}getWorkedOnTaskIds(e,t){return this.http.get(`${this.apiUrl}/reporting/workedOn/tasks/${e}`,{params:t}).pipe(this.errorHandler.http())}getCompletedTaskIds(e,t){return this.http.get(`${this.apiUrl}/reporting/completed/tasks/${e}`,{params:t}).pipe(this.errorHandler.http())}getCustomFieldsReport(e){return this.http.get(this.apiUrl+"/reporting/customFields",{params:e}).pipe(this.errorHandler.http())}}return e.\u0275fac=function(t){return new(t||e)(o.nc(c.b),o.nc(n.a))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Xk4g:function(e,t,i){"use strict";i.d(t,"a",function(){return Ee});var a=i("dTHz"),o=i("wa4x"),c=i("qIRL"),n=i("jJQC"),s=i("IX71"),r=i("o7Ov"),l=i("c3rA"),d=i("mrTC"),u=i("hN3A"),p=i("P9u+"),m=i("HEHP"),h=i("9jGm"),b=i("l7P3"),g=i("2Vo4"),f=i("itXk"),_=i("VRyK"),v=i("l5mm"),y=i("lJxs"),w=i("PZkE"),k=i("pLZG"),x=i("vkgz"),T=i("eIep"),S=i("zp1y"),j=i("fXoL"),O=i("G2WA"),I=i("hfeG"),D=i("ILsm"),C=i("76Cs"),P=i("ofXK"),$=i("N/Rp"),z=i("eKZ6"),M=i("uslN"),E=i("CgHv"),L=i("RtrR"),A=i("x1J0"),F=i("mNZE"),U=i("Jf2N"),N=i("DkPU"),R=i("UdVN"),G=i("O5gs"),q=i("NsZK"),B=i("5+WD"),W=i("BTFG"),V=i("Zq4E"),X=i("P3m4"),H=i("8r6i"),Y=i("Vi3F");const Z=["quickCreateReminderModal"];function Q(e,t){if(1&e&&(j.cc(0,"div",13),j.dd(1),j.bc()),2&e){const e=j.uc(2);j.Ib(1),j.fd(" (",null==e.data||null==e.data.ids?null:e.data.ids.length,") ")}}const K=function(e){return{"cu-inbox-list__header-arrow_collapsed":e}};function J(e,t){if(1&e){const e=j.dc();j.cc(0,"div",10),j.qc("click",function(){return j.Uc(e),j.uc().onToggleExpand.emit()}),j.Xb(1,"div",11),j.dd(2),j.bd(3,Q,2,1,"div",12),j.bc()}if(2&e){const e=j.uc();j.Ib(1),j.Dc("ngClass",j.Hc(4,K,!e.expanded))("icon","cu2-arrow-down"),j.Ib(1),j.fd(" ",e.tab.title," "),j.Ib(1),j.Dc("ngIf",!(null==e.data||null==e.data.ids||!e.data.ids.length))}}function ee(e,t){if(1&e&&(j.cc(0,"div",14),j.dd(1),j.bc()),2&e){const e=j.uc();j.Ib(1),j.ed(e.tab.title)}}function te(e,t){if(1&e){const e=j.dc();j.cc(0,"div",15),j.qc("click",function(){return j.Uc(e),j.uc().showCreateTaskModal()}),j.dd(1," + "),j.ac(2),j.gc(3,16),j.Zb(),j.bc()}}function ie(e,t){if(1&e){const e=j.dc();j.cc(0,"div",15),j.qc("click",function(){return j.Uc(e),j.uc().showCreateReminderModal()}),j.dd(1," + "),j.ac(2),j.gc(3,17),j.Zb(),j.bc()}}function ae(e,t){if(1&e&&j.Xb(0,"div",23),2&e){const e=j.uc(2);j.Dc("icon",e.sortBy?(null==e.sortBy?null:e.sortBy.dir)===e.SortDirection.Desc?"move-down":"move-up":null)}}function oe(e,t){if(1&e){const e=j.dc();j.cc(0,"div",18),j.cc(1,"cu-dropdown-list",19),j.qc("onSelect",function(t){return j.Uc(e),j.uc().toggleSort(t.id)})("onCheck",function(t){return j.Uc(e),j.uc().changeReminderPosition(t.id)}),j.vc(2,"async"),j.vc(3,"async"),j.cc(4,"div",20),j.vc(5,"async"),j.bd(6,ae,1,1,"div",21),j.cc(7,"div",22),j.dd(8),j.vc(9,"async"),j.bc(),j.bc(),j.bc(),j.bc()}if(2&e){const e=j.uc();let t=null;j.Ib(1),j.Dc("title",e.sortByText)("items",j.wc(2,8,e.sortingItems$))("autoClose",!0)("dropdownDisabled",j.wc(3,10,e.offline$))("menuContainerModifier","cu-dropdown__menu_overflow-hidden cu-inbox-list__sort-menu"),j.Ib(3),j.Dc("cuTooltip",j.wc(5,12,e.offline$)?e.cantChangeSortOfflineTooltipText:""),j.Ib(2),j.Dc("ngIf",(null==e.sortBy?null:e.sortBy.field)!==e.fieldManual.name),j.Ib(2),j.fd(" ",null==(t=j.wc(9,14,e.selectedField$))?null:t.title," ")}}function ce(e,t){1&e&&(j.ac(0),j.cc(1,"div",34),j.gc(2,35),j.bc(),j.cc(3,"div",36),j.gc(4,37),j.bc(),j.Zb())}function ne(e,t){1&e&&(j.ac(0),j.cc(1,"div",34),j.gc(2,38),j.bc(),j.cc(3,"div",36),j.mc(4,39),j.Xb(5,"a",40),j.Xb(6,"a",41),j.jc(),j.bc(),j.cc(7,"a",42),j.gc(8,43),j.bc(),j.Zb())}function se(e,t){if(1&e&&j.bd(0,ne,9,0,"ng-container",31),2&e){j.uc();const e=j.Rc(5),t=j.uc(2);j.Dc("ngIf",(null==t.tab?null:t.tab.id)===t.InboxTabs.Delegated)("ngIfElse",e)}}function re(e,t){1&e&&(j.ac(0),j.gc(1,45),j.Zb())}function le(e,t){1&e&&(j.ac(0),j.gc(1,46),j.Zb())}function de(e,t){if(1&e&&(j.cc(0,"div",34),j.bd(1,re,2,0,"ng-container",31),j.bd(2,le,2,0,"ng-template",null,44,j.cd),j.bc()),2&e){const e=j.Rc(3),t=j.uc(3);j.Ib(1),j.Dc("ngIf",(null==t.tab?null:t.tab.id)===t.InboxTabs.Next)("ngIfElse",e)}}function ue(e,t){if(1&e){const e=j.dc();j.cc(0,"div",30),j.qc("cdkDropListDropped",function(t){return j.Uc(e),j.uc(2).dropEmpty(t)}),j.bd(1,ce,5,0,"ng-container",31),j.bd(2,se,1,2,"ng-template",null,32,j.cd),j.bd(4,de,4,2,"ng-template",null,33,j.cd),j.bc()}if(2&e){const e=j.Rc(3),t=j.uc(2);j.Dc("id",t.dragId)("cdkDropListSortingDisabled",!0)("cdkDropListDisabled",!1)("cdkDropListData",t.tab.id)("cdkDropListConnectedTo",t.dragConnectedIds)("cdkDropListEnterPredicate",t.dropListEnterPredicate),j.Jb("data-id",t.dragId),j.Ib(1),j.Dc("ngIf",(null==t.tab?null:t.tab.id)===t.InboxTabs.Today)("ngIfElse",e)}}function pe(e,t){1&e&&(j.cc(0,"div",48),j.cc(1,"div",49),j.Xb(2,"div",50),j.cc(3,"div",51),j.mc(4,52),j.Xb(5,"strong"),j.jc(),j.bc(),j.bc(),j.bc())}function me(e,t){1&e&&(j.cc(0,"div",48),j.cc(1,"div",53),j.ac(2),j.gc(3,54),j.Zb(),j.Xb(4,"a",55),j.bc(),j.bc())}function he(e,t){if(1&e&&(j.cc(0,"div",48),j.cc(1,"div",53),j.gc(2,56),j.bc(),j.bc()),2&e){const e=j.uc(3);j.Ib(2),j.kc(null==e.user?null:e.user.username),j.hc(2)}}function be(e,t){if(1&e&&(j.bd(0,pe,6,0,"div",47),j.bd(1,me,5,0,"div",47),j.bd(2,he,3,1,"div",47)),2&e){const e=j.uc(2);j.Dc("ngIf",e.isProfileSidebar&&((null==e.tab?null:e.tab.id)===e.InboxTabs.Today||(null==e.tab?null:e.tab.id)===e.InboxTabs.Overdue||(null==e.tab?null:e.tab.id)===e.InboxTabs.Next||(null==e.tab?null:e.tab.id)===e.InboxTabs.Done)),j.Ib(1),j.Dc("ngIf",(null==e.tab?null:e.tab.id)===e.InboxTabs.Delegated),j.Ib(1),j.Dc("ngIf",(null==e.tab?null:e.tab.id)===e.InboxTabs.Unscheduled)}}function ge(e,t){1&e&&j.Xb(0,"cu-loader")}function fe(e,t){if(1&e){const e=j.dc();j.cc(0,"div",57),j.qc("cuIsInViewport",function(t){return j.Uc(e),j.uc(2).checkForMoreTasks(t)}),j.bc()}if(2&e){const e=j.uc(2);j.Dc("isInViewPortEnabled",null==e.data?null:e.data.hasMore)}}const _e=function(e,t){return{tasks:e,columns:t}};function ve(e,t){if(1&e&&(j.cc(0,"div",24),j.bd(1,ue,6,9,"div",25),j.bd(2,be,3,3,"ng-template",26),j.Yb(3,27),j.bd(4,ge,1,0,"cu-loader",28),j.bd(5,fe,1,1,"div",29),j.bc()),2&e){const e=j.uc(),t=j.Rc(9);j.Ib(1),j.Dc("ngIf",!(null!=e.data&&e.data.hasMore)&&0===(null==e.data||null==e.data.tasks?null:e.data.tasks.length)),j.Ib(1),j.Dc("ngIf",null==e.data||null==e.data.tasks?null:e.data.tasks.length),j.Ib(1),j.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",j.Ic(6,_e,null==e.data?null:e.data.tasks,e.columns)),j.Ib(1),j.Dc("ngIf",null==e.data?null:e.data.hasMore),j.Ib(1),j.Dc("ngIf",null==e.data?null:e.data.hasMore)}}function ye(e,t){if(1&e){const e=j.dc();j.cc(0,"div",58),j.qc("cdkDropListDropped",function(t){return j.Uc(e),j.uc().dropEmpty(t)}),j.mc(1,59),j.Xb(2,"span",60),j.jc(),j.bc()}if(2&e){const e=j.uc();j.Ob("cu-inbox-list__collapsed_dragging",e.isDragging),j.Dc("id",e.dragId)("cdkDropListSortingDisabled",!0)("cdkDropListDisabled",!1)("cdkDropListData",e.tab.id)("cdkDropListConnectedTo",e.dragConnectedIds)("cdkDropListEnterPredicate",e.dropListEnterPredicate),j.Jb("data-id",e.dragId)}}const we=function(){return{allowed:!1,show:!1,closeable:!0,autoFocus:!0}},ke=function(e,t,i,a,o){return{reminderPaywallTemplate:e,hideDate:t,hideAssignee:i,reminderUser:a,dateIcon:"cu2-clock",dateOnlyIcon:!0,assigneeIcon:o}},xe=function(e,t){return{showSubtaskParentNames:e,showTaskLocations:t}};function Te(e,t){if(1&e){const e=j.dc();j.cc(0,"cu-task-list",64),j.qc("onOpenTask",function(t){return j.Uc(e),j.uc(2).onOpenTask.emit(t)})("onEditTask",function(t){return j.Uc(e),j.uc(2).editTask(t)})("onLazyLoad",function(t){return j.Uc(e),j.uc(2).onLazyLoad.emit(t)})("onDropped",function(t){return j.Uc(e),j.uc(2).drop(t)})("onDragStarted",function(t){return j.Uc(e),j.uc(2).onDragStarted.emit(t)})("onDragEnded",function(t){return j.Uc(e),j.uc(2).onDragEnded.emit(t)}),j.bc()}if(2&e){const e=j.uc(),t=e.tasks,i=e.columns,a=j.uc(),o=j.Rc(11);j.Dc("readOnly",!0)("onlyMainClickableWhenReadonly",!0)("showMenu",!1)("rollups",a.rollups)("showDeleteButton",!0)("limitedEdit",a.limitedEdit)("projectsMap",a.projectsMap)("showHeader",!1)("tasks",t)("userGroups",a.userGroups)("users",a.users)("meUser",a.currentUser)("statusesMap",a.statusesMap)("usersMap",a.usersMap)("showCount",!1)("columns",i||a.defaultColumns)("multiTaskEnabled",!1)("dragDisabled",!1)("dragSortingDisabled",(null==a.sortBy?null:a.sortBy.field)!=a.fieldManual.name)("enterPredicate",a.dropListEnterPredicate)("showFooter",!1)("weights",a.weights)("dateFormat",null==a.currentUser?null:a.currentUser.date_format)("militaryTime",null==a.currentUser?null:a.currentUser.twenty_four_hr_setting)("createTaskOptions",j.Gc(32,we))("extraData",j.Lc(33,ke,(null==a.team?null:a.team.plan_id)===a.TeamPlan.FREE?o:null,a.tab.hideDate,a.hideAssignee,a.user,a.tab.id!==a.InboxTabs.Delegated?"cu2-delegate":null))("viewPreferences",j.Ic(39,xe,!1!==(null==a.currentUser?null:a.currentUser.inbox_breadcrumbs),!1!==(null==a.currentUser?null:a.currentUser.inbox_breadcrumbs)))("dragId",a.dragId)("dragConnectedIds",a.dragConnectedIds)("dragData",a.tab.id)("taskRowMenuPlaceholder",!1)("scrollContainer",a.scrollContainer)}}function Se(e,t){if(1&e&&(j.cc(0,"div",65),j.cc(1,"div",66),j.dd(2),j.bc(),j.bc()),2&e){const e=j.uc(2);j.Ib(2),j.fd(" ",e.dragDisabledTooltip," ")}}function je(e,t){if(1&e&&(j.cc(0,"div",61),j.bd(1,Te,1,42,"cu-task-list",62),j.bd(2,Se,3,1,"div",63),j.bc()),2&e){const e=t.tasks,i=j.uc();j.Ib(1),j.Dc("ngIf",0!==(null==e?null:e.length)),j.Ib(1),j.Dc("ngIf",(null==i.sortBy?null:i.sortBy.field)!=i.fieldManual.name&&i.isDragging)}}function Oe(e,t){if(1&e&&j.Xb(0,"cu-paywall-popover",67),2&e){const e=j.uc();j.Dc("badge","Unlimited")("title","Send Reminders to other people")("text","Delegate reminders to other people and track progress to ensure they never forget again.")("image","./assets/images/components/paywall-popover/reminder-delegation.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToUnlimitedText)("emailSubject","Please upgrade ClickUp so we can have all Inbox features")("learnMore","https://docs.clickup.com/en/articles/2963911-delegate-reminders")("amplitudeLabel","Send Reminders to Other People")}}function Ie(e,t){if(1&e){const e=j.dc();j.cc(0,"cu-quick-create-reminder",68),j.qc("onCreateReminder",function(){return j.Uc(e),j.uc().closeModal()})("onClose",function(){return j.Uc(e),j.uc().closeModal()}),j.bc()}if(2&e){const e=j.uc();j.Dc("defaultDates",e.defaultDates)}}const De=[E.S,E.w,E.r,E.t,E.s,E.M],Ce=[...De,E.E];let Pe=(()=>{class e{constructor(e,t,i,a){this.el=e,this.modal=t,this.store=i,this.paywallCommonStringsService=a,this.sortBy$=new g.a(void 0),this.reminderPosition$=new g.a(void 0),this.expandable=!0,this.statusesMap={},this.usersMap={},this.isProfileSidebar=!1,this.isDragging=!1,this.onOpenTask=new j.o,this.onLoadMore=new j.o,this.onCreateReminder=new j.o,this.onToggleSort=new j.o,this.onChangeReminderPosition=new j.o,this.onToggleExpand=new j.o,this.onEditTask=new j.o,this.onLazyLoad=new j.o,this.onChangeSettings=new j.o,this.onReorder=new j.o,this.onDragStarted=new j.o,this.onDragEnded=new j.o,this.dragConnectedIds=[...d.b.map(e=>"inbox_"+e),"taskLineup","calendarWeekViewAllDay",...[...Array(48).keys()].map(e=>"calendarWeekView_"+e)],this.SortDirection=z.a,this.fieldManual=E.E,this.TeamPlan=M.f,this.today=(new Date).getTime(),this.InboxTabs=d.a,this.sortingItems$=Object(f.a)([this.sortBy$,this.reminderPosition$]).pipe(Object(y.a)(([e,t])=>{var i;function a(t){return{id:t.name,title:t.title,checkType:"check",checked:e&&t.name===e.field,icon:t.name!==E.E.name&&e&&t.name===e.field?e.dir===z.a.Desc?"move-down":"move-up":void 0,badge:t.badge}}const o=De.filter(e=>!(e.name===E.s.name&&this.tab.id!==d.a.Done||e.name===E.w.name&&this.tab.id===d.a.Unscheduled)).map(a);return(null===(i=this.tab)||void 0===i?void 0:i.disableManualSorting)||(o.push({id:"-",title:"",type:A.a.Separator}),o.push(a(E.E))),(null==e?void 0:e.field)!==E.E.name&&this.tab.id!==d.a.Unscheduled&&(o.push({id:"--",title:"",type:A.a.Separator}),o.push({id:"",title:$localize`:@@cu-inbox-list__reminder-top:Reminders on top`,checkType:"switch",checked:"bottom"!==t})),o})),this.selectedField$=this.sortBy$.pipe(Object(y.a)(e=>e?Ce.find(t=>t.name===e.field):null)),this.offline$=this.store.select(L.b),this.assigneeColumn=Object.assign(Object.assign({},E.k),{state:$.b.Visible,width:35,calc:void 0}),this.defaultColumns=[Object.assign(Object.assign({},E.N),{state:$.b.Visible,width:null,calc:null}),Object.assign(Object.assign({},E.l),{state:$.b.Visible,width:null,calc:null}),Object.assign(Object.assign({},E.M),{state:$.b.Visible,width:30,calc:null}),Object.assign(Object.assign({},E.R),{state:$.b.Visible,width:100,calc:null})],this.trackById=Object(n.d)("id"),this.needLoadMore=!1,this.cantChangeSortOfflineTooltipText=$localize`:@@cu-inbox-list__tooltip-msg_cant-change-sorting-offline:You can't change sorting when offline`,this.dragDisabledTooltip=$localize`:@@cu-inbox-list__tooltip-msg_cant-dnd:Whoops! To reorder items, change sorting for this group to "Custom" mode.`,this.sortByText=$localize`:@@cu-inbox-list__sort-by:Sort this group by`,this.dropListEnterPredicate=(e,t)=>{var i,a;return!((null===(a=null===(i=this.data)||void 0===i?void 0:i.ids)||void 0===a?void 0:a.some(t=>e.data.id===t))||("lineup"===e.dropContainer.data||"trending"===e.dropContainer.data)&&Object(d.f)(e.data)||e.data.reminder&&t.data===d.a.Unscheduled)}}get dragId(){return"inbox_"+this.tab.id}ngOnChanges(e){e.data&&this.needLoadMore&&this.expanded&&this.data.hasMore&&this.data&&this.data.tasks&&this.data.tasks.length&&setTimeout(()=>{this.needLoadMore&&this.onLoadMore.emit()},100),e.sortBy&&this.sortBy$.next(this.sortBy),e.reminderPosition&&this.reminderPosition$.next(this.reminderPosition),(e.tab||e.hideAssignee)&&this.tab&&(this.columns=this.tab.columns,this.columns&&!this.hideAssignee&&(this.columns=[...this.columns,this.assigneeColumn]))}checkForMoreTasks(e){this.needLoadMore=e,e&&this.onLoadMore.emit()}createReminder(e){this.onCreateReminder.emit(e)}toggleSort(e){this.onToggleSort.emit(e)}changeReminderPosition(e){this.onChangeReminderPosition.emit("bottom"===this.reminderPosition?"top":"bottom")}editTask(e){this.onEditTask.emit(e)}changeSettings(){this.onChangeSettings.emit({option:"inbox_breadcrumbs",value:!(this.currentUser&&!1!==this.currentUser.inbox_breadcrumbs)})}drop(e){this.onReorder.emit(e)}dropEmpty(e){this.drop({task:e.item.data,sortingDisabled:!0,fromIndex:e.previousIndex,toIndex:e.currentIndex,fromGroup:e.previousContainer.data,toGroup:e.container.data})}showCreateReminderModal(){this.modal.open({name:"create-project",modifier:"cu-quick-create-reminder__modal cu-modal_zoom",content:this.quickCreateReminderModal,bodyModifier:"cu-modal__body_no-min-height"})}showCreateTaskModal(){var e,t;this.store.dispatch(new F.g({fromState:{due_date:null===(e=this.defaultDates)||void 0===e?void 0:e.dueDate,due_date_time:null===(t=this.defaultDates)||void 0===t?void 0:t.dueDateTime,assignees:[this.currentUser.id]}}))}closeModal(){this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(j.m),j.Wb(U.a),j.Wb(b.Store),j.Wb(N.a))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-inbox-list"]],viewQuery:function(e,t){if(1&e&&j.jd(Z,3),2&e){let e;j.Qc(e=j.rc())&&(t.quickCreateReminderModal=e.first)}},hostAttrs:[1,"cu-inbox-list"],hostVars:2,hostBindings:function(e,t){2&e&&j.Ob("cu-inbox-list_dragging",t.isDragging)},inputs:{team:"team",tab:"tab",currentUser:"currentUser",user:"user",users:"users",data:"data",expanded:"expanded",expandable:"expandable",projectsMap:"projectsMap",sortBy:"sortBy",reminderPosition:"reminderPosition",limitedEdit:"limitedEdit",statusesMap:"statusesMap",usersMap:"usersMap",hideAssignee:"hideAssignee",isProfileSidebar:"isProfileSidebar",rollups:"rollups",weights:"weights",userGroups:"userGroups",scrollContainer:"scrollContainer",defaultDates:"defaultDates",isDragging:"isDragging"},outputs:{onOpenTask:"onOpenTask",onLoadMore:"onLoadMore",onCreateReminder:"onCreateReminder",onToggleSort:"onToggleSort",onChangeReminderPosition:"onChangeReminderPosition",onToggleExpand:"onToggleExpand",onEditTask:"onEditTask",onLazyLoad:"onLazyLoad",onChangeSettings:"onChangeSettings",onReorder:"onReorder",onDragStarted:"onDragStarted",onDragEnded:"onDragEnded"},features:[j.Gb],decls:14,vars:7,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p;return e=$localize`:@@common_task␟61435c6c3b3cca0c204ef9f5369027565d327acb␟4578192247039196794:Task`,t=$localize`:@@common_reminder␟d22932f5540744117213f5eb6b05d255398307a6␟6644465440274384349:Reminder`,i=$localize`:@@cu-inbox-list__empty-title_inbox-empty␟fc149280ffe2324bdbf0ffed5ce1c2c0542e4959␟6606957777507441815: Woohoo, Inbox zero! `,a=$localize`:@@cu-inbox-list__empty-description_inbox-empty␟391cd5d4874660380777f2fb1df3137291ec1e8d␟6964120349932318571: Tasks and Reminders that are scheduled for Today and earlier will appear here. `,o=$localize`:@@cu-inbox-list__empty-title_delegate-reminder␟ed579d849e51b550bfbd9f3ce63c363eeadc9fbe␟7214289939717184014: Forgetting? Forget about it! Delegate a reminder to make sure it gets done. `,c=$localize`:@@cu-inbox-list__empty-description_delegate-reminder␟ae8902744968fd55c203ebd59f124e87f1dc3f81␟9097555563877306409:${"\ufffd#5\ufffd"}:START_LINK:Assign a reminder${"[\ufffd/#5\ufffd|\ufffd/#6\ufffd]"}:CLOSE_LINK: to someone and keep track of it here. You can also see reminders you delegate in anyone's ${"\ufffd#6\ufffd"}:START_LINK_1:profile${"[\ufffd/#5\ufffd|\ufffd/#6\ufffd]"}:CLOSE_LINK:. `,c=j.lc(c),n=$localize`:@@cu-inbox-list_link-txt_delegate-reminder␟24853390beaf37dc0de350c7189ff434879ebcd4␟5321234684305263374:Learn more about delegating`,s=$localize`:@@cu-inbox-list__empty-title_no-scheduled-tasks-reminders␟f7d1476d9b1fec9323277d81d9c2260c2132ec12␟8545648157363436202:No tasks or reminders scheduled.`,r=$localize`:@@common_empty-contents␟b03f0a8bf85b20ddb7ba7107f1967ec32d72a3e9␟510879027734114335:Nothing to see here.`,l=$localize`:@@cu-inbox-list__self-reminders-privacy␟bc7f4d8469757d6426ed5502f0f6eded3448f62d␟5603689935103876819: Reminders you create for yourself are ${"\ufffd#5\ufffd"}:START_TAG_STRONG:private.${"\ufffd/#5\ufffd"}:CLOSE_TAG_STRONG:`,d=$localize`:@@cu-inbox-list__hint-text_delegate-reminders␟58656287318ffbc1fb2c51f9477126717a631b5a␟910586588332820159: Reminders you have assigned to others and reminders that those people converted to tasks `,u=$localize`:@@cu-inbox-list__hint-text_not-scheduled-tasks␟3e5f90f1d2f3ed1ec161ce9e7a083c37c6339d69␟5391255583265795438: Tasks assigned to ${"\ufffd0\ufffd"}:INTERPOLATION: that have not been scheduled `,p=$localize`:@@cu-inbox-list__collapsed-drop␟68cc079087851704056c1ca6f170a8639b81e8d8␟100258715813125878:${"\ufffd#2\ufffd"}:START_TAG_SPAN:Drop here${"\ufffd/#2\ufffd"}:CLOSE_TAG_SPAN:`,[[1,"cu-inbox-list__header"],["class","cu-inbox-list__title",3,"click",4,"ngIf"],["class","cu-inbox-list__title",4,"ngIf"],["class","cu-inbox-list__create",3,"click",4,"ngIf"],["class","cu-inbox-list__sort",4,"ngIf"],["class","cu-inbox-list__body",4,"ngIf"],["class","cu-inbox-list__collapsed","cdkDropList","",3,"cu-inbox-list__collapsed_dragging","id","cdkDropListSortingDisabled","cdkDropListDisabled","cdkDropListData","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListDropped",4,"ngIf"],["taskList",""],["paywallTemplate",""],["quickCreateReminderModal",""],[1,"cu-inbox-list__title",3,"click"],[1,"cu-inbox-list__header-arrow",3,"ngClass","icon"],["class","cu-inbox-list__title-counter",4,"ngIf"],[1,"cu-inbox-list__title-counter"],[1,"cu-inbox-list__title"],[1,"cu-inbox-list__create",3,"click"],e,t,[1,"cu-inbox-list__sort"],[3,"title","items","autoClose","dropdownDisabled","menuContainerModifier","onSelect","onCheck"],[1,"cu-inbox-list__sort-toggle",3,"cuTooltip"],["class","cu-inbox-list__sort-dir",3,"icon",4,"ngIf"],[1,"cu-inbox-list__sort-name"],[1,"cu-inbox-list__sort-dir",3,"icon"],[1,"cu-inbox-list__body"],["class","cu-inbox-list__empty","cdkDropList","","cdkDropListOrientation","vertical",3,"id","cdkDropListSortingDisabled","cdkDropListDisabled","cdkDropListData","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListDropped",4,"ngIf"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["class","cu-inbox-list__show-more",3,"isInViewPortEnabled","cuIsInViewport",4,"ngIf"],["cdkDropList","","cdkDropListOrientation","vertical",1,"cu-inbox-list__empty",3,"id","cdkDropListSortingDisabled","cdkDropListDisabled","cdkDropListData","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListDropped"],[4,"ngIf","ngIfElse"],["emptyDelegated",""],["emptyOther",""],[1,"cu-inbox-list__empty-title"],i,[1,"cu-inbox-list__empty-description"],a,o,c,["href","https://docs.clickup.com/clickup-2-0/delegate-reminders","target","_blank",1,"cu-inbox-list__empty-link"],["href","https://docs.clickup.com/clickup-2-0/profiles","target","_blank",1,"cu-inbox-list__empty-link"],["href","https://docs.clickup.com/clickup-2-0/delegate-reminders","target","_blank",1,"cu-btn","cu-btn_md","cu-inbox-list__empty-btn"],n,["nothingToSeeHereTmpl",""],s,r,["class","cu-inbox-list__hint",4,"ngIf"],[1,"cu-inbox-list__hint"],[1,"cu-inbox-list__hint-text","cu-inbox-list__hint-text-self"],["icon","cu2-remainder"],[1,"cu-inbox-list__hint-text-self-text"],l,[1,"cu-inbox-list__hint-text"],d,["href","https://docs.clickup.com/clickup-2-0/delegate-reminders","target","_blank","icon","question",1,"cu-inbox-list__hint-text-question"],u,[1,"cu-inbox-list__show-more",3,"isInViewPortEnabled","cuIsInViewport"],["cdkDropList","",1,"cu-inbox-list__collapsed",3,"id","cdkDropListSortingDisabled","cdkDropListDisabled","cdkDropListData","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListDropped"],p,[1,"cu-inbox-list__collapsed-message"],[1,"cu-inbox-list__block"],[3,"readOnly","onlyMainClickableWhenReadonly","showMenu","rollups","showDeleteButton","limitedEdit","projectsMap","showHeader","tasks","userGroups","users","meUser","statusesMap","usersMap","showCount","columns","multiTaskEnabled","dragDisabled","dragSortingDisabled","enterPredicate","showFooter","weights","dateFormat","militaryTime","createTaskOptions","extraData","viewPreferences","dragId","dragConnectedIds","dragData","taskRowMenuPlaceholder","scrollContainer","onOpenTask","onEditTask","onLazyLoad","onDropped","onDragStarted","onDragEnded",4,"ngIf"],["class","cu-inbox-list__dnd-disabled",4,"ngIf"],[3,"readOnly","onlyMainClickableWhenReadonly","showMenu","rollups","showDeleteButton","limitedEdit","projectsMap","showHeader","tasks","userGroups","users","meUser","statusesMap","usersMap","showCount","columns","multiTaskEnabled","dragDisabled","dragSortingDisabled","enterPredicate","showFooter","weights","dateFormat","militaryTime","createTaskOptions","extraData","viewPreferences","dragId","dragConnectedIds","dragData","taskRowMenuPlaceholder","scrollContainer","onOpenTask","onEditTask","onLazyLoad","onDropped","onDragStarted","onDragEnded"],[1,"cu-inbox-list__dnd-disabled"],[1,"cu-inbox-list__dnd-disabled-label"],[3,"badge","title","text","image","upgradeButtonText","emailSubject","learnMore","amplitudeLabel"],[3,"defaultDates","onCreateReminder","onClose"]]},template:function(e,t){1&e&&(j.cc(0,"div",0),j.bd(1,J,4,6,"div",1),j.bd(2,ee,2,1,"div",2),j.bd(3,te,4,0,"div",3),j.bd(4,ie,4,0,"div",3),j.bd(5,oe,10,16,"div",4),j.bc(),j.bd(6,ve,6,9,"div",5),j.bd(7,ye,3,9,"div",6),j.bd(8,je,3,2,"ng-template",null,7,j.cd),j.bd(10,Oe,1,8,"ng-template",null,8,j.cd),j.bd(12,Ie,1,1,"ng-template",null,9,j.cd)),2&e&&(j.Ib(1),j.Dc("ngIf",t.expandable),j.Ib(1),j.Dc("ngIf",!t.expandable),j.Ib(1),j.Dc("ngIf",t.tab.showCreateTask),j.Ib(1),j.Dc("ngIf",t.tab.showCreateReminder),j.Ib(1),j.Dc("ngIf",t.tab.showSorting&&(t.expanded||!t.expandable)),j.Ib(1),j.Dc("ngIf",t.expanded||!t.expandable),j.Ib(1),j.Dc("ngIf",!t.expanded&&t.expandable))},directives:[P.q,P.o,R.a,G.a,q.a,P.x,B.d,W.a,V.a,X.c,H.a,Y.a],pipes:[P.b],styles:['.cu-inbox-list{display:block;flex-grow:1;position:relative}@media screen and (max-width:992px){.cu-inbox-list{padding:10px 10px 60px}}.cu-inbox-list_dragging{min-height:50px}.cu-inbox-list__dnd-disabled{position:absolute;display:flex;justify-content:center;top:0;bottom:0;left:0;right:0;pointer-events:none;border-radius:4px;background-color:hsla(0,0%,100%,.8);border:1px solid #7c828d}.dark-theme .cu-inbox-list__dnd-disabled{background-color:rgba(30,39,46,.8)}.cu-inbox-list__dnd-disabled-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;position:sticky;top:96px;align-self:flex-start;margin-top:-19px;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;padding:4px 10px;border-radius:2px;z-index:10;background:#7c828d}.cu-inbox-list__header{display:flex;width:calc(100% + 20px);min-height:49px;align-items:center;padding:20px 10px 5px;position:sticky;top:55px;z-index:10;margin:0 -10px;background:#fff}.dark-theme .cu-inbox-list__header{background:#1e272e}.cu-inbox-list__header-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:14px;height:12px;padding:3px;margin-right:4px;transform:rotate(0deg);fill:#292d34}.dark-theme .cu-inbox-list__header-arrow{fill:#d5d6d7}.cu-inbox-list__header-arrow_collapsed{transform:rotate(-90deg)}.cu-inbox-list__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;padding-right:5px;color:#292d34}.dark-theme .cu-inbox-list__title{color:#d5d6d7}.cu-inbox-list__title:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__title:hover{color:var(--theme-main-color)}}.cu-inbox-list__title:hover .cu-inbox-list__header-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__title:hover .cu-inbox-list__header-arrow{fill:var(--theme-main-color)}}.cu-inbox-list__title-counter{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-left:4px;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#b9bec7}.dark-theme .cu-inbox-list__title-counter{color:#828588}.cu-inbox-list__create{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:none;cursor:pointer;border-radius:4px;padding:0 8px 1px;height:24px;margin-left:5px;margin-bottom:-1px;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-inbox-list__create{color:#abaeb0}.cu-inbox-list__create:hover{background:#f2f2f2}.dark-theme .cu-inbox-list__create:hover{background:#2b343b}.cu-inbox-section__data-item:hover .cu-inbox-list__create{display:flex;align-items:center}.cu-inbox-list__body{display:block}.cu-inbox-list__block{position:relative}@media screen and (max-width:992px){.cu-inbox-list__block{padding-top:0}}.cu-inbox-list__block .cu-task-row:hover .cu-task-row-assignee .cu-task-row-assignee__icon,.cu-inbox-list__block .cu-task-row:hover .cu-task-row-date-picker__icon,.cu-inbox-list__block .cu-task-row:hover .cu-task-row-recurring-date-picker__icon,.cu-inbox-list__block .cu-task-row:hover .cu-task-row__priority_empty{display:flex}.cu-inbox-list__block .cu-task-row:hover .cu-task-row-date-picker,.cu-inbox-list__block .cu-task-row:hover .cu-task-row-recurring-date-picker{display:block}.cu-inbox-list__block .cu-task-row:hover .cu-task-row-date-picker__dual-dates,.cu-inbox-list__block .cu-task-row:hover .cu-task-row-recurring-date-picker__dual-dates,.cu-inbox-list__block .cu-task-row:hover .cu-task-row__datetime{visibility:hidden}.cu-inbox-list__block .cu-task-row:hover .cu-task-row-main__link-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__block .cu-task-row:hover .cu-task-row-main__link-text{color:var(--theme-main-color)}}.cu-inbox-list__block .cu-task-row:hover .cu-task-row__actions .cu-task-row__priority{width:36px!important;padding:0 0 0 2px}.cu-inbox-list__block .cu-task-row__container{padding-right:10px}.cu-inbox-list__block .cu-task-row .cu-task-row-main__actions-inner{position:relative;transform:none;padding-left:0;margin-right:5px;height:auto;top:auto}.cu-inbox-list__block .cu-task-row .cu-task-row-main__actions-inner .cu-task-row-main__recurring-icon{top:-4px}.cu-inbox-list__block .cu-task-row .cu-task-row-main__actions-inner-has-tags .cu-task-row-main__recurring-icon{top:2px}.cu-inbox-list__block .cu-task-row .cu-task-row-assignee .cu-task-row-assignee__icon,.cu-inbox-list__block .cu-task-row .cu-task-row__priority_empty,.cu-inbox-list__block .cu-task-row .cu-task-row__priority_stub{display:none}.cu-inbox-list__block .cu-task-row .cu-task-row-assignee .cu-dropdown_open .cu-task-row-assignee__icon{display:flex}.cu-inbox-list__block .cu-task-row .cu-task-row-assignee{padding:0;width:auto!important}.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker{padding:0;display:inline-flex!important;width:auto!important}.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker .cu-user-group__item-icon,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker .cu-user-group__item-icon{padding:7px;fill:#aeacb0}.dark-theme .cu-inbox-list__block .cu-task-row .cu-task-row-date-picker .cu-user-group__item-icon,.dark-theme .cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker .cu-user-group__item-icon{fill:#82868d}.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker .cu-user-group__item-icon:hover,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker .cu-user-group__item-icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker .cu-user-group__item-icon:hover,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker .cu-user-group__item-icon:hover{fill:var(--theme-main-color)}}.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker .cu-user-group_due-date,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker .cu-user-group_due-date{margin:0;padding:0}.cu-inbox-list__block .cu-task-row .cu-task-row-main__recurring-icon.cu-task-row-recurring-date-picker{padding:0}.cu-inbox-list__block .cu-task-row .cu-task-row-main__recurring-icon.cu-task-row-recurring-date-picker:before{display:none!important}.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker:after,.cu-inbox-list__block .cu-task-row .cu-task-row-main__recurring-icon.cu-task-row-recurring-date-picker .cu-task-row-recurring-date-picker__icon,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker:after,.cu-inbox-list__block .cu-task-row .cu-task-row__priority:after{display:none}.cu-inbox-list__block .cu-task-row .cu-task-row-status_checkmark{margin-left:5px}.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker__dual-dates,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker__dual-dates{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;margin-left:8px;padding:0;width:auto;flex-shrink:0}.cu-inbox-list__block .cu-task-row .cu-task-row-date-picker__dual-dates_priority,.cu-inbox-list__block .cu-task-row .cu-task-row-recurring-date-picker__dual-dates_priority{margin-right:30px}.cu-inbox-list__block .cu-task-row .cu-task-row__datetime{width:auto!important}.cu-inbox-list__block .cu-task-row .cu-task-row__datetime:after{display:none}.cu-inbox-list__block .cu-task-row .cu-task-row-assigned-comments{margin-left:5px}.cu-inbox-list__block .cu-task-row .cu-priorities-view__icon-select .cu-fill{fill:#7c828d;stroke:#7c828d}.dark-theme .cu-inbox-list__block .cu-task-row .cu-priorities-view__icon-select .cu-fill{fill:#82868d;stroke:#82868d}.cu-inbox-list__block .cu-task-row .cu-priorities-view__icon-select .cu-stroke{stroke-width:1.5px;stroke:#7c828d}.dark-theme .cu-inbox-list__block .cu-task-row .cu-priorities-view__icon-select .cu-stroke{stroke:#82868d}.cu-inbox-list__block .cu-task-row .cu-priorities-view__icon-task-lv{height:22px;padding:3px 6px 3px 8px}.cu-inbox-list__block .cu-task-row .cu-priorities-view__icon-select{height:22px}.cu-inbox-list__block .cu-task-row .cu-priorities-view__icon-select svg{height:calc(100% + 8px);margin-top:-4px}.cu-inbox-list__block .cu-task-row .cu-task-row__actions-inbox-dropdown-open .cu-task-row-recurring-date-picker__icon,.cu-inbox-list__block .cu-task-row .cu-task-row__actions-inbox-dropdown-open .cu-task-row-status_checkmark,.cu-inbox-list__block .cu-task-row .cu-task-row__actions-inbox-dropdown-open .cu-task-row__remove{display:block}.cu-inbox-list__block .cu-task-row .cu-task-row__actions-inbox-dropdown-open .cu-task-row-assignee__icon,.cu-inbox-list__block .cu-task-row .cu-task-row__actions-inbox-dropdown-open .cu-task-row__priority_empty{display:flex}.cu-inbox-list__block .cu-task-row .cu-task-row__actions-inbox-dropdown-open .cu-task-row__priority{width:36px!important;padding:0 0 0 2px}.cu-inbox-list__empty{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:10px;border:1px solid #e9ebf0;border-radius:4px}.dark-theme .cu-inbox-list__empty{border-color:#384047}.cu-inbox-list__empty-graphic{margin:60px 0 0;opacity:.7}.cu-inbox-list__empty-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-inbox-list__empty-title{color:#abaeb0}.cu-inbox-list__empty-description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-top:5px;font:400 12px/1.4 Gotham Pro,Proxima Nova,arial,serif;color:#b9bec7}.dark-theme .cu-inbox-list__empty-description{color:#828588}.cu-inbox-list__empty-link{color:#7b68ee;border-bottom:1px dashed}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__empty-link{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-inbox-list__empty-link:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-inbox-list__empty-link:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}.cu-inbox-list__empty-btn{margin-top:20px}.cu-inbox-list__show-more{margin-top:-200px;height:200px;padding-top:120px;pointer-events:none}.cu-inbox-list__sort{display:flex;align-items:center;margin-left:auto}.cu-inbox-list__sort-toggle{display:flex;align-items:center;display:none;cursor:pointer;border-radius:4px;padding:0 8px 1px;height:24px;margin-right:-6px;margin-bottom:-1px}.cu-inbox-list__sort-toggle:hover,.cu-inbox-list__sort .cu-dropdown-list_opened .cu-inbox-list__sort-toggle{background:#f2f2f2}.dark-theme .cu-inbox-list__sort-toggle:hover,.dark-theme .cu-inbox-list__sort .cu-dropdown-list_opened .cu-inbox-list__sort-toggle{background:#2b343b}.cu-inbox-list__sort .cu-dropdown-list_opened .cu-inbox-list__sort-toggle,.cu-inbox-section__data-item:hover .cu-inbox-list__sort-toggle{display:flex}.cu-inbox-list__sort-menu{width:190px}.cu-inbox-list__sort-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-inbox-list__sort-name{color:#abaeb0}.cu-inbox-list__sort-dir{width:12px;height:12px;margin-right:5px}.cu-inbox-list__dropdown{display:inline-block}.cu-inbox-list__dropdown-toggle{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;height:38px;padding:0 10px;cursor:pointer}.cu-inbox-list__dropdown-toggle:hover,.cu-inbox-list__dropdown.cu-dropdown_open .cu-inbox-list__dropdown-toggle{background-color:#fff;box-shadow:0 1px 5px 0 rgba(0,0,0,.1)}.dark-theme .cu-inbox-list__dropdown-toggle:hover,.dark-theme .cu-inbox-list__dropdown.cu-dropdown_open .cu-inbox-list__dropdown-toggle{background-color:#384047}.cu-inbox-list__dropdown-name{font:400 17px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:5px;color:#343434}.dark-theme .cu-inbox-list__dropdown-name{color:#d5d6d7}.cu-inbox-list__dropdown-caret-down{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7b68ee;width:12px;height:12px}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__dropdown-caret-down{fill:var(--theme-main-color)}}.cu-inbox-list__dropdown.cu-dropdown_open .cu-inbox-list__dropdown-caret-down{transform:rotate(180deg)}.cu-inbox-list__hint{display:flex;align-items:center;padding:10px 0 15px}.cu-inbox-list__hint:after,.cu-inbox-list__hint:before{content:"";background:#d0d3d9;height:1px;flex-grow:1;opacity:.6}.dark-theme .cu-inbox-list__hint:after,.dark-theme .cu-inbox-list__hint:before{background:#828588}.cu-inbox-list__hint-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#a5a9b0;padding:0 20px}.cu-inbox-list__hint-text-self{font-weight:500;font-size:12px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-inbox-list__hint-text-self{font-family:var(--global-font-support)}}.cu-inbox-list__hint-text-self-text{color:#818193}.cu-inbox-list__hint-text-self-text strong{color:#343434}.dark-theme .cu-inbox-list__hint-text-self-text{color:#d5d6d7}.dark-theme .cu-inbox-list__hint-text-self-text strong{color:#828588}.cu-inbox-list__hint-text-self .icon{fill:#818193;stroke:#818193;stroke-width:1.2px;width:14px;height:16px;margin-right:7px}.dark-theme .cu-inbox-list__hint-text-self .icon{fill:#d5d6d7;stroke:#d5d6d7}.cu-inbox-list__hint-text-question{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:14px;height:14px;cursor:pointer;margin:-3px 0 -3px 4px;pointer-events:all;display:inline-block;fill:#ccc}.dark-theme .cu-inbox-list__hint-text-question{fill:#828588}.cu-inbox-list__hint-text-question:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__hint-text-question:hover{fill:var(--theme-main-color)}}@media screen and (max-width:992px){.cu-inbox-list .cu-task-row__main{min-width:0}}.cu-inbox-list__btn-toggle{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:26px;height:26px;fill:#aeacb0}.dark-theme .cu-inbox-list__btn-toggle{fill:#828588}.cu-inbox-list__btn-toggle:hover,.cu-inbox-list__btn-toggle_active{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__btn-toggle:hover,.cu-inbox-list__btn-toggle_active{fill:var(--theme-main-color)}}.cu-inbox-list__btn-toggle_view-settings{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;background:#fff;border:1px solid #fff;width:38px;height:38px;padding:11px;box-shadow:0 1px 5px 0 rgba(0,0,0,.1)}.contrast_high .cu-inbox-list__btn-toggle_view-settings{box-shadow:0 1px 5px 0 rgba(0,0,0,.15)}.dark-theme .cu-inbox-list__btn-toggle_view-settings{background:#2b343b;border:1px solid #2b343b}.cu-inbox-list__btn.cu-dropdown_open .cu-inbox-list__btn-toggle,.cu-inbox-list__btn .cu-dropdown_open .cu-inbox-list__btn-toggle{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__btn.cu-dropdown_open .cu-inbox-list__btn-toggle,.cu-inbox-list__btn .cu-dropdown_open .cu-inbox-list__btn-toggle{fill:var(--theme-main-color)}}.cu-inbox-list__btn .cu-dropdown__toggle{display:flex;align-items:center}.cu-inbox-list__btn .cu-dropdown__toggle:hover .cu-inbox-list__btn-toggle{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-inbox-list__btn .cu-dropdown__toggle:hover .cu-inbox-list__btn-toggle{fill:var(--theme-main-color)}}.cu-inbox-list .cu-task-row-main{min-width:0}.cu-inbox-list__collapsed{display:flex;align-items:center;flex-direction:column;justify-content:center;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none}.cu-inbox-list__collapsed_dragging{min-height:50px;background-color:hsla(0,0%,100%,.8);pointer-events:all}.cu-inbox-list__collapsed-message{visibility:hidden}.cdk-drop-list-dragging .cu-inbox-list__collapsed-message{display:none}.cu-inbox-list__collapsed_dragging .cu-inbox-list__collapsed-message{visibility:visible}'],encapsulation:2,changeDetection:0}),e})();const $e=function(e){return{"cu-inbox-tab_no-menu":e}},ze=function(){return{status:!0,dueDate:!0,priority:!0,assignee:!0}};function Me(e,t){if(1&e){const e=j.dc();j.cc(0,"cu-inbox-list",1),j.qc("onOpenTask",function(t){return j.Uc(e),j.uc().openTask(t)})("onLoadMore",function(){return j.Uc(e),j.uc().loadMore()})("onCreateReminder",function(t){return j.Uc(e),j.uc().createReminder(t)})("onToggleSort",function(t){return j.Uc(e),j.uc().toggleSort(t)})("onChangeReminderPosition",function(t){return j.Uc(e),j.uc().changeReminderPosition(t)})("onToggleExpand",function(){return j.Uc(e),j.uc().toggleExpand()})("onEditTask",function(t){return j.Uc(e),j.uc().editTask(t)})("onLazyLoad",function(t){return j.Uc(e),j.uc().lazyLoadData(t)})("onChangeSettings",function(t){return j.Uc(e),j.uc().changeSettings(t)})("onReorder",function(t){return j.Uc(e),j.uc().reorder(t)})("onDragStarted",function(t){return j.Uc(e),j.uc().dragStarted(t)})("onDragEnded",function(t){return j.Uc(e),j.uc().dragEnded(t)}),j.vc(1,"async"),j.vc(2,"async"),j.vc(3,"async"),j.vc(4,"async"),j.vc(5,"async"),j.vc(6,"async"),j.vc(7,"async"),j.vc(8,"async"),j.vc(9,"async"),j.vc(10,"async"),j.vc(11,"async"),j.vc(12,"async"),j.vc(13,"async"),j.vc(14,"async"),j.vc(15,"async"),j.vc(16,"async"),j.vc(17,"async"),j.vc(18,"async"),j.bc()}if(2&e){const e=j.uc();let t=null;j.Dc("ngClass",j.Hc(57,$e,(null==(t=j.wc(1,21,e.currentUser$))?null:t.dashboard)===e.LayoutVersion.Three))("team",j.wc(2,23,e.team$))("user",j.wc(3,25,e.user$))("tab",j.wc(4,27,e.selectedTabData$))("rollups",j.wc(5,29,e.rollups$))("weights",j.wc(6,31,e.weights$))("currentUser",j.wc(7,33,e.currentUser$))("statusesMap",j.wc(8,35,e.inboxService.statusesMap$))("usersMap",j.wc(9,37,e.inboxService.usersMap$))("data",j.wc(10,39,e.data$))("expanded",j.wc(11,41,e.expanded$))("expandable",e.expandable)("projectsMap",j.wc(12,43,e.projectsMap$))("sortBy",j.wc(13,45,e.sortBy$))("reminderPosition",j.wc(14,47,e.reminderPosition$))("limitedEdit",j.Gc(59,ze))("hideAssignee",j.wc(15,49,e.isGuest$))("userGroups",j.wc(16,51,e.userGroups$))("defaultDates",j.wc(17,53,e.defaultDates$))("scrollContainer",e.scrollContainer)("isDragging",j.wc(18,55,e.isDragging$))}}let Ee=(()=>{class e{constructor(e,t,i,s,r,m,h,_){this.el=e,this.store=t,this.action$=i,this.sharedTaskService=s,this.inboxService=r,this.websocketService=m,this.taskService=h,this.effects=_,this.inputUser$=new g.a(void 0),this.selectedTab$=new g.a(void 0),this.isGuest$=this.store.select(l.isGuestTeam),this.team$=this.store.select(l.getTeam),this.weights$=this.store.select(l.getUserWeights),this.userGroups$=this.store.select(o.c),this.currentUser$=this.store.select(l.getUser),this.user$=Object(f.a)([this.inputUser$,this.currentUser$]).pipe(Object(y.a)(([e,t])=>null!=e?e:t),Object(c.a)()),this.projectsMap$=this.store.select(l.getAllProjectsMap),this.selectedTabData$=this.selectedTab$.pipe(Object(y.a)(e=>d.e.find(t=>t.id===e)||d.e[0])),this.tabAndUser$=Object(f.a)([this.selectedTab$.pipe(Object(c.a)()),this.user$.pipe(Object(w.a)("id"))]).pipe(Object(k.a)(([e,t])=>!(!e||!t))),this.data$=this.tabAndUser$.pipe(Object(x.a)(([e,t])=>{this.store.dispatch(Object(u.k)({tab:e,userId:t.id}))}),Object(T.a)(([e,t])=>this.store.pipe(Object(b.select)(Object(p.h)(e,t.id))))),this.sortBy$=this.tabAndUser$.pipe(Object(T.a)(([e,t])=>this.store.pipe(Object(b.select)(Object(p.g)(e,t.id))))),this.reminderPosition$=this.tabAndUser$.pipe(Object(T.a)(([e,t])=>this.store.pipe(Object(b.select)(Object(p.f)(e,t.id))))),this.expanded$=this.tabAndUser$.pipe(Object(T.a)(([e,t])=>this.store.pipe(Object(b.select)(Object(p.e)(e,t.id))))),this.defaultDates$=this.selectedTab$.pipe(Object(c.a)(),Object(y.a)(e=>({dueDate:Object(d.d)(e),dueDateTime:!1}))),this.rollups$=this.store.select(l.getTimeRollups),this.isDragging$=this.inboxService.isDragging$,this.InboxTabs=d.a,this.LayoutVersion=a.b,this.trackById=Object(n.d)("id"),this.expandable=!0}ngOnChanges(e){e.tab&&this.selectedTab$.next(e.tab.currentValue),e.user&&this.inputUser$.next(e.user.currentValue)}ngOnInit(){this.store.dispatch(Object(u.j)()),this.effects.register(this.user$.pipe(Object(k.a)(e=>!!e)),e=>{this.sectionUser=e})}ngAfterViewInit(){this.effects.register(this.action$.pipe(Object(h.d)(u.f)),e=>{this.store.dispatch(Object(u.F)({tab:this.tab,userId:this.sectionUser.id,tasks:[e.reminder]}))}),this.effects.register(this.sharedTaskService.onClose,e=>{e&&this.sectionUser&&this.tab&&(this.store.dispatch(Object(u.F)({tab:this.tab,userId:this.sectionUser.id,tasks:[e]})),this.store.dispatch(Object(u.o)({tab:this.tab,userId:this.sectionUser.id,ids:[e.id]})))}),this.effects.register(this.websocketService.onChange.pipe(Object(S.a)(this.store.select(p.a))),([e,t])=>{if(e&&e.type&&e.payload)switch(e.type){case"taskCreated":e.payload.task&&this.store.dispatch(Object(u.F)({tab:this.tab,userId:this.sectionUser.id,tasks:[e.payload.task]}));break;case"reminderCreated":e.payload.reminder&&this.store.dispatch(Object(u.F)({tab:this.tab,userId:this.sectionUser.id,tasks:[e.payload.reminder]}));break;case"taskUpdate":const i=Object(s.a)(e.payload.hist_item,t.freshTasks[e.payload.id]?t.tasksCache[e.payload.id]:void 0);i&&this.inboxService.updateTaskState(this.sectionUser,this.tab,i);break;case"taskDeleted":this.inboxService.removeTaskState(this.sectionUser,this.tab,e.payload.id)}}),this.effects.register(this.taskService.onChange,e=>{if(!e)return;const t=e.tasks||e;if(Array.isArray(t))this.inboxService.updateTasksState(this.sectionUser,this.tab,t);else switch(e.type){case"taskDeleted":this.inboxService.removeTaskState(this.sectionUser,this.tab,e.payload.id);break;case"itemUndo":e.undoBody?e.undoBody.tasks?this.inboxService.insertOrUpdateTasksState(this.sectionUser,this.tab,e.undoBody.tasks):e.undoBody.itemIds&&this.inboxService.reloadInboxTasks(this.sectionUser,this.tab,e.undoBody.itemIds):e.undoReminder&&e.undoReminder.reminder&&this.inboxService.insertOrUpdateTasksState(this.sectionUser,this.tab,[e.undoReminder.reminder])}}),this.effects.register(Object(_.a)(this.taskService.onTaskRemove,this.taskService.onTaskArchive),e=>{Array.isArray(e)&&e.forEach(e=>this.inboxService.removeTaskState(this.sectionUser,this.tab,e.id))}),this.effects.register(this.taskService.onTaskCreate,e=>{this.store.dispatch(Object(u.F)({tab:this.tab,userId:this.sectionUser.id,tasks:[e.task]}))}),this.effects.register(this.taskService.onTasksCreate,e=>{e&&e.tasks&&e.tasks.length&&e.tasks.forEach(e=>{this.store.dispatch(Object(u.F)({tab:this.tab,userId:this.sectionUser.id,tasks:[e]}))})}),this.effects.register(Object(v.a)(9e5),()=>{this.inboxService.reload(this.sectionUser,this.tab)})}openTask(e){this.sharedTaskService.clickTaskLink({id:e.id,customId:e.custom_id,teamId:e.team})}loadMore(){this.sectionUser&&this.tab&&this.store.dispatch(Object(u.m)({tab:this.tab,userId:this.sectionUser.id}))}toggleSort(e){this.sectionUser&&this.tab&&this.store.dispatch(Object(u.B)({tab:this.tab,userId:this.sectionUser.id,field:e}))}changeReminderPosition(e){this.sectionUser&&this.tab&&this.store.dispatch(Object(u.x)({tab:this.tab,userId:this.sectionUser.id,position:e}))}toggleExpand(){this.store.dispatch(Object(u.C)({tab:this.tab,userId:this.sectionUser.id}))}createReminder(e){this.inboxService.createReminder(this.sectionUser,this.tab,e)}editTask(e){this.inboxService.editTask(this.sectionUser,this.tab,e)}lazyLoadData(e){this.inboxService.lazyLoadData(e)}changeSettings(e){this.store.dispatch(new r.om({[e.option]:e.value}))}reorder(e){this.store.dispatch(Object(u.u)({tab:this.tab,userId:this.sectionUser.id,fromIndex:e.fromIndex,toIndex:e.toIndex,task:e.task,removeFromTab:e.fromGroup!==e.toGroup?e.fromGroup:void 0}))}dragStarted(e){this.inboxService.isDragging$.next(!0)}dragEnded(e){this.inboxService.isDragging$.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(j.Wb(j.m),j.Wb(b.Store),j.Wb(h.a),j.Wb(O.a),j.Wb(I.a),j.Wb(D.WebsocketService),j.Wb(C.a),j.Wb(m.b))},e.\u0275cmp=j.Qb({type:e,selectors:[["cu-inbox-section"]],hostAttrs:[1,"cu-inbox-section"],inputs:{tab:"tab",user:"user",expandable:"expandable",scrollContainer:"scrollContainer"},features:[j.Hb([m.b]),j.Gb],decls:2,vars:3,consts:[["class","cu-inbox-section__data-item",3,"ngClass","team","user","tab","rollups","weights","currentUser","statusesMap","usersMap","data","expanded","expandable","projectsMap","sortBy","reminderPosition","limitedEdit","hideAssignee","userGroups","defaultDates","scrollContainer","isDragging","onOpenTask","onLoadMore","onCreateReminder","onToggleSort","onChangeReminderPosition","onToggleExpand","onEditTask","onLazyLoad","onChangeSettings","onReorder","onDragStarted","onDragEnded",4,"ngIf"],[1,"cu-inbox-section__data-item",3,"ngClass","team","user","tab","rollups","weights","currentUser","statusesMap","usersMap","data","expanded","expandable","projectsMap","sortBy","reminderPosition","limitedEdit","hideAssignee","userGroups","defaultDates","scrollContainer","isDragging","onOpenTask","onLoadMore","onCreateReminder","onToggleSort","onChangeReminderPosition","onToggleExpand","onEditTask","onLazyLoad","onChangeSettings","onReorder","onDragStarted","onDragEnded"]],template:function(e,t){1&e&&(j.bd(0,Me,19,60,"cu-inbox-list",0),j.vc(1,"async")),2&e&&j.Dc("ngIf",j.wc(1,1,t.selectedTabData$))},directives:[P.q,Pe,P.o],pipes:[P.b],styles:[".cu-inbox-section{display:block;width:100%;z-index:10}@media screen and (max-width:992px){.cu-inbox-section .cu-reminder-row-new__main,.cu-inbox-section .cu-reminder-row__main{min-width:0}.cu-inbox-section .cu-reminder-row-new__main .cu-reminder-row-new__input,.cu-inbox-section .cu-reminder-row-new__main .cu-reminder-row-new__input-container{max-width:100%;text-overflow:ellipsis;font-size:12px}.cu-inbox-section .cu-reminder-row-new__main .cu-reminder-row-new__button{margin:0 5px}}.cu-user-profile-block__user-inbox .cu-inbox-section{padding:0 20px}"],encapsulation:2,changeDetection:0}),e})()},YHHY:function(e,t,i){"use strict";i.d(t,"i",function(){return a}),i.d(t,"o",function(){return o}),i.d(t,"w",function(){return c}),i.d(t,"r",function(){return n}),i.d(t,"l",function(){return s}),i.d(t,"s",function(){return r}),i.d(t,"k",function(){return l}),i.d(t,"v",function(){return d}),i.d(t,"a",function(){return u}),i.d(t,"c",function(){return p}),i.d(t,"b",function(){return m}),i.d(t,"x",function(){return h}),i.d(t,"u",function(){return b}),i.d(t,"p",function(){return g}),i.d(t,"t",function(){return f}),i.d(t,"q",function(){return _}),i.d(t,"g",function(){return v}),i.d(t,"I",function(){return y}),i.d(t,"y",function(){return w}),i.d(t,"j",function(){return k}),i.d(t,"H",function(){return x}),i.d(t,"G",function(){return T}),i.d(t,"B",function(){return S}),i.d(t,"z",function(){return j}),i.d(t,"D",function(){return O}),i.d(t,"A",function(){return I}),i.d(t,"h",function(){return D}),i.d(t,"n",function(){return C}),i.d(t,"J",function(){return P}),i.d(t,"C",function(){return $}),i.d(t,"E",function(){return z}),i.d(t,"d",function(){return M}),i.d(t,"f",function(){return E}),i.d(t,"e",function(){return L}),i.d(t,"m",function(){return A}),i.d(t,"F",function(){return F});const a="[KEY RESULTS] Go To Next Key Result Step",o="[KEY RESULTS] Set Key Result Add Step",c="[KEY RESULTS] Set Key Result Tasks",n="[KEY RESULTS] Set Key Result Lists",s="[KEY RESULTS] Result Key Result Add",r="[KEY RESULTS] Set Key Result Name",l="[KEY RESULTS] Toggle Key Result Owners",d="[KEY RESULTS] Set Key Result Owners",u="[KEY RESULTS] Create Key Result",p="[KEY RESULTS] Create Key Result Success",m="[KEY RESULTS] Create Key Result Fail",h="[KEY RESULTS] Set Key Result Type",b="[KEY RESULTS] Set Key Result Number Units",g="[KEY RESULTS] Set Key Result Currency",f="[KEY RESULTS] Set Key Result Number",_="[KEY RESULTS] Set Key Result Currency Amount",v="[KEY RESULTS] Editing Key Result Units",y="[KEY RESULTS] Tried Submit Key Result";class w{constructor(e){this.payload=e,this.type=o}}class k{constructor(e){this.payload=e,this.type=a}}class x{constructor(e){this.payload=e,this.type=h}}class T{constructor(e){this.payload=e,this.type=c}}class S{constructor(e){this.payload=e,this.type=n}}class j{constructor(e){this.payload=e,this.type=g}}class O{constructor(e){this.payload=e,this.type=f}}class I{constructor(e){this.payload=e,this.type=_}}class D{constructor(e){this.payload=e,this.type=v}}class C{constructor(){this.type=s}}class P{constructor(){this.type=y}}class ${constructor(e){this.payload=e,this.type=r}}class z{constructor(e){this.payload=e,this.type=b}}class M{constructor(e){this.payload=e,this.type=u}}class E{constructor(e){this.payload=e,this.type=p}}class L{constructor(e){this.payload=e,this.type=m}}class A{constructor(e){this.payload=e,this.type=l}}class F{constructor(e){this.payload=e,this.type=d}}},Ylm9:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},Yvae:function(e,t,i){"use strict";var a=i("msdH"),o=i("cvt+"),c=i("+2NU"),n=i("twO/"),s=i("ovuK"),r=i("ZWiB");t.a=function(e,t,i,l){var d=-1,u=o.a,p=!0,m=e.length,h=[],b=t.length;if(!m)return h;i&&(t=Object(n.a)(t,Object(s.a)(i))),l?(u=c.a,p=!1):t.length>=200&&(u=r.a,p=!1,t=new a.a(t));e:for(;++d<m;){var g=e[d],f=null==i?g:i(g);if(g=l||0!==g?g:0,p&&f==f){for(var _=b;_--;)if(t[_]===f)continue e;h.push(g)}else u(t,f,l)||h.push(g)}return h}},"Z+Ka":function(e,t,i){"use strict";i.d(t,"a",function(){return d});var a=i("ofXK"),o=i("+VAm"),c=i("je31"),n=i("UDEt"),s=i("K0KF"),r=i("gb9A"),l=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=l.Ub({type:e}),e.\u0275inj=l.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.a,s.a,r.a]]}),e})()},ZAnn:function(e,t,i){"use strict";i.d(t,"a",function(){return et});var a=i("dTHz"),o=i("l7P3"),c=i("c3rA"),n=i("lJxs"),s=i("/uUt"),r=i("pLZG"),l=i("PZkE"),d=i("eIep"),u=i("zp1y"),p=i("1G5W"),m=i("1gLt"),h=i("D+Sl"),b=i("XNiG"),g=i("itXk"),f=i("LRne"),_=i("lI7e"),v=i("G/1d"),y=i("hr9B"),w=i("PBBv"),k=i("7G3y"),x=i("dqeI"),T=i("L4xm"),S=i("o5rX"),j=i("uYtF"),O=i("Muja"),I=i("0Oxh"),D=i("m2AY"),C=i("Dc74"),P=i("ObVV"),$=i("GkwO"),z=i("o7Ov"),M=i("fXoL");let E=(()=>{class e{constructor(){this.dashboardsText=$localize`:@@cu2-spaces-bar__tooltip-msg_dashboards:Dashboards (d)`,this.docsText=$localize`:@@common_docs:Docs`,this.goalsText=$localize`:@@common_goals:Goals`,this.inboxAndRemindersText=$localize`:@@cu2-spaces-bar__tooltip-msg_inbox-and-reminders:Inbox and Reminders`,this.notificationsText=$localize`:@@cu2-spaces-bar__tooltip-msg_notifications:Notifications (n)`,this.portfoliosText=$localize`:@@common_portfolios:Portfolios`,this.pulseText=$localize`:@@common_pulse:Pulse`,this.reportingText=$localize`:@@common_reporting:Reporting`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=M.Sb({token:e,factory:e.\u0275fac}),e})();var L=i("UAfm"),A=i("jJW4"),F=i("tyNb"),U=i("WwCI"),N=i("rLOZ"),R=i("/qmH"),G=i("ofXK"),q=i("LlVm"),B=i("HPyy"),W=i("NsZK"),V=i("ZRUT"),X=i("UdVN"),H=i("LdyQ"),Y=i("MJvn"),Z=i("n+1/"),Q=i("97dl"),K=i("jACb");const J=["resourceCenterDropdown"],ee=["resourceCenter"],te=function(){return{right:!0}};function ie(e,t){1&e&&M.Xb(0,"div",20),2&e&&M.Dc("resizeEdges",M.Gc(1,te))}function ae(e,t){if(1&e&&(M.Xb(0,"img",39),M.vc(1,"async")),2&e){const e=M.uc(3);let t=null;M.Dc("src",null==(t=M.wc(1,1,e.team$))||null==t.branding?null:t.branding.round_logo,M.Xc)}}function oe(e,t){1&e&&M.Xb(0,"img",40)}function ce(e,t){1&e&&(M.cc(0,"div",41),M.Xb(1,"img",42),M.Xb(2,"img",43),M.bc())}function ne(e,t){if(1&e&&(M.cc(0,"div",44),M.Xb(1,"img",45),M.vc(2,"async"),M.Xb(3,"img",45),M.vc(4,"async"),M.bc()),2&e){const e=M.uc(3);let t=null,i=null;M.Ib(1),M.Dc("src",null==(t=M.wc(2,2,e.team$))||null==t.branding?null:t.branding.rectangle_logo,M.Xc),M.Ib(2),M.Dc("src",null==(i=M.wc(4,4,e.team$))||null==i.branding?null:i.branding.rectangle_logo,M.Xc)}}function se(e,t){if(1&e&&(M.cc(0,"a",33),M.vc(1,"async"),M.cc(2,"div",34),M.bd(3,ae,2,3,"img",35),M.vc(4,"async"),M.bd(5,oe,1,0,"img",36),M.vc(6,"async"),M.vc(7,"async"),M.bc(),M.bd(8,ce,3,0,"div",37),M.vc(9,"async"),M.vc(10,"async"),M.vc(11,"async"),M.bd(12,ne,5,6,"div",38),M.vc(13,"async"),M.vc(14,"async"),M.bc()),2&e){const e=M.uc(2);M.Dc("routerLink",M.wc(1,6,e.homePath$))("routerLinkActive","cu2-spaces-bar__logo_active"),M.Ib(3),M.Dc("ngIf",M.wc(4,8,e.usingWhiteLabelRoundLogo$)),M.Ib(2),M.Dc("ngIf",!(M.wc(6,10,e.usingWhiteLabelRoundLogo$)||M.wc(7,12,e.usingWhiteLabelRectangleLogo$))),M.Ib(3),M.Dc("ngIf",!M.wc(9,14,e.isGuestTeam$)&&!(M.wc(10,16,e.usingWhiteLabelRoundLogo$)||M.wc(11,18,e.usingWhiteLabelRectangleLogo$))),M.Ib(4),M.Dc("ngIf",!M.wc(13,20,e.isGuestTeam$)&&M.wc(14,22,e.usingWhiteLabelRectangleLogo$))}}function re(e,t){if(1&e&&(M.Xb(0,"img",45),M.vc(1,"async")),2&e){const e=M.uc(3);let t=null;M.Dc("src",null==(t=M.wc(1,1,e.team$))||null==t.branding?null:t.branding.round_logo,M.Xc)}}function le(e,t){1&e&&M.Xb(0,"img",40)}function de(e,t){1&e&&(M.cc(0,"div",41),M.Xb(1,"img",42),M.Xb(2,"img",43),M.bc())}function ue(e,t){if(1&e&&(M.cc(0,"div",44),M.Xb(1,"img",45),M.vc(2,"async"),M.Xb(3,"img",45),M.vc(4,"async"),M.bc()),2&e){const e=M.uc(3);let t=null,i=null;M.Ib(1),M.Dc("src",null==(t=M.wc(2,2,e.team$))||null==t.branding?null:t.branding.rectangle_logo,M.Xc),M.Ib(2),M.Dc("src",null==(i=M.wc(4,4,e.team$))||null==i.branding?null:i.branding.rectangle_logo,M.Xc)}}function pe(e,t){if(1&e&&(M.cc(0,"div",46),M.cc(1,"div",34),M.bd(2,re,2,3,"img",47),M.vc(3,"async"),M.bd(4,le,1,0,"img",36),M.vc(5,"async"),M.bc(),M.bd(6,de,3,0,"div",37),M.vc(7,"async"),M.vc(8,"async"),M.bd(9,ue,5,6,"div",38),M.vc(10,"async"),M.vc(11,"async"),M.bc()),2&e){const e=M.uc(2);M.Ib(2),M.Dc("ngIf",M.wc(3,4,e.usingWhiteLabelRoundLogo$)),M.Ib(2),M.Dc("ngIf",!M.wc(5,6,e.usingWhiteLabelRoundLogo$)),M.Ib(2),M.Dc("ngIf",!M.wc(7,8,e.isGuestTeam$)&&!M.wc(8,10,e.usingWhiteLabelRectangleLogo$)),M.Ib(3),M.Dc("ngIf",!M.wc(10,12,e.isGuestTeam$)&&M.wc(11,14,e.usingWhiteLabelRectangleLogo$))}}const me=function(e){return{"cu2-spaces-bar__row_active":e}};function he(e,t){if(1&e&&(M.cc(0,"a",48,49),M.vc(2,"async"),M.vc(3,"async"),M.cc(4,"div",13),M.Xb(5,"div",50),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",15),M.gc(10,51),M.bc(),M.bc()),2&e){const e=M.Rc(1),t=M.uc(2);let i=null;M.Dc("ngClass",M.Hc(14,me,e.isActive||M.wc(2,4,t.isInbox$)))("routerLink",M.wc(3,6,t.homePath$)),M.Ib(5),M.Ec("cuTooltip",M.wc(7,10,t.isSpacesBarCollapsed$)||!t.showProjects||(null==(i=M.wc(8,12,t.user$))?null:i.dashboard)===t.LayoutVersion.Five?"Home (h)":null),M.Dc("icon",e.isActive||M.wc(6,8,t.isInbox$)?"cu2-home-2-fill":"cu2-home-2")}}function be(e,t){if(1&e&&(M.cc(0,"a",52),M.vc(1,"async"),M.vc(2,"async"),M.cc(3,"div",13),M.Xb(4,"div",53),M.vc(5,"async"),M.bc(),M.bc()),2&e){const e=M.uc(2);let t=null;M.Dc("ngClass",M.Hc(9,me,M.wc(1,3,e.isDashboard$)))("routerLink",null==(t=M.wc(2,5,e.backLink$))?null:t.url),M.Ib(4),M.Dc("icon",M.wc(5,7,e.isDashboard$)?"cu2-check-2-fill":"cu2-check-2")}}function ge(e,t){1&e&&M.Xb(0,"div",54)}const fe=function(e){return{"cu2-spaces-bar__row-arrow_down":e}};function _e(e,t){if(1&e){const e=M.dc();M.cc(0,"div",61),M.qc("click",function(){return M.Uc(e),M.uc(3).toggleInbox()}),M.bc()}if(2&e){const e=M.uc(3);M.Dc("ngClass",M.Hc(1,fe,!e.hideInbox))}}const ve=function(e,t){return{"cu2-spaces-bar__row_opened":e,"cu2-spaces-bar__row_active":t}},ye=function(e){return["/",e,"inbox"]};function we(e,t){if(1&e&&(M.cc(0,"div",55),M.vc(1,"async"),M.vc(2,"async"),M.bd(3,_e,1,3,"div",56),M.vc(4,"async"),M.cc(5,"a",57),M.vc(6,"async"),M.Xb(7,"div",58),M.vc(8,"async"),M.vc(9,"async"),M.vc(10,"async"),M.vc(11,"async"),M.vc(12,"async"),M.bc(),M.cc(13,"div",59),M.gc(14,60),M.vc(15,"async"),M.bc(),M.bc()),2&e){const e=M.uc(2);let t=null,i=null,a=null,o=null;M.Dc("ngClass",M.Ic(26,ve,!e.hideInbox||M.wc(1,6,e.isInbox$),M.wc(2,8,e.isInbox$))),M.Ib(3),M.Dc("ngIf",!M.wc(4,10,e.isInbox$)),M.Ib(2),M.Dc("routerLink",M.Hc(29,ye,(null==(t=M.wc(6,12,e.team$))?null:t.id)||"")),M.Ib(2),M.Ec("cuTooltip",M.wc(11,20,e.isSpacesBarCollapsed$)||!e.showProjects||(null==(i=M.wc(12,22,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.inboxAndRemindersText:null),M.Dc("icon",(null==(a=M.wc(8,14,e.user$))?null:a.dashboard)===e.LayoutVersion.Four||(null==(a=M.wc(9,16,e.user$))?null:a.dashboard)===e.LayoutVersion.Five?M.wc(10,18,e.isInbox$)?"cu2-inbox-2-fill":"cu2-inbox-2":"cu2-inbox"),M.Ib(6),M.Dc("routerLink",M.Hc(31,ye,(null==(o=M.wc(15,24,e.team$))?null:o.id)||""))}}function ke(e,t){if(1&e&&(M.cc(0,"div",62),M.cc(1,"div",63),M.vc(2,"async"),M.Xb(3,"div",64),M.ac(4),M.gc(5,65),M.Zb(),M.bc(),M.cc(6,"div",63),M.vc(7,"async"),M.Xb(8,"div",66),M.ac(9),M.gc(10,67),M.Zb(),M.bc(),M.cc(11,"div",63),M.vc(12,"async"),M.Xb(13,"div",68),M.ac(14),M.gc(15,69),M.Zb(),M.bc(),M.cc(16,"div",63),M.vc(17,"async"),M.Xb(18,"div",70),M.ac(19),M.gc(20,71),M.Zb(),M.bc(),M.bc()),2&e){const e=M.uc(2);let t=null,i=null,a=null,o=null;M.Dc("@loading",void 0),M.Ib(1),M.Dc("routerLink",M.Hc(13,ye,(null==(t=M.wc(2,5,e.team$))?null:t.id)||"")),M.Ib(5),M.Dc("routerLink",M.Hc(15,ye,(null==(i=M.wc(7,7,e.team$))?null:i.id)||"")),M.Ib(5),M.Dc("routerLink",M.Hc(17,ye,(null==(a=M.wc(12,9,e.team$))?null:a.id)||"")),M.Ib(5),M.Dc("routerLink",M.Hc(19,ye,(null==(o=M.wc(17,11,e.team$))?null:o.id)||""))}}function xe(e,t){1&e&&(M.cc(0,"div",78),M.Xb(1,"cu-sidebar-favorites",79),M.bc()),2&e&&(M.Ib(1),M.Dc("modifier","cu-sidebar-favorites_dropdown")("forDropdown",!0))}function Te(e,t){1&e&&(M.cc(0,"div",72),M.cc(1,"div",73),M.cc(2,"div",74),M.cc(3,"div",75),M.Xb(4,"div",76),M.bc(),M.bc(),M.bd(5,xe,2,2,"div",77),M.bc(),M.bc()),2&e&&(M.Ib(1),M.Dc("dropdownPlacement","right"))}const Se=function(e){return{"cu-sidebar-favorites_hidden":e}};function je(e,t){if(1&e&&(M.Xb(0,"cu-sidebar-favorites",80),M.vc(1,"async")),2&e){const e=M.uc(2);M.Dc("ngClass",M.Hc(4,Se,M.wc(1,2,e.favoritesPinned$)))("modifier","cu-sidebar-favorites_spaces-bar")}}const Oe=function(e){return["/",e,"notifications"]};function Ie(e,t){if(1&e&&(M.ac(0),M.bd(1,se,15,24,"a",21),M.vc(2,"async"),M.bd(3,pe,12,16,"ng-template",null,22,M.cd),M.bd(5,he,11,16,"a",23),M.vc(6,"async"),M.bd(7,be,6,11,"a",24),M.vc(8,"async"),M.cc(9,"a",25),M.vc(10,"async"),M.cc(11,"div",13),M.Xb(12,"div",26),M.vc(13,"async"),M.vc(14,"async"),M.vc(15,"async"),M.vc(16,"async"),M.vc(17,"async"),M.vc(18,"async"),M.bd(19,ge,1,0,"div",27),M.vc(20,"async"),M.bc(),M.cc(21,"div",15),M.gc(22,28),M.bc(),M.bc(),M.bd(23,we,16,33,"div",29),M.vc(24,"async"),M.bd(25,ke,21,21,"div",30),M.vc(26,"async"),M.vc(27,"async"),M.bd(28,Te,6,1,"div",31),M.vc(29,"async"),M.vc(30,"async"),M.vc(31,"async"),M.bd(32,je,2,6,"cu-sidebar-favorites",32),M.vc(33,"async"),M.vc(34,"async"),M.vc(35,"async"),M.vc(36,"async"),M.Zb()),2&e){const e=M.Rc(4),t=M.uc();let i=null,a=null,o=null,c=null,n=null,s=null;M.Ib(1),M.Dc("ngIf",!M.wc(2,15,t.isGuestTeam$))("ngIfElse",e),M.Ib(4),M.Dc("ngIf",!M.wc(6,17,t.isGuestTeam$)),M.Ib(2),M.Dc("ngIf",(null==(i=M.wc(8,19,t.user$))?null:i.dashboard)===t.LayoutVersion.Five),M.Ib(2),M.Dc("routerLink",M.Hc(57,Oe,(null==(a=M.wc(10,21,t.team$))?null:a.id)||""))("routerLinkActive","cu2-spaces-bar__row_active"),M.Ib(3),M.Ob("cu2-spaces-bar__compact-btn_has-unseen",t.hasUnseenNotifications&&!M.wc(13,23,t.isNotifications$)),M.Ec("cuTooltip",M.wc(17,31,t.isSpacesBarCollapsed$)||!t.showProjects||(null==(o=M.wc(18,33,t.user$))?null:o.dashboard)===t.LayoutVersion.Five?t.spacesBarStringsService.notificationsText:null),M.Dc("icon",(null==(c=M.wc(14,25,t.user$))?null:c.dashboard)===t.LayoutVersion.Four||(null==(c=M.wc(15,27,t.user$))?null:c.dashboard)===t.LayoutVersion.Five?M.wc(16,29,t.isNotifications$)?"cu2-bell-2-fill":"cu2-bell-2":"cu2-bell"),M.Ib(7),M.Dc("ngIf",t.hasUnseenNotifications&&!M.wc(20,35,t.isNotifications$)),M.Ib(4),M.Dc("ngIf",M.wc(24,37,t.isGuestTeam$)),M.Ib(2),M.Dc("ngIf",!t.hideInbox&&!M.wc(26,39,t.isInbox$)&&!M.wc(27,41,t.isSpacesBarCollapsed$)),M.Ib(3),M.Dc("ngIf",(null==(n=M.wc(29,43,t.user$))?null:n.dashboard)!==t.LayoutVersion.Five&&!M.wc(30,45,t.favoritesPinned$)&&M.wc(31,47,t.isSpacesBarCollapsed$)&&t.showProjects),M.Ib(4),M.Dc("ngIf",(null==(s=M.wc(33,49,t.user$))?null:s.dashboard)!==t.LayoutVersion.Five&&!M.wc(34,51,t.favoritesPinned$)&&!M.wc(35,53,t.isSpacesBarCollapsed$)&&t.showProjects&&!M.wc(36,55,t.isGuestTeam$))}}function De(e,t){1&e&&M.Xb(0,"cu2-project-list-bar")}function Ce(e,t){if(1&e&&(M.cc(0,"a",83),M.vc(1,"async"),M.Xb(2,"div",84),M.cc(3,"div",85),M.cc(4,"div",86),M.gc(5,87),M.bc(),M.cc(6,"div",88),M.dd(7),M.vc(8,"async"),M.bc(),M.bc(),M.bc()),2&e){const e=M.uc(2);let t=null,i=null;M.Dc("routerLink",null==(t=M.wc(1,2,e.backLink$))?null:t.url),M.Ib(7),M.fd(" ",null==(i=M.wc(8,4,e.backLink$))?null:i.name," ")}}function Pe(e,t){if(1&e&&(M.cc(0,"div",81),M.vc(1,"async"),M.vc(2,"async"),M.bd(3,De,1,0,"cu2-project-list-bar",3),M.bd(4,Ce,9,6,"a",82),M.vc(5,"async"),M.bc()),2&e){const e=M.uc();M.ad("width",M.wc(1,4,e.isSpacesBarCollapsed$)||!e.showProjects?null:M.wc(2,6,e.sidebarWidth$)-1,"px"),M.Ib(3),M.Dc("ngIf",e.showProjects),M.Ib(1),M.Dc("ngIf",!e.showProjects&&!M.wc(5,8,e.hideBackLink$))}}const $e=function(e){return["/",e,"dashboards"]};function ze(e,t){if(1&e&&(M.cc(0,"a",25),M.vc(1,"async"),M.cc(2,"div",13),M.Xb(3,"div",89),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",15),M.gc(10,90),M.bc(),M.bc()),2&e){const e=M.uc();let t=null,i=null,a=null;M.Dc("routerLink",M.Hc(16,$e,(null==(t=M.wc(1,4,e.team$))?null:t.id)||""))("routerLinkActive","cu2-spaces-bar__row_active"),M.Ib(3),M.Ec("cuTooltip",M.wc(7,12,e.isSpacesBarCollapsed$)||(null==(i=M.wc(8,14,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.dashboardsText:null),M.Dc("icon",(null==(a=M.wc(4,6,e.user$))?null:a.dashboard)===e.LayoutVersion.Four||(null==(a=M.wc(5,8,e.user$))?null:a.dashboard)===e.LayoutVersion.Five?M.wc(6,10,e.isDashboards$)?"cu2-dashboards-fill":"cu2-dashboards":"cu2-tachometer-fast")}}function Me(e,t){if(1&e&&M.Yb(0,91),2&e){M.uc();const e=M.Rc(52);M.Dc("ngTemplateOutlet",e)}}function Ee(e,t){if(1&e&&(M.cc(0,"div",92),M.Yb(1,91),M.bc()),2&e){M.uc();const e=M.Rc(52);M.Ib(1),M.Dc("ngTemplateOutlet",e)}}const Le=function(e){return["/",e,"docs"]};function Ae(e,t){if(1&e&&(M.cc(0,"a",25),M.vc(1,"async"),M.cc(2,"div",13),M.Xb(3,"div",102),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",15),M.gc(10,103),M.bc(),M.bc()),2&e){const e=M.uc(2);let t=null,i=null,a=null;M.Dc("routerLink",M.Hc(16,Le,(null==(t=M.wc(1,4,e.team$))?null:t.id)||""))("routerLinkActive","cu2-spaces-bar__row_active"),M.Ib(3),M.Ec("cuTooltip",M.wc(7,12,e.isSpacesBarCollapsed$)||(null==(i=M.wc(8,14,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.docsText:null),M.Dc("icon",(null==(a=M.wc(4,6,e.user$))?null:a.dashboard)!==e.LayoutVersion.Four&&(null==(a=M.wc(5,8,e.user$))?null:a.dashboard)!==e.LayoutVersion.Five||!M.wc(6,10,e.isDocs$)?"cu2-docs":"cu2-docs-fill")}}const Fe=function(e){return["/",e,"pulse"]};function Ue(e,t){if(1&e&&(M.cc(0,"a",25),M.vc(1,"async"),M.cc(2,"div",13),M.Xb(3,"div",104),M.vc(4,"async"),M.vc(5,"async"),M.bc(),M.cc(6,"div",15),M.gc(7,105),M.bc(),M.bc()),2&e){const e=M.uc(2);let t=null,i=null;M.Dc("routerLink",M.Hc(10,Fe,(null==(t=M.wc(1,4,e.team$))?null:t.id)||""))("routerLinkActive","cu2-spaces-bar__row_active"),M.Ib(3),M.Ec("cuTooltip",M.wc(4,6,e.isSpacesBarCollapsed$)||(null==(i=M.wc(5,8,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.pulseText:null),M.Dc("icon","cu2-live-view")}}const Ne=function(e){return["/",e,"goals"]};function Re(e,t){if(1&e&&(M.cc(0,"a",25),M.vc(1,"async"),M.cc(2,"div",13),M.Xb(3,"div",106),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",15),M.gc(10,107),M.bc(),M.bc()),2&e){const e=M.uc(2);let t=null,i=null,a=null;M.Dc("routerLink",M.Hc(16,Ne,null==(t=M.wc(1,4,e.team$))?null:t.id))("routerLinkActive","cu2-spaces-bar__row_active"),M.Ib(3),M.Ec("cuTooltip",M.wc(7,12,e.isSpacesBarCollapsed$)||(null==(i=M.wc(8,14,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.goalsText:null),M.Dc("icon",(null==(a=M.wc(4,6,e.user$))?null:a.dashboard)===e.LayoutVersion.Four||(null==(a=M.wc(5,8,e.user$))?null:a.dashboard)===e.LayoutVersion.Five?M.wc(6,10,e.isGoals$)?"cu2-trophy-2-fill":"cu2-trophy-2":"cu2-trophy")}}function Ge(e,t){1&e&&(M.cc(0,"div",108),M.dd(1," $ "),M.bc())}function qe(e,t){if(1&e){const e=M.dc();M.cc(0,"div",109),M.cc(1,"cu-resource-center",110,111),M.qc("onClose",function(){return M.Uc(e),M.uc(),M.Rc(8).close()})("onActiveItemChange",function(t){return M.Uc(e),M.uc(2).resourceCenterActiveItem=t}),M.vc(3,"async"),M.vc(4,"async"),M.vc(5,"async"),M.bc(),M.bc()}if(2&e){const e=M.uc(2);M.Ob("resource-center-dropdown__menu-bug-form",e.resourceCenterActiveItem===e.ResourceCenterActiveItem.BugForm),M.Ib(1),M.Dc("user",M.wc(3,5,e.user$))("team",M.wc(4,7,e.team$))("bonusClaimed",M.wc(5,9,e.obIncentiveClaimed$))}}function Be(e,t){if(1&e&&(M.cc(0,"a",113),M.vc(1,"async"),M.cc(2,"div",13),M.Xb(3,"div",114),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",15),M.gc(10,115),M.bc(),M.bc()),2&e){const e=M.uc(3);let t=null,i=null;M.Ob("cu2-spaces-bar__row_active",M.wc(1,5,e.isPortfolios$)),M.Dc("routerLink",e.portfoliosRoute),M.Ib(3),M.Ec("cuTooltip",M.wc(7,13,e.isSpacesBarCollapsed$)||(null==(t=M.wc(8,15,e.user$))?null:t.dashboard)===e.LayoutVersion.Five?"Portfolios":null),M.Dc("icon",(null==(i=M.wc(4,7,e.user$))?null:i.dashboard)===e.LayoutVersion.Four||(null==(i=M.wc(5,9,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?M.wc(6,11,e.isPortfolios$)?"cu2-briefcase-2-fill":"cu2-briefcase-2":"cu2-briefcase")}}const We=function(e){return["/",e,"reporting"]};function Ve(e,t){if(1&e&&(M.cc(0,"a",25),M.vc(1,"async"),M.cc(2,"div",13),M.Xb(3,"div",116),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",15),M.gc(10,117),M.bc(),M.bc()),2&e){const e=M.uc(3);let t=null,i=null,a=null;M.Dc("routerLink",M.Hc(16,We,(null==(t=M.wc(1,4,e.team$))?null:t.id)||""))("routerLinkActive","cu2-spaces-bar__row_active"),M.Ib(3),M.Ec("cuTooltip",M.wc(7,12,e.isSpacesBarCollapsed$)||(null==(i=M.wc(8,14,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.reportingText:null),M.Dc("icon",(null==(a=M.wc(4,6,e.user$))?null:a.dashboard)===e.LayoutVersion.Four||(null==(a=M.wc(5,8,e.user$))?null:a.dashboard)===e.LayoutVersion.Five?M.wc(6,10,e.isReporting$)?"cu2-clipboard-2-fill":"cu2-clipboard-2":"cu2-clipboard")}}function Xe(e,t){if(1&e&&(M.ac(0),M.bd(1,Be,11,17,"a",112),M.vc(2,"async"),M.vc(3,"async"),M.bd(4,Ve,11,18,"a",7),M.vc(5,"async"),M.Zb()),2&e){const e=M.uc(2);let t=null,i=null;M.Ib(1),M.Dc("ngIf",!M.wc(2,2,e.isGuestTeam$)||(null==(t=M.wc(3,4,e.team$))?null:t.user_portfolio_count)>0),M.Ib(3),M.Dc("ngIf",(null==(i=M.wc(5,6,e.team$))?null:i.role)!==e.userRoles.GUEST)}}function He(e,t){if(1&e&&(M.cc(0,"a",113),M.vc(1,"async"),M.cc(2,"div",121),M.Xb(3,"div",122),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",123),M.gc(10,124),M.bc(),M.bc()),2&e){const e=M.uc(4);let t=null,i=null;M.Ob("cu2-spaces-bar__row_active",M.wc(1,5,e.isPortfolios$)),M.Dc("routerLink",e.portfoliosRoute),M.Ib(3),M.Ec("cuTooltip",M.wc(7,13,e.isSpacesBarCollapsed$)||(null==(t=M.wc(8,15,e.user$))?null:t.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.portfoliosText:null),M.Dc("icon",(null==(i=M.wc(4,7,e.user$))?null:i.dashboard)===e.LayoutVersion.Four||(null==(i=M.wc(5,9,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?M.wc(6,11,e.isPortfolios$)?"cu2-briefcase-2-fill":"cu2-briefcase-2":"cu2-briefcase")}}function Ye(e,t){if(1&e&&(M.cc(0,"a",25),M.vc(1,"async"),M.cc(2,"div",121),M.Xb(3,"div",125),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.bc(),M.cc(9,"div",123),M.gc(10,126),M.bc(),M.bc()),2&e){const e=M.uc(4);let t=null,i=null,a=null;M.Dc("routerLink",M.Hc(16,We,(null==(t=M.wc(1,4,e.team$))?null:t.id)||""))("routerLinkActive","cu2-spaces-bar__row_active"),M.Ib(3),M.Ec("cuTooltip",M.wc(7,12,e.isSpacesBarCollapsed$)||(null==(i=M.wc(8,14,e.user$))?null:i.dashboard)===e.LayoutVersion.Five?e.spacesBarStringsService.reportingText:null),M.Dc("icon",(null==(a=M.wc(4,6,e.user$))?null:a.dashboard)===e.LayoutVersion.Four||(null==(a=M.wc(5,8,e.user$))?null:a.dashboard)===e.LayoutVersion.Five?M.wc(6,10,e.isReporting$)?"cu2-clipboard-2-fill":"cu2-clipboard-2":"cu2-clipboard")}}function Ze(e,t){if(1&e&&(M.cc(0,"div",120),M.bd(1,He,11,17,"a",112),M.vc(2,"async"),M.vc(3,"async"),M.bd(4,Ye,11,18,"a",7),M.vc(5,"async"),M.bc()),2&e){const e=M.uc(3);let t=null,i=null;M.Ib(1),M.Dc("ngIf",!M.wc(2,2,e.isGuestTeam$)||(null==(t=M.wc(3,4,e.team$))?null:t.user_portfolio_count)>0),M.Ib(3),M.Dc("ngIf",(null==(i=M.wc(5,6,e.team$))?null:i.role)!==e.userRoles.GUEST)}}function Qe(e,t){1&e&&(M.cc(0,"div",72),M.cc(1,"div",73),M.cc(2,"div",74),M.cc(3,"div",13),M.Xb(4,"div",118),M.bc(),M.bc(),M.bd(5,Ze,6,8,"div",119),M.bc(),M.bc()),2&e&&(M.Ib(1),M.Dc("dropdownPlacement","right"))}function Ke(e,t){if(1&e){const e=M.dc();M.bd(0,Ae,11,18,"a",7),M.vc(1,"async"),M.bd(2,Ue,8,12,"a",7),M.vc(3,"async"),M.bd(4,Re,11,18,"a",7),M.vc(5,"async"),M.vc(6,"async"),M.cc(7,"div",93,94),M.qc("dropdownOpen",function(){return M.Uc(e),M.uc().resourceCenterButtonActive=!0})("dropdownClose",function(){return M.Uc(e),M.uc().resourceCenterButtonActive=!1}),M.cc(9,"div",95),M.cc(10,"a",96),M.cc(11,"div",13),M.cc(12,"div",97),M.Xb(13,"div",98),M.vc(14,"async"),M.vc(15,"async"),M.bd(16,Ge,2,0,"div",99),M.vc(17,"async"),M.bc(),M.bc(),M.cc(18,"div",15),M.gc(19,100),M.bc(),M.bc(),M.bc(),M.bd(20,qe,6,11,"div",101),M.bc(),M.bd(21,Xe,6,8,"ng-container",3),M.vc(22,"async"),M.vc(23,"async"),M.vc(24,"async"),M.bd(25,Qe,6,1,"div",31),M.vc(26,"async"),M.vc(27,"async"),M.vc(28,"async"),M.vc(29,"async"),M.vc(30,"async"),M.vc(31,"async")}if(2&e){const e=M.uc();let t=null,i=null,a=null;M.Dc("ngIf",M.wc(1,12,e.showDocs$)),M.Ib(2),M.Dc("ngIf",M.wc(3,14,e.showLiveView$)),M.Ib(2),M.Dc("ngIf",!M.wc(5,16,e.isGuestTeam$)||M.wc(6,18,e.hasGoals$)),M.Ib(3),M.Dc("dropdownCloseOnInsideClick",!1)("dropdownCloseOnOutsideClick",!1)("dropdownCloseOnEscKey",!1)("dropdownPlacement","right"),M.Ib(3),M.Dc("ngClass",M.Hc(44,me,e.resourceCenterButtonActive)),M.Ib(3),M.Dc("icon",((null==(t=M.wc(14,20,e.user$))?null:t.dashboard)===e.LayoutVersion.Four||(t=M.wc(15,22,e.user$)),"question4")),M.Ib(3),M.Dc("ngIf","money"===M.wc(17,24,e.resourceCenterNotification$)),M.Ib(5),M.Dc("ngIf",(null==(i=M.wc(22,26,e.user$))?null:i.dashboard)===e.LayoutVersion.Two||(null==(i=M.wc(23,28,e.user$))?null:i.dashboard)===e.LayoutVersion.Four&&!M.wc(24,30,e.isSpacesBarCollapsed$)),M.Ib(4),M.Dc("ngIf",((null==(a=M.wc(26,32,e.user$))?null:a.dashboard)===e.LayoutVersion.Four&&M.wc(27,34,e.isSpacesBarCollapsed$)||(null==(a=M.wc(28,36,e.user$))?null:a.dashboard)===e.LayoutVersion.Five)&&((null==(a=M.wc(29,38,e.team$))?null:a.role)!==e.userRoles.GUEST||!M.wc(30,40,e.isGuestTeam$)||(null==(a=M.wc(31,42,e.team$))?null:a.user_portfolio_count)>0))}}const Je=function(e,t,i,a){return{"cu2-spaces-bar_v4":e,"cu2-spaces-bar_v5":t,"cu2-spaces-bar_non-expandable":i,"cu2-spaces-bar_expanded":a}};let et=(()=>{class e{constructor(e,t,i,y,k,D,C,z,M){this.spacesBarStringsService=e,this.sharedData=t,this.router=i,this.store=y,this.changeDetectorRef=k,this.renderer=D,this.window=C,this.route=z,this.localStorage=M,this.destroy$=new b.a,this.team$=this.store.select(c.getTeam),this.user$=this.store.select(c.getUser),this.isGuestTeam$=this.store.select(c.isGuestTeam),this.hasGoals$=Object(g.a)([this.store.select(v.u),this.store.select(v.i)]).pipe(Object(n.a)(([e,t])=>e&&e.length||t&&t.length)),this.isSpacesBarCollapsed$=this.store.pipe(Object(o.select)(c.getSpacesBarIsCollapsedOption)),this.isSidebarCollapsed$=this.store.select(c.getSidebarIsCollapsedOption),this.sidebarWidth$=this.store.select(c.getSpacesBarWidthOption),this.isInbox$=this.store.select(_.n),this.isDashboard$=this.store.select(_.k),this.hideBackLink$=this.store.select(_.i),this.backLink$=this.store.pipe(Object(o.select)($.e),Object(s.a)(O.a)),this.favoritesPinned$=this.store.pipe(Object(o.select)(w.g)),this.showResourceCenter$=this.store.select(c.showResourceCenterState),this.dashboards$=this.store.select(x.h),this.showDashboards$=this.store.select(x.J),this.showDocs$=this.store.select(c.getShowDocsHome),this.showLiveView$=this.store.select(c.showLiveView),this.usingWhiteLabelRoundLogo$=this.store.select(c.getUsingWhiteLabelRoundLogo),this.usingWhiteLabelRectangleLogo$=this.store.select(c.getUsingWhiteLabelRectangleLogo),this.portfoliosRoute=[],this.hasUnseenNotifications=!1,this.hideInbox=!0,this.LayoutVersion=a.b,this.resourceCenterButtonActive=!1,this.ResourceCenterActiveItem=S.a,this.showProjects=!0,this.showResourceCenterNotification=!1,this.isSidebarDark=!1,this.isNotifications$=this.route.url.pipe(Object(n.a)(()=>this.router.url.includes("notifications"))),this.isDashboards$=this.route.url.pipe(Object(n.a)(()=>this.router.url.includes("dashboards"))),this.isDocs$=this.route.url.pipe(Object(n.a)(()=>this.router.url.includes("docs"))),this.isGoals$=this.route.url.pipe(Object(n.a)(()=>this.router.url.includes("goals"))),this.isPortfolios$=this.route.url.pipe(Object(n.a)(()=>this.router.url.includes("portfolios"))),this.isReporting$=this.route.url.pipe(Object(n.a)(()=>this.router.url.includes("reporting"))),this.obIncentiveClaimed$=this.store.select(c.obIncentiveClaimedSelector),this.resourceCenterNotification$=this.store.pipe(Object(o.select)(c.getResourceCenterNotification)),this.homePath$=this.team$.pipe(Object(n.a)(e=>this.localStorage.get(L.a)?["/",(null==e?void 0:e.id)||"","home-legacy"]:["/",(null==e?void 0:e.id)||"","home"])),this.store.select(c.getTeam).pipe(Object(r.a)(e=>e&&void 0!==e.user_portfolio_count),Object(l.a)("id"),Object(d.a)(e=>e.user_portfolio_count>0?(C.nativeWindow.cancelIdleCallback(this.idlePortfolios),this.idlePortfolios=C.nativeWindow.requestIdleCallback(()=>{this.store.dispatch(new m.q({teamId:e.id,portfolioGroupId:j.a}))}),this.store.select(Object(h.i)(j.a)).pipe(Object(r.a)(e=>e.length>0))):Object(f.a)([])),Object(u.a)(this.store.select(c.getTeam)),Object(p.a)(this.destroy$)).subscribe(([e,t])=>{this.portfoliosRoute=["/",t.id,"portfolios",e.length>0?String(e[0].pretty_id):null].filter(Boolean)}),this.store.select(c.getTeam).pipe(Object(r.a)(e=>Boolean(e&&e.id)),Object(l.a)("id"),Object(p.a)(this.destroy$)).subscribe(e=>{C.nativeWindow.cancelIdleCallback(this.idleGoals),this.idleGoals=C.nativeWindow.requestIdleCallback(()=>{this.store.dispatch(new P.bb),e&&e.dashboards_enabled&&e.role===a.f.GUEST&&this.store.dispatch(Object(T.o)({tag:"init spaces bar"})),e&&e.docs_home&&e.role===a.f.GUEST&&this.store.dispatch(Object(I.g)({tag:"init spaces bar"}))})})}get userRoles(){return a.f}ngOnInit(){this.store.dispatch(new z.me),this.store.pipe(Object(o.select)(C.a),Object(p.a)(this.destroy$)).subscribe(e=>{this.availableAll=e,this.setUnseen()}),this.team$.pipe(Object(p.a)(this.destroy$)).subscribe(()=>this.setUnseen()),this.store.dispatch(k.m()),this.showResourceCenter$.pipe(Object(p.a)(this.destroy$)).subscribe(e=>{e.show&&(this.store.dispatch(new z.Mk({show:!1,tab:1,playVideo:null})),this.resourceCenterDropdown&&(this.resourceCenterDropdown.open(),setTimeout(()=>{this.resourceCenter&&(e.tab&&this.resourceCenter.changeTab(e.tab),void 0===e.playVideo&&null===e.playVideo||this.resourceCenter.videoClicked(D.a[e.playVideo]),e.startOnAntiCancelationFlow&&this.resourceCenter.showAntiCancelationFlow())},200)))})}setUnseen(){this.hasUnseenNotifications=!!(this.sharedData.compatCurrentTeam&&this.availableAll&&this.availableAll[this.sharedData.compatCurrentTeam.id])&&!!this.availableAll[this.sharedData.compatCurrentTeam.id].unseen}ngOnDestroy(){this.window.nativeWindow.cancelIdleCallback(this.idleGoals),this.window.nativeWindow.cancelIdleCallback(this.idlePortfolios)}resizeStart(e){this.resizeStartWidth=e.rectangle.width}resizing(e){this.renderer.addClass(document.body,"cu-unselectable"),this.store.dispatch(new z.xg(this.resizeStartWidth+e.edges.right)),this.changeDetectorRef.markForCheck()}resizeEnded(){this.renderer.removeClass(document.body,"cu-unselectable")}toggleInbox(){this.hideInbox=!this.hideInbox}}return e.\u0275fac=function(t){return new(t||e)(M.Wb(E),M.Wb(A.a),M.Wb(F.h),M.Wb(o.Store),M.Wb(M.h),M.Wb(M.H),M.Wb(U.a),M.Wb(F.a),M.Wb(N.b))},e.\u0275cmp=M.Qb({type:e,selectors:[["cu2-spaces-bar"]],viewQuery:function(e,t){if(1&e&&(M.jd(J,1),M.jd(ee,1)),2&e){let e;M.Qc(e=M.rc())&&(t.resourceCenterDropdown=e.first),M.Qc(e=M.rc())&&(t.resourceCenter=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&M.Ob("dark-theme",t.isSidebarDark)},inputs:{showProjects:"showProjects",showResourceCenterNotification:"showResourceCenterNotification",isSidebarDark:"isSidebarDark"},features:[M.Hb([E])],decls:53,vars:84,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v;return e=$localize`:@@common_notifications␟3d7da3408b960479ed6936d653b4f5a39c908f00␟6218386627794351386: Notifications `,t=$localize`:@@common_home␟92eee6be6de0b11c924e3ab27db30257159c0a7c␟2821179408673282599:Home`,i=$localize`:@@common_tasks␟586a5fd72602b5b14ec0c55f84814de47bb21e3a␟6904866445262015585:Tasks`,a=$localize`:@@common_inbox␟7f221bd22399b753159b4d5bb7df77a212963144␟8650902750504775870: Inbox `,o=$localize`:@@common_next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`,c=$localize`:inbox status in homepage@@common_done--inbox-status␟8dd413cee2228118c536f503709329a4d1a395e2␟397098723873502323:Done`,n=$localize`:@@cu2-spaces-bar__delegated␟38a5cc1c5b20765693cd8e225a1d0d2d5b416dd5␟4647175082952586446:Delegated`,s=$localize`:@@common_unscheduled␟eb20093ac49d5ea550d1ec2cba647d1ffe616463␟1808387233895341950:Unscheduled`,r=$localize`:@@common_show-favorites␟12b6373606c5ef6931a224e843ea9019f0aba404␟5084870299906616260:Show Favorites`,l=$localize`:@@cu2-spaces-bar__back-to␟b3aa2814d3db80a72942d25cb870235d32f21aa5␟3280228243956631091: back to `,d=$localize`:@@common_dashboards␟8d92771ab5014c0dc9a9fe7edf3a21465356c41a␟961789122622291392: Dashboards `,u=$localize`:@@common_help␟85b79c9064aed1ead31ace985f31aa1363f6bdaf␟7911416166208830577:Help`,p=$localize`:@@common_help␟85b79c9064aed1ead31ace985f31aa1363f6bdaf␟7911416166208830577:Help`,m=$localize`:@@common_docs␟a7ecfd7757d04b019beaa2d7208c728387bfc7e8␟4447668871712407032:Docs`,h=$localize`:@@common_pulse␟1340334955061f96253bb39f46afa7f17b01194e␟5205807443404566174:Pulse`,b=$localize`:@@common_goals␟7a9fde6971f809a5903706fe2c24c485403a61e3␟4103456400514703198:Goals`,g=$localize`:@@common_portfolios␟c306891180e98a6bf5d5333a4b3c244ce9f18556␟1283887061411719555: Portfolios `,f=$localize`:@@common_reporting␟0d5b8080cc38d6e7eed550708a9cb005684dbcaf␟3391160413653159134: Reporting `,_=$localize`:@@common_portfolios␟0d0cb86543785be6f8491a8493a5a4cff2094a7e␟4553948286585143819: Portfolios `,v=$localize`:@@common_reporting␟f57b7d91a03b2f73a0cb027a7beba2a997eb496d␟7036072423365183523: Reporting `,[["mwlResizable","",1,"cu2-spaces-bar",3,"ngClass","resizeStart","resizing","resizeEnd"],["class","cu2-spaces-bar-resizer-handle","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[1,"cu2-spaces-bar__body"],[4,"ngIf"],[1,"cu2-spaces-bar__body-scrollable"],["class","cu2-spaces-bar__spaces",3,"width",4,"ngIf"],[1,"cu2-spaces-bar__body-bottom"],["class","cu2-spaces-bar__row cu2-spaces-bar__row_link",3,"routerLink","routerLinkActive",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["class","cu2-spaces-bar__bottom",4,"ngIf"],[1,"cu2-spaces-bar__profile"],[3,"team","user"],[1,"cu2-spaces-bar__profile-row"],[1,"cu2-spaces-bar__compact"],[3,"user","showGuestTooltip","showGuestDot","modifier"],[1,"cu2-spaces-bar__expanding"],[1,"cu2-spaces-bar__expanding-text","cu2-spaces-bar__expanding-text_profile",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],[3,"team","modifier"],[1,"cu2-spaces-bar__expanding-text","cu2-spaces-bar__expanding-text_workspace",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["HelpGoalsPortfoliosReporting",""],["mwlResizeHandle","",1,"cu2-spaces-bar-resizer-handle",3,"resizeEdges"],["class","cu2-spaces-bar__logo",3,"routerLink","routerLinkActive",4,"ngIf","ngIfElse"],["guestLogo",""],["class","cu2-spaces-bar__row cu2-spaces-bar__row_link","routerLinkActive","",3,"ngClass","routerLink",4,"ngIf"],["class","cu2-spaces-bar__row cu2-spaces-bar__row_link",3,"ngClass","routerLink",4,"ngIf"],[1,"cu2-spaces-bar__row","cu2-spaces-bar__row_link",3,"routerLink","routerLinkActive"],["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_notifications",3,"icon","cuTooltip"],["class","cu2-spaces-bar__compact-btn-dot",4,"ngIf"],e,["class","cu2-spaces-bar__row cu2-spaces-bar__row_link",3,"ngClass",4,"ngIf"],["class","cu2-spaces-bar__list",4,"ngIf"],["class","cu2-spaces-bar__row cu2-spaces-bar__row_link",4,"ngIf"],[3,"ngClass","modifier",4,"ngIf"],[1,"cu2-spaces-bar__logo",3,"routerLink","routerLinkActive"],[1,"cu2-spaces-bar__logo-symbol"],["alt","","class","cu2-spaces-bar__logo-symbol-img cu2-spaces-bar__logo-symbol-img_rounded",3,"src",4,"ngIf"],["src","./assets/images/brand/clickup-symbol_color.svg","alt","",4,"ngIf"],["class","cu2-spaces-bar__logo-text",4,"ngIf"],["class","cu2-spaces-bar__logo-text cu2-spaces-bar__logo-text-white-label",4,"ngIf"],["alt","",1,"cu2-spaces-bar__logo-symbol-img","cu2-spaces-bar__logo-symbol-img_rounded",3,"src"],["src","./assets/images/brand/clickup-symbol_color.svg","alt",""],[1,"cu2-spaces-bar__logo-text"],["src","./assets/images/brand/clickup-text.svg","alt",""],["src","./assets/images/brand/clickup-text_white.svg","alt",""],[1,"cu2-spaces-bar__logo-text","cu2-spaces-bar__logo-text-white-label"],["alt","",3,"src"],[1,"cu2-spaces-bar__logo"],["alt","",3,"src",4,"ngIf"],["routerLinkActive","",1,"cu2-spaces-bar__row","cu2-spaces-bar__row_link",3,"ngClass","routerLink"],["rlaHome","routerLinkActive"],["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_home",3,"icon","cuTooltip"],t,[1,"cu2-spaces-bar__row","cu2-spaces-bar__row_link",3,"ngClass","routerLink"],["cuTooltip",i,"tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_spaces",3,"icon"],[1,"cu2-spaces-bar__compact-btn-dot"],[1,"cu2-spaces-bar__row","cu2-spaces-bar__row_link",3,"ngClass"],["class","cu2-spaces-bar__row-arrow","icon","cu2-caret-down",3,"ngClass","click",4,"ngIf"],[1,"cu2-spaces-bar__compact",3,"routerLink"],["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_inbox",3,"icon","cuTooltip"],[1,"cu2-spaces-bar__expanding",3,"routerLink"],a,["icon","cu2-caret-down",1,"cu2-spaces-bar__row-arrow",3,"ngClass","click"],[1,"cu2-spaces-bar__list"],[1,"cu2-spaces-bar__list-item",3,"routerLink"],["icon","cu2-clock-solid",1,"cu2-spaces-bar__list-icon"],o,["icon","cu2-check",1,"cu2-spaces-bar__list-icon"],c,["icon","cu2-user-friends",1,"cu2-spaces-bar__list-icon"],n,["icon","cu2-list-ul",1,"cu2-spaces-bar__list-icon"],s,[1,"cu2-spaces-bar__row","cu2-spaces-bar__row_link"],["cuDropdown","",1,"cu-dropdown_left",3,"dropdownPlacement"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["cuTooltip",r,"tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact"],["icon","cu2-star",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_favorites"],["class","cu-dropdown__menu",4,"cuDropdownMenu"],[1,"cu-dropdown__menu"],[3,"modifier","forDropdown"],[3,"ngClass","modifier"],[1,"cu2-spaces-bar__spaces"],["class","cu2-spaces-bar__spaces-back",3,"routerLink",4,"ngIf"],[1,"cu2-spaces-bar__spaces-back",3,"routerLink"],["icon","cu2-arrow-left",1,"cu2-spaces-bar__spaces-back-icon"],[1,"cu2-spaces-bar__spaces-back-description"],[1,"cu2-spaces-bar__spaces-back-label"],l,[1,"cu2-spaces-bar__spaces-back-title"],["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_dashboards",3,"icon","cuTooltip"],d,[3,"ngTemplateOutlet"],[1,"cu2-spaces-bar__bottom"],["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownCloseOnOutsideClick","dropdownCloseOnEscKey","dropdownPlacement","dropdownOpen","dropdownClose"],["resourceCenterDropdown","dropdown"],["cuDropdownToggle",""],[1,"cu2-spaces-bar__row","cu2-spaces-bar__row_link","cu2-spaces-bar__resource-center",3,"ngClass"],[1,"cu2-spaces-bar__compact-btn_resource-center-container"],["cuTooltip",u,"tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_resource-center",3,"icon"],["class","cu-resource-center__notification-money",4,"ngIf"],p,["class","cu2-spaces-bar__resource-center-dropdown__menu resource-center-dropdown__menu",3,"resource-center-dropdown__menu-bug-form",4,"cuDropdownMenu"],["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_docs",3,"icon","cuTooltip"],m,["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_live",3,"icon","cuTooltip"],h,["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_goals",3,"icon","cuTooltip"],b,[1,"cu-resource-center__notification-money"],[1,"cu2-spaces-bar__resource-center-dropdown__menu","resource-center-dropdown__menu"],[3,"user","team","bonusClaimed","onClose","onActiveItemChange"],["resourceCenter",""],["class","cu2-spaces-bar__row cu2-spaces-bar__row_link",3,"cu2-spaces-bar__row_active","routerLink",4,"ngIf"],[1,"cu2-spaces-bar__row","cu2-spaces-bar__row_link",3,"routerLink"],["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_portfolios",3,"icon","cuTooltip"],g,["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_reporting",3,"icon","cuTooltip"],f,["icon","cu2-ellipsis",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_ellipsis"],["class","cu-dropdown__menu","styla","padding: 3px 0",4,"cuDropdownMenu"],["styla","padding: 3px 0",1,"cu-dropdown__menu"],[1,"cu2-spaces-bar__compact","cu2-spaces-bar__compact_dropdown"],["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_portfolios","cu2-spaces-bar__compact-btn_dropdown",3,"icon","cuTooltip"],[1,"cu2-spaces-bar__expanding","cu2-spaces-bar__expanding_dropdown"],_,["tooltipModifier","cu2-spaces-bar__tooltip","tooltipDelay","300",1,"cu2-spaces-bar__compact-btn","cu2-spaces-bar__compact-btn_reporting","cu2-spaces-bar__compact-btn_dropdown",3,"icon","cuTooltip"],v]},template:function(e,t){if(1&e&&(M.cc(0,"div",0),M.qc("resizeStart",function(e){return t.resizeStart(e)})("resizing",function(e){return t.resizing(e)})("resizeEnd",function(){return t.resizeEnded()}),M.vc(1,"async"),M.vc(2,"async"),M.vc(3,"async"),M.vc(4,"async"),M.vc(5,"async"),M.vc(6,"async"),M.vc(7,"async"),M.vc(8,"async"),M.vc(9,"async"),M.vc(10,"async"),M.bd(11,ie,1,2,"div",1),M.vc(12,"async"),M.vc(13,"async"),M.cc(14,"div",2),M.bd(15,Ie,37,59,"ng-container",3),M.vc(16,"async"),M.vc(17,"async"),M.cc(18,"div",4),M.vc(19,"async"),M.bd(20,Pe,6,10,"div",5),M.vc(21,"async"),M.cc(22,"div",6),M.bd(23,ze,11,18,"a",7),M.vc(24,"async"),M.bd(25,Me,1,1,"ng-container",8),M.vc(26,"async"),M.bc(),M.bc(),M.bc(),M.bd(27,Ee,2,1,"div",9),M.vc(28,"async"),M.cc(29,"div",10),M.cc(30,"cu-user-settings-menu",11),M.vc(31,"async"),M.vc(32,"async"),M.cc(33,"div",12),M.cc(34,"div",13),M.Xb(35,"cu-avatar",14),M.vc(36,"async"),M.bc(),M.cc(37,"div",15),M.cc(38,"div",16),M.vc(39,"async"),M.dd(40),M.vc(41,"async"),M.bc(),M.bc(),M.bc(),M.cc(42,"div",12),M.cc(43,"div",13),M.Xb(44,"cu-team-avatar",17),M.vc(45,"async"),M.bc(),M.cc(46,"div",15),M.cc(47,"div",18),M.vc(48,"async"),M.dd(49),M.vc(50,"async"),M.bc(),M.bc(),M.bc(),M.bc(),M.bc(),M.bc(),M.bd(51,Ke,32,46,"ng-template",null,19,M.cd)),2&e){let e=null,i=null,a=null,o=null,c=null,n=null,s=null,r=null,l=null,d=null,u=null;M.ad("width",M.wc(1,25,t.isSpacesBarCollapsed$)||!t.showProjects||M.wc(2,27,t.isGuestTeam$)||(null==(e=M.wc(3,29,t.user$))?null:e.dashboard)===t.LayoutVersion.Five?null:M.wc(4,31,t.sidebarWidth$)-1,"px"),M.Dc("ngClass",M.Kc(79,Je,(null==(i=M.wc(5,33,t.user$))?null:i.dashboard)===t.LayoutVersion.Four,(null==(i=M.wc(6,35,t.user$))?null:i.dashboard)===t.LayoutVersion.Five,!t.showProjects&&!M.wc(7,37,t.hideBackLink$)||(null==(i=M.wc(8,39,t.user$))?null:i.dashboard)===t.LayoutVersion.Five,!M.wc(9,41,t.isSpacesBarCollapsed$)&&!M.wc(10,43,t.isGuestTeam$))),M.Ib(11),M.Dc("ngIf",!M.wc(12,45,t.isGuestTeam$)&&(null==(a=M.wc(13,47,t.user$))?null:a.dashboard)!==t.LayoutVersion.Five),M.Ib(4),M.Dc("ngIf",(null==(o=M.wc(16,49,t.user$))?null:o.dashboard)===t.LayoutVersion.Four||(null==(o=M.wc(17,51,t.user$))?null:o.dashboard)===t.LayoutVersion.Five),M.Ib(3),M.Ob("cu2-spaces-bar__body-scrollable_collapsed",M.wc(19,53,t.isSpacesBarCollapsed$)),M.Ib(2),M.Dc("ngIf",(null==(c=M.wc(21,55,t.user$))?null:c.dashboard)!==t.LayoutVersion.Five),M.Ib(3),M.Dc("ngIf",M.wc(24,57,t.showDashboards$)),M.Ib(2),M.Dc("ngIf",(null==(n=M.wc(26,59,t.user$))?null:n.dashboard)!==t.LayoutVersion.Five),M.Ib(2),M.Dc("ngIf",(null==(s=M.wc(28,61,t.user$))?null:s.dashboard)===t.LayoutVersion.Five),M.Ib(3),M.Dc("team",M.wc(31,63,t.team$))("user",M.wc(32,65,t.user$)),M.Ib(5),M.Dc("user",M.wc(36,67,t.user$))("showGuestTooltip",!1)("showGuestDot",!1)("modifier","cu2-spaces-bar__avatar"),M.Ib(3),M.Dc("cuTooltip",null==(r=M.wc(39,69,t.user$))?null:r.username)("tooltipDisabledIfTextNotTruncated",!0),M.Ib(2),M.fd(" ",null==(l=M.wc(41,71,t.user$))?null:l.username," "),M.Ib(4),M.Dc("team",M.wc(45,73,t.team$))("modifier","cu2-spaces-bar__avatar cu2-spaces-bar__avatar_workspace"),M.Ib(3),M.Dc("cuTooltip",null==(d=M.wc(48,75,t.team$))?null:d.name)("tooltipDisabledIfTextNotTruncated",!0),M.Ib(2),M.fd(" ",null==(u=M.wc(50,77,t.team$))?null:u.name," ")}},directives:[R.a,G.o,G.q,q.a,B.a,W.a,V.a,R.c,F.k,F.j,X.a,F.i,H.b,Y.a,Z.a,Q.a,K.a,G.x,S.b],pipes:[G.b],styles:['cu2-spaces-bar{width:auto;min-height:0;flex-shrink:0;position:relative;z-index:10}.cu2-spaces-bar{top:0;left:0;width:51px;height:100%;border-right:1px solid #e9ebf0;background:#fff;z-index:700;display:grid;grid-template-rows:1fr auto;will-change:transform,width;position:relative;overflow:hidden}.dark-theme .cu2-spaces-bar{background:#2b343b;border-right-color:#1e272e}.cu2-spaces-bar_v2{padding-top:5px}.layout-size_compact .cu2-spaces-bar{width:51px}.layout-size_default .cu2-spaces-bar{width:55px}.layout-size_large .cu2-spaces-bar{width:62px}.cu2-spaces-bar.resize-active{transition:none}.cu2-spaces-bar-resizer-handle{transition:background .2s cubic-bezier(.785,.135,.15,.86) .1s;width:9px;height:100%;cursor:col-resize;position:absolute;right:-5px;z-index:50;opacity:.2}.cu2-spaces-bar-resizer-handle:active,.cu2-spaces-bar-resizer-handle:hover{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar-resizer-handle:active,.cu2-spaces-bar-resizer-handle:hover{background:var(--theme-main-color)}}.cu2-spaces-bar_non-expandable .cu2-spaces-bar-resizer-handle{display:none}.cu2-spaces-bar_expanded:not(.cu2-spaces-bar_non-expandable){width:100%;z-index:710}.cu2-spaces-bar_expanded:not(.cu2-spaces-bar_non-expandable) .cu2-project-list-bar__search{visibility:visible;opacity:1}.cu2-spaces-bar_expanded:not(.cu2-spaces-bar_non-expandable).cu2-spaces-bar_v4 .cu2-spaces-bar__row-arrow,.cu2-spaces-bar_expanded:not(.cu2-spaces-bar_non-expandable).cu2-spaces-bar_v5 .cu2-spaces-bar__row-arrow{display:block}.cu2-spaces-bar_expanded:not(.cu2-spaces-bar_non-expandable) .cu2-spaces-bar__body{width:auto;min-width:100%;max-width:100%}.cu2-spaces-bar__body{display:flex;flex-direction:column;min-height:0;overflow:hidden;width:50px}.layout-size_compact .cu2-spaces-bar__body{width:50px}.layout-size_default .cu2-spaces-bar__body{width:55px}.layout-size_large .cu2-spaces-bar__body{width:62px}.cu2-spaces-bar__body-bottom{min-width:0;overflow:hidden;padding-top:16px;padding-bottom:5px;position:relative}.cu2-spaces-bar_v5 .cu2-spaces-bar__body-bottom:before{content:"";display:block;position:absolute;height:2px;width:30px;top:6px;left:0;right:0;margin:0 auto;background:#e9ebf0}.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__body-bottom:before{background:#1e272e}.cu-left-sidebar.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__body-bottom:before,cu2-spaces-bar.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__body-bottom:before{background:#2b343b}.cu2-spaces-bar_v4 .cu2-spaces-bar__body-bottom{flex-shrink:0}.cu2-spaces-bar__body .cu-dropdown_open .icon,.dark-theme .cu2-spaces-bar__body .cu-dropdown_open .icon{fill:var(--theme-main-color)}.cu2-spaces-bar__body-scrollable{overflow-y:auto;overflow-x:hidden;flex-grow:1;background:#fff}.cu-os-win .cu2-spaces-bar__body-scrollable{scrollbar-width:thin}.cu-os-win .cu2-spaces-bar__body-scrollable::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-track,.cu-os-win .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar,.cu-os-win .dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar,.cu-os-win.dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-track{background-color:#2b343b}.cu-os-win.dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-track:hover{background-color:#2b343b}.cu-os-win.dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu2-spaces-bar__body-scrollable::-webkit-scrollbar-thumb:hover{border-color:#2b343b}.dark-theme .cu2-spaces-bar__body-scrollable{background:#2b343b}.cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable{display:flex;flex-direction:column}.cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable:before{content:"";display:block;position:sticky;width:100%;top:37px;height:5px;margin-bottom:-5px;z-index:45;pointer-events:none;background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0))}.cu-left-sidebar.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable:before,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable:before{background:linear-gradient(180deg,#2b343b 0,rgba(43,52,59,0))}.cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable:after{content:"";display:block;position:sticky;width:100%;bottom:-1px;height:8px;margin-top:-8px;z-index:45;pointer-events:none;background:linear-gradient(0deg,#fff 0,hsla(0,0%,100%,0))}.cu-left-sidebar.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable:after,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable:after{background:linear-gradient(0deg,#2b343b 0,rgba(43,52,59,0))}.cu2-spaces-bar_v4 .cu2-spaces-bar__body-scrollable_collapsed:before{top:0}.cu2-spaces-bar__logo{display:flex;align-items:center;align-self:flex-start;padding:11px 0 13px;flex-shrink:0}.cu2-spaces-bar__logo_active{cursor:default}.cu2-spaces-bar__logo-symbol{width:50px;text-align:center;flex-shrink:0}.layout-size_compact .cu2-spaces-bar__logo-symbol{width:50px;height:29px}.layout-size_default .cu2-spaces-bar__logo-symbol{width:55px;height:32px}.layout-size_large .cu2-spaces-bar__logo-symbol{width:62px;height:36px}.cu2-spaces-bar__logo-symbol img,.layout-size_compact .cu2-spaces-bar__logo-symbol img{height:29px}.layout-size_default .cu2-spaces-bar__logo-symbol img{height:32px}.layout-size_large .cu2-spaces-bar__logo-symbol img{height:36px}.cu2-spaces-bar__logo-symbol-img_rounded{border-radius:50%}.cu2-spaces-bar__logo-text{margin-top:6px}.cu2-spaces-bar__logo-text-white-label{margin-top:0}.cu2-spaces-bar__logo-text-white-label img{height:29px!important;width:auto}.cu2-spaces-bar__logo-text img{height:17px}.cu2-spaces-bar__logo-text img:last-child,.dark-theme .cu2-spaces-bar__logo-text img{display:none}.dark-theme .cu2-spaces-bar__logo-text img:last-child{display:block}.layout-size_compact .cu2-spaces-bar__logo-text img{height:17px}.layout-size_default .cu2-spaces-bar__logo-text img{height:19px}.layout-size_large .cu2-spaces-bar__logo-text img{height:23px}.cu2-spaces-bar__row{display:flex;width:100%;min-width:100%;cursor:default;flex-shrink:0;position:relative}.cu2-spaces-bar_v4 .cu2-spaces-bar__row,.cu2-spaces-bar_v5 .cu2-spaces-bar__row,.layout-size_compact .cu2-spaces-bar_v4 .cu2-spaces-bar__row,.layout-size_compact .cu2-spaces-bar_v5 .cu2-spaces-bar__row{height:40px}.layout-size_default .cu2-spaces-bar_v4 .cu2-spaces-bar__row,.layout-size_default .cu2-spaces-bar_v5 .cu2-spaces-bar__row{height:42px}.layout-size_large .cu2-spaces-bar_v4 .cu2-spaces-bar__row,.layout-size_large .cu2-spaces-bar_v5 .cu2-spaces-bar__row{height:46px}.cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn{fill:var(--theme-main-color)}}.dark-theme .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn{fill:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__expanding,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active .cu2-spaces-bar__expanding{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__expanding,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active .cu2-spaces-bar__expanding{color:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn{background:#7b68ee;fill:#fff}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn{background:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn:hover,.cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn:hover,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn:hover,.cu2-spaces-bar_v4 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn:hover,.cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn:hover,.cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn:hover,.cu2-spaces-bar_v5 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn:hover,.cu2-spaces-bar_v5 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row .cu-dropdown_open:hover .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row_active .cu2-spaces-bar__compact-btn:hover,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row_active:hover .cu2-spaces-bar__compact-btn:hover{fill:#fff}.cu2-spaces-bar__row_opened:before{background:#7b68ee;content:"";display:block;position:absolute;width:100%;height:100%;opacity:.08;left:0;z-index:0}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__row_opened:before{background:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-spaces-bar__row_opened:before,.cu2-spaces-bar_v5 .cu2-spaces-bar__row_opened:before{display:none}.cu2-spaces-bar__row_link{cursor:pointer}.cu2-spaces-bar__row_link:hover .cu2-spaces-bar__expanding{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__row_link:hover .cu2-spaces-bar__expanding{color:var(--theme-main-color)}}.cu2-spaces-bar__row_link:hover .cu2-spaces-bar__compact-btn{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__row_link:hover .cu2-spaces-bar__compact-btn{fill:var(--theme-main-color)}}.dark-theme .cu2-spaces-bar__row_link:hover .cu2-spaces-bar__compact-btn{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-spaces-bar__row_link:hover .cu2-spaces-bar__compact-btn{fill:var(--theme-main-color)}}.cu2-spaces-bar_v5 .cu2-spaces-bar__row_link:hover:not(.cu2-spaces-bar__row_active) .cu2-spaces-bar__compact-btn{background:#f2f2f2;fill:#292d34}.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__row_link:hover:not(.cu2-spaces-bar__row_active) .cu2-spaces-bar__compact-btn{fill:#fff;background:#1e272e}.cu2-spaces-bar__row-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:16px;height:16px;transform:rotate(-90deg);position:absolute;top:50%;left:0;margin-top:-8px;padding:3px;display:none;z-index:20;fill:#b9bec7}.dark-theme .cu2-spaces-bar__row-arrow{fill:#7c828d}.cu2-spaces-bar__row-arrow:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__row-arrow:hover{fill:var(--theme-main-color)}}.cu2-spaces-bar__row-arrow_down{transform:rotate(0deg);fill:#7c828d}.dark-theme .cu2-spaces-bar__row-arrow_down{fill:#d5d6d7}.cu2-spaces-bar__row:before{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu2-spaces-bar__row.cu2-spaces-bar__resource-center .cu2-spaces-bar__compact-btn_resource-center-container{position:relative}.cu2-spaces-bar__row.cu2-spaces-bar__resource-center .cu-resource-center__notification-money{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;color:#67cb48;position:absolute;right:1px;top:1px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-spaces-bar__row.cu2-spaces-bar__resource-center .cu-resource-center__notification-money{font-family:var(--global-font-support)}}.cu2-spaces-bar__list-item{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;min-width:0;cursor:pointer;color:#292d34}.dark-theme .cu2-spaces-bar__list-item{color:#d5d6d7}.cu2-spaces-bar_v4 .cu2-spaces-bar__list-item,.cu2-spaces-bar_v5 .cu2-spaces-bar__list-item{font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;padding:0 10px 0 50px;height:28px;color:#333}.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__list-item,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__list-item{color:#d5d6d7}.layout-size_compact .cu2-spaces-bar_v4 .cu2-spaces-bar__list-item,.layout-size_compact .cu2-spaces-bar_v5 .cu2-spaces-bar__list-item{font-size:13px}.layout-size_default .cu2-spaces-bar_v4 .cu2-spaces-bar__list-item,.layout-size_default .cu2-spaces-bar_v5 .cu2-spaces-bar__list-item{font-size:14px;padding-left:56px}.layout-size_large .cu2-spaces-bar_v4 .cu2-spaces-bar__list-item,.layout-size_large .cu2-spaces-bar_v5 .cu2-spaces-bar__list-item{font-size:14px;padding-left:63px}.cu2-spaces-bar_v4 .cu2-spaces-bar__list-item_active,.cu2-spaces-bar_v5 .cu2-spaces-bar__list-item_active{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-spaces-bar__list-item_active,.cu2-spaces-bar_v5 .cu2-spaces-bar__list-item_active{color:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-spaces-bar__list-item_active .cu2-spaces-bar__list-icon,.cu2-spaces-bar_v5 .cu2-spaces-bar__list-item_active .cu2-spaces-bar__list-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-spaces-bar__list-item_active .cu2-spaces-bar__list-icon,.cu2-spaces-bar_v5 .cu2-spaces-bar__list-item_active .cu2-spaces-bar__list-icon{fill:var(--theme-main-color)}}.cu2-spaces-bar__list-item:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__list-item:hover{color:var(--theme-main-color)}}.cu2-spaces-bar__list-item:hover .cu2-spaces-bar__list-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__list-item:hover .cu2-spaces-bar__list-icon{fill:var(--theme-main-color)}}.cu2-spaces-bar__list-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7c828d}.dark-theme .cu2-spaces-bar__list-icon{fill:#ababab}.cu2-spaces-bar_v4 .cu2-spaces-bar__list-icon,.cu2-spaces-bar_v5 .cu2-spaces-bar__list-icon{width:12px;height:12px;margin-right:10px}.layout-size_compact .cu2-spaces-bar_v4 .cu2-spaces-bar__list-icon,.layout-size_compact .cu2-spaces-bar_v5 .cu2-spaces-bar__list-icon{width:12px;height:12px}.layout-size_default .cu2-spaces-bar_v4 .cu2-spaces-bar__list-icon,.layout-size_default .cu2-spaces-bar_v5 .cu2-spaces-bar__list-icon{width:13px;height:13px}.layout-size_large .cu2-spaces-bar_v4 .cu2-spaces-bar__list-icon,.layout-size_large .cu2-spaces-bar_v5 .cu2-spaces-bar__list-icon{width:15px;height:15px}.cu2-spaces-bar__spaces{flex-grow:1;min-height:0;width:100%;position:relative}.cu2-spaces-bar_v4 .cu2-spaces-bar__spaces{flex-shrink:0}.cu2-spaces-bar__spaces-back{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;flex-direction:column;margin-top:-5px;padding-top:15px;width:50px;height:100%;cursor:pointer}.cu2-spaces-bar__spaces-back:hover .cu2-spaces-bar__spaces-back-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__spaces-back:hover .cu2-spaces-bar__spaces-back-icon{fill:var(--theme-main-color)}}.cu2-spaces-bar__spaces-back:hover .cu2-spaces-bar__spaces-back-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__spaces-back:hover .cu2-spaces-bar__spaces-back-label{color:var(--theme-main-color)}}.cu2-spaces-bar__spaces-back-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#bcc0c7;width:18px;height:18px}.dark-theme .cu2-spaces-bar__spaces-back-icon{fill:#828588}.cu2-spaces-bar__spaces-back-description{display:flex;align-items:flex-end;flex-direction:column;transform:rotate(-90deg) translateX(-50%)}.cu2-spaces-bar__spaces-back-label{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;font:600 9px/1 Gotham Pro,Proxima Nova,arial,serif;text-transform:uppercase;color:#82868d}.dark-theme .cu2-spaces-bar__spaces-back-label{color:#828588}.cu2-spaces-bar_v4 .cu2-spaces-bar__spaces-back-label,.cu2-spaces-bar_v5 .cu2-spaces-bar__spaces-back-label{font-weight:600;font-size:8px;line-height:1}.cu2-spaces-bar__spaces-back-title{font-family:Gotham Pro,Proxima Nova,arial,serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;font-size:16px;line-height:1.1;max-width:calc(100vh - 300px);color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-spaces-bar__spaces-back-title{font-family:var(--global-font-support)}}.dark-theme .cu2-spaces-bar__spaces-back-title{color:#d5d6d7}.cu2-spaces-bar_v4 .cu2-spaces-bar__spaces-back-title,.cu2-spaces-bar_v5 .cu2-spaces-bar__spaces-back-title{font-weight:400;font-size:15px;line-height:1.1}.cu2-spaces-bar__compact{display:flex;align-items:center;justify-content:center;width:50px;flex-shrink:0;position:relative;z-index:10}.layout-size_compact .cu2-spaces-bar__compact{width:50px}.layout-size_default .cu2-spaces-bar__compact{width:55px}.layout-size_large .cu2-spaces-bar__compact{width:62px}.cu2-spaces-bar__compact_dropdown{width:40px}.cu2-spaces-bar__compact-btn{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:50%;fill:#7c828d}.dark-theme .cu2-spaces-bar__compact-btn{fill:#ababab}.cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn_dashboards{margin-top:1px}.cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn_dashboards:before{content:"";display:block;position:absolute;height:2px;width:30px;top:-10px;background:#e9ebf0}.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn_dashboards:before{background:#1e272e}.cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn,.cu2-spaces-bar_v5 .cu2-spaces-bar__compact-btn{transition:none;border-radius:4px;width:32px;height:32px;fill:#292d34;padding:7px}.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__compact-btn{fill:#d5d6d7}.layout-size_compact .cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn,.layout-size_compact .cu2-spaces-bar_v5 .cu2-spaces-bar__compact-btn{width:32px;height:32px}.layout-size_default .cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn,.layout-size_default .cu2-spaces-bar_v5 .cu2-spaces-bar__compact-btn{width:36px;height:36px;padding:9px}.layout-size_large .cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn,.layout-size_large .cu2-spaces-bar_v5 .cu2-spaces-bar__compact-btn{width:40px;height:40px;padding:11px}.cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn_has-unseen,.cu2-spaces-bar_v5 .cu2-spaces-bar__compact-btn_has-unseen{transform-origin:top center;animation:notifications-alert-bell-swing 2s ease-out;animation-iteration-count:2}.cu2-spaces-bar_v4 .cu2-spaces-bar__compact-btn_ellipsis,.cu2-spaces-bar_v5 .cu2-spaces-bar__compact-btn_ellipsis{transform:rotate(90deg);padding:9px}.cu2-spaces-bar__compact-btn-dot{background:#fd71af;position:absolute;transform:translate(6px,-6px);width:10px;height:10px;border-radius:50%;border:2px solid #fff}.dark-theme .cu2-spaces-bar__compact-btn-dot{border-color:#2b343b}.cu2-spaces-bar__compact:hover .cu2-spaces-bar__compact-btn-dot{border-color:#f2f2f2}.dark-theme .cu2-spaces-bar__compact:hover .cu2-spaces-bar__compact-btn-dot{border-color:#1e272e}.cu-left-sidebar.dark-theme .cu2-spaces-bar__compact-btn-dot{border-color:#2b343b}.cu2-spaces-bar__compact-btn_dropdown{transition:none;border-radius:4px;width:32px;height:32px;fill:#292d34;padding:7px}.dark-theme .cu2-spaces-bar__compact-btn_dropdown{fill:#d5d6d7}.cu2-spaces-bar__expanding{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;display:flex;align-items:center;flex-grow:1;color:#292d34;padding-right:10px;min-width:0;z-index:10}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-spaces-bar__expanding{font-family:var(--global-font-support)}}.dark-theme .cu2-spaces-bar__expanding{color:#d5d6d7}.cu2-spaces-bar_v4 .cu2-spaces-bar__expanding,.cu2-spaces-bar_v5 .cu2-spaces-bar__expanding{font-weight:400;font-size:13px;line-height:1;color:#7c828d}.dark-theme .cu2-spaces-bar_v4 .cu2-spaces-bar__expanding,.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__expanding{color:#abaeb0}.layout-size_compact .cu2-spaces-bar_v4 .cu2-spaces-bar__expanding,.layout-size_compact .cu2-spaces-bar_v5 .cu2-spaces-bar__expanding{font-weight:400;font-size:13px;line-height:1}.layout-size_default .cu2-spaces-bar_v4 .cu2-spaces-bar__expanding,.layout-size_default .cu2-spaces-bar_v5 .cu2-spaces-bar__expanding{font-weight:400;font-size:14px;line-height:1}.layout-size_large .cu2-spaces-bar_v4 .cu2-spaces-bar__expanding,.layout-size_large .cu2-spaces-bar_v5 .cu2-spaces-bar__expanding{font-weight:400;font-size:16px;line-height:1}.cu2-spaces-bar__expanding-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1.15;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-spaces-bar__expanding-text{font-family:var(--global-font-support)}}.dark-theme .cu2-spaces-bar__expanding-text{color:#d5d6d7}.cu2-spaces-bar__expanding-text_workspace,.layout-size_compact .cu2-spaces-bar__expanding-text_workspace{font-size:14px}.layout-size_default .cu2-spaces-bar__expanding-text_workspace{font-size:15px}.layout-size_large .cu2-spaces-bar__expanding-text_workspace{font-size:16px}.cu2-spaces-bar__expanding-text_profile,.layout-size_compact .cu2-spaces-bar__expanding-text_profile{font-size:10px}.layout-size_default .cu2-spaces-bar__expanding-text_profile{font-size:11px}.layout-size_large .cu2-spaces-bar__expanding-text_profile{font-size:12px}.cu2-spaces-bar__expanding_dropdown{font-weight:500;font-size:12px;line-height:1.15;color:#292d34}.dark-theme .cu2-spaces-bar__expanding_dropdown{color:#d5d6d7}.cu2-spaces-bar__profile{min-width:0;overflow:hidden;border-top:1px solid #e9ebf0;padding:10px 0 5px}.dark-theme .cu2-spaces-bar__profile{border-top-color:#1e272e}.cu-left-sidebar.dark-theme .cu2-spaces-bar__profile,cu2-spaces-bar.dark-theme .cu2-spaces-bar__profile{border-top-color:#2b343b}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu2-spaces-bar__profile{border-top-color:#1e272e}.cu2-spaces-bar__profile:hover .cu2-spaces-bar__expanding{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__profile:hover .cu2-spaces-bar__expanding{color:var(--theme-main-color)}}.cu2-spaces-bar__profile-row{display:flex;align-items:center;height:26px;width:100%;cursor:pointer;flex-shrink:0}.cu2-spaces-bar__profile-row+.cu2-spaces-bar__profile-row{height:40px;margin-top:-14px}.cu2-spaces-bar__avatar{font-family:Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:26px;width:26px;height:26px;color:#fff;border:0}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu2-spaces-bar__avatar{font-family:var(--global-second-font-support)}}.dark-theme .cu2-spaces-bar__avatar{color:#fff}.layout-size_compact .cu2-spaces-bar__avatar{width:26px;height:26px}.layout-size_default .cu2-spaces-bar__avatar{width:29px;height:29px}.layout-size_large .cu2-spaces-bar__avatar{width:34px;height:34px}.cu2-spaces-bar__avatar_workspace{font-weight:500;font-size:11px;line-height:26px;width:30px;height:30px;border:2px solid #fff}.dark-theme .cu2-spaces-bar__avatar_workspace{color:#fff;border-color:#2b343b}.layout-size_compact .cu2-spaces-bar__avatar_workspace{width:30px;height:30px}.layout-size_default .cu2-spaces-bar__avatar_workspace{width:33px;height:33px}.layout-size_large .cu2-spaces-bar__avatar_workspace{width:38px;height:38px}.cu2-spaces-bar__tooltip{transform:translate(-15px,-70%)}.cu2-spaces-bar__tooltip .tooltip__triangle{left:10px}.cu2-spaces-bar__resource-center-dropdown__menu{min-width:350px;max-width:350px;overflow:auto;margin-left:5px}.dark-theme .cu2-spaces-bar__resource-center-dropdown__menu{background-color:#fff!important}.cu2-spaces-bar__resource-center-dropdown__menu.resource-center-dropdown__menu-bug-form{max-width:450px}.cu2-spaces-bar__bottom{margin-top:5px;padding:10px 0 5px;min-width:0;overflow:hidden;border-top:1px solid #e9ebf0}.dark-theme .cu2-spaces-bar__bottom{border-top-color:#1e272e}.cu2-spaces-bar_v5 .cu2-spaces-bar__bottom{border-top:0}.cu2-spaces-bar__bottom .cu-dropdown_open .icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar__bottom .cu-dropdown_open .icon{fill:var(--theme-main-color)}}.cu2-spaces-bar_v5 .cu2-spaces-bar__bottom .cu-dropdown_open .icon{fill:#fff}.dark-theme .cu2-spaces-bar_v5 .cu2-spaces-bar__bottom .cu-dropdown_open .icon{fill:#d5d6d7}@media (max-height:720px){.cu2-spaces-bar__resource-center-dropdown__menu{max-height:85vh}}'],encapsulation:2,data:{animation:[y.e]},changeDetection:0}),e})()},ZH2L:function(e,t,i){e.exports=i.p+"google-maps.a281f3913b7d0da7bc27.svg"},ZeNw:function(e,t,i){"use strict";i.d(t,"t",function(){return l}),i.d(t,"e",function(){return d}),i.d(t,"d",function(){return u}),i.d(t,"i",function(){return p}),i.d(t,"c",function(){return m}),i.d(t,"b",function(){return h}),i.d(t,"h",function(){return b}),i.d(t,"g",function(){return g}),i.d(t,"u",function(){return f}),i.d(t,"k",function(){return _}),i.d(t,"m",function(){return v}),i.d(t,"f",function(){return y}),i.d(t,"o",function(){return w}),i.d(t,"p",function(){return k}),i.d(t,"n",function(){return x}),i.d(t,"j",function(){return T}),i.d(t,"q",function(){return S}),i.d(t,"r",function(){return j}),i.d(t,"s",function(){return O}),i.d(t,"a",function(){return I}),i.d(t,"l",function(){return D});var a=i("zJDR"),o=i("YHHY"),c=i("ObVV"),n=i("axEd"),s=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const r={goals:{},fetchedGoals:!1,allGoals:[],allFolders:{},goalSelectorFolder:null,folders:{},goalId:null,folderId:null,goalsOrder:[],foldersOrder:[],deleted:!1,showArchived:!1,sortOptions:[a.b.UPDATED,a.b.NAME,a.b.DUE_DATE,a.b.START_DATE,a.b.PROGRESS].map(e=>Object(a.e)(e)),selectedSort:Object(a.e)(a.b.UPDATED),fetching:!1,keyResultEdit:null,editValues:{start:null,current:null,end:null,increment:null,note:null,unit:null},savingKeyResult:!1,closeModal:!1,hideFolders:{folder:!0,goals:!1}};function l(e=r,t){switch(t.type){case c.jb:return r;case c.nb:{const{closeModal:i}=t.payload;return Object.assign(Object.assign({},e),{savingKeyResult:i})}case c.O:{const{goalId:i}=t.payload;return Object.assign(Object.assign({},e),{goalId:i})}case c.ob:return Object.assign(Object.assign({},e),{hideFolders:t.payload});case c.I:return t.payload.noReload?e:Object.assign(Object.assign({},e),{allGoals:[],allFolders:{}});case c.J:{const{allFolders:i}=t.payload;let{allGoals:a}=t.payload;a.sort((e,t)=>{const i=e.name.toUpperCase(),a=t.name.toUpperCase();return i<a?-1:i>a?1:0});const o=i.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:e[t.id]?Object.assign(Object.assign({},e[t.id]),t):t}),Object.assign({},e.allFolders));return a=a.map(e=>(e.folder_id&&o[e.folder_id]&&(e.folder_name=o[e.folder_id].name),e)),Object.assign(Object.assign({},e),{allGoals:a,allFolders:o})}case c.M:return Object.assign(Object.assign({},e),{goalSelectorFolder:null});case c.N:{const{folder:i}=t.payload;return Object.assign(Object.assign({},e),{goalSelectorFolder:i})}case c.K:{const{folderId:i}=t.payload,a=Object.assign({},e.hideFolders);return i||(a.folder=!0),Object.assign(Object.assign({},e),{folderId:i,fetching:!!i,hideFolders:a})}case c.a:return Object.assign(Object.assign({},e),{keyResultEdit:null,editValues:{start:null,current:null,end:null,increment:null,note:null,unit:null},closeModal:!1});case c.eb:{const{keyResultEdit:i}=t.payload,a={start:i.steps_start,current:i.steps_current,end:i.steps_end,increment:null,note:null,unit:i.unit};return Object.assign(Object.assign({},e),{editValues:a,keyResultEdit:i})}case c.Fb:{const i=Object.assign({},t.payload);return""===i.unit&&(i.unit=null),Object.assign(Object.assign({},e),{editValues:i})}case c.rb:{const t=!e.showArchived;return Object.assign(Object.assign({},e),{showArchived:t})}case c.Cb:{let{selectedSort:i}=t.payload;return i.field===e.selectedSort.field&&(i=Object.assign(Object.assign({},e.selectedSort),{direction:"asc"===e.selectedSort.direction?"desc":"asc"})),Object.assign(Object.assign({},e),{selectedSort:i})}case c.Gb:return Object.assign(Object.assign({},e),{savingKeyResult:!1});case c.Hb:{const{keyResult:i,closeModal:a}=t.payload,o=Object.assign({},e.goals[i.goal_pretty_id]),c=[...o.key_results],n=c.findIndex(e=>e.id===i.id);-1!==n&&(c[n]=Object.assign(Object.assign({},c[n]),i),c[n].tasks=(c[n].tasks||[]).filter(e=>-1!==(c[n].task_ids||[]).indexOf(e.id)),c[n].subcategories=(c[n].subcategories||[]).filter(e=>-1!==(c[n].subcategory_ids||[]).indexOf(e.id)),o.key_results=c);const s=e.keyResultEdit?Object.assign({},i):null,r=Object.assign(Object.assign({},e.goals),{[o.pretty_id]:o});return Object.assign(Object.assign({},e),{goals:r,closeModal:a,savingKeyResult:!1,keyResultEdit:s})}case c.p:{const{keyResultId:i,goalId:a}=t.payload,o=Object.assign({},e.goals[a]);o.key_results=o.key_results.filter(e=>e.id!==i);const c=Object.assign(Object.assign({},e.goals),{[o.pretty_id]:o});return Object.assign(Object.assign({},e),{goals:c})}case c.b:case c.xb:{const{data:i,fromFolder:a}=t.payload,o=[...e.goalsOrder],c=Object.assign({},e.folders);if(a){const e=c[a]?Object.assign({},c[a]):null;e&&e.goals&&((i.goals||[]).forEach(t=>{const i=e.goals.findIndex(e=>e.id===t);-1!==i&&e.goals.splice(i,1)}),(i.add_goals||[]).forEach(t=>{const i=e.goals.findIndex(e=>e.id===t);-1!==i&&e.goals.splice(i,1)}),c[a]=e)}else(i.goals||[]).forEach(e=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}),(i.add_goals||[]).forEach(e=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)});return Object.assign(Object.assign({},e),{goalsOrder:o,folders:c})}case c.zb:case c.d:{const{folder:i}=t.payload,a=Object.assign(Object.assign({},e.folders),{[i.id]:e.folders[i.id]?Object.assign(Object.assign({},e.folders[i.id]),i):i});return Object.assign(Object.assign({},e),{folders:a,fetching:!1})}case c.Db:case n.c:{const{goal:i}=t.payload,a=Object.assign({},i);if(t.payload.members){const e=(a.key_results||[]).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{}),i=(t.payload.members||[]).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{});a.history=(a.history||[]).map(t=>(e[t.key_result_id]&&(t=Object.assign(Object.assign({},t),{keyResultName:e[t.key_result_id].name})),i[t.userid]&&(t=Object.assign(Object.assign({},t),{user:i[t.userid]})),t))}const o=Object.assign({},e.folders);if(a.folder_id){const e=o[a.folder_id]?Object.assign({},o[a.folder_id]):null;if(e){const t=e.goals?[...e.goals]:[],i=t.findIndex(e=>e.id===a.id);-1!==i&&(t[i]=Object.assign(Object.assign({},t[i]),a),e.goals=[...t],o[a.folder_id]=Object.assign({},e))}}const c=Object.assign(Object.assign({},e.goals),{[a.pretty_id]:e.goals[a.pretty_id]?Object.assign(Object.assign({},e.goals[a.pretty_id]),a):a});return Object.assign(Object.assign({},e),{goals:c,folders:o})}case c.R:{const i=t.payload.goals.map(e=>e.pretty_id),a=t.payload.folders.map(e=>e.id),o=t.payload.goals.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.pretty_id]:e[t.pretty_id]?Object.assign(Object.assign({},e[t.pretty_id]),t):t}),Object.assign({},e.goals)),c=t.payload.folders.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:e[t.id]?Object.assign(Object.assign({},e[t.id]),t):t}),Object.assign({},e.folders));return Object.assign(Object.assign({},e),{goals:o,goalsOrder:i,folders:c,foldersOrder:a,fetching:!1,fetchedGoals:!0})}case c.sb:{const{forFolder:i}=t.payload,a=Object.assign({},e.hideFolders);return i?a.folder=!a.folder:a.goals=!a.goals,Object.assign(Object.assign({},e),{hideFolders:a})}case c.L:case c.Q:return Object.assign(Object.assign({},e),{fetching:!1,fetchedGoals:!0});case c.P:return Object.assign(Object.assign({},e),{fetching:!0});case c.tb:{const{keyResult:i}=t.payload,a=Object.assign({},e.goals[i.goal_pretty_id]),o=[...a.key_results],c=o.findIndex(e=>e.id===i.id);-1!==c&&(o[c]=Object.assign(Object.assign({},o[c]),{showTasksLists:!o[c].showTasksLists}),a.key_results=o);const n=Object.assign(Object.assign({},e.goals),{[a.pretty_id]:a});return Object.assign(Object.assign({},e),{goals:n})}case o.c:{const{keyResult:i,goalId:a}=t.payload,o=Object.assign(Object.assign({},e.goals[a]),{key_results:[...e.goals[a].key_results,i]}),c=Object.assign(Object.assign({},e.goals),{[o.pretty_id]:o});return Object.assign(Object.assign({},e),{goals:c})}case c.ib:return Object.assign(Object.assign({},e),{deleted:!1});case c.m:{const{goal:i}=t.payload,a=i.pretty_id,o=s(e.goals,["symbol"==typeof a?a:a+""]),c=Object.assign({},e.folders);if(i.folder_id){const e=c[i.folder_id]?Object.assign({},c[i.folder_id]):null;if(e){const t=e.goals?[...e.goals]:[],a=t.findIndex(e=>e.id===i.id);-1!==a&&(t.splice(a,1),e.goals=[...t],c[i.folder_id]=Object.assign({},e))}}return Object.assign(Object.assign({},e),{goals:o,deleted:!0,folders:c})}case c.j:{const{folderId:i}=t.payload,a=i,o=s(e.folders,["symbol"==typeof a?a:a+""]);return Object.assign(Object.assign({},e),{folders:o})}default:return e}return e}const d=e=>e.folders,u=e=>e.folderId,p=e=>e.goals,m=e=>e.allGoals,h=e=>e.allFolders,b=e=>e.goalSelectorFolder,g=e=>e.goalId,f=e=>e.fetchedGoals,_=e=>e.fetching,v=e=>e.goalsOrder,y=e=>e.foldersOrder,w=e=>e.sortOptions,k=e=>e.selectedSort,x=e=>e.showArchived,T=e=>e.deleted,S=e=>e.keyResultEdit,j=e=>e.editValues,O=e=>e.savingKeyResult,I=e=>e.closeModal,D=e=>e.hideFolders},a1Ny:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("f0Wu");const o=e=>a(e).endOf("week").format("WW")},"awn/":function(e,t,i){"use strict";i.d(t,"a",function(){return S});var a=i("Gj5t"),o=i("MguC"),c=i("o0vL"),n=i("LRne"),s=i("wO+i"),r=i("RwZa"),l=i("c3rA"),d=i("GkwO"),u=i("o7Ov"),p=i("fXoL"),m=i("Jf2N"),h=i("l7P3"),b=i("7lY2"),g=i("ofXK"),f=i("tyNb"),_=i("qJ3x"),v=i("UdVN");function y(e,t){if(1&e&&(p.ac(0),p.Xb(1,"span",9),p.dd(2),p.Zb()),2&e){const e=p.uc(2);p.Ib(2),p.fd(" ",null==e.view.hierarchy||null==e.view.hierarchy.category?null:e.view.hierarchy.category.name," ")}}function w(e,t){if(1&e&&(p.ac(0),p.Xb(1,"span",9),p.dd(2),p.Zb()),2&e){const e=p.uc(2);p.Ib(2),p.fd(" ",null==e.view.hierarchy||null==e.view.hierarchy.subcategory?null:e.view.hierarchy.subcategory.name," ")}}function k(e,t){if(1&e&&(p.cc(0,"div",7),p.dd(1),p.bd(2,y,3,1,"ng-container",8),p.bd(3,w,3,1,"ng-container",8),p.bc()),2&e){const e=p.uc();p.Ib(1),p.fd(" ",null==e.view.hierarchy||null==e.view.hierarchy.project?null:e.view.hierarchy.project.name," "),p.Ib(1),p.Dc("ngIf",null==e.view.hierarchy||null==e.view.hierarchy.category?null:e.view.hierarchy.category.name),p.Ib(1),p.Dc("ngIf",null==e.view.hierarchy||null==e.view.hierarchy.subcategory?null:e.view.hierarchy.subcategory.name)}}const x=function(e,t){return["/",e,"dashboards",t]},T=function(e,t,i){return["/",e,"v",t,i]};let S=(()=>{class e{constructor(e,t,i){this.modal=e,this.store=t,this.gridService=i,this.team$=this.store.select(l.getTeam),this.members$=Object(n.a)([]),this.conversationRoutingId=a.Gb.find(e=>e.defaultDataViewAPIPayload.type===o.i.Conversation).routeId,this.CommentType=c.c,this.taskUserGroups=[r.b]}ngOnInit(){this.members$=this.view.dashboard.id?this.gridService.getDashboard(this.view.dashboard.id).pipe(Object(s.a)("members")):this.store.select(Object(d.S)(this.view.id)),this.store.dispatch(new u.Qk(this.view.id,{id:String(this.view.parent.id),type:this.view.parent.type}))}}return e.\u0275fac=function(t){return new(t||e)(p.Wb(m.a),p.Wb(h.Store),p.Wb(b.a))},e.\u0275cmp=p.Qb({type:e,selectors:[["cu-conversation-view-modal"]],hostAttrs:[1,"cu-conversation-view-modal"],inputs:{view:"view",scrollToCommentId:"scrollToCommentId"},decls:11,vars:24,consts:function(){let e;return e=$localize`:@@cu-conversation-view-modal__link-txt_open-on-page␟c71acb827e2d3235c43136f091d28b2c8c071665␟5549603296341496497:Open on page`,[[1,"cu-conversation-view-modal__header"],["class","cu-conversation-view-modal__breadcrumbs",4,"ngIf"],[1,"cu-conversation-view-modal__header-row"],[1,"cu-conversation-view-modal__title"],[1,"cu-conversation-view-modal__link",3,"routerLink","click"],e,[3,"parentId","type","permissions","members","taskUserGroups","scrollToCommentId","isChatView","isChatViewModal"],[1,"cu-conversation-view-modal__breadcrumbs"],[4,"ngIf"],["icon","angle-right-no-padding",1,"cu-conversation-view-modal__breadcrumbs-arrow"]]},template:function(e,t){if(1&e&&(p.cc(0,"div",0),p.bd(1,k,4,3,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.dd(4),p.bc(),p.cc(5,"a",4),p.qc("click",function(){return t.modal.close()}),p.gc(6,5),p.vc(7,"async"),p.vc(8,"async"),p.bc(),p.bc(),p.bc(),p.Xb(9,"cu-comment-thread",6),p.vc(10,"async")),2&e){let e=null;p.Ib(1),p.Dc("ngIf",null==t.view.hierarchy||null==t.view.hierarchy.project?null:t.view.hierarchy.project.name),p.Ib(3),p.ed(t.title),p.Ib(1),p.Dc("routerLink",null!=t.view.dashboard&&t.view.dashboard.id?p.Ic(17,x,null==(e=p.wc(7,11,t.team$))?null:e.id,t.view.dashboard.id):p.Jc(20,T,null==(e=p.wc(8,13,t.team$))?null:e.id,t.conversationRoutingId,t.view.id)),p.Ib(4),p.Dc("parentId",t.view.id)("type",t.CommentType.ConversationView)("permissions",t.view.permissions)("members",p.wc(10,15,t.members$))("taskUserGroups",t.taskUserGroups)("scrollToCommentId",t.scrollToCommentId)("isChatView",!0)("isChatViewModal",!0)}},directives:[g.q,f.k,_.a,v.a],pipes:[g.b],styles:['.cu-conversation-view-modal{display:flex;flex-direction:column;height:100%;min-height:500px;max-height:calc(90vh - 130px);min-width:0;width:calc(100% + 100px);padding:0 50px;margin:-43px -50px -50px;background:#fafbfc;position:relative}.dark-theme .cu-conversation-view-modal{background:#2b343b}.cu-conversation-view-modal__link{color:#7b68ee;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;flex-shrink:0;margin-top:7px}@supports (--theme-main-color:#7b68ee){.cu-conversation-view-modal__link{color:var(--theme-main-color)}}.cu-conversation-view-modal__link:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-conversation-view-modal__link:hover{color:var(--theme-main-color-dark)}}.cu-conversation-view-modal__header{position:relative;margin:0 -50px;padding:0 50px 30px;border-bottom:1px solid #e9ebf0;background:#fff}.dark-theme .cu-conversation-view-modal__header{border-bottom-color:#1e272e;background:#384047}.cu-conversation-view-modal__header-row{display:flex;justify-content:space-between;width:calc(100% - 40px)}.cu-conversation-view-modal__breadcrumbs{font-family:Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1.3;margin-top:-19px;margin-bottom:5px;width:calc(100% - 40px);color:#34313a;opacity:.5}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu-conversation-view-modal__breadcrumbs{font-family:var(--global-second-font-support)}}.dark-theme .cu-conversation-view-modal__breadcrumbs{color:#828588;opacity:1}.cu-conversation-view-modal__breadcrumbs-arrow{display:inline-block;flex-shrink:0;padding:0 4px;width:13px;height:7px;margin-top:1px;fill:#34313a;opacity:.5}.dark-theme .cu-conversation-view-modal__breadcrumbs-arrow{fill:#828588;opacity:1}.cu-conversation-view-modal__title{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:23px;word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;color:#505050;padding-right:40px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-conversation-view-modal__title{font-family:var(--global-font-support)}}.dark-theme .cu-conversation-view-modal__title{color:#d5d6d7}.cu-conversation-view-modal .cu-comment-thread{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0}.cu-conversation-view-modal .cu-comment-thread .thread-container{min-height:0}.cu-conversation-view-modal .cu-comment-thread .thread-container .cu-comment-thread__comment .cu-comment-bar{margin:0;z-index:11}.cu-conversation-view-modal .cu-comment-thread .thread-container .comments-container{padding:25px 50px 30px;margin:0 -50px;position:relative;min-width:0}.cu-conversation-view-modal .cu-comment-thread .thread-container .comments-container .ps__rail-y{z-index:5;right:0;left:auto!important}.cu-conversation-view-modal .cu-comment-thread .cu-comment-users{margin-top:-30px;height:30px;display:flex;justify-content:flex-end;flex-shrink:0}.cu-conversation-view-modal .cu-comment-thread .cu-comment-users .cu-avatar.cu-avatar_lg{width:30px;height:30px}.cu-conversation-view-modal .cu-comment-thread .cu-comment-users .cu-user-group .cu-user-group__more.cu-user-group__more_lg{width:32px;height:32px;text-indent:1px;letter-spacing:0;font-size:9px;font-weight:400}.cu-conversation-view-modal .cu-comment-thread__dropzone{left:-50px;right:-50px}.cu-conversation-view-modal .cu-comment-thread .cu-comment-bar{margin:0 -50px;z-index:11}.cu-conversation-view-modal .cu-comment-thread .cu-comment-bar:before{content:"";display:block;position:absolute;z-index:1;top:-10px;left:0;width:100%;height:10px;background-image:linear-gradient(-180deg,transparent,rgba(0,0,0,.03))}.dark-theme .cu-conversation-view-modal .cu-comment-thread .cu-comment-bar:before{background:linear-gradient(180deg,rgba(43,52,59,0) 0,#2b343b)}.cu-conversation-view-modal .cu-comment-thread .cu-comment-bar .comment-bar{border-radius:0}.cu-conversation-view-modal .cu-comment-thread .cu-comment-bar .comment-bar__icon{top:4px}'],encapsulation:2}),e})()},axEd:function(e,t,i){"use strict";i.d(t,"g",function(){return a}),i.d(t,"q",function(){return o}),i.d(t,"i",function(){return c}),i.d(t,"j",function(){return n}),i.d(t,"u",function(){return s}),i.d(t,"x",function(){return r}),i.d(t,"v",function(){return l}),i.d(t,"t",function(){return d}),i.d(t,"w",function(){return u}),i.d(t,"r",function(){return p}),i.d(t,"s",function(){return m}),i.d(t,"l",function(){return h}),i.d(t,"k",function(){return b}),i.d(t,"a",function(){return g}),i.d(t,"c",function(){return f}),i.d(t,"b",function(){return _}),i.d(t,"y",function(){return v}),i.d(t,"h",function(){return y}),i.d(t,"p",function(){return w}),i.d(t,"d",function(){return k}),i.d(t,"o",function(){return x}),i.d(t,"f",function(){return T}),i.d(t,"e",function(){return S}),i.d(t,"m",function(){return j}),i.d(t,"n",function(){return O}),i.d(t,"C",function(){return I}),i.d(t,"F",function(){return D}),i.d(t,"E",function(){return C}),i.d(t,"D",function(){return P}),i.d(t,"B",function(){return $}),i.d(t,"z",function(){return z}),i.d(t,"A",function(){return M});const a="[GOALS] Go To Net Goal Step",o="[GOALS] Set Goals Step",c="[GOALS] Toggle Goal Owners",n="[GOALS] Remove User From Goal",s="[GOALS] Set Goal Owners",r="[GOALS] Set User For Goal",l="[GOALS] Set Goal Privacy",d="[GOALS] Set Goal Name",u="[GOALS] Set Goal Scroll Step",p="[GOALS] Set Goal Date",m="[GOALS] Set Goal Description",h="[GOALS] Reset Goal Force Scroll",b="[GOALS] Reset Goal Add",g="[GOALS] Create Goal",f="[GOALS] Create Goal Success",_="[GOALS] Create Goal Fail";class v{constructor(e){this.payload=e,this.type=o}}class y{constructor(e){this.payload=e,this.type=a}}class w{constructor(){this.type=h}}class k{constructor(e){this.payload=e,this.type=g}}class x{constructor(){this.type=b}}class T{constructor(e){this.payload=e,this.type=f}}class S{constructor(e){this.payload=e,this.type=_}}class j{constructor(e){this.payload=e,this.type=c}}class O{constructor(e){this.payload=e,this.type=n}}class I{constructor(e){this.payload=e,this.type=s}}class D{constructor(e){this.payload=e,this.type=r}}class C{constructor(e){this.payload=e,this.type=u}}class P{constructor(e){this.payload=e,this.type=l}}class ${constructor(e){this.payload=e,this.type=d}}class z{constructor(e){this.payload=e,this.type=p}}class M{constructor(e){this.payload=e,this.type=m}}},b94l:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("kRoH"),o=i("r5Jv"),c=i("a1Ny"),n=i("fXoL");let s=(()=>{class e extends a.g{constructor(e){super(e),this.dateAdapter=e}getMonthView(t){const i=super.getMonthView(t);return e.viewPreferences.showWeekNumbers&&(i.rowOffsets=i.rowOffsets.map((e,t)=>{const a=e+t,o=i.days[a+i.totalDaysVisibleInWeek-1].date;return i.days.splice(a,0,{date:o,day:0,isPast:!1,isToday:!1,isFuture:!1,isWeekend:!0,cssClass:"cal-cell-week-number",inMonth:!1,events:[],badgeTotal:0,meta:{weekNumber:Object(c.a)(o)}}),a}),i.totalDaysVisibleInWeek+=1),i}getWeekView(e){const t=e.events.filter(e=>e.meta.milestone),i=e.events.filter(e=>!e.meta.milestone),a=Object(o.f)(this.dateAdapter,Object.assign(Object.assign({},e),{events:t})),c=Object(o.f)(this.dateAdapter,Object.assign(Object.assign({},e),{events:i}));return Object.assign(Object.assign({},c),{allDayEventRows:[...a.allDayEventRows,...c.allDayEventRows]})}}return e.\u0275fac=function(t){return new(t||e)(n.nc(a.k))},e.\u0275prov=n.Sb({token:e,factory:e.\u0275fac}),e})()},bOwZ:function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return c}),i.d(t,"d",function(){return n}),i.d(t,"c",function(){return s});var a=i("l7P3");const o=Object(a.createAction)("[ACTIVITY VIEW] Load activity data",Object(a.props)()),c=Object(a.createAction)("[ACTIVITY VIEW] Set Activity data",Object(a.props)()),n=Object(a.createAction)("[ACTIVITY VIEW] Set Activity loading",Object(a.props)()),s=Object(a.createAction)("[ACTIVITY VIEW] Set Activity error",Object(a.props)());Object(a.union)({loadActivityData:o,setActivityData:c,setActivityLoading:n,setActivityError:s})},czmj:function(e,t,i){"use strict";i.d(t,"a",function(){return N});var a=i("fXoL"),o=i("awn/"),c=i("RwZa"),n=i("12P9"),s=i("o0vL"),r=i("MguC"),l=i("tjT+"),d=i("S61B"),u=i("jJQC"),p=i("c3rA"),m=i("mrTC"),h=i("S1QS"),b=i("HEHP"),g=i("IzEk"),f=i("SxV6"),_=i("l7P3"),v=i("G2WA"),y=i("ZlQq"),w=i("Jf2N"),k=i("hfeG"),x=i("Z1X6"),T=i("ofXK"),S=i("UdVN"),j=i("NsZK"),O=i("hSRe"),I=i("BTFG"),D=i("Zq4E");function C(e,t){1&e&&a.Xb(0,"div",8)}function P(e,t){if(1&e&&a.Xb(0,"div",9),2&e){const e=a.uc(2).$implicit;a.ad("background-color",e.task.status.color),a.Ob("cu-comment-list__custom-type",!!e.task.custom_type),a.Dc("cuTooltip",e.task.status.status)}}function $(e,t){if(1&e&&(a.ac(0),a.bd(1,C,1,0,"div",5),a.bd(2,P,1,5,"div",6),a.cc(3,"span",7),a.dd(4),a.bc(),a.Zb()),2&e){const e=a.uc().$implicit;a.Ib(1),a.Dc("ngIf",e.task.simple_statuses&&!e.task.custom_type),a.Ib(1),a.Dc("ngIf",!e.task.simple_statuses||e.task.custom_type),a.Ib(1),a.Ob("cu-comment-list__custom-type",!!e.task.custom_type),a.Ib(1),a.fd(" ",e.task.name," ")}}function z(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc().$implicit;a.Ib(1),a.ed(e.view.name)}}function M(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc().$implicit;a.Ib(1),a.ed(e.doc.name)}}const E=function(){return[]};function L(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-task-comment",10),a.qc("onCommentBodyClick",function(){a.Uc(e);const i=t.$implicit,o=a.uc().$implicit;return a.uc().groupClicked(o,i)})("onToggleResolved",function(i){a.Uc(e);const o=t.$implicit,c=a.uc().$implicit,n=a.uc();return n.toggleResolved(o,i.resolved,c,n.forAssigned)})("onAddToInbox",function(t){return a.Uc(e),a.uc(2).addCommentToInbox(t)}),a.bc()}if(2&e){const e=t.$implicit,i=a.uc().$implicit,o=a.uc();a.Dc("comment",e)("allowReply",!1)("assignedComments",!0)("parentId",e.parent)("allowReassign",!1)("allowReaction",!1)("showToolbar",!1)("taskUserGroups",i.task?o.taskUserGroups:a.Gc(8,E))}}function A(e,t){if(1&e){const e=a.dc();a.ac(0),a.cc(1,"div",3),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc().groupClicked(i)}),a.bd(2,$,5,5,"ng-container",1),a.bd(3,z,2,1,"ng-container",1),a.bd(4,M,2,1,"ng-container",1),a.bc(),a.bd(5,L,1,9,"cu-task-comment",4),a.Zb()}if(2&e){const e=t.$implicit,i=a.uc();a.Ib(2),a.Dc("ngIf",e.task),a.Ib(1),a.Dc("ngIf",e.view),a.Ib(1),a.Dc("ngIf",e.doc),a.Ib(1),a.Dc("ngForOf",e.comments)("ngForTrackBy",i.trackByCommentId)}}function F(e,t){1&e&&a.Xb(0,"cu-loader")}function U(e,t){if(1&e){const e=a.dc();a.cc(0,"div",11),a.qc("cuIsInViewport",function(t){return a.Uc(e),a.uc().checkForMoreTasks(t)}),a.bc()}if(2&e){const e=a.uc();a.Dc("isInViewPortEnabled",e.hasMore&&!e.moreLoading)}}let N=(()=>{class e{constructor(e,t,i,o,n,s,r){this.store=e,this.sharedTask=t,this.sharedDoc=i,this.injector=o,this.modalService=n,this.inboxService=s,this.effects=r,this.onLoadMore=new a.o,this.trackById=Object(u.d)("id"),this.user$=this.store.select(p.getUser),this.isProfileSidebarOpen$=this.store.select(d.e),this.taskUserGroups=c.c,this.needLoadMore=!1,this.trackByCommentId=(e,{comment:t})=>t.id}ngOnChanges(e){var t;e.groups&&this.needLoadMore&&this.hasMore&&!this.moreLoading&&(null===(t=this.groups)||void 0===t?void 0:t.length)&&setTimeout(()=>{this.needLoadMore&&this.onLoadMore.emit()},100)}loadMoreAssignedComments(){this.store.dispatch(Object(h.m)({loadMore:!0}))}loadMoreTaggedComments(){this.store.dispatch(Object(h.o)({loadMore:!0}))}groupClicked(e,t){this.effects.register(this.isProfileSidebarOpen$.pipe(Object(g.a)(1)),i=>{if(!i)if(e.task)this.sharedTask.openTaskModal({id:e.task.id,customId:e.task.custom_id,teamId:e.task.team},t?t.type===s.c.Comment&&t.parent?t.parent:t.id:void 0);else if(e.doc)this.sharedDoc.openDoc(this.injector,this.team.id,e.doc.id,null,t?t.id:null);else if(e.view)if(e.view.type===r.i.Conversation){const t=this.modalService.openComponent(o.a,this.injector,{});t.instance.view=e.view,t.instance.title=e.view.name||$localize`:@@common_conversation:Conversation`,t.changeDetectorRef.detectChanges()}else e.view.type===r.i.Doc&&this.sharedDoc.openDoc(this.injector,this.team.id,e.view.id,null,t?t.id:null)})}toggleResolved(e,t,i,a){this.store.dispatch(new l.J({parent:e.parent,type:e.type,comment:e,changes:{resolved:t},removeResolved:!1})),this.store.dispatch(Object(h.t)({parent:e.parent,comment:e,homeViewComment:i,changes:{resolved:t},forAssigned:a}))}addCommentToInbox(e){let t;t=e.text&&e.text.length>25?`${e.text.substring(0,25)}... ${e.url}`:`${e.text} ${e.url}`;const i={data:{id:null,name:t,assignees:[],title:e.text,date_created:String(Date.now()),due_date:e.date,due_date_time:e.dueDateTime,start_date:String(Date.now()),start_date_time:!1,recurring_settings:e.recurringSettings?Object(n.i)(e.recurringSettings.recurring):null},open:!0};this.effects.register(this.user$.pipe(Object(f.a)()),e=>{this.inboxService.createReminder(e,m.a.Today,i)})}checkForMoreTasks(e){this.needLoadMore=e,e&&this.onLoadMore.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(_.Store),a.Wb(v.a),a.Wb(y.a),a.Wb(a.t),a.Wb(w.a),a.Wb(k.a),a.Wb(b.b))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-comment-list"]],hostAttrs:[1,"cu-comment-list"],inputs:{team:"team",groups:"groups",forAssigned:"forAssigned",moreLoading:"moreLoading",hasMore:"hasMore"},outputs:{onLoadMore:"onLoadMore"},features:[a.Hb([b.b]),a.Gb],decls:3,vars:6,consts:[[4,"rxFor","rxForOf","rxForTrackBy","rxForStrategy","rxForPatchZone"],[4,"ngIf"],["class","cu-comment-list__show-more",3,"isInViewPortEnabled","cuIsInViewport",4,"ngIf"],[1,"cu-comment-list__body-group-header",3,"click"],["class","cu-comment-list__body-group-comment",3,"comment","allowReply","assignedComments","parentId","allowReassign","allowReaction","showToolbar","taskUserGroups","onCommentBodyClick","onToggleResolved","onAddToInbox",4,"ngFor","ngForOf","ngForTrackBy"],["icon","check","class","cu-comment-list__body-group-header-simple-status",4,"ngIf"],["class","cu-comment-list__body-group-header-status",3,"backgroundColor","cu-comment-list__custom-type","cuTooltip",4,"ngIf"],[1,"cu-comment-list__body-group-header-name"],["icon","check",1,"cu-comment-list__body-group-header-simple-status"],[1,"cu-comment-list__body-group-header-status",3,"cuTooltip"],[1,"cu-comment-list__body-group-comment",3,"comment","allowReply","assignedComments","parentId","allowReassign","allowReaction","showToolbar","taskUserGroups","onCommentBodyClick","onToggleResolved","onAddToInbox"],[1,"cu-comment-list__show-more",3,"isInViewPortEnabled","cuIsInViewport"]],template:function(e,t){1&e&&(a.bd(0,A,6,5,"ng-container",0),a.bd(1,F,1,0,"cu-loader",1),a.bd(2,U,1,1,"div",2)),2&e&&(a.Dc("rxForOf",t.groups)("rxForTrackBy",t.trackById)("rxForStrategy","normal")("rxForPatchZone",!0),a.Ib(1),a.Dc("ngIf",!t.groups||t.moreLoading||t.hasMore),a.Ib(1),a.Dc("ngIf",t.hasMore))},directives:[x.a,T.q,T.p,S.a,j.a,O.a,I.a,D.a],styles:[".cu-comment-list{position:relative;display:block}.cu-comment-list__body-group-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34;cursor:pointer}.dark-theme .cu-comment-list__body-group-header{color:#d5d6d7}cu-task-comment+.cu-comment-list__body-group-header{padding-top:24px;margin-top:20px;border-top:1px solid #e9ebf0}.dark-theme cu-task-comment+.cu-comment-list__body-group-header{border-top-color:#1e272e}.cu-comment-list__body-group-header-status{flex-shrink:0;margin:2px 9px 0 0;width:8px;height:8px;border-radius:2px;background:currentColor;display:flex;justify-content:center;align-items:center}.cu-comment-list__body-group-header-status.cu-comment-list__custom-type{height:10px;width:10px;transform:rotate(45deg);border-radius:2px}.cu-comment-list__body-group-header-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-comment-list__body-group-header-name{color:#d5d6d7}.cu-comment-list__body-group-header-name.cu-comment-list__custom-type{font-weight:500}.cu-comment-list__body-group-header-simple-status{width:14px;height:14px;stroke:rgba(52,52,52,.2);stroke-width:2px;margin:-1px 6px 0 -3px}.dark-theme .cu-comment-list__body-group-header-simple-status{stroke:#828588}.cu-comment-list__body-group-header-simple-status_closed,.dark-theme .cu-comment-list__body-group-header-simple-status_closed{fill:#67cb48}.cu-comment-list__body-group-comment .cu-comment__text-content{cursor:pointer}.cu-comment-list__show-more{margin-top:-200px;height:200px;padding-top:120px;pointer-events:none}"],encapsulation:2,changeDetection:0}),e})()},dN7M:function(e,t,i){"use strict";i.d(t,"a",function(){return x});var a=i("L5Tv"),o=i("c3rA"),c=i("fXoL"),n=i("pLZG"),s=i("eIep"),r=i("2Vo4"),l=i("l7P3"),d=i("I1n0"),u=i("eDEC"),p=i("FC7Q"),m=i("Hgwy"),h=i("wa4x"),b=i("aitn"),g=i("TqRa"),f=i("jJW4"),_=i("76Cs"),v=i("loh9"),y=i("peMq"),w=i("ofXK");const k=function(){return[]};let x=(()=>{class e{constructor(e,t,i,u){this.sharedData=e,this.taskService=t,this.changeDetectorRef=i,this.store=u,this.reloadTask=new c.o,this.updateTask=new c.o,this.UserWeightType=a.c,this.disabled=!1,this.task$=new r.a(null),this.users$=this.task$.pipe(Object(n.a)(e=>!!e),Object(s.a)(e=>this.store.pipe(Object(l.select)(Object(d.I)(e.id))))),this.weights$=this.store.select(o.getUserWeights),this.userGroups$=this.store.select(h.c),this.isSharingApp=g.k}ngOnChanges(e){e.task&&(this.disabled=!this.project||!Object(p.b)(this.task.permissions,this.task.permission_level,this.task.assignees,this.task.group_assignees,this.sharedData.currentUser.value)||this.isRecurring,this.task$.next(this.task))}setAssignees(e){const t=this.task;this.taskService.setAssignees(this.task,e).subscribe(e=>{t.permissions=e.task.permissions,this.userListDropdown&&t.permissions.change_assignee!==m.a.Edit&&this.userListDropdown.dropdown.close(),this.changeDetectorRef.detectChanges(),this.reloadTask.emit()}),this.userListDropdown.selectedUsers=e,this.updateTask.emit(Object.assign(Object.assign({},this.task),{assignees:e})),this.changeDetectorRef.detectChanges()}removeAssignee(e){const t=this.task.assignees.findIndex(t=>t.id===e.id);if(-1!==t){const e=[...this.task.assignees];e.splice(t,1),this.updateTask.emit(Object.assign(Object.assign({},this.task),{assignees:e}))}const i=this.task;this.taskService.removeAssignee(this.task,e).subscribe(e=>{i.permissions=e.task.permissions,this.reloadTask.emit(),this.changeDetectorRef.detectChanges()}),this.changeDetectorRef.detectChanges()}setGroupAssignees(e){const t=this.task;this.taskService.setGroupAssignees(this.task,e).subscribe(e=>{t.permissions=e.task.permissions,this.userListDropdown&&t.permissions.change_assignee!==m.a.Edit&&this.userListDropdown.dropdown.close(),this.changeDetectorRef.detectChanges(),this.reloadTask.emit()}),this.userListDropdown.selectedUserGroups=e,this.updateTask.emit(Object.assign(Object.assign({},this.task),{group_assignees:e})),this.changeDetectorRef.detectChanges()}removeGroupAssignee(e){const t=this.task.group_assignees.findIndex(t=>t.id===e.id);if(-1!==t){const e=[...this.task.group_assignees];e.splice(t,1),this.updateTask.emit(Object.assign(Object.assign({},this.task),{group_assignees:e}))}const i=this.task;this.taskService.removeGroupAssignee(this.task,e).subscribe(e=>{i.permissions=e.task.permissions,this.reloadTask.emit(),this.changeDetectorRef.detectChanges()}),this.changeDetectorRef.detectChanges()}loadUsers(){this.store.dispatch(new u.R({taskId:this.task.id}))}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(f.a),c.Wb(_.a),c.Wb(c.h),c.Wb(l.Store))},e.\u0275cmp=c.Qb({type:e,selectors:[["cu-calendar-event-assignee"]],viewQuery:function(e,t){if(1&e&&c.jd(b.a,1),2&e){let e;c.Qc(e=c.rc())&&(t.userListDropdown=e.first)}},inputs:{task:"task",project:"project",isRecurring:"isRecurring"},outputs:{reloadTask:"reloadTask",updateTask:"updateTask"},features:[c.Gb],decls:5,vars:27,consts:[[1,"cu-dashboard-time__calendar__event__assignees-inner",3,"disabled","selectedUsers","multiChoice","enableFirstSelection","modifier","users","weights","userGroups","selectedUserGroups","weightType","task","subcategory","cuPreventDefault","hidden","onChange","onUserGroupsChanged","onOpen"],["tooltipModifier","tooltip_left",3,"users","userGroups","showUserRemover","readOnly","canAssign","avatarSize","onUserRemove","onUserGroupRemove"]],template:function(e,t){1&e&&(c.cc(0,"cu-user-and-groups-list-dropdown",0),c.qc("onChange",function(e){return t.setAssignees(e)})("onUserGroupsChanged",function(e){return t.setGroupAssignees(e)})("onOpen",function(){return t.loadUsers()}),c.vc(1,"async"),c.vc(2,"async"),c.vc(3,"async"),c.cc(4,"cu-user-group",1),c.qc("onUserRemove",function(e){return t.removeAssignee(e)})("onUserGroupRemove",function(e){return t.removeGroupAssignee(e)}),c.bc(),c.bc()),2&e&&(c.Dc("disabled",2!==t.task.permissions.change_assignee||t.disabled)("selectedUsers",t.task.assignees)("multiChoice",null==t.project?null:t.project.multiple_assignees)("enableFirstSelection",!0)("modifier","cu-dropdown_left")("users",c.wc(1,19,t.users$))("weights",c.wc(2,21,t.weights$))("userGroups",c.wc(3,23,t.userGroups$))("selectedUserGroups",t.task.group_assignees)("weightType",t.UserWeightType.ASSIGN)("task",t.task)("subcategory",t.task.subcategory)("hidden",2!==t.task.permissions.change_assignee&&0===t.task.assignees.length),c.Ib(4),c.Dc("users",t.task.assignees||c.Gc(25,k))("userGroups",t.task.group_assignees||c.Gc(26,k))("showUserRemover",2===t.task.permissions.change_assignee)("readOnly",2!==t.task.permissions.change_assignee)("canAssign",!t.isSharingApp)("avatarSize",20))},directives:[b.a,v.a,y.a],pipes:[w.b],encapsulation:2,changeDetection:0}),e})()},dqeI:function(e,t,i){"use strict";i.d(t,"x",function(){return k}),i.d(t,"l",function(){return x}),i.d(t,"u",function(){return T}),i.d(t,"i",function(){return j}),i.d(t,"h",function(){return O}),i.d(t,"J",function(){return I}),i.d(t,"j",function(){return D}),i.d(t,"q",function(){return C}),i.d(t,"w",function(){return P}),i.d(t,"k",function(){return $}),i.d(t,"v",function(){return M}),i.d(t,"r",function(){return E}),i.d(t,"I",function(){return L}),i.d(t,"H",function(){return A}),i.d(t,"b",function(){return F}),i.d(t,"c",function(){return U}),i.d(t,"m",function(){return N}),i.d(t,"d",function(){return R}),i.d(t,"E",function(){return H}),i.d(t,"F",function(){return Y}),i.d(t,"s",function(){return Z}),i.d(t,"n",function(){return Q}),i.d(t,"G",function(){return K}),i.d(t,"f",function(){return J}),i.d(t,"e",function(){return ee}),i.d(t,"g",function(){return te}),i.d(t,"D",function(){return ie}),i.d(t,"C",function(){return ae}),i.d(t,"B",function(){return oe}),i.d(t,"p",function(){return ce}),i.d(t,"o",function(){return ne}),i.d(t,"A",function(){return se}),i.d(t,"y",function(){return re}),i.d(t,"z",function(){return le}),i.d(t,"a",function(){return de}),i.d(t,"t",function(){return ue});var a=i("CgHv"),o=i("c3rA"),c=i("Nn/B"),n=i("P3yg"),s=i("l7P3"),r=i("WluX"),l=i("1Spw"),d=i("2eDp"),u=i("IlGD"),p=i("pxSR"),m=i("xWuZ"),h=i("Gj5t"),b=i("MguC"),g=i("dTHz"),f=i("wa4x"),_=i("nLWA"),v=i("GkwO");const y=Object(s.createFeatureSelector)("gridView"),w=Object(s.createSelector)(y,e=>e.dashboardsMap),k=Object(s.createSelector)(y,e=>e.sprintCategoryId),x=Object(s.createSelector)(y,e=>e.favorites),T=Object(s.createSelector)(y,e=>e.reportGroupMap),S=Object(s.createSelector)(x,e=>e.reduce((e,t)=>(e[t]=!0,e),{})),j=Object(s.createSelector)(w,o.getSelectedTeamId,(e,t)=>e[t]),O=Object(s.createSelector)(j,e=>e||[]),I=Object(s.createSelector)(o.getTeam,O,(e,t)=>e&&e.dashboards_enabled&&(e.role!==g.f.GUEST||t&&t.length>0)),D=Object(s.createSelector)(O,S,(e,t)=>e.map(e=>Object.assign(Object.assign({},e),{favorite:t[e.id]}))),C=Object(s.createSelector)(D,e=>e.filter(e=>!e.favorite&&(!e.members||e.members.length<=1)&&!!e.private)),P=Object(s.createSelector)(D,e=>e.filter(e=>!e.favorite&&(e.members&&e.members.length>1||!e.private))),$=Object(s.createSelector)(D,x,(e,t)=>t.map(t=>e.find(e=>e.id===t)).filter(e=>!!e)),z=Object(s.createSelector)(y,e=>e.widgetsMap),M=Object(s.createSelector)(y,e=>e.selectedDashboardId),E=Object(s.createSelector)(y,e=>e.isAdding),L=Object(s.createSelector)(z,M,(e,t)=>e[t]),A=Object(s.createSelector)(L,e=>e||[]),F=Object(s.createSelector)(O,M,(e,t)=>e.find(e=>e.id===t)),U=e=>Object(s.createSelector)(O,t=>t.find(t=>t.id===e)),N=Object(s.createSelector)(o.getTeam,e=>({teamId:e})),R=e=>Object(s.createSelector)(Object(r.l)([]),U(e),(e,t)=>{if(!t)return;const i=(t.members||[]).map(t=>{let i=Object.assign({},t);if(!t.role){const a=e.findIndex(e=>e.user.id===t.user.id);-1!==a&&(i=Object.assign({role:e[a].role},t))}return i});return{parentMembers:t.private?[]:e,members:i}}),G=Object(s.createSelector)(y,e=>e.widgetDataMap),q=Object(s.createSelector)(y,e=>e.widgetContentHistoryMap),B=Object(s.createSelector)(y,e=>e.reportDataMap),W=Object(s.createSelector)(B,T,o.getTeam,c.g,o.getUser,(e,t,i,a,o)=>({reportDataMap:e,reportGroupMap:t,team:i,entriesMap:a,user:o})),V=Object(s.createSelector)(A,d.c,o.getTeam,(e,t,i)=>{const o=[...a.mb,...t.map(e=>Object(a.pb)(e,i))],c={};return e.forEach(e=>{if(e.view){const i=Object(v.b)(Object(h.vb)(e.view));c[e.id]=Object(v.a)(o,i,t,Object(h.vb)(e.view))}}),c}),X=Object(s.createSelector)(d.c,f.c,(e,t)=>({customFields:e,userGroups:t})),H=Object(s.createSelector)(y,G,A,p.l,V,W,q,X,(e,t,i,o,c,s,r,{customFields:d,userGroups:u})=>{const{reportDataMap:m,reportGroupMap:g,team:f,entriesMap:v,user:y}=s,w=Object.assign({},t);return i.forEach(t=>{if(t.view_id&&t.view)if(t.view.type===b.i.List){const i=Object(h.vb)(t.view),n=o.divisionsMap[t.view_id];n&&(w[t.id]={taskData:{divisions:Object(p.n)(n.divisions,o.groupIdsMap[t.view_id],e.tasksMap[t.id]||{},{},{},d,{emptyStatusMap:{},emptyGroup:a.b,showEmptyStatuses:!1},!0),columns:c[t.id].filter(e=>!e.teamBased||e.teamBased&&f[e.clickAppId]),sorting:i.sorting||[]}})}else[b.i.Conversation,b.i.Embed,b.i.Activity].includes(t.view.type)&&(w[t.id]={});t.type===l.a.Description?w[t.id]={description:t.description,attachments:t.attachments,history:r[t.id]}:t.type===l.a.Portfolio&&(w[t.id]={}),Object(n.B)(t.type)&&m&&m[t.id]&&(w[t.id]=Object(n.v)(t,m,y,u)),t.type===l.a.TimeReporting&&w[t.id]&&(w[t.id]=Object(n.n)(t,w[t.id],g[t.id],v)),t.type===l.a.TimeSheet&&w[t.id]&&(w[t.id]=Object(n.o)(t,w[t.id],g[t.id],f&&f.hours_per_day||_.a,v))}),w}),Y=Object(s.createSelector)(y,e=>e.widgetLoadingMap),Z=Object(s.createSelector)(y,e=>e.pageLoadingMap),Q=Object(s.createSelector)(d.c,o.getTeam,(e,t)=>[...a.ob,...e.filter(e=>{const t=u.e[e.type];return t&&"none"!==t.filters.queryType}).map(e=>Object(a.pb)(e,t))].sort((e,t)=>e.customField&&t.customField?(""+e.customField.name).localeCompare(t.customField.name):e.customField?1:t.customField?-1:void 0)),K=Object(s.createSelector)(y,e=>e.overPaywall),J=Object(s.createSelector)(y,e=>e.dashboardSidebarOptions),ee=Object(s.createSelector)(J,e=>e.isCollapsed),te=Object(s.createSelector)(J,e=>e.width),ie=e=>Object(s.createSelector)(A,t=>t.find(t=>t.view_id===e)),ae=e=>Object(s.createSelector)(A,t=>t.find(t=>t.id===e)),oe=e=>Object(s.createSelector)(ae(e),e=>Object(h.vb)(e.view)),ce=e=>Object(s.createSelector)(p.l,ae(e),(e,t)=>t&&e.divisionsMap[t.view_id]&&Object(m.a)(e.divisionsMap[t.view_id].divisions.map(e=>e.groups))||[]),ne=e=>Object(s.createSelector)(p.l,ae(e),(e,t)=>t&&e.groupIdsMap[t.view_id]||{}),se=Object(s.createSelector)(y,e=>e.tasksMap||{}),re=e=>Object(s.createSelector)(ce(e),ne(e),(e,t)=>{const i={};return Object(m.a)(e.map(e=>i[e.id]?[]:t[e.id]||[]))}),le=e=>Object(s.createSelector)(ce(e),(e=>Object(s.createSelector)(se,t=>t[e]||{}))(e),(e,t)=>{const i={};return Object(m.a)(e.map(e=>i[e.id]?[]:t[e.id]||[]))}),de=e=>Object(s.createSelector)(V,t=>t[e]),ue=Object(s.createSelector)(y,e=>e.reloadFlagMap)},fSN5:function(e,t,i){e.exports=i.p+"figma2.05155b5a1d077b73c6bd.svg"},"g4c/":function(e,t,i){"use strict";i.d(t,"a",function(){return k});var a=i("fXoL"),o=i("jJQC"),c=i("GXRk"),n=i("6nYW"),s=i("G2WA"),r=i("UdVN"),l=i("NsZK"),d=i("ofXK");const u=function(e){return{"cu-live-task-list__simple-status_closed":e}};function p(e,t){if(1&e&&a.Xb(0,"div",11),2&e){const e=a.uc(2).$implicit,t=a.uc();a.Dc("ngClass",a.Hc(1,u,(null==e?null:e.type)===t.StatusTypes.Closed))}}const m=function(e){return{"background-color":e}};function h(e,t){if(1&e&&a.Xb(0,"div",12),2&e){const e=a.uc(2).$implicit;a.Ob("cu-live-task-list__custom-type",!(null==e||!e.custom_type)),a.Dc("ngStyle",a.Hc(3,m,null==e?null:e.color))}}function b(e,t){if(1&e&&(a.ac(0),a.bd(1,p,1,3,"div",9),a.bd(2,h,1,5,"ng-template",null,10,a.cd),a.Zb()),2&e){const e=a.Rc(3),t=a.uc().$implicit;a.Ib(1),a.Dc("ngIf",(null==t?null:t.simple_statuses)&&!(null!=t&&t.custom_type))("ngIfElse",e)}}function g(e,t){if(1&e&&a.Xb(0,"div",13),2&e){const e=a.uc().$implicit;a.Ob("cu-live-task-list__custom-type",!(null==e||!e.custom_type)),a.Dc("ngStyle",a.Hc(3,m,null==e?null:e.color))}}function f(e,t){if(1&e&&(a.cc(0,"div",14),a.dd(1),a.bc()),2&e){const e=a.uc().index,t=a.uc();a.Ib(1),a.fd(" ",t.percentage[e],"% ")}}const _=function(e){return{"cu-live-task-list__task_private":e}},v=function(e){return{"cu-live-task-list__task-name_italic":e}};function y(e,t){if(1&e){const e=a.dc();a.cc(0,"div",4),a.qc("click",function(i){a.Uc(e);const o=t.$implicit,c=a.uc();return null!=o&&o.accessible?c.openTask(i,o):null}),a.bd(1,b,4,2,"ng-container",5),a.bd(2,g,1,5,"ng-template",null,6,a.cd),a.cc(4,"div",7),a.dd(5),a.bc(),a.bd(6,f,2,1,"div",8),a.bc()}if(2&e){const e=t.$implicit,i=t.index,o=a.Rc(3),c=a.uc();a.Dc("ngClass",a.Hc(10,_,!(null!=e&&e.accessible))),a.Ib(1),a.Dc("ngIf",null==e?null:e.accessible)("ngIfElse",o),a.Ib(3),a.Ob("cu-live-task-list__custom-type",!(null==e||!e.custom_type)),a.Dc("ngClass",a.Hc(12,v,!(null!=e&&e.accessible)))("cuTooltip",null==e?null:e.name)("tooltipDisabledIfTextNotTruncated",!0),a.Ib(1),a.fd(" ",e.name," "),a.Ib(1),a.Dc("ngIf",c.percentage[i])}}function w(e,t){if(1&e&&(a.cc(0,"div",15),a.cc(1,"div",16),a.gc(2,17),a.bc(),a.cc(3,"div",18),a.dd(4),a.bc(),a.bc()),2&e){const e=a.uc();a.Ib(4),a.fd("",e.otherTasks,"%")}}let k=(()=>{class e{constructor(e){this.sharedTaskService=e,this.title="Trending tasks",this.onOpenTask=new a.o,this.trackById=Object(o.d)("id"),this.otherTasks=0,this.StatusTypes=c.g}ngOnInit(){}ngOnChanges(e){if(e.activity&&this.activity&&this.activity.tasks){const e=this.activity.tasks.map(e=>this.activity.total_task_time?100*e.total_time/this.activity.total_task_time:0);this.percentage=Object(n.b)(e),this.otherTasks=100-this.percentage.reduce((e,t)=>e+t,0)}}openTask(e,t){this.sharedTaskService.clickTaskLink({id:t.id,customId:t.custom_id,teamId:t.team},e),this.onOpenTask.next()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(s.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-live-task-list"]],hostAttrs:[1,"cu-live-task-list"],inputs:{title:"title",activity:"activity"},outputs:{onOpenTask:"onOpenTask"},features:[a.Gb],decls:5,vars:4,consts:function(){let e,t;return e=$localize`:@@cu-live-task-list__tooltip-msg_task-activity-calculation-description␟681c1a819f7b3948d5e32dc5b896643b178e1905␟1640626720438275783:Tasks that this person worked on; determined by how long someone is viewing, editing, or commenting on tasks.`,t=$localize`:@@cu-live-task-list__other-tasks␟8c99c7973ed234893ff49949088172677ca0b8bc␟3003154609245558383: Other tasks `,[[1,"cu-live-task-list__label"],["tooltipLifeTime","15000","icon","cu2-info-circle","cuTooltip",e,1,"cu-live-task-list__label-question"],["class","cu-live-task-list__task",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-live-task-list__other",4,"ngIf"],[1,"cu-live-task-list__task",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["statusPlaceholder",""],[1,"cu-live-task-list__task-name",3,"ngClass","cuTooltip","tooltipDisabledIfTextNotTruncated"],["class","cu-live-task-list__task-time",4,"ngIf"],["class","cu-live-task-list__simple-status","icon","check-bold",3,"ngClass",4,"ngIf","ngIfElse"],["customStatuses",""],["icon","check-bold",1,"cu-live-task-list__simple-status",3,"ngClass"],[1,"cu-live-task-list__status",3,"ngStyle"],[1,"cu-live-task-list__status","cu-live-task-list__status_placeholder",3,"ngStyle"],[1,"cu-live-task-list__task-time"],[1,"cu-live-task-list__other"],[1,"cu-live-task-list__other-name"],t,[1,"cu-live-task-list__other-time"]]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.dd(1),a.Xb(2,"div",1),a.bc(),a.bd(3,y,7,14,"div",2),a.bd(4,w,5,1,"div",3)),2&e&&(a.Ib(1),a.fd(" ",t.title," "),a.Ib(2),a.Dc("ngForOf",null==t.activity?null:t.activity.tasks)("ngForTrackBy",t.trackById),a.Ib(1),a.Dc("ngIf",t.otherTasks&&(null==t.activity||null==t.activity.tasks?null:t.activity.tasks.length)))},directives:[r.a,l.a,d.p,d.q,d.o,d.t],styles:[".cu-live-task-list__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 10px Gotham Pro,Proxima Nova,arial,serif;color:#b9bec7;text-transform:uppercase;margin-top:10px;margin-bottom:5px}.dark-theme .cu-live-task-list__label{color:#828588}.cu-live-task-list__label-question{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;display:inline-block;width:11px;height:11px;margin-left:4px;margin-bottom:-1px;fill:#ccc}.dark-theme .cu-live-task-list__label-question{fill:#828588}.cu-live-task-list__status{flex-shrink:0;margin:0 9px 0 0;width:8px;height:8px;border-radius:2px;background:currentColor;display:flex;justify-content:center;align-items:center}.cu-live-task-list__status.cu-live-task-list__custom-type{height:10px;width:10px;transform:rotate(45deg);border-radius:2px}.cu-live-task-list__status_placeholder{background:transparent!important;border:1px dotted #b9bec7}.cu-live-task-list__simple-status{width:14px;height:14px;fill:rgba(52,52,52,.2);margin:0 6px 0 -3px}.dark-theme .cu-live-task-list__simple-status{fill:#828588}.cu-live-task-list__simple-status_closed,.dark-theme .cu-live-task-list__simple-status_closed{fill:#67cb48}.cu-live-task-list__task{display:flex;align-items:center;cursor:pointer;height:26px}.cu-live-task-list__task:hover .cu-live-task-list__task-name{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-live-task-list__task:hover .cu-live-task-list__task-name{color:var(--theme-main-color)}}.cu-live-task-list__task_private{pointer-events:none}.cu-live-task-list__task-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.cu-live-task-list__task-name.cu-live-task-list__custom-type{font-weight:500}.dark-theme .cu-live-task-list__task-name{color:#d5d6d7}.cu-live-task-list__task-name_italic{font-style:italic}.cu-live-task-list__task-time{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-left:5px;margin-top:1px;flex-shrink:0;color:#292d34}.dark-theme .cu-live-task-list__task-time{color:#d5d6d7}.cu-live-task-list__other{display:flex;align-items:center;height:26px}.cu-live-task-list__other-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34;font-style:italic}.dark-theme .cu-live-task-list__other-name{color:#d5d6d7}.cu-live-task-list__other-time{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-left:5px;margin-top:1px;flex-shrink:0;color:#292d34;font-style:italic}.dark-theme .cu-live-task-list__other-time{color:#d5d6d7}"],encapsulation:2,changeDetection:0}),e})()},hby3:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},hmfO:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("fXoL"),o=i("jhN1");let c=(()=>{class e{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustStyle(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.b))},e.\u0275pipe=a.Vb({name:"trustStyle",type:e,pure:!0}),e})()},"j/p2":function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return o});var a=function(e){return e.Asana="asana",e.Trello="trello",e.Csv="csv",e.Jira="jira",e.Todoist="todoist",e.Monday="monday",e.Basecamp="basecamp",e.Wrike="wrike",e}({});const o=[{id:a.Csv,title:"CSV File",icon:"cu2-file-spreadsheet"},{id:a.Asana,title:"Asana",icon:"cu2-asana-mark"},{id:a.Jira,title:"Jira Software",icon:"cu2-jira-mark"},{id:a.Monday,title:"Monday",icon:"cu2-monday-mark"},{id:a.Todoist,title:"Todoist",icon:"cu2-todoist-mark"},{id:a.Trello,title:"Trello",icon:"cu2-trello-mark"},{id:a.Basecamp,title:"Basecamp",icon:"cu2-basecamp-mark"},{id:a.Wrike,title:"Wrike",icon:"cu2-wrike-mark"}]},jACb:function(e,t,i){"use strict";i.d(t,"a",function(){return fi});var a=i("U4aC"),o=i("uvw/"),c=i("Gj5t"),n=i("Hgwy"),s=i("o7Ov"),r=i("c3rA"),l=i("dTHz"),d=i("GkwO"),u=i("fXoL"),p=i("tyNb"),m=i("XNiG"),h=i("2Vo4"),b=i("itXk"),g=i("l7P3"),f=i("lJxs"),_=i("eIep"),v=i("zp1y"),y=i("/uUt"),w=i("pLZG"),k=i("JX91"),x=i("1G5W"),T=i("IzEk"),S=i("Muja"),j=i("jJQC"),O=i("5+WD"),I=i("lI7e"),D=i("MguC"),C=i("TyK0"),P=i("R0Ic"),$=i("jJW4"),z=i("Jf2N"),M=i("AeD3"),E=i("Tm/s"),L=i("rLOZ"),A=i("8it8"),F=i("ofXK"),U=i("HqON"),N=i("wF7Z"),R=i("UdVN"),G=i("loh9"),q=i("NsZK"),B=i("LdyQ"),W=i("MJvn"),V=i("n+1/"),X=i("9gfC"),H=i("pxPQ"),Y=i("PBBv"),Z=i("7G3y"),Q=i("7ycA"),K=i("Q/P0"),J=i("HcPq"),ee=i("VKdm"),te=i("KTjT"),ie=i("0mFS"),ae=i("bV87"),oe=i("wA7i"),ce=i("SxV6"),ne=i("4zIx"),se=i("j/p2"),re=i("hr9B"),le=i("y5jv"),de=i("uslN"),ue=i("DzOF"),pe=i("cGJt"),me=i("xog/"),he=i("N4ya"),be=i("P5sH"),ge=i("NQa4"),fe=i("zYZY"),_e=i("5Mp/"),ve=i("Z1X6"),ye=i("p080"),we=i("sf8M"),ke=i("WsdY");const xe=["newListFolderMenu"];function Te(e,t){1&e&&u.Xb(0,"div",19),2&e&&u.Dc("icon","handle5-no-color")}const Se=function(e){return{"cu2-project-list-bar-item__caret_opened":e}};function je(e,t){if(1&e&&u.Xb(0,"div",20),2&e){const e=u.uc();u.Dc("ngClass",u.Hc(2,Se,e.isOpened))("icon",e.layoutType===e.LayoutVersion.Six?"cu2-caret-down":"cu2-caret-right")}}function Oe(e,t){}const Ie=function(e){return{"cu2-project-list-bar-item__avatar_expanded":e}};function De(e,t){if(1&e&&(u.ac(0),u.cc(1,"div",21),u.vc(2,"async"),u.vc(3,"async"),u.bd(4,Oe,0,0,"ng-template",22),u.bc(),u.Zb()),2&e){const e=u.uc(),t=u.Rc(10);u.Ib(1),u.Ec("cuTooltip",u.wc(3,5,e.isSpacesBarCollapsed$)?e.project.name:null),u.Dc("ngClass",u.Hc(7,Ie,!u.wc(2,3,e.isSpacesBarCollapsed$))),u.Ib(3),u.Dc("ngTemplateOutlet",t)}}function Ce(e,t){}function Pe(e,t){if(1&e&&(u.cc(0,"a",23),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.bd(5,Ce,0,0,"ng-template",22),u.bc()),2&e){const e=u.uc(),t=u.Rc(10);u.Ec("cuTooltip",u.wc(2,7,e.isSpacesBarCollapsed$)?e.project.name:null),u.Dc("ngClass",u.Hc(13,Ie,!u.wc(1,5,e.isSpacesBarCollapsed$)))("routerLink",u.wc(3,9,e.projectPath$))("queryParams",u.wc(4,11,e.projectQueryParam$)),u.Ib(5),u.Dc("ngTemplateOutlet",t)}}const $e=function(e,t,i,a,o){return{"cu-project-avatar_m":e,"cu-project-avatar_l":t,"cu-project-avatar_33":i,"cu-project-avatar_24":a,"cu-project-avatar_20":o}};function ze(e,t){if(1&e&&(u.Xb(0,"cu-project-avatar",24),u.vc(1,"async")),2&e){const e=u.uc();let t=null;u.Dc("image",null==e.project?null:e.project.avatar)("color",null==e.project?null:e.project.color)("iconSource",null==e.project?null:e.project.avatar_source)("iconName",null==e.project?null:e.project.avatar_value)("name",null==e.project?null:e.project.name)("dashboardVersion",null==(t=u.wc(1,7,e.user$))?null:t.dashboard)("ngClass",u.Lc(9,$e,(e.layoutType===e.LayoutVersion.Two||e.layoutType===e.LayoutVersion.Three)&&e.layoutSize===e.LayoutSize.Compact,e.layoutSize===e.LayoutSize.Default,e.layoutSize===e.LayoutSize.Large,e.layoutType===e.LayoutVersion.Four&&e.layoutSize===e.LayoutSize.Compact,e.layoutType===e.LayoutVersion.Five||e.layoutType===e.LayoutVersion.Six))}}function Me(e,t){1&e&&u.Xb(0,"div",29)}function Ee(e,t){1&e&&u.Xb(0,"div",30)}const Le=function(e){return{"cu2-project-list-bar-item__link-text_bordered":e}};function Ae(e,t){if(1&e){const e=u.dc();u.ac(0),u.cc(1,"div",25),u.bd(2,Me,1,0,"div",26),u.cc(3,"a",27),u.qc("click",function(t){return u.Uc(e),u.uc().toggle(t)}),u.vc(4,"async"),u.dd(5),u.bc(),u.bd(6,Ee,1,0,"div",28),u.bc(),u.Zb()}if(2&e){const e=u.uc();u.Ib(2),u.Dc("ngIf",null==e.project?null:e.project.archived),u.Ib(1),u.Ec("cuTooltip",e.project.name),u.Kb("data-test","space-list-item-",e.project.id,""),u.Dc("ngClass",u.Hc(10,Le,!(e.selected&&!e.selectedChildren)))("routerLink",!e.selected||e.selectedChildren?u.wc(4,8,e.projectAllPath$):null)("tooltipDisabledIfTextNotTruncated",!0),u.Ib(2),u.ed(e.project.name),u.Ib(1),u.Dc("ngIf",e.project.private)}}function Fe(e,t){1&e&&u.Xb(0,"div",34)}function Ue(e,t){if(1&e&&(u.cc(0,"a",31),u.vc(1,"async"),u.vc(2,"async"),u.bd(3,Fe,1,0,"div",32),u.cc(4,"span",33),u.dd(5),u.bc(),u.bc()),2&e){const e=u.uc();u.Dc("routerLink",u.wc(1,6,e.projectPath$))("queryParams",u.wc(2,8,e.projectQueryParam$)),u.Ib(3),u.Dc("ngIf",e.project.private),u.Ib(1),u.Ec("cuTooltip",e.project.name),u.Dc("tooltipDisabledIfTextNotTruncated",!0),u.Ib(1),u.ed(e.project.name)}}function Ne(e,t){if(1&e){const e=u.dc();u.cc(0,"div",35),u.cc(1,"cu-project-menu",36),u.qc("onCreateFolderless",function(){return u.Uc(e),u.uc().createFolderless()})("dropdownOpen",function(){return u.Uc(e),u.uc().dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc().dropdownClose.emit()})("onToggleHide",function(t){return u.Uc(e),u.uc().onToggleHide.emit(t)}),u.vc(2,"async"),u.Xb(3,"div",37),u.bc(),u.bc()}if(2&e){const e=u.uc(),t=u.Rc(5);u.Ib(1),u.Dc("project",e.project)("showCreateFolderList",e.showCreateFolderList)("dropdownHost",u.wc(2,3,e.isSpacesBarCollapsed$)?t:null)}}const Re=function(){return["right-top"]};function Ge(e,t){if(1&e&&u.Xb(0,"cu-automation-entity-count",52),2&e){const e=u.uc(3);u.Dc("count",null==e.project?null:e.project.automation_count)("parentId",null==e.project?null:e.project.id)("parentType",e.dataViewType)("location",null)("isMenuItemToggle",!0)("dropdownPlacement",u.Gc(6,Re))}}function qe(e,t){1&e&&(u.ac(0),u.gc(1,53),u.Zb())}function Be(e,t){1&e&&(u.ac(0),u.gc(1,54),u.Zb())}function We(e,t){if(1&e){const e=u.dc();u.cc(0,"a",55),u.qc("click",function(){return u.Uc(e),u.uc(3).addFavorite()}),u.Xb(1,"div",56),u.cc(2,"div",48),u.gc(3,57),u.bc(),u.bc()}}function Ve(e,t){if(1&e){const e=u.dc();u.cc(0,"a",46),u.qc("click",function(){u.Uc(e);const i=t.ngIf;return u.uc(3).removeFavorite(i.id)}),u.Xb(1,"div",56),u.cc(2,"div",48),u.gc(3,58),u.bc(),u.bc()}}function Xe(e,t){if(1&e){const e=u.dc();u.cc(0,"a",46),u.qc("click",function(){return u.Uc(e),u.uc(3).remove()}),u.Xb(1,"div",59),u.cc(2,"div",48),u.gc(3,60),u.bc(),u.bc()}}function He(e,t){if(1&e){const e=u.dc();u.cc(0,"div",42),u.cc(1,"div",43),u.gc(2,44),u.bc(),u.bd(3,Ge,1,7,"cu-automation-entity-count",45),u.vc(4,"async"),u.cc(5,"a",46),u.qc("click",function(){return u.Uc(e),u.uc(2).hide()}),u.Xb(6,"div",47),u.cc(7,"div",48),u.bd(8,qe,2,0,"ng-container",6),u.bd(9,Be,2,0,"ng-template",null,49,u.cd),u.bc(),u.bc(),u.bd(11,We,4,0,"a",50),u.vc(12,"async"),u.vc(13,"async"),u.bd(14,Ve,4,0,"a",51),u.vc(15,"async"),u.vc(16,"async"),u.bd(17,Xe,4,0,"a",51),u.vc(18,"async"),u.bc()}if(2&e){const e=u.Rc(10),t=u.uc(2);let i=null,a=null;u.Ib(3),u.Dc("ngIf",(null==t.project||null==t.project.permissions?null:t.project.permissions.can_add_automation)&&!u.wc(4,6,t.isGuest$)),u.Ib(5),u.Dc("ngIf",t.project.hidden)("ngIfElse",e),u.Ib(3),u.Dc("ngIf",!u.wc(12,8,t.favorite$)&&(null==(i=u.wc(13,10,t.sharedData.compatCurrentTeam$))?null:i.role)===t.UserRole.USER),u.Ib(3),u.Dc("ngIf",u.wc(15,12,(null==(a=u.wc(16,14,t.sharedData.compatCurrentTeam$))?null:a.role)===t.UserRole.USER&&t.favorite$)),u.Ib(3),u.Dc("ngIf",u.wc(18,16,t.canDeleteCustomEnterprise$))}}function Ye(e,t){1&e&&(u.cc(0,"div",38),u.cc(1,"div",39),u.cc(2,"div",40),u.Xb(3,"div",37),u.bc(),u.bd(4,He,19,18,"div",41),u.bc(),u.bc()),2&e&&(u.Ib(1),u.Dc("dropdownCloseOnModal",!0)("dropdownCloseOnInsideClick",!0))}function Ze(e,t){1&e&&u.Yb(0)}function Qe(e,t){if(1&e&&(u.cc(0,"div"),u.Xb(1,"cu-dropdown-list-title",65),u.bd(2,Ze,1,0,"ng-container",66),u.bc()),2&e){u.uc(2);const e=u.Rc(29);u.ad("width",200,"px"),u.Ib(2),u.Dc("ngTemplateOutlet",e)}}function Ke(e,t){if(1&e){const e=u.dc();u.cc(0,"div",61,62),u.qc("dropdownOpen",function(){u.Uc(e);const t=u.uc();return t.closeListDetails(),t.dropdownOpen.emit(),t.setNewHierarchyFrom()})("dropdownClose",function(){return u.Uc(e),u.uc().dropdownClose.emit()}),u.Xb(2,"div",63),u.bd(3,Qe,3,3,"div",64),u.bc()}if(2&e){const e=u.uc();u.Ib(2),u.Dc("icon",e.layoutType===e.LayoutVersion.Six?"cu2-close-2":"cu2-plus")}}function Je(e,t){1&e&&u.Xb(0,"div",67)}function et(e,t){if(1&e){const e=u.dc();u.ac(0),u.cc(1,"cu-convo-doc-visibility",68),u.qc("dropdownOpen",function(){return u.Uc(e),u.uc().dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc().dropdownClose.emit()}),u.bc(),u.Zb()}if(2&e){const e=u.uc();u.Ib(1),u.Dc("convos",e.convos)("docs",e.docs)("@loadingEnter",void 0)}}function tt(e,t){if(1&e){const e=u.dc();u.ac(0),u.cc(1,"div",73),u.mc(2,74),u.cc(3,"span",75),u.qc("click",function(){return u.Uc(e),u.uc(2).createNewFolder()}),u.bc(),u.cc(4,"span",75),u.qc("click",function(){return u.Uc(e),u.uc(2).createNewFolderlessList()}),u.bc(),u.jc(),u.bc(),u.Zb()}}function it(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-nav-category",77,78),u.qc("onDraggingList",function(t){return u.Uc(e),u.uc(3).setDraggingList(t)})("cdkDragStarted",function(t){return u.Uc(e),u.uc(3).dragStarted(t)})("cdkDragEnded",function(t){return u.Uc(e),u.uc(3).dragEnded(t)})("onToggle",function(t){u.Uc(e);const i=u.uc().$implicit;return u.uc(2).toggleOpenState(i,t)})("onDropView",function(t){return u.Uc(e),u.uc(3).dropView(t)})("dropdownOpen",function(){return u.Uc(e),u.uc(3).dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc(3).dropdownClose.emit()})("onEdit",function(t){return u.Uc(e),u.uc(3).editingChild=t})("onSelectImport",function(t){return u.Uc(e),u.uc(3).selectImport(t)}),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.bc()}if(2&e){const e=u.Rc(1),t=u.uc().$implicit,i=u.uc(2);u.Dc("cdkDragDisabled",e.state.editing||e.subcategoryRenaming)("cuDragScrollContainer",i.scrollContainer)("alwaysVisible",!0)("cdkDragData",t)("cdkDragStartDelay",u.wc(2,26,i.isTouchDevice$)?500:0)("category",t)("onlyDeleteIfOwner",u.wc(3,28,i.onlyDeleteIfOwner$))("canDelete",u.wc(4,30,i.canDelete$))("meUser",u.wc(5,32,i.sharedData.currentUser))("connectedDragIds",i.connectedDragIds)("dragIds",i.dragIds)("showImport",null==i.project||null==i.project.permissions?null:i.project.permissions.can_create_projects)("isActive",i.selectedCategoryId===(null==t?null:t.id))("isOpened",i.isCategoryOpenedMap[null==t?null:t.id]||(null==i.searchProjectOpenMap?null:i.searchProjectOpenMap.openCategoryIds)&&(null==i.searchProjectOpenMap?null:i.searchProjectOpenMap.openCategoryIds[t.id]))("visibleSubIds",null==i.searchProjectOpenMap?null:i.searchProjectOpenMap.visibleSubIds)("selectedSubcategory",i.selectedSubcategoryId)("projectId",null==i.project?null:i.project.id)("scrollContainer",i.scrollContainer)("layoutType",i.layoutType)("isDraggingList",i.isDraggingList)("isDraggingTask",u.wc(6,34,i.navService.isDraggingTask$))("isDragging",i.isDragging)("isSelectedSubcategory",i.selected&&u.wc(7,36,i.isSelectedSubcategory$)),u.Jb("data-source","folder")("data-id",t.id)("data-project",i.project.id)}}function at(e,t){if(1&e&&(u.ac(0),u.bd(1,it,8,38,"cu-nav-category",76),u.Zb()),2&e){const e=t.$implicit,i=u.uc(2);u.Ib(1),u.Dc("ngIf",!(null!=e&&e.hidden)&&(!(null!=i.searchProjectOpenMap&&i.searchProjectOpenMap.visible)||(null==i.searchProjectOpenMap?null:i.searchProjectOpenMap.visibleCategoryIds)&&(null==i.searchProjectOpenMap?null:i.searchProjectOpenMap.visibleCategoryIds[e.id])))}}function ot(e,t){if(1&e){const e=u.dc();u.cc(0,"div",69),u.qc("cdkDropListDropped",function(t){return u.Uc(e),u.uc().dropCat(t)}),u.bd(1,tt,5,0,"ng-container",15),u.cc(2,"cu-lazy-list",70,71),u.bd(4,at,2,1,"ng-container",72),u.vc(5,"async"),u.bc(),u.bc()}if(2&e){const e=u.Rc(3),t=u.uc();u.Dc("@loadingEnter",void 0),u.Ib(1),u.Dc("ngIf",!(t.hasCategories||null!=t.searchProjectOpenMap&&t.searchProjectOpenMap.open)),u.Ib(1),u.Dc("items",t.project.categories)("pageSize",25)("bottomPadding",50)("scrollContainer",t.scrollContainer),u.Ib(2),u.Dc("rxForOf",u.wc(5,10,e.lazyItems$))("rxForStrategy","normal")("rxForTrackBy",t.trackById)("rxForPatchZone",!0)}}function ct(e,t){if(1&e){const e=u.dc();u.ac(0),u.cc(1,"cu-folderless",79),u.qc("onDraggingList",function(t){return u.Uc(e),u.uc().setDraggingList(t)})("cdkDragStarted",function(t){return u.Uc(e),u.uc().dragStarted(t)})("cdkDragEnded",function(t){return u.Uc(e),u.uc().dragEnded(t)})("onCreateListStateChange",function(t){u.Uc(e);const i=u.uc();return i.setCreateListStateChange(i.FOLDERLESS_ID,t)})("onCreateList",function(t){u.Uc(e);const i=u.uc();return i.createList(i.FOLDERLESS_ID,t)})("onChangeCreateListError",function(t){u.Uc(e);const i=u.uc();return i.changeCreateListError(i.FOLDERLESS_ID,t)})("onDropView",function(t){return u.Uc(e),u.uc().dropView(t)})("onEdit",function(t){return u.Uc(e),u.uc().editingChild=t})("dropdownOpen",function(){return u.Uc(e),u.uc().dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc().dropdownClose.emit()}),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.bc(),u.Zb()}if(2&e){const e=u.uc();u.Ib(1),u.Dc("folderless",u.wc(2,14,e.folderless$))("projectId",null==e.project?null:e.project.id)("layoutType",e.layoutType)("onlyDeleteIfOwner",u.wc(3,16,e.onlyDeleteIfOwner$))("canDelete",u.wc(4,18,e.canDelete$))("meUser",u.wc(5,20,e.sharedData.currentUser))("scrollContainer",e.scrollContainer)("isDraggingList",e.isDraggingList)("isDragging",e.isDragging)("connectedDragIds",e.connectedDragIds)("dragIds",e.dragIds)("createListState",e.createListStateMap[e.FOLDERLESS_ID])("selectedSubcategory",e.selectedSubcategoryId)("@loadingEnter",void 0)}}const nt=function(e){return{id:"new-list",title:e,icon:"cu2-new-list"}};function st(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-dropdown-list-item",83),u.qc("click",function(){return u.Uc(e),u.uc(2).createNewFolderlessList()}),u.bc()}if(2&e){const e=u.uc(2);u.Dc("item",u.Hc(1,nt,e.commonStringsService.newListText))}}const rt=function(e){return{id:"new-folder",title:e,icon:"cu2-create-folder"}};function lt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-dropdown-list-item",83),u.qc("click",function(){return u.Uc(e),u.uc(2).createNewFolder()}),u.bc()}if(2&e){const e=u.uc(2);u.Dc("item",u.Hc(1,rt,e.commonStringsService.newFolderText))}}function dt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-dropdown-list-item",84),u.qc("onSelect",function(t){u.Uc(e);const i=u.uc(2);return i.newListFolderMenu.close(),i.openTemplateCenter(t,i.project)}),u.bc()}if(2&e){const e=u.uc(2);u.Dc("item",e.templateDropdown)}}const ut=function(e){return{id:"new-sprint-folder",title:e,icon:"sprint-folder"}};function pt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-dropdown-list-item",83),u.qc("click",function(){return u.Uc(e),u.uc(2).createNewSprintFolder()}),u.bc()}if(2&e){const e=u.uc(2);u.Dc("item",u.Hc(1,ut,e.commonStringsService.newSprintFolderText))}}function mt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-dropdown-list-item",85),u.qc("onSelect",function(t){u.Uc(e);const i=u.uc(2);return i.selectImport(t),i.newListFolderMenu.close()}),u.bc()}if(2&e){const e=u.uc(2);u.Dc("item",e.importDropdown)("dropdownCloseOthersOnOutsideClick",!0)}}function ht(e,t){if(1&e&&(u.bd(0,st,1,3,"cu-dropdown-list-item",80),u.bd(1,lt,1,3,"cu-dropdown-list-item",80),u.bd(2,dt,1,1,"cu-dropdown-list-item",81),u.bd(3,pt,1,3,"cu-dropdown-list-item",80),u.bd(4,mt,1,2,"cu-dropdown-list-item",82)),2&e){const e=u.uc();u.Dc("ngIf",null==e.project||null==e.project.permissions?null:e.project.permissions.can_create_lists),u.Ib(1),u.Dc("ngIf",null==e.project||null==e.project.permissions?null:e.project.permissions.can_create_projects),u.Ib(1),u.Dc("ngIf",(null==e.project||null==e.project.permissions?null:e.project.permissions.can_create_lists)&&(null==e.project||null==e.project.permissions?null:e.project.permissions.can_create_projects)),u.Ib(1),u.Dc("ngIf",(null==e.project||null==e.project.features||null==e.project.features.sprints?null:e.project.features.sprints.enabled)&&(null==e.project||null==e.project.permissions?null:e.project.permissions.can_create_projects)),u.Ib(1),u.Dc("ngIf",null==e.project||null==e.project.permissions?null:e.project.permissions.can_create_projects)}}const bt=function(e){return{id:"import-csv-file",title:e,icon:"cu2-create-list"}},gt=function(e){return{id:"import-asana",title:e,icon:"cu2-create-list"}},ft=function(e){return{id:"import-monday",title:e,icon:"cu2-create-list"}},_t=function(e){return{id:"import-trello",title:e,icon:"cu2-create-list"}},vt=function(e){return{id:"import-jira",title:e,icon:"cu2-create-list"}},yt=function(e){return{id:"import-todoist",title:e,icon:"cu2-create-list"}};function wt(e,t){if(1&e&&(u.Xb(0,"cu-dropdown-list-item",86),u.Xb(1,"cu-dropdown-list-item",86),u.Xb(2,"cu-dropdown-list-item",86),u.Xb(3,"cu-dropdown-list-item",86),u.Xb(4,"cu-dropdown-list-item",86),u.Xb(5,"cu-dropdown-list-item",86)),2&e){const e=u.uc();u.Dc("item",u.Hc(6,bt,e.csvFileText)),u.Ib(1),u.Dc("item",u.Hc(8,gt,e.commonStringsService.competitors.Asana)),u.Ib(1),u.Dc("item",u.Hc(10,ft,e.commonStringsService.competitors.Monday)),u.Ib(1),u.Dc("item",u.Hc(12,_t,e.commonStringsService.competitors.Trello)),u.Ib(1),u.Dc("item",u.Hc(14,vt,e.commonStringsService.competitors.JiraSoftware)),u.Ib(1),u.Dc("item",u.Hc(16,yt,e.commonStringsService.competitors.Todoist))}}const kt=function(e,t,i,a){return{"cu2-project-list-bar-item__container_selected":e,"cu2-project-list-bar-item__container_child-selected":t,"cu2-project-list-bar-item__container_opened":i,"cu2-project-list-bar-item__archived":a}},xt=function(){return["source","id","project","category","folderless"]};let Tt=(()=>{class e{constructor(e,t,i,a,o,s,p,m,v,y,k){this.sharedData=e,this.navService=t,this.elementRef=i,this.commonStringsService=a,this.dataService=o,this.store=s,this.changeDetectorRef=p,this.listDetailsService=m,this.injector=v,this.modalService=y,this.helpers=k,this.ALL_ID=c.a,this.FOLDERLESS_ID=c.d,this.LayoutVersion=l.b,this.LayoutSize=l.a,this.isDraggingList=!1,this.isDragging=!1,this.hasCategories=!1,this.editingChild=!1,this.importDropdown={id:"new-import",title:$localize`:@@common_import:Import`,icon:"cu2-import",subitems:se.b},this.trackById=Object(j.d)("id"),this.isSpacesBarCollapsed$=this.store.pipe(Object(g.select)(r.getSpacesBarIsCollapsedOption)),this.templateDropdown={id:"templateCenter",title:"Template Center",icon:"cu2-magic",subitems:ue.u},this.onToggle=new u.o,this.onToggleCategory=new u.o,this.onDropCategory=new u.o,this.onSetCreateListState=new u.o,this.onCreateList=new u.o,this.onDropView=new u.o,this.onMoveFolderOrList=new u.o,this.dropdownOpen=new u.o,this.dropdownClose=new u.o,this.onToggleHide=new u.o,this.draggable=!0,this.showCreateFolderList=!1,this.isCollapsed=!1,this.isDraggingFolder=!1,this.isDraggingOutsideList=!1,this.UserRole=l.f,this.user$=this.store.select(r.getUser),this.project$=new h.a(null),this.category$=this.store.select(r.getCategory),this.subcategory$=this.store.select(r.getSubcategory),this.favorite$=Object(b.a)([this.project$,this.store.select(Y.h)]).pipe(Object(f.a)(([e,t])=>e&&t.find(t=>t.project&&t.project===e.id))),this.templateItem$=this.project$.pipe(Object(f.a)(e=>({id:"new-template-item",title:$localize`:@@common_template:Template`,icon:"cu2-magic",subitems:this.getTemplateSubItems(e)}))),this.folderless$=new h.a(null),this.canDelete$=this.store.pipe(Object(g.select)(r.getUserEnterprisePermissions),Object(f.a)(e=>!e||e.delete_items===n.b.ON)),this.onlyDeleteIfOwner$=this.store.pipe(Object(g.select)(r.getUserEnterprisePermissions),Object(f.a)(e=>e&&e.delete_items===n.b.CREATE)),this.isTouchDevice$=C.a,this.isGuest$=this.store.select(r.isGuestTeam),this.dataViewType=D.e.Project,this.projectPath$=Object(b.a)([this.store.select(r.getTeam),this.project$,this.project$.pipe(Object(w.a)(e=>!!e),Object(_.a)(e=>this.store.select(Object(d.hb)(D.e.Project,e.id,!0))))]).pipe(Object(f.a)(([e,t,i])=>i?i[i.length-1]!==t.id&&-1===i.findIndex(e=>"dc"===e)?[...i,t.id]:i:["/",e.id,"v","s",t&&t.id||""])),this.projectAllPath$=Object(b.a)([this.store.select(r.getTeam),this.project$,this.project$.pipe(Object(w.a)(e=>!!e),Object(_.a)(e=>this.store.select(Object(d.hb)(D.e.Project,e.id))))]).pipe(Object(f.a)(([e,t,i])=>i||["/",e.id,"v","s",t&&t.id||"","1"])),this.projectQueryParam$=Object(b.a)([this.projectPath$,this.project$]).pipe(Object(f.a)(([e,t])=>-1!==e.findIndex(e=>"dc"===e)&&t?{pr:t.id}:null)),this.canDeleteCustomEnterprise$=Object(b.a)([this.store.select(r.getUserEnterprisePermissions),this.store.select(r.getTeam)]).pipe(Object(f.a)(([e,t])=>t?t.plan_id===de.f.ENTERPRISE&&(!e||e.delete_items===n.b.ON):null)),this.isSelectedSubcategory$=Object(b.a)([this.project$,this.category$,this.subcategory$]).pipe(Object(f.a)(([e,t,i])=>!(!e||!t&&!i))),this.csvFileText=$localize`:@@common_csv-file:CSV File`}onContextmenu(e){this.openMenu(e)}ngAfterViewInit(){this.selected&&setTimeout(()=>{this.elementRef.nativeElement.scrollIntoView({block:"center"})})}ngOnChanges(e){if(e.project&&(this.project$.next(this.project),this.layoutType===l.b.Three||this.layoutType===l.b.Five||this.layoutType===l.b.Six)){const e=this.project&&(this.project.categories||[]).find(e=>e.id===c.d),t=this.project&&(this.project.categories||[]).filter(e=>e.id!==c.d);this.hasCategories=!!(t&&t.length||e&&e.subcategories&&e.subcategories.length),this.folderless$.next(e)}e.convos&&(this.convos=this.sortByDate(this.convos)),e.docs&&(this.docs=this.sortByDate(this.docs))}sortByDate(e){return(e=[...e||[]]).sort((e,t)=>(t.date_updated||t.date_created)-(e.date_updated||t.date_created)),e}getTemplateSubItems(e){if(!e||!e.permissions)return[];const t=[];return e.permissions.can_create_lists&&t.push({id:"new-list-template",title:$localize`:@@common_list-from-template:List from Template`,icon:"cu2-create-list"}),e.permissions.can_create_projects&&t.push({id:"new-folder-template",title:$localize`:@@cu2-project-list-bar-item__item-title_folder-from-template:Folder from Template`,icon:"cu2-create-folder"}),t}selectTemplateOption(e){if("new-folder-template"===e.id)this.openProjectTemplates();else{const e=(this.project.categories||[]).find(e=>e.id===c.d),t=this.modalService.openComponent(te.a,this.injector,{title:$localize`:@@common_list-from-template:List from Template`,modifier:"template-modal"});t.instance.category=e,t.instance.type="list",t.instance.onDone.pipe(Object(x.a)(t.instance.destroy$)).subscribe()}}openMenu(e){this.menu&&(e.preventDefault(),e.stopPropagation(),this.menu.open())}toggle(e){if(e){if(e[this.helpers.SHORTKEY])return;e.preventDefault(),e.stopPropagation()}this.onToggle.emit(!this.isOpened)}dropFolderOrList(e){if(e.length){const t=e[0];!t.id||"folder"!==t.source&&"list"!==t.source||t.project===this.project.id||this.onMoveFolderOrList.emit(Object.assign(Object.assign({},t),{newProject:this.project}))}}toggleOpenState(e,t){this.onToggleCategory.emit({categoryId:e.id,isOpened:!this.isCategoryOpenedMap[e.id]})}setDraggingList(e){this.isDraggingList=e,setTimeout(()=>this.navService.isDraggingList$.next(e)),this.changeDetectorRef.detectChanges()}dragStarted(e){this.isDragging=!0,setTimeout(()=>this.navService.isDraggingFolder$.next(!0)),this.changeDetectorRef.markForCheck()}dragEnded(e){this.isDragging=!1,setTimeout(()=>this.navService.isDraggingFolder$.next(!1)),this.changeDetectorRef.markForCheck()}addFavorite(){this.store.dispatch(Object(Z.d)({project:this.project}))}removeFavorite(e){this.store.dispatch(Object(Z.r)({favoriteId:e}))}dropCat(e){e.currentIndex!==e.previousIndex&&(this.layoutType!==l.b.Five&&this.layoutType!==l.b.Six||e.isPointerOverContainer)&&this.onDropCategory.emit({projectId:this.project.id,categories:this.project.categories,category:e.item.data,fromIndex:e.previousIndex,toIndex:e.currentIndex})}createFolderless(){if(this.store.dispatch(new s.Rj({item:this.project,type:D.e.Project})),this.onToggle.emit(!0),this.project&&this.project.categories){const e=this.project.categories.find(e=>e.id===c.d);if(e){const t=Object(c.X)("List",(e.subcategories||[]).map(e=>e.name));this.createList(c.d,t)}}}setCreateListStateChange(e,t){this.onSetCreateListState.emit({id:e,state:t})}createList(e,t){this.onCreateList.emit({id:e,name:t,projectId:this.project.id})}changeCreateListError(e,t){this.setCreateListStateChange(e,{error:t})}dropView({id:e,parent:t}){this.onDropView.emit({id:e,parent:t})}closeListDetails(){this.listDetailsService.closeSidebar()}createNewFolder(){this.store.dispatch(new s.Rj({item:this.project,type:D.e.Project}));const e=this.modalService.openComponent(ne.a,this.injector,{name:"forceCreateCategory",cannotClose:!1,preventExternalClick:!0,modifier:"cu-modal__create-new-space",dialogModifier:"cu-modal__dialog-space",bodyModifier:"cu-modal__body_no-min-height"});e.instance.projectId=this.project.id,e.instance.projectForNewFolderTeamplate=this.project,e.instance.onCreateNew.pipe(Object(x.a)(e.instance.destroy$)).subscribe(()=>{this.modalService.close()})}createNewSprintFolder(){let e=ee.a,t=!0,i=1;for(;t;)-1===(this.project.categories||[]).findIndex(t=>t.name.toLowerCase()===e.toLowerCase())?t=!1:e=`${ee.a} (${i})`,i++;const a={name:e,sprint:!0};this.dataService.createCategory(this.project.id,a.name,a).subscribe(e=>{this.store.dispatch(new s.Si(e,!1,!0));const t=this.modalService.openComponent(J.a,this.injector);t.instance.sprintSettingsType=K.c.CATEGORY,t.instance.emitOnClose=!0,t.instance.category$.next(e),null!=this.sharedData.currentUser.value.date_format&&(t.instance.sprintDateFormat=this.sharedData.currentUser.value.date_format),t.instance.onPickSprint.pipe(Object(x.a)(t.instance.destroy$)).subscribe(({numSprints:t})=>{this.newSprint(e,t)}),t.instance.onClose.pipe(Object(x.a)(t.instance.destroy$)).subscribe(t=>{t&&t.fullClose||this.newSprint(e)})})}newSprint(e,t){const i=this.modalService.openComponent(Q.a,this.injector,{title:this.commonStringsService.createSprintsText,modifier:"cu-sprints-settings__modal"});i.instance.forCreate=!0,i.instance.categoryId=e.id,i.instance.projectId=e.project_id,t&&(i.instance.numSprints=t),i.instance.onCreate.pipe(Object(x.a)(i.instance.destroy$)).subscribe(({sprints:t})=>{this.store.dispatch(new s.Si(Object.assign(Object.assign({},e),{subcategories:[...e.subcategories,...t]}))),this.store.dispatch(new s.Nb({categoryId:e.id,data:{subcategories:t}}))})}openProjectTemplates(){this.openCategoryModal("Project",!1,this.project,!0)}openCategoryModal(e,t=!1,i,a=!1){const o=this.modalService.openComponent(ne.a,this.injector,{name:"forceCreateCategory",cannotClose:t,preventExternalClick:!0,modifier:"cu-modal__create-new-space",dialogModifier:"cu-modal__dialog-space",bodyModifier:"cu-modal__body_no-min-height"});o.instance.projectId=i.id,o.instance.projectForNewFolderTeamplate=i,a&&(o.instance.currentStage=ne.b.Template)}createNewFolderlessList(){this.createFolderless(),this.closeMenu()}selectImport(e){this.store.dispatch(new ie.d({path:["/",this.sharedData.compatCurrentTeam.id,"settings","team",this.sharedData.compatCurrentTeam.id,"import"],query:{[e.id]:!0,ipid:this.project.id}}))}openTemplateCenter(e,t){e&&"browseTemplates"!==e.id?"saveAsTemplate"!==e.id?"updateExistingTemplate"!==e.id||this.store.dispatch(new s.Oe({open:!0,parent:t,parentType:ae.d.Space,initialType:ae.d.Space,itemToSave:t,updateExisting:!0})):this.store.dispatch(new s.Oe({open:!0,parent:t,parentType:ae.d.Space,initialType:ae.d.Space,itemToSave:t})):this.store.dispatch(new s.Oe({open:!0,parent:t,parentType:ae.d.Space,initialType:ae.d.FolderAndList}))}openSpaceTemplateModal(e){this.modalService.openComponent(le.a,this.injector,{name:"templateSelector",cannotClose:!1,preventExternalClick:!0,modifier:"cu-folder-list-template-selector__modal",dialogModifier:"",bodyModifier:""}).instance.space=e}hide(){this.store.dispatch(new s.ym({id:this.project.id,data:{hidden:!this.project.hidden}})),this.onToggleHide.emit({project:this.project,data:{hidden:!this.project.hidden}})}remove(){this.store.dispatch(new s.kg(this.project.id,this.project.name)),this.store.select(r.getRemoveProjectState).pipe(Object(w.a)(e=>!e.removing),Object(v.a)(this.store.select(r.getProjects),this.store.select(r.getProject),this.store.select(r.getTeam)),Object(ce.a)()).subscribe(([,e,t,i])=>{e.length?t&&this.project.id!==t.id||this.store.dispatch(new ie.d({path:["/",i.id,"v","s",e[0].id]})):this.store.dispatch(new ie.d({path:["/"]}))})}setNewHierarchyFrom(){this.store.dispatch(new s.Rj({item:this.project,type:D.e.Project}))}closeMenu(){this.newListFolderMenu.close()}}return e.\u0275fac=function(t){return new(t||e)(u.Wb($.a),u.Wb(E.a),u.Wb(u.m),u.Wb(A.a),u.Wb(M.a),u.Wb(g.Store),u.Wb(u.h),u.Wb(pe.a),u.Wb(u.t),u.Wb(z.a),u.Wb(me.b))},e.\u0275cmp=u.Qb({type:e,selectors:[["cu2-project-list-bar-item"]],viewQuery:function(e,t){if(1&e&&(u.jd(xe,1),u.jd(oe.a,1)),2&e){let e;u.Qc(e=u.rc())&&(t.newListFolderMenu=e.first),u.Qc(e=u.rc())&&(t.menu=e.first)}},hostAttrs:[1,"cu2-project-list-bar-item"],hostVars:2,hostBindings:function(e,t){1&e&&u.qc("contextmenu",function(e){return t.onContextmenu(e)}),2&e&&u.Ob("cu2-project-list-bar-item_open",t.isOpened)},inputs:{project:"project",category:"category",selected:"selected",selectedChildren:"selectedChildren",draggable:"draggable",layoutType:"layoutType",layoutSize:"layoutSize",isOpened:"isOpened",scrollContainer:"scrollContainer",isCategoryOpenedMap:"isCategoryOpenedMap",createListStateMap:"createListStateMap",selectedCategoryId:"selectedCategoryId",selectedSubcategoryId:"selectedSubcategoryId",showCreateFolderList:"showCreateFolderList",isCollapsed:"isCollapsed",isDraggingFolder:"isDraggingFolder",isDraggingOutsideList:"isDraggingOutsideList",dragIds:"dragIds",connectedDragIds:"connectedDragIds",convos:"convos",docs:"docs",searchProjectOpenMap:"searchProjectOpenMap"},outputs:{onToggle:"onToggle",onToggleCategory:"onToggleCategory",onDropCategory:"onDropCategory",onSetCreateListState:"onSetCreateListState",onCreateList:"onCreateList",onDropView:"onDropView",onMoveFolderOrList:"onMoveFolderOrList",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose",onToggleHide:"onToggleHide"},features:[u.Gb],decls:32,vars:32,consts:function(){let e,t,i,a,o,c,n,s,r,l,d;return e=$localize`:@@common_private-space␟6ece1ff08fd1b7558a91dd8474a8d2fc7b7b9c0d␟7929729217387671918:Private Space`,t=$localize`:@@common_private-space␟6ece1ff08fd1b7558a91dd8474a8d2fc7b7b9c0d␟7929729217387671918:Private Space`,i=$localize`:@@common_limited-permissions␟e529ee472a736f4c728333da3a1c351a6f25d576␟2526194604962842915: Limited permissions `,a=$localize`:@@common_unhide-space␟2a9c17ebacd45df0db7262a3c3adfb677d796180␟9135679231262372874:Unhide Space`,o=$localize`:@@common_hide-space␟36cd9d5973ac5824f4b14caf5ad67767e612e043␟3128756811087412877:Hide Space`,c=$localize`:@@common_add-to-favorites␟86873fd3076efd5efe3652ea34d476bfbda199cb␟8813505307699849384: Add to Favorites `,n=$localize`:@@common_remove-from-favorites␟ad9eccf92f1a3e91562cae47de0106074b54e4af␟3000625871575179410: Remove from Favorites `,s=$localize`:@@common_delete␟2daf3fced66055619866365611f2923e946ce935␟2021131512991132683: Delete `,r=$localize`:@@common_create-folder-list␟d79b6d4b54e7d24141a6562b70cb95466200906b␟8383219149608386874:Create Folder or List`,l=$localize`:@@cu2-project-list-bar-item__title_space-options␟a0c9b7298bd0be112fe3c9532e28c3a8a5aa138b␟8176518972186417872:SPACE OPTIONS`,d=$localize`:@@cu2-project-list-bar-item__create-a-folder-or-list␟85bfdd51324a7ee2d9b65f52049309ddb859219c␟1200073605833619327: Create a ${"\ufffd#3\ufffd"}:START_TAG_SPAN:Folder${"[\ufffd/#3\ufffd|\ufffd/#4\ufffd]"}:CLOSE_TAG_SPAN: or ${"\ufffd#4\ufffd"}:START_TAG_SPAN_1:List${"[\ufffd/#3\ufffd|\ufffd/#4\ufffd]"}:CLOSE_TAG_SPAN:`,d=u.lc(d),[["cuDropArea","",1,"cu2-project-list-bar-item__container",3,"ngClass","cdkSupport","cdkField","ondrop","click"],["menuItem",""],["data-handle","","class","cu2-project-list-bar-item__handle",3,"icon","cuPreventDefault",4,"ngIf"],["class","cu2-project-list-bar-item__caret",3,"ngClass","icon",4,"ngIf"],[1,"cu2-project-list-bar-item__compact",3,"click"],["avatar",""],[4,"ngIf","ngIfElse"],["linkItemAvatar",""],["itemAvatar",""],[1,"cu2-project-list-bar-item__expanding"],["linkItem",""],["class","cu2-project-list-bar-item__quick-action",4,"ngIf","ngIfElse"],["showHideSpace",""],["cuDropdown","","class","cu2-project-list-bar-item__add-container",3,"dropdownOpen","dropdownClose",4,"ngIf"],["class","cu2-project-list-bar-item__container-border",4,"ngIf"],[4,"ngIf"],["class","sidebar-section__body","cdkDropList","","cdkDropListOrientation","vertical",3,"cdkDropListDropped",4,"ngIf"],["newListFolder",""],["import",""],["data-handle","",1,"cu2-project-list-bar-item__handle",3,"icon","cuPreventDefault"],[1,"cu2-project-list-bar-item__caret",3,"ngClass","icon"],["draggable","false","tooltipModifier","cu2-project-list-bar-item__tooltip","tooltipDelay","300",1,"cu2-project-list-bar-item__avatar",3,"ngClass","cuTooltip"],[3,"ngTemplateOutlet"],["draggable","false","tooltipModifier","cu2-project-list-bar-item__tooltip","tooltipDelay","300",1,"cu2-project-list-bar-item__avatar",3,"ngClass","cuTooltip","routerLink","queryParams"],[3,"image","color","iconSource","iconName","name","dashboardVersion","ngClass"],[1,"cu2-project-list-bar-item__link"],["class","cu2-project-list-bar-item__icon cu2-project-list-bar-item__icon_archive","icon","archive2",4,"ngIf"],["tooltipModifier","tooltip_right","tooltipDelay","300",1,"cu2-project-list-bar-item__link-text",3,"ngClass","routerLink","cuTooltip","tooltipDisabledIfTextNotTruncated","click"],["class","cu2-project-list-bar-item__lock","icon","cu2-lock","cuTooltip",e,4,"ngIf"],["icon","archive2",1,"cu2-project-list-bar-item__icon","cu2-project-list-bar-item__icon_archive"],["icon","cu2-lock","cuTooltip",e,1,"cu2-project-list-bar-item__lock"],["draggable","false",1,"cu2-project-list-bar-item__link",3,"routerLink","queryParams"],["class","cu2-project-list-bar-item__lock","icon","cu2-lock","cuTooltip",t,4,"ngIf"],["tooltipModifier","tooltip_right","tooltipDelay","300",1,"cu2-project-list-bar-item__link-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["icon","cu2-lock","cuTooltip",t,1,"cu2-project-list-bar-item__lock"],[1,"cu2-project-list-bar-item__quick-action"],[3,"project","showCreateFolderList","dropdownHost","cuPreventDefault","onCreateFolderless","dropdownOpen","dropdownClose","onToggleHide"],["icon","ellipsis",1,"cu2-project-list-bar-item__quick-action-ellipsis"],[1,"cu2-project-list-bar-item__quick-action",3,"cuPreventDefault"],["cuDropdown","",1,"nav-menu","cu-dropdown","menu-options",3,"dropdownCloseOnModal","dropdownCloseOnInsideClick"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["class","cu-dropdown__menu nav-menu__controls",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","nav-menu__controls"],[1,"nav-menu__limited"],i,[3,"count","parentId","parentType","location","isMenuItemToggle","dropdownPlacement",4,"ngIf"],["cuLink","","draggable","false",1,"nav-menu-item",3,"click"],["icon","cu2-eye-slash-2",1,"nav-menu-item__icon","nav-menu-item__icon_eye"],[1,"nav-menu-item__name"],["hideSpaceTmpl",""],["class","nav-menu-item nav-menu-item__add-to-favorites","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item","cuLink","","draggable","false",3,"click",4,"ngIf"],[3,"count","parentId","parentType","location","isMenuItemToggle","dropdownPlacement"],a,o,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__add-to-favorites",3,"click"],["icon","cu2-star2",1,"nav-menu-item__icon","nav-menu-item__icon_favorites"],c,n,["icon","remove",1,"nav-menu-item__icon","nav-menu-item__icon_remove"],s,["cuDropdown","",1,"cu2-project-list-bar-item__add-container",3,"dropdownOpen","dropdownClose"],["newListFolderMenu","dropdown"],["cuDropdownToggle","","cuTooltip",r,"tooltipModifier","tooltip_far",1,"cu2-project-list-bar-item__add",3,"icon","cuPreventDefault"],[3,"width",4,"cuDropdownMenu"],["title",l],[4,"ngTemplateOutlet"],[1,"cu2-project-list-bar-item__container-border"],[3,"convos","docs","dropdownOpen","dropdownClose"],["cdkDropList","","cdkDropListOrientation","vertical",1,"sidebar-section__body",3,"cdkDropListDropped"],[3,"items","pageSize","bottomPadding","scrollContainer"],["lazyList",""],[4,"rxFor","rxForOf","rxForStrategy","rxForTrackBy","rxForPatchZone"],[1,"cu2-project-list-bar-item__create-item-text"],d,[1,"cu2-project-list-bar-item__create-item-text-link",3,"click"],["cdkDrag","","cuDragScroll","",3,"cdkDragDisabled","cuDragScrollContainer","alwaysVisible","cdkDragData","cdkDragStartDelay","category","onlyDeleteIfOwner","canDelete","meUser","connectedDragIds","dragIds","showImport","isActive","isOpened","visibleSubIds","selectedSubcategory","projectId","scrollContainer","layoutType","isDraggingList","isDraggingTask","isDragging","isSelectedSubcategory","onDraggingList","cdkDragStarted","cdkDragEnded","onToggle","onDropView","dropdownOpen","dropdownClose","onEdit","onSelectImport",4,"ngIf"],["cdkDrag","","cuDragScroll","",3,"cdkDragDisabled","cuDragScrollContainer","alwaysVisible","cdkDragData","cdkDragStartDelay","category","onlyDeleteIfOwner","canDelete","meUser","connectedDragIds","dragIds","showImport","isActive","isOpened","visibleSubIds","selectedSubcategory","projectId","scrollContainer","layoutType","isDraggingList","isDraggingTask","isDragging","isSelectedSubcategory","onDraggingList","cdkDragStarted","cdkDragEnded","onToggle","onDropView","dropdownOpen","dropdownClose","onEdit","onSelectImport"],["navCategory",""],[3,"folderless","projectId","layoutType","onlyDeleteIfOwner","canDelete","meUser","scrollContainer","isDraggingList","isDragging","connectedDragIds","dragIds","createListState","selectedSubcategory","onDraggingList","cdkDragStarted","cdkDragEnded","onCreateListStateChange","onCreateList","onChangeCreateListError","onDropView","onEdit","dropdownOpen","dropdownClose"],[3,"item","click",4,"ngIf"],[3,"item","onSelect",4,"ngIf"],[3,"item","dropdownCloseOthersOnOutsideClick","onSelect",4,"ngIf"],[3,"item","click"],[3,"item","onSelect"],[3,"item","dropdownCloseOthersOnOutsideClick","onSelect"],[3,"item"]]},template:function(e,t){if(1&e&&(u.cc(0,"div",0,1),u.qc("ondrop",function(e){return t.dropFolderOrList(e)})("click",function(e){return t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six?t.toggle(e):null}),u.bd(2,Te,1,1,"div",2),u.bd(3,je,1,4,"div",3),u.cc(4,"div",4,5),u.qc("click",function(e){return t.layoutType===t.LayoutVersion.Three&&!t.isCollapsed||t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six?t.toggle(e):null}),u.bd(6,De,5,9,"ng-container",6),u.bd(7,Pe,6,15,"ng-template",null,7,u.cd),u.bd(9,ze,2,15,"ng-template",null,8,u.cd),u.bc(),u.cc(11,"div",9),u.bd(12,Ae,7,12,"ng-container",6),u.bd(13,Ue,6,10,"ng-template",null,10,u.cd),u.bd(15,Ne,4,5,"div",11),u.vc(16,"async"),u.vc(17,"async"),u.bd(18,Ye,5,2,"ng-template",null,12,u.cd),u.bd(20,Ke,4,1,"div",13),u.bc(),u.bc(),u.bd(21,Je,1,0,"div",14),u.bd(22,et,2,3,"ng-container",15),u.bd(23,ot,6,12,"div",16),u.vc(24,"async"),u.bd(25,ct,6,22,"ng-container",15),u.vc(26,"async"),u.vc(27,"async"),u.bd(28,ht,5,5,"ng-template",null,17,u.cd),u.bd(30,wt,6,18,"ng-template",null,18,u.cd)),2&e){const e=u.Rc(8),i=u.Rc(14),a=u.Rc(19);let o=null;u.Dc("ngClass",u.Kc(26,kt,t.selected,t.selected&&t.selectedChildren&&t.layoutType!==t.LayoutVersion.Four,t.isOpened,null==t.project?null:t.project.archived))("cdkSupport",(t.layoutType===t.LayoutVersion.Three||t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)&&(t.isDraggingOutsideList||t.isDraggingFolder))("cdkField",u.Gc(31,xt)),u.Ib(2),u.Dc("ngIf",t.draggable&&t.layoutType!==t.LayoutVersion.Six),u.Ib(1),u.Dc("ngIf",t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six),u.Ib(3),u.Dc("ngIf",t.layoutType===t.LayoutVersion.Three&&!t.isCollapsed||t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)("ngIfElse",e),u.Ib(6),u.Dc("ngIf",t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)("ngIfElse",i),u.Ib(3),u.Dc("ngIf",(null==(o=u.wc(16,16,t.sharedData.compatCurrentTeam$))?null:o.role)<3||(null==t.project.owner?null:t.project.owner.id)===(null==(o=u.wc(17,18,t.sharedData.currentUser))?null:o.id))("ngIfElse",a),u.Ib(5),u.Dc("ngIf",(t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)&&((null==t.project||null==t.project.permissions?null:t.project.permissions.can_create_projects)||(null==t.project||null==t.project.permissions?null:t.project.permissions.can_create_lists))),u.Ib(1),u.Dc("ngIf",t.layoutType===t.LayoutVersion.Six),u.Ib(1),u.Dc("ngIf",t.isOpened&&((null==t.convos?null:t.convos.length)||(null==t.docs?null:t.docs.length))&&t.layoutType===t.LayoutVersion.Five),u.Ib(1),u.Dc("ngIf",(t.layoutType===t.LayoutVersion.Three||t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)&&(t.isOpened||(null==t.searchProjectOpenMap?null:t.searchProjectOpenMap.open))&&(!u.wc(24,20,t.isSpacesBarCollapsed$)||t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)),u.Ib(2),u.Dc("ngIf",(t.layoutType===t.LayoutVersion.Three&&!u.wc(26,22,t.isSpacesBarCollapsed$)||t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)&&(t.isOpened||(null==t.searchProjectOpenMap?null:t.searchProjectOpenMap.open))&&u.wc(27,24,t.folderless$)&&(!(null!=t.searchProjectOpenMap&&t.searchProjectOpenMap.visible)||(null==t.searchProjectOpenMap?null:t.searchProjectOpenMap.visibleCategoryIds)&&(null==t.searchProjectOpenMap?null:t.searchProjectOpenMap.visibleCategoryIds[t.FOLDERLESS_ID])))}},directives:[he.a,F.o,F.q,R.a,G.a,q.a,F.x,p.k,be.a,oe.a,B.b,W.a,V.a,ge.a,fe.a,X.a,_e.a,O.d,N.a,ve.a,ye.a,O.a,we.a,ke.a,H.a],pipes:[F.b],styles:['.cu2-project-list-bar-item:hover .cu2-project-list-bar-item__add{display:block}.cu2-sidebar__body_v5 .cu2-project-list-bar-item{margin:0 0 2px}.cu2-project-list-bar-item__archived{font-style:italic;opacity:.9}.cu2-project-list-bar-item__icon{fill:#fff;margin:0 6px 0 0;width:16px;height:16px}.cu2-project-list-bar-item__icon_archive{margin-top:-4px}.cu2-project-list-bar-item__container{display:flex;align-items:center;cursor:default;flex-shrink:0;position:relative;z-index:10;height:40px;background:#fff}.dark-theme .cu2-project-list-bar-item__container{background:#2b343b}.cu-left-sidebar.dark-theme .cu2-project-list-bar-item__container,.cu-simple-bar.dark-theme .cu2-project-list-bar-item__container{background:#20262b}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu2-project-list-bar-item__container{background:#2b343b}.layout-size_compact .cu2-project-list-bar-item__container{height:40px}.layout-size_default .cu2-project-list-bar-item__container{height:44px}.layout-size_large .cu2-project-list-bar-item__container{height:50px}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container{cursor:pointer;height:32px}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container{height:32px}.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container{height:36px}.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container{height:40px}.cu-simple-bar .cu2-project-list-bar-item__container{cursor:pointer;height:32px}.layout-size_compact .cu-simple-bar .cu2-project-list-bar-item__container,.layout-size_default .cu-simple-bar .cu2-project-list-bar-item__container,.layout-size_large .cu-simple-bar .cu2-project-list-bar-item__container{height:32px}.cu2-project-list-bar-item__container_opened{position:sticky;top:0}.cu-simple-bar .cu2-project-list-bar-item__container_opened{top:48px}.cu2-project-list-bar-item__container.cu-state-drag-over{border:1px solid #7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__container.cu-state-drag-over{border-color:var(--theme-main-color)}}.cu2-project-list-bar-item__container:before{content:"";display:block;position:absolute;width:100%;height:100%;left:0;border-radius:4px}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container:before{width:calc(100% - 30px - 12px);left:30px}.cu-simple-bar .cu2-project-list-bar-item__container:before{border-radius:0}.cu2-project-list-bar-item__container:hover:before{background:rgba(233,235,240,.5)}.dark-theme .cu2-project-list-bar-item__container:hover:before{background:rgba(30,39,46,.5)}.dark-theme .cu-simple-bar .cu2-project-list-bar-item__container:hover:before{background:#384047}.cu-left-sidebar.dark-theme .cu2-project-list-bar-item__container:hover:before,.cu-simple-bar.dark-theme .cu2-project-list-bar-item__container:hover:before{background:#2b343b}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu2-project-list-bar-item__container:hover:before{background:#1e272e}.cu2-project-list-bar-item__container:hover .cu2-project-list-bar-item__handle{opacity:1}.cu2-project-list-bar-item__container:hover .cu2-project-list-bar-item__link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__container:hover .cu2-project-list-bar-item__link{color:var(--theme-main-color)}}.cu2-project-list-bar-item__container:hover .cu2-project-list-bar-item__add,.cu2-project-list-bar-item__container:hover .cu2-project-list-bar-item__quick-action-ellipsis{display:block}.cu2-project-list-bar-item__container_open .cu2-project-list-bar-item__toggle,.dark-theme .cu2-project-list-bar-item__container_open .cu2-project-list-bar-item__toggle{fill:transparent!important}.cu2-project-list-bar-item__container_open .cu2-project-list-bar-item__caret{fill:#d0d3d9;transform:rotate(0deg)}.dark-theme .cu2-project-list-bar-item__container_open .cu2-project-list-bar-item__caret{fill:#828588}.cu2-project-list-bar-item__container_open .cu2-project-list-bar-item__caret:hover{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu2-project-list-bar-item__container_open .cu2-project-list-bar-item__caret:hover{fill:var(--theme-main-color-dark)}}.cu2-project-list-bar-item__container .cu-dropdown_open .cu2-project-list-bar-item__quick-action-ellipsis{fill:#7b68ee;display:block}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__container .cu-dropdown_open .cu2-project-list-bar-item__quick-action-ellipsis{fill:var(--theme-main-color)}}.cu2-project-list-bar-item__container .cu-dropdown_open .cu2-project-list-bar-item__add{background:#7b68ee;display:block}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__container .cu-dropdown_open .cu2-project-list-bar-item__add{background:var(--theme-main-color)}}.cu-simple-bar .cu2-project-list-bar-item__container .cu-dropdown_open .cu2-project-list-bar-item__add{fill:#7b68ee;background:transparent}@supports (--theme-main-color:#7b68ee){.cu-simple-bar .cu2-project-list-bar-item__container .cu-dropdown_open .cu2-project-list-bar-item__add{fill:var(--theme-main-color)}}.cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:rgba(233,235,240,.5);content:"";display:block;position:absolute;width:100%;height:100%;left:0}.dark-theme .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:rgba(30,39,46,.5)}.cu-simple-bar.dark-theme .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar.dark-theme .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:#7b68ee;width:calc(100% - 30px - 12px);left:30px}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:var(--theme-main-color)}}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:var(--theme-main-color)}}.cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):after{background:#7b68ee;transition:all .1s cubic-bezier(.785,.135,.15,.86) 0s;content:"";display:block;position:absolute;left:0;top:0;width:3px;height:100%}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):after{background:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):after{display:none}.cu-simple-bar .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):after{border-radius:0 3px 3px 0}.cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__link{color:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before,.cu-simple-bar .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:#7b68ee;opacity:.08}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before,.cu-simple-bar .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected):before{background:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__link-text,.cu-simple-bar .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__link-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__link-text,.cu-simple-bar .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__link-text{color:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__link-text{color:#fff}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__quick-action-ellipsis,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__quick-action-ellipsis{fill:#fff}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__quick-action-ellipsis:hover{fill:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__quick-action-ellipsis:hover{fill:var(--theme-main-color-light)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__add{fill:#7b68ee;background:#fff}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__add{fill:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__add:hover{background:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__add:hover{background:var(--theme-main-color-light)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_child-selected:before{background:rgba(233,235,240,.5)}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_child-selected:before{background:rgba(30,39,46,.5)}.cu-left-sidebar.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_child-selected:before,.cu-simple-bar.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_child-selected:before{background:#2b343b}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_child-selected .cu2-project-list-bar-item__add{fill:#fff;background:#7c828d}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_child-selected .cu2-project-list-bar-item__add:hover{background:#dfdbfb;fill:#fff}@supports (--theme-main-color-light:#dfdbfb){.cu2-sidebar__body_v5 .cu2-project-list-bar-item__container_child-selected .cu2-project-list-bar-item__add:hover{background:var(--theme-main-color-light)}}.cu-simple-bar .cu2-project-list-bar-item__container_child-selected:not(.cu2-project-list-bar-item__container_opened):before{background:rgba(233,235,240,.5)}.dark-theme .cu-simple-bar .cu2-project-list-bar-item__container_child-selected:not(.cu2-project-list-bar-item__container_opened):before{background:rgba(30,39,46,.5)}.cu-simple-bar__body .cu2-project-list-bar-item__container-border{height:1px;flex-shrink:0;position:sticky;margin-top:-1px;top:80px;z-index:5;background:#e9ebf0}.dark-theme .cu-simple-bar__body .cu2-project-list-bar-item__container-border{background:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__body .cu2-project-list-bar-item__container-border,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar-item__container-border{background:#384047}.cu2-project-list-bar-item__create-item-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:25px;margin:5px 0 5px 65px;color:#333}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-project-list-bar-item__create-item-text{font-family:var(--global-font-support)}}.cu2-project-list-bar-item__create-item-text-link{text-decoration:underline;cursor:pointer}.dark-theme .cu2-project-list-bar-item__create-item-text{color:#d5d6d7}.layout-size_compact .cu2-project-list-bar-item__create-item-text{font-size:13px}.layout-size_default .cu2-project-list-bar-item__create-item-text{font-size:14px}.layout-size_large .cu2-project-list-bar-item__create-item-text{font-size:15px}.cu-simple-bar .cu2-project-list-bar-item__create-item-text{margin:5px 0 5px 30px;font-size:13px}.layout-size_compact .cu-simple-bar .cu2-project-list-bar-item__create-item-text,.layout-size_default .cu-simple-bar .cu2-project-list-bar-item__create-item-text,.layout-size_large .cu-simple-bar .cu2-project-list-bar-item__create-item-text{font-size:13px}.cu2-project-list-bar-item__compact{display:flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;align-self:stretch;width:50px}.layout-size_compact .cu2-project-list-bar-item__compact{width:50px}.layout-size_default .cu2-project-list-bar-item__compact{width:55px}.layout-size_large .cu2-project-list-bar-item__compact{width:62px}.cu-simple-bar .cu2-project-list-bar-item__compact{cursor:pointer;width:50px}.layout-size_compact .cu-simple-bar .cu2-project-list-bar-item__compact,.layout-size_default .cu-simple-bar .cu2-project-list-bar-item__compact,.layout-size_large .cu-simple-bar .cu2-project-list-bar-item__compact{width:50px}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__compact{width:20px;margin-right:9px;margin-left:36px}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar-item__compact,.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar-item__compact,.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar-item__compact{width:20px}.cu2-project-list-bar-item__expanding{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;flex-grow:1;padding-right:10px;min-width:0;z-index:1;align-self:stretch}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__expanding{padding-right:25px}.cu-simple-bar .cu2-project-list-bar-item__expanding{padding-right:18px}.cu2-project-list-bar-item__avatar{font-family:Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:25px;display:flex;align-items:center;justify-content:center;width:100%;height:100%;border-radius:50%;text-transform:uppercase;text-align:center;position:relative}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu2-project-list-bar-item__avatar{font-family:var(--global-second-font-support)}}.cu-simple-bar .cu2-project-list-bar-item__avatar{margin-left:10px}.cu2-project-list-bar-item__avatar span{color:#fff;display:inline-block;font-size:4em;transform:scale(.25);margin:-1em -.333em}.cu2-project-list-bar-item__caret{transition:transform .2s cubic-bezier(.785,.135,.15,.86),fill .2s cubic-bezier(.785,.135,.15,.86);flex-shrink:0;width:10px;height:12px;padding:2px;cursor:pointer;position:absolute;left:16px;fill:#b9bec7;z-index:10}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__caret{fill:#828588}.cu-simple-bar .cu2-project-list-bar-item__caret{width:11px;height:11px;padding:0;left:5px;fill:#bcbfc6;transform:rotate(-90deg)}.cu2-project-list-bar-item__caret:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__caret:hover{fill:var(--theme-main-color)}}.cu2-project-list-bar-item__caret_opened{transform:rotate(90deg)}.cu-simple-bar .cu2-project-list-bar-item__caret_opened{transform:rotate(0deg)}.cu2-project-list-bar-item__handle{width:10px;height:19px;opacity:0;cursor:move;position:absolute;z-index:1;left:2px;fill:#bcc0c7}.dark-theme .cu2-project-list-bar-item__handle{fill:#828588}.cu2-project-list-bar-item__handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__handle:hover{fill:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__handle{width:9px;height:18px;left:3px}.cu2-project-list-bar-item__handle svg{pointer-events:none}.cu2-project-list-bar-item__lock{width:10px;height:10px;fill:#bcc0c7;display:inline-block;margin-right:6px}.dark-theme .cu2-project-list-bar-item__lock{fill:#828588}.cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__lock,.dark-theme .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__lock{fill:#fff}.cu-simple-bar .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__lock{fill:#bcc0c7}.dark-theme .cu-simple-bar .cu2-project-list-bar-item__container_selected:not(.cu2-project-list-bar-item__container_child-selected) .cu2-project-list-bar-item__lock{fill:#828588}.cu2-project-list-bar-item__link{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1.1;display:flex;align-items:center;flex-grow:1;align-self:stretch;min-width:0;cursor:pointer;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-project-list-bar-item__link{font-family:var(--global-font-support)}}.dark-theme .cu2-project-list-bar-item__link{color:#d5d6d7}.layout-size_compact .cu2-project-list-bar-item__link{font-size:12px}.layout-size_default .cu2-project-list-bar-item__link{font-size:13px}.layout-size_large .cu2-project-list-bar-item__link{font-size:14px}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__link,.cu2-spaces-bar_v4 .cu2-project-list-bar-item__link{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:13px;line-height:1}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar-item__link,.layout-size_compact .cu2-spaces-bar_v4 .cu2-project-list-bar-item__link{font-size:13px}.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar-item__link,.layout-size_default .cu2-spaces-bar_v4 .cu2-project-list-bar-item__link{font-size:14px}.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar-item__link,.layout-size_large .cu2-spaces-bar_v4 .cu2-project-list-bar-item__link{font-size:15px}.cu-simple-bar .cu2-project-list-bar-item__link{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:13px;line-height:1}.layout-size_compact .cu-simple-bar .cu2-project-list-bar-item__link,.layout-size_default .cu-simple-bar .cu2-project-list-bar-item__link,.layout-size_large .cu-simple-bar .cu2-project-list-bar-item__link{font-size:13px}.cu2-project-list-bar-item__link-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2;color:#292d34}.dark-theme .cu2-project-list-bar-item__link-text{color:#d5d6d7}.cu2-project-list-bar-item__link-text+.cu2-project-list-bar-item__lock{margin-left:6px}.cu2-project-list-bar-item__link-text_bordered{border-top:1px solid transparent;border-bottom:1px solid transparent}.cu2-project-list-bar-item__link-text_bordered:hover{border-bottom:1px dashed}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar-item__link-text{font-size:13px}.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar-item__link-text{font-size:14px}.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar-item__link-text{font-size:15px}.cu-simple-bar .cu2-project-list-bar-item__link-text{font-weight:500}.cu2-project-list-bar-item__quick-action-ellipsis{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:24px;height:24px;padding:4px;cursor:pointer;display:none;fill:#bcc0c7;margin:-2px 0}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__quick-action-ellipsis{fill:#7c828d}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar-item__quick-action-ellipsis{fill:#828588}.cu-simple-bar .cu2-project-list-bar-item__quick-action-ellipsis{margin-left:4px;padding:5px;fill:#a4a6aa}.dark-theme .cu-simple-bar .cu2-project-list-bar-item__quick-action-ellipsis{fill:#828588}.cu2-project-list-bar-item__quick-action-ellipsis:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__quick-action-ellipsis:hover{fill:var(--theme-main-color)}}.cu2-project-list-bar-item__tooltip{transform:translate(-15px,-50%)}.cu2-project-list-bar-item__tooltip .tooltip__triangle{left:10px}.cu2-project-list-bar-item__add{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:none;width:14px;height:14px;padding:2px;margin-left:6px;border-radius:50%;cursor:pointer;fill:#fff;background:#7c828d}.dark-theme .cu2-project-list-bar-item__add{fill:#384047;background:#828588}.cu2-project-list-bar-item__add:hover{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar-item__add:hover{background:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar-item__add{margin-left:7px}.cu-simple-bar .cu2-project-list-bar-item__add{border-radius:0;padding:1px;margin-left:4px;fill:#7c828d;background:transparent}.dark-theme .cu-simple-bar .cu2-project-list-bar-item__add{fill:#828588;background:transparent}.cu-simple-bar .cu2-project-list-bar-item__add:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar .cu2-project-list-bar-item__add:hover{fill:var(--theme-main-color)}}.cu-simple-bar .cu2-project-list-bar-item__add-container{margin-left:auto}'],encapsulation:2,data:{animation:[re.f]},changeDetection:0}),e})();function St(e,t){1&e&&(u.ac(0),u.gc(1,8),u.Zb())}function jt(e,t){1&e&&(u.ac(0),u.gc(1,9),u.Zb())}function Ot(e,t){if(1&e&&(u.ac(0),u.cc(1,"div",4),u.gc(2,5),u.bc(),u.cc(3,"div",6),u.bd(4,St,2,0,"ng-container",1),u.bd(5,jt,2,0,"ng-template",null,7,u.cd),u.bc(),u.Zb()),2&e){const e=u.Rc(6),t=u.uc();u.Ib(2),u.kc(null==t.projects?null:t.projects.length)(null==t.projects?null:t.projects.length),u.hc(2),u.Ib(2),u.Dc("ngIf",t.expanded)("ngIfElse",e)}}function It(e,t){if(1&e&&u.Xb(0,"div",10),2&e){const e=u.uc();u.Dc("cuTooltip",e.toggleHiddenSpacesTooltipText)}}const Dt=function(){return[]};function Ct(e,t){if(1&e){const e=u.dc();u.cc(0,"cu2-project-list-bar-item",15,16),u.qc("onToggle",function(i){u.Uc(e);const a=t.$implicit;return u.uc(2).toggleOpenState(a,i)})("onToggleCategory",function(t){return u.Uc(e),u.uc(2).toggleCategoryOpenState(t)})("onDropCategory",function(t){return u.Uc(e),u.uc(2).onDropCategory.emit(t)})("onSetCreateListState",function(t){return u.Uc(e),u.uc(2).onSetCreateListState.emit(t)})("onCreateList",function(t){return u.Uc(e),u.uc(2).onCreateList.emit(t)})("onDropView",function(t){return u.Uc(e),u.uc(2).onDropView.emit(t)})("onMoveFolderOrList",function(t){return u.Uc(e),u.uc(2).onMoveFolderOrList.emit(t)})("dropdownOpen",function(){return u.Uc(e),u.uc(2).dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc(2).dropdownClose.emit()})("onToggleHide",function(t){return u.Uc(e),u.uc(2).onToggleHide.emit(t)}),u.vc(2,"async"),u.vc(3,"async"),u.bc()}if(2&e){const e=t.$implicit,i=u.Rc(1),a=u.uc(2);u.Dc("project",e)("selected",!a.sharedSpaceParam&&e.id===(null==a.selectedProject?null:a.selectedProject.id))("dragIds",a.dragIds)("connectedDragIds",a.connectedDragIds)("category",a.category)("convos",a.convoDocMap&&a.convoDocMap[e.id]?a.convoDocMap[e.id][a.DataViewType.Conversation]||u.Gc(30,Dt):u.Gc(31,Dt))("docs",a.convoDocMap&&a.convoDocMap[e.id]?a.convoDocMap[e.id][a.DataViewType.Doc]||u.Gc(32,Dt):u.Gc(33,Dt))("cdkDragDisabled",(null==a.user?null:a.user.dashboard)===a.LayoutVersion.Five&&i.editingChild)("selectedChildren",a.selectedChildren)("isDraggingFolder",u.wc(2,26,a.navService.isDraggingFolder$))("isDraggingOutsideList",u.wc(3,28,a.navService.isDraggingList$))("isCollapsed",a.isCollapsed)("isOpened",a.isOpenedMap[null==e?null:e.id])("isCategoryOpenedMap",a.isCategoryOpenedMap)("selectedCategoryId",a.selectedCategoryId)("selectedSubcategoryId",a.selectedSubcategoryId)("layoutType",null==a.user?null:a.user.dashboard)("layoutSize",null==a.user?null:a.user.dashboard_size)("searchProjectOpenMap",a.searchProjectOpenMap&&a.searchProjectOpenMap[e.id])("showCreateFolderList",(null==a.user?null:a.user.dashboard)===a.LayoutVersion.Three||(null==a.user?null:a.user.dashboard)===a.LayoutVersion.Four||(null==a.user?null:a.user.dashboard)===a.LayoutVersion.Five)("createListStateMap",a.createListStateMap)("cdkDragStartDelay",a.isTouchDevice?500:0)("cdkDragData",e)("cuDragScrollContainer",a.scrollContainer)("scrollContainer",a.scrollContainer),u.Jb("data-id",e.id)}}function Pt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-lazy-list",11,12),u.cc(2,"div",13),u.qc("cdkDropListDropped",function(t){return u.Uc(e),u.uc().onDrop.emit(t)}),u.bd(3,Ct,4,34,"cu2-project-list-bar-item",14),u.vc(4,"async"),u.bc(),u.bc()}if(2&e){const e=u.Rc(1),t=u.uc();u.Dc("items",t.projects)("pageSize",10)("bottomPadding",100)("scrollContainer",t.scrollContainer),u.Ib(3),u.Dc("ngForOf",u.wc(4,6,e.lazyItems$))("ngForTrackBy",t.trackById)}}let $t=(()=>{class e{constructor(e,t){this.navService=e,this.store=t,this.DataViewType=D.i,this.LayoutVersion=l.b,this.user$=this.store.select(r.getUser),this.isSpacesBarCollapsed$=this.store.pipe(Object(g.select)(r.getSpacesBarIsCollapsedOption)),this.projects=[],this.onDrop=new u.o,this.onToggle=new u.o,this.onDropCategory=new u.o,this.onSetCreateListState=new u.o,this.onCreateList=new u.o,this.onDropView=new u.o,this.onMoveFolderOrList=new u.o,this.dropdownOpen=new u.o,this.dropdownClose=new u.o,this.onToggleHide=new u.o,this.trackById=Object(j.d)("id")}get toggleHiddenSpacesTooltipText(){var e,t;return this.expanded?(null===(e=this.projects)||void 0===e?void 0:e.length)>1?$localize`:@@cu-project-list-bar-item-hidden__tooltip-msg_collapse-hidden-spaces:Collapse hidden Spaces`:$localize`:@@cu-project-list-bar-item-hidden__tooltip-msg_collapse-hidden-space:Collapse hidden Space`:(null===(t=this.projects)||void 0===t?void 0:t.length)>1?$localize`:@@cu-project-list-bar-item-hidden__tooltip-msg_show-hidden-spaces:Show hidden Spaces`:$localize`:@@cu-project-list-bar-item-hidden__tooltip-msg_show-hidden-spaces:Show hidden Space`}ngOnInit(){}toggle(){this.onToggle.emit(!this.expanded)}toggleOpenState(e,t){this.navService.setProjectOpenState(e.id,t)}toggleCategoryOpenState({categoryId:e,isOpened:t}){this.navService.setCategoryOpenState(e,t)}}return e.\u0275fac=function(t){return new(t||e)(u.Wb(E.a),u.Wb(g.Store))},e.\u0275cmp=u.Qb({type:e,selectors:[["cu-project-list-bar-item-hidden"]],inputs:{expanded:"expanded",selectedChildren:"selectedChildren",isCollapsed:"isCollapsed",isTouchDevice:"isTouchDevice",sharedSpaceParam:"sharedSpaceParam",projects:"projects",selectedProject:"selectedProject",scrollContainer:"scrollContainer",isOpenedMap:"isOpenedMap",isCategoryOpenedMap:"isCategoryOpenedMap",dragIds:"dragIds",connectedDragIds:"connectedDragIds",selectedCategoryId:"selectedCategoryId",selectedSubcategoryId:"selectedSubcategoryId",category:"category",createListStateMap:"createListStateMap",user:"user",convoDocMap:"convoDocMap",searchProjectOpenMap:"searchProjectOpenMap"},outputs:{onDrop:"onDrop",onToggle:"onToggle",onDropCategory:"onDropCategory",onSetCreateListState:"onSetCreateListState",onCreateList:"onCreateList",onDropView:"onDropView",onMoveFolderOrList:"onMoveFolderOrList",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose",onToggleHide:"onToggleHide"},decls:7,vars:7,consts:function(){let e,t,i,a;return e=$localize`:␟892753227c0af382f01ac7899cad79c60a9423a2␟1244191391047499969:{VAR_PLURAL, plural, =0 {SPACE} =1 {SPACE} other {SPACES}}`,e=u.lc(e,{VAR_PLURAL:"\ufffd1\ufffd"}),t=$localize`:@@cu-project-list-bar-item-hidden_hidden-spaces-count␟6802c53877ed05b8a782d540e7a42838417d084a␟8675147736039051274: ${"\ufffd0\ufffd"}:INTERPOLATION: HIDDEN ${e}:ICU: `,i=$localize`:@@common_collapse␟e8bcb762b48cf52fbea66ce9c4f6b970b99a80fd␟4929778113156900100:Collapse`,a=$localize`:@@cu-project-list-bar-item-hidden__expand␟1f332ec66f3bc8d943c248091be7f92772ba280f␟1359092845802014498:Expand`,[[1,"cu-project-list-bar-item-hidden__header",3,"click"],[4,"ngIf","ngIfElse"],["icon",""],[3,"items","pageSize","bottomPadding","scrollContainer",4,"ngIf"],[1,"cu-project-list-bar-item-hidden__header-title"],t,[1,"cu-project-list-bar-item-hidden__header-collapse"],["expandTmpl",""],i,a,["icon","cu2-eye-slash-2",1,"cu-project-list-bar-item-hidden__header-icon",3,"cuTooltip"],[3,"items","pageSize","bottomPadding","scrollContainer"],["lazyList",""],["cdkDropList","","cdkDropListOrientation","vertical",1,"cu2-project-list-bar__inner",3,"cdkDropListDropped"],["cdkDrag","","cuDragScroll","",3,"project","selected","dragIds","connectedDragIds","category","convos","docs","cdkDragDisabled","selectedChildren","isDraggingFolder","isDraggingOutsideList","isCollapsed","isOpened","isCategoryOpenedMap","selectedCategoryId","selectedSubcategoryId","layoutType","layoutSize","searchProjectOpenMap","showCreateFolderList","createListStateMap","cdkDragStartDelay","cdkDragData","cuDragScrollContainer","scrollContainer","onToggle","onToggleCategory","onDropCategory","onSetCreateListState","onCreateList","onDropView","onMoveFolderOrList","dropdownOpen","dropdownClose","onToggleHide",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","cuDragScroll","",3,"project","selected","dragIds","connectedDragIds","category","convos","docs","cdkDragDisabled","selectedChildren","isDraggingFolder","isDraggingOutsideList","isCollapsed","isOpened","isCategoryOpenedMap","selectedCategoryId","selectedSubcategoryId","layoutType","layoutSize","searchProjectOpenMap","showCreateFolderList","createListStateMap","cdkDragStartDelay","cdkDragData","cuDragScrollContainer","scrollContainer","onToggle","onToggleCategory","onDropCategory","onSetCreateListState","onCreateList","onDropView","onMoveFolderOrList","dropdownOpen","dropdownClose","onToggleHide"],["projectListItem",""]]},template:function(e,t){if(1&e&&(u.cc(0,"div",0),u.qc("click",function(){return t.toggle()}),u.bd(1,Ot,7,4,"ng-container",1),u.vc(2,"async"),u.vc(3,"async"),u.bc(),u.bd(4,It,1,1,"ng-template",null,2,u.cd),u.bd(6,Pt,5,8,"cu-lazy-list",3)),2&e){const e=u.Rc(5);let i=null;u.Ib(1),u.Dc("ngIf",!((null==(i=u.wc(2,3,t.user$))?null:i.dashboard)===t.LayoutVersion.Four&&u.wc(3,5,t.isSpacesBarCollapsed$)))("ngIfElse",e),u.Ib(5),u.Dc("ngIf",t.expanded)}},directives:[F.q,R.a,q.a,N.a,O.d,F.p,Tt,O.a,we.a],pipes:[F.b],styles:[".cu-project-list-bar-item-hidden__header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:0 10px 0 18px;margin:15px 0 10px;cursor:pointer;height:12px;overflow:hidden}.cu2-spaces-bar_v4:not(.cu2-spaces-bar_expanded) .cu-project-list-bar-item-hidden__header{height:auto;padding:5px 0;justify-content:center}.cu-project-list-bar-item-hidden__header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-transform:uppercase;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;white-space:nowrap;color:#7c828d}.dark-theme .cu-project-list-bar-item-hidden__header-title{color:#828588}.cu-project-list-bar-item-hidden__header-collapse{font:300 11px Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;margin-left:7px;border-bottom:1px dashed #292d34;color:#292d34;display:none}.dark-theme .cu-project-list-bar-item-hidden__header-collapse{color:#828588;border-bottom-color:#828588}.cu-project-list-bar-item-hidden__header-icon{padding:4px;width:26px;height:26px;fill:#292d34}.dark-theme .cu-project-list-bar-item-hidden__header-icon{fill:#d5d6d7}.layout-size_compact .cu-project-list-bar-item-hidden__header-icon{width:26px;height:26px}.layout-size_default .cu-project-list-bar-item-hidden__header-icon{width:30px;height:30px}.layout-size_large .cu-project-list-bar-item-hidden__header-icon{width:33px;height:33px}.cu-project-list-bar-item-hidden__header:hover .cu-project-list-bar-item-hidden__header-collapse{display:block}.cu-project-list-bar-item-hidden__header:hover .cu-project-list-bar-item-hidden__header-collapse,.cu-project-list-bar-item-hidden__header:hover .cu-project-list-bar-item-hidden__header-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-project-list-bar-item-hidden__header:hover .cu-project-list-bar-item-hidden__header-collapse,.cu-project-list-bar-item-hidden__header:hover .cu-project-list-bar-item-hidden__header-title{color:var(--theme-main-color)}}.cu-project-list-bar-item-hidden__header:hover .cu-project-list-bar-item-hidden__header-collapse{border-bottom-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-project-list-bar-item-hidden__header:hover .cu-project-list-bar-item-hidden__header-collapse{border-bottom-color:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),e})();function zt(e,t){if(1&e&&u.Yb(0,7),2&e){u.uc();const e=u.Rc(15);u.Dc("ngTemplateOutlet",e)}}function Mt(e,t){1&e&&u.Xb(0,"div",8)}function Et(e,t){if(1&e&&(u.ac(0),u.cc(1,"a",22),u.gc(2,23),u.vc(3,"async"),u.bc(),u.Bc(4),u.Zb()),2&e){const e=u.uc(2);u.Ib(1),u.Dc("routerLink",u.wc(3,1,e.teamPath$))}}function Lt(e,t){1&e&&(u.ac(0),u.gc(1,28),u.Zb())}function At(e,t){1&e&&(u.ac(0),u.gc(1,29),u.Zb())}function Ft(e,t){if(1&e){const e=u.dc();u.cc(0,"a",30),u.qc("click",function(){return u.Uc(e),u.uc(3).toggleSidebarSpaces.emit(!0)}),u.vc(1,"async"),u.vc(2,"async"),u.Xb(3,"div",31),u.ac(4),u.gc(5,32),u.Zb(),u.bc()}if(2&e){const e=u.uc(3);let t=null;u.Dc("routerLink",null==(t=u.wc(1,2,e.backLink$))?null:t.url)("cuTooltip",u.wc(2,4,e.backLinkTooltipText$))}}function Ut(e,t){1&e&&u.Xb(0,"div",33)}function Nt(e,t){if(1&e){const e=u.dc();u.ac(0),u.cc(1,"div",24),u.qc("click",function(){u.Uc(e);const t=u.uc(2);return t.toggleSidebarSpaces.emit(!t.isExpandedSidebarSpaces)}),u.vc(2,"async"),u.bd(3,Lt,2,0,"ng-container",11),u.vc(4,"async"),u.bd(5,At,2,0,"ng-container",11),u.vc(6,"async"),u.bd(7,Ft,6,6,"a",25),u.vc(8,"async"),u.Xb(9,"div",26),u.bc(),u.Bc(10,1),u.bd(11,Ut,1,0,"div",27),u.Zb()}if(2&e){const e=u.uc(2);u.Ib(1),u.Ob("cu2-project-list-bar__title_active",e.isExpandedSidebarSpaces)("cu2-project-list-bar__title_no-search",u.wc(2,8,e.isGuest$)),u.Ib(2),u.Dc("ngIf",!u.wc(4,10,e.isGuest$)),u.Ib(2),u.Dc("ngIf",u.wc(6,12,e.isGuest$)),u.Ib(2),u.Dc("ngIf",!u.wc(8,14,e.hideBackLink$)),u.Ib(4),u.Dc("ngIf",e.isExpandedSidebarSpaces)}}const Rt=function(e){return{id:"space",title:e,icon:"cu3-space"}};function Gt(e,t){if(1&e){const e=u.dc();u.cc(0,"div",39),u.Xb(1,"cu-dropdown-list-title",40),u.cc(2,"cu-dropdown-list-item",41),u.qc("click",function(){return u.Uc(e),u.uc(3).create()}),u.bc(),u.bc()}if(2&e){const e=u.uc(3);u.Ib(1),u.Dc("title",e.addNewText),u.Ib(1),u.Dc("item",u.Hc(2,Rt,e.spaceText))}}const qt=function(){return["right-top","auto"]};function Bt(e,t){if(1&e){const e=u.dc();u.cc(0,"div",34),u.qc("dropdownOpen",function(){return u.Uc(e),u.uc(2).dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc(2).dropdownClose.emit()}),u.cc(1,"div",35),u.Xb(2,"div",36),u.ac(3),u.gc(4,37),u.Zb(),u.bc(),u.bd(5,Gt,3,4,"div",38),u.bc()}2&e&&(u.Dc("dropdownPlacement",u.Gc(2,qt)),u.Ib(2),u.Dc("icon","cu2-close-2"))}const Wt=function(){return[]};function Vt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu2-project-list-bar-item",42,43),u.qc("onToggle",function(i){u.Uc(e);const a=t.$implicit;return u.uc(2).toggleOpenState(a,i)})("onToggleCategory",function(t){return u.Uc(e),u.uc(2).toggleCategoryOpenState(t)})("onDropCategory",function(t){return u.Uc(e),u.uc(2).dropCategory(t)})("onSetCreateListState",function(t){return u.Uc(e),u.uc(2).setCreateListStateChange(t)})("onCreateList",function(t){return u.Uc(e),u.uc(2).createList(t)})("onDropView",function(t){return u.Uc(e),u.uc(2).dropView(t)})("onMoveFolderOrList",function(t){return u.Uc(e),u.uc(2).moveFolderOrList(t)})("dropdownOpen",function(){return u.Uc(e),u.uc(2).dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc(2).dropdownClose.emit()})("onToggleHide",function(t){return u.Uc(e),u.uc(2).toggleHide(t)}),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.vc(8,"async"),u.vc(9,"async"),u.vc(10,"async"),u.vc(11,"async"),u.vc(12,"async"),u.vc(13,"async"),u.vc(14,"async"),u.vc(15,"async"),u.vc(16,"async"),u.vc(17,"async"),u.vc(18,"async"),u.vc(19,"async"),u.vc(20,"async"),u.vc(21,"async"),u.vc(22,"async"),u.vc(23,"async"),u.vc(24,"async"),u.vc(25,"async"),u.bc()}if(2&e){const e=t.$implicit,i=u.Rc(1);u.uc();const a=u.Rc(1),o=u.Rc(17),c=u.uc();let n=null,s=null,r=null,l=null,d=null,p=null;u.Dc("project",e)("selected",!u.wc(2,26,c.sharedSpaceParam$)&&e.id===(null==(n=u.wc(3,28,c.project$))?null:n.id))("dragIds",u.wc(4,30,c.dragIds$))("connectedDragIds",u.wc(5,32,c.connectedDragIds$))("category",u.wc(6,34,c.category$))("convos",c.convoDocMap&&c.convoDocMap[e.id]?c.convoDocMap[e.id][c.DataViewType.Conversation]||u.Gc(74,Wt):u.Gc(75,Wt))("docs",c.convoDocMap&&c.convoDocMap[e.id]?c.convoDocMap[e.id][c.DataViewType.Doc]||u.Gc(76,Wt):u.Gc(77,Wt))("cdkDragDisabled",((null==(s=u.wc(7,36,c.user$))?null:s.dashboard)===c.LayoutVersion.Five||(null==(s=u.wc(8,38,c.user$))?null:s.dashboard)===c.LayoutVersion.Six)&&i.editingChild)("selectedChildren",u.wc(9,40,c.selectedChildren$))("isDraggingFolder",u.wc(10,42,c.navService.isDraggingFolder$))("isDraggingOutsideList",u.wc(11,44,c.navService.isDraggingList$))("isCollapsed",u.wc(12,46,c.isSpacesBarCollapsed$))("isOpened",u.wc(13,48,c.isOpenedMap$)[null==e?null:e.id])("isCategoryOpenedMap",u.wc(14,50,c.isCategoryOpenedMap$))("selectedCategoryId",u.wc(15,52,c.selectedCategoryId$))("selectedSubcategoryId",u.wc(16,54,c.selectedSubcategoryId$))("searchProjectOpenMap",(null==(r=u.wc(17,56,c.user$))?null:r.dashboard)!==c.LayoutVersion.Five&&(null==(r=u.wc(18,58,c.user$))?null:r.dashboard)!==c.LayoutVersion.Six||!a.search?null:c.searchProjectOpenMap[e.id])("layoutType",null==(l=u.wc(19,60,c.user$))?null:l.dashboard)("layoutSize",null==(d=u.wc(20,62,c.user$))?null:d.dashboard_size)("showCreateFolderList",(null==(p=u.wc(21,64,c.user$))?null:p.dashboard)===c.LayoutVersion.Four||(null==(p=u.wc(22,66,c.user$))?null:p.dashboard)===c.LayoutVersion.Five||(null==(p=u.wc(23,68,c.user$))?null:p.dashboard)===c.LayoutVersion.Six)("createListStateMap",u.wc(24,70,c.createListStateMap$))("cdkDragStartDelay",u.wc(25,72,c.isTouchDevice$)?500:0)("cdkDragData",e)("cuDragScrollContainer",o)("scrollContainer",c.scrollContainer||o),u.Jb("data-id",e.id)}}function Xt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-project-list-bar-item-hidden",44),u.qc("onToggle",function(t){return u.Uc(e),u.uc(2).toggleHiddenProjects(t)})("onDropCategory",function(t){return u.Uc(e),u.uc(2).dropCategory(t)})("onSetCreateListState",function(t){return u.Uc(e),u.uc(2).setCreateListStateChange(t)})("onCreateList",function(t){return u.Uc(e),u.uc(2).createList(t)})("onDropView",function(t){return u.Uc(e),u.uc(2).dropView(t)})("onDrop",function(t){return u.Uc(e),u.uc(2).drop(t,!0)})("onMoveFolderOrList",function(t){return u.Uc(e),u.uc(2).moveFolderOrList(t)})("dropdownOpen",function(){return u.Uc(e),u.uc(2).dropdownOpen.emit()})("dropdownClose",function(){return u.Uc(e),u.uc(2).dropdownClose.emit()})("onToggleHide",function(t){return u.Uc(e),u.uc(2).toggleHide(t)}),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.vc(8,"async"),u.vc(9,"async"),u.vc(10,"async"),u.vc(11,"async"),u.vc(12,"async"),u.vc(13,"async"),u.vc(14,"async"),u.vc(15,"async"),u.vc(16,"async"),u.vc(17,"async"),u.bc()}if(2&e){u.uc();const e=u.Rc(1),t=u.Rc(17),i=u.uc();let a=null;u.Dc("expanded",!!e.search||u.wc(1,19,i.hiddenProjectsOpen$))("projects",e.secondaryFilteredItems)("scrollContainer",t)("sharedSpaceParam",u.wc(2,21,i.sharedSpaceParam$))("selectedProject",u.wc(3,23,i.project$))("dragIds",u.wc(4,25,i.dragIds$))("connectedDragIds",u.wc(5,27,i.connectedDragIds$))("convoDocMap",i.convoDocMap)("user",u.wc(6,29,i.user$))("category",u.wc(7,31,i.category$))("searchProjectOpenMap",(null==(a=u.wc(8,33,i.user$))?null:a.dashboard)!==i.LayoutVersion.Five&&(null==(a=u.wc(9,35,i.user$))?null:a.dashboard)!==i.LayoutVersion.Six||!e.search?null:i.searchProjectOpenMap)("selectedChildren",u.wc(10,37,i.selectedChildren$))("isCollapsed",u.wc(11,39,i.isSpacesBarCollapsed$))("isOpenedMap",u.wc(12,41,i.isOpenedMap$))("isCategoryOpenedMap",u.wc(13,43,i.isCategoryOpenedMap$))("selectedCategoryId",u.wc(14,45,i.selectedCategoryId$))("selectedSubcategoryId",u.wc(15,47,i.selectedSubcategoryId$))("createListStateMap",u.wc(16,49,i.createListStateMap$))("isTouchDevice",u.wc(17,51,i.isTouchDevice$))}}function Ht(e,t){1&e&&(u.cc(0,"div",45),u.Xb(1,"div",46),u.cc(2,"div",47),u.gc(3,48),u.bc(),u.bc())}function Yt(e,t){if(1&e){const e=u.dc();u.cc(0,"div",49),u.qc("click",function(){return u.Uc(e),u.uc(2).create()}),u.Xb(1,"div",50),u.vc(2,"async"),u.cc(3,"div",51),u.gc(4,52),u.bc(),u.bc()}if(2&e){const e=u.uc(2);u.Ib(1),u.Dc("cuTooltip",u.wc(2,1,e.createSpaceTooltipText$))}}function Zt(e,t){if(1&e){const e=u.dc();u.cc(0,"cu-search-list",9,10),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.vc(8,"async"),u.bd(9,Et,5,3,"ng-container",11),u.vc(10,"async"),u.vc(11,"async"),u.vc(12,"async"),u.vc(13,"async"),u.bd(14,Nt,12,16,"ng-container",11),u.vc(15,"async"),u.cc(16,"div",12,13),u.vc(18,"async"),u.bd(19,Bt,6,3,"div",14),u.vc(20,"async"),u.vc(21,"async"),u.Yb(22,7),u.Yb(23,7),u.cc(24,"cu-lazy-list",15,16),u.cc(26,"div",17),u.qc("cdkDropListDropped",function(t){return u.Uc(e),u.uc().drop(t)}),u.bd(27,Vt,26,78,"cu2-project-list-bar-item",18),u.vc(28,"async"),u.bc(),u.bc(),u.bd(29,Xt,18,53,"cu-project-list-bar-item-hidden",19),u.bd(30,Ht,4,0,"div",20),u.vc(31,"async"),u.bd(32,Yt,5,3,"div",21),u.vc(33,"async"),u.vc(34,"async"),u.bc(),u.bc()}if(2&e){const e=u.Rc(1),t=u.Rc(17),i=u.Rc(25),a=u.uc(),o=u.Rc(15),c=u.Rc(13);let n=null,s=null,r=null,l=null,d=null,p=null,m=null,h=null;u.Dc("filterfn",(null==(n=u.wc(2,27,a.user$))?null:n.dashboard)===a.LayoutVersion.Five||(null==(n=u.wc(3,29,a.user$))?null:n.dashboard)===a.LayoutVersion.Six?a.filterProjectFnLayout35:a.filterProjectFn)("items",a.projectListVisible)("secondaryItems",a.projectListHidden)("modifierSearchInput","cu2-project-list-bar__search")("withLabel",!0)("hideSearchInput",((null==(s=u.wc(4,31,a.user$))?null:s.dashboard)===a.LayoutVersion.Five||(null==(s=u.wc(5,33,a.user$))?null:s.dashboard)===a.LayoutVersion.Six)&&u.wc(6,35,a.isGuest$))("closeIcon",(null==(r=u.wc(7,37,a.user$))?null:r.dashboard)===a.LayoutVersion.Six?"cu2-close-2":"close-o")("blurOnClear",!0)("placeholder",u.wc(8,39,a.searchPlaceholder$))("autoFocus",!1),u.Ib(9),u.Dc("ngIf",(!u.wc(10,41,a.isSpacesBarCollapsed$)&&(null==(l=u.wc(11,43,a.user$))?null:l.dashboard)===a.LayoutVersion.Four||(null==(l=u.wc(12,45,a.user$))?null:l.dashboard)===a.LayoutVersion.Five)&&!u.wc(13,47,a.isGuest$)),u.Ib(5),u.Dc("ngIf",(null==(d=u.wc(15,49,a.user$))?null:d.dashboard)===a.LayoutVersion.Six),u.Ib(2),u.Ob("cu2-project-list-bar__scrollable_expanded",a.isExpandedSidebarSpaces),u.Dc("@spacesList",(null==(p=u.wc(18,51,a.user$))?null:p.dashboard)===a.LayoutVersion.Six?a.isExpandedSidebarSpaces?"expanded":"collapsed":null),u.Ib(3),u.Dc("ngIf",(null==(m=u.wc(20,53,a.user$))?null:m.dashboard)===a.LayoutVersion.Six&&u.wc(21,55,a.canCreateSpace$)),u.Ib(3),u.Dc("ngTemplateOutlet",o),u.Ib(1),u.Dc("ngTemplateOutlet",c),u.Ib(1),u.Dc("items",e.filteredItems)("pageSize",10)("bottomPadding",100)("scrollContainer",a.scrollContainer||t),u.Ib(3),u.Dc("ngForOf",u.wc(28,57,i.lazyItems$))("ngForTrackBy",a.trackById),u.Ib(2),u.Dc("ngIf",null==e.secondaryFilteredItems?null:e.secondaryFilteredItems.length),u.Ib(1),u.Dc("ngIf",!(null!=e.filteredItems&&e.filteredItems.length||u.wc(31,59,a.isGuest$)||null!=a.projectListHidden&&a.projectListHidden.length)),u.Ib(2),u.Dc("ngIf",u.wc(33,61,a.canCreateSpace$)&&(null==(h=u.wc(34,63,a.user$))?null:h.dashboard)!==a.LayoutVersion.Six)}}const Qt=function(e){return{"cu2-project-list-bar__row_active":e}};function Kt(e,t){if(1&e&&(u.cc(0,"a",55),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.cc(5,"div",56),u.Xb(6,"div",57),u.vc(7,"async"),u.vc(8,"async"),u.bc(),u.cc(9,"div",58),u.gc(10,59),u.bc(),u.bc()),2&e){const e=u.uc(2);let t=null;u.Dc("ngClass",u.Hc(16,Qt,u.wc(1,4,e.isAllSpaces$)&&u.wc(2,6,e.hideBackLink$)))("routerLink",u.wc(3,8,e.teamPath$))("cuTooltip",u.wc(4,10,e.showEverythingTooltipText$)),u.Ib(6),u.Dc("icon",(null==(t=u.wc(7,12,e.user$))?null:t.dashboard)===e.LayoutVersion.Five||(null==(t=u.wc(8,14,e.user$))?null:t.dashboard)===e.LayoutVersion.Six?"cu2-everything-2":"cu2-everything")}}function Jt(e,t){if(1&e&&(u.Xb(0,"cu-convo-doc-visibility",60),u.vc(1,"async"),u.vc(2,"async")),2&e){const e=u.uc(2);u.Dc("convos",u.wc(1,2,e.teamConvos$))("docs",u.wc(2,4,e.teamDocs$))}}function ei(e,t){if(1&e&&(u.bd(0,Kt,11,18,"a",53),u.vc(1,"async"),u.bd(2,Jt,3,6,"cu-convo-doc-visibility",54),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async")),2&e){const e=u.uc();let t=null;u.Dc("ngIf",!u.wc(1,2,e.isGuest$)),u.Ib(2),u.Dc("ngIf",!u.wc(3,4,e.sharedSpaceParam$)&&!u.wc(4,6,e.project$)&&(null==(t=u.wc(5,8,e.user$))?null:t.dashboard)===e.LayoutVersion.Five&&((null==(t=u.wc(6,10,e.teamConvos$))?null:t.length)||(null==(t=u.wc(7,12,e.teamDocs$))?null:t.length)))}}function ti(e,t){if(1&e&&(u.cc(0,"a",63),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.cc(4,"div",64),u.vc(5,"async"),u.Xb(6,"div",65),u.bc(),u.cc(7,"div",58),u.gc(8,66),u.bc(),u.bc()),2&e){const e=u.uc(3);let t=null;u.Ob("cu2-project-list-bar__row_active",u.wc(1,4,e.sharedSpaceParam$)&&(null==(t=u.wc(2,6,e.user$))?null:t.dashboard)!==e.LayoutVersion.Four),u.Dc("routerLink",u.wc(3,8,e.sharedSpacePath$)),u.Ib(4),u.Dc("cuTooltip",u.wc(5,10,e.tasksSharedWithMeTooltipText$))}}function ii(e,t){}function ai(e,t){if(1&e){const e=u.dc();u.ac(0),u.cc(1,"div",69),u.qc("click",function(){return u.Uc(e),u.uc(4).toggleSharedWithMe()}),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.bd(8,ii,0,0,"ng-template",7),u.bc(),u.Zb()}if(2&e){const e=u.uc(4),t=u.Rc(17);let i=null;u.Ib(1),u.Ob("cu2-project-list-bar__row_active",u.wc(2,3,(null==(i=u.wc(3,5,e.user$))?null:i.dashboard)===e.LayoutVersion.Five&&e.sharedSpaceParam$)||(null==(i=u.wc(4,7,e.user$))?null:i.dashboard)===e.LayoutVersion.Six&&!u.wc(5,9,e.category$)&&!u.wc(6,11,e.subcategory$)&&!u.wc(7,13,e.sharedTasksParam$)),u.Ib(7),u.Dc("ngTemplateOutlet",t)}}function oi(e,t){}function ci(e,t){if(1&e&&(u.cc(0,"a",63),u.vc(1,"async"),u.vc(2,"async"),u.bd(3,oi,0,0,"ng-template",7),u.bc()),2&e){const e=u.uc(4),t=u.Rc(17);u.Ob("cu2-project-list-bar__row_active",u.wc(1,4,e.sharedSpaceParam$)),u.Dc("routerLink",u.wc(2,6,e.sharedSpacePath$)),u.Ib(3),u.Dc("ngTemplateOutlet",t)}}function ni(e,t){if(1&e&&(u.bd(0,ai,9,15,"ng-container",67),u.vc(1,"async"),u.vc(2,"async"),u.bd(3,ci,4,8,"ng-template",null,68,u.cd)),2&e){const e=u.Rc(4),t=u.uc(3);let i=null;u.Dc("ngIf",(null==(i=u.wc(1,2,t.user$))?null:i.dashboard)===t.LayoutVersion.Five||(null==(i=u.wc(2,4,t.user$))?null:i.dashboard)===t.LayoutVersion.Six)("ngIfElse",e)}}function si(e,t){if(1&e&&(u.ac(0),u.bd(1,ti,9,12,"a",61),u.vc(2,"async"),u.bd(3,ni,5,6,"ng-template",null,62,u.cd),u.Zb()),2&e){const e=u.Rc(4),t=u.uc(2);u.Ib(1),u.Dc("ngIf",u.wc(2,2,t.isGuest$))("ngIfElse",e)}}function ri(e,t){if(1&e&&(u.bd(0,si,5,4,"ng-container",11),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.Bc(4,2)),2&e){const e=u.uc();let t=null;u.Dc("ngIf",u.wc(1,1,e.hasSharedData$)&&(!u.wc(2,3,e.isGuest$)||(null==(t=u.wc(3,5,e.user$))?null:t.dashboard)===e.LayoutVersion.Four))}}const li=function(e){return{"cu2-project-list-bar__caret_opened":e}};function di(e,t){if(1&e&&(u.Xb(0,"div",75),u.vc(1,"async")),2&e){const e=u.uc(2);u.Dc("ngClass",u.Hc(4,li,u.wc(1,2,e.sharedExpanded$)))("icon","cu2-caret-down")}}function ui(e,t){if(1&e&&(u.cc(0,"div",76),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.vc(8,"async"),u.vc(9,"async"),u.ac(10),u.gc(11,77),u.Zb(),u.bc()),2&e){const e=u.uc(2);let t=null;u.Ob("cu2-project-list-bar__link-text_active",u.wc(1,2,(null==(t=u.wc(2,4,e.user$))?null:t.dashboard)===e.LayoutVersion.Five&&e.sharedSpaceParam$)||(null==(t=u.wc(3,6,e.user$))?null:t.dashboard)===e.LayoutVersion.Six&&!u.wc(4,8,e.category$)&&!u.wc(5,10,e.subcategory$)&&!u.wc(6,12,e.sharedTasksParam$)||u.wc(7,14,(null==(t=u.wc(8,16,e.user$))?null:t.dashboard)!==e.LayoutVersion.Five&&(null==(t=u.wc(9,18,e.user$))?null:t.dashboard)!==e.LayoutVersion.Six&&e.sharedSpaceParam$))}}function pi(e,t){if(1&e&&(u.cc(0,"a",78),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.ac(4),u.gc(5,79),u.Zb(),u.bc()),2&e){const e=u.uc(2);let t=null;u.Ob("cu2-project-list-bar__link-text_bordered",(null==(t=u.wc(1,3,e.user$))?null:t.dashboard)===e.LayoutVersion.Five||(null==(t=u.wc(2,5,e.user$))?null:t.dashboard)===e.LayoutVersion.Six),u.Dc("routerLink",u.wc(3,7,e.sharedSpacePath$))}}function mi(e,t){if(1&e&&(u.bd(0,di,2,6,"div",70),u.vc(1,"async"),u.cc(2,"div",64),u.vc(3,"async"),u.Xb(4,"div",71),u.vc(5,"async"),u.bc(),u.cc(6,"div",58),u.cc(7,"div",72),u.bd(8,ui,12,20,"div",73),u.vc(9,"async"),u.bd(10,pi,6,9,"ng-template",null,74,u.cd),u.bc(),u.bc()),2&e){const e=u.Rc(11),t=u.uc();let i=null,a=null;u.Dc("ngIf",(null==(i=u.wc(1,5,t.user$))?null:i.dashboard)===t.LayoutVersion.Six),u.Ib(2),u.Dc("cuTooltip",u.wc(3,7,t.tasksSharedWithMeTooltipText$)),u.Ib(2),u.Dc("icon",(null==(a=u.wc(5,9,t.user$))?null:a.dashboard)===t.LayoutVersion.Six?"cu3-share":"cu2-share-folder"),u.Ib(4),u.Dc("ngIf",u.wc(9,11,t.sharedSpaceParam$))("ngIfElse",e)}}const hi=[[["","actions",""]],[["","actions",""]],[["","sharedNav",""]]],bi=["[actions]","[actions]","[sharedNav]"],gi=(e,t)=>!e||!e.name||e.name.toLocaleLowerCase().includes(t);let fi=(()=>{class e{constructor(e,t,i,a,o,s,p,w,k,x){this.sharedData=e,this.router=t,this.modalService=i,this.dataService=a,this.changeDetectorRef=o,this.navService=s,this.store=p,this.injector=w,this.localStorage=k,this.commonStringsService=x,this.modifier="",this.isExpandedSidebarSpaces=this.localStorage.get("sidebar-spaces-expanded"),this.spacesBarExpanded=new u.o,this.dropdownOpen=new u.o,this.dropdownClose=new u.o,this.toggleSidebarSpaces=new u.o,this.destroy$=new m.a,this.projectListVisible=[],this.projectListHidden=[],this.categories$=new h.a([]),this.originalHovered=!1,this.isDragging=!1,this.DataViewType=D.i,this.debounceHover=new m.a,this.teamConvos$=this.store.select(d.q),this.teamDocs$=this.store.select(d.r),this.hasSharedData$=this.store.select(r.hasSharedData),this.sharedSpaceParam$=this.store.select(r.getSharedSpaceParam),this.sharedTasksParam$=this.store.select(r.getSharedTasksParam),this.project$=this.store.select(r.getProject),this.category$=this.store.select(r.getCategory),this.subcategory$=this.store.select(r.getSubcategory),this.isAllSpaces$=Object(b.a)([this.sharedSpaceParam$,this.project$]).pipe(Object(f.a)(([e,t])=>!t&&!e)),this.isGuest$=this.store.select(r.isGuestTeam),this.enterprisePermissions$=this.store.select(r.getUserEnterprisePermissions),this.canCreateSpace$=Object(b.a)([this.isGuest$,this.enterprisePermissions$]).pipe(Object(f.a)(([e,t])=>!(e||t&&t.create_projects!==n.b.ON))),this.isSpacesBarCollapsed$=this.store.pipe(Object(g.select)(r.getSpacesBarIsCollapsedOption)),this.selectedChildren$=Object(b.a)([this.project$,this.category$,this.subcategory$]).pipe(Object(f.a)(([e,t,i])=>!(!e||!t&&!i))),this.sharedExpanded$=this.navService.projectOpenMap$.pipe(Object(f.a)(e=>e&&e[c.h])),this.user$=this.store.select(r.getUser),this.team$=this.store.select(r.getTeam),this.selectedProjectId$=this.store.select(r.getSelectedProjectId),this.teamPath$=Object(b.a)([this.store.select(r.getTeam),this.team$.pipe(Object(_.a)(e=>this.store.select(Object(d.hb)(D.e.Team,e.id))))]).pipe(Object(f.a)(([e,t])=>t||["/",e.id,"v","t",e.id])),this.sharedSpacePath$=Object(b.a)([this.store.select(r.getTeam),this.store.select(d.ob).pipe(Object(v.a)(this.team$),Object(_.a)(([e,t])=>this.store.select(Object(d.hb)(D.e.SharedSpace,t.id,!0)))),this.isGuest$]).pipe(Object(f.a)(([e,t,i])=>i?["/",e.id,"v","sh",2,1]:t||["/",e.id,"v","sh",2,1])),this.isOpenedMap$=this.navService.projectOpenMap$,this.hiddenProjectsOpen$=this.navService.hiddenProjectsOpen$,this.isCategoryOpenedMap$=this.navService.categoryOpenMap$,this.selectedCategoryId$=this.store.select(r.getSelectedCategoryId),this.selectedSubcategoryId$=this.store.select(r.getSelectedSubcategoryId),this.createListStateMap$=this.store.select(r.getCreateListStateMap),this.isTouchDevice$=C.a,this.dragIds$=Object(b.a)([this.categories$,this.isCategoryOpenedMap$]).pipe(Object(f.a)(([e,t])=>e?[c.d,...e.filter(e=>t[e.id]).map(e=>e.id)]:[c.d])),this.connectedDragIds$=Object(b.a)([this.categories$,this.isOpenedMap$]).pipe(Object(f.a)(([e,t])=>e?e.filter(e=>t[e.project_id]).map(e=>e.id):[c.d])),this.hideBackLink$=this.store.select(I.i),this.backLink$=this.store.select(d.e),this.trackById=Object(j.d)("id"),this.filterProjectFn=gi,this.LayoutVersion=l.b,this.searchProjectOpenMap={},this.backLinkTooltipText$=this.backLink$.pipe(Object(f.a)(e=>e?$localize`:@@common_backlink--with-name:Back to ${e.name}:backlinkName: (l)`:""),Object(y.a)()),this.createSpaceTooltipText$=this.isSpacesBarCollapsed$.pipe(Object(f.a)(e=>e?$localize`:@@common_create-new-space:Create new Space`:null),Object(y.a)()),this.showEverythingTooltipText$=this.isSpacesBarCollapsed$.pipe(Object(f.a)(e=>e?$localize`:@@cu2-project-list-bar__tooltip-msg_show-everything:Show Everything`:null),Object(y.a)()),this.tasksSharedWithMeTooltipText$=this.isSpacesBarCollapsed$.pipe(Object(f.a)(e=>e?$localize`:@@common_tasks-shared -with-me:Tasks shared with me`:null),Object(y.a)()),this.spaceText=$localize`:@@common_space:Space`,this.addNewText=$localize`:@@common_add-new:Add new`,this.searchCleanLayoutPlaceholderMsgText=$localize`:@@cu2-project-list-bar__form-placeholder_filter-spaces:Filter Spaces`,this.searchDefaultPlaceholderMsgText=$localize`:@@cu2-project-list-bar__form-placeholder_filter-lists-and-folders:Filter Lists & Folders`,this.searchPlaceholder$=this.user$.pipe(Object(f.a)(e=>e.dashboard===l.b.Four?this.searchCleanLayoutPlaceholderMsgText:this.searchDefaultPlaceholderMsgText),Object(y.a)()),this.filterProjectFnLayout35=(e,t)=>{let i=!1;if(e&&e.name){i=e.name.toLocaleLowerCase().includes(t);const a={},o={},c={};let n=!1;(e.categories||[]).forEach(e=>{i&&(a[e.id]=!0),e.name.toLocaleLowerCase().includes(t)&&(a[e.id]=!0,n=!0),(e.subcategories||[]).forEach(i=>{a[e.id]&&(o[i.id]=!0),i.name.toLocaleLowerCase().includes(t)&&(o[i.id]=!0,n=!0,c[e.id]=!0)})});const s=Object.assign(Object.assign({},a),c);return this.searchProjectOpenMap=Object.assign(Object.assign({},this.searchProjectOpenMap),{[e.id]:{visible:i||0!==Object.keys(s).length,open:n,visibleCategoryIds:s,visibleSubIds:o,openCategoryIds:c}}),this.searchProjectOpenMap[e.id].visible}return!0}}ngOnInit(){Object(b.a)([this.isOpenedMap$,this.user$]).pipe(Object(w.a)(([e,t])=>t&&(t.dashboard===l.b.Five||t.dashboard===l.b.Four||t.dashboard===l.b.Six)),Object(y.a)((e,t)=>{const i=e[0],a=t[0];return Object(S.a)(i,a)})).subscribe(([e,t])=>{const i=Object.keys(e).find(t=>e[t]);i&&this.store.dispatch(new s.sd({id:i}))}),this.router.events.pipe(Object(k.a)("start"),Object(w.a)(e=>"start"===e||e instanceof p.c),Object(v.a)(this.store.select(r.getTeam),this.store.select(I.f)),Object(x.a)(this.destroy$)).subscribe(([e,t,i])=>{i&&"Team"===i.locationType&&t&&t.projects&&0===t.projects.length&&this.sharedData.compatCurrentTeam.role!==l.f.GUEST&&this.create()}),Object(b.a)([this.store.pipe(Object(g.select)(r.getProjects),Object(w.a)(e=>!!e),Object(y.a)(S.a),Object(v.a)(this.store.select(r.getProjectListFeaturesMap),this.store.select(r.getTeam))),this.store.select(r.getCategoriesMap),this.store.select(r.getSidebarShowArchivedOption)]).pipe(Object(x.a)(this.destroy$)).subscribe(([[e,t,i],a,o])=>{e=(e||[]).filter(e=>!e.archived||o&&e.archived);const c=(t[i.id]||[]).reduce((e,t)=>(e[t.id]=t,e),{});let n=[];this.projectListVisible=(e||[]).map(e=>{let t=Object.assign({},e);return!e.hasOwnProperty("default_category")&&c[e.id]&&(t=Object.assign(Object.assign({},t),c[e.id])),a[t.id]&&(n=[...n,...a[t.id]]),a[t.id]?Object.assign(Object.assign({},t),{categories:a[t.id]}):t}),this.projectListHidden=this.projectListVisible.filter(e=>e.hidden),this.projectListVisible=this.projectListVisible.filter(e=>!e.hidden),this.categories$.next(n),this.changeDetectorRef.detectChanges()}),Object(b.a)([this.project$.pipe(Object(y.a)((e,t)=>!(e&&!t||t&&!e||t.id!==e.id))),this.sharedSpaceParam$]).pipe(Object(x.a)(this.destroy$)).subscribe(([e,t])=>{const i=e&&!1!==e.access&&e.id||(t?c.h:null);this.navService.expandCurrentProject$.next(i&&i!==c.a&&(!t||t&&i===c.h)?i:void 0),e&&e.hidden&&this.navService.setHiddenProjects(!0)}),this.selectedCategoryId$.pipe(Object(x.a)(this.destroy$)).subscribe(e=>{this.navService.expandCurrentCategory$.next(e&&e!==c.a?e:void 0)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}create(){this.navService.onSpaceCreate.emit()}moveFolderOrList(e){"folder"!==e.source&&"list"!==e.source||this.store.pipe(Object(g.select)(r.getCategoriesMap),Object(v.a)(this.store.select(Object(r.getProjectById)(e.project))),Object(T.a)(1)).subscribe(([t,i])=>{const n=(t[e.project]||[]).find(t=>t.id===("folder"===e.source?e.id:e.folderless||e.category));if(n)if("folder"===e.source)this.navService.moveCategory(n,e.newProject.id,null,e.newProject.name,!0,!0,i.id,i.name).subscribe();else{const t=n.subcategories.find(t=>t.id===e.id);if(t)if(t.sprint){const n=this.modalService.openComponent(o.a,this.injector,{title:this.commonStringsService.moveSprintText});n.instance.onConvert.pipe(Object(x.a)(n.instance.destroy$)).subscribe(()=>{this.navService.moveSection(t,c.d,"",!1,e.newProject.id,!0,!0,!0,i.id,e.newProject.name).subscribe()}),n.instance.onCopy.pipe(Object(x.a)(n.instance.destroy$)).subscribe(()=>{const i=this.modalService.openComponent(a.a,this.injector,{title:this.commonStringsService.copyListText});i.instance.section=t,i.instance.type="list",i.instance.newProject=e.newProject,i.instance.selectCategoryProject(e.newProject)})}else this.navService.moveSection(t,c.d,"",!1,e.newProject.id,!0,!0,!0,i.id,e.newProject.name).subscribe()}})}toggleOpenState(e,t){this.navService.setProjectOpenState(e.id,t)}toggleHiddenProjects(e){this.navService.setHiddenProjects(e)}toggleCategoryOpenState({categoryId:e,isOpened:t}){this.navService.setCategoryOpenState(e,t)}toggleHide({project:e,data:t}){const i=Object.assign(Object.assign({},e),{hidden:t.hidden});t.hidden?(this.projectListVisible=this.projectListVisible.filter(e=>e.id!==i.id),this.projectListHidden=[...this.projectListHidden,i]):(this.projectListHidden=this.projectListHidden.filter(e=>e.id!==i.id),this.projectListVisible=[...this.projectListVisible,i]);const a=[...this.projectListVisible,...this.projectListHidden],o=a.findIndex(e=>e.id===i.id);-1!==o&&this.dataService.changeProjectPosition(i.id,o).subscribe(()=>{this.navService.onSpaceReordered.emit(),this.store.dispatch(new s.Uj(a,"project hide"))})}drop(e,t=!1){const i=e.previousIndex,a=e.currentIndex;this.projectListVisible=[...this.projectListVisible],this.projectListHidden=[...this.projectListHidden],Object(O.g)(t?this.projectListHidden:this.projectListVisible,i,a),this.changeDetectorRef.markForCheck(),this.dataService.changeProjectPosition(e.item.data.id,t?a+this.projectListVisible.length:a).subscribe(()=>{this.navService.onSpaceReordered.emit(),this.store.dispatch(new s.Uj([...this.projectListVisible,...this.projectListHidden],"d&d project"))})}dropCategory(e){this.store.dispatch(new s.kc(e))}setCreateListStateChange({id:e,state:t}){this.store.dispatch(new s.Yi(e,t))}createList({id:e,name:t,projectId:i}){this.store.dispatch(new s.Jb({projectId:i,id:e,name:t,redirect:!0,renameOnInit:!0}))}dropView({id:e,parent:t}){this.store.dispatch(new s.we(e,t))}toggleSharedWithMe(){this.isOpenedMap$.pipe(Object(T.a)(1)).subscribe(e=>{this.navService.setProjectOpenState(c.h,!e[c.h])})}}return e.\u0275fac=function(t){return new(t||e)(u.Wb($.a),u.Wb(p.h),u.Wb(z.a),u.Wb(M.a),u.Wb(u.h),u.Wb(E.a),u.Wb(g.Store),u.Wb(u.t),u.Wb(L.b),u.Wb(A.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["cu2-project-list-bar"]],hostAttrs:[1,"cu2-project-list-bar"],inputs:{modifier:"modifier",width:"width",convos:"convos",docs:"docs",convoDocMap:"convoDocMap",isExpandedSidebarSpaces:"isExpandedSidebarSpaces",scrollContainer:"scrollContainer"},outputs:{spacesBarExpanded:"spacesBarExpanded",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose",toggleSidebarSpaces:"toggleSidebarSpaces"},ngContentSelectors:bi,decls:18,vars:19,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p;return e=$localize`:@@common_spaces␟041a8f5e357685f1af16ffb9ffda7f2db6dcef20␟660809762116764762:Spaces`,t=$localize`:@@common_spaces␟041a8f5e357685f1af16ffb9ffda7f2db6dcef20␟660809762116764762:Spaces`,i=$localize`:@@common_shared-with-me␟74fe8bb58202f7bf4052676d47b5868870f31df5␟7305414812372868311: Shared with me `,a=$localize`:@@common_back␟cda31dbd724cf5f4fa7a4274d9120651490c8a8c␟8890553633144307762:Back`,o=$localize`:@@common_add-new␟52cb3a1dbc20365867f39819932e43d19542474d␟4948407374074297419:Add new`,c=$localize`:@@common_no-spaces-found␟a0aba0a6d8856be5185b62d742f6e73afee7425f␟7330640928513138281: No Spaces found `,n=$localize`:@@common_add-space␟10787578616d94d3b6727c3125bd2e81dcceabd5␟1890546818224860441: Add Space `,s=$localize`:@@common_conversations-with-access␟b0490b385c1313eb2ee165cd155c851442b35641␟6040164447694449903:All Conversations that you have access to`,r=$localize`:@@common_docs-with-access␟239037ad6ba9bd40f60976bfa1f975a82ccb5f70␟4842177638011947877:All Docs that you have access to`,l=$localize`:@@common_everything␟92c929b31bfc7acf1a46b8a66d1d8340a8de5498␟6469287219647529578: Everything `,d=$localize`:@@common_shared-with-me␟390cea1acd6b092d68a33f8c67d4da31c032fec6␟6560782104891257793: Shared with me `,u=$localize`:@@common_shared-with-me␟faed3331fc2986525dfb414e4547af49aebd3a4a␟231920238966427751:Shared with me`,p=$localize`:@@common_shared-with-me␟faed3331fc2986525dfb414e4547af49aebd3a4a␟231920238966427751:Shared with me`,[[1,"cu2-project-list-bar__body"],[3,"ngTemplateOutlet",4,"ngIf"],["class","cu2-project-list-bar__divider",4,"ngIf"],[3,"filterfn","items","secondaryItems","modifierSearchInput","withLabel","hideSearchInput","closeIcon","blurOnClear","placeholder","autoFocus",4,"ngIf"],["rowEverything",""],["rowSharedWithMe",""],["sharedContent",""],[3,"ngTemplateOutlet"],[1,"cu2-project-list-bar__divider"],[3,"filterfn","items","secondaryItems","modifierSearchInput","withLabel","hideSearchInput","closeIcon","blurOnClear","placeholder","autoFocus"],["searchList",""],[4,"ngIf"],[1,"cu2-project-list-bar__scrollable"],["projectListContainer",""],["cuDropdown","","class","cu2-project-list-bar__new",3,"dropdownPlacement","dropdownOpen","dropdownClose",4,"ngIf"],[3,"items","pageSize","bottomPadding","scrollContainer"],["lazyList",""],["cdkDropList","","cdkDropListOrientation","vertical",1,"cu2-project-list-bar__inner",3,"cdkDropListDropped"],["cdkDrag","","cuDragScroll","",3,"project","selected","dragIds","connectedDragIds","category","convos","docs","cdkDragDisabled","selectedChildren","isDraggingFolder","isDraggingOutsideList","isCollapsed","isOpened","isCategoryOpenedMap","selectedCategoryId","selectedSubcategoryId","searchProjectOpenMap","layoutType","layoutSize","showCreateFolderList","createListStateMap","cdkDragStartDelay","cdkDragData","cuDragScrollContainer","scrollContainer","onToggle","onToggleCategory","onDropCategory","onSetCreateListState","onCreateList","onDropView","onMoveFolderOrList","dropdownOpen","dropdownClose","onToggleHide",4,"ngFor","ngForOf","ngForTrackBy"],[3,"expanded","projects","scrollContainer","sharedSpaceParam","selectedProject","dragIds","connectedDragIds","convoDocMap","user","category","searchProjectOpenMap","selectedChildren","isCollapsed","isOpenedMap","isCategoryOpenedMap","selectedCategoryId","selectedSubcategoryId","createListStateMap","isTouchDevice","onToggle","onDropCategory","onSetCreateListState","onCreateList","onDropView","onDrop","onMoveFolderOrList","dropdownOpen","dropdownClose","onToggleHide",4,"ngIf"],["class","cu2-project-list-bar__hint",4,"ngIf"],["class","cu2-project-list-bar__add",3,"click",4,"ngIf"],[1,"cu2-project-list-bar__label",3,"routerLink"],e,["data-test","space-project-list-bar-title",1,"cu2-project-list-bar__title",3,"click"],["class","cu2-project-list-bar__title-back",3,"cuPreventDefault","routerLink","cuTooltip","click",4,"ngIf"],["icon","cu2-angle-right",1,"cu2-project-list-bar__title-arrow"],["class","cu2-project-list-bar__title-border",4,"ngIf"],t,i,[1,"cu2-project-list-bar__title-back",3,"cuPreventDefault","routerLink","cuTooltip","click"],["icon","cu3-back",1,"cu2-project-list-bar__title-back-icon"],a,[1,"cu2-project-list-bar__title-border"],["cuDropdown","",1,"cu2-project-list-bar__new",3,"dropdownPlacement","dropdownOpen","dropdownClose"],["data-test","create-project-btn","cuDropdownToggle","",1,"cu2-project-list-bar__new-toggle"],[1,"cu2-project-list-bar__new-icon",3,"icon"],o,["class","cu-dropdown__menu_overflow-hidden",4,"cuDropdownMenu"],[1,"cu-dropdown__menu_overflow-hidden"],[3,"title"],["data-test","create-space-btn",3,"item","click"],["cdkDrag","","cuDragScroll","",3,"project","selected","dragIds","connectedDragIds","category","convos","docs","cdkDragDisabled","selectedChildren","isDraggingFolder","isDraggingOutsideList","isCollapsed","isOpened","isCategoryOpenedMap","selectedCategoryId","selectedSubcategoryId","searchProjectOpenMap","layoutType","layoutSize","showCreateFolderList","createListStateMap","cdkDragStartDelay","cdkDragData","cuDragScrollContainer","scrollContainer","onToggle","onToggleCategory","onDropCategory","onSetCreateListState","onCreateList","onDropView","onMoveFolderOrList","dropdownOpen","dropdownClose","onToggleHide"],["projectListItem",""],[3,"expanded","projects","scrollContainer","sharedSpaceParam","selectedProject","dragIds","connectedDragIds","convoDocMap","user","category","searchProjectOpenMap","selectedChildren","isCollapsed","isOpenedMap","isCategoryOpenedMap","selectedCategoryId","selectedSubcategoryId","createListStateMap","isTouchDevice","onToggle","onDropCategory","onSetCreateListState","onCreateList","onDropView","onDrop","onMoveFolderOrList","dropdownOpen","dropdownClose","onToggleHide"],[1,"cu2-project-list-bar__hint"],[1,"cu2-project-list-bar__hint-icon"],[1,"cu2-project-list-bar__hint-label"],c,[1,"cu2-project-list-bar__add",3,"click"],["icon","cu2-plus","tooltipModifier","cu2-project-list-bar__tooltip","tooltipDelay","300",1,"cu2-project-list-bar__add-icon",3,"cuTooltip"],[1,"cu2-project-list-bar__add-title"],n,["class","cu2-project-list-bar__row","tooltipModifier","cu2-project-list-bar__tooltip","tooltipDelay","300",3,"ngClass","routerLink","cuTooltip",4,"ngIf"],["convosTooltip",s,"docsTooltip",r,3,"convos","docs",4,"ngIf"],["tooltipModifier","cu2-project-list-bar__tooltip","tooltipDelay","300",1,"cu2-project-list-bar__row",3,"ngClass","routerLink","cuTooltip"],[1,"cu2-project-list-bar__compact"],[1,"cu2-project-list-bar__compact-btn","cu2-project-list-bar__compact-btn_everything",3,"icon"],[1,"cu2-project-list-bar__expanding"],l,["convosTooltip",s,"docsTooltip",r,3,"convos","docs"],["class","cu2-project-list-bar__row","cuLink","",3,"cu2-project-list-bar__row_active","routerLink",4,"ngIf","ngIfElse"],["isNotGuest",""],["cuLink","",1,"cu2-project-list-bar__row",3,"routerLink"],["tooltipModifier","cu2-project-list-bar__tooltip",1,"cu2-project-list-bar__compact",3,"cuTooltip"],["icon","cu2-share-folder",1,"cu2-project-list-bar__compact-btn","cu2-project-list-bar__compact-btn_shared"],d,[4,"ngIf","ngIfElse"],["layoutFour",""],[1,"cu2-project-list-bar__row",3,"click"],["class","cu2-project-list-bar__caret",3,"ngClass","icon",4,"ngIf"],[1,"cu2-project-list-bar__compact-btn","cu2-project-list-bar__compact-btn_member-plus",3,"icon"],[1,"cu2-project-list-bar__link"],["class","cu2-project-list-bar__link-text",3,"cu2-project-list-bar__link-text_active",4,"ngIf","ngIfElse"],["rowSharedWithMeLink",""],[1,"cu2-project-list-bar__caret",3,"ngClass","icon"],[1,"cu2-project-list-bar__link-text"],u,["cuLink","",1,"cu2-project-list-bar__link-text",3,"routerLink","cuPreventDefault"],p]},template:function(e,t){if(1&e&&(u.Cc(hi),u.cc(0,"div",0),u.bd(1,zt,1,1,"ng-container",1),u.vc(2,"async"),u.vc(3,"async"),u.bd(4,Mt,1,0,"div",2),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.bd(8,Zt,35,65,"cu-search-list",3),u.vc(9,"async"),u.vc(10,"async"),u.vc(11,"async"),u.bc(),u.bd(12,ei,8,14,"ng-template",null,4,u.cd),u.bd(14,ri,5,7,"ng-template",null,5,u.cd),u.bd(16,mi,12,13,"ng-template",null,6,u.cd)),2&e){let e=null,i=null,a=null;u.Ib(1),u.Dc("ngIf",(null==(e=u.wc(2,3,t.user$))?null:e.dashboard)===t.LayoutVersion.Four&&u.wc(3,5,t.isGuest$)),u.Ib(3),u.Dc("ngIf",((null==(i=u.wc(5,7,t.user$))?null:i.dashboard)===t.LayoutVersion.Three||(null==(i=u.wc(6,9,t.user$))?null:i.dashboard)===t.LayoutVersion.Four)&&u.wc(7,11,t.isSpacesBarCollapsed$)),u.Ib(4),u.Dc("ngIf",(null==(a=u.wc(9,13,t.user$))?null:a.dashboard)===t.LayoutVersion.Five||(null==(a=u.wc(10,15,t.user$))?null:a.dashboard)===t.LayoutVersion.Six||!u.wc(11,17,t.isGuest$))}},directives:[F.q,F.x,U.a,N.a,O.d,F.p,p.k,R.a,G.a,q.a,B.b,W.a,V.a,X.a,H.a,Tt,O.a,we.a,$t,F.o,_e.a,ge.a],pipes:[F.b],styles:['.cu2-project-list-bar{height:100%;min-height:0;min-width:0}.cu2-project-list-bar__new-toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;justify-content:center;margin:5px 20px;border-radius:5px;height:24px;cursor:pointer;text-transform:uppercase;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;background:#f3f4f7}.cu-simple-bar.dark-theme .cu2-project-list-bar__new-toggle,.dark-theme .cu2-project-list-bar__new-toggle{background:#384047}.cu2-project-list-bar__new-toggle:hover,.cu2-project-list-bar__new.cu-dropdown_open .cu2-project-list-bar__new-toggle{background:#e4e4e4}.dark-theme .cu2-project-list-bar__new-toggle:hover,.dark-theme .cu2-project-list-bar__new.cu-dropdown_open .cu2-project-list-bar__new-toggle{background:#191f25}.cu2-project-list-bar__new-icon{width:10px;height:10px;margin-right:5px;fill:#7c828d}.cu2-project-list-bar__body{height:100%;display:flex;flex-direction:column}.cu2-project-list-bar cu-search-list{display:flex;flex-direction:column;min-height:0;position:relative}.cu2-project-list-bar .cu-search-input{align-self:flex-end}.cu2-project-list-bar .cu-search-input_active{align-self:auto}.cu2-project-list-bar .cu-search-input_active .cu-search-input__inner{background:#fff}.dark-theme .cu2-project-list-bar .cu-search-input_active .cu-search-input__inner{background:#2b343b;border-color:#1e272e}.cu-left-sidebar.dark-theme .cu2-project-list-bar .cu-search-input_active .cu-search-input__inner,.cu-simple-bar.dark-theme .cu2-project-list-bar .cu-search-input_active .cu-search-input__inner{background:#20262b}.cu2-spaces-bar_v4 .cu2-project-list-bar .cu-search-input{position:sticky;top:0;z-index:50}.cu-simple-bar .cu2-project-list-bar .cu-search-input{z-index:100;position:sticky;top:0;margin-right:30px}.cu-simple-bar .cu2-project-list-bar .cu-search-input_active{margin-right:7px;margin-left:7px}.cu2-project-list-bar__scrollable{flex-grow:1;margin-top:-5px;overflow-x:hidden;overflow-y:auto;background:#fff}.cu-os-win .cu2-project-list-bar__scrollable{scrollbar-width:thin}.cu-os-win .cu2-project-list-bar__scrollable::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu2-project-list-bar__scrollable::-webkit-scrollbar-track,.cu-os-win .cu2-project-list-bar__scrollable::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu2-project-list-bar__scrollable::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu2-project-list-bar__scrollable::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu2-project-list-bar__scrollable::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar,.cu-os-win .dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar,.cu-os-win.dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-track{background-color:#2b343b}.cu-os-win.dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-track:hover{background-color:#2b343b}.cu-os-win.dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu2-project-list-bar__scrollable::-webkit-scrollbar-thumb:hover{border-color:#2b343b}.dark-theme .cu2-project-list-bar__scrollable{background:#2b343b}.cu-left-sidebar.dark-theme .cu2-project-list-bar__scrollable,.cu-simple-bar.dark-theme .cu2-project-list-bar__scrollable{background:#20262b}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu2-project-list-bar__scrollable{background:#2b343b}.cu-simple-bar .cu2-project-list-bar__scrollable{margin-top:0;overflow:hidden}.cu-simple-bar .cu2-project-list-bar__scrollable.cu2-project-list-bar__scrollable_expanded{padding-bottom:18px;overflow:visible}.cu2-sidebar__body_v5 .cu2-project-list-bar__scrollable{padding-bottom:60px}.cu2-project-list-bar__scrollable:before{content:"";display:block;position:sticky;width:100%;top:0;height:5px;z-index:1;pointer-events:none;background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu2-project-list-bar__scrollable:before{background:linear-gradient(180deg,#2b343b 0,rgba(43,52,59,0))}.cu-left-sidebar.dark-theme .cu2-project-list-bar__scrollable:before,.cu-simple-bar.dark-theme .cu2-project-list-bar__scrollable:before{background:linear-gradient(180deg,#20262b 0,rgba(32,38,43,0))}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu2-project-list-bar__scrollable:before{background:linear-gradient(180deg,#2b343b 0,rgba(43,52,59,0))}.cu2-project-list-bar__scrollable:after{content:"";display:block;position:sticky;width:100%;bottom:-61px;height:8px;margin-top:-8px;z-index:10;pointer-events:none;background:linear-gradient(0deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu2-project-list-bar__scrollable:after{background:linear-gradient(0deg,#2b343b 0,rgba(43,52,59,0))}.cu-left-sidebar.dark-theme .cu2-project-list-bar__scrollable:after,.cu-simple-bar.dark-theme .cu2-project-list-bar__scrollable:after{background:linear-gradient(0deg,#20262b 0,rgba(32,38,43,0))}.cu-left-sidebar.dark-theme .cu2-spaces-bar .cu2-project-list-bar__scrollable:after{background:linear-gradient(0deg,#2b343b 0,rgba(43,52,59,0))}.cu2-project-list-bar__inner{display:flex;flex-direction:column}.cu2-project-list-bar__row{display:flex;align-items:center;height:40px;cursor:pointer;flex-shrink:0;position:relative}.layout-size_compact .cu2-project-list-bar__row{height:40px}.layout-size_default .cu2-project-list-bar__row{height:44px}.layout-size_large .cu2-project-list-bar__row{height:50px}.cu2-sidebar__body_v5 .cu2-project-list-bar__row{margin:0 0 2px;height:32px}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar__row{height:32px}.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar__row{height:36px}.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar__row{height:40px}.cu2-sidebar__body_v5 .cu2-project-list-bar__row:before{content:"";display:block;position:absolute;width:calc(100% - 10px - 12px);left:10px;height:100%;border-radius:4px}.cu-simple-bar .cu2-project-list-bar__row,.layout-size_compact .cu-simple-bar .cu2-project-list-bar__row,.layout-size_default .cu-simple-bar .cu2-project-list-bar__row,.layout-size_large .cu-simple-bar .cu2-project-list-bar__row{height:32px}.cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{color:var(--theme-main-color)}}.dark-theme .cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.dark-theme .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.dark-theme .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{color:var(--theme-main-color)}}.cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.dark-theme .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.dark-theme .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.dark-theme .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.cu2-spaces-bar_v4 .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.cu2-spaces-bar_v4 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{position:relative;color:#292d34}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{color:#d5d6d7}.cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{position:relative;fill:#7c828d;stroke:#7c828d}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{fill:#ababab;stroke:#ababab}.cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover:before,.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before{background:#f6f7f9}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover:before,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before{background:rgba(30,39,46,.5)}.cu-left-sidebar.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover:before,.cu-left-sidebar.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before,.cu-simple-bar.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row:hover:before,.cu-simple-bar.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before{background:#2b343b}.cu-simple-bar__body .cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{position:relative;color:#292d34}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row:hover .cu2-project-list-bar__expanding,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding{color:#d5d6d7}.cu-simple-bar__body .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{position:relative;fill:#7c828d;stroke:#7c828d}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row:hover .cu2-project-list-bar__compact-btn,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn{fill:#ababab;stroke:#ababab}.cu-simple-bar__body .cu2-project-list-bar__row:hover:before,.cu-simple-bar__body .cu2-project-list-bar__row_active:before{content:"";display:block;position:absolute;height:100%;width:100%;left:0;top:0;background:#f6f7f9}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row:hover:before,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:before{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row:hover:before,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:before{background:#2b343b}.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before,.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before,.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover:before{background:var(--theme-main-color)}}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:before,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover:before{background:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding,.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__expanding,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__expanding{color:#fff}.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn,.cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__compact-btn,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn,.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__compact-btn{fill:#fff;stroke:#fff}.cu-simple-bar__body .cu2-project-list-bar__row_active,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover{cursor:default}.cu-simple-bar__body .cu2-project-list-bar__row_active:before,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover:before{background:#7b68ee;opacity:.09}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .cu2-project-list-bar__row_active:before,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover:before{background:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:before,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:before,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover:before{background:var(--theme-main-color)}}.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:before,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:before,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover:before{background:var(--theme-main-color)}}.cu-simple-bar__body .cu2-project-list-bar__row_active:after,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;width:3px;height:100%;border-radius:0 3px 3px 0}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .cu2-project-list-bar__row_active:after,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover:after{background:var(--theme-main-color)}}.cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__expanding{color:#7b68ee;font-weight:500}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__expanding{color:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__expanding{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__expanding,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__expanding{color:var(--theme-main-color)}}.cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__compact-btn{fill:#7b68ee;stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn,.cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__compact-btn{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__compact-btn{fill:#7b68ee;stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active .cu2-project-list-bar__compact-btn,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__row_active:hover .cu2-project-list-bar__compact-btn{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.cu2-project-list-bar__caret{transition:transform .2s cubic-bezier(.785,.135,.15,.86),fill .2s cubic-bezier(.785,.135,.15,.86);flex-shrink:0;cursor:pointer;position:absolute;z-index:10;width:11px;height:11px;padding:0;left:5px;fill:#bcbfc6;transform:rotate(-90deg)}.cu2-project-list-bar__caret:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__caret:hover{fill:var(--theme-main-color)}}.cu2-project-list-bar__caret_opened{transform:rotate(0deg)}.cu2-project-list-bar__compact{display:flex;align-items:center;justify-content:center;width:50px;flex-shrink:0;stroke:#bcc0c7;fill:#bcc0c7}.layout-size_compact .cu2-project-list-bar__compact{width:50px}.layout-size_default .cu2-project-list-bar__compact{width:55px}.layout-size_large .cu2-project-list-bar__compact{width:62px}.cu2-sidebar__body_v5 .cu2-project-list-bar__compact{width:20px;margin-right:9px;margin-left:14px}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar__compact{margin-left:14px}.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar__compact{margin-left:16px}.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar__compact{margin-left:19px}.cu-simple-bar .cu2-project-list-bar__compact,.layout-size_compact .cu-simple-bar .cu2-project-list-bar__compact,.layout-size_default .cu-simple-bar .cu2-project-list-bar__compact,.layout-size_large .cu-simple-bar .cu2-project-list-bar__compact{width:50px}.cu2-project-list-bar__compact-btn{stroke:#bcc0c7;fill:#bcc0c7}.cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn{stroke:#7c828d;fill:#7c828d}.cu2-project-list-bar__compact-btn_everything,.layout-size_compact .cu2-project-list-bar__compact-btn_everything{width:14px;height:14px}.layout-size_default .cu2-project-list-bar__compact-btn_everything{width:16px;height:16px}.layout-size_large .cu2-project-list-bar__compact-btn_everything{width:18px;height:18px}.cu2-spaces-bar_v4 .cu2-project-list-bar__compact-btn_everything,.cu-simple-bar__body .cu2-project-list-bar__compact-btn_everything{stroke:#7c828d;fill:#7c828d}.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__compact-btn_everything,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__compact-btn_everything{stroke:#ababab;fill:#ababab}.cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_everything{stroke-width:1.5;width:14px;height:14px}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_everything,.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_everything,.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_everything{width:14px;height:14px}.cu-simple-bar .cu2-project-list-bar__compact-btn_everything{margin-left:10px;stroke-width:1.3;width:20px;height:20px;border-radius:4px;padding:4px;background:#e9ebf1}.dark-theme .cu-simple-bar .cu2-project-list-bar__compact-btn_everything{background:#1e272e}.layout-size_compact .cu-simple-bar .cu2-project-list-bar__compact-btn_everything,.layout-size_default .cu-simple-bar .cu2-project-list-bar__compact-btn_everything,.layout-size_large .cu-simple-bar .cu2-project-list-bar__compact-btn_everything{width:20px;height:20px}.cu-simple-bar.dark-theme .cu2-project-list-bar__compact-btn_everything{background:#384047}.cu2-project-list-bar__compact-btn_shared,.layout-size_compact .cu2-project-list-bar__compact-btn_shared{width:14px;height:14px}.layout-size_default .cu2-project-list-bar__compact-btn_shared{width:16px;height:16px}.layout-size_large .cu2-project-list-bar__compact-btn_shared{width:18px;height:18px}.cu2-spaces-bar_v4 .cu2-project-list-bar__compact-btn_shared,.cu-simple-bar__body .cu2-project-list-bar__compact-btn_shared{stroke:#7c828d;fill:#7c828d}.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__compact-btn_shared,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__compact-btn_shared{stroke:#ababab;fill:#ababab}.cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_shared,.cu-simple-bar .cu2-project-list-bar__compact-btn_shared,.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_shared,.layout-size_compact .cu-simple-bar .cu2-project-list-bar__compact-btn_shared,.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_shared,.layout-size_default .cu-simple-bar .cu2-project-list-bar__compact-btn_shared,.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_shared,.layout-size_large .cu-simple-bar .cu2-project-list-bar__compact-btn_shared{width:14px;height:14px}.cu2-project-list-bar__compact-btn_member-plus{width:16px;height:16px;stroke:transparent!important}.layout-size_compact .cu2-project-list-bar__compact-btn_member-plus{width:16px;height:16px}.layout-size_default .cu2-project-list-bar__compact-btn_member-plus{width:17px;height:17px}.layout-size_large .cu2-project-list-bar__compact-btn_member-plus{width:19px;height:19px}.cu2-spaces-bar_v4 .cu2-project-list-bar__compact-btn_member-plus,.cu-simple-bar__body .cu2-project-list-bar__compact-btn_member-plus{fill:#7c828d}.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__compact-btn_member-plus,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__compact-btn_member-plus{fill:#ababab}.cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_member-plus,.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_member-plus,.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_member-plus,.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar__compact-btn_member-plus{width:16px;height:16px}.cu-simple-bar .cu2-project-list-bar__compact-btn_member-plus{margin-left:10px;stroke-width:1.3;width:20px;height:20px;border-radius:4px;padding:2px;background:#e9ebf1}.dark-theme .cu-simple-bar .cu2-project-list-bar__compact-btn_member-plus{background:#1e272e}.layout-size_compact .cu-simple-bar .cu2-project-list-bar__compact-btn_member-plus,.layout-size_default .cu-simple-bar .cu2-project-list-bar__compact-btn_member-plus,.layout-size_large .cu-simple-bar .cu2-project-list-bar__compact-btn_member-plus{width:20px;height:20px}.cu-simple-bar.dark-theme .cu2-project-list-bar__compact-btn_member-plus{background:#384047}.cu2-project-list-bar__expanding{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;flex-grow:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-project-list-bar__expanding{font-family:var(--global-font-support)}}.dark-theme .cu2-project-list-bar__expanding{color:#d5d6d7}.layout-size_compact .cu2-project-list-bar__expanding{font-size:12px}.layout-size_default .cu2-project-list-bar__expanding{font-size:13px}.layout-size_large .cu2-project-list-bar__expanding{font-size:14px}.cu2-sidebar__body_v5 .cu2-project-list-bar__expanding{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:13px}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar__expanding{font-size:13px}.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar__expanding{font-size:14px}.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar__expanding{font-size:15px}.cu-simple-bar__body .cu2-project-list-bar__expanding{font-size:13px;font-weight:400;color:#3d4249}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__expanding{color:#d5d6d7}.layout-size_compact .cu-simple-bar__body .cu2-project-list-bar__expanding,.layout-size_default .cu-simple-bar__body .cu2-project-list-bar__expanding,.layout-size_large .cu-simple-bar__body .cu2-project-list-bar__expanding{font-size:13px}.cu2-project-list-bar__hint{display:flex;align-items:center;height:40px;flex-shrink:0}.cu2-project-list-bar__hint-icon{display:flex;align-items:center;justify-content:center;width:50px;flex-shrink:0;position:relative}.layout-size_compact .cu2-project-list-bar__hint-icon{width:50px}.layout-size_default .cu2-project-list-bar__hint-icon{width:55px}.layout-size_large .cu2-project-list-bar__hint-icon{width:62px}.cu-simple-bar .cu2-project-list-bar__hint-icon,.layout-size_compact .cu-simple-bar .cu2-project-list-bar__hint-icon,.layout-size_default .cu-simple-bar .cu2-project-list-bar__hint-icon,.layout-size_large .cu-simple-bar .cu2-project-list-bar__hint-icon{width:50px}.cu2-project-list-bar__hint-icon:before{content:"";display:block;position:relative;width:10px;height:2px;border-radius:1px;background:#e9ebf0}.dark-theme .cu2-project-list-bar__hint-icon:before{background:#828588}.cu2-project-list-bar__hint-label{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;flex-grow:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-project-list-bar__hint-label{font-family:var(--global-font-support)}}.dark-theme .cu2-project-list-bar__hint-label{color:#d5d6d7}.layout-size_compact .cu2-project-list-bar__hint-label{font-size:12px}.layout-size_default .cu2-project-list-bar__hint-label{font-size:13px}.layout-size_large .cu2-project-list-bar__hint-label{font-size:14px}.cu-simple-bar .cu2-project-list-bar__hint-label,.layout-size_compact .cu-simple-bar .cu2-project-list-bar__hint-label,.layout-size_default .cu-simple-bar .cu2-project-list-bar__hint-label,.layout-size_large .cu-simple-bar .cu2-project-list-bar__hint-label{font-weight:500;font-size:12px;line-height:1}.cu2-project-list-bar__add{display:flex;align-items:center;height:40px;cursor:pointer}.cu-simple-bar .cu2-project-list-bar__add{height:32px}.cu2-project-list-bar__add:hover .cu2-project-list-bar__add-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__add:hover .cu2-project-list-bar__add-icon{fill:var(--theme-main-color)}}.cu2-project-list-bar__add:hover .cu2-project-list-bar__add-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__add:hover .cu2-project-list-bar__add-title{color:var(--theme-main-color)}}.cu2-project-list-bar__add-icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;width:50px;flex-shrink:0;fill:#bcc0c7}.dark-theme .cu2-project-list-bar__add-icon{fill:#abaeb0}.layout-size_compact .cu2-project-list-bar__add-icon{width:50px}.layout-size_default .cu2-project-list-bar__add-icon{width:55px}.layout-size_large .cu2-project-list-bar__add-icon{width:62px}.cu2-sidebar__body_v5 .cu2-project-list-bar__add-icon{width:36px;padding-left:5px}.cu-simple-bar .cu2-project-list-bar__add-icon,.layout-size_compact .cu-simple-bar .cu2-project-list-bar__add-icon,.layout-size_default .cu-simple-bar .cu2-project-list-bar__add-icon,.layout-size_large .cu-simple-bar .cu2-project-list-bar__add-icon{width:50px}.cu2-project-list-bar__add-icon svg,.layout-size_compact .cu2-project-list-bar__add-icon svg{width:10px;height:10px}.layout-size_default .cu2-project-list-bar__add-icon svg{width:11px;height:11px}.layout-size_large .cu2-project-list-bar__add-icon svg{width:12px;height:12px}.cu-simple-bar .cu2-project-list-bar__add-icon svg{margin-left:10px;width:10px;height:10px}.layout-size_compact .cu-simple-bar .cu2-project-list-bar__add-icon svg,.layout-size_default .cu-simple-bar .cu2-project-list-bar__add-icon svg,.layout-size_large .cu-simple-bar .cu2-project-list-bar__add-icon svg{width:10px;height:10px}.cu2-project-list-bar__add-title{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;color:#bcc0c7}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-project-list-bar__add-title{font-family:var(--global-font-support)}}.dark-theme .cu2-project-list-bar__add-title{color:#abaeb0}.layout-size_compact .cu2-project-list-bar__add-title{font-weight:400;font-size:12px;line-height:1}.layout-size_default .cu2-project-list-bar__add-title{font-weight:400;font-size:13px;line-height:1}.layout-size_large .cu2-project-list-bar__add-title{font-weight:400;font-size:14px;line-height:1}.cu-simple-bar .cu2-project-list-bar__add-title,.layout-size_compact .cu-simple-bar .cu2-project-list-bar__add-title,.layout-size_default .cu-simple-bar .cu2-project-list-bar__add-title,.layout-size_large .cu-simple-bar .cu2-project-list-bar__add-title{font-weight:400;font-size:12px;line-height:1}.cu2-project-list-bar__pin{transition:transform .2s cubic-bezier(.785,.135,.15,.86),fill .2s cubic-bezier(.785,.135,.15,.86);width:50px;height:34px;padding:11px 20px;fill:#bcc0c7;cursor:pointer;position:absolute;z-index:10;transform:translateY(-2px)}.cu2-project-list-bar__pin:hover{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu2-project-list-bar__pin:hover{fill:var(--theme-main-color-dark)}}.cu2-project-list-bar__pin:active{transform:translateY(0)}.cu2-project-list-bar__pin_active{fill:#7b68ee;transform:translateY(0)}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__pin_active{fill:var(--theme-main-color)}}.cu2-project-list-bar__pin_active:active{transform:translateY(-2px);fill:#bcc0c7}.layout-size_compact .cu2-project-list-bar__pin{width:50px;padding:11px 20px}.layout-size_default .cu2-project-list-bar__pin{width:55px;padding:10px 20px}.layout-size_large .cu2-project-list-bar__pin{width:62px;padding:9px 20px}.cu2-project-list-bar__tooltip{transform:translate(-15px,-50%)}.cu2-project-list-bar__tooltip .tooltip__triangle{left:10px}.cu2-project-list-bar__tooltip-close{transform:translate(-15px,-150%)}.cu2-project-list-bar__tooltip-close .tooltip__triangle{left:10px}.cu2-project-list-bar__divider{margin:10px 0 -22px;padding:0 10px;width:50px}.layout-size_compact .cu2-project-list-bar__divider{width:50px}.layout-size_default .cu2-project-list-bar__divider{width:55px}.layout-size_large .cu2-project-list-bar__divider{width:62px}.cu2-spaces-bar_v4 .cu2-project-list-bar__divider,.cu-simple-bar .cu2-project-list-bar__divider{margin:10px 0 -30px}.cu2-project-list-bar__divider:before{content:"";display:block;position:relative;height:1px;background:#e9ebf0}.dark-theme .cu2-project-list-bar__divider:before{background:#1e272e}.cu2-project-list-bar__search.cu-search-input__inner{display:flex;align-items:center;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;height:30px;position:relative;margin:2px 7px 5px 40px;visibility:hidden;opacity:0;padding:0 10px;z-index:100;border:1px solid #e4e4e4}.dark-theme .cu2-project-list-bar__search.cu-search-input__inner{border-color:#1e272e}.cu2-spaces-bar_v4 .cu2-project-list-bar__search.cu-search-input__inner,.layout-size_compact .cu2-spaces-bar_v4 .cu2-project-list-bar__search.cu-search-input__inner{margin:2px 6px 5px}.layout-size_default .cu2-spaces-bar_v4 .cu2-project-list-bar__search.cu-search-input__inner{margin:2px 6px 5px 9px}.layout-size_large .cu2-spaces-bar_v4 .cu2-project-list-bar__search.cu-search-input__inner{margin:2px 6px 5px 12px}.cu2-sidebar__body_v5 .cu2-project-list-bar__search.cu-search-input__inner{visibility:visible;opacity:1;margin:2px 15px 5px}.cu2-sidebar__body_v5 .cu2-project-list-bar__search.cu-search-input__inner:hover .cu-search-input__icon{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .cu2-project-list-bar__search.cu-search-input__inner:hover .cu-search-input__icon{stroke:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar__search.cu-search-input__inner .cu-search-input__icon{stroke:#b9bec7}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__search.cu-search-input__inner .cu-search-input__icon{stroke:#828588}.cu-simple-bar .cu2-project-list-bar__search.cu-search-input__inner{margin:9px 0;border:0}.cu2-project-list-bar__search .cu-search-input__close{fill:#7c828d}.dark-theme .cu2-project-list-bar__search .cu-search-input__close{fill:#828588}.cu-simple-bar .cu2-project-list-bar__search .cu-search-input__close{transform:rotate(45deg);fill:#fff}.dark-theme .cu-simple-bar .cu2-project-list-bar__search .cu-search-input__close{fill:#fff}.cu2-project-list-bar__label{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/11px Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;text-transform:uppercase;text-decoration:none;cursor:pointer;position:absolute;top:12px;padding-left:16px}.layout-size_compact .cu2-project-list-bar__label{padding-left:16px}.layout-size_default .cu2-project-list-bar__label{padding-left:19px}.layout-size_large .cu2-project-list-bar__label{padding-left:22px}.cu2-project-list-bar__label_nolink{pointer-events:none}.cu2-sidebar__body_v5 .cu2-project-list-bar__label{font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;text-transform:capitalize;color:#292d34}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar__label{color:#d5d6d7}.cu2-spaces-bar_v4 .cu2-project-list-bar__label{height:37px;top:0;width:100%;display:flex;align-items:center;position:sticky;margin-top:-37px;z-index:40;flex-shrink:0;background:#fff}.dark-theme .cu2-spaces-bar_v4 .cu2-project-list-bar__label{background:#2b343b}.cu2-project-list-bar__label:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__label:hover{color:var(--theme-main-color)}}.cu2-project-list-bar__label.cu2-project-list-bar__label-disabled{pointer-events:none}.cu2-project-list-bar__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:sticky;top:0;margin-top:-48px;width:100%;z-index:100;font:400 13px/40px Gotham Pro,Proxima Nova,arial,serif;padding:0 24px;cursor:pointer;color:#979797;background:#fff}.dark-theme .cu2-project-list-bar__title{color:#abaeb0;background:#2b343b}.cu-simple-bar .cu2-project-list-bar__title{display:flex;align-items:center;font:600 11px/47px Gotham Pro,Proxima Nova,arial,serif;text-transform:uppercase;padding:1px 20px 0;flex-shrink:0;top:-1px}.cu-left-sidebar.dark-theme .cu2-project-list-bar__title,.cu-simple-bar.dark-theme .cu2-project-list-bar__title{background:#20262b}.cu2-project-list-bar__title:hover{background:#f8f9f9}.dark-theme .cu2-project-list-bar__title:hover{background:#384047}.cu-left-sidebar.dark-theme .cu2-project-list-bar__title:hover,.cu-simple-bar.dark-theme .cu2-project-list-bar__title:hover{background:#2b343b}.cu2-project-list-bar__title_active{z-index:20;font-weight:500;color:#53575e}.dark-theme .cu2-project-list-bar__title_active{color:#d5d6d7}.cu2-project-list-bar__title_no-search{margin-top:0}.cu-simple-bar__body .cu2-project-list-bar__title-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:4px;height:11px;margin-left:auto;fill:#7c828d}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__title-arrow{fill:#abaeb0}.cu-simple-bar__body .cu2-project-list-bar__title_active .cu2-project-list-bar__title-arrow{transform:rotate(90deg)}.cu-simple-bar__body .cu2-project-list-bar__title:hover .cu2-project-list-bar__title-arrow,.cu-simple-bar__body .cu2-project-list-bar__title_active .cu2-project-list-bar__title-arrow{fill:#53575e}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__title:hover .cu2-project-list-bar__title-arrow,.dark-theme .cu-simple-bar__body .cu2-project-list-bar__title_active .cu2-project-list-bar__title-arrow{fill:#d5d6d7}.cu2-project-list-bar__title-back{display:flex;align-items:center;text-transform:none;height:20px;border-radius:4px;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;padding:0 4px;margin-top:-2px;margin-left:12px;color:#7c828d;background:#e9ebf0}.dark-theme .cu2-project-list-bar__title-back{background:#1e272e}.cu-simple-bar.dark-theme .cu2-project-list-bar__title-back{background:#384047}.cu2-project-list-bar__title-back:hover{color:#7b68ee;background:#e4e4e4}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__title-back:hover{color:var(--theme-main-color)}}.dark-theme .cu2-project-list-bar__title-back:hover{background:#191f25}.cu2-project-list-bar__title-back:hover .cu2-project-list-bar__title-back-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-project-list-bar__title-back:hover .cu2-project-list-bar__title-back-icon{fill:var(--theme-main-color)}}.cu2-project-list-bar__title-back-icon{width:12px;height:12px;margin-right:4px;fill:#7c828d}.cu-simple-bar__body .cu2-project-list-bar__title-border{height:1px;flex-shrink:0;position:sticky;margin-top:-1px;top:47px;z-index:15;background:#e9ebf0}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__title-border{background:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__title-border,.cu-simple-bar.dark-theme .cu-simple-bar__body .cu2-project-list-bar__title-border{background:#384047}.cu2-project-list-bar .nav-menu_cog{position:absolute;right:45px;top:5px;visibility:hidden;opacity:0}.cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog{right:50px}.cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog.cu-dropdown_open .nav-menu__toggle{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog.cu-dropdown_open .nav-menu__toggle{fill:var(--theme-main-color)}}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog.cu-dropdown_open .nav-menu__toggle{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog.cu-dropdown_open .nav-menu__toggle{fill:var(--theme-main-color)}}.cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog .nav-menu__toggle{fill:#b9bec7}.dark-theme .cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog .nav-menu__toggle{fill:#828588}.cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog .nav-menu__toggle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .cu2-project-list-bar .nav-menu_cog .nav-menu__toggle:hover{fill:var(--theme-main-color)}}.cu2-project-list-bar .nav-menu_cog.cu-dropdown_open,.cu-left-sidebar:hover .cu2-project-list-bar .nav-menu_cog{visibility:visible;opacity:1}.cu2-project-list-bar__link-text{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;flex-grow:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu2-project-list-bar__link-text{font-family:var(--global-font-support)}}.dark-theme .cu2-project-list-bar__link-text{color:#d5d6d7}.layout-size_compact .cu2-project-list-bar__link-text{font-size:12px}.layout-size_default .cu2-project-list-bar__link-text{font-size:13px}.layout-size_large .cu2-project-list-bar__link-text{font-size:14px}.cu2-sidebar__body_v5 .cu2-project-list-bar__link-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:13px}.layout-size_compact .cu2-sidebar__body_v5 .cu2-project-list-bar__link-text{font-size:13px}.layout-size_default .cu2-sidebar__body_v5 .cu2-project-list-bar__link-text{font-size:14px}.layout-size_large .cu2-sidebar__body_v5 .cu2-project-list-bar__link-text{font-size:15px}.cu-simple-bar__body .cu2-project-list-bar__link-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:13px;font-weight:400;color:#3d4249}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__link-text{color:#d5d6d7}.layout-size_compact .cu-simple-bar__body .cu2-project-list-bar__link-text,.layout-size_default .cu-simple-bar__body .cu2-project-list-bar__link-text,.layout-size_large .cu-simple-bar__body .cu2-project-list-bar__link-text{font-size:13px}.cu2-project-list-bar__link-text_bordered{border-top:1px solid transparent;border-bottom:1px solid transparent}.cu2-project-list-bar__link-text_bordered:hover{border-bottom:1px dashed}.cu2-project-list-bar__link-text_active,.dark-theme .cu2-project-list-bar__link-text_active{color:#fff}.cu2-spaces-bar_v4 .cu2-project-list-bar__link-text_active{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-spaces-bar_v4 .cu2-project-list-bar__link-text_active{color:var(--theme-main-color)}}.cu-simple-bar__body .cu2-project-list-bar__link-text_active{color:#7b68ee;font-weight:500}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .cu2-project-list-bar__link-text_active{color:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .cu2-project-list-bar__link-text_active{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .cu2-project-list-bar__link-text_active{color:var(--theme-main-color)}}'],encapsulation:2,data:{animation:[Object(P.m)("spacesList",[Object(P.j)("expanded",Object(P.k)({height:"*",opacity:1})),Object(P.j)("collapsed",Object(P.k)({height:"0",opacity:.5})),Object(P.l)("expanded => collapsed",[Object(P.e)("0.2s 0s ease-in-out")]),Object(P.l)("collapsed => expanded",[Object(P.e)("0.2s 0s ease-in-out")])])]},changeDetection:0}),e})()},kRoH:function(e,t,i){"use strict";i.d(t,"a",function(){return Ct}),i.d(t,"b",function(){return ft}),i.d(t,"c",function(){return Dt}),i.d(t,"d",function(){return Ot}),i.d(t,"e",function(){return Lt}),i.d(t,"f",function(){return Pt}),i.d(t,"g",function(){return xt}),i.d(t,"h",function(){return Ke}),i.d(t,"i",function(){return Bt}),i.d(t,"j",function(){return Ut}),i.d(t,"k",function(){return Qe}),i.d(t,"l",function(){return jt}),i.d(t,"m",function(){return ut}),i.d(t,"n",function(){return mt}),i.d(t,"o",function(){return ht}),i.d(t,"p",function(){return bt}),i.d(t,"q",function(){return _t}),i.d(t,"r",function(){return wt}),i.d(t,"s",function(){return Gt});var a=i("7Dom"),o=i("fXoL"),c=i("ofXK"),n=i("EwKL"),s=i("XNiG"),r=i("LRne"),l=i("PqYM"),d=i("HDdC"),u=i("2Vo4"),p=i("l5mm"),m=i("1G5W"),h=i("eIep"),b=i("JX91"),g=i("aGrj"),f=i("lJxs"),_=i("r5Jv"),v=i("3x2b"),y=i("/qmH"),w=i("R0Ic");const k=function(e){return{action:e}};function x(e,t){if(1&e){const e=o.dc();o.cc(0,"a",5),o.qc("mwlClick",function(i){o.Uc(e);const a=t.$implicit,c=o.uc(2).event;return a.onClick({event:c,sourceEvent:i})})("mwlKeydownEnter",function(i){o.Uc(e);const a=t.$implicit,c=o.uc(2).event;return a.onClick({event:c,sourceEvent:i})}),o.vc(1,"calendarA11y"),o.bc()}if(2&e){const e=t.$implicit;o.Dc("ngClass",e.cssClass)("innerHtml",e.label,o.Vc),o.Jb("aria-label",o.xc(1,3,o.Hc(6,k,e),"actionButtonLabel"))}}function T(e,t){if(1&e&&(o.cc(0,"span",3),o.bd(1,x,2,8,"a",4),o.bc()),2&e){const e=o.uc(),t=e.event,i=e.trackByActionId;o.Ib(1),o.Dc("ngForOf",t.actions)("ngForTrackBy",i)}}function S(e,t){1&e&&o.bd(0,T,2,2,"span",2),2&e&&o.Dc("ngIf",t.event.actions)}function j(e,t){}const O=function(e,t){return{event:e,trackByActionId:t}},I=function(){return{}};function D(e,t){if(1&e&&(o.Xb(0,"span",2),o.vc(1,"calendarEventTitle"),o.vc(2,"calendarA11y")),2&e){const e=t.event;o.Dc("innerHTML",o.yc(1,2,e.title,t.view,e),o.Vc),o.Jb("aria-hidden",o.xc(2,6,o.Gc(9,I),"hideEventTitle"))}}function C(e,t){}const P=function(e,t){return{event:e,view:t}};function $(e,t){if(1&e&&(o.cc(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"div",4),o.bc()),2&e){const e=t.contents;o.Dc("ngClass","cal-tooltip-"+t.placement),o.Ib(2),o.Dc("innerHtml",e,o.Vc)}}function z(e,t){}const M=function(e,t,i){return{contents:e,placement:t,event:i}},E=function(e){return{backgroundColor:e}};function L(e,t){if(1&e){const e=o.dc();o.cc(0,"mwl-calendar-month-cell",7),o.qc("mwlClick",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).dayClicked.emit({day:a,sourceEvent:i})})("mwlKeydownEnter",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).dayClicked.emit({day:a,sourceEvent:i})})("highlightDay",function(t){return o.Uc(e),o.uc(2).toggleDayHighlight(t.event,!0)})("unhighlightDay",function(t){return o.Uc(e),o.uc(2).toggleDayHighlight(t.event,!1)})("drop",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).eventDropped(a,i.dropData.event,i.dropData.draggedFrom)})("eventClicked",function(t){return o.Uc(e),o.uc(2).eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})}),o.vc(1,"calendarA11y"),o.bc()}if(2&e){const e=t.$implicit,i=o.uc(2);o.Dc("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",o.Hc(15,E,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),o.Jb("tabindex",o.xc(1,12,o.Gc(17,I),"monthCellTabIndex"))}}function A(e,t){if(1&e){const e=o.dc();o.cc(0,"div"),o.cc(1,"div",4),o.bd(2,L,2,18,"mwl-calendar-month-cell",5),o.vc(3,"slice"),o.bc(),o.cc(4,"mwl-calendar-open-day-events",6),o.qc("eventClicked",function(t){return o.Uc(e),o.uc().eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})})("drop",function(t){o.Uc(e);const i=o.uc();return i.eventDropped(i.openDay,t.dropData.event,t.dropData.draggedFrom)}),o.bc(),o.bc()}if(2&e){const e=t.$implicit,i=o.uc();o.Ib(2),o.Dc("ngForOf",o.yc(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),o.Ib(2),o.Dc("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function F(e,t){if(1&e){const e=o.dc();o.cc(0,"div",4),o.qc("click",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).columnHeaderClicked.emit({isoDayNumber:a.day,sourceEvent:i})}),o.dd(1),o.vc(2,"calendarDate"),o.bc()}if(2&e){const e=t.$implicit,i=o.uc().locale;o.Ob("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),o.Dc("ngClass",e.cssClass),o.Ib(1),o.fd(" ",o.yc(2,10,e.date,"monthViewColumnHeader",i)," ")}}function U(e,t){if(1&e&&(o.cc(0,"div",2),o.bd(1,F,3,14,"div",3),o.bc()),2&e){const e=t.days,i=t.trackByWeekDayHeaderDate;o.Ib(1),o.Dc("ngForOf",e)("ngForTrackBy",i)}}function N(e,t){}const R=function(e,t,i){return{days:e,locale:t,trackByWeekDayHeaderDate:i}};function G(e,t){if(1&e&&(o.cc(0,"span",7),o.dd(1),o.bc()),2&e){const e=o.uc().day;o.Ib(1),o.ed(e.badgeTotal)}}const q=function(e,t){return{event:e,draggedFrom:t}},B=function(e,t){return{x:e,y:t}},W=function(){return{delay:300,delta:30}};function V(e,t){if(1&e){const e=o.dc();o.cc(0,"div",10),o.qc("mouseenter",function(){o.Uc(e);const i=t.$implicit;return o.uc(2).highlightDay.emit({event:i})})("mouseleave",function(){o.Uc(e);const i=t.$implicit;return o.uc(2).unhighlightDay.emit({event:i})})("mwlClick",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).eventClicked.emit({event:a,sourceEvent:i})}),o.vc(1,"calendarEventTitle"),o.vc(2,"calendarA11y"),o.bc()}if(2&e){const e=t.$implicit,i=o.uc(2),a=i.tooltipPlacement,c=i.tooltipTemplate,n=i.tooltipAppendToBody,s=i.tooltipDelay,r=i.day,l=i.validateDrag;o.Ob("cal-draggable",e.draggable),o.Dc("ngStyle",o.Hc(22,E,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",o.yc(1,15,e.title,"monthTooltip",e))("tooltipPlacement",a)("tooltipEvent",e)("tooltipTemplate",c)("tooltipAppendToBody",n)("tooltipDelay",s)("dropData",o.Ic(24,q,e,r))("dragAxis",o.Ic(27,B,e.draggable,e.draggable))("validateDrag",l)("touchStartLongPress",o.Gc(30,W)),o.Jb("aria-hidden",o.xc(2,19,o.Gc(31,I),"hideMonthCellEvents"))}}function X(e,t){if(1&e&&(o.cc(0,"div",8),o.bd(1,V,3,32,"div",9),o.bc()),2&e){const e=o.uc(),t=e.day,i=e.trackByEventId;o.Ib(1),o.Dc("ngForOf",t.events)("ngForTrackBy",i)}}const H=function(e,t){return{day:e,locale:t}};function Y(e,t){if(1&e&&(o.cc(0,"div",2),o.vc(1,"calendarA11y"),o.cc(2,"span",3),o.bd(3,G,2,1,"span",4),o.cc(4,"span",5),o.dd(5),o.vc(6,"calendarDate"),o.bc(),o.bc(),o.bc(),o.bd(7,X,2,2,"div",6)),2&e){const e=t.day,i=t.locale;o.Jb("aria-label",o.xc(1,4,o.Ic(11,H,e,i),"monthCell")),o.Ib(3),o.Dc("ngIf",e.badgeTotal>0),o.Ib(2),o.ed(o.yc(6,7,e.date,"monthViewDayNumber",i)),o.Ib(2),o.Dc("ngIf",e.events.length>0)}}function Z(e,t){}const Q=function(e,t,i,a,o,c,n,s,r,l,d,u){return{day:e,openDay:t,locale:i,tooltipPlacement:a,highlightDay:o,unhighlightDay:c,eventClicked:n,tooltipTemplate:s,tooltipAppendToBody:r,tooltipDelay:l,trackByEventId:d,validateDrag:u}},K=function(e){return{event:e}},J=function(e,t){return{event:e,locale:t}};function ee(e,t){if(1&e){const e=o.dc();o.cc(0,"div",7),o.Xb(1,"span",8),o.dd(2," "),o.cc(3,"mwl-calendar-event-title",9),o.qc("mwlClick",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).eventClicked.emit({event:a,sourceEvent:i})})("mwlKeydownEnter",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).eventClicked.emit({event:a,sourceEvent:i})}),o.vc(4,"calendarA11y"),o.bc(),o.dd(5," "),o.Xb(6,"mwl-calendar-event-actions",10),o.bc()}if(2&e){const e=t.$implicit,i=o.uc(2).validateDrag,a=o.uc();o.Ob("cal-draggable",e.draggable),o.Dc("ngClass",null==e?null:e.cssClass)("dropData",o.Hc(16,K,e))("dragAxis",o.Ic(18,B,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",o.Gc(21,W)),o.Ib(1),o.Dc("ngStyle",o.Hc(22,E,null==e.color?null:e.color.primary)),o.Ib(2),o.Dc("event",e)("customTemplate",a.eventTitleTemplate),o.Jb("aria-label",o.xc(4,13,o.Ic(24,J,e,a.locale),"eventDescription")),o.Ib(3),o.Dc("event",e)("customTemplate",a.eventActionsTemplate)}}const te=function(e,t){return{date:e,locale:t}};function ie(e,t){if(1&e&&(o.cc(0,"div",3),o.Xb(1,"span",4),o.vc(2,"calendarA11y"),o.Xb(3,"span",5),o.vc(4,"calendarA11y"),o.bd(5,ee,7,27,"div",6),o.bc()),2&e){const e=o.uc(),t=e.events,i=e.trackByEventId,a=o.uc();o.Dc("@collapse",void 0),o.Ib(1),o.Jb("aria-label",o.xc(2,5,o.Ic(11,te,a.date,a.locale),"openDayEventsAlert")),o.Ib(2),o.Jb("aria-label",o.xc(4,8,o.Ic(14,te,a.date,a.locale),"openDayEventsLandmark")),o.Ib(2),o.Dc("ngForOf",t)("ngForTrackBy",i)}}function ae(e,t){1&e&&o.bd(0,ie,6,17,"div",2),2&e&&o.Dc("ngIf",t.isOpen)}function oe(e,t){}const ce=function(e,t,i,a,o){return{events:e,eventClicked:t,isOpen:i,trackByEventId:a,validateDrag:o}};function ne(e,t){if(1&e){const e=o.dc();o.cc(0,"div",13),o.qc("drop",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).eventDropped(i,a.date,!0)})("dragEnter",function(){o.Uc(e);const i=t.$implicit;return o.uc(2).dateDragEnter(i.date)}),o.bc()}}const se=function(){return{left:!0}};function re(e,t){1&e&&o.Xb(0,"div",22),2&e&&o.Dc("resizeEdges",o.Gc(1,se))}const le=function(){return{right:!0}};function de(e,t){1&e&&o.Xb(0,"div",23),2&e&&o.Dc("resizeEdges",o.Gc(1,le))}const ue=function(e,t){return{left:e,right:t}},pe=function(e,t){return{event:e,calendarId:t}},me=function(e){return{x:e}};function he(e,t){if(1&e){const e=o.dc();o.cc(0,"div",17,18),o.qc("resizeStart",function(i){o.Uc(e);const a=t.$implicit;o.uc();const c=o.Rc(1);return o.uc(2).allDayEventResizeStarted(c,a,i)})("resizing",function(i){o.Uc(e);const a=t.$implicit,c=o.uc(3);return c.allDayEventResizing(a,i,c.dayColumnWidth)})("resizeEnd",function(){o.Uc(e);const i=t.$implicit;return o.uc(3).allDayEventResizeEnded(i)})("dragStart",function(){o.Uc(e);const i=t.$implicit,a=o.Rc(1);o.uc();const c=o.Rc(1);return o.uc(2).dragStarted(c,a,i,!1)})("dragging",function(){return o.Uc(e),o.uc(3).allDayEventDragMove()})("dragEnd",function(i){o.Uc(e);const a=t.$implicit,c=o.uc(3);return c.dragEnded(a,i,c.dayColumnWidth)}),o.bd(2,re,1,2,"div",19),o.cc(3,"mwl-calendar-week-view-event",20),o.qc("eventClicked",function(i){o.Uc(e);const a=t.$implicit;return o.uc(3).eventClicked.emit({event:a.event,sourceEvent:i.sourceEvent})}),o.bc(),o.bd(4,de,1,2,"div",21),o.bc()}if(2&e){const e=t.$implicit,i=o.uc(3);o.ad("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*(i.days.length-e.offset)*-1:null,"%"),o.Ob("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),o.Dc("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",o.Ic(32,ue,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",o.Ic(35,pe,e.event,i.calendarId))("dragAxis",o.Ic(38,B,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?o.Hc(41,me,i.dayColumnWidth):o.Gc(43,I))("validateDrag",i.validateDrag)("touchStartLongPress",o.Gc(44,W)),o.Ib(2),o.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),o.Ib(1),o.Dc("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),o.Ib(1),o.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function be(e,t){if(1&e&&(o.cc(0,"div",14,15),o.bd(2,he,5,45,"div",16),o.bc()),2&e){const e=t.$implicit,i=o.uc(2);o.Ib(2),o.Dc("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function ge(e,t){if(1&e){const e=o.dc();o.cc(0,"div",8,9),o.qc("dragEnter",function(){return o.Uc(e),o.uc().dragEnter("allDay")})("dragLeave",function(){return o.Uc(e),o.uc().dragLeave("allDay")}),o.cc(2,"div",5),o.Xb(3,"div",10),o.bd(4,ne,1,0,"div",11),o.bc(),o.bd(5,be,3,2,"div",12),o.bc()}if(2&e){const e=o.uc();o.Ib(3),o.Dc("ngTemplateOutlet",e.allDayEventsLabelTemplate),o.Ib(1),o.Dc("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),o.Ib(1),o.Dc("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function fe(e,t){if(1&e&&o.Xb(0,"mwl-calendar-week-view-hour-segment",28),2&e){const e=t.$implicit,i=o.uc(3);o.ad("height",i.hourSegmentHeight,"px"),o.Dc("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function _e(e,t){if(1&e&&(o.cc(0,"div",26),o.bd(1,fe,1,8,"mwl-calendar-week-view-hour-segment",27),o.bc()),2&e){const e=t.$implicit,i=t.odd,a=o.uc(2);o.Ob("cal-hour-odd",i),o.Ib(1),o.Dc("ngForOf",e.segments)("ngForTrackBy",a.trackByHourSegment)}}function ve(e,t){if(1&e&&(o.cc(0,"div",24),o.bd(1,_e,2,4,"div",25),o.bc()),2&e){const e=o.uc();o.Ib(1),o.Dc("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const ye=function(){return{left:!0,top:!0}};function we(e,t){1&e&&o.Xb(0,"div",22),2&e&&o.Dc("resizeEdges",o.Gc(1,ye))}function ke(e,t){}function xe(e,t){if(1&e){const e=o.dc();o.cc(0,"mwl-calendar-week-view-event",36),o.qc("eventClicked",function(t){o.Uc(e);const i=o.uc().$implicit;return o.uc(2).eventClicked.emit({event:i.event,sourceEvent:t.sourceEvent})}),o.bc()}if(2&e){const e=o.uc().$implicit,t=o.uc().$implicit,i=o.uc();o.Dc("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDisabled",i.dragActive||i.timeEventResizes.size>0)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("column",t)("daysInWeek",i.daysInWeek)}}const Te=function(){return{right:!0,bottom:!0}};function Se(e,t){1&e&&o.Xb(0,"div",23),2&e&&o.Dc("resizeEdges",o.Gc(1,Te))}const je=function(e,t,i,a){return{left:e,right:t,top:i,bottom:a}};function Oe(e,t){if(1&e){const e=o.dc();o.cc(0,"div",33,18),o.qc("resizeStart",function(i){o.Uc(e);const a=t.$implicit,c=o.uc(2),n=o.Rc(6);return c.timeEventResizeStarted(n,a,i)})("resizing",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).timeEventResizing(a,i)})("resizeEnd",function(){o.Uc(e);const i=t.$implicit;return o.uc(2).timeEventResizeEnded(i)})("dragStart",function(){o.Uc(e);const i=t.$implicit,a=o.Rc(1),c=o.uc(2),n=o.Rc(6);return c.dragStarted(n,a,i,!0)})("dragging",function(i){o.Uc(e);const a=t.$implicit;return o.uc(2).dragMove(a,i)})("dragEnd",function(i){o.Uc(e);const a=t.$implicit,c=o.uc(2);return c.dragEnded(a,i,c.dayColumnWidth,!0)}),o.bd(2,we,1,2,"div",19),o.bd(3,ke,0,0,"ng-template",34),o.bd(4,xe,1,12,"ng-template",null,35,o.cd),o.bd(6,Se,1,2,"div",21),o.bc()}if(2&e){const e=t.$implicit,i=o.Rc(5),a=o.uc(2);o.ad("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),o.Ob("cal-draggable",e.event.draggable&&0===a.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),o.Dc("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",o.Kc(29,je,a.dayColumnWidth,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight,a.eventSnapSize||a.hourSegmentHeight))("validateResize",a.validateResize)("allowNegativeResizes",!0)("dropData",o.Ic(34,pe,e.event,a.calendarId))("dragAxis",o.Ic(37,B,e.event.draggable&&0===a.timeEventResizes.size,e.event.draggable&&0===a.timeEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?o.Ic(40,B,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight):o.Gc(43,I))("touchStartLongPress",o.Gc(44,W))("ghostDragEnabled",!a.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",a.validateDrag),o.Ib(2),o.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),o.Ib(1),o.Dc("ngTemplateOutlet",i),o.Ib(3),o.Dc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function Ie(e,t){if(1&e){const e=o.dc();o.cc(0,"mwl-calendar-week-view-hour-segment",38),o.qc("mwlClick",function(i){o.Uc(e);const a=t.$implicit;return o.uc(3).hourSegmentClicked.emit({date:a.date,sourceEvent:i})})("drop",function(i){o.Uc(e);const a=t.$implicit;return o.uc(3).eventDropped(i,a.date,!1)})("dragEnter",function(){o.Uc(e);const i=t.$implicit;return o.uc(3).dateDragEnter(i.date)}),o.bc()}if(2&e){const e=t.$implicit,i=o.uc(3);o.ad("height",i.hourSegmentHeight,"px"),o.Dc("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function De(e,t){if(1&e&&(o.cc(0,"div",26),o.bd(1,Ie,1,10,"mwl-calendar-week-view-hour-segment",37),o.bc()),2&e){const e=t.$implicit,i=t.odd,a=o.uc(2);o.Ob("cal-hour-odd",i),o.Ib(1),o.Dc("ngForOf",e.segments)("ngForTrackBy",a.trackByHourSegment)}}function Ce(e,t){if(1&e&&(o.cc(0,"div",29),o.Xb(1,"mwl-calendar-week-view-current-time-marker",30),o.cc(2,"div",31),o.bd(3,Oe,7,45,"div",32),o.bc(),o.bd(4,De,2,4,"div",25),o.bc()),2&e){const e=t.$implicit,i=o.uc();o.Ib(1),o.Dc("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),o.Ib(2),o.Dc("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),o.Ib(1),o.Dc("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}function Pe(e,t){if(1&e){const e=o.dc();o.cc(0,"div",4),o.qc("mwlClick",function(i){o.Uc(e);const a=t.$implicit;return o.uc().dayHeaderClicked.emit({day:a,sourceEvent:i})})("drop",function(i){o.Uc(e);const a=t.$implicit;return o.uc().eventDropped.emit({event:i.dropData.event,newStart:a.date})})("dragEnter",function(){o.Uc(e);const i=t.$implicit;return o.uc().dragEnter.emit({date:i.date})}),o.cc(1,"b"),o.dd(2),o.vc(3,"calendarDate"),o.bc(),o.Xb(4,"br"),o.cc(5,"span"),o.dd(6),o.vc(7,"calendarDate"),o.bc(),o.bc()}if(2&e){const e=t.$implicit,i=o.uc().locale;o.Ob("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),o.Dc("ngClass",e.cssClass),o.Ib(2),o.ed(o.yc(3,11,e.date,"weekViewColumnHeader",i)),o.Ib(4),o.ed(o.yc(7,15,e.date,"weekViewColumnSubHeader",i))}}function $e(e,t){if(1&e&&(o.cc(0,"div",2),o.bd(1,Pe,8,19,"div",3),o.bc()),2&e){const e=t.days,i=t.trackByWeekDayHeaderDate;o.Ib(1),o.Dc("ngForOf",e)("ngForTrackBy",i)}}function ze(e,t){}const Me=function(e,t,i,a,o,c){return{days:e,locale:t,dayHeaderClicked:i,eventDropped:a,dragEnter:o,trackByWeekDayHeaderDate:c}},Ee=function(e,t){return{backgroundColor:e,borderColor:t}};function Le(e,t){if(1&e&&(o.cc(0,"div",2),o.qc("mwlClick",function(e){return t.eventClicked.emit({sourceEvent:e})})("mwlKeydownEnter",function(e){return t.eventClicked.emit({sourceEvent:e})}),o.vc(1,"calendarEventTitle"),o.vc(2,"calendarA11y"),o.Xb(3,"mwl-calendar-event-actions",3),o.dd(4," "),o.Xb(5,"mwl-calendar-event-title",4),o.bc()),2&e){const e=t.weekEvent,i=t.tooltipPlacement,a=t.tooltipTemplate,c=t.tooltipAppendToBody,n=t.tooltipDisabled,s=t.tooltipDelay,r=t.daysInWeek,l=o.uc();o.Dc("ngStyle",o.Ic(20,Ee,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",n?"":o.yc(1,13,e.event.title,1===r?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",a)("tooltipAppendToBody",c)("tooltipDelay",s),o.Jb("aria-label",o.xc(2,17,o.Ic(23,J,e.tempEvent||e.event,l.locale),"eventDescription")),o.Ib(3),o.Dc("event",e.tempEvent||e.event)("customTemplate",l.eventActionsTemplate),o.Ib(2),o.Dc("event",e.tempEvent||e.event)("customTemplate",l.eventTitleTemplate)("view",1===r?"day":"week")}}function Ae(e,t){}const Fe=function(e,t,i,a,o,c,n,s,r){return{weekEvent:e,tooltipPlacement:t,eventClicked:i,tooltipTemplate:a,tooltipAppendToBody:o,tooltipDisabled:c,tooltipDelay:n,column:s,daysInWeek:r}};function Ue(e,t){if(1&e&&(o.cc(0,"div",4),o.dd(1),o.vc(2,"calendarDate"),o.bc()),2&e){const e=o.uc(),t=e.segment,i=e.daysInWeek,a=e.locale;o.Ib(1),o.fd(" ",o.yc(2,1,t.displayDate,1===i?"dayViewHour":"weekViewHour",a)," ")}}function Ne(e,t){if(1&e&&(o.cc(0,"div",2),o.vc(1,"calendarA11y"),o.bd(2,Ue,3,5,"div",3),o.bc()),2&e){const e=t.segment,i=t.isTimeLabel,a=t.daysInWeek;o.ad("height",t.segmentHeight,"px"),o.Ob("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),o.Dc("ngClass",e.cssClass),o.Jb("aria-hidden",o.xc(1,9,o.Gc(12,I),1===a?"hideDayHourSegment":"hideWeekHourSegment")),o.Ib(2),o.Dc("ngIf",i)}}function Re(e,t){}const Ge=function(e,t,i,a,o){return{segment:e,locale:t,segmentHeight:i,isTimeLabel:a,daysInWeek:o}};function qe(e,t){if(1&e&&o.Xb(0,"div",3),2&e){const e=o.uc().topPx;o.ad("top",e,"px")}}function Be(e,t){1&e&&o.bd(0,qe,1,2,"div",2),2&e&&o.Dc("ngIf",t.isVisible)}function We(e,t){}const Ve=function(e,t,i,a,o,c,n){return{columnDate:e,dayStartHour:t,dayStartMinute:i,dayEndHour:a,dayEndMinute:o,isVisible:c,topPx:n}};let Xe=(()=>{let e=class{constructor(){this.trackByActionId=(e,t)=>t.id?t.id:t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,t){if(1&e&&(o.bd(0,S,1,1,"ng-template",null,0,o.cd),o.bd(2,j,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Ic(2,O,t.event,t.trackByActionId))}},directives:function(){return[c.x,c.q,c.p,c.o,wt,kt]},pipes:function(){return[St]},encapsulation:2}),e})(),He=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,t){if(1&e&&(o.bd(0,D,3,10,"ng-template",null,0,o.cd),o.bd(2,C,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Ic(2,P,t.event,t.view))}},directives:function(){return[c.x]},pipes:function(){return[yt,St]},encapsulation:2}),e})(),Ye=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,t){if(1&e&&(o.bd(0,$,3,2,"ng-template",null,0,o.cd),o.bd(2,z,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Jc(2,M,t.contents,t.placement,t.event))}},directives:[c.x,c.o],encapsulation:2}),e})(),Ze=(()=>{let e=class{constructor(e,t,i,a,o,c){this.elementRef=e,this.injector=t,this.renderer=i,this.viewContainerRef=o,this.document=c,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new s.a,this.tooltipFactory=a.resolveComponentFactory(Ye)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Object(r.a)("now"):Object(l.a)(this.delay)).pipe(Object(m.a)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=Object(n.a)(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(o.m),o.Wb(o.t),o.Wb(o.H),o.Wb(o.j),o.Wb(o.U),o.Wb(c.d))},e.\u0275dir=o.Rb({type:e,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,t){1&e&&o.qc("mouseenter",function(){return t.onMouseOver()})("mouseleave",function(){return t.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[o.Gb]}),e=Object(a.b)([Object(a.e)(5,Object(o.q)(c.d))],e),e})();class Qe{}var Ke=function(e){return e.Month="month",e.Week="week",e.Day="day",e}({});const Je=e=>Object(_.h)(e,(...e)=>{});function et(e,t){return Math.floor(e.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(e.right)&&Math.floor(e.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(e.right)}function tt(e,t){return Math.round(e/t)*t}const it=(e,t)=>t.id?t.id:t,at=(e,t)=>t.date.toISOString(),ot=(e,t)=>t.date.toISOString(),ct=(e,t)=>t.segments[0].date.toISOString(),nt=(e,t)=>t.event.id?t.event.id:t.event,st=(e,t)=>t.event.id?t.event.id:t.event;function rt(e,t,i,a,o){return tt(e,a||i)*function(e,t,i){return(i||60)/(e*t)}(t,i,o)}function lt(e,t,i){return t.end?t.end:e.addMinutes(t.start,i)}function dt(e,t,i,a){let o=0,c=0;const n=i<0?e.subDays:e.addDays;let s=t;for(;c<=Math.abs(i);){s=n(t,o);const i=e.getDay(s);-1===a.indexOf(i)&&c++,o++}return s}function ut(e,t,i,a=[],o){let c=o?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:i});const n=e.endOfWeek(t,{weekStartsOn:i});for(;a.indexOf(e.getDay(c))>-1&&c<n;)c=e.addDays(c,1);if(o)return{viewStart:c,viewEnd:e.endOfDay(dt(e,c,o-1,a))};{let t=n;for(;a.indexOf(e.getDay(t))>-1&&t>c;)t=e.subDays(t,1);return{viewStart:c,viewEnd:t}}}function pt({x:e,y:t}){return Math.abs(e)>1||Math.abs(t)>1}let mt=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new o.o}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===Ke.Day?dt(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===Ke.Week&&this.daysInWeek?dt(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(Qe))},e.\u0275dir=o.Rb({type:e,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,t){1&e&&o.qc("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),ht=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new o.o}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===Ke.Day?dt(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===Ke.Week&&this.daysInWeek?dt(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(Qe))},e.\u0275dir=o.Rb({type:e,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,t){1&e&&o.qc("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),bt=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.viewDateChange=new o.o}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(Qe))},e.\u0275dir=o.Rb({type:e,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,t){1&e&&o.qc("click",function(){return t.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),e})(),gt=(()=>{let e=class{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:t}){return Object(c.E)(e,"EEEE",t)}monthViewDayNumber({date:e,locale:t}){return Object(c.E)(e,"d",t)}monthViewTitle({date:e,locale:t}){return Object(c.E)(e,"LLLL y",t)}weekViewColumnHeader({date:e,locale:t}){return Object(c.E)(e,"EEEE",t)}weekViewColumnSubHeader({date:e,locale:t}){return Object(c.E)(e,"MMM d",t)}weekViewTitle({date:e,locale:t,weekStartsOn:i,excludeDays:a,daysInWeek:o}){const{viewStart:n,viewEnd:s}=ut(this.dateAdapter,e,i,a,o),r=(e,i)=>Object(c.E)(e,"MMM d"+(i?", yyyy":""),t);return`${r(n,n.getUTCFullYear()!==s.getUTCFullYear())} - ${r(s,!0)}`}weekViewHour({date:e,locale:t}){return Object(c.E)(e,"h a",t)}dayViewHour({date:e,locale:t}){return Object(c.E)(e,"h a",t)}dayViewTitle({date:e,locale:t}){return Object(c.E)(e,"EEEE, MMMM d, y",t)}};return e.\u0275fac=function(t){return new(t||e)(o.nc(Qe))},e.\u0275prov=o.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),ft=(()=>{let e=class extends gt{};return e.\u0275fac=function(t){return Wt(t||e)},e.\u0275prov=o.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),_t=(()=>{let e=class{constructor(e,t){this.dateFormatter=e,this.locale=t}transform(e,t,i=this.locale,a=0,o=[],c){if(void 0===this.dateFormatter[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(ft.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid date formatter. Can only be one of ${e.join(", ")}`)}return this.dateFormatter[t]({date:e,locale:i,weekStartsOn:a,excludeDays:o,daysInWeek:c})}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(ft),o.Wb(o.w))},e.\u0275pipe=o.Vb({name:"calendarDate",type:e,pure:!0}),e=Object(a.b)([Object(a.e)(1,Object(o.q)(o.w))],e),e})();class vt{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}let yt=(()=>{let e=class{constructor(e){this.calendarEventTitle=e}transform(e,t,i){return this.calendarEventTitle[t](i,e)}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(vt))},e.\u0275pipe=o.Vb({name:"calendarEventTitle",type:e,pure:!0}),e})(),wt=(()=>{let e=class{constructor(e,t,i){this.renderer=e,this.elm=t,this.document=i,this.clickListenerDisabled=!1,this.click=new o.o,this.destroy$=new s.a}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Object(m.a)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new d.a(e=>this.renderer.listen(this.elm.nativeElement,"click",t=>{e.next(t)}))}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(o.H),o.Wb(o.m),o.Wb(c.d))},e.\u0275dir=o.Rb({type:e,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),e=Object(a.b)([Object(a.e)(2,Object(o.q)(c.d))],e),e})(),kt=(()=>{let e=class{constructor(){this.keydown=new o.o}onKeyPress(e){13!==e.keyCode&&13!==e.which&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.keydown.emit(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Rb({type:e,selectors:[["","mwlKeydownEnter",""]],hostBindings:function(e,t){1&e&&o.qc("keydown",function(e){return t.onKeyPress(e)})},outputs:{keydown:"mwlKeydownEnter"}}),e})(),xt=(()=>{let e=class{constructor(e){this.dateAdapter=e}getMonthView(e){return Object(_.e)(this.dateAdapter,e)}getWeekViewHeader(e){return Object(_.g)(this.dateAdapter,e)}getWeekView(e){return Object(_.f)(this.dateAdapter,e)}};return e.\u0275fac=function(t){return new(t||e)(o.nc(Qe))},e.\u0275prov=o.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),Tt=(()=>{let e=class{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:t}){return e.badgeTotal>0?`\n        ${Object(c.E)(e.date,"EEEE MMMM d",t)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:""+Object(c.E)(e.date,"EEEE MMMM d",t)}openDayEventsLandmark({date:e,locale:t}){return`\n      Beginning of expanded view for ${Object(c.E)(e,"EEEE MMMM dd",t)}\n    `}openDayEventsAlert({date:e,locale:t}){return Object(c.E)(e,"EEEE MMMM dd",t)+" expanded"}eventDescription({event:e,locale:t}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:t});const i=`\n      ${Object(c.E)(e.start,"EEEE MMMM dd",t)},\n      ${e.title}, from ${Object(c.E)(e.start,"hh:mm a",t)}\n    `;return e.end?i+" to "+Object(c.E)(e.end,"hh:mm a",t):i}allDayEventDescription({event:e,locale:t}){const i=`\n      ${e.title}, event spans multiple days:\n      start time ${Object(c.E)(e.start,"MMMM dd hh:mm a",t)}\n    `;return e.end?i+", stop time "+Object(c.E)(e.end,"MMMM d hh:mm a",t):i+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return e.\u0275fac=function(t){return new(t||e)(o.nc(c.h))},e.\u0275prov=o.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),St=(()=>{let e=class{constructor(e,t){this.calendarA11y=e,this.locale=t}transform(e,t){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(Tt.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid a11y method. Can only be one of ${e.join(", ")}`)}return this.calendarA11y[t](e)}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(Tt),o.Wb(o.w))},e.\u0275pipe=o.Vb({name:"calendarA11y",type:e,pure:!0}),e=Object(a.b)([Object(a.e)(1,Object(o.q)(o.w))],e),e})();const jt=new o.s("Moment");let Ot=(()=>{let e=class{constructor(e,t){this.moment=e,this.dateAdapter=t}monthViewColumnHeader({date:e,locale:t}){return this.moment(e).locale(t).format("dddd")}monthViewDayNumber({date:e,locale:t}){return this.moment(e).locale(t).format("D")}monthViewTitle({date:e,locale:t}){return this.moment(e).locale(t).format("MMMM YYYY")}weekViewColumnHeader({date:e,locale:t}){return this.moment(e).locale(t).format("dddd")}weekViewColumnSubHeader({date:e,locale:t}){return this.moment(e).locale(t).format("MMM D")}weekViewTitle({date:e,locale:t,weekStartsOn:i,excludeDays:a,daysInWeek:o}){const{viewStart:c,viewEnd:n}=ut(this.dateAdapter,e,i,a,o),s=(e,i)=>this.moment(e).locale(t).format("MMM D"+(i?", YYYY":""));return`${s(c,c.getUTCFullYear()!==n.getUTCFullYear())} - ${s(n,!0)}`}weekViewHour({date:e,locale:t}){return this.moment(e).locale(t).format("ha")}dayViewHour({date:e,locale:t}){return this.moment(e).locale(t).format("ha")}dayViewTitle({date:e,locale:t}){return this.moment(e).locale(t).format("dddd, LL")}};return e.\u0275fac=function(t){return new(t||e)(o.nc(jt),o.nc(Qe))},e.\u0275prov=o.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Object(a.b)([Object(a.e)(0,Object(o.q)(jt))],e),e})();var It,Dt=function(e){return e.Drag="drag",e.Drop="drop",e.Resize="resize",e}({});let Ct=(()=>{let e=It=class{static forRoot(e,t={}){return{ngModule:It,providers:[e,t.eventTitleFormatter||vt,t.dateFormatter||ft,t.utils||xt,t.a11y||Tt]}}};return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},providers:[c.h],imports:[[c.c]]}),e})(),Pt=(()=>{let e=class{constructor(e,t,i,a){this.cdr=e,this.utils=t,this.dateAdapter=a,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new o.o,this.dayClicked=new o.o,this.eventClicked=new o.o,this.columnHeaderClicked=new o.o,this.eventTimesChanged=new o.o,this.trackByRowOffset=(e,t)=>this.view.days.slice(t,this.view.totalDaysVisibleInWeek).map(e=>e.date.toISOString()).join("-"),this.trackByDate=(e,t)=>t.date.toISOString(),this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays,i=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&Je(this.events),i&&this.refreshBody(),(t||i)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,t){this.view.days.forEach(i=>{t&&i.events.indexOf(e)>-1?i.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete i.backgroundColor})}eventDropped(e,t,i){if(e!==i){const i=this.dateAdapter.getYear(e.date),a=this.dateAdapter.getMonth(e.date),o=this.dateAdapter.getDate(e.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,i),a),o);let n;if(t.end){const e=this.dateAdapter.differenceInSeconds(c,t.start);n=this.dateAdapter.addSeconds(t.end,e)}this.eventTimesChanged.emit({event:t,newStart:c,newEnd:n,day:e,type:Dt.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(t=>this.dateAdapter.isSameDay(t.date,e));const t=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(t/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(o.h),o.Wb(xt),o.Wb(o.w),o.Wb(Qe))},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[o.Gb],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell-row"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,t){1&e&&(o.cc(0,"div",0),o.cc(1,"mwl-calendar-month-view-header",1),o.qc("columnHeaderClicked",function(e){return t.columnHeaderClicked.emit(e)}),o.bc(),o.cc(2,"div",2),o.bd(3,A,5,13,"div",3),o.bc(),o.bc()),2&e&&(o.Ib(1),o.Dc("days",t.columnHeaders)("locale",t.locale)("customTemplate",t.headerTemplate),o.Ib(2),o.Dc("ngForOf",t.view.rowOffsets)("ngForTrackBy",t.trackByRowOffset))},directives:function(){return[$t,c.p,Et,v.b,zt,c.o,c.t,wt,kt]},pipes:function(){return[c.A,St]},encapsulation:2}),e=Object(a.b)([Object(a.e)(2,Object(o.q)(o.w))],e),e})(),$t=(()=>{let e=class{constructor(){this.columnHeaderClicked=new o.o,this.trackByWeekDayHeaderDate=at}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,t){if(1&e&&(o.bd(0,U,2,2,"ng-template",null,0,o.cd),o.bd(2,N,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Jc(2,R,t.days,t.locale,t.trackByWeekDayHeaderDate))}},directives:[c.x,c.p,c.o],pipes:[_t],encapsulation:2}),e})(),zt=(()=>{let e=class{constructor(){this.highlightDay=new o.o,this.unhighlightDay=new o.o,this.eventClicked=new o.o,this.trackByEventId=it,this.validateDrag=pt}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,t){2&e&&o.Ob("cal-past",t.day.isPast)("cal-today",t.day.isToday)("cal-future",t.day.isFuture)("cal-weekend",t.day.isWeekend)("cal-in-month",t.day.inMonth)("cal-out-month",!t.day.inMonth)("cal-has-events",t.day.events.length>0)("cal-open",t.day===t.openDay)("cal-event-highlight",!!t.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,t){if(1&e&&(o.bd(0,Y,8,14,"ng-template",null,0,o.cd),o.bd(2,Z,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Pc(2,Q,[t.day,t.openDay,t.locale,t.tooltipPlacement,t.highlightDay,t.unhighlightDay,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay,t.trackByEventId,t.validateDrag]))}},directives:[c.x,c.q,c.p,v.c,c.t,c.o,Ze,wt],pipes:[St,_t,yt],encapsulation:2}),e})();const Mt=Object(w.m)("collapse",[Object(w.j)("void",Object(w.k)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Object(w.j)("*",Object(w.k)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Object(w.l)("* => void",Object(w.e)("150ms ease-out")),Object(w.l)("void => *",Object(w.e)("150ms ease-in"))]);let Et=(()=>{let e=class{constructor(){this.isOpen=!1,this.eventClicked=new o.o,this.trackByEventId=it,this.validateDrag=pt}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,t){if(1&e&&(o.bd(0,ae,1,1,"ng-template",null,0,o.cd),o.bd(2,oe,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Lc(2,ce,t.events,t.eventClicked,t.isOpen,t.trackByEventId,t.validateDrag))}},directives:[c.x,c.q,c.p,v.c,c.o,c.t,He,wt,kt,Xe],pipes:[St],encapsulation:2,data:{animation:[Mt]}}),e})(),Lt=(()=>{let e=class{};return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[c.c,v.a,Ct],v.a]}),e})();class At{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:i,dragAlreadyMoved:a,transform:o}){const c=pt({x:e,y:t})||a;if(i){const e=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(c){const t=this.dragContainerElement.getBoundingClientRect(),i=t.top<e.top&&e.top<t.bottom,a=t.top<e.bottom&&e.bottom<t.bottom;return et(t,e)&&(i||a)}return!1}return c}}class Ft{constructor(e,t,i){this.resizeContainerElement=e,this.minWidth=t,this.rtl=i}validateResize({rectangle:e,edges:t}){return this.rtl&&(void 0!==t.left?(e.left-=t.left,e.right+=t.left):void 0!==t.right&&(e.left+=t.right,e.right-=t.right),e.width=e.right-e.left),!(this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth))&&et(i=this.resizeContainerElement.getBoundingClientRect(),a=e)&&function(e,t){return Math.floor(e.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(e.bottom)&&Math.floor(e.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(e.bottom)}(i,a);var i,a}}let Ut=(()=>{let e=class{constructor(e,t,i,a,c){this.cdr=e,this.utils=t,this.dateAdapter=a,this.element=c,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new o.o,this.eventClicked=new o.o,this.eventTimesChanged=new o.o,this.beforeViewRender=new o.o,this.hourSegmentClicked=new o.o,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=at,this.trackByHourSegment=ot,this.trackByHour=ct,this.trackByWeekAllDayEvent=nt,this.trackByWeekTimeEvent=st,this.trackByHourColumn=(e,t)=>t.hours[0]?t.hours[0].segments[0].date.toISOString():t,this.trackById=(e,t)=>t.id,this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,i=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;t&&this.refreshHeader(),e.events&&Je(this.events),i&&this.refreshBody(),(t||i)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl="undefined"!=typeof window&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,t,i){this.timeEventResizes.set(t.event,i),this.resizeStarted(e,t)}timeEventResizing(e,t){this.timeEventResizes.set(e.event,t);const i=new Map,a=[...this.events];this.timeEventResizes.forEach((e,t)=>{const o=this.getTimeEventResizedDates(t,e),c=Object.assign(Object.assign({},t),o);i.set(c,t);const n=a.indexOf(t);a[n]=c}),this.restoreOriginalEvents(a,i,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const t=this.timeEventResizes.get(e.event);if(t){this.timeEventResizes.delete(e.event);const i=this.getTimeEventResizedDates(e.event,t);this.eventTimesChanged.emit({newStart:i.start,newEnd:i.end,event:e.event,type:Dt.Resize})}}allDayEventResizeStarted(e,t,i){this.allDayEventResizes.set(t,{originalOffset:t.offset,originalSpan:t.span,edge:void 0!==i.edges.left?"left":"right"}),this.resizeStarted(e,t,this.getDayColumnWidth(e))}allDayEventResizing(e,t,i){const a=this.allDayEventResizes.get(e),o=this.rtl?-1:1;if(void 0!==t.edges.left){const c=Math.round(+t.edges.left/i)*o;e.offset=a.originalOffset+c,e.span=a.originalSpan-c}else if(void 0!==t.edges.right){const c=Math.round(+t.edges.right/i)*o;e.span=a.originalSpan+c}}allDayEventResizeEnded(e){const t=this.allDayEventResizes.get(e);if(t){const i="left"===t.edge;let a;a=i?e.offset-t.originalOffset:e.span-t.originalSpan,e.offset=t.originalOffset,e.span=t.originalSpan;const o=this.getAllDayEventResizedDates(e.event,a,i);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:Dt.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,t,i){!function(e,t,i,a){return e.dropData&&e.dropData.event&&(e.dropData.calendarId!==a||e.dropData.event.allDay&&!i||!e.dropData.event.allDay&&i)}(e,0,i,this.calendarId)||this.lastDragEnterDate.getTime()!==t.getTime()||this.snapDraggedEvents&&e.dropData.event===this.lastDraggedEvent||this.eventTimesChanged.emit({type:Dt.Drop,event:e.dropData.event,newStart:t,allDay:i}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,t,i,a){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new At(e,t);this.validateDrag=({x:e,y:t,transform:c})=>{const n=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&o.validateDrag({x:e,y:t,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:c});if(n&&this.validateEventTimesChanged){const o=this.getDragMovedEventTimes(i,{x:e,y:t},this.dayColumnWidth,a);return this.validateEventTimesChanged({type:Dt.Drag,event:i.event,newStart:o.start,newEnd:o.end})}return n},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&a&&this.view.hourColumns.forEach(e=>{const t=e.events.find(e=>e.event===i.event&&e!==i);t&&(t.width=0,t.height=0)}),this.cdr.markForCheck()}dragMove(e,t){const i=this.getDragMovedEventTimes(e,t,this.dayColumnWidth,!0),a=e.event,o=Object.assign(Object.assign({},a),i),c=this.events.map(e=>e===a?o:e);this.restoreOriginalEvents(c,new Map([[o,a]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,t,i,a=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:o,end:c}=this.getDragMovedEventTimes(e,t,i,a);(this.snapDraggedEvents||this.eventDragEnterByType[a?"time":"allDay"]>0)&&function(e,t,i){const a=t||e;return i.start<=e&&e<=i.end||i.start<=a&&a<=i.end}(o,c,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:o,newEnd:c,event:e.event,type:Dt.Drag,allDay:!a}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},ut(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},ut(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,t,i,a){const o=tt(t.x,i)/i*(this.rtl?-1:1),c=a?rt(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,n=this.dateAdapter.addMinutes(dt(this.dateAdapter,e.event.start,o,this.excludeDays),c);let s;return e.event.end&&(s=this.dateAdapter.addMinutes(dt(this.dateAdapter,e.event.end,o,this.excludeDays),c)),{start:n,end:s}}restoreOriginalEvents(e,t,i=!0){const a=this.view;i&&(this.view=this.getWeekView(e));const o=e.filter(e=>t.has(e));this.view.hourColumns.forEach((e,c)=>{a.hourColumns[c].hours.forEach((t,i)=>{t.segments.forEach((t,a)=>{e.hours[i].segments[a].cssClass=t.cssClass})}),o.forEach(a=>{const o=t.get(a),c=e.events.find(e=>e.event===(i?a:o));c?(c.event=o,c.tempEvent=a,i||(c.height=0,c.width=0)):e.events.push({event:o,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:a})})}),t.clear()}getTimeEventResizedDates(e,t){const i={start:e.start,end:lt(this.dateAdapter,e,this.minimumEventHeight)},o=Object(a.f)(e,["end"]),c={start:this.dateAdapter.addMinutes(i.end,-1*this.minimumEventHeight),end:lt(this.dateAdapter,o,this.minimumEventHeight)},n=this.rtl?-1:1;if(void 0!==t.edges.left){const e=Math.round(+t.edges.left/this.dayColumnWidth)*n,a=dt(this.dateAdapter,i.start,e,this.excludeDays);i.start=a<c.start?a:c.start}else if(void 0!==t.edges.right){const e=Math.round(+t.edges.right/this.dayColumnWidth)*n,a=dt(this.dateAdapter,i.end,e,this.excludeDays);i.end=a>c.end?a:c.end}if(void 0!==t.edges.top){const e=rt(t.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),a=this.dateAdapter.addMinutes(i.start,e);i.start=a<c.start?a:c.start}else if(void 0!==t.edges.bottom){const e=rt(t.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),a=this.dateAdapter.addMinutes(i.end,e);i.end=a>c.end?a:c.end}return i}resizeStarted(e,t,i){this.dayColumnWidth=this.getDayColumnWidth(e);const a=new Ft(e,i,this.rtl);this.validateResize=({rectangle:e,edges:o})=>{const c=a.validateResize({rectangle:Object.assign({},e),edges:o});if(c&&this.validateEventTimesChanged){let a;if(i){const e=this.rtl?-1:1;if(void 0!==o.left){const c=Math.round(+o.left/i)*e;a=this.getAllDayEventResizedDates(t.event,c,!this.rtl)}else{const c=Math.round(+o.right/i)*e;a=this.getAllDayEventResizedDates(t.event,c,this.rtl)}}else a=this.getTimeEventResizedDates(t.event,{rectangle:e,edges:o});return this.validateEventTimesChanged({type:Dt.Resize,event:t.event,newStart:a.start,newEnd:a.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(e,t,i){let a=e.start,o=e.end||e.start;return i?a=dt(this.dateAdapter,a,t,this.excludeDays):o=dt(this.dateAdapter,o,t,this.excludeDays),{start:a,end:o}}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(o.h),o.Wb(xt),o.Wb(o.w),o.Wb(Qe),o.Wb(o.m))},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourDuration:"hourDuration",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[o.Gb],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,t){1&e&&(o.cc(0,"div",0),o.cc(1,"mwl-calendar-week-view-header",1),o.qc("dayHeaderClicked",function(e){return t.dayHeaderClicked.emit(e)})("eventDropped",function(e){return t.eventDropped({dropData:e},e.newStart,!0)})("dragEnter",function(e){return t.dateDragEnter(e.date)}),o.bc(),o.bd(2,ge,6,5,"div",2),o.cc(3,"div",3),o.qc("dragEnter",function(){return t.dragEnter("time")})("dragLeave",function(){return t.dragLeave("time")}),o.bd(4,ve,2,2,"div",4),o.cc(5,"div",5,6),o.bd(7,Ce,5,13,"div",7),o.bc(),o.bc(),o.bc()),2&e&&(o.Ib(1),o.Dc("days",t.days)("locale",t.locale)("customTemplate",t.headerTemplate),o.Ib(1),o.Dc("ngIf",t.view.allDayEventRows.length>0),o.Ib(2),o.Dc("ngIf",t.view.hourColumns.length>0&&1!==t.daysInWeek),o.Ib(1),o.Ob("cal-resize-active",t.timeEventResizes.size>0),o.Ib(2),o.Dc("ngForOf",t.view.hourColumns)("ngForTrackBy",t.trackByHourColumn))},directives:function(){return[Nt,c.q,v.b,c.p,c.x,y.a,v.c,c.o,Rt,y.c,Gt,qt,wt]},encapsulation:2}),e=Object(a.b)([Object(a.e)(2,Object(o.q)(o.w))],e),e})(),Nt=(()=>{let e=class{constructor(){this.dayHeaderClicked=new o.o,this.eventDropped=new o.o,this.dragEnter=new o.o,this.trackByWeekDayHeaderDate=at}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,t){if(1&e&&(o.bd(0,$e,2,2,"ng-template",null,0,o.cd),o.bd(2,ze,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Mc(2,Me,t.days,t.locale,t.dayHeaderClicked,t.eventDropped,t.dragEnter,t.trackByWeekDayHeaderDate))}},directives:[c.x,c.p,v.b,c.o,wt],pipes:[_t],encapsulation:2}),e})(),Rt=(()=>{let e=class{constructor(){this.eventClicked=new o.o}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,t){if(1&e&&(o.bd(0,Le,6,26,"ng-template",null,0,o.cd),o.bd(2,Ae,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Pc(2,Fe,[t.weekEvent,t.tooltipPlacement,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDisabled,t.tooltipDelay,t.column,t.daysInWeek]))}},directives:[c.x,c.t,Ze,wt,kt,Xe,He],pipes:[yt,St],encapsulation:2}),e})(),Gt=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,t){if(1&e&&(o.bd(0,Ne,3,13,"ng-template",null,0,o.cd),o.bd(2,Re,0,0,"ng-template",1)),2&e){const e=o.Rc(1);o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Lc(2,Ge,t.segment,t.locale,t.segmentHeight,t.isTimeLabel,t.daysInWeek))}},directives:[c.x,c.o,c.q],pipes:[St,_t],encapsulation:2}),e})(),qt=(()=>{let e=class{constructor(e,t){this.dateAdapter=e,this.zone=t,this.columnDate$=new u.a(this.columnDate),this.marker$=this.zone.onStable.pipe(Object(h.a)(()=>Object(p.a)(6e4)),Object(b.a)(0),Object(g.a)(this.columnDate$),Object(f.a)(e=>{const t=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayStartHour),this.dayStartMinute),i=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayEndHour),this.dayEndMinute),a=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),o=new Date;return{isVisible:this.dateAdapter.isSameDay(e,o)&&o>=t&&o<=i,top:this.dateAdapter.differenceInMinutes(o,t)*a}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}};return e.\u0275fac=function(t){return new(t||e)(o.Wb(Qe),o.Wb(o.B))},e.\u0275cmp=o.Qb({type:e,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[o.Gb],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,t){if(1&e&&(o.bd(0,Be,1,1,"ng-template",null,0,o.cd),o.bd(2,We,0,0,"ng-template",1),o.vc(3,"async"),o.vc(4,"async")),2&e){const e=o.Rc(1);let i=null;o.Ib(2),o.Dc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.Nc(6,Ve,t.columnDate,t.dayStartHour,t.dayStartMinute,t.dayEndHour,t.dayEndMinute,null==(i=o.wc(3,2,t.marker$))?null:i.isVisible,null==(i=o.wc(4,4,t.marker$))?null:i.top))}},directives:[c.x,c.q],pipes:[c.b],encapsulation:2}),e})(),Bt=(()=>{let e=class{};return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[c.c,y.b,v.a,Ct],y.b,v.a]}),e})();const Wt=o.ec(ft)},kU3c:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("fXoL"),o=i("xZYg");let c=(()=>{class e{constructor(e,t){this.dropdown=e,this.elementRef=t,this.cuLegacyDropdownMouseenter=!1,this.dropdown.toggleElement=this.elementRef.nativeElement}onMouseEnter(){this.cuLegacyDropdownMouseenter&&this.dropdown.open(!0)}toggle(){this.dropdown.toggle()}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.a),a.Wb(a.m))},e.\u0275dir=a.Rb({type:e,selectors:[["","cuLegacyDropdownToggle",""]],hostBindings:function(e,t){1&e&&a.qc("mouseenter",function(){return t.onMouseEnter()})("click",function(){return t.toggle()})},inputs:{cuLegacyDropdownMouseenter:"cuLegacyDropdownMouseenter"}}),e})()},kUag:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},kcRA:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("tNvG"),o=i("fXoL"),c=i("8it8");let n=(()=>{class e{constructor(e,t){this.injector=e,this.commonStringsService=t}create(e){return new a.b(e,this.injector,this.commonStringsService)}}return e.\u0275fac=function(t){return new(t||e)(o.nc(o.t),o.nc(c.a))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},kqBa:function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"Q",function(){return l}),i.d(t,"R",function(){return d}),i.d(t,"H",function(){return u}),i.d(t,"q",function(){return p}),i.d(t,"p",function(){return m}),i.d(t,"o",function(){return h}),i.d(t,"B",function(){return b}),i.d(t,"C",function(){return g}),i.d(t,"A",function(){return f}),i.d(t,"r",function(){return _}),i.d(t,"s",function(){return v}),i.d(t,"k",function(){return y}),i.d(t,"E",function(){return w}),i.d(t,"D",function(){return k}),i.d(t,"y",function(){return x}),i.d(t,"z",function(){return T}),i.d(t,"K",function(){return S}),i.d(t,"F",function(){return j}),i.d(t,"N",function(){return O}),i.d(t,"g",function(){return I}),i.d(t,"j",function(){return D}),i.d(t,"M",function(){return C}),i.d(t,"L",function(){return P}),i.d(t,"x",function(){return $}),i.d(t,"u",function(){return z}),i.d(t,"m",function(){return M}),i.d(t,"l",function(){return E}),i.d(t,"J",function(){return L}),i.d(t,"i",function(){return A}),i.d(t,"I",function(){return F}),i.d(t,"h",function(){return U}),i.d(t,"G",function(){return N}),i.d(t,"n",function(){return R}),i.d(t,"e",function(){return G}),i.d(t,"d",function(){return q}),i.d(t,"c",function(){return B}),i.d(t,"b",function(){return W}),i.d(t,"t",function(){return V}),i.d(t,"w",function(){return X}),i.d(t,"O",function(){return H}),i.d(t,"v",function(){return Y}),i.d(t,"f",function(){return Z}),i.d(t,"P",function(){return Q});var a=i("NCT3"),o=i("rGM1"),c=i("WH7v"),n=i("Ll/8"),s=i("nLWA");function r(e,t){return e.reduce((e,i)=>Object.assign(Object.assign({},e),{[t(i)]:i}),{})}function l(e,t){const i=t.customFields[e];return!i||!i.filterValue||"IS NULL"!==i.filterValue.op}function d(e=c.d,t){let i,d,u,p,m;switch(t.type){case o.lb:return i={},u={},m={},t.payload||(Object.keys(e.spaces).forEach(e=>i[e]=!0),Object.keys(e.projects).forEach(e=>u[e]=!0),Object.keys(e.lists).forEach(e=>m[e]=!0)),Object.assign(Object.assign({},e),{selectedSpaceMap:i,selectedProjectMap:u,selectedListMap:m});case o.L:{const i=t.payload.dateCreated;return Object.assign(Object.assign({},e),{exportDateCreated:i})}case o.Y:{const i=t.payload,{startDate:o,endDate:c}=Object(a.l)(i,e.startOfWeek,e.startDate,e.endDate),n=!i;return Object.assign(Object.assign({},e),{selectedPeriod:i,startDate:o,endDate:c,showCalendar:n})}case o.e:{let t=e.startDate,i=e.endDate,o=e.selectedPeriod;if(!t||!i){o="today";const e=Object(a.l)(o);t=e.startDate,i=e.endDate}return Object.assign(Object.assign({},e),{showCalendar:!1,selectedPeriod:o,startDate:t,endDate:i})}case o.ab:{const{startDate:i,endDate:a}=t.payload;return Object.assign(Object.assign({},e),{startDate:i,endDate:a})}case o.F:{const i=t.payload;return Object.assign(Object.assign({},e),{hoursState:i})}case o.nb:{const t=!e.hoursPerDayFocused;return Object.assign(Object.assign({},e),{hoursPerDayFocused:t})}case o.bb:{const i=t.payload,a=i.id,o=i.hours_per_day||s.a;return Object.assign(Object.assign({},e),{teamId:a,hoursPerDay:o,team:i})}case o.db:{const i=t.payload;return Object.assign(Object.assign({},e),{startOfWeek:i})}case o.N:return c.d;case o.cb:{const i=t.payload;return Object.assign(Object.assign({},e),{searchString:i})}case o.h:return Object.assign(Object.assign({},e),{reportError:"",reportLoading:!0,exportUrl:"",exportRequested:!1,pagePreview:!1});case o.j:{let i=[],a={};if(e.groupResultsBy===c.b.Task)t.payload.tasks&&t.payload.tasks.length>0&&(i=[-1],a={[-1]:t.payload});else{const e=t.payload.users||[];i=e.map(e=>e.user?e.user.id:-1),a=r(e,e=>e.user?e.user.id:-1)}return"custom_fields"===e.reportingType&&Object.keys(a).forEach(t=>{e.reportRows[t]&&(a[t].expanded=e.reportRows[t].expanded)}),Object.assign(Object.assign({},e),{reportLoading:!1,reportRows:a,rowUserIds:i})}case o.i:{const i=t.payload;return Object.assign(Object.assign({},e),{reportError:i,reportLoading:!1})}case o.n:{const{userId:i}=t.payload,a=Object.assign({},e.reportRows[i]);a&&(a.loading=!0);const o=Object.assign(Object.assign({},e.reportRows),{[i]:a});return Object.assign(Object.assign({},e),{reportRows:o,reportTasksError:""})}case o.p:{const{tasks:i,taskIds:a,userId:o}=t.payload,c=Object.assign({},e.reportRows[o]);c&&(i?(c.tasks=i,c.task_ids=a):c.tasks||(c.expanded=!1),c.loading=!1);const n=Object.assign(Object.assign({},e.reportRows),{[o]:c});return Object.assign(Object.assign({},e),{reportRows:n})}case o.o:{const{reportTasksError:i,userId:a}=t.payload,o=Object.assign({},e.reportRows[a]);o&&(o.loading=!1);const c=Object.assign(Object.assign({},e.reportRows),{[a]:o});return Object.assign(Object.assign({},e),{reportTasksError:i,reportRows:c})}case o.k:{const{userId:i}=t.payload,a=Object.assign({},e.reportRows[i]);a&&(a.loadingMore=!0);const o=Object.assign(Object.assign({},e.reportRows),{[i]:a});return Object.assign(Object.assign({},e),{reportRows:o,reportTasksError:""})}case o.m:{const{userId:i,tasks:a}=t.payload,o=Object.assign({},e.reportRows[i]);o&&(o.tasks=[...o.tasks||[],...a],o.loadingMore=!1);const c=Object.assign(Object.assign({},e.reportRows),{[i]:o});return Object.assign(Object.assign({},e),{reportRows:c,reportTasksError:""})}case o.l:{const{reportTasksError:i,userId:a}=t.payload,o=Object.assign({},e.reportRows[a]);o&&(o.loadingMore=!1);const c=Object.assign(Object.assign({},e.reportRows),{[a]:o});return Object.assign(Object.assign({},e),{reportTasksError:i,reportRows:c})}case o.q:return Object.assign(Object.assign({},e),{hierarchyError:"",hierarchyLoading:!0});case o.s:{const i=t.payload.projects,a=n.e(i,{}),{projects:o,lists:c}=n.f(i);return Object.assign(Object.assign({},e),{hierarchyLoaded:!0,spacesList:i,spaces:a,projects:o,lists:c,hierarchyLoading:!1,allFields:t.payload.fields})}case o.r:{const i=t.payload;return Object.assign(Object.assign({},e),{hierarchyError:i,hierarchyLoading:!1})}case o.b:{const i=t.payload;return Object.assign(Object.assign({},e),{searchString:i})}case o.J:return Object.assign(Object.assign({},e),{exportRequested:!0,exportError:""});case o.M:{const i=t.payload;return Object.assign(Object.assign({},e),{exportUrl:i})}case o.K:{const i=t.payload;return Object.assign(Object.assign({},e),{exportError:i,exportRequested:!1})}case o.Db:{const{key:i,value:a}=t.payload,o=Object.assign(Object.assign({},e.filterMap),{[i]:a}),c=Object.assign({},e.columnSortMapKeys.custom_fields);return Object.keys(c).forEach(e=>{l(e,o)||delete c[e]}),Object.assign(Object.assign({},e),{filterMap:o,columnSortMapOrder:Object.assign(Object.assign({},e.columnSortMapOrder),{custom_fields:e.columnSortMapOrder.custom_fields.filter(e=>l(e,o))}),columnSortMapKeys:Object.assign(Object.assign({},e.columnSortMapKeys),{custom_fields:c})})}case o.Fb:{const{reportingType:i,paid:a,pagePreview:o}=t.payload;return Object.assign(Object.assign({},e),{reportingType:i,paid:a,pagePreview:o,groupResultsBy:c.b.User})}case o.sb:{const a=t.payload,o=!e.selectedSpaceMap[a];return i=Object.assign(Object.assign({},e.selectedSpaceMap),{[a]:o}),u=Object.assign({},e.selectedProjectMap),m=Object.assign({},e.selectedListMap),e.spaces[a].categories.forEach(e=>{o?u[e.id]=!0:delete u[e.id],e.subcategories.forEach(e=>{o?m[e.id]=!0:delete m[e.id]})}),Object.assign(Object.assign({},e),{selectedSpaceMap:i,selectedProjectMap:u,selectedListMap:m})}case o.rb:{const i=t.payload,a=!e.expandedSpaceMap[i];return d=Object.assign(Object.assign({},e.expandedSpaceMap),{[i]:a}),Object.assign(Object.assign({},e),{expandedSpaceMap:d})}case o.qb:{const a=t.payload,o=!e.selectedProjectMap[a];u=Object.assign(Object.assign({},e.selectedProjectMap),{[a]:o}),i=Object.assign({},e.selectedSpaceMap),m=Object.assign({},e.selectedListMap);const c=e.projects[a];return o?(c.subcategories.forEach(e=>m[e.id]=!0),e.spaces[c.space_id].categories.every(e=>u[e.id])&&(i=Object.assign(Object.assign({},i),{[e.spaces[c.space_id].id]:!0}))):(c.subcategories.forEach(e=>delete m[e.id]),delete i[e.spaces[c.space_id].id]),Object.assign(Object.assign({},e),{selectedProjectMap:u,selectedListMap:m,selectedSpaceMap:i})}case o.pb:{const i=t.payload,a=!e.expandedProjectMap[i];return p=Object.assign(Object.assign({},e.expandedProjectMap),{[i]:a}),Object.assign(Object.assign({},e),{expandedProjectMap:p})}case o.ob:{const a=t.payload,o=!e.selectedListMap[a];m=Object.assign(Object.assign({},e.selectedListMap),{[a]:o}),i=Object.assign({},e.selectedSpaceMap),u=Object.assign({},e.selectedProjectMap);const c=e.projects[e.lists[a].project_id],n=e.spaces[c.space_id];return o?c.subcategories.every(e=>m[e.id])&&(u=Object.assign(Object.assign({},u),{[c.id]:!0}),n.categories.every(e=>u[e.id])&&(i=Object.assign(Object.assign({},i),{[n.id]:!0}))):(delete i[n.id],delete u[c.id]),Object.assign(Object.assign({},e),{selectedListMap:m,selectedProjectMap:u,selectedSpaceMap:i})}case o.tb:{const i=t.payload,a=Object.assign({},e.reportRows[i]);a&&(a.expanded=!a.expanded);const o=Object.assign(Object.assign({},e.reportRows),{[i]:a});return Object.assign(Object.assign({},e),{reportRows:o})}case o.mb:{const{columnId:i,dir:a,reportingType:o}=t.payload,c=o||e.reportingType,n="custom_fields"===c;if(n&&!l(i,e.filterMap))return e;let s=[...e.columnSortMapOrder[c]],r=Object.assign({},e.columnSortMapKeys[c]);if(-1===s.indexOf(i)){const e={[i]:a||"asc"};n?(s=[...s,i],r=Object.assign(Object.assign({},r),e)):(s=[i],r=e)}else r[i]="asc"===r[i]?"desc":"asc";const d=Object.assign(Object.assign({},e.columnSortMapOrder),{[c]:s}),u=Object.assign(Object.assign({},e.columnSortMapKeys),{[c]:r});return Object.assign(Object.assign({},e),{columnSortMapOrder:d,columnSortMapKeys:u})}case o.H:{const i=t.payload,a=[...e.columnSortMapOrder[e.reportingType]],o=Object.assign({},e.columnSortMapKeys[e.reportingType]),c=a.findIndex(e=>i===e);-1!==c&&a.splice(c,1),delete o[i];const n=Object.assign(Object.assign({},e.columnSortMapOrder),{[e.reportingType]:a}),s=Object.assign(Object.assign({},e.columnSortMapKeys),{[e.reportingType]:o});return Object.assign(Object.assign({},e),{columnSortMapOrder:n,columnSortMapKeys:s})}case o.X:return Object.assign(Object.assign({},e),{customFieldSearchText:t.payload.searchText});case o.a:return Object.assign(Object.assign({},e),{selectedCustomFieldMap:Object.assign(Object.assign({},e.selectedCustomFieldMap),{[t.payload.fieldId]:{}})});case o.I:{const i=Object.assign({},e.selectedCustomFieldMap);delete i[t.payload.fieldId];const a=Object.assign({},e.columnSortMapOrder);delete a.custom_fields[t.payload.fieldId];const o=Object.assign({},e.columnSortMapKeys);return delete o.custom_fields[t.payload.fieldId],Object.assign(Object.assign({},e),{selectedCustomFieldMap:i,columnSortMapOrder:a,columnSortMapKeys:o})}case o.d:return Object.assign(Object.assign({},e),{groupResultsBy:t.payload,reportRows:{},rowUserIds:[],reportLoading:!0});case o.O:return Object.assign(Object.assign({},e),{selectedCustomFieldMap:t.payload||{}});case o.Z:return Object.assign(Object.assign({},e),"custom_fields"===e.reportingType?{selectedCustomFieldMap:Object.assign(Object.assign({},e.selectedCustomFieldMap),{[t.payload.columnId]:{calculationId:t.payload.calculation.key}})}:{columnsSelected:Object.assign(Object.assign({},e.columnsSelected),{[e.reportingType]:Object.assign(Object.assign({},e.columnsSelected[e.reportingType]),{[t.payload.columnId]:{calculationId:t.payload.calculation.key}})})});case o.Gb:return Object.assign(Object.assign({},e),{viewPreferences:Object.assign(Object.assign({},e.viewPreferences),t.payload.preferences)});default:return e}}const u=e=>e.selectedPeriod,p=e=>e.hierarchyLoading,m=e=>e.hierarchyLoaded,h=e=>e.hierarchyError,b=e=>e.reportError,g=e=>e.team,f=e=>e.reportTasksError,_=e=>e.hoursPerDay,v=e=>e.hoursPerDayFocused,y=e=>e.exportError,w=e=>e.rowUserIds,k=e=>e.reportingType,x=e=>e.reportLoading,T=e=>e.reportRows,S=e=>e.showCalendar,j=e=>e.searchString,O=e=>e.startDate,I=e=>e.endDate,D=e=>e.exportDateCreated,C=e=>e.spacesList,P=e=>e.spaces,$=e=>e.projects,z=e=>e.lists,M=e=>e.exportUrl,E=e=>e.exportRequested,L=e=>e.selectedSpaceMap,A=e=>e.expandedSpaceMap,F=e=>e.selectedProjectMap,U=e=>e.expandedProjectMap,N=e=>e.selectedListMap,R=e=>e.filterMap,G=e=>e.columnsSelected,q=e=>e.columnsAvailable,B=e=>e.columnSortMapOrder,W=e=>e.columnSortMapKeys,V=e=>e.hoursState,X=e=>e.paid,H=e=>e.teamId,Y=e=>e.pagePreview,Z=e=>e.selectedCustomFieldMap,Q=e=>e.viewPreferences},lGbC:function(e,t,i){"use strict";i.d(t,"a",function(){return b});var a=i("dTHz"),o=i("7G3y"),c=i("XNiG"),n=i("hr9B"),s=i("c3rA"),r=i("fXoL"),l=i("l7P3"),d=i("ofXK"),u=i("8OWJ"),p=i("UdVN");const m=function(e){return{"cu-nav-favorites-bar__title_v5":e}},h=function(e){return{"cu-nav-favorites-bar__list_v6":e}};let b=(()=>{class e{constructor(e){this.store=e,this.user$=this.store.select(s.getUser),this.LayoutVersion=a.b,this.isSidebarDark=!1,this.destroy$=new c.a}ngOnInit(){this.store.dispatch(o.l()),this.store.dispatch(o.m())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}pinFavorites(e){this.store.dispatch(o.w({active:e}))}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(l.Store))},e.\u0275cmp=r.Qb({type:e,selectors:[["cu-nav-favorites-bar"]],hostAttrs:[1,"cu-nav-favorites-bar"],hostVars:2,hostBindings:function(e,t){2&e&&r.Ob("dark-theme",t.isSidebarDark)},inputs:{isSidebarDark:"isSidebarDark"},decls:8,vars:13,consts:function(){let e;return e=$localize`:@@common_favorites␟d6d2fd5d354a3d54b6533e4c34937f10787685f2␟617443630367153296: Favorites
`,[[1,"cu-nav-favorites-bar__title",3,"ngClass"],e,[1,"cu-nav-favorites-bar__list",3,"ngClass"],["favoritesContainer",""],[3,"headerCenter","itemModifier","moreModifier"],["icon","cu2-thumbtack-solid",1,"cu-nav-favorites-bar__unpin",3,"click"]]},template:function(e,t){if(1&e&&(r.cc(0,"div",0),r.gc(1,1),r.vc(2,"async"),r.bc(),r.cc(3,"div",2,3),r.vc(5,"async"),r.Xb(6,"cu2-nav-favorites",4),r.bc(),r.cc(7,"div",5),r.qc("click",function(){return t.pinFavorites(!1)}),r.bc()),2&e){const e=r.Rc(4);let i=null,a=null;r.Dc("ngClass",r.Hc(9,m,(null==(i=r.wc(2,5,t.user$))?null:i.dashboard)===t.LayoutVersion.Five)),r.Ib(3),r.Dc("ngClass",r.Hc(11,h,(null==(a=r.wc(5,7,t.user$))?null:a.dashboard)===t.LayoutVersion.Six)),r.Ib(3),r.Dc("headerCenter",e)("itemModifier","cu2-nav-favorites-item_bar")("moreModifier","nav-favorites__show-more-btn_bar")}},directives:[d.o,u.a,p.a],pipes:[d.b],styles:[".cu-nav-favorites-bar{display:flex;align-items:center;height:36px;z-index:560;flex-shrink:0;background:#fff;border-bottom:1px solid #e9ebf0}.cu-nav-favorites-bar.dark-theme{background:#20262b;border-bottom-color:#2b343b}.dark-theme .cu-nav-favorites-bar{background:#2b343b;border-bottom-color:#1e272e}.cu-nav-favorites-bar__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-transform:uppercase;color:#7c828d;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin:1px 15px 0 16px}.cu-nav-favorites-bar__title_v5,.layout-size_compact .cu-nav-favorites-bar__title_v5{margin-left:16px}.layout-size_default .cu-nav-favorites-bar__title_v5{margin-left:19px}.layout-size_large .cu-nav-favorites-bar__title_v5{margin-left:22px}.cu-nav-favorites-bar__list{flex-grow:1;min-width:0}.cu-nav-favorites-bar__unpin{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7b68ee;width:18px;height:21px;padding:5px;margin-right:20px;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-nav-favorites-bar__unpin{fill:var(--theme-main-color)}}.cu-nav-favorites-bar__unpin:hover{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-nav-favorites-bar__unpin:hover{fill:var(--theme-main-color-dark)}}"],encapsulation:2,data:{animation:[n.e]},changeDetection:0}),e})()},lPhz:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a=i("ofXK"),o=i("VBI8"),c=i("csDc"),n=i("EDFS"),s=i("y71m"),r=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=r.Ub({type:e}),e.\u0275inj=r.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.d,s.a]]}),e})()},mSrN:function(e,t,i){"use strict";i.d(t,"a",function(){return v});var a=i("ofXK"),o=i("dsEp"),c=i("K0KF"),n=i("IRoT"),s=i("KyjD"),r=i("Vlmb"),l=i("tyNb"),d=i("Fv+p"),u=i("bFKe"),p=i("gb9A"),m=i("C8uC"),h=i("3Pt+"),b=i("/SUI"),g=i("tGh3"),f=i("bx+h"),_=i("fXoL");let v=(()=>{class e{}return e.\u0275mod=_.Ub({type:e}),e.\u0275inj=_.Tb({factory:function(t){return new(t||e)},imports:[[a.c,h.l,n.a,s.a,c.a,o.a,r.a,l.l,d.a,u.b,p.a,m.LoaderModule,b.a,g.a,f.a]]}),e})()},"n+2j":function(e,t,i){"use strict";i.d(t,"o",function(){return s}),i.d(t,"b",function(){return r}),i.d(t,"m",function(){return l}),i.d(t,"n",function(){return d}),i.d(t,"l",function(){return u}),i.d(t,"h",function(){return p}),i.d(t,"g",function(){return m}),i.d(t,"j",function(){return h}),i.d(t,"i",function(){return b}),i.d(t,"k",function(){return g}),i.d(t,"a",function(){return f}),i.d(t,"f",function(){return _}),i.d(t,"c",function(){return v}),i.d(t,"d",function(){return y}),i.d(t,"e",function(){return w});var a=i("zJDR"),o=i("YHHY"),c=i("Ll/8");const n={step:a.c.NAME,owners:[],name:"",forceScroll:!1,createError:null,created:null,creating:!1,type:a.d.NUMBER,numberStart:0,numberEnd:1,numberUnits:null,editingUnits:null,currencyStart:0,currencyEnd:1,currency:null,tasks:[],lists:[],triedToSubmitType:!1};function s(e=n,t){switch(t.type){case o.o:{const{step:i}=t.payload;return Object.assign(Object.assign({},e),{step:i})}case o.l:return n;case o.k:{const{owner:i}=t.payload,a=e.owners.filter(e=>e.id!==i.id);return Object.assign(Object.assign({},e),{owners:a})}case o.x:{const{type:i}=t.payload;return Object.assign(Object.assign({},e),{type:i})}case o.w:{const{task:i,remove:a}=t.payload;let o;return o=a?e.tasks.filter(e=>e.id!==i.id):[...e.tasks,i],Object.assign(Object.assign({},e),{tasks:o})}case o.r:{const{list:i,remove:a}=t.payload;let o;return o=a?e.lists.filter(e=>e.id!==i.id):Object(c.p)([...e.lists,i],"id"),Object.assign(Object.assign({},e),{lists:o})}case o.p:{const{currency:i}=t.payload;return Object.assign(Object.assign({},e),{currency:i})}case o.u:{const{numberUnits:i}=t.payload;return Object.assign(Object.assign({},e),{numberUnits:i,editingUnits:null})}case o.t:{const{forStart:i,value:a}=t.payload,o=i?a:e.numberStart,c=i?e.numberEnd:a;return Object.assign(Object.assign({},e),{numberEnd:c,numberStart:o})}case o.q:{const{forStart:i,value:a}=t.payload,o=i?a:e.currencyStart,c=i?e.currencyEnd:a;return Object.assign(Object.assign({},e),{currencyEnd:c,currencyStart:o})}case o.g:{const{type:i}=t.payload;return Object.assign(Object.assign({},e),{editingUnits:i})}case o.v:{const{owners:i}=t.payload;return Object.assign(Object.assign({},e),{owners:i})}case o.s:{const{name:i}=t.payload;return Object.assign(Object.assign({},e),{name:i})}case o.a:return Object.assign(Object.assign({},e),{createError:null,creating:!0});case o.c:{const{keyResult:i}=t.payload;return Object.assign(Object.assign({},e),{created:i.id,creating:!1})}case o.I:return Object.assign(Object.assign({},e),{triedToSubmitType:!0});case o.b:return Object.assign(Object.assign({},e),{createError:t.payload.err,creating:!1});default:return e}}const r=e=>e.step,l=e=>e.triedToSubmitType,d=e=>e.type,u=e=>e.tasks,p=e=>e.lists,m=e=>e.editingUnits,h=e=>e.numberStart,b=e=>e.numberEnd,g=e=>e.numberUnits,f=e=>e.owners,_=e=>e.currency,v=e=>e.createError,y=e=>e.created,w=e=>e.creating},nJgP:function(e,t,i){"use strict";i.d(t,"a",function(){return de});var a=i("Gj5t"),o=i("Hgwy"),c=i("c3rA"),n=i("GkwO"),s=i("o7Ov"),r=i("fXoL"),l=i("itXk"),d=i("XNiG"),u=i("l7P3"),p=i("lJxs"),m=i("pLZG"),h=i("eIep"),b=i("zp1y"),g=i("1G5W"),f=i("MguC"),_=i("dTHz"),v=i("Tm/s"),y=i("jJW4"),w=i("Jf2N"),k=i("gXbQ"),x=i("bFKe"),T=i("ofXK"),S=i("tyNb"),j=i("LdyQ"),O=i("UdVN"),I=i("MJvn"),D=i("NsZK"),C=i("n+1/"),P=i("OBnU"),$=i("5Mp/"),z=i("p080"),M=i("IkRJ"),E=i("+Kou");const L=["layoutStyleModal"];function A(e,t){1&e&&(r.ac(0),r.gc(1,18),r.Zb())}function F(e,t){if(1&e&&(r.ac(0),r.bd(1,A,2,0,"ng-container",11),r.vc(2,"async"),r.Zb()),2&e){r.uc();const e=r.Rc(8),t=r.uc();r.Ib(1),r.Dc("ngIf",r.wc(2,2,t.highlightSharedSpace$))("ngIfElse",e)}}function U(e,t){1&e&&(r.ac(0),r.gc(1,19),r.Zb())}function N(e,t){1&e&&(r.ac(0),r.gc(1,20),r.Zb())}function R(e,t){if(1&e){const e=r.dc();r.ac(0),r.cc(1,"div",22),r.qc("click",function(){return r.Uc(e),r.uc(3).toggleSidebarDarkTheme()}),r.Xb(2,"div",26),r.cc(3,"div",24),r.gc(4,27),r.bc(),r.Xb(5,"cu-toggle-switch",28),r.vc(6,"async"),r.bc(),r.Zb()}if(2&e){const e=r.uc(3);let t=null;r.Ib(5),r.Dc("checked",(null==(t=r.wc(6,1,e.user$))?null:t.sidebar_theme)===e.LeftSidebarTheme.Dark)}}function G(e,t){if(1&e){const e=r.dc();r.cc(0,"div",21),r.cc(1,"div",22),r.qc("click",function(){return r.Uc(e),r.uc(2).showLayoutStyleModal()}),r.Xb(2,"div",23),r.cc(3,"div",24),r.gc(4,25),r.bc(),r.bc(),r.bd(5,R,7,3,"ng-container",4),r.vc(6,"async"),r.bc()}if(2&e){const e=r.uc(2);let t=null;r.Ib(5),r.Dc("ngIf",!(null!=(t=r.wc(6,1,e.user$))&&t.dark_theme))}}function q(e,t){if(1&e&&(r.cc(0,"div",8),r.vc(1,"async"),r.cc(2,"div",9),r.cc(3,"a",10),r.vc(4,"async"),r.bd(5,F,3,4,"ng-container",11),r.vc(6,"async"),r.bd(7,U,2,0,"ng-template",null,12,r.cd),r.bd(9,N,2,0,"ng-template",null,13,r.cd),r.bc(),r.bc(),r.cc(11,"div",14,15),r.Xb(13,"div",16),r.vc(14,"async"),r.bd(15,G,7,3,"div",17),r.bc(),r.bc()),2&e){const e=r.Rc(10),t=r.uc();let i=null;r.Ob("sidebar-section__header_active",r.wc(1,9,t.highlightSharedSpace$)),r.Ib(3),r.Dc("routerLink",r.wc(4,11,t.sharedSpacePath$)),r.Ib(2),r.Dc("ngIf",r.wc(6,13,t.isGuestTeam$))("ngIfElse",e),r.Ib(6),r.Dc("dropdownCloseOnInsideClick",!1)("dropdownDestroyMenuOnClose",!1)("dropdownCloseOnModal",!0),r.Ib(2),r.Dc("tooltipModifier",(null==(i=r.wc(14,15,t.user$))?null:i.dashboard)===t.LayoutVersion.Four?"tooltip_v4-near":"")}}function B(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-convo-doc-visibility",29),r.qc("dropdownOpen",function(){return r.Uc(e),r.uc().dropdownOpen.emit()})("dropdownClose",function(){return r.Uc(e),r.uc().dropdownClose.emit()}),r.bc()}if(2&e){const e=r.uc();r.Dc("modifier","cu-shared-nav__convo-doc")("convos",e.convos)("docs",e.docs)}}function W(e,t){}function V(e,t){if(1&e&&r.bd(0,W,0,0,"ng-template",31),2&e){r.uc(2);const e=r.Rc(32);r.Dc("ngTemplateOutlet",e)}}function X(e,t){1&e&&(r.cc(0,"div",37),r.cc(1,"div",38),r.gc(2,39),r.bc(),r.bc())}function H(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-nav-category",40),r.qc("onToggle",function(i){r.Uc(e);const a=t.$implicit;return r.uc(3).toggleOpenState(a,i)})("onDropView",function(t){return r.Uc(e),r.uc(3).dropView(t)})("dropdownOpen",function(){return r.Uc(e),r.uc(3).dropdownOpen.emit()})("dropdownClose",function(){return r.Uc(e),r.uc(3).dropdownClose.emit()}),r.vc(1,"async"),r.vc(2,"async"),r.vc(3,"async"),r.vc(4,"async"),r.vc(5,"async"),r.vc(6,"async"),r.vc(7,"async"),r.bc()}if(2&e){const e=t.$implicit,i=r.uc(3);let a=null;r.Dc("category",e)("onlyDeleteIfOwner",r.wc(1,10,i.onlyDeleteIfOwner$))("canDelete",r.wc(2,12,i.canDelete$))("meUser",r.wc(3,14,i.sharedData.currentUser))("isActive",r.wc(4,16,i.selectedCategoryId$)===(null==e?null:e.id))("isOpened",r.wc(5,18,i.isOpenedMap$)[null==e?null:e.id])("selectedSubcategory",r.wc(6,20,i.selectedSubcategoryId$))("projectId",e.project_id)("alwaysVisible",!0)("layoutType",null==(a=r.wc(7,22,i.user$))?null:a.dashboard)}}const Y=function(e){return{"cu-shared-nav__nav-section_guest":e}};function Z(e,t){if(1&e){const e=r.dc();r.cc(0,"cu-nav-section",41),r.qc("onDropView",function(i){r.Uc(e);const a=t.$implicit;return r.uc(3).dropViewToSubcategory(i,a)})("dropdownOpen",function(){return r.Uc(e),r.uc(3).dropdownOpen.emit()})("dropdownClose",function(){return r.Uc(e),r.uc(3).dropdownClose.emit()}),r.vc(1,"async"),r.vc(2,"async"),r.vc(3,"async"),r.vc(4,"async"),r.vc(5,"async"),r.vc(6,"async"),r.bc()}if(2&e){const e=t.$implicit,i=r.uc(3);let a=null;r.Dc("ngClass",r.Hc(23,Y,r.wc(1,11,i.isGuestTeam$)))("onlyDeleteIfOwner",r.wc(2,13,i.onlyDeleteIfOwner$))("canDelete",r.wc(3,15,i.canDelete$))("sharedWithMe",!0)("meUser",r.wc(4,17,i.sharedData.currentUser))("section",e)("isActive",r.wc(5,19,i.selectedSubcategoryId$)===(null==e?null:e.id))("projectId",e.project_id)("categoryId",e.category)("layoutType",null==(a=r.wc(6,21,i.user$))?null:a.dashboard)("alwaysVisible",!0)}}function Q(e,t){if(1&e&&(r.cc(0,"div",32),r.bd(1,X,3,0,"div",33),r.vc(2,"async"),r.cc(3,"div",34),r.bd(4,H,8,24,"cu-nav-category",35),r.vc(5,"async"),r.bd(6,Z,7,25,"cu-nav-section",36),r.vc(7,"async"),r.bc(),r.bc()),2&e){const e=r.uc(2);let t=null;r.Ib(1),r.Dc("ngIf",(null==(t=r.wc(2,5,e.user$))?null:t.dashboard)!==e.LayoutVersion.Six),r.Ib(3),r.Dc("ngForOf",r.wc(5,7,e.categories$))("ngForTrackBy",e.trackById),r.Ib(2),r.Dc("ngForOf",r.wc(7,9,e.subcategories$))("ngForTrackBy",e.trackById)}}function K(e,t){}function J(e,t){if(1&e&&r.bd(0,K,0,0,"ng-template",31),2&e){r.uc(2);const e=r.Rc(32);r.Dc("ngTemplateOutlet",e)}}function ee(e,t){if(1&e&&(r.ac(0),r.bd(1,V,1,1,void 0,4),r.vc(2,"async"),r.bd(3,Q,8,11,"div",30),r.vc(4,"async"),r.vc(5,"async"),r.bd(6,J,1,1,void 0,4),r.vc(7,"async"),r.Zb()),2&e){const e=r.uc();let t=null,i=null,a=null;r.Ib(1),r.Dc("ngIf",(null==(t=r.wc(2,3,e.user$))?null:t.dashboard)!==e.LayoutVersion.Six),r.Ib(2),r.Dc("ngIf",(null==(i=r.wc(4,5,e.categories$))?null:i.length)||(null==(i=r.wc(5,7,e.subcategories$))?null:i.length)),r.Ib(3),r.Dc("ngIf",(null==(a=r.wc(7,9,e.user$))?null:a.dashboard)===e.LayoutVersion.Six)}}function te(e,t){if(1&e&&(r.cc(0,"div",42),r.gc(1,43),r.vc(2,"async"),r.bc()),2&e){const e=r.uc();let t=null;r.Ib(2),r.kc(null==(t=r.wc(2,1,e.team$))?null:t.name),r.hc(1)}}function ie(e,t){1&e&&r.Xb(0,"cu-layout-style-modal")}function ae(e,t){1&e&&(r.cc(0,"div",37),r.cc(1,"div",38),r.gc(2,48),r.bc(),r.bc())}function oe(e,t){1&e&&(r.ac(0),r.gc(1,49),r.Zb())}function ce(e,t){1&e&&(r.ac(0),r.gc(1,50),r.Zb())}const ne=function(e){return{"cu-shared-nav__tasks_active":e}};function se(e,t){if(1&e&&(r.cc(0,"div",32),r.bd(1,ae,3,0,"div",33),r.vc(2,"async"),r.cc(3,"div",44),r.cc(4,"div",45),r.vc(5,"async"),r.cc(6,"a",46),r.vc(7,"async"),r.bd(8,oe,2,0,"ng-container",4),r.vc(9,"async"),r.bd(10,ce,2,0,"ng-container",4),r.vc(11,"async"),r.bc(),r.cc(12,"div",47),r.dd(13),r.vc(14,"async"),r.bc(),r.bc(),r.bc(),r.bc()),2&e){const e=r.uc(2);let t=null,i=null,a=null,o=null;r.Ib(1),r.Dc("ngIf",(null==(t=r.wc(2,6,e.user$))?null:t.dashboard)!==e.LayoutVersion.Six),r.Ib(3),r.Dc("ngClass",r.Hc(18,ne,r.wc(5,8,e.sharedTasksParam$))),r.Ib(2),r.Dc("routerLink",r.wc(7,10,e.sharedTasksPath$)),r.Ib(2),r.Dc("ngIf",(null==(i=r.wc(9,12,e.user$))?null:i.dashboard)!==e.LayoutVersion.Six),r.Ib(2),r.Dc("ngIf",(null==(a=r.wc(11,14,e.user$))?null:a.dashboard)===e.LayoutVersion.Six),r.Ib(3),r.fd(" ",(null==(o=r.wc(14,16,e.sharedData$))?null:o.taskCount)||0," ")}}function re(e,t){if(1&e&&(r.bd(0,se,15,20,"div",30),r.vc(1,"async"),r.vc(2,"async")),2&e){const e=r.uc();let t=null;r.Dc("ngIf",(null==(t=r.wc(1,1,e.sharedData$))?null:t.taskCount)>0||r.wc(2,3,e.sharedTasksParam$))}}const le=function(){return{suppressScrollX:!0}};let de=(()=>{class e{constructor(e,t,i,s,b){this.store=e,this.navService=t,this.sharedData=i,this.modalService=s,this.userService=b,this.team$=this.store.select(c.getTeam),this.user$=this.store.select(c.getUser),this.project$=this.store.select(c.getProject),this.sharedData$=this.store.select(c.getSharedData),this.isGuestTeam$=this.store.select(c.isGuestTeam),this.sharedSpaceParam$=this.store.select(c.getSharedSpaceParam),this.sharedTasksParam$=this.store.select(c.getSharedTasksParam),this.highlightSharedSpace$=Object(l.a)([this.sharedSpaceParam$,this.sharedTasksParam$,this.store.select(c.getProject),this.store.select(c.getCategory),this.store.select(c.getSubcategory)]).pipe(Object(p.a)(([e,t,i,a,o])=>!(!e||t||i||a||o))),this.categories$=this.sharedData$.pipe(Object(m.a)(e=>!!e),Object(p.a)(e=>e.categories||[])),this.subcategories$=this.sharedData$.pipe(Object(m.a)(e=>!!e),Object(p.a)(e=>e.subcategories||[])),this.selectedCategoryId$=this.store.select(c.getSelectedCategoryId),this.selectedSubcategoryId$=this.store.select(c.getSelectedSubcategoryId),this.canDelete$=this.store.pipe(Object(u.select)(c.getUserEnterprisePermissions),Object(p.a)(e=>!e||e.delete_items===o.b.ON)),this.onlyDeleteIfOwner$=this.store.pipe(Object(u.select)(c.getUserEnterprisePermissions),Object(p.a)(e=>e&&e.delete_items===o.b.CREATE)),this.isOpenedMap$=this.navService.categoryOpenMap$,this.destroy$=new d.a,this.sharedTasksPath$=Object(l.a)([this.store.select(c.getTeam),this.team$.pipe(Object(h.a)(e=>this.store.select(Object(n.hb)(f.e.SharedSpace,e.id,!1,!0))))]).pipe(Object(p.a)(([e,t])=>t||["/",e.id,"v","tsh",1,1])),this.sharedSpacePath$=Object(l.a)([this.store.select(c.getTeam),this.team$.pipe(Object(h.a)(e=>this.store.select(Object(n.hb)(f.e.SharedSpace,e.id))))]).pipe(Object(p.a)(([e,t])=>t||["/",e.id,"v","sh",2,1])),this.sharedExpanded$=this.navService.projectOpenMap$.pipe(Object(p.a)(e=>e&&e[a.h])),this.LayoutVersion=_.b,this.LeftSidebarTheme=_.c,this.allowCollapse=!1,this.dropdownOpen=new r.o,this.dropdownClose=new r.o,this.trackById=(e,t)=>t?t.id:void 0}ngOnInit(){this.navService.onChange.pipe(Object(m.a)(e=>"updateSection"===e.type),Object(p.a)(e=>e.payload),Object(b.a)(this.categories$),Object(g.a)(this.destroy$)).subscribe(([e,t])=>{e&&e.id&&this.store.dispatch(new s.Im({section:e}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}toggleOpenState(e,t){this.navService.setCategoryOpenState(e.id,t)}dropView({id:e,parent:t}){this.store.dispatch(new s.we(e,t))}dropViewToSubcategory(e,t){this.dropView({id:e,parent:{type:f.e.Subcategory,id:t.id}})}showLayoutStyleModal(){this.modalService.open({title:$localize`:@@layout_size-and-style-1:Layout size & style`,content:this.layoutStyleModal,bodyModifier:"cu-modal__body_no-min-height"})}toggleSidebarDarkTheme(){this.userService.setTheme(this.user,!1,!0)}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(u.Store),r.Wb(v.a),r.Wb(y.a),r.Wb(w.a),r.Wb(k.c))},e.\u0275cmp=r.Qb({type:e,selectors:[["cu-shared-nav"]],viewQuery:function(e,t){if(1&e&&r.jd(L,1),2&e){let e;r.Qc(e=r.rc())&&(t.layoutStyleModal=e.first)}},hostAttrs:[1,"cu-shared-nav"],inputs:{convos:"convos",docs:"docs",allowCollapse:"allowCollapse",user:"user"},outputs:{dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},decls:33,vars:50,consts:function(){let e,t,i,a,o,c,n,s,r,l,d;return e=$localize`:@@common_sidebar-settings␟219850fe98ddadfa51d645eee93046c660a392be␟3107886190804624906:Sidebar settings`,t=$localize`:@@common_viewing-all␟512fc5dbc792040391a77e628c2660479cfabdfe␟7212621283344194473:Viewing all`,i=$localize`:@@common_view-all␟8b78b5a2df616cce5aae0cee51ac86fe98e96917␟2734780694152757859:View all`,a=$localize`:@@common_shared-with-me␟faed3331fc2986525dfb414e4547af49aebd3a4a␟231920238966427751:Shared with me`,o=$localize`:@@layout_size-and-style␟881c9c8b2eedebdd080f9e2a56a659c5958ddbb8␟3365640200759440567: Layout size & style `,c=$localize`:@@common_dark-sidebar␟5a90b5cd0e95af255ed45a509d4b8cc4f4242f3a␟8549564431217693270: Dark side(bar) `,n=$localize`:@@common_lists␟b15e7bec5c7833d2d9634946ccbed68967b1bee1␟8756167649220050929:Lists`,s=$localize`:@@cu-shared-nav__no-shared-items-from-team␟fa3fc18d7c1815b029a3ec0a46421bbc1daff863␟2194569166518457198: You don't have anything shared with you from ${"\ufffd0\ufffd"}:INTERPOLATION:. `,r=$localize`:@@common_tasks␟586a5fd72602b5b14ec0c55f84814de47bb21e3a␟6904866445262015585:Tasks`,l=$localize`:@@common_tasks-shared-with-me␟d809729fd2daeb8c201bcc479ae8b54415a03f6d␟1462773331683183582:Tasks shared with me`,d=$localize`:@@common_shared-tasks␟04bb795bcb29bb4e326d58f26f1eaae7744af94e␟1102722284589264277:Shared tasks`,[[1,"cu-shared-nav__scrollable",3,"perfectScrollbar"],["scrollContainer","","scrollbar","ngxPerfectScrollbar"],["class","cu-shared-nav__all-title sidebar-section__header",3,"sidebar-section__header_active",4,"ngIf"],[3,"modifier","convos","docs","dropdownOpen","dropdownClose",4,"ngIf"],[4,"ngIf"],["class","cu-shared-nav__notes",4,"ngIf"],["layoutStyleModal",""],["sharedTasks",""],[1,"cu-shared-nav__all-title","sidebar-section__header"],[1,"sidebar-section__name"],[1,"sidebar-section__name-link",3,"routerLink"],[4,"ngIf","ngIfElse"],["isNotSharedSpace",""],["isNotGuestTeam",""],["cuDropdown","",1,"nav-menu","cu-dropdown",3,"dropdownCloseOnInsideClick","dropdownDestroyMenuOnClose","dropdownCloseOnModal"],["menu","dropdown"],["icon","cu2-cog","cuDropdownToggle","","cuTooltip",e,1,"cu-dropdown__toggle","nav-menu__toggle","nav-menu__toggle_cog",3,"tooltipModifier"],["class","cu-dropdown__menu cu-dropdown__menu_overflow-hidden nav-menu__controls",4,"cuDropdownMenu"],t,i,a,[1,"cu-dropdown__menu","cu-dropdown__menu_overflow-hidden","nav-menu__controls"],[1,"nav-menu-item",3,"click"],["icon","cu2-layout-style",1,"nav-menu-item__icon","nav-menu-item__icon_dashboard"],[1,"nav-menu-item__name"],o,["icon","cu2-darth-vader",1,"nav-menu-item__icon","nav-menu-item__icon_dashboard"],c,[1,"nav-menu-item__toggle-switch","nav-menu-item__toggle-switch_not-clickable",3,"checked"],[3,"modifier","convos","docs","dropdownOpen","dropdownClose"],["class","cu-shared-nav__section",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"cu-shared-nav__section"],["class","cu-shared-nav__header",4,"ngIf"],[1,"cu-shared-nav__body"],[3,"category","onlyDeleteIfOwner","canDelete","meUser","isActive","isOpened","selectedSubcategory","projectId","alwaysVisible","layoutType","onToggle","onDropView","dropdownOpen","dropdownClose",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-shared-nav__nav-section_folderless","data-section-item","",3,"ngClass","onlyDeleteIfOwner","canDelete","sharedWithMe","meUser","section","isActive","projectId","categoryId","layoutType","alwaysVisible","onDropView","dropdownOpen","dropdownClose",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-shared-nav__header"],[1,"cu-shared-nav__title"],n,[3,"category","onlyDeleteIfOwner","canDelete","meUser","isActive","isOpened","selectedSubcategory","projectId","alwaysVisible","layoutType","onToggle","onDropView","dropdownOpen","dropdownClose"],["data-section-item","",1,"cu-shared-nav__nav-section_folderless",3,"ngClass","onlyDeleteIfOwner","canDelete","sharedWithMe","meUser","section","isActive","projectId","categoryId","layoutType","alwaysVisible","onDropView","dropdownOpen","dropdownClose"],[1,"cu-shared-nav__notes"],s,[1,"cu-shared-nav__body","cu-shared-nav__body_tasks"],[1,"cu-shared-nav__tasks",3,"ngClass"],["cuLink","",1,"cu-shared-nav__tasks-title",3,"routerLink"],[1,"cu-shared-nav__tasks-counter"],r,l,d]},template:function(e,t){if(1&e&&(r.cc(0,"div",0,1),r.bd(3,q,16,17,"div",2),r.vc(4,"async"),r.vc(5,"async"),r.vc(6,"async"),r.bd(7,B,1,3,"cu-convo-doc-visibility",3),r.vc(8,"async"),r.vc(9,"async"),r.vc(10,"async"),r.vc(11,"async"),r.vc(12,"async"),r.vc(13,"async"),r.vc(14,"async"),r.bd(15,ee,8,11,"ng-container",4),r.vc(16,"async"),r.vc(17,"async"),r.vc(18,"async"),r.vc(19,"async"),r.vc(20,"async"),r.vc(21,"async"),r.bd(22,te,3,3,"div",5),r.vc(23,"async"),r.vc(24,"async"),r.vc(25,"async"),r.vc(26,"async"),r.vc(27,"async"),r.vc(28,"async"),r.bc(),r.bd(29,ie,1,0,"ng-template",null,6,r.cd),r.bd(31,re,3,5,"ng-template",null,7,r.cd)),2&e){let e=null,i=null,a=null,o=null;r.Dc("perfectScrollbar",r.Gc(49,le)),r.Ib(3),r.Dc("ngIf",(null==(e=r.wc(4,5,t.user$))?null:e.dashboard)===t.LayoutVersion.Four||(null==(e=r.wc(5,7,t.user$))?null:e.dashboard)===t.LayoutVersion.Five&&r.wc(6,9,t.isGuestTeam$)),r.Ib(4),r.Dc("ngIf",((null==t.convos?null:t.convos.length)||(null==t.docs?null:t.docs.length))&&(null==(i=r.wc(8,11,t.user$))?null:i.dashboard)!==t.LayoutVersion.Six&&(r.wc(9,13,t.isGuestTeam$)||(!t.allowCollapse||r.wc(10,15,t.sharedSpaceParam$)&&(null==(i=r.wc(11,17,t.user$))?null:i.dashboard)!==t.LayoutVersion.Five||r.wc(12,19,t.sharedExpanded$))&&((null==(i=r.wc(13,21,t.user$))?null:i.dashboard)!==t.LayoutVersion.Five||!r.wc(14,23,t.project$)))),r.Ib(8),r.Dc("ngIf",!t.allowCollapse||r.wc(16,25,t.sharedSpaceParam$)&&(null==(a=r.wc(17,27,t.user$))?null:a.dashboard)===t.LayoutVersion.Five&&r.wc(18,29,t.isGuestTeam$)||(null==(a=r.wc(19,31,t.user$))?null:a.dashboard)===t.LayoutVersion.Six&&r.wc(20,33,t.isGuestTeam$)||r.wc(21,35,t.sharedExpanded$)),r.Ib(7),r.Dc("ngIf",(null==(o=r.wc(23,37,t.sharedData$))?null:o.taskCount)<1&&!(null!=(o=r.wc(24,39,t.subcategories$))&&o.length)&&!(null!=(o=r.wc(25,41,t.categories$))&&o.length)&&(r.wc(26,43,t.isGuestTeam$)||(null==(o=r.wc(27,45,t.user$))?null:o.dashboard)!==t.LayoutVersion.Five&&(null==(o=r.wc(28,47,t.user$))?null:o.dashboard)!==t.LayoutVersion.Six))}},directives:[x.a,T.q,S.k,j.b,O.a,I.a,D.a,C.a,P.a,$.a,T.x,T.p,z.a,M.a,T.o,E.a],pipes:[T.b],styles:['.cu-shared-nav{min-width:0;display:flex;height:100%;overflow:hidden}.cu2-sidebar__body_v5 .cu-shared-nav,.cu-simple-bar .cu-shared-nav{height:auto}.cu-shared-nav__scrollable{flex-grow:1;min-width:0}.cu-shared-nav__scrollable .ps__rail-y{z-index:10}.cu-shared-nav .cu-shared-nav__scrollable .cu-shared-nav__convo-doc{padding:8px 0 0 20px}.cu-shared-nav .cu-shared-nav__scrollable .cu-shared-nav__convo-doc-visible{padding-top:10px}.cu-shared-nav__section{padding:19px 20px 20px}.cu-simple-bar .cu-shared-nav__section{padding:0}.cu-shared-nav__section+.cu-shared-nav__section{border-top:1px solid #e4e4e4}.dark-theme .cu-shared-nav__section+.cu-shared-nav__section{border-top:1px solid #1e272e}.cu-left-sidebar.dark-theme .cu-shared-nav__section+.cu-shared-nav__section{border-top-color:#2b343b}.cu-simple-bar .cu-shared-nav__section+.cu-shared-nav__section{border:0}.cu2-sidebar_collapsed .cu-shared-nav__section{display:none}.cu-shared-nav__header{display:flex;align-items:center;justify-content:space-between;margin:0 0 7px;min-width:0}.cu-shared-nav__all-title.sidebar-section__header{margin:10px 0 0;padding:0 12px 0 0}.cu-shared-nav__all-title.sidebar-section__header .sidebar-section__name-link{padding-right:20px;padding-left:20px;width:100%}.cu-shared-nav__title{font:400 12px Gotham Pro,Proxima Nova,arial,serif;text-transform:uppercase;letter-spacing:2px;color:rgba(52,52,52,.5);display:flex;align-items:center}.contrast_high .cu-shared-nav__title{color:#858585}.dark-theme .cu-shared-nav__title{color:#828588}.cu-shared-nav__body{position:relative}.cu-shared-nav__body_lists{margin:0 -10px}.cu-simple-bar .cu-shared-nav__body_tasks{padding-top:8px}.cu-simple-bar .cu-shared-nav__body_tasks:before{content:"";display:block;position:absolute;top:4px;left:35px;width:calc(100% - 35px);height:1px;background:#e9ebf0}.dark-theme .cu-simple-bar .cu-shared-nav__body_tasks:before{background:#1e272e}.cu-simple-bar.dark-theme .cu-shared-nav__body_tasks:before{background:#2b343b}.cu-shared-nav__nav-section_folderless{margin:0 -20px;display:block}.cu-simple-bar .cu-shared-nav__nav-section_folderless{margin:0}.cu-shared-nav__nav-section_folderless .nav-section__name{padding-left:13px}.layout-size_compact .cu-simple-bar .cu-shared-nav__nav-section_folderless .nav-section__name,.layout-size_default .cu-simple-bar .cu-shared-nav__nav-section_folderless .nav-section__name,.layout-size_large .cu-simple-bar .cu-shared-nav__nav-section_folderless .nav-section__name{padding-left:33px}.cu2-sidebar__body_v5 .cu-shared-nav__nav-section_folderless.cu-shared-nav__nav-section_guest .nav-section{padding-right:25px!important}.cu2-sidebar__body_v5 .cu-shared-nav__nav-section_folderless.cu-shared-nav__nav-section_guest .nav-section__menu{right:20px!important}.cu-shared-nav__nav-section_folderless.cu-shared-nav__nav-section_guest .nav-section{padding-left:7px}.cu2-sidebar__body_v5 .cu-shared-nav__nav-section_folderless.cu-shared-nav__nav-section_guest .nav-section{padding-left:0}.cu-shared-nav__nav-section_folderless.cu-shared-nav__nav-section_guest .nav-section__name{padding-left:8px}.cu2-sidebar__body_v5 .cu-shared-nav__nav-section_folderless.cu-nav-section .nav-section{padding-right:25px}.cu2-sidebar__body_v5 .cu-shared-nav__nav-section_folderless.cu-nav-section .nav-section:before{width:calc(100% - 24px)!important}.cu2-sidebar__body_v5 .cu-shared-nav__nav-section_folderless.cu-nav-section .nav-section__menu{right:20px}.cu-shared-nav__tasks{position:relative;display:flex;align-items:center;padding-right:5px}.cu-simple-bar .cu-shared-nav__tasks{padding-right:0}.cu-shared-nav__tasks:before{content:"";display:block;position:absolute;width:calc(100% + 18px);height:100%;top:0;left:-10px;z-index:0;border-radius:4px}.cu-simple-bar .cu-shared-nav__tasks:before{width:100%;left:0;border-radius:0}.cu-shared-nav__tasks:hover:not(.cu-shared-nav__tasks_active):before{background:rgba(233,235,240,.5)}.dark-theme .cu-shared-nav__tasks:hover:not(.cu-shared-nav__tasks_active):before{background:rgba(30,39,46,.5)}.cu-left-sidebar.dark-theme .cu-shared-nav__tasks:hover:not(.cu-shared-nav__tasks_active):before,.cu-simple-bar.dark-theme .cu-shared-nav__tasks:hover:not(.cu-shared-nav__tasks_active):before{background:#2b343b}.cu-shared-nav__tasks_active:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-shared-nav__tasks_active:before{background:var(--theme-main-color)}}.cu-simple-bar .cu-shared-nav__tasks_active:before{opacity:.08}.cu-simple-bar .cu-shared-nav__tasks_active:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;width:3px;height:100%;border-radius:0 3px 3px 0}@supports (--theme-main-color:#7b68ee){.cu-simple-bar .cu-shared-nav__tasks_active:after{background:var(--theme-main-color)}}.cu-shared-nav__tasks_active .cu-shared-nav__tasks-counter,.cu-shared-nav__tasks_active .cu-shared-nav__tasks-title,.dark-theme .cu-shared-nav__tasks_active .cu-shared-nav__tasks-counter,.dark-theme .cu-shared-nav__tasks_active .cu-shared-nav__tasks-title{color:#fff}.cu-simple-bar .cu-shared-nav__tasks_active .cu-shared-nav__tasks-counter,.cu-simple-bar .cu-shared-nav__tasks_active .cu-shared-nav__tasks-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar .cu-shared-nav__tasks_active .cu-shared-nav__tasks-counter,.cu-simple-bar .cu-shared-nav__tasks_active .cu-shared-nav__tasks-title{color:var(--theme-main-color)}}.cu-shared-nav__tasks-title{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:16px;flex-grow:1;padding:7px 0;-webkit-font-smoothing:subpixel-antialiased;overflow:hidden;text-overflow:ellipsis;position:relative;color:#4a4f55}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-shared-nav__tasks-title{font-family:var(--global-font-support)}}.dark-theme .cu-shared-nav__tasks-title{color:#abaeb0}.layout-size_compact .cu-shared-nav__tasks-title{font-size:13px}.layout-size_default .cu-shared-nav__tasks-title{font-size:13.5px}.layout-size_large .cu-shared-nav__tasks-title{font-size:14px}.cu-simple-bar .cu-shared-nav__tasks-title{font-size:12px;padding:8px 0 8px 50px;color:#51555c}.dark-theme .cu-simple-bar .cu-shared-nav__tasks-title{color:#d5d6d7}.cu-shared-nav__tasks .nav-section:hover .nav-section__counter{opacity:1}.cu-shared-nav__tasks-counter{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:300;font-size:11px;line-height:16px;flex-shrink:0;min-width:20px;text-align:right;position:relative;color:#9a9a9a}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-shared-nav__tasks-counter{font-family:var(--global-font-support)}}.contrast_high .cu-shared-nav__tasks-counter{color:#858585}.layout-size_compact .cu-shared-nav__tasks-counter{font-size:11px}.layout-size_default .cu-shared-nav__tasks-counter{font-size:12px}.layout-size_large .cu-shared-nav__tasks-counter{font-size:13px}.cu-shared-nav__tasks_active .cu-shared-nav__tasks-counter{color:#fff}.cu-simple-bar .cu-shared-nav__tasks-counter{position:absolute;right:20px;pointer-events:none}.cu-shared-nav__notes{margin-top:30px;text-align:center;color:rgba(52,52,52,.25);font:italic 400 13px/1.5em Gotham Pro,Proxima Nova,arial,serif;padding:30px}.dark-theme .cu-shared-nav__notes{color:#828588}.cu2-sidebar_collapsed .cu-shared-nav__notes{display:none}.cu-shared-nav__badge{position:absolute;right:30px;top:19px}.cu2-sidebar__body_v5 .cu-shared-nav .nav-category_active .nav-category__header:before,.cu2-sidebar__body_v5 .cu-shared-nav .nav-category_active:hover .nav-category__header:before{width:calc(100% + 14px);left:-6px}.cu2-sidebar__body_v5 .cu-shared-nav .nav-category__header{padding-right:0}.cu2-sidebar__body_v5 .cu-shared-nav .nav-category__header:hover:before{width:calc(100% + 16px);left:-6px}.cu-simple-bar .cu-shared-nav .nav-category__header{padding:0 15px 0 0;margin:0;top:0}.cu2-sidebar__body_v5 .cu-shared-nav .nav-category__toggle{margin-left:0}.cu-simple-bar .cu-shared-nav .nav-category__name{padding-left:32px;margin:0}.cu2-sidebar__body_v5 .cu-shared-nav .nav-category__name-handle{left:-18px}.cu2-sidebar__body_v5 .cu-shared-nav .nav-category__body{margin-right:-10px}.cu-simple-bar .cu-shared-nav .nav-category__body{margin:0}.cu2-sidebar__body_v5 .cu-shared-nav .nav-section{padding-right:15px}.cu2-sidebar__body_v5 .cu-shared-nav .nav-section:hover:not(.nav-section_dragging):not(.nav-section_editing):before,.cu2-sidebar__body_v5 .cu-shared-nav .nav-section:not(.nav-section_dragging):not(.nav-section_editing):before{left:12px;width:calc(100% - 14px)}.cu2-sidebar__body_v5 .cu-shared-nav .nav-section__name{margin-left:21px}.cu2-sidebar__body_v5 .cu-shared-nav .nav-section__menu{right:10px}'],encapsulation:2}),e})()},"nV+W":function(e,t,i){"use strict";i.d(t,"a",function(){return ne});var a=i("fXoL"),o=i("jJQC"),c=i("T1Rn"),n=i("pLZG"),s=i("eIep"),r=i("lJxs"),l=i("2Vo4"),d=i("itXk"),u=i("7jah"),p=i("ylTp"),m=i("eAQQ"),h=i("YM6B"),b=i("5WsY"),g=i("gSGL"),f=i("Ye5p"),_=i("GYlH"),v=i("KiMO"),y=i("twO/"),w=i("mkut"),k=function(e){return null==e?[]:function(e,t){return Object(y.a)(t,function(t){return e[t]})}(e,Object(w.a)(e))},x=p.a?p.a.iterator:void 0,T=i("pHS2"),S=i("mrTC"),j=i("l7P3"),O=i("NsZK"),I=i("ofXK"),D=i("UdVN"),C=i("LdyQ"),P=i("MJvn"),$=i("n+1/"),z=i("5+WD"),M=i("LLLH"),E=i("BTFG"),L=i("aIzb");const A=["scrollContainer"],F=function(e){return{"cu-lineup__header-arrow_collapsed":e}};function U(e,t){if(1&e&&a.Xb(0,"div",10),2&e){const e=a.uc();a.Dc("ngClass",a.Hc(1,F,e.collapsed))}}function N(e,t){}const R=function(e){return{dropdown:e}};function G(e,t){if(1&e&&(a.cc(0,"div",18),a.bd(1,N,0,0,"ng-template",19),a.bc()),2&e){a.uc();const e=a.Rc(2);a.uc();const t=a.Rc(14);a.Ib(1),a.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",a.Hc(2,R,e))}}const q=function(){return["bottom-right","top-right","auto"]};function B(e,t){1&e&&(a.cc(0,"div",11),a.cc(1,"div",12,13),a.cc(3,"div",14),a.Xb(4,"div",15),a.ac(5),a.gc(6,16),a.Zb(),a.bc(),a.bd(7,G,2,4,"div",17),a.bc(),a.bc()),2&e&&(a.Ib(1),a.Dc("dropdownCloseOnInsideClick",!1)("dropdownPlacement",a.Gc(2,q)))}function W(e,t){if(1&e){const e=a.dc();a.cc(0,"button",26),a.qc("click",function(){return a.Uc(e),a.uc(2).previousPage()}),a.Xb(1,"div",27),a.bc()}}function V(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-lineup-task-card",32),a.qc("cdkDragEnded",function(){return a.Uc(e),a.uc(4).dragEnded()})("cdkDragStarted",function(){return a.Uc(e),a.uc(4).dragActive=!0})("remove",function(){a.Uc(e);const i=t.$implicit;return a.uc(4).removeTaskFromLineup(i)}),a.bc()}if(2&e){const e=t.$implicit,i=a.uc(4);a.Dc("cdkDragData",e)("task",e)("showRemove",!0)("showHandle",!0)("isV2",i.isV2)}}function X(e,t){if(1&e&&(a.cc(0,"div",30),a.bd(1,V,1,5,"cu-lineup-task-card",31),a.bc()),2&e){const e=t.$implicit,i=a.uc(3);a.Ib(1),a.Dc("ngForOf",e.tasks)("ngForTrackBy",i.trackById)}}function H(e,t){}function Y(e,t){if(1&e&&a.bd(0,H,0,0,"ng-template",33),2&e){a.uc(3);const e=a.Rc(12);a.Dc("ngTemplateOutlet",e)}}function Z(e,t){if(1&e&&(a.ac(0),a.bd(1,X,2,2,"div",28),a.bd(2,Y,1,1,void 0,29),a.Zb()),2&e){const e=t.ngIf,i=a.uc(2);a.Ib(1),a.Dc("ngForOf",e)("ngForTrackBy",i.trackById),a.Ib(1),a.Dc("ngIf",0===e.length)}}function Q(e,t){if(1&e){const e=a.dc();a.cc(0,"button",34),a.qc("click",function(){return a.Uc(e),a.uc(2).nextPage()}),a.Xb(1,"div",27),a.bc()}}function K(e,t){if(1&e){const e=a.dc();a.cc(0,"div",20),a.bd(1,W,2,0,"button",21),a.cc(2,"div",22,23),a.qc("cdkDropListDropped",function(t){return a.Uc(e),a.uc().taskDropped(t)})("scroll",function(){return a.Uc(e),a.uc().scrolled()}),a.vc(4,"async"),a.bd(5,Z,3,3,"ng-container",24),a.vc(6,"async"),a.bc(),a.bd(7,Q,2,0,"button",25),a.vc(8,"async"),a.bc()}if(2&e){const e=a.uc(),t=a.Rc(10);let i=null;a.Ib(1),a.Dc("ngIf",1!==e.currentPage&&!e.dragActive),a.Ib(1),a.Dc("cdkDropListOrientation","horizontal")("cdkDropListEnterPredicate",a.wc(4,8,e.dragEnterPredicate$))("cdkDropListConnectedTo",e.dragConnectedIds)("cdkDropListData","lineup"),a.Ib(3),a.Dc("ngIf",a.wc(6,10,e.lineupPages$))("ngIfElse",t),a.Ib(2),a.Dc("ngIf",e.currentPage<(null==(i=a.wc(8,12,e.lineupPages$))?null:i.length)&&!e.dragActive)}}function J(e,t){1&e&&a.Xb(0,"cu-loader")}function ee(e,t){1&e&&(a.cc(0,"div",40),a.gc(1,41),a.bc())}function te(e,t){1&e&&(a.cc(0,"div",40),a.gc(1,42),a.bc())}function ie(e,t){}function ae(e,t){if(1&e&&(a.cc(0,"div",18),a.bd(1,ie,0,0,"ng-template",19),a.bc()),2&e){a.uc();const e=a.Rc(1);a.uc();const t=a.Rc(14);a.Ib(1),a.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",a.Hc(2,R,e))}}function oe(e,t){if(1&e&&(a.cc(0,"div",35,13),a.cc(2,"div",36),a.cc(3,"div",37),a.Xb(4,"div",38),a.bd(5,ee,2,0,"div",39),a.bd(6,te,2,0,"div",39),a.bc(),a.bc(),a.bd(7,ae,2,4,"div",17),a.bc()),2&e){const e=a.uc();a.Dc("dropdownCloseOnInsideClick",!1),a.Ib(5),a.Dc("ngIf",!e.isV2),a.Ib(1),a.Dc("ngIf",e.isV2)}}function ce(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-task-selector",43),a.qc("onSelect",function(t){return a.Uc(e),a.uc().addTaskToLineup(t.task)})("onDropdownReposition",function(){return t.dropdown.positionMenu()})("onLoad",function(){return t.dropdown.positionMenu()}),a.vc(1,"async"),a.bc()}if(2&e){const e=a.uc();a.Dc("modifier","task-selector_task-mentions")("showSearch",!0)("taskIdsToExclude",a.wc(1,5,e.lineupTaskIds$))("showSubtasks",!0)("searchSubtasks",!0)}}let ne=(()=>{class e{constructor(e){this.store=e,this.isV2=!1,this.toggleCollapsed=new a.o,this.trackById=Object(o.d)("id"),this.userId$=new l.a(null),this.teamId$=new l.a(null),this.lineup$=Object(d.a)([this.userId$,this.teamId$]).pipe(Object(n.a)(([e,t])=>Boolean(e&&t)),Object(s.a)(([e,t])=>this.store.select(Object(u.b)(t,e)))),this.lineupPages$=this.lineup$.pipe(Object(r.a)(e=>{if(e)return function(e){if(!e)return[];if(Object(b.a)(e))return Object(g.a)(e)?Object(v.a)(e):Object(m.a)(e);if(x&&e[x])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[x]());var t=Object(h.a)(e);return("[object Map]"==t?f.a:"[object Set]"==t?_.a:k)(e)}(Object(T.a)(e,t=>Math.floor(e.indexOf(t)/this.pageSize))).map(e=>({id:e.map(e=>e.id).join("-"),tasks:e}))})),this.lineupTaskIds$=this.lineup$.pipe(Object(n.a)(e=>!!e),Object(r.a)(e=>e.map(e=>e.id))),this.dragEnterPredicate$=this.lineupTaskIds$.pipe(Object(r.a)(e=>function(t){return"taskLineup"===t.dropContainer.id||t.data.id&&!t.data.reminder&&!e.includes(t.data.id)})),this.pageSize=4,this.currentPage=1,this.dragActive=!1,this.dragConnectedIds=[...S.h.map(e=>"inbox_"+e),"taskLineup"]}ngOnInit(){}ngOnChanges(e){e.user&&this.user&&this.userId$.next(this.user.id),e.team&&this.team&&this.teamId$.next(this.team.id),e.isV2&&(this.pageSize=this.isV2?3:4)}previousPage(){this.scrollContainer.nativeElement.scrollLeft-=this.scrollContainer.nativeElement.offsetWidth}nextPage(){this.scrollContainer.nativeElement.scrollLeft+=this.scrollContainer.nativeElement.offsetWidth}addTaskToLineup(e){this.store.dispatch(Object(c.b)({task:e,teamId:this.team.id,user:this.user,showToast:!1}))}removeTaskFromLineup(e){this.store.dispatch(Object(c.h)({task:e,teamId:this.team.id,userId:this.user.id}))}taskDropped(e){const t=e.item.data;if(e.container===e.previousContainer){const i=Math.floor(e.currentIndex/this.pageSize);this.scrollContainer.nativeElement.scrollLeft=this.scrollContainer.nativeElement.offsetWidth*i,this.store.dispatch(Object(c.j)({task:t,newIndex:e.currentIndex,teamId:this.team.id,userId:this.user.id}))}else t.id&&this.store.dispatch(Object(c.b)({task:t,position:e.currentIndex,teamId:this.team.id,user:this.user,showToast:!1}))}dragEnded(){this.dragActive=!1;const e=this.scrollContainer.nativeElement.offsetWidth;this.scrollContainer.nativeElement.scrollLeft=Math.round(this.scrollContainer.nativeElement.scrollLeft/e)*e}scrolled(){this.currentPage=Math.floor((this.scrollContainer.nativeElement.scrollLeft+1)/this.scrollContainer.nativeElement.offsetWidth)+1}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(j.Store))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-lineup"]],viewQuery:function(e,t){if(1&e&&a.jd(A,1),2&e){let e;a.Qc(e=a.rc())&&(t.scrollContainer=e.first)}},hostAttrs:[1,"cu-lineup"],inputs:{team:"team",user:"user",showCollapse:"showCollapse",collapsed:"collapsed",headerTooltip:"headerTooltip",isV2:"isV2"},outputs:{toggleCollapsed:"toggleCollapsed"},features:[a.Gb],decls:15,vars:6,consts:function(){let e,t,i,a;return e=$localize`:@@cu-lineup__title_lineup␟58c01628bf1754e3d95dbb129e9e2db559483f7b␟56801176635203106:LineUp`,t=$localize`:@@common_add-to-lineup␟6667d734b58bfd82a016ca8b369b91fde730dc9d␟4328463918927323049:Add to LineUp`,i=$localize`:@@cu-lineup__dropdown-item_add-items-to-lineup␟a737fb8fe252605d4795aab6881b6c4b56f4f528␟3857076350281972904: Add items to LineUp `,a=$localize`:@@cu-lineup__dropdown-item_add-items-to-lineup-v2␟a73cf0ddf46fa096555a2548810ec08fbd5bd23e␟3363682741539091135: Add your most important tasks here. `,[[1,"cu-lineup__header"],["tooltipLifeTime","15000",1,"cu-lineup__header-title",3,"cuTooltip","click"],["class","cu-lineup__header-arrow","icon","cu2-caret-down",3,"ngClass",4,"ngIf"],e,["icon","cu2-tm",1,"cu-lineup__header-title-tm"],["class","cu-lineup__header-add-to-lineup",4,"ngIf"],["class","cu-lineup__body",4,"ngIf"],["loading",""],["addTask",""],["taskSelector",""],["icon","cu2-caret-down",1,"cu-lineup__header-arrow",3,"ngClass"],[1,"cu-lineup__header-add-to-lineup"],["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownPlacement"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-lineup__header-add-to-lineup-link"],["icon","cu2-plus-2",1,"cu-lineup__header-add-to-lineup-link-icon"],t,["class","cu-lineup__add-items-task-selector",4,"cuDropdownMenu"],[1,"cu-lineup__add-items-task-selector"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-lineup__body"],["class","cu-lineup__arrow cu-lineup__arrow_prev",3,"click",4,"ngIf"],["id","taskLineup","cdkDropList","",1,"cu-lineup__task-list",3,"cdkDropListOrientation","cdkDropListEnterPredicate","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped","scroll"],["scrollContainer",""],[4,"ngIf","ngIfElse"],["class","cu-lineup__arrow cu-lineup__arrow_next",3,"click",4,"ngIf"],[1,"cu-lineup__arrow","cu-lineup__arrow_prev",3,"click"],["icon","angle-right-no-padding",1,"cu-lineup__arrow-icon"],["class","cu-lineup__task-list-page",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"cu-lineup__task-list-page"],["class","cu-lineup__task-list-card","cdkDrag","",3,"cdkDragData","task","showRemove","showHandle","isV2","cdkDragEnded","cdkDragStarted","remove",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"cu-lineup__task-list-card",3,"cdkDragData","task","showRemove","showHandle","isV2","cdkDragEnded","cdkDragStarted","remove"],[3,"ngTemplateOutlet"],[1,"cu-lineup__arrow","cu-lineup__arrow_next",3,"click"],["cuDropdown","",1,"cu-lineup__add-items-dropdown",3,"dropdownCloseOnInsideClick"],["cuDropdownToggle","",1,"cu-lineup__add-items-toggle"],[1,"cu-lineup__add-items"],["icon","cu2-plus",1,"cu-lineup__add-items-icon"],["class","cu-lineup__add-items-label",4,"ngIf"],[1,"cu-lineup__add-items-label"],i,a,[3,"modifier","showSearch","taskIdsToExclude","showSubtasks","searchSubtasks","onSelect","onDropdownReposition","onLoad"]]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.qc("click",function(){return t.toggleCollapsed.emit(!t.collapsed)}),a.bd(2,U,1,3,"div",2),a.ac(3),a.gc(4,3),a.Zb(),a.Xb(5,"div",4),a.bc(),a.bd(6,B,8,3,"div",5),a.vc(7,"async"),a.bc(),a.bd(8,K,9,14,"div",6),a.bd(9,J,1,0,"ng-template",null,7,a.cd),a.bd(11,oe,8,3,"ng-template",null,8,a.cd),a.bd(13,ce,2,7,"ng-template",null,9,a.cd)),2&e){let e=null;a.Ib(1),a.Dc("cuTooltip",t.headerTooltip),a.Ib(1),a.Dc("ngIf",t.showCollapse),a.Ib(4),a.Dc("ngIf",(null==(e=a.wc(7,4,t.lineupPages$))?null:e.length)>0),a.Ib(2),a.Dc("ngIf",!t.collapsed)}},directives:[O.a,I.q,D.a,I.o,C.b,P.a,$.a,I.x,z.d,I.p,M.a,z.a,E.a,L.a],pipes:[I.b],styles:['.cu-lineup_profile{margin:12px 20px;display:block}.cu-lineup_profile .cu-lineup__arrow_prev{left:0;z-index:1}.cu-lineup_profile .cu-lineup__arrow_next{right:0}.cu-lineup__header{display:flex;justify-content:space-between}.cu-lineup_v2 .cu-lineup__header{align-items:center;justify-content:flex-start;margin-bottom:12px}.cu-lineup__header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;display:inline-flex;align-items:center;font:500 15px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;color:#7c828d}.dark-theme .cu-lineup__header-title{color:#abaeb0}.cu-lineup__header-title:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup__header-title:hover{color:var(--theme-main-color)}}.cu-lineup__header-title:hover .cu-lineup__header-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup__header-title:hover .cu-lineup__header-arrow{fill:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:default;font:500 18px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-lineup_v2 .cu-lineup__header-title{color:#d5d6d7}.cu-lineup_v2 .cu-lineup__header-title:hover{color:#292d34}.dark-theme .cu-lineup_v2 .cu-lineup__header-title:hover{color:#d5d6d7}.cu-lineup__header-title-tm{width:9px;height:7px;margin:-9px 0 0 1px;fill:#7c828d}.dark-theme .cu-lineup__header-title-tm{fill:#abaeb0}.cu-lineup_v2 .cu-lineup__header-title-tm{width:10px;height:8px}.cu-lineup__header-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;left:-18px;width:18px;height:18px;padding:3px;transform:rotate(0deg);fill:#b9bec7}.cu-lineup__header-arrow_collapsed{transform:rotate(-90deg)}.cu-lineup_v2 .cu-lineup__header-add-to-lineup{margin:-3px -6px -3px 0}.cu-lineup__header-add-to-lineup-link{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#7b68ee;display:none;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-left:15px;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-lineup__header-add-to-lineup-link{color:var(--theme-main-color)}}.cu-lineup__header-add-to-lineup-link:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-lineup__header-add-to-lineup-link:hover{color:var(--theme-main-color-dark)}}.cu-lineup__header-add-to-lineup-link:hover .cu-lineup__header-add-to-lineup-link-icon{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-lineup__header-add-to-lineup-link:hover .cu-lineup__header-add-to-lineup-link-icon{fill:var(--theme-main-color-dark)}}.cu-home-landing-section-tasks__lineup .cu-lineup__header-add-to-lineup-link,.cu-inbox-top-tasks__column:hover .cu-lineup__header-add-to-lineup-link,.cu-lineup__header-add-to-lineup .cu-dropdown_open .cu-lineup__header-add-to-lineup-link{display:flex;align-items:center}.cu-lineup_v2 .cu-lineup__header-add-to-lineup-link{border-radius:4px;padding:0 8px 1px;height:24px;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-lineup_v2 .cu-lineup__header-add-to-lineup-link{color:#abaeb0}.cu-lineup_v2 .cu-lineup__header-add-to-lineup-link:hover{background:#f2f2f2;color:#7c828d}.dark-theme .cu-lineup_v2 .cu-lineup__header-add-to-lineup-link:hover{color:#abaeb0;background:#2b343b}.cu-lineup_v2 .cu-lineup__header-add-to-lineup-link:hover .cu-lineup__header-add-to-lineup-link-icon{fill:#7c828d}.dark-theme .cu-lineup_v2 .cu-lineup__header-add-to-lineup-link:hover .cu-lineup__header-add-to-lineup-link-icon{fill:#abaeb0}.cu-lineup__header-add-to-lineup-link-icon{fill:#7b68ee;width:10px;height:10px;margin-right:5px}@supports (--theme-main-color:#7b68ee){.cu-lineup__header-add-to-lineup-link-icon{fill:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__header-add-to-lineup-link-icon{width:8px;height:8px;fill:#7c828d}.dark-theme .cu-lineup_v2 .cu-lineup__header-add-to-lineup-link-icon{fill:#abaeb0}.cu-lineup__body{display:flex;position:relative;margin-top:12px}.cu-lineup_v2 .cu-lineup__body{margin-top:0}.cu-lineup__body:hover .cu-lineup__arrow{opacity:1}.cu-lineup__task-list{padding:12px 0;border-radius:15px;background:#eceef2;overflow-x:hidden;display:flex;align-items:center;min-width:100%}.cu-os-win .cu-lineup__task-list{scrollbar-width:thin}.cu-os-win .cu-lineup__task-list::-webkit-scrollbar{background-color:#eceef2;width:16px;height:16px}.cu-os-win .cu-lineup__task-list::-webkit-scrollbar-track,.cu-os-win .cu-lineup__task-list::-webkit-scrollbar-track:hover{background-color:#eceef2}.cu-os-win .cu-lineup__task-list::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #eceef2}.cu-os-win .cu-lineup__task-list::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #eceef2}.cu-os-win .cu-lineup__task-list::-webkit-scrollbar-button{display:none}.cu-os-win.contrast_high .cu-lineup__task-list::-webkit-scrollbar,.cu-os-win.contrast_high .cu-lineup__task-list::-webkit-scrollbar-track{background-color:#f2f4f7}.cu-os-win.contrast_high .cu-lineup__task-list::-webkit-scrollbar-track:hover{background-color:#f2f4f7}.cu-os-win.contrast_high .cu-lineup__task-list::-webkit-scrollbar-thumb,.cu-os-win.contrast_high .cu-lineup__task-list::-webkit-scrollbar-thumb:hover{border-color:#f2f4f7}.cu-os-win.dark-theme .cu-lineup__task-list::-webkit-scrollbar,.cu-os-win .dark-theme .cu-lineup__task-list::-webkit-scrollbar,.cu-os-win.dark-theme .cu-lineup__task-list::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-lineup__task-list::-webkit-scrollbar-track{background-color:#222b32}.cu-os-win.dark-theme .cu-lineup__task-list::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-lineup__task-list::-webkit-scrollbar-track:hover{background-color:#222b32}.cu-os-win.dark-theme .cu-lineup__task-list::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-lineup__task-list::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-lineup__task-list::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-lineup__task-list::-webkit-scrollbar-thumb:hover{border-color:#222b32}.contrast_high .cu-lineup__task-list{background:#f2f4f7}.dark-theme .cu-lineup__task-list{background:#222b32}.cu-lineup_v2 .cu-lineup__task-list{margin:0 -8px;padding:0;border-radius:0;background:transparent}.contrast_high .cu-lineup_v2 .cu-lineup__task-list,.dark-theme .cu-lineup_v2 .cu-lineup__task-list{background:transparent}.cu-lineup_v2 .cu-lineup__task-list.cdk-drop-list-dragging:before{content:"";display:block;position:absolute;width:100%;height:100%;border:1px solid;border-radius:6px;z-index:5}@supports (--theme-main-color:#7b68ee){.cu-lineup_v2 .cu-lineup__task-list.cdk-drop-list-dragging:before{border-color:var(--theme-main-color)}}.cu-lineup__task-list-page{flex:0 0 100%;min-width:0;display:flex}.cu-lineup_v2 .cu-lineup__task-list-page{padding:8px 0 8px 8px}.cu-lineup_v2 .cu-lineup__task-list-page .cu-task-row.cdk-drag-placeholder{width:0;z-index:10;opacity:1}.cu-lineup_v2 .cu-lineup__task-list-page .cu-task-row.cdk-drag-placeholder>*{display:none}.cu-lineup_v2 .cu-lineup__task-list-page .cu-task-row.cdk-drag-placeholder:before{background:#7b68ee;content:"";display:block;position:absolute;width:1px;height:100%}@supports (--theme-main-color:#7b68ee){.cu-lineup_v2 .cu-lineup__task-list-page .cu-task-row.cdk-drag-placeholder:before{background:var(--theme-main-color)}}.cu-lineup__task-list-card{flex:0 0 calc(25% - 12px);min-width:0;margin:0 6px}.cu-lineup__task-list-card:first-child{margin-left:12px}.cu-lineup__task-list-card:last-of-type{margin-right:12px}.cu-lineup__task-list-card:first-child,.cu-lineup__task-list-card:last-of-type{flex:0 0 calc(25% - 18px)}.cu-lineup_v2 .cu-lineup__task-list-card{flex:0 0 calc(33.3% - 8px);margin:0 6px 0 0}.cu-lineup_v2 .cu-lineup__task-list-card:first-child{margin-left:0}.cu-lineup_v2 .cu-lineup__task-list-card:last-of-type{margin-right:8px}.cu-lineup_v2 .cu-lineup__task-list-card:first-child,.cu-lineup_v2 .cu-lineup__task-list-card:last-of-type{flex:0 0 calc(33.3% - 8px)}.cu-lineup__add-items{display:flex;align-items:center;padding:16px 15px;margin-left:12px;border-radius:12px;cursor:pointer;border:1px dashed #b9bec7;height:100%}@supports (--theme-main-color:#7b68ee){.cu-lineup__add-items{border-color:var(--theme-main-color)}}.cu-lineup__add-items:hover{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup__add-items:hover{border-color:var(--theme-main-color)}}.cu-lineup__add-items:hover .cu-lineup__add-items-icon{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-lineup__add-items:hover .cu-lineup__add-items-icon{fill:var(--theme-main-color-dark)}}.cu-lineup__add-items:hover .cu-lineup__add-items-label{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-lineup__add-items:hover .cu-lineup__add-items-label{color:var(--theme-main-color-dark)}}.cu-lineup_v2 .cu-lineup__add-items{justify-content:center;border-radius:3px;padding:5px;margin:0;height:38px;border-color:#b9bec7}.dark-theme .cu-lineup_v2 .cu-lineup__add-items{border-color:#7c828d}.cu-lineup_v2 .cu-lineup__add-items:hover{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup_v2 .cu-lineup__add-items:hover{border-color:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__add-items:hover .cu-lineup__add-items-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup_v2 .cu-lineup__add-items:hover .cu-lineup__add-items-icon{fill:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__add-items:hover .cu-lineup__add-items-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-lineup_v2 .cu-lineup__add-items:hover .cu-lineup__add-items-label{color:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__add-items-dropdown{width:100%}.cu-lineup__add-items-toggle{height:100%}.cu-lineup_v2 .cu-lineup__add-items-toggle{padding:7px 8px;border-radius:6px;background:#f6f7f9}.dark-theme .cu-lineup_v2 .cu-lineup__add-items-toggle{background:#222b32}.cu-lineup__add-items-icon{fill:#7b68ee;position:relative;overflow:hidden;width:32px;height:32px;padding:9px;margin-right:9px;border-radius:7px;stroke-width:2px}@supports (--theme-main-color:#7b68ee){.cu-lineup__add-items-icon{fill:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__add-items-icon{width:24px;height:24px;padding:7px;border-radius:4px;margin-right:0;fill:#7c828d}.dark-theme .cu-lineup_v2 .cu-lineup__add-items-icon{fill:#b9bec7}.cu-lineup__add-items-icon:before{content:"";display:block;position:absolute;background:#7b68ee;width:100%;height:100%;opacity:.1}@supports (--theme-main-color:#7b68ee){.cu-lineup__add-items-icon:before{background:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__add-items-icon:before{display:none}.cu-lineup__add-items-icon svg{z-index:1}.cu-lineup__add-items-label{color:#7b68ee;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 13px/1.2 Gotham Pro,Proxima Nova,arial,serif}@supports (--theme-main-color:#7b68ee){.cu-lineup__add-items-label{color:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__add-items-label{font:500 12px/1.2 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-lineup_v2 .cu-lineup__add-items-label{color:#b9bec7}.cu-lineup__add-items-task-selector{width:400px}.cu-lineup__arrow{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;opacity:0;position:absolute;cursor:pointer;width:35px;height:100%;border:0}.cu-lineup_v2 .cu-lineup__arrow{width:30px;transition:none}.cu-lineup__arrow_prev{border-radius:8px 0 0 8px;left:-35px;background:linear-gradient(90deg,rgba(233,235,240,.5) 0,#fafbfc)}.contrast_high .cu-lineup__arrow_prev{background:linear-gradient(90deg,#f2f4f7 0,#eee)}.dark-theme .cu-lineup__arrow_prev{background:linear-gradient(90deg,#2b343b 0,#1e272e)}.cu-lineup__arrow_prev:not(.cu-lineup__arrow_disabled):hover{background:linear-gradient(90deg,#e9ebf0 0,#fafbfc)}.contrast_high .cu-lineup__arrow_prev:not(.cu-lineup__arrow_disabled):hover{background:linear-gradient(90deg,#fafbfc 0,#eee)}.dark-theme .cu-lineup__arrow_prev:not(.cu-lineup__arrow_disabled):hover{background:linear-gradient(90deg,#384047 0,#1e272e)}.cu-lineup__arrow_prev .cu-lineup__arrow-icon svg{transform:rotate(180deg)}.cu-lineup_v2 .cu-lineup__arrow_prev,.cu-lineup_v2 .cu-lineup__arrow_prev:not(.cu-lineup__arrow_disabled):hover{z-index:10;left:-32px;background:transparent}.contrast_high .cu-lineup_v2 .cu-lineup__arrow_prev,.contrast_high .cu-lineup_v2 .cu-lineup__arrow_prev:not(.cu-lineup__arrow_disabled):hover,.dark-theme .cu-lineup_v2 .cu-lineup__arrow_prev,.dark-theme .cu-lineup_v2 .cu-lineup__arrow_prev:not(.cu-lineup__arrow_disabled):hover{background:transparent}.cu-lineup__arrow_next{border-radius:0 8px 8px 0;right:-35px;background:linear-gradient(270deg,rgba(233,235,240,.5) 0,#fafbfc)}.contrast_high .cu-lineup__arrow_next{background:linear-gradient(270deg,#f2f4f7 0,#eee)}.dark-theme .cu-lineup__arrow_next{background:linear-gradient(270deg,#2b343b 0,#1e272e)}.cu-lineup__arrow_next:not(.cu-lineup__arrow_disabled):hover{background:linear-gradient(270deg,#e9ebf0 0,#fafbfc)}.contrast_high .cu-lineup__arrow_next:not(.cu-lineup__arrow_disabled):hover{background:linear-gradient(270deg,#fafbfc 0,#eee)}.dark-theme .cu-lineup__arrow_next:not(.cu-lineup__arrow_disabled):hover{background:linear-gradient(270deg,#384047 0,#1e272e)}.cu-lineup_v2 .cu-lineup__arrow_next,.cu-lineup_v2 .cu-lineup__arrow_next:not(.cu-lineup__arrow_disabled):hover{z-index:10;right:-32px;background:transparent}.contrast_high .cu-lineup_v2 .cu-lineup__arrow_next,.contrast_high .cu-lineup_v2 .cu-lineup__arrow_next:not(.cu-lineup__arrow_disabled):hover,.dark-theme .cu-lineup_v2 .cu-lineup__arrow_next,.dark-theme .cu-lineup_v2 .cu-lineup__arrow_next:not(.cu-lineup__arrow_disabled):hover{background:transparent}.cu-lineup__arrow_disabled{cursor:default}.cu-lineup__arrow_disabled .cu-lineup__arrow-icon{fill:#b9bec7}.cu-lineup__arrow:not(.cu-lineup__arrow_disabled):hover .cu-lineup__arrow-icon{fill:#5f48ea;transform:scale(1.2)}@supports (--theme-main-color-dark:#5f48ea){.cu-lineup__arrow:not(.cu-lineup__arrow_disabled):hover .cu-lineup__arrow-icon{fill:var(--theme-main-color-dark)}}.cu-lineup__arrow-icon{fill:#7b68ee;width:8px;height:14px}@supports (--theme-main-color:#7b68ee){.cu-lineup__arrow-icon{fill:var(--theme-main-color)}}.cu-lineup_v2 .cu-lineup__arrow-icon{fill:#7c828d}'],encapsulation:2,changeDetection:0}),e})()},o4qs:function(e,t,i){"use strict";i.d(t,"a",function(){return we});var a=i("MguC"),o=i("2Vo4"),c=i("XNiG"),n=i("itXk"),s=i("pLZG"),r=i("/uUt"),l=i("eIep"),d=i("UXun"),u=i("1G5W"),p=i("3E0/"),m=i("SxV6"),h=i("bOwZ"),b=i("l7P3"),g=i("4F4K"),f=i("yR4P");const _=[],v=Object(b.createFeatureSelector)("activityView"),y=Object(b.createSelector)(v,e=>e.dataMap);var w=i("jJQC"),k=i("Muja"),x=i("G9Ob"),T=i("xWuZ");function S(e){if(!e)return x.b;const t=x.a.filter(t=>e.some(e=>e===t.id));return Object(T.a)(t.map(e=>e.fields))}var j=i("y2LM"),O=i("ES2d"),I=i("fXoL"),D=i("G2WA"),C=i("xog/"),P=i("drq7"),$=i("ofXK"),z=i("BTFG"),M=i("NQa4"),E=i("Llk8"),L=i("7vmk"),A=i("UdVN"),F=i("NsZK"),U=i("pTSn"),N=i("c3rA"),R=i("uslN"),G=i("o7Ov"),q=i("tyNb");function B(e,t){1&e&&(I.ac(0),I.gc(1,10),I.Zb())}function W(e,t){1&e&&(I.ac(0),I.gc(1,11),I.Zb())}function V(e,t){1&e&&(I.cc(0,"div",12),I.gc(1,13),I.bc())}function X(e,t){1&e&&(I.cc(0,"div",12),I.gc(1,14),I.bc())}function H(e,t){if(1&e){const e=I.dc();I.ac(0),I.cc(1,"div",15),I.qc("click",function(){return I.Uc(e),I.uc().startTrial()}),I.gc(2,16),I.bc(),I.Zb()}}const Y=function(e){return["/",e,"settings","billing"]};function Z(e,t){if(1&e&&(I.cc(0,"a",19),I.gc(1,20),I.vc(2,"async"),I.bc()),2&e){const e=I.uc(2);let t=null;I.Dc("routerLink",I.Hc(3,Y,null==(t=I.wc(2,1,e.team$))?null:t.id))}}function Q(e,t){if(1&e&&(I.cc(0,"a",21),I.gc(1,22),I.bc()),2&e){const e=I.uc(2);I.Dc("href","mailto:?subject="+e.adminUpgradeMailSubjectText,I.Xc)}}function K(e,t){if(1&e&&(I.ac(0),I.bd(1,Z,3,5,"a",17),I.vc(2,"async"),I.bd(3,Q,2,1,"a",18),I.vc(4,"async"),I.Zb()),2&e){const e=I.uc();let t=null,i=null;I.Ib(1),I.Dc("ngIf",(null==(t=I.wc(2,2,e.team$))?null:t.role)<3),I.Ib(2),I.Dc("ngIf",!((null==(i=I.wc(4,4,e.team$))?null:i.role)<3))}}let J=(()=>{class e{constructor(e){this.store=e,this.team$=this.store.select(N.getTeam),this.allowTrial$=this.store.select(N.getAllowTrial),this.isAdmin$=this.store.select(N.getIsAdmin),this.TeamPlan=R.f,this.adminUpgradeMailSubjectText=$localize`:@@cu-activity-paywall__email-subject_past-activity:Please upgrade ClickUp so we can use Past Activity`}ngOnInit(){}startTrial(){this.store.dispatch(new G.Rk([],R.f.UNLIMITED))}}return e.\u0275fac=function(t){return new(t||e)(I.Wb(b.Store))},e.\u0275cmp=I.Qb({type:e,selectors:[["cu-activity-paywall"]],hostAttrs:[1,"cu-activity-paywall"],decls:17,vars:14,consts:function(){let e,t,i,a,o,c,n,s;return e=$localize`:@@cu-activity-paywall__paywall-title_past-activity␟6bebe6d66d68ac9e1f4e37bcd8d47ae4c1e00b77␟1937486073226961188: Past Activity `,t=$localize`:@@common_plans--unlimited␟aa6fb95c355f172bda303de1ce2f38c251a149cf␟240806681889331244:Unlimited`,i=$localize`:@@common_plans--business␟e45bb24e9faf557d26abd6822d6a6da37e3ff171␟4607581465689784056:Business`,a=$localize`:@@cu-activity-paywall__paywall-desc_workspace-activity-days-limit␟8fad04fef7f276c429900a12b672719877a6a80f␟7262331800950872707: View up to 7 days of activity across your entire Workspace. `,o=$localize`:@@cu-activity-paywall__paywall-desc_removed-limits␟e048d65fe0c865bc5b00d8fa96ec8eaa1ea055ee␟4602523008461011551: Remove all limits and view unlimited activity, forever. `,c=$localize`:lowercase free|@@common_start-free-trial-1␟19acd094ab52a832e653e43f009409042b4b652c␟7022066918599995511: Start Free Trial `,n=$localize`:@@common_upgrade␟f147d0f7f965cccee2e77294cba8e1b88021fa08␟2849750161085431718:Upgrade`,s=$localize`:@@common_ask-admin-team-upgrade␟561ea779930e46302d0012e65dd05685d4215dca␟1834510786540203749: Ask team admin to upgrade `,[[1,"cu-activity-paywall__paywall"],[1,"cu-activity-paywall__paywall-label"],[1,"cu-activity-paywall__paywall-label-text"],[4,"ngIf","ngIfElse"],["businessPlan",""],[1,"cu-activity-paywall__paywall-title"],e,["class","cu-activity-paywall__paywall-desc",4,"ngIf","ngIfElse"],["businessDesc",""],[4,"ngIf"],t,i,[1,"cu-activity-paywall__paywall-desc"],a,o,[1,"cu-btn","cu-btn_sm",3,"click"],c,["class","cu-btn cu-btn_sm",3,"routerLink",4,"ngIf"],["class","cu-btn cu-btn_sm",3,"href",4,"ngIf"],[1,"cu-btn","cu-btn_sm",3,"routerLink"],n,[1,"cu-btn","cu-btn_sm",3,"href"],s]},template:function(e,t){if(1&e&&(I.cc(0,"div",0),I.cc(1,"div",1),I.cc(2,"div",2),I.bd(3,B,2,0,"ng-container",3),I.vc(4,"async"),I.bd(5,W,2,0,"ng-template",null,4,I.cd),I.bc(),I.bc(),I.cc(7,"div",5),I.gc(8,6),I.bc(),I.bd(9,V,2,0,"div",7),I.vc(10,"async"),I.bd(11,X,2,0,"ng-template",null,8,I.cd),I.bd(13,H,3,0,"ng-container",9),I.vc(14,"async"),I.bd(15,K,5,6,"ng-container",9),I.vc(16,"async"),I.bc()),2&e){const e=I.Rc(6),i=I.Rc(12);I.Ib(3),I.Dc("ngIf",I.wc(4,6,t.team$).plan_id===t.TeamPlan.FREE)("ngIfElse",e),I.Ib(6),I.Dc("ngIf",I.wc(10,8,t.team$).plan_id===t.TeamPlan.FREE)("ngIfElse",i),I.Ib(4),I.Dc("ngIf",I.wc(14,10,t.allowTrial$)),I.Ib(2),I.Dc("ngIf",!I.wc(16,12,t.allowTrial$))}},directives:[$.q,q.k],pipes:[$.b],styles:['.cu-activity-paywall{display:flex;align-items:center;justify-content:center;padding:25px}.cu-activity-paywall__paywall{display:flex;align-items:center;flex-direction:column;width:540px;border-radius:8px;position:relative;padding:25px 0 30px;box-shadow:0 5px 20px rgba(0,0,0,.08),0 10px 25px rgba(0,0,0,.05);background:#fff}.dark-theme .cu-activity-paywall__paywall{background:#384047}.cu-activity-paywall__paywall-label{display:flex;align-items:center;justify-content:center;position:relative;margin-bottom:30px;width:100%}.cu-activity-paywall__paywall-label:before{content:"";display:block;position:absolute;top:11px;left:0;width:100%;height:2px;background:#e9ebf0}.dark-theme .cu-activity-paywall__paywall-label:before{background:#2b343b}.cu-activity-paywall__paywall-label-text{display:flex;align-items:center;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;background:#ffc800;height:24px;text-transform:uppercase;border-radius:12px;position:relative;padding:0 10px}.cu-activity-paywall__paywall-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 18px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:20px;color:#292d34}.dark-theme .cu-activity-paywall__paywall-title{color:#d5d6d7}.cu-activity-paywall__paywall-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 14px/1.4 Gotham Pro,Proxima Nova,arial,serif;margin:0 35px 30px;text-align:center;color:#7c828d}.dark-theme .cu-activity-paywall__paywall-desc{color:#abaeb0}'],encapsulation:2,changeDetection:0}),e})();var ee=i("Zq4E"),te=i("EMdj"),ie=i("sx5D"),ae=i("LrKI");let oe=(()=>{class e{transform(e,t){return Object(ae.a)(e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=I.Vb({name:"taskBreadcrumbs",type:e,pure:!0}),e})();function ce(e,t){1&e&&I.Xb(0,"cu-loader")}function ne(e,t){1&e&&(I.ac(0),I.cc(1,"div",6),I.Xb(2,"img",7),I.cc(3,"div",8),I.gc(4,9),I.bc(),I.bc(),I.Zb())}function se(e,t){if(1&e&&(I.Xb(0,"cu-task-row-breadcrumbs",26),I.vc(1,"taskBreadcrumbs")),2&e){const e=I.uc().$implicit,t=I.uc(3);I.Dc("breadcrumbsItems",I.xc(1,2,e.task,t.parentType===t.DataViewParentType.Subcategory?"none":t.parentType===t.DataViewParentType.Category?"list":t.parentType===t.DataViewParentType.Project?"project":"space"))("inNewTab",!1)}}function re(e,t){1&e&&I.Xb(0,"div",27)}function le(e,t){1&e&&I.Xb(0,"div",28)}function de(e,t){1&e&&I.Xb(0,"div",29)}function ue(e,t){1&e&&I.Xb(0,"div",30)}function pe(e,t){1&e&&(I.cc(0,"div",31),I.Xb(1,"div",32),I.bc())}function me(e,t){if(1&e){const e=I.dc();I.cc(0,"cu-task-history-item",33),I.qc("onExpandHistory",function(t){return I.Uc(e),I.uc(4).expandItem(t.item)})("onHighlightComment",function(t){I.Uc(e);const i=I.uc().$implicit;return I.uc(3).highlightComment(null==i.task?null:i.task.id,t)}),I.bc()}if(2&e){const e=t.$implicit,i=I.uc().$implicit,a=I.uc(3);I.Dc("item",e.hist_item)("taskId",null==i.task?null:i.task.id)("canAddAttachments",!1)("canRemoveAttachments",!1)("canRemoveOwnAttachments",!1)("canChangeDescription",!1)("team",a.team)("projectId",null==i.task?null:i.task.project_id)("readonly",!0)("isNew",!1)("isChanged",!1)("allowAddToContent",!1)("allowReply",!1)("permissions",null==i.task?null:i.task.permissions)("permissionLevel",null==i.task?null:i.task.permission_level),I.Jb("data-history-comment-id","comment"===(null==e||null==e.hist_item?null:e.hist_item.field)?null==e||null==e.hist_item||null==e.hist_item.comment?null:e.hist_item.comment.id:null)}}function he(e,t){if(1&e){const e=I.dc();I.cc(0,"div",15),I.cc(1,"div",16),I.bd(2,se,2,5,"cu-task-row-breadcrumbs",17),I.cc(3,"a",18),I.qc("click",function(i){I.Uc(e);const a=t.$implicit;return I.uc(3).openTask(a.task,i)}),I.vc(4,"cuTaskLink"),I.Xb(5,"cu-task-row-status",19),I.bd(6,re,1,0,"div",20),I.dd(7),I.bd(8,le,1,0,"div",21),I.bd(9,de,1,0,"div",22),I.bd(10,ue,1,0,"div",23),I.bd(11,pe,2,0,"div",24),I.bc(),I.bc(),I.bd(12,me,1,16,"cu-task-history-item",25),I.bc()}if(2&e){const e=t.$implicit,i=I.uc(3);I.Ib(2),I.Dc("ngIf",i.displayBreadcrumbs),I.Ib(1),I.Ob("cu-activity-list__task-name_breadcrumbs",i.displayBreadcrumbs),I.Dc("cuLink",I.wc(4,16,e.task)),I.Ib(2),I.Dc("itemClass","cu-task-row-status_dot")("status",null==e.task?null:e.task.status)("isSimpleStatus",null==e.task?null:e.task.simple_statuses)("disabled",!0),I.Ib(1),I.Dc("ngIf",null==e.task?null:e.task.parent),I.Ib(1),I.fd(" ",null==e.task?null:e.task.name," "),I.Ib(1),I.Dc("ngIf",null==e.task?null:e.task.private),I.Ib(1),I.Dc("ngIf",(null==e.task?null:e.task.dependency_state)===(null==i.dependencyState?null:i.dependencyState.blocked)),I.Ib(1),I.Dc("ngIf",(null==e.task?null:e.task.dependency_state)===(null==i.dependencyState?null:i.dependencyState.blocker)),I.Ib(1),I.Dc("ngIf",!(null!=e.task&&e.task.has_relationship_links)),I.Ib(1),I.Dc("ngForOf",e.items)("ngForTrackBy",i.trackById)}}function be(e,t){if(1&e&&(I.ac(0),I.cc(1,"div",10),I.cc(2,"div",11),I.dd(3),I.vc(4,"relativeDate"),I.bc(),I.Xb(5,"div",12),I.bc(),I.cc(6,"div",13),I.bd(7,he,13,18,"div",14),I.bc(),I.Zb()),2&e){const e=t.$implicit,i=I.uc(2);I.Ib(3),I.fd(" ",I.wc(4,3,e.date)," "),I.Ib(4),I.Dc("ngForOf",e.items)("ngForTrackBy",i.trackById)}}function ge(e,t){1&e&&I.Xb(0,"cu-loader",34)}function fe(e,t){1&e&&I.Xb(0,"cu-activity-paywall")}function _e(e,t){if(1&e){const e=I.dc();I.cc(0,"div",35),I.qc("cuIsInViewport",function(t){return I.Uc(e),I.uc(2).loadMore(t)}),I.vc(1,"async"),I.bc()}if(2&e){const e=I.uc(2);I.Dc("scrollContainer",e.scrollContainer)("isInViewPortEnabled",!I.wc(1,2,e.loading$))}}function ve(e,t){if(1&e&&(I.ac(0),I.bd(1,ce,1,0,"cu-loader",2),I.vc(2,"async"),I.vc(3,"async"),I.vc(4,"async"),I.bd(5,ne,5,0,"ng-container",2),I.vc(6,"async"),I.vc(7,"async"),I.bd(8,be,8,5,"ng-container",3),I.vc(9,"async"),I.bd(10,ge,1,0,"cu-loader",4),I.vc(11,"async"),I.bd(12,fe,1,0,"cu-activity-paywall",2),I.vc(13,"async"),I.bd(14,_e,2,4,"div",5),I.vc(15,"async"),I.Zb()),2&e){const e=I.uc();let t=null,i=null;I.Ib(1),I.Dc("ngIf",!(null!=(t=I.wc(2,7,e.items$))&&t.length||0===(null==(t=I.wc(3,9,e.items$))?null:t.length)&&!I.wc(4,11,e.hasMore$))),I.Ib(4),I.Dc("ngIf",0===(null==(i=I.wc(6,13,e.items$))?null:i.length)&&!I.wc(7,15,e.hasMore$)),I.Ib(3),I.Dc("ngForOf",I.wc(9,17,e.items$))("ngForTrackBy",e.trackById),I.Ib(2),I.Dc("ngIf",I.wc(11,19,e.hasMore$)),I.Ib(2),I.Dc("ngIf",I.wc(13,21,e.paywall$)),I.Ib(2),I.Dc("ngIf",I.wc(15,23,e.hasMore$))}}function ye(e,t){if(1&e&&(I.cc(0,"div",36),I.gc(1,37),I.vc(2,"async"),I.bc()),2&e){const e=I.uc();I.Ib(2),I.kc(I.wc(2,1,e.error$)),I.hc(1)}}let we=(()=>{class e{constructor(e,t,i,n,u){this.store=e,this.sharedTaskService=t,this.helpers=i,this.taskMentionService=n,this.el=u,this.fields=x.c,this.displayBreadcrumbs=!0,this.showError=!0,this.key$=new o.a(null),this.parentId$=new o.a(null),this.parentType$=new o.a(null),this.reloadFlag$=new o.a(null),this.taskFilters$=new o.a(null),this.filters$=new o.a(this.getFilters()),this.fields$=new o.a(this.fields),this.assignedCommentUserIds$=new o.a(null),this.keyNotNull$=this.key$.pipe(Object(s.a)(e=>!!e),Object(r.a)()),this.items$=this.keyNotNull$.pipe(Object(l.a)(e=>{return this.store.select((t=e,Object(b.createSelector)((e=>Object(b.createSelector)(y,t=>{const i=t[e];return i&&i.items||_}))(t),g.g,(e,t)=>{const i=[];let a,o;return e.forEach(e=>{const c=Object(f.j)(e.date).startOf("day").valueOf(),n=String(c);a&&a.id===n||(a={id:n,date:c,items:[]},o=null,i.push(a)),o&&o.task.id===e.task_id||(o={id:`${e.task_id}_${e.id}`,task:Object.assign({id:e.task_id},t[e.task_id]),items:[]},a.items.push(o)),e.hist_item&&o.items.push(e),e.collapsed&&o.items.push(Object.assign(Object.assign({},e),{id:"collapsed_"+e.id,hist_item:{id:e.id,field:"collapsed_items",data:e.collapsed,count:e.collapsed.count}}))}),i})));var t}),Object(d.a)({refCount:!0,bufferSize:1})),this.hasMore$=this.keyNotNull$.pipe(Object(l.a)(e=>{return this.store.select((t=e,Object(b.createSelector)(y,e=>{const i=e[t];return!i||!i.items||i.hasMore})));var t})),this.paywall$=this.keyNotNull$.pipe(Object(l.a)(e=>{return this.store.select((t=e,Object(b.createSelector)(y,e=>{const i=e[t];return i&&i.paywall})));var t})),this.loading$=this.keyNotNull$.pipe(Object(l.a)(e=>{return this.store.select((t=e,Object(b.createSelector)(y,e=>{const i=e[t];return i&&i.loading})));var t})),this.paging$=this.keyNotNull$.pipe(Object(l.a)(e=>{return this.store.select((t=e,Object(b.createSelector)(y,e=>{const i=e[t];return i&&i.paging})));var t})),this.error$=this.keyNotNull$.pipe(Object(l.a)(e=>{return this.store.select((t=e,Object(b.createSelector)(y,e=>{const i=e[t];return i&&i.error})));var t})),this.trackById=Object(w.d)("id"),this.DataViewParentType=a.e,this.dependencyState=O.a,this.destroy$=new c.a}ngOnInit(){Object(n.a)([this.key$.pipe(Object(s.a)(e=>!!e),Object(r.a)()),this.parentId$.pipe(Object(s.a)(e=>!!e),Object(r.a)()),this.parentType$.pipe(Object(s.a)(e=>!!e),Object(r.a)()),this.fields$.pipe(Object(r.a)(k.a)),this.filters$.pipe(Object(r.a)(k.a)),this.taskFilters$.pipe(Object(r.a)(k.a)),this.assignedCommentUserIds$.pipe(Object(r.a)(k.a)),this.reloadFlag$]).pipe(Object(u.a)(this.destroy$)).subscribe(()=>{this.loadData()}),this.items$.pipe(Object(s.a)(e=>e&&e.length>0),Object(p.a)(10),Object(u.a)(this.destroy$)).subscribe(()=>{this.taskMentionService.updateMentions()})}ngOnChanges(e){e.key&&this.key$.next(this.key),e.parentId&&this.parentId$.next(this.parentId),e.parentType&&this.parentType$.next(this.parentType),e.fields&&this.fields$.next(this.fields),e.assignedCommentUserIds&&this.assignedCommentUserIds$.next(this.assignedCommentUserIds),(e.search||e.userIds||e.userId||e.showSubtasks||e.showClosed||e.showArchived||e.location||e.excludeMultipleLists)&&this.filters$.next(this.getFilters()),e.taskFilters&&this.taskFilters$.next(this.taskFilters),e.reloadFlag&&this.reloadFlag$.next(this.reloadFlag)}ngOnDestroy(){this.destroy$.next()}loadData(e,t){this.store.dispatch(Object(h.a)({key:this.key,request:{parent:{id:this.parentId,type:this.parentType},paging:e,collapsedItem:t,fields:S(this.fields),search:this.search,userIds:this.userIds,subtasks:this.showSubtasks,show_closed:this.showClosed,archived:this.showArchived,exclude_multiple_lists:this.excludeMultipleLists,locations:this.location&&this.location.map(e=>({id:e.id,type:this.getParentType(e.type)})),userId:this.userId,taskFilters:this.taskFilters,assignedCommentUserIds:this.assignedCommentUserIds},showError:this.showError}))}loadMore(e){e&&this.paging$.pipe(Object(m.a)(),Object(s.a)(e=>!!e)).subscribe(e=>{this.loadData(e)})}openTask(e,t){t&&t.target&&this.helpers.closest(t.target,"task-mention")||this.sharedTaskService.clickTaskLink({id:e.id,customId:e.custom_id,teamId:e.team},t)}expandItem(e){this.loadData(null,e)}highlightComment(e,t){}getFilters(){return{search:this.search,userIds:this.userIds,userId:this.userId,location:this.location,showSubtasks:this.showSubtasks,showClosed:this.showClosed,showArchived:this.showArchived,excludeMultipleLists:this.excludeMultipleLists}}getParentType(e){switch(e){case j.b.SUBCATEGORY:return a.e.Subcategory;case j.b.CATEGORY:return a.e.Category;case j.b.PROJECT:return a.e.Project;default:return a.e.Team}}}return e.\u0275fac=function(t){return new(t||e)(I.Wb(b.Store),I.Wb(D.a),I.Wb(C.b),I.Wb(P.a),I.Wb(I.m))},e.\u0275cmp=I.Qb({type:e,selectors:[["cu-activity-list"]],hostAttrs:[1,"cu-activity-list"],inputs:{key:"key",parentId:"parentId",parentType:"parentType",search:"search",fields:"fields",assignedCommentUserIds:"assignedCommentUserIds",taskFilters:"taskFilters",userIds:"userIds",userId:"userId",showSubtasks:"showSubtasks",showClosed:"showClosed",showArchived:"showArchived",excludeMultipleLists:"excludeMultipleLists",location:"location",scrollContainer:"scrollContainer",displayBreadcrumbs:"displayBreadcrumbs",reloadFlag:"reloadFlag",showError:"showError",team:"team"},features:[I.Gb],decls:4,vars:4,consts:function(){let e,t,i,a,o;return e=$localize`:@@cu-activity-list__empty_no-activity␟5802e22130a907a55e7d6915f199b91d4c06f7ea␟5408304895654869754: Nothing to see yet. Task activity will appear here. `,t=$localize`:@@common_waiting-dependency␟7e318436deb2d800d19000fca6e33177b3b98f30␟6823188785494996697:Waiting on dependency`,i=$localize`:@@common_blocking-dependency␟dc1bcd8eb31a7bb33bc8e886576aee8492e84e3c␟5566965119949910896:Blocking Dependency`,a=$localize`:@@common_has-relationship-links␟974b44a54bc27e41a6e6033b754ffd256265874c␟4765524207040448992:Has Relationship Links`,o=$localize`:@@cu-activity-list__no-access␟8d3251053111ea548ae1ba554143ab7a8bbd73e5␟5135120067156032330: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[4,"ngIf","ngIfElse"],["errorTemplate",""],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-activity-list__loader",4,"ngIf"],["class","cu-activity-list__load-more",3,"scrollContainer","isInViewPortEnabled","cuIsInViewport",4,"ngIf"],[1,"cu-activity-list__empty"],["src","./assets/images/illustrations/no-activity.svg",1,"cu-activity-list__empty-img"],[1,"cu-activity-list__empty-text"],e,[1,"cu-activity-list__date"],[1,"cu-activity-list__date-label"],[1,"cu-activity-list__date-line"],[1,"cu-activity-list__body"],["class","cu-activity-list__body-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-activity-list__body-item"],[1,"cu-activity-list__header"],[3,"breadcrumbsItems","inNewTab",4,"ngIf"],["draggable","false",1,"cu-activity-list__header-task",3,"cuLink","click"],[3,"itemClass","status","isSimpleStatus","disabled"],["class","cu-activity-list__header-icon-subtask","icon","cu2-subtask",4,"ngIf"],["class","cu-activity-list__header-icon-private","icon","cu3-lock",4,"ngIf"],["class","cu-activity-list__header-icon-dependency cu-activity-list__header-icon-dependency_waiting-on","cuTooltip",t,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",4,"ngIf"],["class","cu-activity-list__header-icon-dependency cu-activity-list__header-icon-dependency_blocker","cuTooltip",i,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",4,"ngIf"],["class","cu-activity-list__header-icon-dependency cu-activity-list__header-icon-dependency_link-to","cuTooltip",a,"tooltipModifier","tooltip_far",4,"ngIf"],["class","cu-task-history-item",3,"item","taskId","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","canChangeDescription","team","projectId","readonly","isNew","isChanged","allowAddToContent","allowReply","permissions","permissionLevel","onExpandHistory","onHighlightComment",4,"ngFor","ngForOf","ngForTrackBy"],[3,"breadcrumbsItems","inNewTab"],["icon","cu2-subtask",1,"cu-activity-list__header-icon-subtask"],["icon","cu3-lock",1,"cu-activity-list__header-icon-private"],["cuTooltip",t,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",1,"cu-activity-list__header-icon-dependency","cu-activity-list__header-icon-dependency_waiting-on"],["cuTooltip",i,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",1,"cu-activity-list__header-icon-dependency","cu-activity-list__header-icon-dependency_blocker"],["cuTooltip",a,"tooltipModifier","tooltip_far",1,"cu-activity-list__header-icon-dependency","cu-activity-list__header-icon-dependency_link-to"],["icon","cu3-link"],[1,"cu-task-history-item",3,"item","taskId","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","canChangeDescription","team","projectId","readonly","isNew","isChanged","allowAddToContent","allowReply","permissions","permissionLevel","onExpandHistory","onHighlightComment"],[1,"cu-activity-list__loader"],[1,"cu-activity-list__load-more",3,"scrollContainer","isInViewPortEnabled","cuIsInViewport"],[1,"cu-activity-list__no-access"],o]},template:function(e,t){if(1&e&&(I.bd(0,ve,16,25,"ng-container",0),I.vc(1,"async"),I.bd(2,ye,3,3,"ng-template",null,1,I.cd)),2&e){const e=I.Rc(3);I.Dc("ngIf",!I.wc(1,2,t.error$))("ngIfElse",e)}},directives:[$.q,$.p,z.a,M.a,E.a,L.a,A.a,F.a,U.a,J,ee.a],pipes:[$.b,te.a,ie.a,oe],styles:['.cu-activity-list{display:flex;flex-direction:column;min-height:100%;padding-bottom:100px;position:relative;z-index:0;background:#f2f4f7}.contrast_high .cu-activity-list{background:#eee}.dark-theme .cu-activity-list{background:#1e272e}.cu-activity-list__inner{margin:0 auto;padding:20px;width:100%;max-width:796px}.cu-activity-list__inner_loading{opacity:.2;pointer-events:none}.cu-activity-list__loader{display:flex;align-items:center;justify-content:center;width:100%}.cu-activity-list__load-more{margin-top:-300px;height:300px;pointer-events:none}.cu-activity-list__header{display:flex;flex-direction:column;padding:10px 20px;margin:0 -20px 15px;position:sticky;top:38px;z-index:10;background:#fafbfc;transition:background 0s;border-bottom:1px solid #efeef0;border-radius:6px 6px 0 0}.contrast_high .cu-activity-list__header{background:#eee;border-bottom:1px solid #dedede}.dark-theme .cu-activity-list__header{background:#384047;border-bottom:1px solid #1e272e}.cu-activity-list__header .cu-task-row-breadcrumbs{margin-bottom:5px}.cu-activity-list__header .cu-task-row-status_dot{display:inline-block;margin-left:-15px;margin-right:-5px}.cu-activity-list__header-task{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Proxima Nova,arial,serif;font-weight:500;font-size:18px;line-height:1.2;cursor:pointer;color:#292d34}@supports (--global-second-font-support:"Proxima Nova",arial,serif){.cu-activity-list__header-task{font-family:var(--global-second-font-support)}}.dark-theme .cu-activity-list__header-task{color:#d5d6d7}.cu-activity-list__header-task_breadcrumbs{font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif}.cu-activity-list__header-icon-subtask{display:inline-block;width:16px;height:16px;margin-top:-1px;margin-right:5px;fill:#7c828d}.dark-theme .cu-activity-list__header-icon-subtask{fill:#b9bec7}.cu-activity-list__header-icon-private{display:inline-block;width:14px;height:14px;margin-left:4px;margin-bottom:-2px;fill:#7c828d}.dark-theme .cu-activity-list__header-icon-private{fill:#b9bec7}.cu-activity-list__header-icon-dependency{position:relative;overflow:hidden;width:12px;height:12px;display:inline-block;margin-left:4px;margin-bottom:-1px}.cu-activity-list__header-icon-dependency_waiting-on{fill:#ffc800}.cu-activity-list__header-icon-dependency_blocker{fill:#fd0800}.cu-activity-list__header-icon-dependency_link-to{width:14px;height:14px}.cu-activity-list__header-icon-dependency_link-to .icon{fill:#292d34}.dark-theme .cu-activity-list__header-icon-dependency_link-to .icon{fill:#d5d6d7}.cu-activity-list__body{width:100%;max-width:760px;margin:0 auto;padding:0 20px}.cu-activity-list__body-item{background-color:#fbfbfb;margin:10px 0 20px;padding:0 20px 1px;border-radius:6px;box-shadow:0 0 11px 0 rgba(0,0,0,.06)}.cu-activity-list__body-item:hover{box-shadow:0 0 11px 0 rgba(0,0,0,.2)}.contrast_high .cu-activity-list__body-item{box-shadow:0 0 11px 0 rgba(0,0,0,.15)}.contrast_high .cu-activity-list__body-item:hover{box-shadow:0 0 11px 0 rgba(0,0,0,.3)}.dark-theme .cu-activity-list__body-item{background-color:#2b343b}.dark-theme .cu-activity-list__body-item:hover{box-shadow:0 0 15px 0 rgba(0,0,0,.5);transition:background .2s cubic-bezier(.785,.135,.15,.86);background:#32393f}.cu-activity-list__body-item .cu-task-history-item:last-child{margin-bottom:15px}.cu-activity-list__date{display:flex;align-items:center;justify-content:center;position:sticky;top:0;z-index:100;flex-shrink:0;padding:0 0 10px;background:#f2f4f7}.contrast_high .cu-activity-list__date{background:#eee}.dark-theme .cu-activity-list__date{background:#1e272e}.cu-activity-list__body+.cu-activity-list__date{margin-top:20px}.cu-activity-list__date-line{content:"";display:block;position:absolute;top:14px;left:0;height:1px;width:100%;z-index:1;opacity:.5;background:#b9bec7}.dark-theme .cu-activity-list__date-line{opacity:1;background:#384047}.cu-activity-list__date:before{content:"";display:block;position:absolute;width:100%;bottom:-8px;height:8px;z-index:1;pointer-events:none;background:linear-gradient(180deg,#f2f4f7 0,rgba(242,244,247,0))}.contrast_high .cu-activity-list__date:before{background:linear-gradient(180deg,#eee 0,hsla(0,0%,93.3%,0))}.dark-theme .cu-activity-list__date:before{background:linear-gradient(180deg,#1e272e 0,rgba(30,39,46,0))}.cu-activity-list__date:after{content:"";display:block;position:absolute;width:100%;top:-8px;height:8px;z-index:1;pointer-events:none;background:linear-gradient(0deg,#f2f4f7 0,rgba(242,244,247,0))}.contrast_high .cu-activity-list__date:after{background:linear-gradient(0deg,#eee 0,hsla(0,0%,93.3%,0))}.dark-theme .cu-activity-list__date:after{background:linear-gradient(0deg,#1e272e 0,rgba(30,39,46,0))}.cu-activity-list__date-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;justify-content:center;position:relative;z-index:10;height:28px;font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;border-radius:14px;padding:0 10px;border:1px solid rgba(185,190,199,.5);background:#fff;color:#7c828d}.dark-theme .cu-activity-list__date-label{border-color:#384047;color:#abaeb0;background:#2b343b}.cu-activity-list__empty{text-align:center;padding-bottom:80px}.cu-activity-list__empty img{margin-top:80px;width:370px;margin-bottom:25px}.cu-activity-list__empty-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:14px;text-align:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-activity-list__empty-text{font-family:var(--global-font-support)}}.cu-activity-list__no-access{padding:10px 20px;font:italic 400 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;background:#fff}.dark-theme .cu-activity-list__no-access{background:#2b343b;color:#abaeb0}'],encapsulation:2,changeDetection:0}),e})()},o5rX:function(e,t,i){"use strict";i.d(t,"a",function(){return Vi}),i.d(t,"b",function(){return Zi});var a=i("fXoL"),o=i("dTHz"),c=i("jJQC"),n=i("uslN"),s=i("lJxs"),r=i("1G5W"),l=i("o7Ov"),d=i("l7P3"),u=i("4zIx"),p=i("MguC"),m=i("XNiG"),h=i("Bar4"),b=i("f0Wu"),g=i("ofXK");function f(e,t){if(1&e&&a.Yb(0,4),2&e){a.uc();const e=a.Rc(4);a.Dc("ngTemplateOutlet",e)}}function _(e,t){if(1&e&&a.Yb(0,4),2&e){a.uc();const e=a.Rc(6);a.Dc("ngTemplateOutlet",e)}}function v(e,t){if(1&e){const e=a.dc();a.cc(0,"div",5),a.Xb(1,"img",6),a.Xb(2,"img",7),a.cc(3,"div",8),a.cc(4,"div",9),a.cc(5,"div",10),a.gc(6,11),a.bc(),a.cc(7,"div",12),a.mc(8,13),a.Xb(9,"span"),a.Xb(10,"i"),a.jc(),a.bc(),a.cc(11,"div",14),a.gc(12,15),a.bc(),a.bc(),a.cc(13,"div",16),a.cc(14,"div",17),a.qc("click",function(){return a.Uc(e),a.uc().onAccepted()}),a.gc(15,18),a.bc(),a.cc(16,"div",19),a.qc("click",function(){return a.Uc(e),a.uc().onOptedOut()}),a.gc(17,20),a.bc(),a.bc(),a.bc(),a.cc(18,"div",21),a.cc(19,"div"),a.mc(20,22),a.Xb(21,"span"),a.jc(),a.bc(),a.Xb(22,"div"),a.Xb(23,"div"),a.Xb(24,"div"),a.Xb(25,"div"),a.cc(26,"div"),a.gc(27,23),a.bc(),a.bc(),a.bc()}}function y(e,t){if(1&e){const e=a.dc();a.cc(0,"div",24),a.Xb(1,"img",25),a.Xb(2,"img",26),a.cc(3,"div",27),a.cc(4,"div",28),a.gc(5,29),a.bc(),a.cc(6,"div",30),a.mc(7,31),a.Xb(8,"span"),a.jc(),a.bc(),a.Xb(9,"img",32),a.cc(10,"div",33),a.gc(11,34),a.bc(),a.bc(),a.cc(12,"div",35),a.qc("click",function(){return a.Uc(e),a.uc().onAccepted()}),a.gc(13,36),a.bc(),a.cc(14,"div",37),a.qc("click",function(){return a.Uc(e),a.uc().onOptedOut()}),a.gc(15,38),a.bc(),a.bc()}}let w=(()=>{class e{constructor(){this.onAccept=new a.o,this.onOptOut=new a.o,this.accepted=!1,this.optedOut=!1,this.destroy$=new m.a}ngOnDestroy(){this.accepted||this.optedOut||this.onOptOut.emit(),this.destroy$.next()}onOptedOut(){this.optedOut=!0,this.onOptOut.emit()}onAccepted(){this.accepted=!0,this.onAccept.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-onboarding-video-opt-out"]],inputs:{template:"template"},outputs:{onAccept:"onAccept",onOptOut:"onOptOut"},decls:7,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u;return e=$localize`:@@cu-onboarding-video-opt-out__wait␟cc706fbebc4017811e20f0c54545058a3f56d4e1␟8526212939918627908: WAIT! `,t=$localize`:@@cu-onboarding-video-opt-out__watch-free-1gb-storage␟5914fc709296dc2b3ff82a3964629373f62487a7␟4124354968914982154: If you watch this video, we'll give you ${"\ufffd#9\ufffd"}:START_TAG_SPAN:1Gb${"\ufffd/#9\ufffd"}:CLOSE_TAG_SPAN: storage ${"\ufffd#10\ufffd"}:START_ITALIC_TEXT:(10x)${"\ufffd/#10\ufffd"}:CLOSE_ITALIC_TEXT:! `,i=$localize`:@@cu-onboarding-video-opt-out__watch-video-description-free-1gb-storage␟4ccf4bd419939dfd06986c562e0f58724edf0f66␟2018744201014241381: We're so confident that these videos are critical to your success that we are willing to multiply your free storage 10x. `,a=$localize`:@@cu-onboarding-video-opt-out__btn-txt_boost-storage␟7c3ce2d871a35e27a7f07b59f46d8b6e7414b48e␟3434754079505059038: Boost my storage 10x `,o=$localize`:@@common_no-thanks␟df5ae35b5affac04bf8ec206cd271da66bb18074␟4791280008204333884: No thanks `,c=$localize`:@@cu-onboarding-video-opt-out__storage-capacity_100mb␟dc499f4ef65134161a0f357ce77b65a76a634dac␟4278747661101898276: 100 ${"\ufffd#21\ufffd"}:START_TAG_SPAN:MB${"\ufffd/#21\ufffd"}:CLOSE_TAG_SPAN:`,n=$localize`:@@cu-onboarding-video-opt-out__storage-capacity_1gb␟83cb41897b1bad4bbf3dacc196471baeb6f61c3d␟2869764250778789711:1 Gb`,s=$localize`:@@cu-onboarding-video-opt-out__wait␟87a2ed22fbac3679f09a603a24b45ffdfe325104␟5543844748518475934: WAIT! `,r=$localize`:@@cu-onboarding-video-opt-out__watch-free-10usd-credit␟bf624fff47465f6bf7917b977b42abd89457b938␟1916145179577911060: If you watch this video, we'll give you ${"\ufffd#8\ufffd"}:START_TAG_SPAN:$10${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN: credit! `,l=$localize`:@@cu-onboarding-video-opt-out__watch-video-description-free-10usd-credit␟572e1f9ad7a724799f6e6da40288e729e7e3c469␟7291895971805532456: We're so confident that these videos will make you successful, that we'll give you $10 credit to use towards any ClickUp plan. `,d=$localize`:@@cu-onboarding-video-opt-out__btn-txt_get-free-credits␟d5eae3f95f697adcd65a03553704215c44900682␟1122783132261164463: Watch videos and get $10 `,u=$localize`:@@common_no-thanks␟067533b9bd17464e81a23f9afeda252bd01aae01␟7313755200546351715: No thanks `,[[1,"cu-onboarding-video-opt-out"],[3,"ngTemplateOutlet",4,"ngIf"],["data",""],["money",""],[3,"ngTemplateOutlet"],[1,"cu-onboarding-video-opt-out__data"],["src","./assets/images/modal-bg-1.png",1,"cu-onboarding-video-opt-out__data-bg"],["src","./assets/images/brand/clickup-symbol_color.svg",1,"cu-onboarding-video-opt-out__data-logo"],[1,"cu-onboarding-video-opt-out__data-left"],[1,"cu-onboarding-video-opt-out__data-content"],[1,"cu-onboarding-video-opt-out__data-content-header"],e,[1,"cu-onboarding-video-opt-out__data-content-subheader"],t,[1,"cu-onboarding-video-opt-out__data-content-text"],i,[1,"cu-onboarding-video-opt-out__data-buttons"],[1,"cu-onboarding-video-opt-out__data-buttons-accept",3,"click"],a,[1,"cu-onboarding-video-opt-out__data-buttons-opt-out",3,"click"],o,[1,"cu-onboarding-video-opt-out__data-right"],c,n,[1,"cu-onboarding-video-opt-out__money"],["src","./assets/images/modal-bg-2.png",1,"cu-onboarding-video-opt-out__money-bg"],["src","./assets/images/brand/clickup-symbol_color.svg",1,"cu-onboarding-video-opt-out__money-logo"],[1,"cu-onboarding-video-opt-out__money-content"],[1,"cu-onboarding-video-opt-out__money-header"],s,[1,"cu-onboarding-video-opt-out__money-subheader"],r,["src","./assets/images/ten-dollar-bill.jpg",1,"cu-onboarding-video-opt-out__money-twenty"],[1,"cu-onboarding-video-opt-out__money-text"],l,[1,"cu-onboarding-video-opt-out__money-accept",3,"click"],d,[1,"cu-onboarding-video-opt-out__money-opt-out",3,"click"],u]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.bd(1,f,1,1,"ng-container",1),a.bd(2,_,1,1,"ng-container",1),a.bc(),a.bd(3,v,28,0,"ng-template",null,2,a.cd),a.bd(5,y,16,0,"ng-template",null,3,a.cd)),2&e&&(a.Ib(1),a.Dc("ngIf",0===t.template),a.Ib(1),a.Dc("ngIf",1===t.template))},directives:[g.q,g.x],styles:['.cu-onboarding-video-opt-out{width:100%;height:100%}.cu-onboarding-video-opt-out__data{font-family:Gotham Pro,Proxima Nova,arial,serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:100%;height:100%;position:relative;padding:100px 40px 0;display:flex;justify-content:space-between}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__data{font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__data-bg{position:absolute;right:-22px;bottom:0}.cu-onboarding-video-opt-out__data-logo{position:absolute;width:30px;height:37px;top:30px;left:40px}.cu-onboarding-video-opt-out__data-content{position:relative;width:370px;margin-top:10px}.cu-onboarding-video-opt-out__data-content-header{font-weight:800;font-size:50px;line-height:1;color:#292d34;padding-bottom:15px}.dark-theme .cu-onboarding-video-opt-out__data-content-header{color:#d5d6d7}.cu-onboarding-video-opt-out__data-content-subheader{font-weight:800;font-size:25px;line-height:35px;color:#292d34;padding-bottom:25px}.cu-onboarding-video-opt-out__data-content-subheader span{color:var(--theme-main-color)}.cu-onboarding-video-opt-out__data-content-subheader i{color:#7c828d}.dark-theme .cu-onboarding-video-opt-out__data-content-subheader{color:#d5d6d7}.cu-onboarding-video-opt-out__data-content-text{font-weight:400;font-size:16px;line-height:28px;color:#7c828d;padding-bottom:40px}.dark-theme .cu-onboarding-video-opt-out__data-content-text{color:#abaeb0}.cu-onboarding-video-opt-out__data-buttons{display:flex;align-items:center;position:relative}.cu-onboarding-video-opt-out__data-buttons-accept{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:800;font-size:14px;line-height:1;transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:205px;height:50px;background:linear-gradient(.724turn,#ffc800,#ff02f0);box-shadow:0 10px 25px rgba(0,0,0,.15);border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__data-buttons-accept{font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__data-buttons-accept:hover{transform:scale(1.02)}.cu-onboarding-video-opt-out__data-buttons-opt-out{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:800;font-size:14px;line-height:1;transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;opacity:.4;cursor:pointer;margin-left:25px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__data-buttons-opt-out{font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__data-buttons-opt-out:hover{opacity:1}.cu-onboarding-video-opt-out__data-right{display:flex;flex-direction:column;align-items:center;position:relative}.cu-onboarding-video-opt-out__data-right div{background-color:#fff;box-shadow:0 10px 30px rgba(16,30,54,.25);border-radius:5px;margin-bottom:10px;height:30px;display:flex;justify-content:center;align-items:center;flex-direction:column}.cu-onboarding-video-opt-out__data-right div:first-of-type{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:800;font-size:25px;line-height:1;width:80px;height:70px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__data-right div:first-of-type{font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__data-right div:first-of-type span{font-size:14px;display:block;margin-top:5px;color:#7c828d}.cu-onboarding-video-opt-out__data-right div:nth-of-type(2){width:90px}.cu-onboarding-video-opt-out__data-right div:nth-of-type(3){width:100px}.cu-onboarding-video-opt-out__data-right div:nth-of-type(4){width:110px}.cu-onboarding-video-opt-out__data-right div:nth-of-type(5){width:120px}.cu-onboarding-video-opt-out__data-right div:nth-of-type(6){-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:800;font-size:40px;line-height:1;color:#fd71af;width:130px;height:110px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__data-right div:nth-of-type(6){font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__money{font-family:Gotham Pro,Proxima Nova,arial,serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:100%;height:100%;position:relative;padding:40px;text-align:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__money{font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__money-bg{position:absolute;right:-20px;bottom:0}.cu-onboarding-video-opt-out__money-logo{position:absolute;width:30px;height:37px;top:30px;left:40px}.cu-onboarding-video-opt-out__money-content{position:relative}.cu-onboarding-video-opt-out__money-header{font-weight:800;font-size:50px;line-height:1;color:#292d34;padding-bottom:10px}.dark-theme .cu-onboarding-video-opt-out__money-header{color:#d5d6d7}.cu-onboarding-video-opt-out__money-subheader{font-weight:800;font-size:25px;line-height:35px;color:#292d34;padding-bottom:15px}.cu-onboarding-video-opt-out__money-subheader span{color:var(--theme-main-color)}.cu-onboarding-video-opt-out__money-subheader i{color:#7c828d}.dark-theme .cu-onboarding-video-opt-out__money-subheader{color:#d5d6d7}.cu-onboarding-video-opt-out__money-text{font-weight:400;font-size:16px;line-height:28px;color:#7c828d;padding-bottom:25px;width:525px;margin:-20px auto 0}.dark-theme .cu-onboarding-video-opt-out__money-text{color:#abaeb0}.cu-onboarding-video-opt-out__money-accept{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:800;font-size:14px;line-height:1;transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:205px;height:50px;background:linear-gradient(.724turn,#ffc800,#ff02f0);box-shadow:0 10px 25px rgba(0,0,0,.15);border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer;color:#fff;position:relative;margin:0 auto}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__money-accept{font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__money-accept:hover{transform:scale(1.02)}.cu-onboarding-video-opt-out__money-opt-out{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:800;font-size:14px;line-height:1;transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;opacity:.4;cursor:pointer;margin-top:15px;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-onboarding-video-opt-out__money-opt-out{font-family:var(--global-font-support)}}.cu-onboarding-video-opt-out__money-opt-out:hover{opacity:1}.cu-onboarding-video-opt-out__money-twenty{width:450px;height:auto;margin-bottom:30px}.cu-modal__onboarding-video-opt-out-data .cu-modal__header{margin:0}.cu-modal__onboarding-video-opt-out-data .cu-modal__body{height:100%;width:100%}.cu-modal__onboarding-video-opt-out-data .cu-modal__dialog{width:620px!important;height:500px!important;padding:0}.cu-modal__onboarding-video-opt-out-data .cu-modal__close{right:30px;top:35px}.cu-modal__onboarding-video-opt-out-data .cu-modal__close use{stroke:#fff}.cu-modal__onboarding-video-opt-out-money .cu-modal__header{margin:0}.cu-modal__onboarding-video-opt-out-money .cu-modal__body{height:100%;width:100%}.cu-modal__onboarding-video-opt-out-money .cu-modal__dialog{width:760px!important;height:540px!important;padding:0}.cu-modal__onboarding-video-opt-out-money .cu-modal__close{right:30px;top:35px}.cu-modal__onboarding-video-opt-out-money .cu-modal__close use{stroke:#fff}'],encapsulation:2,changeDetection:0}),e})();var k=i("S+3w"),x=i("m2AY"),T=i("c3rA"),S=i("bV87"),j=i("0QFR"),O=i("WwCI"),I=i("Jf2N"),D=i("Tm/s"),C=i("tyNb"),P=i("xog/"),$=i("UdVN"),z=i("3Pt+"),M=i("AeD3");function E(e,t){1&e&&(a.ac(0),a.gc(1,29),a.Zb())}function L(e,t){1&e&&(a.ac(0),a.gc(1,30),a.Zb())}function A(e,t){1&e&&(a.ac(0),a.gc(1,31),a.Zb())}function F(e,t){1&e&&(a.cc(0,"div",32),a.cc(1,"div",33),a.Xb(2,"div",34),a.bc(),a.cc(3,"div",35),a.gc(4,36),a.bc(),a.bc())}function U(e,t){1&e&&(a.cc(0,"div",32),a.cc(1,"div",33),a.Xb(2,"div",34),a.bc(),a.cc(3,"div",35),a.gc(4,37),a.bc(),a.bc())}const N=function(e){return{"cu-form__row_error":e}};let R=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1,this.onBack=new a.o,this.onOpenIntercom=new a.o}ngOnInit(){this.helpForm=this.fb.group({subject:["",z.A.required],body:["",z.A.required],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitHelp(){this.helpForm.valid&&(this.dataService.submitHelp(this.helpForm.value).subscribe(()=>{}),this.submitted=!0)}reset(){this.submitted=!1,this.helpForm=this.fb.group({subject:["",z.A.required],body:["",z.A.required]})}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form"]],inputs:{team:"team",source:"source",downgradingTo:"downgradingTo"},outputs:{onBack:"onBack",onOpenIntercom:"onOpenIntercom"},decls:34,vars:15,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m;return e=$localize`:@@common_mail-subject␟4b0ca852bafa5037c4e64c7b18f9cd1e14b799de␟9127604588498960753:Subject`,t=$localize`:@@common_mail-subject␟4b0ca852bafa5037c4e64c7b18f9cd1e14b799de␟9127604588498960753:Subject`,i=$localize`:@@common_message␟ccac601bf473fa28c9ac46794f1cd40542f74347␟8066608938393600549:Message`,a=$localize`:@@common_message␟ccac601bf473fa28c9ac46794f1cd40542f74347␟8066608938393600549:Message`,o=$localize`:@@cu-resource-center-form__btn_message-clickup␟1427e0b39e79bf7db04176b40d9f5d090f41e2ce␟915748803945374204: Message ClickUp `,c=$localize`:@@cu-resource-center-form__tools-bot-link-text_clickup-live-chat␟2080daa443ebedc38b8fd1ac6e10f3bdc3383e29␟8241455526525862201: Or start a live chat with ClickUp `,n=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,s=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,r=$localize`:@@common_back␟1b1b98cf02baa4e4a12eeda340ddcc389ba7d896␟8134959473405621678: Back `,l=$localize`:@@cu-resource-center-form__title_billing-question␟a593c16bcc881c94f27d300301dac5424721a85e␟1921268861271408958: Get help with your billing question `,d=$localize`:@@cu-resource-center-form__title_contact-marketing-team␟15120b764a6f4d18044aba5471c5125b147ecc2d␟2381525698448306257: Contact our marketing team `,u=$localize`:@@cu-resource-center-form__title_n-a␟5da08e61500be7773b0cd7acbcc01a1745d5516f␟7793018357354923595: None of the above? `,p=$localize`:@@errors_form-field--required␟cd6639fa2f7e1a540c3775f8e46f9be4f33721c7␟8977356616214033041: This field is required! `,m=$localize`:@@errors_form-field--required␟cd6639fa2f7e1a540c3775f8e46f9be4f33721c7␟8977356616214033041: This field is required! `,[[1,"cu-resource-center__form",3,"hidden"],[1,"cu-resource-center__form-title"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"cu-resource-center__header-icon-close","dark",3,"icon","click"],[1,"cu-form",3,"formGroup","submit"],[1,"cu-form__row","cu-form__row-margin-15",3,"ngClass"],[1,"cu-form__label"],e,[1,"cu-form__field","cu-form__field_no-border"],["placeholder",t,"formControlName","subject",1,"cu-form__input"],["class","cu-form__error",4,"ngIf"],i,["rows","4","placeholder",a,"formControlName","body",1,"cu-form__input"],[1,"cu-form__row"],[1,"cu-btn"],[1,"cu-btn__text"],o,[1,"cu-resource-center__tools-bot-link",3,"click"],[1,"cu-resource-center__tools-bot-link-text"],c,[1,"cu-resource-center__form-help-submitted",3,"hidden"],[1,"cu-resource-center__form-help-submitted-title"],n,[1,"cu-resource-center__form-help-submitted-subtitle"],s,[1,"cu-resource-center__form-help-submitted-back","cu-btn",3,"click"],r,l,d,u,[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],p,m]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.ac(2,2),a.bd(3,E,2,0,"ng-container",3),a.bd(4,L,2,0,"ng-container",3),a.bd(5,A,2,0,"ng-container",4),a.Zb(),a.cc(6,"div",5),a.qc("click",function(){return t.onBack.emit(),t.reset()}),a.bc(),a.bc(),a.cc(7,"form",6),a.qc("submit",function(){return t.submitHelp()}),a.cc(8,"div",7),a.cc(9,"div",8),a.gc(10,9),a.bc(),a.cc(11,"div",10),a.Xb(12,"input",11),a.bc(),a.bd(13,F,5,0,"div",12),a.bc(),a.cc(14,"div",7),a.cc(15,"div",8),a.gc(16,13),a.bc(),a.cc(17,"div",10),a.Xb(18,"textarea",14),a.bc(),a.bd(19,U,5,0,"div",12),a.bc(),a.cc(20,"div",15),a.cc(21,"button",16),a.cc(22,"div",17),a.gc(23,18),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(24,"div",19),a.qc("click",function(){return t.onOpenIntercom.emit()}),a.cc(25,"div",20),a.gc(26,21),a.bc(),a.bc(),a.bc(),a.cc(27,"div",22),a.cc(28,"div",23),a.gc(29,24),a.bc(),a.cc(30,"div",25),a.gc(31,26),a.bc(),a.cc(32,"div",27),a.qc("click",function(){return t.onBack.emit(),t.reset()}),a.gc(33,28),a.bc(),a.bc()),2&e&&(a.Dc("hidden",t.submitted),a.Ib(2),a.Dc("ngSwitch",t.source),a.Ib(1),a.Dc("ngSwitchCase","billing"),a.Ib(1),a.Dc("ngSwitchCase","marketing"),a.Ib(2),a.Dc("icon","cu2-times"),a.Ib(1),a.Dc("formGroup",t.helpForm),a.Ib(1),a.Dc("ngClass",a.Hc(11,N,t.helpForm.controls.subject.touched&&t.helpForm.controls.subject.errors)),a.Ib(5),a.Dc("ngIf",t.helpForm.controls.subject.touched&&(null==t.helpForm.controls.subject.errors?null:t.helpForm.controls.subject.errors.required)),a.Ib(1),a.Dc("ngClass",a.Hc(13,N,t.helpForm.controls.body.touched&&t.helpForm.controls.body.errors)),a.Ib(5),a.Dc("ngIf",t.helpForm.controls.body.touched&&(null==t.helpForm.controls.body.errors?null:t.helpForm.controls.body.errors.required)),a.Ib(8),a.Dc("hidden",!t.submitted))},directives:[g.u,g.v,g.w,$.a,z.C,z.q,z.k,g.o,z.c,z.p,z.i,g.q],styles:[".cu-resource-center__form-title{font-weight:500;font-size:20px;line-height:1;padding-bottom:15px;display:flex;align-items:center;justify-content:space-between}.cu-resource-center__form-subtitle{font-weight:300;font-size:12px;line-height:1.2;color:#818193;margin-bottom:25px}.dark-theme .cu-resource-center__form-subtitle{color:#d5d6d7}.cu-resource-center__form .cu-btn{font-weight:500;font-size:14px;line-height:1;width:100%;height:50px;border-radius:3px}.cu-resource-center__form .cu-form__label{margin-bottom:10px}.cu-resource-center__form .cu-form__row input,.cu-resource-center__form .cu-form__row textarea{border:1px solid #e4e4e4;padding:8px;border-radius:3px;line-height:1.4}.dark-theme .cu-resource-center__form .cu-form__row input,.dark-theme .cu-resource-center__form .cu-form__row textarea{border-color:#1e272e}.cu-resource-center__form .cu-form__row textarea{resize:none;height:90px}.cu-resource-center__form-help-submitted{text-align:center;padding-top:180px}.cu-resource-center__form-help-submitted-title{font-weight:400;font-size:20px;line-height:1;color:var(--theme-main-color);padding-bottom:20px}.cu-resource-center__form-help-submitted-subtitle{font-weight:300;font-size:15px;line-height:1.2;color:#818193;padding-bottom:40px}.cu-resource-center__form-help-submitted-back{height:55px;width:150px}"],encapsulation:2,changeDetection:0}),e})();var G=i("NsZK");function q(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.ac(2),a.gc(3,4),a.Zb(),a.cc(4,"div",5),a.qc("click",function(){return a.Uc(e),a.uc().onBack.emit()}),a.bc(),a.bc(),a.cc(5,"div",6),a.cc(6,"div",7),a.gc(7,8),a.bc(),a.Xb(8,"input",9),a.bc(),a.cc(9,"div",6),a.cc(10,"div",7),a.gc(11,10),a.bc(),a.Xb(12,"input",11),a.bc(),a.cc(13,"div",6),a.cc(14,"div",7),a.gc(15,12),a.bc(),a.Xb(16,"textarea",13),a.bc(),a.cc(17,"div",6),a.cc(18,"div",7),a.gc(19,14),a.bc(),a.Xb(20,"textarea",15),a.bc(),a.cc(21,"div",6),a.cc(22,"div",7),a.gc(23,16),a.bc(),a.Xb(24,"textarea",17),a.bc(),a.cc(25,"button",18),a.gc(26,19),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(4),a.Dc("icon","cu2-times"),a.Ib(21),a.Dc("disabled",!e.form.valid)}}function B(e,t){if(1&e){const e=a.dc();a.cc(0,"div",20),a.cc(1,"div",21),a.gc(2,22),a.bc(),a.cc(3,"div",23),a.gc(4,24),a.bc(),a.cc(5,"div",25),a.qc("click",function(){return a.Uc(e),a.uc().onBack.emit()}),a.gc(6,26),a.bc(),a.bc()}}let W=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1,this.onBack=new a.o}ngOnInit(){this.form=this.fb.group({form:["Set up assistance"],industry:[""],companySize:[""],howDoesCompanyOperateToolsClients:[""],whatDoYouHopeToAccomplish:[""],whatDoYouNeedHelpSettingUp:[""],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitForm(){(this.form.value.industry||this.form.value.companySize||this.form.value.howDoesCompanyOperateToolsClients||this.form.value.whatDoYouHopeToAccomplish)&&this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-set-up"]],inputs:{team:"team",downgradingTo:"downgradingTo"},outputs:{onBack:"onBack"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h;return e=$localize`:@@resource-center_request-setup-assistance␟68f18e70fbc6b2990fc0f9a8ab54f03444c3578a␟3665315018475482613:Request set up assistance`,t=$localize`:@@cu-resource-center-form-set-up__form-label_industry␟55e289aaa447425538e448c021b08eb0e7fc171b␟3783489138484958340: Industry `,i=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,a=$localize`:@@cu-resource-center-form-set-up__form-label_company-size␟70b829013b743ac81c12acb64fcad37124632766␟1676899489999826053: Company size `,o=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,c=$localize`:@@cu-resource-center-form-set-up__form-label_flow-of-operation-tools␟1e67fcb0a78a2f809f8d6d80bbae439b354051a9␟3007896907049278635: How does your work currently operate? What tools do you use? Do you work with external clients? `,n=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,s=$localize`:@@cu-resource-center-form-set-up__form-label_clickup-usage␟f18f4d1a0a2881b3af94f171418e73b0eb71897a␟5958738860316927465: What do you hope to accomplish with ClickUp? `,r=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,l=$localize`:@@cu-resource-center-form-set-up__form-label_setup-help␟b9796a0a9b625d98761fbaa5077186092b5e5c05␟1024518765340182254: What do you need help setting up? `,d=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,u=$localize`:@@forms_submit␟99387bde50a12de9097e8cb9c92e2aa6a43f8324␟1111200298196674213: Submit `,p=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,m=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,h=$localize`:@@common_close␟396111f33ef48eef016cd0eedb7be2ef882d7430␟1353900317147489199: Close `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__form-title"],e,[1,"cu-resource-center__header-icon-close","dark",3,"icon","click"],[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label","smaller"],t,["placeholder",i,"formControlName","industry",1,"cu-resource-center__support-form-input"],a,["placeholder",o,"formControlName","companySize",1,"cu-resource-center__support-form-input"],c,["placeholder",n,"formControlName","howDoesCompanyOperateToolsClients",1,"cu-resource-center__support-form-text-area"],s,["placeholder",r,"formControlName","whatDoYouHopeToAccomplish",1,"cu-resource-center__support-form-text-area"],l,["placeholder",d,"formControlName","whatDoYouNeedHelpSettingUp",1,"cu-resource-center__support-form-text-area"],["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],u,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],p,[1,"cu-resource-center__form-help-submitted-subtitle"],m,[1,"cu-resource-center__form-help-submitted-back","cu-btn",3,"click"],h]},template:function(e,t){1&e&&(a.bd(0,q,27,3,"form",0),a.bd(1,B,7,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,$.a,z.c,z.p,z.i],encapsulation:2,changeDetection:0}),e})();const V=/^[()/+.\-, 0-9]+$/,X=/^[0-9, $.]+$/,H=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/;let Y=(()=>{class e{constructor(e){this.element=e,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.inputElement=e.nativeElement}onKeyDown(e){this.navigationKeys.indexOf(e.key)>-1||"a"===e.key&&!0===e.ctrlKey||"c"===e.key&&!0===e.ctrlKey||"v"===e.key&&!0===e.ctrlKey||"x"===e.key&&!0===e.ctrlKey||"a"===e.key&&!0===e.metaKey||"c"===e.key&&!0===e.metaKey||"v"===e.key&&!0===e.metaKey||"x"===e.key&&!0===e.metaKey||this.regex.test(e.key)||e.preventDefault()}onPaste(e){let t="";e.preventDefault();const i=e.clipboardData.getData("text/plain");for(let a=0;a<i.length;a++)this.regex.test(i.charAt(a))&&(t=t.concat(i.charAt(a)));document.execCommand("insertText",!1,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.m))},e.\u0275dir=a.Rb({type:e,selectors:[["","cuInputRegex",""]],hostBindings:function(e,t){1&e&&a.qc("keydown",function(e){return t.onKeyDown(e)})("paste",function(e){return t.onPaste(e)})},inputs:{regex:"regex"}}),e})();function Z(e,t){1&e&&(a.cc(0,"div",29),a.gc(1,30),a.bc())}function Q(e,t){1&e&&(a.cc(0,"div",29),a.gc(1,31),a.bc())}function K(e,t){1&e&&(a.cc(0,"div",29),a.gc(1,32),a.bc())}function J(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.cc(2,"div",4),a.ac(3),a.gc(4,5),a.Zb(),a.cc(5,"span"),a.dd(6,"*"),a.bc(),a.bc(),a.Xb(7,"input",6),a.bd(8,Z,2,0,"div",7),a.bc(),a.cc(9,"div",3),a.cc(10,"div",4),a.ac(11),a.gc(12,8),a.Zb(),a.cc(13,"span"),a.dd(14,"*"),a.bc(),a.bc(),a.Xb(15,"input",9),a.bd(16,Q,2,0,"div",7),a.bc(),a.cc(17,"div",3),a.cc(18,"div",4),a.ac(19),a.gc(20,10),a.Zb(),a.cc(21,"span"),a.dd(22,"*"),a.bc(),a.bc(),a.Xb(23,"input",11),a.bd(24,K,2,0,"div",7),a.bc(),a.cc(25,"div",3),a.cc(26,"div",12),a.gc(27,13),a.bc(),a.cc(28,"div",14),a.cc(29,"label"),a.Xb(30,"input",15),a.cc(31,"span"),a.ac(32),a.gc(33,16),a.Zb(),a.dd(34," (SSO)"),a.bc(),a.bc(),a.bc(),a.cc(35,"div",14),a.cc(36,"label"),a.Xb(37,"input",17),a.cc(38,"span"),a.gc(39,18),a.bc(),a.bc(),a.bc(),a.cc(40,"div",14),a.cc(41,"label"),a.Xb(42,"input",19),a.cc(43,"span"),a.gc(44,20),a.bc(),a.bc(),a.bc(),a.cc(45,"div",14),a.cc(46,"label"),a.Xb(47,"input",21),a.cc(48,"span"),a.gc(49,22),a.bc(),a.bc(),a.bc(),a.cc(50,"div",14),a.cc(51,"label"),a.Xb(52,"input",23),a.cc(53,"span"),a.gc(54,24),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(55,"div",3),a.cc(56,"div",4),a.gc(57,25),a.bc(),a.Xb(58,"textarea",26),a.bc(),a.cc(59,"button",27),a.gc(60,28),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(1),a.Ob("error",e.form.controls.company.touched&&e.form.controls.company.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.company.touched&&e.form.controls.company.errors),a.Ib(1),a.Ob("error",e.form.controls.phone.touched&&e.form.controls.phone.errors),a.Ib(6),a.Dc("regex",e.PHONE_NUMBER_CHARACTERS_REGEX),a.Ib(1),a.Dc("ngIf",e.form.controls.phone.touched&&e.form.controls.phone.errors),a.Ib(1),a.Ob("error",e.form.controls.howManyUsers.touched&&e.form.controls.howManyUsers.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.howManyUsers.touched&&e.form.controls.howManyUsers.errors),a.Ib(35),a.Dc("disabled",!e.form.valid)}}function ee(e,t){1&e&&(a.cc(0,"div",33),a.cc(1,"div",34),a.gc(2,35),a.bc(),a.cc(3,"div",36),a.gc(4,37),a.bc(),a.bc())}let te=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1,this.PHONE_NUMBER_CHARACTERS_REGEX=V}ngOnInit(){this.form=this.fb.group({form:["Sales"],company:["",z.A.required],phone:["",z.A.required],howManyUsers:["",z.A.required],sso:[!1],salesAgreement:[!1],hipaa:[!1],trainingOnboarding:[!1],customPermissions:[!1],comments:[""],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitForm(){this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-sales"]],inputs:{team:"team",downgradingTo:"downgradingTo"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v;return e=$localize`:@@forms_label--company␟6ef0619a37140118b9e640c6cc36ee4e9fb4372a␟1826215573205981970:Company`,t=$localize`:@@forms_label--company␟6ef0619a37140118b9e640c6cc36ee4e9fb4372a␟1826215573205981970:Company`,i=$localize`:@@forms_label--phone␟6934d8edd276d59e050006fe91b695ebad0218f8␟3262236020277300799:Phone`,a=$localize`:@@forms_label--phone␟6934d8edd276d59e050006fe91b695ebad0218f8␟3262236020277300799:Phone`,o=$localize`:@@cu-resource-center__support-form-label_user-count-estimate␟67e11816f5ef86bd1a5e6578b83331de01aa6448␟4006450569203054595:How many users`,c=$localize`:@@common_number-of-users␟3b5fe3aad8cdfe8965d9ea759056bc896f8d3008␟6894387259340176887:Number of users`,n=$localize`:@@cu-resource-center__support-form-label_feature-requirements␟07262b1de7829ca9da7804d1b77cc7d4c852f5d7␟4435732579445936493: Do you need any of the following features? `,s=$localize`:@@common_sso␟582504ed9fa84d4b492f4f2157c519ebc772db9f␟1131077356579067392:Single Sign On`,r=$localize`:@@cu-resource-center__support-form-checkbox_sales-agreement␟611065a94d742a02bc365f5687ba63ceef3be536␟3325304999376959786:Sales Agreement or Contract`,l=$localize`:@@cu-resource-center__support-form-checkbox_hipaa-compliance␟8dc52453240ad1c41c358cfe8d16c53056e2a48d␟7609611601115834602:HIPAA Compliance`,d=$localize`:@@cu-resource-center__support-form-checkbox_training-and-onboarding␟c8bcc90c5c8d87b5e2c7d544b805ce2c643d1a4a␟1816522246065145581:Tailored Training & Onboarding`,u=$localize`:@@cu-resource-center__support-form-checkbox_custom-permissions␟0a4e8618652838b833caf35ca8776cbc237cc55d␟621924059793059033:Custom Permissions`,p=$localize`:@@common_comments␟b5f5df598f2d75640849b2a7744f91e5dbd390e7␟7176791011756447626: Comments `,m=$localize`:@@cu-resource-center__support-form-text-area_comments-placeholder␟50d1a99ad3961450add20367360289b50373f62e␟199758384274797880:Your comment`,h=$localize`:@@forms_submit␟99387bde50a12de9097e8cb9c92e2aa6a43f8324␟1111200298196674213: Submit `,b=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,g=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,f=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,_=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,v=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label"],e,["placeholder",t,"formControlName","company",1,"cu-resource-center__support-form-input"],["class","cu-resource-center__support-form-label-error",4,"ngIf"],i,["placeholder",a,"formControlName","phone","type","text","cuInputRegex","",1,"cu-resource-center__support-form-input",3,"regex"],o,["placeholder",c,"formControlName","howManyUsers","type","number",1,"cu-resource-center__support-form-input"],[1,"cu-resource-center__support-form-label","smaller"],n,[1,"cu-resource-center__support-form-checkbox"],["name","sso","type","checkbox","formControlName","sso"],s,["name","salesAgreement","type","checkbox","formControlName","salesAgreement"],r,["name","hipaa","type","checkbox","formControlName","hipaa"],l,["name","trainingOnboarding","type","checkbox","formControlName","trainingOnboarding"],d,["name","sso","type","checkbox","formControlName","customPermissions"],u,p,["placeholder",m,"formControlName","comments",1,"cu-resource-center__support-form-text-area"],["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],h,[1,"cu-resource-center__support-form-label-error"],b,g,f,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],_,[1,"cu-resource-center__form-help-submitted-subtitle"],v]},template:function(e,t){1&e&&(a.bd(0,J,61,12,"form",0),a.bd(1,ee,5,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,z.c,z.p,z.i,Y,z.u,z.b],encapsulation:2,changeDetection:0}),e})();function ie(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.gc(2,4),a.bc(),a.cc(3,"div",5),a.cc(4,"div",6),a.cc(5,"div",7),a.Xb(6,"div",8),a.bc(),a.cc(7,"div",9),a.cc(8,"div",10),a.gc(9,11),a.bc(),a.cc(10,"div",12),a.gc(11,13),a.bc(),a.bc(),a.bc(),a.cc(12,"div",6),a.cc(13,"div",7),a.Xb(14,"div",8),a.bc(),a.cc(15,"div",9),a.cc(16,"div",10),a.gc(17,14),a.bc(),a.cc(18,"div",12),a.gc(19,15),a.bc(),a.bc(),a.bc(),a.cc(20,"div",16),a.cc(21,"a",17),a.gc(22,18),a.bc(),a.bc(),a.bc(),a.cc(23,"div",19),a.cc(24,"div",20),a.gc(25,21),a.bc(),a.Xb(26,"textarea",22),a.bc(),a.cc(27,"div",19),a.cc(28,"div",20),a.gc(29,23),a.bc(),a.Xb(30,"textarea",24),a.bc(),a.cc(31,"div",19),a.cc(32,"div",20),a.gc(33,25),a.bc(),a.Xb(34,"input",26),a.bc(),a.cc(35,"button",27),a.gc(36,28),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(34),a.Dc("regex",e.BILLING_CHARACTERS_REGEX),a.Ib(1),a.Dc("disabled",!e.form.valid)}}function ae(e,t){1&e&&(a.cc(0,"div",29),a.cc(1,"div",30),a.gc(2,31),a.bc(),a.cc(3,"div",32),a.gc(4,33),a.bc(),a.bc())}let oe=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1,this.BILLING_CHARACTERS_REGEX=X}ngOnInit(){this.form=this.fb.group({form:["Billing Unknown Charges"],whenDidChargeOccur:[""],whatWorkspace:[""],amountOfCharge:[""],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitForm(){(this.form.value.whenDidChargeOccur||this.form.value.amountOfCharge)&&this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-unknown-charges"]],inputs:{team:"team",downgradingTo:"downgradingTo"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h;return e=$localize`:@@resource-center_faq-examples␟296078a69e4ca7605b52f8764077725bc5e63c26␟8054468674799178213: FAQ examples `,t=$localize`:@@cu-resource-center-form-unknown-charges__question_user-different-plans␟20107dc9a4fec0b5f1ed8ad4cf77a240d079619f␟6002788085266563227: Can there be users on different plans in the same Workspace? `,i=$localize`:@@cu-resource-center-form-unknown-charges__question_user-different-plans-answer␟74b0ac5e44459b16abe5306421fb0a2d2f2f63e1␟5933180802742095949: It's not possible to upgrade select members of a Workspace. You must pay for each full member added to your Workspace. `,a=$localize`:@@cu-resource-center-form-unknown-charges__question_guest-added-as-member-accidentally␟cff79139049ce699961080603f8842e821ebf7f2␟2848419753369847194: I mistakenly added a guest as a member. Why did I get charged? `,o=$localize`:@@cu-resource-center-form-unknown-charges__question_guest-added-as-member-accidentally-answer␟31f08773d025568a05aeda807b5df1c765e57a3e␟2416782969534860375: Each time you invite a new member to your Workspace, you'll be immediately charged for the member's seat. If you need to add a guest, you'll need to do so by following the instructions here. `,c=$localize`:@@cu-resource-center-form-unknown-charges__link-txt_billing-faq␟cc9bd00ce5e1a9e7740c1f5555e55bde8bd9edfd␟6517347826388501377: Billing F.A.Q. `,n=$localize`:@@cu-resource-center-form-unknown-charges__form-label_charge-occurrence␟80417f0d70c560062e125c2fab270228ccdd393d␟6264902809260304264: When did this charge occur? `,s=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,r=$localize`:@@cu-resource-center-form-unknown-charges__form-label_specific-workspace-name␟498f009e3a3e3759ce0700282766b3d692b45fae␟1874115076164758594: What Workspace was this charge for? `,l=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,d=$localize`:@@cu-resource-center-form-unknown-charges__form-label_amount-of-charge␟fdb9cda5298f9660c13bd23341e9301d65ff35af␟226637861713754869: Amount of charge `,u=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,p=$localize`:@@resource-center_btn-txt--submit-request␟8e5f076ac08d79aff1c9bfbb497b51e95b5d018f␟4171327082517708019: Submit Request `,m=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,h=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__tools-title"],e,[1,"cu-resource-center__support-form-faq"],[1,"cu-resource-center__support-form-faq-item"],[1,"cu-resource-center__support-form-faq-item-left"],["icon","question3"],[1,"cu-resource-center__support-form-faq-item-right"],[1,"cu-resource-center__support-form-faq-item-right-title"],t,[1,"cu-resource-center__support-form-faq-item-right-subtitle"],i,a,o,[1,"cu-resource-center__tools-bot-link"],["href","https://docs.clickup.com/en/articles/2280598-billing-faq","target","_blank",1,"cu-resource-center__tools-bot-link-text"],c,[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label"],n,["placeholder",s,"formControlName","whenDidChargeOccur",1,"cu-resource-center__support-form-text-area"],r,["placeholder",l,"formControlName","whatWorkspace",1,"cu-resource-center__support-form-text-area"],d,["placeholder",u,"formControlName","amountOfCharge","cuInputRegex","",1,"cu-resource-center__support-form-input",3,"regex"],["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],p,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],m,[1,"cu-resource-center__form-help-submitted-subtitle"],h]},template:function(e,t){1&e&&(a.bd(0,ie,37,3,"form",0),a.bd(1,ae,5,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,$.a,z.c,z.p,z.i,Y],encapsulation:2,changeDetection:0}),e})();function ce(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.gc(2,4),a.bc(),a.cc(3,"div",5),a.cc(4,"div",6),a.cc(5,"div",7),a.Xb(6,"div",8),a.bc(),a.cc(7,"div",9),a.cc(8,"div",10),a.gc(9,11),a.bc(),a.cc(10,"div",12),a.gc(11,13),a.bc(),a.Xb(12,"div",14),a.cc(13,"div",12),a.gc(14,15),a.bc(),a.bc(),a.bc(),a.cc(15,"div",16),a.cc(16,"a",17),a.gc(17,18),a.bc(),a.bc(),a.bc(),a.cc(18,"div",19),a.cc(19,"div",20),a.gc(20,21),a.bc(),a.Xb(21,"textarea",22),a.bc(),a.cc(22,"div",19),a.cc(23,"div",23),a.gc(24,24),a.bc(),a.cc(25,"div",25),a.cc(26,"label",26),a.Xb(27,"input",27),a.cc(28,"div",28),a.gc(29,29),a.bc(),a.bc(),a.cc(30,"label",26),a.Xb(31,"input",30),a.cc(32,"div",28),a.gc(33,31),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(34,"div",19),a.cc(35,"div",23),a.dd(36," Have you tried with AND without adding a zip code? "),a.bc(),a.cc(37,"div",25),a.cc(38,"label",26),a.Xb(39,"input",32),a.cc(40,"div",28),a.gc(41,33),a.bc(),a.bc(),a.cc(42,"label",26),a.Xb(43,"input",34),a.cc(44,"div",28),a.gc(45,35),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(46,"button",36),a.gc(47,37),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(46),a.Dc("disabled",!e.form.valid)}}function ne(e,t){1&e&&(a.cc(0,"div",38),a.cc(1,"div",39),a.gc(2,40),a.bc(),a.cc(3,"div",41),a.gc(4,42),a.bc(),a.bc())}let se=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({form:["Billing Card Decline"],moreInfoAboutWhatsHappening:[""],haveYouContactedYourBank:["No"],triedWithAndWithoutZip:["No"],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitForm(){this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-card-decline"]],inputs:{team:"team",downgradingTo:"downgradingTo"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h;return e=$localize`:@@resource-center_faq-examples␟296078a69e4ca7605b52f8764077725bc5e63c26␟8054468674799178213: FAQ examples `,t=$localize`:@@cu-resource-center-form-card-decline__card-declined-reason_question␟57ed8bc41a10a6d2bd887937700d6358f31b82c1␟2663444876794060335: Why is my card being declined? `,i=$localize`:@@cu-resource-center-form-card-decline__card-declined-reason_answer␟c60ead9667db13e2f6bf846775b2ee8d451b7232␟3262288184308991436: This is most commonly due to a restriction with your bank. Their tier two support will be able to shed light on the issue. `,a=$localize`:@@cu-resource-center-form-card-decline__card-declined-reason_answer-1␟1990455901e5c7be198820f2aa75c8f4658efb74␟5417318177399428758: There may also be a limitation with the card you’re using such as country restrictions, transaction limits, etc. `,o=$localize`:@@cu-resource-center-form-card-decline__link-txt_more-faqs␟2e66524bfce011c03506ba8eafc31be585fe4b96␟2226479930116821356: More FAQs `,c=$localize`:@@cu-resource-center-form-card-decline__form-label_describe-issue␟0c615853a1d4466f09df5926f0c794b07ccd9e99␟1393512513792600186: Let us know more about what's happening `,n=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,s=$localize`:@@cu-resource-center-form-card-decline__form-label_contacted-tier-2-support␟c78a4277073a4cd026eaf8c3a040963c8f889e1f␟3233128728482807523: Have you contacted Tier 2 support at your bank? `,r=$localize`:@@common_yes␟4f20f2d5a6882190892e58b85f6ccbedfa737952␟2807800733729323332:Yes`,l=$localize`:@@common_no␟3d3ae7deebc5949b0c1c78b9847886a94321d9fd␟3542042671420335679:No`,d=$localize`:@@common_yes␟4f20f2d5a6882190892e58b85f6ccbedfa737952␟2807800733729323332:Yes`,u=$localize`:@@common_no␟3d3ae7deebc5949b0c1c78b9847886a94321d9fd␟3542042671420335679:No`,p=$localize`:@@resource-center_btn-txt--submit-request␟8e5f076ac08d79aff1c9bfbb497b51e95b5d018f␟4171327082517708019: Submit Request `,m=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,h=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__tools-title"],e,[1,"cu-resource-center__support-form-faq"],[1,"cu-resource-center__support-form-faq-item"],[1,"cu-resource-center__support-form-faq-item-left"],["icon","question3"],[1,"cu-resource-center__support-form-faq-item-right"],[1,"cu-resource-center__support-form-faq-item-right-title"],t,[1,"cu-resource-center__support-form-faq-item-right-subtitle"],i,[1,"cu-resource-center__support-form-faq-item-right-subtitle-divider"],a,[1,"cu-resource-center__tools-bot-link"],["href","https://docs.clickup.com/en/articles/2280598-billing-faq","target","_blank",1,"cu-resource-center__tools-bot-link-text"],o,[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label","smaller"],c,["placeholder",n,"formControlName","moreInfoAboutWhatsHappening",1,"cu-resource-center__support-form-text-area"],[1,"cu-resource-center__support-form-label"],s,[1,"cu-resource-center__support-form-radio"],[1,"cu-radio"],["type","radio","value","Yes","formControlName","haveYouContactedYourBank",1,"cu-radio__input"],[1,"cu-radio__label"],r,["type","radio","value","No","formControlName","haveYouContactedYourBank",1,"cu-radio__input"],l,["type","radio","value","Yes","formControlName","triedWithAndWithoutZip",1,"cu-radio__input"],d,["type","radio","value","No","formControlName","triedWithAndWithoutZip",1,"cu-radio__input"],u,["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],p,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],m,[1,"cu-resource-center__form-help-submitted-subtitle"],h]},template:function(e,t){1&e&&(a.bd(0,ce,48,2,"form",0),a.bd(1,ne,5,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,$.a,z.c,z.p,z.i,z.w],encapsulation:2,changeDetection:0}),e})();var re=function(e){return e.None="none",e.TooComplicated="tooComplicated",e.OtherPlatform="otherPlatform",e.TooExpensive="tooExpensive",e.DoesntWorkForOurNeeds="doesntWorkForOurNeeds",e.Other="other",e}({}),le=function(e){return e.None="None",e.TooComplicated="It's too complicated",e.OtherPlatform="I'm using another platform",e.TooExpensive="It's too expensive",e.DoesntWorkForOurNeeds="It doesnt work for my needs",e.Other="Other",e}({});const de=[{id:re.TooComplicated,title:le.TooComplicated},{id:re.OtherPlatform,title:le.OtherPlatform},{id:re.TooExpensive,title:le.TooExpensive},{id:re.DoesntWorkForOurNeeds,title:le.DoesntWorkForOurNeeds},{id:re.Other,title:le.Other}],ue={tooComplicated:[{id:0,buttonText:"No Thanks",buttonAction:"nextStep",headerText:"<strong>Can we help you get set up?</strong>",subheaderText:"Our world-class support teams are eager to help!",tools:[{name:"Templates",buttonAction:"templates",icon:"templates"},{name:"Learn from an Expert",buttonAction:"learnFromExpert",icon:"support-thumb"},{name:$localize`:@@common_webinar:Webinar`,buttonAction:"webinar",icon:"webinar"},{name:$localize`:@@common_demo:Demo`,buttonAction:"demo",icon:"demo"}]},{text:"Would you like <strong>3 months free?</strong> We are regularly releasing major new features!",buttonText:"Start Request",buttonAction:"threeMonthsFree",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:1},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:2},{dropdownMenu:[{id:"generalUi",title:"General UI"},{id:"dashboardsAndWidgets",title:"Dashboards & Widgets"},{id:"views",title:"Views"},{id:"hierarchy",title:"The Hierarchy"},{id:"goals",title:"Goals"},{id:"docs",title:"Docs"},{id:"notifications",title:"Notifications"},{id:"personalSettings",title:"Personal Settings"},{id:"workspaceSettings",title:"Workspace Settings"},{id:"automations",title:"Automations"},{id:"somethingElse",title:"Something Else"}],dropdownMenuTitle:"What makes ClickUp complicated?",buttonText:"Downgrade",buttonAction:"downgrade",id:4,forms:[{label:"What can we improve on?",placeholder:"Your answer",id:"whatCanWeImproveOn",type:"textarea"}]},{forms:[{label:"What did you find difficult?",placeholder:"Your answer",id:"whatDidYouFindDifficult",type:"textarea"}],buttonText:"Submit Request",buttonAction:"coachingCall",customBackIndex:1,id:5},{forms:[{label:"Is there anything we can help you get started?",placeholder:"Your answer",id:"anythingToGetStarted",type:"textarea"}],buttonText:"Submit Request",buttonAction:"threeMonthsFree",customBackIndex:2,id:6}],otherPlatform:[{dropdownMenu:[{id:"price",title:"Price"},{id:"features",title:"Features"},{id:"teamOnAnotherPlatform",title:"The rest of my team is on another platform"},{id:"complexity",title:"Complexity"},{id:"other",title:"Other"}],dropdownMenuTitle:"Why are you leaving?",buttonText:"Next",buttonAction:"activateSecondaryArray",id:1,showFormOnDropdownSelect:!0,forms:[{label:"What are we missing?",placeholder:"Your answer",id:"whatAreWeMissing",type:"textarea"}],forceActivateButton:!0}],otherPlatformPrice:[{text:"Connect with support to claim your discount and keep your work moving forward!",buttonText:"Request Discount",buttonAction:"discount_15-25",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:0},{forms:[{label:"If that\u2019s still not enough we can match their price! What platform are you leaving for?",placeholder:"Your answer",id:"whatPlatformAreYouLeavingFor",type:"input"},{label:"What price are you paying?",placeholder:"Your answer",id:"whatPriceAreYourPaying",type:"input"}],buttonText:"Submit Request",buttonAction:"submitPriceMatchRequest",continueText:"Continue to downgrade",id:1},{forms:[{label:"What price would convince you to stay?",placeholder:"Your answer",id:"whatPriceWouldConvinceToStay",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],otherPlatformFeaturesLower:[{text:"Let our support team upgrade you to the Business Plan through the end of your billing cycle at no additional cost.",buttonText:"Request Upgrade",buttonAction:"freeUpgradeBusiness",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/upgrade.svg",imageWidth:130,id:0},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What were we missing?",placeholder:"Your answer",id:"whatWereWeMissing",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],otherPlatformFeaturesHigher:[{text:"Would you like <strong>3 months free?</strong> We are regularly releasing major new features!",buttonText:"Accept Offer",buttonAction:"threeMonthsFree",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:0},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What were we missing?",placeholder:"Your answer",id:"whatWereWeMissing",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],otherPlatformTeamOnAnotherPlatform:[{text:"Would you like <strong>3 months free?</strong> We are regularly releasing major new features!",buttonText:"Accept Offer",buttonAction:"threeMonthsFree",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:0},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What would convince your team to switch?",placeholder:"Your answer",id:"whatWouldConvinceTeamToSwitch",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],otherPlatformComplexity:[{id:0,buttonText:"No Thanks",buttonAction:"nextStep",headerText:"<strong>Can we help you get set up?</strong>",subheaderText:"Our world-class support teams are eager to help!",tools:[{name:"Templates",buttonAction:"templates",icon:"templates"},{name:"Learn from an Expert",buttonAction:"learnFromExpert",icon:"support-thumb"},{name:$localize`:@@common_webinar:Webinar`,buttonAction:"webinar",icon:"webinar"},{name:$localize`:@@common_demo:Demo`,buttonAction:"demo",icon:"demo"}]},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{dropdownMenuTitle:"What makes ClickUp complicated?",dropdownMenu:[{id:"generalUi",title:"General UI"},{id:"dashboardsAndWidgets",title:"Dashboards & Widgets"},{id:"views",title:"Views"},{id:"hierarchy",title:"The Hierarchy"},{id:"goals",title:"Goals"},{id:"docs",title:"Docs"},{id:"notifications",title:"Notifications"},{id:"personalSettings",title:"Personal Settings"},{id:"workspaceSettings",title:"Workspace Settings"},{id:"automations",title:"Automations"},{id:"somethingElse",title:"Something Else"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],tooExpensive:[{text:"Connect with support to claim your discount and keep your work moving forward!",buttonText:"Request Discount",buttonAction:"nextStep",continueText:"Continue to downgrade",continueTextCustomIndex:1,image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:0},{forms:[{label:"What can we improve on?",placeholder:"Your answer",id:"feedback",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgradeDeclinedDiscount",id:1}],doesntWorkForOurNeeds:[{dropdownMenu:[{id:"featureMissing",title:"Feature Missing"},{id:"technicalIssue",title:"Technical Issue"},{id:"iDontUseIt",title:"I just dont use it"},{id:"other",title:"Other"}],dropdownMenuTitle:"Why are you leaving?",buttonText:"Next",buttonAction:"activateSecondaryArray",id:1,showFormOnDropdownSelect:!0,forms:[{label:"What are we missing?",placeholder:"Your answer",id:"whatAreWeMissing",type:"textarea"}],forceActivateButton:!0}],doesntWorkForOurNeedsFeatureMissingLower:[{text:"Let our support team upgrade you to the Business Plan through the end of your billing cycle at no additional cost.",buttonText:"Accept Upgrade",buttonAction:"freeUpgradeBusiness",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/upgrade.svg",imageWidth:130,id:0},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What were we missing?",placeholder:"Your answer",id:"whatWereWeMissing",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],doesntWorkForOurNeedsFeatureMissingHigher:[{text:"Would you like <strong>3 months free?</strong> We are regularly releasing major new features!",buttonText:"Accept Offer",buttonAction:"threeMonthsFree",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:0},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What were we missing?",placeholder:"Your answer",id:"whatWereWeMissing",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],doesntWorkForOurNeedsTechnicalIssue:[{bugForm:!0,continueText:"Continue to downgrade",id:1},{text:"Would you like <strong>3 months free?</strong> We are regularly releasing major new features!",buttonText:"Accept Offer",buttonAction:"threeMonthsFree",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:0},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What can we improve on?",placeholder:"Your answer",id:"whatCanWeImproveOn",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],doesntWorkForOurNeedsIDontUseIt:[{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What can we improve on?",placeholder:"Your answer",id:"whatCanWeImproveOn",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}],other:[{text:"Would you like <strong>3 months free?</strong> We are regularly releasing major new features!",buttonText:"Submit Request",buttonAction:"threeMonthsFree",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/discount.svg",imageWidth:130,id:0},{text:"If you downgrade to our Free Forever Plan you\u2019ll <strong>lose access to storage, cloud storage, Custom Fields, Dashboards, Gantt views</strong> and more!",buttonText:"Speak With Support",buttonAction:"speakWithSupport",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1},{forms:[{label:"What can we improve on?",placeholder:"Your answer",id:"whatCanWeImproveOn",type:"textarea"}],buttonText:"Downgrade",buttonAction:"downgrade",id:2}]},pe={text:"Would you like set up assistance from a ClickUp expert?",buttonText:"Request set up assistance",buttonAction:"requestSetUpAssistance",continueText:"Continue to downgrade",image:"./assets/images/illustrations/anti-cancelation/downgrade.svg",imageWidth:198,id:1};var me=i("O5gs");const he=["bugFormIframe"];function be(e,t){if(1&e&&a.Xb(0,"div",12),2&e){const e=a.uc();a.Dc("innerHTML",null==e.step?null:e.step.headerText,a.Vc)}}function ge(e,t){if(1&e&&a.Xb(0,"div",13),2&e){const e=a.uc();a.Dc("innerHTML",null==e.step?null:e.step.subheaderText,a.Vc)}}function fe(e,t){if(1&e&&a.Yb(0,14),2&e){a.uc();const e=a.Rc(18);a.Dc("ngTemplateOutlet",e)}}function _e(e,t){if(1&e&&a.Yb(0,14),2&e){a.uc();const e=a.Rc(14);a.Dc("ngTemplateOutlet",e)}}function ve(e,t){1&e&&(a.cc(0,"div"),a.Xb(1,"iframe",15,16),a.bc())}function ye(e,t){if(1&e&&a.Yb(0,14),2&e){a.uc();const e=a.Rc(16);a.Dc("ngTemplateOutlet",e)}}function we(e,t){if(1&e&&a.Xb(0,"img",17),2&e){const e=a.uc();a.ad("width",null==e.step?null:e.step.imageWidth,"px"),a.Dc("src",null==e.step?null:e.step.image,a.Xc)}}function ke(e,t){if(1&e&&a.Xb(0,"div",20),2&e){const e=a.uc(2);a.Dc("innerHTML",null==e.trialTeamSetUpAssistance?null:e.trialTeamSetUpAssistance.text,a.Vc)}}function xe(e,t){if(1&e){const e=a.dc();a.cc(0,"div",21),a.qc("click",function(){a.Uc(e);const t=a.uc(2);return t.onButtonClick(t.trialTeamSetUpAssistance)}),a.dd(1),a.bc()}if(2&e){const e=a.uc(2);a.Ib(1),a.fd(" ",null==e.trialTeamSetUpAssistance?null:e.trialTeamSetUpAssistance.buttonText," ")}}function Te(e,t){if(1&e&&(a.ac(0),a.bd(1,ke,1,1,"div",18),a.bd(2,xe,2,1,"div",19),a.Zb()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngIf",null==e.step?null:e.step.text),a.Ib(1),a.Dc("ngIf",null==e.trialTeamSetUpAssistance?null:e.trialTeamSetUpAssistance.buttonText)}}function Se(e,t){if(1&e&&a.Xb(0,"div",20),2&e){const e=a.uc(2);a.Dc("innerHTML",null==e.step?null:e.step.text,a.Vc)}}function je(e,t){if(1&e){const e=a.dc();a.cc(0,"div",21),a.qc("click",function(){a.Uc(e);const t=a.uc(2);return t.onButtonClick(t.step)}),a.dd(1),a.bc()}if(2&e){const e=a.uc(2);a.Ob("disabled",(null==e.step?null:e.step.forms)&&!(null!=e.form&&e.form.valid)&&!e.step.forceActivateButton),a.Ib(1),a.fd(" ",null==e.step?null:e.step.buttonText," ")}}function Oe(e,t){if(1&e&&(a.bd(0,Se,1,1,"div",18),a.bd(1,je,2,3,"div",22)),2&e){const e=a.uc();a.Dc("ngIf",null==e.step?null:e.step.text),a.Ib(1),a.Dc("ngIf",null==e.step?null:e.step.buttonText)}}function Ie(e,t){if(1&e){const e=a.dc();a.cc(0,"div",23),a.qc("click",function(){a.Uc(e);const t=a.uc();return t.onNext.emit(t.step)}),a.dd(1),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.fd(" ",null==e.step?null:e.step.continueText," ")}}function De(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.ed(null==e.selectedDropdownItem?null:e.selectedDropdownItem.title)}}function Ce(e,t){1&e&&(a.ac(0),a.gc(1,29),a.Zb())}function Pe(e,t){if(1&e){const e=a.dc();a.cc(0,"div",24),a.dd(1),a.bc(),a.cc(2,"cu-dropdown-list",25),a.qc("onSelect",function(t){return a.Uc(e),a.uc().selectDropdownItem(t)}),a.cc(3,"div",26),a.bd(4,De,2,1,"ng-container",6),a.bd(5,Ce,2,0,"ng-template",null,27,a.cd),a.Xb(7,"div",28),a.bc(),a.bc()}if(2&e){const e=a.Rc(6),t=a.uc();a.Ib(1),a.fd(" ",null==t.step?null:t.step.dropdownMenuTitle," "),a.Ib(1),a.Dc("items",null==t.step?null:t.step.dropdownMenu)("menuContainerModifier","cu-anti-cancelation-flow__dropdown"),a.Ib(1),a.Ob("none",!t.selectedDropdownItem),a.Ib(1),a.Dc("ngIf",t.selectedDropdownItem)("ngIfElse",e),a.Ib(3),a.Dc("icon","cu2-angle-right")}}function $e(e,t){if(1&e&&a.Xb(0,"input",37),2&e){const e=a.uc().$implicit;a.Dc("placeholder",null==e?null:e.placeholder)("formControlName",null==e?null:e.id)}}function ze(e,t){if(1&e&&a.Xb(0,"textarea",38),2&e){const e=a.uc().$implicit;a.Dc("placeholder",null==e?null:e.placeholder)("formControlName",null==e?null:e.id)}}function Me(e,t){1&e&&(a.cc(0,"div",39),a.gc(1,40),a.bc())}function Ee(e,t){if(1&e&&(a.cc(0,"div",32),a.cc(1,"div",33),a.dd(2),a.bc(),a.bd(3,$e,1,2,"input",34),a.bd(4,ze,1,2,"textarea",35),a.bd(5,Me,2,0,"div",36),a.bc()),2&e){const e=t.$implicit,i=a.uc(2);a.Ob("error",(null==i.form||null==i.form.controls[null==e?null:e.id]?null:i.form.controls[null==e?null:e.id].touched)&&(null==i.form||null==i.form.controls[null==e?null:e.id]?null:i.form.controls[null==e?null:e.id].errors)),a.Ib(2),a.fd(" ",null==e?null:e.label," "),a.Ib(1),a.Dc("ngIf","input"===(null==e?null:e.type)),a.Ib(1),a.Dc("ngIf","textarea"===(null==e?null:e.type)),a.Ib(1),a.Dc("ngIf",(null==i.form||null==i.form.controls[null==e?null:e.id]?null:i.form.controls[null==e?null:e.id].touched)&&(null==i.form||null==i.form.controls[null==e?null:e.id]||null==i.form.controls[null==e?null:e.id].errors?null:i.form.controls[null==e?null:e.id].errors.required))}}function Le(e,t){if(1&e){const e=a.dc();a.cc(0,"form",30),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.bd(1,Ee,6,6,"div",31),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(1),a.Dc("ngForOf",null==e.step?null:e.step.forms)("ngForTrackBy",e.trackById)}}function Ae(e,t){if(1&e){const e=a.dc();a.cc(0,"div",43),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(2).onButtonClick(i)}),a.Xb(1,"div",28),a.cc(2,"div",44),a.dd(3),a.bc(),a.bc()}if(2&e){const e=t.$implicit;a.Ib(1),a.Dc("icon",e.icon),a.Ib(2),a.fd(" ",null==e?null:e.name," ")}}function Fe(e,t){if(1&e&&(a.cc(0,"div",41),a.bd(1,Ae,4,2,"div",42),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngForOf",null==e.step?null:e.step.tools)("ngForTrackBy",e.trackById)}}let Ue=(()=>{class e{constructor(e,t){this.fb=e,this.dataService=t,this.showForm=!0,this.onNext=new a.o,this.onButton=new a.o,this.onDropdownSelect=new a.o,this.bugformEmbedLink="https://dev-forms.clickup.com/f/ad-4185/BJUEVFV7DYNH2YHDJB",this.trackById=Object(c.d)("id"),this.trialTeamSetUpAssistance=pe}ngOnChanges(e){e.step&&this.step&&this.step.bugForm&&this.showBugFrom()}ngOnInit(){this.populateFormGroup()}populateFormGroup(){if(!this.step.forms)return;const e={downgrading:!0,selectedReason:this.selectedReason};this.step.forms.forEach(t=>{e[t.id]=["",z.A.required]}),this.step.dropdownMenu&&(e.selectedMenuItem=[""]),this.team&&(e.workspaceId=[this.team.id],e.workspaceName=[this.team.name]),this.downgradingTo&&(e.downgradingTo=[this.downgradingTo]),this.step&&"downgradeDeclinedDiscount"===this.step.buttonAction&&(e.declinedDiscount=!0),this.form=this.fb.group(e)}onButtonClick(e){let t="";if(this.selectedStep&&this.selectedStep.title&&(t=this.selectedStep.title),this.selectedSecondaryDropdown&&this.selectedSecondaryDropdown.title&&(t=`${t} > ${this.selectedSecondaryDropdown.title}`),"What makes ClickUp complicated?"===e.dropdownMenuTitle){let i={downgrading:!0,whatMakesClickUpComplicated:this.selectedDropdownItem.id,breadcrumbs:t};return this.form&&this.form.value&&(i=Object.assign({whatMakesClickUpComplicated:this.selectedDropdownItem.id},this.form.value)),this.dataService.submitHelp(i,this.team,!0,this.user).subscribe(()=>{}),void this.onButton.emit(e.buttonAction)}if(this.selectedDropdownItem&&"other"===this.selectedDropdownItem.id)return this.submitForm(),void this.onButton.emit("downgrade");"Why are you leaving?"!==e.dropdownMenuTitle?(e.forms&&e.forms.length&&this.submitForm(t),this.onButton.emit(e.buttonAction)):this.onButton.emit(e.buttonAction)}submitForm(e){this.step.dropdownMenu&&this.step.dropdownMenu.length&&this.selectedDropdownItem&&this.step.forms&&this.form&&this.form.controls.selectedMenuItem.setValue(this.selectedDropdownItem.title);const t=Object.assign(Object.assign({},this.form.value),{breadcrumbs:e});this.dataService.submitHelp(t,this.team,!0,this.user).subscribe(()=>{})}selectDropdownItem(e){this.selectedDropdownItem=e,this.onDropdownSelect.emit(e)}showBugFrom(){setTimeout(()=>{this.bugFormIframe&&(this.bugFormIframe.nativeElement.src=this.bugformEmbedLink+"?email="+encodeURIComponent(this.user.email)+"&team_id="+this.team.id+"&user_id="+this.user.id+"&task_name="+encodeURIComponent("Form Submission - #"+b().utc().format()+" | "+this.user.email)+"&theme="+(this.user.dark_theme?"dark":"light"))},200)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(z.f),a.Wb(M.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-anti-cancelation-flow-state"]],viewQuery:function(e,t){if(1&e&&a.jd(he,1),2&e){let e;a.Qc(e=a.rc())&&(t.bugFormIframe=e.first)}},hostAttrs:[1,"cu-anti-cancelation-flow-state"],inputs:{step:"step",showForm:"showForm",team:"team",user:"user",selectedReason:"selectedReason",downgradingTo:"downgradingTo",selectedStep:"selectedStep",selectedSecondaryDropdown:"selectedSecondaryDropdown"},outputs:{onNext:"onNext",onButton:"onButton",onDropdownSelect:"onDropdownSelect"},features:[a.Gb],decls:19,vars:10,consts:function(){let e,t;return e=$localize`:@@cu-anti-cancelation-flow-state__dropdown-placeholder_please-select␟be44ad00a0fc24cb4cd7450bf72df6e080e303fb␟4490152004027456937:Please select`,t=$localize`:@@errors_form-field--required␟485b295cb5ced87315556756cc5dc2ffae489ae7␟8288734439208791562: This field is required! `,[[1,"cu-anti-cancelation-flow-state__container"],["class","cu-anti-cancelation-flow-state__header-text",3,"innerHTML",4,"ngIf"],["class","cu-anti-cancelation-flow-state__subheader-text",3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],[3,"src","alt","width",4,"ngIf"],[4,"ngIf","ngIfElse"],["main",""],["class","cu-anti-cancelation-flow-state__next",3,"click",4,"ngIf"],["dropdownMenu",""],["forms",""],["tools",""],[1,"cu-anti-cancelation-flow-state__header-text",3,"innerHTML"],[1,"cu-anti-cancelation-flow-state__subheader-text",3,"innerHTML"],[3,"ngTemplateOutlet"],["onwheel","","width","100%","height","100%",1,"clickup-embed","clickup-dynamic-height",2,"border","none",3,"src"],["bugFormIframe",""],[3,"src","alt"],["class","cu-anti-cancelation-flow-state__text",3,"innerHTML",4,"ngIf"],["class","cu-anti-cancelation-flow__button",3,"click",4,"ngIf"],[1,"cu-anti-cancelation-flow-state__text",3,"innerHTML"],[1,"cu-anti-cancelation-flow__button",3,"click"],["class","cu-anti-cancelation-flow__button",3,"disabled","click",4,"ngIf"],[1,"cu-anti-cancelation-flow-state__next",3,"click"],[1,"cu-anti-cancelation-flow__heading","dropdown"],[3,"items","menuContainerModifier","onSelect"],[1,"cu-anti-cancelation-flow__selector"],["pleaseSelectTmpl",""],[3,"icon"],e,[1,"cu-anti-cancelation-flow-state__form",3,"formGroup","submit"],["class","cu-anti-cancelation-flow-state__form-row",3,"error",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-anti-cancelation-flow-state__form-row"],[1,"cu-anti-cancelation-flow-state__form-label"],["class","cu-anti-cancelation-flow-state__form-input",3,"placeholder","formControlName",4,"ngIf"],["class","cu-anti-cancelation-flow-state__form-textarea",3,"placeholder","formControlName",4,"ngIf"],["class","cu-anti-cancelation-flow-state__form-error",4,"ngIf"],[1,"cu-anti-cancelation-flow-state__form-input",3,"placeholder","formControlName"],[1,"cu-anti-cancelation-flow-state__form-textarea",3,"placeholder","formControlName"],[1,"cu-anti-cancelation-flow-state__form-error"],t,[1,"cu-anti-cancelation-flow-state__tools"],["class","cu-anti-cancelation-flow-state__tool",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-anti-cancelation-flow-state__tool",3,"click"],[1,"cu-anti-cancelation-flow-state__tool-text"]]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.bd(1,be,1,1,"div",1),a.bd(2,ge,1,1,"div",2),a.bd(3,fe,1,1,"ng-container",3),a.bd(4,_e,1,1,"ng-container",3),a.bd(5,ve,3,0,"div",4),a.Yb(6),a.bd(7,ye,1,1,"ng-container",3),a.bd(8,we,1,3,"img",5),a.bd(9,Te,3,2,"ng-container",6),a.bd(10,Oe,2,2,"ng-template",null,7,a.cd),a.bd(12,Ie,2,1,"div",8),a.bc(),a.bd(13,Pe,8,8,"ng-template",null,9,a.cd),a.bd(15,Le,2,3,"ng-template",null,10,a.cd),a.bd(17,Fe,2,2,"ng-template",null,11,a.cd)),2&e){const e=a.Rc(11);a.Ib(1),a.Dc("ngIf",null==t.step?null:t.step.headerText),a.Ib(1),a.Dc("ngIf",null==t.step?null:t.step.subheaderText),a.Ib(1),a.Dc("ngIf",(null==t.step?null:t.step.tools)&&(null==t.step?null:t.step.tools.length)),a.Ib(1),a.Dc("ngIf",(null==t.step?null:t.step.dropdownMenu)&&(null==t.step?null:t.step.dropdownMenu.length)),a.Ib(1),a.Dc("ngIf",null==t.step?null:t.step.bugForm),a.Ib(2),a.Dc("ngIf",(null==t.step?null:t.step.forms)&&t.showForm),a.Ib(1),a.Dc("ngIf",null==t.step?null:t.step.image),a.Ib(1),a.Dc("ngIf",t.team.trial_plan_id&&"threeMonthsFree"===t.step.buttonAction)("ngIfElse",e),a.Ib(3),a.Dc("ngIf",null==t.step?null:t.step.continueText)}},directives:[g.q,g.x,me.a,$.a,z.C,z.q,z.k,g.p,z.c,z.p,z.i],styles:['.cu-anti-cancelation-flow-state__container{display:flex;flex-direction:column;align-items:center}.cu-anti-cancelation-flow-state__container img{height:auto;margin-bottom:25px}.cu-anti-cancelation-flow-state__text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:15px;line-height:1.3;padding:0 5px 25px;text-align:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__text{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow-state__text strong{font-weight:500}.cu-anti-cancelation-flow-state__header-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:16px;line-height:1.2;padding-bottom:10px;text-align:left;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__header-text{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow-state__header-text strong{font-weight:500}.cu-anti-cancelation-flow-state__subheader-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:16px;padding-bottom:25px;text-align:left;width:100%;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__subheader-text{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow-state__subheader-text strong{font-weight:500}.dark-theme .cu-anti-cancelation-flow-state__subheader-text{color:#d5d6d7}.cu-anti-cancelation-flow-state__next{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12;line-height:1.15;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:var(--theme-main-color);cursor:pointer;border-bottom:1px dashed var(--theme-main-color);margin-top:22px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__next{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow-state__next:hover{color:var(--theme-main-color-dark)}.cu-anti-cancelation-flow-state__form{width:100%}.cu-anti-cancelation-flow-state__form-row{width:100%;margin-bottom:20px}.cu-anti-cancelation-flow-state__form-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1.15;padding-bottom:15px;text-align:left}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__form-label{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow-state__form input{height:40px;padding:0 12px}.cu-anti-cancelation-flow-state__form textarea{height:120px;padding:12px;resize:none}.cu-anti-cancelation-flow-state__form input,.cu-anti-cancelation-flow-state__form textarea{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;width:100%;border:1px solid #e4e4e4;color:#292d34;border-radius:4px;box-shadow:none!important;background:transparent}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__form input,.cu-anti-cancelation-flow-state__form textarea{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow-state__form input:-ms-input-placeholder,.cu-anti-cancelation-flow-state__form textarea:-ms-input-placeholder{color:#b9bec7}.cu-anti-cancelation-flow-state__form input::placeholder,.cu-anti-cancelation-flow-state__form textarea::placeholder{color:#b9bec7}.dark-theme .cu-anti-cancelation-flow-state__form input:-ms-input-placeholder,.dark-theme .cu-anti-cancelation-flow-state__form textarea:-ms-input-placeholder{color:#828588}.dark-theme .cu-anti-cancelation-flow-state__form input::placeholder,.dark-theme .cu-anti-cancelation-flow-state__form textarea::placeholder{color:#828588}.dark-theme .cu-anti-cancelation-flow-state__form input,.dark-theme .cu-anti-cancelation-flow-state__form textarea{border-color:#1e272e;color:#d5d6d7}.cu-anti-cancelation-flow-state__form-error{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#d16464;padding-top:5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__form-error{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow-state__tools{display:flex;justify-content:space-between;flex-wrap:wrap;margin:0 auto;width:200px}.cu-anti-cancelation-flow-state__tool{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:35px;width:80px;cursor:pointer}.cu-anti-cancelation-flow-state__tool .icon{fill:var(--theme-main-color);width:40px;height:40px;margin-bottom:10px}.cu-anti-cancelation-flow-state__tool-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1.2;color:#bbb9bd}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow-state__tool-text{font-family:var(--global-font-support)}}.dark-theme .cu-anti-cancelation-flow-state__tool-text{color:#d5d6d7}.cu-anti-cancelation-flow-state .cu-anti-cancelation-flow__heading.dropdown{width:100%;text-align:left}.cu-anti-cancelation-flow-state .cu-dropdown-list{width:100%;margin-bottom:25px}.cu-anti-cancelation-flow-state .clickup-embed{height:420px}'],encapsulation:2,changeDetection:0}),e})();function Ne(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(23);a.Dc("ngTemplateOutlet",e)}}function Re(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(11);a.Dc("ngTemplateOutlet",e)}}function Ge(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(13);a.Dc("ngTemplateOutlet",e)}}function qe(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(15);a.Dc("ngTemplateOutlet",e)}}function Be(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(17);a.Dc("ngTemplateOutlet",e)}}function We(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(19);a.Dc("ngTemplateOutlet",e)}}function Ve(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(21);a.Dc("ngTemplateOutlet",e)}}function Xe(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(25);a.Dc("ngTemplateOutlet",e)}}function He(e,t){if(1&e&&a.Yb(0,11),2&e){a.uc();const e=a.Rc(27);a.Dc("ngTemplateOutlet",e)}}function Ye(e,t){if(1&e){const e=a.dc();a.cc(0,"div",12),a.gc(1,13),a.bc(),a.cc(2,"cu-dropdown-list",14),a.qc("onSelect",function(t){return a.Uc(e),a.uc().selectStep(t)}),a.cc(3,"div",15),a.dd(4),a.Xb(5,"div",16),a.bc(),a.bc(),a.cc(6,"div",17),a.qc("click",function(){a.Uc(e);const t=a.uc();return t.activateStep(t.selectedStep)}),a.gc(7,18),a.bc()}if(2&e){const e=a.uc();a.Ib(2),a.Dc("items",e.menuItems)("menuContainerModifier","cu-anti-cancelation-flow__dropdown"),a.Ib(1),a.Ob("none",!e.selectedStep),a.Ib(1),a.fd(" ",e.selectedStep?null==e.selectedStep?null:e.selectedStep.title:"What is your reason?"," "),a.Ib(1),a.Dc("icon","cu2-angle-right"),a.Ib(1),a.Ob("disabled",!e.selectedStep),a.Dc("cuTooltip",e.selectedStep?null:"Select a reason")}}function Ze(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-anti-cancelation-flow-state",21),a.qc("onButton",function(t){return a.Uc(e),a.uc(3).stepAction(t)})("onNext",function(){return a.Uc(e),a.uc(3).nextStep()}),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(2);a.Dc("step",e)("selectedReason","tooComplicated")("team",t.team)("user",t.user)("downgradingTo",t.downgradingTo)("selectedStep",t.selectedStep)("selectedSecondaryDropdown",t.selectedDropdown)}}function Qe(e,t){if(1&e&&(a.cc(0,"div"),a.bd(1,Ze,1,7,"cu-anti-cancelation-flow-state",20),a.bc()),2&e){const e=t.index,i=a.uc(2);a.Ib(1),a.Dc("ngIf",e===i.currentStepIndex)}}function Ke(e,t){if(1&e&&a.bd(0,Qe,2,1,"div",19),2&e){const e=a.uc();a.Dc("ngForOf",e.antiCancelationFlowSteps.tooComplicated)("ngForTrackBy",e.trackById)}}function Je(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-anti-cancelation-flow-state",23),a.qc("onButton",function(t){return a.Uc(e),a.uc(3).stepAction(t)})("onNext",function(){return a.Uc(e),a.uc(3).nextStep()})("onDropdownSelect",function(t){return a.Uc(e),a.uc(3).onDropdownSelect(t)}),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(2);a.Dc("step",e)("showForm","other"===(null==t.selectedDropdown?null:t.selectedDropdown.id)||t.activateSecondaryArray)("team",t.team)("user",t.user)("selectedReason","otherPlatform")("downgradingTo",t.downgradingTo)("selectedStep",t.selectedStep)("selectedSecondaryDropdown",t.selectedDropdown)}}function et(e,t){if(1&e&&(a.cc(0,"div"),a.bd(1,Je,1,8,"cu-anti-cancelation-flow-state",22),a.bc()),2&e){const e=t.index,i=a.uc(2);a.Ib(1),a.Dc("ngIf",e===i.currentStepIndex)}}function tt(e,t){if(1&e&&a.bd(0,et,2,1,"div",19),2&e){const e=a.uc();a.Dc("ngForOf","price"===(null==e.selectedDropdown?null:e.selectedDropdown.id)&&e.activateSecondaryArray?e.antiCancelationFlowSteps.otherPlatformPrice:"features"!==(null==e.selectedDropdown?null:e.selectedDropdown.id)||!e.activateSecondaryArray||(null==e.team?null:e.team.plan_id)!==e.TeamPlan.FREE&&(null==e.team?null:e.team.plan_id)!==e.TeamPlan.UNLIMITED?"features"!==(null==e.selectedDropdown?null:e.selectedDropdown.id)||!e.activateSecondaryArray||(null==e.team?null:e.team.plan_id)!==e.TeamPlan.BUSINESS&&(null==e.team?null:e.team.plan_id)!==e.TeamPlan.ENTERPRISE?"teamOnAnotherPlatform"===(null==e.selectedDropdown?null:e.selectedDropdown.id)&&e.activateSecondaryArray?e.antiCancelationFlowSteps.otherPlatformTeamOnAnotherPlatform:"complexity"===(null==e.selectedDropdown?null:e.selectedDropdown.id)&&e.activateSecondaryArray?e.antiCancelationFlowSteps.otherPlatformComplexity:e.antiCancelationFlowSteps.otherPlatform:e.antiCancelationFlowSteps.otherPlatformFeaturesHigher:e.antiCancelationFlowSteps.otherPlatformFeaturesLower)("ngForTrackBy",e.trackById)}}function it(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-anti-cancelation-flow-state",25),a.qc("onButton",function(t){return a.Uc(e),a.uc(3).stepAction(t)})("onNext",function(t){return a.Uc(e),a.uc(3).nextStep(null,t)}),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(2);a.Dc("step",e)("team",t.team)("user",t.user)("selectedReason","tooExpensive")("downgradingTo",t.downgradingTo)("selectedStep",t.selectedStep)("selectedSecondaryDropdown",t.selectedDropdown)}}function at(e,t){if(1&e&&(a.cc(0,"div"),a.bd(1,it,1,7,"cu-anti-cancelation-flow-state",24),a.bc()),2&e){const e=t.index,i=a.uc(2);a.Ib(1),a.Dc("ngIf",e===i.currentStepIndex)}}function ot(e,t){if(1&e&&a.bd(0,at,2,1,"div",19),2&e){const e=a.uc();a.Dc("ngForOf",e.antiCancelationFlowSteps.tooExpensive)("ngForTrackBy",e.trackById)}}function ct(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-anti-cancelation-flow-state",23),a.qc("onButton",function(t){return a.Uc(e),a.uc(3).stepAction(t)})("onNext",function(){return a.Uc(e),a.uc(3).nextStep()})("onDropdownSelect",function(t){return a.Uc(e),a.uc(3).onDropdownSelect(t)}),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(2);a.Dc("step",e)("showForm","other"===(null==t.selectedDropdown?null:t.selectedDropdown.id)||t.activateSecondaryArray)("team",t.team)("user",t.user)("selectedReason","doesntWorkForOurNeeds")("downgradingTo",t.downgradingTo)("selectedStep",t.selectedStep)("selectedSecondaryDropdown",t.selectedDropdown)}}function nt(e,t){if(1&e&&(a.cc(0,"div"),a.bd(1,ct,1,8,"cu-anti-cancelation-flow-state",22),a.bc()),2&e){const e=t.index,i=a.uc(2);a.Ib(1),a.Dc("ngIf",e===i.currentStepIndex)}}function st(e,t){if(1&e&&a.bd(0,nt,2,1,"div",19),2&e){const e=a.uc();a.Dc("ngForOf","technicalIssue"===(null==e.selectedDropdown?null:e.selectedDropdown.id)&&e.activateSecondaryArray?e.antiCancelationFlowSteps.doesntWorkForOurNeedsTechnicalIssue:"featureMissing"!==(null==e.selectedDropdown?null:e.selectedDropdown.id)||!e.activateSecondaryArray||(null==e.team?null:e.team.plan_id)!==e.TeamPlan.FREE&&(null==e.team?null:e.team.plan_id)!==e.TeamPlan.UNLIMITED?"featureMissing"!==(null==e.selectedDropdown?null:e.selectedDropdown.id)||!e.activateSecondaryArray||(null==e.team?null:e.team.plan_id)!==e.TeamPlan.BUSINESS&&(null==e.team?null:e.team.plan_id)!==e.TeamPlan.ENTERPRISE?"iDontUseIt"===(null==e.selectedDropdown?null:e.selectedDropdown.id)&&e.activateSecondaryArray?e.antiCancelationFlowSteps.doesntWorkForOurNeedsIDontUseIt:e.antiCancelationFlowSteps.doesntWorkForOurNeeds:e.antiCancelationFlowSteps.doesntWorkForOurNeedsFeatureMissingHigher:e.antiCancelationFlowSteps.doesntWorkForOurNeedsFeatureMissingLower)("ngForTrackBy",e.trackById)}}function rt(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-anti-cancelation-flow-state",21),a.qc("onButton",function(t){return a.Uc(e),a.uc(3).stepAction(t)})("onNext",function(){return a.Uc(e),a.uc(3).nextStep()}),a.bc()}if(2&e){const e=a.uc().$implicit,t=a.uc(2);a.Dc("step",e)("selectedReason","other")("team",t.team)("user",t.user)("downgradingTo",t.downgradingTo)("selectedStep",t.selectedStep)("selectedSecondaryDropdown",t.selectedDropdown)}}function lt(e,t){if(1&e&&(a.cc(0,"div"),a.bd(1,rt,1,7,"cu-anti-cancelation-flow-state",20),a.bc()),2&e){const e=t.index,i=a.uc(2);a.Ib(1),a.Dc("ngIf",e===i.currentStepIndex)}}function dt(e,t){if(1&e&&a.bd(0,lt,2,1,"div",19),2&e){const e=a.uc();a.Dc("ngForOf",e.antiCancelationFlowSteps.other)("ngForTrackBy",e.trackById)}}function ut(e,t){if(1&e){const e=a.dc();a.cc(0,"div",27),a.qc("click",function(){return a.Uc(e),a.uc(2).goBack()}),a.Xb(1,"div",28),a.cc(2,"div",29),a.gc(3,30),a.bc(),a.bc()}2&e&&(a.Ib(1),a.Dc("icon","cu2-arrow-left2"))}function pt(e,t){if(1&e&&a.bd(0,ut,4,1,"div",26),2&e){const e=a.uc();a.Dc("ngIf",e.activeStep!==e.AntiCancelationSteps.None)}}function mt(e,t){1&e&&(a.cc(0,"div",31),a.Xb(1,"img",32),a.cc(2,"div",33),a.gc(3,34),a.bc(),a.cc(4,"div",35),a.gc(5,36),a.bc(),a.bc()),2&e&&(a.Ib(1),a.Dc("src","./assets/images/illustrations/anti-cancelation/support.svg",a.Xc))}function ht(e,t){1&e&&(a.cc(0,"div",31),a.Xb(1,"img",32),a.cc(2,"div",33),a.gc(3,37),a.bc(),a.bc()),2&e&&(a.Ib(1),a.Dc("src","./assets/images/illustrations/anti-cancelation/support.svg",a.Xc))}let bt=(()=>{class e{constructor(e){this.dataService=e,this.activeStep=re.None,this.selectedStep=null,this.AntiCancelationSteps=re,this.antiCancelationFlowSteps=ue,this.menuItems=de,this.currentStepIndex=0,this.showSupportStep=!1,this.showCoachingStep=!1,this.selectedDropdown=null,this.activateSecondaryArray=!1,this.TeamPlan=n.f,this.trackById=Object(c.d)("id"),this.onClose=new a.o,this.onAction=new a.o,this.onDowngrade=new a.o}ngOnInit(){}selectStep(e){this.selectedStep=e}activateStep(e){this.activeStep=e.id}goBack(){0===this.currentStepIndex&&this.activateSecondaryArray&&this.selectedDropdown?this.activateSecondaryArray=!1:0===this.currentStepIndex?this.activeStep=re.None:this.currentStepIndex=this.antiCancelationFlowSteps[this.activeStep]&&this.antiCancelationFlowSteps[this.activeStep][this.currentStepIndex]&&this.antiCancelationFlowSteps[this.activeStep][this.currentStepIndex].customBackIndex?this.antiCancelationFlowSteps[this.activeStep][this.currentStepIndex].customBackIndex:this.currentStepIndex-1}nextStep(e,t){t&&t.continueTextCustomIndex&&(e=t.continueTextCustomIndex),this.currentStepIndex=e||this.currentStepIndex+1}stepAction(e){let t="";if(this.selectedStep&&this.selectedStep.title&&(t=this.selectedStep.title),this.selectedDropdown&&this.selectedDropdown.title&&(t=`${t} > ${this.selectedStep.title}`),e){if(e.includes("goToIndex")){const t=e.split("_")[1];t&&this.nextStep(parseInt(t,10))}switch(e){case"speakWithSupport":this.dataService.submitHelp({reasonSelected:this.selectedStep.title,downgrading:!0,speakWithSupport:!0,breadcrumbs:t},this.team,!0,this.user).subscribe(()=>{}),this.showSupportStep=!0;break;case"requestSetUpAssistance":this.dataService.submitHelp({reasonSelected:this.selectedStep.title,downgrading:!0,requestSetUpAssistance:!0,breadcrumbs:t},this.team,!0,this.user).subscribe(()=>{}),this.showSupportStep=!0;break;case"coachingCall":this.showSupportStep=!0;break;case"downgrade":case"downgradeDeclinedDiscount":this.onDowngrade.emit(null);break;case"templates":this.openNewTab("https://docs.clickup.com/en/articles/1178567-templates");break;case"learnFromExpert":this.openNewTab("https://doc.clickup.com/d/h/1737m-55237/d5049b4078ea368/1737m-16757295");break;case"webinar":this.openNewTab("https://clickup.com/webinar");break;case"demo":this.openNewTab("https://clickup.com/on-demand-demo");break;case"nextStep":this.nextStep();break;case"activateSecondaryArray":this.activateSecondaryArray=!0;break;case"submitPriceMatchRequest":this.showSupportStep=!0;break;case"freeUpgradeBusiness":this.dataService.submitHelp({reasonSelected:this.selectedStep.title,downgrading:!0,speakWithSupport:!0,freeUpgradeBusiness:!0,breadcrumbs:t},this.team,!0,this.user).subscribe(()=>{}),this.showSupportStep=!0;break;case"threeMonthsFree":this.dataService.submitHelp({reasonSelected:this.selectedStep.title,downgrading:!0,speakWithSupport:!0,threeMonthsFree:!0,breadcrumbs:t},this.team,!0,this.user).subscribe(()=>{}),this.showSupportStep=!0;break;case"custom_discount":this.showSupportStep=!0;break;case"submitForm":break;case"discount_15-25":this.dataService.submitHelp({reasonSelected:this.selectedStep.title,downgrading:!0,speakWithSupport:!0,discount15to25:!0,breadcrumbs:t},this.team,!0,this.user).subscribe(()=>{}),this.showSupportStep=!0;break;case"discount_25-35":this.dataService.submitHelp({reasonSelected:this.selectedStep.title,downgrading:!0,speakWithSupport:!0,discount25to35:!0,breadcrumbs:t},this.team,!0,this.user).subscribe(()=>{}),this.showSupportStep=!0}}}openNewTab(e){window.open(e,"_blank")}onDropdownSelect(e){this.activeStep===re.OtherPlatform&&2===this.currentStepIndex||(this.selectedDropdown=e)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-anti-cancelation-flow"]],hostAttrs:[1,"cu-anti-cancelation-flow"],inputs:{team:"team",user:"user",downgradingTo:"downgradingTo"},outputs:{onClose:"onClose",onAction:"onAction",onDowngrade:"onDowngrade"},decls:28,vars:9,consts:function(){let e,t,i,a,o,c;return e=$localize`:@@questions_downgrade-reason␟7c6b1d0d34adca36942af2817c6a3889316b68ee␟2676276166935398413: What’s the reason for the downgrade? `,t=$localize`:@@common_next␟4d665c6c2c1d69484cfc636b22fd895512246d90␟330767086751634657: Next `,i=$localize`:@@common_back-1␟568d2251889464790d0eae47e9193ceb0127dd00␟2300899514180901655: BACK `,a=$localize`:@@cu-anti-cancelation-flow__support-title_rep-in-touch␟7de70d01c467d6c91f7f5f1cd94633a1bdfd19b4␟2389515964134794506: Great, a rep will be in touch soon! `,o=$localize`:@@cu-anti-cancelation-flow__support-subtitle_rep-in-touch␟33ea88fef348f2cc33a9e77120d7c1a24b36de51␟1499892453460473416: Thanks, we look forward to helping you out! `,c=$localize`:@@cu-anti-cancelation-flow__support-title_coaching-call␟a3268336fd3fa780b25efc05a8cd5c0f231e709b␟7086329221208654932: Great, someone will be in touch today regarding the coaching call! `,[[1,"cu-anti-cancelation-flow__container"],[3,"ngTemplateOutlet",4,"ngIf"],["none",""],["tooComplicated",""],["otherPlatform",""],["tooExpensive",""],["doesntWorkForOurNeeds",""],["other",""],["back",""],["support",""],["coaching",""],[3,"ngTemplateOutlet"],[1,"cu-anti-cancelation-flow__heading"],e,[3,"items","menuContainerModifier","onSelect"],[1,"cu-anti-cancelation-flow__selector"],[3,"icon"],[1,"cu-anti-cancelation-flow__button","grow-top",3,"cuTooltip","click"],t,[4,"ngFor","ngForOf","ngForTrackBy"],[3,"step","selectedReason","team","user","downgradingTo","selectedStep","selectedSecondaryDropdown","onButton","onNext",4,"ngIf"],[3,"step","selectedReason","team","user","downgradingTo","selectedStep","selectedSecondaryDropdown","onButton","onNext"],[3,"step","showForm","team","user","selectedReason","downgradingTo","selectedStep","selectedSecondaryDropdown","onButton","onNext","onDropdownSelect",4,"ngIf"],[3,"step","showForm","team","user","selectedReason","downgradingTo","selectedStep","selectedSecondaryDropdown","onButton","onNext","onDropdownSelect"],[3,"step","team","user","selectedReason","downgradingTo","selectedStep","selectedSecondaryDropdown","onButton","onNext",4,"ngIf"],[3,"step","team","user","selectedReason","downgradingTo","selectedStep","selectedSecondaryDropdown","onButton","onNext"],["class","cu-anti-cancelation-flow__back",3,"click",4,"ngIf"],[1,"cu-anti-cancelation-flow__back",3,"click"],[1,"cu-resource-center__header-back-icon",3,"icon"],[1,"cu-resource-center__header-back-text"],i,[1,"cu-anti-cancelation-flow__support"],[3,"src"],[1,"cu-anti-cancelation-flow__support-title"],a,[1,"cu-anti-cancelation-flow__support-subtitle"],o,c]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.bd(1,Ne,1,1,"ng-container",1),a.bd(2,Re,1,1,"ng-container",1),a.bd(3,Ge,1,1,"ng-container",1),a.bd(4,qe,1,1,"ng-container",1),a.bd(5,Be,1,1,"ng-container",1),a.bd(6,We,1,1,"ng-container",1),a.bd(7,Ve,1,1,"ng-container",1),a.bd(8,Xe,1,1,"ng-container",1),a.bd(9,He,1,1,"ng-container",1),a.bc(),a.bd(10,Ye,8,9,"ng-template",null,2,a.cd),a.bd(12,Ke,1,2,"ng-template",null,3,a.cd),a.bd(14,tt,1,2,"ng-template",null,4,a.cd),a.bd(16,ot,1,2,"ng-template",null,5,a.cd),a.bd(18,st,1,2,"ng-template",null,6,a.cd),a.bd(20,dt,1,2,"ng-template",null,7,a.cd),a.bd(22,pt,1,1,"ng-template",null,8,a.cd),a.bd(24,mt,6,1,"ng-template",null,9,a.cd),a.bd(26,ht,4,1,"ng-template",null,10,a.cd)),2&e&&(a.Ib(1),a.Dc("ngIf",!t.showSupportStep&&!t.showCoachingStep),a.Ib(1),a.Dc("ngIf",t.activeStep===t.AntiCancelationSteps.None&&!t.showSupportStep&&!t.showCoachingStep),a.Ib(1),a.Dc("ngIf",t.activeStep===t.AntiCancelationSteps.TooComplicated&&!t.showSupportStep&&!t.showCoachingStep),a.Ib(1),a.Dc("ngIf",t.activeStep===t.AntiCancelationSteps.OtherPlatform&&!t.showSupportStep&&!t.showCoachingStep),a.Ib(1),a.Dc("ngIf",t.activeStep===t.AntiCancelationSteps.TooExpensive&&!t.showSupportStep&&!t.showCoachingStep),a.Ib(1),a.Dc("ngIf",t.activeStep===t.AntiCancelationSteps.DoesntWorkForOurNeeds&&!t.showSupportStep&&!t.showCoachingStep),a.Ib(1),a.Dc("ngIf",t.activeStep===t.AntiCancelationSteps.Other&&!t.showSupportStep&&!t.showCoachingStep),a.Ib(1),a.Dc("ngIf",t.showSupportStep),a.Ib(1),a.Dc("ngIf",t.showCoachingStep))},directives:[g.q,g.x,me.a,$.a,G.a,g.p,Ue],styles:['.cu-anti-cancelation-flow,.cu-anti-cancelation-flow__container{flex-grow:1;display:flex;flex-direction:column}.cu-anti-cancelation-flow__heading{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;padding-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow__heading{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow__selector{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;width:100%;height:40px;border:1px solid #e9ebf0;border-radius:4px;display:flex;align-items:center;padding:0 12px;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow__selector{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow__selector.none{color:#b9bec7}.dark-theme .cu-anti-cancelation-flow__selector{border-color:#1e272e}.cu-anti-cancelation-flow__selector .icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:var(--theme-main-color);width:8px;height:16px;transform:rotate(90deg);position:absolute;right:12px;top:11px}.cu-dropdown-list_opened .cu-anti-cancelation-flow__selector .icon{transform:rotate(270deg)}.cu-anti-cancelation-flow__dropdown{width:280px;margin-top:0!important}.cu-anti-cancelation-flow__dropdown .cu-dropdown-list__menu{max-width:none}.cu-anti-cancelation-flow__button{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;width:100%;border-radius:5px;background-color:var(--theme-main-color);display:flex;align-items:center;justify-content:center;cursor:pointer;height:56px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow__button{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow__button:hover{transition:none;background-color:var(--theme-main-color-dark)}.cu-anti-cancelation-flow__button.grow-top{margin-top:auto}.cu-anti-cancelation-flow__button.disabled{opacity:.5;pointer-events:none}.cu-anti-cancelation-flow__back{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;cursor:pointer;height:18px;position:absolute;top:40px;left:30px}.cu-anti-cancelation-flow__back:hover{transform:scale(1.05)}.cu-anti-cancelation-flow__back-icon{width:17px;height:17px;fill:#fff;margin-right:5px}.cu-anti-cancelation-flow__back-text{font-weight:500;font-size:12px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow__back-text{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow__support img{width:255px;height:auto;margin-bottom:20px}.cu-anti-cancelation-flow__support-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:16px;line-height:1.15;padding-bottom:10px;text-align:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow__support-title{font-family:var(--global-font-support)}}.cu-anti-cancelation-flow__support-subtitle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1.15;color:#7c828d;text-align:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-anti-cancelation-flow__support-subtitle{font-family:var(--global-font-support)}}.dark-theme .cu-anti-cancelation-flow__support-subtitle{color:#d5d6d7}'],encapsulation:2,changeDetection:0}),e})();var gt=i("2p4s"),ft=i("N4ya"),_t=i("7Jxm"),vt=i("Yj50");const yt=["uploader"];function wt(e,t){1&e&&(a.cc(0,"div",23),a.gc(1,24),a.bc())}function kt(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.cc(2,"div",4),a.ac(3),a.gc(4,5),a.Zb(),a.cc(5,"span"),a.dd(6,"*"),a.bc(),a.bc(),a.Xb(7,"textarea",6),a.bd(8,wt,2,0,"div",7),a.bc(),a.cc(9,"div",3),a.cc(10,"div",4),a.gc(11,8),a.bc(),a.cc(12,"div",9),a.qc("ondrop",function(t){a.Uc(e);const i=a.Rc(24),o=a.uc();return i.addFiles(t),o.loading=!0}),a.cc(13,"div",10),a.ac(14),a.gc(15,11),a.Zb(),a.cc(16,"div",12),a.qc("fileAdded",function(t){return a.Uc(e),a.Rc(24).addFiles(t)}),a.Xb(17,"input",13,14),a.cc(19,"div",15),a.gc(20,16),a.bc(),a.bc(),a.cc(21,"div",17),a.gc(22,18),a.bc(),a.bc(),a.bc(),a.cc(23,"cu-uploader",19,20),a.qc("onFileUploaded",function(){return a.Uc(e),a.uc().loading=!1}),a.bc(),a.bc(),a.cc(25,"button",21),a.gc(26,22),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(1),a.Ob("error",e.form.controls.howCanWeHelp.touched&&e.form.controls.howCanWeHelp.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.howCanWeHelp.touched&&e.form.controls.howCanWeHelp.errors),a.Ib(15),a.Dc("options",e.UPLOAD_OPTIONS),a.Ib(2),a.Dc("disabled",!e.form.valid||e.loading)}}function xt(e,t){1&e&&(a.cc(0,"div",25),a.cc(1,"div",26),a.gc(2,27),a.bc(),a.cc(3,"div",28),a.gc(4,29),a.bc(),a.bc())}let Tt=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1,this.loading=!1,this.UPLOAD_OPTIONS={autoUpload:!0,fieldName:"attachment",method:"POST",url:[gt.a.apiUrl,"attachment"].join("/"),attachmentType:10,hideFileSize:!0}}ngOnInit(){this.form=this.fb.group({form:["Billing Other"],howCanWeHelp:["",z.A.required],files:[""],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitForm(){this.prepareFilesForUpload(),this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}prepareFilesForUpload(){const e=this.uploader.filesList,t=[];e.length&&(e.forEach(e=>{e.uploadResult&&t.push(e.uploadResult)}),this.form.value.files=t)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-other"]],viewQuery:function(e,t){if(1&e&&a.jd(yt,1),2&e){let e;a.Qc(e=a.rc())&&(t.uploader=e.first)}},inputs:{team:"team",downgradingTo:"downgradingTo"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l;return e=$localize`:@@cu-resource-center-form-other__form-label_how-can-we-help␟ec682a4371f1c511ff06e741bbbab9dc612c2390␟7693978295957503590:How can we help?`,t=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,i=$localize`:@@cu-resource-center-form-other__form-label_attach-images␟412cc4c5004df11be4e87828d5c0b077e75a0882␟2100672957766425919: Please attach any relevant images `,a=$localize`:@@forms_placeholder--dnd␟64ebdaff7ded8ebeb139db2205c2f9c4aef65af7␟7913768080890114286:Drag & Drop files here or`,o=$localize`:@@common_browse-1␟598f64965c3ffb57860afc5a04f604c29fc03e4f␟5107757849267189399: Browse `,c=$localize`:@@common_attach-file␟34673ae3389af11747a0dc805b7ed6746a912a3c␟117018292381918951: Attach File `,n=$localize`:@@resource-center_btn-txt--submit-request␟8e5f076ac08d79aff1c9bfbb497b51e95b5d018f␟4171327082517708019: Submit Request `,s=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,r=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,l=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label"],e,["placeholder",t,"formControlName","howCanWeHelp",1,"cu-resource-center__support-form-text-area"],["class","cu-resource-center__support-form-label-error",4,"ngIf"],i,["cuDropArea","",1,"cu-resource-center__support-form-drop",3,"ondrop"],[1,"cu-resource-center__support-form-drop-text"],a,["cuLinkUploader","",1,"cu-uploader-trigger",3,"fileAdded"],["type","file","multiple","",1,"cu-uploader-trigger__input"],["fileInput",""],[1,"cu-uploader-trigger__text"],o,[1,"cu-resource-center__support-form-drop-over"],c,[1,"cu-resource-center__support-form-uploader",3,"options","onFileUploaded"],["uploader",""],["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],n,[1,"cu-resource-center__support-form-label-error"],s,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],r,[1,"cu-resource-center__form-help-submitted-subtitle"],l]},template:function(e,t){1&e&&(a.bd(0,kt,27,6,"form",0),a.bd(1,xt,5,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,z.c,z.p,z.i,ft.a,_t.a,vt.a],encapsulation:2,changeDetection:0}),e})();function St(e,t){1&e&&(a.cc(0,"div",14),a.gc(1,15),a.bc())}function jt(e,t){1&e&&(a.cc(0,"div",14),a.gc(1,16),a.bc())}function Ot(e,t){1&e&&(a.cc(0,"div",14),a.gc(1,17),a.bc())}function It(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.cc(2,"div",4),a.ac(3),a.gc(4,5),a.Zb(),a.cc(5,"span"),a.dd(6,"*"),a.bc(),a.bc(),a.Xb(7,"textarea",6),a.bd(8,St,2,0,"div",7),a.bc(),a.cc(9,"div",3),a.cc(10,"div",4),a.ac(11),a.gc(12,8),a.Zb(),a.cc(13,"span"),a.dd(14,"*"),a.bc(),a.bc(),a.Xb(15,"textarea",9),a.bd(16,jt,2,0,"div",7),a.bc(),a.cc(17,"div",3),a.cc(18,"div",4),a.ac(19),a.gc(20,10),a.Zb(),a.cc(21,"span"),a.dd(22,"*"),a.bc(),a.bc(),a.Xb(23,"input",11),a.bd(24,Ot,2,0,"div",7),a.bc(),a.cc(25,"button",12),a.gc(26,13),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(1),a.Ob("error",e.form.controls.howWouldYouLikeToWorkWithClickUp.touched&&e.form.controls.howWouldYouLikeToWorkWithClickUp.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.howWouldYouLikeToWorkWithClickUp.touched&&e.form.controls.howWouldYouLikeToWorkWithClickUp.errors),a.Ib(1),a.Ob("error",e.form.controls.requirements.touched&&e.form.controls.requirements.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.requirements.touched&&e.form.controls.requirements.errors),a.Ib(1),a.Ob("error",e.form.controls.website.touched&&e.form.controls.website.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.website.touched&&e.form.controls.website.errors),a.Ib(1),a.Dc("disabled",!e.form.valid)}}function Dt(e,t){1&e&&(a.cc(0,"div",18),a.cc(1,"div",19),a.gc(2,20),a.bc(),a.cc(3,"div",21),a.gc(4,22),a.bc(),a.bc())}let Ct=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({form:["Marketing Sponsorships"],howWouldYouLikeToWorkWithClickUp:["",z.A.required],sponsorshipIdea:["",z.A.required],website:["",[z.A.required,z.A.pattern(H)]],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitForm(){this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-sponsorships"]],inputs:{team:"team",downgradingTo:"downgradingTo"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u;return e=$localize`:@@cu-resource-center-form-sponsorships__form-label_work-with-cu␟d25b52b190ecc11e5f239d71a8f7b7b9b62dcc5d␟6051223109432457995:How would you like to work with ClickUp?`,t=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,i=$localize`:@@cu-resource-center-form-sponsorships__form-label_describe-idea␟971d819a098e4b6f2cfe08661c95f0a7ecb031fe␟7598823956395932936:Please describe your sponsorship idea`,a=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,o=$localize`:@@cu-resource-center-form-sponsorships__form-label_website-link␟2f5e77dba75ac963186dc72ab323188dc5613456␟7593944222157436550:Link to your website`,c=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,n=$localize`:@@resource-center_btn-txt--submit-request␟8e5f076ac08d79aff1c9bfbb497b51e95b5d018f␟4171327082517708019: Submit Request `,s=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,r=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,l=$localize`:@@cu-resource-center-form-sponsorships__form-error_invalid-url␟35342d483bd41637a4ac097aefb78eb84940a41c␟5334390979245490669: valid url required (example: https://clickup.com) `,d=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,u=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label","smaller"],e,["placeholder",t,"formControlName","howWouldYouLikeToWorkWithClickUp",1,"cu-resource-center__support-form-text-area"],["class","cu-resource-center__support-form-label-error",4,"ngIf"],i,["placeholder",a,"formControlName","sponsorshipIdea",1,"cu-resource-center__support-form-text-area"],o,["placeholder",c,"formControlName","website",1,"cu-resource-center__support-form-input"],["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],n,[1,"cu-resource-center__support-form-label-error"],s,r,l,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],d,[1,"cu-resource-center__form-help-submitted-subtitle"],u]},template:function(e,t){1&e&&(a.bd(0,It,27,11,"form",0),a.bd(1,Dt,5,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,z.c,z.p,z.i],encapsulation:2,changeDetection:0}),e})();function Pt(e,t){1&e&&(a.cc(0,"div",16),a.gc(1,17),a.bc())}function $t(e,t){1&e&&(a.cc(0,"div",16),a.gc(1,18),a.bc())}function zt(e,t){1&e&&(a.cc(0,"div",16),a.gc(1,19),a.bc())}function Mt(e,t){1&e&&(a.cc(0,"div",16),a.gc(1,20),a.bc())}function Et(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.cc(2,"div",4),a.ac(3),a.gc(4,5),a.Zb(),a.cc(5,"span"),a.dd(6,"*"),a.bc(),a.bc(),a.Xb(7,"textarea",6),a.bd(8,Pt,2,0,"div",7),a.bc(),a.cc(9,"div",3),a.cc(10,"div",4),a.ac(11),a.gc(12,8),a.Zb(),a.cc(13,"span"),a.dd(14,"*"),a.bc(),a.bc(),a.Xb(15,"textarea",9),a.bd(16,$t,2,0,"div",7),a.bc(),a.cc(17,"div",3),a.cc(18,"div",4),a.ac(19),a.gc(20,10),a.Zb(),a.cc(21,"span"),a.dd(22,"*"),a.bc(),a.bc(),a.Xb(23,"textarea",11),a.bd(24,zt,2,0,"div",7),a.bc(),a.cc(25,"div",3),a.cc(26,"div",4),a.ac(27),a.gc(28,12),a.Zb(),a.cc(29,"span"),a.dd(30,"*"),a.bc(),a.bc(),a.Xb(31,"textarea",13),a.bd(32,Mt,2,0,"div",7),a.bc(),a.cc(33,"button",14),a.gc(34,15),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(1),a.Ob("error",e.form.controls.tellUsAboutYourself.touched&&e.form.controls.tellUsAboutYourself.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.tellUsAboutYourself.touched&&e.form.controls.tellUsAboutYourself.errors),a.Ib(1),a.Ob("error",e.form.controls.topicPurposeToneOfArticle.touched&&e.form.controls.topicPurposeToneOfArticle.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.topicPurposeToneOfArticle.touched&&e.form.controls.topicPurposeToneOfArticle.errors),a.Ib(1),a.Ob("error",e.form.controls.linksToOtherArticles.touched&&e.form.controls.linksToOtherArticles.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.linksToOtherArticles.touched&&e.form.controls.linksToOtherArticles.errors),a.Ib(1),a.Ob("error",e.form.controls.whyDoYouWantToGuestPost.touched&&e.form.controls.whyDoYouWantToGuestPost.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.whyDoYouWantToGuestPost.touched&&e.form.controls.whyDoYouWantToGuestPost.errors),a.Ib(1),a.Dc("disabled",!e.form.valid)}}function Lt(e,t){1&e&&(a.cc(0,"div",21),a.cc(1,"div",22),a.gc(2,23),a.bc(),a.cc(3,"div",24),a.gc(4,25),a.bc(),a.bc())}let At=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({form:["Marketing Guest Post"],tellUsAboutYourself:["",z.A.required],topicPurposeToneOfArticle:["",z.A.required],linksToOtherArticles:["",z.A.required],whyDoYouWantToGuestPost:["",z.A.required],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}submitForm(){this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-guest-post"]],inputs:{team:"team",downgradingTo:"downgradingTo"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h;return e=$localize`:@@cu-resource-center-form-guest-post__form-label_describe-yourself␟c5e187fa9fea57d10e4489b08e53bee91c93c724␟4560390834536785049:Tell us about yourself`,t=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,i=$localize`:@@cu-resource-center-form-guest-post__form-label_describe-topic-or-article␟567db0522938379aea6f1e7b6f7eed67aabb5054␟8883843336676371429: Please describe the topic, purpose, and tone of the article you’d like to write `,a=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,o=$localize`:@@cu-resource-center-form-guest-post__form-label_link-to-written-articles␟6ba71a95310b065e4eb6b931e5057fa4fc7223f1␟5925398870475084502:Please provide links to other articles you’ve written`,c=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,n=$localize`:@@cu-resource-center-form-guest-post__form-label_reason-for-guest-post␟93ba3cbb5230a0135236ac3704947904058aa169␟7557772823412013324:Why do you want to guest post on our blog?`,s=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,r=$localize`:@@resource-center_btn-txt--submit-request␟8e5f076ac08d79aff1c9bfbb497b51e95b5d018f␟4171327082517708019: Submit Request `,l=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,d=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,u=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,p=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,m=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,h=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label","smaller"],e,["placeholder",t,"formControlName","tellUsAboutYourself",1,"cu-resource-center__support-form-text-area"],["class","cu-resource-center__support-form-label-error",4,"ngIf"],i,["placeholder",a,"formControlName","topicPurposeToneOfArticle",1,"cu-resource-center__support-form-text-area"],o,["placeholder",c,"formControlName","linksToOtherArticles",1,"cu-resource-center__support-form-text-area"],n,["placeholder",s,"formControlName","whyDoYouWantToGuestPost",1,"cu-resource-center__support-form-text-area"],["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],r,[1,"cu-resource-center__support-form-label-error"],l,d,u,p,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],m,[1,"cu-resource-center__form-help-submitted-subtitle"],h]},template:function(e,t){1&e&&(a.bd(0,Et,35,14,"form",0),a.bd(1,Lt,5,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,z.c,z.p,z.i],encapsulation:2,changeDetection:0}),e})();const Ft=["uploader"];function Ut(e,t){1&e&&(a.cc(0,"div",27),a.gc(1,28),a.bc())}function Nt(e,t){1&e&&(a.cc(0,"div",27),a.gc(1,29),a.bc())}function Rt(e,t){1&e&&(a.cc(0,"div",27),a.gc(1,30),a.bc())}function Gt(e,t){if(1&e){const e=a.dc();a.cc(0,"form",2),a.qc("submit",function(){return a.Uc(e),a.uc().submitForm()}),a.cc(1,"div",3),a.cc(2,"div",4),a.ac(3),a.gc(4,5),a.Zb(),a.cc(5,"span"),a.dd(6,"*"),a.bc(),a.bc(),a.Xb(7,"textarea",6),a.bd(8,Ut,2,0,"div",7),a.bc(),a.cc(9,"div",3),a.cc(10,"div",4),a.ac(11),a.gc(12,8),a.Zb(),a.cc(13,"span"),a.dd(14,"*"),a.bc(),a.bc(),a.Xb(15,"textarea",9),a.bd(16,Nt,2,0,"div",7),a.bc(),a.cc(17,"div",3),a.cc(18,"div",4),a.ac(19),a.gc(20,10),a.Zb(),a.dd(21,": "),a.cc(22,"span"),a.dd(23,"*"),a.bc(),a.bc(),a.Xb(24,"textarea",11),a.bd(25,Rt,2,0,"div",7),a.bc(),a.cc(26,"div",3),a.cc(27,"div",4),a.gc(28,12),a.bc(),a.cc(29,"div",13),a.qc("ondrop",function(t){a.Uc(e);const i=a.Rc(41),o=a.uc();return i.addFiles(t),o.loading=!0}),a.cc(30,"div",14),a.ac(31),a.gc(32,15),a.Zb(),a.cc(33,"div",16),a.qc("fileAdded",function(t){return a.Uc(e),a.Rc(41).addFiles(t)}),a.Xb(34,"input",17,18),a.cc(36,"div",19),a.gc(37,20),a.bc(),a.bc(),a.cc(38,"div",21),a.gc(39,22),a.bc(),a.bc(),a.bc(),a.cc(40,"cu-uploader",23,24),a.qc("onFileUploaded",function(){return a.Uc(e),a.uc().loading=!1}),a.bc(),a.bc(),a.cc(42,"button",25),a.gc(43,26),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Dc("formGroup",e.form),a.Ib(1),a.Ob("error",e.form.controls.tellUsAboutYourselfOrCompany.touched&&e.form.controls.tellUsAboutYourselfOrCompany.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.tellUsAboutYourselfOrCompany.touched&&e.form.controls.tellUsAboutYourselfOrCompany.errors),a.Ib(1),a.Ob("error",e.form.controls.howManyPeopleAreYouWorkingWith.touched&&e.form.controls.howManyPeopleAreYouWorkingWith.errors),a.Ib(7),a.Dc("ngIf",e.form.controls.howManyPeopleAreYouWorkingWith.touched&&e.form.controls.howManyPeopleAreYouWorkingWith.errors),a.Ib(1),a.Ob("error",e.form.controls.whyFreePlanIsntSufficient.touched&&e.form.controls.whyFreePlanIsntSufficient.errors),a.Ib(8),a.Dc("ngIf",e.form.controls.whyFreePlanIsntSufficient.touched&&e.form.controls.whyFreePlanIsntSufficient.errors),a.Ib(15),a.Dc("options",e.UPLOAD_OPTIONS),a.Ib(2),a.Dc("disabled",!e.form.valid)}}function qt(e,t){1&e&&(a.cc(0,"div",31),a.cc(1,"div",32),a.gc(2,33),a.bc(),a.cc(3,"div",34),a.gc(4,35),a.bc(),a.bc())}let Bt=(()=>{class e{constructor(e,t){this.dataService=e,this.fb=t,this.submitted=!1,this.loading=!1,this.UPLOAD_OPTIONS={autoUpload:!0,fieldName:"attachment",method:"POST",url:[gt.a.apiUrl,"attachment"].join("/"),attachmentType:10,hideFileSize:!0},this.trackByValue=c.f,this.hasFiles=!1,this.destroy$=new m.a}ngOnInit(){this.form=this.fb.group({form:["Marketing Inquiry"],tellUsAboutYourselfOrCompany:["",z.A.required],howManyPeopleAreYouWorkingWith:["",z.A.required],whyFreePlanIsntSufficient:["",z.A.required],sponsorshipDetailsAttachments:[""],workspace:[this.team?this.team.name:""],workspaceId:[this.team?this.team.id:""],downgradingTo:[this.downgradingTo]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}submitForm(){this.prepareFilesForUpload(),(this.form.value.tellUsAboutYourselfOrCompany||this.form.value.howManyPeopleAreYouWorkingWith||this.form.value.whyFreePlanIsntSufficient||this.hasFiles)&&this.form.valid&&(this.dataService.submitHelp(this.form.value).subscribe(()=>{}),this.submitted=!0)}prepareFilesForUpload(){const e=this.uploader.filesList,t=[];e.length&&(this.hasFiles=!0,e.forEach(e=>{e.uploadResult&&t.push(e.uploadResult)}),this.form.value.sponsorshipDetailsAttachments=t)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(M.a),a.Wb(z.f))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center-form-inquiry"]],viewQuery:function(e,t){if(1&e&&a.jd(Ft,1),2&e){let e;a.Qc(e=a.rc())&&(t.uploader=e.first)}},inputs:{team:"team",downgradingTo:"downgradingTo"},decls:2,vars:2,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b;return e=$localize`:@@cu-resource-center-form-inquiry__form-label_about-self-or-company␟48eadc3616835060c7199e3bb485c127f6dfc41d␟5696898550618469379:Tell us about yourself or company`,t=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,i=$localize`:@@cu-resource-center-form-inquiry__form-label_people-working-with-count␟be8f427da0ee960580cb6a9e3d7bc62fc9fc53c9␟6170079347809010581:How many people are you working with?`,a=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,o=$localize`:@@cu-resource-center-form-inquiry__form-label_explain-free-plan-insufficient␟3463808b1ecf4953ea8f0d4db7dcd138ae8c298a␟4594014531831421807:Explain why the free plan isn’t sufficient for your team’s use`,c=$localize`:@@resource-center_form-placeholder--your-answer␟3eec4fbb2fed727e3d44933dfc6969409d9701d8␟3212237534127642519:Your answer`,n=$localize`:@@cu-resource-center-form-inquiry__form-label_attach-supporting-docs␟440880b08c96c7c8f21d30530c77c07c6a2fc8ef␟9096446615919774001: Please attach any sponsorship package details, branding kits, supporting documents, etc. `,s=$localize`:@@forms_placeholder--dnd␟64ebdaff7ded8ebeb139db2205c2f9c4aef65af7␟7913768080890114286:Drag & Drop files here or`,r=$localize`:@@common_browse-1␟598f64965c3ffb57860afc5a04f604c29fc03e4f␟5107757849267189399: Browse `,l=$localize`:@@common_attach-file␟34673ae3389af11747a0dc805b7ed6746a912a3c␟117018292381918951: Attach File `,d=$localize`:@@resource-center_btn-txt--submit-request␟8e5f076ac08d79aff1c9bfbb497b51e95b5d018f␟4171327082517708019: Submit Request `,u=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,p=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,m=$localize`:@@common_required-1␟36d83422c3582b0823cff773462e492e1d9cf85c␟1435168993493609424: required `,h=$localize`:@@help_submitted␟b39fb9adf323a88d4102f9c05c80b66ef1684633␟4172400210269687498: Standby! You're in good hands. `,b=$localize`:@@help_average-response-times␟ad17127a6324c4f69e0960aeea3d93ddf0a5f3e4␟1725120619469492324: Average response time: 1 hour 12 minutes `,[["class","cu-resource-center__support-form",3,"formGroup","submit",4,"ngIf"],["class","cu-resource-center__form-help-submitted",4,"ngIf"],[1,"cu-resource-center__support-form",3,"formGroup","submit"],[1,"cu-resource-center__support-form-row"],[1,"cu-resource-center__support-form-label","smaller"],e,["placeholder",t,"formControlName","tellUsAboutYourselfOrCompany",1,"cu-resource-center__support-form-text-area"],["class","cu-resource-center__support-form-label-error",4,"ngIf"],i,["placeholder",a,"formControlName","howManyPeopleAreYouWorkingWith",1,"cu-resource-center__support-form-text-area"],o,["placeholder",c,"formControlName","whyFreePlanIsntSufficient",1,"cu-resource-center__support-form-text-area"],n,["cuDropArea","",1,"cu-resource-center__support-form-drop",3,"ondrop"],[1,"cu-resource-center__support-form-drop-text"],s,["cuLinkUploader","",1,"cu-uploader-trigger",3,"fileAdded"],["type","file","multiple","",1,"cu-uploader-trigger__input"],["fileInput",""],[1,"cu-uploader-trigger__text"],r,[1,"cu-resource-center__support-form-drop-over"],l,[1,"cu-resource-center__support-form-uploader",3,"options","onFileUploaded"],["uploader",""],["type","submit",1,"cu-resource-center__support-form-submit",3,"disabled"],d,[1,"cu-resource-center__support-form-label-error"],u,p,m,[1,"cu-resource-center__form-help-submitted"],[1,"cu-resource-center__form-help-submitted-title"],h,[1,"cu-resource-center__form-help-submitted-subtitle"],b]},template:function(e,t){1&e&&(a.bd(0,Gt,44,12,"form",0),a.bd(1,qt,5,0,"div",1)),2&e&&(a.Dc("ngIf",!t.submitted),a.Ib(1),a.Dc("ngIf",t.submitted))},directives:[g.q,z.C,z.q,z.k,z.c,z.p,z.i,ft.a,_t.a,vt.a],encapsulation:2,changeDetection:0}),e})();var Wt=i("KgOx");const Vt=["bugFormIframe"];function Xt(e,t){1&e&&a.Xb(0,"div",43),2&e&&a.Dc("icon","cu2-logo-white")}function Ht(e,t){1&e&&(a.ac(0),a.dd(1," > "),a.ac(2),a.gc(3,47),a.Zb(),a.Zb())}function Yt(e,t){1&e&&(a.ac(0),a.dd(1," > "),a.ac(2),a.gc(3,48),a.Zb(),a.Zb())}function Zt(e,t){1&e&&(a.ac(0),a.dd(1," > "),a.ac(2),a.gc(3,49),a.Zb(),a.Zb())}function Qt(e,t){1&e&&(a.ac(0),a.dd(1," > "),a.ac(2),a.gc(3,50),a.Zb(),a.Zb())}function Kt(e,t){if(1&e&&(a.cc(0,"div",44),a.ac(1,45),a.bd(2,Ht,4,0,"ng-container",46),a.bd(3,Yt,4,0,"ng-container",46),a.bd(4,Zt,4,0,"ng-container",46),a.bd(5,Qt,4,0,"ng-container",46),a.Zb(),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngSwitch",e.activeSupportStep),a.Ib(1),a.Dc("ngSwitchCase",e.ResourceCenterSupportSteps.SetUpAssistance),a.Ib(1),a.Dc("ngSwitchCase",e.ResourceCenterSupportSteps.Sales),a.Ib(1),a.Dc("ngSwitchCase",e.ResourceCenterSupportSteps.Billing),a.Ib(1),a.Dc("ngSwitchCase",e.ResourceCenterSupportSteps.Marketing)}}function Jt(e,t){if(1&e){const e=a.dc();a.cc(0,"div",51),a.qc("click",function(){return a.Uc(e),a.uc().showMain()}),a.Xb(1,"div",52),a.cc(2,"div",53),a.gc(3,54),a.bc(),a.bc()}2&e&&(a.Ib(1),a.Dc("icon","cu2-arrow-left2"))}function ei(e,t){1&e&&a.Xb(0,"div",61),2&e&&a.Dc("icon","cu2-logo-white-icon")}function ti(e,t){if(1&e&&(a.cc(0,"div",62),a.dd(1),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.fd(" ",e.mainSubtitle," ")}}function ii(e,t){1&e&&(a.cc(0,"div",62),a.mc(1,63),a.Xb(2,"strong"),a.jc(),a.bc())}function ai(e,t){if(1&e){const e=a.dc();a.cc(0,"div",64),a.qc("click",function(){return a.Uc(e),a.uc(2).routeToBilling()}),a.gc(1,65),a.bc()}}function oi(e,t){if(1&e&&(a.cc(0,"div",55),a.cc(1,"div",56),a.cc(2,"div",57),a.dd(3),a.bc(),a.bd(4,ei,1,1,"div",58),a.bc(),a.bd(5,ti,2,1,"div",59),a.bd(6,ii,3,0,"div",59),a.bd(7,ai,2,0,"div",60),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Ob("no-subtitle",!e.showMainSubtitle),a.Ib(2),a.fd(" ",e.mainTitle," "),a.Ib(1),a.Dc("ngIf",e.showMainSubtitle),a.Ib(1),a.Dc("ngIf",!e.showIncentiveText&&e.showMainSubtitle),a.Ib(1),a.Dc("ngIf",e.showIncentiveText),a.Ib(1),a.Dc("ngIf",e.showIncentiveText)}}function ci(e,t){if(1&e){const e=a.dc();a.cc(0,"div",66),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc().action(i.id)}),a.Xb(1,"div",67),a.cc(2,"div",68),a.dd(3),a.bc(),a.bc()}if(2&e){const e=t.$implicit,i=a.uc();a.Ob("cu-resource-center__toold-grid-item-inactive","templates"===e.id&&!i.currentSpace),a.Dc("cuTooltip","templates"!==e.id||i.currentSpace?"":i.goToLocationToUseTemplatesText),a.Ib(1),a.Mb("cu-resource-center__tools-grid-item-icon icon ",e.id,""),a.Dc("icon",e.icon),a.Ib(2),a.fd(" ",e.name," ")}}function ni(e,t){if(1&e){const e=a.dc();a.cc(0,"div",69),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc().action(i.id)}),a.Xb(1,"div",67),a.cc(2,"div",68),a.dd(3),a.bc(),a.bc()}if(2&e){const e=t.$implicit;a.Ib(1),a.Mb("cu-resource-center__tools-grid-item-icon icon ",e.id,""),a.Dc("icon",e.icon),a.Ib(2),a.fd(" ",e.name," ")}}function si(e,t){if(1&e&&(a.cc(0,"div",79),a.dd(1),a.bc()),2&e){const e=a.uc().index;a.Ib(1),a.fd(" ",e+1," ")}}function ri(e,t){1&e&&a.Xb(0,"div",80)}function li(e,t){1&e&&a.Xb(0,"div",81)}function di(e,t){if(1&e&&(a.cc(0,"div",82),a.ac(1),a.gc(2,83),a.Zb(),a.dd(3,": "),a.bc()),2&e){const e=a.uc().index;a.Ib(2),a.kc(e),a.hc(2)}}function ui(e,t){1&e&&(a.cc(0,"div",82),a.ac(1),a.gc(2,84),a.Zb(),a.dd(3,": "),a.bc())}function pi(e,t){if(1&e&&(a.cc(0,"div",85),a.Xb(1,"div",86),a.Xb(2,"div",87),a.bc()),2&e){const e=a.uc().$implicit;a.Ib(2),a.ad("background-image","url("+e.thumbnail+")")}}function mi(e,t){if(1&e){const e=a.dc();a.cc(0,"div",70),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc().videoClicked(i)}),a.cc(1,"div",71),a.bd(2,si,2,1,"div",72),a.bd(3,ri,1,0,"div",73),a.bd(4,li,1,0,"div",74),a.bc(),a.cc(5,"div",75),a.bd(6,di,4,1,"div",76),a.bd(7,ui,4,0,"div",76),a.cc(8,"div",77),a.dd(9),a.bc(),a.bd(10,pi,3,2,"div",78),a.bc(),a.bc()}if(2&e){const e=t.$implicit,i=t.index,o=a.uc();a.Ob("cu-resource-center__onboarding-step-complete",e.completed)("cu-resource-center__onboarding-step-last",i===o.onboardingSteps.length-1),a.Ib(2),a.Dc("ngIf",!e.completed),a.Ib(1),a.Dc("ngIf",e.completed),a.Ib(1),a.Dc("ngIf",!o.completed&&i===o.currentStep-1),a.Ib(2),a.Dc("ngIf",0!==i),a.Ib(1),a.Dc("ngIf",0===i),a.Ib(2),a.fd(" ",e.text," "),a.Ib(1),a.Dc("ngIf",!o.completed&&i===o.currentStep-1)}}function hi(e,t){if(1&e){const e=a.dc();a.cc(0,"div",98),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(3).advanceSupportStep(i.id)}),a.Xb(1,"div",99),a.cc(2,"div",68),a.dd(3),a.bc(),a.bc()}if(2&e){const e=t.$implicit;a.Ib(1),a.Dc("icon",e.icon),a.Ib(2),a.fd(" ",e.name," ")}}function bi(e,t){if(1&e){const e=a.dc();a.cc(0,"div",100),a.qc("click",function(){return a.Uc(e),a.uc(3).showSupportForm=!0}),a.cc(1,"div",101),a.gc(2,102),a.bc(),a.bc()}}function gi(e,t){if(1&e&&(a.cc(0,"div",91),a.cc(1,"div",10),a.gc(2,92),a.bc(),a.cc(3,"div",93),a.gc(4,94),a.bc(),a.cc(5,"div",95),a.bd(6,hi,4,2,"div",96),a.bc(),a.bd(7,bi,3,0,"div",97),a.bc()),2&e){const e=a.uc(2);a.Ib(6),a.Dc("ngForOf",e.supportTools2)("ngForTrackBy",e.trackByStep),a.Ib(1),a.Dc("ngIf",!e.showSupportForm)}}function fi(e,t){if(1&e&&a.Yb(0,105),2&e){a.uc(3);const e=a.Rc(45);a.Dc("ngTemplateOutlet",e)}}function _i(e,t){if(1&e&&a.Yb(0,105),2&e){a.uc(3);const e=a.Rc(47);a.Dc("ngTemplateOutlet",e)}}function vi(e,t){if(1&e&&a.Yb(0,105),2&e){a.uc(3);const e=a.Rc(49);a.Dc("ngTemplateOutlet",e)}}function yi(e,t){if(1&e&&a.Yb(0,105),2&e){a.uc(3);const e=a.Rc(51);a.Dc("ngTemplateOutlet",e)}}function wi(e,t){if(1&e&&(a.cc(0,"div",103),a.bd(1,fi,1,1,"ng-container",104),a.bd(2,_i,1,1,"ng-container",104),a.bd(3,vi,1,1,"ng-container",104),a.bd(4,yi,1,1,"ng-container",104),a.bc()),2&e){const e=a.uc(2);a.Ob("anti-cancelation",e.activeBillingForm&&e.activeBillingForm===e.BillingForms.WishToDowngrade),a.Ib(1),a.Dc("ngIf",e.activeSupportStep===e.ResourceCenterSupportSteps.SetUpAssistance),a.Ib(1),a.Dc("ngIf",e.activeSupportStep===e.ResourceCenterSupportSteps.Sales),a.Ib(1),a.Dc("ngIf",e.activeSupportStep===e.ResourceCenterSupportSteps.Billing),a.Ib(1),a.Dc("ngIf",e.activeSupportStep===e.ResourceCenterSupportSteps.Marketing)}}function ki(e,t){if(1&e&&(a.cc(0,"div",88),a.bd(1,gi,8,3,"div",89),a.bd(2,wi,5,6,"div",90),a.bc()),2&e){const e=a.uc();a.ad("height",e.containerHeight,"px"),a.Dc("hidden",e.activeItem!==e.ResourceCenterActiveItem.Support),a.Ib(1),a.Dc("ngIf",!e.activeSupportStep),a.Ib(1),a.Dc("ngIf",e.activeSupportStep)}}function xi(e,t){if(1&e){const e=a.dc();a.cc(0,"div",106),a.cc(1,"cu-resource-center-form-set-up",107),a.qc("onBack",function(){return a.Uc(e),a.uc().showSetUpForm=!1}),a.vc(2,"teamPlanToString"),a.bc(),a.bc()}if(2&e){const e=a.uc();a.ad("height",e.containerHeight,"px"),a.Ib(1),a.Dc("team",e.team)("downgradingTo",a.wc(2,4,e.downgradeTeamId))}}function Ti(e,t){if(1&e){const e=a.dc();a.cc(0,"div",98),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(3).setUpAssistanceClick(i.id)}),a.Xb(1,"div",99),a.cc(2,"div",111),a.dd(3),a.bc(),a.bc()}if(2&e){const e=t.$implicit,i=a.uc(3);a.Ob("cu-resource-center__toold-grid-item-inactive","templates"===e.id&&!i.currentSpace),a.Ib(1),a.Ob("white-stroke","templates"===e.id||"learnFromExpert"===e.id),a.Dc("icon",e.icon),a.Ib(2),a.fd(" ",e.name," ")}}function Si(e,t){if(1&e&&(a.cc(0,"div",109),a.bd(1,Ti,4,6,"div",110),a.vc(2,"async"),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngForOf",a.wc(2,2,e.setUpTools$))("ngForTrackBy",e.trackByStep)}}function ji(e,t){if(1&e){const e=a.dc();a.cc(0,"div",100),a.qc("click",function(){return a.Uc(e),a.uc(2).showSetUpForm=!0}),a.cc(1,"div",101),a.gc(2,112),a.bc(),a.bc()}}function Oi(e,t){if(1&e&&(a.bd(0,Si,3,4,"div",108),a.bd(1,ji,3,0,"div",97)),2&e){const e=a.uc();a.Dc("ngIf",!e.activeMarketingForm),a.Ib(1),a.Dc("ngIf",!e.showSetUpForm)}}function Ii(e,t){if(1&e&&(a.Xb(0,"cu-resource-center-form-sales",113),a.vc(1,"teamPlanToString")),2&e){const e=a.uc();a.Dc("team",e.team)("downgradingTo",a.wc(1,2,e.downgradeTeamId))}}function Di(e,t){1&e&&(a.cc(0,"div",10),a.gc(1,118),a.bc())}function Ci(e,t){if(1&e){const e=a.dc();a.cc(0,"div",98),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(3).showBillingForm(i.id)}),a.Xb(1,"div",99),a.cc(2,"div",68),a.dd(3),a.bc(),a.bc()}if(2&e){const e=t.$implicit;a.Ib(1),a.Dc("icon",e.icon),a.Ib(2),a.fd(" ",e.name," ")}}function Pi(e,t){if(1&e&&(a.cc(0,"div",119),a.bd(1,Ci,4,2,"div",96),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngForOf",e.billingTools)("ngForTrackBy",e.trackByStep)}}function $i(e,t){if(1&e&&(a.Xb(0,"cu-resource-center-form-unknown-charges",113),a.vc(1,"teamPlanToString")),2&e){const e=a.uc(2);a.Dc("team",e.team)("downgradingTo",a.wc(1,2,e.downgradeTeamId))}}function zi(e,t){if(1&e&&(a.Xb(0,"cu-resource-center-form-card-decline",113),a.vc(1,"teamPlanToString")),2&e){const e=a.uc(2);a.Dc("team",e.team)("downgradingTo",a.wc(1,2,e.downgradeTeamId))}}function Mi(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-anti-cancelation-flow",120),a.qc("onClose",function(){return a.Uc(e),a.uc(2).onClose.emit()})("onAction",function(t){return a.Uc(e),a.uc(2).onAction(t)})("onDowngrade",function(){return a.Uc(e),a.uc(2).openDowngradeModal()}),a.vc(1,"teamPlanToString"),a.bc()}if(2&e){const e=a.uc(2);a.Dc("team",e.team)("user",e.user)("downgradingTo",a.wc(1,3,e.downgradeTeamId))}}function Ei(e,t){if(1&e&&(a.Xb(0,"cu-resource-center-form-other",113),a.vc(1,"teamPlanToString")),2&e){const e=a.uc(2);a.Dc("team",e.team)("downgradingTo",a.wc(1,2,e.downgradeTeamId))}}function Li(e,t){if(1&e){const e=a.dc();a.cc(0,"div",100),a.qc("click",function(){a.Uc(e);const t=a.uc(2);return t.showSupportForm=!0,t.showSupportFormSource="billing"}),a.cc(1,"div",101),a.gc(2,121),a.bc(),a.bc()}}function Ai(e,t){if(1&e&&(a.bd(0,Di,2,0,"div",114),a.bd(1,Pi,2,2,"div",115),a.bd(2,$i,2,4,"cu-resource-center-form-unknown-charges",116),a.bd(3,zi,2,4,"cu-resource-center-form-card-decline",116),a.bd(4,Mi,2,5,"cu-anti-cancelation-flow",117),a.bd(5,Ei,2,4,"cu-resource-center-form-other",116),a.bd(6,Li,3,0,"div",97)),2&e){const e=a.uc();a.Dc("ngIf",!e.activeBillingForm),a.Ib(1),a.Dc("ngIf",!e.activeBillingForm),a.Ib(1),a.Dc("ngIf",e.activeBillingForm&&e.activeBillingForm===e.BillingForms.UnknownCharges),a.Ib(1),a.Dc("ngIf",e.activeBillingForm&&e.activeBillingForm===e.BillingForms.CardDeclined),a.Ib(1),a.Dc("ngIf",e.activeBillingForm&&e.activeBillingForm===e.BillingForms.WishToDowngrade),a.Ib(1),a.Dc("ngIf",e.activeBillingForm&&e.activeBillingForm===e.BillingForms.Other),a.Ib(1),a.Dc("ngIf",!e.showSupportForm&&!e.activeBillingForm)}}function Fi(e,t){1&e&&(a.cc(0,"div",10),a.gc(1,122),a.bc())}function Ui(e,t){if(1&e){const e=a.dc();a.cc(0,"div",69),a.qc("click",function(){a.Uc(e);const i=t.$implicit;return a.uc(3).showMarketingForm(i.id)}),a.Xb(1,"div",99),a.cc(2,"div",68),a.dd(3),a.bc(),a.bc()}if(2&e){const e=t.$implicit;a.Ib(1),a.Dc("icon",e.icon),a.Ib(2),a.fd(" ",e.name," ")}}function Ni(e,t){if(1&e&&(a.cc(0,"div",109),a.bd(1,Ui,4,2,"div",20),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngForOf",e.marketingTools)("ngForTrackBy",e.trackByStep)}}function Ri(e,t){if(1&e&&(a.Xb(0,"cu-resource-center-form-sponsorships",113),a.vc(1,"teamPlanToString")),2&e){const e=a.uc(2);a.Dc("team",e.team)("downgradingTo",a.wc(1,2,e.downgradeTeamId))}}function Gi(e,t){if(1&e&&(a.Xb(0,"cu-resource-center-form-guest-post",113),a.vc(1,"teamPlanToString")),2&e){const e=a.uc(2);a.Dc("team",e.team)("downgradingTo",a.wc(1,2,e.downgradeTeamId))}}function qi(e,t){if(1&e&&(a.Xb(0,"cu-resource-center-form-inquiry",113),a.vc(1,"teamPlanToString")),2&e){const e=a.uc(2);a.Dc("team",e.team)("downgradingTo",a.wc(1,2,e.downgradeTeamId))}}function Bi(e,t){if(1&e){const e=a.dc();a.cc(0,"div",100),a.qc("click",function(){a.Uc(e);const t=a.uc(2);return t.showSupportForm=!0,t.showSupportFormSource="marketing"}),a.cc(1,"div",101),a.gc(2,123),a.bc(),a.bc()}}function Wi(e,t){if(1&e&&(a.bd(0,Fi,2,0,"div",114),a.bd(1,Ni,2,2,"div",108),a.bd(2,Ri,2,4,"cu-resource-center-form-sponsorships",116),a.bd(3,Gi,2,4,"cu-resource-center-form-guest-post",116),a.bd(4,qi,2,4,"cu-resource-center-form-inquiry",116),a.bd(5,Bi,3,0,"div",97)),2&e){const e=a.uc();a.Dc("ngIf",!e.activeMarketingForm),a.Ib(1),a.Dc("ngIf",!e.activeMarketingForm),a.Ib(1),a.Dc("ngIf",e.activeMarketingForm&&e.activeMarketingForm===e.MarketingForms.Sponsorships),a.Ib(1),a.Dc("ngIf",e.activeMarketingForm&&e.activeMarketingForm===e.MarketingForms.GuestPost),a.Ib(1),a.Dc("ngIf",e.activeMarketingForm&&e.activeMarketingForm===e.MarketingForms.Inquiry),a.Ib(1),a.Dc("ngIf",!e.showSupportForm&&!e.activeMarketingForm)}}var Vi=function(e){return e[e.Main=1]="Main",e[e.Canny=2]="Canny",e[e.Onboarding=3]="Onboarding",e[e.Contact=4]="Contact",e[e.BugForm=5]="BugForm",e[e.Support=6]="Support",e}({}),Xi=function(e){return e[e.Sales=1]="Sales",e[e.Marketing=2]="Marketing",e[e.SetUpAssistance=3]="SetUpAssistance",e[e.Billing=4]="Billing",e}({}),Hi=function(e){return e[e.Sponsorships=1]="Sponsorships",e[e.GuestPost=2]="GuestPost",e[e.Inquiry=3]="Inquiry",e}({}),Yi=function(e){return e[e.UnknownCharges=1]="UnknownCharges",e[e.CardDeclined=2]="CardDeclined",e[e.WishToDowngrade=3]="WishToDowngrade",e[e.Other=4]="Other",e}({});let Zi=(()=>{class e{constructor(e,t,i,n,r,l,u,p,h){this.window=e,this.cdr=t,this.modalService=i,this.store=n,this.injector=r,this.navService=l,this.router=u,this.helpers=p,this.amplitudeService=h,this.onClose=new a.o,this.onActiveItemChange=new a.o,this.project$=this.store.select(T.getProject),this.cannyHeader="",this.activeItem=Vi.Main,this.ResourceCenterActiveItem=Vi,this.completed=!1,this.bugformEmbedLink="https://dev-forms.clickup.com/f/ad-73903/0NBP6S63C50MTULSKA",this.trackByName=Object(c.d)("name"),this.trackByStep=Object(c.d)("currentStep"),this.trackById=Object(c.d)("id"),this.showOptOut=!0,this.showIncentiveText=!1,this.destroy$=new m.a,this.tools=[{name:$localize`:@@cu-resource-center__tool-item_onboarding:Onboarding`,id:"onboarding",icon:"help-onboarding"},{name:$localize`:@@common_videos:Videos`,id:"videos",icon:"youtube-o"},{name:$localize`:@@cu-resource-center__tool-item_docs-faq:Docs/FAQ`,id:"docs",icon:"help-docs"},{name:$localize`:@@common_templates:Templates`,id:"templates",icon:"templates"},{name:$localize`:@@common_webinar:Webinar`,id:"webinar",icon:"webinar"},{name:$localize`:@@common_demo:Demo`,id:"demo",icon:"demo"},{name:$localize`:@@common_community:Community`,id:"community",icon:"community"}],this.tools$=this.store.pipe(Object(d.select)(T.getIsAdmin),Object(s.a)(e=>e?this.tools:this.tools.filter(e=>"templates"!==e.id))),this.supportTools=[{name:$localize`:@@cu-resource-center__tools-title_connect-with-clickup:Connect with ClickUp`,id:"chat",icon:"help-chat"},{name:$localize`:@@common_request-feature:Request a feature`,id:"feedback",icon:"help-lightbulb"},{name:$localize`:@@cu-resource-center__tools-title_submit-a-bug:Submit a Bug`,id:"bug",icon:"help-bug"}],this.supportTools$=this.store.pipe(Object(d.select)(T.getIsAdmin),Object(s.a)(e=>e?this.supportTools:this.supportTools.filter(e=>"templates"!==e.id))),this.toolsGuest=[{name:$localize`:@@common_videos:Videos`,id:"videos",icon:"youtube-o"},{name:$localize`:@@cu-resource-center__tool-item_docs-faq:Docs/FAQ`,id:"docs",icon:"help-docs"},{name:$localize`:@@common_webinar:Webinar`,id:"webinar",icon:"webinar"},{name:$localize`:@@common_demo:Demo`,id:"demo",icon:"demo"}],this.onboardingSteps=x.a,this.onboardingBonusAccepted=!1,this.UserRole=o.f,this.supportSteps=[],this.showSupportForm=!1,this.supportTools2=[{name:$localize`:@@cu-resource-center__setup-assistance:Set Up Assistance`,id:Xi.SetUpAssistance,icon:"support-setup"},{name:$localize`:sales assistance / support@@cu-resource-center__sales:Sales`,id:Xi.Sales,icon:"support-sales"},{name:$localize`:@@cu-resource-center__billing-question:Billing Question`,id:Xi.Billing,icon:"support-billing"},{name:$localize`:@@cu-resource-center__marketing-sponsorships:Marketing and Sponsorships`,id:Xi.Marketing,icon:"support-marketing"}],this.activeSupportStep=null,this.ResourceCenterSupportSteps=Xi,this.mainTitle="",this.showMainSubtitle=!0,this.mainSubtitle=$localize`:@@cu-resource-center__mtwmp:Let's make the world more productive!`,this.activeMarketingForm=null,this.MarketingForms=Hi,this.marketingTools=[{name:$localize`:@@cu-resource-center__sponsorships:Sponsorships`,id:Hi.Sponsorships,icon:"support-marketing"},{name:$localize`:@@cu-resource-center__guest-post:Guest Post`,id:Hi.GuestPost,icon:"support-guest"},{name:$localize`:@@cu-resource-center__tool-item_marketing-inquiry:Marketing Inquiry`,id:Hi.Inquiry,icon:"support-billing"}],this.showSetUpForm=!1,this.setUpTools=[{name:$localize`:@@common_templates:Templates`,id:"templates",icon:"templates"},{name:$localize`:@@cu-resource-center__tool-item_consultant:Work with a consultant`,id:"learnFromExpert",icon:"support-thumb"},{name:$localize`:@@common_webinar:Webinar`,id:"webinar",icon:"webinar"},{name:$localize`:@@common_demo:Demo`,id:"demo",icon:"demo"}],this.setUpTools$=this.store.pipe(Object(d.select)(T.getIsAdmin),Object(s.a)(e=>e?this.setUpTools:this.setUpTools.filter(e=>"templates"!==e.id))),this.activeBillingForm=null,this.BillingForms=Yi,this.billingTools=[{name:$localize`:@@cu-resource-center__unknown-charges:Unknown Charges`,id:Yi.UnknownCharges,icon:"support-unknown-charges"},{name:$localize`:@@cu-resource-center__tool-item_unknown-charges:Card Declined`,id:Yi.CardDeclined,icon:"support-card-declined"},{name:$localize`:@@cu-resource-center__tool-item_downgrade:Wish To Downgrade`,id:Yi.WishToDowngrade,icon:"support-downgrade"},{name:$localize`:@@common_other:Other`,id:Yi.Other,icon:"support-other"}],this.showSupportFormSource=null,this.onlyShowingAntiCancelation=!1,this.goToLocationToUseTemplatesText=$localize`:@@cu-resource-center__go-to-loc-to-use-templates:Go to a Space, Folder, or List to use Templates`}ngOnChanges(e){e.user&&(this.updateSteps(),this.updateIncentiveItems()),e.team&&this.checkNeedRemoveDowngradeOption()}ngOnInit(){this.checkNeedRemoveDowngradeOption(),"true"===this.helpers.getCookie("remote_work")&&(this.onboardingSteps=x.b),document.body.classList.add("cu-resource-center-open"),this.userName=/\s/.test(this.user.username)?this.user.username.split(" ")[0]:this.user.username,this.mainTitle=`Hi ${this.userName}!`,this.project$.pipe(Object(r.a)(this.destroy$)).subscribe(e=>{this.currentSpace=e}),this.updateIncentiveItems(),this.onboardingBonusAccepted=this.user.onboarding_bonus_claimed}ngAfterViewInit(){this.updateSteps(),this.initCannyChangeLogButton(),this.calculateContainerHeight(),this.checkShowOptOut()}ngOnDestroy(){document.body.classList.remove("cu-resource-center-open"),this.destroy$.next(),this.destroy$.unsubscribe()}action(e){switch(e){case"chat":this.activeItem=Vi.Support;break;case"community":this.openNewTab("https://www.facebook.com/groups/ClickUppers");break;case"docs":this.openNewTab("https://docs.clickup.com/en/");break;case"videos":this.openNewTab("https://www.youtube.com/channel/UCJC7egHqghye211WgTuXMAw/");break;case"feedback":this.initCannyFeedback();break;case"bug":this.showBugFrom();break;case"onboarding":this.showOnboarding();break;case"templates":this.openTemplateCenter(),this.exit(!1);break;case"demo":this.openNewTab("https://clickup.com/on-demand-demo");break;case"webinar":this.openNewTab("https://clickup.com/webinar")}}openIntercomMessenger(){this.window.nativeWindow.Intercom&&this.window.nativeWindow.Intercom("showNewMessage"),this.exit(!1)}openTemplateCenter(){this.store.dispatch(new l.Oe({open:!0,parent:this.team,parentType:S.d.Team}))}openNewTab(e){window.open(e,"_blank")}initCannyChangeLogButton(){this.window.nativeWindow.Canny&&Canny("initChangelog",{appID:"5a18c4e214ee3e073a74018b",position:"bottom",align:"left"})}initCannyFeedback(){this.openNewTab("https://feedback.clickup.com/feature-requests/create")}initCannyBug(){this.openNewTab("https://feedback.clickup.com/bugs/create")}showBugFrom(){this.bugFormIframe&&(this.bugFormIframe.nativeElement.src=this.bugformEmbedLink+"?email="+encodeURIComponent(this.user.email)+"&team_id="+this.team.id+"&user_id="+this.user.id+"&task_name="+encodeURIComponent("Form Submission - #"+b().utc().format()+" | "+this.user.email)+"&theme="+(this.user.dark_theme?"dark":"light")+"&plan_type="+this.getPlanType()+"&team_member_count="+this.team.member_count),this.activeItem=Vi.BugForm,this.onActiveItemChange.emit(Vi.BugForm)}showOnboarding(){this.activeItem=Vi.Onboarding,this.onActiveItemChange.emit(Vi.Onboarding)}showMain(){return this.mainTitle=$localize`:@@cu-resource-center__user-greetings:Hi ${this.userName}:username:!`,this.showMainSubtitle=!0,this.mainSubtitle=$localize`:@@cu-resource-center__mtwmp:Let's make the world more productive!`,this.showSupportForm=!1,this.showSetUpForm=!1,this.showSupportFormSource=null,this.activeBillingForm?(this.mainSubtitle=$localize`:@@cu-resource-center__lets-get-in-touch:Let's get in touch!`,this.activeBillingForm=null,this.activeSupportStep=Xi.Billing,void(this.activeItem=Vi.Support)):this.activeMarketingForm?(this.mainSubtitle="Get in touch",this.activeMarketingForm=null,this.activeSupportStep=Xi.Marketing,void(this.activeItem=Vi.Support)):this.activeSupportStep?(this.activeMarketingForm=null,this.activeSupportStep=null,void(this.activeItem=Vi.Support)):(this.bugFormIframe&&(this.bugFormIframe.nativeElement.src=""),this.activeItem=Vi.Main,this.onActiveItemChange.emit(Vi.Main),document.querySelector(".cu-resource-center__canny-widget").innerHTML="",void this.cdr.detectChanges())}calculateContainerHeight(){const e=document.querySelector(".cu-resource-center__tools"),t=document.querySelector(".cu-resource-center__help");this.containerHeight=e.offsetHeight+t.offsetHeight+20}videoClicked(e){e&&(this.store.dispatch(new l.Je(!0)),this.store.dispatch(new h.f({show:!0,id:e.wistiaId,miscData:"forOnboardingVideos"})),this.exit(!1),1===e.number&&this.amplitudeService.logEvent("start onboarding videos"))}changeTab(e){this.activeItem=e,this.onActiveItemChange.emit(e),this.cdr.detectChanges()}updateSteps(){const e=this.user.onboarding_video_steps||[];if(e){this.onboardingSteps.forEach(t=>{e.includes(t.number)&&(t.completed=!0)});for(let e=0;e<this.onboardingSteps.length;e++)if(!this.onboardingSteps[e].completed){this.currentStep=this.onboardingSteps[e].number;break}this.completed=this.currentStep===this.onboardingSteps.length-1,e.length===this.onboardingSteps.length&&this.amplitudeService.logEvent("completed onboarding videos")}}showOnboardingBubbles(){this.store.dispatch(new l.Lk(!0)),localStorage.setItem("showOnboardingBubbles","true")}checkShowOptOut(){"true"===localStorage.getItem("showOnboardingBubbles")&&(this.showOptOut=!1)}openCategoryModal(e,t=!1,i,a=!1){if(!i)return;const o=this.modalService.openComponent(u.a,this.injector,{name:"forceCreateCategory",cannotClose:t,preventExternalClick:!0,modifier:"cu-modal__create-new-space",dialogModifier:"cu-modal__dialog-space",bodyModifier:"cu-modal__body_no-min-height"});o.instance.projectId=i.id,o.instance.currentStage=u.b.Template,o.instance.onCreateNew.pipe(Object(r.a)(o.instance.destroy$)).subscribe(e=>{this.addCategory(e)})}addCategory(e){let t;this.modalService.close(),this.navService.addCategory(e,!0),t=e&&(e.subcategories||[]).length?{parentId:e.subcategories[0].id,parentType:p.e.Subcategory}:{parentId:e.id,parentType:p.e.Category},this.store.dispatch(new l.hc(t))}exit(e){const t=localStorage.getItem("seenIncentive"),i=localStorage.getItem("bonusClaimed");let a=!1;parseInt(this.user.date_joined,10)>15790464e5&&(a=!0),!e||this.user.onboarding_opt_out||t||this.completed||this.user.onboarding_video_steps&&this.user.onboarding_video_steps.length===this.onboardingSteps.length||!a||this.showIncentiveModal(),e&&(this.user.onboarding_bonus_claimed||this.onboardingBonusAccepted||i)&&!this.user.onboarding_opt_out&&t&&!this.completed&&this.showOnboardingBubbles(),this.onClose.emit()}updateIncentiveItems(){this.incentiveTemplate=localStorage.getItem("incentiveTemplate");const e=localStorage.getItem("bonusClaimed");this.incentiveTemplate&&this.user.onboarding_video_steps&&this.user.onboarding_video_steps.length===this.onboardingSteps.length&&"true"===e&&this.team.plan_id===n.f.FREE&&(this.user.onboarding_bonus_claimed||this.bonusClaimed||(this.store.dispatch(new l.ze(!0)),this.store.dispatch(new k.b({team_id:this.team.id,type:"credit"}))),this.showIncentiveText=!0,"1"===this.incentiveTemplate?(this.incentiveText=$localize`:@@cu-resource-center__earned-10-usd:You just earned $10 for your Workspace!`,this.incentiveSubtext=$localize`:@@cu-resource-center__earned-10-usd-subtext:This will be automatically applied towards future payments.`):"0"===this.incentiveTemplate&&(this.incentiveText=$localize`:@@cu-resource-center__earned-increased-storage:Your storage just increased to 1GB!`,this.incentiveSubtext=$localize`:@@cu-resource-center__earned-increased-storage-subtext:You’re now able to upload 10x as many attachments for free. You rock!`),document.body.setAttribute("data-user-bonus-claimed","true"))}showIncentiveModal(){if(this.team.role!==o.f.OWNER)return;if(this.team.role===o.f.OWNER&&(this.user.onboarding_bonus_claimed||this.onboardingBonusAccepted))return;localStorage.setItem("seenIncentive","true");const e=localStorage.getItem("incentiveTemplate"),t=e?parseInt(e,10):1;e||localStorage.setItem("incentiveTemplate",t.toString());const i=this.modalService.openComponent(w,this.injector,{preventExternalClick:!0,modifier:0===t?"cu-modal__onboarding-video-opt-out-data":"cu-modal__onboarding-video-opt-out-money"});i.instance.template=t,this.amplitudeService.logEvent("view incentive modal"),i.instance.onAccept.pipe(Object(r.a)(i.instance.destroy$)).subscribe(()=>{this.store.dispatch(new l.om({onboarding_incentive_accepted:!0})),this.onboardingBonusAccepted=!0,localStorage.setItem("bonusClaimed","true"),this.modalService.closeAll();const e=this.onboardingSteps.findIndex(e=>e.number===this.currentStep);0===e?this.videoClicked(this.onboardingSteps[0]):-1!==e&&this.videoClicked(this.onboardingSteps[e]),this.completed=this.currentStep===this.onboardingSteps.length-1,this.amplitudeService.logEvent("accept incentive modal")}),i.instance.onOptOut.pipe(Object(r.a)(i.instance.destroy$)).subscribe(()=>{this.showOnboardingBubbles(),this.store.dispatch(new l.om({onboarding_opt_out:!0})),this.modalService.closeAll(),this.amplitudeService.logEvent("skip incentive modal")})}routeToBilling(){this.router.navigate([this.team.id,"settings","billing"]),this.onClose.emit()}advanceSupportStep(e){e===Xi.Sales&&(this.mainSubtitle=$localize`:@@cu-resource-center__lets-get-in-touch:Let's get in touch!`),e===Xi.Marketing&&(this.mainSubtitle=$localize`:@@cu-resource-center__get-in-touch:Get in touch`),e===Xi.SetUpAssistance&&(this.mainSubtitle=$localize`:@@cu-resource-center__need-more-info-to-help:We need a little bit of info to help you get set up!`),e===Xi.Billing&&(this.mainSubtitle=$localize`:@@cu-resource-center__lets-get-in-touch:Let's get in touch!`),this.activeSupportStep=e,this.showSupportForm=!1}showMarketingForm(e){this.mainTitle=e===Hi.Sponsorships?$localize`:@@cu-resource-center__sponsorships:Sponsorships`:e===Hi.GuestPost?$localize`:@@cu-resource-center__guest-post:Guest Post`:$localize`:@@cu-resource-center__general-marketing-inquiry:General Marketing Inquiry`,this.showMainSubtitle=!1,this.activeMarketingForm=e,this.showSupportForm=!1}showBillingForm(e){this.mainTitle=e===Yi.UnknownCharges?$localize`:@@cu-resource-center__unknown-charges:Unknown Charges`:e===Yi.CardDeclined?$localize`:@@cu-resource-center__title_card-decline:Card Decline`:e===Yi.WishToDowngrade?$localize`:@@common_downgrade:Downgrade`:$localize`:@@common_other:Other`,this.activeBillingForm=e,this.showMainSubtitle=!1,this.showSupportForm=!1}setUpAssistanceClick(e){switch(e){case"learnFromExpert":this.openNewTab("https://clickup.com/consultants");break;case"templates":this.openTemplateCenter(),this.exit(!1);break;case"demo":this.openNewTab("https://clickup.com/on-demand-demo");break;case"webinar":this.openNewTab("https://clickup.com/webinar")}}showAntiCancelationFlow(){this.onlyShowingAntiCancelation=!0,this.activeItem=Vi.Support,this.advanceSupportStep(Xi.Billing),this.showBillingForm(Yi.WishToDowngrade),this.cdr.detectChanges()}onAction(e){switch(e){case"threeMonthsFree":this.store.dispatch(new k.e({team_id:this.team.id}));break;case"discount_15-25":this.store.dispatch(new k.d({team_id:this.team.id,percent:this.getDiscountPercent([15,20,25])}));break;case"discount_25-35":this.store.dispatch(new k.d({team_id:this.team.id,percent:this.getDiscountPercent([25,30,35])}))}}getDiscountPercent(e){return e[Math.floor(Math.random()*e.length)]}openDowngradeModal(){this.store.dispatch(new l.Ke({open:!0,downgradeTeamId:this.downgradeTeamId})),this.onClose.emit()}checkNeedRemoveDowngradeOption(){this.team&&this.team.anti_cancellation_flow&&(this.billingTools=this.billingTools.filter(e=>e.id!==Yi.WishToDowngrade))}getPlanType(){return this.team.free_trial&&this.team.free_trial.trial_end&&+this.team.free_trial.trial_end>Date.now()?"5. Trial":{[n.f.FREE]:"1. Free",[n.f.UNLIMITED]:"2. Unlimited",[n.f.BUSINESS]:"3. Business",[n.f.ENTERPRISE]:"4. Enterprise"}[this.team.plan_id]}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(O.a),a.Wb(a.h),a.Wb(I.a),a.Wb(d.Store),a.Wb(a.t),a.Wb(D.a),a.Wb(C.h),a.Wb(P.b),a.Wb(j.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-resource-center"]],viewQuery:function(e,t){if(1&e&&a.jd(Vt,1),2&e){let e;a.Qc(e=a.rc())&&(t.bugFormIframe=e.first)}},inputs:{user:"user",team:"team",bonusClaimed:"bonusClaimed"},outputs:{onClose:"onClose",onActiveItemChange:"onActiveItemChange"},features:[a.Gb],decls:52,vars:51,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w;return e=$localize`:@@cu-resource-center__tools-title_resource-center␟62d711913399cfc6d6d612d3419a67a841519f61␟8543097290566739385: Resource Center `,t=$localize`:@@cu-resource-center__tools-subtitle_resource-center␟27019402e82f1231fb77dfd46835389bd6a6099e␟3670894913492273092: Get started with these tools below or see ${"\ufffd#14\ufffd"}:START_LINK:what's new${"\ufffd/#14\ufffd"}:CLOSE_LINK:`,i=$localize`:@@cu-resource-center__tools-title_support␟adb230b62b0bea2ba89dc693dc2993d2765aedd1␟675513160690786384: Support `,a=$localize`:@@cu-resource-center__help-title_need-help␟ea95854186e18426a199050fe4692d1a261140bd␟6767253173076099935:Still need help?`,o=$localize`:@@cu-resource-center__onboarding-title_getting-started␟f374104404720977def94ad19d9d9f22e42a41a7␟1399809949593887746: Getting started with ClickUp `,c=$localize`:@@cu-resource-center__setup-assistance␟d5fcc16846a504e5c66047b64973405ed8fb096d␟474023541359045493:Set Up Assistance`,n=$localize`:sales assistance / support@@cu-resource-center__sales␟12cbfc1584df29b3f0c65220c4d13e79120490a1␟7197870580140559288:Sales`,s=$localize`:@@cu-resource-center__billing-question␟61be0620ffcbefd05efc91a8c2decadf08aa1196␟4576914200403463515:Billing Question`,r=$localize`:@@cu-resource-center__marketing-sponsorships␟7c02f00be4be0c9cabff470aed8af1c0f32a4ede␟3995643967726891345:Marketing and Sponsorships`,l=$localize`:@@common_back-1␟fb712c69bacc7e7b0fe7375fd8b62299a7d91109␟855067539143793388: BACK `,d=$localize`:@@cu-resource-center__earned-10-usd-1␟d9110e3c04668604265fa048a81f4146db58b5eb␟6071607984606753384: You just earned ${"\ufffd#2\ufffd"}:START_TAG_STRONG:$10${"\ufffd/#2\ufffd"}:CLOSE_TAG_STRONG: for your Workspace! `,u=$localize`:@@cu-resource-center__btn_claim-now␟6919323e9eb8d03b542b94a21325e78badefbcc8␟3829641679785366130: Claim now `,p=$localize`:@@cu-resource-center__onboarding-step-right-title_step-index-label␟8438d78f86e7b88387d8e3c7dd42f2efeb728d0b␟6100357230444643488:Step ${"\ufffd0\ufffd"}:INTERPOLATION:`,m=$localize`:@@cu-resource-center__onboarding-step-right-title_ceo-statement␟2f7e97cdd1c9b1864ca82ecf5b14803c002a3546␟3758682534911656568:Statement from our CEO`,h=$localize`:@@cu-resource-center__tools-title_connect-with-clickup␟633023638979dba0abb90d0f6d99b1795f2dcaba␟1780368810220903556: Connect with ClickUp `,b=$localize`:@@cu-resource-center__tools-subtitle_connect-with-clickup␟dabe9dfbd75d381e4fb5340eec56c8a9b81f5472␟1582856034091280165: Our world-class support teams are eager to help! `,g=$localize`:@@resource-center_chat-with-clickup-success-team␟d7ee099283369f0e8e38a50f96fb623d473b7476␟4255057897231387143: Or chat with ClickUp's support team `,f=$localize`:@@resource-center_request-setup-assistance␟8e9b95589670392446a8433e40894f3b53d63d71␟6033518315920397394: Request set up assistance `,_=$localize`:@@cu-resource-center__tools-title_issue-inquiry␟cfc53afd5d4f508cc141825f07d7a1eeb7e18c3a␟2416603639943195465: What seems to be the issue? `,v=$localize`:@@resource-center_chat-with-clickup-success-team␟4c5501039262ad555e7c86ead9107268f1654b9e␟485015257464506318: Or chat with ClickUp's support team `,y=$localize`:@@cu-resource-center__tools-title_spread-the-word␟92722591685b75a9f1de2e7227c81906594490fb␟4727233249914903721: How can we spread the word? `,w=$localize`:@@resource-center_chat-with-clickup-success-team␟4c5501039262ad555e7c86ead9107268f1654b9e␟485015257464506318: Or chat with ClickUp's support team `,[[1,"cu-resource-center"],[1,"cu-resource-center__header"],[1,"cu-resource-center__header-top"],["class","cu-resource-center__header-icon-logo",3,"icon",4,"ngIf"],["class","cu-resource-center__header-support-step",4,"ngIf"],["class","cu-resource-center__header-back",3,"click",4,"ngIf"],[1,"cu-resource-center__header-icon-close",3,"icon","click"],["class","cu-resource-center__header-bot",4,"ngIf"],[1,"cu-resource-center__main"],[1,"cu-resource-center__tools",3,"hidden"],[1,"cu-resource-center__tools-title"],e,[1,"cu-resource-center__tools-subtitle"],t,["data-canny-changelog",""],[1,"cu-resource-center__tools-grid"],["class","cu-resource-center__tools-grid-item","tooltipModifier","tooltip_near",3,"cuTooltip","cu-resource-center__toold-grid-item-inactive","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-resource-center__tools-title","cu-resource-center__tools-grid-support-title"],i,[1,"cu-resource-center__tools-grid","cu-resource-center__tools-grid-support"],["class","cu-resource-center__tools-grid-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-resource-center__help",3,"hidden","click"],[1,"cu-resource-center__help-title"],a,["icon","cu2-angle-right",1,"cu-resource-center__help-subtitle-arrow"],[1,"cu-resource-center__onboarding",3,"hidden"],[1,"cu-resource-center__onboarding-title"],o,["class","cu-resource-center__onboarding-step",3,"cu-resource-center__onboarding-step-complete","cu-resource-center__onboarding-step-last","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-resource-center__bug-form",3,"hidden"],["onwheel","","width","100%","height","100%",1,"clickup-embed","clickup-dynamic-height",2,"border","none",3,"src"],["bugFormIframe",""],[1,"cu-resource-center__canny",3,"hidden"],[1,"cu-resource-center__canny-title"],["data-canny","",1,"cu-resource-center__canny-widget"],["class","cu-resource-center__support",3,"hidden","height",4,"ngIf"],["class","cu-resource-center__contact padding-bottom",3,"height",4,"ngIf"],[1,"cu-resource-center__contact",3,"hidden"],[3,"team","source","downgradingTo","onBack","onOpenIntercom"],["supportSetUpAssistance",""],["supportSales",""],["supportBilling",""],["supportMarketing",""],[1,"cu-resource-center__header-icon-logo",3,"icon"],[1,"cu-resource-center__header-support-step"],[3,"ngSwitch"],[4,"ngSwitchCase"],c,n,s,r,[1,"cu-resource-center__header-back",3,"click"],[1,"cu-resource-center__header-back-icon",3,"icon"],[1,"cu-resource-center__header-back-text"],l,[1,"cu-resource-center__header-bot"],[1,"cu-resource-center__header-bot-title"],[1,"cu-resource-center__header-bot-title-name"],["class","cu-resource-center__header-bot-title-logo",3,"icon",4,"ngIf"],["class","cu-resource-center__header-bot-subtitle",4,"ngIf"],["class","cu-resource-center__header-incentive-complete-button",3,"click",4,"ngIf"],[1,"cu-resource-center__header-bot-title-logo",3,"icon"],[1,"cu-resource-center__header-bot-subtitle"],d,[1,"cu-resource-center__header-incentive-complete-button",3,"click"],u,["tooltipModifier","tooltip_near",1,"cu-resource-center__tools-grid-item",3,"cuTooltip","click"],[3,"icon"],[1,"cu-resource-center__tools-grid-item-name"],[1,"cu-resource-center__tools-grid-item",3,"click"],[1,"cu-resource-center__onboarding-step",3,"click"],[1,"cu-resource-center__onboarding-step-left"],["class","cu-resource-center__onboarding-step-left-number",4,"ngIf"],["icon","check-o-green",4,"ngIf"],["class","cu-resource-center__onboarding-step-left-line",4,"ngIf"],[1,"cu-resource-center__onboarding-step-right"],["class","cu-resource-center__onboarding-step-right-title",4,"ngIf"],[1,"cu-resource-center__onboarding-step-right-subtitle"],["class","cu-resource-center__onboarding-step-right-video",4,"ngIf"],[1,"cu-resource-center__onboarding-step-left-number"],["icon","check-o-green"],[1,"cu-resource-center__onboarding-step-left-line"],[1,"cu-resource-center__onboarding-step-right-title"],p,m,[1,"cu-resource-center__onboarding-step-right-video"],["icon","play-circle-w"],[1,"cu-resource-center__onboarding-step-right-video-img"],[1,"cu-resource-center__support",3,"hidden"],["class","cu-resource-center__support-main",4,"ngIf"],["class","cu-resource-center__support-steps",3,"anti-cancelation",4,"ngIf"],[1,"cu-resource-center__support-main"],h,[1,"cu-resource-center__tools-subtitle","smaller"],b,[1,"cu-resource-center__tools-grid","support"],["class","cu-resource-center__tools-grid-item half",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-resource-center__tools-bot-link",3,"click",4,"ngIf"],[1,"cu-resource-center__tools-grid-item","half",3,"click"],[1,"cu-resource-center__tools-grid-item-icon","icon","no-stroke",3,"icon"],[1,"cu-resource-center__tools-bot-link",3,"click"],[1,"cu-resource-center__tools-bot-link-text"],g,[1,"cu-resource-center__support-steps"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"cu-resource-center__contact","padding-bottom"],[3,"team","downgradingTo","onBack"],["class","cu-resource-center__tools-grid marketing",4,"ngIf"],[1,"cu-resource-center__tools-grid","marketing"],["class","cu-resource-center__tools-grid-item half",3,"cu-resource-center__toold-grid-item-inactive","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-resource-center__tools-grid-item-name","max-width"],f,[3,"team","downgradingTo"],["class","cu-resource-center__tools-title",4,"ngIf"],["class","cu-resource-center__tools-grid billing",4,"ngIf"],[3,"team","downgradingTo",4,"ngIf"],[3,"team","user","downgradingTo","onClose","onAction","onDowngrade",4,"ngIf"],_,[1,"cu-resource-center__tools-grid","billing"],[3,"team","user","downgradingTo","onClose","onAction","onDowngrade"],v,y,w]},template:function(e,t){1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.cc(2,"div",2),a.bd(3,Xt,1,1,"div",3),a.bd(4,Kt,6,5,"div",4),a.bd(5,Jt,4,1,"div",5),a.cc(6,"div",6),a.qc("click",function(){return t.exit(!0)}),a.bc(),a.bc(),a.bd(7,oi,8,7,"div",7),a.bc(),a.cc(8,"div",8),a.cc(9,"div",9),a.cc(10,"div",10),a.gc(11,11),a.bc(),a.cc(12,"div",12),a.mc(13,13),a.Xb(14,"a",14),a.jc(),a.bc(),a.cc(15,"div",15),a.bd(16,ci,4,8,"div",16),a.vc(17,"async"),a.bc(),a.cc(18,"div",17),a.gc(19,18),a.bc(),a.cc(20,"div",19),a.bd(21,ni,4,5,"div",20),a.vc(22,"async"),a.bc(),a.bc(),a.cc(23,"div",21),a.qc("click",function(){return t.activeItem=t.ResourceCenterActiveItem.Support}),a.cc(24,"div",22),a.ac(25),a.gc(26,23),a.Zb(),a.Xb(27,"div",24),a.bc(),a.bc(),a.cc(28,"div",25),a.cc(29,"div",26),a.gc(30,27),a.bc(),a.bd(31,mi,11,11,"div",28),a.bc(),a.cc(32,"div",29),a.Xb(33,"iframe",30,31),a.bc(),a.cc(35,"div",32),a.cc(36,"div",33),a.dd(37),a.bc(),a.Xb(38,"div",34),a.bc(),a.bd(39,ki,3,5,"div",35),a.bd(40,xi,3,6,"div",36),a.cc(41,"div",37),a.cc(42,"cu-resource-center-form",38),a.qc("onBack",function(){return t.showSupportForm=!1,t.showSupportFormSource=null})("onOpenIntercom",function(){return t.openIntercomMessenger()}),a.vc(43,"teamPlanToString"),a.bc(),a.bc(),a.bc(),a.bc(),a.bd(44,Oi,2,2,"ng-template",null,39,a.cd),a.bd(46,Ii,2,4,"ng-template",null,40,a.cd),a.bd(48,Ai,7,7,"ng-template",null,41,a.cd),a.bd(50,Wi,6,6,"ng-template",null,42,a.cd)),2&e&&(a.Ob("cu-resource-center__expand",t.activeItem===t.ResourceCenterActiveItem.BugForm)("cu-resource-center__support-active",t.activeSupportStep)("cu-resource-center__incentive-complete",t.showIncentiveText),a.Ib(1),a.Ob("cu-resource-center__header_bug-form-visible",t.activeItem===t.ResourceCenterActiveItem.BugForm),a.Ib(1),a.Ob("downgrade",t.activeBillingForm===t.BillingForms.WishToDowngrade)("no-back",t.onlyShowingAntiCancelation),a.Ib(1),a.Dc("ngIf",t.activeItem===t.ResourceCenterActiveItem.Main),a.Ib(1),a.Dc("ngIf",t.activeSupportStep&&!t.onlyShowingAntiCancelation),a.Ib(1),a.Dc("ngIf",t.activeItem!==t.ResourceCenterActiveItem.Main),a.Ib(1),a.Dc("icon","cu2-times"),a.Ib(1),a.Dc("ngIf",t.activeItem!==t.ResourceCenterActiveItem.BugForm),a.Ib(1),a.Ob("cu-resource-center__main_bug-form-visible",t.activeItem===t.ResourceCenterActiveItem.BugForm),a.Ib(1),a.Dc("hidden",t.activeItem!==t.ResourceCenterActiveItem.Main),a.Ib(7),a.Dc("ngForOf",t.team.role!==t.UserRole.GUEST?a.wc(17,45,t.tools$):t.toolsGuest)("ngForTrackBy",t.trackByName),a.Ib(5),a.Dc("ngForOf",a.wc(22,47,t.supportTools$))("ngForTrackBy",t.trackByName),a.Ib(2),a.Dc("hidden",t.activeItem!==t.ResourceCenterActiveItem.Main),a.Ib(5),a.ad("height",t.containerHeight,"px"),a.Dc("hidden",t.activeItem!==t.ResourceCenterActiveItem.Onboarding),a.Ib(3),a.Dc("ngForOf",t.onboardingSteps)("ngForTrackBy",t.trackByStep),a.Ib(1),a.ad("height",t.containerHeight+100,"px"),a.Dc("hidden",t.activeItem!==t.ResourceCenterActiveItem.BugForm),a.Ib(3),a.ad("height",t.containerHeight,"px"),a.Dc("hidden",t.activeItem!==t.ResourceCenterActiveItem.Canny),a.Ib(2),a.ed(t.cannyHeader),a.Ib(2),a.Dc("ngIf",!t.showSupportForm&&!t.showSetUpForm),a.Ib(1),a.Dc("ngIf",t.showSetUpForm),a.Ib(1),a.ad("height",t.containerHeight,"px"),a.Dc("hidden",!t.showSupportForm),a.Ib(1),a.Dc("team",t.team)("source",t.showSupportFormSource)("downgradingTo",a.wc(43,49,t.downgradeTeamId)))},directives:[g.q,$.a,g.p,R,g.u,g.v,G.a,g.x,W,te,oe,se,bt,Tt,Ct,At,Bt],pipes:[g.b,Wt.a],styles:['.cu-resource-center{font-family:Gotham Pro,Proxima Nova,arial,serif;display:flex;flex-direction:column;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center{font-family:var(--global-font-support)}}.cu-resource-center__expand{width:450px}.cu-resource-center.cu-resource-center__incentive-complete .cu-resource-center__header{background:#67cb48}.cu-resource-center.cu-resource-center__incentive-complete .cu-resource-center__onboarding,.cu-resource-center.cu-resource-center__incentive-complete .cu-resource-center__tools{border-color:transparent}.cu-resource-center.cu-resource-center__support-active .cu-resource-center__header-back{position:relative;top:10px}.cu-resource-center__header{background:linear-gradient(90deg,var(--theme-main-color) 0,var(--theme-main-color-dark));width:100%;padding:30px 30px 80px}.cu-resource-center__header_bug-form-visible{padding-bottom:10px}.cu-resource-center__header-top{display:flex;justify-content:space-between;margin-bottom:25px}.cu-resource-center__header-top.downgrade .cu-resource-center__header-icon-close{margin-left:auto}.cu-resource-center__header-top.no-back .cu-resource-center__header-back{display:none}.cu-resource-center__header-icon-logo{height:18px;width:70px}.cu-resource-center__header-icon-close{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:16px;height:16px;cursor:pointer;margin-top:2px;fill:#fff}.cu-resource-center__header-icon-close.dark{fill:#b9bec7}.dark-theme .cu-resource-center__header-icon-close.dark{fill:#fff}.cu-resource-center__header-icon-close:hover{transform:rotate(180deg)}.cu-resource-center__header-bot-title{display:flex;width:100%;align-items:center;margin-bottom:15px}.cu-resource-center__header-bot-title.no-subtitle{margin-bottom:-10px;margin-top:45px}.cu-resource-center__header-bot-title.no-subtitle .cu-resource-center__header-bot-title-name{white-space:normal;overflow:visible;text-overflow:clip;font-size:28px}.cu-resource-center__header-bot-title-name{font-weight:300;font-size:30px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#fff;margin-right:10px;text-transform:capitalize}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__header-bot-title-name{font-family:var(--global-font-support)}}.cu-resource-center__header-bot-title-logo{height:25px;width:25px;fill:#fff}.cu-resource-center__header-bot-subtitle{font-weight:300;font-size:14px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;color:#fff;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__header-bot-subtitle{font-family:var(--global-font-support)}}.cu-resource-center__header-bot-subtitle strong{color:#fff!important}.cu-resource-center__header-back{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;cursor:pointer;height:18px}.cu-resource-center__header-back:hover{transform:scale(1.05)}.cu-resource-center__header-back-icon{width:17px;height:17px;fill:#fff;margin-right:5px}.cu-resource-center__header-back-text{font-weight:500;font-size:12px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__header-back-text{font-family:var(--global-font-support)}}.cu-resource-center__header-incentive-complete-button{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;font-weight:500;font-size:14px;line-height:14px;font-family:Gotham Pro,Proxima Nova,arial,serif;margin-top:15px;width:100px;height:30px;background-color:#50de50;border-radius:4px;cursor:pointer;display:flex;justify-content:center;align-items:center;color:#fff;box-shadow:0 5px 10px 0 rgba(0,0,0,.1)}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__header-incentive-complete-button{font-family:var(--global-font-support)}}.cu-resource-center__header-incentive-complete-button:hover{transform:scale(1.05)}.cu-resource-center__header-support-step{font-weight:500;font-size:11px;line-height:1;color:#fff;position:absolute;top:20px;left:30px}.cu-resource-center__main{background-color:#fff;padding:0 15px 20px}.cu-resource-center__main_bug-form-visible{padding:0 0 20px}.dark-theme .cu-resource-center__main{background-color:#2b343b}.cu-resource-center__canny-active .cu-resource-center__main{background-color:#fff}.cu-resource-center__tools{font-family:Gotham Pro,Proxima Nova,arial,serif;border-radius:5px;padding:20px 20px 5px;box-shadow:0 1px 5px 0 rgba(0,0,0,.15);margin-top:-50px;background-color:#fff;margin-bottom:20px;border-top:2px solid var(--theme-main-color)}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__tools{font-family:var(--global-font-support)}}.dark-theme .cu-resource-center__tools{background-color:#384047}.cu-resource-center__tools-title{font-weight:500;font-size:18px;line-height:1;padding-bottom:10px}.cu-resource-center__tools-title.cu-resource-center__tools-grid-support{margin-top:10px}.cu-resource-center__tools-title.smaller{font-size:17px;padding-bottom:15px}.cu-resource-center__tools-subtitle{font-weight:300;font-size:14px;line-height:1.4;color:#818193;margin-bottom:25px}.cu-resource-center__tools-subtitle.smaller{font-size:11.5px}.cu-resource-center__tools-subtitle a{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;font-weight:500;text-decoration:underline;color:#818193;cursor:pointer}.dark-theme .cu-resource-center__tools-subtitle a{color:#d5d6d7}.cu-resource-center__tools-subtitle a:hover{color:var(--theme-main-color)}.dark-theme .cu-resource-center__tools-subtitle{color:#d5d6d7}.cu-resource-center__tools-grid{display:flex;flex-wrap:wrap}.cu-resource-center__tools-grid.billing,.cu-resource-center__tools-grid.cu-resource-center__tools-grid-support,.cu-resource-center__tools-grid.marketing{margin-top:10px}.cu-resource-center__tools-grid-item{display:flex;flex-direction:column;align-items:center;width:33.333333333%;margin-bottom:20px;cursor:pointer;text-align:center}.cu-resource-center__tools-grid-item.half{width:50%}.cu-resource-center__tools-grid-item.cu-resource-center__toold-grid-item-inactive .icon{opacity:.5;fill:#b9bec7}.cu-resource-center__tools-grid-item.cu-resource-center__toold-grid-item-inactive .cu-resource-center__tools-grid-item-name,.cu-resource-center__tools-grid-item.cu-resource-center__toold-grid-item-inactive:hover .cu-resource-center__tools-grid-item-name{color:#b9bec7}.cu-resource-center__tools-grid-item:hover .cu-resource-center__tools-grid-item-icon{transform:scale(1.1)}.cu-resource-center__tools-grid-item:hover .cu-resource-center__tools-grid-item-name{color:var(--theme-main-color)}.cu-resource-center__tools-grid-item-icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:var(--theme-main-color);stroke:var(--theme-main-color);height:40px;width:40px;margin-bottom:10px}.cu-resource-center__tools-grid-item-icon.templates{padding:4px}.cu-resource-center__tools-grid-item-icon.community{width:45px;height:45px}.cu-resource-center__tools-grid-item-icon.community,.cu-resource-center__tools-grid-item-icon.demo,.cu-resource-center__tools-grid-item-icon.no-stroke,.cu-resource-center__tools-grid-item-icon.templates,.cu-resource-center__tools-grid-item-icon.webinar{stroke:none}.cu-resource-center__tools-grid-item-icon.white-stroke{stroke:#fff}.dark-theme .cu-resource-center__tools-grid-item-icon.white-stroke{stroke:#384047}.cu-resource-center__tools-grid-item-name{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:300;font-size:13px;line-height:1.2;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#818193}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__tools-grid-item-name{font-family:var(--global-font-support)}}.dark-theme .cu-resource-center__tools-grid-item-name{color:#d5d6d7}.cu-resource-center__tools-grid-item-name.max-width{max-width:90px}.cu-resource-center__tools .Canny_Badge{background-color:#fd71af;top:-1px;right:-7px;padding:2px;border:1px solid #fd71af}.cu-resource-center__tools-bot-link{width:100%;display:flex;justify-content:center}.cu-resource-center__tools-bot-link-text{font-weight:400;font-size:14px;line-height:1;cursor:pointer;color:var(--theme-main-color);border-bottom:1px dashed var(--theme-main-color);padding-bottom:2px}.cu-resource-center__help{font-family:Gotham Pro,Proxima Nova,arial,serif;transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:5px;padding:25px 20px;box-shadow:0 1px 5px 0 rgba(0,0,0,.15);background-color:#fff;border-top:2px solid var(--theme-main-color);cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__help{font-family:var(--global-font-support)}}.cu-resource-center__help:hover{background-color:#fafbfc}.dark-theme .cu-resource-center__help:hover{background-color:#1e272e}.dark-theme .cu-resource-center__help{background-color:#384047}.cu-resource-center__help-title{font-weight:500;font-size:18px;line-height:1;display:flex;align-items:center}.cu-resource-center__help-subtitle{display:flex;align-items:center}.cu-resource-center__help-subtitle-text{font-weight:300;font-size:13px;line-height:1.2;color:#818193}.dark-theme .cu-resource-center__help-subtitle-text{color:#d5d6d7}.cu-resource-center__help-subtitle-arrow{height:13px;width:13px;margin-left:5px;fill:var(--theme-main-color)}.cu-resource-center__help-button{font-weight:500;font-size:14px;line-height:1;width:100%;height:50px;margin-bottom:15px;border-radius:3px}.cu-resource-center__help-phone{display:flex;justify-content:center;align-items:center}.cu-resource-center__help-phone .icon{height:15px;width:15px;fill:var(--theme-main-color);margin-right:7px}.cu-resource-center__help-phone-number{font-weight:500;font-size:15px;line-height:1;color:var(--theme-main-color)}.cu-resource-center__contact{overflow:auto;margin-top:-50px;border-radius:5px;padding:20px 20px 0;box-shadow:0 1px 5px 0 rgba(0,0,0,.15);background-color:#fff;border-top:2px solid var(--theme-main-color)}.dark-theme .cu-resource-center__contact{background-color:#384047}.cu-resource-center__contact.padding-bottom{padding-bottom:20px}.cu-resource-center__pendo{margin-top:-50px;border-radius:5px;padding:20px;box-shadow:0 1px 5px 0 rgba(0,0,0,.15);background-color:#fff;border-top:2px solid var(--theme-main-color);overflow:auto}.cu-resource-center__pendo-container{width:100%;display:flex;flex-direction:column;height:100%}.cu-resource-center__pendo-title{font-weight:500;font-size:22px;line-height:1;width:100%;padding-bottom:15px}.cu-resource-center__pendo-items{display:flex;width:100%;flex-direction:column;flex-grow:1;padding-bottom:20px}.cu-resource-center__pendo-item{padding:10px 0;display:flex;align-items:center;cursor:pointer;border-bottom:1px solid #e9ebf0}.dark-theme .cu-resource-center__pendo-item{border-color:#1e272e}.cu-resource-center__pendo-item .icon{height:15px;width:15px;fill:#67cb48}.cu-resource-center__pendo-item-progress{max-width:15px;width:15px}.cu-resource-center__pendo-item-name{font-weight:400;font-size:14px;line-height:1.2;font-family:Gotham Pro,Proxima Nova,arial,serif;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;padding-left:5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__pendo-item-name{font-family:var(--global-font-support)}}.cu-resource-center__pendo-item:hover .cu-resource-center__pendo-item-name{color:var(--theme-main-color)}.cu-resource-center__pendo-progress{width:100%}.cu-resource-center__pendo-progress-bar{width:100%;height:5px;position:relative;background-color:#f2f2f2;margin-bottom:5px}.cu-resource-center__pendo-progress-bar-inner{background-color:#67cb48;height:100%;position:absolute;left:0;top:0;max-width:100%}.dark-theme .cu-resource-center__pendo{background-color:#384047}.cu-resource-center__onboarding{margin-top:-50px;border-radius:5px;padding:20px 20px 0;box-shadow:0 1px 5px 0 rgba(0,0,0,.15);background-color:#fff;border-top:2px solid var(--theme-main-color);overflow:auto}.dark-theme .cu-resource-center__onboarding{background-color:#384047}.cu-resource-center__onboarding-title{font-weight:500;font-size:20px;line-height:1;width:100%;padding-bottom:25px}.cu-resource-center__onboarding-step{display:flex;justify-content:space-between;margin-bottom:15px;cursor:pointer}.cu-resource-center__onboarding-step-no-click{pointer-events:none}.cu-resource-center__onboarding-step-last{margin-bottom:0}.cu-resource-center__onboarding-step-complete .cu-resource-center__onboarding-step-left{border:none}.cu-resource-center__onboarding-step-left{min-width:36px;margin-right:15px;display:flex;flex-direction:column}.cu-resource-center__onboarding-step-left-number{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:20px;line-height:1;color:var(--theme-main-color);margin-bottom:10px;border-radius:50%;border:2px solid var(--theme-main-color);min-height:36px;min-width:36px;display:flex;justify-content:center;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__onboarding-step-left-number{font-family:var(--global-font-support)}}.cu-resource-center__onboarding-step-left-line{flex-grow:1;width:2px;background-color:#7c828d;height:100%;display:flex;align-self:center}.cu-resource-center__onboarding-step-left .icon{height:36px;width:36px;max-width:36px;min-width:36px;margin-bottom:10px}.cu-resource-center__onboarding-step-right{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__onboarding-step-right{font-family:var(--global-font-support)}}.cu-resource-center__onboarding-step-right-title{font-weight:500;font-size:14px;line-height:1;padding-bottom:6px}.cu-resource-center__onboarding-step-right-subtitle{font-weight:400;font-size:12px;line-height:1;padding-bottom:15px}.cu-resource-center__onboarding-step-right-video{width:100%;height:130px;position:relative;margin-bottom:15px;cursor:pointer}.cu-resource-center__onboarding-step-right-video:hover:after{background-color:rgba(0,0,0,.8)}.cu-resource-center__onboarding-step-right-video:after{transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6)}.cu-resource-center__onboarding-step-right-video .icon{position:absolute;left:0;right:0;margin:auto;top:0;bottom:0;width:45px;height:45px;z-index:2}.cu-resource-center__onboarding-step-right-video-img{height:100%;background:50%/cover no-repeat}.cu-resource-center__onboarding-opt-out{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;text-decoration:underline;font-style:italic;color:#7c828d;padding-top:3px;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__onboarding-opt-out{font-family:var(--global-font-support)}}.cu-resource-center__onboarding-opt-out:hover{color:var(--theme-main-color)}.dark-theme .cu-resource-center__onboarding-opt-out{color:#d5d6d7}.cu-resource-center__onboarding-incentive-complete{margin-top:10px;padding-top:20px;border-top:1px solid #e9ebf0}.dark-theme .cu-resource-center__onboarding-incentive-complete{border-color:#1e272e}.cu-resource-center__onboarding-incentive-complete-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;text-align:center;padding-bottom:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__onboarding-incentive-complete-text{font-family:var(--global-font-support)}}.cu-resource-center__onboarding-incentive-complete-subtext{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:15px;text-align:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__onboarding-incentive-complete-subtext{font-family:var(--global-font-support)}}.cu-resource-center__canny{margin-top:-50px;border-radius:5px;padding:20px;box-shadow:0 1px 5px 0 rgba(0,0,0,.15);background-color:#fff;border-top:2px solid var(--theme-main-color);overflow:auto}.cu-resource-center__canny-title{font-weight:500;font-size:18px;line-height:1;width:100%;padding-bottom:5px;color:#343434}.cu-resource-center__bug-form{border-radius:5px;padding:0}.cu-resource-center__bug-form-title{font-weight:500;font-size:18px;line-height:1;width:100%;padding-bottom:5px;color:#343434}.cu-resource-center__support{overflow:auto;margin-top:-50px;border-radius:5px;padding:25px 20px;box-shadow:0 1px 5px 0 rgba(0,0,0,.15);background-color:#fff;border-top:2px solid var(--theme-main-color)}.dark-theme .cu-resource-center__support{background-color:#384047}.cu-resource-center__support-steps{min-height:calc(100% - 10px)}.cu-resource-center__support-steps.anti-cancelation{display:flex;flex-direction:column;align-items:stretch}.cu-resource-center__support-form{font-family:Gotham Pro,Proxima Nova,arial,serif;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__support-form{font-family:var(--global-font-support)}}.cu-resource-center__support-form-row{width:100%;margin-bottom:30px}.cu-resource-center__support-form-row.error .cu-resource-center__support-form-label{color:#d16464}.cu-resource-center__support-form-row.error .cu-resource-center__support-form-input{border-color:#d16464}.cu-resource-center__support-form-label{font-weight:500;font-size:13px;line-height:1.2;color:#000;padding-bottom:10px}.cu-resource-center__support-form-label.smaller{font-size:11px}.dark-theme .cu-resource-center__support-form-label{color:#d5d6d7}.cu-resource-center__support-form-label span{color:#d16464}.cu-resource-center__support-form-label-error{font-weight:400;font-size:11px;padding:7px 0 0;color:#d16464;font-style:italic}.cu-resource-center__support-form-input{font-weight:400;font-size:13px;line-height:1;border-radius:4px;border:1px solid #e9ebf0;height:40px;padding:0 12px;color:#000;box-shadow:none!important;background-color:transparent;width:100%}.dark-theme .cu-resource-center__support-form-input{color:#d5d6d7;border-color:#1e272e}.cu-resource-center__support-form-input:-ms-input-placeholder{font-weight:500;opacity:.7}.cu-resource-center__support-form-input::placeholder{font-weight:500;opacity:.7}.cu-resource-center__support-form-dropdown{border-radius:4px;border:1px solid #e9ebf0;height:40px;padding:0 12px;color:#000;box-shadow:none!important;background-color:transparent;width:100%;display:flex;align-items:center}.cu-resource-center__support-form-dropdown div{font-weight:400;font-size:13px;line-height:1}.dark-theme .cu-resource-center__support-form-dropdown{color:#d5d6d7;border-color:#1e272e}.cu-resource-center__support-form-text-area{font-weight:400;font-size:13px;line-height:1;border-radius:4px;border:1px solid #e9ebf0;height:120px;padding:15px 12px;color:#000;box-shadow:none!important;background-color:transparent;width:100%;resize:none}.dark-theme .cu-resource-center__support-form-text-area{color:#d5d6d7;border-color:#1e272e}.cu-resource-center__support-form-text-area:-ms-input-placeholder{opacity:.7}.cu-resource-center__support-form-text-area::placeholder{opacity:.7}.cu-resource-center__support-form-checkbox{margin-bottom:10px}.cu-resource-center__support-form-checkbox label{cursor:pointer;position:relative}.cu-resource-center__support-form-checkbox label:hover span:before{border-color:var(--theme-main-color)}.cu-resource-center__support-form-checkbox input{display:none}.cu-resource-center__support-form-checkbox input:checked+span:after{background-color:var(--theme-main-color)}.cu-resource-center__support-form-checkbox span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#292d34;opacity:.8;padding-left:30px;position:relative;height:18px;display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__support-form-checkbox span{font-family:var(--global-font-support)}}.dark-theme .cu-resource-center__support-form-checkbox span{color:#d5d6d7}.cu-resource-center__support-form-checkbox span:before{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";width:18px;height:18px;border-radius:3px;border:1px solid #b9bec7;position:absolute;display:block;left:0;top:0;background-color:#fff}.cu-resource-center__support-form-checkbox span:before:hover{transition:none}.dark-theme .cu-resource-center__support-form-checkbox span:before{background-color:#384047;border-color:#1e272e}.cu-resource-center__support-form-checkbox span:after{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";width:10px;height:10px;border-radius:3px;position:absolute;display:block;left:4px;top:0;bottom:0;margin:auto 0}.cu-resource-center__support-form-checkbox span:after:hover{transition:none}.cu-resource-center__support-form-radio{display:flex;margin-top:4px}.cu-resource-center__support-form-radio .cu-radio{margin-right:20px}.cu-resource-center__support-form-radio .cu-radio__label{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;padding-top:2px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-resource-center__support-form-radio .cu-radio__label{font-family:var(--global-font-support)}}.cu-resource-center__support-form-drop{width:100%;height:120px;border:1px dashed #e9ebf0;border-radius:4px;display:flex;align-items:center;justify-content:center;position:relative}.dark-theme .cu-resource-center__support-form-drop{border-color:#1e272e}.cu-resource-center__support-form-drop-text{font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;color:#b9bec7}.dark-theme .cu-resource-center__support-form-drop-text{color:#d5d6d7}.cu-resource-center__support-form-drop.cu-state-drag-over .cu-resource-center__support-form-drop-over{opacity:1}.cu-resource-center__support-form-drop-over{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;font-weight:500;font-size:13px;line-height:1;opacity:0;pointer-events:none;position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--theme-main-color);display:flex;align-items:center;justify-content:center;border-radius:4px;color:#fff}.cu-resource-center__support-form-uploader .cu-uploader{padding:10px 0;min-height:0}.cu-resource-center__support-form-uploader .cu-uploader__header{display:none}.cu-resource-center__support-form-submit{transition:backgroun-color .2s cubic-bezier(.785,.135,.15,.86) 0s;font-weight:500;font-size:14px;line-height:1;width:100%;height:55px;display:flex;justify-content:center;align-items:center;background-color:var(--theme-main-color);cursor:pointer;color:#fff;border-radius:5px;border:none}.cu-resource-center__support-form-submit:hover{background-color:var(--theme-main-color-dark)}.cu-resource-center__support-form-submit:disabled{opacity:.7;cursor:not-allowed}.cu-resource-center__support-form-faq{margin-top:5px}.cu-resource-center__support-form-faq-item{display:flex;margin-bottom:30px}.cu-resource-center__support-form-faq-item-left{margin-right:8px}.cu-resource-center__support-form-faq-item-left .icon{height:24px;width:24px;fill:#b9bec7}.cu-resource-center__support-form-faq-item-right-title{font-weight:500;font-size:12px;line-height:1.5;color:#292d34;padding-bottom:10px}.dark-theme .cu-resource-center__support-form-faq-item-right-title{color:#abaeb0}.cu-resource-center__support-form-faq-item-right-subtitle{font-weight:400;font-size:12px;line-height:1.5;color:#292d34}.dark-theme .cu-resource-center__support-form-faq-item-right-subtitle{color:#d5d6d7}.cu-resource-center__support-form-faq-item-right-subtitle-divider{width:16px;height:1px;background-color:#b9bec7;margin:10px 0}.cu-resource-center__support-form-faq .cu-resource-center__tools-bot-link{margin-bottom:38px}._pendo-step-container-size[data-vertical-alignment=Centered]{top:50%!important;transform:translateY(-50%)!important;height:auto!important;margin-top:0!important}#canny-changelog-iframe{transform:translate(85px,-58%)}'],encapsulation:2,changeDetection:0}),e})()},oHZf:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a=i("ofXK"),o=i("a5Nn"),c=i("dzSB"),n=i("EDFS"),s=i("y71m"),r=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=r.Ub({type:e}),e.\u0275inj=r.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.d,s.a]]}),e})()},oIw3:function(e,t,i){"use strict";i.d(t,"a",function(){return R});var a=i("ofXK"),o=i("l7P3"),c=i("9jGm"),n=i("GyhO"),s=i("LRne"),r=i("Cfvw"),l=i("EY2u"),d=i("zp1y"),u=i("5+tZ"),p=i("eIep"),m=i("JIr8"),h=i("bOwZ"),b=i("4F4K"),g=i("BeL+"),f=i("m2rH"),_=i("G9Ob"),v=i("2eDp"),y=i("Gj5t"),w=i("c3rA"),k=i("fXoL"),x=i("2p4s"),T=i("tk/3"),S=i("irDL");let j=(()=>{class e{constructor(e,t){this.http=e,this.errorHandler=t,this.apiUrl=x.a.apiUrl,this.apiUrlV2=x.a.apiUrlV2}getActivityData(e,t,i,a,o,c,n,s=!0){const r={team_id:e,userid:o,parent:t,start_hist_time:i&&i.start_hist_time,start_hist_id:i&&i.start_hist_id,filters:a,exclude_multiple_lists:a&&a.exclude_multiple_lists,task_filters:n};return c&&(r.start_hist_id=c.start_id,r.start_hist_time=c.start_time,r.end_hist_id=c.end_id,r.end_hist_time=c.end_time,r.count=c.count,r.get_collapsed=!0,r.limit=20),this.http.post(this.apiUrl+"/activity",r).pipe(this.errorHandler.http(s,!1))}}return e.\u0275fac=function(t){return new(t||e)(k.nc(T.b),k.nc(S.a))},e.\u0275prov=k.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),O=(()=>{class e{constructor(e,t,i){this.action$=e,this.store=t,this.activityService=i,this.loadActivityData$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(h.a),Object(d.a)(this.store.select(w.getSelectedTeamId),this.store.select(v.c)),Object(u.a)(([e,t,i])=>Object(n.a)(Object(s.a)(h.d({key:e.key,loading:!0})),this.activityService.getActivityData(t,e.request.parent,e.request.paging,{search:e.request.search,fields:e.request.fields||_.b,users:e.request.userIds,subtasks:e.request.subtasks,show_closed:e.request.show_closed,exclude_multiple_lists:e.request.exclude_multiple_lists,archived:e.request.archived,locations:e.request.locations,assigned_comment_users:e.request.assignedCommentUserIds},e.request.userId,e.request.collapsedItem?e.request.collapsedItem.data:null,Object(y.B)(e.request.taskFilters,i,!0),e.showError).pipe(Object(p.a)(t=>{const i=[];return i.push(h.b({key:e.key,replace:!e.request.paging,items:t.activity,paging:t.paging,hasMore:t.has_more,paywall:t.pay_wall,expand:e.request.collapsedItem})),i.push(h.d({key:e.key,loading:!1})),Object(r.a)(i)}),Object(m.a)(t=>"ACCESS_015"===(null==t?void 0:t.ECODE)?Object(s.a)(h.c({key:e.key,error:$localize`:@@activity-view_error-no-access:You don't have access to the tasks in this widget.`})):"ACCESS_008"===(null==t?void 0:t.ECODE)?Object(s.a)(h.c({key:e.key,error:$localize`:@@activity-view_error-invite:User must accept the workspace invitation to display data.`})):(null==t?void 0:t.err)?Object(s.a)(h.c({key:e.key,error:t.err})):this.handleError(t))))))),this.setActivityData$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(h.b),Object(d.a)(this.store.select(b.g)),Object(p.a)(([e,t])=>{const i=[],a=Object(g.a)(e.items.map(e=>e.task_id)).filter(e=>!t[e]);return a.length&&i.push(new f.n({ids:a})),Object(r.a)(i)})))}handleError(e){return l.a}}return e.\u0275fac=function(t){return new(t||e)(k.nc(c.a),k.nc(o.Store),k.nc(j))},e.\u0275prov=k.Sb({token:e,factory:e.\u0275fac}),e})();const I=Object(o.createReducer)({dataMap:{}},Object(o.on)(h.b,(e,{key:t,replace:i,expand:a,items:o,paging:c,hasMore:n,paywall:s})=>{const r=e.dataMap[t]&&e.dataMap[t].items||[];let l=r;if(a){const e=r.findIndex(e=>e.id===a.id);-1!==e&&(l=[...r.slice(0,e),Object.assign(Object.assign({},r[e]),{collapsed:void 0}),...o,...r.slice(e+1)])}else l=i?o:[...r,...o];return Object.assign(Object.assign({},e),{dataMap:Object.assign(Object.assign({},e.dataMap),{[t]:Object.assign(Object.assign({},e.dataMap[t]),{items:l,paging:c,hasMore:n,paywall:s})})})}),Object(o.on)(h.d,(e,{key:t,loading:i})=>Object.assign(Object.assign({},e),{dataMap:Object.assign(Object.assign({},e.dataMap),{[t]:Object.assign(Object.assign({},e.dataMap[t]),{loading:i,error:void 0})})})),Object(o.on)(h.c,(e,{key:t,error:i})=>Object.assign(Object.assign({},e),{dataMap:Object.assign(Object.assign({},e.dataMap),{[t]:Object.assign(Object.assign({},e.dataMap[t]),{loading:!1,error:i})})})),Object(o.on)(h.a,(e,{key:t,request:i})=>i.paging||i.collapsedItem?e:Object.assign(Object.assign({},e),{dataMap:Object.assign(Object.assign({},e.dataMap),{[t]:Object.assign(Object.assign({},e.dataMap[t]),{items:void 0,paging:void 0,hasMore:!1,paywall:!1})})})));function D(e,t){return I(e,t)}var C=i("C8uC"),P=i("4xwl"),$=i("fTg4"),z=i("KyjD"),M=i("zkEv"),E=i("tyNb");let L=(()=>{class e{}return e.\u0275mod=k.Ub({type:e}),e.\u0275inj=k.Tb({factory:function(t){return new(t||e)},imports:[[a.c,E.l]]}),e})();var A=i("K0KF"),F=i("wGqn"),U=i("gb9A"),N=i("E8aR");let R=(()=>{class e{}return e.\u0275mod=k.Ub({type:e}),e.\u0275inj=k.Tb({factory:function(t){return new(t||e)},imports:[[a.c,N.a,C.LoaderModule,P.a,$.a,z.a,M.a,L,o.StoreModule.forFeature("activityView",D),c.b.forFeature([O]),A.a,F.a,U.a]]}),e})()},oMOK:function(e,t,i){"use strict";i.d(t,"a",function(){return k});var a=i("fXoL"),o=i("lJxs"),c=i("uslN"),n=i("l7P3"),s=i("FC7Q"),r=i("WluX"),l=i("LRne"),d=i("c3rA"),u=i("o7Ov"),p=i("jJW4"),m=i("ofXK"),h=i("S//e"),b=i("EDFS"),g=i("peMq"),f=i("8r6i");const _=function(e){return[e]},v=function(){return[]};function y(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-user-list-dropdown",2),a.qc("onChange",function(t){return a.Uc(e),a.uc().assigneeChanged(t)})("onOpen",function(){return a.Uc(e),a.uc().dropdownOpen()}),a.vc(1,"async"),a.vc(2,"async"),a.vc(3,"async"),a.vc(4,"async"),a.cc(5,"cu-user-group",3),a.qc("onUserRemove",function(){return a.Uc(e),a.uc().removeAssignee.emit()}),a.vc(6,"async"),a.vc(7,"async"),a.bc(),a.bc()}if(2&e){const e=a.uc(),t=a.Rc(2);a.Dc("disabled",!e.canChangedAssignee||a.wc(1,12,e.isFreePlan$)||!(null!=e.subcategory&&null!=e.subcategory.permissions&&e.subcategory.permissions.edit_list_details))("multiChoice",!1)("enableFirstSelection",!0)("modifier","cu-dropdown_left")("selectedUsers",e.subcategory.assignee?a.Hc(24,_,e.subcategory.assignee):a.Gc(26,v))("users",a.wc(2,14,e.subcategoryUsers$))("popover",t)("triggers",a.wc(3,16,e.isFreePlan$)&&!a.wc(4,18,e.isSharedSpaceOrGuest$)?"click":""),a.Ib(5),a.Dc("users",e.subcategory.assignee?a.Hc(27,_,e.subcategory.assignee):a.Gc(29,v))("showUserRemover",(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.edit_list_details)&&2===(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.change_assignee)&&!a.wc(6,20,e.isFreePlan$))("readOnly",!(null!=e.subcategory&&null!=e.subcategory.permissions&&e.subcategory.permissions.edit_list_details)||2!==(null==e.subcategory||null==e.subcategory.permissions?null:e.subcategory.permissions.change_assignee)||a.wc(7,22,e.isFreePlan$))("avatarSize",30)}}function w(e,t){1&e&&a.Xb(0,"cu-paywall-popover",4),2&e&&a.Dc("amplitudeLabel","Assignees on Lists")}let k=(()=>{class e{constructor(e,t){this.store=e,this.sharedData=t,this.loadUsersOnDropdownOpen=!1,this.setAssignee=new a.o,this.removeAssignee=new a.o,this.isFreePlan$=this.store.select(d.getTeam).pipe(Object(o.a)(e=>e.plan_id===c.f.FREE)),this.isSharedSpaceOrGuest$=this.store.select(d.getIsSharedSpaceOrGuest),this.canChangedAssignee=!1,this.subcategoryUsers$=Object(l.a)([]),this.usersLoaded=!1}ngOnChanges(e){e.subcategory&&(this.canChangedAssignee=Object(s.b)(this.subcategory.permissions,this.subcategory.permission_level,[this.subcategory.assignee].filter(Boolean),[],this.sharedData.currentUser.value),this.subcategoryUsers$=this.store.pipe(Object(n.select)(Object(r.j)(this.subcategory.id))),this.usersLoaded=!1)}assigneeChanged([e]){e?this.setAssignee.emit(e):this.removeAssignee.emit()}dropdownOpen(){!this.usersLoaded&&this.loadUsersOnDropdownOpen&&this.store.dispatch(new u.ne(this.subcategory.id))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(n.Store),a.Wb(p.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-list-details-assignee"]],inputs:{subcategory:"subcategory",loadUsersOnDropdownOpen:"loadUsersOnDropdownOpen"},outputs:{setAssignee:"setAssignee",removeAssignee:"removeAssignee"},features:[a.Gb],decls:3,vars:1,consts:function(){let e,t,i;return e=$localize`:@@common_owner␟0ee5132a8da30e0b7f9f5c70dbc91928d17dd909␟3715596725146409911:Owner`,t=$localize`:@@paywall_text--list-assignees-unlimited␟f335b8ddd4bba1845f781a0977c8d07b065e64e1␟5906482854035554211:To add assignees to Lists and remove all limits, upgrade to Unlimited for $5/month.`,i=$localize`:@@paywall_email-subject--list-assignees-unlimited␟c186f17fad9423b3ec0ce6abaeab7ff2d4285198␟4517022319617716111:Please upgrade ClickUp so we can set assignees on Lists`,[["class","cu2-list-details__assignee","containerClass","popover_white","placement","bottom","outsideClick","true","container","body",3,"disabled","multiChoice","enableFirstSelection","modifier","selectedUsers","users","popover","triggers","onChange","onOpen",4,"ngIf"],["assigneePaywallPopoverTemplate",""],["containerClass","popover_white","placement","bottom","outsideClick","true","container","body",1,"cu2-list-details__assignee",3,"disabled","multiChoice","enableFirstSelection","modifier","selectedUsers","users","popover","triggers","onChange","onOpen"],["userAddTooltip",e,"modifier","cu-user-group_sm cu-user-group_for-list-details",3,"users","showUserRemover","readOnly","avatarSize","onUserRemove"],["text",t,"emailSubject",i,3,"amplitudeLabel"]]},template:function(e,t){1&e&&(a.bd(0,y,8,30,"cu-user-list-dropdown",0),a.bd(1,w,1,1,"ng-template",null,1,a.cd)),2&e&&a.Dc("ngIf",t.subcategory.assignee||(null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.edit_list_details)&&2===(null==t.subcategory||null==t.subcategory.permissions?null:t.subcategory.permissions.change_assignee))},directives:[m.q,h.a,b.c,g.a,f.a],pipes:[m.b],styles:["[_nghost-%COMP%]{margin-right:10px}"],changeDetection:0}),e})()},p080:function(e,t,i){"use strict";i.d(t,"a",function(){return Ae});var a=i("HEHP"),o=i("o7Ov"),c=i("c3rA"),n=i("y5jv"),s=i("j/p2"),r=i("Hgwy"),l=i("dTHz"),d=i("fXoL"),u=i("jJQC"),p=i("l7P3"),m=i("XNiG"),h=i("2Vo4"),b=i("itXk"),g=i("xgIS"),f=i("eIep"),_=i("lJxs"),v=i("pLZG"),y=i("1G5W"),w=i("vkgz"),k=i("3E0/"),x=i("IzEk"),T=i("W6OC"),S=i("MguC"),j=i("DIUN"),O=i("rpco"),I=i("TyK0"),D=i("hr9B"),C=i("Gj5t"),P=i("7ycA"),$=i("GkwO"),z=i("bV87"),M=i("DzOF"),E=i("Tm/s"),L=i("Jf2N"),A=i("jJW4"),F=i("cGJt"),U=i("G/bC"),N=i("8it8"),R=i("N4ya"),G=i("ofXK"),q=i("tyNb"),B=i("EtbL"),W=i("EDFS"),V=i("loh9"),X=i("UdVN"),H=i("NsZK"),Y=i("LdyQ"),Z=i("MJvn"),Q=i("n+1/"),K=i("5+WD"),J=i("Z1X6"),ee=i("IkRJ"),te=i("sf8M"),ie=i("9gfC"),ae=i("pxPQ");const oe=["newListFolderMenu"],ce=["sectionMakerContainer"],ne=["editorContainer"],se=["popover"],re=function(e){return{"nav-category__name-handle_guest":e}};function le(e,t){if(1&e&&(d.Xb(0,"div",25),d.vc(1,"async")),2&e){const e=d.uc();d.Dc("ngClass",d.Hc(5,re,d.wc(1,3,e.isGuest$)))("icon",e.layoutType===e.LayoutVersion.Five?"handle5-no-color":"handle4-no-color")("cuDraggable",!1)}}function de(e,t){if(1&e){const e=d.dc();d.cc(0,"div",26),d.qc("click",function(t){return d.Uc(e),d.uc().toggle(t)}),d.bc()}}function ue(e,t){if(1&e){const e=d.dc();d.cc(0,"div",27),d.qc("click",function(t){return d.Uc(e),d.uc().toggle(t)}),d.bc()}if(2&e){const e=d.uc();d.Ob("nav-category__toggle_opened",e.isOpened),d.Dc("icon",e.layoutType===e.LayoutVersion.Five?e.isOpened?"cu2-folder-sidebar-2_opened":"cu2-folder-sidebar-2":e.layoutType===e.LayoutVersion.Six?e.isOpened?"cu3-folder-sidebar_opened":"cu3-folder-sidebar":"cu2-folder-sidebar")("cuTooltip",e.layoutType!==e.LayoutVersion.Five&&e.layoutType!==e.LayoutVersion.Six||e.isOpened?null:e.expandFolderText)}}function pe(e,t){if(1&e){const e=d.dc();d.cc(0,"div",28),d.qc("click",function(t){return d.Uc(e),d.uc().toggle(t)}),d.vc(1,"async"),d.bc()}if(2&e){const e=d.uc();d.Dc("icon",d.wc(1,2,e.hasAutomations$)?"sprint-folder-automation":"sprint-folder")("cuTooltip",e.layoutType!==e.LayoutVersion.Five&&e.layoutType!==e.LayoutVersion.Six||e.isOpened?null:e.expandFolderText)}}function me(e,t){1&e&&d.Xb(0,"div",29)}function he(e,t){1&e&&d.Xb(0,"div",30)}function be(e,t){if(1&e&&(d.cc(0,"div",31),d.dd(1),d.bc()),2&e){const e=d.uc();d.Dc("cuTooltip",null==e.category?null:e.category.name),d.Ib(1),d.fd(" ",null==e.category?null:e.category.name," ")}}const ge=function(e){return{pr:e}},fe=function(e){return{"nav-category__name-text_clickable":e}};function _e(e,t){if(1&e&&(d.ac(0),d.cc(1,"a",32),d.vc(2,"async"),d.dd(3),d.bc(),d.Zb()),2&e){const e=d.uc();d.Ib(1),d.Dc("routerLink",d.wc(2,7,e.categoryPath$))("queryParams",d.Hc(9,ge,e.projectId||(null==e.category?null:e.category.project_id)))("allowCmdClick",!0)("ngClass",d.Hc(11,fe,!(e.isActive&&-1==e.selectedSubcategory)))("cuTooltip",e.isOpened?null==e.category?null:e.category.name:e.allListsInBirdsEyeViewText)("tooltipDisabledIfTextNotTruncated",e.isOpened),d.Ib(2),d.fd(" ",null==e.category?null:e.category.name," ")}}function ve(e,t){if(1&e){const e=d.dc();d.cc(0,"div",33),d.cc(1,"div",34),d.qc("click",function(){return d.Uc(e),d.uc().menu.archive()}),d.tc(),d.cc(2,"svg",35),d.cc(3,"g",36),d.Xb(4,"path",37),d.Xb(5,"path",38),d.bc(),d.bc(),d.bc(),d.sc(),d.cc(6,"div",39),d.qc("click",function(){return d.Uc(e),d.uc().menu.remove()}),d.tc(),d.cc(7,"svg",40),d.Xb(8,"path",41),d.bc(),d.bc(),d.bc()}}function ye(e,t){1&e&&d.Yb(0)}function we(e,t){if(1&e&&(d.cc(0,"div"),d.bd(1,ye,1,0,"ng-container",46),d.bc()),2&e){d.uc(2);const e=d.Rc(39);d.Ib(1),d.Dc("ngTemplateOutlet",e)}}const ke=function(e){return{"cu-hidden":e}};function xe(e,t){if(1&e){const e=d.dc();d.cc(0,"div",42,43),d.qc("dropdownOpen",function(){d.Uc(e);const t=d.uc();return t.closeListDetails(),t.dropdownOpen.emit(),t.setNewHierarchyFrom()})("dropdownClose",function(){return d.Uc(e),d.uc().dropdownClose.emit()}),d.Xb(2,"div",44),d.bd(3,we,2,1,"div",45),d.bc()}if(2&e){const e=d.uc();d.Dc("ngClass",d.Hc(2,ke,null==e.category?null:e.category.archived)),d.Ib(2),d.Dc("icon",e.layoutType===e.LayoutVersion.Six?"cu2-close-2":"cu2-plus")}}function Te(e,t){1&e&&d.Xb(0,"div",47)}function Se(e,t){if(1&e){const e=d.dc();d.cc(0,"cu-nav-section",53,54),d.qc("cdkDragStarted",function(t){return d.Uc(e),d.uc(3).dragStarted(t)})("cdkDragEnded",function(t){return d.Uc(e),d.uc(3).dragEnded(t)})("onCreate",function(){d.Uc(e);const t=d.uc().index;return d.uc(2).createSectionAtPosition(t)})("renaming",function(t){d.Uc(e);const i=d.uc(3);return i.subcategoryRenaming=t,i.onEdit.emit(t)})("onDropView",function(t){d.Uc(e);const i=d.uc().$implicit,a=d.uc(2);return a.onDropView.emit({parent:{type:a.DataViewParentType.Subcategory,id:i.id},id:t})})("dropdownOpen",function(){return d.Uc(e),d.uc(3).dropdownOpen.emit()})("dropdownClose",function(){return d.Uc(e),d.uc(3).dropdownClose.emit()}),d.vc(2,"async"),d.bc()}if(2&e){const e=d.Rc(1),t=d.uc(),i=t.index,a=t.$implicit,o=d.uc(2);d.ad("order",null!=o.state&&o.state.creating?i:null),d.Dc("section",a)("projectId",o.projectId)("category",o.category)("onlyDeleteIfOwner",o.onlyDeleteIfOwner)("canDelete",o.canDelete)("meUser",o.meUser)("categoryId",null==o.category?null:o.category.id)("layoutType",o.layoutType)("alwaysVisible",o.alwaysVisible)("isActive",o.selectedSubcategory===(null==a?null:a.id))("isDragging",o.isDragging||o.isDraggingList)("cdkDragDisabled",(null==e||null==e.state?null:e.state.editing)||!(null!=a&&a.id))("cdkDragStartDelay",d.wc(2,24,o.isTouchDevice$)?500:0)("cuDragScrollContainer",o.scrollContainer)("cuDragScrollConnectedTo",o.dragIds)("cdkDragData",a)("@loadingEnter",void 0),d.Jb("data-section",null==a?null:a.id)("data-source","list")("data-id",a.id)("data-project",a.project_id)("data-category",a.category)}}function je(e,t){if(1&e&&(d.ac(0),d.bd(1,Se,3,26,"cu-nav-section",52),d.Zb()),2&e){const e=t.$implicit,i=d.uc(2);d.Ib(1),d.Dc("ngIf",!i.visibleSubIds||i.visibleSubIds[e.id])}}const Oe=function(e,t){return{"nav-category__body_v4":e,"nav-category__body_v5":t}};function Ie(e,t){if(1&e){const e=d.dc();d.cc(0,"div",48),d.qc("cdkDropListDropped",function(t){return d.Uc(e),d.uc().dropSubcat(t)}),d.vc(1,"async"),d.vc(2,"async"),d.bd(3,je,2,1,"ng-container",49),d.cc(4,"div",50),d.Xb(5,"div",null,51),d.bc(),d.bc()}if(2&e){const e=d.uc();let t=null;d.Ob("nav-category_list-dragging",e.isDraggingList),d.Dc("ngClass",d.Ic(18,Oe,(null==(t=d.wc(1,14,e.user$))?null:t.dashboard)===e.LayoutVersion.Four,(null==(t=d.wc(2,16,e.user$))?null:t.dashboard)===e.LayoutVersion.Five))("id",null==e.category?null:e.category.id)("cdkDropListDisabled",!(null!=e.category&&null!=e.category.permissions&&e.category.permissions.can_create_lists)&&!(void 0===(null==e.category||null==e.category.permissions?null:e.category.permissions.can_create_lists)&&null!=e.userRoleDefaultPermissions[null==e.category||null==e.category.permissions?null:e.category.permissions.team_role]&&e.userRoleDefaultPermissions[null==e.category||null==e.category.permissions?null:e.category.permissions.team_role].can_create_lists)||e.dragDisabled)("cdkDropListData",e.category)("cdkDropListConnectedTo",e.connectedDragIds),d.Jb("data-category",e.category.id),d.Ib(3),d.Dc("rxForOf",null==e.category?null:e.category.subcategories)("rxForStrategy","normal")("rxForTrackBy",e.trackById)("rxForPatchZone",!0),d.Ib(1),d.ad("order",e.newListIndex)}}function De(e,t){1&e&&(d.cc(0,"div",55),d.gc(1,56),d.bc())}const Ce=function(e){return{id:"new-sprint",title:e,icon:"sprint-new"}};function Pe(e,t){if(1&e){const e=d.dc();d.cc(0,"cu-dropdown-list-item",58),d.qc("click",function(){return d.Uc(e),d.uc(2).newSprint()}),d.bc()}if(2&e){const e=d.uc(2);d.Dc("item",d.Hc(1,Ce,e.newSprintText))}}function $e(e,t){if(1&e){const e=d.dc();d.cc(0,"cu-dropdown-list-item",62),d.qc("onSelect",function(t){d.Uc(e);const i=d.uc(2);return i.newListFolderMenu.close(),i.onSelectImport.emit(t)}),d.bc()}if(2&e){const e=d.uc(2);d.Dc("item",e.importDropdown)("dropdownCloseOthersOnOutsideClick",!0)}}const ze=function(e){return{id:"new-list",title:e,icon:"cu2-new-list"}};function Me(e,t){if(1&e){const e=d.dc();d.Xb(0,"cu-dropdown-list-title",57),d.cc(1,"cu-dropdown-list-item",58),d.qc("click",function(){return d.Uc(e),d.uc().create()}),d.bc(),d.bd(2,Pe,1,3,"cu-dropdown-list-item",59),d.vc(3,"async"),d.cc(4,"cu-dropdown-list-item",60),d.qc("onSelect",function(t){d.Uc(e);const i=d.uc();return i.newListFolderMenu.close(),i.createFromTemplate(t)}),d.bc(),d.bd(5,$e,1,2,"cu-dropdown-list-item",61)}if(2&e){const e=d.uc();let t=null;d.Ib(1),d.Dc("item",d.Hc(6,ze,e.commonStringsService.newListText)),d.Ib(1),d.Dc("ngIf",null==(t=d.wc(3,4,e.project$))||null==t.features||null==t.features.sprints?null:t.features.sprints.enabled),d.Ib(2),d.Dc("item",e.templateDropdown),d.Ib(1),d.Dc("ngIf",e.showImport)}}const Ee=function(e,t,i){return{"nav-category__header_v4":e,"nav-category__header_guest":t,"nav-category__header_opened":i}},Le=function(){return["source","id"]};let Ae=(()=>{class e{constructor(e,t,i,a,o,n,g,y,w,k,x,T){this.navService=e,this.changeDetector=t,this.modalService=i,this.store=a,this.sharedData=o,this.cfr=n,this.elRef=g,this.injector=y,this.listDetailsService=w,this.dndService=k,this.commonStringsService=x,this.effects=T,this.editorModifier="nav-editor_category",this.destroy$=new m.a,this.state={menuOpen:!1,editing:!1,creating:!1,error:!1},this.addingSection=!1,this.subcategoryRenaming=!1,this.LayoutVersion=l.b,this.userRoleDefaultPermissions=r.h,this.importDropdown={id:"new-import",title:"Import",icon:"cu2-import",subitems:s.b},this.templateDropdown={id:"templateCenter",title:"Template Center",icon:"cu2-magic",subitems:M.u},this.alwaysVisible=!1,this.isActive=!1,this.isOpened=!1,this.isDragging=!1,this.isDraggingList=!1,this.isDraggingTask=!1,this.dragDisabled=!1,this.showImport=!0,this.canDelete=!0,this.isSelectedSubcategory=!1,this.onSelectImport=new d.o,this.onDraggingList=new d.o,this.onEdit=new d.o,this.onToggle=new d.o,this.onDropView=new d.o,this.dropdownOpen=new d.o,this.dropdownClose=new d.o,this.trackById=Object(u.d)("id"),this.UserPermission=l.e,this.DataViewParentType=S.e,this.user$=this.store.select(c.getUser),this.team$=this.store.select(c.getTeam),this.isGuest$=this.store.select(c.isGuestTeam),this.renameFolder$=this.store.select(c.renameFolderState),this.needRestoreOpened=!1,this.hovered=!1,this.category$=new h.a(null),this.isTouchDevice$=I.a,this.categoryPath$=Object(b.a)([this.store.select(c.getTeam),this.category$,this.category$.pipe(Object(f.a)(e=>this.store.select(Object($.hb)(S.e.Category,e.id))))]).pipe(Object(_.a)(([e,t,i])=>i||["/",e.id,"v","f",t.id,this.projectId||""])),this.project$=this.category$.pipe(Object(v.a)(e=>!(!e||!e.id)),Object(f.a)(e=>this.store.pipe(Object(p.select)(Object(c.getProjectById)(e.project_id))))),this.hasSprints$=this.category$.pipe(Object(v.a)(e=>!!e),Object(_.a)(e=>e.sprint||(e.subcategories||[]).some(e=>e.sprint))),this.hasAutomations$=this.category$.pipe(Object(_.a)(e=>!!(e&&e.features&&e.features.sprints&&e.features.sprints.enabled&&e.features.sprints.settings&&(e.features.sprints.settings.spillover_tasks||e.features.sprints.settings.create_new_sprints||e.features.sprints.settings.copy_views||e.features.sprints.settings.close_past_sprints)))),this.allListsInBirdsEyeViewText=$localize`:@@cu-nav-category__tooltip-msg_view-lists-in-birds-eye-view:View all Lists in a birds-eye view`,this.expandFolderText=$localize`:@@cu-nav-category__tooltip-msg_expand-folder:Expand Folder`,this.newSprintText=$localize`:@@cu-nav-category__title_new-sprint:New Sprint`,T.register(this.navService.onCreateFromEmptyFolder.pipe(Object(v.a)(e=>{var t;return!(!e||!this.category)&&(null===(t=this.category)||void 0===t?void 0:t.id)===(null==e?void 0:e.folderId)})),e=>this.addSection(e))}onContextmenu(e){e.preventDefault(),e.stopPropagation(),this.category.archived||this.rightClickOpenMenu(e)}ngOnInit(){this.navService.onCancelMoveSection.pipe(Object(v.a)(e=>e&&e.oldCategory===this.category.id),Object(y.a)(this.destroy$)).subscribe(e=>{const t=this.navService.getFullIndexes(e.id),i=this.navService.getCategoryById(e.category).subcategories.splice(t.sectionIdx,1).pop();i.category=e.oldCategory,i.orderindex=e.oldOrderindex,this.category.subcategories.splice(e.oldOrderindex,0,i),this.changeDetector.markForCheck()}),Object(g.a)(this.elRef.nativeElement,"mouseenter").pipe(Object(v.a)(()=>this.isDraggingList||this.isDraggingTask),Object(w.a)(()=>{this.hovered=!0}),Object(k.a)(500),Object(v.a)(()=>this.hovered&&!this.isOpened),Object(y.a)(this.destroy$)).subscribe(()=>{this.onToggle.emit(!0),this.needRestoreOpened=!0}),Object(g.a)(this.elRef.nativeElement,"mouseleave").pipe(Object(w.a)(()=>{this.hovered=!1}),Object(v.a)(()=>this.needRestoreOpened&&!this.isDraggingList),Object(k.a)(500),Object(v.a)(()=>!this.hovered),Object(y.a)(this.destroy$)).subscribe(()=>{this.onToggle.emit(!1),this.needRestoreOpened=!1}),this.renameFolder$.pipe(Object(y.a)(this.destroy$)).subscribe(e=>{e.renaming&&e.folderId===this.category.id&&(this.state.editing=!0,this.onEdit.emit(!0),this.save({name:e.newName}),this.store.dispatch(new o.rg({renaming:!1,folderId:"",newName:""})))})}ngOnChanges(e){e.isDraggingList&&this.needRestoreOpened&&!this.isDraggingList&&(this.onToggle.emit(!1),this.needRestoreOpened=!1),e.category&&this.category$.next(this.category)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}openMenu(){this.state.menuOpen=!0,this.changeDetector.markForCheck()}closeMenu(){this.state.menuOpen=!1,this.changeDetector.markForCheck()}create(){const e=Object(C.X)("List",(this.category.subcategories||[]).map(e=>e.name));this.addSection({name:e})}createSectionAtPosition(e=-1){const t=Object(C.X)("List",(this.category.subcategories||[]).map(e=>e.name));this.newListIndex=e,this.addSection({name:t})}rename(){const e=this.cfr.resolveComponentFactory(T.a);this.editor=this.editorContainer.createComponent(e),this.editor.instance.name=this.category.name,this.editor.instance.modifier=this.editorModifier,this.editor.instance.onBlur.pipe(Object(y.a)(this.destroy$)).subscribe(e=>this.blur(e)),this.editor.instance.onSave.pipe(Object(y.a)(this.destroy$)).subscribe(e=>this.save(e)),this.editor.instance.onCancel.pipe(Object(y.a)(this.destroy$)).subscribe(()=>this.cancel()),this.editor.instance.onHideError.pipe(Object(y.a)(this.destroy$)).subscribe(()=>this.hideError()),this.editor.changeDetectorRef.detectChanges(),this.state.editing=!0,this.onEdit.emit(!0),this.changeDetector.markForCheck()}cancel(){this.sectionMakerContainer&&this.sectionMakerContainer.remove(),this.editorContainer&&this.editorContainer.remove(),this.state.editing=!1,this.onEdit.emit(!1),this.state.creating=!0,this.hideError(),this.changeDetector.markForCheck()}toggle(e){e&&(e.preventDefault(),e.stopPropagation()),this.onToggle.emit(!this.isOpened)}save(e){const t=e.name;t.length&&this.state.editing&&(this.navService.isCategoryNameExists(t,this.category.id)?this.showError():(this.category.name=e.name,this.navService.updateCategory(this.category),this.store.dispatch(new o.xd({type:"folder",itemId:this.category.id,newName:t})),this.cancel()),this.changeDetector.markForCheck())}blur(e){this.state.error?this.cancel():this.save(e)}addSection(e){const t=e.name;t.length&&!this.addingSection&&(this.navService.isSectionNameExists(t,this.category.id)?this.sectionMaker.instance.showError($localize`:@@errors_list-name-exists:A List already exists with this name.`):(this.addingSection=!0,this.changeDetector.markForCheck(),this.navService.createSection(this.category.id,e.name,this.newListIndex>=0?this.newListIndex+1:null,!0).subscribe(e=>{this.store.dispatch(new o.Qj({item:e[0],type:S.e.Subcategory})),this.cancel(),this.addingSection=!1,this.changeDetector.markForCheck(),this.newListIndex=null},e=>{const t=O.b.includes(e.ECODE);this.sectionMaker?this.sectionMaker.instance.showError(e.err||$localize`:@@errors_unknown:Unknown error`,t):this.store.dispatch(new o.yb({value:t})),this.newListIndex=null,this.addingSection=!1,this.changeDetector.markForCheck()})))}showError(){this.state.error=!0,this.popover.show(),this.editor&&this.editor.instance.input.nativeElement.focus(),this.changeDetector.markForCheck()}hideError(){this.state.error=!1,this.popover.hide(),this.changeDetector.markForCheck()}dragStarted(e){this.onDraggingList.emit(!0)}dragEnded(e){this.onDraggingList.emit(!1)}dropSubcat(e){if((e.currentIndex!==e.previousIndex||e.container!==e.previousContainer)&&(this.layoutType!==l.b.Five||e.isPointerOverContainer))if(e.item.data.sprint&&e.container!==e.previousContainer){const t=this.modalService.openComponent(P.a,this.injector,{title:this.commonStringsService.moveSprintText,modifier:"cu-sprints-settings__modal"});t.instance.categoryId=e.container.data.id,t.instance.categoryName=e.container.data.name,t.instance.projectId=e.container.data.project_id,t.instance.forMove=!0,t.instance.subcategoryName=e.item.data.name,t.instance.onConvert.pipe(Object(y.a)(t.instance.destroy$)).subscribe(t=>{this.store.dispatch(new o.lc({subcategory:e.item.data,fromIndex:e.previousIndex,toIndex:e.currentIndex,fromCategory:e.previousContainer.data,toCategory:e.container.data,sprint:t}))})}else this.store.dispatch(new o.lc({subcategory:e.item.data,fromIndex:e.previousIndex,toIndex:e.currentIndex,fromCategory:e.previousContainer.data,toCategory:e.container.data}))}dropCdk(e){if(Array.isArray(e)&&1===e.length){const t=e[0];"view"===t.source&&t.id&&this.onDropView.emit({id:t.id,parent:{type:S.e.Category,id:this.category.id}})}this.dndService.onDropTask.next()}rightClickOpenMenu(e){this.menu&&(e.preventDefault(),e.stopPropagation(),this.menu.open())}closeListDetails(){this.listDetailsService.closeSidebar()}createFromTemplate(e){e&&"browseTemplates"!==e.id?"saveAsTemplate"!==e.id?"updateExistingTemplate"!==e.id||this.updateExistingTemplate():this.openSaveTemplate():this.store.dispatch(new o.Oe({open:!0,parent:this.category,parentType:z.d.Folder,initialType:z.d.List}))}openSaveTemplate(){this.store.select(Object(c.getProjectById)(this.projectId)).pipe(Object(x.a)(1)).subscribe(e=>{this.store.dispatch(new o.Oe({open:!0,parent:e,parentType:z.d.Space,initialType:z.d.Folder,itemToSave:this.category}))})}updateExistingTemplate(){this.store.select(Object(c.getProjectById)(this.projectId)).pipe(Object(x.a)(1)).subscribe(e=>{this.store.dispatch(new o.Oe({open:!0,parent:e,parentType:z.d.Space,initialType:z.d.Folder,itemToSave:this.category,updateExisting:!0}))})}newSprint(e){const t=this.modalService.openComponent(P.a,this.injector,{title:this.commonStringsService.createSprintsText,modifier:"cu-sprints-settings__modal"});t.instance.forCreate=!0,t.instance.categoryId=this.category.id,t.instance.projectId=this.category.project_id,e&&e.numSprints&&(t.instance.numSprints=e.numSprints),t.instance.onCreate.pipe(Object(y.a)(t.instance.destroy$)).subscribe(({sprints:e})=>{this.store.dispatch(new o.Si(Object.assign(Object.assign({},this.category),{subcategories:[...this.category.subcategories,...e]}))),this.store.dispatch(new o.Nb({categoryId:this.category.id,data:{subcategories:e}}))})}openTemplateManager(e,t){const i=this.modalService.openComponent(n.a,this.injector,{name:"templateSelector",cannotClose:!1,preventExternalClick:!0,modifier:"cu-folder-list-template-selector__modal",dialogModifier:"",bodyModifier:""});i.instance.folder=t,i.instance.initTemplateType=e}setNewHierarchyFrom(){this.store.dispatch(new o.Rj({item:this.category,type:S.e.Category}))}}return e.\u0275fac=function(t){return new(t||e)(d.Wb(E.a),d.Wb(d.h),d.Wb(L.a),d.Wb(p.Store),d.Wb(A.a),d.Wb(d.j),d.Wb(d.m),d.Wb(d.t),d.Wb(F.a),d.Wb(U.a),d.Wb(N.a),d.Wb(a.b))},e.\u0275cmp=d.Qb({type:e,selectors:[["cu-nav-category"]],viewQuery:function(e,t){if(1&e&&(d.jd(oe,1),d.jd(ce,1,d.U),d.jd(ne,3,d.U),d.jd(se,3),d.jd(j.a,1)),2&e){let e;d.Qc(e=d.rc())&&(t.newListFolderMenu=e.first),d.Qc(e=d.rc())&&(t.sectionMakerContainer=e.first),d.Qc(e=d.rc())&&(t.editorContainer=e.first),d.Qc(e=d.rc())&&(t.popover=e.first),d.Qc(e=d.rc())&&(t.menu=e.first)}},hostAttrs:[1,"nav-category"],hostVars:20,hostBindings:function(e,t){1&e&&d.qc("contextmenu",function(e){return t.onContextmenu(e)}),2&e&&d.Ob("nav-category_open",t.isOpened)("nav-category_closed",!t.isOpened)("nav-category_active",t.isActive&&-1==t.selectedSubcategory)("nav-category_hover",null==t.state?null:t.state.menuOpen)("nav-category_child-selected",t.isActive&&t.isSelectedSubcategory)("nav-category_editing",null==t.state?null:t.state.editing)("nav-category_error",null==t.state?null:t.state.error)("nav-category_archived",null==t.category?null:t.category.archived)("nav-category_dragging",t.isDragging)("nav-category_hidden",!(null!=t.category&&t.category.isVisible||t.alwaysVisible))},inputs:{projectId:"projectId",category:"category",selectedSubcategory:"selectedSubcategory",alwaysVisible:"alwaysVisible",isActive:"isActive",isOpened:"isOpened",isDragging:"isDragging",isDraggingList:"isDraggingList",isDraggingTask:"isDraggingTask",dragDisabled:"dragDisabled",layoutType:"layoutType",showImport:"showImport",canDelete:"canDelete",onlyDeleteIfOwner:"onlyDeleteIfOwner",meUser:"meUser",visibleSubIds:"visibleSubIds",isSelectedSubcategory:"isSelectedSubcategory",dragIds:"dragIds",connectedDragIds:"connectedDragIds",scrollContainer:"scrollContainer"},outputs:{onSelectImport:"onSelectImport",onDraggingList:"onDraggingList",onEdit:"onEdit",onToggle:"onToggle",onDropView:"onDropView",dropdownOpen:"dropdownOpen",dropdownClose:"dropdownClose"},features:[d.Hb([a.b]),d.Gb],decls:40,vars:57,consts:function(){let e,t,i,a,o;return e=$localize`:@@common_restore␟d5cec7468241d72cafd86ad1af6d55b09a6e3ae5␟6770769801335635194:Restore`,t=$localize`:@@common_delete-permanently␟54235e7f731cf07327e9e29442a69764c08a72af␟2508083421321389619:Delete permanently`,i=$localize`:@@common_create-list␟11ba41c5e7b325cff39440c3bd09f4830676f1f3␟6624617695951243415:Create List`,a=$localize`:@@cu-nav-category__form-error_folder-name-exists␟d29e02db1214ce6a64127df43ce83527a8876fef␟4477238039168810334: Whoops! A Folder already exists with this name. `,o=$localize`:@@cu-nav-category__title_folder-options␟f0d398aeca0b578f8458fc92d1747abb9fd70fef␟5314559392523549139:FOLDER OPTIONS`,[["cuDropArea","",1,"nav-category__header",3,"ngClass","cdkSupport","cdkField","ondrop","click"],["class","nav-category__name-handle",3,"ngClass","icon","cuDraggable","cuPreventDefault",4,"ngIf"],[1,"nav-category__name",3,"cuDraggable","routerLink","queryParams"],["class","nav-category__caret","icon","cu2-caret-down",3,"click",4,"ngIf"],["class","nav-category__toggle","tooltipDelay","100",3,"nav-category__toggle_opened","icon","cuTooltip","click",4,"ngIf"],["class","nav-category__sprint","tooltipDelay","100",3,"icon","cuTooltip","click",4,"ngIf"],["class","nav-category__icon nav-category__icon_archive","icon","archive2",4,"ngIf"],["class","nav-category__icon nav-category__icon_private","icon","lock5",4,"ngIf"],["class","nav-category__name-text","tooltipDisabledIfTextNotTruncated","true","tooltipModifier","tooltip_right","tooltipDelay","500",3,"cuTooltip",4,"ngIf"],[4,"ngIf"],[1,"nav-dropzone"],["placement","right","container","body","triggers","",1,"lv-category-edit__popover",3,"popover"],["popover","bs-popover"],["class","nav-category__menu",4,"ngIf"],[1,"nav-category__menu",3,"ngClass"],[3,"category","projectId","canDelete","showSprints","isSprint","openMenu","closeMenu","rename","create","onNewSprint","onCreateFromTemplate"],[1,"nav-menu","cu-dropdown",3,"cuPreventDefault","click"],["icon","ellipsis",1,"cu-dropdown__toggle","nav-menu__toggle","nav-menu__toggle_category"],["cuDropdown","",3,"ngClass","cuPreventDefault","dropdownOpen","dropdownClose",4,"ngIf"],[1,"nav-category__editor"],["editorContainer",""],["class","nav-category__header-border",4,"ngIf"],["class","nav-category__body","cdkDropList","","cdkDropListOrientation","vertical",3,"nav-category_list-dragging","ngClass","id","cdkDropListDisabled","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped",4,"ngIf"],["error",""],["newList",""],[1,"nav-category__name-handle",3,"ngClass","icon","cuDraggable","cuPreventDefault"],["icon","cu2-caret-down",1,"nav-category__caret",3,"click"],["tooltipDelay","100",1,"nav-category__toggle",3,"icon","cuTooltip","click"],["tooltipDelay","100",1,"nav-category__sprint",3,"icon","cuTooltip","click"],["icon","archive2",1,"nav-category__icon","nav-category__icon_archive"],["icon","lock5",1,"nav-category__icon","nav-category__icon_private"],["tooltipDisabledIfTextNotTruncated","true","tooltipModifier","tooltip_right","tooltipDelay","500",1,"nav-category__name-text",3,"cuTooltip"],["draggable","false","tooltipDelay","200",1,"nav-category__name-text",3,"routerLink","queryParams","cuPreventDefault","allowCmdClick","ngClass","cuTooltip","tooltipDisabledIfTextNotTruncated"],[1,"nav-category__menu"],["cuTooltip",e,1,"nav-category__restore","icon",3,"cuPreventDefault","click"],["viewBox","0 0 14 13","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd",1,"cu-stroke"],["d","M1 5.5h8.5a4 4 0 0 1 4 4V13"],["d","M5 0L1 5.5 5 11"],["cuTooltip",t,1,"nav-category__remove","icon",3,"cuPreventDefault","click"],["viewBox","0 0 16 16","xmlns","http://www.w3.org/2000/svg"],["transform","translate(2 2)","d","M6.7 6L11.9 0.9 11.1 0.1 6 5.3 0.9 0.1 0.1 0.9 5.3 6 0.1 11.1 0.9 11.9 6 6.7 11.1 11.9 11.9 11.1 6.7 6","fill","#F9559F","fill-rule","evenodd"],["cuDropdown","",3,"ngClass","cuPreventDefault","dropdownOpen","dropdownClose"],["newListFolderMenu","dropdown"],["cuDropdownToggle","","cuTooltip",i,"tooltipModifier","tooltip_far",1,"nav-category__add",3,"icon"],[4,"cuDropdownMenu"],[4,"ngTemplateOutlet"],[1,"nav-category__header-border"],["cdkDropList","","cdkDropListOrientation","vertical",1,"nav-category__body",3,"ngClass","id","cdkDropListDisabled","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],[4,"rxFor","rxForOf","rxForStrategy","rxForTrackBy","rxForPatchZone"],[1,"nav-section-maker"],["sectionMakerContainer",""],["data-section-item","","cdkDrag","","cuDragScroll","",3,"section","projectId","category","onlyDeleteIfOwner","canDelete","meUser","categoryId","layoutType","alwaysVisible","order","isActive","isDragging","cdkDragDisabled","cdkDragStartDelay","cuDragScrollContainer","cuDragScrollConnectedTo","cdkDragData","cdkDragStarted","cdkDragEnded","onCreate","renaming","onDropView","dropdownOpen","dropdownClose",4,"ngIf"],["data-section-item","","cdkDrag","","cuDragScroll","",3,"section","projectId","category","onlyDeleteIfOwner","canDelete","meUser","categoryId","layoutType","alwaysVisible","isActive","isDragging","cdkDragDisabled","cdkDragStartDelay","cuDragScrollContainer","cuDragScrollConnectedTo","cdkDragData","cdkDragStarted","cdkDragEnded","onCreate","renaming","onDropView","dropdownOpen","dropdownClose"],["navSection",""],[1,"cu-error-popover"],a,["title",o],[3,"item","click"],[3,"item","click",4,"ngIf"],[3,"item","onSelect"],[3,"item","dropdownCloseOthersOnOutsideClick","onSelect",4,"ngIf"],[3,"item","dropdownCloseOthersOnOutsideClick","onSelect"]]},template:function(e,t){if(1&e&&(d.cc(0,"div",0),d.qc("ondrop",function(e){return t.dropCdk(e)})("click",function(e){return t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six?t.toggle(e):null}),d.vc(1,"async"),d.vc(2,"async"),d.bd(3,le,2,7,"div",1),d.cc(4,"a",2),d.vc(5,"async"),d.bd(6,de,1,0,"div",3),d.bd(7,ue,1,4,"div",4),d.vc(8,"async"),d.vc(9,"async"),d.bd(10,pe,2,4,"div",5),d.vc(11,"async"),d.vc(12,"async"),d.bd(13,me,1,0,"div",6),d.bd(14,he,1,0,"div",7),d.bd(15,be,2,2,"div",8),d.bd(16,_e,4,13,"ng-container",9),d.bc(),d.Xb(17,"div",10),d.cc(18,"div",11,12),d.dd(20),d.bc(),d.bd(21,ve,9,0,"div",13),d.cc(22,"div",14),d.cc(23,"cu-category-menu",15),d.qc("openMenu",function(){return t.openMenu(),t.dropdownOpen.emit(),t.setNewHierarchyFrom()})("closeMenu",function(){return t.closeMenu(),t.dropdownClose.emit()})("rename",function(){return t.rename()})("create",function(){return t.create()})("onNewSprint",function(e){return t.newSprint(e)})("onCreateFromTemplate",function(){return t.createFromTemplate(null)}),d.vc(24,"async"),d.vc(25,"async"),d.vc(26,"async"),d.cc(27,"div",16),d.qc("click",function(){return t.menu.open()}),d.Xb(28,"div",17),d.bc(),d.bc(),d.bc(),d.bd(29,xe,4,4,"div",18),d.Xb(30,"div",19),d.Xb(31,"div",null,20),d.bc(),d.bd(33,Te,1,0,"div",21),d.vc(34,"async"),d.bd(35,Ie,7,21,"div",22),d.bd(36,De,2,0,"ng-template",null,23,d.cd),d.bd(38,Me,6,8,"ng-template",null,24,d.cd)),2&e){const e=d.Rc(37);let i=null,a=null;d.Dc("ngClass",d.Jc(48,Ee,(null==(i=d.wc(1,26,t.user$))?null:i.dashboard)===t.LayoutVersion.Four,d.wc(2,28,t.isGuest$),t.isOpened))("cdkSupport",!t.isDragging)("cdkField",d.Gc(52,Le)),d.Ib(3),d.Dc("ngIf",t.layoutType!==t.LayoutVersion.Six),d.Ib(1),d.Dc("cuDraggable",!1)("routerLink",t.layoutType!==t.LayoutVersion.Five&&t.layoutType!==t.LayoutVersion.Six?d.wc(5,30,t.categoryPath$):null)("queryParams",t.layoutType===t.LayoutVersion.Three?d.Hc(53,ge,t.projectId||(null==t.category?null:t.category.project_id)):null),d.Ib(2),d.Dc("ngIf",t.layoutType!==t.LayoutVersion.Five),d.Ib(1),d.Dc("ngIf",!(d.wc(8,32,t.hasSprints$)||d.wc(9,34,t.hasAutomations$))),d.Ib(3),d.Dc("ngIf",d.wc(11,36,t.hasSprints$)||d.wc(12,38,t.hasAutomations$)),d.Ib(3),d.Dc("ngIf",null==t.category?null:t.category.archived),d.Ib(1),d.Dc("ngIf",null==t.category?null:t.category.private),d.Ib(1),d.Dc("ngIf",t.layoutType!==t.LayoutVersion.Five&&t.layoutType!==t.LayoutVersion.Six),d.Ib(1),d.Dc("ngIf",t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six),d.Ib(2),d.Dc("popover",e),d.Ib(2),d.fd(" ",t.name," "),d.Ib(1),d.Dc("ngIf",null==t.category?null:t.category.archived),d.Ib(1),d.Dc("ngClass",d.Hc(55,ke,null==t.category?null:t.category.archived)),d.Ib(1),d.Dc("category",t.category)("projectId",t.projectId)("canDelete",t.canDelete||t.onlyDeleteIfOwner&&(null==t.category?null:t.category.owner)===(null==t.meUser?null:t.meUser.id))("showSprints",null==(a=d.wc(24,40,t.project$))||null==a.features||null==a.features.sprints?null:a.features.sprints.enabled)("isSprint",d.wc(25,42,t.hasSprints$)||d.wc(26,44,t.hasAutomations$)),d.Ib(6),d.Dc("ngIf",(t.layoutType===t.LayoutVersion.Five||t.layoutType===t.LayoutVersion.Six)&&((null==t.category||null==t.category.permissions?null:t.category.permissions.can_create_lists)||void 0===(null==t.category||null==t.category.permissions?null:t.category.permissions.can_create_lists)&&(null==t.userRoleDefaultPermissions[null==t.category||null==t.category.permissions?null:t.category.permissions.team_role]?null:t.userRoleDefaultPermissions[null==t.category||null==t.category.permissions?null:t.category.permissions.team_role].can_create_lists))),d.Ib(4),d.Dc("ngIf",t.layoutType===t.LayoutVersion.Six&&!d.wc(34,46,t.isGuest$)),d.Ib(2),d.Dc("ngIf",t.isOpened)}},directives:[R.a,G.o,G.q,q.k,B.a,W.c,j.a,V.a,X.a,H.a,Y.b,Z.a,Q.a,G.x,K.d,J.a,ee.a,K.a,te.a,ie.a,ae.a],pipes:[G.b],styles:['.nav-category{display:block}.nav-category__header{display:flex;align-items:center;position:relative;z-index:1;padding:0 15px 0 35px;margin:0 -20px;background:#fff}.dark-theme .nav-category__header{background:#2b343b}.cu-left-sidebar.dark-theme .nav-category__header,.cu-simple-bar.dark-theme .nav-category__header{background:#20262b}.nav-category__header_opened{position:sticky;top:0}.cu2-sidebar__body_v5 .nav-category__header_opened{top:32px}.cu-simple-bar .nav-category__header_opened{top:80px}.cu-simple-bar .nav-category__header_opened_guest{top:0}.cu-simple-bar .nav-category__header{height:32px;padding:0 18px 0 22px}.nav-category__header:hover:before,.nav-category_child-selected.nav-category_closed .nav-category__header:before,.nav-category_hover .nav-category__header:before{content:"";display:block;position:absolute;width:100%;height:100%;left:0;background:rgba(233,235,240,.5)}.dark-theme .nav-category__header:hover:before,.dark-theme .nav-category_child-selected.nav-category_closed .nav-category__header:before,.dark-theme .nav-category_hover .nav-category__header:before{background:rgba(30,39,46,.5)}.cu-left-sidebar.dark-theme .nav-category__header:hover:before,.cu-left-sidebar.dark-theme .nav-category_child-selected.nav-category_closed .nav-category__header:before,.cu-left-sidebar.dark-theme .nav-category_hover .nav-category__header:before,.cu-simple-bar.dark-theme .nav-category__header:hover:before,.cu-simple-bar.dark-theme .nav-category_child-selected.nav-category_closed .nav-category__header:before,.cu-simple-bar.dark-theme .nav-category_hover .nav-category__header:before{background:#2b343b}.cu2-sidebar__body_v5 .nav-category__header:hover:before,.cu2-sidebar__body_v5 .nav-category_child-selected.nav-category_closed .nav-category__header:before,.cu2-sidebar__body_v5 .nav-category_hover .nav-category__header:before{width:calc(100% - 32px - 12px);left:32px}.cu-simple-bar__body .nav-category__header:hover:before,.cu-simple-bar__body .nav-category_child-selected.nav-category_closed .nav-category__header:before,.cu-simple-bar__body .nav-category_hover .nav-category__header:before{background:#f6f7f9}.dark-theme .cu-simple-bar__body .nav-category__header:hover:before,.dark-theme .cu-simple-bar__body .nav-category_child-selected.nav-category_closed .nav-category__header:before,.dark-theme .cu-simple-bar__body .nav-category_hover .nav-category__header:before{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__body .nav-category__header:hover:before,.cu-simple-bar.dark-theme .cu-simple-bar__body .nav-category_child-selected.nav-category_closed .nav-category__header:before,.cu-simple-bar.dark-theme .cu-simple-bar__body .nav-category_hover .nav-category__header:before{background:#2b343b}.nav-category__header:hover .nav-dropzone,.nav-category_child-selected.nav-category_closed .nav-category__header .nav-dropzone,.nav-category_hover .nav-category__header .nav-dropzone{border-color:transparent!important}.nav-category_active .nav-category__header:before,.nav-category_active:hover .nav-category__header:before{content:"";display:block;position:absolute;background:#7b68ee;width:100%;height:100%;left:0;opacity:.08}@supports (--theme-main-color:#7b68ee){.nav-category_active .nav-category__header:before,.nav-category_active:hover .nav-category__header:before{background:var(--theme-main-color)}}.dark-theme .nav-category_active .nav-category__header:before,.dark-theme .nav-category_active:hover .nav-category__header:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .nav-category_active .nav-category__header:before,.dark-theme .nav-category_active:hover .nav-category__header:before{background:var(--theme-main-color)}}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header:before,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header:before{background:#7b68ee;opacity:1;width:calc(100% - 32px - 12px);left:32px}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .nav-category_active .nav-category__header:before,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header:before{background:var(--theme-main-color)}}.dark-theme .cu2-sidebar__body_v5 .nav-category_active .nav-category__header:before,.dark-theme .cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-sidebar__body_v5 .nav-category_active .nav-category__header:before,.dark-theme .cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header:before{background:var(--theme-main-color)}}.cu-simple-bar__body .nav-category_active .nav-category__header:before,.cu-simple-bar__body .nav-category_active:hover .nav-category__header:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .nav-category_active .nav-category__header:before,.cu-simple-bar__body .nav-category_active:hover .nav-category__header:before{background:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .nav-category_active .nav-category__header:before,.dark-theme .cu-simple-bar__body .nav-category_active:hover .nav-category__header:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .nav-category_active .nav-category__header:before,.dark-theme .cu-simple-bar__body .nav-category_active:hover .nav-category__header:before{background:var(--theme-main-color)}}.nav-category_active .nav-category__header .nav-dropzone,.nav-category_active:hover .nav-category__header .nav-dropzone{border-color:transparent!important}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__name-text,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__name-text{color:#fff}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__icon,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__icon{fill:#fff}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__toggle,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__toggle{fill:#fff;stroke:#fff;opacity:1}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__sprint,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__sprint{fill:#fff;opacity:1}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__menu,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__menu{fill:#fff}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__menu:hover,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__menu:hover{fill:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__menu:hover,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__menu:hover{fill:var(--theme-main-color-light)}}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__add,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__add{fill:#7b68ee;background:#fff}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__add,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__add{fill:var(--theme-main-color)}}.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__add:hover,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__add:hover{background:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu2-sidebar__body_v5 .nav-category_active .nav-category__header .nav-category__add:hover,.cu2-sidebar__body_v5 .nav-category_active:hover .nav-category__header .nav-category__add:hover{background:var(--theme-main-color-light)}}.cu2-sidebar__body_v5 .nav-category__header:before{border-radius:4px;width:calc(100% - 32px - 12px);left:32px}.nav-category__header:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;top:0;width:2px;height:100%;opacity:0}@supports (--theme-main-color:#7b68ee){.nav-category__header:after{background:var(--theme-main-color)}}.nav-category_active .nav-category__header:after{opacity:1}.cu2-sidebar__body_v5 .nav-category__header:after{display:none}.cu-simple-bar .nav-category__header:after{width:3px;border-radius:0 3px 3px 0}.cu2-sidebar__body_v5 .nav-category__header{padding-right:25px;padding-left:0;margin:0;cursor:pointer;height:28px}.layout-size_compact .cu2-sidebar__body_v5 .nav-category__header{height:28px}.layout-size_default .cu2-sidebar__body_v5 .nav-category__header{height:32px}.layout-size_large .cu2-sidebar__body_v5 .nav-category__header{height:36px}.cu-simple-bar .nav-category__header .nav-editor{margin:0 15px 0 50px;box-shadow:none}.cu-simple-bar .nav-category__header .nav-editor__input{padding-left:22px;font-size:12px;font-weight:400}.cu-simple-bar__body .nav-category__header-border{height:1px;flex-shrink:0;position:sticky;margin:-1px -20px 0;top:112px;background:#e9ebf0}.dark-theme .cu-simple-bar__body .nav-category__header-border{background:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__body .nav-category__header-border,.cu-simple-bar.dark-theme .cu-simple-bar__body .nav-category__header-border{background:#384047}.cu-simple-bar__body .cu-shared-nav__body .nav-category__header-border{display:none}.nav-category__icon{margin:0 6px 0 0;width:16px;height:16px;pointer-events:none}.nav-category__icon_archive{margin-top:-4px}.nav-category__icon_private{width:10px;height:11px;fill:#333;stroke:#333}.dark-theme .nav-category__icon_private{fill:#d5d6d7;stroke:#d5d6d7}.nav-category_archived .nav-category__icon_private{opacity:.9}.nav-category__name{flex-grow:1;padding:3px 0;margin-left:-20px;display:flex;align-items:center;min-width:0;position:relative}.layout-size_compact .nav-category__name,.layout-size_default .nav-category__name{padding:3px 0}.layout-size_large .nav-category__name{padding:4px 0}.cu2-sidebar__body_v4 .nav-category__name,.layout-size_compact .cu2-sidebar__body_v4 .nav-category__name,.layout-size_default .cu2-sidebar__body_v4 .nav-category__name{padding:2px 0 1px}.layout-size_large .cu2-sidebar__body_v4 .nav-category__name{padding:3px 0 2px}.cu2-sidebar__body_v5 .nav-category__name{margin-left:0}.cu-simple-bar .nav-category__name{padding:0 0 0 30px;height:100%}.nav-category__name-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:25px;color:#333}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.nav-category__name-text{font-family:var(--global-font-support)}}.dark-theme .nav-category__name-text{color:#d5d6d7}.layout-size_compact .nav-category__name-text{font-size:13px}.layout-size_default .nav-category__name-text{font-size:14px}.layout-size_large .nav-category__name-text{font-size:15px}.cu2-sidebar__body_v4 .nav-category__name-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:500;font-size:14px}.layout-size_compact .cu2-sidebar__body_v4 .nav-category__name-text{font-size:14px}.layout-size_default .cu2-sidebar__body_v4 .nav-category__name-text{font-size:15px}.layout-size_large .cu2-sidebar__body_v4 .nav-category__name-text{font-size:16px}.cu2-sidebar__body_v5 .nav-category__name-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;pointer-events:none;line-height:1.2;font-size:12.5px}.layout-size_compact .cu2-sidebar__body_v5 .nav-category__name-text{font-size:12.5px}.layout-size_default .cu2-sidebar__body_v5 .nav-category__name-text{font-size:13px}.layout-size_large .cu2-sidebar__body_v5 .nav-category__name-text{font-size:14px}.cu2-sidebar__body_v5 .nav-category__name-text_clickable{pointer-events:auto;border-top:1px solid transparent;border-bottom:1px solid transparent}.cu2-sidebar__body_v5 .nav-category__name-text_clickable:hover{border-bottom:1px dashed}.cu-simple-bar__body .nav-category__name-text{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;pointer-events:none;padding:0;color:#51555c}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-simple-bar__body .nav-category__name-text{font-family:var(--global-font-support)}}.dark-theme .cu-simple-bar__body .nav-category__name-text{color:#d5d6d7}.cu-simple-bar__body .nav-category__name-text_clickable{pointer-events:auto;border-top:1px solid transparent;border-bottom:1px solid transparent}.cu-simple-bar__body .nav-category__name-text_clickable:hover{border-bottom:1px dashed}.nav-category_active .nav-category__name-text{color:#111}.cu-simple-bar__body .nav-category_active .nav-category__name-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__body .nav-category_active .nav-category__name-text{color:var(--theme-main-color)}}.dark-theme .cu-simple-bar__body .nav-category_active .nav-category__name-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__body .nav-category_active .nav-category__name-text{color:var(--theme-main-color)}}.dark-theme .nav-category_active .nav-category__name-text{color:#d5d6d7}.nav-category_archived .nav-category__name-text{font-style:italic;opacity:.9}.nav-category__name-handle{position:absolute;left:5px;flex-shrink:0;width:10px;padding:0;height:18px;opacity:0;cursor:move;z-index:10;fill:#bcc0c7}.dark-theme .nav-category__name-handle{fill:#828588}.nav-category__name-handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category__name-handle:hover{fill:var(--theme-main-color)}}.nav-category__name-handle_guest{visibility:hidden;pointer-events:none}.cu2-sidebar__body_v5 .nav-category__name-handle{width:10px;height:18px;left:19px;margin:0}.cu2-sidebar__body_v5 .nav-category__header_guest .nav-category__name-handle{display:none}.nav-category_hidden{visibility:hidden;height:0}.nav-category__name:hover,.nav-category_active .nav-category__name{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category__name:hover,.nav-category_active .nav-category__name{color:var(--theme-main-color)}}.nav-category__toggle{flex-shrink:0;width:14px;height:12px;cursor:pointer;margin:-1px 7px 0 0;stroke-width:2px;stroke:#d0d3d9;fill:#d0d3d9}.dark-theme .nav-category__toggle{stroke:#828588;fill:#828588}.nav-category__toggle:hover{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category__toggle:hover{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.layout-size_compact .cu2-sidebar__body_v4 .nav-category__toggle{width:14px;height:12px}.layout-size_default .cu2-sidebar__body_v4 .nav-category__toggle{width:15px;height:13px}.layout-size_large .cu2-sidebar__body_v4 .nav-category__toggle{width:16px;height:14px}.cu2-sidebar__body_v5 .nav-category__toggle{width:12px;height:10px;margin-left:44px;margin-right:9px;stroke-width:1.3;opacity:.7;stroke:#292d34;fill:#292d34}.dark-theme .cu2-sidebar__body_v5 .nav-category__toggle{stroke:#d5d6d7;fill:#d5d6d7}.cu2-sidebar__body_v5 .nav-category__toggle:hover{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu2-sidebar__body_v5 .nav-category__toggle:hover{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.dark-theme .cu2-sidebar__body_v5 .nav-category__toggle:hover{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu2-sidebar__body_v5 .nav-category__toggle:hover{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.cu-simple-bar__body .nav-category__toggle{stroke-width:0;margin-right:8px;width:14px;height:11px;fill:#7c828d}.dark-theme .cu-simple-bar__body .nav-category__toggle{fill:#abaeb0}.cu-simple-bar__body .nav-category__toggle_opened{margin-right:5px;width:17px;height:12px}.nav-category_active .nav-category__toggle{stroke:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category_active .nav-category__toggle{stroke:var(--theme-main-color);fill:var(--theme-main-color)}}.nav-category__sprint{flex-shrink:0;cursor:pointer;margin:2px 3px 0 0;width:18px;height:18px;fill:#d0d3d9}.dark-theme .nav-category__sprint{fill:#828588}.nav-category__sprint:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category__sprint:hover{fill:var(--theme-main-color)}}.layout-size_compact .cu2-sidebar__body_v4 .nav-category__sprint{width:18px;height:18px}.layout-size_default .cu2-sidebar__body_v4 .nav-category__sprint{width:19px;height:19px}.layout-size_large .cu2-sidebar__body_v4 .nav-category__sprint{width:20px;height:20px}.cu2-sidebar__body_v5 .nav-category__sprint{margin-top:2px;margin-right:5px;margin-left:43px;opacity:.7;fill:#292d34}.dark-theme .cu2-sidebar__body_v5 .nav-category__sprint{fill:#d5d6d7}.cu-simple-bar__body .nav-category__sprint{margin:6px 4px 0 0;width:19px;height:19px;fill:#7c828d}.dark-theme .cu-simple-bar__body .nav-category__sprint{fill:#abaeb0}.nav-category_active .nav-category__sprint{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category_active .nav-category__sprint{fill:var(--theme-main-color)}}.nav-category_open .nav-category__caret{fill:#d0d3d9;transform:rotate(0deg)}.dark-theme .nav-category_open .nav-category__caret{fill:#828588}.nav-category__caret{transition:transform .2s cubic-bezier(.785,.135,.15,.86);flex-shrink:0;width:14px;height:14px;cursor:pointer;margin:-1px 2px 0 0;fill:#d0d3d9;transform:rotate(-90deg)}.dark-theme .nav-category__caret{fill:#828588}.nav-category__caret:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category__caret:hover{fill:var(--theme-main-color)}}.cu-simple-bar .nav-category__caret{width:12px;height:12px;margin-right:7px}.cu2-sidebar__body_v5 .nav-category__header_guest .nav-category__caret{display:none}.nav-category__header:hover .nav-category__name-handle{opacity:1}.nav-category__plus{display:none;flex-shrink:0;width:24px;height:24px;background:#fff;cursor:pointer;margin:0 5px;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.1)}.nav-category__plus_onboarding{display:block;visibility:hidden}.contrast_high .nav-category__plus{box-shadow:0 0 3px rgba(0,0,0,.25)}.dark-theme .nav-category__plus{background:transparent;box-shadow:0 0 3px rgba(0,0,0,.1)}.nav-category__plus:hover .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category__plus:hover .cu-fill{fill:var(--theme-main-color)}}.dark-theme .nav-category__plus:hover .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .nav-category__plus:hover .cu-fill{fill:var(--theme-main-color)}}.sidebar-section__header:hover .nav-category__plus{margin-left:7px;display:block}.nav-category__plus .cu-fill-background{fill:#fff}.dark-theme .nav-category__plus .cu-fill-background{fill:#384047}.dark-theme .nav-category__plus .cu-fill,.nav-category__plus .cu-fill{fill:#828588}.nav-category__header:hover .nav-category__plus,.nav-category_open .nav-category__plus{display:block}.nav-category__menu{fill:#7b68ee;display:none;flex-shrink:0;height:24px;cursor:pointer;opacity:0}@supports (--theme-main-color:#7b68ee){.nav-category__menu{fill:var(--theme-main-color)}}.nav-category__menu .nav-category__remove{width:24px;height:24px;padding:4px;cursor:pointer}.nav-category__menu .nav-category__restore{width:24px;height:24px;padding:6px;cursor:pointer;margin-right:4px;margin-left:8px}.nav-category__menu .nav-category__restore .cu-stroke{stroke:#2b343b}.dark-theme .nav-category__menu .nav-category__restore .cu-stroke{stroke:#d5d6d7}.nav-category__header:hover .nav-category__menu,.nav-category_hover .nav-category__menu,.nav-category_open .nav-category__menu{opacity:1;display:flex}.nav-category__add{display:none;width:14px;height:14px;padding:2px;margin-top:-1px;margin-left:6px;border-radius:50%;cursor:pointer;fill:#fff;background:#7c828d}.dark-theme .nav-category__add{fill:#384047;background:#828588}.nav-category__add:hover,.nav-category__header .cu-dropdown_open .nav-category__add{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.nav-category__add:hover,.nav-category__header .cu-dropdown_open .nav-category__add{background:var(--theme-main-color)}}.cu-simple-bar .nav-category__add:hover,.cu-simple-bar .nav-category__header .cu-dropdown_open .nav-category__add{fill:#7b68ee;background:transparent}@supports (--theme-main-color:#7b68ee){.cu-simple-bar .nav-category__add:hover,.cu-simple-bar .nav-category__header .cu-dropdown_open .nav-category__add{fill:var(--theme-main-color)}}.dark-theme .cu-simple-bar .nav-category__add:hover,.dark-theme .cu-simple-bar .nav-category__header .cu-dropdown_open .nav-category__add{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar .nav-category__add:hover,.dark-theme .cu-simple-bar .nav-category__header .cu-dropdown_open .nav-category__add{fill:var(--theme-main-color)}}.nav-category__header .cu-dropdown_open .nav-category__add,.nav-category__header:hover .nav-category__add,.nav-category_hover .nav-category__add,.nav-category_open .nav-category__add{display:block}.cu2-sidebar__body_v5 .nav-category__add{margin-left:7px}.cu-simple-bar .nav-category__add{border-radius:0;padding:1px;margin-left:4px;fill:#7c828d;background:transparent}.dark-theme .cu-simple-bar .nav-category__add{fill:#828588;background:transparent}.nav-category__editor{display:none;position:absolute;top:0;left:0;right:0;bottom:0}.nav-category__body{overflow:hidden;height:0;display:flex;flex-direction:column;margin:0 -20px}.nav-category__body_v5{margin:0}.nav-category_active .nav-category__body,.nav-category_open .nav-category__body{height:auto;overflow:visible}.nav-category_open .nav-category_list-dragging{min-height:30px}.nav-category .lv-category-edit__popover{position:absolute;top:50%;right:-10px;padding:0}.nav-category.cdk-drag-placeholder,.nav-category.cdk-drag-preview{opacity:.7}.cdk-drop-list-dragging .nav-category.cdk-drag:not(.cdk-drag-placeholder){transition:transform .2s cubic-bezier(0,0,.2,1)}.nav-category.cdk-drag-animating{transition:transform .15s cubic-bezier(0,0,.2,1)}.nav-category.cu-state-drag-over .nav-category__body{min-height:30px}'],encapsulation:2,data:{animation:[D.f]},changeDetection:0}),e})()},p8zl:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var a=i("ofXK"),o=i("tyNb"),c=i("3Pt+"),n=i("jLNh"),s=i("Ivax"),r=i("EDFS"),l=i("kHoN"),d=i("5FVs"),u=i("38Di"),p=i("k6wb"),m=i("7YvY"),h=i("X5rV"),b=i("oqaq"),g=i("fXoL");let f=(()=>{class e{}return e.\u0275mod=g.Ub({type:e}),e.\u0275inj=g.Tb({factory:function(t){return new(t||e)},providers:[c.f],imports:[[a.c,o.l,c.l,c.x,n.a,l.a,s.a,d.a,u.a,r.d.forRoot(),p.a,m.a,h.a,b.a]]}),e})()},pcgY:function(e,t,i){"use strict";i.d(t,"a",function(){return ce});var a=i("l7P3"),o=i("523H"),c=i("9jGm"),n=i("A/Rp"),s=i("zp1y"),r=i("eIep"),l=i("lJxs"),d=i("aGrj"),u=i("CqXF"),p=i("5+tZ"),m=i("JIr8"),h=i("IzEk"),b=i("vkgz"),g=i("pLZG"),f=i("3E0/"),_=i("Kj3r"),v=i("wO+i"),y=i("IAdc"),w=i("EY2u"),k=i("PqYM"),x=i("itXk"),T=i("LRne"),S=i("GyhO"),j=i("Cfvw"),O=i("cp0P"),I=i("LEq2"),D=i("c3rA"),C=i("o7Ov"),P=i("xWuZ"),$=i("BeL+"),z=i("XIp8"),M=i("f0Wu"),E=i("kRoH"),L=i("GkwO"),A=i("eKZ6"),F=i("Gj5t"),U=i("MguC"),N=i("7Cbv"),R=i("12P9"),G=i("TqRa"),q=i("qr2t"),B=i("nLWA"),W=i("m2rH"),V=i("ofXK"),X=i("RtrR"),H=i("mNZE"),Y=i("fXoL"),Z=i("AeD3"),Q=i("LLqd"),K=i("xog/"),J=i("76Cs"),ee=i("PSyB"),te=i("IADw"),ie=i("gXbQ");function ae(e,t,i,a,o){const c=a&&!e.meta.task.parent?e.meta.task.rolled_up_time_estimate:e.meta.task.time_estimate;if(c){i=i||B.a;const e=36e5,a=Math.floor(c/e),o=c-a*e,n=a>0?Math.floor(a/i):0,s=a-n*i,r=M(t);return n>0&&r.endOf("day"),r.add(n>0?n-1:0,"days").add(s,"hours").add(o,"milliseconds").toDate()}if(o)return M(t).add(1,"hour").toDate()}let oe=(()=>{class e{constructor(e,t,i,a,O,F,B,Y,Z){this.action$=e,this.dataService=t,this.store=i,this.selectedTasks=a,this.helpers=O,this.taskService=F,this.publicViewHelper=B,this.calendarService=Y,this.userService=Z,this.setSortBy$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.SetSortByField),Object(s.a)(this.store.select(I.bb),this.store.select(I.O)),Object(r.a)(([e,t,i])=>{const a="unscheduled"===i?"unscheduledTasksSortBy":"overdueTasksSortBy";return[new n.Eb({updates:{[a]:Object.assign(Object.assign({},t[a]),{field:e.payload.field})},reloadSidebarTasks:!0})]}))),this.toggleSortByDirection$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ToggleSortByDirection),Object(s.a)(this.store.select(I.bb),this.store.select(I.O)),Object(r.a)(([,e,t])=>{const i="unscheduled"===t?"unscheduledTasksSortBy":"overdueTasksSortBy";return[new n.Eb({updates:{[i]:Object.assign(Object.assign({},e[i]),{dir:e[i].dir===A.a.Asc?A.a.Desc:A.a.Asc})},reloadSidebarTasks:!0})]}))),this.setSidebarTaskType$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.SetSidebarTaskType),Object(r.a)(e=>[new n.Eb({updates:{sidebarTaskType:e.payload.type}}),new n.L({type:e.payload.type,showLoading:!1})]))),this.loadCategories$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadCategoriesStart),Object(s.a)(this.store.select(I.b),this.store.select(D.getTeam)),Object(r.a)(([,e,t])=>0!==e.length||G.k?w.a:this.dataService.getHierarchy(t.id,{includeStatuses:!0}).pipe(Object(l.a)(e=>new n.x({allProjectCategories:Object(P.a)(e.projects.map(e=>e.categories))})))))),this.startHighlightToday$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.HighlightTodayStart),Object(s.a)(this.store.select(I.o)),Object(r.a)(([,e])=>e?[new n.mb({highlightToday:!1}),new n.u]:Object(k.a)(1).pipe(Object(r.a)(()=>[new n.mb({highlightToday:!0}),new n.t]))))),this.endHighlightToday$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.HighlightTodayComplete),Object(d.a)(Object(k.a)(2e3)),Object(u.a)(new n.mb({highlightToday:!1})))),this.setView$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.SetView),Object(s.a)(this.store.select(D.getUser),this.store.select(I.Y),this.store.select(I.Z),this.store.select(I.bb)),Object(r.a)(([e,t,i,a,o])=>{const c="week"===i&&"day"===e.payload.view&&M(a).isSame(M(),"week"),s={fourDayWeekView:e.payload.fourDayWeekView,viewType:e.payload.view};return c&&o.viewDate&&(s.viewDate=M().startOf("day").toDate().toISOString()),[e.payload.saveUser?new C.om({user_data:Object.assign(Object.assign({},t.user_data),{calendar_view_type:e.payload.view})}):null,new n.mb({highlightToday:!1}),new n.Eb({updates:s})].filter(Boolean)}))),this.reloadTaskIds=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ReloadTasks),Object(p.a)(e=>this.getTasks(e.payload.taskIds).pipe(Object(s.a)(this.store.select(D.getUser),this.store.select(L.qb),this.store.select(I.I)),Object(r.a)(([t,i,a,c])=>{const n=[],s=t.filter(e=>Object(o.c)(e));if(s.length>0){const t=[];s.forEach(e=>{e.due_date?t.push(+e.due_date):e.start_date&&t.push(+e.start_date)});const o=Math.min(...t),r=Math.max(...t);n.push(this.getScheduledTaskIds(i.id,{start:new Date(o),end:new Date(r)},a.settings.showSubtasksType!==U.h.None,c,!e.payload.noFreshReq).pipe(Object(l.a)(e=>({scheduled:e}))))}return t.some(o.d)&&n.push(this.getUnscheduledTaskIds().pipe(Object(l.a)(e=>({unscheduled:e})))),t.some(o.b)&&n.push(this.getOverdueTaskIds().pipe(Object(l.a)(e=>({overdue:e})))),Object(x.a)(n).pipe(Object(l.a)(e=>{let i={tasks:t};return e.forEach(e=>{i=Object.assign(Object.assign({},i),e)}),i}))}),Object(s.a)(this.store.select(I.C),this.store.select(I.X),this.store.select(D.getUser)),Object(r.a)(([t,i,a,o])=>{let c=[];const s=t.tasks,r=[...t.scheduled||[],...t.unscheduled||[],...t.overdue||[]];t.unscheduled&&c.push(new n.qb({taskIds:t.unscheduled,type:"unscheduled"})),t.overdue&&c.push(new n.qb({taskIds:t.overdue,type:"overdue"}));const l=[...i,...a];return s&&s.length>0&&(c=[...c,...s.filter(e=>r.includes(e.id)).map(e=>new n.Bb({task:e,currentUserId:o.id}))]),e.payload.taskIds.forEach(e=>{-1!==l.findIndex(t=>t.id===e)&&-1===r.indexOf(e)&&c.push(new n.h({id:e}))}),c}),Object(m.a)(()=>w.a))))),this.renameTask$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.RenameTaskSave),Object(s.a)(this.store.select(I.A),this.store.select(D.getNewTaskSubcategory),this.store.select(I.i)),Object(p.a)(([e,t,i,a])=>t===I.a?e.payload.name?this.dataService.createTask(i.id,{name:e.payload.name,start_date:String(a.start.getTime()),start_date_time:!0,due_date:String(a.end.getTime()),due_date_time:!0}).pipe(Object(s.a)(this.store.select(D.getUser)),Object(r.a)(([e,t])=>[new n.b({task:e.task,currentUserId:t.id}),new n.cb({taskId:null}),new n.l,new n.ab({taskIds:[e.id]})]),Object(m.a)(()=>w.a)):Object(T.a)(new n.l):this.dataService.editTask(t,{name:e.payload.name}).pipe(Object(u.a)(new n.cb({taskId:null})),Object(m.a)(()=>w.a))))),this.selectTask$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.SelectTask),Object(r.a)(e=>this.store.select(Object(I.T)(e.payload.id)).pipe(Object(h.a)(1))),Object(s.a)(this.store.select(D.getIsSharedSpaceOrGuest)),Object(b.a)(([e,t])=>{e.permissions&&e.permissions.change_due_date&&!e.parent&&!t&&this.selectedTasks.selectTasks([e])})),{dispatch:!1}),this.deselectTask$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.DeselectTask),Object(r.a)(e=>this.store.select(Object(I.T)(e.payload.id))),Object(r.a)(e=>(this.selectedTasks.unselectTasks([e]),[])))),this.deselectAllTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.DeselectAllTasks),Object(s.a)(this.store.select(I.G)),Object(b.a)(([,e])=>{const t=this.selectedTasks.selectedTaskList;t.length>0&&this.selectedTasks.unselectTasks(t)})),{dispatch:!1}),this.toggleSelectedTask$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ToggleSelectedTask),Object(s.a)(this.store.select(I.G)),Object(l.a)(([e,t])=>t.includes(e.payload.id)?new n.j(e.payload):new n.gb(e.payload)))),this.updateTaskDatesStart$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.UpdateTaskDatesStart),Object(s.a)(this.store.select(D.getUser)),Object(r.a)(([e,t])=>{const{task:i,startDate:a,dueDate:o,disableTime:c,enableTime:s}=e.payload;if(a&&o&&a.getTime()>o.getTime())return w.a;const r={start_date:a?String(a.getTime()):null,due_date:o?String(o.getTime()):null};!a||c?r.start_date_time=!1:s&&(r.start_date_time=!0),!o||c||!s&&!i.due_date&&i.due_date_time?r.due_date_time=!1:s&&(r.due_date_time=!0);const l=Object.assign(Object.assign({},i),r);return[new n.Bb({task:l,currentUserId:t.id}),new W.f([l]),new n.Cb(Object.assign(Object.assign({},e.payload),{taskUpdates:r}))]}))),this.updateTaskDatesPersist$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.UpdateTaskDatesPersist),Object(p.a)(e=>{const{task:t,startDate:i,dueDate:a,disableTime:o,enableTime:c,remapDueDates:l,taskUpdates:d,profile:u}=e.payload;return this.dataService.editTask(t.id,d,!0,!1,!1,l).pipe(Object(s.a)(this.store.select(Object(I.T)(t.id)),this.store.select(D.getUser)),Object(r.a)(([e,s,r])=>{const l=[];l.push(new n.s({taskId:t.id}));const p=Object.assign(Object.assign({},s),d);if(e.due_date_conflict)l.push(new n.vb({taskId:t.id,remap:{startDate:i,dueDate:a,enableTime:c,disableTime:o}}));else{if(t.recurring_settings){const e=Object(R.k)(t.recurring_settings);let i;if(a){const o=Object(R.b)(e,M(a),void 0!==typeof d.due_date_time?d.due_date_time:t.due_date_time);i=Object(R.i)(o)}p.recurring_settings=i,this.taskService.setRecurringAsync(t,i).subscribe()}u&&this.taskService.onChange.emit({tasks:[p]})}return s&&l.push(new n.Bb({task:p,currentUserId:r.id})),l.push(new W.f([p])),l}),Object(m.a)(()=>w.a))}))),this.updateTask$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.UpdateTask),Object(r.a)(e=>e.payload.skipReloadFromApi?w.a:Object(o.d)(e.payload.task)?[new n.Y({type:"unscheduled"})]:Object(o.b)(e.payload.task)?[new n.Y({type:"overdue"})]:w.a))),this.confirmRemap$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ConfirmRemapSubtasks),Object(s.a)(this.store.select(I.K),this.store.select(I.C)),Object(r.a)(([e,t,i])=>{const a=[],{taskId:o,remapAction:c}=e.payload,s=e.payload.task||i.find(e=>e.id===o);if(s&&t[o]){const{startDate:e,dueDate:i,enableTime:r,disableTime:l}=t[o];a.push(new n.Db({task:s,startDate:e,dueDate:i,enableTime:r,disableTime:l,remapDueDates:c}))}return a.push(new n.s({taskId:o})),a}))),this.eventsDragSelected$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.EventsDragSelected),Object(r.a)(e=>{const t=[],i=e.payload.taskIds.filter(e=>!e.startsWith(q.c));return i.length>0&&(t.push(new n.lb({value:!0})),t.push(new n.i),i.forEach(e=>{t.push(new n.gb({id:e}))})),t}))),this.moveScheduledToUnscheduled$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.MoveScheduledToUnscheduledEvent),Object(r.a)(e=>this.store.select(Object(I.H)(e.payload.task)).pipe(Object(h.a)(1))),Object(s.a)(this.store.select(I.C),this.store.select(I.G),this.store.select(I.O)),Object(r.a)(([e,t,i,a])=>"overdue"===a?[]:[...e.filter(e=>t.some(t=>t.id===e.id)).map(e=>new n.Db({task:e,startDate:null,dueDate:null,enableTime:!1,disableTime:!1,remapDueDates:"check"})),i.includes(e[0].id)?new n.i:null].filter(Boolean)))),this.googleCalendarEventTimesChanged$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.GoogleCalendarEventTimesChanged),Object(p.a)(e=>{if((e.payload.allDay!==e.payload.event.allDay||e.payload.type===E.c.Drop)&&e.payload.type!==E.c.Resize)return[];const t=!("dateTime"in e.payload.event.meta.gcalEvent.start_obj)&&!("dateTime"in e.payload.event.meta.gcalEvent.end_obj),i=t?{start:{date:Object(V.E)(e.payload.newStart,"yyyy-MM-dd","en")},end:{date:Object(V.E)(M(e.payload.newEnd).add(1,"day").toDate(),"yyyy-MM-dd","en")}}:{start:{dateTime:e.payload.newStart.toISOString()},end:{dateTime:e.payload.newEnd.toISOString()}};return Object(S.a)(Object(T.a)(new n.Ab({eventId:e.payload.event.meta.gcalEvent.id,changes:{start_date:String(e.payload.newStart.getTime()),start_obj:i.start,end_date:t?M(e.payload.newEnd).add(1,"day").startOf("day").format("x"):String(e.payload.newEnd.getTime()),end_obj:i.end}})),this.calendarService.editGoogleCalendarEvent(e.payload.event.meta.syncId,e.payload.event.meta.gcalEvent.id,i).pipe(Object(d.a)([])))}))),this.eventTimesChanged$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.EventTimesChanged),Object(s.a)(this.store.select(I.Y),this.store.select(D.getTeam)),Object(r.a)(([e,t,i])=>{const{event:a,allDay:o,type:c,profile:s}=e.payload;let{newStart:r,newEnd:l}=e.payload,d=!1,u=!1;const p=["day","week"].includes(e.payload.view||t),m=["drag","drop"].includes(c),h=o&&!a.allDay,b=!o&&a.allDay;p&&(!o&&m||"resize"===c&&!a.allDay)&&(d=!0),p&&o&&m&&(u=!0,!a.meta.task.due_date&&a.meta.task.start_date||(r=M(r).hours(4).startOf("hour").toDate())),b&&m&&!l&&(l=ae(a,r,i.hours_per_day,i.time_estimate_rollup,p)),l=l||r;const g=r.getTime()!==l.getTime(),f=[];if(a.meta.task.start_date&&!h||g)f.push(new n.Db({task:a.meta.task,startDate:r,dueDate:g?l:null,enableTime:d,disableTime:u,remapDueDates:"check",profile:s}));else{const e=M(Number(a.meta.task.start_date)).toDate();f.push(new n.Db({task:a.meta.task,startDate:h&&a.meta.task.start_date&&e<l?e:null,dueDate:l,enableTime:d,disableTime:u,remapDueDates:"check",profile:s}))}return f.push(new n.nb({value:!1})),f}))),this.monthViewExternalEventDropped$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.MonthViewExternalEventDropped),Object(r.a)(e=>this.store.select(Object(I.F)(e.payload.task)).pipe(Object(h.a)(1),Object(r.a)(t=>t.map(t=>new n.p({event:t,newStart:M(t.start).add(e.payload.diffInMs,"milliseconds").toDate(),newEnd:t.end?M(t.end).add(e.payload.diffInMs,"milliseconds").toDate():void 0,type:"drop"}))))))),this.dayOrWeekEventTimesChanged$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.DayOrWeekEventTimesChanged),Object(s.a)(this.store.select(I.X),this.store.select(D.getTeam)),Object(r.a)(([e,t,i])=>{const a=Object.assign({},e.payload),o=t.some(e=>e.id===a.event.meta.task.id),c=["drag","drop"].includes(a.type);if(!o||a.allDay||a.profile||(a.newEnd=ae(a.event,a.newStart,i.hours_per_day,i.time_estimate_rollup,!0)),c){const t=M(a.newStart).diff(a.event.start,"milliseconds"),i=a.allDay!==a.event.allDay;return(a.profile?Object(T.a)([e.payload.event]):this.store.select(Object(I.F)(e.payload.event.meta.task))).pipe(Object(h.a)(1),Object(r.a)(e=>e.map(e=>{const o=c&&e.meta.isFakeEndDate&&!a.allDay,s=i?{}:{newStart:M(e.start).add(t,"milliseconds").toDate(),newEnd:e.end&&!o?M(e.meta.originalEndDate||e.end).add(t,"milliseconds").toDate():void 0};return new n.p(Object.assign(Object.assign(Object.assign({},a),{event:e}),s))})))}return Object(T.a)(new n.p(a))}))),this.loadScheduledTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadScheduledTasksStart),Object(s.a)(this.store.select(I.ab),this.store.select(I.J),this.store.select(D.getUser),this.store.select(L.qb),this.store.select(I.I)),Object(r.a)(([e,t,i,a,o,c])=>Object(x.a)([this.getScheduledTaskIds(a.id,t,o.settings.showSubtasksType!==U.h.None,c,e.payload.freshReq),e.payload.withRecurring&&i?this.getSelectedDataViewTaskIds("recurring",null,e.payload.freshReq):Object(T.a)([])]).pipe(Object(r.a)(([e,t])=>{const i=Object($.a)([...e,...t]);return this.getTasks(i)}),Object(l.a)(i=>new n.V({tasks:i,range:t,clearCachedTasks:e.payload.clearCachedTasks})),Object(m.a)(e=>Object(T.a)(new n.T({error:e}))))))),this.loadInitialUnscheduledTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadInitialSidebarTasksStart),Object(g.a)(e=>"unscheduled"===e.payload.type),Object(f.a)(0),Object(r.a)(e=>this.getInitialSidebarTasks(e.payload.type,e.payload.freshReq)))),this.loadInitialOverdueTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadInitialSidebarTasksStart),Object(g.a)(e=>"overdue"===e.payload.type),Object(f.a)(0),Object(r.a)(e=>this.getInitialSidebarTasks(e.payload.type,e.payload.freshReq)))),this.loadMoreSidebarTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadMoreSidebarTasksStart),Object(r.a)(e=>this.loadMoreSidebarTasks(e.payload.type)))),this.persistViewDate$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.SetViewDate),Object(s.a)(this.store.select(I.bb)),Object(r.a)(([e,t])=>{const i=[];return t.viewDate&&i.push(new n.Eb({updates:{viewDate:e.payload.viewDate.toISOString()}})),i}))),this.resizeSidebar$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ResizeUnscheduledEventsSidebar),Object(l.a)(e=>{const{width:t}=e.payload,i={unscheduledTasksSidebarWidth:t};return t<270?i.unscheduledTasksSidebarWidth=270:t>390&&(i.unscheduledTasksSidebarWidth=390),new n.Eb({updates:i})}))),this.updateViewPreferences$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.UpdateViewPreferences),Object(s.a)(this.store.select(I.bb),this.store.select(L.qb)),Object(r.a)(([e,t,i])=>{const a=Object(z.a)(Object.assign(Object.assign({},t),e.payload.updates));a.showEventItems.customFields=a.showEventItems.customFields||{};const o=[];return o.push(new C.qm(i.id,{calendarSettings:a})),e.payload.reloadSidebarTasks&&!G.k&&o.push(new n.L({type:a.sidebarTaskType,showLoading:!0,freshReq:!0})),void 0===e.payload.updates.showMeViewScheduledTasks&&void 0===e.payload.updates.showRecurringTasks||o.push(new n.v({showLoading:!0,mainOnly:!0})),o}))),this.createTask$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.CreateTask),Object(s.a)(this.store.select(X.b),this.store.select(D.getTeam),this.store.select(D.getUser)),Object(p.a)(([e,t,i,a])=>{const o=e.payload.taskData.data,{projectId:c,categoryId:s,subcategoryId:r}=o,d=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i}(o,["projectId","categoryId","subcategoryId"]);return d.start_date instanceof Date&&(d.start_date=String(d.start_date.getTime())),d.due_date instanceof Date&&(d.due_date=String(d.due_date.getTime())),t?Object(T.a)(new H.p({draft:Object.assign({queued:!0,sync_state:"initial",team:i.id,project:{id:c},category:{id:s},subcategory:{id:r},new_draft:!0,draft_uuid:Object(N.a)()},d),updating:!1})):this.dataService.createTask(r,d).pipe(Object(l.a)(e=>new n.b({task:e.task,currentUserId:a.id})),Object(m.a)(()=>w.a))}))),this.loadAllTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadAllTasks),Object(s.a)(this.store.select(I.ab)),Object(r.a)(([e,t])=>{const i=[];return i.push(new n.U({showLoading:e.payload.showLoading,clearCachedTasks:!0,range:t,withRecurring:!0,freshReq:e.payload.freshReq})),e.payload.mainOnly||G.k||(i.push(new n.L({type:"unscheduled",showLoading:e.payload.showLoading,freshReq:e.payload.freshReq})),i.push(new n.L({type:"overdue",showLoading:e.payload.showLoading,freshReq:e.payload.freshReq}))),i}))),this.setSearchText$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.SetSearchText),Object(_.a)(300),Object(s.a)(this.store.select(I.O)),Object(l.a)(([,e])=>new n.L({type:e,showLoading:!0,freshReq:!0})))),this.reloadSidebarTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ReloadSidebarTasksStart),Object(r.a)(e=>this.getSelectedDataViewTaskIds(e.payload.type).pipe(Object(l.a)(t=>new n.Z({taskIds:t,type:e.payload.type})))))),this.loadGoogleCalendarEvents$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadGoogleCalendarEventsStart),Object(s.a)(this.store.select(D.getTeam)),Object(r.a)(([e,t])=>this.getGoogleCalendarEvents(t.id,e.payload.range.start,e.payload.range.end,[],e.payload.syncIds).pipe(Object(l.a)(t=>new n.A({range:e.payload.range,events:t})),Object(m.a)(e=>Object(T.a)(new n.y({error:e}))))))),this.loadGoogleCalendars$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadGoogleCalendarsStart),Object(r.a)(()=>this.calendarService.getSyncedCalendars().pipe(Object(l.a)(e=>new n.D({calendars:e.calendars.filter(e=>"clickup"===e.calendar_direction)})),Object(m.a)(e=>Object(T.a)(new n.B({error:e}))))))),this.loadHolidayCountries$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadHolidayCountriesStart),Object(s.a)(this.store.select(I.p)),Object(r.a)(([,e])=>(e?Object(T.a)(e.map(e=>e.country)):this.calendarService.getHolidayCountries().pipe(Object(v.a)("countries"))).pipe(Object(s.a)(this.store.select(D.getUser)),Object(r.a)(([e,t])=>{var i;const a=null===(i=t.user_settings.find(e=>"country_holidays"===e.name))||void 0===i?void 0:i.value;return[new n.G({countries:e,enabledCountries:a||[]}),new n.I]}),Object(m.a)(e=>Object(T.a)(new n.E({error:e}))))))),this.toggleHolidayCountryEnabled$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.EnableHolidayCountry,n.c.DisableHolidayCountry),Object(r.a)(e=>{const t=[];return t.push(new n.fb),e.type===n.c.EnableHolidayCountry&&t.push(new n.I),t}))),this.toggleHolidayCountryVisible$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ToggleHolidayCountryVisible),Object(r.a)(()=>[new n.I,new n.fb]))),this.saveHolidays$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.SaveHolidays),Object(f.a)(0),Object(s.a)(this.store.select(I.k)),Object(r.a)(([,e])=>{const t=e.map(e=>({[e.country.code]:e.visible}));return this.userService.updateUser({country_holidays:t}).pipe(Object(s.a)(this.store.select(D.getUser)),Object(l.a)(([e,t])=>new C.Bk(Object.assign(Object.assign({},t),{user_settings:e.user.user_settings}))))}))),this.loadHolidays$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadHolidaysStart),Object(s.a)(this.store.select(I.db),this.store.select(I.q),this.store.select(I.p),this.store.select(L.qb),this.store.select(I.eb)),Object(r.a)(([e,t,i,a,o,c])=>{if(!a||!o)return w.a;const s=(e.payload&&e.payload.range?Object(q.g)(c,e.payload.range):t).filter(({country:e,year:t,month:a})=>!i[`${e}-${t}-${a}`]);return Object(j.a)(s).pipe(Object(p.a)(({country:e,year:t,month:i})=>this.calendarService.getHolidays(e,t,i+1).pipe(Object(l.a)(({holidays:a})=>({country:e,month:i,year:t,holidays:a}))),2),Object(y.a)(),Object(l.a)(e=>new n.J({buckets:e})),Object(m.a)(e=>Object(T.a)(new n.H({error:e}))))}))),this.loadProfileTasks$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.LoadProfileTasksStart),Object(r.a)(e=>this.getScheduledTaskIdsForUser(e.payload.userId,e.payload.range,e.payload.showSubtasks).pipe(Object(s.a)(this.store.select(I.U)),Object(r.a)(([t,i])=>[new n.S(Object.assign(Object.assign({},e.payload),{taskIds:t})),new W.n({ids:t,fields:i})]),Object(m.a)(e=>Object(T.a)(new n.Q({error:e}))))))),this.toggleCalendarVisible$=Object(c.c)(()=>this.action$.pipe(Object(c.d)(n.c.ToggleGoogleCalendarVisible),Object(r.a)(e=>this.calendarService.editSyncedCalendar(e.payload.syncId,{overlay_on_calendar:e.payload.visible}).pipe(Object(s.a)(this.store.select(I.ab)),Object(l.a)(([,e])=>new n.z({range:e}))))))}getGoogleCalendarEvents(e,t,i,a=[],o){const c=a.length>0?a[a.length-1].event.id:void 0,n=a.length>0?new Date(+a[a.length-1].event.start_date):t;return this.calendarService.getGoogleCalendarEvents(e,n,new Date(i.getTime()+1),c,o).pipe(Object(r.a)(t=>{const c=[...a,...t.events];return t.has_more?this.getGoogleCalendarEvents(e,n,i,c,o):Object(T.a)(c)}))}getSelectedDataViewTaskIds(e,t,i=!0){return this.store.pipe(Object(a.select)(L.qb),Object(g.a)(e=>!!e&&e.viewType===U.i.Calendar),Object(h.a)(1),Object(s.a)(this.store.pipe(Object(a.select)(L.cb),Object(l.a)(e=>e||{userIds:[],userGroupIds:[],assignedComments:!1,showUnassigned:!1})),this.store.select(L.G),this.store.select(D.getIsSharedSpaceParamSet),this.store.select(D.getSidebarShowArchivedOption),this.store.select(I.R),this.store.select(I.E),this.store.select(I.S)),Object(r.a)(([a,o,c,n,s,r,d,u])=>{if(a.viewType!==U.i.Calendar)return w.a;if("recurring"===e&&a.filter.filters.some(e=>"recurring"===e.field&&"NOT"===e.op))return Object(T.a)([]);const p=Object(F.D)(a,c,!0,n);return this.publicViewHelper.getPublicOrPrivateGenericView(Object.assign(Object.assign({},p),{filters:Object.assign(Object.assign({},p.filters),{search:d||p.filters.search}),grouping:Object.assign(Object.assign({},p.grouping),{field:null})}),{assignees:a.meView?null:o.userIds,assignedComments:a.meView?null:o.assignedComments,unassignedTasks:a.meView?null:o.showUnassigned,includeArchived:s,skipMaxLength:!0,freshReq:i,groupAssignees:a.meView?null:o.userGroupIds},null,!1,{any_date_gt:"scheduled"===e?String(t.start.getTime()):null,any_date_lt:"scheduled"===e?String(t.end.getTime()):null,overdue:"overdue"===e,no_date:"unscheduled"===e,recurring_v2:"recurring"===e,sorting:{fields:["overdue","unscheduled"].includes(e)?[Object.assign(Object.assign({},Object(F.Bb)(r)),{field:u.apiOrderBy})]:[]}}).pipe(Object(l.a)(e=>e.calendar.groups.length>0?e.calendar.groups[0].task_ids:[]))}))}getScheduledTaskIdsForUser(e,t,i){return this.store.select(D.getDashboardQueryParams).pipe(Object(h.a)(1),Object(r.a)(a=>this.dataService.getScheduledTaskIdsForUser({sharedTasks:a.sharedTasks,showArchived:a.showArchived,teamId:a.teamId,userId:e,viewStart:String(t.start.getTime()),viewEnd:String(t.end.getTime()),includeSubtasks:i}).pipe(Object(v.a)("task_ids"),Object(m.a)(()=>Object(T.a)([])))))}getScheduledTaskIds(e,t,i,a,o){return a?Object(O.a)([this.getSelectedDataViewTaskIds("scheduled",t,o),this.getScheduledTaskIdsForUser(e,t,i)]).pipe(Object(l.a)(([e,t])=>Object($.a)([...e,...t])),Object(h.a)(1)):this.getSelectedDataViewTaskIds("scheduled",t,o).pipe(Object(h.a)(1))}getOverdueTaskIds(){return this.getSelectedDataViewTaskIds("overdue")}getUnscheduledTaskIds(){return this.getSelectedDataViewTaskIds("unscheduled")}getTasks(e,{pageSize:t=100,maxPages:i}={}){return this.store.select(I.U).pipe(Object(h.a)(1),Object(r.a)(a=>{const o=this.helpers.chunkArray([...e],t);return Object(j.a)(i?o.slice(0,i):o).pipe(Object(p.a)(e=>this.publicViewHelper.getTasks(e,{taskFields:a}),2),Object(y.a)(),Object(l.a)(P.a))}))}getInitialSidebarTasks(e,t=!1){return this.getSelectedDataViewTaskIds(e,null,t).pipe(Object(r.a)(e=>this.getTasks(e,{pageSize:50,maxPages:1}).pipe(Object(l.a)(t=>({tasks:t,taskIds:e})))),Object(l.a)(({tasks:t,taskIds:i})=>new n.M({tasks:t,type:e,taskIds:i})),Object(m.a)(t=>Object(T.a)(new n.K({error:t,type:e}))))}loadMoreSidebarTasks(e){return Object(x.a)([this.store.select(I.N),this.store.select(I.V)]).pipe(Object(h.a)(1),Object(r.a)(([t,i])=>{const a=t[e].filter(e=>!i[e]).slice(0,50);return this.getTasks(a,{pageSize:50,maxPages:1}).pipe(Object(l.a)(t=>new n.P({tasks:t,type:e})),Object(m.a)(t=>Object(T.a)(new n.N({error:t,type:e}))))}))}}return e.\u0275fac=function(t){return new(t||e)(Y.nc(c.a),Y.nc(Z.a),Y.nc(a.Store),Y.nc(Q.a),Y.nc(K.b),Y.nc(J.a),Y.nc(ee.a),Y.nc(te.a),Y.nc(ie.c))},e.\u0275prov=Y.Sb({token:e,factory:e.\u0275fac}),e})(),ce=(()=>{class e{}return e.\u0275mod=Y.Ub({type:e}),e.\u0275inj=Y.Tb({factory:function(t){return new(t||e)},imports:[[a.StoreModule.forFeature("calendarView",o.a),c.b.forFeature([oe])]]}),e})()},ph3Q:function(e,t,i){e.exports=i.p+"google-sheet.58d1bede3812666cb70b.svg"},q8VT:function(e,t,i){"use strict";i.d(t,"a",function(){return y});var a=i("jnQe"),o=i("Zrce"),c=i("l7P3"),n=i("CZAz"),s=i("pLZG"),r=i("zp1y"),l=i("1G5W"),d=i("XNiG"),u=i("lU5h"),p=i("RtrR"),m=i("fXoL"),h=i("WwCI"),b=i("AeD3"),g=i("ofXK");function f(e,t){if(1&e){const e=m.dc();m.cc(0,"span",4),m.qc("click",function(){return m.Uc(e),m.uc(2).waitBanner()}),m.gc(1,12),m.bc()}}function _(e,t){if(1&e){const e=m.dc();m.cc(0,"span",4),m.qc("click",function(){return m.Uc(e),m.uc(2).disableBanner()}),m.gc(1,13),m.bc()}}function v(e,t){if(1&e){const e=m.dc();m.cc(0,"div",1),m.cc(1,"div",2),m.ac(2),m.gc(3,3),m.Zb(),m.cc(4,"span",4),m.qc("click",function(){return m.Uc(e),m.uc().acceptBanner()}),m.gc(5,5),m.bc(),m.bd(6,f,2,0,"span",6),m.bd(7,_,2,0,"span",6),m.bc(),m.tc(),m.cc(8,"svg",7),m.qc("click",function(){return m.Uc(e),m.uc().disableBanner()}),m.cc(9,"g",8),m.Xb(10,"path",9),m.bc(),m.bc(),m.cc(11,"svg",10),m.Xb(12,"path",11),m.bc(),m.bc()}if(2&e){const e=m.uc();m.Ib(3),m.kc(e.isElectron?"desktop":"browser"),m.hc(3),m.Ib(3),m.Dc("ngIf",e.showRemindMeLater),m.Ib(1),m.Dc("ngIf",!e.showRemindMeLater)}}let y=(()=>{class e{constructor(e,t,i){this.window=e,this.store=t,this.dataService=i,this.showRemindMeLater=!1,this.localStorageKey="notification",this.bannerShow=!1,this.showNotificationLink=!1,this.destroy$=new d.a,this.isElectron=Object(u.b)()}ngOnInit(){this.showBanner(),this.store.pipe(Object(c.select)(n.e),Object(s.a)(e=>!!e),Object(r.a)(this.store.select(p.b).pipe(Object(s.a)(e=>!e))),Object(l.a)(this.destroy$)).subscribe(()=>{this.subscribeUserToPush()})}ngOnDestroy(){this.workerListener&&this.workerListener(),this.destroy$.next()}showBanner(){if("undefined"!=typeof Notification){const e=Notification.permission;if("PushManager"in window&&"default"===e){const e=localStorage.getItem(this.localStorageKey);(!e||"disable"!==e&&Number(new Date)-Number(e)>2592e5)&&(this.bannerShow=!0)}this.bannerShow||"default"!==e||localStorage.getItem("hideNotificationLink")||(this.showNotificationLink=!0)}if(this.window.nativeWindow.electron_push_token){const e=localStorage.getItem(this.localStorageKey);(!e||"disable"!==e&&Number(new Date)-Number(e)>2592e5)&&(this.bannerShow=!0)}}waitBanner(){const e=Number(new Date);localStorage.setItem(this.localStorageKey,String(e+2592e5)),this.bannerShow=!1}acceptBanner(){this.window.nativeWindow.electron_push_token?(this.bannerShow=!1,this.subscribeUserToElectronPush(),this.disableBanner()):"undefined"!=typeof Notification&&(Notification.requestPermission(e=>{"granted"===e&&this.subscribeUserToPush(!0)}),this.bannerShow=!1)}disableBanner(){localStorage.setItem(this.localStorageKey,"disable"),this.bannerShow=!1}subscribeUserToPush(e=!1){const t=Object(a.a)();t&&navigator.serviceWorker.getRegistration(t).then(e=>e||navigator.serviceWorker.register(t)).then(t=>{if(void 0===t.pushManager)return this.showNotificationLink=!1,localStorage.setItem("hideNotificationLink","true"),alert("Browser does not support web push notifications");let i;if(t.installing?i=t.installing:t.waiting?i=t.waiting:t.active&&(i=t.active),i){if("activated"===i.state)return this.pushToManager(t,e);this.workerListener=i.addEventListener("statechange",i=>{"activated"===i.target.state&&this.pushToManager(t,e)})}},e=>{alert("Browser does not support service workers"),this.showNotificationLink=!1,localStorage.setItem("hideNotificationLink","true")})}subscribeUserToElectronPush(){const e=this.window.nativeWindow.electron_push_token;e&&this.dataService.setNotificationAuthData(JSON.stringify({electron:!0,token:e})).subscribe()}pushToManager(e,t){const i={userVisibleOnly:!0,applicationServerKey:(e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(t),a=new Uint8Array(i.length);for(let o=0;o<i.length;++o)a[o]=i.charCodeAt(o);return a})("BE53M_MmBWHla5bXmsdaenxC4kDJM2YkYOMskqKvzNxnhkF2H20_e1V3hx0CZhYPL7DvMdgH5EP7IddXWq95Jfo")};e.pushManager.subscribe(i).then(e=>{const i=JSON.stringify(e);this.store.dispatch(new o.n({notificationData:i,sendToServer:t}))})}}return e.\u0275fac=function(t){return new(t||e)(m.Wb(h.a),m.Wb(c.Store),m.Wb(b.a))},e.\u0275cmp=m.Qb({type:e,selectors:[["cu-web-push-notification-banner"]],inputs:{modifier:"modifier",showRemindMeLater:"showRemindMeLater",localStorageKey:"localStorageKey"},decls:1,vars:1,consts:function(){let e,t,i,a;return e=$localize`:@@cu-web-push-notification-banner__question_enable-notifications␟08b14a6179a930c5f6b39ea62ead770f098f5c84␟67907145770330192: Do you want to enable ${"\ufffd0\ufffd"}:INTERPOLATION: notifications? `,t=$localize`:@@common_enable␟ac6c9212896d39b23811ed2dadab7d07336ec559␟2180291763949669799:Enable`,i=$localize`:@@cu-web-push-notification-banner__remind-me-later␟650b8c3e81746bc33ff276f2ef30bf89fa2d74dd␟5704345824323933019:Remind me later`,a=$localize`:@@cu-web-push-notification-banner__hide-notification␟aba797aeca5b470c8dcb438270a88e84997fdcd3␟4943396089360182937:Hide this`,[["class","notifications-banner",4,"ngIf"],[1,"notifications-banner"],[1,"notifications-banner-text"],e,[1,"notifications-banner__request",3,"click"],t,["class","notifications-banner__request",3,"click",4,"ngIf"],["width","11","height","11","xmlns","http://www.w3.org/2000/svg",1,"notifications-banner-close",3,"click"],["stroke","#FFF","stroke-width","2","fill","none","fill-rule","evenodd"],["d","M1 1l9 9M10 1l-9 9"],["width","14","height","13","xmlns","http://www.w3.org/2000/svg",1,"notifications-banner-icon"],["d","M8 10.74219V9.2578c0-.07291-.02474-.13411-.07422-.1836C7.8763 9.02475 7.81771 9 7.75 9h-1.5c-.0677 0-.1263.02474-.17578.07422C6.02474 9.1237 6 9.1849 6 9.25782v1.48437c0 .07291.02474.13411.07422.1836C6.1237 10.97525 6.18229 11 6.25 11h1.5c.0677 0 .1263-.02474.17578-.07422C7.97526 10.8763 8 10.8151 8 10.74218zM7.98437 7.8203L8.125 4.23437c0-.0625-.02604-.11197-.07813-.14843C7.97917 4.02864 7.91667 4 7.85938 4H6.14063c-.05729 0-.11979.02865-.1875.08594-.05208.03646-.07812.09114-.07812.16406l.13281 3.57031c0 .05209.02604.09505.07813.1289.05208.03386.11458.05079.1875.05079h1.44531c.07292 0 .13411-.01693.1836-.05078.04947-.03386.07682-.07682.08202-.1289zM7.875.52344l6 11c.1823.32812.17708.65625-.01563.98437-.08854.15104-.20963.27084-.36328.35938C13.34245 12.95573 13.1771 13 13 13H1c-.17708 0-.34245-.04427-.4961-.13281-.15364-.08854-.27473-.20834-.36328-.35938-.1927-.32812-.19791-.65625-.01562-.98437l6-11c.08854-.16146.21094-.28906.36719-.38282C6.64844.04688 6.8177 0 7 0c.1823 0 .35156.04687.50781.14063.15625.09375.27865.22135.36719.3828z","fill","#FFF","fill-rule","evenodd"],i,a]},template:function(e,t){1&e&&m.bd(0,v,13,3,"div",0),2&e&&m.Dc("ngIf",t.bannerShow)},directives:[g.q],encapsulation:2}),e})()},qIRL:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("pLZG");function o(e){return null!=e}function c(){return e=>e.pipe(Object(a.a)(o))}},qcos:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("fXoL"),o=i("AeD3");let c=(()=>{class e{constructor(e){this.dataService=e}resolve(e,t){return!isNaN(parseInt(e.params.team,10))&&this.dataService.getTeamById(e.params.team)}}return e.\u0275fac=function(t){return new(t||e)(a.nc(o.a))},e.\u0275prov=a.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qfLN:function(e,t,i){"use strict";i.d(t,"a",function(){return M});var a=i("oE8l"),o=i("ofXK"),c=i("kHoN"),n=i("jLNh"),s=i("bpMd"),r=i("m5eJ"),l=i("/n4K"),d=i("Vlmb"),u=i("Z+Ka"),p=i("bz3s"),m=i("fBbx"),h=i("Y9Pr"),b=i("V6/z"),g=i("VBI8"),f=i("a5Nn"),_=i("y71m"),v=i("EDFS"),y=i("oHZf"),w=i("lPhz"),k=i("4uk/"),x=i("tyNb"),T=i("m7PM"),S=i("6FZh"),j=i("fXoL");let O=(()=>{class e{}return e.\u0275mod=j.Ub({type:e}),e.\u0275inj=j.Tb({factory:function(t){return new(t||e)},imports:[[o.c]]}),e})();var I=i("C8uC"),D=i("bFKe"),C=i("KyjD"),P=i("K0KF"),$=i("gb9A"),z=i("obfd");let M=(()=>{class e{}return e.\u0275mod=j.Ub({type:e}),e.\u0275inj=j.Tb({factory:function(t){return new(t||e)},imports:[[o.c,c.a,n.a,s.a,l.a,r.a,d.a,u.a,p.a,m.a,h.a,b.a,g.a,f.a,_.a,v.d,y.a,w.a,k.a,x.l,T.a,S.a,a.a,O,I.LoaderModule,D.b,C.a,P.a,$.a,z.a]]}),e})()},qgxu:function(e,t,i){"use strict";i.d(t,"a",function(){return X});var a=i("wGqn"),o=i("ofXK"),c=i("kRoH"),n=i("K0KF"),s=i("1M0N"),r=i("KyjD"),l=i("bFKe"),d=i("bx+h"),u=i("tGh3"),p=i("f0Wu"),m=i("3x2b"),h=i("/qmH"),b=i("CXZW"),g=i("VPvi"),f=i("hWeV"),_=i("IJsG"),v=i("bc6J"),y=i("EDFS"),w=i("WL/q"),k=i("gb9A"),x=i("aVmG"),T=i("tyNb"),S=i("vi4T"),j=i("mcWp"),O=i("fXoL"),I=i("jJW4");let D=(()=>{class e extends c.d{constructor(e,t){super(p,t),this.sharedData=e,this.momentAdapter=t}weekViewTitle({date:e,locale:t,weekStartsOn:i,excludeDays:a,daysInWeek:o}){const{viewStart:n,viewEnd:s}=Object(c.m)(this.momentAdapter,e,i,a,o),r=p(n).locale(t),l=p(s).locale(t),d=l.month()===r.month()?"D":"MMM D";return`${r.format("MMM D")} - ${l.format(d)}`}dayViewTitle({date:e,locale:t}){return p(e).locale(t).format("dddd, MMM D")}weekViewColumnHeader({date:e,locale:t}){return p(e).locale(t).format("dddd")}weekViewColumnSubHeader({date:e,locale:t}){return p(e).locale(t).format("D MMM")}dayViewHour({date:e,locale:t}){const i=this.sharedData.currentUser.value&&this.sharedData.currentUser.value.twenty_four_hr_setting?"H:mm":"ha";return p(e).locale(t).format(i)}weekViewHour({date:e,locale:t}){return this.dayViewHour({date:e,locale:t})}}return e.\u0275fac=function(t){return new(t||e)(O.nc(I.a),O.nc(c.k))},e.\u0275prov=O.Sb({token:e,factory:e.\u0275fac}),e})();var C=i("b94l"),P=i("VBI8"),$=i("zVpF"),z=i("yZn2"),M=i("AGVE"),E=i("FWqE"),L=i("pcgY"),A=i("EHXF"),F=i("JMk4"),U=i("MTKx"),N=i("2WXQ"),R=i("C8uC"),G=i("HIOz"),q=i("VqQW"),B=i("e6ZX"),W=i("O6ps"),V=i("5+WD");let X=(()=>{class e{}return e.\u0275mod=O.Ub({type:e}),e.\u0275inj=O.Tb({factory:function(t){return new(t||e)},providers:[{provide:c.l,useFactory:function(){return p}}],imports:[[o.c,c.a,n.a,s.a,r.a,l.b,d.a,u.a,m.a,h.b,a.a,N.a,c.a.forRoot({provide:c.k,useFactory:function(){return $.a}},{dateFormatter:{provide:c.b,useClass:D},utils:{provide:c.g,useClass:C.a}}),c.e,c.i,b.a.forRoot({selectedClass:"item-selected",shortcuts:{disableSelection:" ",addToSelection:" "}}),g.a,f.b,_.a,v.a,y.d,w.a,k.a,x.a,T.l,S.a,j.a,P.a,z.a,M.a,E.a,L.a,A.a,F.a,U.a,R.LoaderModule,G.a,q.a,B.a,W.a,V.f],c.a]}),e})()},qr2t:function(e,t,i){"use strict";i.d(t,"a",function(){return d}),i.d(t,"k",function(){return u}),i.d(t,"b",function(){return p}),i.d(t,"f",function(){return m}),i.d(t,"c",function(){return h}),i.d(t,"j",function(){return g}),i.d(t,"i",function(){return f}),i.d(t,"g",function(){return _}),i.d(t,"d",function(){return v}),i.d(t,"e",function(){return y}),i.d(t,"h",function(){return w});var a=i("Gj5t"),o=i("GXRk"),c=i("yR4P"),n=i("12P9"),s=i("f0Wu"),r=i("YwDF"),l=i("lE2N");const d="#d3d3d3";function u(e,t,i,c,n){if("subcategoryStatus"===i.source){if(t){if(Object(a.ob)(t))return Object(a.jb)(t)}else if(Object(a.ob)(e.subcategory))return Object(a.jb)(e.subcategory)}else{if("customFieldDropdown"===i.source&&e.customFields){const t=e.customFields.find(e=>e.id===i.customFieldDropdownId);if(t&&void 0!==t.value&&t.type===r.a.Dropdown){const e=t.type_config.options.find(e=>e.id===t.value);if(e)return e.color||d}return d}if("taskStatus"===i.source){const t=n.find(e=>e.type===o.g.Open);return c&&t?t.color:e.status.color}}return d}const p=3;function m({x:e,y:t}){return Math.abs(e)>p||Math.abs(t)>p}const h="recurring-";function b(e){return Boolean(e.recurring_settings)}function g(e,t,i){return i?e.filter(b).map(e=>{const i=Object(c.j)(e.due_date);return Object(n.c)(Object(n.k)(e.recurring_settings),i,s(t.start),s(t.end)).filter(e=>!i||!i.isSame(e,"day")).map(t=>{const i=t.clone();e.recurring_settings&&"number"==typeof e.recurring_settings.hours&&i.hours(e.recurring_settings.hours).minutes(e.recurring_settings.minutes);const a=e.due_date?e.due_date_time?s(i).diff(Object(c.j)(e.due_date),"seconds"):s(i).endOf("day").diff(Object(c.j)(e.due_date).endOf("day"),"seconds"):0,o=e.start_date?s(+e.start_date).add(a,"seconds"):null;if(e.start_date_time&&o){const t=Object(c.j)(e.start_date);o.hours(t.hours()).minutes(t.minutes())}const n=i.format("x");return Object.assign(Object.assign({},e),{due_date:n,start_date:o?o.format("x"):null})})}).flat():[]}function f(e){return h+`${e.id}-${e.due_date}`}function _(e,t){const i=[];let a=s(t.start);for(;a<s(t.end);)i.push({month:a.month(),year:a.year()}),a=a.add(1,"month");const o=s(t.end);return i.some(({month:e,year:t})=>o.month()===e&&o.year()===t)||i.push({month:o.month(),year:o.year()}),e.map(e=>i.map(({month:t,year:i})=>({country:e,year:i,month:t}))).flat()}function v(e,t){return Object(l.a)(t.map(({country:t,year:i,month:a})=>e[`${t}-${i}-${a}`]).filter(Boolean).flat().map(e=>({id:e.uuid,title:e.name,date:s(e.date).toDate(),type:"holiday"})),"title")}function y(e){return e.map(e=>({id:e.id,start:e.date,title:e.title,meta:{milestone:e},allDay:!0}))}function w(e,t,i){return e+"-"+t.start.toISOString()+"-"+t.end.toISOString()+"-"+i}},r5Jv:function(e,t,i){"use strict";i.d(t,"a",function(){return c}),i.d(t,"d",function(){return r}),i.d(t,"g",function(){return d}),i.d(t,"c",function(){return u}),i.d(t,"b",function(){return p}),i.d(t,"f",function(){return h}),i.d(t,"e",function(){return b}),i.d(t,"h",function(){return y});var a=function(){return(a=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<i;t++)for(var c=arguments[t],n=0,s=c.length;n<s;n++,o++)a[o]=c[n];return a},c=function(e){return e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e}({}),n=[c.SUNDAY,c.SATURDAY];function s(e,t){var i=t.startDate,a=t.excluded,o=t.precision;if(a.length<1)return 0;for(var c=e.getDay,n=e.addDays,s=(0,e.addSeconds)(i,t.seconds-1),r=c(i),l=c(s),d=0,u=i,p=function(){var t=c(u);a.some(function(e){return e===t})&&(d+=function(e,t){var i=t.day,a=t.dayEnd,o=t.startDate,c=t.endDate,n=e.differenceInSeconds,s=e.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return n((0,e.endOfDay)(o),o)+1;if(i===a)return n(c,s(c))+1}return 86400}(e,{dayStart:r,dayEnd:l,day:t,precision:o,startDate:i,endDate:s})),u=n(u,1)};u<s;)p();return d}function r(e,t){var i=t.periodStart,a=t.periodEnd;return t.events.filter(function(t){return function(e,t){var i=t.event,a=t.periodStart,o=t.periodEnd,c=e.isSameSecond,n=i.start,s=i.end||i.start;return n>a&&n<o||s>a&&s<o||n<a&&s>o||!(!c(n,a)&&!c(n,o))||!(!c(s,a)&&!c(s,o))}(e,{event:t,periodStart:i,periodEnd:a})})}function l(e,t){var i=t.date,a=t.weekendDays,o=void 0===a?n:a,c=e.isSameDay,s=e.getDay,r=(0,e.startOfDay)(new Date),l=s(i);return{date:i,day:l,isPast:i<r,isToday:c(i,r),isFuture:i>r,isWeekend:o.indexOf(l)>-1}}function d(e,t){for(var i=t.excluded,a=void 0===i?[]:i,o=t.weekendDays,c=t.viewStart,n=void 0===c?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):c,s=t.viewEnd,r=void 0===s?e.addDays(n,7):s,d=e.addDays,u=e.getDay,p=[],m=n;m<r;)a.some(function(e){return u(m)===e})||p.push(l(e,{date:m,weekendDays:o})),m=d(m,1);return p}function u(e,t){for(var i=t.date2,a=t.excluded,o=t.date1,c=0;o<i;)-1===a.indexOf(e.getDay(o))&&c++,o=e.addDays(o,1);return c}function p(e,t){var i=t.events,c=void 0===i?[]:i,n=t.excluded,r=void 0===n?[]:n,l=t.precision,d=void 0===l?"days":l,p=t.absolutePositionedEvents,m=void 0!==p&&p,h=t.viewStart,b=t.viewEnd;h=e.startOfDay(h),b=e.endOfDay(b);var g=e.differenceInSeconds,f=e.differenceInDays,_=u(e,{date1:h,date2:b,excluded:r}),v=f(b,h)+1,y=c.filter(function(e){return e.allDay}).map(function(t){var i=function(e,t){var i=t.event,a=t.startOfWeek,o=t.excluded,c=t.precision,n=e.differenceInDays,r=e.startOfDay,l=e.differenceInSeconds;if(i.start<a)return 0;var d=0;switch(c){case"days":d=86400*n(r(i.start),a);break;case"minutes":d=l(i.start,a)}return d-=s(e,{startDate:a,seconds:d,excluded:o,precision:c}),Math.abs(d/86400)}(e,{event:t,startOfWeek:h,excluded:r,precision:d});return{event:t,offset:i,span:function(e,t){var i=t.event,a=t.offset,o=t.excluded,c=t.precision,n=t.totalDaysInView,r=e.differenceInSeconds,l=e.addDays,d=e.endOfDay,u=e.differenceInDays,p=86400,m=(0,e.max)([i.start,t.startOfWeekDate]);if(i.end)switch(c){case"minutes":p=r(i.end,m);break;default:p=86400*u(l(d(i.end),1),m)}var h=86400*a,b=86400*n;return h+p>b&&(p=b-h),(p-=s(e,{startDate:m,seconds:p,excluded:o,precision:c}))/86400}(e,{event:t,offset:i,startOfWeekDate:h,excluded:r,precision:d,totalDaysInView:v})}}).filter(function(e){return e.offset<_}).filter(function(e){return e.span>0}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<h,endsAfterWeek:(e.event.end||e.event.start)>b}}).sort(function(e,t){var i=g(e.event.start,t.event.start);return 0===i?g(t.event.end||t.event.start,e.event.end||e.event.start):i}),w=[],k=[];return y.forEach(function(e,t){if(-1===k.indexOf(e)){k.push(e);var i=e.span+e.offset,c=y.slice(t+1).filter(function(e){if(e.offset>=i&&i+e.span<=v&&-1===k.indexOf(e)){var t=e.offset-i;return m||(e.offset=t),i+=e.span+t,k.push(e),!0}}),n=o([e],c),s=n.filter(function(e){return e.event.id}).map(function(e){return e.event.id}).join("-");w.push(a({row:n},s?{id:s}:{}))}}),w}function m(e,t){var i=t.events,o=t.viewDate,c=t.hourSegments,n=t.hourDuration,s=t.dayStart,l=t.dayEnd,u=t.weekStartsOn,p=t.excluded,m=t.weekendDays,h=t.segmentHeight,b=t.viewStart,v=t.viewEnd,y=t.minimumEventHeight,w=function(e,t){var i=t.viewDate,a=t.hourSegments,o=t.hourDuration,c=t.dayStart,n=t.dayEnd,s=e.setMinutes,r=e.setHours,l=e.startOfDay,d=e.startOfMinute,u=e.endOfDay,p=e.addMinutes,m=e.addDays,h=[],b=s(r(l(i),f(c.hour)),_(c.minute)),g=s(r(d(u(i)),f(n.hour)),_(n.minute)),v=(o||60)/a,y=l(i),w=u(i),k=function(e){return e};y.getTimezoneOffset()!==w.getTimezoneOffset()&&(y=m(y,1),b=m(b,1),g=m(g,1),k=function(e){return m(e,-1)});for(var x=o?1440/o:60,T=0;T<x;T++){for(var S=[],j=0;j<a;j++){var O=p(p(b,T*(o||60)),j*v);O>=b&&O<g&&S.push({date:k(O),displayDate:O,isStart:0===j})}S.length>0&&h.push({segments:S})}return h}(e,{viewDate:o,hourSegments:c,hourDuration:n,dayStart:s,dayEnd:l}),k=d(e,{viewDate:o,weekStartsOn:u,excluded:p,weekendDays:m,viewStart:b,viewEnd:v}),x=e.setHours,T=e.setMinutes,S=e.getHours,j=e.getMinutes;return k.map(function(t){var o=function(e,t){var i=t.events,a=t.viewDate,o=t.hourSegments,c=t.dayStart,n=t.dayEnd,s=t.eventWidth,l=t.segmentHeight,d=t.hourDuration,u=t.minimumEventHeight,p=e.setMinutes,m=e.setHours,h=e.startOfDay,b=e.startOfMinute,v=e.endOfDay,y=e.differenceInMinutes,w=p(m(h(a),f(c.hour)),_(c.minute)),k=p(m(b(v(a)),f(n.hour)),_(n.minute));k.setSeconds(59,999);var x=[],T=r(e,{events:i.filter(function(e){return!e.allDay}),periodStart:w,periodEnd:k}),S=T.sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(e){var t=e.start,i=e.end||t,a=t<w,c=i>k,n=o*l/(d||60),r=0;if(t>w){var p=t.getTimezoneOffset(),m=w.getTimezoneOffset()-p;r+=y(t,w)+m}r*=n;var h=a?w:t,b=c?k:i,f=h.getTimezoneOffset()-b.getTimezoneOffset(),_=y(b,h)+f;e.end?_*=n:_=l,u&&_<u&&(_=u);for(var v=g(x,r,r+_),T=0;v.some(function(e){return e.left===T});)T+=s;var S={event:e,height:_,width:s,top:r,left:T,startsBeforeDay:a,endsAfterDay:c};return x.push(S),S}),j=Math.max.apply(Math,S.map(function(e){return e.left+e.width}));return{events:S,width:j,allDayEvents:r(e,{events:i.filter(function(e){return e.allDay}),periodStart:h(w),periodEnd:v(k)}),period:{events:T,start:w,end:k}}}(e,{events:i,viewDate:t.date,hourSegments:c,dayStart:s,dayEnd:l,segmentHeight:h,eventWidth:1,hourDuration:n,minimumEventHeight:y}),d=w.map(function(e){var i=e.segments.map(function(e){var i=T(x(t.date,S(e.date)),j(e.date));return a(a({},e),{date:i})});return a(a({},e),{segments:i})});function u(e,t){var i=Math.max.apply(Math,t.map(function(e){return e.left+1})),a=e.filter(function(e){return e.left>=i}).filter(function(e){return g(t,e.top,e.top+e.height).length>0});return a.length>0?u(e,a):i}var p=o.events.map(function(e){var t=100/u(o.events,g(o.events,e.top,e.top+e.height));return a(a({},e),{left:e.left*t,width:t})});return{hours:d,date:t.date,events:p.map(function(e){var t=g(p.filter(function(t){return t.left>e.left}),e.top,e.top+e.height);return t.length>0?a(a({},e),{width:Math.min.apply(Math,t.map(function(e){return e.left}))-e.left}):e})}})}function h(e,t){var i=t.events,a=void 0===i?[]:i,o=t.viewDate,c=t.weekStartsOn,n=t.excluded,s=void 0===n?[]:n,l=t.precision,u=void 0===l?"days":l,h=t.absolutePositionedEvents,b=void 0!==h&&h,g=t.hourSegments,f=t.hourDuration,_=t.dayStart,v=t.dayEnd,y=t.weekendDays,w=t.segmentHeight,k=t.minimumEventHeight,x=t.viewStart,T=void 0===x?e.startOfWeek(o,{weekStartsOn:c}):x,S=t.viewEnd,j=void 0===S?e.endOfWeek(o,{weekStartsOn:c}):S;a||(a=[]);var O=e.endOfDay,I=r(e,{events:a,periodStart:T=(0,e.startOfDay)(T),periodEnd:j=O(j)}),D=d(e,{viewDate:o,weekStartsOn:c,excluded:s,weekendDays:y,viewStart:T,viewEnd:j});return{allDayEventRows:p(e,{events:I,excluded:s,precision:u,absolutePositionedEvents:b,viewStart:T,viewEnd:j}),period:{events:I,start:D[0].date,end:O(D[D.length-1].date)},hourColumns:m(e,{events:a,viewDate:o,hourSegments:g,hourDuration:f,dayStart:_,dayEnd:v,weekStartsOn:c,excluded:s,weekendDays:y,segmentHeight:w,viewStart:T,viewEnd:j,minimumEventHeight:k})}}function b(e,t){var i=t.events,a=void 0===i?[]:i,c=t.viewDate,n=t.weekStartsOn,s=t.excluded,d=void 0===s?[]:s,u=t.viewStart,p=void 0===u?e.startOfMonth(c):u,m=t.viewEnd,h=void 0===m?e.endOfMonth(c):m,b=t.weekendDays;a||(a=[]);for(var g,f=e.endOfWeek,_=e.differenceInDays,v=e.startOfDay,y=e.addHours,w=e.endOfDay,k=e.isSameMonth,x=e.getDay,T=(0,e.startOfWeek)(p,{weekStartsOn:n}),S=f(h,{weekStartsOn:n}),j=r(e,{events:a,periodStart:T,periodEnd:S}),O=[],I=function(t){var i;if(g?(i=v(y(g,24)),g.getTime()===i.getTime()&&(i=v(y(g,25))),g=i):i=g=T,!d.some(function(e){return x(i)===e})){var a=l(e,{date:i,weekendDays:b}),o=r(e,{events:j,periodStart:v(i),periodEnd:w(i)});a.inMonth=k(i,c),a.events=o,a.badgeTotal=o.length,O.push(a)}},D=0;D<_(S,T)+1;D++)I();var C=[],P=7-d.length;if(P<7)for(D=0;D<O.length;D+=P){var $=O.slice(D,D+P);$.some(function(e){return p<=e.date&&e.date<h})&&(C=o(C,$))}else C=O;var z=Math.floor(C.length/P),M=[];for(D=0;D<z;D++)M.push(D*P);return{rowOffsets:M,totalDaysVisibleInWeek:P,days:C,period:{start:C[0].date,end:w(C[C.length-1].date),events:j}}}function g(e,t,i){return e.filter(function(e){var a=e.top,o=e.top+e.height;return t<o&&o<i||t<a&&a<i||a<=t&&i<=o})}function f(e){return Math.max(Math.min(23,e),0)}function _(e){return Math.max(Math.min(59,e),0)}var v=function(e){return e.NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`",e}({});function y(e,t){var i=!0;function a(e,a){t(e,a),i=!1}return Array.isArray(e)?(e.forEach(function(e){e.start?e.start instanceof Date||a(v.StartPropertyNotDate,e):a(v.StartPropertyMissing,e),e.end&&(e.end instanceof Date||a(v.EndPropertyNotDate,e),e.start>e.end&&a(v.EndsBeforeStart,e))}),i):(t(v.NotArray,e),!1)}},rURA:function(e,t,i){"use strict";i.d(t,"a",function(){return M});var a=i("o7Ov"),o=i("mCrA"),c=i("MguC"),n=i("uslN"),s=i("dTHz"),r=i("ObVV"),l=i("m2rH"),d=i("c3rA"),u=i("WluX"),p=i("G/1d"),m=i("4F4K"),h=i("Gj5t"),b=i("l7P3"),g=i("itXk"),f=i("Cfvw"),_=i("lJxs"),v=i("IzEk"),y=i("zp1y"),w=i("SxV6"),k=i("5+tZ"),x=i("IAdc"),T=i("pLZG"),S=i("L4xm"),j=i("dqeI"),O=i("ZBlo"),I=i("lE2N"),D=i("GkwO"),C=i("fXoL"),P=i("AeD3"),$=i("Uo1z"),z=i("ofXK");let M=(()=>{class e{constructor(e,t){this.store=e,this.dataService=t,this.showSearch=!0,this.showHeader=!0,this.user$=this.store.select(d.getUser),this.team$=this.store.select(d.getTeam),this.members$=this.store.select(d.getMembers),this.guestInfo$=this.store.select(u.d),this.teamPlan$=this.store.select(d.getTeamPlan),this.upgradeLink$=this.store.pipe(Object(b.select)(d.getTeam),Object(_.a)(e=>e?[window.location.origin,e.id,"settings","billing"].join("/"):void 0)),this.updatingTeam$=this.store.pipe(Object(b.select)(d.getUpdateTeamState),Object(_.a)(e=>e&&e.updating)),this.DataViewType=c.i,this.TeamPlan=n.f,this.canEditPrivacy=!0,this.canAddGuestsTeam$=this.store.select(d.canAddGuestsTeam),this.canAddGuestsTeamText$=this.store.select(d.canAddGuestsTeamText),this.customRoles$=this.store.select(d.getCustomRoles),this.viewHandler={init:()=>{const e=this.item,t=h.Gb.find(t=>t.defaultDataViewAPIPayload.type===e.viewType).contentType===c.o.Tasks;e.default&&(this.canEditPrivacy=!1,this.editPrivacyTooltip="Default views cannot be made private"),this.store.select(d.getTeam).pipe(Object(v.a)(1)).subscribe(e=>{e.plan_id===this.TeamPlan.FREE&&(this.canEditPrivacy=!1,this.editPrivacyTooltip="Please upgrade to Unlimited to make views private")}),this.teamPlan$.pipe(Object(y.a)(this.team$),Object(w.a)()).subscribe(([t,i])=>{e.viewType===c.i.Conversation?this.getPermissionItems=e=>t===n.f.FREE?o.n:o.b:e.viewType===c.i.Doc?(this.getPermissionItems=e=>t===n.f.FREE?o.o:o.i,this.getBulkPermissionItems=()=>i.role<=s.f.ADMIN?o.h:o.h.filter(e=>e.id!==c.f.ADMIN)):e.viewType===c.i.Form?(this.getPermissionItems=e=>t===n.f.FREE?o.p:o.k,this.getBulkPermissionItems=()=>i.role<=s.f.ADMIN?o.j:o.j.filter(e=>e.id!==c.f.ADMIN)):(this.getPermissionItems=e=>t===n.f.FREE?o.s:e===s.f.GUEST?o.m:e===s.f.OWNER?o.t:o.u,this.getBulkPermissionItems=()=>i.role<=s.f.ADMIN?o.v:o.v.filter(e=>e.id!==c.f.ADMIN))}),this.item$=this.store.select(Object(D.B)(e.id)).pipe(Object(y.a)(this.store.select(d.getTeam)),Object(_.a)(([e,t])=>Object.assign(Object.assign({},e),{private:!1,owner:t&&t.owner&&t.owner.id,permissions:{can_edit_privacy:1},view:this.item}))),this.store.dispatch(new a.Qk(e.id));const i=this.store.select(Object(D.S)(e.id)),r=this.store.select(d.getTeam),l=this.store.select(d.getProject),u=this.store.select(d.getCategory),p=this.store.select(d.getSubcategory);switch(e.parent.type){case c.e.Team:this.parentItemType="team",this.parentItem$=r;break;case c.e.Project:this.parentItemType="project",this.parentItem$=l;break;case c.e.Category:this.parentItemType="category",this.parentItem$=u;break;case c.e.Subcategory:this.parentItemType="subcategory",this.parentItem$=p}this.membersData$=this.store.select(Object(D.j)(e.id)).pipe(Object(_.a)(e=>({members:[],parentMembers:e}))),this.parentMembers$=i,this.protectionPermission$=Object(g.a)([this.item$,this.membersData$]).pipe(Object(_.a)(([e,t])=>{if(e.lockedPermission===c.f.ADMIN)return e.lockedPermission;const i=(t.parentMembers||[]).filter(e=>e.role<=s.f.USER&&e.role!==s.f.OWNER);return e.lockedPermission===c.f.ALL&&i.every(e=>e.permission_level===s.e.CREATE)||e.lockedPermission===c.f.NONE&&i.every(e=>e.permission_level!==s.e.CREATE)?e.lockedPermission:null})),this.updating$=this.store.select(D.Fb,this.item.id),this.updatingBottom$=this.updatingTeam$,this.getMaxPermissionLevel=t?e=>e===s.f.GUEST?s.e.READ:s.e.CREATE:null},inviteUsers:({})=>{},addUser:({member:e,permission:t})=>{this.store.dispatch(new a.u(this.item.id,e.user.id,t,e.role))},removeUsers:e=>{this.store.dispatch(new a.ig(this.item.id,e))},updateUsers:e=>{this.store.dispatch(new a.B(this.item.id,e.map(e=>({userId:e.member.user.id,permission:e.permission,role:e.member.role}))))},changePrivate:e=>{this.store.dispatch(new a.Ij(this.item.id,e?c.j.Private:c.j.Public))}},this.goalHandler={init:()=>{this.getPermissionItems=e=>o.l,this.parentItemType="team",this.item$=this.store.select(p.j),this.goalOwnerAdminCreator$=this.store.select(Object(p.n)(this.item.pretty_id)),this.parentItem$=this.store.select(d.getTeam),this.membersData$=this.store.select(Object(p.m)(!0))},inviteUsers:({})=>{},addUser:({member:e,permission:t})=>{this.store.dispatch(new r.B({goalId:this.item.id,goalPrettyId:this.item.pretty_id,userId:e.user.id,permissionLevel:t===s.e.EDIT?"edit":"read"}))},removeUsers:e=>{this.store.dispatch(new r.kb({goalId:this.item.id,goalPrettyId:this.item.pretty_id,userId:e[0]}))},updateUsers:e=>{this.store.dispatch(new r.B({goalId:this.item.id,goalPrettyId:this.item.pretty_id,userId:e[0].member.user.id,permissionLevel:e[0].permission===s.e.EDIT?"edit":"read"}))},changePrivate:e=>{this.store.dispatch(new r.Lb({goal:{id:this.item.id,private:e}}))}},this.folderHandler={init:()=>{this.getPermissionItems=e=>o.l,this.parentItemType="team",this.item$=this.store.select(p.d),this.goalOwnerAdminCreator$=this.store.select(p.f),this.parentItem$=this.store.select(d.getTeam),this.membersData$=this.store.select(Object(p.m)(!1))},inviteUsers:({})=>{},addUser:({member:e,permission:t})=>{this.store.dispatch(new r.Ib({folderId:this.item.id,data:{add_members:[{userid:e.user.id,permission_level:t===s.e.EDIT?"edit":"read"}]}}))},removeUsers:e=>{this.store.dispatch(new r.Ib({folderId:this.item.id,data:{rem_members:e}}))},updateUsers:e=>{this.store.dispatch(new r.Ib({folderId:this.item.id,data:{add_members:[{userid:e[0].member.user.id,permission_level:e[0].permission===s.e.EDIT?"edit":"read"}]}}))},changePrivate:e=>{this.store.dispatch(new r.Ib({folderId:this.item.id,data:{private:e}}))}},this.taskHandler={init:()=>{this.store.dispatch(new a.ne(this.item.subcategory.id)),this.parentItemType="subcategory",this.item$=this.store.pipe(Object(b.select)(Object(m.d)(this.item.id)));const e=this.projectId||this.item.project.id;this.parentItem$=this.store.pipe(Object(b.select)(Object(d.getSubcategoryById)(this.item.subcategory.id,this.item.category.id,e))),this.membersData$=this.store.pipe(Object(b.select)(Object(u.k)(this.item.id,this.item.subcategory.id,this.item.category.id,e))),this.updating$=this.store.pipe(Object(b.select)(m.h,this.item.id)),this.updatingBottom$=Object(g.a)([this.updatingTeam$,this.store.pipe(Object(b.select)(D.c,"task_"+this.item.id))]).pipe(Object(_.a)(([e,t])=>e||t)),this.store.dispatch(new l.z(this.item.id));const t=Object(O.a)(this.item.other_subcategories,15);this.otherItems$=Object(f.a)(t).pipe(Object(k.a)(e=>this.dataService.subcategoryMemberHierarchy(e.map(e=>e.id)),2),Object(x.a)(),Object(_.a)(e=>{const t={};return e.forEach(e=>{Object.entries(e.members).map(([e,i])=>{t[e]=i})}),t}),Object(y.a)(this.store.select(d.getUser)),Object(_.a)(([e,t])=>Object.entries(e).map(([e,i])=>{const a=this.item.other_subcategories.find(t=>t.id===e),o=Object(I.a)(Object.values(i).flat(),"user.id"),c=o.find(e=>e.user.id===t.id);return{id:a.id,parentItem:a,members:o.map(e=>Object.assign(Object.assign({},e),{editable:e.user.id!==t.id&&e.user.id!==this.item.owner&&(!c||c.permission_level>=e.permission_level)}))}})))},inviteUsers:({emails:e,permission:t,role:i})=>{this.store.dispatch(new l.l(e,i,t,this.item.id))},addUser:({member:e,permission:t})=>{this.store.dispatch(new l.e(this.item.id,e.user.id,t))},removeUsers:e=>{this.store.dispatch(new l.D(this.item.id,e))},updateUsers:e=>{this.store.dispatch(new l.d(this.item.id,e.map(e=>({userId:e.member.user.id,permission:e.permission}))))},changePrivate:e=>{this.store.dispatch(new l.T(this.item.id,{private:e}))},updateParentUsers:(e,t,i)=>{this.store.dispatch(new a.C(e,t.map(e=>({userId:e.member.user.id,permission:e.permission})),this.item.category,this.projectId,i))}},this.listHandler={init:()=>{const e=this.item.category_hidden||this.item.hiddenCategory;this.parentItemType=e?"project":"category",this.item$=this.store.pipe(Object(b.select)(Object(d.getSubcategoryById)(this.item.id,this.item.category,this.projectId,!0))),this.parentItem$=this.store.pipe(e?Object(b.select)(Object(d.getProjectById)(this.projectId)):Object(b.select)(Object(d.getCategoryById)(this.item.category,this.projectId))),this.membersData$=this.store.pipe(Object(b.select)(Object(u.g)(this.item.id,e?h.d:this.item.category,this.projectId))),this.item.members||this.store.dispatch(new a.Xf(this.item.id,this.item.category,this.projectId)),this.updating$=this.store.pipe(Object(b.select)(d.getUpdatingSubcategoryById,this.item.id)),this.updatingBottom$=Object(g.a)([this.updatingTeam$,this.store.pipe(Object(b.select)(D.c,"subcategory_"+this.item.id))]).pipe(Object(_.a)(([e,t])=>e||t)),this.store.dispatch(new a.Jf(this.item.category,"init List Share"))},inviteUsers:({emails:e,permission:t,role:i})=>{this.store.dispatch(new a.Fd(e,i,t,this.item.id,this.item.category,this.projectId))},addUser:({member:e,permission:t})=>{this.store.dispatch(new a.D(this.item.id,this.item.category,this.projectId,e.user.id,t))},removeUsers:e=>{this.store.dispatch(new a.pg(this.item.id,e,this.item.category,this.projectId))},updateUsers:e=>{this.store.dispatch(new a.C(this.item.id,e.map(e=>({userId:e.member.user.id,permission:e.permission})),this.item.category,this.projectId))},changePrivate:e=>{this.store.dispatch(new a.Fm(this.item.id,this.item.category,this.projectId,{private:e}))}},this.projectHandler={init:()=>{this.parentItemType="project",this.item$=this.store.pipe(Object(b.select)(Object(d.getCategoryById)(this.item.id,this.projectId))),this.parentItem$=this.store.pipe(Object(b.select)(Object(d.getProjectById)(this.projectId))),this.membersData$=this.store.pipe(Object(b.select)(Object(u.c)(this.item.id,this.projectId))),this.updating$=this.store.pipe(Object(b.select)(d.getUpdatingCategoryById,this.item.id)),this.updatingBottom$=Object(g.a)([this.updatingTeam$,this.store.pipe(Object(b.select)(D.c,"category_"+this.item.id))]).pipe(Object(_.a)(([e,t])=>e||t)),this.store.dispatch(new a.Jf(this.item.id,"init Project Share"))},inviteUsers:({emails:e,permission:t,role:i})=>{this.item&&this.store.dispatch(new a.Dd(e,i,t,this.item.id,this.projectId))},addUser:({member:e,permission:t})=>{this.store.dispatch(new a.s(this.item.id,this.projectId,e.user.id,t))},removeUsers:e=>{this.store.dispatch(new a.dg(this.item.id,e,this.projectId))},updateUsers:e=>{this.store.dispatch(new a.A(this.item.id,e.map(e=>({userId:e.member.user.id,permission:e.permission})),this.item.category,this.projectId))},changePrivate:e=>{this.store.dispatch(new a.lm(this.item.id,{private:e}))}},this.dashboardHandler={init:()=>{this.getPermissionItems=e=>e===s.f.GUEST?o.d:o.e,this.getMaxPermissionLevel=e=>e===s.f.GUEST?s.e.READ:s.e.CREATE,this.parentItemType="team",this.item$=this.store.pipe(Object(b.select)(Object(j.c)(this.item.id)),Object(_.a)(e=>Object.assign(Object.assign({},e),{owner:e.creator,permissions:{can_edit_privacy:2}}))),this.parentItem$=this.store.select(d.getTeam),this.membersData$=Object(g.a)([this.store.select(Object(j.d)(this.item.id)),this.item$]).pipe(Object(T.a)(([e,t])=>!!t),Object(_.a)(([e,t])=>{let i=e.members,a=e.parentMembers.map(e=>e.role===s.f.GUEST?Object.assign(Object.assign({},e),{permission_level:s.e.READ}):e);return t.private||(i=a.map(e=>i.find(t=>t.user.id===e.user.id)||e),a=[]),{members:i,parentMembers:a}})),this.canEditPrivacy=!0},inviteUsers:({emails:e,permission:t,role:i})=>{this.store.dispatch(new a.Ed(e,i,t,this.item.id))},addUser:({member:e,permission:t})=>{this.store.dispatch(Object(S.b)({id:this.item.id,member:e,permission:t}))},removeUsers:e=>{this.store.dispatch(Object(S.A)({id:this.item.id,userIds:e}))},updateUsers:e=>{this.store.dispatch(Object(S.qb)({id:this.item.id,members:e}))},changePrivate:e=>{this.store.dispatch(Object(S.nb)({item:Object.assign(Object.assign({},this.item),{private:e})}))}},this.handlers={task:this.taskHandler,list:this.listHandler,project:this.projectHandler,goal:this.goalHandler,folder:this.folderHandler,view:this.viewHandler,dashboard:this.dashboardHandler}}ngOnInit(){this.initData(),this.team$.pipe(Object(v.a)(1)).subscribe(e=>{this.store.dispatch(new a.ud({teamId:e.id}))})}ngOnDestroy(){this.store.dispatch(new a.Pk)}initData(){this.type&&this.item&&this.handlers[this.type].init()}inviteUsers({emails:e,permission:t,role:i}){e.length&&this.handlers[this.type].inviteUsers({emails:e,permission:t,role:i})}addUser(e){this.handlers[this.type].addUser(e)}removeUsers(e){e.length&&this.handlers[this.type].removeUsers(e)}updateUsers(e){e.length&&this.handlers[this.type].updateUsers(e)}updateParentUsers(e,t,i){t.length&&this.handlers[this.type].updateParentUsers(e,t,i)}changeProtections(e){this.store.dispatch(new a.L(this.item.id,{lockedPermission:e.permission}))}changePrivate(e){this.handlers[this.type].changePrivate(e)}updateDataView(e,t){this.store.dispatch(new a.qm(e.id,t,!0))}addEmailLeads(e){e.forEach(e=>{this.store.dispatch(new a.w({email:e}))})}}return e.\u0275fac=function(t){return new(t||e)(C.Wb(b.Store),C.Wb(P.a))},e.\u0275cmp=C.Qb({type:e,selectors:[["cu-share-entity"]],inputs:{projectId:"projectId",item:"item",type:"type",warning:"warning",showSearch:"showSearch",showHeader:"showHeader",hidePermissionOnStart:"hidePermissionOnStart"},decls:25,vars:82,consts:[[1,"sidebar-section__sharing-settings",3,"item","parentItem","parentItemType","itemType","meUser","ownerId","allMembers","membersData","guestInfo","teamPlan","allowEditPrivacy","showEditPrivacy","editPrivacyTooltip","upgradeLink","warning","updating","updatingBottom","allowInvite","allowAdd","allowAddToPublic","showPermissionsOnStart","allowMultiOperations","getPermissionItems","getBulkPermissionItems","getMaxPermissionLevel","showSearch","showHeader","protectionPermission","canAddGuestsTeam","canAddGuestsTeamText","customRoles","view","otherItems","team","inviteUsers","addUser","removeUsers","updateUsers","updateParentUsers","changeProtections","changePrivate","addEmailLeads"]],template:function(e,t){if(1&e&&(C.cc(0,"cu-privacy-settings",0),C.qc("inviteUsers",function(e){return t.inviteUsers(e)})("addUser",function(e){return t.addUser(e)})("removeUsers",function(e){return t.removeUsers(e)})("updateUsers",function(e){return t.updateUsers(e)})("updateParentUsers",function(e){return t.updateParentUsers(e.parentId,e.changes,e.members)})("changeProtections",function(e){return t.changeProtections(e)})("changePrivate",function(e){return t.changePrivate(e)})("addEmailLeads",function(e){return t.addEmailLeads(e)}),C.vc(1,"async"),C.vc(2,"async"),C.vc(3,"async"),C.vc(4,"async"),C.vc(5,"async"),C.vc(6,"async"),C.vc(7,"async"),C.vc(8,"async"),C.vc(9,"async"),C.vc(10,"async"),C.vc(11,"async"),C.vc(12,"async"),C.vc(13,"async"),C.vc(14,"async"),C.vc(15,"async"),C.vc(16,"async"),C.vc(17,"async"),C.vc(18,"async"),C.vc(19,"async"),C.vc(20,"async"),C.vc(21,"async"),C.vc(22,"async"),C.vc(23,"async"),C.vc(24,"async"),C.bc()),2&e){let e=null,i=null,a=null;C.Dc("item",C.wc(1,34,t.item$))("parentItem",C.wc(2,36,t.parentItem$))("parentItemType",t.parentItemType)("itemType","list"===t.type?"subcategory":"project"===t.type?"category":t.type)("meUser",C.wc(3,38,t.user$))("ownerId",null==(e=C.wc(4,40,t.item$))?null:e.owner)("allMembers",C.wc(5,42,t.parentMembers$||t.members$))("membersData",C.wc(6,44,t.membersData$))("guestInfo",C.wc(7,46,t.guestInfo$))("teamPlan",C.wc(8,48,t.teamPlan$))("allowEditPrivacy",(2===(null==(i=C.wc(9,50,t.item$))||null==i.permissions?null:i.permissions.can_edit_privacy)||1===(null==(i=C.wc(10,52,t.item$))||null==i.permissions?null:i.permissions.can_edit_privacy)&&(null==(i=C.wc(11,54,t.item$))?null:i.owner)===(null==(i=C.wc(12,56,t.user$))?null:i.id)||C.wc(13,58,t.goalOwnerAdminCreator$))&&t.canEditPrivacy)("showEditPrivacy","view"!==t.type)("editPrivacyTooltip",t.editPrivacyTooltip)("upgradeLink",C.wc(14,60,t.upgradeLink$))("warning",t.warning)("updating",C.wc(15,62,t.updating$))("updatingBottom",C.wc(16,64,t.updatingBottom$))("allowInvite","goal"!==t.type&&"folder"!==t.type&&"view"!==t.type)("allowAdd","view"!==t.type||C.wc(17,66,t.teamPlan$)!==t.TeamPlan.FREE)("allowAddToPublic","view"!==t.type&&"dashboard"!==t.type)("showPermissionsOnStart","view"===t.type&&!t.hidePermissionOnStart)("allowMultiOperations","goal"!==t.type&&"folder"!==t.type)("getPermissionItems",t.getPermissionItems)("getBulkPermissionItems",t.getBulkPermissionItems)("getMaxPermissionLevel",t.getMaxPermissionLevel)("showSearch",t.showSearch)("showHeader",t.showHeader)("protectionPermission",C.wc(18,68,t.protectionPermission$))("canAddGuestsTeam",C.wc(19,70,t.canAddGuestsTeam$))("canAddGuestsTeamText",C.wc(20,72,t.canAddGuestsTeamText$))("customRoles",C.wc(21,74,t.customRoles$))("view",null==(a=C.wc(22,76,t.item$))?null:a.view)("otherItems",C.wc(23,78,t.otherItems$))("team",C.wc(24,80,t.team$))}},directives:[$.a],pipes:[z.b],encapsulation:2}),e})()},rbgZ:function(e,t,i){"use strict";i.d(t,"a",function(){return k});var a=i("6hm0"),o=i("fXoL"),c=i("Jf2N"),n=i("ofXK"),s=i("UdVN"),r=i("NsZK"),l=i("ENHh"),d=i("hmfO"),u=i("VhLi");function p(e,t){if(1&e&&o.Xb(0,"div",13),2&e){const e=o.uc();o.Ob("cu-google-calendar-event__icon_time-event",!e.allDay)("cu-google-calendar-event__icon_small",e.smallEvent)}}function m(e,t){if(1&e&&(o.cc(0,"a",14),o.qc("click",function(e){return e.stopPropagation()}),o.bc()),2&e){const e=o.uc();o.Ob("cu-google-calendar-event__icon_time-event",!e.allDay)("cu-google-calendar-event__icon_small",e.smallEvent),o.Dc("href",e.meetingLink.url,o.Xc)("icon",e.meetingLink.icon)}}function h(e,t){if(1&e&&(o.cc(0,"div",15),o.vc(1,"trustStyle"),o.bc()),2&e){const e=o.uc();o.ad("background",o.wc(1,2,e.backgroundGradient))}}function b(e,t){if(1&e&&o.Xb(0,"div",16),2&e){const e=o.uc();o.Ob("cu-google-calendar-event__title-gradient_declined","declined"===e.responseStatus)("cu-google-calendar-event__title-gradient_pending","needsAction"===e.responseStatus)}}function g(e,t){}function f(e,t){if(1&e&&(o.cc(0,"div",17),o.bd(1,g,0,0,"ng-template",18),o.bc()),2&e){o.uc();const e=o.Rc(14);o.Ib(1),o.Dc("ngTemplateOutlet",e)}}function _(e,t){1&e&&o.Xb(0,"div",19),2&e&&o.Dc("icon","cu3-declined")}function v(e,t){1&e&&o.Xb(0,"div",20),2&e&&o.Dc("icon","cu2-clock-solid")}function y(e,t){if(1&e&&(o.ac(0),o.dd(1),o.vc(2,"momentDate"),o.Zb(),o.dd(3," - "),o.ac(4),o.dd(5),o.vc(6,"momentDate"),o.Zb()),2&e){const e=o.uc();o.Ib(1),o.ed(o.xc(2,2,e.event.start_date,null!=e.user&&e.user.twenty_four_hr_setting?"H:mm":"h:mma")),o.Ib(4),o.ed(o.xc(6,5,e.event.end_date,null!=e.user&&e.user.twenty_four_hr_setting?"H:mm":"h:mma"))}}const w=/https:\/\/(\w+\.|)zoom\.us\/j\/\d+(\?pwd=\w+|)/;let k=(()=>{class e{constructor(e,t){this.modal=e,this.injector=t}ngOnInit(){}ngOnChanges(e){var t,i,a,o;if(e.event){const e=this.event.attendees.find(e=>e.email===this.calendar.id);this.responseStatus=null==e?void 0:e.responseStatus;const c=null===(t=this.event.description)||void 0===t?void 0:t.match(w),n=c?c[0]:null===(o=null===(a=null===(i=this.event.full_data.conferenceData)||void 0===i?void 0:i.entryPoints)||void 0===a?void 0:a.find(e=>"video"===e.entryPointType&&w.test(e.uri)))||void 0===o?void 0:o.uri;this.meetingLink=void 0,this.event.hangoutLink?this.meetingLink={icon:"google-hangouts",url:this.event.hangoutLink}:n&&(this.meetingLink={icon:"zoom-symbol_color",url:n})}}showDetails(){const e=this.modal.openComponent(a.a,this.injector,{blank:!0,modifier:"cu-google-calendar-event-details__modal",bodyModifier:"cu-modal__body_no-min-height",name:"googleCalendarEventDetails",noOpenAnimation:!0});e.instance.event=this.event,e.instance.user=this.user}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(c.a),o.Wb(o.t))},e.\u0275cmp=o.Qb({type:e,selectors:[["cu-google-calendar-event"]],hostAttrs:[1,"cu-google-calendar-event"],hostVars:6,hostBindings:function(e,t){1&e&&o.qc("click",function(){return t.showDetails()}),2&e&&(o.ad("text-decoration-color","declined"===t.responseStatus?"#7c828d":t.color),o.Ob("cu-google-calendar-event_declined","declined"===t.responseStatus)("cu-google-calendar-event_pending","needsAction"===t.responseStatus))},inputs:{event:"event",calendar:"calendar",backgroundGradient:"backgroundGradient",user:"user",inlineTime:"inlineTime",allDay:"allDay",color:"color",smallEvent:"smallEvent"},features:[o.Gb],decls:15,vars:14,consts:function(){let e,t;return e=$localize`:@@cu-google-calendar-event__response_declined␟18d2fb0292cf2a3583cf76589ca041f852a9520e␟5482217516536148854:You declined this event`,t=$localize`:@@cu-google-calendar-event__response_pending␟fe01270d367c22b8eb85296ee76920350e0fcf29␟4153566050770697301:Waiting on your response`,[["class","cu-google-calendar-event__icon","icon","google-calendar-symbol",3,"cu-google-calendar-event__icon_time-event","cu-google-calendar-event__icon_small",4,"ngIf"],["target","_blank","class","cu-google-calendar-event__icon",3,"href","cu-google-calendar-event__icon_time-event","cu-google-calendar-event__icon_small","icon","click",4,"ngIf"],[1,"cu-google-calendar-event__body"],[1,"cu-dashboard-time__calendar__event__title-container"],[1,"cu-dashboard-time__calendar__event__title"],[1,"cu-dashboard-time__calendar__event__title-text"],[3,"innerHTML"],["class","cu-dashboard-time__calendar__event__title-gradient",3,"background",4,"ngIf"],["class","cu-google-calendar-event__title-gradient",3,"cu-google-calendar-event__title-gradient_declined","cu-google-calendar-event__title-gradient_pending",4,"ngIf"],["class","cu-dashboard-time__calendar__event__time",4,"ngIf"],["class","cu-google-calendar-event__response cu-google-calendar-event__response_declined","cuTooltip",e,3,"icon",4,"ngIf"],["class","cu-google-calendar-event__response cu-google-calendar-event__response_pending","cuTooltip",t,3,"icon",4,"ngIf"],["timeTemplate",""],["icon","google-calendar-symbol",1,"cu-google-calendar-event__icon"],["target","_blank",1,"cu-google-calendar-event__icon",3,"href","icon","click"],[1,"cu-dashboard-time__calendar__event__title-gradient"],[1,"cu-google-calendar-event__title-gradient"],[1,"cu-dashboard-time__calendar__event__time"],[3,"ngTemplateOutlet"],["cuTooltip",e,1,"cu-google-calendar-event__response","cu-google-calendar-event__response_declined",3,"icon"],["cuTooltip",t,1,"cu-google-calendar-event__response","cu-google-calendar-event__response_pending",3,"icon"]]},template:function(e,t){1&e&&(o.bd(0,p,1,4,"div",0),o.bd(1,m,1,6,"a",1),o.cc(2,"div",2),o.cc(3,"div",3),o.cc(4,"div",4),o.cc(5,"span",5),o.Xb(6,"span",6),o.vc(7,"linkify"),o.bd(8,h,2,4,"div",7),o.bd(9,b,1,4,"div",8),o.bc(),o.bc(),o.bc(),o.bd(10,f,2,1,"div",9),o.bc(),o.bd(11,_,1,1,"div",10),o.bd(12,v,1,1,"div",11),o.bd(13,y,7,8,"ng-template",null,12,o.cd)),2&e&&(o.Dc("ngIf",!t.meetingLink),o.Ib(1),o.Dc("ngIf",t.meetingLink),o.Ib(1),o.Ob("cu-google-calendar-event__body_small",t.smallEvent),o.Ib(3),o.Jb("cu-tooltip-text",t.backgroundGradient?null:""),o.Ib(1),o.Dc("innerHTML",o.wc(7,12,t.event.summary),o.Vc),o.Jb("cu-tooltip-text",t.backgroundGradient?"":null),o.Ib(2),o.Dc("ngIf",t.backgroundGradient&&!("declined"===t.responseStatus||"needsAction"===t.responseStatus)),o.Ib(1),o.Dc("ngIf","declined"===t.responseStatus||"needsAction"===t.responseStatus),o.Ib(1),o.Dc("ngIf",!t.inlineTime&&!t.allDay),o.Ib(1),o.Dc("ngIf","declined"===t.responseStatus&&!t.smallEvent),o.Ib(1),o.Dc("ngIf","needsAction"===t.responseStatus&&!t.smallEvent))},directives:[n.q,s.a,n.x,r.a],pipes:[l.a,d.a,u.a],styles:['.cu-google-calendar-event{display:flex;height:calc(100% + 2px);padding:1px 5px;margin:-1px -6px;border-radius:2px;cursor:pointer}.cu-google-calendar-event__body{padding:4px;width:auto;min-width:0;overflow:hidden;flex-grow:1}.cu-google-calendar-event__body_small{padding:0}.cu-google-calendar-event__icon{width:16px;height:16px;padding:2px;border-radius:2px;flex-shrink:0;margin-top:4px;fill:#fff}.cu-google-calendar-event__icon_small{height:8px;width:8px;padding:0;margin:1px 3px 0 0}.cu-google-calendar-event__title-gradient{content:"";display:block;position:absolute;top:0;right:0;left:auto;width:10px;height:12px}.cu-google-calendar-event__title-gradient_declined{background:linear-gradient(90deg,rgba(233,235,241,0),#e9ebf1)}.dark-theme .cu-google-calendar-event__title-gradient_declined{background:linear-gradient(90deg,rgba(43,52,59,0),#2b343b)}.cu-google-calendar-event__title-gradient_pending{background:linear-gradient(90deg,rgba(192,177,251,0),#c0b1fb)}.cu-google-calendar-event .cu-dashboard-time__calendar__event__time,.cu-google-calendar-event .cu-dashboard-time__calendar__event__title-text span,.dark-theme .cu-google-calendar-event .cu-dashboard-time__calendar__event__time,.dark-theme .cu-google-calendar-event .cu-dashboard-time__calendar__event__title-text span{color:#fff}.cu-google-calendar-event_declined{text-decoration:line-through;background:#e9ebf0}.dark-theme .cu-google-calendar-event_declined{background:#2b343b}.cu-google-calendar-event_declined .cu-dashboard-time__calendar__event__time,.cu-google-calendar-event_declined .cu-dashboard-time__calendar__event__title-text span{-webkit-text-decoration-color:#7c828d;text-decoration-color:#7c828d;color:#7c828d}.dark-theme .cu-google-calendar-event_declined .cu-dashboard-time__calendar__event__time,.dark-theme .cu-google-calendar-event_declined .cu-dashboard-time__calendar__event__title-text span{-webkit-text-decoration-color:#828588;text-decoration-color:#828588;color:#828588}.cu-google-calendar-event_pending,.dark-theme .cu-google-calendar-event_pending{background:#c0b1fb}.cu-google-calendar-event__response{margin-bottom:5px;margin-left:5px;align-self:flex-end;width:14px;height:14px}.cu-google-calendar-event__response_declined{fill:#b9bec7}.dark-theme .cu-google-calendar-event__response_declined{fill:#7c828d}.cu-google-calendar-event__response_pending{fill:#fff}'],encapsulation:2,changeDetection:0}),e})()},rgp6:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var a=i("ofXK"),o=i("l7P3"),c=i("9jGm"),n=i("Zrce"),s=i("CZAz"),r=i("lJxs"),l=i("eIep"),d=i("zp1y"),u=i("EY2u"),p=i("LRne"),m=i("fXoL"),h=i("AeD3"),b=i("jJW4");let g=(()=>{class e{constructor(e,t,i,a){this.actions=e,this.dataService=t,this.sharedData=i,this.store=a,this.getNotificationTableSettings$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.c),Object(r.a)(e=>e),Object(l.a)(e=>this.dataService.getTeamNotificationSettings(this.sharedData.compatCurrentTeam.id).pipe(Object(r.a)(t=>new n.b(Object.assign(Object.assign({},t),e))))))),this.setAngleOption$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.v),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.setMembersSettingsOption$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.q),Object(r.a)(e=>e.payload),Object(l.a)(e=>this.dataService.editNotificationsSettings(this.sharedData.compatCurrentTeam.id,e))),{dispatch:!1}),this.setSoundOption$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.w),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.setMyTaskNotificationsSettings$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.r),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.setNotificationSoundOption$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.x),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.setAllOptionRow$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.u),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.setAllOptionColumn$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.t),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.setNotificationAfterTimeOption$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.s),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.setTimeNotificationSettingsOption$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.y),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.res?this.dataService.setTeamNotificationSettings(this.sharedData.compatCurrentTeam.id,e.res):u.a)),{dispatch:!1}),this.updateOption$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.I),Object(r.a)(e=>e.payload),Object(l.a)(e=>this.dataService.getTeamNotificationSettings(this.sharedData.compatCurrentTeam.id).pipe(Object(r.a)(t=>new n.b(Object.assign(Object.assign({},t),e))))))),this.registerServiceWorkerAndCheckPermission$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.o),Object(d.a)(this.store.pipe(Object(o.select)(s.b))),Object(r.a)(([e,t])=>t),Object(l.a)(e=>"granted"===e?Object(p.a)(new n.m({})):u.a))),this.notificationSubscribePermissionSuccess$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.i),Object(r.a)(e=>e.payload),Object(l.a)(e=>e.sendToServer?this.dataService.setNotificationAuthData(e.notificationData).pipe(Object(l.a)(()=>u.a)):u.a)),{dispatch:!1}),this.notificationDeletePermessionData$=Object(c.c)(()=>this.actions.pipe(Object(c.d)(n.e),Object(d.a)(this.store.pipe(Object(o.select)(s.c))),Object(r.a)(([e,t])=>t),Object(l.a)(e=>e?this.dataService.removeNotificationAuthData(e.endpoint).pipe(Object(l.a)(()=>u.a)):u.a)),{dispatch:!1})}}return e.\u0275fac=function(t){return new(t||e)(m.nc(c.a),m.nc(h.a),m.nc(b.a),m.nc(o.Store))},e.\u0275prov=m.Sb({token:e,factory:e.\u0275fac}),e})();var f=i("BbXJ");let _=(()=>{class e{}return e.\u0275mod=m.Ub({type:e}),e.\u0275inj=m.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.StoreModule.forFeature("notificationSettings",f.f),c.b.forFeature([g])]]}),e})()},tMYF:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("fXoL");let o=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.m))},e.\u0275dir=a.Rb({type:e,selectors:[["","cuCalendarContentWeekViewEvent",""]]}),e})()},tNvG:function(e,t,i){"use strict";i.d(t,"a",function(){return k}),i.d(t,"b",function(){return x});var a=i("fXoL"),o=i("uDQY"),c=i("1G5W"),n=i("AeD3"),s=i("xg+I"),r=i("aIzb"),l=i("Jf2N"),d=i("76Cs"),u=i("MPcj"),p=i("l7P3"),m=i("oWSB"),h=i("jJW4"),b=i("LLqd"),g=i("JX/H"),f=i("O5Dz"),_=i("T1Rn"),v=i("7G3y"),y=i("o7Ov"),w=i("OPNx");class k{constructor(e){this.emitTaskChangesEventOnDelete=!0,this.onCreate=()=>{},this.onRename=()=>{},this.onDelete=()=>{},this.onOpenRecurring=()=>{},Object.assign(this,e)}}class x{constructor(e,t,i){this.options=e,this.injector=t,this.commonStringsService=i,this.renaming=!1,this.selectTaskData=null,this.resolver=this.injector.get(a.j),this.dataService=this.injector.get(n.a),this.modalService=this.injector.get(l.a),this.taskService=this.injector.get(d.a),this.store=this.injector.get(p.Store),this.sharedData=this.injector.get(h.a),this.selectedTasks=this.injector.get(b.a)}handle(e,t){"function"==typeof this[e]&&this[e](t)}create(){this.options.onCreate()}rename(){if(this.options.renameEditorContainer){const e=this.resolver.resolveComponentFactory(o.a);this.editor=this.options.renameEditorContainer.createComponent(e),this.editor.instance.name=this.options.task.name,this.editor.instance.forTags=!1,this.options.renameEditorModifier&&(this.editor.instance.modifier=this.options.renameEditorModifier),this.editor.instance.onAction.pipe(Object(c.a)(this.options.componentDestroy$)).subscribe(e=>{if("save"===e.action){const t=e.name;if(!t.length)return;this.options.task.name=t,this.dataService.editTask(this.options.task.id,{name:t}).subscribe(),this.options.onRename()}this.renaming=!1,this.options.renameEditorContainer.remove()}),this.renaming=!0}else this.options.onRename()}delete(){this.taskService.remove(this.options.task,this.options.emitTaskChangesEventOnDelete),this.options.onDelete()}convert(){this.openTaskSelectModal("makeSubtask")}merge(){this.openTaskSelectModal("merge")}archive(){this.taskService.archive(this.options.task,this.options.task.archived)}customType(e){this.taskService.setCustomType(this.options.task,e)}dependencies(){this.store.dispatch(new u.x({task:this.options.task,project:this.options.project}))}copy(){const e=this.modalService.openComponent(m.a,this.injector,{title:this.commonStringsService.duplicateTask});e.instance.inputtedTask=this.options.task,this.options.project&&(e.instance.space=this.options.project),e.instance.task$.next(this.options.task),e.instance.setTask(),e.instance.onTaskCopy.pipe(Object(c.a)(this.options.componentDestroy$)).subscribe(this.copyTask.bind(this))}openRecurring(){this.options.onOpenRecurring()}copyTask(e){this.modalService.close(),this.dataService.copyTask(this.options.task.id,Object(m.b)(e)).subscribe(e=>{this.sharedData.addToastItem({title:this.commonStringsService.copyingTask,bold:!0,forced:!0})})}openTaskSelectModal(e){const t=this.resolver.resolveComponentFactory(r.a),i=this.options.convertSubtaskContainer.createComponent(t);i.instance.task=this.options.task,i.instance.requireCreateAndEdit=!0,i.instance.defaultProject=this.options.project,i.instance.searchSubtasks="merge"===e,i.instance.expandableSubtasks="merge"===e,i.instance.description="merge"!==e?null:this.commonStringsService.mergeTaskDescriptionText,i.instance.notice="merge"!==e?this.commonStringsService.privacyAndSharingFromParentInheritanceText:this.commonStringsService.privacyAndSharingInteritanceNoticeText,i.instance.onSelect.pipe(Object(c.a)(this.options.componentDestroy$)).subscribe(t=>{if(this.modalService.close(),this.selectTaskData={task:t.masterTask,toTask:t.task},"merge"===e)if(this.options.task.subtasks_by_status&&this.options.task.subtasks_by_status.length>0){const e=this.resolver.resolveComponentFactory(s.a),i=this.options.confirmMergeSubtaskModalContainer.createComponent(e);i.instance.parentTask=!!t.task.parent,i.instance.selectTaskData=this.selectTaskData,i.instance.onConfirm.pipe(Object(c.a)(this.options.componentDestroy$)).subscribe(()=>this.mergeSubtaskConfirmModal()),this.modalService.open({blank:!1,modifier:"task-sc__modal",content:i})}else this.taskService.mergeTasks(this.selectTaskData.task,this.selectTaskData.toTask,!1);else if(this.options.task.subtasks_by_status&&this.options.task.subtasks_by_status.length>0){const e=this.resolver.resolveComponentFactory(s.a),t=this.options.confirmSubtaskModalContainer.createComponent(e);t.instance.selectTaskData=this.selectTaskData,t.instance.onConfirm.pipe(Object(c.a)(this.options.componentDestroy$)).subscribe(()=>this.subtaskConfirmModal()),this.modalService.open({blank:!1,modifier:"task-sc__modal",content:t})}else this.taskService.setSubtasks(this.selectTaskData.toTask,this.selectedTasks,!1,this.selectTaskData.task)}),this.modalService.open({title:"merge"===e?this.commonStringsService.mergeTaskIntoText:"moveSubtask"===e?this.commonStringsService.moveSubtaskText:this.commonStringsService.convertToSubtaskText,content:i,modifier:"merge"===e?"cu-modal_task-selector cu-modal_task-selector_merge":"cu-modal_task-selector"})}mergeSubtaskConfirmModal(){this.selectTaskData&&this.taskService.mergeTasks(this.selectTaskData.task,this.selectTaskData.toTask,!0)}subtaskConfirmModal(){this.selectTaskData&&this.taskService.setSubtasks(this.selectTaskData.toTask,this.selectedTasks,!0,this.selectTaskData.task)}showEmailModal(){const e=this.modalService.openComponent(g.a,this.injector,{title:this.commonStringsService.attachEmailsToTaskText});e.instance.emailType=g.b.Comment,e.instance.task=this.options.task}showSharingModal(){this.options.task.parent?this.dataService.getTask(this.options.task.parent).pipe(Object(c.a)(this.options.componentDestroy$)).subscribe(e=>{this.store.dispatch(new y.Le("task",Object.assign(Object.assign({},e),{project:this.options.project}),this.commonStringsService.parentTaskSharingNoticeText))}):this.store.dispatch(new y.Le("task",Object.assign(Object.assign({},this.options.task),{project:this.options.project})))}sendToTray(){const e=this.options.task;e&&e.id&&e.category&&e.subcategory&&this.store.dispatch(new w.c({addTask:e,currentTeamId:this.sharedData.compatCurrentTeam.id}))}removeFromTray(){const e=this.options.task;e&&e.id&&this.store.dispatch(new w.x({removeTask:e,currentTeamId:this.sharedData.compatCurrentTeam.id}))}moveSubtask(e){this.openTaskSelectModal("moveSubtask")}convertTask(){this.dataService.editTask(this.options.task.id,{parent:"none"}).subscribe(e=>{const t={description:this.commonStringsService.convertToTaskUndoItemText(Object(f.b)(this.options.task.name)),task:this.options.task,allowHtml:!0};this.sharedData.addUndoItem(t),this.taskService.onChange.emit([e.task])})}move(e){this.taskService.move(this.options.task,e.subcategory,e.category)}lineup(e){this.store.dispatch(Object(_.b)({task:this.options.task,user:e,teamId:this.sharedData.compatCurrentTeam.id,showToast:!0}))}addFavorite(){this.store.dispatch(Object(v.d)({task:this.options.task}))}removeFavorite(e){this.store.dispatch(Object(v.r)({favoriteId:e}))}}},uYtF:function(e,t,i){"use strict";i.d(t,"a",function(){return a});const a="legacy-portfolios"},ucZS:function(e,t,i){"use strict";i.d(t,"a",function(){return Le});var a=i("fXoL"),o=i("TqRa"),c=i("GXRk"),n=i("jJQC"),s=i("ES2d"),r=i("YwDF"),l=i("ofXK"),d=i("EDFS"),u=i("NsZK"),p=i("F6QV"),m=i("LdyQ"),h=i("loh9"),b=i("MJvn"),g=i("n+1/"),f=i("KbVY"),_=i("UdVN"),v=i("Llk8"),y=i("uDQY"),w=i("wNhb"),k=i("peMq"),x=i("bNw/"),T=i("2uWK"),S=i("XaMR"),j=i("dN7M"),O=i("sl2P"),I=i("VhLi"),D=i("ENHh"),C=i("hmfO"),P=i("FrPa"),$=i("oV/j");let z=(()=>{class e{transform(e,t){const i=t.simple_statuses?"":e.status.status.toUpperCase();return e.assigned>0?e.count>1?t.simple_statuses?$localize`:@@calendar-event-subtask-item-text__multiple-subtasks_assigned-count-assigned-to-me:${e.assigned}:assignedCount: out of ${e.count}:subtaskCount: subtasks assigned to me`:$localize`:@@calendar-event-subtask-item-text__multiple-subtasks_assigned-count-assigned-to-me-with-status:${e.assigned}:assignedCount: out of ${e.count}:subtaskCount: subtasks in ${i}:statusText: assigned to me`:t.simple_statuses?$localize`:@@calendar-event-subtask-item-text__one-subtask_assigned-count-assigned-to-me:${e.assigned}:assignedCount: out of ${e.count}:subtaskCount: subtask assigned to me`:$localize`:@@calendar-event-subtask-item-text__one-subtask_assigned-count-assigned-to-me-with-status:${e.assigned}:assignedCount: out of ${e.count}:subtaskCount: subtask in ${i}:statusText: assigned to me`:e.count>1?t.simple_statuses?$localize`:@@calendar-event-subtask-item-text__multiple-subtasks:${e.count}:subtaskCount: subtasks`:$localize`:@@calendar-event-subtask-item-text__multiple-subtasks_with-status:${e.count}:subtaskCount: subtasks in ${i}:statusText:`:t.simple_statuses?$localize`:@@calendar-event-subtask-item-text__one-subtask:${e.count}:subtaskCount: subtask`:$localize`:@@calendar-event-subtask-item-text__one-subtask_with-status:${e.count}:subtaskCount: subtask in ${i}:statusText:`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Vb({name:"calendarEventSubtaskItemText",type:e,pure:!0}),e})();var M=i("KX9h");function E(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-remap-subtasks-popover",12),a.qc("cancel",function(){return a.Uc(e),a.uc().confirmRemap.emit(!1)})("confirm",function(){return a.Uc(e),a.uc().confirmRemap.emit("adjust")}),a.bc()}}function L(e,t){if(1&e){const e=a.dc();a.cc(0,"div",16),a.cc(1,"cu-status-list",17),a.qc("onChange",function(t){return a.Uc(e),a.uc(2).setStatus.emit(t)}),a.bc(),a.bc()}if(2&e){const e=a.uc(2);a.Ib(1),a.Dc("showSearch",!1)("activeStatus",null==e.task?null:e.task.status)("statuses",e.taskStatuses)("groupByStatusType",null==e.team?null:e.team.unstarted_status_group)}}const A=function(e){return{color:e}};function F(e,t){if(1&e&&(a.cc(0,"div",13),a.Xb(1,"div",14),a.vc(2,"isColorDarkerThan"),a.bd(3,L,2,4,"div",15),a.bc()),2&e){const e=a.uc();a.Dc("dropdownDisabled",!(null!=e.task&&e.task.permissions&&null!=e.task&&null!=e.task.permissions&&e.task.permissions.change_status)),a.Ib(1),a.Ob("cu-calendar-event__status-picker_light",!a.xc(2,5,null==e.task||null==e.task.status?null:e.task.status.color,.86)),a.Dc("ngStyle",a.Hc(8,A,null==e.task||null==e.task.status?null:e.task.status.color))("tooltipDelay",200)}}const U=function(e){return{"cu-calendar-event__status-done-icon_active":e}};function N(e,t){if(1&e){const e=a.dc();a.cc(0,"div",18),a.qc("click",function(){return a.Uc(e),a.uc().toggleSimpleStatus.emit()}),a.cc(1,"div",19),a.Xb(2,"div",20),a.bc(),a.bc()}if(2&e){const e=a.uc();a.Ib(1),a.Fc("cuTooltip","Mark ",e.task.status.type===e.StatusTypes.Closed?e.openStatus:e.closedStatus,""),a.Dc("tooltipDelay",200),a.Ib(1),a.Dc("ngClass",a.Hc(4,U,e.task.status.type===e.StatusTypes.Closed))("icon","check")}}function R(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc(3);a.Ib(1),a.fd(" ",null==e.task?null:e.task.project_name," > ")}}function G(e,t){if(1&e&&(a.ac(0),a.dd(1),a.Zb()),2&e){const e=a.uc(3);a.Ib(1),a.fd(" ",e.task.category.name," > ")}}function q(e,t){if(1&e&&(a.ac(0),a.bd(1,R,2,1,"ng-container",11),a.bd(2,G,2,1,"ng-container",11),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngIf",!e.selectedProject),a.Ib(1),a.Dc("ngIf",!e.task.category.hidden)}}function B(e,t){if(1&e&&(a.cc(0,"div",21),a.bd(1,q,3,2,"ng-container",11),a.dd(2),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngIf",!e.selectedCategory||!e.selectedProject),a.Ib(1),a.fd(" ",e.task.subcategory.name," ")}}function W(e,t){if(1&e&&(a.cc(0,"div",22),a.dd(1),a.bc()),2&e){const e=a.uc();a.Ib(1),a.fd(" ",(null==e.task.subtask_parent_task?null:e.task.subtask_parent_task.name)||(null==e.task.parent_task?null:e.task.parent_task.name)," ")}}function V(e,t){1&e&&a.Xb(0,"div",24)}function X(e,t){if(1&e&&(a.ac(0),a.dd(1),a.vc(2,"momentDate"),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.fd(" ",a.xc(2,1,e.tempStartDate||e.task.start_date,null!=e.user&&e.user.twenty_four_hr_setting?"H:mm":"h:mma"),"")}}function H(e,t){1&e&&(a.ac(0),a.dd(1,"-"),a.Zb())}function Y(e,t){if(1&e&&(a.ac(0),a.dd(1),a.vc(2,"momentDate"),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.ed(a.xc(2,1,e.tempDueDate||e.task.due_date,null!=e.user&&e.user.twenty_four_hr_setting?"H:mm":"h:mma"))}}function Z(e,t){if(1&e&&(a.bd(0,V,1,0,"div",23),a.bd(1,X,3,4,"ng-container",11),a.bd(2,H,2,0,"ng-container",11),a.bd(3,Y,3,4,"ng-container",11)),2&e){const e=a.uc();a.Dc("ngIf",e.task.start_date_time||e.task.due_date_time),a.Ib(1),a.Dc("ngIf",e.task.start_date_time),a.Ib(1),a.Dc("ngIf",e.task.start_date_time&&e.task.due_date_time),a.Ib(1),a.Dc("ngIf",e.task.due_date_time)}}function Q(e,t){if(1&e&&a.Xb(0,"cu-task-row-status",33),2&e){const e=a.uc(3);a.Dc("status",null==e.task?null:e.task.status)("itemClass","cu-task-row-status_dot")("hasCustomType",!0)("customType",!0)("isSimpleStatus",null==e.task?null:e.task.simple_statuses)("showSettings",!1)("disabled",!0)}}function K(e,t){if(1&e&&a.Xb(0,"div",34),2&e){const e=a.uc(3);a.Dc("icon","cu2-subtask")("cuTooltip",null==e.task.parent_task?null:e.task.parent_task.name)}}function J(e,t){if(1&e&&(a.ac(0),a.bd(1,Q,1,7,"cu-task-row-status",31),a.bd(2,K,1,2,"div",32),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngIf",(null==e.project||null==e.project.features||null==e.project.features.milestones?null:e.project.features.milestones.enabled)&&!(null==e.task||!e.task.custom_type)),a.Ib(1),a.Dc("ngIf",e.task.parent)}}function ee(e,t){if(1&e&&(a.cc(0,"div",35),a.vc(1,"trustStyle"),a.bc()),2&e){const e=a.uc(2);a.ad("background",a.wc(1,2,e.backgroundGradient))}}function te(e,t){1&e&&a.Xb(0,"div",40)}function ie(e,t){if(1&e){const e=a.dc();a.cc(0,"div",41),a.qc("click",function(){return a.Uc(e),a.uc(3).openDependencyModal.emit()}),a.bc()}if(2&e){const e=a.uc(3);a.Dc("icon","blocker")("tooltipDisabled",e.disableEventTooltips)}}function ae(e,t){if(1&e){const e=a.dc();a.cc(0,"div",42),a.qc("click",function(){return a.Uc(e),a.uc(3).openDependencyModal.emit()}),a.bc()}if(2&e){const e=a.uc(3);a.Dc("icon","blocked")("tooltipDisabled",e.disableEventTooltips)}}function oe(e,t){1&e&&a.Xb(0,"div",43),2&e&&a.Dc("icon","archive2")}function ce(e,t){if(1&e&&(a.ac(0),a.bd(1,te,1,0,"div",36),a.bd(2,ie,1,2,"div",37),a.bd(3,ae,1,2,"div",38),a.bd(4,oe,1,1,"div",39),a.Zb()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngIf",e.task.private),a.Ib(1),a.Dc("ngIf",e.task.dependency_state===e.DependencyState.blocked&&!e.isRecurring&&!e.hideDependencies),a.Ib(1),a.Dc("ngIf",e.task.dependency_state===e.DependencyState.blocker&&!e.isRecurring&&!e.hideDependencies),a.Ib(1),a.Dc("ngIf",null==e.task?null:e.task.archived)}}function ne(e,t){1&e&&a.Xb(0,"div",44)}function se(e,t){}function re(e,t){if(1&e&&a.bd(0,se,0,0,"ng-template",45),2&e){const e=a.uc(2);a.Dc("ngTemplateOutlet",e.effortTemplate)}}function le(e,t){}function de(e,t){if(1&e&&(a.cc(0,"span",46),a.bd(1,le,0,0,"ng-template",45),a.bc()),2&e){const e=a.uc(2),t=a.Rc(8);a.Ib(1),a.Dc("ngTemplateOutlet",!e.isDragToCreate&&t)}}function ue(e,t){if(1&e&&(a.cc(0,"div",25),a.bd(1,J,3,2,"ng-container",11),a.cc(2,"span",26),a.Xb(3,"span",27),a.vc(4,"linkify"),a.bd(5,ee,2,4,"div",28),a.bc(),a.bd(6,ce,5,4,"ng-container",11),a.bd(7,ne,1,0,"div",29),a.bd(8,re,1,1,void 0,11),a.bd(9,de,2,1,"span",30),a.bc()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngIf",!e.isDragToCreate),a.Ib(1),a.Ob("cu-dashboard-time__calendar-custom-type",!(null==e.task||!e.task.custom_type)),a.Jb("cu-tooltip-text",e.backgroundGradient?null:""),a.Ib(1),a.Dc("innerHTML",a.wc(4,11,e.task.name),a.Vc),a.Jb("cu-tooltip-text",e.backgroundGradient?"":null),a.Ib(2),a.Dc("ngIf",e.backgroundGradient),a.Ib(1),a.Dc("ngIf",!e.isDragToCreate),a.Ib(1),a.Dc("ngIf",e.isRecurring),a.Ib(1),a.Dc("ngIf",e.effortTemplate),a.Ib(1),a.Dc("ngIf",e.inlineTime)}}function pe(e,t){if(1&e){const e=a.dc();a.cc(0,"div",47),a.qc("click",function(t){return a.Uc(e),a.uc().showTaskRightClickMenu.emit(t)}),a.bc()}2&e&&a.Dc("icon","ellipsis")}function me(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-quick-actions-menu-editor",48),a.qc("onAction",function(t){return a.Uc(e),a.uc().renameEvent.emit(t.name)}),a.bc()}if(2&e){const e=a.uc();a.Dc("name",e.task.name)("forTags",!1)}}function he(e,t){}function be(e,t){if(1&e&&(a.cc(0,"div",46),a.bd(1,he,0,0,"ng-template",45),a.bc()),2&e){a.uc(2);const e=a.Rc(8);a.Ib(1),a.Dc("ngTemplateOutlet",e)}}const ge=function(e){return{team:e,useRollups:!0}};function fe(e,t){if(1&e&&(a.Xb(0,"div",27),a.vc(1,"trustHTML"),a.vc(2,"async"),a.vc(3,"customFieldValue")),2&e){const e=a.uc(2).$implicit,t=a.uc(3);a.Dc("innerHTML",a.wc(1,1,a.wc(2,3,a.zc(3,5,e.value,e,t.task,a.Hc(10,ge,t.team)))),a.Vc)}}function _e(e,t){if(1&e&&(a.Xb(0,"div",60),a.vc(1,"trustHTML"),a.vc(2,"async"),a.vc(3,"customFieldValue")),2&e){a.uc();const e=a.Rc(4),t=a.uc().$implicit,i=a.uc(3);a.Dc("innerHtml",a.wc(1,4,a.wc(2,6,a.zc(3,8,t.value,t,i.task,a.Hc(13,ge,i.team)))),a.Vc)("cuPopover",e)("outsideClick",!0)("trigger",t.value?"click":null)}}function ve(e,t){if(1&e&&(a.Xb(0,"div",61),a.vc(1,"trustHTML"),a.vc(2,"async"),a.vc(3,"customFieldValue")),2&e){const e=a.uc(2).$implicit,t=a.uc(3);a.Dc("tooltipUseInnerHtml",!0)("tooltipAllowHtmlRememberToEscapeXss",!0)("innerHtml",a.wc(1,4,a.wc(2,6,a.zc(3,8,e.value,e,t.task,a.Hc(13,ge,t.team)))),a.Vc)("tooltipDisabledIfTextNotTruncated",!0)}}function ye(e,t){if(1&e&&a.Xb(0,"cu-user-group",62),2&e){const e=a.uc(2).$implicit;a.Dc("users",e.value)("readOnly",!0)("modifier","cu-user-group_sm")("avatarSize",20)}}function we(e,t){if(1&e&&(a.cc(0,"div",54),a.cc(1,"div",55),a.dd(2),a.bc(),a.bd(3,fe,4,12,"ng-template",null,56,a.cd),a.bd(5,_e,4,15,"div",57),a.bd(6,ve,4,15,"div",58),a.bd(7,ye,1,4,"cu-user-group",59),a.bc()),2&e){const e=a.uc().$implicit,t=a.uc(3);a.Ib(1),a.Dc("cuTooltip",e.name)("tooltipDisabledIfTextNotTruncated",!0),a.Ib(1),a.fd(" ",e.name,": "),a.Ib(3),a.Dc("ngIf",e.type===t.CustomFieldType.LongText||e.type===t.CustomFieldType.ShortText),a.Ib(1),a.Dc("ngIf",e.type!==t.CustomFieldType.LongText&&e.type!==t.CustomFieldType.ShortText&&e.type!==t.CustomFieldType.Users),a.Ib(1),a.Dc("ngIf",e.type===t.CustomFieldType.Users)}}function ke(e,t){if(1&e&&(a.ac(0),a.bd(1,we,8,6,"div",53),a.Zb()),2&e){const e=t.$implicit,i=a.uc(3);a.Ib(1),a.Dc("ngIf",i.showEventItems.customFields&&i.showEventItems.customFields[e.id]&&(e.value||0===e.value||e.type===i.CustomFieldType.Formula))}}function xe(e,t){if(1&e&&(a.cc(0,"div",51),a.bd(1,ke,2,1,"ng-container",52),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngForOf",e.task.customFields)("ngForTrackBy",e.trackById)}}function Te(e,t){if(1&e&&a.Xb(0,"cu-tags-view",71),2&e){const e=a.uc(3);a.Dc("tags",e.task.tags)("readOnly",!0)("modifier","list-view")("truncate",!0)("forFilter",!0)("solidBackgroundColor",!0)}}function Se(e,t){1&e&&a.Xb(0,"div",77)}function je(e,t){if(1&e&&(a.cc(0,"div",74),a.vc(1,"calendarEventSubtaskItemText"),a.bd(2,Se,1,0,"div",75),a.cc(3,"div",76),a.dd(4),a.bc(),a.bc()),2&e){const e=t.$implicit,i=a.uc(4);a.Dc("tooltipDisabled",i.disableEventTooltips)("cuTooltip",a.xc(1,8,e,i.task)),a.Ib(2),a.Dc("ngIf",e.assigned>0),a.Ib(1),a.ad("background-color",i.task.simple_statuses?null:e.status.color),a.Ob("lv-task-subtasks__item-icon_open",(null==e||null==e.status?null:e.status.type)===i.StatusTypes.Open),a.Ib(1),a.fd(" ",e.count," ")}}const Oe=function(e){return{"lv-task-subtasks_simple":e}};function Ie(e,t){if(1&e&&(a.cc(0,"div",72),a.bd(1,je,5,11,"div",73),a.bc()),2&e){const e=a.uc(3);a.Dc("ngClass",a.Hc(3,Oe,e.task.simple_statuses)),a.Ib(1),a.Dc("ngForOf",e.task.subtasks_by_status)("ngForTrackBy",e.trackByStatus)}}function De(e,t){if(1&e&&(a.cc(0,"div",78),a.Xb(1,"div",79),a.dd(2),a.vc(3,"timeTracked"),a.vc(4,"timeTracked"),a.bc()),2&e){const e=a.uc(3);a.Ib(1),a.Dc("icon","clock"),a.Ib(1),a.fd(" ",!e.task.parent&&e.team.time_tracking_rollup?a.zc(3,2,e.task.rolled_up_time_spent,null==e.team?null:e.team.hours_per_day,!1,null==e.team?null:e.team.time_tracking_display_hours):a.zc(4,7,e.task.total_time_spent,null==e.team?null:e.team.hours_per_day,!1,null==e.team?null:e.team.time_tracking_display_hours)," ")}}function Ce(e,t){if(1&e&&(a.cc(0,"div",80),a.cc(1,"div",81),a.tc(),a.cc(2,"svg",82),a.cc(3,"g",83),a.Xb(4,"path",84),a.Xb(5,"rect",85),a.Xb(6,"rect",86),a.bc(),a.bc(),a.bc(),a.dd(7),a.vc(8,"timeTracked"),a.vc(9,"timeTracked"),a.bc()),2&e){const e=a.uc(3);a.Ib(7),a.fd(" ",!e.task.parent&&e.team.time_estimate_rollup?a.zc(8,1,e.task.rolled_up_time_estimate,null==e.team?null:e.team.hours_per_day,!1,null==e.team?null:e.team.time_estimate_display_hours):a.zc(9,6,e.task.time_estimate,null==e.team?null:e.team.hours_per_day,!1,null==e.team?null:e.team.time_estimate_display_hours)," ")}}function Pe(e,t){if(1&e&&(a.cc(0,"div",87),a.Xb(1,"cu-points-estimates-display",88),a.bc()),2&e){const e=a.uc(3);a.Ib(1),a.Dc("points",!e.task.parent&&e.team.points_estimate_rollup?e.task.rolled_up_points_estimate:null==e.task?null:e.task.points)}}function $e(e,t){if(1&e&&(a.cc(0,"div",89),a.Xb(1,"cu-priorities-view",90),a.bc()),2&e){const e=a.uc(3);a.Ib(1),a.Dc("priority",e.task.priority)}}function ze(e,t){if(1&e){const e=a.dc();a.cc(0,"cu-calendar-event-assignee",91),a.qc("reloadTask",function(){return a.Uc(e),a.uc(3).reloadTask.emit()})("updateTask",function(t){return a.Uc(e),a.uc(3).updateTask.emit(t)}),a.bc()}if(2&e){const e=a.uc(3);a.Dc("task",e.task)("project",e.project)("isRecurring",e.isRecurring)}}function Me(e,t){if(1&e&&(a.cc(0,"div",63),a.bd(1,Te,1,6,"cu-tags-view",64),a.bd(2,Ie,2,5,"div",65),a.bd(3,De,5,12,"div",66),a.bd(4,Ce,10,11,"div",67),a.bd(5,Pe,2,1,"div",68),a.bd(6,$e,2,1,"div",69),a.bd(7,ze,1,3,"cu-calendar-event-assignee",70),a.bc()),2&e){const e=a.uc(2);a.Ib(1),a.Dc("ngIf",e.showEventItems.tags),a.Ib(1),a.Dc("ngIf",e.task.subtasks_count&&e.showEventItems.subtasks),a.Ib(1),a.Dc("ngIf",(null==e.project||null==e.project.features||null==e.project.features.time_tracking?null:e.project.features.time_tracking.enabled)&&(e.task.total_time_spent||e.task.rolled_up_time_spent)&&e.showEventItems.timeTracked),a.Ib(1),a.Dc("ngIf",(null==e.project||null==e.project.features||null==e.project.features.time_estimates?null:e.project.features.time_estimates.enabled)&&(e.task.time_estimate_string||e.task.rolled_up_time_estimate)&&e.showEventItems.timeEstimate),a.Ib(1),a.Dc("ngIf",(null==e.project||null==e.project.features||null==e.project.features.points?null:e.project.features.points.enabled)&&(e.task.points||e.task.rolled_up_points_estimate)&&e.showEventItems.pointsEstimate),a.Ib(1),a.Dc("ngIf",(null==e.project||null==e.project.features||null==e.project.features.priorities?null:e.project.features.priorities.enabled)&&e.task.priority&&e.showEventItems.priority),a.Ib(1),a.Dc("ngIf",e.showEventItems.assignee)}}function Ee(e,t){if(1&e&&(a.ac(0),a.bd(1,be,2,1,"div",30),a.bd(2,xe,2,2,"div",49),a.bd(3,Me,8,7,"div",50),a.Zb()),2&e){const e=a.uc();a.Ib(1),a.Dc("ngIf",!e.isDragToCreate&&!e.inlineTime&&!e.hideTime),a.Ib(1),a.Dc("ngIf",!e.isDragToCreate&&(null==e.project||null==e.project.features||null==e.project.features.custom_fields?null:e.project.features.custom_fields.enabled)),a.Ib(1),a.Dc("ngIf",!e.isDragToCreate)}}let Le=(()=>{class e{constructor(){this.tooltipPlacement=["top","bottom","left","right"],this.confirmRemap=new a.o,this.showTaskRightClickMenu=new a.o,this.renameEvent=new a.o,this.toggleSimpleStatus=new a.o,this.setStatus=new a.o,this.openDependencyModal=new a.o,this.reloadTask=new a.o,this.updateTask=new a.o,this.CustomFieldType=r.a,this.isSharingApp=o.k,this.StatusTypes=c.g,this.DependencyState=s.a,this.trackById=Object(n.d)("id"),this.trackByStatus=Object(n.d)("status"),this.closedStatus=$localize`:closed status@@common_closed--status:Closed`,this.openStatus=$localize`:open status@@common_open--status:Open`}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-calendar-event"]],hostAttrs:[1,"cu-calendar-event"],inputs:{task:"task",isDragToCreate:"isDragToCreate",isRecurring:"isRecurring",rename:"rename",disableEventTooltips:"disableEventTooltips",project:"project",team:"team",showEventItems:"showEventItems",inlineTime:"inlineTime",taskStatuses:"taskStatuses",showRemapPopover:"showRemapPopover",selectedProject:"selectedProject",selectedCategory:"selectedCategory",user:"user",backgroundGradient:"backgroundGradient",hideTime:"hideTime",hideMenu:"hideMenu",hideDependencies:"hideDependencies",hideStatus:"hideStatus",effortTemplate:"effortTemplate",tooltipPlacement:"tooltipPlacement",tempStartDate:"tempStartDate",tempDueDate:"tempDueDate"},outputs:{confirmRemap:"confirmRemap",showTaskRightClickMenu:"showTaskRightClickMenu",renameEvent:"renameEvent",toggleSimpleStatus:"toggleSimpleStatus",setStatus:"setStatus",openDependencyModal:"openDependencyModal",reloadTask:"reloadTask",updateTask:"updateTask"},decls:14,vars:14,consts:function(){let e,t,i,a,o,c;return e=$localize`:@@common_change-status␟3433adc4751097b46abd5305b1f7180830800ab1␟7893242329213539447:Change status`,t=$localize`:@@common_waiting-dependency␟7e318436deb2d800d19000fca6e33177b3b98f30␟6823188785494996697:Waiting on dependency`,i=$localize`:@@common_blocking-dependency␟dc1bcd8eb31a7bb33bc8e886576aee8492e84e3c␟5566965119949910896:Blocking Dependency`,a=$localize`:@@common_time-tracked-1␟ee639e554c95c07a7339939e18fac0b35ee0febe␟9055472543897065464:Time tracked`,o=$localize`:@@common_time-estimated␟4a9acc37bed3f51cc07f2588ececa81014db5fc0␟8828917481529450825:Time Estimated`,c=$localize`:@@common_sprint-points␟439604fff37c08a95883b7c3a3fc933bf988770d␟5912580739737718789:Sprint points`,[["remapDueDatesPopoverTemplate",""],["cuDropdown","","class","cu-calendar-event__status",3,"dropdownDisabled","cuPreventDefault",4,"ngIf"],["class","cu-calendar-event__status",3,"cuPreventDefault","click",4,"ngIf"],["containerClass","remap-subtask-due-dates-popover remap-subtask-due-dates-popover_calendar","triggers","","container","body",1,"cu-calendar-event__body",3,"popover","isOpen","cuTooltip","tooltipDisabledIfTextNotTruncated","tooltipDisabled","tooltipPlacement"],["class","cu-dashboard-time__calendar__event__location",4,"ngIf"],["class","cu-dashboard-time__calendar__event__parent",4,"ngIf"],["timeTemplate",""],[1,"cu-dashboard-time__calendar__event__title-container"],["class","cu-dashboard-time__calendar__event__title",4,"ngIf"],["class","cu-dashboard-time__calendar__event__ellipsis",3,"icon","click",4,"ngIf"],[3,"name","forTags","onAction",4,"ngIf"],[4,"ngIf"],[3,"cancel","confirm"],["cuDropdown","",1,"cu-calendar-event__status",3,"dropdownDisabled","cuPreventDefault"],["cuDropdownToggle","","cuTooltip",e,"tooltipModifier","tooltip_near",1,"cu-calendar-event__status-picker",3,"ngStyle","tooltipDelay"],["class","cu-dropdown__menu",4,"cuDropdownMenu"],[1,"cu-dropdown__menu"],[3,"showSearch","activeStatus","statuses","groupByStatusType","onChange"],[1,"cu-calendar-event__status",3,"cuPreventDefault","click"],["tooltipModifier","tooltip_near",1,"cu-calendar-event__status-done",3,"cuTooltip","tooltipDelay"],[1,"cu-calendar-event__status-done-icon",3,"ngClass","icon"],[1,"cu-dashboard-time__calendar__event__location"],[1,"cu-dashboard-time__calendar__event__parent"],["class","cu-dashboard-time__calendar__event__time-icon","icon","clock",4,"ngIf"],["icon","clock",1,"cu-dashboard-time__calendar__event__time-icon"],[1,"cu-dashboard-time__calendar__event__title"],[1,"cu-dashboard-time__calendar__event__title-text"],[3,"innerHTML"],["class","cu-dashboard-time__calendar__event__title-gradient",3,"background",4,"ngIf"],["icon","refresh","class","cu-dashboard-time__calendar__event__title-recurring",4,"ngIf"],["class","cu-dashboard-time__calendar__event__time",4,"ngIf"],[3,"status","itemClass","hasCustomType","customType","isSimpleStatus","showSettings","disabled",4,"ngIf"],["class","cu-dt-filter__subtask-icon",3,"icon","cuTooltip",4,"ngIf"],[3,"status","itemClass","hasCustomType","customType","isSimpleStatus","showSettings","disabled"],[1,"cu-dt-filter__subtask-icon",3,"icon","cuTooltip"],[1,"cu-dashboard-time__calendar__event__title-gradient"],["class","lv-task__private-icon","icon","lock5",4,"ngIf"],["class","lv-task__dependency-icon","cuTooltip",t,3,"cuPreventDefault","icon","tooltipDisabled","click",4,"ngIf"],["class","lv-task__dependency-icon","cuTooltip",i,3,"cuPreventDefault","icon","tooltipDisabled","click",4,"ngIf"],["class","lv-task__dependency-icon archived-icon",3,"icon",4,"ngIf"],["icon","lock5",1,"lv-task__private-icon"],["cuTooltip",t,1,"lv-task__dependency-icon",3,"cuPreventDefault","icon","tooltipDisabled","click"],["cuTooltip",i,1,"lv-task__dependency-icon",3,"cuPreventDefault","icon","tooltipDisabled","click"],[1,"lv-task__dependency-icon","archived-icon",3,"icon"],["icon","refresh",1,"cu-dashboard-time__calendar__event__title-recurring"],[3,"ngTemplateOutlet"],[1,"cu-dashboard-time__calendar__event__time"],[1,"cu-dashboard-time__calendar__event__ellipsis",3,"icon","click"],[3,"name","forTags","onAction"],["class","cu-custom-fields__header-items",4,"ngIf"],["class","cu-dashboard-time__calendar__event__footer",4,"ngIf"],[1,"cu-custom-fields__header-items"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-custom-fields__header-items-name",4,"ngIf"],[1,"cu-custom-fields__header-items-name"],[1,"cu-custom-fields__header-items-name-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["cfValuePopover",""],["class","cu-custom-fields__header-items-value","containerClass","popover_white cu-custom-fields__text-expansion-popover",3,"innerHtml","cuPopover","outsideClick","cuPreventDefault","trigger",4,"ngIf"],["class","cu-custom-fields__header-items-value","cuTooltip","",3,"tooltipUseInnerHtml","tooltipAllowHtmlRememberToEscapeXss","innerHtml","tooltipDisabledIfTextNotTruncated",4,"ngIf"],["class","cu-custom-fields__header-items-value",3,"users","readOnly","modifier","avatarSize",4,"ngIf"],["containerClass","popover_white cu-custom-fields__text-expansion-popover",1,"cu-custom-fields__header-items-value",3,"innerHtml","cuPopover","outsideClick","cuPreventDefault","trigger"],["cuTooltip","",1,"cu-custom-fields__header-items-value",3,"tooltipUseInnerHtml","tooltipAllowHtmlRememberToEscapeXss","innerHtml","tooltipDisabledIfTextNotTruncated"],[1,"cu-custom-fields__header-items-value",3,"users","readOnly","modifier","avatarSize"],[1,"cu-dashboard-time__calendar__event__footer"],[3,"tags","readOnly","modifier","truncate","forFilter","solidBackgroundColor",4,"ngIf"],["class","lv-task-subtasks lv-task-subtasks_board cu-dashboard-time__calendar__event__subtasks",3,"ngClass",4,"ngIf"],["class","cu-dashboard-time__calendar__event__time-tracked","cuTooltip",a,4,"ngIf"],["class","cu-dashboard-time__calendar__event__time-estimate","cuTooltip",o,4,"ngIf"],["class","cu-dashboard-time__calendar__event__time-estimate","cuTooltip",c,4,"ngIf"],["class","cu-dashboard-time__calendar__event__priority",4,"ngIf"],["class","cu-dashboard-time__calendar__event__assignees",3,"task","project","isRecurring","reloadTask","updateTask",4,"ngIf"],[3,"tags","readOnly","modifier","truncate","forFilter","solidBackgroundColor"],[1,"lv-task-subtasks","lv-task-subtasks_board","cu-dashboard-time__calendar__event__subtasks",3,"ngClass"],["class","lv-task-subtasks__item",3,"tooltipDisabled","cuTooltip",4,"ngFor","ngForOf","ngForTrackBy"],[1,"lv-task-subtasks__item",3,"tooltipDisabled","cuTooltip"],["class","lv-task-subtasks__item-dot",4,"ngIf"],[1,"lv-task-subtasks__item-icon"],[1,"lv-task-subtasks__item-dot"],["cuTooltip",a,1,"cu-dashboard-time__calendar__event__time-tracked"],[3,"icon"],["cuTooltip",o,1,"cu-dashboard-time__calendar__event__time-estimate"],[1,"icon"],["width","10","height","14","xmlns","http://www.w3.org/2000/svg"],["transform","translate(1 1)","stroke-width",".726","fill","none","fill-rule","evenodd",1,"cu-stroke"],["d","M1.28000544,1.46667573 L1.28000544,3.28000544 C1.28000544,4.78221697 2.49778847,6 4,6 C5.50221153,6 6.71999453,4.78221697 6.71999453,3.28000544 L6.71999453,1.46667573 L1.28000544,1.46667573 Z M1.28000544,10.5333243 L6.71999453,10.5333243 L6.71999453,8.71999453 C6.71999453,7.217783 5.50221153,6 4,6 C2.49778847,6 1.28000544,7.217783 1.28000544,8.71999453 L1.28000544,10.5333243 Z"],["x",".071","y",".258","width","7.858","height","1.209","rx",".604"],["x",".071","y","10.533","width","7.858","height","1.209","rx",".604"],["cuTooltip",c,1,"cu-dashboard-time__calendar__event__time-estimate"],[3,"points"],[1,"cu-dashboard-time__calendar__event__priority"],[3,"priority"],[1,"cu-dashboard-time__calendar__event__assignees",3,"task","project","isRecurring","reloadTask","updateTask"]]},template:function(e,t){if(1&e&&(a.bd(0,E,1,0,"ng-template",null,0,a.cd),a.bd(2,F,4,10,"div",1),a.bd(3,N,3,6,"div",2),a.cc(4,"div",3),a.bd(5,B,3,2,"div",4),a.bd(6,W,2,1,"div",5),a.bd(7,Z,4,4,"ng-template",null,6,a.cd),a.cc(9,"div",7),a.bd(10,ue,10,13,"div",8),a.bd(11,pe,1,1,"div",9),a.bc(),a.bd(12,me,1,2,"cu-quick-actions-menu-editor",10),a.bd(13,Ee,4,3,"ng-container",11),a.bc()),2&e){const e=a.Rc(1);a.Ib(2),a.Dc("ngIf",!(t.isDragToCreate||t.task.simple_statuses||t.rename||t.isRecurring||t.isSharingApp||t.hideStatus)),a.Ib(1),a.Dc("ngIf",!t.isDragToCreate&&t.task.simple_statuses&&!t.rename&&!t.isRecurring&&!t.isSharingApp&&!t.hideStatus),a.Ib(1),a.Dc("popover",e)("isOpen",t.showRemapPopover)("cuTooltip",t.isRecurring?null:t.task.name)("tooltipDisabledIfTextNotTruncated",!0)("tooltipDisabled",t.disableEventTooltips)("tooltipPlacement",t.tooltipPlacement),a.Ib(1),a.Dc("ngIf",!t.isDragToCreate&&t.showEventItems.location),a.Ib(1),a.Dc("ngIf",!t.isDragToCreate&&(null==t.showEventItems?null:t.showEventItems.parentName)&&((null==t.task.subtask_parent_task?null:t.task.subtask_parent_task.name)||(null==t.task.parent_task?null:t.task.parent_task.name))),a.Ib(4),a.Dc("ngIf",!t.rename),a.Ib(1),a.Dc("ngIf",!t.isRecurring&&!t.isSharingApp&&!t.hideMenu),a.Ib(1),a.Dc("ngIf",t.rename),a.Ib(1),a.Dc("ngIf",!t.rename)}},directives:[l.q,d.c,u.a,p.a,m.b,h.a,b.a,l.t,g.a,f.a,l.o,_.a,v.a,l.x,y.a,l.p,w.a,k.a,x.a,T.a,S.a,j.a],pipes:[O.a,I.a,D.a,C.a,P.a,l.b,$.c,z,M.a],styles:['.cu-calendar-event{display:flex;height:100%;cursor:pointer}.cu-calendar-event__body{padding:4px;width:auto;min-width:0;overflow:hidden;flex-grow:1}.cu-calendar-event__body_small{padding:0}.cu-calendar-event__status{min-width:3px;margin:-1px 0 -1px -4px;cursor:pointer;position:relative;flex-shrink:0;will-change:min-width}.cu-calendar-event__status.cu-dropdown_open .cu-calendar-event__status-picker,.cu-calendar-event__status:hover .cu-calendar-event__status-picker{min-width:16px}.cu-calendar-event__status.cu-dropdown_open .cu-calendar-event__status-picker:before,.cu-calendar-event__status:hover .cu-calendar-event__status-picker:before{opacity:.3;min-width:9px}.cu-calendar-event__status.cu-dropdown_open .cu-calendar-event__status-done,.cu-calendar-event__status:hover .cu-calendar-event__status-done{min-width:16px}.cu-calendar-event__status.cu-dropdown_open .cu-calendar-event__status-done-icon,.cu-calendar-event__status:hover .cu-calendar-event__status-done-icon{opacity:1;min-width:9px}.cu-calendar-event__status:after{content:"";display:block;position:absolute;width:10px;height:100%;right:-10px;top:0;z-index:9}.cu-calendar-event__status-picker{transition:min-width .1s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;position:absolute;right:0;z-index:10;min-width:3px;height:100%;background:currentColor;border-top-left-radius:2px;border-bottom-left-radius:2px;will-change:min-width}.cu-calendar-event__status-picker_light{border-right:1px solid rgba(56,64,71,.1)}.cal-month-view .cal-cell:first-child .cu-calendar-event__status-picker{left:0}.cu-calendar-event__status-picker:before{transition:opacity .1s cubic-bezier(.785,.135,.15,.86) .1s,min-width .1s cubic-bezier(.785,.135,.15,.86);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);content:"";min-width:0;height:9px;border-radius:2px;border:1px solid #384047;opacity:0;will-change:min-width}.cu-calendar-event__status-done{transition:min-width .1s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;position:absolute;right:0;z-index:10;min-width:3px;height:100%;background:#d3d3d3;border-top-left-radius:2px;border-bottom-left-radius:2px;will-change:min-width}.cal-month-view .cal-cell:first-child .cu-calendar-event__status-done{left:0}.cu-calendar-event__status-done-icon{transition:opacity .1s cubic-bezier(.785,.135,.15,.86) .1s,min-width .1s cubic-bezier(.785,.135,.15,.86),stroke .2s cubic-bezier(.785,.135,.15,.86);position:absolute;top:50%;left:50%;transform:translate(-45%,-50%);min-width:0;height:9px;opacity:0;will-change:min-width;stroke:#fff;stroke-width:2px}.cu-calendar-event__status-done-icon:hover,.cu-calendar-event__status-done-icon_active{stroke:#67cb48}'],encapsulation:2,changeDetection:0}),e})()},un3I:function(e,t,i){"use strict";i.d(t,"a",function(){return de});var a=i("2Vo4"),o=i("itXk"),c=i("Hgwy"),n=i("fXoL"),s=i("c3rA"),r=i("MguC"),l=i("lJxs"),d=i("uslN"),u=i("8it8"),p=i("WwCI"),m=i("l7P3"),h=i("LdyQ"),b=i("MJvn"),g=i("NsZK"),f=i("n+1/"),_=i("ofXK"),v=i("NQa4"),y=i("Dvla"),w=i("UdVN"),k=i("zYZY");const x=["dropdown"];function T(e,t){1&e&&(n.cc(0,"div",24),n.gc(1,25),n.bc())}function S(e,t){if(1&e){const e=n.dc();n.cc(0,"a",26),n.qc("click",function(){return n.Uc(e),n.uc(2).rename.emit()}),n.Xb(1,"div",27),n.bc()}}function j(e,t){if(1&e){const e=n.dc();n.cc(0,"a",28),n.qc("click",function(){return n.Uc(e),n.uc(2).createTask.emit()}),n.Xb(1,"div",29),n.bc()}}function O(e,t){if(1&e){const e=n.dc();n.cc(0,"a",30),n.qc("cbOnSuccess",function(){return n.Uc(e),n.uc(2).showEmailModal.emit()}),n.Xb(1,"div",31),n.bc()}if(2&e){const e=n.uc(2);n.Dc("cbContent",e.emailUrl)}}function I(e,t){if(1&e){const e=n.dc();n.cc(0,"a",32),n.qc("click",function(){return n.Uc(e),n.uc(2).archive.emit()}),n.Xb(1,"div",33),n.bc()}if(2&e){const e=n.uc(2);n.Ec("cuTooltip",e.archived?e.unarchiveText:e.archiveText)}}function D(e,t){if(1&e){const e=n.dc();n.cc(0,"a",34),n.qc("click",function(t){return n.Uc(e),n.uc(2).delete(t)}),n.Xb(1,"div",35),n.bc()}if(2&e){const e=n.uc(2);n.Ob("disabled-action",!e.canDelete),n.Dc("cuTooltip",e.canDelete?e.commonStringsService.deleteText:e.deleteItemNoPermsText)}}function C(e,t){if(1&e){const e=n.dc();n.cc(0,"a",36),n.qc("click",function(){return n.Uc(e),n.uc(2).showListDetails.emit()}),n.Xb(1,"div",37),n.cc(2,"div",38),n.gc(3,39),n.bc(),n.bc()}}function P(e,t){if(1&e){const e=n.dc();n.cc(0,"a",40),n.qc("click",function(){return n.Uc(e),n.uc(2).checkAll.emit(!0)}),n.Xb(1,"div",41),n.cc(2,"div",38),n.gc(3,42),n.bc(),n.bc()}}function $(e,t){if(1&e){const e=n.dc();n.cc(0,"a",40),n.qc("click",function(){return n.Uc(e),n.uc(2).checkAll.emit(!1)}),n.Xb(1,"div",41),n.cc(2,"div",38),n.gc(3,43),n.bc(),n.bc()}}function z(e,t){if(1&e){const e=n.dc();n.cc(0,"a",44),n.qc("click",function(){return n.Uc(e),n.uc(2).create.emit()}),n.Xb(1,"div",45),n.cc(2,"div",38),n.gc(3,46),n.bc(),n.bc()}if(2&e){const e=n.uc(2);n.Mb("nav-menu-item nav-menu-item__new-list-",e.type,"")}}function M(e,t){if(1&e){const e=n.dc();n.cc(0,"a",47),n.qc("click",function(){return n.Uc(e),n.uc(2).moveFolderless.emit()}),n.Xb(1,"div",48),n.cc(2,"div",38),n.gc(3,49),n.bc(),n.bc()}}function E(e,t){if(1&e){const e=n.dc();n.cc(0,"a",47),n.qc("click",function(){return n.Uc(e),n.uc(2).sprintSettings.emit()}),n.Xb(1,"div",48),n.cc(2,"div",38),n.gc(3,50),n.bc(),n.bc()}}function L(e,t){if(1&e){const e=n.dc();n.cc(0,"a",47),n.qc("click",function(){return n.Uc(e),n.uc(4).convertSprint.emit()}),n.Xb(1,"div",59),n.cc(2,"div",38),n.gc(3,60),n.bc(),n.bc()}}function A(e,t){if(1&e){const e=n.dc();n.cc(0,"div"),n.bd(1,L,4,0,"a",16),n.cc(2,"a",47),n.qc("click",function(){return n.Uc(e),n.uc(3).newSprint.emit()}),n.Xb(3,"div",54),n.cc(4,"div",38),n.gc(5,58),n.bc(),n.bc(),n.bc()}if(2&e){const e=n.uc(3);n.Ib(1),n.Dc("ngIf",e.allowMove)}}const F=function(){return["right"]};function U(e,t){if(1&e){const e=n.dc();n.cc(0,"div",51),n.qc("dropdownClose",function(){return n.Uc(e),n.uc(2).close()}),n.cc(1,"div",52),n.cc(2,"a",53),n.Xb(3,"div",54),n.cc(4,"div",38),n.gc(5,55),n.bc(),n.Xb(6,"div",56),n.bc(),n.bc(),n.bd(7,A,6,1,"div",57),n.bc()}2&e&&(n.Dc("dropdownPlacement",n.Gc(2,F)),n.Ib(6),n.Dc("icon","cu2-angle-right"))}function N(e,t){if(1&e){const e=n.dc();n.cc(0,"a",47),n.qc("click",function(){return n.Uc(e),n.uc(2).newSprint.emit()}),n.Xb(1,"div",54),n.cc(2,"div",38),n.gc(3,61),n.bc(),n.bc()}}function R(e,t){if(1&e){const e=n.dc();n.cc(0,"a",70),n.qc("click",function(){return n.Uc(e),n.uc(4).createFromTemplate.emit()}),n.Xb(1,"div",71),n.cc(2,"div",38),n.gc(3,72),n.bc(),n.bc()}}function G(e,t){if(1&e){const e=n.dc();n.cc(0,"a",73),n.qc("click",function(){return n.Uc(e),n.uc(4).openSaveTemplate.emit()}),n.Xb(1,"div",74),n.cc(2,"div",38),n.gc(3,75),n.bc(),n.bc()}}function q(e,t){if(1&e){const e=n.dc();n.cc(0,"a",73),n.qc("click",function(){return n.Uc(e),n.uc(4).updateExistingTemplate.emit()}),n.Xb(1,"div",76),n.cc(2,"div",38),n.gc(3,77),n.bc(),n.bc()}}function B(e,t){if(1&e&&(n.cc(0,"div"),n.cc(1,"div",66),n.gc(2,67),n.bc(),n.bd(3,R,4,0,"a",68),n.vc(4,"async"),n.Xb(5,"div",19),n.bd(6,G,4,0,"a",69),n.vc(7,"async"),n.vc(8,"async"),n.bd(9,q,4,0,"a",69),n.vc(10,"async"),n.vc(11,"async"),n.bc()),2&e){const e=n.uc(3);let t=null,i=null,a=null;n.Ib(3),n.Dc("ngIf",(null==(t=n.wc(4,3,e.permissions$))?null:t.can_create_lists)&&e.showCreateList&&!e.isSprint),n.Ib(3),n.Dc("ngIf","list"===e.type?(null==(i=n.wc(7,5,e.permissions$))?null:i.can_create_lists)&&!e.isSprint:(null==(i=n.wc(8,7,e.permissions$))?null:i.can_create_projects)&&!e.isSprint),n.Ib(3),n.Dc("ngIf","list"===e.type?(null==(a=n.wc(10,9,e.permissions$))?null:a.can_create_lists)&&!e.isSprint:(null==(a=n.wc(11,11,e.permissions$))?null:a.can_create_projects)&&!e.isSprint)}}function W(e,t){if(1&e){const e=n.dc();n.cc(0,"div",62),n.qc("dropdownClose",function(){return n.Uc(e),n.uc(2).close()}),n.cc(1,"div",52),n.cc(2,"a",63),n.Xb(3,"div",64),n.cc(4,"div",38),n.gc(5,65),n.bc(),n.Xb(6,"div",56),n.bc(),n.bc(),n.bd(7,B,12,13,"div",57),n.bc()}2&e&&(n.Dc("dropdownCloseOnInsideClick",!0)("dropdownCloseOnModal",!0)("dropdownPlacement",n.Gc(4,F)),n.Ib(6),n.Dc("icon","cu2-angle-right"))}function V(e,t){1&e&&(n.ac(0),n.gc(1,81),n.Zb())}function X(e,t){1&e&&(n.ac(0),n.gc(1,82),n.Zb())}function H(e,t){if(1&e){const e=n.dc();n.cc(0,"a",44),n.qc("click",function(){return n.Uc(e),n.uc(2).edit.emit()}),n.Xb(1,"div",78),n.cc(2,"div",38),n.bd(3,V,2,0,"ng-container",79),n.bd(4,X,2,0,"ng-template",null,80,n.cd),n.bc(),n.bc()}if(2&e){const e=n.Rc(5),t=n.uc(2);n.Mb("nav-menu-item nav-menu-item__edit-statuses-",t.type,""),n.Ib(3),n.Dc("ngIf","project"===t.type)("ngIfElse",e)}}function Y(e,t){if(1&e){const e=n.dc();n.cc(0,"a",44),n.qc("click",function(){return n.Uc(e),n.uc(2).editCustomFields.emit()}),n.Xb(1,"div",83),n.cc(2,"div",38),n.gc(3,84),n.bc(),n.bc()}if(2&e){const e=n.uc(2);n.Mb("nav-menu-item nav-menu-item__custom-fields-",e.type,"")}}function Z(e,t){1&e&&(n.ac(0),n.gc(1,87),n.Zb())}function Q(e,t){1&e&&(n.ac(0),n.gc(1,88),n.Zb())}function K(e,t){if(1&e){const e=n.dc();n.cc(0,"a",44),n.qc("click",function(){return n.Uc(e),n.uc(2).move.emit()}),n.Xb(1,"div",85),n.cc(2,"div",38),n.bd(3,Z,2,0,"ng-container",79),n.bd(4,Q,2,0,"ng-template",null,86,n.cd),n.bc(),n.bc()}if(2&e){const e=n.Rc(5),t=n.uc(2);n.Mb("nav-menu-item nav-menu-item__move-",t.type,""),n.Ib(3),n.Dc("ngIf",t.showSprints&&t.isSprint)("ngIfElse",e)}}function J(e,t){if(1&e){const e=n.dc();n.cc(0,"a",44),n.qc("click",function(){return n.Uc(e),n.uc(2).copy.emit()}),n.Xb(1,"div",89),n.cc(2,"div",38),n.gc(3,90),n.bc(),n.bc()}if(2&e){const e=n.uc(2);n.Mb("nav-menu-item nav-menu-item__copy-",e.type,"")}}function ee(e,t){if(1&e){const e=n.dc();n.cc(0,"a",91),n.qc("click",function(){return n.Uc(e),n.uc(2).reorder.emit()}),n.Xb(1,"div",92),n.cc(2,"div",38),n.gc(3,93),n.bc(),n.bc()}}const te=function(){return["right-top"]};function ie(e,t){if(1&e&&n.Xb(0,"cu-automation-entity-count",94),2&e){const e=n.uc(2);n.Dc("count",null==e.target?null:e.target.automation_count)("parentId",null==e.target?null:e.target.id)("parentType",e.dataViewType)("location",null)("isMenuItemToggle",!0)("dropdownPlacement",n.Gc(6,te))}}function ae(e,t){if(1&e){const e=n.dc();n.cc(0,"a",95),n.qc("click",function(){return n.Uc(e),n.uc(2).addFavorite.emit({sprint:!1})}),n.Xb(1,"div",96),n.cc(2,"div",38),n.gc(3,97),n.bc(),n.bc()}}function oe(e,t){if(1&e){const e=n.dc();n.cc(0,"a",40),n.qc("click",function(){n.Uc(e);const t=n.uc(2);return t.removeFavorite.emit({id:t.favorite.id})}),n.Xb(1,"div",96),n.cc(2,"div",38),n.gc(3,98),n.bc(),n.bc()}}function ce(e,t){if(1&e){const e=n.dc();n.cc(0,"a",95),n.qc("click",function(){return n.Uc(e),n.uc(2).addFavorite.emit({sprint:!0})}),n.Xb(1,"div",96),n.cc(2,"div",38),n.gc(3,99),n.bc(),n.bc()}}function ne(e,t){if(1&e){const e=n.dc();n.cc(0,"a",40),n.qc("click",function(){n.Uc(e);const t=n.uc(2);return t.removeFavorite.emit({id:t.sprintFavorite.id})}),n.Xb(1,"div",96),n.cc(2,"div",38),n.gc(3,100),n.bc(),n.bc()}}function se(e,t){if(1&e){const e=n.dc();n.cc(0,"a",101),n.qc("click",function(){return n.Uc(e),n.uc(2).showSharingModal.emit()}),n.Xb(1,"div",102),n.cc(2,"div",38),n.gc(3,103),n.bc(),n.bc()}}function re(e,t){if(1&e&&(n.cc(0,"div"),n.bd(1,T,2,0,"div",4),n.cc(2,"div",5),n.cc(3,"a",6),n.Xb(4,"div",7),n.bc(),n.bd(5,S,2,0,"a",8),n.vc(6,"async"),n.vc(7,"async"),n.bd(8,j,2,0,"a",9),n.vc(9,"async"),n.bd(10,O,2,1,"a",10),n.vc(11,"async"),n.bd(12,I,2,1,"a",11),n.vc(13,"async"),n.vc(14,"async"),n.vc(15,"async"),n.vc(16,"async"),n.bd(17,D,2,3,"a",12),n.vc(18,"async"),n.vc(19,"async"),n.vc(20,"async"),n.vc(21,"async"),n.bc(),n.bd(22,C,4,0,"a",13),n.bd(23,P,4,0,"a",14),n.bd(24,$,4,0,"a",14),n.bd(25,z,4,3,"a",15),n.vc(26,"async"),n.bd(27,M,4,0,"a",16),n.vc(28,"async"),n.bd(29,E,4,0,"a",16),n.vc(30,"async"),n.bd(31,U,8,3,"div",17),n.vc(32,"async"),n.bd(33,N,4,0,"a",16),n.vc(34,"async"),n.bd(35,W,8,5,"div",18),n.vc(36,"async"),n.vc(37,"async"),n.Xb(38,"div",19),n.bd(39,H,6,5,"a",15),n.vc(40,"async"),n.vc(41,"async"),n.vc(42,"async"),n.bd(43,Y,4,3,"a",15),n.vc(44,"async"),n.vc(45,"async"),n.bd(46,K,6,5,"a",15),n.vc(47,"async"),n.vc(48,"async"),n.vc(49,"async"),n.vc(50,"async"),n.bd(51,J,4,3,"a",15),n.vc(52,"async"),n.vc(53,"async"),n.bd(54,ee,4,0,"a",20),n.vc(55,"async"),n.bd(56,ie,1,7,"cu-automation-entity-count",21),n.vc(57,"async"),n.bd(58,ae,4,0,"a",22),n.bd(59,oe,4,0,"a",14),n.bd(60,ce,4,0,"a",22),n.bd(61,ne,4,0,"a",14),n.bd(62,se,4,0,"a",23),n.vc(63,"async"),n.bc()),2&e){const e=n.uc();let t=null,i=null,a=null,o=null,c=null,s=null,r=null,l=null,d=null,u=null,p=null,m=null,h=null,b=null,g=null,f=null;n.Mb("cu-dropdown__menu nav-menu__controls nav-menu__controls-",e.type,""),n.Ib(1),n.Dc("ngIf",e.limited),n.Ib(2),n.Dc("cbContent",e.origin+e.newTab),n.Ib(2),n.Dc("ngIf",(null==(t=n.wc(6,30,e.permissions$))?null:t.change_title)&&(null==(t=n.wc(7,32,e.permissions$))?null:t.edit_list_details)),n.Ib(3),n.Dc("ngIf","list"===e.type&&(null==(i=n.wc(9,34,e.permissions$))?null:i.can_create_tasks)),n.Ib(2),n.Dc("ngIf","list"===e.type&&(null==(a=n.wc(11,36,e.permissions$))?null:a.can_create_tasks)),n.Ib(2),n.Dc("ngIf",(null==(o=n.wc(13,38,e.permissions$))?null:o.archive)&&((null==(o=n.wc(14,40,e.permissions$))?null:o.can_create_spaces)||(null==(o=n.wc(15,42,e.permissions$))?null:o.can_create_projects)||(null==(o=n.wc(16,44,e.permissions$))?null:o.can_create_lists))),n.Ib(5),n.Dc("ngIf",(null==(c=n.wc(18,46,e.permissions$))?null:c.delete)&&((null==(c=n.wc(19,48,e.permissions$))?null:c.can_create_spaces)||(null==(c=n.wc(20,50,e.permissions$))?null:c.can_create_projects)||(null==(c=n.wc(21,52,e.permissions$))?null:c.can_create_lists))),n.Ib(5),n.Dc("ngIf","list"===e.type&&e.showListInfo),n.Ib(1),n.Dc("ngIf","list"===e.type&&e.showCheckAll),n.Ib(1),n.Dc("ngIf","list"===e.type&&e.showUncheckAll),n.Ib(1),n.Dc("ngIf",(null==(s=n.wc(26,54,e.permissions$))?null:s.can_create_lists)&&e.showCreateList),n.Ib(2),n.Dc("ngIf",(null==(r=n.wc(28,56,e.permissions$))?null:r.can_create_lists)&&e.allowMove&&!e.isSprint),n.Ib(2),n.Dc("ngIf",e.showSprints&&"project"===e.type&&!n.wc(30,58,e.isGuest$)),n.Ib(2),n.Dc("ngIf",(null==(l=n.wc(32,60,e.permissions$))?null:l.can_create_lists)&&e.showSprints&&"list"===e.type&&!e.isSprint),n.Ib(2),n.Dc("ngIf",e.showSprints&&(null==(d=n.wc(34,62,e.permissions$))?null:d.can_create_lists)&&("project"===e.type||"list"===e.type&&e.isSprint)),n.Ib(2),n.Dc("ngIf","list"===e.type?(null==(u=n.wc(36,64,e.permissions$))?null:u.can_create_lists)&&!e.isSprint:(null==(u=n.wc(37,66,e.permissions$))?null:u.can_create_projects)&&!e.isSprint),n.Ib(4),n.Dc("ngIf",("project"===e.type||"list"===e.type)&&((null==(p=n.wc(40,68,e.permissions$))?null:p.manage_statuses)&&(null==(p=n.wc(41,70,e.permissions$))?null:p.add_status)||n.wc(42,72,e.canManageStatuses$))),n.Ib(4),n.Dc("ngIf",("project"===e.type||"list"===e.type)&&(null==(m=n.wc(44,74,e.features$))||null==m.custom_fields?null:m.custom_fields.enabled)&&(null==(m=n.wc(45,76,e.permissions$))?null:m.manage_custom_fields)),n.Ib(3),n.Dc("ngIf",(null==(h=n.wc(47,78,e.permissions$))?null:h.move_task)&&((null==(h=n.wc(48,80,e.permissions$))?null:h.can_create_spaces)||(null==(h=n.wc(49,82,e.permissions$))?null:h.can_create_projects)||(null==(h=n.wc(50,84,e.permissions$))?null:h.can_create_lists))),n.Ib(5),n.Dc("ngIf","list"===e.type?null==(b=n.wc(52,86,e.permissions$))?null:b.can_create_lists:null==(b=n.wc(53,88,e.permissions$))?null:b.can_create_projects),n.Ib(3),n.Dc("ngIf","project"===e.type&&(null==(g=n.wc(55,90,e.permissions$))?null:g.can_create_projects)),n.Ib(2),n.Dc("ngIf",(null==e.target||null==e.target.permissions?null:e.target.permissions.can_add_automation)&&!n.wc(57,92,e.isGuest$)),n.Ib(2),n.Dc("ngIf",!e.favorite),n.Ib(1),n.Dc("ngIf",e.favorite),n.Ib(1),n.Dc("ngIf",!e.sprintFavorite&&e.isSprint&&"project"===e.type),n.Ib(1),n.Dc("ngIf",e.sprintFavorite&&e.isSprint&&"project"===e.type),n.Ib(1),n.Dc("ngIf",null==(f=n.wc(63,94,e.permissions$))?null:f.share)}}const le=["*"];let de=(()=>{class e{constructor(e,t,i){this.commonStringsService=e,this.window=t,this.store=i,this.permissions$=new a.a(null),this.type="list",this.limited=!1,this.showListInfo=!0,this.showCheckAll=!1,this.showUncheckAll=!1,this.showCreateList=!0,this.tooltip="",this.canDelete=!0,this.allowMove=!1,this.showSprints=!1,this.isSprint=!1,this.openMenu=new n.o,this.newSprint=new n.o,this.convertSprint=new n.o,this.moveFolderless=new n.o,this.closeMenu=new n.o,this.rename=new n.o,this.createTask=new n.o,this.showEmailModal=new n.o,this.archive=new n.o,this.remove=new n.o,this.create=new n.o,this.createFromTemplate=new n.o,this.edit=new n.o,this.editCustomFields=new n.o,this.move=new n.o,this.copy=new n.o,this.reorder=new n.o,this.openSaveTemplate=new n.o,this.updateExistingTemplate=new n.o,this.showSharingModal=new n.o,this.showListDetails=new n.o,this.checkAll=new n.o,this.addFavorite=new n.o,this.sprintSettings=new n.o,this.removeFavorite=new n.o,this.isSharedSpace$=this.store.select(s.getSharedSpaceParam),this.isGuest$=this.store.select(s.isGuestTeam),this.features$=this.store.select(s.getProjectFeatures),this.origin=location.origin,this.DataViewParentType=r.e,this.canManageStatuses$=Object(o.a)([this.store.select(s.getUserEnterprisePermissions),this.store.select(s.getTeam)]).pipe(Object(l.a)(([e,t])=>t?t.plan_id===d.f.ENTERPRISE&&(!e||e.manage_statuses===c.b.ON):null)),this.archiveText=$localize`:@@common_archive:Archive`,this.deleteItemNoPermsText=$localize`:@@cu-nav-menu__tooltip-msg_delete-item-no-perms:You don't have permission to delete this item`,this.unarchiveText=$localize`:@@common_unarchive:Unarchive`}get dataViewType(){return"list"===this.type?r.e.Subcategory:"project"===this.type?r.e.Category:void 0}dropdownOpened(){const e=Object.assign(Object.assign(Object.assign({},c.h[this.permissions.team_role]),c.g[this.permissions.permission_level]),this.permissions);this.permissions$.next(e),this.openMenu.emit()}open(){this.dropdown.open()}close(){this.dropdown.close()}isOpen(){return this.dropdown.isOpen}delete(e){if(!this.canDelete)return e.preventDefault(),void e.stopPropagation();this.remove.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(u.a),n.Wb(p.a),n.Wb(m.Store))},e.\u0275cmp=n.Qb({type:e,selectors:[["cu-nav-menu"]],viewQuery:function(e,t){if(1&e&&n.jd(x,3),2&e){let e;n.Qc(e=n.rc())&&(t.dropdown=e.first)}},inputs:{target:"target",type:"type",archived:"archived",newTab:"newTab",permissions:"permissions",limited:"limited",showListInfo:"showListInfo",showCheckAll:"showCheckAll",showUncheckAll:"showUncheckAll",showCreateList:"showCreateList",tooltip:"tooltip",canDelete:"canDelete",allowMove:"allowMove",emailUrl:"emailUrl",favorite:"favorite",sprintFavorite:"sprintFavorite",showSprints:"showSprints",isSprint:"isSprint"},outputs:{openMenu:"openMenu",newSprint:"newSprint",convertSprint:"convertSprint",moveFolderless:"moveFolderless",closeMenu:"closeMenu",rename:"rename",createTask:"createTask",showEmailModal:"showEmailModal",archive:"archive",remove:"remove",create:"create",createFromTemplate:"createFromTemplate",edit:"edit",editCustomFields:"editCustomFields",move:"move",copy:"copy",reorder:"reorder",openSaveTemplate:"openSaveTemplate",updateExistingTemplate:"updateExistingTemplate",showSharingModal:"showSharingModal",showListDetails:"showListDetails",checkAll:"checkAll",addFavorite:"addFavorite",sprintSettings:"sprintSettings",removeFavorite:"removeFavorite"},ngContentSelectors:le,decls:6,vars:5,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y,w,k,x,T,S,j,O,I,D,C,P;return e=$localize`:@@common_copy-url␟6e632baeee46b344077a135cd9da61786d3fa907␟2184619916211262318:Copy URL`,t=$localize`:@@common_rename␟e26f9cf3666aace4e524b1505c9795d76d87738d␟6041115344061899387:Rename`,i=$localize`:@@common_create-task␟bfeb2918dc688c13a53abffacc0ad3f1d12ddbcd␟8192258211003608112:Create task`,a=$localize`:@@cu-nav-menu__tooltip-msg_email-instructions␟55e78158cd1d4f6b6f2fc78188b0d8a976368634␟9049371096169389887:Email instructions`,o=$localize`:@@common_limited-permissions␟511cfa2c6feaab54f06bedd587e1f8a165c0868f␟5200871303932402252: Limited permissions `,c=$localize`:@@common_list-info␟cc1863472a1764a26781494915db6942e737451f␟5013392370184018583:List Info`,n=$localize`:@@common_select-all␟0fd3ff4a14e3d06ae265ed05c4d7b5d108177af3␟4402417987399424722: Select all `,s=$localize`:@@common_unselect-all␟e71036179bbc7f4b450acff5c47b5d97cfa25d45␟5320873944209650361: Unselect all `,r=$localize`:@@common_new-list␟4203b703f0106cebe8899a3af62d8bcec80b8762␟7941198841260526989:New List`,l=$localize`:@@cu-nav-menu__nav-menu-item_move-out-of-folder␟3209bff3471e4bc1c0cecc66864462cd91609f0f␟2495225811662910496: Move out of Folder `,d=$localize`:@@common_sprint-settings-1␟76a77823ac172a487e6dc6564997512fa726bf34␟5619584076781466767: Sprint settings `,u=$localize`:@@common_sprints␟520053a616f8bbc48a1e8ff48876998a4d4b9493␟4347094825344030699:Sprints`,p=$localize`:@@common_new-sprint␟19ff68895610ec1e96f2fed512471915597d5483␟1694569265114476258: New Sprint `,m=$localize`:@@cu-nav-menu__nav-menu-item_convert-list-to-sprint␟43b1ea45aee6407e078b03d3234f2e166155597b␟1537996318343452167: Convert List to Sprint... `,h=$localize`:@@common_new-sprint␟d8091d8359b3b2630017d94d52ee3b45925eaf5d␟4402640902843836648: New Sprint `,b=$localize`:@@common_template-center␟950a4ddc3fbf589172662b40e78d90b428fbb981␟5803305007358011525: Template Center `,g=$localize`:@@common_template-center␟d85aaa6476c40b242e8d948f7d58119be4e3d407␟728474737530321257: Template Center `,f=$localize`:@@common_browse-templates␟65d6f0db31c91c555e126d045f7678fa0e9a3896␟667776727773374202: Browse Templates `,_=$localize`:@@common_save-as-template␟b6d69a5406fcbde4472a857ccc5624d43ad293a9␟2140517655502665282: Save as Template `,v=$localize`:@@common_update-existing-template␟6e9ecb021c0ea4531d3241ba1f9cf590bde7004d␟7963616411168926558: Update existing Template `,y=$localize`:@@common_edit-folder-statuses␟9be5eec58bcf675b8eaa997a4afc40450db788e3␟8575014913704039805:Edit Folder statuses`,w=$localize`:@@cu-nav-menu__nav-menu-item_edit-list-statuses␟6be303da292c87167621f4c9a6748c4aaef366fa␟1387106406574758161:Edit List statuses`,k=$localize`:@@common_custom-fields␟139d0d25b11f24c343efeec862edc651aed8284b␟3462667146666252819: Custom Fields `,x=$localize`:@@cu-nav-menu__nav-menu-item_move-sprint␟103a17b0925aca853bc0105ac991c554c3b81ee5␟734250856612011164:Move sprint...`,T=$localize`:@@common_move␟57cf305f9bfd681c70dc26e914108d06384ade9f␟2354817630223808522:Move`,S=$localize`:@@common_duplicate␟6311004001228073b829d6ab8dbfa8450289a1bd␟6621329748219109148:Duplicate`,j=$localize`:@@cu-nav-menu__nav-menu-item_reorder-lists-a-z␟9ff965bcb7e37ff2da529fd01729782bbdd85949␟4104112283097112920: Reorder Lists A-Z `,O=$localize`:@@common_add-to-favorites␟c1820eca108a882755cbb6ef114694c25a0fdc0d␟8201756671271468486: Add to Favorites `,I=$localize`:@@common_remove-from-favorites␟33f0c27eda23ffc9e44f81f7ca4a66ad0ab61187␟7846474526050214200: Remove from Favorites `,D=$localize`:@@cu-nav-menu__nav-menu-item_add-current-sprint-fav␟36bf2cf74ca0a35e5403a648d37ab02b076413a8␟3932192957742712805: Add current Sprint to favorites `,C=$localize`:@@cu-nav-menu__nav-menu-item_remove-current-sprint-fav␟b518f9c6b493e511e5f30d8ce69afe6785d8f2fd␟1739047801627429474: Remove current Sprint from favorites `,P=$localize`:@@common_sharing-and-permissions␟d7ec7c50f1def56234199e880db82c32f24cfc18␟9041970360475726252: Sharing & Permissions `,[["cuDropdown","",1,"nav-menu","cu-dropdown","menu-options",3,"dropdownRepositionFlag","dropdownCloseOnModal","dropdownOpen","dropdownClose"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle",3,"cuTooltip"],[3,"class",4,"cuDropdownMenu"],["class","nav-menu__limited",4,"ngIf"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__top-choices","nav-menu-item_parent"],["cuLink","","draggable","false","ngxClipboard","","cuTooltip",e,"tooltipModifier","tooltip_near",1,"nav-menu-item","nav-menu-item__top-choices-option","nav-menu-item__top-choices-option_copy-link",3,"cbContent"],["icon","cu2-copy-link2",1,"nav-menu-item__icon","nav-menu-item__icon_copy-link"],["class","nav-menu-item nav-menu-item__top-choices-option nav-menu-item__top-choices-option_edit","cuLink","","draggable","false","cuTooltip",t,"tooltipModifier","tooltip_near",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option nav-menu-item__top-choices-option_new","cuLink","","draggable","false","cuTooltip",i,"tooltipModifier","tooltip_near",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option","cuLink","","draggable","false","ngxClipboard","","cuTooltip",a,"tooltipModifier","tooltip_near",3,"cbContent","cbOnSuccess",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option nav-menu-item__top-choices-option-archive","cuLink","","draggable","false","tooltipModifier","tooltip_near",3,"cuTooltip","click",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option nav-menu-item__top-choices-option-delete","cuLink","","draggable","false",3,"disabled-action","cuTooltip","click",4,"ngIf"],["class","nav-menu-item nav-menu-item__list-info","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuLink","","draggable","false",3,"class","click",4,"ngIf"],["class","nav-menu-item nav-menu-item__move-out-of-folder","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuDropdown","",3,"dropdownPlacement","dropdownClose",4,"ngIf"],["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownPlacement","dropdownClose",4,"ngIf"],[1,"nav-menu-item__separator","nav-menu-item__separator-margins"],["class","nav-menu-item nav-menu-item__reorder-lists","cuLink","","draggable","false",3,"click",4,"ngIf"],[3,"count","parentId","parentType","location","isMenuItemToggle","dropdownPlacement",4,"ngIf"],["class","nav-menu-item nav-menu-item__add-to-favorites","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item_share","cuLink","","draggable","false",3,"click",4,"ngIf"],[1,"nav-menu__limited"],o,["cuLink","","draggable","false","cuTooltip",t,"tooltipModifier","tooltip_near",1,"nav-menu-item","nav-menu-item__top-choices-option","nav-menu-item__top-choices-option_edit",3,"click"],["icon","edit",1,"nav-menu-item__icon","nav-menu-item__icon_edit"],["cuLink","","draggable","false","cuTooltip",i,"tooltipModifier","tooltip_near",1,"nav-menu-item","nav-menu-item__top-choices-option","nav-menu-item__top-choices-option_new",3,"click"],["icon","cu2-new",1,"nav-menu-item__icon","nav-menu-item__icon_create"],["cuLink","","draggable","false","ngxClipboard","","cuTooltip",a,"tooltipModifier","tooltip_near",1,"nav-menu-item","nav-menu-item__top-choices-option",3,"cbContent","cbOnSuccess"],["icon","cu2-envelope-light",1,"nav-menu-item__icon","nav-menu-item__icon_email"],["cuLink","","draggable","false","tooltipModifier","tooltip_near",1,"nav-menu-item","nav-menu-item__top-choices-option","nav-menu-item__top-choices-option-archive",3,"cuTooltip","click"],["icon","archive2",1,"nav-menu-item__icon","nav-menu-item__icon_archive"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__top-choices-option","nav-menu-item__top-choices-option-delete",3,"cuTooltip","click"],["icon","cu2-trash",1,"nav-menu-item__icon","nav-menu-item__icon_remove"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__list-info",3,"click"],["icon","info2",1,"nav-menu-item__icon","nav-menu-item__icon_list-info"],[1,"nav-menu-item__name"],c,["cuLink","","draggable","false",1,"nav-menu-item",3,"click"],["icon","check-all",1,"nav-menu-item__icon","nav-menu-item__icon_list-info"],n,s,["cuLink","","draggable","false",3,"click"],["icon","cu2-new-list",1,"nav-menu-item__icon","nav-menu-item__icon_create"],r,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__move-out-of-folder",3,"click"],["icon","cu2-move-out",1,"nav-menu-item__icon","nav-menu-item__icon_create"],l,d,["cuDropdown","",3,"dropdownPlacement","dropdownClose"],["cuDropdownToggle",""],["draggable","false",1,"nav-menu-item"],["icon","sprint-new",1,"nav-menu-item__icon","nav-menu-item__icon_create"],u,[1,"cu-dropdown-list-item__submenu",3,"icon"],[4,"cuDropdownMenu"],p,["icon","sprint-convert",1,"nav-menu-item__icon","nav-menu-item__icon_create"],m,h,["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownPlacement","dropdownClose"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__templates"],["icon","cu2-magic",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],b,[1,"nav-menu-item__title"],g,["class","nav-menu-item nav-menu-item__templates","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item__save-as-template","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__templates",3,"click"],["icon","template-center",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],f,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__save-as-template",3,"click"],["icon","cu2-save2",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],_,["icon","cu2-refresh",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],v,["icon","edit-statuses",1,"nav-menu-item__icon","nav-menu-item__icon_edit"],[4,"ngIf","ngIfElse"],["editListStatusesTmpl",""],y,w,["icon","edit-custom-fields",1,"nav-menu-item__icon","nav-menu-item__icon_custom-fields"],k,["icon","cu2-move",1,"nav-menu-item__icon","nav-menu-item__icon_move"],["moveTmpl",""],x,T,["icon","copy",1,"nav-menu-item__icon","nav-menu-item__icon_copy"],S,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__reorder-lists",3,"click"],["icon","cu2-menu-sort",1,"nav-menu-item__icon","nav-menu-item__icon_reorder"],j,[3,"count","parentId","parentType","location","isMenuItemToggle","dropdownPlacement"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__add-to-favorites",3,"click"],["icon","cu2-star2",1,"nav-menu-item__icon","nav-menu-item__icon_favorites"],O,I,D,C,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item_share",3,"click"],["icon","share",1,"nav-menu-item__icon","nav-menu-item__icon_share"],P]},template:function(e,t){1&e&&(n.Cc(),n.cc(0,"div",0,1),n.qc("dropdownOpen",function(){return t.dropdownOpened()})("dropdownClose",function(){return t.closeMenu.emit()}),n.vc(2,"async"),n.cc(3,"div",2),n.Bc(4),n.bc(),n.bd(5,re,64,96,"div",3),n.bc()),2&e&&(n.Dc("dropdownRepositionFlag",n.wc(2,3,t.permissions$))("dropdownCloseOnModal",!0),n.Ib(3),n.Dc("cuTooltip",t.tooltip))},directives:[h.b,b.a,g.a,f.a,_.q,v.a,y.a,w.a,k.a],pipes:[_.b],encapsulation:2,changeDetection:0}),e})()},"uvw/":function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("XNiG"),o=i("fXoL"),c=i("Jf2N");let n=(()=>{class e{constructor(e){this.modal=e,this.destroy$=new a.a,this.onConvert=new o.o,this.onCopy=new o.o}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}convert(){this.onConvert.emit(),this.modal.close()}copy(){this.onCopy.emit(),this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(c.a))},e.\u0275cmp=o.Qb({type:e,selectors:[["cu-sprint-warning"]],outputs:{onConvert:"onConvert",onCopy:"onCopy"},decls:11,vars:0,consts:function(){let e,t,i,a;return e=$localize`:@@common_move-sprint␟872d8247307a2b0f77c764783899e2112258883a␟3406747636430452787: Move Sprint `,t=$localize`:@@cu-sprint-warning__warning-msg_folderless-list-not-supported␟16be908525e0a6ad159c0502a1111b85129987cf␟9027461147973273687: Folderless lists do not support sprints. This will convert your sprint to a regular list. `,i=$localize`:@@cu-sprint-warning__btn-txt_copy-instead␟fbad577949f1ea1ab5871f321843937eb6cf52e0␟323900828233913169: Copy instead `,a=$localize`:@@cu-sprint-warning__btn-txt_move-and-convert␟688182d969769c40d07e5f76be7c7c0d8b61b022␟1750030253704426381: Move and convert `,[[1,"cu-conflict-management"],[1,"cu-conflict-management__warning-img"],[1,"cu-conflict-management__warning"],e,[1,"cu-conflict-management__proceed"],t,[1,"move-category__footer"],[1,"cu-btn","cu-conflict-management__cancel",3,"click"],i,[1,"cu-btn",3,"click"],a]},template:function(e,t){1&e&&(o.cc(0,"div",0),o.Xb(1,"div",1),o.cc(2,"div",2),o.gc(3,3),o.bc(),o.cc(4,"div",4),o.gc(5,5),o.bc(),o.cc(6,"div",6),o.cc(7,"button",7),o.qc("click",function(){return t.copy()}),o.gc(8,8),o.bc(),o.cc(9,"button",9),o.qc("click",function(){return t.convert()}),o.gc(10,10),o.bc(),o.bc(),o.bc())},encapsulation:2,changeDetection:0}),e})()},uxFD:function(e,t,i){"use strict";i.d(t,"a",function(){return pt});var a=i("c3rA"),o=i("l7P3"),c=i("dTHz"),n=i("lJxs"),s=i("/uUt"),r=i("pLZG"),l=i("PZkE"),d=i("eIep"),u=i("zp1y"),p=i("1G5W"),m=i("1gLt"),h=i("D+Sl"),b=i("XNiG"),g=i("itXk"),f=i("2Vo4"),_=i("LRne"),v=i("lI7e"),y=i("G/1d"),w=i("PBBv"),k=i("uYtF"),x=i("dqeI"),T=i("R0Ic"),S=i("qyhN"),j=i("jJQC"),O=i("0Oxh"),I=i("agop"),D=i("7G3y"),C=i("o7Ov"),P=i("o5rX"),$=i("hr9B"),z=i("GkwO"),M=i("L4xm"),E=i("m2AY"),L=i("ObVV"),A=i("UAfm"),F=i("fXoL"),U=i("Tm/s"),N=i("cGJt"),R=i("Jf2N"),G=i("rLOZ"),q=i("WwCI"),B=i("gXbQ"),W=i("/qmH"),V=i("ofXK"),X=i("tyNb"),H=i("UdVN"),Y=i("NsZK"),Z=i("hUS4"),Q=i("S8g8"),K=i("3vfw"),J=i("jACb"),ee=i("LlVm"),te=i("ZRUT"),ie=i("HPyy"),ae=i("LdyQ"),oe=i("MJvn"),ce=i("n+1/"),ne=i("97dl"),se=i("Mjud"),re=i("LnyB"),le=i("loh9"),de=i("3Pt+"),ue=i("HcWw"),pe=i("j5ze"),me=i("+pq2"),he=i("OBnU"),be=i("+Kou"),ge=i("nJgP");const fe=["layoutStyleModal"],_e=["resourceCenterDropdown"],ve=["resourceCenter"];function ye(e,t){if(1&e&&(F.Xb(0,"img",50),F.vc(1,"async")),2&e){const e=F.uc();let t=null;F.Dc("src",null==(t=F.wc(1,1,e.team$))||null==t.branding?null:t.branding.round_logo,F.Xc)}}function we(e,t){1&e&&F.Xb(0,"img",51)}function ke(e,t){if(1&e&&(F.ac(0),F.Xb(1,"img",54),F.vc(2,"async"),F.Xb(3,"img",54),F.vc(4,"async"),F.Zb()),2&e){const e=F.uc(2);let t=null,i=null;F.Ib(1),F.Dc("src",null==(t=F.wc(2,2,e.team$))||null==t.branding?null:t.branding.rectangle_logo,F.Xc),F.Ib(2),F.Dc("src",null==(i=F.wc(4,4,e.team$))||null==i.branding?null:i.branding.rectangle_logo,F.Xc)}}function xe(e,t){if(1&e&&(F.cc(0,"a",52),F.vc(1,"async"),F.bd(2,ke,5,6,"ng-container",53),F.vc(3,"async"),F.bc()),2&e){const e=F.uc();F.Dc("routerLink",F.wc(1,2,e.homePath$)),F.Ib(2),F.Dc("ngIf",F.wc(3,4,e.usingWhiteLabelRectangleLogo$))}}function Te(e,t){if(1&e&&(F.cc(0,"a",55),F.vc(1,"async"),F.Xb(2,"img",56),F.Xb(3,"img",57),F.bc()),2&e){const e=F.uc();F.Dc("routerLink",F.wc(1,1,e.homePath$))}}const Se=function(e){return["/",e,"notifications"]},je=function(){return{modifier:"cu-unseen-notifications-counter__body_sidebar cu-unseen-notifications-counter__body_sidebar_top"}};function Oe(e,t){if(1&e){const e=F.dc();F.cc(0,"a",58),F.qc("click",function(){return F.Uc(e),F.uc().collapseAllSections()}),F.vc(1,"async"),F.Yb(2,26),F.bc()}if(2&e){const e=F.uc(),t=F.Rc(87);let i=null;F.Dc("routerLink",F.Hc(6,Se,(null==(i=F.wc(1,4,e.team$))?null:i.id)||""))("@unseenNotifications",void 0),F.Ib(2),F.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",F.Gc(8,je))}}const Ie=function(e){return["/",e,"pulse"]};function De(e,t){if(1&e){const e=F.dc();F.cc(0,"a",24),F.qc("click",function(){return F.Uc(e),F.uc(2).collapseAllSections()}),F.vc(1,"async"),F.Xb(2,"div",61),F.cc(3,"div",22),F.gc(4,62),F.bc(),F.bc()}if(2&e){const e=F.uc(2);let t=null;F.Dc("routerLink",F.Hc(4,Ie,(null==(t=F.wc(1,2,e.team$))?null:t.id)||""))("routerLinkActive","cu-simple-bar__item_active")}}const Ce=function(e){return["/",e,"goals"]};function Pe(e,t){if(1&e){const e=F.dc();F.cc(0,"a",24),F.qc("click",function(){return F.Uc(e),F.uc(2).collapseAllSections()}),F.vc(1,"async"),F.Xb(2,"div",63),F.cc(3,"div",22),F.gc(4,64),F.bc(),F.bc()}if(2&e){const e=F.uc(2);let t=null;F.Dc("routerLink",F.Hc(4,Ce,null==(t=F.wc(1,2,e.team$))?null:t.id))("routerLinkActive","cu-simple-bar__item_active")}}function $e(e,t){if(1&e&&(F.cc(0,"div",59),F.bd(1,De,5,6,"a",60),F.vc(2,"async"),F.bd(3,Pe,5,6,"a",60),F.vc(4,"async"),F.vc(5,"async"),F.bc()),2&e){const e=F.uc();let t=null;F.Dc("@moreItems",e.isExpandedMoreItems?"expanded":"collapsed"),F.Ib(1),F.Dc("ngIf",F.wc(2,3,e.showLiveView$)),F.Ib(2),F.Dc("ngIf",!F.wc(4,5,e.isGuestTeam$)||(null==(t=F.wc(5,7,e.goals$))?null:t.length)>0)}}function ze(e,t){1&e&&(F.ac(0),F.gc(1,69),F.Zb())}function Me(e,t){1&e&&(F.ac(0),F.gc(1,70),F.Zb())}function Ee(e,t){if(1&e){const e=F.dc();F.cc(0,"div",65),F.qc("click",function(){return F.Uc(e),F.uc().toggleMoreItems()}),F.Xb(1,"div",66),F.cc(2,"div",22),F.bd(3,ze,2,0,"ng-container",67),F.bd(4,Me,2,0,"ng-template",null,68,F.cd),F.bc(),F.bc()}if(2&e){const e=F.Rc(5),t=F.uc();F.Ib(1),F.Ob("cu-simple-bar__item-icon_rotate",t.isExpandedMoreItems),F.Ib(2),F.Dc("ngIf",t.isExpandedMoreItems)("ngIfElse",e)}}const Le=function(e){return{"cu-sidebar-favorites_hidden":e}};function Ae(e,t){if(1&e){const e=F.dc();F.cc(0,"cu-sidebar-favorites",71),F.qc("dropdownOpen",function(){return F.Uc(e),F.uc().keepCollapsedSidebarOpen(!0)})("dropdownClose",function(){return F.Uc(e),F.uc().keepCollapsedSidebarOpen(!1)}),F.vc(1,"async"),F.bc()}if(2&e){const e=F.uc();F.Dc("ngClass",F.Hc(4,Le,F.wc(1,2,e.favoritesPinned$)))("forSimpleBar",!0)}}function Fe(e,t){if(1&e){const e=F.dc();F.cc(0,"div",81),F.qc("click",function(t){return F.Uc(e),F.uc(3).showDashboardsSearch(t)}),F.bc()}2&e&&F.Dc("icon","search")}function Ue(e,t){if(1&e&&(F.ac(0),F.ac(1),F.gc(2,77),F.Zb(),F.cc(3,"div",78),F.bd(4,Fe,1,1,"div",79),F.Xb(5,"div",80),F.bc(),F.Zb()),2&e){const e=F.uc(2);F.Ib(4),F.Dc("ngIf",e.isExpandedDashboards),F.Ib(1),F.Dc("icon","cu2-angle-right")}}function Ne(e,t){if(1&e){const e=F.dc();F.cc(0,"div",82),F.Xb(1,"div",83),F.cc(2,"input",84),F.qc("ngModelChange",function(t){return F.Uc(e),F.uc(2).searchDashboardsString=t}),F.bc(),F.cc(3,"div",85),F.qc("click",function(){return F.Uc(e),F.uc(2).resetDashboardsSearch()}),F.bc(),F.bc()}if(2&e){const e=F.uc(2);F.Ib(1),F.Dc("icon","search"),F.Ib(1),F.Dc("ngModel",e.searchDashboardsString),F.Ib(1),F.Dc("icon","cu2-close-2")}}function Re(e,t){if(1&e){const e=F.dc();F.cc(0,"cu-accordion",72,73),F.qc("closed",function(){return F.Uc(e),F.uc().toggleDashboards(!1)})("opened",function(){F.Uc(e);const t=F.uc();return t.expandSection(t.SimpleSidebarSections.Dashboards)}),F.cc(2,"div",74),F.bd(3,Ue,6,2,"ng-container",53),F.bd(4,Ne,4,3,"div",75),F.bc(),F.cc(5,"cu-grid-sidebar",76),F.qc("dropdownOpen",function(){return F.Uc(e),F.uc().keepCollapsedSidebarOpen(!0)})("dropdownClose",function(){return F.Uc(e),F.uc().keepCollapsedSidebarOpen(!1)}),F.vc(6,"async"),F.bc(),F.bc()}if(2&e){const e=F.uc();F.Dc("expanded",e.isExpandedDashboards)("stickedBorder",!0),F.Ib(3),F.Dc("ngIf",!e.searchingDashboards),F.Ib(1),F.Dc("ngIf",e.searchingDashboards),F.Ib(1),F.Dc("user",F.wc(6,6,e.user$))("searchStringVal",e.searchDashboardsString)}}function Ge(e,t){if(1&e){const e=F.dc();F.cc(0,"div",91),F.qc("click",function(){return F.Uc(e),F.uc(2).createDoc()}),F.Xb(1,"div",92),F.ac(2),F.gc(3,93),F.Zb(),F.bc()}2&e&&(F.Ib(1),F.Dc("icon","cu2-close-2"))}function qe(e,t){if(1&e&&(F.Xb(0,"cu-assigned-comment-view",97),F.vc(1,"async")),2&e){const e=F.uc(3);F.Dc("numberComments",F.wc(1,3,e.docCommentsCount$))("forTasks",!1)("forMe",!0)}}const Be=function(e){return["/",e,"docs"]};function We(e,t){if(1&e){const e=F.dc();F.cc(0,"div",94),F.qc("click",function(){F.Uc(e);const i=t.$implicit;return F.uc(2).selectDocSection(i.id)}),F.vc(1,"async"),F.vc(2,"async"),F.cc(3,"div",95),F.dd(4),F.bc(),F.bd(5,qe,2,5,"cu-assigned-comment-view",96),F.vc(6,"async"),F.bc()}if(2&e){const e=t.$implicit;F.uc();const i=F.Rc(1),a=F.uc();let o=null;F.Ob("cu-simple-bar__row-item_active",i.isActive&&F.wc(1,5,a.selectedDocSection$)===e.id),F.Dc("routerLink",F.Hc(11,Be,(null==(o=F.wc(2,7,a.team$))?null:o.id)||"")),F.Ib(4),F.fd(" ",e.title," "),F.Ib(1),F.Dc("ngIf",F.wc(6,9,a.docCommentsCount$)&&e.id===a.DocManagerSections.AssignedToMe)}}function Ve(e,t){if(1&e){const e=F.dc();F.cc(0,"cu-accordion",72,86),F.qc("closed",function(){return F.Uc(e),F.uc().toggleDocs(!1)})("opened",function(){F.Uc(e);const t=F.uc();return t.expandSection(t.SimpleSidebarSections.Docs)}),F.cc(2,"div",74),F.ac(3),F.gc(4,87),F.Zb(),F.cc(5,"div",78),F.Xb(6,"div",80),F.bc(),F.bc(),F.ac(7,88),F.bd(8,Ge,4,1,"div",89),F.vc(9,"async"),F.bd(10,We,7,13,"div",90),F.Zb(),F.bc()}if(2&e){const e=F.uc();F.Dc("expanded",e.isExpandedDocs)("stickedBorder",!0),F.Ib(6),F.Dc("icon","cu2-angle-right"),F.Ib(2),F.Dc("ngIf",F.wc(9,6,e.canCreateDoc$)),F.Ib(2),F.Dc("ngForOf",e.docSectionItems)("ngForTrackBy",e.trackById)}}function Xe(e,t){if(1&e){const e=F.dc();F.cc(0,"div",98),F.cc(1,"cu-resource-center",99,100),F.qc("onClose",function(){return F.Uc(e),F.uc(),F.Rc(82).close()})("onActiveItemChange",function(t){return F.Uc(e),F.uc().resourceCenterActiveItem=t}),F.vc(3,"async"),F.vc(4,"async"),F.vc(5,"async"),F.bc(),F.bc()}if(2&e){const e=F.uc();F.Ob("resource-center-dropdown__menu-bug-form",e.resourceCenterActiveItem===e.ResourceCenterActiveItem.BugForm),F.Ib(1),F.Dc("user",F.wc(3,5,e.user$))("team",F.wc(4,7,e.team$))("bonusClaimed",F.wc(5,9,e.obIncentiveClaimed$))}}function He(e,t){1&e&&(F.Xb(0,"cu-unseen-notifications-counter",101),F.Xb(1,"div",102)),2&e&&F.Dc("modifier",t.modifier)}function Ye(e,t){1&e&&(F.ac(0),F.gc(1,117),F.Zb())}function Ze(e,t){1&e&&(F.ac(0),F.gc(1,118),F.Zb())}function Qe(e,t){if(1&e){const e=F.dc();F.cc(0,"a",110),F.qc("click",function(){F.Uc(e),F.uc(3);const t=F.Rc(1);return F.uc().navService.expandAllFoldersLayout3(),t.close()}),F.Xb(1,"div",120),F.cc(2,"div",112),F.gc(3,121),F.bc(),F.bc()}}function Ke(e,t){if(1&e){const e=F.dc();F.cc(0,"a",110),F.qc("click",function(){F.Uc(e),F.uc(3);const t=F.Rc(1);return F.uc().navService.collapseAll(),t.close()}),F.Xb(1,"div",122),F.cc(2,"div",112),F.gc(3,123),F.bc(),F.bc()}}function Je(e,t){if(1&e&&(F.ac(0),F.bd(1,Qe,4,0,"a",119),F.vc(2,"async"),F.bd(3,Ke,4,0,"a",119),F.vc(4,"async"),F.Zb()),2&e){const e=F.uc(3);let t=null,i=null;F.Ib(1),F.Dc("ngIf",!(null!=(t=F.wc(2,2,e.aggregatedOpenedCategories$))&&t.allOpen)),F.Ib(2),F.Dc("ngIf",!(null!=(i=F.wc(4,4,e.aggregatedOpenedCategories$))&&i.allClosed))}}function et(e,t){if(1&e){const e=F.dc();F.ac(0),F.cc(1,"div",114),F.qc("click",function(){return F.Uc(e),F.uc(3).toggleSidebarDarkTheme()}),F.Xb(2,"div",124),F.cc(3,"div",112),F.gc(4,125),F.bc(),F.Xb(5,"cu-toggle-switch",126),F.vc(6,"async"),F.bc(),F.Zb()}if(2&e){const e=F.uc(3);let t=null;F.Ib(5),F.Dc("checked",(null==(t=F.wc(6,1,e.user$))?null:t.sidebar_theme)===e.LeftSidebarTheme.Dark)}}function tt(e,t){if(1&e){const e=F.dc();F.cc(0,"div",107),F.cc(1,"div",108),F.gc(2,109),F.bc(),F.cc(3,"a",110),F.qc("click",function(){F.Uc(e),F.uc();const t=F.Rc(1);return F.uc().navService.toggleArchived(),t.close()}),F.Xb(4,"div",111),F.cc(5,"div",112),F.bd(6,Ye,2,0,"ng-container",67),F.vc(7,"async"),F.bd(8,Ze,2,0,"ng-template",null,113,F.cd),F.bc(),F.bc(),F.bd(10,Je,5,6,"ng-container",53),F.vc(11,"async"),F.vc(12,"async"),F.cc(13,"div",114),F.qc("click",function(){return F.Uc(e),F.uc(2).showLayoutStyleModal()}),F.Xb(14,"div",115),F.cc(15,"div",112),F.gc(16,116),F.bc(),F.bc(),F.bd(17,et,7,3,"ng-container",53),F.vc(18,"async"),F.bc()}if(2&e){const e=F.Rc(9),t=F.uc(2);let i=null,a=null;F.Ib(6),F.Dc("ngIf",null==(i=F.wc(7,4,t.sidebarOptions$))?null:i.showArchived)("ngIfElse",e),F.Ib(4),F.Dc("ngIf",!F.wc(11,6,t.isAllSpaces$)&&!F.wc(12,8,t.isGuestTeam$)),F.Ib(7),F.Dc("ngIf",!(null!=(a=F.wc(18,10,t.user$))&&a.dark_theme))}}function it(e,t){if(1&e){const e=F.dc();F.cc(0,"div",103,104),F.qc("dropdownOpen",function(){F.Uc(e);const t=F.uc();return t.closeListDetails(),t.keepCollapsedSidebarOpen(!0)})("dropdownClose",function(){return F.Uc(e),F.uc().keepCollapsedSidebarOpen(!1)}),F.Xb(2,"div",105),F.bd(3,tt,19,12,"div",106),F.bc()}if(2&e){const e=F.uc();F.Dc("dropdownCloseOnInsideClick",!1)("dropdownDestroyMenuOnClose",!1)("dropdownCloseOnModal",!0),F.Ib(2),F.Ob("cu-simple-bar__settings_visible",e.isTopBellVisible)}}function at(e,t){1&e&&F.Xb(0,"cu-layout-style-modal")}function ot(e,t){if(1&e){const e=F.dc();F.cc(0,"cu-shared-nav",127),F.qc("dropdownOpen",function(){return F.Uc(e),F.uc().keepCollapsedSidebarOpen(!0)})("dropdownClose",function(){return F.Uc(e),F.uc().keepCollapsedSidebarOpen(!1)}),F.vc(1,"async"),F.bc()}if(2&e){const e=t.allowCollapse,i=t.docs,a=t.convos,o=F.uc();F.Dc("user",F.wc(1,4,o.user$))("allowCollapse",e)("convos",a)("docs",i)}}const ct=function(e,t,i,a){return{"cu-simple-bar__container_non-expandable":e,"cu-simple-bar__container_collapsed":t,"cu-simple-bar__container_collapsed-and-visible":i,"cu-simple-bar__container_favorites-pinned":a}},nt=function(){return{right:!0}},st=function(e){return{"cu-simple-bar__item_active":e}},rt=function(){return{modifier:"cu-unseen-notifications-counter__body_sidebar"}},lt=function(e,t){return{allowCollapse:!0,convos:e,docs:t}},dt=[{id:S.a.All,title:$localize`:@@common_all:All`},{id:S.a.AssignedToMe,title:$localize`:@@common_assigned-to-me:Assigned to me`},{id:S.a.Shared,title:$localize`:@@common_shared:Shared`},{id:S.a.Private,title:$localize`:@@common_private:Private`}];var ut=function(e){return e.Favorites="favorites",e.Spaces="spaces",e.Dashboards="dashboards",e.Docs="docs",e}({});let pt=(()=>{class e{constructor(e,t,i,T,D,C,$,E,F){this.navService=e,this.store=t,this.changeDetectorRef=i,this.renderer=T,this.listDetailsService=D,this.modalService=C,this.localStorage=$,this.window=E,this.userService=F,this.destroy$=new b.a,this.team$=this.store.select(a.getTeam),this.isGuestTeam$=this.store.select(a.isGuestTeam),this.goals$=this.store.select(y.u),this.sidebarWidth$=this.store.select(a.getSidebarWidthOption),this.sidebarOptions$=this.store.select(a.getSidebarOptions),this.sharedConvos$=this.store.select(z.zb),this.sharedDocs$=this.store.select(z.Ab),this.usingWhiteLabelRoundLogo$=this.store.select(a.getUsingWhiteLabelRoundLogo),this.usingWhiteLabelRectangleLogo$=this.store.select(a.getUsingWhiteLabelRectangleLogo),this.convos$=this.store.select(z.n),this.docs$=this.store.select(z.o),this.convoDocMap$=this.store.select(z.l),this.aggregatedOpenedCategories$=Object(g.a)([this.navService.categoryOpenMapState$,this.store.select(a.getProject),this.store.select(a.getCategoriesMap)]).pipe(Object(n.a)(([e,t,i])=>t&&i&&i[t.id]?{allOpen:i[t.id].every(t=>e[t.id]),allClosed:i[t.id].every(t=>!e[t.id])}:{allOpen:!0,allClosed:!1})),this.sidebarStateText$=this.sidebarOptions$.pipe(Object(n.a)(e=>e.isCollapsed?$localize`:@@common_sidebar--expand:Expand Sidebar (q)`:$localize`:@@common_sidebar--collapse:Collapse Sidebar (q)`),Object(s.a)()),this.hideBackLink$=this.store.select(v.i),this.backLink$=this.store.select(z.e),this.user$=this.store.select(a.getUser),this.favoritesActive$=this.store.pipe(Object(o.select)(w.d)),this.favoritesPinned$=this.store.pipe(Object(o.select)(w.g)),this.obIncentiveClaimed$=this.store.select(a.obIncentiveClaimedSelector),this.canCreateDoc$=this.store.select(a.getCanCreateDoc),this.portfoliosRoute=[],this.isExpandedMoreItems=this.localStorage.get("sidebar-more-items-expanded"),this.isExpandedSpaces=this.localStorage.get("sidebar-spaces-expanded"),this.isExpandedDocs=this.localStorage.get("sidebar-docs-expanded"),this.isExpandedDashboards=this.localStorage.get("sidebar-dashboards-expanded"),this.isTopBellVisible=!1,this.showResourceCenter$=this.store.select(a.showResourceCenterState),this.filterString$=new f.a(""),this.isInbox$=this.store.select(v.n),this.showLiveView$=this.store.select(a.showLiveView),this.showDashboards$=this.store.select(x.J),this.showDocs$=this.store.select(a.getShowDocsHome),this.selectedDocSection$=this.store.select(I.m),this.docCommentsCount$=this.store.select(I.b),this.docsCount$=this.store.select(I.q),this.isCollapsedAndVisible=!1,this.project$=this.store.select(a.getProject),this.sharedSpaceParam$=this.store.select(a.getSharedSpaceParam),this.isAllSpaces$=Object(g.a)([this.sharedSpaceParam$,this.project$]).pipe(Object(n.a)(([e,t])=>!t&&!e)),this.searchingDashboards=!1,this.searchDashboardsString="",this.docSectionItems=dt,this.DocManagerSections=S.a,this.LeftSidebarTheme=c.c,this.SimpleSidebarSections=ut,this.ResourceCenterActiveItem=P.a,this.trackById=Object(j.d)("id"),this.showProjects=!0,this.isSidebarDark=!1,this.homePath$=this.team$.pipe(Object(n.a)(e=>this.localStorage.get(A.a)?["/",(null==e?void 0:e.id)||"","home-legacy"]:["/",(null==e?void 0:e.id)||"","home"])),this.store.select(a.getTeam).pipe(Object(r.a)(e=>e&&void 0!==e.user_portfolio_count),Object(l.a)("id"),Object(d.a)(e=>e.user_portfolio_count>0?(this.store.dispatch(new m.p({teamId:e.id,portfolioGroupId:k.a})),this.store.select(Object(h.i)(k.a)).pipe(Object(r.a)(e=>e.length>0))):Object(_.a)([])),Object(u.a)(this.store.select(a.getTeam)),Object(p.a)(this.destroy$)).subscribe(([e,t])=>{this.portfoliosRoute=["/",t.id,"portfolios",e.length>0?String(e[0].pretty_id):null].filter(Boolean)}),this.favoritesActive$.pipe(Object(p.a)(this.destroy$)).subscribe(e=>{setTimeout(()=>{e&&this.toggleFavoritesSection(e)},0)}),this.store.select(a.getTeam).pipe(Object(r.a)(e=>Boolean(e&&e.id)),Object(l.a)("id"),Object(p.a)(this.destroy$)).subscribe(e=>{E.nativeWindow.cancelIdleCallback(this.idleGoals),this.idleGoals=E.nativeWindow.requestIdleCallback(()=>{this.store.dispatch(new L.bb),e&&e.dashboards_enabled&&e.role===c.f.GUEST&&this.store.dispatch(Object(M.o)({tag:"init spaces bar"})),e&&e.docs_home&&e.role===c.f.GUEST&&(this.store.dispatch(Object(O.g)({tag:"init spaces bar"})),this.store.dispatch(Object(O.h)()))})})}get userRoles(){return c.f}get categories(){return this.categoryList}set categories(e){this.categoryList=e,this.filterString$.value||this.navService.setCategoryList(e)}ngOnInit(){this.store.dispatch(new C.le),this.showResourceCenter$.pipe(Object(p.a)(this.destroy$)).subscribe(e=>{e.show&&(this.store.dispatch(new C.Mk({show:!1,tab:1,playVideo:null})),this.resourceCenterDropdown&&(this.resourceCenterDropdown.open(),setTimeout(()=>{this.resourceCenter&&(e.tab&&this.resourceCenter.changeTab(e.tab),void 0===e.playVideo&&null===e.playVideo||this.resourceCenter.videoClicked(E.a[e.playVideo]),e.startOnAntiCancelationFlow&&this.resourceCenter.showAntiCancelationFlow())},200)))})}ngOnDestroy(){this.window.nativeWindow.cancelIdleCallback(this.idleGoals)}toggleSidebar(){this.store.dispatch(new C.yl)}resizeStart(e){this.resizeStartWidth=e.rectangle.width,this.renderer.addClass(document.body,"cu-unselectable")}resizing(e){this.store.dispatch(new C.wg(this.resizeStartWidth+e.edges.right)),this.changeDetectorRef.markForCheck()}resizeEnded(){this.renderer.removeClass(document.body,"cu-unselectable")}closeListDetails(){this.listDetailsService.closeSidebar()}showLayoutStyleModal(){this.modalService.open({title:$localize`:@@layout_size-and-style-1:Layout size & style`,content:this.layoutStyleModal,bodyModifier:"cu-modal__body_no-min-height"})}toggleMoreItems(){this.isExpandedMoreItems=!this.isExpandedMoreItems,this.localStorage.set("sidebar-more-items-expanded",this.isExpandedMoreItems),this.changeDetectorRef.markForCheck()}selectDocSection(e){this.store.dispatch(Object(O.x)({section:e}))}toggleFavoritesSection(e){e?this.expandSection(ut.Favorites):this.toggleFavorites(!1)}toggleFavorites(e){e||this.store.dispatch(D.v({active:e}))}toggleSpacesSection(e){e?(this.expandSection(ut.Spaces),this.showProjects=!0):this.toggleSpaces(!1)}toggleSpaces(e){this.localStorage.set("sidebar-spaces-expanded",e),this.isExpandedSpaces=e,this.changeDetectorRef.markForCheck()}toggleDashboards(e){this.localStorage.set("sidebar-dashboards-expanded",e),this.isExpandedDashboards=e,this.changeDetectorRef.markForCheck()}toggleDocs(e){this.localStorage.set("sidebar-docs-expanded",e),this.isExpandedDocs=e,this.changeDetectorRef.markForCheck()}collapseAllSections(){this.toggleSpaces(!1),this.toggleDashboards(!1),this.toggleDocs(!1)}expandSection(e){this.toggleSpaces(e===ut.Spaces),this.toggleDashboards(e===ut.Dashboards),this.toggleDocs(e===ut.Docs),this.toggleFavorites(e===ut.Favorites)}toggleSidebarDarkTheme(){this.userService.setTheme(this.user,!1,!0)}showCollapsedSidebar(e){this.store.dispatch(new C.ml(e))}keepCollapsedSidebarOpen(e){this.isCollapsedAndVisible=e,this.changeDetectorRef.markForCheck()}showBell(e){this.isTopBellVisible=e}createDoc(){this.store.dispatch(Object(O.b)({}))}showDashboardsSearch(e){e.preventDefault(),e.stopPropagation(),this.searchDashboardsString="",this.searchingDashboards=!0}resetDashboardsSearch(){this.searchDashboardsString="",this.searchingDashboards=!1}}return e.\u0275fac=function(t){return new(t||e)(F.Wb(U.a),F.Wb(o.Store),F.Wb(F.h),F.Wb(F.H),F.Wb(N.a),F.Wb(R.a),F.Wb(G.b),F.Wb(q.a),F.Wb(B.c))},e.\u0275cmp=F.Qb({type:e,selectors:[["cu-simple-bar"]],viewQuery:function(e,t){if(1&e&&(F.jd(fe,1),F.jd(_e,1),F.jd(ve,1)),2&e){let e;F.Qc(e=F.rc())&&(t.layoutStyleModal=e.first),F.Qc(e=F.rc())&&(t.resourceCenterDropdown=e.first),F.Qc(e=F.rc())&&(t.resourceCenter=e.first)}},hostAttrs:[1,"cu-simple-bar"],hostVars:2,hostBindings:function(e,t){2&e&&F.Ob("dark-theme",t.isSidebarDark)},inputs:{showProjects:"showProjects",isSidebarDark:"isSidebarDark",user:"user"},decls:94,vars:144,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y;return e=$localize`:@@common_hotkey-search␟11ce1ba4ebf50fe6eae2d6aea73c0c8222ae772e␟1184355986361339598:Search (s)`,t=$localize`:@@common_hotkey-quickswitch␟f5239eb78702b497d1b63ee230f104f4cc70a241␟1993309532856959264:QuickSwitch (k)`,i=$localize`:@@common_home␟92eee6be6de0b11c924e3ab27db30257159c0a7c␟2821179408673282599:Home`,a=$localize`:@@common_notifications␟8660e6110280aa7dd828b393dddd24ac235e363e␟4123493666855318656: Notifications `,o=$localize`:@@common_pulse␟1340334955061f96253bb39f46afa7f17b01194e␟5205807443404566174:Pulse`,c=$localize`:@@common_goals␟7a9fde6971f809a5903706fe2c24c485403a61e3␟4103456400514703198:Goals`,n=$localize`:@@common_show-less␟5403a767248e304199592271bba3366d2ca3f903␟3517550046701184661:Show less`,s=$localize`:@@common_show-more␟f0c5f6f270e70cbe063b5368fcf48f9afc1abd9b␟7215101881367554791:Show more`,r=$localize`:@@common_dashboards␟be37a41139d137a21483439caa3709cdcea48185␟1665022761375605467:Dashboards`,l=$localize`:@@cu-simple-bar__row-label-actions-search-input␟09e0763e4102c6a76154da775b5de7feb881490d␟3996204701145383111:Filter Dashboards`,d=$localize`:@@common_clear-filter␟fe8dc1ef5b4a8b389ecaff0f4ac72f3e4f2c1a5c␟4965562695253171955:Clear filter`,u=$localize`:@@common_docs␟a7ecfd7757d04b019beaa2d7208c728387bfc7e8␟4447668871712407032:Docs`,p=$localize`:@@common_add-new␟52cb3a1dbc20365867f39819932e43d19542474d␟4948407374074297419:Add new`,m=$localize`:@@common_sidebar-settings␟219850fe98ddadfa51d645eee93046c660a392be␟3107886190804624906:Sidebar settings`,h=$localize`:@@common_sidebar-settings␟accf25528ce25f871fc2fbf98d1774b5f50f8273␟4532430373028616842: Sidebar settings `,b=$localize`:@@layout_size-and-style␟5710e13eace40bd8525ec0ec9da06d8930f9f5e4␟6637078323937226425: Layout size & style `,g=$localize`:@@common_hide-archived␟af2348e68fa3cee732f296b7192e50a9aa67951f␟5346208167923617108:Hide archived`,f=$localize`:@@common_show-archived␟9837b0caee0ab6f24e881c7d6ddd6bc304d196ae␟1525728150043011845:Show archived`,_=$localize`:@@common_expand-all-folders␟ba5ff2f48bf0e0bbb637bc959ef98e475ba1af54␟759682601442547054: Expand all Folders `,v=$localize`:@@common_close-all-folders␟d5261d268f30a178baf649b6abbe88af9fa0cb11␟7849502746680259381: Close all Folders `,y=$localize`:@@common_dark-sidebar␟20e964ce27855ff27f792070bfa1d5167065c222␟4039390875349538646: Dark side(bar) `,[["mwlResizable","",1,"cu-simple-bar__container",3,"ngClass","resizeStart","resizing","resizeEnd","mouseenter","mouseleave"],["mwlResizeHandle","",1,"cu-simple-bar-resizer-handle",3,"resizeEdges"],[1,"cu-simple-bar__top"],[1,"cu-simple-bar__logo"],[3,"routerLink"],["class","cu-simple-bar__logo-symbol cu-simple-bar__logo-symbol_rounded","alt","",3,"src",4,"ngIf"],["class","cu-simple-bar__logo-symbol","src","./assets/images/brand/clickup-symbol_color.svg","alt","",4,"ngIf"],["class","cu-simple-bar__logo-text cu-simple-bar__logo-text-white-label",3,"routerLink",4,"ngIf"],["class","cu-simple-bar__logo-text",3,"routerLink",4,"ngIf"],["class","cu-simple-bar__bell",3,"routerLink","click",4,"ngIf"],[3,"ngTemplateOutlet"],["icon","cu3-chevron-double-left",1,"cu-simple-bar__toggle",3,"cuTooltip","click"],["cuScrollDetector","",1,"cu-simple-bar__body",3,"offsetTop","onReachTop","onLeaveTop"],["scrollContainer",""],[1,"cu-simple-bar__divider-placeholder","cu-simple-bar__divider-placeholder_top"],[1,"cu-simple-bar__divider","cu-simple-bar__divider_top"],[1,"cu-simple-bar__search"],["cuTooltip",e,"tooltipDelay","600",3,"modifier","iconModifier"],["cuTooltip",t,"tooltipDelay","600",3,"modifier","iconModifier"],["routerLinkActive","",1,"cu-simple-bar__item",3,"ngClass","routerLink","click"],["rlaHome","routerLinkActive"],["icon","cu3-home",1,"cu-simple-bar__item-icon"],[1,"cu-simple-bar__item-label"],i,[1,"cu-simple-bar__item",3,"routerLink","routerLinkActive","click"],[1,"cu-simple-bar__item-icon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],a,["class","cu-simple-bar__more",4,"ngIf"],["class","cu-simple-bar__item cu-simple-bar__item_more",3,"click",4,"ngIf"],[1,"cu-simple-bar__divider"],[3,"ngClass","forSimpleBar","dropdownOpen","dropdownClose",4,"ngIf"],[1,"cu-simple-bar__spaces"],[3,"convos","convoDocMap","docs","isExpandedSidebarSpaces","scrollContainer","toggleSidebarSpaces","dropdownOpen","dropdownClose"],["sharedNav","",3,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","","class","cu-simple-bar__row",3,"expanded","stickedBorder","closed","opened",4,"ngIf"],[1,"cu-simple-bar__bottom"],[1,"cu-simple-bar__bottom-menu",3,"team","user","dropdownOpen","dropdownClose"],[1,"cu-simple-bar__bottom-menu-avatar",3,"team","modifier","cuTooltip"],[1,"cu-simple-bar__bottom-menu-avatar",3,"user","showGuestTooltip","showGuestDot","modifier"],["icon","cu2-arrow-down",1,"cu-simple-bar__bottom-menu-arrow"],["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownCloseOnOutsideClick","dropdownCloseOnEscKey","dropdownPlacement","dropdownOpen","dropdownClose"],["resourceCenterDropdown","dropdown"],["cuDropdownToggle",""],["icon","question2",1,"cu-simple-bar__bottom-help"],["class","cu-simple-bar__resource-center-dropdown__menu resource-center-dropdown__menu",3,"resource-center-dropdown__menu-bug-form",4,"cuDropdownMenu"],["notificationsBell",""],["sidebarSettings",""],["layoutStyleModal",""],["sharedNav",""],["alt","",1,"cu-simple-bar__logo-symbol","cu-simple-bar__logo-symbol_rounded",3,"src"],["src","./assets/images/brand/clickup-symbol_color.svg","alt","",1,"cu-simple-bar__logo-symbol"],[1,"cu-simple-bar__logo-text","cu-simple-bar__logo-text-white-label",3,"routerLink"],[4,"ngIf"],["alt","",3,"src"],[1,"cu-simple-bar__logo-text",3,"routerLink"],["src","./assets/images/brand/clickup-text.svg","alt",""],["src","./assets/images/brand/clickup-text_white.svg","alt",""],[1,"cu-simple-bar__bell",3,"routerLink","click"],[1,"cu-simple-bar__more"],["class","cu-simple-bar__item",3,"routerLink","routerLinkActive","click",4,"ngIf"],["icon","cu3-pulse",1,"cu-simple-bar__item-icon"],o,["icon","cu3-goals",1,"cu-simple-bar__item-icon"],c,[1,"cu-simple-bar__item","cu-simple-bar__item_more",3,"click"],["icon","cu3-arrow",1,"cu-simple-bar__item-icon"],[4,"ngIf","ngIfElse"],["showMoreTmpl",""],n,s,[3,"ngClass","forSimpleBar","dropdownOpen","dropdownClose"],["routerLinkActive","",1,"cu-simple-bar__row",3,"expanded","stickedBorder","closed","opened"],["dashboardsSidebarItem","routerLinkActive"],["cu-accordion__toggle","",1,"cu-simple-bar__row-label"],["cuPreventDefault","","class","cu-simple-bar__row-label-actions-search",4,"ngIf"],["cu-accordion__body","",3,"user","searchStringVal","dropdownOpen","dropdownClose"],r,[1,"cu-simple-bar__row-label-actions"],["class","cu-simple-bar__row-label-actions-search-icon",3,"icon","click",4,"ngIf"],[1,"cu-simple-bar__row-label-arrow",3,"icon"],[1,"cu-simple-bar__row-label-actions-search-icon",3,"icon","click"],["cuPreventDefault","",1,"cu-simple-bar__row-label-actions-search"],[1,"cu-simple-bar__row-label-actions-search-icon",3,"icon"],["cuAutoFocus","","placeholder",l,1,"cu-simple-bar__row-label-actions-search-input",3,"ngModel","ngModelChange"],["cuTooltip",d,"cuPreventDefault","",1,"cu-simple-bar__row-label-actions-search-close",3,"icon","click"],["docsSidebarItem","routerLinkActive"],u,["cu-accordion__body",""],["class","cu-simple-bar__row-new",3,"click",4,"ngIf"],["class","cu-simple-bar__row-item",3,"cu-simple-bar__row-item_active","routerLink","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-simple-bar__row-new",3,"click"],[1,"cu-simple-bar__row-new-icon",3,"icon"],p,[1,"cu-simple-bar__row-item",3,"routerLink","click"],[1,"cu-simple-bar__row-item-title"],["class","cu-doc-sidebar__section-count",3,"numberComments","forTasks","forMe",4,"ngIf"],[1,"cu-doc-sidebar__section-count",3,"numberComments","forTasks","forMe"],[1,"cu-simple-bar__resource-center-dropdown__menu","resource-center-dropdown__menu"],[3,"user","team","bonusClaimed","onClose","onActiveItemChange"],["resourceCenter",""],[3,"modifier"],["icon","cu3-bell"],["cuDropdown","",1,"nav-menu","cu-dropdown",3,"dropdownCloseOnInsideClick","dropdownDestroyMenuOnClose","dropdownCloseOnModal","dropdownOpen","dropdownClose"],["menu","dropdown"],["icon","cu3-cog-2","cuDropdownToggle","","cuTooltip",m,1,"cu-dropdown__toggle","nav-menu__toggle","nav-menu__toggle_cog","cu-simple-bar__settings"],["class","cu-dropdown__menu cu-dropdown__menu_overflow-hidden nav-menu__controls",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","cu-dropdown__menu_overflow-hidden","nav-menu__controls"],[1,"nav-menu-item__title"],h,["cuLink","","draggable","false",1,"nav-menu-item",3,"click"],["icon","archive2",1,"nav-menu-item__icon","nav-menu-item__icon_archive"],[1,"nav-menu-item__name"],["showArchivedTmpl",""],[1,"nav-menu-item",3,"click"],["icon","cu2-layout-style",1,"nav-menu-item__icon","nav-menu-item__icon_dashboard"],b,g,f,["class","nav-menu-item","cuLink","","draggable","false",3,"click",4,"ngIf"],["icon","expand",1,"nav-menu-item__icon","nav-menu-item__icon_expand-all"],_,["icon","expand",1,"nav-menu-item__icon","nav-menu-item__icon_close-all"],v,["icon","cu2-darth-vader",1,"nav-menu-item__icon","nav-menu-item__icon_dashboard"],y,[1,"nav-menu-item__toggle-switch","nav-menu-item__toggle-switch_not-clickable",3,"checked"],[3,"user","allowCollapse","convos","docs","dropdownOpen","dropdownClose"]]},template:function(e,t){if(1&e&&(F.cc(0,"div",0),F.qc("resizeStart",function(e){return t.resizeStart(e)})("resizing",function(e){return t.resizing(e)})("resizeEnd",function(){return t.resizeEnded()})("mouseenter",function(){return t.showCollapsedSidebar(!0)})("mouseleave",function(){return t.isCollapsedAndVisible?null:t.showCollapsedSidebar(!1)}),F.vc(1,"async"),F.vc(2,"async"),F.vc(3,"async"),F.vc(4,"async"),F.vc(5,"async"),F.vc(6,"async"),F.Xb(7,"div",1),F.cc(8,"div",2),F.cc(9,"div",3),F.cc(10,"a",4),F.vc(11,"async"),F.bd(12,ye,2,3,"img",5),F.vc(13,"async"),F.vc(14,"async"),F.bd(15,we,1,0,"img",6),F.vc(16,"async"),F.vc(17,"async"),F.bc(),F.bd(18,xe,4,6,"a",7),F.vc(19,"async"),F.vc(20,"async"),F.bd(21,Te,4,3,"a",8),F.vc(22,"async"),F.vc(23,"async"),F.bd(24,Oe,3,9,"a",9),F.Yb(25,10),F.cc(26,"div",11),F.qc("click",function(){return t.toggleSidebar()}),F.vc(27,"async"),F.vc(28,"async"),F.bc(),F.bc(),F.bc(),F.cc(29,"div",12,13),F.qc("onReachTop",function(){return t.showBell(!1)})("onLeaveTop",function(){return t.showBell(!0)}),F.Xb(31,"div",14),F.Xb(32,"div",15),F.cc(33,"div",16),F.Xb(34,"cu2-search",17),F.Xb(35,"cu-header-quick-switcher",18),F.bc(),F.cc(36,"a",19,20),F.qc("click",function(){return t.collapseAllSections()}),F.vc(38,"async"),F.vc(39,"async"),F.Xb(40,"div",21),F.cc(41,"div",22),F.gc(42,23),F.bc(),F.bc(),F.cc(43,"a",24),F.qc("click",function(){return t.collapseAllSections()}),F.vc(44,"async"),F.cc(45,"div",25),F.Yb(46,26),F.bc(),F.cc(47,"div",22),F.gc(48,27),F.bc(),F.bc(),F.bd(49,$e,6,9,"div",28),F.vc(50,"async"),F.bd(51,Ee,6,4,"div",29),F.vc(52,"async"),F.cc(53,"div",30),F.vc(54,"async"),F.bc(),F.bd(55,Ae,2,6,"cu-sidebar-favorites",31),F.vc(56,"async"),F.cc(57,"div",32),F.cc(58,"cu2-project-list-bar",33),F.qc("toggleSidebarSpaces",function(e){return t.toggleSpacesSection(e)})("dropdownOpen",function(){return t.keepCollapsedSidebarOpen(!0)})("dropdownClose",function(){return t.keepCollapsedSidebarOpen(!1)}),F.vc(59,"async"),F.vc(60,"async"),F.vc(61,"async"),F.Yb(62,34),F.vc(63,"async"),F.vc(64,"async"),F.bc(),F.bc(),F.bd(65,Re,7,8,"cu-accordion",35),F.vc(66,"async"),F.bd(67,Ve,11,8,"cu-accordion",35),F.vc(68,"async"),F.vc(69,"async"),F.vc(70,"async"),F.bc(),F.cc(71,"div",36),F.cc(72,"cu-user-settings-menu",37),F.qc("dropdownOpen",function(){return t.keepCollapsedSidebarOpen(!0)})("dropdownClose",function(){return t.keepCollapsedSidebarOpen(!1)}),F.vc(73,"async"),F.vc(74,"async"),F.Xb(75,"cu-team-avatar",38),F.vc(76,"async"),F.vc(77,"async"),F.Xb(78,"cu-avatar",39),F.vc(79,"async"),F.Xb(80,"div",40),F.bc(),F.cc(81,"div",41,42),F.qc("dropdownOpen",function(){return t.keepCollapsedSidebarOpen(!0)})("dropdownClose",function(){return t.keepCollapsedSidebarOpen(!1)}),F.cc(83,"div",43),F.Xb(84,"div",44),F.bc(),F.bd(85,Xe,6,11,"div",45),F.bc(),F.bc(),F.bc(),F.bd(86,He,2,1,"ng-template",null,46,F.cd),F.bd(88,it,4,5,"ng-template",null,47,F.cd),F.bd(90,at,1,0,"ng-template",null,48,F.cd),F.bd(92,ot,2,6,"ng-template",null,49,F.cd)),2&e){const e=F.Rc(30),i=F.Rc(37),a=F.Rc(87),o=F.Rc(89),c=F.Rc(93);let n=null,s=null,r=null,l=null;F.ad("width",F.wc(1,54,t.sidebarWidth$)-1,"px"),F.Dc("ngClass",F.Kc(130,ct,!t.showProjects&&!F.wc(2,56,t.hideBackLink$),null==(n=F.wc(3,58,t.sidebarOptions$))?null:n.isCollapsed,(null==(n=F.wc(4,60,t.sidebarOptions$))?null:n.isCollapsed)&&(t.isCollapsedAndVisible||(null==(n=F.wc(5,62,t.sidebarOptions$))?null:n.isCollapsedAndVisible)),F.wc(6,64,t.favoritesPinned$))),F.Ib(7),F.Dc("resizeEdges",F.Gc(135,nt)),F.Ib(3),F.Dc("routerLink",F.wc(11,66,t.homePath$)),F.Ib(2),F.Dc("ngIf",F.wc(13,68,t.usingWhiteLabelRoundLogo$)&&!F.wc(14,70,t.usingWhiteLabelRectangleLogo$)),F.Ib(3),F.Dc("ngIf",!(F.wc(16,72,t.usingWhiteLabelRoundLogo$)||F.wc(17,74,t.usingWhiteLabelRectangleLogo$))),F.Ib(3),F.Dc("ngIf",F.wc(19,76,t.usingWhiteLabelRoundLogo$)||F.wc(20,78,t.usingWhiteLabelRectangleLogo$)),F.Ib(3),F.Dc("ngIf",!(F.wc(22,80,t.usingWhiteLabelRoundLogo$)||F.wc(23,82,t.usingWhiteLabelRectangleLogo$))),F.Ib(3),F.Dc("ngIf",t.isTopBellVisible),F.Ib(1),F.Dc("ngTemplateOutlet",o),F.Ib(1),F.Ob("cu-simple-bar__toggle_collapsed",null==(s=F.wc(27,84,t.sidebarOptions$))?null:s.isCollapsed),F.Dc("cuTooltip",F.wc(28,86,t.sidebarStateText$)),F.Ib(3),F.Dc("offsetTop",92),F.Ib(5),F.Dc("modifier","cu2-search_simple-layout")("iconModifier","cu3-search"),F.Ib(1),F.Dc("modifier","cu-header-quick-switcher_simple-layout")("iconModifier","cu2-quick-switch"),F.Ib(1),F.Dc("ngClass",F.Hc(136,st,i.isActive||F.wc(38,88,t.isInbox$)))("routerLink",F.wc(39,90,t.homePath$)),F.Ib(7),F.Dc("routerLink",F.Hc(138,Se,(null==(r=F.wc(44,92,t.team$))?null:r.id)||""))("routerLinkActive","cu-simple-bar__item_active"),F.Ib(3),F.Dc("ngTemplateOutlet",a)("ngTemplateOutletContext",F.Gc(140,rt)),F.Ib(3),F.Dc("ngIf",!F.wc(50,94,t.isGuestTeam$)),F.Ib(2),F.Dc("ngIf",!F.wc(52,96,t.isGuestTeam$)),F.Ib(2),F.Ob("cu-simple-bar__divider_guest",F.wc(54,98,t.isGuestTeam$)),F.Ib(2),F.Dc("ngIf",!F.wc(56,100,t.favoritesPinned$)),F.Ib(2),F.Ob("cu-simple-bar__spaces_collapsed",!t.isExpandedSpaces),F.Ib(1),F.Dc("convos",F.wc(59,102,t.convos$))("convoDocMap",F.wc(60,104,t.convoDocMap$))("docs",F.wc(61,106,t.docs$))("isExpandedSidebarSpaces",t.isExpandedSpaces)("scrollContainer",e),F.Ib(4),F.Dc("ngTemplateOutlet",c)("ngTemplateOutletContext",F.Ic(141,lt,F.wc(63,108,t.sharedConvos$),F.wc(64,110,t.sharedDocs$))),F.Ib(3),F.Dc("ngIf",F.wc(66,112,t.showDashboards$)),F.Ib(2),F.Dc("ngIf",F.wc(68,114,t.showDocs$)||F.wc(69,116,t.docsCount$)&&F.wc(70,118,t.isGuestTeam$)),F.Ib(5),F.Dc("team",F.wc(73,120,t.team$))("user",F.wc(74,122,t.user$)),F.Ib(3),F.Dc("team",F.wc(76,124,t.team$))("modifier","cu-simple-bar__bottom-avatar")("cuTooltip",null==(l=F.wc(77,126,t.team$))?null:l.name),F.Ib(3),F.Dc("user",F.wc(79,128,t.user$))("showGuestTooltip",!1)("showGuestDot",!1)("modifier","cu-simple-bar__bottom-avatar"),F.Ib(3),F.Dc("dropdownCloseOnInsideClick",!1)("dropdownCloseOnOutsideClick",!1)("dropdownCloseOnEscKey",!1)("dropdownPlacement","right")}},directives:[W.a,V.o,W.c,X.k,V.q,V.x,H.a,Y.a,Z.a,Q.a,K.a,X.j,J.a,ee.a,te.a,ie.a,ae.b,oe.a,ce.a,ne.a,se.a,re.a,le.a,de.c,ue.a,de.p,de.s,V.p,X.i,pe.a,P.b,me.a,he.a,be.a,ge.a],pipes:[V.b],styles:['.cu-simple-bar{min-height:0;flex-shrink:0;position:relative;z-index:550}.cu-simple-bar__container{top:0;left:0;height:100%;z-index:700;transition:width .2s ease-in-out;display:grid;grid-template-rows:auto 1fr auto;will-change:transform,width;position:relative;background:#fff;min-width:200px;border-right:1px solid #e9ebf0}.cu-os-win .cu-simple-bar__container{scrollbar-width:thin}.cu-os-win .cu-simple-bar__container::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-simple-bar__container::-webkit-scrollbar-track,.cu-os-win .cu-simple-bar__container::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-simple-bar__container::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-simple-bar__container::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-simple-bar__container::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-simple-bar__container::-webkit-scrollbar,.cu-os-win .dark-theme .cu-simple-bar__container::-webkit-scrollbar,.cu-os-win.dark-theme .cu-simple-bar__container::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-simple-bar__container::-webkit-scrollbar-track{background-color:#2b343b}.cu-os-win.dark-theme .cu-simple-bar__container::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-simple-bar__container::-webkit-scrollbar-track:hover{background-color:#2b343b}.cu-os-win.dark-theme .cu-simple-bar__container::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-simple-bar__container::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-simple-bar__container::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-simple-bar__container::-webkit-scrollbar-thumb:hover{border-color:#2b343b}.dark-theme .cu-simple-bar__container{background:#2b343b;border-right-color:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__container,.cu-simple-bar.dark-theme .cu-simple-bar__container{background:#20262b;border-right-color:#2b343b}.cu-simple-bar__container.resize-active{transition:none}.cu-simple-bar__container_collapsed{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:0 6px 6px 0;max-height:calc(100vh - 120px);opacity:0;transform:translateX(calc(-100% + 10px)) translateY(60px) translateZ(0);position:absolute;height:auto}.cu-simple-bar__container_favorites-pinned .cu-simple-bar__container_collapsed{max-height:calc(100vh - 155px)}.cu-simple-bar__container_collapsed:before{content:"";display:block;position:absolute;top:-25px;left:0;width:100%;height:calc(100vh - 95px)}.cu-simple-bar__container_favorites-pinned .cu-simple-bar__container_collapsed:before{height:calc(100vh - 130px)}.cu-simple-bar__container_collapsed .cu-simple-bar-resizer-handle{display:none}.cu-simple-bar__container_collapsed .cu-simple-bar__top{height:0;padding:0}.cu-simple-bar__container_collapsed .cu-simple-bar__search{margin-top:5px}.cu-simple-bar__container_collapsed .cu-simple-bar__body{border-radius:0 6px 0 0}.cu-simple-bar__container_collapsed-and-visible,.cu-simple-bar__container_collapsed:hover{opacity:1;transform:translateX(0) translateY(60px) translateZ(0);box-shadow:0 1px 10px 0 rgba(0,0,0,.25)}.dark-theme .cu-simple-bar__container_collapsed-and-visible,.dark-theme .cu-simple-bar__container_collapsed:hover{box-shadow:0 2px 16px 0 rgba(0,0,0,.4)}.cu-simple-bar__container .cu2-project-list-bar__search.cu-search-input__inner{visibility:visible;opacity:1;padding:0 0 0 16px}.cu-simple-bar__container .cu2-project-list-bar__search.cu-search-input__inner:hover .cu-search-input__icon{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__container .cu2-project-list-bar__search.cu-search-input__inner:hover .cu-search-input__icon{stroke:var(--theme-main-color)}}.dark-theme .cu-simple-bar__container .cu2-project-list-bar__search.cu-search-input__inner:hover .cu-search-input__icon{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__container .cu2-project-list-bar__search.cu-search-input__inner:hover .cu-search-input__icon{stroke:var(--theme-main-color)}}.cu-simple-bar__container .cu2-project-list-bar__search.cu-search-input__inner .cu-search-input__icon{margin-right:12px;stroke:#7c828d}.dark-theme .cu-simple-bar__container .cu2-project-list-bar__search.cu-search-input__inner .cu-search-input__icon{stroke:#abaeb0}.cu-simple-bar-resizer-handle{transition:background .2s cubic-bezier(.785,.135,.15,.86) .1s;width:9px;height:100%;cursor:col-resize;position:absolute;right:-5px;z-index:20;opacity:.2}.cu-simple-bar-resizer-handle:active,.cu-simple-bar-resizer-handle:hover{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar-resizer-handle:active,.cu-simple-bar-resizer-handle:hover{background:var(--theme-main-color)}}.cu-simple-bar__top{overflow:hidden;padding:13px 8px 1px}.cu-simple-bar__logo{display:flex;align-items:center;margin-left:7px;margin-bottom:10px}.cu-simple-bar__logo-symbol{height:22px;text-align:center;flex-shrink:0;margin-right:5px}.cu-simple-bar__logo-symbol_rounded{border-radius:50%}.cu-simple-bar__logo-text{margin-bottom:-3px;flex-grow:1;height:19px}.cu-simple-bar__logo-text-white-label{margin-bottom:0}.cu-simple-bar__logo-text-white-label img{height:19px!important;width:auto;margin-left:3px}.cu-simple-bar__logo-text img{height:19px}.cu-simple-bar__logo-text img:last-child,.dark-theme .cu-simple-bar__logo-text img{display:none}.dark-theme .cu-simple-bar__logo-text img:last-child{display:block}.cu-simple-bar__search{display:flex;align-items:center;height:32px;flex-shrink:0;margin:0 8px 10px}.cu-simple-bar__toggle{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7b68ee;width:26px;height:26px;padding:7px;margin-right:5px;cursor:pointer;border-radius:3px}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__toggle{fill:var(--theme-main-color)}}.cu-simple-bar__toggle:hover{background-color:#f2f2f2}.dark-theme .cu-simple-bar__toggle:hover{background:#1e272e}.cu-simple-bar.dark-theme .cu-simple-bar__toggle:hover{background:#2b343b}.cu-simple-bar__toggle_collapsed{transform:rotate(180deg)}.cu-simple-bar__settings{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;opacity:0;width:26px;height:26px;padding:4px;margin-right:5px;cursor:pointer;border-radius:3px;fill:#7c828d}.dark-theme .cu-simple-bar__settings{fill:#828588}.cu-simple-bar__settings:hover{fill:#7b68ee;background-color:#f2f2f2}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__settings:hover{fill:var(--theme-main-color)}}.dark-theme .cu-simple-bar__settings:hover{background:#1e272e}.cu-simple-bar.dark-theme .cu-simple-bar__settings:hover{background:#2b343b}.cu-simple-bar:hover .cu-simple-bar__settings,.cu-simple-bar__settings_visible{opacity:1}.cu-simple-bar__top .cu-dropdown_open .cu-simple-bar__settings{fill:#7b68ee;opacity:1}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__top .cu-dropdown_open .cu-simple-bar__settings{fill:var(--theme-main-color)}}.cu-simple-bar__bell{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;position:relative;width:26px;height:26px;padding:4px;margin-right:5px;cursor:pointer;border-radius:3px;fill:#7c828d}.dark-theme .cu-simple-bar__bell{fill:#828588}.cu-simple-bar__bell:hover{fill:#7b68ee;background-color:#f2f2f2}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__bell:hover{fill:var(--theme-main-color)}}.dark-theme .cu-simple-bar__bell:hover{background:#1e272e}.cu-simple-bar.dark-theme .cu-simple-bar__bell:hover{background:#2b343b}.cu-simple-bar__body{transform:translateZ(0);margin-bottom:-1px;display:flex;flex-direction:column;min-height:0;min-width:0;overflow-x:hidden;overflow-y:auto;background:#fff}.cu-os-win .cu-simple-bar__body{scrollbar-width:thin}.cu-os-win .cu-simple-bar__body::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-simple-bar__body::-webkit-scrollbar-track,.cu-os-win .cu-simple-bar__body::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-simple-bar__body::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-simple-bar__body::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-simple-bar__body::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-simple-bar__body::-webkit-scrollbar,.cu-os-win .dark-theme .cu-simple-bar__body::-webkit-scrollbar,.cu-os-win.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-simple-bar__body::-webkit-scrollbar-track{background-color:#2b343b}.cu-os-win.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover{background-color:#2b343b}.cu-os-win.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover{border-color:#2b343b}.dark-theme .cu-simple-bar__body{background:#2b343b}.cu-left-sidebar.dark-theme .cu-simple-bar__body,.cu-simple-bar.dark-theme .cu-simple-bar__body{background:#20262b}.cu-os-win .cu-left-sidebar.dark-theme .cu-simple-bar__body,.cu-os-win .cu-simple-bar.dark-theme .cu-simple-bar__body{scrollbar-width:thin}.cu-os-win .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar,.cu-os-win .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track,.cu-os-win .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover,.cu-os-win .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track,.cu-os-win .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb,.cu-os-win .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover,.cu-os-win .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-button,.cu-os-win .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar,.cu-os-win .dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar,.cu-os-win.dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track,.cu-os-win.dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar,.cu-os-win .dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar,.cu-os-win.dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track{background-color:#20262b}.cu-os-win.dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover,.cu-os-win.dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-track:hover{background-color:#20262b}.cu-os-win.dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-left-sidebar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover,.cu-os-win.dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-simple-bar.dark-theme .cu-simple-bar__body::-webkit-scrollbar-thumb:hover{border-color:#20262b}.cu-simple-bar__divider{flex-shrink:0;height:1px;background:#e9ebf0}.dark-theme .cu-simple-bar__divider{background:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__divider,.cu-simple-bar.dark-theme .cu-simple-bar__divider{background:#384047}.cu-simple-bar__divider_top{position:sticky;margin-top:-1px;top:0;z-index:1}.cu-simple-bar__divider_guest{margin-top:15px}.cu-simple-bar__divider-placeholder{z-index:5;flex-shrink:0;background:#fff}.dark-theme .cu-simple-bar__divider-placeholder{background:#2b343b}.cu-left-sidebar.dark-theme .cu-simple-bar__divider-placeholder,.cu-simple-bar.dark-theme .cu-simple-bar__divider-placeholder{background:#20262b}.cu-simple-bar__divider-placeholder_top{height:5px}.cu-simple-bar__item{display:flex;align-items:center;position:relative;padding:0 10px;height:32px;cursor:pointer;flex-shrink:0}.cu-simple-bar__item:hover{background:#f6f7f9}.dark-theme .cu-simple-bar__item:hover{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__item:hover{background:#2b343b}.cu-simple-bar__item_active{cursor:default}.cu-simple-bar__item_active:hover,.dark-theme .cu-simple-bar__item_active:hover{background:transparent}.cu-simple-bar__item_active:before{content:"";display:block;position:absolute;background:#7b68ee;left:0;width:100%;height:100%;opacity:.09}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__item_active:before{background:var(--theme-main-color)}}.cu-simple-bar__item_active:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;width:3px;height:100%;border-radius:0 3px 3px 0}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__item_active:after{background:var(--theme-main-color)}}.cu-simple-bar__item_active .cu-simple-bar__item-label{color:#7b68ee;font-weight:500}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__item_active .cu-simple-bar__item-label{color:var(--theme-main-color)}}.dark-theme .cu-simple-bar__item_active .cu-simple-bar__item-label{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__item_active .cu-simple-bar__item-label{color:var(--theme-main-color)}}.cu-simple-bar__item_active .cu-simple-bar__item-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__item_active .cu-simple-bar__item-icon{fill:var(--theme-main-color)}}.cu-simple-bar__item_more{margin-bottom:15px}.cu-simple-bar__item-icon{transition:transform .2s ease-in-out;width:40px;height:32px;padding:7px;flex-shrink:0;position:relative;fill:#7c828d}.cu-simple-bar__item-icon_rotate{transform:rotate(-180deg)}.cu-simple-bar__item-label{font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-simple-bar__item-label{color:#d5d6d7}.cu-simple-bar__more{overflow:hidden;flex-shrink:0}.cu-simple-bar__row{position:relative;flex-shrink:0;background:#fff;border-bottom:1px solid #e9ebf0}.dark-theme .cu-simple-bar__row{background:#2b343b;border-bottom-color:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__row,.cu-simple-bar.dark-theme .cu-simple-bar__row{background:#20262b;border-bottom-color:#384047}.cu-simple-bar__row:last-child{margin-bottom:-1px}.cu-simple-bar__row .cu-accordion__toggle_expanded{position:sticky;top:0;z-index:10;background:#fff}.dark-theme .cu-simple-bar__row .cu-accordion__toggle_expanded{background:#2b343b}.cu-left-sidebar.dark-theme .cu-simple-bar__row .cu-accordion__toggle_expanded,.cu-simple-bar.dark-theme .cu-simple-bar__row .cu-accordion__toggle_expanded{background:#20262b}.cu-simple-bar__row .cu-accordion__toggle-border{height:1px;flex-shrink:0;position:sticky;margin-top:-1px;top:48px;z-index:5;background:#e9ebf0}.dark-theme .cu-simple-bar__row .cu-accordion__toggle-border{background:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__row .cu-accordion__toggle-border,.cu-simple-bar.dark-theme .cu-simple-bar__row .cu-accordion__toggle-border{background:#384047}.cu-simple-bar__row-container{overflow:hidden}.cu-simple-bar__row-label{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;justify-content:space-between;text-transform:uppercase;font:600 11px/47px Gotham Pro,Proxima Nova,arial,serif;padding:1px 20px 0;cursor:pointer;color:#979797}.dark-theme .cu-simple-bar__row-label{color:#abaeb0}.cu-simple-bar__row-label:hover{background:#f8f9f9;z-index:20}.dark-theme .cu-simple-bar__row-label:hover{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__row-label:hover{background:#2b343b}.cu-simple-bar__row-label:hover .cu-simple-bar__row-label-arrow{fill:#53575e}.dark-theme .cu-simple-bar__row-label:hover .cu-simple-bar__row-label-arrow{fill:#d5d6d7}.cu-accordion__toggle_expanded .cu-simple-bar__row-label{font-weight:600;color:#53575e}.dark-theme .cu-accordion__toggle_expanded .cu-simple-bar__row-label{color:#d5d6d7}.cu-simple-bar__row-label-actions{display:flex;align-items:center}.cu-simple-bar__row-label-actions-search{display:flex;align-items:center;height:47px;flex-grow:1;margin:0 -20px;padding:0 20px;cursor:default}.cu-simple-bar__row-label-actions-search-icon{transition:all .1s cubic-bezier(.785,.135,.15,.86) 0s;flex-shrink:0;width:14px;height:14px;margin:0 5px 0 0;cursor:pointer;stroke:#7c828d}.cu-simple-bar__row-label-actions-search-icon:hover{transition:none}.dark-theme .cu-simple-bar__row-label-actions-search-icon{stroke:#abaeb0}.cu-simple-bar__row-label-actions-search-icon:hover{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__row-label-actions-search-icon:hover{stroke:var(--theme-main-color)}}.cu-simple-bar__row-label-actions-search-input{border:0;flex-grow:1;height:100%;background:transparent}.cu-simple-bar__row-label-actions-search-input:focus{box-shadow:none}.cu-simple-bar__row-label-actions-search-close{background:#7b68ee;width:16px;height:16px;padding:3px;border-radius:50%;fill:#fff;cursor:pointer;margin-right:-5px;transform:rotate(45deg)}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__row-label-actions-search-close{background:var(--theme-main-color)}}.cu-simple-bar__row-label-actions-search-close:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-simple-bar__row-label-actions-search-close:hover{background:var(--theme-main-color-dark)}}.cu-simple-bar__row-label-arrow{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:4px;height:11px;margin-left:13px;fill:#7c828d}.dark-theme .cu-simple-bar__row-label-arrow{fill:#abaeb0}.cu-accordion__toggle_expanded .cu-simple-bar__row-label-arrow{transform:rotate(90deg);fill:#53575e}.dark-theme .cu-accordion__toggle_expanded .cu-simple-bar__row-label-arrow{fill:#d5d6d7}.cu-simple-bar__row-item{display:flex;align-items:center;position:relative;height:32px;padding:0 17px 0 20px;cursor:pointer}.cu-simple-bar__row-item:hover{background:#f8f9f9}.dark-theme .cu-simple-bar__row-item:hover{background:#384047}.cu-simple-bar.dark-theme .cu-simple-bar__row-item:hover{background:#2b343b}.cu-simple-bar__row-item_active .cu-simple-bar__row-item-title{color:#7b68ee;font-weight:500}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__row-item_active .cu-simple-bar__row-item-title{color:var(--theme-main-color)}}.dark-theme .cu-simple-bar__row-item_active .cu-simple-bar__row-item-title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-simple-bar__row-item_active .cu-simple-bar__row-item-title{color:var(--theme-main-color)}}.cu-simple-bar__row-item_active:before{content:"";display:block;position:absolute;background:#7b68ee;left:0;width:100%;height:100%;opacity:.09}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__row-item_active:before{background:var(--theme-main-color)}}.cu-simple-bar__row-item_active:after{content:"";display:block;position:absolute;background:#7b68ee;left:0;width:3px;height:100%;border-radius:0 3px 3px 0}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__row-item_active:after{background:var(--theme-main-color)}}.cu-simple-bar__row-item-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;flex-grow:1;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-simple-bar__row-item-title{color:#d5d6d7}.cu-simple-bar__row-new{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;justify-content:center;margin:5px 20px;border-radius:5px;height:24px;cursor:pointer;text-transform:uppercase;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;background:#f3f4f7}.cu-simple-bar.dark-theme .cu-simple-bar__row-new,.dark-theme .cu-simple-bar__row-new{background:#384047}.cu-simple-bar__row-new:hover{background:#e4e4e4}.dark-theme .cu-simple-bar__row-new:hover{background:#191f25}.cu-simple-bar__row-new-icon{width:10px;height:10px;margin-right:5px;fill:#7c828d}.cu-simple-bar__bottom{display:flex;align-items:center;position:relative;justify-content:space-between;height:53px;padding:0 22px 0 16px;border-top:1px solid #e9ebf0}.dark-theme .cu-simple-bar__bottom{border-top-color:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__bottom,.cu-simple-bar.dark-theme .cu-simple-bar__bottom{border-top-color:#384047}.cu-simple-bar__bottom .cu-dropdown__toggle{display:flex;align-items:center}.cu-simple-bar__bottom-menu{min-width:0}.cu-simple-bar__bottom-menu:hover .cu-simple-bar__bottom-menu-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__bottom-menu:hover .cu-simple-bar__bottom-menu-arrow{fill:var(--theme-main-color)}}.cu-simple-bar__bottom-menu-avatar{z-index:10}.cu-simple-bar__bottom-menu-avatar+.cu-simple-bar__bottom-menu-avatar{margin-left:-10px;margin-right:7px;z-index:0}.cu-simple-bar__bottom-menu-arrow{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:6px;height:4px;fill:#b9bec7}.dark-theme .cu-simple-bar__bottom-menu-arrow{fill:#7c828d}.cu-simple-bar__bottom-avatar{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:10px;line-height:26px;width:30px;height:30px;color:#fff;border:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-simple-bar__bottom-avatar{font-family:var(--global-font-support)}}.dark-theme .cu-simple-bar__bottom-avatar{color:#fff}.cu-simple-bar__bottom-help{transition:border-color .2s cubic-bezier(.785,.135,.15,.86),fill .2s cubic-bezier(.785,.135,.15,.86);margin-left:auto;width:17px;height:17px;padding:2px;border-radius:50%;border:2px solid #b9bec7;fill:#b9bec7}.dark-theme .cu-simple-bar__bottom-help{border-color:#7c828d;fill:#7c828d}.cu-simple-bar__bottom-help:hover,.cu-simple-bar__bottom .cu-dropdown_open .cu-simple-bar__bottom-help{border-color:#7b68ee;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-simple-bar__bottom-help:hover,.cu-simple-bar__bottom .cu-dropdown_open .cu-simple-bar__bottom-help{border-color:var(--theme-main-color);fill:var(--theme-main-color)}}.cu-simple-bar__spaces{position:relative;z-index:0;min-height:49px;flex-shrink:0;border-bottom:1px solid #e9ebf0}.dark-theme .cu-simple-bar__spaces{border-bottom-color:#1e272e}.cu-left-sidebar.dark-theme .cu-simple-bar__spaces,.cu-simple-bar.dark-theme .cu-simple-bar__spaces{border-bottom-color:#384047}.cu-simple-bar__spaces_collapsed{overflow:hidden}.cu-simple-bar .cu2-project-list-bar__scrollable:after,.cu-simple-bar .cu2-project-list-bar__scrollable:before{display:none}.cu-simple-bar__resource-center-dropdown__menu{min-width:350px;max-width:350px;overflow:auto;margin-left:5px}.dark-theme .cu-simple-bar__resource-center-dropdown__menu{background-color:#fff!important}.cu-simple-bar__resource-center-dropdown__menu.resource-center-dropdown__menu-bug-form{max-width:450px}'],encapsulation:2,data:{animation:[$.l,Object(T.m)("moreItems",[Object(T.j)("expanded",Object(T.k)({height:"*",opacity:1})),Object(T.j)("collapsed",Object(T.k)({height:"0",opacity:.5})),Object(T.l)("expanded => collapsed",[Object(T.e)("0.2s 0s ease-in-out")]),Object(T.l)("collapsed => expanded",[Object(T.e)("0.2s 0s ease-in-out")])])]},changeDetection:0}),e})()},vF9G:function(e,t,i){"use strict";i.r(t),i.d(t,"SearchModule",function(){return n});var a=i("ofXK"),o=i("K0KF"),c=i("fXoL");let n=(()=>{class e{}return e.\u0275mod=c.Ub({type:e}),e.\u0275inj=c.Tb({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,o.a]]}),e})()},"vFi+":function(e,t,i){e.exports=i.p+"typeform.eb80c07df9820399f8fe.png"},vV3l:function(e,t,i){"use strict";i.d(t,"a",function(){return ie});var a=i("Bcga"),o=i("MIIt"),c=i("P3yg"),n=i("c3rA"),s=i("nBRJ"),r=i("tk/3"),l=i("lI7e"),d=i("Ll/8"),u=i("9jGm"),p=i("l7P3"),m=i("Cfvw"),h=i("GyhO"),b=i("LRne"),g=i("VRyK"),f=i("EY2u"),_=i("NXyV"),v=i("PqYM"),y=i("itXk"),w=i("zp1y"),k=i("eIep"),x=i("JIr8"),T=i("SxV6"),S=i("lJxs"),j=i("5+tZ"),O=i("IzEk"),I=i("pLZG"),D=i("XNiG"),C=i("zx2A");class P{constructor(e,t){this.notifier=e,this.source=t}call(e,t){return t.subscribe(new $(e,this.notifier,this.source))}}class $ extends C.b{constructor(e,t,i){super(e),this.notifier=t,this.source=i}error(e){if(!this.isStopped){let i=this.errors,a=this.retries,o=this.retriesSubscription;if(a)this.errors=void 0,this.retriesSubscription=void 0;else{i=new D.a;try{const{notifier:e}=this;a=e(i)}catch(t){return super.error(t)}o=Object(C.c)(a,new C.a(this))}this._unsubscribeAndRecycle(),this.errors=i,this.retries=a,this.retriesSubscription=o,i.next(e)}}_unsubscribe(){const{errors:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:e}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}var z=i("coGc"),M=i("Kj3r"),E=i("vkgz"),L=i("1Spw"),A=i("L4xm"),F=i("dqeI"),U=i("0mFS"),N=i("TT1W"),R=i("Gj5t"),G=i("MguC"),q=i("0/H+"),B=i("5+WD"),W=i("CgHv"),V=i("1gLt"),X=i("2eDp"),H=i("XIp8"),Y=i("xWuZ"),Z=i("7G3y"),Q=i("fXoL"),K=i("7lY2"),J=i("AeD3"),ee=i("76Cs"),te=i("Xa+F");let ie=(()=>{class e{constructor(e,t,i,D,C,$){this.action$=e,this.store=t,this.gridService=i,this.dataService=D,this.taskService=C,this.reportingService=$,this.loadDashboards$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.o),Object(w.a)(this.store.select(n.getSelectedTeamId)),Object(k.a)(([e,t])=>this.gridService.getDashboards(t).pipe(Object(k.a)(e=>{const i=[];return i.push(A.N({teamId:t,dashboards:e.dashboards})),i.push(A.r()),Object(m.a)(i)}),Object(x.a)(this.handleError.bind(this)))))),this.loadPaywall$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.r),Object(w.a)(this.store.select(n.getSelectedTeamId)),Object(k.a)(([e,t])=>this.gridService.getPaywall(t).pipe(Object(k.a)(e=>{const t=[];return t.push(A.X({overPaywall:e.over_paywall})),Object(m.a)(t)}),Object(x.a)(this.handleError.bind(this)))))),this.setDashboards$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.N),Object(w.a)(this.store.select(F.j),this.store.select(F.v),this.store.select(l.m),this.store.select(l.g)),Object(k.a)(([e,t,i,a,o])=>{const c=[];if((!t.some(e=>e.id===i)||!o.gridId)&&t.length&&a){const e=localStorage.getItem("dashboard-last-id"),i=t.find(t=>t.id===e)||t[0];c.push(A.ab({id:i.id,navigate:!0}))}return Object(m.a)(c)}))),this.setSelectedDashboard$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.ab),Object(w.a)(this.store.select(n.getSelectedTeamId)),Object(k.a)(([e,t])=>{const i=[];return e.id?(i.push(A.v({tag:"setSelectedDashboard"})),localStorage.setItem("dashboard-last-id",e.id)):i.push(A.hb({widgets:[]})),e.navigate&&i.push(new U.d({path:["/",t,"dashboards",e.id]})),Object(m.a)(i)}))),this.addDashboard$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.a),Object(w.a)(this.store.select(n.getSelectedTeamId),this.store.select(F.h)),Object(k.a)(([e,t,i])=>this.gridService.createDashboard(Object.assign(Object.assign({},e.options),{team_id:t,name:e.options&&e.options.name?e.options.name:Object(R.X)("Dashboard",(i||[]).map(e=>e.name))})).pipe(Object(k.a)(e=>this.store.pipe(Object(p.select)(F.h),Object(T.a)(),Object(S.a)(t=>[e,t]))),Object(k.a)(([i,o])=>{const c=[],n=o=[...o,Object.assign(Object.assign({},i),{renameAtInit:!0})];return c.push(A.ab({id:i.id,navigate:!0})),c.push(A.N({teamId:t,dashboards:n})),e.options.is_time_tracking&&c.push(A.c({options:a.a,nextOptions:a.b})),Object(m.a)(c)}),Object(x.a)(this.handleError.bind(this)))))),this.copyDashboard$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.e),Object(w.a)(this.store.select(n.getSelectedTeamId)),Object(k.a)(([e,t])=>this.gridService.copyDashboard(e.id).pipe(Object(k.a)(e=>this.store.pipe(Object(p.select)(F.h),Object(T.a)(),Object(S.a)(t=>[e.dashboard,t]))),Object(k.a)(([e,i])=>{const a=[],o=i=[...i,Object.assign(Object.assign({},e),{renameAtInit:!0})];return a.push(A.ab({id:e.id,navigate:!0})),a.push(A.N({teamId:t,dashboards:o})),Object(m.a)(a)}),Object(x.a)(this.handleError.bind(this)))))),this.removeDashboard$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.y),Object(w.a)(this.store.select(n.getSelectedTeamId)),Object(k.a)(([e,t])=>this.gridService.deleteDashboard(e.id).pipe(Object(k.a)(e=>this.store.pipe(Object(p.select)(F.h),Object(T.a)())),Object(k.a)(i=>{const a=[],o=i.filter(t=>t.id!==e.id);return a.push(A.N({teamId:t,dashboards:o})),Object(m.a)(a)}),Object(x.a)(this.handleError.bind(this)))))),this.updateDashboard$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.nb),Object(k.a)(e=>{const t={name:e.item.name};return e.dontSendPrivate||(t.private=e.item.private),Object(h.a)(Object(b.a)(A.pb({item:e.item,insertIfNotExists:!1})),this.gridService.updateDashboard(e.item.id,t).pipe(Object(k.a)(t=>{const i=[];return i.push(A.pb({item:t,insertIfNotExists:!1})),e.item.name&&i.push(Object(Z.y)({dashboardId:e.item.id,name:e.item.name})),Object(m.a)(i)}),Object(x.a)(this.handleError.bind(this))))}))),this.updateDashboardState$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.pb),Object(w.a)(this.store.select(n.getSelectedTeamId),this.store.select(F.h)),Object(k.a)(([e,t,i])=>{const a=[],o=i.findIndex(t=>t.id===e.item.id);if(-1!==o){const c=[...i.slice(0,o),Object.assign(Object.assign({},i[o]),e.item),...i.slice(o+1)];a.push(A.N({teamId:t,dashboards:c}))}return Object(m.a)(a)}))),this.loadWidgets$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.v),Object(w.a)(this.store.select(F.v)),Object(k.a)(([e,t])=>this.gridService.getDashboard(t).pipe(Object(k.a)(e=>{const t=[];return t.push(A.hb({widgets:e.widget})),t.push(A.pb({item:Object.assign(Object.assign({},e),{widget:void 0}),insertIfNotExists:!1})),Object(m.a)(t)}),Object(x.a)(this.handleError.bind(this)))))),this.addWidget$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.c),Object(w.a)(this.store.select(F.v)),Object(k.a)(([e,t])=>{let i=e.options;return i&&i.view&&i.view.filters&&i.view.filters.fields&&i.view.filters.fields.find(e=>"fields"===e.field)&&(i=Object(H.a)(i),i.view.filters.fields=i.view.filters.fields.filter(e=>"fields"!==e.field)),this.gridService.createWidget(t,i).pipe(Object(k.a)(t=>{const i=[];return e.nextOptions&&i.push(A.c({options:e.nextOptions})),i.push(A.ub({item:t.widget,action:"insert"})),i.push(A.r()),Object(m.a)(i)}),Object(x.a)(this.handleError.bind(this)))}))),this.removeWidget$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.B),Object(k.a)(e=>this.gridService.deleteWidget(e.id).pipe(Object(k.a)(t=>Object(m.a)([A.ub({item:{id:e.id},action:"delete"}),A.r()])),Object(x.a)(this.handleError.bind(this)))))),this.updateWidget$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.tb),Object(w.a)(this.store.select(F.H),this.store.select(n.getTeam)),Object(j.a)(([e,t,i])=>{const a=e.item,o=[];e.reloadData&&o.push(A.fb({id:e.item.id,data:null})),o.push(A.ub({item:a,action:"update"}));const c=Object(m.a)(o),n=this.gridService.updateWidget(e.item.id,e.item).pipe(Object(k.a)(t=>{const i=[],a=Object.assign(Object.assign({},t.widget),{data_updated:t.widget.data_updated||e.item.data_updated});return i.push(A.ub({item:a,action:"update"})),e.reloadData&&i.push(A.t({item:e.item,invalidateCache:!0})),Object(m.a)(i)}),Object(x.a)(this.handleError.bind(this)));function s(e,t){return e.filter(e=>!t.some(t=>t.id===e.id)).map(e=>e.id)}if(e.item.type===L.a.Portfolio){const i=t.find(t=>t.id===e.item.id),o=i.location.filter(e=>"category"===e.type),r=a.location.filter(e=>"category"===e.type),l=i.location.filter(e=>"subcategory"===e.type),d=a.location.filter(e=>"subcategory"===e.type);return Object(h.a)(c,n,Object(b.a)(new V.A({portfolioId:i.portfolio_id,changes:{name:a.title,show_subtasks:a.include_subtasks,add_subcategories:s(d,l),rem_subcategories:s(l,d),add_categories:s(r,o),rem_categories:s(o,r)},portfolioGroupId:a.id})))}return Object(h.a)(c,n)}))),this.updateWidgetState$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.ub),Object(w.a)(this.store.select(F.H)),Object(k.a)(([e,t])=>{const i=[];switch(e.action){case"update":const a=t.findIndex(t=>t.id===e.item.id);if(-1!==a){const o=[...t.slice(0,a),Object.assign(Object.assign({},t[a]),e.item),...t.slice(a+1)];i.push(A.hb({widgets:o}))}break;case"insert":i.push(A.hb({widgets:[...t,e.item]}));break;case"delete":i.push(A.hb({widgets:t.filter(t=>t.id!==e.item.id)}))}return Object(m.a)(i)}))),this.addDashboardUser$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.b),Object(k.a)(e=>this.gridService.addDashboardMember(e.id,e.member.user.id,{permission_level:e.permission}).pipe(Object(k.a)(t=>Object(b.a)(A.ob({id:e.id,member:t.member||Object.assign(Object.assign({},e.member),{permission_level:e.permission}),userId:null,action:"insert"}))),Object(x.a)(this.handleError.bind(this)))))),this.updateDashboardUsers$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.qb),Object(k.a)(e=>this.gridService.updateDashboardMembers(e.id,{members:e.members.map(e=>({userId:e.member.user.id,permission_level:e.permission}))}).pipe(Object(k.a)(t=>Object(m.a)(e.members.map(t=>A.ob({id:e.id,member:Object.assign(Object.assign({},t.member),{permission_level:t.permission}),userId:null,action:"update"})))),Object(x.a)(this.handleError.bind(this)))))),this.removeDashboardUser$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.z),Object(j.a)(e=>this.gridService.deleteDashboardMember(e.id,e.userId).pipe(Object(k.a)(t=>Object(b.a)(A.ob({id:e.id,member:null,userId:e.userId,action:"delete"}))),Object(x.a)(this.handleError.bind(this)))))),this.removeDashboardUsers$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.A),Object(k.a)(e=>Object(m.a)(e.userIds.map(t=>A.z({id:e.id,userId:t})))))),this.updateDashboardMemberState$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.ob),Object(k.a)(e=>this.store.pipe(Object(p.select)(Object(F.c)(e.id)),Object(O.a)(1),Object(I.a)(e=>Boolean(e)),Object(S.a)(t=>[e,t]))),Object(k.a)(([e,t])=>{const i=[],a=t.members||[];let o;switch(e.action){case"update":if(e.member){const i=a.findIndex(t=>t.user.id===e.member.user.id);-1!==i?o=[...a.slice(0,i),Object.assign(Object.assign({},a[i]),e.member),...a.slice(i+1)]:t.private||(o=[...a,e.member])}break;case"insert":e.member&&(o=[...a,e.member]);break;case"delete":const i=e.member&&e.member.user.id||e.userId;o=a.filter(e=>e.user.id!==i)}return o&&i.push(A.pb({item:Object.assign(Object.assign({},t),{members:o}),insertIfNotExists:!1})),Object(m.a)(i)}))),this.getReportTasks$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.k),Object(k.a)(e=>{const{item:t,data:i}=e,{taskIds:a,userId:o,startDate:c,endDate:n,timeTracking:l,timeEstimate:d}=i,u={"task_ids[]":a};l?(u["fields[]"]="user_time_spent",u.report_start=c,u.report_end=n,u.time_spent_user=o):d&&(u["fields[]"]="totalTimeSpent");const p=new r.g({encoder:new s.a,fromObject:u});return this.reportingService.getTasksById(p).pipe(Object(k.a)(e=>Object(b.a)(A.l({id:t.id,userId:o,tasks:e.tasks||[]}))),Object(x.a)(this.handleError.bind(this)))}))),this.requestReportExport$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.G),Object(w.a)(this.store.select(n.getTeam),this.store.select(n.getStatusesAllProjects),this.store.select(n.getUser),this.store.select(n.getProjects)),Object(j.a)(([e,t,i,a,o])=>{const c=new r.g({encoder:new s.a,fromObject:Object(d.g)(i,e.item,t.id,a.week_start_day||0,e.item.include_archived,o,null,!1,!1,e.item.type===L.a.TimeEstimated||e.item.type===L.a.WhoseBehind,e.item.type===L.a.CompletedReport,e.item.id)});let n;switch(e.item.type){case L.a.CompletedReport:n=this.reportingService.getCompletedExport(c);break;case L.a.WorkedOn:n=this.reportingService.getWorkedOnExport(c);break;case L.a.TimeTracked:n=this.reportingService.getTimeTrackingExport(c);break;default:n=this.reportingService.getTimeEstimateExport(c)}return n.pipe(Object(k.a)(t=>Object(b.a)(A.F({id:e.item.id,dateCreated:t.date_added}))),Object(x.a)(t=>Object(g.a)(Object(b.a)(A.E({id:e.item.id,error:t.err})),this.handleError(t))))}))),this.getReportTaskIds$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.i),Object(w.a)(this.store.select(n.getTeam),this.store.select(n.getStatusesAllProjects),this.store.select(n.getUser),this.store.select(n.getProjects)),Object(j.a)(([e,t,i,a,o])=>{const c="-1"===e.data.userId?"unassigned":e.data.userId,n=new r.g({encoder:new s.a,fromObject:Object.assign(Object.assign({},Object(d.g)(i,e.item,t.id,a.week_start_day||0,e.item.include_archived,o,c,e.data.firstPage,!1,e.item.type===L.a.TimeEstimated||e.item.type===L.a.WhoseBehind,e.item.type===L.a.CompletedReport)),{group_by_tracker:e.item.type===L.a.TimeEstimated?"true":void 0})});let l;switch(e.item.type){case L.a.CompletedReport:l=this.reportingService.getCompletedTaskIds(c,n);break;case L.a.WorkedOn:l=this.reportingService.getWorkedOnTaskIds(c,n);break;case L.a.TimeTracked:l=this.reportingService.getTimeTrackingTaskIds(c,n);break;default:l=this.reportingService.getTimeEstimateTaskIds(c,n)}return l.pipe(Object(k.a)(t=>{const i=t.task_ids||[],a=t.tasks||[];return Object(b.a)(A.j({id:e.item.id,userId:e.data.userId,tasks:a,taskIds:i}))}),Object(x.a)(this.handleError.bind(this)))}))),this.loadWidgetReportData$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.u),Object(w.a)(this.store.select(n.getTeam),this.store.select(n.getStatusesAllProjects),this.store.select(n.getUser),this.store.select(n.getProjects)),Object(j.a)(([e,t,i,a,o])=>{const c=new r.g({encoder:new s.a,fromObject:Object.assign(Object.assign({},Object(d.g)(i,e.item,t.id,a.week_start_day||0,e.item.include_archived,o,null,!1,!1,e.item.type===L.a.TimeEstimated||e.item.type===L.a.WhoseBehind,e.item.type===L.a.CompletedReport)),{group_by_tracker:e.item.type===L.a.TimeEstimated?"true":void 0})});let n;switch(e.item.type){case L.a.CompletedReport:n=this.reportingService.getCompletedReport(c);break;case L.a.WorkedOn:n=this.reportingService.getWorkedOnReport(c);break;case L.a.WorkSpacePoints:n=this.reportingService.getTeamTable(c);break;case L.a.WhoseBehind:n=this.reportingService.getBehindTable(c);break;case L.a.TimeTracked:n=this.reportingService.getTimeTrackingReport(c);break;default:n=this.reportingService.getTimeEstimateReport(c)}return n.pipe(Object(k.a)(t=>Object(b.a)(A.Z({item:e.item,rows:e.item.type===L.a.WhoseBehind&&e.item.meta&&e.item.meta.hide_caught_up?(t.users||[]).filter(e=>e.tasks_overdue||e.uncleared_notifs):t.users||[]}))),Object(x.a)(this.handleError.bind(this)))}))),this.loadWidgetData$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.t),Object(j.a)(e=>{let t=!0;if([L.a.Description,L.a.Portfolio].includes(e.item.type))return f.a;if(Object(c.B)(e.item.type))return Object(b.a)(A.u({item:e.item}));if(e.item.type===L.a.View){const t=Object(R.vb)(Object(c.b)(e.item));if(t.viewType===G.i.Conversation||t.viewType===G.i.Embed||t.viewType===G.i.Activity)return f.a;if(t.viewType===G.i.List)return Object(m.a)([A.U({widgetId:e.item.id,tasksMap:{}}),new q.V(t,!0,!0,null,null,t.sorting||[],A.tb({item:Object.assign(Object.assign({},e.item),{group_by:{type:G.c.Status}}),reloadData:!0}),e.item.include_archived,e.item)])}return Object(h.a)(Object(b.a)(A.gb({id:e.item.id,loading:!e.hideLoading})),e.invalidateCache&&e.item.type!==L.a.TimeReporting&&e.item.type!==L.a.TimeSheet?this.gridService.getWidgetData(e.item.id,!0,!1,t&&(e.freshReq||!1)).pipe(Object(k.a)(e=>f.a)):e.item.type!==L.a.TimeReporting&&e.item.type!==L.a.TimeSheet||e.hideLoading?f.a:Object(b.a)(A.db({id:e.item.id,data:{groupOneMap:{},groupTwoMap:{}}})),Object(_.a)(()=>this.gridService.getWidgetData(e.item.id,!1,e.item.type===L.a.TimeReporting||e.item.type===L.a.TimeSheet,t&&(e.freshReq||!1))).pipe(Object(S.a)(t=>{if(!1===t.cached&&e.item.type!==L.a.TimeReporting&&e.item.type!==L.a.TimeSheet)throw t;return t}),(i=i=>(t=!1,i.pipe(Object(I.a)(e=>!1===e.cached),Object(z.a)(e=>Object(v.a)(1e3)),Object(k.a)(e=>this.store.pipe(Object(p.select)(l.m),Object(O.a)(1))),Object(I.a)(e=>e),Object(k.a)(e=>this.store.pipe(Object(p.select)(F.H),Object(O.a)(1))),Object(I.a)(t=>t&&t.some(t=>t.id===e.item.id)))),e=>e.lift(new P(i,e))),Object(k.a)(t=>{const i=[];return i.push(A.fb({id:e.item.id,data:t})),i.push(A.ub({item:{id:e.item.id,data_updated:String(t.data_updated)},action:"update"})),i.push(A.gb({id:e.item.id,loading:!1})),Object(m.a)(i)}),Object(x.a)(t=>Object(m.a)([A.gb({id:e.item.id,loading:!1}),this.handleError(t)]))));var i}))),this.reloadAllDashboardWidgets$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.w),Object(w.a)(this.store.select(F.H),this.store.select(F.F)),Object(j.a)(([e,t,i])=>{const a=[];return t&&t.forEach(e=>{e.type===L.a.Portfolio&&a.push(new V.s({portfolioGroupId:e.id})),a.push(A.t({item:e,invalidateCache:!0}))}),Object(m.a)(a)}))),this.toggleTimeReportGroup$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.lb),Object(w.a)(this.store.select(F.u)),Object(j.a)(([e,t])=>{const i=[];let a=t[e.data.widgetId];if(a){const o=!e.data.row.expanded;if(e.data.inGroupOne){const i=Object.assign(Object.assign({},a.groupOneMap),{[e.data.row.id]:Object.assign(Object.assign({},a.groupOneMap[e.data.row.id]),{expanded:o,loading:o})});a=Object.assign(Object.assign({},t[e.data.widgetId]),{groupOneMap:i})}else{const i=Object.assign(Object.assign({},a.groupTwoMap),{[e.data.row.id||e.data.row.groupOneId]:Object.assign(Object.assign({},a.groupTwoMap[e.data.row.id||e.data.row.groupOneId]),{expanded:o,loading:o})});a=Object.assign(Object.assign({},t[e.data.widgetId]),{groupTwoMap:i})}i.push(A.db({id:e.data.widgetId,data:a})),o&&i.push(e.data.inGroupOne&&e.data.groupByTwo?A.g({data:e.data}):A.h({data:e.data}))}return Object(m.a)(i)}))),this.fetchTimeReportGroupEntries$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.h),Object(w.a)(this.store.select(n.getTeam),this.store.select(F.u)),Object(j.a)(([e,t,i])=>{let a={};return e.data.inGroupOne||e.data.row.groupOneId?(a=Object(c.r)(e.data.groupByOne,e.data.inGroupOne?e.data.row.id:e.data.row.groupOneId,{}),e.data.inGroupOne||(a=Object(c.r)(e.data.groupByTwo,e.data.row.id===e.data.row.groupOneId?null:e.data.row.id,a))):(a.user_id=e.data.row.user.id,a.task_id="null"),this.gridService.getTimeReportGroupEntries(t.id,e.data.widgetId,a).pipe(Object(j.a)(({data:t})=>{const a=[];a.push(Object(o.C)({entries:t}));const c=Object(Y.a)((t||[]).map(e=>e.tags||[]));c.length&&a.push(Object(o.w)({tags:c}));let n=i[e.data.widgetId];if(n){if(e.data.inGroupOne){const a=Object.assign(Object.assign({},n.groupOneMap),{[e.data.row.id]:Object.assign(Object.assign({},n.groupOneMap[e.data.row.id]),{entryIds:t.map(e=>e.id),loading:!1})});n=Object.assign(Object.assign({},i[e.data.widgetId]),{groupOneMap:a})}else{const a=Object.assign(Object.assign({},n.groupTwoMap),{[e.data.row.id||e.data.row.groupOneId]:Object.assign(Object.assign({},n.groupTwoMap[e.data.row.id||e.data.row.groupOneId]),{entryIds:t.map(e=>e.id),loading:!1})});n=Object.assign(Object.assign({},i[e.data.widgetId]),{groupTwoMap:a})}a.push(A.db({id:e.data.widgetId,data:n}))}return Object(m.a)(a)}),Object(x.a)(this.handleError.bind(this)))}))),this.fetchTimeReportGroup$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.g),Object(w.a)(this.store.select(n.getTeam),this.store.select(F.u)),Object(j.a)(([e,t,i])=>{const a=Object(c.r)(e.data.groupByOne,e.data.row.id,{},!1);return a.group=e.data.row.id?e.data.groupByTwo:c.H.user,this.gridService.getTimeReportGroups(t.id,e.data.widgetId,a).pipe(Object(j.a)(({data:t})=>{const a=[];let o=i[e.data.widgetId];if(o&&e.data.inGroupOne){const c=Object.assign(Object.assign({},o.groupOneMap),{[e.data.row.id]:Object.assign(Object.assign({},o.groupOneMap[e.data.row.id]),{timeReportingRows:t,loading:!1})});o=Object.assign(Object.assign({},i[e.data.widgetId]),{groupOneMap:c}),a.push(A.db({id:e.data.widgetId,data:o}))}return Object(m.a)(a)}),Object(x.a)(this.handleError.bind(this)))}))),this.loadDashboardFavorites$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.m),Object(w.a)(this.store.select(n.getSelectedTeamId)),Object(k.a)(([e,t])=>this.gridService.getDashboardFavorites(t).pipe(Object(k.a)(e=>{const t=[];return e&&e.dashboards&&t.push(A.T({ids:e.dashboards.map(e=>e.id)})),Object(m.a)(t)}),Object(x.a)(this.handleError.bind(this)))))),this.loadDashboardSidebarOption$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.n),Object(w.a)(this.store.select(F.f)),Object(k.a)(([e,t])=>{let i=parseInt(localStorage.getItem("dashboard-sidebar-width"),10)||t.width||0;return i<N.c?i=N.a:i>N.b&&(i=N.b),Object(b.a)(A.M(Object.assign(Object.assign({},t),{isCollapsed:!localStorage.getItem("dashboard-sidebar-collapsed")||"1"===localStorage.getItem("dashboard-sidebar-collapsed"),width:i})))}))),this.setDashboardSidebarOption$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.M),Object(k.a)(()=>{const e=[];return e.push(A.I()),Object(m.a)(e)}))),this.saveDashboardSidebarOption$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.I),Object(w.a)(this.store.select(F.f)),Object(M.a)(500),Object(E.a)(([e,t])=>{localStorage.setItem("dashboard-sidebar-collapsed",t.isCollapsed?"1":"0"),localStorage.setItem("dashboard-sidebar-width",String(t.width))})),{dispatch:!1}),this.toggleDashboardSidebarCollapsedOption$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.ib),Object(w.a)(this.store.select(F.f)),Object(k.a)(([e,t])=>{const i=!t.isCollapsed;return Object(b.a)(A.M(Object.assign(Object.assign({},t),{isCollapsed:i})))}))),this.resizeDashboardSidebar$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.H),Object(w.a)(this.store.select(F.f)),Object(k.a)(([e,t])=>{let i=e.width||t.width,a=t.isCollapsed;return i<=N.c?(i=N.c,a=!0):(a=!1,i>=N.b&&(i=N.b)),Object(b.a)(A.M(Object.assign(Object.assign({},t),{width:i,isCollapsed:a})))}))),this.setDashboardFavoritePosition$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.K),Object(w.a)(this.store.select(F.l)),Object(k.a)(([e,t])=>{const i=[...t],a=t.findIndex(t=>t===e.id);return Object(B.g)(i,a,e.pos),Object(h.a)(Object(b.a)(A.T({ids:i})),this.gridService.updateDashboardFavoritePosition(e.id,e.pos).pipe(Object(k.a)(e=>Object(b.a)(A.m())),Object(x.a)(this.handleError.bind(this))))}))),this.setDashboardPosition$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.L),Object(w.a)(this.store.select(n.getTeam),this.store.select(F.h)),Object(k.a)(([e,t,i])=>{const a=[...i],o=i.findIndex(t=>t.id===e.id);return Object(B.g)(a,o,e.pos),Object(h.a)(Object(b.a)(A.N({teamId:t.id,dashboards:a})),this.gridService.updateDashboardPosition(e.id,e.groupPos).pipe(Object(k.a)(e=>Object(b.a)(A.o({tag:"position"}))),Object(x.a)(this.handleError.bind(this))))}))),this.dropDashboard$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.f),Object(w.a)(this.store.select(F.h),this.store.select(F.q),this.store.select(F.w)),Object(k.a)(([e,t,i,a])=>{const o="my"===e.group?[...i]:[...a],c=e.pos>0?o[e.pos-1]:null,n=c?t.findIndex(e=>e.id===c.id)+1:0;return Object(b.a)(A.L({id:e.id,pos:n,groupPos:e.pos}))}))),this.loadNextPage$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.p),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.z)(e.id)),Object(O.a)(1)),this.store.pipe(Object(p.select)(Object(F.y)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t,i])=>{const a=t.length,o=i.slice(a,a+20),c=[];return o.length>0&&(c.push(A.W({id:e.id,loading:!0})),c.push(A.x({ids:o,widgetId:e.id}))),Object(m.a)(c)}))),this.loadNextPageIfNotLoading$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.q),Object(w.a)(this.store.select(F.s)),Object(I.a)(([e,t])=>!t[e.id]),Object(k.a)(([e])=>Object(b.a)(A.p({id:e.id}))))),this.reloadTasksByIds$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.x),Object(w.a)(this.store.select(n.getTeam)),Object(j.a)(([e,t])=>e.ids&&e.ids.length?this.dataService.getTasksByIds(e.ids,!0,this.taskService.getTaskFields(!1,!1,!0,!1,!1,t.time_in_status),{show_closed_subtasks:!1}).pipe(Object(x.a)(this.handleError.bind(this)),Object(I.a)(e=>e&&e.length>0),Object(k.a)(t=>{const i=[];return i.push(A.vb({widgetId:e.widgetId,tasks:t})),i.push(A.W({id:e.widgetId,loading:!1})),Object(m.a)(i)})):f.a))),this.updateWidgetTasks$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.vb),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.z)(e.widgetId)),Object(O.a)(1)),this.store.pipe(Object(p.select)(Object(F.o)(e.widgetId)),Object(O.a)(1)),this.store.pipe(Object(p.select)(Object(F.p)(e.widgetId)),Object(O.a)(1))])),Object(k.a)(([e,t,i,a])=>{const o=[],c=[...t,...e.tasks],{groupTasksMap:n}=Object(W.f)(a,i,{},c,{},20);return o.push(A.U({widgetId:e.widgetId,tasksMap:n})),Object(m.a)(o)}))),this.updateDataView$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.rb),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.C)(e.id)),Object(O.a)(1)),this.store.select(X.c)])),Object(k.a)(([e,t,i])=>{const a=[];return a.push(A.tb({item:Object.assign(Object.assign({},t),{view:Object(R.D)(Object.assign(Object.assign({},Object(R.vb)(t.view)),e.view),i)}),reloadData:e.reloadData})),Object(m.a)(a)}))),this.setDataViewFields$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.R),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.B)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a=Object(R.zb)(t,e.fields);return i.push(A.rb({id:e.id,view:a})),Object(m.a)(i)}))),this.setDataViewSorting$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.S),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.B)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a=Object(R.Ab)(t,e.sorting,e.ignoreGrouping);return i.push(A.rb({id:e.id,view:a,reloadData:!0})),Object(m.a)(i)}))),this.reorderDataViewSorting$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.C),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.B)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a={sorting:e.newOrder.map(e=>t.sorting.find(t=>t.field===e))};return i.push(A.rb({id:e.id,view:a,reloadData:!0})),Object(m.a)(i)}))),this.clearDataViewColSort$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.d),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.B)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a=t.sorting||[],o=a.filter(t=>t.field!==e.field);return o.length!==a.length&&i.push(A.S({id:e.id,sorting:o})),Object(m.a)(i)}))),this.toggleDataViewColSort$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.jb),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.B)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a=Object(R.Cb)(t,e.field,e.ignoreGrouping,e.onlyField);return i.push(A.S({id:e.id,sorting:a})),Object(m.a)(i)}))),this.setDataViewColWidth$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.Q),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.a)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a=t.map(t=>e.field.name===t.name?Object.assign(Object.assign({},t),{width:e.width}):t);return i.push(A.R({id:e.id,fields:a})),Object(m.a)(i)}))),this.setDataViewColState$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.P),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.a)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a=t.map(t=>e.field.name===t.name?Object.assign(Object.assign({},t),{state:e.state}):t);return i.push(A.R({id:e.id,fields:a})),Object(m.a)(i)}))),this.setDataViewColCalc$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.O),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.a)(e.id)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[],a=t.map(t=>e.field.name===t.name?Object.assign(Object.assign({},t),{calc:e.calc}):t);return i.push(A.R({id:e.id,fields:a})),Object(m.a)(i)}))),this.calcDivisions$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(q.g),Object(k.a)(e=>Object(y.a)([Object(b.a)(e),this.store.pipe(Object(p.select)(Object(F.D)(e.viewId)),Object(O.a)(1))])),Object(k.a)(([e,t])=>{const i=[];return t&&i.push(A.vb({widgetId:t.id,tasks:[]})),Object(m.a)(i)}))),this.updateTasksMap$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.sb),Object(w.a)(this.store.select(F.A)),Object(k.a)(([e,t])=>{const i=[];let a=t;return Object.keys(t).forEach(i=>{Object.keys(t[i]).forEach(o=>{e.tasks.forEach(e=>{const c=(t[i][o]||[]).findIndex(t=>t.id===e.id);-1!==c&&(a===t&&(a=Object.assign({},t)),a[i]===t[i]&&(a[i]=Object.assign({},t[i])),a[i][o]===t[i][o]&&(a[i][o]=[...t[i][o]]),a[i][o][c]=Object.assign(Object.assign({},a[i][o][c]),e))})})}),i.push(A.cb({tasksMap:a})),Object(m.a)(i)}))),this.loadWidgetContentHistory$=Object(u.c)(()=>this.action$.pipe(Object(u.d)(A.s),Object(j.a)(e=>e.item.type!==L.a.Description?f.a:this.gridService.getWidgetContentHistory(e.item.id).pipe(Object(S.a)(t=>A.eb({id:e.item.id,data:t}))))))}handleError(e){return["DASHB_001","DASHB_003"].includes(e.ECODE)?Object(b.a)(A.X({overPaywall:!0})):f.a}}return e.\u0275fac=function(t){return new(t||e)(Q.nc(u.a),Q.nc(p.Store),Q.nc(K.a),Q.nc(J.a),Q.nc(ee.a),Q.nc(te.a))},e.\u0275prov=Q.Sb({token:e,factory:e.\u0275fac}),e})()},vw2Z:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a=i("ofXK"),o=i("yZn2"),c=i("K0KF"),n=i("y71m"),s=i("obfd"),r=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=r.Ub({type:e}),e.\u0275inj=r.Tb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,c.a,n.a,s.a]]}),e})()},wA7i:function(e,t,i){"use strict";i.d(t,"a",function(){return Pe}),i("y5jv");var a=i("dTHz"),o=i("Hgwy"),c=i("c3rA"),n=i("4zIx"),s=i("fXoL"),r=i("l7P3"),l=i("lJxs"),d=i("1G5W"),u=i("IzEk"),p=i("pLZG"),m=i("zp1y"),h=i("SxV6"),b=i("2Vo4"),g=i("itXk"),f=(i("Yx0S"),i("FbC1")),_=i("rpco"),v=i("AeD3"),y=i("Jf2N"),w=i("jJW4"),k=i("8it8"),x=i("DkPU"),T=i("ofXK"),S=i("3Pt+"),j=i("8r6i");function O(e,t){if(1&e&&(s.cc(0,"div",28),s.cc(1,"div",29),s.Xb(2,"div",30),s.bc(),s.cc(3,"div",31),s.dd(4),s.bc(),s.bc()),2&e){const e=s.uc();s.Ib(4),s.ed(e.nameError)}}function I(e,t){if(1&e&&(s.ac(0),s.cc(1,"div",32),s.Xb(2,"cu-paywall-popover",33),s.bc(),s.Zb()),2&e){const e=s.uc();s.Ib(2),s.Dc("badge","")("title",e.paywallCommonStringsService.freePlanSpacesLimitationText)("image","./assets/images/components/paywall-popover/personal-view.png")("upgradeButtonText",e.paywallCommonStringsService.upgradeToUnlimitedText)("learnMore","https://docs.clickup.com/en/articles/3315031-limits-on-spaces-and-lists")("amplitudeLabel","Unlimited Spaces")}}const D=function(e){return{"cu-hidden":e}},C=function(e){return{"cu-form__row_error":e}},P=function(){return{standalone:!0}};let $=(()=>{class e{constructor(e,t,i,a,o){this.dataService=e,this.modalService=t,this.sharedData=i,this.commonStringsService=a,this.paywallCommonStringsService=o,this.nameError="",this.entityTitle="",this.hidePaywall=!0}get entityNamePlaceholder(){return $localize`:@@forms_placeholder--enter-entity-name:Enter ${this.entityTitle}:entityTitle: name`}ngOnInit(){switch(this.options=this.optionsComponent.getOptions(),this.options.name=this.master.name+" (copy)",this.type){case"space":this.entityTitle=$localize`:@@common_space:Space`;break;case"project":this.entityTitle=$localize`:@@common_folder:Folder`;break;case"list":this.entityTitle=$localize`:@@common_list:List`}}create(){if(this.master)if(""===this.options.name.trim())this.nameError=this.commonStringsService.nameIsRequiredText;else{const e={name:this.options.name,old_due_date:this.options.dueDate,old_assignees:this.options.assignees,old_subtask_assignees:this.options.assignees,old_followers:this.options.followers,old_tags:this.options.tags,old_statuses:this.options.statuses,old_status:this.options.oldStatus,attachments:this.options.attachment,comment_attachments:this.options.commentAttachment,subtasks:this.options.subtask,old_checklists:this.options.checklists,recur_settings:this.options.recurring,return_immediately:!0,custom_fields:this.options.customFields,internal_dependencies:this.options.dependencies,external_dependencies:this.options.dependencies,time_estimate:this.options.timeEstimate,include_views:this.options.includeViews,archived:this.options.archived,automation:this.options.automation};let t;this.sharedData.addToastItem({title:$localize`:@@cu-copy-record__toast-title_copying-entity:Copying ${this.entityTitle}:entityTitle:... this can take a few minutes`,bold:!0,forced:!0}),e.team_id=this.team.id,t=this.dataService.copyProject(this.master.id,e),t.subscribe(e=>{this.cancel()},e=>{this.sharedData.toastItems=[],"PROJ_069"===e.ECODE||"CAT_040"===e.ECODE||"SUBCAT_030"===e.ECODE||"TSKTEMP_009"===e.ECODE?this.nameError=e.err:_.c.includes(e.ECODE)&&(this.hidePaywall=!1)})}}clearNameError(){this.nameError=""}cancel(){this.modalService.close()}changeArchived(e){this.options.archived=e}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(v.a),s.Wb(y.a),s.Wb(w.a),s.Wb(k.a),s.Wb(x.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["copy-record"]],viewQuery:function(e,t){if(1&e&&s.jd(f.a,3),2&e){let e;s.Qc(e=s.rc())&&(t.optionsComponent=e.first)}},inputs:{section:"section",category:"category",project:"project",team:"team",master:"master",type:"type"},decls:36,vars:19,consts:function(){let e,t,i,a,o,c,n,s,r;return e=$localize`:@@common_entity-title-name␟cd20e403aa9015e0d2db80208ef438ac339040d4␟8257873195605751335: ${"\ufffd0\ufffd"}:INTERPOLATION: Name `,t=$localize`:@@common_import-options␟462924975123f5803b5c12a623d05938c65eccb6␟2892083361154494671: Import Options `,i=$localize`:@@questions_include-archived-tasks␟86bbdcba2b39e877b12b49ae88d5c2ff319bc99b␟8739912877505422180: Do you want to include archived tasks? `,a=$localize`:@@common_nope␟7488fe8c4b3cdcf68d0a4b1ce7535659876ac279␟9180270056759913657: Nope `,o=$localize`:@@forms_label--load-archived-tasks-yes␟45e8a98545ab6f30b6028a4336af83b24c2599a6␟1720211760465089994: Yes, but make them unarchived `,c=$localize`:@@forms_label--load-archived-tasks-yes-keep-archived␟ca1d288dea7dc95ef85b3c942eaa428cc8456edf␟5518110099498768168: Yes (keep them archived) `,n=$localize`:@@cu-copy-record__copy-entity-title␟e49fabd2f5c43b7cecaeb021258a19e2a29cd219␟2016676462403113182:${"\ufffd#34\ufffd"}:START_TAG_DIV:Copy ${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#34\ufffd"}:CLOSE_TAG_DIV:`,s=$localize`:@@paywall_text--unlimited-spaces␟5b9b9474e4ff71a8464fe758d6163bdcf480a460␟7286715062472759007:Upgrade to get unlimited Spaces, storage, and custom fields`,r=$localize`:@@paywall_email-subject--unlimited-spaces␟d0e69bd70e57401bc4e06cefa1302141c5648824␟5048868255729084754:Please upgrade ClickUp so we can have unlimited spaces`,[[1,"cu-form","template","create-template",3,"ngClass"],[1,"cu-form__row","template__input-block",3,"ngClass"],[1,"cu-form__label","template__title"],e,[1,"cu-form__field"],["type","text",1,"cu-form__input","template__input",3,"placeholder","value","ngModel","ngModelOptions","ngModelChange"],["class","cu-form__error",4,"ngIf"],[1,"template__options-block","template__options-block_no-margin"],[1,"template__options-title"],t,[3,"mode"],["optionsComponent",""],[1,"category-copy__options-block","category-copy__options-block_no-border-top"],[1,"category-copy__options-title"],i,[1,"category-copy__options-header","category-copy__options-header_no-bottom-section"],[1,"cu-radio"],[1,"cu-form__label-radio"],["type","radio",1,"cu-radio__input",3,"checked","click"],[1,"cu-radio__label","category-copy_radio-label"],a,o,c,[1,"template__button-block"],[1,"cu-btn",3,"click"],n,[1,"cu-btn__text"],[4,"ngIf"],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],[1,"template__options-overlimit"],["text",s,"emailSubject",r,3,"badge","title","image","upgradeButtonText","learnMore","amplitudeLabel"]]},template:function(e,t){1&e&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"div",2),s.gc(3,3),s.bc(),s.cc(4,"div",4),s.cc(5,"input",5),s.qc("ngModelChange",function(e){return t.options.name=e})("ngModelChange",function(){return t.clearNameError()}),s.bc(),s.bc(),s.bd(6,O,5,1,"div",6),s.bc(),s.cc(7,"div",7),s.cc(8,"div",8),s.gc(9,9),s.bc(),s.Xb(10,"template-options",10,11),s.bc(),s.cc(12,"div",12),s.cc(13,"div",13),s.gc(14,14),s.bc(),s.cc(15,"div",15),s.cc(16,"div",16),s.cc(17,"label",17),s.cc(18,"input",18),s.qc("click",function(){return t.changeArchived(0)}),s.bc(),s.cc(19,"div",19),s.gc(20,20),s.bc(),s.bc(),s.bc(),s.cc(21,"div",16),s.cc(22,"label",17),s.cc(23,"input",18),s.qc("click",function(){return t.changeArchived(null)}),s.bc(),s.cc(24,"div",19),s.gc(25,21),s.bc(),s.bc(),s.bc(),s.cc(26,"div",16),s.cc(27,"label",17),s.cc(28,"input",18),s.qc("click",function(){return t.changeArchived(1)}),s.bc(),s.cc(29,"div",19),s.gc(30,22),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(31,"div",23),s.cc(32,"button",24),s.qc("click",function(){return t.create()}),s.mc(33,25),s.Xb(34,"div",26),s.jc(),s.bc(),s.bc(),s.bc(),s.bd(35,I,3,6,"ng-container",27)),2&e&&(s.Dc("ngClass",s.Hc(14,D,!t.hidePaywall)),s.Ib(1),s.Dc("ngClass",s.Hc(16,C,t.nameError)),s.Ib(2),s.kc(t.entityTitle),s.hc(3),s.Ib(2),s.Dc("placeholder",t.entityNamePlaceholder)("value",t.options.name)("ngModel",t.options.name)("ngModelOptions",s.Gc(18,P)),s.Ib(1),s.Dc("ngIf",t.nameError),s.Ib(4),s.Dc("mode",t.type),s.Ib(8),s.Dc("checked",0===t.options.archived),s.Ib(5),s.Dc("checked",null===t.options.archived),s.Ib(5),s.Dc("checked",1==t.options.archived),s.Ib(6),s.kc(t.entityTitle),s.hc(33),s.Ib(1),s.Dc("ngIf",!t.hidePaywall))},directives:[T.o,S.c,S.p,S.s,T.q,f.a,j.a],encapsulation:2}),e})();var z=i("VFna"),M=i("o7Ov"),E=i("9jGm");let L=(()=>{class e{constructor(e,t,i){this.modal=e,this.store=t,this.actions=i,this.saving$=this.store.select(c.getUpdateProjectState)}ngOnInit(){this.actions.pipe(Object(E.d)(M.Tl),Object(d.a)(this.modal.closeModal)).subscribe(()=>{this.close()})}confirm(){this.store.dispatch(new M.ym({id:this.project.id,data:{id:this.project.id},leaveSpace:!0}))}close(){this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(y.a),s.Wb(r.Store),s.Wb(E.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["cu-project-confirm-leave"]],inputs:{project:"project"},decls:19,vars:4,consts:function(){let e,t,i,a;return e=$localize`:@@cu-project-confirm-leave__question_leave-space␟9661ab28c06cdae5d29a8e5d42664720a32c02cc␟1452116891217693820: Are you sure you want to leave ${"\ufffd#4\ufffd"}:START_BOLD_TEXT:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#4\ufffd"}:CLOSE_BOLD_TEXT:? `,t=$localize`:@@cu-project-confirm-leave__warning-msg_leave-space␟0c60f9f95ec40226b99f159a37df33a5b59a2a99␟6440730059210949846:${"\ufffd#7\ufffd"}:START_BOLD_TEXT:Warning:${"\ufffd/#7\ufffd"}:CLOSE_BOLD_TEXT: You won't be able to see this Space again. You can't undo this. `,i=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,a=$localize`:@@common_leave-space␟b0d65c145edc5a025e482826d82dc52ef3a89f60␟4712811063517949869:Leave Space`,[[1,"cu-conflict-management"],[1,"cu-conflict-management__warning-img"],[1,"cu-conflict-management__warning","cu-conflict-management__warning_black"],e,[1,"cu-conflict-management__highlighted"],[1,"cu-conflict-management__proceed"],t,[1,"move-category__footer"],[1,"cu-btn","cu-conflict-management__cancel",3,"click"],i,[1,"cu-btn","cu-btn_red","cu-btn_spinner",3,"disabled","click"],[1,"cu-btn__text"],a,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"]]},template:function(e,t){if(1&e&&(s.cc(0,"div",0),s.Xb(1,"div",1),s.cc(2,"div",2),s.mc(3,3),s.Xb(4,"b",4),s.jc(),s.bc(),s.cc(5,"div",5),s.mc(6,6),s.Xb(7,"b",4),s.jc(),s.bc(),s.cc(8,"div",7),s.cc(9,"button",8),s.qc("click",function(){return t.close()}),s.gc(10,9),s.bc(),s.cc(11,"button",10),s.qc("click",function(){return t.confirm()}),s.vc(12,"async"),s.cc(13,"div",11),s.gc(14,12),s.bc(),s.cc(15,"div",13),s.Xb(16,"div",14),s.Xb(17,"div",15),s.Xb(18,"div",16),s.bc(),s.bc(),s.bc(),s.bc()),2&e){let e=null;s.Ib(4),s.kc(t.project.name),s.hc(3),s.Ib(7),s.Dc("disabled",null==(e=s.wc(12,2,t.saving$))?null:e.updating)}},pipes:[T.b],encapsulation:2,changeDetection:0}),e})();var A=i("+2Ly"),F=i("Injh"),U=i("A2Mv"),N=i("uslN"),R=i("MguC"),G=i("7G3y"),q=i("PBBv"),B=i("0mFS"),W=i("bV87"),V=i("xog/"),X=i("Tm/s"),H=i("LdyQ"),Y=i("NsZK"),Z=i("MJvn"),Q=i("n+1/"),K=i("NQa4"),J=i("UdVN"),ee=i("ZICD"),te=i("zYZY"),ie=i("NV0y");const ae=["menu"],oe=["editProjectModal"];function ce(e,t){if(1&e){const e=s.dc();s.cc(0,"cu-avatar-picker",31),s.qc("colorChange",function(t){return s.Uc(e),s.uc(2).changeColor(t)})("iconChange",function(t){return s.Uc(e),s.uc(2).changeIcon(t)})("previewUrlChange",function(t){return s.Uc(e),s.uc(2).changeAvatar(t)}),s.bc()}if(2&e){const e=s.uc(2);s.Dc("avatarExists",!(null==e.project||!e.project.avatar))("forDropdown",!1)("allowIcons",!0)("modifier","nav-menu__avatar-picker")("selectedColor",null==e.project?null:e.project.color)("selectedIcon",null==e.project?null:e.project.avatar_value)("name",null==e.project?null:e.project.name)}}function ne(e,t){if(1&e){const e=s.dc();s.cc(0,"a",32),s.qc("click",function(){return s.Uc(e),s.uc(2).showEditModal()}),s.Xb(1,"div",33),s.cc(2,"div",15),s.gc(3,34),s.bc(),s.bc()}}function se(e,t){if(1&e){const e=s.dc();s.cc(0,"a",35),s.qc("click",function(){return s.Uc(e),s.uc(2).reorder()}),s.Xb(1,"div",36),s.cc(2,"div",15),s.gc(3,37),s.bc(),s.bc()}}function re(e,t){if(1&e){const e=s.dc();s.cc(0,"a",38),s.qc("click",function(){return s.Uc(e),s.uc(2).copyProject()}),s.Xb(1,"div",39),s.cc(2,"div",15),s.gc(3,40),s.bc(),s.bc()}}function le(e,t){if(1&e){const e=s.dc();s.cc(0,"a",48),s.qc("click",function(){return s.Uc(e),s.uc(3).saveProjectAsTemplate()}),s.Xb(1,"div",49),s.cc(2,"div",15),s.gc(3,50),s.bc(),s.bc()}}function de(e,t){if(1&e){const e=s.dc();s.cc(0,"a",48),s.qc("click",function(){return s.Uc(e),s.uc(3).updateExistingTemplate()}),s.Xb(1,"div",51),s.cc(2,"div",15),s.gc(3,52),s.bc(),s.bc()}}function ue(e,t){if(1&e){const e=s.dc();s.cc(0,"div"),s.cc(1,"div",41),s.gc(2,42),s.bc(),s.cc(3,"a",43),s.qc("click",function(){s.Uc(e);const t=s.uc(2);return t.openTemplateManager("space",t.project,!1)}),s.Xb(4,"div",44),s.cc(5,"div",15),s.gc(6,45),s.bc(),s.bc(),s.Xb(7,"div",46),s.bd(8,le,4,0,"a",47),s.vc(9,"async"),s.vc(10,"async"),s.bd(11,de,4,0,"a",47),s.vc(12,"async"),s.vc(13,"async"),s.bc()}if(2&e){const e=s.uc(2);let t=null,i=null;s.Ib(8),s.Dc("ngIf",(null==(t=s.wc(9,2,e.team$))?null:t.role)<3||(null==e.project.owner?null:e.project.owner.id)===(null==(t=s.wc(10,4,e.user$))?null:t.id)),s.Ib(3),s.Dc("ngIf",(null==(i=s.wc(12,6,e.team$))?null:i.role)<3||(null==e.project.owner?null:e.project.owner.id)===(null==(i=s.wc(13,8,e.user$))?null:i.id))}}function pe(e,t){if(1&e){const e=s.dc();s.cc(0,"a",53),s.qc("click",function(){return s.Uc(e),s.uc(2).openCustomTaskIdModal()}),s.Xb(1,"div",54),s.cc(2,"div",15),s.gc(3,55),s.bc(),s.bc()}}function me(e,t){if(1&e){const e=s.dc();s.cc(0,"a",53),s.qc("click",function(){return s.Uc(e),s.uc(2).showEditCustomFields()}),s.Xb(1,"div",56),s.cc(2,"div",15),s.gc(3,57),s.bc(),s.bc()}}function he(e,t){if(1&e){const e=s.dc();s.cc(0,"a",58),s.qc("click",function(){return s.Uc(e),s.uc(2).leaveSpace()}),s.Xb(1,"div",59),s.cc(2,"div",15),s.gc(3,60),s.bc(),s.bc()}}function be(e,t){1&e&&(s.ac(0),s.gc(1,64),s.Zb())}function ge(e,t){1&e&&(s.ac(0),s.gc(1,65),s.Zb())}function fe(e,t){if(1&e){const e=s.dc();s.cc(0,"a",61),s.qc("click",function(){return s.Uc(e),s.uc(2).archive()}),s.Xb(1,"div",62),s.cc(2,"div",15),s.bd(3,be,2,0,"ng-container",24),s.bd(4,ge,2,0,"ng-template",null,63,s.cd),s.bc(),s.bc()}if(2&e){const e=s.Rc(5),t=s.uc(2);s.Ib(3),s.Dc("ngIf",t.project.archived)("ngIfElse",e)}}function _e(e,t){1&e&&(s.ac(0),s.gc(1,66),s.Zb())}function ve(e,t){1&e&&(s.ac(0),s.gc(1,67),s.Zb())}function ye(e,t){if(1&e){const e=s.dc();s.cc(0,"a",68),s.qc("click",function(){return s.Uc(e),s.uc(2).remove()}),s.Xb(1,"div",69),s.cc(2,"div",15),s.gc(3,70),s.bc(),s.bc()}}const we=function(){return["right-top"]};function ke(e,t){if(1&e&&s.Xb(0,"cu-automation-entity-count",71),2&e){const e=s.uc(2);s.Dc("count",null==e.project?null:e.project.automation_count)("parentId",null==e.project?null:e.project.id)("parentType",e.DataViewParentType.Project)("location",null)("isMenuItemToggle",!0)("dropdownPlacement",s.Gc(6,we))}}function xe(e,t){if(1&e){const e=s.dc();s.cc(0,"a",72),s.qc("click",function(){return s.Uc(e),s.uc(2).addFavorite()}),s.Xb(1,"div",73),s.cc(2,"div",15),s.gc(3,74),s.bc(),s.bc()}}function Te(e,t){if(1&e){const e=s.dc();s.cc(0,"a",75),s.qc("click",function(){s.Uc(e);const i=t.ngIf;return s.uc(2).removeFavorite(i.id)}),s.Xb(1,"div",73),s.cc(2,"div",15),s.gc(3,76),s.bc(),s.bc()}}function Se(e,t){if(1&e){const e=s.dc();s.cc(0,"a",77),s.qc("click",function(){s.Uc(e);const t=s.uc(2);return t.showEditModal(t.EditProjectStage.Visibility,!1)}),s.Xb(1,"div",78),s.cc(2,"div",15),s.gc(3,79),s.bc(),s.bc()}}const je=function(){return{"min-width":"175px"}},Oe=function(){return["right"]};function Ie(e,t){if(1&e){const e=s.dc();s.cc(0,"div",5),s.bd(1,ce,1,7,"cu-avatar-picker",6),s.vc(2,"async"),s.vc(3,"async"),s.cc(4,"div",7),s.gc(5,8),s.bc(),s.bd(6,ne,4,0,"a",9),s.vc(7,"async"),s.vc(8,"async"),s.vc(9,"async"),s.bd(10,se,4,0,"a",10),s.vc(11,"async"),s.vc(12,"async"),s.bd(13,re,4,0,"a",11),s.vc(14,"async"),s.vc(15,"async"),s.cc(16,"div",12),s.qc("dropdownClose",function(){return s.Uc(e),s.uc().closeMenu()}),s.cc(17,"div",2),s.cc(18,"a",13),s.Xb(19,"div",14),s.cc(20,"div",15),s.gc(21,16),s.bc(),s.Xb(22,"div",17),s.bc(),s.bc(),s.bd(23,ue,14,10,"div",18),s.bc(),s.bd(24,pe,4,0,"a",19),s.vc(25,"async"),s.vc(26,"async"),s.vc(27,"async"),s.vc(28,"async"),s.vc(29,"async"),s.bd(30,me,4,0,"a",19),s.bd(31,he,4,0,"a",20),s.bd(32,fe,6,2,"a",21),s.vc(33,"async"),s.vc(34,"async"),s.cc(35,"a",22),s.qc("click",function(){return s.Uc(e),s.uc().hide()}),s.Xb(36,"div",23),s.cc(37,"div",15),s.bd(38,_e,2,0,"ng-container",24),s.bd(39,ve,2,0,"ng-template",null,25,s.cd),s.bc(),s.bc(),s.bd(41,ye,4,0,"a",26),s.vc(42,"async"),s.vc(43,"async"),s.vc(44,"async"),s.bd(45,ke,1,7,"cu-automation-entity-count",27),s.vc(46,"async"),s.bd(47,xe,4,0,"a",28),s.vc(48,"async"),s.bd(49,Te,4,0,"a",29),s.vc(50,"async"),s.bd(51,Se,4,0,"a",30),s.vc(52,"async"),s.vc(53,"async"),s.vc(54,"async"),s.bc()}if(2&e){const e=s.Rc(40),t=s.uc();let i=null,a=null,o=null,c=null,n=null,r=null,l=null,d=null;s.Ib(1),s.Dc("ngIf",(null==t.project.owner?null:t.project.owner.id)===(null==(i=s.wc(2,20,t.user$))?null:i.id)||(null==(i=s.wc(3,22,t.sharedData.compatCurrentTeam$))?null:i.role)<=t.UserRole.ADMIN),s.Ib(3),s.Dc("ngStyle",s.Gc(70,je)),s.Ib(2),s.Dc("ngIf",s.wc(7,24,t.team$)&&((null==(a=s.wc(8,26,t.team$))?null:a.role)<3||(null==t.project||null==t.project.owner?null:t.project.owner.id)===(null==(a=s.wc(9,28,t.user$))?null:a.id))),s.Ib(4),s.Dc("ngIf",(null==(o=s.wc(11,30,t.team$))?null:o.role)<3||(null==t.project.owner?null:t.project.owner.id)===(null==(o=s.wc(12,32,t.user$))?null:o.id)),s.Ib(3),s.Dc("ngIf",(null==(c=s.wc(14,34,t.team$))?null:c.role)<3||(null==t.project.owner?null:t.project.owner.id)===(null==(c=s.wc(15,36,t.user$))?null:c.id)),s.Ib(3),s.Dc("dropdownCloseOnInsideClick",!0)("dropdownCloseOnModal",!0)("dropdownPlacement",s.Gc(71,Oe)),s.Ib(6),s.Dc("icon","cu2-angle-right"),s.Ib(2),s.Dc("ngIf",s.wc(25,38,t.team$)&&((null==(n=s.wc(26,40,t.team$))?null:n.role)<3||(null==t.project||null==t.project.owner?null:t.project.owner.id)===(null==(n=s.wc(27,42,t.user$))?null:n.id))&&((null==(n=s.wc(28,44,t.team$))?null:n.plan_id)===t.TeamPlan.BUSINESS||(null==(n=s.wc(29,46,t.team$))?null:n.plan_id)===t.TeamPlan.ENTERPRISE)),s.Ib(6),s.Dc("ngIf",null==t.project||null==t.project.features||null==t.project.features.custom_fields?null:t.project.features.custom_fields.enabled),s.Ib(1),s.Dc("ngIf",(null==t.project?null:t.project.private)&&(null==t.project||null==t.project.members?null:t.project.members.length)>1&&!(null!=t.project&&t.project.archived)),s.Ib(1),s.Dc("ngIf",(null==(r=s.wc(33,48,t.team$))?null:r.role)<3||(null==t.project.owner?null:t.project.owner.id)===(null==(r=s.wc(34,50,t.user$))?null:r.id)),s.Ib(6),s.Dc("ngIf",t.project.hidden)("ngIfElse",e),s.Ib(3),s.Dc("ngIf",s.wc(42,52,t.canDelete$)&&((null==(l=s.wc(43,54,t.team$))?null:l.role)<3||(null==t.project.owner?null:t.project.owner.id)===(null==(l=s.wc(44,56,t.user$))?null:l.id))),s.Ib(4),s.Dc("ngIf",(null==t.project||null==t.project.permissions?null:t.project.permissions.can_add_automation)&&!s.wc(46,58,t.isGuest$)),s.Ib(2),s.Dc("ngIf",!s.wc(48,60,t.favorite$)),s.Ib(2),s.Dc("ngIf",s.wc(50,62,t.favorite$)),s.Ib(2),s.Dc("ngIf",s.wc(52,64,t.team$)&&((null==(d=s.wc(53,66,t.team$))?null:d.role)<3||(null==t.project||null==t.project.owner?null:t.project.owner.id)===(null==(d=s.wc(54,68,t.user$))?null:d.id)))}}function De(e,t){if(1&e){const e=s.dc();s.cc(0,"cu-create-project-modal",80),s.qc("onCancel",function(){return s.Uc(e),s.uc().closeModal()}),s.vc(1,"async"),s.bc()}if(2&e){const e=s.uc();s.Dc("editAll",e.stage===e.EditProjectStage.Name)("team",s.wc(1,5,e.team$))("saveStatuses",e.saveStatuses)("project",e.project)("currentStage",e.stage)}}const Ce=["*"];let Pe=(()=>{class e{constructor(e,t,i,n,d,u,p){this.store=e,this.helpers=t,this.modalService=i,this.injector=n,this.cdr=d,this.sharedData=u,this.navService=p,this.dropdownRepositionFlag=!0,this.showCreateFolderList=!1,this.onCreateFolderless=new s.o,this.dropdownOpen=new s.o,this.onToggleHide=new s.o,this.dropdownClose=new s.o,this.saveStatuses=!0,this.team$=this.store.select(c.getTeam),this.user$=this.store.select(c.getUser),this.DataViewParentType=R.e,this.isGuest$=this.store.select(c.isGuestTeam),this.canDelete$=this.store.pipe(Object(r.select)(c.getUserEnterprisePermissions),Object(l.a)(e=>!e||e.delete_items===o.b.ON||e.delete_items===o.b.CREATE)),this.project$=new b.a(null),this.favorite$=Object(g.a)([this.project$,this.store.select(q.h)]).pipe(Object(l.a)(([e,t])=>e&&t.find(t=>t.project&&t.project===e.id))),this.UserRole=a.f,this.LayoutVersion=a.b,this.stage=F.a.Name,this.EditProjectStage=F.a,this.TeamPlan=N.f}ngOnInit(){}ngOnChanges(e){e.project&&this.project$.next(this.project)}changeColor(e){this.updateCurrentProject({color:e,avatar:null,unset_avatar:!0}),this.closeMenu()}changeIcon({source:e,value:t}){this.updateCurrentProject({avatar:null,avatar_source:e,avatar_value:t,unset_avatar:!0}),this.closeMenu()}changeAvatar(e){e?this.updateCurrentProject({avatar:e},this.helpers.dataURItoBlob(e)):this.updateCurrentProject({avatar:null,unset_avatar:!0}),this.closeMenu()}reposition(){setTimeout(()=>{this.dropdownRepositionFlag=!this.dropdownRepositionFlag},300)}createNewFolder(){const e=this.modalService.openComponent(n.a,this.injector,{name:"forceCreateCategory",cannotClose:!1,preventExternalClick:!0,modifier:"cu-modal__create-new-space",dialogModifier:"cu-modal__dialog-space",bodyModifier:"cu-modal__body_no-min-height"});e.instance.projectId=this.project.id,e.instance.projectForNewFolderTeamplate=this.project,e.instance.onCreateNew.pipe(Object(d.a)(e.instance.destroy$)).subscribe(e=>{this.addCategory(e)})}addCategory(e){this.modalService.close()}createNewFolderlessList(){this.onCreateFolderless.emit(),this.closeMenu()}showEditModal(e=F.a.Name,t=!0){this.stage=e,this.saveStatuses=t,this.cdr.detectChanges(),this.modalService.open({name:"create-project",modifier:"cu-modal__create-new-space",content:this.editProjectModal,bodyModifier:"cu-modal__body_no-min-height"}),this.closeMenu()}closeModal(){this.modalService.close()}showEditCustomFields(){const e={id:this.project.id,name:this.project.name,type:"project"};this.modalService.openComponent(A.a,this.injector,A.a.getModalOptions(e)).instance.setEntity(e),this.closeMenu()}openCustomTaskIdModal(){this.modalService.openComponent(U.a,this.injector).instance.project=this.project}saveProjectAsTemplate(){Object(g.a)([this.user$,this.store.pipe(Object(r.select)(c.getMembers),Object(l.a)(e=>e.map(e=>e.user)))]).pipe(Object(u.a)(1)).subscribe(([e,t])=>{this.store.dispatch(new M.Oe({open:!0,parent:this.project,parentType:W.d.Space,initialType:W.d.Space,itemToSave:this.project}))})}openTemplateManager(e,t,i=!0){this.store.dispatch(new M.Oe({open:!0,parent:t,parentType:W.d.Space,initialType:W.d.FolderAndList}))}copyProject(){this.team$.pipe(Object(u.a)(1)).subscribe(e=>{const t=this.modalService.openComponent($,this.injector,{title:$localize`:@@cu-project-menu__title_copy-space:Copy Space`,modifier:"template-modal"});t.instance.team=e,t.instance.master=this.project,t.instance.type="space",this.closeMenu()})}reorder(){this.store.dispatch(new M.tg({projectId:this.project.id})),this.closeMenu()}archive(){this.project.archived?(this.store.dispatch(new M.ym({id:this.project.id,data:{archived:!1}})),this.closeMenu()):this.modalService.openComponent(z.a,this.injector,{title:$localize`:@@common_archive-space:Archive Space`}).instance.project=this.project}hide(){this.store.dispatch(new M.ym({id:this.project.id,data:{hidden:!this.project.hidden}})),this.onToggleHide.emit({project:this.project,data:{hidden:!this.project.hidden}}),this.closeMenu()}remove(){this.store.dispatch(new M.kg(this.project.id,this.project.name)),this.store.select(c.getRemoveProjectState).pipe(Object(p.a)(e=>!e.removing),Object(m.a)(this.store.select(c.getProjects),this.store.select(c.getProject),this.team$),Object(h.a)()).subscribe(([,e,t,i])=>{e.length?t&&this.project.id!==t.id||this.store.dispatch(new B.d({path:["/",i.id,"v","s",e[0].id]})):this.store.dispatch(new B.d({path:["/"]}))})}leaveSpace(){this.modalService.openComponent(L,this.injector,{title:$localize`:@@common_leave-space:Leave Space`}).instance.project=this.project}open(){this.menu.open()}addFavorite(){this.store.dispatch(Object(G.d)({project:this.project}))}removeFavorite(e){this.store.dispatch(Object(G.r)({favoriteId:e})),this.menu.close()}closeMenu(){this.menu.close()}updateExistingTemplate(){this.store.dispatch(new M.Oe({open:!0,parent:this.project,parentType:W.d.Space,initialType:W.d.Space,itemToSave:this.project,updateExisting:!0}))}updateCurrentProject(e,t){this.store.dispatch(new M.ym({id:this.project.id,data:e,avatar:t}))}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(r.Store),s.Wb(V.b),s.Wb(y.a),s.Wb(s.t),s.Wb(s.h),s.Wb(w.a),s.Wb(X.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["cu-project-menu"]],viewQuery:function(e,t){if(1&e&&(s.jd(ae,1),s.jd(oe,1)),2&e){let e;s.Qc(e=s.rc())&&(t.menu=e.first),s.Qc(e=s.rc())&&(t.editProjectModal=e.first)}},inputs:{project:"project",showCreateFolderList:"showCreateFolderList",dropdownHost:"dropdownHost"},outputs:{onCreateFolderless:"onCreateFolderless",dropdownOpen:"dropdownOpen",onToggleHide:"onToggleHide",dropdownClose:"dropdownClose"},features:[s.Gb],ngContentSelectors:Ce,decls:7,vars:5,consts:function(){let e,t,i,a,o,c,n,s,r,l,d,u,p,m,h,b,g,f,_,v,y;return e=$localize`:@@common_space-settings␟bb43f620ad327604263283438ef3284dc702ec62␟2919704605471913190:Space settings`,t=$localize`:@@common_space-settings␟5358058f8326be804bd1703f8554d78f3527f5ee␟4481899660618232184: Space settings `,i=$localize`:@@common_template-center␟950a4ddc3fbf589172662b40e78d90b428fbb981␟5803305007358011525: Template Center `,a=$localize`:@@common_space-settings␟a9bdf3e73379c29c3aed13d1618022c79702018a␟5732767208823019534: Space settings `,o=$localize`:@@cu-project-menu__reorder-folder-list-a-z␟6dbbaa1622f1d34e845d41ca6f48c72acf41e6db␟8887866583570468333: Reorder Folder & Lists A-Z `,c=$localize`:@@common_duplicate␟6311004001228073b829d6ab8dbfa8450289a1bd␟6621329748219109148:Duplicate`,n=$localize`:@@common_template-center␟d85aaa6476c40b242e8d948f7d58119be4e3d407␟728474737530321257: Template Center `,s=$localize`:@@common_browse-templates␟65d6f0db31c91c555e126d045f7678fa0e9a3896␟667776727773374202: Browse Templates `,r=$localize`:@@common_save-as-template␟b6d69a5406fcbde4472a857ccc5624d43ad293a9␟2140517655502665282: Save as Template `,l=$localize`:@@common_update-existing-template␟6e9ecb021c0ea4531d3241ba1f9cf590bde7004d␟7963616411168926558: Update existing Template `,d=$localize`:@@common_customize-task-id␟338a7fcf3f8a761223761f297557dab650f9b465␟3698356436668639800: Customize Task ID `,u=$localize`:@@common_custom-fields␟139d0d25b11f24c343efeec862edc651aed8284b␟3462667146666252819: Custom Fields `,p=$localize`:@@common_leave-space␟5363ce7383f4385be74909f6341a9262bb621060␟725665782233796754: Leave Space `,m=$localize`:@@common_unarchive␟9dc54f68a4f9128e0bcd407661bcd9d47e2b6bbc␟1121513541518618634:Unarchive`,h=$localize`:@@common_archive␟22c9be90eb27c5c613348fbb621792223afe5d1b␟1055686627716339120:Archive`,b=$localize`:@@common_unhide-space␟2a9c17ebacd45df0db7262a3c3adfb677d796180␟9135679231262372874:Unhide Space`,g=$localize`:@@common_hide-space␟36cd9d5973ac5824f4b14caf5ad67767e612e043␟3128756811087412877:Hide Space`,f=$localize`:@@common_delete␟826b25211922a1b46436589233cb6f1a163d89b7␟7022070615528435141:Delete`,_=$localize`:@@common_add-to-favorites␟c1820eca108a882755cbb6ef114694c25a0fdc0d␟8201756671271468486: Add to Favorites `,v=$localize`:@@common_remove-from-favorites␟33f0c27eda23ffc9e44f81f7ca4a66ad0ab61187␟7846474526050214200: Remove from Favorites `,y=$localize`:@@common_sharing-and-permissions␟d7ec7c50f1def56234199e880db82c32f24cfc18␟9041970360475726252: Sharing & Permissions `,[["cuDropdown","","cuTooltip",e,1,"nav-menu",3,"dropdownCloseOnInsideClick","dropdownDestroyMenuOnClose","dropdownCloseOnModal","dropdownHostElement","dropdownRepositionFlag","dropdownOpen","dropdownClose"],["menu","dropdown"],["cuDropdownToggle",""],["class","nav-menu__controls",4,"cuDropdownMenu"],["editProjectModal",""],[1,"nav-menu__controls"],[3,"avatarExists","forDropdown","allowIcons","modifier","selectedColor","selectedIcon","name","colorChange","iconChange","previewUrlChange",4,"ngIf"],[1,"nav-menu-item__title",3,"ngStyle"],t,["class","nav-menu-item nav-menu-item__space-settings","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item__reorder","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item__copy","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownPlacement","dropdownClose"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__templates"],["icon","cu2-magic",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],[1,"nav-menu-item__name"],i,[1,"cu-dropdown-list-item__submenu",3,"icon"],[4,"cuDropdownMenu"],["class","nav-menu-item nav-menu-item__custom-fields","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item__leave-space","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item__archive","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__hide-unhide",3,"click"],["icon","cu2-eye-slash-2",1,"nav-menu-item__icon","nav-menu-item__icon_eye"],[4,"ngIf","ngIfElse"],["hideSpaceTmpl",""],["class","nav-menu-item nav-menu-item__remove","cuLink","","draggable","false",3,"click",4,"ngIf"],[3,"count","parentId","parentType","location","isMenuItemToggle","dropdownPlacement",4,"ngIf"],["class","nav-menu-item nav-menu-item__add-to-favorites","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item_share","cuLink","","draggable","false",3,"click",4,"ngIf"],[3,"avatarExists","forDropdown","allowIcons","modifier","selectedColor","selectedIcon","name","colorChange","iconChange","previewUrlChange"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__space-settings",3,"click"],["icon","settings",1,"nav-menu-item__icon","nav-menu-item__icon_settings"],a,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__reorder",3,"click"],["icon","cu2-menu-sort",1,"nav-menu-item__icon","nav-menu-item__icon_reorder"],o,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__copy",3,"click"],["icon","copy",1,"nav-menu-item__icon","nav-menu-item__icon_copy"],c,[1,"nav-menu-item__title"],n,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__templates",3,"click"],["icon","template-center",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],s,[1,"nav-menu-item__separator","nav-menu-item__separator-margins"],["class","nav-menu-item nav-menu-item__save-as-template","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__save-as-template",3,"click"],["icon","cu2-save2",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],r,["icon","cu2-refresh",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],l,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__custom-fields",3,"click"],["icon","custom-task-id",1,"nav-menu-item__icon","nav-menu-item__icon_custom-fields"],d,["icon","edit-custom-fields",1,"nav-menu-item__icon","nav-menu-item__icon_custom-fields"],u,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__leave-space",3,"click"],["icon","cu2-circle-slash",1,"nav-menu-item__icon","nav-menu-item__icon_remove"],p,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__archive",3,"click"],["icon","archive2",1,"nav-menu-item__icon","nav-menu-item__icon_archive"],["notArchived",""],m,h,b,g,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__remove",3,"click"],["icon","remove",1,"nav-menu-item__icon","nav-menu-item__icon_remove"],f,[3,"count","parentId","parentType","location","isMenuItemToggle","dropdownPlacement"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__add-to-favorites",3,"click"],["icon","cu2-star2",1,"nav-menu-item__icon","nav-menu-item__icon_favorites"],_,["cuLink","","draggable","false",1,"nav-menu-item",3,"click"],v,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item_share",3,"click"],["icon","share",1,"nav-menu-item__icon","nav-menu-item__icon_share"],y,[3,"editAll","team","saveStatuses","project","currentStage","onCancel"]]},template:function(e,t){1&e&&(s.Cc(),s.cc(0,"div",0,1),s.qc("dropdownOpen",function(){return t.dropdownOpen.emit(),t.reposition()})("dropdownClose",function(){return t.dropdownClose.emit()}),s.cc(2,"div",2),s.Bc(3),s.bc(),s.bd(4,Ie,55,72,"div",3),s.bc(),s.bd(5,De,2,7,"ng-template",null,4,s.cd)),2&e&&s.Dc("dropdownCloseOnInsideClick",!1)("dropdownDestroyMenuOnClose",!1)("dropdownCloseOnModal",!0)("dropdownHostElement",t.dropdownHost)("dropdownRepositionFlag",t.dropdownRepositionFlag)},directives:[H.b,Y.a,Z.a,Q.a,T.q,T.t,K.a,J.a,ee.a,te.a,ie.a],pipes:[T.b],encapsulation:2,changeDetection:0}),e})()},xWkZ:function(e,t,i){"use strict";i.d(t,"a",function(){return z});var a=i("5+WD"),o=i("ofXK"),c=i("tyNb"),n=i("O2qC"),s=i("VqQW"),r=i("6yZh"),l=i("TyuJ"),d=i("an+h"),u=i("7A2k"),p=i("UDEt"),m=i("mcWp"),h=i("1M0N"),b=i("K0KF"),g=i("4xwl"),f=i("Si/9"),_=i("fTg4"),v=i("C8uC"),y=i("bx+h"),w=i("FpDt"),k=i("tGh3"),x=i("gb9A"),T=i("KyjD"),S=i("xaCb"),j=i("JjR3"),O=i("S1QS"),I=i("HEHP"),D=i("/n4K"),C=i("GtmI"),P=i("Ox28"),$=i("fXoL");let z=(()=>{class e{}return e.\u0275mod=$.Ub({type:e}),e.\u0275inj=$.Tb({factory:function(t){return new(t||e)},imports:[[o.c,O.b,P.b,v.LoaderModule,a.f,b.a,d.a,r.a,T.a,C.a,h.a,p.a,x.a,m.a,y.a,_.a,D.a,w.a,k.a,n.a,c.l,f.a,j.a,S.a,l.a,u.a,I.a,g.a,s.a]]}),e})()},xZYg:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("fXoL");const o=["cu-dropdown_right","cu-dropdown_left","cu-dropdown-center","cu-dropdown_top"];let c=(()=>{class e{constructor(e,t){this.element=e,this.renderer=t,this.autoClose=!0,this.noOverlay=!1,this.noClick=!1,this.fixedDirection=null,this.modifier=null,this.onOpen=new a.o,this.onClose=new a.o,this.isOpenValue=!1,this.activeCSSClass=this.modifier?"cu-dropdown_open "+this.modifier:"cu-dropdown_open"}set toggleElement(e){this.toggleElementValue=e}open(e){if(!this.isOpenValue){this.isOpenValue=!0,this.overlay=document.createElement("div"),this.overlay.setAttribute("id","overlay");const t=this.element.nativeElement.getBoundingClientRect(),i=document.getElementById("sidebar"),a=document.body.clientWidth,o=document.body.clientHeight-67;i&&t.left-i.clientWidth<150&&(this.element.nativeElement.classList.remove("cu-dropdown_left"),this.element.nativeElement.classList.remove("cu-dropdown_center"),this.element.nativeElement.classList.add("cu-dropdown_right")),a-t.right<150&&(this.element.nativeElement.classList.remove("cu-dropdown_right"),this.element.nativeElement.classList.remove("cu-dropdown_center"),this.element.nativeElement.classList.add("cu-dropdown_left")),o-t.top<220&&"bottom"!==this.fixedDirection&&this.element.nativeElement.classList.add("cu-dropdown_top"),this.element.nativeElement.classList.add(this.activeCSSClass),document.getElementById("overlay")||this.noOverlay||this.element.nativeElement.appendChild(this.overlay),this.onOpen.emit(),this.noClick||this._setCloseListener(e),this.searchInput&&this.searchInput.focus()}}close(){this.isOpenValue&&(this.isOpenValue=!1,this.removeAllDropdownClasses(),this.removeOverlay(),this.closeListener&&this.closeListener(),this.onClose.emit())}closeHard(){this.isOpenValue&&(this.isOpenValue=!1,this.removeAllDropdownClasses(),this.removeOverlay(),this.onClose.emit())}removeOverlay(){document.getElementById("overlay")&&this.overlay&&this.overlay.remove(),this.overlay=null}toggle(){this.isOpenValue?this.close():this.open()}isOpen(){return this.isOpenValue}removeAllDropdownClasses(){this.element.nativeElement.classList.remove(this.activeCSSClass),o.forEach(e=>{e!==this.modifier&&this.element.nativeElement.classList.remove(e)})}_setCloseListener(e){if(e)this.closeListener=this.renderer.listen("document","click",e=>{(this.autoClose||!this.autoClose&&(this._isOutsideClick(e)||this._isOverlayClick(e)))&&this.close()});else{const e=this.renderer.listen("document","click",()=>{this.closeListener=this.renderer.listen("document","click",e=>{(this.autoClose||!this.autoClose&&(this._isOutsideClick(e)||this._isOverlayClick(e))&&!this.ignoreClassClick(e))&&this.close()}),e()})}}ignoreClassClick(e){return!(!this.ignoreClass||!e.target)&&e.target.className===this.ignoreClass}_isOutsideClick(e){return!this.element.nativeElement.contains(e.target)}_isOverlayClick(e){return"overlay"===e.target.id}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.m),a.Wb(a.H))},e.\u0275dir=a.Rb({type:e,selectors:[["","cuLegacyDropdown",""]],hostBindings:function(e,t){1&e&&a.qc("keyup.esc",function(){return t.close()},!1,a.Sc)},inputs:{autoClose:"autoClose",noOverlay:"noOverlay",noClick:"noClick",searchInput:"searchInput",ignoreClass:"ignoreClass",container:"container",fixedDirection:"fixedDirection",modifier:"modifier"},outputs:{onOpen:"onOpen",onClose:"onClose"},exportAs:["cu-dropdown"]}),e})()},xaCb:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var a=i("ofXK"),o=i("1M0N"),c=i("K0KF"),n=i("mcWp"),s=i("4xwl"),r=i("C8uC"),l=i("yZn2"),d=i("y71m"),u=i("gb9A"),p=i("EDFS"),m=i("vw2Z"),h=i("5+WD"),b=i("fXoL");let g=(()=>{class e{}return e.\u0275mod=b.Ub({type:e}),e.\u0275inj=b.Tb({factory:function(t){return new(t||e)},imports:[[a.c,l.a,s.a,r.LoaderModule,c.a,n.a,p.d,o.a,d.a,u.a,m.a,h.f]]}),e})(),f=(()=>{class e{}return e.\u0275mod=b.Ub({type:e}),e.\u0275inj=b.Tb({factory:function(t){return new(t||e)},imports:[[a.c,g,c.a,o.a]]}),e})()},y83z:function(e,t,i){"use strict";i.d(t,"P",function(){return O}),i.d(t,"M",function(){return I}),i.d(t,"H",function(){return D}),i.d(t,"E",function(){return C}),i.d(t,"G",function(){return P}),i.d(t,"F",function(){return $}),i.d(t,"S",function(){return M}),i.d(t,"J",function(){return E}),i.d(t,"l",function(){return L}),i.d(t,"r",function(){return A}),i.d(t,"h",function(){return F}),i.d(t,"p",function(){return U}),i.d(t,"d",function(){return N}),i.d(t,"j",function(){return G}),i.d(t,"i",function(){return q}),i.d(t,"e",function(){return X}),i.d(t,"n",function(){return H}),i.d(t,"m",function(){return Y}),i.d(t,"o",function(){return Z}),i.d(t,"O",function(){return Q}),i.d(t,"c",function(){return K}),i.d(t,"ab",function(){return J}),i.d(t,"Z",function(){return ee}),i.d(t,"cb",function(){return te}),i.d(t,"bb",function(){return ie}),i.d(t,"k",function(){return ae}),i.d(t,"Y",function(){return oe}),i.d(t,"b",function(){return ce}),i.d(t,"X",function(){return se}),i.d(t,"g",function(){return le}),i.d(t,"L",function(){return ue}),i.d(t,"q",function(){return pe}),i.d(t,"U",function(){return me}),i.d(t,"V",function(){return he}),i.d(t,"W",function(){return be}),i.d(t,"a",function(){return ge}),i.d(t,"T",function(){return fe}),i.d(t,"v",function(){return _e}),i.d(t,"u",function(){return ve}),i.d(t,"D",function(){return ye}),i.d(t,"w",function(){return we}),i.d(t,"A",function(){return xe}),i.d(t,"s",function(){return Te}),i.d(t,"x",function(){return Se}),i.d(t,"y",function(){return Oe}),i.d(t,"z",function(){return Ie}),i.d(t,"t",function(){return De}),i.d(t,"C",function(){return Ce}),i.d(t,"B",function(){return Pe}),i.d(t,"R",function(){return $e}),i.d(t,"f",function(){return ze}),i.d(t,"N",function(){return Me}),i.d(t,"Q",function(){return Ee}),i.d(t,"I",function(){return Le}),i.d(t,"K",function(){return Ae});var a=i("l7P3"),o=i("f0Wu"),c=i("zVpF"),n=i("r5Jv"),s=i("c3rA"),r=i("4F4K"),l=i("IlGD"),d=i("MguC"),u=i("XIp8"),p=i("BeL+"),m=i("G8aS"),h=function(e,t,i){for(var a=-1,o=e.length;++a<o;){var c=e[a],n=t(c);if(null!=n&&(void 0===s?n==n&&!Object(m.a)(n):i(n,s)))var s=n,r=c}return r},b=function(e,t){return e<t},g=i("+Xah"),f=function(e,t){return e>t},_=function(e){return e&&e.length?h(e,g.a,f):void 0},v=i("uslN"),y=i("kRoH"),w=i("DmVh"),k=i("qr2t"),x=i("YwDF"),T=i("wa4x"),S=i("GkwO");const j=Object(a.createFeatureSelector)("timelineView"),O=Object(a.createSelector)(j,e=>e.viewDate),I=Object(a.createSelector)(O,e=>o(e).toDate()),D=Object(a.createSelector)(j,e=>e.sidebarAssigneeFilter&&"user"===e.sidebarAssigneeFilter.type?e.sidebarAssigneeFilter.id:void 0),C=Object(a.createSelector)(s.getTeamUsers,D,(e,t)=>e.find(e=>e.id===t)),P=Object(a.createSelector)(j,e=>e.sidebarAssigneeFilter&&"group"===e.sidebarAssigneeFilter.type?e.sidebarAssigneeFilter.id:void 0),$=Object(a.createSelector)(T.c,P,(e,t)=>e.find(e=>e.id===t)),z=Object(a.createSelector)(j,e=>e.groupBy),M=Object(a.createSelector)(S.qb,e=>{if(e){if(e.timelineSettings)return e.timelineSettings;if(e.workloadSettings)return Object.assign(Object.assign({},e.workloadSettings),{expandedGroups:e.workloadSettings.expandedGroups||[]})}}),E=Object(a.createSelector)(S.qb,s.getProject,(e,t)=>{if(e&&e.workloadSettings)return e.workloadSettings.globalWorkload&&e.grouping.field===d.c.Assignee&&!!t}),L=Object(a.createSelector)(S.qb,e=>{if(e&&e.timelineSettings)return e.timelineSettings.scale||"month"}),A=Object(a.createSelector)(S.qb,e=>e&&e.timelineSettings&&e.timelineSettings.showNamesOutsideOfTask||!1),F=Object(a.createSelector)(S.qb,e=>{if(e){if(e.timelineSettings)return e.timelineSettings.hideEmptyGroups;if(e.workloadSettings)return!e.workloadSettings.showEmptyGroups}}),U=Object(a.createSelector)(M,e=>{if(e)return!e.disableSendNotifications}),N=Object(a.createSelector)(S.qb,e=>{if(e&&e.timelineSettings)return e.timelineSettings.columnSize||"medium"}),R=Object(a.createSelector)(M,e=>{if(e)return e.showWeekends}),G=Object(a.createSelector)(S.qb,e=>e&&e.viewType===d.i.Workload),q=Object(a.createSelector)(S.qb,e=>e&&e.viewType===d.i.Timeline),B=Object(a.createSelector)(j,e=>e.viewData),W=Object(a.createSelector)(S.qb,e=>e&&e.id),V=Object(a.createSelector)(S.qb,e=>e&&e.viewType),X=Object(a.createSelector)(S.qb,e=>{if(e&&e.workloadSettings)return e.workloadSettings.displayWeeks||1}),H=Object(a.createSelector)(W,V,B,O,L,N,X,(e,t,i,a,c,n,s)=>t===d.i.Timeline?`timeline-${e}-${c}-${n}`:`workload-${e}-${o(a).startOf("week").toISOString()}-${s}`),Y=Object(a.createSelector)(B,H,(e,t)=>e[t]),Z=Object(a.createSelector)(Y,e=>e&&e.loadedDateRange),Q=Object(a.createSelector)(I,s.getUser,R,G,Z,X,(e,t,i,a,n,s)=>{const r=t&&t.week_start_day?t.week_start_day:0,l=Object(y.m)(c.a,o(e).startOf("week").toDate(),r,i?void 0:[0,6],s*(i?7:5));return a?{start:l.viewStart,end:l.viewEnd}:n?{start:new Date(n.start),end:new Date(n.end)}:{start:o(l.viewStart).subtract(30,"days").toDate(),end:o(l.viewEnd).add(30,"days").toDate()}}),K=Object(a.createSelector)(S.fb,e=>{if(e)return e.filter(e=>l.e[e.type].hasColors&&e.type===x.a.Dropdown&&e.type_config.options.some(e=>!!e.color))}),J=Object(a.createSelector)(S.fb,e=>{if(e)return e.filter(e=>Object(x.d)(e,[x.a.Number]))}),ee=Object(a.createSelector)(J,S.qb,(e,t)=>{if(e&&t&&t.workloadSettings)return e.find(e=>e.id===t.workloadSettings.capacity.customFieldId)}),te=Object(a.createSelector)(s.getTeam,S.qb,(e,t)=>{if(t)return e.plan_id!==v.f.ENTERPRISE&&t.grouping.field!==d.c.Assignee}),ie=Object(a.createSelector)(S.qb,s.getTeam,te,(e,t,i)=>{if(e&&e.workloadSettings&&e.viewType===d.i.Workload)return!i}),ae=e=>Object(a.createSelector)(s.getProject,s.getAllProjects,(t,i)=>t?t.features&&t.features[e]&&t.features[e].enabled:i.some(t=>t.features&&t.features[e]&&t.features[e].enabled)),oe=Object(a.createSelector)(S.qb,ee,ie,ae("time_estimates"),ae("points"),ae("custom_fields"),(e,t,i,a,o,c)=>{if(e&&e.workloadSettings){if(!i)return"tasks";const n=e.workloadSettings.capacity.type;return"time_estimate"===n&&!a||!("custom_field"!==n||c&&t)||"points"===n&&!o?"tasks":n}}),ce=Object(a.createSelector)(oe,ee,(e,t)=>"custom_field"===e?"cf_"+t.id:e),ne=Object(a.createSelector)(j,e=>e.capacity),se=Object(a.createSelector)(ne,ce,(e,t)=>{if(e){const i=Object(u.a)(e);return Object.entries(i).forEach(([e,a])=>{a[t]||(i[e]=Object.assign(Object.assign({},a),{[t]:{weekly:null,0:null,1:null,2:null,3:null,4:null,5:null,6:null,type:"weekly"}}))}),i}}),re=Object(a.createSelector)(S.qb,e=>e&&e.grouping.collapsed||[]),le=Object(a.createSelector)(z,S.fb,(e,t)=>{if(e&&t&&e.startsWith("cf_"))return t.find(t=>"cf_"+t.id===e)}),de=Object(a.createSelector)(z,S.cb,F,re,le,(e,t,i,a,o)=>({groupBy:e,teamSidebar:t,hideEmptyGroups:i,collapsedGroups:a,groupByCustomField:o})),ue=Object(a.createSelector)(Y,r.g,r.i,O,se,ie,M,de,(e,t,i,a,c,n,s,{groupBy:r,teamSidebar:l,hideEmptyGroups:u,collapsedGroups:p,groupByCustomField:m})=>{function h(e){if(i[e.id]){const t=Object.assign({},i[e.id]);return delete t.assignees,delete t.status,delete t.priority,Object.assign(Object.assign({},e),t)}return e}if(e){const i=Object.fromEntries(e.recurringGroups.map(i=>{const a=i.task_ids.map(e=>t[e]).filter(Boolean).map(h),o=Object(k.j)(a,{start:new Date(e.loadedDateRange.start),end:new Date(e.loadedDateRange.end)},s.showRecurringTasks);return[i.id,o]})),a=e.groups.filter(t=>{const a=t.task_ids.length>0||!u||i[t.id]&&i[t.id].length>0;return r===d.c.Assignee?a||Array.isArray(t.data)&&0===t.data.length||l&&l.userIds&&l.userIds.length>0&&l.userIds.map(String).includes(String(t.data[0].id)):(!m||m.type!==x.a.Date||"done"!==t.id)&&(a||1===e.groups.length&&"0"===e.groups[0].id)}).map(e=>{const a=e.id||"";return Object.assign(Object.assign({},e),{collapsed:s&&s.expandedGroups?!s.expandedGroups.includes(a):p.map(String).includes(String(a)),tasks:e.task_ids.map(e=>t[e]).filter(Boolean).map(h),tasksOutsideView:e.task_ids_outside_view?e.task_ids_outside_view.map(e=>t[e]).filter(Boolean).filter(e=>Object(w.a)(e)):void 0,recurringTasks:i[e.id]||[],capacity:n&&r===d.c.Assignee&&Array.isArray(e.data)&&e.data.length>0?c[e.data[0].id]:null})});if(m&&m.type===x.a.Date){const t=a.find(e=>"-1"===e.id),i=a.find(e=>"0"===e.id),c=a.find(e=>"+1"===e.id);return Object.assign(Object.assign({},e),{groups:[t,i,c?Object.assign(Object.assign({},c),{data:Object.assign(Object.assign({},c.data),{label:o(c.data.drop_value).format("dddd")})}):null,...a.filter(e=>e!==t&&e!==i&&e!==c)].filter(Boolean)})}if(!u){const t=a.filter(e=>0===e.task_ids.length&&(!i[e.id]||0===i[e.id].length)),o=a.filter(e=>e.task_ids.length>0||i[e.id]&&i[e.id].length>0);return Object.assign(Object.assign({},e),{groups:[...o,...t]})}return Object.assign(Object.assign({},e),{groups:a})}}),pe=Object(a.createSelector)(j,ue,S.qb,(e,t,i)=>e.showLoading||!t||!i),me=Object(a.createSelector)(ue,e=>e?e.groups.map(e=>e.task_ids).flat():[]),he=Object(a.createSelector)(me,r.g,(e,t)=>e.map(e=>t[e]).filter(Boolean)),be=Object(a.createSelector)(ue,z,(e,t)=>e&&e.groups&&t===d.c.Assignee?e.groups.filter(e=>Array.isArray(e.data)&&e.data.length>0).map(e=>e.data[0].id):[]),ge=Object(a.createSelector)(ue,S.qb,G,(e,t,i)=>{if(e&&t)return e.groups.every(e=>{if(i){const i=e.id||"";return!t.workloadSettings.expandedGroups||!t.workloadSettings.expandedGroups.map(String).includes(String(i))}return t.grouping.collapsed.map(String).includes(String(e.id))})}),fe=Object(a.createSelector)(ue,e=>{if(e)return Object(p.a)(e.groups.map(e=>e.tasks.map(e=>e.subcategory.id)).flat())}),_e=Object(a.createSelector)(j,e=>e.sidebarData),ve=Object(a.createSelector)(_e,ce,(e,t)=>{const i={unscheduled:0,overdue:0,noEffort:0};return e.overdue&&(i.overdue=e.overdue.taskIds.length),e.unscheduled&&(i.unscheduled=e.unscheduled.taskIds.length),e[t]&&(i.noEffort=e[t].taskIds.length),i}),ye=Object(a.createSelector)(j,e=>e.sidebarTaskType),we=Object(a.createSelector)(ye,ce,(e,t)=>"no-effort"===e?"tasks"===t?"unscheduled":t:e),ke=Object(a.createSelector)(_e,we,r.g,(e,t,i)=>{if(e[t])return e[t].taskIds.slice(0,e[t].pageCursor).map(e=>i[e]).filter(Boolean)}),xe=Object(a.createSelector)(_e,we,ke,(e,t,i)=>{if(e[t])return e[t].pageCursor>i.length&&i.length<e[t].taskIds.length}),Te=Object(a.createSelector)(oe,ie,(e,t)=>"tasks"!==e&&t),Se=Object(a.createSelector)(ke,s.getAllProjects,(e,t)=>e?e.map(e=>({id:e.id,title:e.name,draggable:e.permissions&&e.permissions.change_due_date,meta:{task:e,project:t.find(t=>t.id===e.project_id)},allDay:!0})):[]),je=Object(a.createSelector)(_e,we,(e,t)=>{if(e[t])return e[t].taskIds.length}),Oe=Object(a.createSelector)(je,ke,(e,t)=>e>0&&e>t.length),Ie=Object(a.createSelector)(je,e=>void 0===e),De=Object(a.createSelector)(j,e=>e.sidebarSorting),Ce=Object(a.createSelector)(ye,De,(e,t)=>t[e]),Pe=Object(a.createSelector)(j,e=>e.sidebarSearchText),$e=(Object(a.createSelector)(he,I,(e,t)=>{const i=[...e.filter(Boolean).map(e=>{const t=[];return e.start_date&&t.push(o(new Date(+e.start_date))),e.due_date&&t.push(o(new Date(+e.due_date))),t}).flat(),o(t).startOf("week").toDate(),o(t).endOf("week").toDate()];return{start:o((a=i,a&&a.length?h(a,g.a,b):void 0)).startOf("day").toDate(),end:o(_(i)).endOf("day").toDate()};var a}),Object(a.createSelector)(Q,e=>o(e.end).diff(e.start,"days")+1)),ze=Object(a.createSelector)(M,e=>e&&!e.showWeekends?[0,6]:[]),Me=Object(a.createSelector)(I,s.getUser,Q,ze,(e,t,i,a)=>Object(n.g)(c.a,{viewDate:new Date(e),weekStartsOn:t.week_start_day,viewStart:i.start,viewEnd:i.end,excluded:a}).map(e=>{const t=o(e.date);return Object.assign(Object.assign({},e),{id:e.date.toISOString(),isStartOfWeek:0===t.weekday(),isStartOfMonth:1===t.date()})})),Ee=Object(a.createSelector)(j,e=>e.viewLoadingMore),Le=Object(a.createSelector)(Y,S.qb,S.cb,F,le,(e,t,i,a,o)=>{if(e&&t){const o=e.groups.filter(e=>!!(t.grouping.field!==d.c.Assignee||Array.isArray(e.data)&&0!==e.data.length)).filter(e=>0===e.task_ids.length).length;let c;if(t.grouping.field===d.c.None||0===o)return;if(t.grouping.field===d.c.Assignee){if(i&&i.userIds&&i.userIds.length>0)return;c=1===o?"person":"people"}else c=t.grouping.field===d.c.Subcategory?1===o?"List":"Lists":t.grouping.field===d.c.Status?1===o?"Status":"Statuses":t.grouping.field===d.c.Priority?1===o?"Priority":"Priorities":t.grouping.field===d.c.Tag?1===o?"Tag":"Tags":1===o?"group":"groups";return`${a?"Show":"Hide"} ${o} ${c} without tasks`}}),Ae=Object(a.createSelector)(S.qb,s.getTeam,oe,(e,t,i)=>e&&e.settings.showSubtasksType===d.h.None&&e.workloadSettings&&!e.workloadSettings.ignoreWorkloadRollups&&("time_estimate"===i&&t.time_estimate_rollup||"points"===i&&t.points_estimate_rollup))},yzb7:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var a=i("nYR2"),o=i("dTHz"),c=i("fXoL"),n=i("2T3m"),s=i("Jf2N"),r=i("jJW4"),l=i("ofXK"),d=i("IPQd"),u=i("4NTL");function p(e,t){1&e&&(c.cc(0,"div",41),c.cc(1,"div",42),c.Xb(2,"div",43),c.bc(),c.cc(3,"div",44),c.gc(4,45),c.bc(),c.bc())}function m(e,t){1&e&&(c.cc(0,"div",46),c.Xb(1,"div",47),c.Xb(2,"div",48),c.Xb(3,"div",49),c.bc())}function h(e,t){1&e&&(c.cc(0,"div",50),c.Xb(1,"div",47),c.Xb(2,"div",48),c.Xb(3,"div",49),c.bc())}const b=function(e){return{"cu-form__row_error":e}},g=function(e){return{"cu-btn_spinner":e}};let f=(()=>{class e{constructor(e,t,i){this.twoFactorAuth=e,this.modal=t,this.sharedData=i,this.error=!1,this.loading={}}verify(){this.loading.verify=!0,this.error=!1,this.twoFactorAuth.verifyTwoFactorAuthPhone(this.code,this.jwt).pipe(Object(a.a)(()=>{this.loading.verify=!1})).subscribe(()=>{this.sharedData.setCurrentUser(Object.assign(Object.assign({},this.sharedData.currentUser.value),{twofa_enabled:o.g.Enabled,twofa_options:Object.assign(Object.assign({},this.sharedData.currentUser.value.twofa_options),{text_enabled:!0}),phone:this.phone})),this.sharedData.bannerPopup={type:"phone_verified"},this.modal.close()},()=>{this.error=!0})}resend(){this.loading.resend=!0,this.twoFactorAuth.enableTwoFactorAuth(this.phone).pipe(Object(a.a)(()=>{this.loading.resend=!1})).subscribe(()=>{this.sharedData.addToastItem({title:$localize`:@@common_code-resent:Code resent!`})})}onEnter(){this.code&&this.verify()}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(n.a),c.Wb(s.a),c.Wb(r.a))},e.\u0275cmp=c.Qb({type:e,selectors:[["cu-verify-phone-modal"]],hostBindings:function(e,t){1&e&&c.qc("keyup.Enter",function(){return t.onEnter()},!1,c.Sc)},decls:45,vars:16,consts:function(){let e,t,i,a,o,c,n;return e=$localize`:@@auth_sent-code-to-phone␟28bfc87a9a01160c49d3ea0a69d5abdfef0458a8␟2821078987025910294: We just sent a code to ${"\ufffd0\ufffd"}:INTERPOLATION:
`,t=$localize`:@@auth_sent-code-to-phone-description␟2138fb201b473d8aeb4a110d282a7799f136c025␟3415789566052276433: Please enter the code we sent to your number
`,i=$localize`:@@forms_label--confirmation-code␟ca5d9d7752ab00cc897c87e0b071ad504ea728ed␟2805742965677724276: Confirmation code `,a=$localize`:@@common_verify␟27c7bfba7033cc8dbf4caf42b40b6b3c87197838␟8913794084097958305:Verify`,o=$localize`:@@cu-verify-phone-modal__question_no-code␟a0529d8fa0e21efe4c4c2fc2b6b9133c9d6f148b␟2980092429596282941: Didn't get the code? `,c=$localize`:@@cu-verify-phone-modal__resend-code␟e5d678620f6c252785943d84fdf8bc2d7d51c7a5␟1556951758912333065: Resend `,n=$localize`:@@errors_form-field--code-invalid␟62627ab765c74cc7a7fc753ff9f2d02221f4a432␟5299919430500403551: The code you entered is invalid `,[[1,"verify-phone-modal__illustration"],["width","116","height","194","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","a","d","M108.92 173.92l-100.87-.03.04-149.81 100.87.02-.04 149.82"],["fill","none","fill-rule","evenodd"],["d","M101.85 2h-85.7C8.33 2 2 8.1 2 15.6v164.8c0 7.5 6.33 13.6 14.15 13.6h85.7c7.82 0 14.15-6.1 14.15-13.6V15.6C116 8.1 109.67 2 101.85 2","fill","#FFF"],["d","M14.64 1.33C7.29 1.33 1.3 7.15 1.3 14.32v165.36c0 7.17 5.98 13 13.33 13h84.72c7.35 0 13.33-5.83 13.33-13V14.32c0-7.17-5.98-13-13.33-13H14.64zM99.36 194H14.64C6.57 194 0 187.58 0 179.68V14.32C0 6.42 6.57 0 14.64 0h84.72C107.43 0 114 6.42 114 14.32v165.36c0 7.9-6.57 14.32-14.64 14.32z","fill","#6A79A8"],["d","M47.35 10.48c-.6 0-1.07.56-1.07 1.24v.56c0 .69.48 1.24 1.07 1.24h19.3c.6 0 1.07-.55 1.07-1.24v-.56c0-.68-.48-1.24-1.07-1.24h-19.3zM66.65 15h-19.3c-1.3 0-2.35-1.22-2.35-2.72v-.56C45 10.22 46.05 9 47.35 9h19.3c1.3 0 2.35 1.22 2.35 2.72v.56c0 1.5-1.05 2.72-2.35 2.72zM51.2 180.22a2.86 2.86 0 0 0-2.92 2.8v.97c0 1.53 1.3 2.79 2.91 2.79h15.62c1.6 0 2.91-1.26 2.91-2.8v-.97c0-1.53-1.3-2.79-2.91-2.79H51.19zM66.8 188H51.2c-2.32 0-4.2-1.8-4.2-4.01V183a4.11 4.11 0 0 1 4.2-4.01h15.6c2.32 0 4.2 1.8 4.2 4.01v.98a4.11 4.11 0 0 1-4.2 4.01z","fill","#6A79A8"],["id","b","fill","#fff"],[0,"xlink","href","#a"],["d","M112.94 97.12L54.88 192l44.54.46c8.25.1 14.7-16.41 14.4-36.7l-.88-58.64M1.4 121.57L71.81 3.55l-55.4.52c-7.8.07-14.22 15.4-14.37 34.38l-.64 83.12M110.71 24.23l-99.94 165.3c1.48 1.3 3.07 2.04 4.74 2.05l10.9.12 85.84-141.34-.19-12.54a78.62 78.62 0 0 0-1.35-13.6","fill","#F0F9FC","mask","url(#b)"],["d","M9.32 173.68h99.36V24.32H9.32v149.36zM109.34 175H8.66a.66.66 0 0 1-.66-.66V23.66c0-.36.3-.66.66-.66h100.68c.37 0 .66.3.66.66v150.68c0 .36-.3.66-.66.66z","fill","#6A79A8","mask","url(#b)"],["fill","#FFF","mask","url(#b)","d","M23 124h69V80H23z"],["fill","#E9E6F7","mask","url(#b)","d","M26 125h69V81H26z"],["d","M91.35 123h-67.7a.66.66 0 0 1-.65-.67V78.67c0-.37.3-.67.65-.67.36 0 .66.3.66.67v43h66.38v-42.9c0-.36.3-.66.66-.66.36 0 .65.3.65.67v43.55c0 .37-.3.67-.65.67","fill","#6A79A8","mask","url(#b)"],["d","M91.34 116a.65.65 0 0 1-.4-.15l-22.7-18.67a.67.67 0 0 1-.1-.93.65.65 0 0 1 .93-.1l22.69 18.67c.28.23.32.65.1.93a.65.65 0 0 1-.52.25M23.65 116a.65.65 0 0 1-.5-.25.67.67 0 0 1 .1-.93l22.68-18.67c.28-.23.7-.19.92.1.23.28.19.7-.1.93l-22.68 18.67a.65.65 0 0 1-.42.15","fill","#6A79A8","mask","url(#b)"],["d","M25.56 79.36l32.16 26.1 31.74-26.1h-63.9zM57.72 107a.64.64 0 0 1-.4-.14L23.25 79.22a.7.7 0 0 1-.21-.76c.09-.28.33-.46.61-.46h67.7c.27 0 .52.18.61.46a.7.7 0 0 1-.2.76l-33.64 27.63a.64.64 0 0 1-.4.15zM74.75 73a.8.8 0 0 1-.42-.11c-.34-.21-.43-.63-.2-.94a34.03 34.03 0 0 1 6.64-6.79.8.8 0 0 1 1.05.08c.27.28.23.7-.08.95a32.64 32.64 0 0 0-6.37 6.5c-.15.2-.38.31-.62.31M65.57 68h-.07c-.3-.05-.53-.4-.5-.8.31-3.35.95-6.63 1.9-9.74.12-.37.44-.55.74-.41.29.14.43.55.32.92-.92 3-1.53 6.16-1.83 9.4-.03.36-.28.63-.56.63M50.43 68c-.28 0-.53-.27-.56-.63a46.7 46.7 0 0 0-1.83-9.4c-.11-.37.03-.78.32-.92.3-.14.62.04.74.4.95 3.12 1.59 6.4 1.9 9.75.03.4-.2.75-.5.8h-.07M38.34 72a.66.66 0 0 1-.61-.4 33.12 33.12 0 0 0-4.58-7.5.67.67 0 0 1 .1-.95c.28-.23.7-.2.93.1 1.9 2.34 3.5 4.96 4.76 7.8a.67.67 0 0 1-.6.95","fill","#6A79A8","mask","url(#b)"],["d","M34 79a10 10 0 1 0-20 0 10 10 0 0 0 20 0","fill","#FFF","mask","url(#b)"],["d","M34 79a10 10 0 1 0-20 0 10 10 0 0 0 20 0","fill","#7B68EE","mask","url(#b)"],["d","M23.11 83.81v-6.67c-1.17.95-1.96 1.43-2.37 1.43a.68.68 0 0 1-.51-.25.81.81 0 0 1-.23-.57c0-.24.07-.43.22-.55.15-.11.41-.26.79-.45.55-.28 1-.57 1.34-.88.33-.3.63-.65.89-1.03.26-.39.43-.62.5-.7.08-.1.23-.14.45-.14.24 0 .44.1.59.3.15.2.22.48.22.83v8.4c0 .98-.32 1.47-.95 1.47-.28 0-.5-.1-.68-.3-.17-.2-.26-.5-.26-.89","fill","#FFF","mask","url(#b)"],[1,"verify-phone-modal__header"],e,[1,"verify-phone-modal__subheader"],t,[1,"cu-form","cu-onboarding__form"],[1,"cu-form__row","validate-code",3,"ngClass"],[1,"cu-form__label"],i,[1,"cu-form__field","validate-field",3,"codeChange"],["class","cu-form__error",4,"ngIf"],[1,"cu-form__row","cu-form__row_last"],["type","submit",1,"cu-btn","cu-btn_block","cu-btn_spinner",3,"ngClass","disabled","click"],[1,"cu-btn__text"],a,["class","cu-btn__spinner",4,"ngIf"],[1,"verify-phone-modal__resend"],[1,"verify-phone-modal__resend-text"],o,[1,"verify-phone-modal__resend-button"],[1,"verify-phone-modal__resend-button-text",3,"hidden","click"],c,["class","cu-btn__spinner cu-btn__spinner_purple",4,"ngIf"],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],n,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"],[1,"cu-btn__spinner","cu-btn__spinner_purple"]]},template:function(e,t){1&e&&(c.cc(0,"div",0),c.tc(),c.cc(1,"svg",1),c.cc(2,"defs"),c.Xb(3,"path",2),c.bc(),c.cc(4,"g",3),c.Xb(5,"path",4),c.Xb(6,"path",5),c.Xb(7,"path",6),c.cc(8,"mask",7),c.Xb(9,"use",8),c.bc(),c.Xb(10,"path",9),c.Xb(11,"path",10),c.Xb(12,"path",11),c.Xb(13,"path",12),c.Xb(14,"path",13),c.Xb(15,"path",14),c.Xb(16,"path",15),c.Xb(17,"path",16),c.Xb(18,"path",17),c.Xb(19,"path",18),c.bc(),c.bc(),c.bc(),c.sc(),c.cc(20,"div",19),c.gc(21,20),c.vc(22,"async"),c.vc(23,"formatInternationalPhone"),c.bc(),c.cc(24,"div",21),c.gc(25,22),c.bc(),c.Xb(26,"br"),c.cc(27,"div",23),c.cc(28,"div",24),c.cc(29,"div",25),c.gc(30,26),c.bc(),c.cc(31,"cu-code-input",27),c.qc("codeChange",function(e){return t.code=e}),c.bc(),c.bd(32,p,5,0,"div",28),c.bc(),c.bc(),c.cc(33,"div",29),c.cc(34,"button",30),c.qc("click",function(){return t.verify()}),c.cc(35,"div",31),c.gc(36,32),c.bc(),c.bd(37,m,4,0,"div",33),c.bc(),c.bc(),c.cc(38,"div",34),c.cc(39,"div",35),c.gc(40,36),c.bc(),c.cc(41,"div",37),c.cc(42,"div",38),c.qc("click",function(){return t.resend()}),c.gc(43,39),c.bc(),c.bd(44,h,4,0,"div",40),c.bc(),c.bc()),2&e&&(c.Ib(23),c.kc(c.wc(22,8,c.wc(23,10,t.phone))),c.hc(21),c.Ib(5),c.Dc("ngClass",c.Hc(12,b,t.error)),c.Ib(4),c.Dc("ngIf",t.error),c.Ib(2),c.Dc("ngClass",c.Hc(14,g,t.loading&&t.code))("disabled",t.loading.verify||!t.code),c.Ib(3),c.Dc("ngIf",t.loading.verify),c.Ib(5),c.Dc("hidden",t.loading.resend),c.Ib(2),c.Dc("ngIf",t.loading.resend))},directives:[l.o,d.a,l.q],pipes:[l.b,u.a],styles:[".verify-phone-modal__illustration{margin:-20px 0 30px;display:flex;justify-content:center}.verify-phone-modal__header{color:#343434;text-align:center;font:500 23px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:10px}.dark-theme .verify-phone-modal__header{color:#d5d6d7}.verify-phone-modal__subheader{color:#b4b3b6;text-align:center;font:400 15px/1 Gotham Pro,Proxima Nova,arial,serif}.dark-theme .verify-phone-modal__subheader{color:#abaeb0}.verify-phone-modal__resend{display:flex;justify-content:center;margin-top:24px}.dark-theme .verify-phone-modal__resend{color:#abaeb0}.verify-phone-modal__resend-text{color:#343434;font:400 16px/1 Gotham Pro,Proxima Nova,arial,serif}.dark-theme .verify-phone-modal__resend-text{color:#abaeb0}.verify-phone-modal__resend-button{display:flex;width:70px;height:17px;margin-left:5px}.verify-phone-modal__resend-button-text{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#7b68ee;font:400 16px/1 Gotham Pro,Proxima Nova,arial,serif;border-bottom:1px dashed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.verify-phone-modal__resend-button-text{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.verify-phone-modal__resend-button-text:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.verify-phone-modal__resend-button-text:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}.verify-phone-modal__resend-button .cu-btn__spinner{display:block}"],encapsulation:2}),e})()},"z/Gx":function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a=i("fXoL"),o=i("Tm/s"),c=i("Jf2N"),n=i("ofXK");function s(e,t){1&e&&(a.ac(0),a.gc(1,12),a.Zb())}function r(e,t){1&e&&(a.ac(0),a.gc(1,13),a.Zb())}let l=(()=>{class e{constructor(e,t){this.navService=e,this.modalService=t,this.instanceType="project"}ngOnInit(){}cancel(){this.modalService.close()}archive(){this.navService.archive(this.instanceType,this.item)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.a),a.Wb(c.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["cu-nav-confirm-archive"]],inputs:{item:"item"},decls:17,vars:5,consts:function(){let e,t,i,o,c;return e=$localize`:@@cu-nav-confirm-archive__description␟cd422134e6a4fddb4886fcb6a0c2d963f45f18f0␟8120197765750589652: Archiving a ${"[\ufffd0\ufffd|\ufffd1\ufffd]"}:INTERPOLATION: removes it from view but allows you to restore it at anytime. When you archive a ${"[\ufffd0\ufffd|\ufffd1\ufffd]"}:INTERPOLATION:, all tasks are preserved and are still searchable. `,e=a.lc(e),t=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,i=$localize`:@@common_archive␟22c9be90eb27c5c613348fbb621792223afe5d1b␟1055686627716339120:Archive`,o=$localize`:@@common_folder␟d8e057d4fa08fbdb6f98af2073eff5ae0b47f5e1␟7046259383943324039:Folder`,c=$localize`:@@common_list␟6490b3960cc7c4a789cdbd29575d93abad081e07␟7906458871395232033:List`,[[1,"confirm-remove-category"],[1,"confirm-remove-category__header"],[4,"ngIf","ngIfElse"],[1,"confirm-remove-category__description"],e,[1,"confirm-remove-category__controls"],[1,"cu-btn","cu-btn_confirm-cancel",3,"click"],[1,"cu-btn__text"],t,[1,"cu-btn",3,"click"],i,["listTmpl",""],o,c]},template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.bd(2,s,2,0,"ng-container",2),a.dd(3,": "),a.cc(4,"span"),a.dd(5),a.bc(),a.bc(),a.cc(6,"div",3),a.gc(7,4),a.bc(),a.cc(8,"div",5),a.cc(9,"button",6),a.qc("click",function(){return t.cancel()}),a.cc(10,"div",7),a.gc(11,8),a.bc(),a.bc(),a.cc(12,"button",9),a.qc("click",function(){return t.archive()}),a.cc(13,"div",7),a.gc(14,10),a.bc(),a.bc(),a.bc(),a.bc(),a.bd(15,r,2,0,"ng-template",null,11,a.cd)),2&e){const e=a.Rc(16);a.Ib(2),a.Dc("ngIf","project"===t.instanceType)("ngIfElse",e),a.Ib(3),a.ed(null==t.item?null:t.item.name),a.Ib(2),a.kc("project"===t.instanceType?"Folder":"List")("project"===t.instanceType?"Folder":"List"),a.hc(7)}},directives:[n.q],encapsulation:2,changeDetection:0}),e})()},zJDR:function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"c",function(){return o}),i.d(t,"d",function(){return c}),i.d(t,"b",function(){return n}),i.d(t,"e",function(){return s});var a=function(e){return e[e.NAME=1]="NAME",e[e.ASSIGN=2]="ASSIGN",e[e.PRIVACY=3]="PRIVACY",e[e.DATES=4]="DATES",e[e.DESCRIPTION=5]="DESCRIPTION",e}({}),o=function(e){return e[e.NAME=1]="NAME",e[e.ASSIGN=2]="ASSIGN",e[e.METRIC=3]="METRIC",e}({}),c=function(e){return e.NUMBER="number",e.DONE="true/False",e.CURRENCY="currency",e.AUTOMATIC="automatic",e}({}),n=function(e){return e[e.UPDATED=0]="UPDATED",e[e.NAME=1]="NAME",e[e.DUE_DATE=2]="DUE_DATE",e[e.START_DATE=3]="START_DATE",e[e.PROGRESS=4]="PROGRESS",e}({});const s=e=>{switch(e){case n.UPDATED:return{display:"Updated",field:"update",direction:"desc"};case n.NAME:return{display:"Name",field:"name",direction:"asc"};case n.DUE_DATE:return{display:"Due date",field:"due_date",direction:"asc"};case n.START_DATE:return{display:"Start Date",field:"start_date",direction:"asc"};case n.PROGRESS:return{display:"Progress",field:"progress",direction:"asc"}}}},zVpF:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("7Dom"),o=i("f0Wu");const c=(n=o,Object(a.a)(Object(a.a)({},function(e){return{addDays:function(t,i){return e(t).add(i,"days").toDate()},addHours:function(t,i){return e(t).add(i,"hours").toDate()},addMinutes:function(t,i){return e(t).add(i,"minutes").toDate()},addSeconds:function(t,i){return e(t).add(i,"seconds").toDate()},differenceInDays:function(t,i){return e(t).diff(e(i),"days")},differenceInMinutes:function(t,i){return e(t).diff(e(i),"minutes")},differenceInSeconds:function(t,i){return e(t).diff(e(i),"seconds")},endOfDay:function(t){return e(t).endOf("day").toDate()},endOfMonth:function(t){return e(t).endOf("month").toDate()},endOfWeek:function(t){return e(t).endOf("week").toDate()},getDay:function(t){return e(t).day()},getMonth:function(t){return e(t).month()},isSameDay:function(t,i){return e(t).isSame(e(i),"day")},isSameMonth:function(t,i){return e(t).isSame(e(i),"month")},isSameSecond:function(t,i){return e(t).isSame(e(i),"second")},max:function(t){return e.max(t.map(function(t){return e(t)})).toDate()},setHours:function(t,i){return e(t).set("hours",i).toDate()},setMinutes:function(t,i){return e(t).set("minutes",i).toDate()},startOfDay:function(t){return e(t).startOf("day").toDate()},startOfMinute:function(t){return e(t).startOf("minute").toDate()},startOfMonth:function(t){return e(t).startOf("month").toDate()},startOfWeek:function(t){return e(t).startOf("week").toDate()},getHours:function(t){return e(t).get("hours")},getMinutes:function(t){return e(t).get("minutes")}}}(n)),{addWeeks:function(e,t){return n(e).add(t,"weeks").toDate()},addMonths:function(e,t){return n(e).add(t,"months").toDate()},subDays:function(e,t){return n(e).subtract(t,"days").toDate()},subWeeks:function(e,t){return n(e).subtract(t,"weeks").toDate()},subMonths:function(e,t){return n(e).subtract(t,"months").toDate()},getISOWeek:function(e){return n(e).isoWeek()},setDate:function(e,t){return n(e).date(t).toDate()},setMonth:function(e,t){return n(e).month(t).toDate()},setYear:function(e,t){return n(e).year(t).toDate()},getDate:function(e){return n(e).date()},getYear:function(e){return n(e).year()}}));var n;c.isSameSecond=(e,t)=>e.getTime()===t.getTime()},zYZY:function(e,t,i){"use strict";i.d(t,"a",function(){return E});var a=i("lbgh"),o=i("2Vo4"),c=i("XNiG"),n=i("eIep"),s=i("pLZG"),r=i("1G5W"),l=i("c3rA"),d=i("dTHz"),u=i("WluX"),p=i("fXoL"),m=i("Jf2N"),h=i("l7P3"),b=i("WSBU"),g=i("ofXK"),f=i("LdyQ"),_=i("MJvn"),v=i("n+1/"),y=i("NsZK"),w=i("UdVN"),k=i("S//e"),x=i("peMq"),T=i("BTFG");function S(e,t){if(1&e&&(p.cc(0,"div"),p.dd(1),p.bc()),2&e){const e=p.uc(3);p.Mb("cu-automation-entity-count__dropdown-toggle-count cu-automation-entity-count__dropdown-toggle-count_",e.location,""),p.Ib(1),p.fd(" ",e.count," ")}}function j(e,t){if(1&e&&(p.ac(0),p.cc(1,"div",6),p.Xb(2,"div",7),p.vc(3,"async"),p.bd(4,S,2,4,"div",8),p.bc(),p.Zb()),2&e){const e=p.uc(2);let t=null;p.Ib(1),p.Nb("cu-automation-entity-count__dropdown-toggle cu-automation-entity-count__dropdown-toggle_",e.location," ","cu-automation-entity-count__dropdown-toggle_"+e.parentType,""),p.Dc("cuTooltip","Automations")("tooltipPlacement",e.tooltipPlacement),p.Ib(1),p.Mb("cu-automation-entity-count__dropdown-toggle-icon cu-automation-entity-count__dropdown-toggle-icon_",e.location," icon"),p.Dc("icon",(null==(t=p.wc(3,11,e.user$))?null:t.dashboard)===e.LayoutVersion.Six?"cu3-robot":"cu2-robot"),p.Ib(2),p.Dc("ngIf",e.count>0)}}function O(e,t){if(1&e&&(p.cc(0,"div",14),p.dd(1),p.bc()),2&e){const e=p.uc(3);p.Ib(1),p.fd(" ",e.count," ")}}function I(e,t){if(1&e&&(p.ac(0),p.cc(1,"div",9),p.Xb(2,"div",10),p.cc(3,"div",11),p.gc(4,12),p.bc(),p.bc(),p.bd(5,O,2,1,"div",13),p.Zb()),2&e){const e=p.uc(2);p.Ib(2),p.Dc("icon","cu2-robot"),p.Ib(3),p.Dc("ngIf",e.count>0)}}function D(e,t){1&e&&(p.cc(0,"div",31),p.gc(1,32),p.bc())}function C(e,t){1&e&&(p.cc(0,"div",31),p.gc(1,33),p.bc())}function P(e,t){if(1&e){const e=p.dc();p.cc(0,"div",22),p.cc(1,"div",23),p.ac(2),p.gc(3,24),p.Zb(),p.dd(4,": "),p.bc(),p.cc(5,"cu-user-list-dropdown",25),p.qc("onChange",function(i){p.Uc(e);const a=t.ngIf;return p.uc(3).setAssignees(i,null==a.assignee||null==a.assignee.automation?null:a.assignee.automation.id,!1)})("onClose",function(){p.Uc(e);const i=t.ngIf;return p.uc(3).saveAssigneeChanges(null==i.assignee||null==i.assignee.automation?null:i.assignee.automation.id)}),p.vc(6,"async"),p.vc(7,"async"),p.cc(8,"div",26),p.cc(9,"cu-user-group",27),p.qc("onUserRemove",function(i){p.Uc(e);const a=t.ngIf;return p.uc(3).removeAssignee(null==a.assignee?null:a.assignee.selectedUsers,i,null==a.assignee||null==a.assignee.automation?null:a.assignee.automation.id)}),p.bc(),p.bd(10,D,2,0,"div",28),p.bc(),p.bc(),p.cc(11,"div",23),p.ac(12),p.gc(13,29),p.Zb(),p.dd(14,": "),p.bc(),p.cc(15,"cu-user-list-dropdown",25),p.qc("onChange",function(i){p.Uc(e);const a=t.ngIf;return p.uc(3).setFollowers(i,null==a.follower||null==a.follower.automation?null:a.follower.automation.id,!1)})("onClose",function(){p.Uc(e);const i=t.ngIf;return p.uc(3).saveFollowerChanges(null==i.follower||null==i.follower.automation?null:i.follower.automation.id)}),p.vc(16,"async"),p.cc(17,"div",30),p.cc(18,"cu-user-group",27),p.qc("onUserRemove",function(i){p.Uc(e);const a=t.ngIf;return p.uc(3).removeFollower(null==a.follower?null:a.follower.selectedUsers,i,null==a.follower||null==a.follower.automation?null:a.follower.automation.id)}),p.bc(),p.bd(19,C,2,0,"div",28),p.bc(),p.bc(),p.bc()}if(2&e){const e=t.ngIf,i=p.uc(3);p.Ib(5),p.Dc("users",p.wc(6,26,i.users$))("multiChoice",p.wc(7,28,i.multipleAssignees$))("showReassign",!1)("enableFirstSelection",!1)("selectedUsers",i.tempUsers.assignee||(null==e.assignee?null:e.assignee.selectedUsers)),p.Ib(4),p.Dc("showUserRemover",!0)("assignIcon",!1)("multiChoice",!0)("showDropdown",!1)("modifier","cu-user-group_m")("avatarSize",30)("users",i.tempUsers.assignee||(null==e.assignee?null:e.assignee.selectedUsers)),p.Ib(1),p.Dc("ngIf",!(null!=i.tempUsers&&i.tempUsers.assignee||null!=e.assignee&&e.assignee.selectedUsers&&0!==(null==e.assignee||null==e.assignee.selectedUsers?null:e.assignee.selectedUsers.length))),p.Ib(5),p.Dc("users",p.wc(16,30,i.users$))("multiChoice",!0)("showReassign",!1)("enableFirstSelection",!1)("selectedUsers",i.tempUsers.follower||(null==e.follower?null:e.follower.selectedUsers)),p.Ib(3),p.Dc("showUserRemover",!0)("assignIcon",!1)("multiChoice",!0)("showDropdown",!1)("modifier","cu-user-group_m")("avatarSize",30)("users",i.tempUsers.follower||(null==e.follower?null:e.follower.selectedUsers)),p.Ib(1),p.Dc("ngIf",!(null!=i.tempUsers&&i.tempUsers.follower||null!=e.follower&&e.follower.selectedUsers&&0!==(null==e.follower||null==e.follower.selectedUsers?null:e.follower.selectedUsers.length)))}}function $(e,t){if(1&e){const e=p.dc();p.cc(0,"div",15),p.cc(1,"div",16),p.cc(2,"div",17),p.qc("click",function(){p.Uc(e);const t=p.uc(2);return t.showAutomationModal(t.AutomationTab.Manage)}),p.cc(3,"span"),p.dd(4),p.bc(),p.ac(5),p.gc(6,18),p.Zb(),p.bc(),p.cc(7,"div",19),p.qc("click",function(){return p.Uc(e),p.uc(2).showAutomationModal()}),p.dd(8," + "),p.ac(9),p.gc(10,20),p.Zb(),p.bc(),p.bc(),p.bd(11,P,20,32,"div",21),p.vc(12,"async"),p.bc()}if(2&e){const e=p.uc(2),t=p.Rc(4);p.Ib(4),p.ed(e.count),p.Ib(7),p.Dc("ngIf",p.wc(12,3,e.shortcuts$))("ngIfElse",t)}}function z(e,t){if(1&e){const e=p.dc();p.cc(0,"div",2),p.qc("dropdownOpen",function(){return p.Uc(e),p.uc().loadAutomationsAndUsers()}),p.vc(1,"async"),p.cc(2,"div",3),p.bd(3,j,5,13,"ng-container",4),p.bd(4,I,6,2,"ng-container",4),p.bc(),p.bd(5,$,13,5,"div",5),p.bc()}if(2&e){const e=p.uc();p.Dc("dropdownCloseOnInsideClick",!1)("dropdownCloseOnModal",!0)("dropdownPlacement",e.dropdownPlacement)("dropdownRepositionFlag",p.wc(1,6,e.shortcuts$)),p.Ib(3),p.Dc("ngIf",!e.isMenuItemToggle),p.Ib(1),p.Dc("ngIf",e.isMenuItemToggle)}}function M(e,t){1&e&&p.Xb(0,"cu-loader")}let E=(()=>{class e{constructor(e,t,i,s,r,p){this.modal=e,this.injector=t,this.store=i,this.automationActionFacades=s,this.automationResourceFacade=r,this.cdr=p,this.count=0,this.isMenuItemToggle=!1,this.dropdownPlacement=["bottom-left"],this.tooltipPlacement=["top"],this.inputs$=new o.a(null),this.multipleAssignees$=this.inputs$.pipe(Object(n.a)(e=>this.store.select(Object(l.getAutomationAllowMultipleAssigneesClickapp)(e.parent.type,e.parent.id)))),this.team$=this.store.select(l.getTeam),this.user$=this.store.select(l.getUser),this.sharedSpaceParam$=this.store.select(l.getSharedSpaceParam),this.shortcuts$=this.inputs$.pipe(Object(n.a)(e=>this.automationActionFacades.getShortcutsForParent(e.parent.type,e.parent.id))),this.users$=this.inputs$.pipe(Object(n.a)(e=>this.store.select(Object(u.b)(e.parent.type,e.parent.id)))),this.tempUsers={},this.AutomationTab=a.b,this.LayoutVersion=d.b,this.destroy$=new c.a}ngOnInit(){this.team$.pipe(Object(s.a)(e=>!!e),Object(r.a)(this.destroy$)).subscribe(e=>{this.automationResourceFacade.ifNoResourcesThenFetch(e.id),this.cdr.markForCheck()}),this.automationActionFacades.onShortcutResponse$.pipe(Object(r.a)(this.destroy$)).subscribe(e=>{this.tempUsers[e.payload.shortcut]=null,this.cdr.markForCheck()})}ngOnChanges(e){this.inputs$.next({parent:{id:this.parentId,type:this.parentType}})}ngOnDestroy(){this.destroy$.next()}showAutomationModal(e){const t=this.modal.openComponent(a.a,this.injector,{blank:!0,dialogModifier:"cu-modal__dialog-automations"});t.instance.setParent(this.parentType,this.parentId),e&&t.instance.changeTab(e)}setAssignees(e,t,i=!0){t||0!==e.length||!i?(i&&this.automationActionFacades.setAutomationShortcut({automationId:t,parent:{type:this.parentType,id:this.parentId},payload:{shortcut:"assignee",assignees:e.map(e=>Number(e.id))}}),this.tempUsers.assignee=e):this.tempUsers.assignee=null}setFollowers(e,t,i=!0){t||0!==e.length||!i?(i&&this.automationActionFacades.setAutomationShortcut({automationId:t,parent:{type:this.parentType,id:this.parentId},payload:{shortcut:"follower",followers:e.map(e=>Number(e.id))}}),this.tempUsers.follower=e):this.tempUsers.follower=null}removeAssignee(e,t,i){this.setAssignees(e.filter(e=>e!==t),i)}removeFollower(e,t,i){this.setFollowers(e.filter(e=>e!==t),i)}saveAssigneeChanges(e){this.tempUsers.assignee&&this.setAssignees(this.tempUsers.assignee,e)}saveFollowerChanges(e){this.tempUsers.follower&&this.setFollowers(this.tempUsers.follower,e)}loadAutomationsAndUsers(){this.automationActionFacades.loadAutomationUsersIfNeeded({id:this.parentId,type:this.parentType}),this.automationActionFacades.loadAutomation({id:this.parentId,type:this.parentType})}}return e.\u0275fac=function(t){return new(t||e)(p.Wb(m.a),p.Wb(p.t),p.Wb(h.Store),p.Wb(b.a),p.Wb(b.o),p.Wb(p.h))},e.\u0275cmp=p.Qb({type:e,selectors:[["cu-automation-entity-count"]],hostAttrs:[1,"cu-automation-entity-count"],inputs:{count:"count",parentId:"parentId",parentType:"parentType",location:"location",isMenuItemToggle:"isMenuItemToggle",dropdownPlacement:"dropdownPlacement",tooltipPlacement:"tooltipPlacement"},features:[p.Gb],decls:5,vars:5,consts:function(){let e,t,i,a,o,c,n;return e=$localize`:@@common_automations␟ba7a07807b40c13484cbf83852aabb9e3d15b224␟3925695973530015143: Automations `,t=$localize`:@@common_active-automations␟f3922e5f5dcdf650e708b1b7e10aaaa109bb5494␟1947060598987185107:Active automations`,i=$localize`:@@cu-automation-entity-count__btn-txt_add-automation␟03d740cbbaa013fb976f252b6018465182498568␟6875766859613870694:Add automation`,a=$localize`:@@common_always-assign-tasks-to-user␟373a89842947b50877d7c2100e12f8ce05fef961␟5996097473466019675:Always assign tasks to`,o=$localize`:@@cu-automation-entity-count__always-add-watchers␟770d1ac7e5557dfb64e721de615e15a019329363␟1832343063155628327:Always add watchers`,c=$localize`:@@common_no-assignees␟fb64c08061b2709014820659aa8295ac290ae09a␟3780015359221916569: No assignees `,n=$localize`:@@cu-automation-entity-count__no-watchers␟c204aa8737ce0c29cc47e6aadaf5386cf132edf1␟4264951181839206677: No watchers `,[["cuDropdown","","class","cu-automation-entity-count__dropdown",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownPlacement","dropdownRepositionFlag","dropdownOpen",4,"ngIf"],["loading",""],["cuDropdown","",1,"cu-automation-entity-count__dropdown",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownPlacement","dropdownRepositionFlag","dropdownOpen"],["cuDropdownToggle",""],[4,"ngIf"],["class","cu-automation-entity-count__menu",4,"cuDropdownMenu"],[3,"cuTooltip","tooltipPlacement"],[3,"icon"],[3,"class",4,"ngIf"],["draggable","false",1,"nav-menu-item","nav-menu-item__automations"],[1,"nav-menu-item__icon","nav-menu-item__icon_copy",3,"icon"],[1,"nav-menu-item__name"],e,["class","cu-automation-entity-count__dropdown-toggle-count cu-automation-entity-count__dropdown-toggle-count_menu-item",4,"ngIf"],[1,"cu-automation-entity-count__dropdown-toggle-count","cu-automation-entity-count__dropdown-toggle-count_menu-item"],[1,"cu-automation-entity-count__menu"],[1,"cu-automation-entity-count__menu-header"],[1,"cu-automation-entity-count__menu-header-count",3,"click"],t,[1,"cu-automation-entity-count__menu-header-button",3,"click"],i,["class","cu-automation-entity-count__menu-shortcuts",4,"ngIf","ngIfElse"],[1,"cu-automation-entity-count__menu-shortcuts"],[1,"cu-automation-entity-count__menu-shortcuts-title"],a,[3,"users","multiChoice","showReassign","enableFirstSelection","selectedUsers","onChange","onClose"],[1,"cu-automation-entity-count__menu-shortcuts-user-container","first"],[3,"showUserRemover","assignIcon","multiChoice","showDropdown","modifier","avatarSize","users","onUserRemove"],["class","cu-automation-entity-count__menu-shortcuts-user-container-text",4,"ngIf"],o,[1,"cu-automation-entity-count__menu-shortcuts-user-container"],[1,"cu-automation-entity-count__menu-shortcuts-user-container-text"],c,n]},template:function(e,t){if(1&e&&(p.bd(0,z,6,8,"div",0),p.vc(1,"async"),p.vc(2,"async"),p.bd(3,M,1,0,"ng-template",null,1,p.cd)),2&e){let e=null;p.Dc("ngIf",(null==(e=p.wc(1,1,t.team$))?null:e.automation_enabled)&&!p.wc(2,3,t.sharedSpaceParam$))}},directives:[g.q,f.b,_.a,v.a,y.a,w.a,k.a,x.a,T.a],pipes:[g.b],styles:['.cu-automation-entity-count__dropdown-toggle{width:24px;height:24px;border-radius:50%;position:relative;display:flex;justify-content:center;align-items:center}.cu-automation-entity-count__dropdown-toggle_list-view{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:22px;height:22px;background-color:#fff;box-shadow:0 0 10px 0 rgba(0,0,0,.1);margin:0 5px 0 10px;border:1px solid transparent}.cu-automation-entity-count__dropdown-toggle_list-view:hover{border-color:var(--theme-main-color)}.cu-automation-entity-count__dropdown-toggle_list-view:hover .icon{fill:var(--theme-main-color)!important}.dark-theme .cu-automation-entity-count__dropdown-toggle_list-view{box-shadow:none;background-color:#384047}.dark-theme .cu-automation-entity-count__dropdown-toggle_list-view .icon{fill:#d5d6d7}.dark-theme .dark-theme .cu-automation-entity-count__dropdown-toggle_list-view .icon{fill:var(--theme-main-color)}.cu-automation-entity-count__dropdown-toggle_list-details,.cu-automation-entity-count__dropdown-toggle_task-view{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;background-color:transparent;border:1px solid #e9ebf0;width:26px;height:26px;margin:0 10px}.dark-theme .cu-automation-entity-count__dropdown-toggle_list-details,.dark-theme .cu-automation-entity-count__dropdown-toggle_task-view{border-color:#82868d}.cu-automation-entity-count__dropdown-toggle_list-details:hover,.cu-automation-entity-count__dropdown-toggle_task-view:hover{border-color:var(--theme-main-color)}.cu-automation-entity-count__dropdown-toggle_list-details:hover .icon,.cu-automation-entity-count__dropdown-toggle_task-view:hover .icon{fill:var(--theme-main-color)}.cu-automation-entity-count__dropdown-toggle_task-view{margin:0}.cu-automation-entity-count__dropdown-toggle_views-bar{width:auto;height:16px;border-radius:0;padding:0;justify-content:flex-start}.cu-automation-entity-count__dropdown-toggle_views-bar:hover .cu-automation-entity-count__dropdown-toggle-icon,.cu-automation-entity-count__dropdown.cu-dropdown_open .cu-automation-entity-count__dropdown-toggle_views-bar .cu-automation-entity-count__dropdown-toggle-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-entity-count__dropdown-toggle_views-bar:hover .cu-automation-entity-count__dropdown-toggle-icon,.cu-automation-entity-count__dropdown.cu-dropdown_open .cu-automation-entity-count__dropdown-toggle_views-bar .cu-automation-entity-count__dropdown-toggle-icon{fill:var(--theme-main-color)}}.cu-automation-entity-count__dropdown-toggle_views-bar:hover .cu-automation-entity-count__dropdown-toggle-count,.cu-automation-entity-count__dropdown.cu-dropdown_open .cu-automation-entity-count__dropdown-toggle_views-bar .cu-automation-entity-count__dropdown-toggle-count{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-entity-count__dropdown-toggle_views-bar:hover .cu-automation-entity-count__dropdown-toggle-count,.cu-automation-entity-count__dropdown.cu-dropdown_open .cu-automation-entity-count__dropdown-toggle_views-bar .cu-automation-entity-count__dropdown-toggle-count{color:var(--theme-main-color)}}.cu-automation-entity-count__dropdown-toggle-count{background-color:#7b68ee;font:500 9px/8px Gotham Pro,Proxima Nova,arial,serif;position:absolute;right:-7px;top:-3px;display:flex;justify-content:center;align-items:center;border:1px solid #fff;border-radius:25px;height:12px;color:#fff;padding:1px 4px}@supports (--theme-main-color:#7b68ee){.cu-automation-entity-count__dropdown-toggle-count{background-color:var(--theme-main-color)}}.dark-theme .cu-automation-entity-count__dropdown-toggle-count{border-color:#82868d}.cu-automation-entity-count__dropdown-toggle-count_list-view,.cu-automation-entity-count__dropdown-toggle-count_menu-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.cu-automation-entity-count__dropdown-toggle-count_menu-item{right:10px;top:50%;transform:translateY(-50%);height:16px;width:16px;border:none}.cu-automation-entity-count__dropdown-toggle-count_views-bar{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;position:relative;background:transparent;border:0;border-radius:0;height:auto;padding:0;top:auto;right:auto;margin-left:2px;color:#7c828d}.dark-theme .cu-automation-entity-count__dropdown-toggle-count_views-bar{color:#828588}.dark-theme .cu-automation-entity-count__dropdown-toggle{border-color:#82868d}.cu-automation-entity-count__dropdown-toggle-icon{fill:#7b68ee;width:14px;height:14px}@supports (--theme-main-color:#7b68ee){.cu-automation-entity-count__dropdown-toggle-icon{fill:var(--theme-main-color)}}.dark-theme .cu-automation-entity-count__dropdown-toggle-icon{fill:#82868d}.cu-automation-entity-count__dropdown-toggle-icon_views-bar{width:14px;height:14px;padding:1px;margin:-1px;fill:#7c828d}.dark-theme .cu-automation-entity-count__dropdown-toggle-icon_views-bar{fill:#828588}.cu-automation-entity-count__menu{overflow:hidden;width:210px}.cu-automation-entity-count__menu-header{padding:15px;border-bottom:1px solid #e9ebf0;background-color:#fff}.dark-theme .cu-automation-entity-count__menu-header{border-color:#1e272e;background-color:#384047}.cu-automation-entity-count__menu-header-count{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;font-weight:400;font-size:12px;line-height:11px;font-family:Gotham Pro,Proxima Nova,arial,serif;display:flex;align-items:center;color:#292d34;margin-bottom:15px;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-entity-count__menu-header-count{font-family:var(--global-font-support)}}.cu-automation-entity-count__menu-header-count:hover{color:var(--theme-main-color)!important}.dark-theme .cu-automation-entity-count__menu-header-count{color:#d5d6d7}.cu-automation-entity-count__menu-header-count span{background-color:#fafbfc;display:flex;justify-content:center;align-items:center;color:var(--theme-main-color);font-weight:700;border:1px solid #e9ebf0;border-radius:50%;margin-right:5px;height:24px;padding:0 8px;min-width:24px}.dark-theme .cu-automation-entity-count__menu-header-count span{background-color:#2b343b;border-color:#1e272e}.cu-automation-entity-count__menu-header-button{font-weight:500;font-size:12px;line-height:11px;font-family:Gotham Pro,Proxima Nova,arial,serif;transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;background-color:var(--theme-main-color);width:100%;height:30px;color:#fff;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:3px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-entity-count__menu-header-button{font-family:var(--global-font-support)}}.cu-automation-entity-count__menu-header-button:hover{background-color:var(--theme-main-color-dark)}.cu-automation-entity-count__menu-shortcuts{background-color:#fafbfc;padding:15px}.dark-theme .cu-automation-entity-count__menu-shortcuts{background-color:#2b343b}.cu-automation-entity-count__menu-shortcuts-title{font-weight:500;font-size:11px;line-height:11px;font-family:Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;padding-bottom:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-entity-count__menu-shortcuts-title{font-family:var(--global-font-support)}}.dark-theme .cu-automation-entity-count__menu-shortcuts-title{color:#d5d6d7}.cu-automation-entity-count__menu-shortcuts-user-container{display:flex;align-items:center;border-radius:20px;border:1px solid #e9ebf0;background-color:#fff;padding:1px}.dark-theme .cu-automation-entity-count__menu-shortcuts-user-container{border-color:#1e272e;background-color:#384047}.cu-automation-entity-count__menu-shortcuts-user-container.first{margin-bottom:15px}.cu-automation-entity-count__menu-shortcuts-user-container-text{font-weight:400;font-size:11px;line-height:11px;font-family:Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;padding-left:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-entity-count__menu-shortcuts-user-container-text{font-family:var(--global-font-support)}}.dark-theme .cu-automation-entity-count__menu-shortcuts-user-container-text{color:#d5d6d7}.cu-automation-entity-count__menu-shortcuts-user-container .cu-user-group__icon-mono svg{margin-top:1px;height:26px!important;width:26px!important}'],encapsulation:2,changeDetection:0}),e})()}}]);