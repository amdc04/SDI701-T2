(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+iJU":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("gwOX"));function r(t){return t&&t.__esModule?t:{default:t}}r(n("CyTj"));var o=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"iframe.ql-video"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);e.default=o},"/4Fx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mo97");e.QuillDeltaToHtmlConverter=i.QuillDeltaToHtmlConverter;var r=n("pFhy");e.OpToHtmlConverter=r.OpToHtmlConverter;var o=n("vwY/");e.InlineGroup=o.InlineGroup,e.VideoItem=o.VideoItem,e.BlockGroup=o.BlockGroup,e.ListGroup=o.ListGroup,e.ListItem=o.ListItem,e.BlotBlock=o.BlotBlock;var a=n("Xwv1");e.DeltaInsertOp=a.DeltaInsertOp;var s=n("8eaM");e.InsertDataQuill=s.InsertDataQuill,e.InsertDataCustom=s.InsertDataCustom;var l=n("ZT6b");e.NewLine=l.NewLine,e.ListType=l.ListType,e.ScriptType=l.ScriptType,e.DirectionType=l.DirectionType,e.AlignType=l.AlignType,e.DataType=l.DataType,e.GroupType=l.GroupType},"/o6K":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("Yo41"),r=n("381O");let o=(()=>{class t extends r.a{static create(t){const e=super.create(t);e.setAttribute("readonly","readonly"),e.setAttribute("contenteditable","false"),e.setAttribute("draggable","true"),e.addEventListener("keydown",t=>{t.stopPropagation()}),e.addEventListener("paste",t=>{t.stopPropagation()});const n=document.createElement("cu-doc-page-dynamic");return n.setAttribute("team-id",t.teamId),n.setAttribute("view-id",t.viewId),n.setAttribute("page-id",t.pageId),n.setAttribute("docs-home",String(t.docsHome||!1)),n.setAttribute("closeable","true"),n.setAttribute("embed-node","true"),e.appendChild(n),e}static value(t){const e=t.querySelector("cu-doc-page-dynamic");return e&&{teamId:e.getAttribute("team-id"),viewId:e.getAttribute("view-id"),pageId:e.getAttribute("page-id"),docsHome:"true"===e.getAttribute("docs-home")}}attach(){super.attach();const e=this.getQuill(),n=t.value(this.domNode);e.getModule("hover")&&(this.hoverHandler=new i.a({blotName:t.blotName,blot:this,value:n}))}detach(){super.detach(),this.hoverHandler&&(this.hoverHandler.detach(),this.hoverHandler=null)}}return t.blotName="doc_embed",t.tagName="span",t.className="ql-doc-embed",t})()},"06+Y":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("s3LH"),r=n("h7sE");const o=i.d.import("formats/link");let a=(()=>{class t extends o{static create(t){return super.create(t)}static sanitize(t){return Object(r.k)(t)}attach(){super.attach(),this.onClickBinded||(this.onClickBinded=this.onClick.bind(this),this.domNode.addEventListener("click",this.onClickBinded))}detach(){super.detach(),this.onClickBinded&&(this.domNode.removeEventListener("click",this.onClickBinded),this.onClickBinded=null)}onClick(t){const e=this.getQuill(),n=e&&e.options&&e.options.modules&&e.options.modules.magicUrl&&e.options.modules.magicUrl.onClick;if(e){if(n&&"function"==typeof n&&n(t,this,e))return;if(!e.isEnabled())return;window.open(this.domNode.getAttribute("href"),"_blank"),e.setSelection(this.offset(e.scroll)+this.length()),t.preventDefault(),t.stopPropagation()}}getQuill(){return this.scroll&&this.scroll.domNode.parentNode?i.d.find(this.scroll.domNode.parentNode):null}}return t.className="ql-link",t.PROTOCOL_WHITELIST=r.a,t})()},"0jq0":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.User="user",t.Doc="doc",t.Task="task",t.UserGroup="user-group",t.TaskUserGroup="task-user-group",t}({})},"1gqn":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},"2FeZ":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});const i=n("s3LH").d.import("delta"),r="slash-commands_open";class o{constructor(t,e){this.quill=t,this.options=e,t.getModule("keyboard").addBinding({key:"/",collapsed:!0,shiftKey:null,shortKey:null,altKey:null,prefix:/(^$| $|\x09$)/,handler:(t,e)=>{if(e&&e.format&&(e.format["code-block"]||e.format.code||e.format["table-cell-line"])||e.format.list&&e.format.list.cell||e.format.blockquote&&e.format.blockquote.cell||e.format.banner&&e.format.banner.cell)return!0;this.activate("/")}})}activate(t="",e){document.body.classList.add(r);const n=this.quill.getSelection(!0);if(n){const r=(new i).retain(n.index).insert({slash_command:{id:this.options.id,sessionId:this.options.sessionId,replace:t,defaultCommand:e}});this.quill.history.cutoff(),this.quill.updateContents(r)}}destroy(){this.options=null,this.quill=null}}},"381O":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("s3LH"),r=n("Knr1"),o=n("ADkP");const a=i.d.import("blots/block/embed");class s extends a{attach(){super.attach(),this.dragHandler=new r.a(this,{offset:1})}detach(){super.detach(),this.dragHandler&&(this.dragHandler.detach(),this.dragHandler=null)}getQuill(){return this.scroll&&this.scroll.domNode.parentNode?i.d.find(this.scroll.domNode.parentNode):null}getHooks(){const t=this.getQuill(),e=t&&t.getModule("hooks");return e&&e.options||o.b}}},"6hbx":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("s3LH"),r=n("O5Dz"),o=n("Knr1"),a=n("Yo41"),s=n("ouif"),l=n("tqzo");let c=(()=>{class t extends l.a{static create(t){const e=super.create(t);e.setAttribute("draggable","true"),e.setAttribute("contenteditable",!0);const n=Object(s.a)(t);return e.setAttribute("data-team-id",t.teamId),e.setAttribute("data-view-id",t.viewId),e.setAttribute("data-page-id",t.pageId),e.setAttribute("data-docs-home",t.docsHome||!1),e.setAttribute("data-page-title",t.pageTitle||""),e.innerHTML=[`<a target="_blank" draggable="false" data-link href="${Object(r.a)(n)}">`,'<svg class="ql-doc-mention__icon" width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 2h8v10H2V2zM0 2C0 .9.9 0 2 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm9 1H6v2h3V3zm0 3v2H3V6h6zm0 5V9H3v2h6z" stroke="transparent"/></svg>',`<span data-name class="ql-doc-mention__name">${Object(r.a)(t.pageTitle||"")||""}</span>`,"</a>"].join(""),e}static value(t){return Object(s.b)(t)}attach(){super.attach(),this.dragHandler=new o.a(this,{});const e=this.getQuill(),n=t.value(this.domNode);e.getModule("hover")&&(this.hoverHandler=new a.a({blotName:t.blotName,blot:this,value:n}))}detach(){super.detach(),this.dragHandler&&(this.dragHandler.detach(),this.dragHandler=null),this.hoverHandler&&(this.hoverHandler.detach(),this.hoverHandler=null)}getQuill(){return this.scroll&&this.scroll.domNode.parentNode?i.d.find(this.scroll.domNode.parentNode):null}}return t.blotName="doc_mention",t.tagName="span",t.className="ql-doc-mention",t})()},"711E":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(s(n("CyTj")),s(n("EQY2")),s(n("XXY8"))),o=s(n("LTcn")),a=s(n("rCLr"));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.formatter=e}return i(t,[{key:"init",value:function(){}},{key:"getActions",value:function(){return[r.default,o.default,a.default]}},{key:"getTargetElement",value:function(){return null}},{key:"getOverlayElement",value:function(){return this.getTargetElement()}},{key:"setSelection",value:function(){this.formatter.quill.setSelection(null)}},{key:"onHide",value:function(){}}]),t}();e.default=l},"82+D":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.file=1]="file",t[t.google=2]="google",t[t.dropbox=3]="dropbox",t[t.email=4]="email",t[t.onedrive=5]="onedrive",t[t.box=6]="box",t}({})},"8eaM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InsertDataQuill=function(t,e){this.type=t,this.value=e},e.InsertDataCustom=function(t,e){this.type=t,this.value=e}},"8v1e":function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"g",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return g}),n.d(e,"k",function(){return m}),n.d(e,"d",function(){return b}),n.d(e,"c",function(){return v});var i=n("s3LH"),r=n("ovjf"),o=n("BeL+");function a(t){return t.ids&&"string"==typeof t.ids?{ids:s(t.ids)}:t.id&&!t.ids?Object.assign(Object.assign({},t),{ids:[t.id]}):t}function s(t){return t&&t.split(",")}function l(t){return s(t.dataset.commentIds)}function c(t){return s(t.dataset.commentUnresolvedIds)}function u(t){return t&&t.join(",")}function d(t){const e=new i.a(t),n={};let r={};return e.ops.forEach(t=>{if(t.attributes&&t.attributes.comment){const e=a(t.attributes.comment);e.ids.forEach(e=>{n[e]=n[e]||[],!r[e]&&n[e].length&&n[e].push({insert:"..."}),n[e].push(t)}),r=e.ids.reduce((t,e)=>(t[e]=!0,t),{})}else r={}}),n}function h(t,e){const n=Array.from(t.querySelectorAll(".ql-comment[data-comment-ids]")).find(t=>l(t).includes(e));return n&&i.d.find(n)}function f(t,e){if(!t||!e)return t;try{const n=new i.a(JSON.parse(t));return n.ops.forEach(t=>{t.attributes&&t.attributes.comment&&(t.attributes.comment=a(t.attributes.comment),t.attributes.comment.unresolvedIds=t.attributes.comment.ids.filter(t=>e[t]))}),JSON.stringify(n)}catch(n){return t}}function p(t,e,n){const o=(new i.a).retain(e.index);return t.ops.forEach(t=>{o.retain(Object(r.b)(t),t.attributes&&t.attributes.comment?{comment:{ids:[...t.attributes.comment.ids,String(n.id)],unresolvedIds:[...t.attributes.comment.unresolvedIds||[],String(n.id)]}}:{comment:{ids:[String(n.id)],unresolvedIds:[String(n.id)]}})}),o}function g(t,e){const n=new i.a;let o=!1;return t.forEach(t=>{if(t.attributes&&t.attributes.comment&&t.attributes.comment.ids.includes(e)){o=!0;const i=t.attributes.comment.ids.filter(t=>t!==e),a=t.attributes.comment.unresolvedIds&&t.attributes.comment.unresolvedIds.filter(t=>t!==e);n.retain(Object(r.b)(t),{comment:0===i.length?null:{ids:i,unresolvedIds:a}})}else n.retain(Object(r.b)(t))}),{found:o,changes:n}}function m(t,e,n){const a=new i.a;let s=!1;return t.forEach(t=>{if(t.attributes&&t.attributes.comment&&t.attributes.comment.ids.includes(e)){let i;s=!0,i=n?t.attributes.comment.unresolvedIds&&t.attributes.comment.unresolvedIds.filter(t=>t!==e):Object(o.a)([...t.attributes.comment.unresolvedIds||[],String(e)]),a.retain(Object(r.b)(t),{comment:Object.assign(Object.assign({},t.attributes.comment),{unresolvedIds:i})})}else a.retain(Object(r.b)(t))}),{found:s,changes:a}}function b(t){const e=Array.from(t.querySelectorAll(".ql-comment_active")),n={};if(e.length){const i=t.getBoundingClientRect();e.forEach(t=>{let e;c(t).forEach(r=>{n[r]||(void 0===e&&(e=t.getBoundingClientRect().top-i.top),n[r]=e)})});const r={};return Object.keys(n).forEach(t=>{const e=n[t],i=Math.floor(e/24);r[i]||(r[i]={id:i,top:e,ids:[]}),r[i].ids.push(t)}),Object.values(r)}return[]}function v(t){const e=new i.a;let n=!1;return t.forEach(t=>{t.attributes&&t.attributes.comment_draft?(n=!0,e.retain(Object(r.b)(t),{comment_draft:!1})):e.retain(Object(r.b)(t))}),{found:n,changes:e}}},"9AnQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("cegH"),r=function(){function t(){}return t.sanitize=function(e,n){var r={};return e&&"object"==typeof e?(e.class&&t.IsValidClass(e.class)&&(r.class=e.class),e.id&&t.IsValidId(e.id)&&(r.id=e.id),t.IsValidTarget(e.target+"")&&(r.target=e.target),e.avatar&&(r.avatar=i.OpAttributeSanitizer.sanitizeLinkUsingOptions(e.avatar+"",n)),e["end-point"]&&(r["end-point"]=i.OpAttributeSanitizer.sanitizeLinkUsingOptions(e["end-point"]+"",n)),e.slug&&(r.slug=e.slug+""),r):r},t.IsValidClass=function(t){return!!t.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},t.IsValidId=function(t){return!!t.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},t.IsValidTarget=function(t){return["_self","_blank","_parent","_top"].indexOf(t)>-1},t}();e.MentionSanitizer=r},ADkP:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});const i={onButtonOptions:()=>{}};class r{constructor(t,e={}){this.quill=t,this.options=Object.assign(Object.assign({},i),e)}destroy(){this.options=i,this.quill=null}}},Cbd1:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n("vwY/"),o=n("YAKn"),a=i(n("FOgZ")),s=function(){function t(t){void 0===t&&(t=[]),this.blocksCanBeWrappedWithList=t}return t.prototype.nest=function(t){var e=this,n=this.convertListBlocksToListGroups(t),i=this.groupConsecutiveListGroups(n),a=o.flatten(i.map(function(t){return Array.isArray(t)?e.nestListSection(t):t}));return o.groupConsecutiveElementsWhile(a,function(t,n){return t instanceof r.ListGroup&&n instanceof r.ListGroup&&(t.items[0].item.op.isSameListAs(n.items[0].item.op)||t.items[0].item.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)||n.items[0].item.op.isListBlockWrapper(e.blocksCanBeWrappedWithList))}).map(function(t){if(!Array.isArray(t))return t;var e=t.map(function(t){return t.items});return new r.ListGroup(o.flatten(e))})},t.prototype.convertListBlocksToListGroups=function(t){var e=this;return o.groupConsecutiveElementsWhile(t,function(t,n){return t instanceof r.BlockGroup&&n instanceof r.BlockGroup&&t.op.isList()&&n.op.isList()&&t.op.hasSameIndentationAs(n.op,e.blocksCanBeWrappedWithList)&&t.op.attributes.list.cell===n.op.attributes.list.cell||(t instanceof r.BlockGroup||t instanceof r.BlotBlock)&&(n instanceof r.BlockGroup||n instanceof r.BlotBlock)&&(t.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)&&n.op.isList()||t.op.isList()&&n.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)||t.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)&&n.op.isListBlockWrapper(e.blocksCanBeWrappedWithList))&&function(t,n){var i=a.default(e.blocksCanBeWrappedWithList,function(e){return!!t.op.attributes[e]}),r=i&&t.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)?parseInt(t.op.attributes[i]["wrapper-indent"],10)||0:t.op.attributes.indent||0,o=a.default(e.blocksCanBeWrappedWithList,function(t){return!!n.op.attributes[t]});return r===(o&&n.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)?parseInt(n.op.attributes[o]["wrapper-indent"],10)||0:n.op.attributes.indent||0)}(t,n)&&function(t,n){var i=a.default(e.blocksCanBeWrappedWithList,function(e){return!!t.op.attributes[e]}),r=i&&t.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)?t.op.attributes[i].cell:t.op.isList()?t.op.attributes.list.cell:"",o=a.default(e.blocksCanBeWrappedWithList,function(t){return!!n.op.attributes[t]});return r===(o&&n.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)?n.op.attributes[o].cell:n.op.isList()?n.op.attributes.list.cell:"")}(t,n)}).map(function(t){return Array.isArray(t)?new r.ListGroup(t.map(function(t){return new r.ListItem(t)})):(t instanceof r.BlockGroup||t instanceof r.BlotBlock)&&(t.op.isList()||t.op.isListBlockWrapper(e.blocksCanBeWrappedWithList))?new r.ListGroup([new r.ListItem(t)]):t})},t.prototype.groupConsecutiveListGroups=function(t){return o.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof r.ListGroup&&e instanceof r.ListGroup})},t.prototype.nestListSection=function(t){var e=this,n=this.groupByIndent(t);return Object.keys(n).map(Number).sort().reverse().forEach(function(i){n[i].forEach(function(n){var i=t.indexOf(n);e.placeUnderParent(n,t.slice(0,i))&&t.splice(i,1)})}),t},t.prototype.groupByIndent=function(t){var e=this;return t.reduce(function(t,n){var i;if(n.items[0].item.op.isListBlockWrapper(e.blocksCanBeWrappedWithList)){var r=a.default(e.blocksCanBeWrappedWithList,function(t){return!!n.items[0].item.op.attributes[t]})||"";i=parseInt(n.items[0].item.op.attributes[r]["wrapper-indent"],10)}else i=n.items[0].item.op.attributes.indent;return i&&(t[i]=t[i]||[],t[i].push(n)),t},{})},t.prototype.placeUnderParent=function(t,e){for(var n=e.length-1;n>=0;n--){var i=e[n];if(t.items[0].item.op.hasHigherIndentThan(i.items[0].item.op,this.blocksCanBeWrappedWithList)){var r=i.items[i.items.length-1];return r.innerList?r.innerList.items=r.innerList.items.concat(t.items):r.innerList=t,!0}}return!1},t}();e.ListNester=s},CyTj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n("WNwX")),o=a(n("l8d+"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a(n("EQY2")),a(n("711E"));var l=function(t,e){return e},c=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),this.onClick=function(){n.hide()},this.quill=e,this.options=(0,r.default)(o.default,i,{arrayMerge:l}),this.currentSpec=null,this.actions=[],this.overlay=document.createElement("div"),this.overlay.classList.add(this.options.overlay.className),this.options.overlay.style&&Object.assign(this.overlay.style,this.options.overlay.style),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.quill.root.addEventListener("click",this.onClick),this.specs=this.options.specs.map(function(t){return new t(n)}),this.specs.forEach(function(t){return t.init()})}return i(t,[{key:"show",value:function(t){this.currentSpec=t,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createActions(t)}},{key:"hide",value:function(){this.currentSpec&&(this.currentSpec.onHide(),this.currentSpec=null,this.quill.root.parentNode.removeChild(this.overlay),this.overlay.style.setProperty("display","none"),this.setUserSelect(""),this.destroyActions())}},{key:"update",value:function(){this.repositionOverlay(),this.actions.forEach(function(t){return t.onUpdate()})}},{key:"createActions",value:function(t){var e=this;this.actions=t.getActions().map(function(t){var n=new t(e);return n.onCreate(),n})}},{key:"destroyActions",value:function(){this.actions.forEach(function(t){return t.onDestroy()}),this.actions=[]}},{key:"repositionOverlay",value:function(){if(this.currentSpec){var t=this.currentSpec.getOverlayElement();if(t){var e=this.quill.root.parentNode,n=t.getBoundingClientRect(),i=e.getBoundingClientRect();Object.assign(this.overlay.style,{display:"block",left:n.left-i.left-1+e.scrollLeft+"px",top:n.top-i.top+e.scrollTop+"px",width:n.width+"px",height:n.height+"px"})}}}},{key:"setUserSelect",value:function(t){var e=this;["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(n){e.quill.root.style.setProperty(n,t),document.documentElement&&document.documentElement.style.setProperty(n,t)})}}]),t}();e.default=c},"DkC/":function(t,e,n){"use strict";var i=n("5iG2"),r=n("e1lX"),o=n("KiMO"),a=n("efZk");e.a=function(t){t=Object(a.a)(t);var e,n,s,l=Object(r.a)(t)?Object(o.a)(t):void 0,c=l?l[0]:t.charAt(0),u=l?(e=l,1,s=e.length,n=void 0===n?s:n,Object(i.a)(e,1,n)).join(""):t.slice(1);return c.toUpperCase()+u}},ECCn:function(t,e){function n(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var i=t[e];"object"!=typeof i||Object.isFrozen(i)||n(i)}),t}var i=n;i.default=n;class r{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data}ignoreMatch(){this.ignore=!0}}function o(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(t,...e){const n=Object.create(null);for(const i in t)n[i]=t[i];return e.forEach(function(t){for(const e in t)n[e]=t[e]}),n}const s=t=>!!t.kind;class l{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=o(t)}openNode(t){if(!s(t))return;let e=t.kind;t.sublanguage||(e=`${this.classPrefix}${e}`),this.span(e)}closeNode(t){s(t)&&(this.buffer+="</span>")}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class c{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e={kind:t,children:[]};this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach(e=>this._walk(t,e)),t.closeNode(e)),t}static _collapse(t){"string"!=typeof t&&t.children&&(t.children.every(t=>"string"==typeof t)?t.children=[t.children.join("")]:t.children.forEach(t=>{c._collapse(t)}))}}class u extends c{constructor(t){super(),this.options=t}addKeyword(t,e){""!==t&&(this.openNode(e),this.addText(t),this.closeNode())}addText(t){""!==t&&this.add(t)}addSublanguage(t,e){const n=t.root;n.kind=e,n.sublanguage=!0,this.add(n)}toHTML(){return new l(this,this.options).value()}finalize(){return!0}}function d(t){return t?"string"==typeof t?t:t.source:null}const h="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",f={begin:"\\\\[\\s\\S]",relevance:0},p={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[f]},g={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[f]},m={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},b=function(t,e,n={}){const i=a({className:"comment",begin:t,end:e,contains:[]},n);return i.contains.push(m),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),i},v=b("//","$"),y=b("/\\*","\\*/"),w=b("#","$");var k=Object.freeze({__proto__:null,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:h,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=function(...t){return t.map(t=>d(t)).join("")}(e,/.*\b/,t.binary,/\b.*/)),a({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},BACKSLASH_ESCAPE:f,APOS_STRING_MODE:p,QUOTE_STRING_MODE:g,PHRASAL_WORDS_MODE:m,COMMENT:b,C_LINE_COMMENT_MODE:v,C_BLOCK_COMMENT_MODE:y,HASH_COMMENT_MODE:w,NUMBER_MODE:{className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},C_NUMBER_MODE:{className:"number",begin:h,relevance:0},BINARY_NUMBER_MODE:{className:"number",begin:"\\b(0b[01]+)",relevance:0},CSS_NUMBER_MODE:{className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE:{begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[f,{begin:/\[/,end:/\]/,relevance:0,contains:[f]}]}]},TITLE_MODE:{className:"title",begin:"[a-zA-Z]\\w*",relevance:0},UNDERSCORE_TITLE_MODE:{className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},METHOD_GUARD:{begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})}});function _(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}function x(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=_,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords)}function O(t,e){Array.isArray(t.illegal)&&(t.illegal=function(...t){return"("+t.map(t=>d(t)).join("|")+")"}(...t.illegal))}function N(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function E(t,e){void 0===t.relevance&&(t.relevance=1)}const L=["of","and","for","in","not","or","if","then","parent","list","value"];function C(t,e){return e?Number(e):function(t){return L.includes(t.toLowerCase())}(t)?0:1}function A(t,{}){function e(e,n){return new RegExp(d(e),"m"+(t.case_insensitive?"i":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=function(t){return new RegExp(t.toString()+"|").exec("").length-1}(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map(t=>t[1]);this.matcherRe=e(function(t,e="|"){const n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;let i=0,r="";for(let o=0;o<t.length;o++){i+=1;const a=i;let s=d(t[o]);for(o>0&&(r+=e),r+="(";s.length>0;){const t=n.exec(s);if(null==t){r+=s;break}r+=s.substring(0,t.index),s=s.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?r+="\\"+String(Number(t[1])+a):(r+=t[0],"("===t[0]&&i++)}r+=")"}return r}(t),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex((t,e)=>e>0&&void 0!==t),i=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new n;return this.rules.slice(t).forEach(([t,n])=>e.addRule(t,n)),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=a(t.classNameAliases||{}),function n(r,o){const s=r;if(r.compiled)return s;[N].forEach(t=>t(r,o)),t.compilerExtensions.forEach(t=>t(r,o)),r.__beforeBegin=null,[x,O,E].forEach(t=>t(r,o)),r.compiled=!0;let l=null;if("object"==typeof r.keywords&&(l=r.keywords.$pattern,delete r.keywords.$pattern),r.keywords&&(r.keywords=function(t,e){const n={};return"string"==typeof t?i("keyword",t):Object.keys(t).forEach(function(e){i(e,t[e])}),n;function i(t,i){e&&(i=i.toLowerCase()),i.split(" ").forEach(function(e){const i=e.split("|");n[i[0]]=[t,C(i[0],i[1])]})}}(r.keywords,t.case_insensitive)),r.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return l=l||r.lexemes||/\w+/,s.keywordPatternRe=e(l,!0),o&&(r.begin||(r.begin=/\B|\b/),s.beginRe=e(r.begin),r.endSameAsBegin&&(r.end=r.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(s.endRe=e(r.end)),s.terminatorEnd=d(r.end)||"",r.endsWithParent&&o.terminatorEnd&&(s.terminatorEnd+=(r.end?"|":"")+o.terminatorEnd)),r.illegal&&(s.illegalRe=e(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map(function(t){return function(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return a(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:T(t)?a(t,{starts:t.starts?a(t.starts):null}):Object.isFrozen(t)?a(t):t}("self"===t?r:t)})),r.contains.forEach(function(t){n(t,s)}),r.starts&&n(r.starts,o),s.matcher=function(t){const e=new i;return t.contains.forEach(t=>e.addRule(t.begin,{rule:t,type:"begin"})),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(s),s}(t)}function T(t){return!!t&&(t.endsWithParent||T(t.starts))}function q(t){const e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!t.getLanguage(this.language))return this.unknownLanguage=!0,o(this.code);let e={};return this.autoDetect?(e=t.highlightAuto(this.code),this.detectedLanguage=e.language):(e=t.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),e.value},autoDetect(){return!this.language||(t=this.autodetect,Boolean(t||""===t));var t},ignoreIllegals:()=>!0},render(t){return t("pre",{},[t("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:e,VuePlugin:{install(t){t.component("highlightjs",e)}}}}const j={"after:highlightBlock":({block:t,result:e,text:n})=>{const i=R(t);if(!i.length)return;const r=document.createElement("div");r.innerHTML=e.value,e.value=function(t,e,n){let i=0,r="";const a=[];function s(){return t.length&&e.length?t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:"start"===e[0].event?t:e:t.length?t:e}function l(t){r+="<"+S(t)+[].map.call(t.attributes,function(t){return" "+t.nodeName+'="'+o(t.value)+'"'}).join("")+">"}function c(t){r+="</"+S(t)+">"}function u(t){("start"===t.event?l:c)(t.node)}for(;t.length||e.length;){let e=s();if(r+=o(n.substring(i,e[0].offset)),i=e[0].offset,e===t){a.reverse().forEach(c);do{u(e.splice(0,1)[0]),e=s()}while(e===t&&e.length&&e[0].offset===i);a.reverse().forEach(l)}else"start"===e[0].event?a.push(e[0].node):a.pop(),u(e.splice(0,1)[0])}return r+o(n.substr(i))}(i,R(r),n)}};function S(t){return t.nodeName.toLowerCase()}function R(t){const e=[];return function t(n,i){for(let r=n.firstChild;r;r=r.nextSibling)3===r.nodeType?i+=r.nodeValue.length:1===r.nodeType&&(e.push({event:"start",offset:i,node:r}),i=t(r,i),S(r).match(/br|hr|img|input/)||e.push({event:"stop",offset:i,node:r}));return i}(t,0),e}const I=o,B=a,P=Symbol("nomatch");var D=function(t){const e=Object.create(null),n=Object.create(null),o=[];let a=!0;const s=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let d={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:u};function h(t){return d.noHighlightRe.test(t)}function f(t,e,n,i){const r={code:e,language:t};N("before:highlight",r);const o=r.result?r.result:p(r.language,r.code,n,i);return o.code=r.code,N("after:highlight",o),o}function p(t,n,i,s){const c=n;function u(t,e){const n=k.case_insensitive?e[0].toLowerCase():e[0];return Object.prototype.hasOwnProperty.call(t.keywords,n)&&t.keywords[n]}function h(){null!=N.subLanguage?function(){if(""===C)return;let t=null;if("string"==typeof N.subLanguage){if(!e[N.subLanguage])return void L.addText(C);t=p(N.subLanguage,C,!0,E[N.subLanguage]),E[N.subLanguage]=t.top}else t=g(C,N.subLanguage.length?N.subLanguage:null);N.relevance>0&&(T+=t.relevance),L.addSublanguage(t.emitter,t.language)}():function(){if(!N.keywords)return void L.addText(C);let t=0;N.keywordPatternRe.lastIndex=0;let e=N.keywordPatternRe.exec(C),n="";for(;e;){n+=C.substring(t,e.index);const i=u(N,e);if(i){const[t,r]=i;L.addText(n),n="",T+=r,L.addKeyword(e[0],k.classNameAliases[t]||t)}else n+=e[0];t=N.keywordPatternRe.lastIndex,e=N.keywordPatternRe.exec(C)}n+=C.substr(t),L.addText(n)}(),C=""}function f(t){return t.className&&L.openNode(k.classNameAliases[t.className]||t.className),N=Object.create(t,{parent:{value:N}}),N}function m(t,e,n){let i=function(t,e){const n=t&&t.exec(e);return n&&0===n.index}(t.endRe,n);if(i){if(t["on:end"]){const n=new r(t);t["on:end"](e,n),n.ignore&&(i=!1)}if(i){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return m(t.parent,e,n)}function b(t){return 0===N.matcher.regexIndex?(C+=t[0],1):(S=!0,0)}function v(t){const e=t[0],n=c.substr(t.index),i=m(N,t,n);if(!i)return P;const r=N;r.skip?C+=e:(r.returnEnd||r.excludeEnd||(C+=e),h(),r.excludeEnd&&(C=e));do{N.className&&L.closeNode(),N.skip||N.subLanguage||(T+=N.relevance),N=N.parent}while(N!==i.parent);return i.starts&&(i.endSameAsBegin&&(i.starts.endRe=i.endRe),f(i.starts)),r.returnEnd?0:e.length}let y={};function w(e,n){const o=n&&n[0];if(C+=e,null==o)return h(),0;if("begin"===y.type&&"end"===n.type&&y.index===n.index&&""===o){if(C+=c.slice(n.index,n.index+1),!a){const e=new Error("0 width match regex");throw e.languageName=t,e.badRule=y.rule,e}return 1}if(y=n,"begin"===n.type)return function(t){const e=t[0],n=t.rule,i=new r(n),o=[n.__beforeBegin,n["on:begin"]];for(const r of o)if(r&&(r(t,i),i.ignore))return b(e);return n&&n.endSameAsBegin&&(n.endRe=new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?C+=e:(n.excludeBegin&&(C+=e),h(),n.returnBegin||n.excludeBegin||(C=e)),f(n),n.returnBegin?0:e.length}(n);if("illegal"===n.type&&!i){const t=new Error('Illegal lexeme "'+o+'" for mode "'+(N.className||"<unnamed>")+'"');throw t.mode=N,t}if("end"===n.type){const t=v(n);if(t!==P)return t}if("illegal"===n.type&&""===o)return 1;if(j>1e5&&j>3*n.index)throw new Error("potential infinite loop, way more iterations than matches");return C+=o,o.length}const k=_(t);if(!k)throw l.replace("{}",t),new Error('Unknown language: "'+t+'"');const x=A(k,{plugins:o});let O="",N=s||x;const E={},L=new d.__emitter(d);!function(){const t=[];for(let e=N;e!==k;e=e.parent)e.className&&t.unshift(e.className);t.forEach(t=>L.openNode(t))}();let C="",T=0,q=0,j=0,S=!1;try{for(N.matcher.considerAll();;){j++,S?S=!1:N.matcher.considerAll(),N.matcher.lastIndex=q;const t=N.matcher.exec(c);if(!t)break;const e=w(c.substring(q,t.index),t);q=t.index+e}return w(c.substr(q)),L.closeAllNodes(),L.finalize(),O=L.toHTML(),{relevance:T,value:O,language:t,illegal:!1,emitter:L,top:N}}catch(R){if(R.message&&R.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:R.message,context:c.slice(q-100,q+100),mode:R.mode},sofar:O,relevance:0,value:I(c),emitter:L};if(a)return{illegal:!1,relevance:0,value:I(c),emitter:L,language:t,top:N,errorRaised:R};throw R}}function g(t,n){n=n||d.languages||Object.keys(e);const i=function(t){const e={relevance:0,emitter:new d.__emitter(d),value:I(t),illegal:!1,top:c};return e.emitter.addText(t),e}(t),r=n.filter(_).filter(O).map(e=>p(e,t,!1));r.unshift(i);const o=r.sort((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(_(t.language).supersetOf===e.language)return 1;if(_(e.language).supersetOf===t.language)return-1}return 0}),[a,s]=o,l=a;return l.second_best=s,l}const m={"before:highlightBlock":({block:t})=>{d.useBR&&(t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightBlock":({result:t})=>{d.useBR&&(t.value=t.value.replace(/\n/g,"<br>"))}},b=/^(<[^>]+>|\t)+/gm,v={"after:highlightBlock":({result:t})=>{d.tabReplace&&(t.value=t.value.replace(b,t=>t.replace(/\t/g,d.tabReplace)))}};function y(t){let e=null;const i=function(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=d.languageDetectRe.exec(e);if(n){const t=_(n[1]);return t||l.replace("{}",n[1]),t?n[1]:"no-highlight"}return e.split(/\s+/).find(t=>h(t)||_(t))}(t);if(h(i))return;N("before:highlightBlock",{block:t,language:i}),e=t;const r=e.textContent,o=i?f(i,r,!0):g(r);N("after:highlightBlock",{block:t,result:o,text:r}),t.innerHTML=o.value,function(t,e,i){const r=e?n[e]:i;t.classList.add("hljs"),r&&t.classList.add(r)}(t,i,o.language),t.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(t.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}const w=()=>{w.called||(w.called=!0,document.querySelectorAll("pre code").forEach(y))};function _(t){return t=(t||"").toLowerCase(),e[t]||e[n[t]]}function x(t,{languageName:e}){"string"==typeof t&&(t=[t]),t.forEach(t=>{n[t]=e})}function O(t){const e=_(t);return e&&!e.disableAutodetect}function N(t,e){const n=t;o.forEach(function(t){t[n]&&t[n](e)})}Object.assign(t,{highlight:f,highlightAuto:g,fixMarkup:function(t){return e=t,d.tabReplace||d.useBR?e.replace(s,t=>"\n"===t?d.useBR?"<br>":t:d.tabReplace?t.replace(/\t/g,d.tabReplace):t):e;var e},highlightBlock:y,configure:function(t){d=B(d,t)},initHighlighting:w,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",w,!1)},registerLanguage:function(n,i){let r=null;try{r=i(t)}catch(o){if("Language definition for '{}' could not be registered.".replace("{}",n),!a)throw o;r=c}r.name||(r.name=n),e[n]=r,r.rawDefinition=i.bind(null,t),r.aliases&&x(r.aliases,{languageName:n})},listLanguages:function(){return Object.keys(e)},getLanguage:_,registerAliases:x,requireLanguage:function(t){const e=_(t);if(e)return e;throw new Error("The '{}' language is required, but not loaded.".replace("{}",t))},autoDetection:O,inherit:B,addPlugin:function(t){o.push(t)},vuePlugin:q(t).VuePlugin}),t.debugMode=function(){a=!1},t.safeMode=function(){a=!0},t.versionString="10.5.0";for(const r in k)"object"==typeof k[r]&&i(k[r]);return Object.assign(t,k),t.addPlugin(m),t.addPlugin(j),t.addPlugin(v),t}({});t.exports=D},EQY2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n("CyTj");var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.formatter=e}return i(t,[{key:"onCreate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"onUpdate",value:function(){}}]),t}();e.default=r},EVib:function(t,e,n){"use strict";n.r(e),n.d(e,"getEmojiStylesText",function(){return o}),n.d(e,"getEmojiStylesMemo",function(){return a}),n.d(e,"getEmojiStyles",function(){return s}),n.d(e,"emojiSpriteStyles",function(){return l}),n.d(e,"getSpritePosition",function(){return c});var i=n("IrjZ"),r=n("oTSI");function o(t){const e=s(t);return Object.keys(e).reduce((t,n)=>`${t} ${n}: ${e[n]};`,"")}const a=Object(r.a)(s);function s(t){const e=i.emojis.find(e=>e.unified.toLowerCase()===t);return e?l(e.sheet):{}}function l(t,e="apple",n=20,r=64,o=57,a=i.DEFAULT_BACKGROUNDFN,s=57){return{width:n+"px",height:n+"px",display:"inline-block","background-image":`url(${a(e,r)})`,"background-size":`${100*s}% ${100*o}%`,"background-position":c(t,s)}}function c(t,e){const[n,i]=t,r=100/(e-1);return`${r*n}% ${r*i}%`}},FCQj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeWithNewLines=function(t){if("\n"===t)return[t];var e=t.split("\n");if(1===e.length)return e;var n=e.length-1;return e.reduce(function(t,e,i){return i!==n?""!==e?t=t.concat(e,"\n"):t.push("\n"):""!==e&&t.push(e),t},[])}},FOgZ:function(t,e,n){(function(t,n){var i="[object Arguments]",r="[object Map]",o="[object Object]",a="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/^\s+|\s+$/g,h=/\\(\\)?/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,g=/^\[object .+?Constructor\]$/,m=/^0o[0-7]+$/i,b=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[i]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[r]=v["[object Number]"]=v[o]=v["[object RegExp]"]=v[a]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=parseInt,w="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,_=w||k||Function("return this")(),x=e&&!e.nodeType&&e,O=x&&"object"==typeof n&&n&&!n.nodeType&&n,N=O&&O.exports===x&&w.process,E=function(){try{return N&&N.binding("util")}catch(t){}}(),L=E&&E.isTypedArray;function C(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function A(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function T(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var j,S,R,I=Array.prototype,B=Function.prototype,P=Object.prototype,D=_["__core-js_shared__"],M=(j=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",H=B.toString,z=P.hasOwnProperty,U=P.toString,F=RegExp("^"+H.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=_.Symbol,V=_.Uint8Array,$=P.propertyIsEnumerable,G=I.splice,K=(S=Object.keys,R=Object,function(t){return S(R(t))}),Z=Math.max,Y=xt(_,"DataView"),Q=xt(_,"Map"),X=xt(_,"Promise"),J=xt(_,"Set"),tt=xt(_,"WeakMap"),et=xt(Object,"create"),nt=qt(Y),it=qt(Q),rt=qt(X),ot=qt(J),at=qt(tt),st=W?W.prototype:void 0,lt=st?st.valueOf:void 0,ct=st?st.toString:void 0;function ut(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function dt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ht(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ft(t){var e=-1,n=t?t.length:0;for(this.__data__=new ht;++e<n;)this.add(t[e])}function pt(t){this.__data__=new dt(t)}function gt(t,e){for(var n=t.length;n--;)if(It(t[n][0],e))return n;return-1}function mt(t,e){for(var n=0,i=(e=Et(e,t)?[e]:wt(e)).length;null!=t&&n<i;)t=t[Tt(e[n++])];return n&&n==i?t:void 0}function bt(t,e){return null!=t&&e in Object(t)}function vt(t,e,n,s,l){return t===e||(null==t||null==e||!zt(t)&&!Ut(e)?t!=t&&e!=e:function(t,e,n,s,l,c){var u=Pt(t),d=Pt(e),h="[object Array]",f="[object Array]";u||(h=(h=Ot(t))==i?o:h),d||(f=(f=Ot(e))==i?o:f);var p=h==o&&!A(t),g=f==o&&!A(e),m=h==f;if(m&&!p)return c||(c=new pt),u||Wt(t)?kt(t,e,n,s,l,c):function(t,e,n,i,o,s,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new V(t),new V(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case r:var c=T;case a:if(c||(c=q),t.size!=e.size&&!(2&s))return!1;var u=l.get(t);if(u)return u==e;s|=1,l.set(t,e);var d=kt(c(t),c(e),i,o,s,l);return l.delete(t),d;case"[object Symbol]":if(lt)return lt.call(t)==lt.call(e)}return!1}(t,e,h,n,s,l,c);if(!(2&l)){var b=p&&z.call(t,"__wrapped__"),v=g&&z.call(e,"__wrapped__");if(b||v){var y=b?t.value():t,w=v?e.value():e;return c||(c=new pt),n(y,w,s,l,c)}}return!!m&&(c||(c=new pt),function(t,e,n,i,r,o){var a=2&r,s=Vt(t),l=s.length;if(l!=Vt(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:z.call(e,u)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var h=!0;o.set(t,e),o.set(e,t);for(var f=a;++c<l;){var p=t[u=s[c]],g=e[u];if(i)var m=a?i(g,p,u,e,t,o):i(p,g,u,t,e,o);if(!(void 0===m?p===g||n(p,g,i,r,o):m)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var b=t.constructor,v=e.constructor;b==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,s,l,c))}(t,e,vt,n,s,l))}function yt(t){return"function"==typeof t?t:null==t?$t:"object"==typeof t?Pt(t)?function(t,e){return Et(t)&&Lt(e)?Ct(Tt(t),e):function(n){var i=function(t,e,n){var i=null==t?void 0:mt(t,e);return void 0===i?void 0:i}(n,t);return void 0===i&&i===e?function(t,e){return null!=t&&function(t,e,n){for(var i,r=-1,o=(e=Et(e,t)?[e]:wt(e)).length;++r<o;){var a=Tt(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||!!(o=t?t.length:0)&&Ht(o)&&Nt(a,o)&&(Pt(t)||Bt(t))}(t,e,bt)}(n,t):vt(e,i,void 0,3)}}(t[0],t[1]):1==(n=function(t){for(var e=Vt(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Lt(r)]}return e}(e=t)).length&&n[0][2]?Ct(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,i){var r=n.length,o=r;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var s=(a=n[r])[0],l=t[s];if(a[2]){if(void 0===l&&!(s in t))return!1}else if(!vt(a[1],l,void 0,3,new pt))return!1}return!0}(t,0,n)}:Et(i=t)?(r=Tt(i),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return mt(e,t)}}(i);var e,n,i,r}function wt(t){return Pt(t)?t:At(t)}function kt(t,e,n,i,r,o){var a=2&r,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,d=!0,h=1&r?new ft:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var f=t[u],p=e[u];if(i)var g=a?i(p,f,u,e,t,o):i(f,p,u,t,e,o);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!C(e,function(t,e){if(!h.has(e)&&(f===t||n(f,t,i,r,o)))return h.add(e)})){d=!1;break}}else if(f!==p&&!n(f,p,i,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function _t(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function xt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!zt(t)||function(t){return!!M&&M in t}(t))&&(Mt(t)||A(t)?F:g).test(qt(t))}(n)?n:void 0}ut.prototype.clear=function(){this.__data__=et?et(null):{}},ut.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ut.prototype.get=function(t){var e=this.__data__;if(et){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return z.call(e,t)?e[t]:void 0},ut.prototype.has=function(t){var e=this.__data__;return et?void 0!==e[t]:z.call(e,t)},ut.prototype.set=function(t,e){return this.__data__[t]=et&&void 0===e?"__lodash_hash_undefined__":e,this},dt.prototype.clear=function(){this.__data__=[]},dt.prototype.delete=function(t){var e=this.__data__,n=gt(e,t);return!(n<0||(n==e.length-1?e.pop():G.call(e,n,1),0))},dt.prototype.get=function(t){var e=this.__data__,n=gt(e,t);return n<0?void 0:e[n][1]},dt.prototype.has=function(t){return gt(this.__data__,t)>-1},dt.prototype.set=function(t,e){var n=this.__data__,i=gt(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},ht.prototype.clear=function(){this.__data__={hash:new ut,map:new(Q||dt),string:new ut}},ht.prototype.delete=function(t){return _t(this,t).delete(t)},ht.prototype.get=function(t){return _t(this,t).get(t)},ht.prototype.has=function(t){return _t(this,t).has(t)},ht.prototype.set=function(t,e){return _t(this,t).set(t,e),this},ft.prototype.add=ft.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ft.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.clear=function(){this.__data__=new dt},pt.prototype.delete=function(t){return this.__data__.delete(t)},pt.prototype.get=function(t){return this.__data__.get(t)},pt.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof dt){var i=n.__data__;if(!Q||i.length<199)return i.push([t,e]),this;n=this.__data__=new ht(i)}return n.set(t,e),this};var Ot=function(t){return U.call(t)};function Nt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||b.test(t))&&t>-1&&t%1==0&&t<e}function Et(t,e){if(Pt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ft(t))||l.test(t)||!s.test(t)||null!=e&&t in Object(e)}function Lt(t){return t==t&&!zt(t)}function Ct(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}(Y&&"[object DataView]"!=Ot(new Y(new ArrayBuffer(1)))||Q&&Ot(new Q)!=r||X&&"[object Promise]"!=Ot(X.resolve())||J&&Ot(new J)!=a||tt&&"[object WeakMap]"!=Ot(new tt))&&(Ot=function(t){var e=U.call(t),n=e==o?t.constructor:void 0,i=n?qt(n):void 0;if(i)switch(i){case nt:return"[object DataView]";case it:return r;case rt:return"[object Promise]";case ot:return a;case at:return"[object WeakMap]"}return e});var At=Rt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Ft(t))return ct?ct.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return c.test(t)&&n.push(""),t.replace(u,function(t,e,i,r){n.push(i?r.replace(h,"$1"):e||t)}),n});function Tt(t){if("string"==typeof t||Ft(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function qt(t){if(null!=t){try{return H.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var jt,St=(jt=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r,o,a,s=null==n?0:(o=(r=(a=n)?1/0===(a=function(t){if("number"==typeof t)return t;if(Ft(t))return NaN;if(zt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=zt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var n=p.test(t);return n||m.test(t)?y(t.slice(2),n?2:8):f.test(t)?NaN:+t}(a))||-1/0===a?17976931348623157e292*(a<0?-1:1):a==a?a:0:0===a?a:0)%1,r==r?o?r-o:r:0);return s<0&&(s=Z(i+s,0)),function(t,e,n,i){for(var r=t.length,o=n+-1;++o<r;)if(e(t[o],o,t))return o;return-1}(t,yt(e),s)},function(t,e,n){var i=Object(t);if(!Dt(t)){var r=yt(e);t=Vt(t),e=function(t){return r(i[t],t,i)}}var o=jt(t,e,n);return o>-1?i[r?t[o]:o]:void 0});function Rt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(Rt.Cache||ht),n}function It(t,e){return t===e||t!=t&&e!=e}function Bt(t){return function(t){return Ut(t)&&Dt(t)}(t)&&z.call(t,"callee")&&(!$.call(t,"callee")||U.call(t)==i)}Rt.Cache=ht;var Pt=Array.isArray;function Dt(t){return null!=t&&Ht(t.length)&&!Mt(t)}function Mt(t){var e=zt(t)?U.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Ht(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ut(t){return!!t&&"object"==typeof t}function Ft(t){return"symbol"==typeof t||Ut(t)&&"[object Symbol]"==U.call(t)}var Wt=L?function(t){return function(e){return t(e)}}(L):function(t){return Ut(t)&&Ht(t.length)&&!!v[U.call(t)]};function Vt(t){return Dt(t)?function(t,e){var n=Pt(t)||Bt(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var o in t)!z.call(t,o)||r&&("length"==o||Nt(o,i))||n.push(o);return n}(t):function(t){if((e=t)!==("function"==typeof(n=e&&e.constructor)&&n.prototype||P))return K(t);var e,n,i=[];for(var r in Object(t))z.call(t,r)&&"constructor"!=r&&i.push(r);return i}(t)}function $t(t){return t}n.exports=St}).call(this,n("yLpj"),n("YuTi")(t))},HI9p:function(t,e,n){"use strict";var i=n("G3A0"),r=n("fywt"),o=n("fshX"),a=Math.max;e.a=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:Object(o.a)(n);return l<0&&(l=a(s+l,0)),Object(i.a)(t,Object(r.a)(e,3),l)}},HKyF:function(t,e,n){"use strict";n("ugiB"),n("CyTj")},IE5h:function(t,e,n){"use strict";n.d(e,"e",function(){return u}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"m",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"p",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"g",function(){return v}),n.d(e,"h",function(){return y}),n.d(e,"i",function(){return w}),n.d(e,"n",function(){return k}),n.d(e,"o",function(){return _}),n.d(e,"j",function(){return x}),n.d(e,"k",function(){return O}),n.d(e,"a",function(){return N}),n.d(e,"f",function(){return E});var i=n("82+D"),r=n("lU5h"),o=n("uh+T");const a={txt:"#855693",doc:"#518EBF",ppt:"#DE952F",pdf:"#DC5351",rar:"#9B9C98",html:"#D65E2D",css:"#3E935A",js:"#4E4E4B",php:"#306993",zip:"#727270",mp4:"#9C6591",mp3:"#263858",avi:"#D85268",gif:"#65B8DC",eps:"#DA6851",psd:"#51A9BF",ai:"#E3AD59",jpg:"#3D7AB1",png:"#7AA941",default:"#9B9C98"},s=new Set(["3g2","3gp","aaf","asf","avchd","avi","drc","flv","m2v","m4p","m4v","mkv","mng","mov","mp2","mp4","mpe","mpeg","mpg","mpv","mxf","nsv","ogv","qt","rm","rmvb","roq","svi","vob","webm","wmv","yuv"]),l=new Set(["mp3","opus","ogg","oga","wav","aac","caf","m4a","weba","dolby","flac"]),c=new Set(["bmp","gif","ico","jpeg","jpg","psd","tiff","ai","eps","svg","wmf","emf","png","webp"]),u=[i.a.dropbox,i.a.onedrive,i.a.box],d=[...u,i.a.google],h={[i.a.google]:{title:"Google Drive",icon:"google-drive-colored",icon2:"google-drive",cssSufix:"google-drive",userProperty:"drive_enabled",sourceText:"google-drive"},[i.a.dropbox]:{title:"Dropbox",icon:"dropbox-colored",icon2:"dropbox",cssSufix:"dropbox",userProperty:"dropbox_enabled",sourceText:"dropbox"},[i.a.onedrive]:{title:"OneDrive/Sharepoint",icon:"onedrive-colored",icon2:"onedrive",cssSufix:"onedrive",userProperty:"one_drive_enabled",sourceText:"onedrive"},[i.a.box]:{title:"Box",icon:"box-colored",icon2:"box",cssSufix:"box",userProperty:"box_enabled",sourceText:"box"}};function f(t){return t&&l.has(String(t).toLowerCase())}function p(t){return t&&c.has(String(t).toLowerCase())}function g(t){return t&&!t.is_folder&&p(t.extension||t.type)}function m(t){return t&&!t.is_folder&&(e=t.extension||t.type)&&s.has(String(e).toLowerCase());var e}function b(t){var e;if(m(t)){const n=String(t.extension||t.type).toLowerCase(),i=(null===(e=t.mimetype)||void 0===e?void 0:e.startsWith("video/"))?t.mimetype:"video/"+n,r=document.createElement("video");return Boolean(r.canPlayType(i))}return!1}function v(t){return t&&!t.is_folder&&f(t.extension||t.type)}function y(t){return t&&(t.source===i.a.google||t.source===i.a.dropbox||t.source===i.a.box||t.source===i.a.onedrive)}function w(t){return t&&(t.source===i.a.email||t.source===i.a.file)&&"html"===t.extension}function k(t){return t&&t.email_data&&"inbox"===t.email_data.client&&t.source===i.a.email&&"html"===t.extension}function _(t){return t&&t.email_data&&"outlook"===t.email_data.client&&t.source===i.a.email&&"html"===t.extension}function x(t){return"docx"===t.extension||"dotm"===t.extension||"dotx"===t.extension||"xlsx"===t.extension||"xlsb"===t.extension||"xls"===t.extension||"xlsm"===t.extension||"pptx"===t.extension||"ppsx"===t.extension||"ppt"===t.extension||"pps"===t.extension||"pptm"===t.extension||"potm"===t.extension||"ppam"===t.extension||"potx"===t.extension||"ppsm"===t.extension}function O(t){return t&&!k(t)&&!_(t)&&t.source===i.a.email&&"html"===t.extension}function N(t,e){if(!t||t.deleted)return!1;if(t.view)return!0;if(t.source===i.a.google&&t.url&&o.a(t.url)&&!Object(r.b)())return!0;if(y(t))return!!t.thumbnail_large;if(w(t))return!0;const n=String(t.extension||t.type);switch(n){case"bmp":case"tiff":case"jpeg":case"jpg":case"png":case"gif":case"avi":case"flv":case"mov":case"mp4":case"mpg":case"pdf":case"txt":case"webm":return!0;case"docx":case"dotm":case"dotx":case"xlsx":case"xlsb":case"xls":case"xlsm":case"pptx":case"ppsx":case"ppt":case"pps":case"pptm":case"potm":case"ppam":case"potx":case"ppsm":return e;case"webp":return function(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}();default:return f(n)}}function E(t){return a[t.extension]||a.default}},Iab2:function(t,e,n){(function(n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,n,a){var s=o.URL||o.webkitURL,l=document.createElement("a");l.download=n=n||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?r(l):i(l.href)?e(t,n,a):r(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){r(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(i(t))e(t,n,o);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){r(a)})}}:function(t,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var d=o.URL||o.webkitURL,h=d.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});o.saveAs=s.saveAs=s,t.exports=s})?i.apply(e,[]):i)||(t.exports=r)}).call(this,n("yLpj"))},KKCa:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},KiMO:function(t,e,n){"use strict";var i=n("e1lX"),r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")?",u="[\\ufe0e\\ufe0f]?"+c+"(?:\\u200d(?:"+[a,s,l].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*",d="(?:"+[a+r+"?",r,s,l,"[\\ud800-\\udfff]"].join("|")+")",h=RegExp(o+"(?="+o+")|"+d+u,"g");e.a=function(t){return Object(i.a)(t)?function(t){return t.match(h)||[]}(t):function(t){return t.split("")}(t)}},Knr1:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("Wk/N"),r=n("s3LH");class o{constructor(t,e={}){this.blot=t,this.options=e,this.attach()}attach(){this.dragStartBinded||(this.dragStartBinded=this.dragStart.bind(this),this.blot.domNode.addEventListener("dragstart",this.dragStartBinded)),this.dragEndBinded||(this.dragEndBinded=this.dragEnd.bind(this),this.blot.domNode.addEventListener("dragend",this.dragEndBinded))}detach(){this.dragStartBinded&&(this.blot.domNode.removeEventListener("dragstart",this.dragStartBinded),this.dragStartBinded=null),this.dragEndBinded&&(this.blot.domNode.removeEventListener("dragend",this.dragEndBinded),this.dragEndBinded=null)}dragStart(t){t.stopPropagation();const e=this.getQuill();if(!e||!e.isEnabled())return void t.preventDefault();e.container.classList.add("ql-dragging");const n=e.getIndex(this.blot)-(this.options.offset||0),r=this.blot.length()+(this.options.offset||0),o=e.getContents(n,r);if(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain"," "),t.dataTransfer.setData(i.f,JSON.stringify({range:{index:n,length:r},delta:o})),t.dataTransfer.setData(i.g,e.options.id),this.options.useDefault){const t=e.getModule("dnd");t&&(t.preventDefault=!1)}}dragEnd(t){const e=this.getQuill();if(e){if(e.container.classList.remove("ql-dragging"),this.options.useDefault){const t=e.getModule("dnd");t&&(t.preventDefault=!0)}}else t.preventDefault()}getQuill(){return this.blot.scroll&&this.blot.scroll.domNode.parentNode?r.d.find(this.blot.scroll.domNode.parentNode):null}}},LTcn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=o(n("EQY2"));function o(t){return t&&t.__esModule?t:{default:t}}o(n("CyTj"));var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onMouseDown=function(t){if(t.target instanceof HTMLElement&&(n.dragHandle=t.target,n.setCursor(n.dragHandle.style.cursor),n.formatter.currentSpec)){var e=n.formatter.currentSpec.getTargetElement();if(e){var i=e.getBoundingClientRect();n.dragStartX=t.clientX,n.preDragWidth=i.width,n.targetRatio=i.height/i.width,document.addEventListener("mousemove",n.onDrag),document.addEventListener("mouseup",n.onMouseUp)}}},n.onDrag=function(t){if(n.formatter.currentSpec){var e=n.formatter.currentSpec.getTargetElement();if(e){var i,r=t.clientX-n.dragStartX;i=n.dragHandle===n.topLeftHandle||n.dragHandle===n.bottomLeftHandle?Math.round(n.preDragWidth-r):Math.round(n.preDragWidth+r);var o=n.targetRatio*i;e.setAttribute("width",""+i),e.setAttribute("height",""+o),n.formatter.update()}}},n.onMouseUp=function(){n.setCursor(""),document.removeEventListener("mousemove",n.onDrag),document.removeEventListener("mouseup",n.onMouseUp)},n.topLeftHandle=n.createHandle("top-left","nwse-resize"),n.topRightHandle=n.createHandle("top-right","nesw-resize"),n.bottomRightHandle=n.createHandle("bottom-right","nwse-resize"),n.bottomLeftHandle=n.createHandle("bottom-left","nesw-resize"),n.dragHandle=null,n.dragStartX=0,n.preDragWidth=0,n.targetRatio=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.topLeftHandle),this.formatter.overlay.appendChild(this.topRightHandle),this.formatter.overlay.appendChild(this.bottomRightHandle),this.formatter.overlay.appendChild(this.bottomLeftHandle),this.repositionHandles(this.formatter.options.resize.handleStyle)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.topLeftHandle),this.formatter.overlay.removeChild(this.topRightHandle),this.formatter.overlay.removeChild(this.bottomRightHandle),this.formatter.overlay.removeChild(this.bottomLeftHandle)}},{key:"createHandle",value:function(t,e){var n=document.createElement("div");return n.classList.add(this.formatter.options.resize.handleClassName),n.setAttribute("data-position",t),n.style.cursor=e,this.formatter.options.resize.handleStyle&&Object.assign(n.style,this.formatter.options.resize.handleStyle),n.addEventListener("mousedown",this.onMouseDown),n}},{key:"repositionHandles",value:function(t){var e="0px",n="0px";t&&(t.width&&(e=-parseFloat(t.width)/2+"px"),t.height&&(n=-parseFloat(t.height)/2+"px")),Object.assign(this.topLeftHandle.style,{left:e,top:n}),Object.assign(this.topRightHandle.style,{right:e,top:n}),Object.assign(this.bottomRightHandle.style,{right:e,bottom:n}),Object.assign(this.bottomLeftHandle.style,{left:e,bottom:n})}},{key:"setCursor",value:function(t){if(document.body&&(document.body.style.cursor=t),this.formatter.currentSpec){var e=this.formatter.currentSpec.getOverlayElement();e&&(e.style.cursor=t)}}}]),e}(r.default);e.default=a},LV2V:function(t,e,n){"use strict";var i=n("+Xah"),r=n("UA7w"),o=n("xhnO");e.a=function(t,e){return Object(o.a)(Object(r.a)(t,e,i.a),t+"")}},M6NW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xwv1"),r=n("ZT6b"),o=n("8eaM"),a=n("cegH"),s=n("Wvi1"),l=function(){function t(){}return t.convert=function(e,n){if(!Array.isArray(e))return[];for(var r,o,l=[],c=0,u=[].concat.apply([],e.map(s.InsertOpDenormalizer.denormalize));c<u.length;c++){var d=u[c];d.insert&&(r=t.convertInsertVal(d.insert,n))&&(o=a.OpAttributeSanitizer.sanitize(d.attributes,n),l.push(new i.DeltaInsertOp(r,o)))}return l},t.convertInsertVal=function(t,e){if("string"==typeof t)return new o.InsertDataQuill(r.DataType.Text,t);if(!t||"object"!=typeof t)return null;var n=Object.keys(t);return n.length?r.DataType.Image in t?new o.InsertDataQuill(r.DataType.Image,a.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[r.DataType.Image]+"",e)):r.DataType.Video in t?new o.InsertDataQuill(r.DataType.Video,a.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[r.DataType.Video]+"",e)):r.DataType.Formula in t?new o.InsertDataQuill(r.DataType.Formula,t[r.DataType.Formula]):new o.InsertDataCustom(n[0],t[n[0]]):null},t}();e.InsertOpsConverter=l},MCLT:function(t,e,n){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},r=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),l=i[n];n<o;l=i[++n])g(l)||!w(l)?a+=" "+l:a+=" "+s(l);return a},e.deprecate=function(n,i){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(t.throwDeprecation)throw new Error(i);r=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,t,i.depth)}function l(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function c(t,e){return t}function u(t,n,i){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return b(r)||(r=u(t,r,i)),r}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(x(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return d(n)}var l,c="",w=!1,O=["{","}"];return f(n)&&(w=!0,O=["[","]"]),x(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]"),y(n)&&(c=" "+RegExp.prototype.toString.call(n)),k(n)&&(c=" "+Date.prototype.toUTCString.call(n)),_(n)&&(c=" "+d(n)),0!==a.length||w&&0!=n.length?i<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=w?function(t,e,n,i,r){for(var o=[],a=0,s=e.length;a<s;++a)N(e,String(a))?o.push(h(t,e,n,i,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(h(t,e,n,i,r,!0))}),o}(t,n,i,s,a):a.map(function(e){return h(t,n,i,s,e,w)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(l,c,O)):O[0]+c+O[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=t.stylize(l.set?"[Getter/Setter]":"[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),N(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=g(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function f(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return w(t)&&"[object RegExp]"===O(t)}function w(t){return"object"==typeof t&&null!==t}function k(t){return w(t)&&"[object Date]"===O(t)}function _(t){return w(t)&&("[object Error]"===O(t)||t instanceof Error)}function x(t){return"function"==typeof t}function O(t){return Object.prototype.toString.call(t)}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.debuglog=function(n){return v(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),a[n]||(a[n]=new RegExp("\\b"+n+"\\b","i").test(o)?function(){e.format.apply(e,arguments)}:function(){}),a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=y,e.isObject=w,e.isDate=k,e.isError=_,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("1gqn"),e.log=function(){},e.inherits=n("KKCa"),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var E="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(E&&t[E]){var e;if("function"!=typeof(e=t[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise(function(t,i){e=t,n=i}),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push(function(t,i){t?n(t):e(i)});try{t.apply(this,r)}catch(a){n(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),E&&Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=E,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return r.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(L,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,i(e)),n}}).call(this,n("8oxB"))},Mx8Z:function(t,e,n){"use strict";n.d(e,"b",function(){return m}),n.d(e,"a",function(){return b});var i=n("s3LH"),r=n("YAnr"),o=n("Wk/N"),a=n("381O"),s=n("O5Dz"),l=n("TqRa"),c=n("RecH"),u=n("7Cbv"),d=n("h7sE");const h=i.d.import("formats/list-block-wrapper"),f=i.d.import("attributors/attribute/block-id"),p=["height","width","data-size","data-expanded"],g=["height","width"],m=["youtube","loom","vimeo","figma","miro"];let b=(()=>{class t extends a.a{constructor(e,n){super(e,n),setTimeout(()=>{const e=t.formats(n);e&&e[f.attrName]||this.format(f.attrName,"block-"+Object(u.a)())},0)}static register(){h.addAllowChildren(t)}static create(t){const e=super.create(t);e.setAttribute("id",t.id),e.setAttribute("service",t.service),e.setAttribute("url","clickup_video"===t.service?this.sanitize(Object(r.p)(t)):t.url),"clickup_video"===t.service&&e.setAttribute("copy-url",this.sanitize(Object(s.a)(Object(l.d)(t.url)))),e.setAttribute("readonly","readonly"),e.setAttribute("contenteditable","false"),e.setAttribute("draggable","false");const n=document.createElement("div");n.classList.add("ql-frame__body"),e.appendChild(n),this.addHeader(e,n,t);const i=document.createElement("div");return i.classList.add("ql-frame__content"),i.style.backgroundImage=`url(${Object(r.o)(t)})`,n.appendChild(i),Object(r.a)(t)?this.embedFrame(e,t,i):this.unembedFrame(e,t,i),e}static formats(t){const e=c.a.concat(c.b).concat([c.c,c.e]).concat([f.attrName]).reduce((e,n)=>(t.hasAttribute("data-"+n)&&(e[n]=t.getAttribute("data-"+n)||void 0),e),{}),n=p.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{});return Object.assign(Object.assign({},e),n)}static sanitize(t){return Object(d.k)(t)}static value(t){const e=t.querySelector("iframe");return{id:t.getAttribute("id"),service:t.getAttribute("service"),url:t.getAttribute("url"),src:e?e.getAttribute("src"):null}}static getFrameHtml(t){if("clickup_video"===t.service){const e=document.createElement("video");return e.controls=!0,e.src=this.sanitize(Object(r.p)(t)),e.style.width="100%",e.style.height="100%",e}{const e=document.createElement("iframe");return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(Object(r.p)(t))),e}}static getOverlayHtml(e,n,i){const r=document.createElement("div");r.classList.add("ql-frame__content-play","icon"),r.innerHTML='<svg viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M0 2C0 .895.871 0 1.945 0 3.02 0 3.891.895 3.891 2v12c0 1.105-.871 2-1.946 2C.871 16 0 15.105 0 14V2z"/><path d="M.973 3.732C.043 3.18-.277 1.957.261 1 .798.044 1.988-.284 2.918.268l10.109 6c.93.553 1.25 1.776.712 2.732-.537.957-1.727 1.285-2.657.732l-10.109-6z"/><path d="M.973 12.268c-.93.553-1.25 1.776-.712 2.732.537.957 1.727 1.285 2.657.732l10.109-6c.93-.552 1.25-1.775.712-2.732-.537-.956-1.727-1.284-2.657-.732l-10.109 6z"/><path d="M1.945 14V2l10.7 6-10.7 6z"/></svg>',r.addEventListener("click",i);const a=document.createElement("div");a.classList.add("ql-frame__content-preview","icon"),a.innerHTML='<svg viewBox="0 0 14 15" xmlns="http://www.w3.org/2000/svg"><path d="M9.7 5.7L12 3.43V4a1 1 0 102 0V.9a1 1 0 00-1-.9h-3a1 1 0 000 2h.59l-2.3 2.3a1 1 0 101.42 1.4zm-5.4 0L2 3.43V4a1 1 0 11-2 0V.9A1 1 0 011 0h3a1 1 0 110 2h-.59l2.3 2.3a1 1 0 01-1.42 1.4zm5.4 2.6l2.3 2.29V10a1 1 0 012 0v3.1a1 1 0 01-1 .9h-3a1 1 0 110-2h.59l-2.3-2.3a1 1 0 111.42-1.4zm-5.4 0L2 10.58V10a1 1 0 00-2 0v3.1a1 1 0 001 .9h3a1 1 0 100-2h-.59l2.3-2.3a1 1 0 00-1.42-1.4z"/></svg>',a.addEventListener("click",n=>{const i=document.createEvent("Event");i.initEvent(o.d,!0,!0);const r=t.value(e);i.detail={value:r,original:n},document.dispatchEvent(i),this.unembedFrame(e,r)});const s=document.createElement("a");s.classList.add("ql-frame__content-new-tab","icon"),s.innerHTML='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.7 9.7L14 3.43V5a1 1 0 102 0V.9a1 1 0 00-1-.9h-4a1 1 0 100 2h1.59l-6.3 6.3a1 1 0 001.42 1.4z"/><path d="M2 2a2 2 0 00-2 2v10c0 1.1.9 2 2 2h10a2 2 0 002-2V9a1 1 0 10-2 0v5H2V4h5a1 1 0 000-2H2z"/></svg>';const c="clickup_video"===n.service?Object(l.d)(n.url):n.url;s.setAttribute("href",this.sanitize(c)),s.setAttribute("target","_blank"),s.setAttribute("draggable","false");const u=document.createElement("div");return u.classList.add("ql-frame__options"),u.appendChild(a),u.appendChild(r),u.appendChild(s),u}static addHeader(e,n,r){const a=document.createElement("div");a.classList.add("ql-frame__header");const s="clickup_video"===r.service?Object(l.d)(r.url):r.url;a.innerHTML=`    <div class="ql-frame__header-preview icon">    <svg viewBox="0 0 14 15" xmlns="http://www.w3.org/2000/svg"><path d="M9.7 5.7L12 3.43V4a1 1 0 102 0V.9a1 1 0 00-1-.9h-3a1 1 0 000 2h.59l-2.3 2.3a1 1 0 101.42 1.4zm-5.4 0L2 3.43V4a1 1 0 11-2 0V.9A1 1 0 011 0h3a1 1 0 110 2h-.59l2.3 2.3a1 1 0 01-1.42 1.4zm5.4 2.6l2.3 2.29V10a1 1 0 012 0v3.1a1 1 0 01-1 .9h-3a1 1 0 110-2h.59l-2.3-2.3a1 1 0 111.42-1.4zm-5.4 0L2 10.58V10a1 1 0 00-2 0v3.1a1 1 0 001 .9h3a1 1 0 100-2h-.59l2.3-2.3a1 1 0 00-1.42-1.4z"/></svg>    </div>    <div class="ql-frame__header-info">        <a class="ql-frame__header-info-row" href="${this.sanitize(s)}" target="_blank" draggable="false" ><div class="ql-frame__header-service">Embed</div>\n                    <div class="ql-frame__header-new-tab icon"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.7 9.7L14 3.43V5a1 1 0 102 0V.9a1 1 0 00-1-.9h-4a1 1 0 100 2h1.59l-6.3 6.3a1 1 0 001.42 1.4z"/><path d="M2 2a2 2 0 00-2 2v10c0 1.1.9 2 2 2h10a2 2 0 002-2V9a1 1 0 10-2 0v5H2V4h5a1 1 0 000-2H2z"/></svg></div>        </a>      <a href="${this.sanitize(s)}" target="_blank" draggable="false" class="ql-frame__header-title">&nbsp;</a>    </div><div class="ql-frame__expanded"><svg class="ql-frame__expanded-icon ql-frame__expanded-icon_collapsed" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h16v16H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3.7 3.4l-3 4-.45.6.45.6 3 4 1.6-1.2L3.5 9H7V7H3.5l1.8-2.4-1.6-1.2zm8.6 0l3 4 .45.6-.45.6-3 4-1.6-1.2L12.5 9H9V7h3.5l-1.8-2.4 1.6-1.2z"/></svg><svg class="ql-frame__expanded-icon ql-frame__expanded-icon_expanded" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M12.2 3l-3 4-.45.6.45.6 3 4 1.6-1.2L12 8.6h3.5v-2H12l1.8-2.4L12.2 3zM3.8 3l3 4 .45.6-.45.6-3 4L2.2 11 4 8.6H.5v-2H4L2.2 4.2 3.8 3z"/></svg></div><div class="ql-frame__dropdown"><div class="ql-frame__dropdown-toggle icon"><svg viewBox="0 0 16 4" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd"/></svg></div><div class="ql-frame__dropdown-menu"><div class="ql-frame__dropdown-menu-item ql-frame__size-small"><div class="ql-frame__dropdown-menu-icon icon"><svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M4 3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M0 2C0 .9.9 0 2 0h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm2 0h12v10H2V2z"/></svg></div>Small</div><div class="ql-frame__dropdown-menu-item ql-frame__size-large"><div class="ql-frame__dropdown-menu-icon icon"><svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M4 3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M0 2C0 .9.9 0 2 0h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm2 0h12v10H2V2z"/></svg></div>Large</div><div class="ql-frame__dropdown-menu-separator"></div><div class="ql-frame__dropdown-menu-item ql-frame__copy"><div class="ql-frame__dropdown-menu-icon icon"><svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h16v16H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11 1H9.732a2 2 0 00-3.464 0H5a3 3 0 00-3 3v9a3 3 0 003 3h6a3 3 0 003-3V4a3 3 0 00-3-3zM5 3a1 1 0 00-1 1v9a1 1 0 001 1h6a1 1 0 001-1V4a1 1 0 00-1-1H5zm1.5 2a1 1 0 000 2h3a1 1 0 100-2h-3z"/></svg></div><span data-text>Copy Link</span></div><div class="ql-frame__dropdown-menu-item ql-frame__close"><div class="ql-frame__dropdown-menu-icon icon"><svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M13 7.5A5.5 5.5 0 007.5 2v2a3.5 3.5 0 11-3.465 4C3.958 7.453 3.552 7 3 7c-.552 0-1.027.45-.978 1A5.5 5.5 0 0013 7.5z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M1.293 2.293l.038-.036L3.295.293a1 1 0 011.414 1.414L4.416 2H7.5v2H4.414l.295.295a1 1 0 01-1.414 1.414L1.33 3.745A.997.997 0 011 3c-.001-.256.096-.513.292-.708z"/></svg></div><span>Remove embed</span></div><div class="ql-frame__dropdown-menu-item ql-frame__remove"><div class="ql-frame__dropdown-menu-icon icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z" fill="#FD71AF"/></svg></div><span>Delete</span></div></div></div>`,n.appendChild(a),a.querySelector(".ql-frame__expanded").addEventListener("click",t=>{const n=i.d.find(e);n&&n.format("data-expanded",!e.getAttribute("data-expanded"))}),a.querySelector(".ql-frame__header-preview").addEventListener("click",n=>{const i=document.createEvent("Event");i.initEvent(o.d,!0,!0);const r=t.value(e);i.detail={value:r,original:n},document.dispatchEvent(i),this.unembedFrame(e,r)}),a.querySelector(".ql-frame__size-small").addEventListener("click",t=>{const n=i.d.find(e);n&&n.format("data-size","small")}),a.querySelector(".ql-frame__size-large").addEventListener("click",t=>{const n=i.d.find(e);n&&n.format("data-size","large")})}static embedFrame(e,n,i){n=n||t.value(e),i=i||e.querySelector(".ql-frame__content"),n&&i&&(i.innerHTML="",i.appendChild(t.getFrameHtml(n))),n.service&&"miro"===n.service&&(e.querySelector(".ql-frame__header-service").innerHTML=`<img\n        src="./assets/images/components/comments/comments-frame/${n.service}.svg"\n        alt=""\n      /><img\n        src="./assets/images/components/comments/comments-frame/${n.service}_dark-theme.svg"\n        alt=""\n      />`)}static unembedFrame(e,n,i){n=n||t.value(e),i=i||e.querySelector(".ql-frame__content"),n&&i&&(i.innerHTML="",n.service&&"custom"!==n.service&&(e.querySelector(".ql-frame__header-service").innerHTML=`<img\n              src="./assets/images/components/comments/comments-frame/${n.service}.svg"\n              alt=""\n            /><img\n              src="./assets/images/components/comments/comments-frame/${n.service}_dark-theme.svg"\n              alt=""\n            />`),i.appendChild(t.getOverlayHtml(e,n,()=>{this.embedFrame(e,null,i)})))}attach(){super.attach();const e=this.getQuill(),n=e&&e.options&&e.options.modules&&e.options.modules.linkEmbedding,i=n&&n.auto;if(i&&t.embedFrame(this.domNode),!i&&n&&n.resolveLinkData){const t=this.domNode.getAttribute("url"),e=n.resolveLinkData(t);e&&e.then(t=>{t&&(this.setTitle(t.title),t.thumbnail&&this.setThumbnail(t.thumbnail))})}}format(e,n){if(p.indexOf(e)>-1){if(n){if("data-size"===e&&"large"===n&&this.domNode.getAttribute(e)!==n){const e=t.value(this.domNode);Object(r.b)(e)&&t.embedFrame(this.domNode,e)}this.domNode.setAttribute(e,n),g.indexOf(e)>-1&&this.domNode.style.setProperty(e,n+"px")}else this.domNode.removeAttribute(e),g.indexOf(e)>-1&&this.domNode.style.setProperty(e,null);"data-size"!==e||n&&"small"!==n||g.forEach(t=>{this.format(t,null)})}else c.a.concat(c.b).concat([c.c,c.e]).concat([f.attrName]).indexOf(e)>-1?n?this.domNode.setAttribute("data-"+e,n):this.domNode.removeAttribute("data-"+e):super.format(e,n)}optimize(e){const n=t.formats(this.domNode),{row:i,cell:r,rowspan:o,colspan:a}=n;!n[c.c]||this.parent instanceof h||this.wrap(h.blotName,{row:i,cell:r,colspan:a,rowspan:o,list:"none",[c.e]:n[c.e]}),super.optimize(e)}setTitle(t){const e=this.domNode.querySelector(".ql-frame__header-title");e&&(e.innerText=t)}setThumbnail(t){const e=this.domNode.querySelector(".ql-frame__content");e&&(e.style.backgroundImage=`url(${t})`)}}return t.blotName="frame",t.className="ql-frame",t.tagName="div",t})()},RecH:function(t,e,n){"use strict";n.d(e,"f",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return d});var i=n("SNEm"),r=n.n(i),o=n("m8R6");function a(t){let e=new r.a;const n=function(t){return t.reduce((t,e)=>{if(e.insert&&"string"==typeof e.insert){const n=[],i=e.insert;let r=0;for(let t=0;t<e.insert.length;t++)"\n"===i.charAt(t)&&(0===t||n.push(i.substring(r,t)),n.push("\n"),r=t+1);const o=i.substring(r);o&&n.push(o),n.forEach(n=>{"\n"===n&&t.push(e.attributes&&e.attributes.table||!1)})}return t},[])}(t);let i=0,a=null,s=null;return e=t.reduce((t,e,l)=>{if(e.insert&&"string"==typeof e.insert)if(e.attributes&&e.attributes.table){for(a=n[0];a;)a===e.attributes.table?(n.shift(),i+=1,a=n[0]):(n.shift(),a=n[0]);if(i>0){let e=t.ops.pop();const n=[];for(;e;)if("string"==typeof e.insert)if(e.insert.indexOf("\n")>=0){const i=e.insert.split("\n"),r=i.pop();t.insert(i.join("\n")+"\n",e.attributes),r&&n.push({insert:r,attributes:e.attributes||{}}),e=null}else n.push(e),e=t.ops.pop();else n.push(e),e=t.ops.pop();t.insert(new Array(i).fill(0).map(()=>"\n").join(""),{"table-col":{width:"150"}});const o=new r.a(n.reverse());t=t.concat(o),i=0}const s=[],l=e.insert;let c=0;for(let t=0;t<e.insert.length;t++)"\n"===l.charAt(t)&&(0===t||s.push(l.substring(c,t)),s.push("\n"),c=t+1);const u=l.substring(c);u&&s.push(u),s.forEach(n=>{t.insert(n,"\n"===n?Object.assign({},{row:e.attributes.table,rowspan:1,colspan:1},{"table-cell-line":{row:e.attributes.table,rowspan:1,colspan:1,cell:"cell-"+Math.random().toString(36).slice(2,8)}},Object(o.a)(e.attributes,["table"])):Object(o.a)(e.attributes,["table"]))})}else if(e.attributes&&e.attributes.list&&"string"==typeof e.attributes.list)t.insert(e.insert,Object.assign({},e.attributes,{list:{list:e.attributes.list}}));else if(e.attributes&&e.attributes.banner&&"string"==typeof e.attributes.banner)t.insert(e.insert,Object.assign({},e.attributes,{banner:{banner:e.attributes.banner}}));else if(e.attributes&&e.attributes.blockquote&&"object"!=typeof e.attributes.blockquote)t.insert(e.insert,Object.assign({},e.attributes,{blockquote:{}}));else if(e.attributes&&e.attributes["code-block"]&&"string"==typeof e.attributes["code-block"])t.insert(e.insert,Object.assign({},e.attributes,{"code-block":{"code-block":e.attributes["code-block"]}}));else{const r=e.insert.split("").filter(t=>"\n"===t).length;new Array(r).fill(0).forEach(()=>{n.shift()}),i=0,t.insert(e.insert,e.attributes)}else s&&s.insert&&s.insert.task_mention&&e.insert&&e.insert.task_mention&&e.insert.task_mention.task_id===s.insert.task_mention.task_id||t.insert(e.insert,e.attributes);return s=e,t},new r.a),e}const s=["row","cell"],l=["rowspan","colspan"],c="in-list",u="wrapper-indent",d=["bullet","ordered","checked","unchecked","toggled","none"]},RwZa:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return s});var i=n("0jq0");function r(t){return t?t.startsWith("@@@")?{query:t.substring(3),tab:3===t.length?i.a.Doc:void 0}:t.startsWith("@@")?{query:t.substring(2),tab:2===t.length?i.a.Task:void 0}:t.startsWith("@")?{query:t.substring(1),tab:1===t.length?i.a.User:void 0}:void 0:{query:t}}const o={id:"followers_tag",icon:"cu2-eye",label:$localize`:@@common_watchers:Watchers`},a={id:"assignees_tag",icon:"cu2-users-2",label:$localize`:@@common_assignees:Assignees`},s=[o,a]},Szkd:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const i=n("s3LH").d.import("blots/block");let r=(()=>{class t extends i{}return t.blotName="block",t.tagName="div",t})()},T6L0:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("ECCn");window.hljs=n.n(i).a,window.requestIdleCallback(()=>{n.e(60).then(n.t.bind(null,"FIf5",7))});const r=[{key:"bash",label:"Bash"},{key:"css",label:"CSS"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"diff",label:"Diff"},{key:"elixir",label:"Elixir"},{key:"erlang",label:"Erlang"},{key:"gherkin",label:"Gherkin"},{key:"go",label:"Go"},{key:"haskell",label:"Haskell"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"json",label:"JSON"},{key:"kotlin",label:"Kotlin"},{key:"less",label:"Less"},{key:"markdown",label:"Markdown"},{key:"perl",label:"Perl"},{key:"php",label:"PHP"},{key:"plain",label:"Plain text"},{key:"python",label:"Python"},{key:"r",label:"R"},{key:"ruby",label:"Ruby"},{key:"rust",label:"Rust"},{key:"scala",label:"Scala"},{key:"scheme",label:"Scheme"},{key:"scss",label:"SCSS"},{key:"sql",label:"SQL"},{key:"swift",label:"Swift"},{key:"typescript",label:"Typescript"},{key:"yaml",label:"YAML"}]},V5G8:function(t,e,n){(function(t){var n,i,r;function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function s(t){var e=h();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return d(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,t)})(t)}function d(t,e,n){return(d=h()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&f(r,n.prototype),r}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,r=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==w(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,(function(e){return t[e]}).bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var i;n.r(e),function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(i||(i={}));var r=i,l=function(){function t(){b(this,t),this.head=null,this.tail=null,this.length=0}return y(t,[{key:"append",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))}},{key:"at",value:function(t){for(var e=this.iterator(),n=e();n&&t>0;)t-=1,n=e();return n}},{key:"contains",value:function(t){for(var e=this.iterator(),n=e();n;){if(n===t)return!0;n=e()}return!1}},{key:"indexOf",value:function(t){for(var e=this.iterator(),n=e(),i=0;n;){if(n===t)return i;i+=1,n=e()}return-1}},{key:"insertBefore",value:function(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}},{key:"offset",value:function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1}},{key:"remove",value:function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}},{key:"iterator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.head;return function(){var e=t;return null!=t&&(t=t.next),e}}},{key:"find",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.iterator(),i=n();i;){var r=i.length();if(t<r||e&&t===r&&(null==i.next||0!==i.next.length()))return[i,t];t-=r,i=n()}return[null,0]}},{key:"forEach",value:function(t){for(var e=this.iterator(),n=e();n;)t(n),n=e()}},{key:"forEachAt",value:function(t,e,n){if(!(e<=0))for(var i=g(this.find(t),2),r=t-i[1],o=this.iterator(i[0]),a=o();a&&r<t+e;){var s=a.length();t>r?n(a,t-r,Math.min(e,r+s-t)):n(a,0,Math.min(s,t+e-r)),r+=s,a=o()}}},{key:"map",value:function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])}},{key:"reduce",value:function(t,e){for(var n=this.iterator(),i=n();i;)e=t(e,i),i=n();return e}}]),t}(),d=function(t){a(n,t);var e=s(n);function n(t){var i;return b(this,n),(i=e.call(this,t="[Parchment] "+t)).message=t,i.name=i.constructor.name,i}return n}(u(Error)),h=function(){function t(){b(this,t),this.attributes={},this.classes={},this.tags={},this.types={}}return y(t,[{key:"create",value:function(e,n,i){var r=this.query(n);if(null==r)throw new d("Unable to create ".concat(n," blot"));var o=new r(e,n instanceof Node||n.nodeType===Node.TEXT_NODE?n:r.create(i),i);return t.blots.set(o.domNode,o),o}},{key:"find",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.find(e,n)}},{key:"query",value:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.ANY;return"string"==typeof t?e=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?e=this.types.text:"number"==typeof t?t&r.LEVEL&r.BLOCK?e=this.types.block:t&r.LEVEL&r.INLINE&&(e=this.types.inline):t instanceof HTMLElement&&((t.getAttribute("class")||"").split(/\s+/).some(function(t){return!!(e=n.classes[t])}),e=e||this.tags[t.tagName]),null==e?null:i&r.LEVEL&e.scope&&i&r.TYPE&e.scope?e:null}},{key:"register",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length>1)return n.map(function(e){return t.register(e)});var r=n[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new d("Invalid definition");if("abstract"===r.blotName)throw new d("Cannot register abstract class");return this.types[r.blotName||r.attrName]=r,"string"==typeof r.keyName?this.attributes[r.keyName]=r:(null!=r.className&&(this.classes[r.className]=r),null!=r.tagName&&(r.tagName=Array.isArray(r.tagName)?r.tagName.map(function(t){return t.toUpperCase()}):r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(e){null!=t.tags[e]&&null!=r.className||(t.tags[e]=r)}))),r}}],[{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==t?null:this.blots.has(t)?this.blots.get(t)||null:e?this.find(t.parentNode,e):null}}]),t}();h.blots=new WeakMap;var f=function(){function t(e,n){b(this,t),this.scroll=e,this.domNode=n,h.blots.set(n,this),this.prev=null,this.next=null}return y(t,[{key:"attach",value:function(){}},{key:"clone",value:function(){var t=this.domNode.cloneNode(!1);return this.scroll.create(t)}},{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this),h.blots.delete(this.domNode)}},{key:"deleteAt",value:function(t,e){this.isolate(t,e).remove()}},{key:"formatAt",value:function(t,e,n,i){var o=this.isolate(t,e);if(null!=this.scroll.query(n,r.BLOT)&&i)o.wrap(n,i);else if(null!=this.scroll.query(n,r.ATTRIBUTE)){var a=this.scroll.create(this.statics.scope);o.wrap(a),a.format(n,i)}}},{key:"insertAt",value:function(t,e,n){var i=null==n?this.scroll.create("text",e):this.scroll.create(e,n),r=this.split(t);this.parent.insertBefore(i,r||void 0)}},{key:"isolate",value:function(t,e){var n=this.split(t);if(null==n)throw new Error("Attempt to isolate at end");return n.split(e),n}},{key:"length",value:function(){return 1}},{key:"offset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;return null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}},{key:"optimize",value:function(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)}},{key:"remove",value:function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}},{key:"replaceWith",value:function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}},{key:"split",value:function(t,e){return 0===t?this:this.next}},{key:"update",value:function(t,e){}},{key:"wrap",value:function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new d("Cannot wrap ".concat(t));return n.appendChild(this),n}},{key:"statics",get:function(){return this.constructor}}],[{key:"create",value:function(t){if(null==this.tagName)throw new d("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t,10).toString()===t&&(t=parseInt(t,10))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}}]),t}();f.blotName="abstract";var m=f,v=function(t){a(n,t);var e=s(n);function n(t,i){var r;return b(this,n),(r=e.call(this,t,i)).uiNode=null,r.build(),r}return y(n,[{key:"appendChild",value:function(t){this.insertBefore(t)}},{key:"attach",value:function(){o(p(n.prototype),"attach",this).call(this),this.children.forEach(function(t){t.attach()})}},{key:"attachUI",value:function(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,n.uiClass&&this.uiNode.classList.add(n.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}},{key:"build",value:function(){var t=this;this.children=new l,Array.from(this.domNode.childNodes).filter(function(e){return e!==t.uiNode}).reverse().forEach(function(e){try{var n=w(e,t.scroll);t.insertBefore(n,t.children.head||void 0)}catch(e){if(e instanceof d)return;throw e}})}},{key:"deleteAt",value:function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})}},{key:"descendant",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.children.find(e),r=g(i,2),o=r[0],a=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,a]:o instanceof n?o.descendant(t,a):[null,-1]}},{key:"descendants",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,r=[],o=i;return this.children.forEachAt(e,i,function(e,i,a){(null==t.blotName&&t(e)||null!=t.blotName&&e instanceof t)&&r.push(e),e instanceof n&&(r=r.concat(e.descendants(t,i,o))),o-=a}),r}},{key:"detach",value:function(){this.children.forEach(function(t){t.detach()}),o(p(n.prototype),"detach",this).call(this)}},{key:"enforceAllowedChildren",value:function(){var t=this,e=!1;this.children.forEach(function(i){e||t.statics.allowedChildren.some(function(t){return i instanceof t})||(i.statics.scope===r.BLOCK_BLOT?(null!=i.next&&t.splitAfter(i),null!=i.prev&&t.splitAfter(i.prev),i.parent.unwrap(),e=!0):i instanceof n?i.unwrap():i.remove())})}},{key:"formatAt",value:function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,r){t.formatAt(e,r,n,i)})}},{key:"insertAt",value:function(t,e,n){var i=g(this.children.find(t),2),r=i[0];if(r)r.insertAt(i[1],e,n);else{var o=null==n?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(o)}}},{key:"insertBefore",value:function(t,e){null!=t.parent&&t.parent.children.remove(t);var n=null;this.children.insertBefore(t,e||null),null!=e&&(n=e.domNode),this.domNode.parentNode===t.domNode&&this.domNode.nextSibling===n||this.domNode.insertBefore(t.domNode,n),t.parent=this,t.attach()}},{key:"length",value:function(){return this.children.reduce(function(t,e){return t+e.length()},0)}},{key:"moveChildren",value:function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})}},{key:"optimize",value:function(t){if(o(p(n.prototype),"optimize",this).call(this,t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}},{key:"path",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.children.find(t,e),r=g(i,2),o=r[0],a=r[1],s=[[this,t]];return o instanceof n?s.concat(o.path(a,e)):(null!=o&&s.push([o,a]),s)}},{key:"removeChild",value:function(t){this.children.remove(t)}},{key:"replaceWith",value:function(t,e){var i="string"==typeof t?this.scroll.create(t,e):t;return i instanceof n&&this.moveChildren(i),o(p(n.prototype),"replaceWith",this).call(this,i)}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),function(t,i,r){var o=t.split(i,e);null!=o&&n.appendChild(o)}),n}},{key:"splitAfter",value:function(t){for(var e=this.clone();null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}},{key:"unwrap",value:function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}},{key:"update",value:function(t,e){var n=this,i=[],r=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),r.push.apply(r,t.removedNodes))}),r.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=n.scroll.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),i.filter(function(t){return t.parentNode===n.domNode||t===n.uiNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=n.scroll.find(t.nextSibling));var i=w(t,n.scroll);i.next===e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))}),this.enforceAllowedChildren()}}]),n}(m);function w(t,e){var n=e.find(t);if(null==n)try{n=e.create(t)}catch(i){n=e.create(r.INLINE),Array.from(t.childNodes).forEach(function(t){n.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach()}return n}v.uiClass="";var k=v,_=function(t){a(n,t);var e=s(n);function n(){return b(this,n),e.apply(this,arguments)}return y(n,[{key:"checkMerge",value:function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}},{key:"deleteAt",value:function(t,e){o(p(n.prototype),"deleteAt",this).call(this,t,e),this.enforceAllowedChildren()}},{key:"formatAt",value:function(t,e,i,r){o(p(n.prototype),"formatAt",this).call(this,t,e,i,r),this.enforceAllowedChildren()}},{key:"insertAt",value:function(t,e,i){o(p(n.prototype),"insertAt",this).call(this,t,e,i),this.enforceAllowedChildren()}},{key:"optimize",value:function(t){o(p(n.prototype),"optimize",this).call(this,t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}}]),n}(k);_.blotName="container",_.scope=r.BLOCK_BLOT;var x=_,O=function(t){a(n,t);var e=s(n);function n(){return b(this,n),e.apply(this,arguments)}return y(n,[{key:"index",value:function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}},{key:"position",value:function(t,e){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}},{key:"value",value:function(){return t={},e=this.statics.blotName,n=this.statics.value(this.domNode)||!0,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}}],[{key:"value",value:function(t){return!0}}]),n}(m);O.scope=r.INLINE_BLOT;var N=O,E=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.attrName=e,this.keyName=n;var o=r.TYPE&r.ATTRIBUTE;this.scope=null!=i.scope?i.scope&r.LEVEL|o:r.ATTRIBUTE,null!=i.whitelist&&(this.whitelist=i.whitelist)}return y(t,null,[{key:"keys",value:function(t){return Array.from(t.attributes).map(function(t){return t.name})}}]),y(t,[{key:"add",value:function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}},{key:"canAdd",value:function(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}},{key:"remove",value:function(t){t.removeAttribute(this.keyName)}},{key:"value",value:function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}]),t}();function L(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf("".concat(e,"-"))})}var C=function(t){a(n,t);var e=s(n);function n(){return b(this,n),e.apply(this,arguments)}return y(n,[{key:"add",value:function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add("".concat(this.keyName,"-").concat(e)),!0)}},{key:"remove",value:function(t){L(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")}},{key:"value",value:function(t){var e=(L(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}],[{key:"keys",value:function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})}}]),n}(E);function A(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}var T=function(t){a(n,t);var e=s(n);function n(){return b(this,n),e.apply(this,arguments)}return y(n,[{key:"add",value:function(t,e){return!!this.canAdd(t,e)&&(t.style[A(this.keyName)]=e,!0)}},{key:"remove",value:function(t){t.style[A(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}},{key:"value",value:function(t){var e=t.style[A(this.keyName)];return this.canAdd(t,e)?e:""}}],[{key:"keys",value:function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})}}]),n}(E),q=function(){function t(e){b(this,t),this.attributes={},this.domNode=e,this.build()}return y(t,[{key:"attribute",value:function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}},{key:"build",value:function(){var t=this;this.attributes={};var e=h.find(this.domNode);if(null!=e){var n=E.keys(this.domNode),i=C.keys(this.domNode),o=T.keys(this.domNode);n.concat(i).concat(o).forEach(function(n){var i=e.scroll.query(n,r.ATTRIBUTE);i instanceof E&&(t.attributes[i.attrName]=i)})}}},{key:"copy",value:function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})}},{key:"move",value:function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}}},{key:"values",value:function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})}}]),t}(),j=function(t){a(n,t);var e=s(n);function n(t,i){var r;return b(this,n),(r=e.call(this,t,i)).attributes=new q(r.domNode),r}return y(n,[{key:"format",value:function(t,e){var i=this;if(t!==this.statics.blotName||e){var o=this.scroll.query(t,r.INLINE);if(null==o)return;o instanceof E?this.attributes.attribute(o,e):!e||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e)}else this.children.forEach(function(t){t instanceof n||(t=t.wrap(n.blotName,!0)),i.attributes.copy(t)}),this.unwrap()}},{key:"formats",value:function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}},{key:"formatAt",value:function(t,e,i,a){null!=this.formats()[i]||this.scroll.query(i,r.ATTRIBUTE)?this.isolate(t,e).format(i,a):o(p(n.prototype),"formatAt",this).call(this,t,e,i,a)}},{key:"optimize",value:function(t){o(p(n.prototype),"optimize",this).call(this,t);var e=this.formats();if(0===Object.keys(e).length)return this.unwrap();var i=this.next;i instanceof n&&i.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(e,i.formats())&&(i.moveChildren(this),i.remove())}},{key:"replaceWith",value:function(t,e){var i=o(p(n.prototype),"replaceWith",this).call(this,t,e);return this.attributes.copy(i),i}},{key:"update",value:function(t,e){var i=this;o(p(n.prototype),"update",this).call(this,t,e),t.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()}},{key:"wrap",value:function(t,e){var i=o(p(n.prototype),"wrap",this).call(this,t,e);return i instanceof n&&this.attributes.move(i),i}}],[{key:"formats",value:function(t,e){var i=e.query(n.blotName);if(null==i||t.tagName!==i.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)}}]),n}(k);j.allowedChildren=[j,N],j.blotName="inline",j.scope=r.INLINE_BLOT,j.tagName="SPAN";var S=j,R=function(t){a(n,t);var e=s(n);function n(t,i){var r;return b(this,n),(r=e.call(this,t,i)).attributes=new q(r.domNode),r}return y(n,[{key:"format",value:function(t,e){var i=this.scroll.query(t,r.BLOCK);null!=i&&(i instanceof E?this.attributes.attribute(i,e):t!==this.statics.blotName||e?!e||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e):this.replaceWith(n.blotName))}},{key:"formats",value:function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}},{key:"formatAt",value:function(t,e,i,a){null!=this.scroll.query(i,r.BLOCK)?this.format(i,a):o(p(n.prototype),"formatAt",this).call(this,t,e,i,a)}},{key:"insertAt",value:function(t,e,i){if(null==i||null!=this.scroll.query(e,r.INLINE))o(p(n.prototype),"insertAt",this).call(this,t,e,i);else{var a=this.split(t);if(null==a)throw new Error("Attempt to insertAt after block boundaries");var s=this.scroll.create(e,i);a.parent.insertBefore(s,a)}}},{key:"replaceWith",value:function(t,e){var i=o(p(n.prototype),"replaceWith",this).call(this,t,e);return this.attributes.copy(i),i}},{key:"update",value:function(t,e){var i=this;o(p(n.prototype),"update",this).call(this,t,e),t.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()}}],[{key:"formats",value:function(t,e){var i=e.query(n.blotName);if(null==i||t.tagName!==i.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)}}]),n}(k);R.blotName="block",R.scope=r.BLOCK_BLOT,R.tagName="P",R.allowedChildren=[S,R,N];var I=R,B=function(t){a(n,t);var e=s(n);function n(){return b(this,n),e.apply(this,arguments)}return y(n,[{key:"format",value:function(t,e){o(p(n.prototype),"formatAt",this).call(this,0,this.length(),t,e)}},{key:"formatAt",value:function(t,e,i,r){0===t&&e===this.length()?this.format(i,r):o(p(n.prototype),"formatAt",this).call(this,t,e,i,r)}},{key:"formats",value:function(){return this.statics.formats(this.domNode,this.scroll)}}],[{key:"formats",value:function(t,e){}}]),n}(N),P={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},D=function(t){a(n,t);var e=s(n);function n(t,i){var r;return b(this,n),(r=e.call(this,null,i)).registry=t,r.scroll=c(r),r.build(),r.observer=new MutationObserver(function(t){r.update(t)}),r.observer.observe(r.domNode,P),r.attach(),r}return y(n,[{key:"create",value:function(t,e){return this.registry.create(this,t,e)}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.registry.find(t,e)}},{key:"query",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.ANY;return this.registry.query(t,e)}},{key:"register",value:function(){var t;return(t=this.registry).register.apply(t,arguments)}},{key:"build",value:function(){null!=this.scroll&&o(p(n.prototype),"build",this).call(this)}},{key:"detach",value:function(){o(p(n.prototype),"detach",this).call(this),this.observer.disconnect()}},{key:"deleteAt",value:function(t,e){this.update(),0===t&&e===this.length()?this.children.forEach(function(t){t.remove()}):o(p(n.prototype),"deleteAt",this).call(this,t,e)}},{key:"formatAt",value:function(t,e,i,r){this.update(),o(p(n.prototype),"formatAt",this).call(this,t,e,i,r)}},{key:"insertAt",value:function(t,e,i){this.update(),o(p(n.prototype),"insertAt",this).call(this,t,e,i)}},{key:"optimize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(p(n.prototype),"optimize",this).call(this,i);for(var r=i.mutationsMap||new WeakMap,a=Array.from(this.observer.takeRecords());a.length>0;)e.push(a.pop());for(var s=function e(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null!=n&&n!==t&&null!=n.domNode.parentNode&&(r.has(n.domNode)||r.set(n.domNode,[]),i&&e(n.parent))},l=function t(e){r.has(e.domNode)&&(e instanceof k&&e.children.forEach(t),r.delete(e.domNode),e.optimize(i))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var n=t.find(e.target,!0);null!=n&&(n.domNode===e.target&&("childList"===e.type?(s(t.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach(function(e){var n=t.find(e,!1);s(n,!1),n instanceof k&&n.children.forEach(function(t){s(t,!1)})})):"attributes"===e.type&&s(n.prev)),s(n))}),this.children.forEach(l),a=(c=Array.from(this.observer.takeRecords())).slice();a.length>0;)e.push(a.pop())}}},{key:"update",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||this.observer.takeRecords();var r=new WeakMap;t.map(function(t){var e=h.find(t.target,!0);return null==e?null:r.has(e.domNode)?(r.get(e.domNode).push(t),null):(r.set(e.domNode,[t]),e)}).forEach(function(t){null!=t&&t!==e&&r.has(t.domNode)&&t.update(r.get(t.domNode)||[],i)}),i.mutationsMap=r,r.has(this.domNode)&&o(p(n.prototype),"update",this).call(this,r.get(this.domNode),i),this.optimize(t,i)}}]),n}(k);D.blotName="scroll",D.defaultChild=I,D.allowedChildren=[I,x],D.scope=r.BLOCK_BLOT,D.tagName="DIV";var M=D,H=function(t){a(n,t);var e=s(n);function n(t,i){var r;return b(this,n),(r=e.call(this,t,i)).text=r.statics.value(r.domNode),r}return y(n,[{key:"deleteAt",value:function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}},{key:"index",value:function(t,e){return this.domNode===t?e:-1}},{key:"insertAt",value:function(t,e,i){null==i?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):o(p(n.prototype),"insertAt",this).call(this,t,e,i)}},{key:"length",value:function(){return this.text.length}},{key:"optimize",value:function(t){o(p(n.prototype),"optimize",this).call(this,t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof n&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}},{key:"position",value:function(t){return[this.domNode,t]}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}},{key:"update",value:function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))}},{key:"value",value:function(){return this.text}}],[{key:"create",value:function(t){return document.createTextNode(t)}},{key:"value",value:function(t){return t.data}}]),n}(N);H.blotName="text",H.scope=r.INLINE_BLOT;var z=H;n.d(e,"ParentBlot",function(){return k}),n.d(e,"ContainerBlot",function(){return x}),n.d(e,"LeafBlot",function(){return N}),n.d(e,"EmbedBlot",function(){return B}),n.d(e,"ScrollBlot",function(){return M}),n.d(e,"BlockBlot",function(){return I}),n.d(e,"InlineBlot",function(){return S}),n.d(e,"TextBlot",function(){return z}),n.d(e,"Attributor",function(){return E}),n.d(e,"ClassAttributor",function(){return C}),n.d(e,"StyleAttributor",function(){return T}),n.d(e,"AttributorStore",function(){return q}),n.d(e,"Registry",function(){return h}),n.d(e,"Scope",function(){return r})}])},"object"==w(e)&&"object"==w(t)?t.exports=r():void 0===(i="function"==typeof(n=r)?n.apply(e,[]):n)||(t.exports=i)}).call(this,n("YuTi")(t))},WNwX:function(t,e,n){"use strict";n.r(e);var i=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s(Array.isArray(t)?[]:{},t,e):t}function a(t,e,n){return t.concat(e).map(function(t){return o(t,n)})}function s(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||i;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var i={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(e){i[e]=o(t[e],n)}),Object.keys(e).forEach(function(r){i[r]=n.isMergeableObject(e[r])&&t[r]?s(t[r],e[r],n):o(e[r],n)}),i}(t,e,n):o(e,n)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return s(t,n,e)},{})},e.default=s},"Wk/N":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return d});const i="attachmentPreview",r="commentAttachmentEdit",o="commentAttachmentSave",a="framePreview",s="quill",l="editor",c="quillCopyToClipboard";var u=function(t){return t.EDITOR_CHANGE="editor-change",t.SCROLL_BEFORE_UPDATE="scroll-before-update",t.SCROLL_BLOT_MOUNT="scroll-blot-mount",t.SCROLL_BLOT_UNMOUNT="scroll-blot-unmount",t.SCROLL_OPTIMIZE="scroll-optimize",t.SCROLL_UPDATE="scroll-update",t.SELECTION_CHANGE="selection-change",t.TEXT_CHANGE="text-change",t}({}),d=function(t){return t.API="api",t.SILENT="silent",t.USER="user",t}({})},Wl8T:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=o(n("711E"));function o(t){return t&&t.__esModule?t:{default:t}}o(n("CyTj"));var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onClick=function(t){var e=t.target;e instanceof HTMLElement&&"IMG"===e.tagName&&(n.img=e,n.formatter.show(n))},n.img=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"init",value:function(){this.formatter.quill.root.addEventListener("click",this.onClick)}},{key:"getTargetElement",value:function(){return this.img}},{key:"onHide",value:function(){this.img=null}}]),e}(r.default);e.default=a},Wvi1:function(t,e,n){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZT6b"),o=i(n("FCQj")),a=i(n("fzN0")),s=function(){function t(){}return t.denormalize=function(t){if(!t||"object"!=typeof t)return[];if("object"==typeof t.insert||t.insert===r.NewLine)return[t];var e=o.tokenizeWithNewLines(t.insert+"");if(1===e.length)return[t];var n=a.assign({},t,{insert:r.NewLine});return e.map(function(e){return e===r.NewLine?n:a.assign({},t,{insert:e})})},t}();e.InsertOpDenormalizer=s},XXY8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n("EQY2")),o=(s(n("CyTj")),s(n("c8BJ"))),a=(n("ugiB"),n("HKyF"),s(n("Zt+T")));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.aligner=new o.default(t.options.align),n.toolbar=new a.default,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"onCreate",value:function(){var t=this.toolbar.create(this.formatter,this.aligner);this.formatter.overlay.appendChild(t)}},{key:"onDestroy",value:function(){var t=this.toolbar.getElement();t&&(this.formatter.overlay.removeChild(t),this.toolbar.destroy())}}]),e}(r.default);e.default=l},Xwv1:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZT6b"),o=n("8eaM"),a=i(n("XaGS")),s=i(n("FOgZ")),l=function(){function t(t,e){"string"==typeof t&&(t=new o.InsertDataQuill(r.DataType.Text,t+"")),this.insert=t,this.attributes=e||{}}return t.createNewLineOp=function(){return new t(r.NewLine)},t.prototype.isContainerBlock=function(t){return void 0===t&&(t=[]),this.isBlockquote()||this.isList()||this.isTableCellLine()||this.isTableCol()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()||this.isListBlockWrapper(t)},t.prototype.isBlockAttribute=function(){var t=this.attributes;return!!(t.align||t.direction||t.indent)},t.prototype.isBlockquote=function(){return!!this.attributes.blockquote},t.prototype.isHeader=function(){return!!this.attributes.header},t.prototype.isTableCellLine=function(){return!!this.attributes["table-cell-line"]},t.prototype.isTableCol=function(){return!!this.attributes["table-col"]},t.prototype.isSameHeaderAs=function(t){return t.attributes.header===this.attributes.header&&this.isHeader()},t.prototype.hasSameAdiAs=function(t){return this.attributes.align===t.attributes.align&&this.attributes.direction===t.attributes.direction&&this.attributes.indent===t.attributes.indent},t.prototype.hasSameIndentationAs=function(t,e){var n=this;void 0===e&&(e=[]);var i=function(t){if(t.isListBlockWrapper(e)){var i=s.default(e,function(t){return!!n.attributes[t]})||"";return parseInt(t.attributes[i]["wrapper-indent"],10)}return t.attributes.indent};return i(this)===i(t)},t.prototype.hasSameAttr=function(t){return a.default(this.attributes,t.attributes)},t.prototype.hasHigherIndentThan=function(t,e){var n=this;void 0===e&&(e=[]);var i=function(t){if(t.isListBlockWrapper(e)){var i=s.default(e,function(t){return!!n.attributes[t]})||"";return i&&t.attributes[i]&&parseInt(t.attributes[i]["wrapper-indent"],10)}return t.attributes.indent},r=i(this),o=i(t);return(Number(r)||0)>(Number(o)||0)},t.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},t.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},t.prototype.hasSameLangAs=function(t){return(this.attributes["code-block"]&&this.attributes["code-block"]["code-block"]||!0)===(t.attributes["code-block"]&&t.attributes["code-block"]["code-block"]||!0)},t.prototype.isJustNewline=function(){return this.insert.value===r.NewLine},t.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isToggledList()||this.isNoneTypeList()||this.isUncheckedList()},t.prototype.isOrderedList=function(){return!!this.attributes.list&&this.attributes.list.list===r.ListType.Ordered},t.prototype.isBulletList=function(){return!!this.attributes.list&&this.attributes.list.list===r.ListType.Bullet},t.prototype.isCheckedList=function(){return!!this.attributes.list&&this.attributes.list.list===r.ListType.Checked},t.prototype.isToggledList=function(){return!!this.attributes.list&&this.attributes.list.list===r.ListType.Toggled},t.prototype.isNoneTypeList=function(){return!!this.attributes.list&&this.attributes.list.list===r.ListType.NoneType},t.prototype.isUncheckedList=function(){return!!this.attributes.list&&this.attributes.list.list===r.ListType.Unchecked},t.prototype.isACheckList=function(){return!!this.attributes.list&&(this.attributes.list.list==r.ListType.Unchecked||this.attributes.list.list===r.ListType.Checked)},t.prototype.isSameListAs=function(t){return!!this.attributes.list&&!!t.attributes.list&&(this.attributes.list.list===t.attributes.list.list||t.isACheckList()&&this.isACheckList())&&this.attributes.list.cell===t.attributes.list.cell},t.prototype.isSameTableCellAs=function(t,e){void 0===e&&(e=[]);var n=function(t){if(t.isTableCellLine())return t.attributes["table-cell-line"].cell;if(t.isListBlockWrapper(e)){var n=e.find(function(e){return!!t.attributes[e]})||"";return t.attributes[n].cell}return t.attributes.list.cell},i=n(this),r=n(t);return i&&r&&i===r},t.prototype.isText=function(){return this.insert.type===r.DataType.Text},t.prototype.isImage=function(){return this.insert.type===r.DataType.Image},t.prototype.isFormula=function(){return this.insert.type===r.DataType.Formula},t.prototype.isVideo=function(){return this.insert.type===r.DataType.Video},t.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},t.prototype.isCustomEmbed=function(){return this.insert instanceof o.InsertDataCustom},t.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},t.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},t.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},t.prototype.isListBlockWrapper=function(t){var e=this;void 0===t&&(t=[]);var n=s.default(t,function(t){return!!e.attributes[t]});return!!(n&&this.attributes&&this.attributes[n]&&this.attributes[n]["in-list"])},t}();e.DeltaInsertOp=l},YAKn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preferSecond=function(t){return 0===t.length?null:t.length>=2?t[1]:t[0]},e.flatten=function t(e){return e.reduce(function(e,n){return e.concat(Array.isArray(n)?t(n):n)},[])},e.find=function(t,e){if(Array.prototype.find)return Array.prototype.find.call(t,e);for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]},e.groupConsecutiveElementsWhile=function(t,e){for(var n,i=[],r=0;r<t.length;r++)n=t[r],r>0&&e(n,t[r-1])?i[i.length-1].push(n):i.push([n]);return i.map(function(t){return 1===t.length?t[0]:t})},e.sliceFromReverseWhile=function(t,e,n){for(var i={elements:[],sliceStartsAt:-1},r=e;r>=0&&n(t[r]);r--)i.sliceStartsAt=r,i.elements.unshift(t[r]);return i},e.intersperse=function(t,e){return t.reduce(function(n,i,r){return n.push(i),r<t.length-1&&n.push(e),n},[])}},YYQ8:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("s3LH"),r=n("O5Dz"),o=n("Knr1"),a=n("Yo41"),s=n("tqzo"),l=n("0dWf");let c=(()=>{class t extends s.a{static create(t){const e=super.create(t);e.addEventListener("keydown",t=>{t.stopPropagation()}),e.setAttribute("contenteditable",!0),e.setAttribute("spellcheck",!1),e.setAttribute("draggable","true");let n=Object(l.c)({id:t.task_id,custom_id:t.custom_id,team:t.team_id});return t.comment_id&&(n+="?comment="+t.comment_id,e.setAttribute("data-task-comment",t.comment_id)),e.setAttribute("data-raw",JSON.stringify(t)),e.setAttribute("data-session-id",t.sessionId),t.simple_statuses&&!t.custom_type&&e.classList.add("task-mention_simple"),t.name?(e.setAttribute("data-task-mention",t.task_id),e.innerHTML=[`<a target="_self" draggable="false" href="${Object(r.a)(n)}">`,`<span data-status style="background: ${t.color?t.color:"#e4e4e4"}!important;" class="task-mention__status ${t.custom_type?"task-mention__custom-type":""}"></span>`,`<span data-simple-status class="icon task-mention__simple-status ${"Closed"===t.status?"task-mention__simple-status_closed":""}">`,'<svg><use xlink:href="#svg-sprite-check-batch"></use></svg>',"</span>",`<span data-name class="task-mention__name">${Object(r.a)((t.custom_id?`[${t.custom_id}] `:"")+t.name)||""}</span>`,"</a>"].join("")):t.task_id?(e.setAttribute("data-task-mention",t.task_id),e.innerHTML=[`<a target="_self" draggable="false" href="${Object(r.a)(n)}">`,'<span data-status class="task-mention__status">','<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg">','<rect fill-rule="nonzero" width="10" height="10" rx="2"/></svg>',"</span>",`<span data-simple-status class="icon task-mention__simple-status ${"Closed"===t.status?"task-mention__simple-status_closed":""}">`,'<svg><use xlink:href="#svg-sprite-check-batch"></use></svg>',"</span>",'<span data-name class="task-mention__name"></span>',"</a>"].join("")):(e.setAttribute("data-task-mention-empty",!0),e.innerHTML=['<span class="task-mention-input">','<input class="task-mention-input__field" data-task-mention-input type="text" placeholder="Select task...">',"</span>"].join("")),e}static value(t){const e=t.dataset.raw;let n={};try{n=JSON.parse(e)}catch(i){}return Object.assign(Object.assign({},n),{task_id:t.dataset.taskMention,comment_id:t.dataset.taskComment,sessionId:t.dataset.sessionId})}attach(){super.attach(),this.dragHandler=new o.a(this,{});const e=this.getQuill(),n=t.value(this.domNode);if(n.task_id)e.getModule("hover")&&(this.hoverHandler=new a.a({blotName:t.blotName,blot:this,value:n}));else if((e&&e.options&&e.options.modules&&e.options.modules.taskMentions&&e.options.modules.taskMentions.sessionId)===n.sessionId){const t=this.domNode.querySelector("[data-task-mention-input]");t.focus(),t.addEventListener("click",t=>{t.stopPropagation()}),t.addEventListener("blur",e=>(e.preventDefault(),e.stopPropagation(),t.focus(),setTimeout(()=>{t.focus()}),!1))}else this.domNode.classList.add("task-mention_hidden")}detach(){super.detach(),this.dragHandler&&(this.dragHandler.detach(),this.dragHandler=null),this.hoverHandler&&(this.hoverHandler.detach(),this.hoverHandler=null)}getQuill(){return this.scroll&&this.scroll.domNode.parentNode?i.d.find(this.scroll.domNode.parentNode):null}}return t.blotName="task_mention",t.tagName="span",t.className="task-mention",t})()},YfG3:function(t,e,n){"use strict";var i=n("+EKe"),r=n("kt0j"),o=n("4/q3"),a=Object(r.a)(function(t,e){Object(i.a)(e,Object(o.a)(e),t)});e.a=a},Yo41:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("s3LH");class r{constructor(t){this.data=t,this.attach()}attach(){this.mouseEnterBinded||(this.mouseEnterBinded=this.mouseEnter.bind(this),this.data.blot.domNode.addEventListener("mouseenter",this.mouseEnterBinded)),this.mouseLeaveBinded||(this.mouseLeaveBinded=this.mouseLeave.bind(this),this.data.blot.domNode.addEventListener("mouseleave",this.mouseLeaveBinded)),this.clickBinded||(this.clickBinded=this.click.bind(this),this.data.blot.domNode.addEventListener("click",this.clickBinded));const t=this.getQuill();this.hover=t.getModule("hover")}detach(){this.mouseEnterBinded&&(this.data.blot.domNode.removeEventListener("mouseenter",this.mouseEnterBinded),this.mouseEnterBinded=null),this.mouseLeaveBinded&&(this.data.blot.domNode.removeEventListener("mouseleave",this.mouseLeaveBinded),this.mouseLeaveBinded=null),this.clickBinded&&(this.data.blot.domNode.removeEventListener("click",this.clickBinded),this.clickBinded=null),this.hover=null}mouseEnter(t){this.notifyHover(!0)}mouseLeave(t){this.notifyHover(!1)}click(t){this.hover&&this.hover.options.onClick(this.data,t)}notifyHover(t){this.hover&&this.hover.onHover(this.data,t)}getQuill(){return this.data.blot.scroll&&this.data.blot.scroll.domNode.parentNode?i.d.find(this.data.blot.scroll.domNode.parentNode):null}}},YrjB:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d});var i=n("s3LH"),r=n("uh+T"),o=n("YAnr"),a=n("Wk/N"),s=n("h7sE"),l=n("2p4s");const c={urlRegularExpression:/(https?:\/\/[\S]+)/,clickupTaskExpression:s.d,clickupDocExpression:s.c,clickupClipExpression:s.b,allowGoogleLinkEmbedding:!1,unfurlCommentLink:!1,unfurlDocLink:!0,embedDocLink:!1,linkHandler:t=>{}};class u{constructor(t,e={}){this.quill=t,this.options=Object.assign(Object.assign({},c),e),this.registerPasteListener()}registerPasteListener(){this.quill.clipboard.addMatcher("A",(t,e)=>{const n=t.href;return e.ops.map(t=>{t.attributes&&t.attributes.link&&t.attributes.autoLink&&(t.attributes.link=n||t.attributes.link)}),e}),this.quill.clipboard.addMatcher(Node.TEXT_NODE,(t,e)=>{const n=this.quill.getModule("unfurlUrl");if("string"!=typeof t.data)return;if(Object(o.v)(t.data))return(new i.a).insert(t.data,{link:t.data});const a=this.quill&&this.quill.selection&&this.quill.selection.savedRange?this.quill.getFormat(this.quill.selection.savedRange.index):{},c=a&&a["table-cell-line"]||a&&a.list&&a.list.cell;if(t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.classList&&t.parentNode.parentNode.classList.contains("ql-banner"))return n.autoRunQueue.addTask(()=>{}),e;const u=Object(o.A)(t.data);if(u&&u.length>0){const d=new i.a;let h=t.data;if(c||1!==u.length||h.trim()!==u[0].text||this.options.allowGoogleLinkEmbedding&&r.b(u[0].text)||this.options.clickupTaskExpression.test(u[0].text)||this.options.unfurlDocLink&&this.options.clickupDocExpression.test(u[0].text)||!(!Object(o.i)(u[0].text,!1,this.options.allowGoogleLinkEmbedding)||!Object(o.a)(Object(o.i)(u[0].text,!1,this.options.allowGoogleLinkEmbedding))&&["youtube","loom","figma"].indexOf(Object(o.i)(u[0].text,!1,this.options.allowGoogleLinkEmbedding).service)<0)||u[0].schema&&"mailto:"===u[0].schema||this.options.clickupClipExpression.test(u[0].text)&&u[0].text.includes(l.a.publicShareUrl))if(!c&&1===u.length&&h.trim()===u[0].text&&this.options.unfurlDocLink&&this.options.clickupDocExpression.test(u[0].text))n.autoRunQueue.addTask(()=>{const t=this.quill.getSelection();if(null===t||t.length>0)return;const[e]=this.quill.getLeaf(t.index),i=e.parent;n.showDropdown(t,u[0].url,u[0]),n.currentLinkRange={index:this.quill.getIndex(i),length:i.length()}}),d.insert(u[0].text,{link:u[0].url});else if(!c&&1===u.length&&h.trim()===u[0].text&&this.options.clickupClipExpression.test(u[0].text)&&u[0].text.includes(l.a.publicShareUrl)){n.autoRunQueue.addTask(()=>{});const[,,t,e,i,r]=u[0].text.match(this.options.clickupClipExpression),s=`https://${e}.${t}.clickup-attachments.com/${e}/${i}/${r}?open=true`,l={url:s,service:"clickup_video",id:s};a.list||d.insert("\n"),d.insert({frame:l},{"data-size":Object(o.n)(l)||this.options.defaultEmbedSize,"data-expanded":Object(o.m)(l)||this.options.defaultEmbedIsExpanded})}else n.autoRunQueue.addTask(()=>{}),u.forEach(t=>{const e=h.split(t.text),n=e.shift();d.insert(n);const i=!this.options.allowGoogleLinkEmbedding&&r.b(t.text);if(c)d.insert(t.text,{link:t.url,autoLink:!0});else if(i)d.insert(t.text,{link:t.text}),this.options.linkHandler&&this.options.linkHandler({type:"google",link:t.text,data:i});else if(this.options.clickupTaskExpression.test(t.text)){const e=t.text.match(this.options.clickupTaskExpression),n=e[1],i=e[2];if(!n.includes("/")||i&&!this.options.unfurlCommentLink)i?this.options.unfurlCommentLink?d.insert({comment_mention:{taskId:n,commentId:i}},{link:null}):d.insert(t.text,{link:t.url,autoLink:!0}):(d.insert({task_mention:{task_id:n,comment_id:i}},{link:null}),d.insert(" ",{link:null}));else{const[e,r]=n.split("/");d.insert(t.text,{link:t.text}),this.options.linkHandler&&this.options.linkHandler({type:"custom-task-id",link:t.text,data:{teamId:e,customId:r,commentId:i}})}}else if(Object(s.j)(t.text)){const e=Object(s.f)(t.text);d.insert({listview:e},{link:null})}else if(Object(s.h)(t.text)){const e=Object(s.e)(t.text);d.insert({listview:e},{link:null})}else if(this.options.unfurlDocLink&&this.options.clickupDocExpression.test(t.text)){const e=t.text.match(this.options.clickupDocExpression),n=e[1],i=e[3],r=e[4],o="docs"===e[2];d.insert(this.options.embedDocLink?{doc_embed:{teamId:n,viewId:i,pageId:r,docsHome:o}}:{doc_mention:{teamId:n,viewId:i,pageId:r,docsHome:o}},{link:null}),d.insert(" ",{link:null})}else{const e=Object(o.i)(t.text,!1,this.options.allowGoogleLinkEmbedding);!e||!e.id||a&&a["table-cell-line"]?d.insert(t.text,{link:t.url,autoLink:!0}):(a.list||d.insert("\n"),d.insert({frame:e},{"data-size":Object(o.n)(e)||this.options.defaultEmbedSize,"data-expanded":Object(o.m)(e)||this.options.defaultEmbedIsExpanded}))}h=e.join(t.text)}),d.insert(h);else n.autoRunQueue.addTask(()=>{const t=this.quill.getSelection();if(null===t||t.length>0)return;const[e]=this.quill.getLeaf(t.index),i=e.parent;n.showDropdown(t,u[0].url,u[0]),n.currentLinkRange={index:this.quill.getIndex(i),length:i.length()}}),d.insert(u[0].text,{link:u[0].url});e.ops=d.ops}else n.autoRunQueue.addTask(()=>{});return e})}registerTypeListener(){this.quill.on(a.h.TEXT_CHANGE,t=>{const e=t.ops;if(!e||e.length<1||e.length>2)return;const n=e[e.length-1];n.insert&&"string"==typeof n.insert&&n.insert.match(/\s/)&&this.checkTextForUrl()})}checkTextForUrl(){const t=this.quill.getSelection();if(!t)return;const[e]=this.quill.getLeaf(t.index);if(!e.text)return;const n=e.text.match(this.options.urlRegularExpression);n&&this.textToUrl(t.index-(e.text.length-n.index),n[0])}textToUrl(t,e){const n=(new i.a).retain(t).delete(e.length).insert(e,{link:e});this.quill.updateContents(n)}destroy(){this.options=c,this.quill=null}}function d(t,e,n){const r=t.getContents(),o=[];let a;r.forEach(t=>{t.attributes&&t.attributes.link&&t.attributes.link===e?n.forEach(t=>{o.push(t)}):o.push(t),a=t});const s=new i.a(o),l=r.diff(s);t.updateContents(l)}},ZT6b:function(t,e,n){"use strict";var i,r,o,a,s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.NewLine="\n",function(t){t.Ordered="ordered",t.Bullet="bullet",t.Checked="checked",t.Unchecked="unchecked",t.Toggled="toggled",t.NoneType="none"}(i||(i={})),e.ListType=i,function(t){t.Sub="sub",t.Super="super"}(r||(r={})),e.ScriptType=r,function(t){t.Rtl="rtl"}(o||(o={})),e.DirectionType=o,function(t){t.Left="left",t.Center="center",t.Right="right",t.Justify="justify"}(a||(a={})),e.AlignType=a,function(t){t.Image="image",t.Video="video",t.Formula="formula",t.Text="text"}(s||(s={})),e.DataType=s,function(t){t.Block="block",t.InlineGroup="inline-group",t.List="list",t.Video="video",t.TableCellLine="table-cell-line",t.TableCol="table-col"}(l||(l={})),e.GroupType=l},"Zt+T":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n("HKyF"),n("ugiB"),n("CyTj");var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.toolbar=null,this.buttons=[]}return i(t,[{key:"create",value:function(t,e){var n=document.createElement("div");return n.classList.add(t.options.align.toolbar.mainClassName),this.addToolbarStyle(t,n),this.addButtons(t,n,e),this.toolbar=n,this.toolbar}},{key:"destroy",value:function(){this.toolbar=null,this.buttons=[]}},{key:"getElement",value:function(){return this.toolbar}},{key:"addToolbarStyle",value:function(t,e){t.options.align.toolbar.mainStyle&&Object.assign(e.style,t.options.align.toolbar.mainStyle)}},{key:"addButtonStyle",value:function(t,e,n){n.options.align.toolbar.buttonStyle&&(Object.assign(t.style,n.options.align.toolbar.buttonStyle),e>0&&(t.style.borderLeftWidth="0")),n.options.align.toolbar.svgStyle&&Object.assign(t.children[0].style,n.options.align.toolbar.svgStyle)}},{key:"addButtons",value:function(t,e,n){var i=this;n.getAlignments().forEach(function(r,o){var a=document.createElement("span");a.classList.add(t.options.align.toolbar.buttonClassName),a.innerHTML=r.icon,a.addEventListener("click",function(){i.onButtonClick(a,t,r,n)}),i.preselectButton(a,r,t,n),i.addButtonStyle(a,o,t),i.buttons.push(a),e.appendChild(a)})}},{key:"preselectButton",value:function(t,e,n,i){if(n.currentSpec){var r=n.currentSpec.getTargetElement();r&&i.isAligned(r,e)&&this.selectButton(n,t)}}},{key:"onButtonClick",value:function(t,e,n,i){if(e.currentSpec){var r=e.currentSpec.getTargetElement();r&&this.clickButton(t,r,e,n,i)}}},{key:"clickButton",value:function(t,e,n,i,r){var o=this;this.buttons.forEach(function(t){o.deselectButton(n,t)}),r.isAligned(e,i)?n.options.align.toolbar.allowDeselect?r.clear(e):this.selectButton(n,t):(this.selectButton(n,t),i.apply(e)),n.update()}},{key:"selectButton",value:function(t,e){e.classList.add("is-selected"),t.options.align.toolbar.addButtonSelectStyle&&e.style.setProperty("filter","invert(20%)")}},{key:"deselectButton",value:function(t,e){e.classList.remove("is-selected"),t.options.align.toolbar.addButtonSelectStyle&&e.style.removeProperty("filter")}}]),t}();e.default=r},b3J4:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("tqzo");const r="initSlashCommand";let o=(()=>{class t extends i.a{static create({id:t,sessionId:e,replace:n,defaultCommand:i}){const r=super.create(t);return r.addEventListener("keydown",t=>{t.stopPropagation();const e=document.createEvent("Event");e.initEvent("slashCommandKeyDown",!0,!0),e.detail=t,document.dispatchEvent(e)}),r.setAttribute("spellcheck",!1),r.setAttribute("data-id",t),r.setAttribute("data-session-id",e),r.setAttribute("data-replace",n),i&&r.setAttribute("data-default-command",i),r}static value(t){return{id:t.dataset.id,sessionId:t.dataset.sessionId,replace:t.dataset.replace,defaultCommand:t.dataset.defaultCommand}}attach(){super.attach(),this.dispatchEvent(this.domNode)}dispatchEvent(t){const e=document.createEvent("Event");e.initEvent(r,!0,!0),e.detail={node:t,blot:this,id:t.dataset.id,sessionId:t.dataset.sessionId,replace:t.dataset.replace,defaultCommand:t.dataset.defaultCommand},document.dispatchEvent(e)}}return t.blotName="slash_command",t.tagName="span",t.className="slash-command",t})()},c8BJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("ugiB");var o=function(){function t(e){var n,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.applyStyle=e.aligner.applyStyle,this.alignAttribute=e.attribute,this.alignments=(r(n={},"left",{name:"left",icon:e.icons.left,apply:function(t){i.setAlignment(t,"left"),i.setStyle(t,"inline","left","0 1em 1em 0")}}),r(n,"center",{name:"center",icon:e.icons.center,apply:function(t){i.setAlignment(t,"center"),i.setStyle(t,"block",null,"auto")}}),r(n,"right",{name:"right",icon:e.icons.right,apply:function(t){i.setAlignment(t,"right"),i.setStyle(t,"inline","right","0 0 1em 1em")}}),n)}return i(t,[{key:"getAlignments",value:function(){var t=this;return Object.keys(this.alignments).map(function(e){return t.alignments[e]})}},{key:"clear",value:function(t){t.removeAttribute(this.alignAttribute),this.setStyle(t,null,null,null)}},{key:"isAligned",value:function(t,e){return t.getAttribute(this.alignAttribute)===e.name}},{key:"setAlignment",value:function(t,e){t.setAttribute(this.alignAttribute,e)}},{key:"setStyle",value:function(t,e,n,i){this.applyStyle&&(t.style.setProperty("display",e),t.style.setProperty("float",n),t.style.setProperty("margin",i))}}]),t}();e.default=o},cegH:function(t,e,n){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZT6b"),o=n("9AnQ"),a=i(n("wtHB")),s=n("di+K"),l=n("YAKn"),c=function(){function t(){}return t.sanitize=function(e,n){var i={};if(!e||"object"!=typeof e)return i;var a=["bold","italic","underline","strike","code","code-block","renderAsBlock"],s=["background","color"],c=e.font,u=e.size,d=e.link,h=e.script,f=e.list,p=e.header,g=e.align,m=e.direction,b=e.indent,v=e.mentions,y=e.mention,w=e.width,k=e.target,_=e.rel,x=e.blockquote,O=e["code-block"],N=a.concat(s,["font","size","link","script","list","blockquote","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(a.forEach(function(t){var n=e[t];n&&(i[t]=!!n)}),s.forEach(function(n){var r=e[n];r&&(t.IsValidHexColor(r+"")||t.IsValidColorLiteral(r+"")||t.IsValidRGBColor(r+""))&&(i[n]=r)}),c&&t.IsValidFontName(c+"")&&(i.font=c),u&&t.IsValidSize(u+"")&&(i.size=u),w&&t.IsValidWidth(w+"")&&(i.width=w),d&&(i.link=t.sanitizeLinkUsingOptions(d+"",n)),k&&t.isValidTarget(k)&&(i.target=k),_&&t.IsValidRel(_)&&(i.rel=_),O&&(i["code-block"]=t.IsValidLang("object"==typeof O?O["code-block"]||!0:O)?O:!!O),h!==r.ScriptType.Sub&&r.ScriptType.Super!==h||(i.script=h),!f||f.list!==r.ListType.Bullet&&f.list!==r.ListType.Ordered&&f.list!==r.ListType.Toggled&&f.list!==r.ListType.NoneType&&f.list!==r.ListType.Checked&&f.list!==r.ListType.Unchecked||(i.list=f),x&&(i.blockquote=x),Number(p)&&(i.header=Math.min(Number(p),6)),l.find([r.AlignType.Center,r.AlignType.Right,r.AlignType.Justify,r.AlignType.Left],function(t){return t===g})&&(i.align=g),m===r.DirectionType.Rtl&&(i.direction=m),b&&Number(b)&&(i.indent=Math.min(Number(b),30)),v&&y){var E=o.MentionSanitizer.sanitize(y,n);Object.keys(E).length>0&&(i.mentions=!!v,i.mention=y)}return Object.keys(e).reduce(function(t,n){return-1===N.indexOf(n)&&(t[n]=e[n]),t},i)},t.sanitizeLinkUsingOptions=function(t,e){var n=function(){};e&&"function"==typeof e.urlSanitizer&&(n=e.urlSanitizer);var i=n(t);return"string"==typeof i?i:s.encodeLink(a.sanitize(t))},t.IsValidHexColor=function(t){return!!t.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},t.IsValidColorLiteral=function(t){return!!t.match(/^[a-z]{1,50}$/i)},t.IsValidRGBColor=function(t){return!!t.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},t.IsValidFontName=function(t){return!!t.match(/^[a-z\s0-9\- ]{1,30}$/i)},t.IsValidSize=function(t){return!!t.match(/^[a-z0-9\-]{1,20}$/i)},t.IsValidWidth=function(t){return!!t.match(/^[0-9]*(px|em|%)?$/)},t.isValidTarget=function(t){return!!t.match(/^[_a-zA-Z0-9\-]{1,50}$/)},t.IsValidRel=function(t){return!!t.match(/^[a-zA-Z\s\-]{1,250}$/i)},t.IsValidLang=function(t){return"boolean"==typeof t||"string"==typeof t&&!!t.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},t}();e.OpAttributeSanitizer=c},"di+K":function(t,e,n){"use strict";var i;function r(t){return o(i.Html).reduce(s,t)}function o(t){return[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]].filter(t===i.Html?function(t){var e=t[0];return-1===e.indexOf("(")&&-1===e.indexOf(")")}:function(t){return-1===t[0].indexOf("/")})}function a(t,e){return t.replace(new RegExp(e[0],"g"),e[1])}function s(t,e){return t.replace(new RegExp(e[1],"g"),e[0].replace("\\",""))}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Html=0]="Html",t[t.Url=1]="Url"}(i||(i={})),e.makeStartTag=function(t,e){if(void 0===e&&(e=void 0),!t)return"";var n="";e&&(n=[].concat(e).map(function(t){return t.key+(t.value?'="'+t.value+'"':"")}).join(" "));var i=">";return"img"!==t&&"br"!==t||(i="/>"),n?"<"+t+" "+n+i:"<"+t+i},e.makeEndTag=function(t){return void 0===t&&(t=""),t&&"</"+t+">"||""},e.decodeHtml=r,e.encodeHtml=function(t,e){return void 0===e&&(e=!0),e&&(t=r(t)),o(i.Html).reduce(a,t)},e.encodeLink=function(t){var e=o(i.Url),n=e.reduce(s,t);return e.reduce(a,n)}},e1lX:function(t,e,n){"use strict";var i=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.a=function(t){return i.test(t)}},fzN0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=0;r<e.length;r++){var o=e[r];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i}},gwOX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=o(n("711E"));function o(t){return t&&t.__esModule?t:{default:t}}o(n("CyTj"));var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.onTextChange=function(){Array.from(document.querySelectorAll(i.selector+":not([data-blot-formatter-unclickable-bound])")).forEach(function(t){t.setAttribute("data-blot-formatter-unclickable-bound","true"),t.addEventListener("mouseenter",i.onMouseEnter)})},i.onMouseEnter=function(t){var e=t.target;e instanceof HTMLElement&&(i.nextUnclickable=e,i.repositionProxyImage(i.nextUnclickable))},i.onProxyImageClick=function(){i.unclickable=i.nextUnclickable,i.nextUnclickable=null,i.formatter.show(i),i.hideProxyImage()},i.selector=n,i.unclickable=null,i.nextUnclickable=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"init",value:function(){document.body&&document.body.appendChild(this.createProxyImage()),this.hideProxyImage(),this.proxyImage.addEventListener("click",this.onProxyImageClick),this.formatter.quill.on("text-change",this.onTextChange)}},{key:"getTargetElement",value:function(){return this.unclickable}},{key:"getOverlayElement",value:function(){return this.unclickable}},{key:"onHide",value:function(){this.hideProxyImage(),this.nextUnclickable=null,this.unclickable=null}},{key:"createProxyImage",value:function(){var t=document.createElement("canvas"),e=t.getContext("2d");return e.globalAlpha=0,e.fillRect(0,0,1,1),this.proxyImage=document.createElement("img"),this.proxyImage.src=t.toDataURL("image/png"),this.proxyImage.classList.add("blot-formatter__proxy-image"),Object.assign(this.proxyImage.style,{position:"absolute",margin:"0"}),this.proxyImage}},{key:"hideProxyImage",value:function(){Object.assign(this.proxyImage.style,{display:"none"})}},{key:"repositionProxyImage",value:function(t){var e=t.getBoundingClientRect();Object.assign(this.proxyImage.style,{display:"block",left:e.left+window.pageXOffset+"px",top:e.top+window.pageYOffset+"px",width:e.width+"px",height:e.height+"px"})}}]),e}(r.default);e.default=a},hbEN:function(t,e,n){"use strict";var i=n("IzLi"),r=n("Ju5/"),o=function(){return r.a.Date.now()},a=n("SiRs"),s=Math.max,l=Math.min;e.a=function(t,e,n){var r,c,u,d,h,f,p=0,g=!1,m=!1,b=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=r,i=c;return r=c=void 0,p=e,d=t.apply(i,n)}function y(t){return p=t,h=setTimeout(k,e),g?v(t):d}function w(t){var n=t-f;return void 0===f||n>=e||n<0||m&&t-p>=u}function k(){var t=o();if(w(t))return _(t);h=setTimeout(k,function(t){var n=e-(t-f);return m?l(n,u-(t-p)):n}(t))}function _(t){return h=void 0,b&&r?v(t):(r=c=void 0,d)}function x(){var t=o(),n=w(t);if(r=arguments,c=this,f=t,n){if(void 0===h)return y(f);if(m)return clearTimeout(h),h=setTimeout(k,e),v(f)}return void 0===h&&(h=setTimeout(k,e)),d}return e=Object(a.a)(e)||0,Object(i.a)(n)&&(g=!!n.leading,u=(m="maxWait"in n)?s(Object(a.a)(n.maxWait)||0,e):u,b="trailing"in n?!!n.trailing:b),x.cancel=function(){void 0!==h&&clearTimeout(h),p=0,r=f=c=h=void 0},x.flush=function(){return void 0===h?d:_(o())},x}},iA4v:function(t,e,n){"use strict";n.d(e,"b",function(){return i.d}),n.d(e,"a",function(){return i.a});var i=n("s3LH"),r=n("YAnr");const o=(t,e)=>{};var a=n("Wk/N"),s=n("06+Y"),l=n("h7sE"),c=n("YfG3");const u={header:!1,banner:!1,blockquote:!1,"code-block":!1},d={header:!1,banner:!1,blockquote:!1,"code-block":!1,list:!1,"table-cell-line":!1,indent:!1},h=["code-block","banner","blockquote"],f=i.d.import("delta"),p={header:!0,blockquote:!0,"code-block":!0,code:!0,bold:!0,italic:!0,strikethrough:!0,hr:!0};var g=n("/1FC");const m={alignment:"left",maxWidth:300};class b{constructor(t,e){if(this.quill=t,this.options=Object.assign(Object.assign({},m),e),this.dropdownContainer="string"==typeof this.options.dropdownContainer?document.querySelector(this.options.dropdownContainer):this.options.dropdownContainer,this.options.createContainer&&!this.dropdownContainer){const e=document.createElement("div");t.container.parentNode.insertBefore(e,t.container),this.dropdownContainer=e}this.dropdownContainer&&(this.dropdownContainer.classList.add("cu-ql-dropdown"),"center"===this.options.alignment&&this.dropdownContainer.classList.add("cu-ql-dropdown_center"))}show(t,e){const n=function(t,e,n="left",i=300){const r=t.top>window.innerHeight/2,o=Math.max(t.width,i);let a="center"===n?t.left-e.left+Math.round(t.width/2):"right"===n?t.left+t.width-e.left:t.left-e.left;a=Math.max(("center"===n?Math.round(t.width/2):0)+5,Math.min(a,e.width-o-5));const s={left:a,top:null,bottom:null};return r?s.bottom=e.bottom-t.top:s.top=t.bottom-e.top,{pos:s,isTopPosition:r}}(t,e,this.options.alignment,this.options.maxWidth);return this.dropdownContainer&&(function(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]?e[n]+"px":""})}(this.dropdownContainer,n.pos),this.dropdownContainer.style.display="block",n.isTopPosition?this.dropdownContainer.classList.add("cu-ql-dropdown_top"):this.dropdownContainer.classList.remove("cu-ql-dropdown_top")),{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,position:n.isTopPosition?"top":"bottom"}}showFromRange(t){const e=this.quill.getBounds(t),n=this.quill.root.getBoundingClientRect();return this.show({left:n.left+e.left,right:n.left+e.right,top:n.top+e.top,bottom:n.top+e.bottom,width:e.width,height:e.height},n)}showFromBlot(t,e){return e?this.showFromRange(e):this.showFromElement(t.domNode)}showFromBlotUI(t){return this.showFromElement(t.uiNode)}showFromElement(t){const e=t.getBoundingClientRect(),n=this.quill.root.getBoundingClientRect();return this.show(e,n)}showFromElementWithContainer(t,e){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();this.show(n,i)}hide(){this.dropdownContainer&&(this.dropdownContainer.style.display="none")}}const v={id:null,sessionId:null,onOpen:()=>{},onShowCreatePopup:()=>{},onHideCreatePopup:()=>{},onCreatePopupAllowed:()=>{}};var y=n("YrjB");const w=i.d.import("formats/link"),k={allowGoogleLinkEmbedding:!1};var _=n("DkC/"),x=n("HI9p"),O=n("/qOb");class N{constructor(t,e,n){this.autoRun=null,this.context=t,this.sum=0,this.tasks=[],this.delay=e||100,this.allowRun=n}addTask(t){this.autoRun&&clearTimeout(this.autoRun),this.sum+=1,this.tasks.push(t.bind(this.context)),this.autoRunTheLastTask()}autoRunTheLastTask(){this.autoRun=setTimeout(()=>{this.allowRun([...this.tasks],this.sum)&&this.tasks.pop()(),this.resetQueue()},this.delay)}resetQueue(){this.sum=0,this.tasks=[]}}function E(t,e){return{key:t?"ArrowUp":"ArrowDown",handler(n,i){const r=e().getModule("unfurlUrl");return!r.dropdownOpened||(t&&r.options.onArrowUp&&(r.prev(),r.options.onArrowUp(r.currentMenuData)),!t&&r.options.onArrowDown&&(r.next(),r.options.onArrowDown(r.currentMenuData)),!1)}}}i.d.import("formats/link");const L={onShow:()=>{},onHide:()=>{}};var C=n("u37q"),A=n("+Xah"),T=n("fshX"),q=Math.min,j=function(t,e){if((t=Object(T.a)(t))<1||t>9007199254740991)return[];var n,i=4294967295,r=q(t,4294967295);e="function"==typeof(n=e)?n:A.a,t-=4294967295;for(var o=Object(C.a)(r,e);++i<t;)e(i);return o};const S=i.c.EmbedBlot,R=i.d.import("blots/embed"),I=i.d.import("blots/block"),B=i.d.import("blots/container"),P=t=>t instanceof S&&!(t instanceof R);function D(t,e){if("object"==typeof e)for(const n in e)e[n]&&(t.style[n]=e[n])}const M=i.d.import("core/module"),H=i.d.import("blots/break"),z=i.d.import("blots/block"),U=i.d.import("blots/block/embed"),F=i.d.import("blots/container"),W=i.d.import("formats/table-view"),V=i.d.import("formats/table-col"),$={onShow:()=>{},onHide:()=>{}};var G=n("381O");let K=(()=>{class t extends G.a{}return t.blotName="divider",t.tagName="hr",t.className="ql-divider",t})();var Z=n("EVib"),Y=n("tqzo");let Q=(()=>{class t extends Y.a{static create(t){const e=super.create(t);e.setAttribute("data-emoticon",JSON.stringify(t));const n=document.createElement("span");n.innerHTML="&#12288;",n.classList.add("ql-emoticon-icon");const i=Object(Z.getEmojiStyles)(t.code);for(const r in i)i.hasOwnProperty(r)&&n.style.setProperty(r,i[r]);return e.appendChild(n),e}static value(t){try{return JSON.parse(t.dataset.emoticon)}catch(e){}}}return t.blotName="emoticon",t.tagName="span",t.className="ql-emoticon",t})();var X=n("7Cbv");let J=(()=>{class t extends Y.a{static create(t){const e=function(t){if(t&&!t.name&&t.email){const e=t.email.match(/^([^@]*)@/);return Object.assign(Object.assign({},t),{name:e?e[1]:t.email})}return t}(t),n=super.create(e);return n.innerText="@"+tt(e.name),n.setAttribute("data-user",e.id),n.setAttribute("data-name",tt(e.name)),n.setAttribute("data-email",tt(e.email)),n.setAttribute("data-notify",String(Boolean(e.notify))),n.setAttribute("data-tag_id",e.tag_id||Object(X.a)()),n}static value(t){return{id:t.getAttribute("data-user"),name:t.getAttribute("data-name"),email:t.getAttribute("data-email"),notify:"true"===t.getAttribute("data-notify"),tag_id:t.getAttribute("data-tag_id")}}}return t.blotName="user_mention",t.className="cu-mention",t.tagName="strong",t})();function tt(t){return t?t.replace(/(<([^>]+)>)/gi,""):t}var et=n("O5Dz"),nt=n("IE5h"),it=n("Iab2"),rt=n.n(it),ot=n("El8o"),at=n("RecH");const st=["data-id","data-temp-id","data-progress"],lt=i.d.import("formats/list-block-wrapper");let ct=(()=>{class t extends G.a{static register(){lt.addAllowChildren(t)}static create(e){if("object"!=typeof e||!e.name&&(!e.raw||!e.raw.name))return super.create("");!e.name&&e.raw&&e.raw.name&&(e.name=e.raw.name);const n=super.create(e),i=function(t){let e=t,n="";const i=t.split(".");return i.length>1&&(n=i.slice(-1)[0],e=i.slice(0,-1).join("")),e.length>30&&(e=[e.slice(0,20),e.slice(-10)].join("...")),{name:e,extension:n}}(e.name);if(!e.tempId&&0===e.id)return n;const r=e instanceof File,o=Object(nt.h)(e)||e.deleted?"":['<div data-btn-edit class="comment-attachment__edit icon">','<svg><use xlink:href="#svg-sprite-edit-simple"></use></svg>',"</div>"].join(""),a=nt.c[e.source],s=a?['<div class="comment-attachment__source-icon icon">',`<svg><use xlink:href="#svg-sprite-${a.icon}"></use></svg>`,"</div>"].join(""):"",l=Object(nt.h)(e)?"comment-attachment__content_grey":"",c=i.extension?`<div class="comment-attachment__ext">.${Object(et.b)(i.extension)}</div>`:"";let u=Object(et.b)(i.name);e.deleted&&(u+=" (Deleted)");const d=r&&e.name.endsWith(".webm")?['<div data-btn-download class="comment-attachment__download icon">','<svg><use xlink:href="#svg-sprite-download-v4"></use></svg>',"</div>"].join(""):"";if(n.innerHTML=['<div data-content class="comment-attachment__content ',l,'">','<div data-name class="comment-attachment__name">',s,u+"</div>",c,"</div>",o,'<div data-btn-remove class="comment-attachment__remove icon">','<svg><use xlink:href="#svg-sprite-close"></use></svg>',"</div>",'<div class="comment-attachment__delim"></div>','<div class="comment-attachment__progress">','<div data-progress class="progress progress_small">','<div data-progress-bar class="progress__bar"></div>',"</div>","</div>",d,'<div class="comment-attachment-edit">','<div class="comment-attachment-edit__form">','<input data-input class="comment-attachment-edit__input" type="text" placeholder="Enter attachment name">',`<div class="comment-attachment-edit__ext">.${Object(et.b)(i.extension)}</div>`,"</div>",'<div class="comment-attachment-edit__controls">','<div data-btn-save class="comment-attachment-edit__control comment-attachment-edit__control_save icon">','<svg><use xlink:href="#svg-sprite-check"></use></svg>',"</div>",'<div data-btn-cancel class="comment-attachment-edit__control comment-attachment-edit__control_cancel icon">','<svg><use xlink:href="#svg-sprite-close"></use></svg>',"</div>","</div>","</div>"].join(""),n.setAttribute("data-file-preview",!0),n.setAttribute("readonly","readonly"),n.setAttribute("contenteditable",!1),n.setAttribute("data-temp-id",e.tempId),e["load-result"]){let t=e["load-result"],i=t;"string"!=typeof i?i=JSON.stringify(i):t=JSON.parse(t),n.setAttribute("data-load-result",i),n.setAttribute("data-id",t.id)}return n.setAttribute("data-attachment-id",e.id),n.setAttribute("data-file",JSON.stringify({id:e.id||0,tempId:e.tempId,name:e.name,type:e.type,source:e.source,date:e.date,user:e.user,extension:e.type,thumbnail_large:e.thumbnail_large||null,thumbnail_small:e.thumbnail_large||null,url:e.url||null,mimetype:e.mimetype,deleted:e.deleted,deleted_by:e.deleted_by})),(e.uploaded||e.id)&&t.setCompleted(n),d&&n.querySelector("[data-btn-download]").addEventListener("click",()=>{rt.a.saveAs(e,e.name)}),n}static value(t){try{const e=t.dataset.id,n=t.dataset.tempId,i=JSON.parse(t.dataset.file),r=i.name||i.title,o=r.split("."),a=(i.extension||o[o.length-1]).split("/");return{id:e||i.id,tempId:n||i.tempId,name:r,type:i.type||i.extension,source:i.source,date:i.date,user:i.user,thumbnail_large:i.thumbnail_large||null,thumbnail_small:i.thumbnail_large||null,url:i.url||null,mimetype:i.mimetype,deleted:i.deleted,deleted_by:i.deleted_by,raw:i,extension:a[a.length-1]}}catch(e){}}static formats(t){const e=at.a.concat(at.b).concat([at.c,at.e]).reduce((e,n)=>(t.hasAttribute("data-"+n)&&(e[n]=t.getAttribute("data-"+n)||void 0),e),{});return Object.assign({},e)}static setProgress(t,e){const n=t.querySelector("[data-progress-bar]");n&&n instanceof HTMLElement&&(n.style.width=e+"%")}static setCompleted(t){t.classList.add("comment-attachment_success"),t.querySelector("[data-progress]").remove()}attach(){super.attach(),this.attachment=new ut(this.domNode,this)}format(e,n){if(at.a.concat(at.b).concat([at.c,at.e]).indexOf(e)>-1&&(n?this.domNode.setAttribute("data-"+e,n):this.domNode.removeAttribute("data-"+e)),"src"===e)try{const t=JSON.parse(this.domNode.dataset.file)||{};t.url=n,this.domNode.setAttribute("data-file",JSON.stringify(t)),this.attachment&&this.attachment.getFileData()}catch(i){}st.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n),"data-progress"===e&&t.setProgress(this.domNode,n),"data-id"===e&&n&&t.setCompleted(this.domNode)}optimize(e){const n=t.formats(this.domNode),{row:i,cell:r,rowspan:o,colspan:a}=n;!n[at.c]||this.parent instanceof lt||this.wrap(lt.blotName,{row:i,cell:r,colspan:a,rowspan:o,list:"none",[at.e]:n[at.e]}),super.optimize(e)}}return t.blotName="attachment",t.tagName="div",t.className="comment-attachment",t})();class ut{constructor(t,e){this.element=t,this.blot=e,t.dataset.file&&(this.getFileData(),this.id=t.dataset.tempId,this.elements={root:t,content:t.querySelector("[data-content]"),name:t.querySelector("[data-name]"),progressElement:t.querySelector("[data-progress]"),progressBar:t.querySelector("[data-progress-bar]"),input:t.querySelector("[data-input]"),editBtn:t.querySelector("[data-btn-edit]"),removeBtn:t.querySelector("[data-btn-remove]"),saveBtn:t.querySelector("[data-btn-save]"),cancelBtn:t.querySelector("[data-btn-cancel]")},this.init())}getFileData(){this.file=ct.value(this.element),this.file.extension=this.file.name.split(".").slice(-1)[0],this.file.justName=this.file.name.split(".").slice(0,-1).join(".")}init(){this.elements.editBtn&&this.elements.editBtn.addEventListener("click",()=>this.startEdit()),this.elements.removeBtn.addEventListener("click",()=>this.remove()),this.elements.saveBtn.addEventListener("click",()=>this.save()),this.elements.cancelBtn.addEventListener("click",()=>this.cancel()),this.elements.root.addEventListener("click",t=>{t.stopPropagation()}),this.elements.input.addEventListener("keydown",t=>{switch(t.keyCode){case O.a.ENTER:this.save();break;case O.a.ESCAPE:this.cancel()}t.stopPropagation()}),this.elements.input.addEventListener("blur",t=>{this.save(),this.dispatchEditEvent(!1)}),this.elements.input.addEventListener("paste",t=>{t.stopPropagation()}),this.elements.content.addEventListener("click",t=>{if(!this.file.id&&!this.elements.root.dataset.id||this.file.deleted)return;const e=document.createEvent("Event");e.initEvent(a.b,!0,!0),e.detail=Object.assign(Object.assign({},ct.value(this.element)),{original:t}),document.dispatchEvent(e)})}dispatchEditEvent(t){const e=document.createEvent("Event");e.initEvent(a.a,!0,!0),e.editing=t,document.dispatchEvent(e)}startEdit(){var t;(t=this.blot.getQuill()).__cu_orig_selection||(t.__cu_orig_selection=t.getSelection,t.setSelection=()=>{}),this.dispatchEditEvent(!0),this.elements.root.classList.add("comment-attachment_edit"),this.elements.root.setAttribute("embed-node",!0),this.elements.input.value=this.file.justName,Object(ot.c)(this.elements.input,0,this.elements.input.value.length)}finishEdit(){var t;(t=this.blot.getQuill()).__cu_orig_selection&&(t.getSelection=t.__cu_orig_selection,t.__cu_orig_selection=void 0),this.elements.root.removeAttribute("embed-node"),this.elements.root.classList.remove("comment-attachment_edit")}cancel(){this.elements.input.value="",this.finishEdit()}remove(){this.elements.root.remove()}save(){const t=this.elements.input.value.trim();if([t,this.file.extension].join(".")!==this.file.name)if(t.length){this.elements.name.textContent=this.cutName(t),this.file.name=[t,this.file.extension].join("."),this.file.title=[t,this.file.extension].join("."),this.file.justName=t,this.finishEdit(),this.elements.root.setAttribute("data-file",JSON.stringify(this.file));const e=document.createEvent("Event");e.initEvent(a.c,!0,!0),e.detail={id:this.file.id||this.elements.root.dataset.id,title:this.file.name},document.dispatchEvent(e)}else this.finishEdit();else this.cancel()}cutName(t){return t.length>30&&(t=[t.slice(0,20),t.slice(-10)].join("...")),t}}const dt=i.d.import("blots/inline");let ht=(()=>{class t extends dt{}return t.blotName="grammarly",t.tagName="G",t.className="gr_",t})();var ft=n("YYQ8"),pt=n("Knr1");const gt=i.d.import("formats/image"),mt=i.d.import("formats/link"),bt=["alt","height","width","data-id","data-temp-id","data-progress"];let vt=(()=>{class t extends gt{static create(t){let e="",n="",i="";"string"==typeof t?e=t:t&&(e=t.src,n=t.id,i=t.tempId);const r=super.create(e);return n&&r.setAttribute("data-id",n),i&&(r.setAttribute("data-temp-id",i),r.setAttribute("data-progress",0),this.setProgress(r,0)),r.addEventListener("dblclick",t=>{const e=r.getAttribute("data-id"),n=document.createEvent("Event");n.initEvent(a.b,!0,!0),n.detail={id:e,url:r.src,original:t},document.dispatchEvent(n)}),r}static sanitize(t){return mt.sanitize(t,["http","https","data","blob"])?t:"//:0"}static formats(t){return bt.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}static setProgress(t,e){e||0===e?(t.style.filter=`grayscale(${100-e/2}%) blur(${6-e/20}px)`,t.style.opacity="0.5"):(t.style.filter=null,t.style.opacity=null)}format(e,n){bt.indexOf(e)>-1||"src"===e?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n),"data-progress"===e&&t.setProgress(this.domNode,n)}attach(){super.attach(),this.dragHandler=new pt.a(this,{useDefault:!0})}detach(){super.detach(),this.dragHandler&&(this.dragHandler.detach(),this.dragHandler=null)}}return t.blotName="image",t.tagName="IMG",t.className="ql-img",t})();var yt=n("Mx8Z");const wt=new Promise((t,e)=>{t({url:"https://clickup.com/",service:"clickup",title:"Clickup",description:"All your work in one place: Tasks, docs, chat, goals, & more.",thumbnail_url:""})}),kt=i.d.import("formats/list-block-wrapper");let _t=(()=>{class t extends G.a{constructor(e,n){super(e,n);const i=t.value(n);"undefined"===i.description&&(i.description=""),this.titleNode=n.querySelector(".ql-bookmark__title"),this.descNode=n.querySelector(".ql-bookmark__desc"),this.favIconNode=n.querySelector(".ql-bookmark__favicon"),this.imageNode=n.querySelector(".ql-bookmark__banner"),this.loader=n.querySelector(".ql-bookmark__loader"),this.dropdownContainer=n.querySelector(".ql-bookmark__dropdown");const r=this.getQuill(),o=r.getModule("unfurlUrl"),s=o.options.getBookmarkEmbedPromise&&"function"==typeof o.options.getBookmarkEmbedPromise?o.options.getBookmarkEmbedPromise(i.url):wt;"true"===i.updated?(this.titleNode.innerHTML=i.title||"",i.description?(this.descNode.innerHTML=i.description||"",this.domNode.classList.add("ql-bookmark-with-description")):this.domNode.classList.add("ql-bookmark-without-description"),i.favicon&&(this.favIconNode.src=i.favicon,this.favIconNode.style.display="inline"),i.thumbnail?(this.imageNode.style.backgroundImage=`url(${i.thumbnail})`,this.imageNode.style.visibility="visible",this.domNode.classList.add("ql-bookmark-with-thumbnail")):this.domNode.classList.add("ql-bookmark-without-thumbnail"),this.loader.style.display="none"):s.then(t=>{const{title:e,description:n,thumbnail_url:i,favicon:r}=t.oembed;this.titleNode.innerHTML=e||"",this.domNode.setAttribute("data-title",e),n?(this.descNode.innerHTML=n||"",this.domNode.classList.add("ql-bookmark-with-description")):this.domNode.classList.add("ql-bookmark-without-description"),this.domNode.setAttribute("data-description",n||""),r&&(this.favIconNode.src=r,this.favIconNode.style.display="inline",this.domNode.setAttribute("data-favicon",r)),i?(this.imageNode.style.backgroundImage=`url(${i})`,this.imageNode.style.visibility="visible",this.domNode.setAttribute("data-thumbnail",i),this.domNode.classList.add("ql-bookmark-with-thumbnail")):this.domNode.classList.add("ql-bookmark-without-thumbnail"),this.loader.style.display="none",this.domNode.setAttribute("data-updated","true")}).catch(t=>{this.loader.style.display="none";const e=r.getIndex(this);this.remove(),r.insertText(e,i.url,{link:i.url},a.i.API)}),this.clickCopyHandler=this.handleCopyClick.bind(this),this.clickRemoveHandler=this.handleRemoveClick.bind(this),this.clickRevertHandler=this.handleRevertClick.bind(this),this.dropdownContainer.querySelector(".ql-bookmark__copy").addEventListener("click",this.clickCopyHandler),this.dropdownContainer.querySelector(".ql-bookmark__remove").addEventListener("click",this.clickRemoveHandler),this.dropdownContainer.querySelector(".ql-bookmark__revert").addEventListener("click",this.clickRevertHandler)}static register(){kt.addAllowChildren(t)}static create(t){const e=super.create(t);e.setAttribute("readonly","readonly"),e.setAttribute("contenteditable","false"),Object.keys(t).forEach(n=>{t[n]&&e.setAttribute("data-"+n,t[n])});const n=document.createElement("div");n.classList.add("ql-bookmark__loader"),n.innerHTML='\n  <svg xmlns="http://www.w3.org/2000/svg" style="shape-rendering: auto;" width="24px" height="24px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n    <circle cx="50" cy="50" fill="none" stroke="#4169e1" stroke-width="12" r="42" stroke-dasharray="197.92033717615698 67.97344572538566">\n      <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>\n    </circle>\n  </svg>\n';const i=document.createElement("div");i.classList.add("ql-bookmark__bazel"),i.addEventListener("click",e=>{window.open(s.a.sanitize(t.url),"_blank")});const r=document.createElement("div");r.classList.add("ql-bookmark__body");const o=document.createElement("div");o.classList.add("ql-bookmark__content");const a=document.createElement("div");a.classList.add("ql-bookmark__title");const l=document.createElement("div");l.classList.add("ql-bookmark__desc");const c=document.createElement("div");c.classList.add("ql-bookmark__url");const u=document.createElement("img");u.classList.add("ql-bookmark__favicon");const d=document.createElement("span");d.classList.add("ql-bookmark__urltext"),d.innerHTML=t.url,c.appendChild(u),c.appendChild(d);const h=document.createElement("div");h.classList.add("ql-bookmark__banner");const f=this.createDropdown();return o.appendChild(a),o.appendChild(l),o.appendChild(c),r.appendChild(o),r.appendChild(h),r.appendChild(f),e.appendChild(r),e.appendChild(n),e.appendChild(i),e}static createDropdown(){const t=document.createElement("div");return t.classList.add("ql-bookmark__dropdown"),t.innerHTML='<div class="ql-frame__dropdown"><div class="ql-frame__dropdown-toggle icon"><svg viewBox="0 0 16 4" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd"/></svg></div><div class="ql-frame__dropdown-menu"><div class="ql-frame__dropdown-menu-item ql-bookmark__copy"><div class="ql-frame__dropdown-menu-icon icon"><svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h16v16H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11 1H9.732a2 2 0 00-3.464 0H5a3 3 0 00-3 3v9a3 3 0 003 3h6a3 3 0 003-3V4a3 3 0 00-3-3zM5 3a1 1 0 00-1 1v9a1 1 0 001 1h6a1 1 0 001-1V4a1 1 0 00-1-1H5zm1.5 2a1 1 0 000 2h3a1 1 0 100-2h-3z"/></svg></div><span data-text>Copy Link</span></div><div class="ql-frame__dropdown-menu-item ql-bookmark__revert"><div class="ql-frame__dropdown-menu-icon icon"><svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M13 7.5A5.5 5.5 0 007.5 2v2a3.5 3.5 0 11-3.465 4C3.958 7.453 3.552 7 3 7c-.552 0-1.027.45-.978 1A5.5 5.5 0 0013 7.5z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M1.293 2.293l.038-.036L3.295.293a1 1 0 011.414 1.414L4.416 2H7.5v2H4.414l.295.295a1 1 0 01-1.414 1.414L1.33 3.745A.997.997 0 011 3c-.001-.256.096-.513.292-.708z"/></svg></div><span>Remove embed</span></div><div class="ql-frame__dropdown-menu-item ql-bookmark__remove"><div class="ql-frame__dropdown-menu-icon icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z" fill="#FD71AF"/></svg></div><span>Delete</span></div></div></div>',t}static value(t){return{url:t.getAttribute("data-url"),service:t.getAttribute("data-service"),title:t.getAttribute("data-title"),description:t.getAttribute("data-description"),thumbnail:t.getAttribute("data-thumbnail"),favicon:t.getAttribute("data-favicon"),updated:t.getAttribute("data-updated")}}static formats(t){const e=at.a.concat(at.b).concat([at.c,at.e]).reduce((e,n)=>(t.hasAttribute("data-"+n)&&(e[n]=t.getAttribute("data-"+n)||void 0),e),{});return Object.assign({},e)}handleCopyClick(e){const n=t.value(this.domNode),i=document.createEvent("Event");i.initEvent(a.e,!0,!0),i.data=n.url,document.dispatchEvent(i);const r=this.dropdownContainer.querySelector("[data-text]");r.innerHTML="Copied!",setTimeout(()=>{r.innerHTML="Copy link"},1e3)}handleRemoveClick(t){this.remove()}handleRevertClick(){const e=this.getQuill(),n=e.getIndex(this),i=t.value(this.domNode);this.remove(),e.insertText(n,i.url,{link:i.url},a.i.USER),e.setSelection(n+i.url.length)}remove(){this.dropdownContainer.querySelector(".ql-bookmark__copy").removeEventListener("click",this.clickCopyHandler),this.dropdownContainer.querySelector(".ql-bookmark__remove").removeEventListener("click",this.clickRemoveHandler),this.dropdownContainer.querySelector(".ql-bookmark__revert").removeEventListener("click",this.clickRevertHandler),super.remove()}attach(){super.attach()}detach(){super.detach()}format(t,e){at.a.concat(at.b).concat([at.c,at.e]).indexOf(t)>-1&&(e?this.domNode.setAttribute("data-"+t,e):this.domNode.removeAttribute("data-"+t))}optimize(e){const n=t.formats(this.domNode),{row:i,cell:r,rowspan:o,colspan:a}=n;!n[at.c]||this.parent instanceof kt||this.wrap(kt.blotName,{row:i,cell:r,colspan:a,rowspan:o,list:"none",[at.e]:n[at.e]}),super.optimize(e)}getQuill(){return this.scroll&&this.scroll.domNode.parentNode?i.d.find(this.scroll.domNode.parentNode):null}}return t.blotName="bookmark",t.tagName="div",t.className="ql-bookmark",t})();var xt=n("b3J4"),Ot=n("tVaG"),Nt=n("2FeZ"),Et=n("CyTj"),Lt=n.n(Et);const Ct=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",At={onQuery:()=>!1,onShowDialog:()=>{},onHideDialog:()=>{},onKeyPress:()=>!1,parse:null,debounceTime:300,minChars:2,maxChars:20,createContainer:!1};class Tt{constructor(t,e){if(this.enabled=!1,this.dialogShown=!1,this.dialogShownIndex=-1,this.instantCheck=!1,this.quill=t,this.options=Object.assign(Object.assign({},At),e),this.dropdownHandler=new b(t,{dropdownContainer:this.options.dropdownContainer,createContainer:this.options.createContainer}),this.matcher=t.getModule("matcher"),!this.matcher)return;this.options.parse&&this.matcher.addBinding({parse:this.options.parse,minChars:this.options.minChars,maxChars:this.options.maxChars,enable:(t,e)=>{this.processQuery(e,t)},disable:()=>{this.disable()},instantCheck:()=>this.dialogShown||this.instantCheck}),this.keyboard=t.getModule("keyboard");const n=(t,e)=>this.dialogShown?(this.matcher.checkText(t),this.options.onKeyPress(Object.assign({key:O.c.ENTER},e)),this.hideDialog(),!1):!this.matcher.checking||(this.matcher.checkText(t),!this.dialogShown)||(this.options.onKeyPress(Object.assign({key:O.c.ENTER},e)),this.hideDialog(),!1);this.addKeyBinding({key:O.c.ENTER,[Ct]:null,handler:n}),this.addKeyBinding({key:O.c.TAB,[Ct]:null,handler:n}),this.addKeyBinding({key:O.c.ESCAPE,handler:(t,e)=>!this.dialogShown||(this.options.onKeyPress(Object.assign({key:O.c.ESCAPE},e)),this.hideDialog(),!1)}),this.addKeyBinding({key:O.a.ARROW_UP,handler:(t,e)=>!this.dialogShown||(this.options.onKeyPress(Object.assign({key:O.a.ARROW_UP},e)),!1)}),this.addKeyBinding({key:O.a.ARROW_DOWN,handler:(t,e)=>!this.dialogShown||(this.options.onKeyPress(Object.assign({key:O.a.ARROW_DOWN},e)),!1)}),this.addKeyBinding({key:O.a.ARROW_LEFT,[Ct]:!0,handler:(t,e)=>!this.dialogShown||this.options.onKeyPress(Object.assign({key:O.a.ARROW_LEFT,shortkey:!0},e))}),this.addKeyBinding({key:O.a.ARROW_RIGHT,[Ct]:!0,handler:(t,e)=>!this.dialogShown||this.options.onKeyPress(Object.assign({key:O.a.ARROW_RIGHT,shortkey:!0},e))}),this.addKeyBinding({key:O.c.SPACE,handler:(t,e)=>!this.dialogShown||!this.options.onKeyPress(Object.assign({key:O.c.SPACE},e))||(this.hideDialog(),!1)})}addKeyBinding(t){const e=t.key;this.keyboard.bindings[e]||(this.keyboard.bindings[e]=[]),this.keyboard.bindings[e].unshift(Object.assign({},t))}enable(t){this.enabled=!0,this.initRange=t}disable(){this.enabled&&(this.enabled=!1,this.initRange=null,this.hideDialog())}processQuery(t,e){this.enable(t),e.length>=this.options.minChars&&this.options.onQuery(e)?this.showDialog(t,e):this.hideDialog()}showDialog(t,e){if(!this.dialogShown||this.dialogShownIndex!==t.index){this.dialogShown=!0,this.dialogShownIndex=t.index;const n=this.dropdownHandler.showFromRange(t);this.options.onShowDialog(e,n,this.dropdownHandler.dropdownContainer)}}hideDialog(){this.dialogShown&&(this.options.onHideDialog(),this.dialogShown=!1,this.dialogShownIndex=-1,this.dropdownHandler.hide())}destroy(){this.options=At,this.dropdownHandler=null,this.matcher=null,this.quill=null}}const qt=/(?:\s|^)(:[^ ]*)(?!.*\s)/,jt={onQuery:()=>!1,onShowDialog:()=>{},onHideDialog:()=>{},onKeyPress:()=>!1,parse:t=>{if(!t)return;const e=qt.exec(t);if(!e||e.length<2)return;const[,n]=e;return n},debounceTime:300,minChars:2,maxChars:20};var St=n("hbEN");const Rt={debounceTime:300,bindings:[]},It=i.d.import("blots/break");var Bt=function(t){return t.Menu="menu",t.SlashCommands="slashCommands",t.Custom="slashCommands",t}({});const Pt=i.d.import("formats/list");var Dt=n("0jq0"),Mt=n("BYBp"),Ht=n("RwZa");const zt=/(?:\s|^)(@{1,3}[^@\n\r\t]{0,80}(?!.*@))/,Ut={onQuery:()=>!1,onShowDialog:()=>{},onHideDialog:()=>{},onKeyPress:()=>!1,parse:t=>{if(!t)return;const e=zt.exec(t);if(!e||e.length<2)return;const[,n]=e;return n},debounceTime:300,minChars:0,maxChars:20},Ft={onShow:()=>{},onHide:()=>{},onClick:()=>{},delayTime:500};var Wt=n("n7fi"),Vt=n("o0vL"),$t=n("BeL+"),Gt=n("xWuZ"),Kt=n("8v1e");const Zt={onShow:()=>{},onHide:()=>{},onCreatePopupAllowed:()=>{}},Yt={ids:[Vt.a],type:"create"},Qt=i.d.import("blots/inline");let Xt=(()=>{class t extends Qt{static create(t){return super.create(t)}static formats(t){return!0}}return t.blotName="comment_draft",t.tagName="SPAN",t.className="ql-comment-draft",t})();var Jt=n("6hbx"),te=n("/o6K");const ee=i.d.import("blots/scroll"),ne=i.d.import("modules/toolbar"),ie=i.d.import("ui/icons");let re=(()=>{class t extends G.a{static create(t){const e=super.create(t);e.setAttribute("readonly","readonly"),e.setAttribute("contenteditable","false"),e.setAttribute("draggable","true"),e.setAttribute("data-title",t.title),e.setAttribute("data-url",t.url),e.setAttribute("data-color",t.color||""),e.setAttribute("data-align",t.align||"");const n="center"===t.align?"ql-align-center":"right"===t.align?"ql-align-right":"";n&&e.classList.add(n);const i=document.createElement("div");i.classList.add("ql-btn__body"),i.innerText=t.title,t.color&&(i.style.backgroundColor=t.color),i.addEventListener("click",e=>{window.open(s.a.sanitize(t.url),"_blank")}),e.appendChild(i);const r=document.createElement("div");return r.classList.add("ql-btn__edit"),r.classList.add("icon"),r.innerHTML=['<svg><use xlink:href="#svg-sprite-cu2-edit"></use></svg>'].join(""),i.appendChild(r),e}static value(t){return{title:t.getAttribute("data-title"),url:t.getAttribute("data-url"),color:t.getAttribute("data-color"),align:t.getAttribute("data-align")}}attach(){if(super.attach(),!this.onClickBinded){const e=this.domNode.querySelector(".ql-btn__edit");e&&(this.onClickBinded=e=>{e.stopPropagation(),e.preventDefault(),this.getHooks().onButtonOptions(this,t.value(this.domNode))},e.addEventListener("click",this.onClickBinded))}}detach(){if(super.detach(),this.onClickBinded){const t=this.domNode.querySelector(".ql-btn__edit");t&&(t.removeEventListener("click",this.onClickBinded),this.onClickBinded=null)}}formatAt(t,e,n,i){}format(t,e){}}return t.blotName="button",t.tagName="div",t.className="ql-btn",t})();var oe=n("ADkP");const ae=["data-size"];let se=(()=>{class t extends G.a{static create(t){const e=super.create(t);e.setAttribute("readonly","readonly"),e.setAttribute("contenteditable","false"),e.setAttribute("draggable","true"),e.addEventListener("keydown",t=>{t.stopPropagation()});const n=document.createElement("cu-listview-embed-dynamic");return n.setAttribute("view-id",t.viewId),t.publicLink&&n.setAttribute("public-link",t.publicLink),n.setAttribute("closeable","true"),n.setAttribute("expandable","true"),n.setAttribute("embed-node","true"),e.appendChild(n),e}static value(t){const e=t.querySelector("cu-listview-embed-dynamic");return e&&{viewId:e.getAttribute("view-id"),publicLink:e.getAttribute("public-link")}}static formats(t){return ae.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}format(t,e){ae.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}return t.blotName="listview",t.tagName="doc",t.className="ql-listview",t})(),le=(()=>{class t extends Y.a{static create(t){const e=super.create(t);return e.setAttribute("spellcheck",!1),e.setAttribute("data-variable-id",t.variableId),e.setAttribute("data-label",t.label),t.unknown&&e.setAttribute("data-unknown","true"),e.innerHTML=`field(<span class="cu-formula-field-text-editor__variable">"${Object(et.b)(t.label)}"</span>)`,e}static value(t){return{label:t.dataset.label,variableId:t.dataset.variableId,unknown:!!t.dataset.unknown}}}return t.blotName="formula_variable",t.tagName="span",t.className="ql-formula-variable",t})(),ce=(()=>{class t extends G.a{static create(t){const e=super.create(t);e.setAttribute("readonly","readonly"),e.setAttribute("contenteditable","false"),e.setAttribute("draggable","true"),e.addEventListener("keydown",t=>{t.stopPropagation()}),e.addEventListener("paste",t=>{t.stopPropagation()});const n=document.createElement("cu-table-content-dynamic");return n.setAttribute("embed-node","true"),e.appendChild(n),e}static value(t){return!0}offset(){return super.offset()+1}}return t.blotName="table_content",t.tagName="span",t.className="ql-table-content",t})();var ue=n("Szkd"),de=n("nUx9");let he=(()=>{class t extends Y.a{static create(t){const e=super.create(t);return e.innerText="@"+fe(t.handle),e.setAttribute("data-group_id",t.id),e.setAttribute("data-name",fe(t.name)),e.setAttribute("data-handle",fe(t.handle)),e.setAttribute("data-notify",String(Boolean(t.notify))),e.setAttribute("data-tag_id",t.tag_id||Object(X.a)()),e}static value(t){return{id:t.getAttribute("data-group_id"),name:t.getAttribute("data-name"),handle:t.getAttribute("data-handle"),notify:"true"===t.getAttribute("data-notify"),tag_id:t.getAttribute("data-tag_id")}}}return t.blotName="user_group_mention",t.className="cu-mention__user-group",t.tagName="strong",t})();function fe(t){return t?t.replace(/(<([^>]+)>)/gi,""):t}let pe=(()=>{class t extends Y.a{static create(t){const e=super.create(t);return e.setAttribute("spellcheck",!1),e.setAttribute("data-id",t.id),t.customPayload.path?e.setAttribute("data-field-path",t.customPayload.path.join(",")):e.setAttribute("data-field-id",t.customPayload.field_id),e.setAttribute("data-title",t.title),e.innerHTML=`<span class="cu-automation-variable-text-editor__variable">${Object(et.b)(t.title)}</span>`,e}static value(t){const e=t.getAttribute("data-field-path");return{id:t.getAttribute("data-id"),title:t.getAttribute("data-title"),customPayload:{label:t.getAttribute("data-title"),path:e?e.split(","):void 0,field_id:t.getAttribute("data-field-id")}}}}return t.blotName="automation_variable",t.tagName="span",t.className="ql-automation-variable",t})(),ge=(()=>{class t extends Y.a{static create(t){const e=super.create(t);return e.innerText="@"+me(t.label.toLowerCase()),e.setAttribute("data-label",me(t.label)),e.setAttribute("data-type",me(t.type)),e.setAttribute("data-notify",String(Boolean(t.notify))),e}static value(t){return{label:t.getAttribute("data-label"),type:t.getAttribute("data-type"),notify:"true"===t.getAttribute("data-notify")}}}return t.blotName="task_user_group_mention",t.className="cu-mention__task-user-group",t.tagName="strong",t})();function me(t){return t?t.replace(/(<([^>]+)>)/gi,""):t}let be=(()=>{class t extends G.a{constructor(e,n){super(e,n),this.gifs=[],this.containerNode=n.querySelector(".ql-giphy__container"),this.imageNode=n.querySelector(".ql-giphy__image"),this.deleteButton=n.querySelector(".ql-giphy__delete"),this.shuffleButton=n.querySelector(".ql-giphy__shuffle"),this.loadingNode=n.querySelector(".ql-giphy__loading");const i=Object(r.q)(),{query:o,giphy:a,width:s}=t.value(this.domNode);a&&this.setGiphyUrl(a,s),this.imageNode.onload=()=>{this.loadingNode.style.opacity="0"},this.imageNode.onerror=()=>{this.loadingNode.style.opacity="0"},i.search(o,{limit:10,rating:"pg-13"}).then(t=>{this.gifs=t.data,!this.giphyUrl&&this.gifs.length>0&&this.setGiphyUrl(this.gifs[0].images.fixed_height.url,this.gifs[0].images.fixed_height.width)}),this.deleteHandler=this.handleDelete.bind(this),this.shuffleHandler=this.handleShuffle.bind(this),this.deleteButton&&this.deleteButton.addEventListener("click",this.deleteHandler),this.shuffleButton&&this.shuffleButton.addEventListener("click",this.shuffleHandler)}static create(t){const e=super.create(t);e.setAttribute("readonly","readonly"),e.setAttribute("contenteditable","false"),Object.keys(t).forEach(n=>{e.setAttribute("data-"+n,t[n])});const n=document.createElement("div");n.classList.add("ql-giphy__container");const i=document.createElement("div");i.classList.add("ql-giphy__topbar");const r=document.createElement("div");r.classList.add("ql-giphy__icon"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 72 72" version="1.1"><g id="providers-list" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="giphy"><rect id="Path" fill="none" x="0" y="0" width="72" height="72" rx="4"/><g transform="translate(17.000000, 12.000000)"><path id="Rectangle-1" fill="#2AFC9C" d="M0 4h5v40H0z"/><path id="Rectangle-3" fill="#9740FA" d="M33 13h5v31h-5z"/><path id="Rectangle-6" fill="#4A1F7C" d="M33 15h5v5h-5z"/><path id="Rectangle-2" fill="#22CDFB" d="M0 43h38v5H0z"/><path id="Rectangle-2" fill="#FFF39F" d="M0 0h25v5H0z"/><path id="Rectangle-5" fill="#FB6769" d="M23 0h5v5h5v5h5v5H23z"/></g></g></g></svg>';const o=document.createElement("div");o.classList.add("ql-giphy__title");const a=document.createElement("div");a.classList.add("ql-giphy__header"),a.innerHTML=t.query,o.appendChild(a);const s=document.createElement("div");s.classList.add("ql-giphy__shuffle"),s.innerHTML="Shuffle";const l=document.createElement("div");l.classList.add("ql-giphy__delete"),l.innerHTML='<svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 1H8V3H4V1ZM3 3V1C3 0.447715 3.44772 0 4 0H8C8.55228 0 9 0.447715 9 1V3H10H11H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 13.1046 10.1046 14 9 14H3C1.89543 14 1 13.1046 1 12V4H0.5C0.223858 4 0 3.77614 0 3.5C0 3.22386 0.223858 3 0.5 3H1H2H3ZM9 4H8H4H3H2V12C2 12.5523 2.44772 13 3 13H9C9.55228 13 10 12.5523 10 12V4H9ZM4 6H5V11H4V6ZM8 6H7V11H8V6Z" fill="#FD71AF"/></svg>',i.appendChild(r),i.appendChild(o),i.appendChild(s),i.appendChild(l);const c=document.createElement("div");c.classList.add("ql-giphy__gifWrapper");const u=document.createElement("img");u.classList.add("ql-giphy__image");const d=document.createElement("div");return d.classList.add("ql-giphy__loading"),d.innerHTML='\n  <svg xmlns="http://www.w3.org/2000/svg" style="shape-rendering: auto;" width="24px" height="24px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n    <circle cx="50" cy="50" fill="none" stroke="#4169e1" stroke-width="12" r="42" stroke-dasharray="197.92033717615698 67.97344572538566">\n      <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>\n    </circle>\n  </svg>\n',c.appendChild(u),c.appendChild(d),n.appendChild(i),n.appendChild(c),e.appendChild(n),e}static value(t){return{query:t.getAttribute("data-query"),giphy:t.getAttribute("data-giphy"),width:t.getAttribute("data-width")}}setGiphyUrl(t,e){this.giphyUrl=t,this.imageNode.src=t,this.domNode.setAttribute("data-giphy",t),this.loadingNode.style.opacity="1",e&&(this.domNode.setAttribute("data-width",e),this.containerNode.style.width=e+"px")}handleDelete(t){t.stopPropagation(),t.preventDefault(),this.remove()}handleShuffle(e){e.stopPropagation(),e.preventDefault();const n=t.value(this.domNode),i=this.gifs.findIndex(t=>t.images.fixed_height.url===n.giphy);if(i>=0){const t=i+1<this.gifs.length?i+1:0;this.gifs[t]&&this.setGiphyUrl(this.gifs[t].images.fixed_height.url,this.gifs[t].images.fixed_height.width)}}remove(){this.deleteButton&&this.deleteButton.removeEventListener("click",this.deleteHandler),this.shuffleButton&&this.shuffleButton.removeEventListener("click",this.shuffleHandler),super.remove()}attach(){super.attach()}detach(){super.detach()}formatAt(t,e,n,i){}format(t,e){}getQuill(){return this.scroll&&this.scroll.domNode.parentNode?i.d.find(this.scroll.domNode.parentNode):null}}return t.blotName="giphy",t.tagName="div",t.className="ql-giphy",t})();i.d.debug("error"),i.d.register(class extends ee{optimize(t=[],e={}){super.optimize(t,e)}update(t){let e=t;Array.isArray(t)&&(e=t.filter(t=>!(t.target&&t.target instanceof HTMLElement&&t.target.closest("[embed-node]")))),this.emitter&&super.update(e)}}),i.d.register(ue.a,!0),i.d.register(ct),i.d.register(K),i.d.register(Q),i.d.register(ht),i.d.register(J),i.d.register(ft.a),i.d.register(Ot.a),i.d.register(Jt.a),i.d.register(te.a),i.d.register(vt),i.d.register(s.a),i.d.register(_t),i.d.register(class extends Pt{constructor(t,e){super(t,e);const n=()=>{const e=this.offset(t);i.d.find(t.domNode.parentNode).setSelection(e)};this.uiNode.addEventListener("mousedown",n),this.uiNode.addEventListener("touchstart",n,{passive:!0})}}),i.d.register(yt.a),i.d.register(xt.b),i.d.register(Wt.a),i.d.register(Xt),i.d.register(re),i.d.register(se),i.d.register(le),i.d.register(ce),i.d.register(de.a),i.d.register(he),i.d.register(pe),i.d.register(ge),i.d.register(be),i.d.register("modules/pasteImage",class{constructor(t,e={}){this.needHanldeImage=!1,this.handleAllFiles=!1,this.quill=t,this.callback=e.onPaste,this.handleAllFiles=e.handleAllFiles;const n=t.clipboard.options.onCapturePaste;t.clipboard.options.onCapturePaste=t=>{const{index:e}=this.quill.getSelection(),[i]=e>=0?this.quill.getLeaf(e+1):null;return i&&"slash_command"===i.statics.blotName?(Object(r.g)(t),!0):!(!n||"function"!=typeof n||!n(t))||this.handlePaste(t)},t.clipboard.addMatcher("img",(t,e)=>(this.log("matcher",t),t&&t.src&&(this.handleImage(t.src),0===t.src.search(/^data:image/)||0===t.src.search(/^blob:/)||0===t.src.search(/^file:/))?new i.a:e)),t.uploader.options.handler=o}handlePaste(t){if(this.log(t),this.needHanldeImage=!1,!this.callback)return;const e=[],n=[];let i=t.clipboardData;if(t.originalEvent&&t.originalEvent.clipboardData&&(i=t.originalEvent.clipboardData),!i&&window.clipboardData&&(i=window.clipboardData),this.log(i),i&&i.types&&i.items){for(let t=0;t<i.types.length;t++){const r=i.types[t];if(this.log("type",t,r),this.log("item",t,i.items[t]),i.items[t]&&"text/rtf"===i.items[t].type){this.log("ignore",i);break}if(i.items[t]){const o=i.items[t].getAsFile();o&&(r.match(/image.*/)||i.items[t].type.match(/image.*/)?e.push(o):n.push(o))}}if(this.log("files",e,n),e.length>0||this.handleAllFiles&&n.length>0)return setTimeout(()=>this.callback(e,n),10),t.preventDefault(),!0}else this.needHanldeImage=!0}handleImage(t){if(this.callback&&this.needHanldeImage&&(this.needHanldeImage=!1,!t.match(/^webkit\-fake\-url\:\/\//))){const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{let t,n,i,r;n=document.createElement("canvas"),n.width=e.width,n.height=e.height,i=n.getContext("2d"),i.drawImage(e,0,0,n.width,n.height),r=null;try{r=n.toDataURL("image/png"),t=this.dataURItoBlob(r),t&&(t.name="image.png",this.callback([t],null))}catch(o){}},e.src=t}}dataURItoBlob(t){const e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return new Blob([i],{type:n})}destroy(){this.callback=null,this.quill=null}log(t,...e){localStorage.getItem("debugEnabled")}}),i.d.register("modules/pasteIframe",class{constructor(t,e){this.quill=t,this.options=Object.assign({},e);const n=t.clipboard.options.onCapturePaste;t.clipboard.options.onCapturePaste=t=>{const{index:e}=this.quill.getSelection(),[i]=e>=0?this.quill.getLeaf(e+1):null;return i&&"slash_command"===i.statics.blotName?(Object(r.g)(t),!0):!(!n||"function"!=typeof n||!n(t))||this.handlePasteIframe(t)}}handlePasteIframe(t){const e=this.quill.getSelection(!0);if(null==e)return;const n=this.quill&&this.quill.selection&&this.quill.selection.savedRange?this.quill.getFormat(this.quill.selection.savedRange.index):{},o=n&&n["table-cell-line"]||n&&n.list&&n.list.cell,s=t.clipboardData.getData("text/plain");if((t=>{const e=t.replace(/[\r\n]/g,"");return new RegExp(/^<(iframe).*\<\/\1\>$/,"i").test(e)})(s)){const t=(t=>{const e=t.match(/src=\"(.*?)\"/);return e&&e[1]})(s);if(t){const l={url:t,service:"custom",id:Object(r.h)(t)};if(l&&l.id&&!o)if(this.options.getCheckEmbedHeaderPromise)this.options.getCheckEmbedHeaderPromise(l.url).then(o=>{if(o)this.quill.updateContents((new i.a).retain(e.index).delete(e.length).insert(s,{link:t,autoLink:!0}),a.i.USER),this.quill.setSelection(e.index+s.length,0);else{const t=(new i.a).retain(e.index).delete(e.length);n.list?t.insert("\n",{list:n.list,indent:n.indent||0}).insert({frame:l},Object.assign(Object.assign({},n.list),{"data-size":Object(r.n)(l)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(l)||this.options.defaultEmbedIsExpanded,"in-list":n.list.list||"none","wrapper-indent":n&&n.indent||0,list:!1})):t.insert("\n").insert({frame:l},{"data-size":Object(r.n)(l)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(l)||this.options.defaultEmbedIsExpanded}),this.quill.updateContents(t,a.i.USER),this.quill.setSelection(e.index+2,0)}});else{const t=(new i.a).retain(e.index).delete(e.length);n.list?t.insert("\n",{list:n.list,indent:n.indent||0}).insert({frame:l},Object.assign(Object.assign({},n.list),{"data-size":Object(r.n)(l)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(l)||this.options.defaultEmbedIsExpanded,"in-list":n.list.list||"none","wrapper-indent":n&&n.indent||0,list:!1})):t.insert("\n").insert({frame:l},{"data-size":Object(r.n)(l)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(l)||this.options.defaultEmbedIsExpanded}),this.quill.updateContents(t,a.i.USER),this.quill.setSelection(e.index+2,0)}else this.quill.updateContents((new i.a).retain(e.index).delete(e.length).insert(s,{link:t,autoLink:!0}),a.i.USER),this.quill.setSelection(e.index+s.length,0)}return!0}}destroy(){this.quill=null}}),i.d.register("modules/pasteLinkOverText",class{constructor(t){this.quill=t;const e=t.clipboard.options.onCapturePaste;t.clipboard.options.onCapturePaste=t=>{const{index:n}=this.quill.getSelection(),[i]=n>=0?this.quill.getLeaf(n+1):null;return i&&"slash_command"===i.statics.blotName?(Object(r.g)(t),!0):!(!e||"function"!=typeof e||!e(t))||this.handlePaste(t)}}handlePaste(t){const e=this.quill.getSelection(!0);if(e&&e.length>0){const n=t.clipboardData.getData("text/plain"),o=this.quill.getLines(e.index,e.length);if(Object(l.i)(n)&&1===o.length&&Object(r.w)(n))return this.quill.format("link",s.a.sanitize(n),i.d.sources.USER),this.quill.setSelection(e.index+e.length,0,i.d.sources.USER),!0}}destroy(){this.quill=null}}),i.d.register("modules/pasteInList",class{constructor(t){this.quill=t;const e=t.clipboard.options.onCapturePaste;t.clipboard.options.onCapturePaste=t=>{const{index:n}=this.quill.getSelection(),[i]=n>=0?this.quill.getLeaf(n+1):null;return i&&"slash_command"===i.statics.blotName?(Object(r.g)(t),!0):!(!e||"function"!=typeof e||!e(t))||this.handlePasteInList(t)}}handlePasteInList(t){const e=this.quill.getSelection(!0);if(null==e)return;const[n]=this.quill.getLine(e.index);if(n&&"list"===n.statics.blotName){const n=t.clipboardData.getData("text/html"),i=t.clipboardData.getData("text/plain");if((t=>{const e=t.replace(/[\r\n]/g,"");return new RegExp(/<(table).*\<\/\1\>/,"i").test(e)})(n)){const t=n.replace(/[\r\n]/g,"").match(/<(td).*?\<\/\1\>/g);if(t&&t.length>0)return}const r=Array.from(t.clipboardData.files||[]);return!n&&r.length>0?void this.quill.uploader.upload(e,r):(this.onListItemPaste(e,{html:n,text:i}),!0)}}onListItemPaste(t,{text:e,html:n}){const[r]=this.quill.getLine(t.index),o=r.formats(),a=this.quill.getFormat(t.index);let s=this.quill.clipboard.convert({text:e,html:n},a),l=0;s.eachLine(()=>l+=1);const u=l>1;s=s.reduce((t,e)=>{if(e.insert&&"string"==typeof e.insert){const n=[],i=e.insert;let r=0;for(let t=0;t<e.insert.length;t++)"\n"===i.charAt(t)&&(0===t||n.push(i.substring(r,t)),n.push("\n"),r=t+1);const s=i.substring(r);s&&n.push(s),n.forEach(n=>{if("\n"===n)if(e.attributes&&e.attributes.list){const n=Object(c.a)({},e.attributes,{list:Object(c.a)({},o.list,{list:e.attributes.list.list}),indent:(a&&a.indent||0)+(e.attributes.indent||0)});t.insert("\n",n)}else t.insert("\n",e.attributes&&e.attributes.banner?Object(c.a)({},e.attributes,{banner:Object(c.a)({},e.attributes.banner,o.list,{list:!1,"in-list":e.attributes.banner["in-list"]||o.list.list,"wrapper-indent":(a&&a.indent||0)+(parseInt(e.attributes.banner["wrapper-indent"],10)||0)})}):e.attributes&&e.attributes.blockquote?Object(c.a)({},e.attributes,{blockquote:Object(c.a)({},e.attributes.blockquote,o.list,{list:!1,"in-list":e.attributes.blockquote["in-list"]||o.list.list,"wrapper-indent":(a&&a.indent||0)+(parseInt(e.attributes.blockquote["wrapper-indent"],10)||0)})}):e.attributes&&e.attributes["code-block"]?Object(c.a)({},e.attributes,{"code-block":Object(c.a)({},e.attributes["code-block"],o.list,{list:!1,"in-list":e.attributes["code-block"]["in-list"]||o.list.list,"wrapper-indent":(a&&a.indent||0)+(parseInt(e.attributes["code-block"]["wrapper-indent"],10)||0)})}):Object(c.a)({},e.attributes,o));else t.insert(n,e.attributes)})}else e.insert&&(e.insert.divider||e.insert.doc_embed||e.insert.comment_mention||e.insert.listview||e.insert.table_content)?t.insert(""):e.insert&&e.insert.frame?t.insert(e.insert,Object(c.a)({},e.attributes,{"in-list":e.attributes["in-list"]||o.list.list,"wrapper-indent":(a&&a.indent||0)+(parseInt(e.attributes["wrapper-indent"],10)||0)})):e.insert&&e.insert.bookmark?t.insert(e.insert.bookmark.url,{link:e.insert.bookmark.url}):e.insert&&e.insert.attachment?t.insert(e.insert.attachment.url,{link:e.insert.attachment.url}):e.insert&&e.insert.button?t.insert(e.insert.button.url,{link:e.insert.button.url}):e.insert&&e.insert.giphy?t.insert({image:e.insert.giphy.giphy}):t.insert(e.insert,e.attributes);return t},new i.a);let d=(new i.a).retain(t.index).delete(t.length);(u||1===l&&s.ops[0].insert&&s.ops[0].insert.frame)&&(d=d.concat((new i.a).insert("\n",a))),d=d.concat(s),this.quill.updateContents(d,i.d.sources.USER),this.quill.setSelection(d.length()-t.length,i.d.sources.SILENT),this.quill.scrollIntoView()}destroy(){this.quill=null}}),i.d.register("modules/pasteInTable",class{constructor(t){this.quill=t;const e=t.clipboard.options.onCapturePaste;t.clipboard.options.onCapturePaste=t=>{const{index:n}=this.quill.getSelection(),[i]=n>=0?this.quill.getLeaf(n+1):null;return i&&"slash_command"===i.statics.blotName?(Object(r.g)(t),!0):!(!e||"function"!=typeof e||!e(t))||this.handlePasteInTable(t)}}handlePasteInTable(t){const e=this.quill.getSelection(!0);if(null==e)return;const[n]=this.quill.getLine(e.index);if(n&&"table-cell-line"===n.statics.blotName){let n=t.clipboardData.getData("text/html");const i=t.clipboardData.getData("text/plain");(t=>{const e=t.replace(/[\r\n]/g,"");return new RegExp(/<(table).*\<\/\1\>/,"i").test(e)})(n)&&(n=n.replace(/<(colgroup).*?\<\/\1\>/g,""));const r=Array.from(t.clipboardData.files||[]);return!n&&r.length>0?void this.quill.uploader.upload(e,r):(this.onTableCellPaste(e,{html:n,text:i}),!0)}}onTableCellPaste(t,{text:e,html:n}){const[r]=this.quill.getLine(t.index),o=r.formats(),a=this.quill.getFormat(t.index);let s=this.quill.clipboard.convert({text:e,html:n},a);s=s.reduce((t,e)=>{if(e.insert&&"string"==typeof e.insert){const n=[],i=e.insert;let r=0;for(let t=0;t<e.insert.length;t++)"\n"===i.charAt(t)&&(0===t||n.push(i.substring(r,t)),n.push("\n"),r=t+1);const a=i.substring(r);a&&n.push(a),n.forEach(n=>{if("\n"===n)if(e.attributes&&e.attributes.list){const n=o["table-cell-line"],i=Object(c.a)({},e.attributes,n,Object.assign({"table-cell-line":!1,"list-container":!1,list:Object.assign({list:e.attributes.list.list},n)},n));t.insert("\n",Object(c.a)({},e.attributes,i,u))}else e.attributes&&!e.attributes["table-col"]&&t.insert("\n",Object(c.a)({},e.attributes,o,u));else t.insert(n,e.attributes)})}else e.insert&&(e.insert.divider||e.insert.doc_embed||e.insert.comment_mention||e.insert.listview||e.insert.table_content)?t.insert(""):e.insert&&e.insert.frame?t.insert(e.insert.frame.url,{link:e.insert.frame.url}):e.insert&&e.insert.bookmark?t.insert(e.insert.bookmark.url,{link:e.insert.bookmark.url}):e.insert&&e.insert.attachment?t.insert(e.insert.attachment.url,{link:e.insert.attachment.url}):e.insert&&e.insert.button?t.insert(e.insert.button.url,{link:e.insert.button.url}):e.insert&&e.insert.giphy?t.insert({image:e.insert.giphy.giphy}):t.insert(e.insert,e.attributes);return t},new i.a);const l=(new i.a).retain(t.index).delete(t.length).concat(s);this.quill.updateContents(l,i.d.sources.USER),this.quill.setSelection(l.length()-t.length,i.d.sources.SILENT),this.quill.scrollIntoView()}destroy(){this.quill=null}}),i.d.register("modules/pasteInBlocks",class{constructor(t){this.quill=t;const e=t.clipboard.options.onCapturePaste;t.clipboard.options.onCapturePaste=t=>{const{index:n}=this.quill.getSelection(),[i]=n>=0?this.quill.getLeaf(n+1):null;return i&&"slash_command"===i.statics.blotName?(Object(r.g)(t),!0):!(!e||"function"!=typeof e||!e(t))||this.handlePasteInCertainBlocks(t)}}handlePasteInCertainBlocks(t){const e=this.quill.getSelection(!0);if(null==e)return;const[n]=this.quill.getLine(e.index);if(n&&"blockquote"===n.statics.blotName||n&&"code-block"===n.statics.blotName||n&&"banner"===n.statics.blotName){const n=t.clipboardData.getData("text/html"),i=t.clipboardData.getData("text/plain"),r=Array.from(t.clipboardData.files||[]);return!n&&r.length>0?void this.quill.uploader.upload(e,r):(this.onCertainBlocksPaste(e,{html:n,text:i}),!0)}}onCertainBlocksPaste(t,{text:e,html:n}){const[r]=this.quill.getLine(t.index),o=r.formats(),a=this.quill.getFormat(t.index);let s=this.quill.clipboard.convert({text:e,html:n},a);const l=h.find(t=>o[t]);s=s.reduce((t,e)=>("string"==typeof e.insert&&("banner"===l?t.insert(e.insert.replace(/\r\n/g," ").replace(/\n/g," "),Object(c.a)({},e.attributes,d,{[l]:o[l]})):t.insert(e.insert,Object(c.a)({},e.attributes,d,{[l]:o[l]}))),t),new i.a);const u=s.ops.length>0&&s.ops[s.ops.length-1];u&&(u.insert.endsWith("\n")||u.insert.endsWith("\r\n"))&&(u.insert=u.insert.slice(0,u.insert.length-1));const f=(new i.a).retain(t.index).delete(t.length).concat(s);this.quill.updateContents(f,i.d.sources.USER),this.quill.setSelection(t.index+s.length()-t.length,i.d.sources.SILENT),this.quill.scrollIntoView()}destroy(){this.quill=null}}),i.d.register("modules/markdown",class{constructor(t,e){this.quill=t,this.options=e,this.allowedFormats=e.formats||p,this.matches=[{name:"header",pattern:/^(#){1,6}\s/g,action:(t,e,n,i)=>{const r=n.exec(t);if(!r)return;const o=r[0].length,a=r[0].trim().length;return e.index-i===o?this.quill.getFormat(i).code?void 0:(setTimeout(()=>{this.quill.formatLine(e.index,0,"header",a),this.quill.deleteText(e.index-o,o)},0),!0):void 0}},{name:"blockquote",pattern:/^(>)\s/g,action:(t,e,n,i)=>{if(!(i<0))return this.quill.getFormat(i).code?void 0:(setTimeout(()=>{this.quill.formatLine(i,1,"blockquote",!0),this.quill.deleteText(i,2)},0),!0)}},{name:"code-block",pattern:/^`{3}(?:\s|\n)/g,action:(t,e,n,i)=>{if(!(e.index<4))return this.quill.getFormat(i).code?void 0:(setTimeout(()=>{this.quill.formatLine(e.index,1,"code-block",!0),this.quill.deleteText(e.index-4,4)},0),!0)}},{name:"code",pattern:/(?:^|\s)(?:`)(.+?)(?:`)(?:$|\s)/g,action:(t,e,n,i)=>this.handleInlineStyle("code",t,e,n,i)},{name:"bold",pattern:/(?:^|\s)(?:\*)([^\*]+?)(?:\*)(?:$|\s)/g,action:(t,e,n,i)=>this.handleInlineStyle("bold",t,e,n,i)},{name:"italic",pattern:/(?:^|\s)(?:\_)([^\_]+?)(?:\_)(?:$|\s)/g,action:(t,e,n,i)=>this.handleInlineStyle("italic",t,e,n,i)},{name:"strikethrough",pattern:/(?:^|\s)(?:~)([^~]+)(?:~)(?:$|\s)/g,action:(t,e,n,i)=>this.handleInlineStyle("strike",t,e,n,i)},{name:"hr",pattern:/^([-*]\s?){3}/g,action:(t,e)=>{const n=e.index-t.length;if(!(n<0))return setTimeout(()=>{this.quill.deleteText(n,t.length),this.quill.insertEmbed(n+1,"divider",!0,i.d.sources.USER),this.quill.insertText(n+2,"\n",i.d.sources.API),this.quill.setSelection(n+2,i.d.sources.API)},0),!0}}],this.quill.on(a.h.TEXT_CHANGE,(t,e,n)=>{for(let i=0;i<t.ops.length;i++)t.ops[i].hasOwnProperty("insert")&&(" "===t.ops[i].insert?this.onSpace():"\n"===t.ops[i].insert&&this.onEnter())})}handleInlineStyle(t,e,n,i,r){if(e.match(/^([*_ \n]+)$/g))return;let o=null,a={};for(;null!=(o=i.exec(e))&&(a=this.quill.getFormat(r+o.index+1),a.code););if(!o)return;let s=o[0];const l=o[1];let c=r+o.index;return" "===s[0]&&(c+=1),s=s.trim(),setTimeout(()=>{const e=(new f).retain(c).delete(s.length).insert(l,Object.assign({[t]:!0},a));this.quill.updateContents(e)},0),!0}onSpace(t=0){const e=this.quill.getSelection();if(!e)return;const[n,i]=this.quill.getLine(e.index),o=Object(r.d)(n.delta()),a=o?o.substring(0,i):o,s=e.index-i,l=this.quill.getFormat(s);if(!(l["code-block"]||l["table-cell-line"]||l.list&&l.list.cell||l.blockquote&&l.blockquote.cell||l.banner&&l.banner.cell)&&void 0!==a&&a)for(const r of this.matches)if(this.allowedFormats[r.name]&&a.match(r.pattern)&&r.action(a,e,r.pattern,s))return void(t<20&&setTimeout(()=>this.onSpace(t+1)))}onEnter(t=0){const e=this.quill.getSelection();if(!e)return;const[n,i]=this.quill.getLine(e.index),o=Object(r.d)(n.delta())+" ",a=e.index-i,s=this.quill.getFormat(a);if(!(s["code-block"]||s["table-cell-line"]||s.list&&s.list.cell||s.blockquote&&s.blockquote.cell||s.banner&&s.banner.cell)&&(e.length=e.index++,void 0!==o&&o))for(const r of this.matches)if(this.allowedFormats[r.name]&&o.match(r.pattern)&&r.action(o,e,r.pattern,a))return void(t<20&&setTimeout(()=>this.onEnter(t+1)))}destroy(){this.options=p,this.quill=null}}),i.d.register("modules/taskMentions",class{constructor(t,e){this.isMentionListOpen=!1,this.allowCreateTask=!1,this.quill=t,this.options=Object.assign(Object.assign({},v),e),this.tooltip=t.theme.tooltip,this.dropdownHandler=new b(t,{dropdownContainer:this.options.dropdownContainer,createContainer:!1}),this.quill.on(a.h.SELECTION_CHANGE,(t,e,n)=>{this.handleSelection(t)}),this.patchUpdate()}handleSelection(t){let e=!1;if(t&&t.length>0){const n=this.quill.getContents(t),i=this.quill.getFormat(t);e=!n.ops.some(t=>"string"!=typeof t.insert)&&!i["code-block"]}e!==this.allowCreateTask&&(this.allowCreateTask=e,this.options.onCreatePopupAllowed(this.allowCreateTask))}addTaskMentionToEditor(t=null,e,n){if(this.isMentionListOpen&&!t&&!n)return;const r=this.quill.getSelection(!0);if(r||n||setTimeout(()=>{this.addTaskMentionToEditor(t,e,!0)},10),r){const n=r.index,o=this.quill.getFormat(n);if(o&&o["code-block"])return;if(t)this.quill.history.lastRecorded=Date.now(),this.replaceTaskMention(t,n,1);else{const t=new i.a;!e&&n>0?t.retain(n-1).delete(1):t.retain(n),t.insert({task_mention:{sessionId:this.options.sessionId}}),this.quill.history.cutoff(),this.quill.updateContents(t),this.options.onOpen()}}}dismissTaskMention(){this.closeTaskMention(),this.quill.history.undo()}closeTaskMention(){this.isMentionListOpen=!1}showCreatePopup(t){if(this.dropdownHandler){if(this.lastRange=this.quill.getSelection(!0),!this.lastRange)return;const e=this.quill.getText(this.lastRange.index,this.lastRange.length),n=this.dropdownHandler.showFromRange(this.lastRange);this.options.onShowCreatePopup({name:e,parent:t},n),this.tooltip&&this.tooltip.hide()}}hideCreatePopup(){this.options.onHideCreatePopup(),this.lastRange=null,this.dropdownHandler.hide()}replaceTaskMention(t,e,n=1){this.quill.updateContents((new i.a).retain(e).delete(n).insert({task_mention:Object(r.c)(t)}).insert(" "),a.i.USER),this.quill.setSelection(e+2,0)}replaceCreatedTaskMention(t){this.lastRange&&this.replaceTaskMention(t,this.lastRange.index,this.lastRange.length),this.hideCreatePopup()}destroy(){this.options=v,this.dropdownHandler=null,this.quill.scroll.update=this.quill.scroll._update,this.quill=null}patchUpdate(){this.quill.scroll._update=this.quill.scroll.update;const t=this.quill.scroll.update.bind(this.quill.scroll);this.quill.scroll.update=(...e)=>{e.length>0&&Object(g.a)(e[0])&&(e[0]=e[0].filter(t=>!t.target||!t.target.classList||!t.target.classList.contains("task-mention-input__field"))),t(...e)}}}),i.d.register("modules/magicUrl",y.a),i.d.register("modules/linkEmbedding",class{constructor(t,e){this.clickEmbedHandler=t=>{this.tooltip.hide(),this.tooltip.linkRange&&this.tooltip.linkData&&this.embedLink(this.tooltip.linkRange,this.tooltip.linkData)},this.clickHandler=t=>{if(t&&t.target){if(t.target.closest(".ql-frame__close")){const e=t.target.closest(".ql-frame");if(e){const t=i.d.find(e),n=e.getAttribute("url");if(t&&n){const e=this.quill.getIndex(t);this.unembedLink(e,n)}}}if(t.target.closest(".ql-frame__remove")){const e=t.target.closest(".ql-frame");if(e){const t=i.d.find(e);if(t){const e=this.quill.getIndex(t);this.removeEmbed(e)}}}if(t.target.closest(".ql-frame__copy")){const e=t.target.closest(".ql-frame");if(e){const t=e.getAttribute("copy-url")||e.getAttribute("url");if(t){const n=document.createEvent("Event");n.initEvent(a.e,!0,!0),n.data=t,document.dispatchEvent(n);const i=e.querySelector("[data-text]"),r=i.innerHTML;i.innerHTML="Copied!",setTimeout(()=>{i.innerHTML=r},1e3)}}}}},this.quill=t,this.options=Object.assign(Object.assign({},k),e),this.tooltip=t.theme.tooltip;const n=document.createElement("div");n.classList.add("ql-tooltip-embedding"),n.innerHTML='<span class="ql-embedd">Embed Link</span>',this.tooltip.root.appendChild(n),this.tooltip.root.querySelector(".ql-embedd").addEventListener("click",this.clickEmbedHandler),this.quill.root.addEventListener("click",this.clickHandler),Object(r.C)(this.tooltip)}embedLink(t,e){this.quill.updateContents((new i.a).retain(t.index).delete(t.length).insert("\n").insert({frame:e},{"data-size":Object(r.n)(e)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(e)||this.options.defaultEmbedIsExpanded}),a.i.USER),this.quill.setSelection(t.index+2,0)}unembedLink(t,e){this.quill.updateContents((new i.a).retain(t-1).delete(2).insert(e,{link:e}),a.i.USER),this.quill.setSelection(t+e.length-1,0)}removeEmbed(t){const e=(new i.a).retain(t).delete(1);this.quill.updateContents(e,a.i.USER),this.quill.setSelection(t-1,0)}detectLink(t,e){if(null!=t){if(0===t.length&&e===i.d.sources.USER){let e=t.index,[n,i]=this.quill.scroll.descendant(w,t.index);if(null==n&&t.index>0&&(e--,[n,i]=this.quill.scroll.descendant(w,e)),null!=n){this.tooltip.linkRange={index:e-i,length:n.length()};const t=w.formats(n.domNode),o=Object(r.i)(t,!1,this.options.allowGoogleLinkEmbedding);if(o&&o.id)return this.tooltip.linkData=o,this.tooltip.root.style.width="",this.tooltip.preview&&(this.tooltip.preview.textContent=t,this.tooltip.preview.setAttribute("href",t)),this.tooltip.show(),this.tooltip.root.classList.add("ql-embedding"),void this.tooltip.position(this.quill.getBounds(this.tooltip.linkRange))}}else delete this.tooltip.linkRange,delete this.tooltip.linkData;this.tooltip.root.classList.contains("ql-embedding")&&this.tooltip.hide()}}destroy(){this.quill.root.removeEventListener("click",this.clickHandler),this.tooltip.root.querySelector(".ql-embedd").removeEventListener("click",this.clickEmbedHandler),this.options=k,this.quill=null,this.tooltip=null}}),i.d.register("modules/slashCommands",Nt.b),i.d.register("modules/blotFormatter",Lt.a),i.d.register("modules/matcher",class{constructor(t,e){this.enabledMap={},this.quill=t,this.options=Object.assign(Object.assign({},Rt),e),this.bindings=[...this.options.bindings],this.debouncedCheckText=Object(St.a)(this.checkText.bind(this),this.options.debounceTime),this.debouncedCheckTextFast=Object(St.a)(this.checkText.bind(this),100),t.on("editor-change",(t,...e)=>{this.bindings.length&&"selection-change"===t&&(this.checking=!0,this.bindings.some(t=>t.instantCheck&&t.instantCheck())?this.debouncedCheckTextFast():this.debouncedCheckText())})}addBinding(t){this.bindings.push(t)}enable(t,e,n){this.enabledMap[t]=!0,this.bindings[t].enable(e,n)}disable(t){this.enabledMap[t]&&(this.enabledMap[t]=!1,this.bindings[t].disable())}disableAll(){Object.keys(this.enabledMap).forEach(t=>{this.disable(t)})}checkText(t){if(!this.quill)return;if(t||(t=this.quill.getSelection()),this.checking=!1,!t||t.length)return;const e=this.quill.getFormat(t.index);if(e&&(e["code-block"]||e.code))return void this.disableAll();const[n,i]=this.quill.getLeaf(t.index),r=(n&&n.text||"").slice(0,i);r?this.bindings.forEach((e,n)=>{const i=e.parse(r);!i||i.length>e.maxChars||i.length<e.minChars?this.disable(n):this.enable(n,i,{index:t.index-i.length,length:0})}):this.disableAll()}destroy(){this.options=Rt,this.bindings=[],this.quill=null}}),i.d.register("modules/emoji",class extends Tt{constructor(t,e){super(t,Object.assign(Object.assign({},jt),e)),this.keyboard.addBinding({key:":",collapsed:!0,shiftKey:null,shortKey:null,altKey:null,prefix:/(^\s*$)|(\s+$)/,handler:(t,e)=>(this.instantCheck=!0,!0)}),this.keyboard.addBinding({key:")",collapsed:!0,shiftKey:null,shortKey:null,altKey:null,prefix:/(^\s*:$)|(\s+:$)/,handler:(t,e)=>(this.initRange={index:t.index-1,length:1},this.insertEmoji({code:"1f642",name:"Slightly Smiling Face"},t),!1)})}disable(){super.disable(),this.instantCheck=!1}insertEmoji(t,e){const n=e||this.quill.getSelection(!0);let r,o;n&&(this.initRange?(r=(new i.a).retain(this.initRange.index).delete(n.index-this.initRange.index).insert({emoticon:t}).insert(" "),o=this.initRange.index+2):(r=(new i.a).retain(n.index).insert({emoticon:t}).insert(" "),o=n.index+2),this.quill.updateContents(r),this.quill.setSelection(o,i.d.sources.API))}destroy(){this.options=jt,this.dropdownHandler=null,this.quill=null}}),i.d.register("modules/mentions",class extends Tt{constructor(t,e){super(t,Object.assign(Object.assign({},Ut),e)),this.keyboard.addBinding({key:"@",collapsed:!0,shiftKey:null,shortKey:null,altKey:null,prefix:/(^\s*$)|(\s+$)/,handler:(t,e)=>(this.instantCheck=!0,setTimeout(()=>{this.matcher.checkText()}),!0)}),this.quill.emitter.listenDOM("click",document.body.querySelector("app-root"),t=>{Object(Mt.a)(t).find(t=>t===this.quill.root||t.className&&"string"==typeof t.className&&t.className.split(" ").includes("cu-ql-dropdown"))||this.disable()})}disable(){super.disable(),this.instantCheck=!1}insertMention(t,e){let n;switch(t){case Dt.a.User:n={user_mention:{id:e.user.id,name:e.user.username,email:e.user.email,notify:e.notify}};break;case Dt.a.Doc:n={doc_mention:e};break;case Dt.a.Task:n={task_mention:e};break;case Dt.a.UserGroup:n={user_group_mention:{id:e.userGroup.id,name:e.userGroup.name,handle:e.userGroup.handle,notify:e.notify}};break;case Dt.a.TaskUserGroup:n={task_user_group_mention:Object.assign({notify:e.notify,type:e.taskUserGroup},Ht.c.find(t=>t.id===e.taskUserGroup))}}n&&this.insertMentionIntoEditor(n)}insertMentionIntoEditor(t){const e=this.quill.getSelection(!0);let n,r;e&&(this.initRange?(n=(new i.a).retain(this.initRange.index).delete(e.index-this.initRange.index).insert(t).insert(" "),r=this.initRange.index+2):(n=(new i.a).retain(e.index).insert(t).insert(" "),r=e.index+2),this.quill.updateContents(n,i.d.sources.USER),this.quill.setSelection(r,i.d.sources.API)),this.disable()}destroy(){this.options=Ut,this.dropdownHandler=null,this.quill=null}}),i.d.register("modules/floatButton",class{constructor(t,e){this.TEMPLATE='<div class="ql-float-button__toggle"><svg width="6" height="9" xmlns="http://www.w3.org/2000/svg"><path d="M.32 8.06a.2.2 0 0 1-.18-.29L3.94.11A.2.2 0 0 1 4.12 0h1.56a.2.2 0 0 1 .18.29l-3.8 7.66a.2.2 0 0 1-.18.11H.32z"/></svg></div>',this.DEFAULTS={handler:()=>{},action:Bt.SlashCommands},this.clickHandler=t=>{switch(this.options.action){case Bt.Menu:this.toggleMenu();break;case Bt.SlashCommands:const t=this.quill.getModule("slashCommands");t&&(t.activate(),this.hide());break;case Bt.Custom:this.options.handler()}t.preventDefault(),t.stopPropagation()},this.editorChangeHandler=(t,e,n,i)=>{t===a.h.SELECTION_CHANGE&&this.detectButton(e,i)},this.quill=t,this.options=Object.assign(Object.assign({},this.DEFAULTS),e),this.tooltip=t.theme.tooltip,this.root=t.addContainer("ql-float-button"),this.root.classList.add("ql-float-button_hidden"),this.root.innerHTML=this.TEMPLATE,this.toggle=this.root.querySelector(".ql-float-button__toggle"),this.toggle.addEventListener("click",this.clickHandler),this.quill.on(a.h.EDITOR_CHANGE,this.editorChangeHandler)}detectButton(t,e){if(null!=t)if(0===t.length){const e=this.quill.getFormat(t.index);if(e.table||e["table-cell-line"])return void this.hide();const[n]=this.quill.getLeaf(t.index);n instanceof It?this.show(this.quill.getBounds(t)):this.hide()}else this.hide()}show(t){this.position=t,this.root.classList.remove("ql-float-button_hidden"),this.toggle.style.top=t.top+"px"}hide(){this.root.classList.add("ql-float-button_hidden")}toggleMenu(){const t=this.tooltip.root.classList.contains("ql-hidden");this.quill.focus(),t?(this.tooltip.show(),this.tooltip.position(this.position)):this.tooltip.hide()}destroy(){this.toggle.removeEventListener("click",this.clickHandler),this.quill.off(a.h.EDITOR_CHANGE,this.editorChangeHandler),this.options=this.DEFAULTS,this.quill=null,this.toggle=null,this.root=null,this.tooltip=null,this.position=null}}),i.d.register("modules/dnd",class{constructor(t){this.preventDefault=!0,this.quill=t,this.dragoverHandler=t=>{if(t.stopPropagation(),this.preventDefault&&!this.quill.root.classList.contains("ql-dragging-blocks")){t.preventDefault();const e=this.getNativeSelection(t);if(!e)return;const n=document.getSelection();if(null==n)return;n.removeAllRanges(),n.addRange(e)}},this.dragenterHandler=t=>{this.preventDefault&&(t.preventDefault(),t.dataTransfer.effectAllowed="move")},this.dropHandler=e=>{if(this.quill.root.classList.contains("ql-dragging-blocks"))return;const n=t.options.id,r=e.dataTransfer.getData(a.g),o=e.dataTransfer.getData(a.f);if(!o||n!==r)return;let s,l;try{const t=JSON.parse(o);s=t.range,l=t.delta}catch(g){}if(!s||!l)return;e.dataTransfer.dropEffect="move";const c=this.getNativeSelection(e);if(!c)return;const u=t.selection.normalizeNative(c),d=t.selection.normalizedToRange(u),h=this.quill.getFormat(d);if(h["code-block"]||h["table-col"])return;let f,p;d.index>s.index?(f=(new i.a).retain(s.index).delete(s.length).retain(d.index-s.index-s.length).concat(l),p=d.index):(f=(new i.a).retain(d.index).concat(l).retain(s.index-d.index).delete(s.length),p=d.index+s.length),this.quill.updateContents(f,a.i.USER),this.quill.setSelection(p),this.preventDefault=!0,this.quill.container.classList.remove("ql-dragging")},t.root.addEventListener("dragover",this.dragoverHandler),t.root.addEventListener("dragenter",this.dragenterHandler),t.root.addEventListener("drop",this.dropHandler)}getNativeSelection(t){if(!t)return;let e;if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(t.clientX,t.clientY);else{if(!document.caretPositionFromPoint)return;{const n=document.caretPositionFromPoint(t.clientX,t.clientY);e=document.createRange(),e.setStart(n.offsetNode,n.offset),e.setEnd(n.offsetNode,n.offset)}}return e}destroy(){this.quill.root.removeEventListener("dragover",this.dragoverHandler),this.quill.root.removeEventListener("dragenter",this.dragenterHandler),this.quill.root.removeEventListener("drop",this.dropHandler),this.dragoverHandler=null,this.dragenterHandler=null,this.dropHandler=null,this.quill=null}}),i.d.register("modules/hover",class{constructor(t,e){this.enabled=!1,this.quill=t,this.options=Object.assign(Object.assign({},Ft),e),this.dropdownHandler=new b(t,{dropdownContainer:this.options.dropdownContainer,createContainer:!1,maxWidth:450}),this.debouncedHandleHover=Object(St.a)(this.handleHover.bind(this),this.options.delayTime);const n=this.dropdownHandler.dropdownContainer;n&&(n.addEventListener("mouseenter",()=>{this.shownData&&this.onHover(this.shownData,!0)}),n.addEventListener("mouseleave",()=>{this.shownData&&this.onHover(this.shownData,!1)}))}onHover(t,e){this.debouncedHandleHover(t,e)}handleHover(t,e){this.shownData&&(this.shownData.blot===t.blot&&e||this.hidePopup()),!e||this.shownData&&this.shownData.blot===t.blot||this.showPopup(t)}showPopup(t){if(this.shownData=t,this.dropdownHandler){const t=this.dropdownHandler.showFromBlot(this.shownData.blot);this.options.onShow(this.shownData,t)}}hidePopup(){this.shownData&&(this.options.onHide(),this.shownData=null,this.dropdownHandler.hide())}removeHoveredMention(t){const e=this.quill.getIndex(t);this.quill.updateContents((new i.a).retain(e).delete(1),i.d.sources.USER),this.quill.setSelection(e,i.d.sources.USER),this.hidePopup()}destroy(){this.options=Ft,this.dropdownHandler=null,this.quill=null}}),i.d.register("modules/comments",class{constructor(t,e){this.enabled=!1,this.allowCreateComment=!1,this.quill=t,this.options=Object.assign(Object.assign({},Zt),e),this.dropdownHandler=new b(t,{dropdownContainer:this.options.dropdownContainer,createContainer:!1,alignment:"left",maxWidth:450}),this.tooltip=t.theme.tooltip,this.quill.on(a.h.SELECTION_CHANGE,(t,e,n)=>{null!=t&&(this.handleCreateCommentSelection(t),this.quill.getFormat(t)[Wt.a.blotName]&&0===t.length||this.hidePopup())}),this.quill.emitter.listenDOM("mousedown",document.body.querySelector("app-root"),t=>{const e=Object(Mt.a)(t),n=e.find(t=>t.className&&"string"==typeof t.className&&t.className.split(" ").includes("ql-comment_active")),r=this.quill.getSelection(!1);if(n&&r&&0===r.length){const t=i.d.find(n);t&&this.showCommentPopup(t,r)}else e.find(t=>{if(t.className&&"string"==typeof t.className){const e=t.className.split(" ");return e.includes("cu-ql-dropdown")||e.includes("ql-tooltip")||e.includes("ql-ignore")}return!1})||this.hidePopup()})}handleCreateCommentSelection(t){let e=!1;if(t&&t.length>0){const n=this.quill.getContents(t),i=this.quill.getFormat(t);e=!n.ops.some(t=>"string"!=typeof t.insert)&&!i["code-block"]}e!==this.allowCreateComment&&(this.allowCreateComment=e,this.options.onCreatePopupAllowed(this.allowCreateComment))}showCommentPopup(t,e){const n=Wt.a.formats(t.domNode),i=n&&n.unresolvedIds;if(!i||0===i.length)return;this.shownData={type:"comment",ids:i};const r=this.dropdownHandler.showFromBlot(t,e);this.options.onShow(this.shownData,r)}showCommentLinePopup(t,e){this.shownData={type:"line",ids:e};const n=this.dropdownHandler.showFromBlotUI(t);this.options.onShow(this.shownData,n)}showCreatePopup(){this.shownData=Yt,this.lastRange=this.quill.getSelection(!0);const t=(new i.a).retain(this.lastRange.index).retain(this.lastRange.length,{comment_draft:!0});this.quill.updateContents(t,i.d.sources.USER);const e=this.dropdownHandler.showFromRange(this.lastRange);this.options.onShow(this.shownData,e),this.tooltip&&this.tooltip.hide()}hidePopup(){if(this.shownData){if(this.lastRange){const t=(new i.a).retain(this.lastRange.index).retain(this.lastRange.length,{comment_draft:!1});this.quill.updateContents(t,i.d.sources.USER)}this.options.onHide(),this.shownData=null,this.lastRange=null,this.dropdownHandler.hide()}}createComment(t){if(this.lastRange){const e=this.quill.getContents(this.lastRange),n=Object(Kt.i)(e,this.lastRange,t);this.quill.updateContents(n,i.d.sources.USER);const r=this.lastRange.index;this.hidePopup(),this.quill.focus(),this.quill.setSelection(r)}}cleanCommentId(t){const e=this.quill.getContents(),{found:n,changes:r}=Object(Kt.j)(e,t);n&&(this.quill.updateContents(r,i.d.sources.USER),this.shownData&&this.shownData.ids.includes(t)&&this.hidePopup())}resolveCommentId(t,e){const n=this.quill.getContents(),{found:r,changes:o}=Object(Kt.k)(n,t,e);r&&this.quill.updateContents(o,i.d.sources.USER)}commentIconClick(t){this.quill.setSelection(null);let e=t.parent;for(;e!==t.scroll&&e.parent!==t.scroll;)e=e.parent;const n=Array.from(e.domNode.querySelectorAll(".ql-comment__ui")),i=t.uiNode.getBoundingClientRect(),r=[];n.forEach(t=>{var e,n;e=t.getBoundingClientRect(),(n=i).left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top||r.push(t)});const o=Object($t.a)(Object(Gt.a)(r.map(t=>Object(Kt.e)(t.parentElement))));this.showCommentLinePopup(t,o)}commentBadgeClick(t,e){this.shownData={type:"line",ids:t};const n=this.dropdownHandler.showFromElement(e);this.options.onShow(this.shownData,n)}destroy(){this.options=Zt,this.dropdownHandler=null,this.quill=null}}),i.d.register("modules/toolbar2",class extends ne{constructor(t,e){super(t,e),this.quill=t,this.options=e,this.extendToolbar()}extendToolbar(){this.container.classList.add("ql-snow");const t=this.quill.theme.buttons;this.quill.theme.buildButtons(this.container.querySelectorAll("button"),ie),t&&(this.quill.theme.pickers=[...t,...this.quill.theme.buttons]);const e=this.quill.theme.pickers;this.quill.theme.buildPickers(this.container.querySelectorAll("select"),ie),e&&(this.quill.theme.pickers=[...e,...this.quill.theme.pickers])}destroy(){this.quill=null,this.container=null,this.options={},this.handlers={}}}),i.d.register("modules/hooks",oe.a),i.d.register("modules/unfurlUrl",class{constructor(t,e){var n;this.enabled=!1,this.dropdownOpened=!1,this.currentMenuData=[{key:"dismiss",label:"Dismiss",value:"dismiss",highlight:!0}],this.quill=t,this.options=Object.assign(Object.assign({},L),e),this.autoRunQueue=new N(this,200,(t,e)=>1===e),this.dropdownHandler=new b(t,{dropdownContainer:this.options.dropdownContainer,createContainer:!1,alignment:"right",maxWidth:450}),this.quill.keyboard.addBinding(E(!0,()=>t)),this.quill.keyboard.addBinding(E(!1,()=>t)),this.quill.keyboard.bindings[O.c.ENTER].unshift((n=()=>t,{key:O.c.ENTER,handler(t,e){const i=n().getModule("unfurlUrl");return!i.dropdownOpened||(i.options.onEnter&&i.options.onEnter(),i.commit(),!1)}})),this.quill.on(a.h.EDITOR_CHANGE,(t,...e)=>{const[,,n]=e;n===a.i.USER&&this.hidePopup()})}onCommit(){this.options.onEnter&&this.options.onEnter(),this.commit()}onSelect(t){this.currentMenuData=this.currentMenuData.map(e=>(e.highlight=e.key===t,e))}showDropdown(t,e,n){this.currentLinkRange=null,this.currentUrlData=null,this.currentUrl="",this.currentMenuData=[];const i=this.quill.getModule("magicUrl");let o;if(n&&Object(l.j)(n.text))o={url:e,data:Object(l.f)(n.text),service:"listview"};else if(n&&Object(l.h)(n.text))o={url:e,data:Object(l.e)(n.text),service:"listview"};else if(n&&i.options.clickupDocExpression.test(n.text)){const t=n.text.match(i.options.clickupDocExpression);o={url:e,data:{teamId:t[1],viewId:t[3],pageId:t[4],docsHome:"docs"===t[2]},service:"doc"}}else o=n&&i.options.clickupClipExpression.test(n.text)?null:Object(r.i)(e,!0,!0);const a=function(t){return t?"listview"===t.service?[{key:"dismiss",label:"Dismiss",value:"dismiss",highlight:!0},{key:"listview",label:"Display List View",value:"listview",highlight:!1}]:"doc"===t.service?[{key:"dismiss",label:"Dismiss",value:"dismiss",highlight:!1},{key:"doc_mention",label:"Create Mention",value:"doc_mention",highlight:!0},{key:"embed",label:"Create Bookmark",value:"embed",highlight:!1}]:[{key:"dismiss",label:"Dismiss",value:"dismiss",highlight:!0},{key:"bookmark",label:"Create Bookmark",value:"bookmark",highlight:!1},{key:"embed",label:"custom"!==t.service?"Embed "+t.service.split("_").map(_.a).join(" "):"Embed",value:"embed",highlight:!1}]:[{key:"dismiss",label:"Dismiss",value:"dismiss",highlight:!0},{key:"bookmark",label:"Create Bookmark",value:"bookmark",highlight:!1}]}(o);this.dropdownHandler.showFromRange(t),this.options.onShow(o,a,e,this.onCommit.bind(this),this.onSelect.bind(this)),this.dropdownOpened=!0,this.currentUrlData=o,this.currentMenuData=a,this.currentUrl=e}hidePopup(){this.options.onHide(),this.dropdownHandler.hide(),this.dropdownOpened=!1}embedLink(t,e){const n=this.quill.getModule("magicUrl"),o=this.quill&&this.quill.selection&&this.quill.selection.savedRange?this.quill.getFormat(this.quill.selection.savedRange.index):{};if("doc"===e.service)this.quill.updateContents((new i.a).retain(t.index).delete(t.length).insert("\n").insert({doc_embed:e.data}),a.i.USER),this.quill.setSelection(t.index+2,0);else if(this.options.getCheckEmbedHeaderPromise&&!Object(r.i)(e.url,!1,n.options.allowGoogleLinkEmbedding))this.options.getCheckEmbedHeaderPromise(e.url).then(n=>{if(n)this.embedBookmark(t,e);else{const n=(new i.a).retain(t.index).delete(t.length);o.list?n.insert("\n",{list:o.list,indent:o.indent||0}).insert({frame:e},{"data-size":Object(r.n)(e)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(e)||this.options.defaultEmbedIsExpanded,"in-list":o.list.list||"none","wrapper-indent":o&&o.indent||0}):n.insert("\n").insert({frame:e},{"data-size":Object(r.n)(e)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(e)||this.options.defaultEmbedIsExpanded}),this.quill.updateContents(n,a.i.USER),this.quill.setSelection(t.index+2,0)}});else{const n=(new i.a).retain(t.index).delete(t.length);o.list?n.insert("\n",{list:o.list,indent:o.indent||0}).insert({frame:e},{"data-size":Object(r.n)(e)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(e)||this.options.defaultEmbedIsExpanded,"in-list":o.list.list||"none","wrapper-indent":o&&o.indent||0}):n.insert("\n").insert({frame:e},{"data-size":Object(r.n)(e)||this.options.defaultEmbedSize,"data-expanded":Object(r.m)(e)||this.options.defaultEmbedIsExpanded}),this.quill.updateContents(n,a.i.USER),this.quill.setSelection(t.index+2,0)}}embedBookmark(t,e){const n=this.quill&&t?this.quill.getFormat(t.index):{};this.quill.updateContents((new i.a).retain(t.index).delete(t.length).insert("\n",n).insert({bookmark:e},n.list?{"in-list":n.list.list||"none","wrapper-indent":n&&n.indent||0}:{}),a.i.USER),this.quill.setSelection(t.index+2,0)}embedListView(t,e){this.quill.updateContents((new i.a).retain(t.index).delete(t.length).insert("\n").insert({listview:e.data}),a.i.USER),this.quill.setSelection(t.index+2,0)}embedDocMention(t,e){this.quill.updateContents((new i.a).retain(t.index).delete(t.length).insert({doc_mention:e.data}).insert(" ",{link:null}),a.i.USER),this.quill.setSelection(t.index+2,0)}commit(){switch(this.currentMenuData.find(t=>t.highlight).value){case"dismiss":this.hidePopup();break;case"embed":this.embedLink(this.currentLinkRange,this.currentUrlData);break;case"bookmark":this.embedBookmark(this.currentLinkRange,this.currentUrlData?this.currentUrlData:{url:this.currentUrl});break;case"listview":this.embedListView(this.currentLinkRange,this.currentUrlData);break;case"doc_mention":this.embedDocMention(this.currentLinkRange,this.currentUrlData)}}prev(){const t=Object(x.a)(this.currentMenuData,t=>t.highlight),e=t>0?t-1:this.currentMenuData.length-1;this.currentMenuData=this.currentMenuData.map((n,i)=>(i===t&&(n.highlight=!1),i===e&&(n.highlight=!0),n))}next(){const t=Object(x.a)(this.currentMenuData,t=>t.highlight),e=t<this.currentMenuData.length-1?t+1:0;this.currentMenuData=this.currentMenuData.map((n,i)=>(i===t&&(n.highlight=!1),i===e&&(n.highlight=!0),n))}}),i.d.register("modules/dragDropBlocks",class extends M{constructor(t,e={}){super(t,e),this.isDropdownOpened=!1,this.currentMenuData=[{key:"delete",label:"Delete",value:"delete",highlight:!0}],this.quill=t,this.options=Object.assign(Object.assign({},$),e),this.dragging=!1,this.draggingRoot=null,this.dragOverRoot=null,this.dropRefRoot=null,this.activeAnchor=null,this.activeAnchorClickHanler=null,this.activeAnchorDragStartHanler=null,this.activeAnchorDragEndHanler=null,this.activeAnchorMouseOverHanler=null,this.activeAnchorMouseOutHanler=null,this.draggingHelpLine=this.quill.addContainer("cu-dragging-help-line"),this.dragOverPlaceholder=null,this.draggingBlots=[],this.menuKeydownHandler=null,this.options.allowHandleBlock&&this.options.dropdownContainer&&(this.dropdownHandler=new b(t,{dropdownContainer:this.options.dropdownContainer,createContainer:!1,alignment:"left",maxWidth:450})),this.quill.on(a.h.EDITOR_CHANGE,(t,...e)=>{const[,,n]=e;n===a.i.USER&&(this.hideDropdown(),this.resetStylesOfLinkedBlock())}),this.menuKeydownHandler=(t=>{if(this.isDropdownOpened){if(t.preventDefault(),"ArrowUp"===t.key)this.prev(),this.options.onArrowUp&&this.options.onArrowUp(this.currentMenuData);else if("ArrowDown"===t.key)this.next(),this.options.onArrowUp&&this.options.onArrowDown(this.currentMenuData);else if("ArrowLeft"===t.key)this.backward(),this.options.onArrowLeft&&this.options.onArrowLeft(this.currentMenuData);else if("ArrowRight"===t.key)this.downward(),this.options.onArrowRight&&this.options.onArrowRight(this.currentMenuData);else if("Enter"===t.key){const t=this.getSelectedItems();if(t&&1===t.length&&"turnInto"===t[0].value)return!1;this.commit(),this.options.onEnter&&this.options.onEnter()}return!1}return!0}).bind(this),this.quill.root.addEventListener("mousemove",t=>{if(this.dragging||!this.quill.getSelection()||this.isDropdownOpened)return;const e=t.target,n=i.d.find(e,!0),r=this.getDraggableRootBlot(n,e);if(r&&"table-view"===r.statics.blotName&&this.quill.getModule("table").table)this.hideDraggableAnchor();else if(r&&this.draggingRoot!==r){if(this.hideDraggableAnchor(),this.draggingRoot=r,r&&"function"==typeof r.formats&&r.formats()&&r.formats().list){const t=r.getListItemChildren();this.draggingBlots=t.length>0?[r].concat(t):[]}this.showDraggableAnchor(n,e)}else r||this.hideDraggableAnchor()},!1),this.quill.root.addEventListener("dragover",t=>{if(t.stopPropagation(),!this.dragging)return;if(t.preventDefault(),t.target.classList.contains("ql-togglelist-placeholder")&&"LI"===t.target.parentNode.tagName){const e="function"!=typeof this.options.allowDragIntoToggle||this.options.allowDragIntoToggle(this.draggingRoot);return this.resetDraggingHelpLine(),document.getSelection().removeAllRanges(),this.dragOverPlaceholder=t.target,0===this.draggingBlots.length&&(this.draggingRoot instanceof z||this.isInlineRoot(this.draggingRoot))&&e?this.dragOverPlaceholder.classList.contains("allowed-active")||this.dragOverPlaceholder.classList.contains("not-allowed-active")||this.dragOverPlaceholder.classList.add("allowed-active"):this.dragOverPlaceholder.classList.contains("allowed-active")||this.dragOverPlaceholder.classList.contains("not-allowed-active")||this.dragOverPlaceholder.classList.add("not-allowed-active"),this.dragOverRoot=null,void(this.dropRefRoot=null)}if(this.resetDragOverPlaceholder(),0===this.draggingBlots.length&&this.isInlineRoot(this.draggingRoot)){const e=this.getNativeSelection(t);if(!e)return;const n=document.getSelection();if(null==n)return;return n.removeAllRanges(),void n.addRange(e)}const e=t.target,n=i.d.find(e,!0),r=this.getDropableRootBlot(n,e);if(r){if(this.dragOverRoot=r,this.dragOverRoot&&this.draggingRoot===this.dragOverRoot||this.draggingBlots.length>0&&this.draggingBlots.indexOf(this.dragOverRoot)>0)this.resetDraggingHelpLine(),this.dragOverRoot=null;else if(this.dragOverRoot&&this.draggingRoot!==this.dragOverRoot){const e=this.quill.root.parentNode,n=e.getBoundingClientRect(),i=this.dragOverRoot.domNode.getBoundingClientRect();t.clientY-i.top<i.height/2?(D(this.draggingHelpLine,{position:"absolute",width:i.width+"px",left:i.left-n.left+e.scrollLeft+"px",top:i.top-n.top+e.scrollTop-2+"px",zIndex:""+(this.options.zIndex||101),display:"block"}),this.dropRefRoot=this.dragOverRoot):(D(this.draggingHelpLine,{position:"absolute",width:i.width+"px",left:i.left-n.left+e.scrollLeft+"px",top:i.top-n.top+e.scrollTop+i.height-2+"px",zIndex:""+(this.options.zIndex||101),display:"block"}),this.dropRefRoot=this.dragOverRoot.next)}this.options.dragOverCallback&&"function"==typeof this.options.dragOverCallback&&this.options.dragOverCallback(t,this.dragOverRoot)}},!1),this.quill.root.addEventListener("drop",t=>{if(t.preventDefault(),t.stopPropagation(),!this.dragging||!this.isInlineRoot(this.draggingRoot))return;const e=this.getNativeSelection(t);if(!e||this.draggingBlots.length>0)return;const n=this.quill.getIndex(this.draggingRoot),r=this.draggingRoot.length(),o=this.quill.getContents(n,r);let a;if(this.dragOverPlaceholder){const t=i.d.find(this.dragOverPlaceholder.parentNode,!0),e=this.quill.getIndex(t),s=t.formats(),l=s.indent||0;return a=e>n?(new i.a).retain(n).delete(r).retain(e-n-r+t.length()).concat(o).insert("\n",{list:Object.assign({},s.list,{list:"none"}),indent:l+1}):(new i.a).retain(e+t.length()).concat(o).insert("\n",{list:Object.assign({},s.list,{list:"none"}),indent:l+1}).retain(n-e-t.length()).delete(r),void this.quill.updateContents(a,i.d.sources.USER)}const s=this.quill.selection.normalizeNative(e),l=this.quill.selection.normalizedToRange(s),c=this.quill.getFormat(l);c["code-block"]||c["table-col"]||(a=l.index>n?(new i.a).retain(n).delete(r).retain(l.index-n-r).concat(o):(new i.a).retain(l.index).concat(o).retain(n-l.index).delete(r),this.quill.updateContents(a,i.d.sources.USER))})}static register(){}isInlineRoot(t){return this.options.isInlineRoot?this.options.isInlineRoot(t):P(t)}getDraggableRootBlot(t,e){return this.options.getDraggableRootBlot?this.options.getDraggableRootBlot(t,e):((t,e)=>{let n;if(t?n=t.statics.blotName:e.classList.contains("ql-ui")&&"LI"===e.parentNode.tagName&&(n=(t=i.d.find(e.parentNode,!0)).statics.blotName),!n)return null;switch(n){case"table-cell-line":return t.tableCell()&&t.tableCell().table()&&t.tableCell().table().parent;case"table":return t.table()&&t.table().parent;case"list":case"image":case"block":return t;case"code":return t.parent.parent;case"code-block":return t.parent;case"code-block-container":return t;default:return null}})(t,e)}getDropableRootBlot(t,e){return this.options.getDropableRootBlot?this.options.getDropableRootBlot(t,e):((t,e)=>{let n;if(t?n=t.statics.blotName:e.classList.contains("ql-ui")&&"LI"===e.parentNode.tagName&&(n=(t=i.d.find(e.parentNode,!0)).statics.blotName),!n)return null;switch(n){case"table-cell-line":return t.tableCell()&&t.tableCell().table()&&t.tableCell().table().parent;case"table":return t.table()&&t.table().parent;case"list":case"block":return t;case"code":return t.parent.parent;case"code-block":return t.parent;case"code-block-container":return t;default:return null}})(t,e)}getNativeSelection(t){if(!t)return;let e;if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(t.clientX,t.clientY);else{if(!document.caretPositionFromPoint)return;{const n=document.caretPositionFromPoint(t.clientX,t.clientY);e=document.createRange(),e.setStart(n.offsetNode,n.offset),e.setEnd(n.offsetNode,n.offset)}}return e}resetDraggingHelpLine(){this.draggingHelpLine&&D(this.draggingHelpLine,{display:"none",width:"0",left:"0",top:"0"})}resetDragOverPlaceholder(){this.dragOverPlaceholder&&(this.dragOverPlaceholder.classList.remove("allowed-active"),this.dragOverPlaceholder.classList.remove("not-allowed-active"),this.dragOverPlaceholder=null)}hideDraggableAnchor(){this.activeAnchor&&(this.hideDropdown(),this.activeAnchor.removeEventListener("click",this.activeAnchorClickHanler),this.activeAnchor.removeEventListener("mouseover",this.activeAnchorMouseOverHanler),this.activeAnchor.removeEventListener("mouseout",this.activeAnchorMouseOutHanler),this.activeAnchor.removeEventListener("dragstart",this.activeAnchorDragStartHanler),this.activeAnchor.removeEventListener("dragend",this.activeAnchorDragEndHanler),this.activeAnchor.remove(),this.activeAnchorClickHanler=null,this.activeAnchorDragStartHanler=null,this.activeAnchorDragEndHanler=null),this.draggingRoot=null,this.dragOverRoot=null,this.dropRefRoot=null,this.draggingBlots=[],this.activeAnchor=null}showDraggableAnchor(t,e){if(!this.draggingRoot)return;if(t&&("block"===t.statics.blotName||"list"===t.statics.blotName)&&1===t.length()&&t.children.head instanceof H)return;this.activeAnchor=this.quill.addContainer("cu-draggable-anchor");const n=document.createElement("div");n.classList.add("cu-draggable-anchor-icon"),n.innerHTML='<svg t="1596683681627" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5150" width="20" height="20"><path d="M362.666667 192m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5151" fill="#b1b1b1"></path><path d="M661.333333 192m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5152" fill="#b1b1b1"></path><path d="M362.666667 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5153" fill="#b1b1b1"></path><path d="M661.333333 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5154" fill="#b1b1b1"></path><path d="M362.666667 832m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5155" fill="#b1b1b1"></path><path d="M661.333333 832m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5156" fill="#b1b1b1"></path></svg>',n.setAttribute("draggable","true");const r=document.createElement("div");r.classList.add("cu-draggable-anchor-tooltip"),r.innerHTML="\n  <span>Drag</span> to move<br/>\n  <span>Click</span> to open menu\n",n.appendChild(r),this.activeAnchor.appendChild(n);const o=this.quill.root.parentNode,s=o.getBoundingClientRect(),l=this.draggingRoot.domNode.getBoundingClientRect();let c=!1;this.options.anchorAlignCenter&&("function"==typeof this.options.anchorAlignCenter?c=this.options.anchorAlignCenter(t,e):"boolean"==typeof this.options.anchorAlignCenter&&(c=this.options.anchorAlignCenter));let u=0;this.options.anchorOffsetLeft&&("function"==typeof this.options.anchorOffsetLeft?u=this.options.anchorOffsetLeft(t,e):"number"==typeof this.options.anchorOffsetLeft&&(u=this.options.anchorOffsetLeft));let d=0;this.options.anchorOffsetTop&&("function"==typeof this.options.anchorOffsetTop?d=this.options.anchorOffsetTop(t,e):"number"==typeof this.options.anchorOffsetTop&&(d=this.options.anchorOffsetTop)),"number"!=typeof u&&(u=0),"number"!=typeof d&&(d=0),"boolean"!=typeof c&&(c=!1),c&&this.activeAnchor.classList.add("cu-draggable-anchor-center"),D(this.activeAnchor,{position:"absolute",width:"20px",height:l.height+"px",left:l.left-s.left+o.scrollLeft-20+u+"px",top:l.top-s.top+o.scrollTop+d+"px",zIndex:""+(this.options.zIndex||101)}),this.activeAnchorClickHanler=(t=>{if(t.stopPropagation(),t.preventDefault(),!this.dropdownHandler)return;const e=this.quill.getIndex(this.draggingRoot);if(e>=0&&(this.quill.setSelection(e,0,a.i.SILENT),this.quill.setSelection(null,a.i.SILENT)),this.isDropdownOpened)this.hideDropdown();else{const t=((t,e=!1,n=!1)=>{let i=[];const r=n&&(t=>t&&(t instanceof I||"blockquote-container"===t.statics.blotName||"code-block-container"===t.statics.blotName))(t),o=!P(t),a=e&&(t instanceof I||t instanceof B||"frame"===t.statics.blotName);return r&&(i=i.concat([{key:"turnInto",label:"Turn Into",value:"turnInto",highlight:r,icon:"cu2-turn-into",children:[{key:"text",label:"Text",value:"text",highlight:!1,icon:"cu2-text"},{key:"heading1",label:"Heading 1",value:"heading1",highlight:!1,icon:"cu2-h1"},{key:"heading2",label:"Heading 2",value:"heading2",highlight:!1,icon:"cu2-h2"},{key:"heading3",label:"Heading 3",value:"heading3",highlight:!1,icon:"cu2-h3"},{key:"checkList",label:"Check List",value:"checkList",highlight:!1,icon:"cu2-tasks"},{key:"bulletedList",label:"Bulleted List",value:"bulletedList",highlight:!1,icon:"cu2-list-ul"},{key:"numberedList",label:"Numbered List",value:"numberedList",highlight:!1,icon:"cu2-list-ol"},{key:"toggleList",label:"Toggle List",value:"toggleList",highlight:!1,icon:"cu2-toggle-list"},{key:"codeBlock",label:"Code Block",value:"codeBlock",highlight:!1,icon:"cu2-code_solid"},{key:"quote",label:"Quote",value:"quote",highlight:!1,icon:"cu2-quote-left"},{key:"bannerSuccess",label:"Banner Success",value:"bannerSuccess",highlight:!1,icon:"cu2-flag",customClass:"block-handle__dropdown__item-banner-success"},{key:"bannerDanger",label:"Banner Danger",value:"bannerDanger",highlight:!1,icon:"cu2-flag",customClass:"block-handle__dropdown__item-banner-danger"},{key:"bannerInfo",label:"Banner Info",value:"bannerInfo",highlight:!1,icon:"cu2-flag",customClass:"block-handle__dropdown__item-banner-info"},{key:"bannerWarning",label:"Banner Warning",value:"bannerWarning",highlight:!1,icon:"cu2-flag",customClass:"block-handle__dropdown__item-banner-warning"}],showChildren:!1}])),o&&(i=i.concat([{key:"duplicate",label:"Duplicate",value:"duplicate",highlight:!r&&o,icon:"copy"}])),a&&(i=i.concat([{key:"copyLink",label:"Copy Link",value:"copyLink",highlight:!r&&!o&&a,icon:"cu2-copy-link2"}])),"table-view"===t.statics.blotName&&(i=i.concat([{key:"copyTable",label:"Copy Table",value:"copyTable",highlight:!r&&!o&&!a,icon:"cu2-table"}])),i.push({key:"delete",label:"Delete",value:"delete",highlight:!r&&!o&&!a&&"table-view"!==t.statics.blotName,icon:"trash"}),"image"!==t.statics.blotName&&"frame"!==t.statics.blotName||(i=i.concat([{key:"expand",label:"Expand",value:"expand",highlight:!1,icon:"cu2-size-expand"}])),"frame"===t.statics.blotName&&(i=i.concat([{key:"small",label:"Small",value:"small",highlight:!1,icon:"cu2-size-small"},{key:"large",label:"Large",value:"large",highlight:!1,icon:"cu2-size-large"}])),"frame"===t.statics.blotName&&(i=i.concat([{key:"removeEmbed",label:"Remove Embed",value:"removeEmbed",highlight:!1,icon:"cu2-revert"}])),i})(this.draggingRoot,!!this.options.allowCopyLink,!!this.options.allowTurnInto);this.currentMenuData=t,this.isDropdownOpened=!0,this.options.blockHandleDropdownContainer?this.dropdownHandler.showFromElementWithContainer(this.activeAnchor.querySelector(".cu-draggable-anchor-icon"),this.options.blockHandleDropdownContainer):this.dropdownHandler.showFromElement(this.activeAnchor.querySelector(".cu-draggable-anchor-icon")),this.options.onShow(t,this.onCommit.bind(this),this.onSelect.bind(this)),document.body.addEventListener("keydown",this.menuKeydownHandler,!1),this.activeAnchor.classList.remove("with-tooltip"),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").classList.add("with-dropdown-opened");const e=this.draggingRoot&&this.draggingRoot.domNode;e&&e.classList&&e.classList.add("ql-dragging-block-active"),this.draggingBlots.length>0&&this.draggingBlots.forEach(t=>{const e=t&&t.domNode;e&&e.classList&&e.classList.add("ql-dragging-block-active")})}}).bind(this),this.activeAnchorDragStartHanler=(t=>{this.isDropdownOpened&&this.hideDropdown(),this.activeAnchor.classList.remove("with-tooltip"),this.dragging=!0,t.dataTransfer.setData("text/html",this.draggingRoot.domNode.outerHTML),t.dataTransfer.effectAllowed="move",this.quill.root&&this.quill.root.classList&&this.quill.root.classList.add("ql-dragging-blocks");const e=this.draggingRoot&&this.draggingRoot.domNode;e&&e.classList&&e.classList.add("ql-dragging-block-active"),this.draggingBlots.length>0&&this.draggingBlots.forEach(t=>{const e=t&&t.domNode;e&&e.classList&&e.classList.add("ql-dragging-block-active")}),this.options.dragStartCallback&&"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback(t,this.draggingRoot)}).bind(this),this.activeAnchorDragEndHanler=(t=>{if(!this.dragging)return;this.dragging=!1,this.resetDraggingHelpLine(),this.quill.root&&this.quill.root.classList&&this.quill.root.classList.remove("ql-dragging-blocks");const e=this.quill.getIndex(this.draggingRoot),n=this.draggingRoot.length(),r="function"!=typeof this.options.allowDragIntoToggle||this.options.allowDragIntoToggle(this.draggingRoot);if(!this.isInlineRoot(this.draggingRoot)&&this.draggingRoot instanceof z&&r&&this.dragOverPlaceholder&&0===this.draggingBlots.length){const t=i.d.find(this.dragOverPlaceholder.parentNode,!0),r=this.quill.getIndex(t),o=t.formats(),a=o.indent||0,s=this.quill.getContents(e,n);let l,c;r>e?(l=(new i.a).retain(e).delete(n).retain(r-e-n+t.length()).concat(s),c=(new i.a).retain(r+t.length()-1).retain(1,{list:Object.assign({},o.list,{list:"none"}),indent:a+1})):(l=(new i.a).retain(r+t.length()).concat(s).retain(e-r-t.length()).delete(n),c=(new i.a).retain(r+t.length()+n-1).retain(1,{list:Object.assign({},o.list,{list:"none"}),indent:a+1})),l=l.compose(c),this.quill.updateContents(l,i.d.sources.USER)}else if(!this.dragOverRoot||this.isInlineRoot(this.draggingRoot)||this.dragOverPlaceholder||0!==this.draggingBlots.length||this.draggingRoot===this.dropRefRoot){if(this.dragOverRoot&&!this.isInlineRoot(this.draggingRoot)&&!this.dragOverPlaceholder&&this.draggingBlots.length>0&&this.draggingBlots.indexOf(this.dragOverRoot)<0&&this.draggingRoot!==this.dropRefRoot){const t=this.quill.getIndex(this.draggingBlots[0]),n=this.draggingBlots.reduce((t,e)=>t+e.length(),0),r=this.quill.getContents(t,n),o=(new i.a).retain(t).delete(n);let a,s,l=new i.a;this.dropRefRoot?(a=this.quill.getIndex(this.dropRefRoot),s=this.dropRefRoot.length(),l=e<a?(new i.a).retain(a-n).concat(r):(new i.a).retain(a).concat(r)):this.dragOverRoot&&(a=this.quill.getIndex(this.dragOverRoot),s=this.dragOverRoot.length(),l=e<a?(new i.a).retain(a+s-n).concat(r):(new i.a).retain(a+s).concat(r)),this.quill.updateContents(o.compose(l),i.d.sources.USER)}}else{const t=this.quill.getContents(e,n),r=(new i.a).retain(e).delete(n);let o,a,s=new i.a;this.dropRefRoot?(o=this.quill.getIndex(this.dropRefRoot),a=this.dropRefRoot.length(),s=e<o?(new i.a).retain(o-n).concat(t):(new i.a).retain(o).concat(t)):this.dragOverRoot&&(o=this.quill.getIndex(this.dragOverRoot),a=this.dragOverRoot.length(),s=e<o?(new i.a).retain(o+a-n).concat(t):(new i.a).retain(o+a).concat(t)),this.quill.updateContents(r.compose(s),i.d.sources.USER)}const o=this.draggingRoot&&this.draggingRoot.domNode;o&&o.classList&&o.classList.remove("ql-dragging-block-active"),this.draggingBlots.length>0&&this.draggingBlots.forEach(t=>{const e=t&&t.domNode;e&&e.classList&&e.classList.remove("ql-dragging-block-active")}),this.hideDraggableAnchor(),this.resetDragOverPlaceholder(),this.options.dragEndCallback&&"function"==typeof this.options.dragEndCallback&&this.options.dragEndCallback(t),setTimeout(()=>{const t=this.quill.getModule("table");t.table&&(t.columnTool.reposition(),t.rowTool.reposition(),t.tableTool.reposition())},1)}).bind(this),this.activeAnchorMouseOverHanler=(()=>{this.isDropdownOpened||this.activeAnchor.classList.add("with-tooltip")}).bind(this),this.activeAnchorMouseOutHanler=(()=>{this.activeAnchor.classList.remove("with-tooltip")}).bind(this),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").addEventListener("dragstart",this.activeAnchorDragStartHanler),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").addEventListener("dragend",this.activeAnchorDragEndHanler),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").addEventListener("click",this.activeAnchorClickHanler),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").addEventListener("mouseover",this.activeAnchorMouseOverHanler),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").addEventListener("mouseout",this.activeAnchorMouseOutHanler)}onCommit(){const t=this.getSelectedItems();if(t&&1===t.length&&"turnInto"===t[0].value)return!1;this.options.onEnter&&this.options.onEnter(),this.commit()}onSelect(t,e=!1){const n=[...t];if(Object(g.a)(n)&&n.length>0){let t="",i=null,r=[];j(n.length,o=>{if(t=n.pop(),r=this.currentMenuData,0===n.length)i=r.find(e=>e.key===t),this.currentMenuData=this.currentMenuData.map(e=>(e.highlight=e.key===t,e.children&&e.children.length>0&&(e.showChildren=e.key===t),e));else{for(let t=0;t<n.length;t++)r=r.find(e=>e.key===n[t]).children;r.forEach(t=>{t.highlight=!1,t.children&&t.children.length>0&&(i.showChildren=!1)}),i=r.find(e=>e.key===t),i&&(i.highlight=!0,i.children&&i.children.length>0&&(i.showChildren=!0))}0===o&&i.children&&i.children.length>0&&(i.children.forEach(t=>{t.highlight=!1}),i.showChildren=e,e&&(i.children[0].highlight=!0))})}}hideDropdown(){if(this.isDropdownOpened){this.options.onHide(),this.dropdownHandler.hide(),document.body.removeEventListener("keydown",this.menuKeydownHandler,!1),this.isDropdownOpened=!1,this.activeAnchor.querySelector(".cu-draggable-anchor-icon").classList.remove("with-dropdown-opened");const t=this.draggingRoot&&this.draggingRoot.domNode;t&&t.classList&&t.classList.remove("ql-dragging-block-active"),this.draggingBlots.length>0&&this.draggingBlots.forEach(t=>{const e=t&&t.domNode;e&&e.classList&&e.classList.remove("ql-dragging-block-active")}),this.quill.focus()}}commit(){const t=this.currentMenuData.find(t=>t.highlight).value,e=this.draggingBlots.length>0?[...this.draggingBlots]:[this.draggingRoot],n=this.quill.getIndex(this.draggingRoot),r=e.reduce((t,e)=>t+e.length(),0);switch(t){case"delete":const t=(new i.a).retain(n).delete(r);this.quill.updateContents(t,a.i.USER),this.hideDropdown();break;case"copyLink":const o=this.getLinkToBlockUrl(this.draggingRoot),s=document.createElement("input");s.style.position="absolute",s.style.zIndex="-100",s.setAttribute("value",o),document.body.appendChild(s),s.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(s),this.hideDropdown();break;case"duplicate":const l=this.quill.getContents(n,r).reduce((t,e)=>(t.insert(e.insert,e.attributes&&e.attributes["block-id"]?Object.assign(Object.assign({},e.attributes),{"block-id":void 0}):e.attributes),t),new i.a),c=(new i.a).retain(n+r).insert("\n").concat(l);this.quill.updateContents(c,a.i.USER),this.hideDropdown();break;case"turnInto":const u=this.currentMenuData.find(t=>"turnInto"===t.key).children.find(t=>t.highlight);u&&(this.turnInto(u.value,n,e,r),this.hideDropdown());break;case"expand":"image"===this.draggingRoot.statics.blotName?(this.draggingRoot.format("width",!1),this.draggingRoot.format("height",!1)):"frame"===this.draggingRoot.statics.blotName&&this.draggingRoot.format("data-expanded","true"),this.quill.update(a.i.USER),this.hideDropdown();break;case"small":"frame"===this.draggingRoot.statics.blotName&&this.draggingRoot.format("data-size","small"),this.quill.update(a.i.USER),this.hideDropdown();break;case"large":"frame"===this.draggingRoot.statics.blotName&&this.draggingRoot.format("data-size","large"),this.quill.update(a.i.USER),this.hideDropdown();break;case"removeEmbed":if("frame"===this.draggingRoot.statics.blotName){const t=this.draggingRoot.domNode.getAttribute("url");this.quill.updateContents((new i.a).retain(n).delete(2).insert(t,{link:t}),a.i.USER)}this.hideDropdown();break;case"copyTable":if("table-view"===this.draggingRoot.statics.blotName){const t=this.quill.getIndex(this.draggingRoot);this.quill.setSelection(t,this.draggingRoot.length(),a.i.SILENT),document.execCommand("copy")&&document.execCommand("copy"),this.quill.setSelection(t,0,a.i.SILENT)}this.hideDropdown();break;default:this.hideDropdown()}}getSelectedKeys(){const t=[],e=n=>{n&&n.key&&(t.push(n.key),n.children&&e(n.children.find(t=>t.highlight)))};return e(this.currentMenuData.find(t=>t.highlight)),t}getSelectedItems(){const t=[],e=n=>{n&&n.key&&(t.push(n),n.children&&e(n.children.find(t=>t.highlight)))};return e(this.currentMenuData.find(t=>t.highlight)),t}prev(){const t=this.getSelectedKeys(),e=[...t];if(Object(g.a)(t)&&t.length>0){let n="",i=this.currentMenuData;j(t.length,()=>{n=t.shift(),t.length>0&&(i=i.find(t=>t.key===n).children)});const r=Object(x.a)(i,t=>t.highlight);e[e.length-1]=i[r>0?r-1:i.length-1].key,this.onSelect(e),this.currentMenuData=[...this.currentMenuData]}else this.currentMenuData[0].highlight=!0,this.currentMenuData=[...this.currentMenuData]}next(){const t=this.getSelectedKeys(),e=[...t];if(Object(g.a)(t)&&t.length>0){let n="",i=this.currentMenuData;j(t.length,()=>{n=t.shift(),t.length>0&&(i=i.find(t=>t.key===n).children)});const r=Object(x.a)(i,t=>t.highlight);e[e.length-1]=i[r<i.length-1?r+1:0].key,this.onSelect(e),this.currentMenuData=[...this.currentMenuData]}else this.currentMenuData[0].highlight=!0,this.currentMenuData=[...this.currentMenuData]}backward(){const t=this.getSelectedKeys();Object(g.a)(t)&&t.length>0?this.onSelect(t.slice(0,t.length-1),!1):(this.currentMenuData[0].highlight=!0,this.currentMenuData=[...this.currentMenuData])}downward(){const t=this.getSelectedKeys(),e=[...t];if(Object(g.a)(t)&&t.length>0){let n="",i=null,r=this.currentMenuData;j(t.length,()=>{n=t.shift(),t.length>0?r=r.find(t=>t.key===n).children:i=r.find(t=>t.key===n)}),i&&i.children&&Object(g.a)(i.children)&&i.children.length>0&&(this.onSelect(e,!0),this.currentMenuData=[...this.currentMenuData])}else this.currentMenuData[0].highlight=!0,this.currentMenuData=[...this.currentMenuData]}turnInto(t,e,n,r){if("text"===t)return void this.quill.updateContents((new i.a).retain(e).retain(r,{header:!1,list:!1,banner:!1,blockquote:!1,"code-block":!1}),a.i.USER);let o="",s="";switch(t){case"heading1":o="header",s="1";break;case"heading2":o="header",s="2";break;case"heading3":o="header",s="3";break;case"checkList":o="list",s="unchecked";break;case"bulletedList":o="list",s="bullet";break;case"numberedList":o="list",s="ordered";break;case"toggleList":o="list",s="toggled";break;case"codeBlock":o="code-block",s="true";break;case"quote":o="blockquote",s="true";break;case"bannerSuccess":o="banner",s="success";break;case"bannerDanger":o="banner",s="danger";break;case"bannerInfo":o="banner",s="info";break;case"bannerWarning":o="banner",s="warning"}n.forEach(t=>{t instanceof F?t.descendants(z).forEach(t=>{"function"==typeof t.format&&t.format(o,s)}):t instanceof z&&"function"==typeof t.format&&t.format(o,s)}),this.quill.update(a.i.USER)}getLinkToBlockUrl(t){if(this.options.getLinkToBlockUrl&&"function"==typeof this.options.getLinkToBlockUrl)return this.options.getLinkToBlockUrl(t);{const e=window.location.href;let n={};return t instanceof F?n=t instanceof W?t.descendants(z).find(t=>!(t instanceof V)).formats():t.descendants(z).shift().formats():(t instanceof z||t instanceof U)&&(n=t.formats()),n&&n["block-id"]?e.split("?").length>1?`${e}&block=${n["block-id"]}`:`${e}?block=${n["block-id"]}`:e}}resetStylesOfLinkedBlock(){const t=Array.from(document.body.querySelectorAll(".ql-block-highlight"));t.length>0&&t.forEach(t=>{t.classList.remove("ql-block-highlight")})}destroy(){this.menuKeydownHandler&&document.body.removeEventListener("keydown",this.menuKeydownHandler,!1),this.quill=null,this.options=Object.assign({},$),this.dragging=!1,this.draggingRoot=null,this.dragOverRoot=null,this.dropRefRoot=null,this.activeAnchor=null,this.activeAnchorClickHanler=null,this.activeAnchorDragStartHanler=null,this.activeAnchorDragEndHanler=null,this.activeAnchorMouseOverHanler=null,this.activeAnchorMouseOutHanler=null,this.draggingHelpLine=null,this.dragOverPlaceholder=null,this.draggingBlots=[],this.menuKeydownHandler=null}})},kt0j:function(t,e,n){"use strict";var i=n("LV2V"),r=n("XFn8");e.a=function(t){return Object(i.a)(function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&Object(r.a)(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var l=n[i];l&&t(e,l,i,a)}return e})}},kzlf:function(t,e,n){(function(e){var n;window,n=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,(function(e){return t[e]}).bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=90)}([function(t,e,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n(5),s=n.n(a),l=n(12),c=n.n(l),u=n(14),d=n.n(u),h=n(15),f=n(16),p=n(4),g=n(7),m=n(36),b=n(6);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){return k(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function k(t){if(Array.isArray(t))return t}var _=/^[ -~]*$/;function x(t,e,n){if(0===t.length){var i=y(E(n.pop()),1)[0];return e<=0?"</li></".concat(i,">"):"</li></".concat(i,">").concat(x([],e-1,n))}var r,o=k(r=t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(r)||w(),a=o[0],s=a.child,l=a.offset,c=a.length,u=a.indent,d=a.type,h=o.slice(1),f=y(E(d),2),p=f[0],g=f[1];if(u>e)return n.push(d),u===e+1?"list-block-wrapper"===s.statics.blotName?"<".concat(p,">").concat(O(s,l,c)).concat(x(h,u,n)):"<".concat(p,"><li").concat(g,">").concat(O(s,l,c)).concat(x(h,u,n)):"<".concat(p,"><li>").concat(x(t,e+1,n));if(u===e&&d===n[n.length-1])return"</li><li".concat(g,">").concat(O(s,l,c)).concat(x(h,u,n));var m=y(E(n.pop()),1);return"</li></".concat(m[0],">").concat(x(t,e-1,n))}function O(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"==typeof t.html)return t.html(e,n);if(t instanceof b.a)return Object(b.b)(t.value().slice(e,e+n));if(t.children){if("list-container"===t.statics.blotName){var r=[];return t.children.forEachAt(e,n,function(t,e,n){var i=t.listFormats();r.push({child:t,offset:e,length:n,indent:i.indent||0,type:i.list})}),x(r,-1,[])}var o=[];if(t.children.forEachAt(e,n,function(t,e,n){o.push(O(t,e,n))}),i||"list"===t.statics.blotName)return o.join("");var a=t.domNode,s=a.outerHTML,l=a.innerHTML,c=s.split(">".concat(l,"<")),u=y(c,2),d=u[0],h=u[1];return"<table"===d?'<table style="border: 1px solid #000;">'.concat(o.join(""),"<").concat(h):"".concat(d,">").concat(o.join(""),"<").concat(h)}return t.domNode.outerHTML}function N(t,e){return Object.keys(e).reduce(function(n,i){return null==t[i]||(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]]),n},{})}function E(t){var e="ordered"===(t="string"==typeof t?t:t.list)?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];case"ordered":return[e,' data-list="ordered"'];case"bullet":return[e,' data-list="bullet"'];case"toggled":return[e,' data-list="toggled"'];case"none":return[e,' data-list="none"'];default:return[e,""]}}function L(t,e){return new h.a(t.index+e,t.length)}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}var e;return(e=[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var a=this.scroll.length();this.scroll.batchStart();var l=function(t){return t.reduce(function(t,e){if("string"==typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)},new r.a)}(t);return l.reduce(function(t,r){var l=r.retain||r.delete||r.insert.length||1,c=r.attributes||{};if(null!=r.insert){if("string"==typeof r.insert){var u=r.insert;u.endsWith("\n")&&n&&(n=!1,u=u.slice(0,-1)),(t>=a||e.scroll.descendant(p.a,t)[0])&&!u.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,u);var d=y(e.scroll.line(t),2),h=d[0],f=d[1],g=s()({},Object(p.c)(h));if(h instanceof p.d){var m=y(h.descendant(o.LeafBlot,f),1)[0];g=s()(g,Object(p.c)(m))}c=i.AttributeMap.diff(g,c)||{}}else if("object"===v(r.insert)){var b=Object.keys(r.insert)[0];if(null==b)return t;e.scroll.insertAt(t,b,r.insert[b])}a+=l}return Object.keys(c).forEach(function(n){e.scroll.formatAt(t,l,n,c[n])}),t+l},0),l.reduce(function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(l)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new r.a).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(function(r){n.scroll.lines(t,Math.max(e,1)).forEach(function(t){t.format(r,i[r])})}),this.scroll.optimize();var o=(new r.a).retain(t).retain(e,c()(i));return this.update(o)}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(i).forEach(function(r){n.scroll.formatAt(t,e,r,i[r])});var o=(new r.a).retain(t).retain(e,c()(i));return this.update(o)}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new r.a)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach(function(t){var e=y(t,1)[0];e instanceof p.d?n.push(e):e instanceof o.LeafBlot&&i.push(e)}):(n=this.scroll.lines(t,e),i=this.scroll.descendants(o.LeafBlot,t,e));var r=[n,i].map(function(t){if(0===t.length)return{};for(var e=Object(p.c)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=N(Object(p.c)(n),e)}return e});return s.a.apply(s.a,r)}},{key:"getHTML",value:function(t,e){var n=y(this.scroll.line(t),2),i=n[0],r=n[1];return i.length()>=r+e?O(i,r,e,!(i instanceof m.a)):O(this.scroll,t,e,!0)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new r.a).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach(function(r){n.scroll.formatAt(t,e.length,r,i[r])}),this.update((new r.a).retain(t).insert(e,c()(i)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===p.d.blotName&&!(t.children.length>1)&&t.children.head instanceof g.a}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=y(this.scroll.line(t+e),2),o=i[0],a=i[1],s=0,l=new r.a;null!=o&&(s=o.length()-a,l=o.delta().slice(a,a+s-1).insert("\n"));var c=this.getContents(t,e+s).diff((new r.a).insert(n).concat(l)),u=(new r.a).retain(t).concat(c);return this.applyDelta(u)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(_)&&this.scroll.find(e[0].target)){var o=this.scroll.find(e[0].target),a=Object(p.c)(o),s=o.offset(this.scroll),l=e[0].oldValue.replace(f.a.CONTENTS,""),c=(new r.a).insert(l),u=(new r.a).insert(o.value()),h=n&&{oldRange:L(n.oldRange,-s),newRange:L(n.newRange,-s)},g=(new r.a).retain(s).concat(c.diff(u,h));t=g.reduce(function(t,e){return e.insert?t.insert(e.insert,a):t.push(e)},new r.a),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&d()(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),A=n(3),T=n(8),q=n(20),j=n(11),S=n(28);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function M(t,e,n){return e&&D(t.prototype,e),n&&D(t,n),t}n.d(e,"a",function(){return U});var H=Object(j.a)("quill"),z=new o.Registry;o.ParentBlot.uiClass="ql-ui";var U=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(P(this,t),this.options=F(e,i),this.container=this.options.container,null==this.container)return H.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",q.a.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new A.a;var a=this.options.registry.query(o.ScrollBlot.blotName);this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new C(this.scroll),this.selection=new h.b(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(A.a.events.EDITOR_CHANGE,function(t){t===A.a.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(A.a.events.SCROLL_UPDATE,function(t,e){var i=n.selection.lastRange,r=B(n.selection.getRange(),1)[0],o=i&&r?{oldRange:i,newRange:r}:void 0;W.call(n,function(){return n.editor.update(null,e,o)},t)});var s=this.clipboard.convert({html:"".concat(r,"<p><br></p>"),text:"\n"});this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return M(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),j.a.level(t)}},{key:"find",value:function(t){return q.a.get(t)||z.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&H.error("Cannot import ".concat(t,". Are you sure it was registered?")),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var r=t.attrName||t.blotName;"string"==typeof r?this.register("formats/".concat(r),t,e):Object.keys(t).forEach(function(i){n.register(i,t[i],e)})}else null==this.imports[t]||i||H.warn("Overwriting ".concat(t," with"),e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName&&z.register(e),"function"==typeof e.register&&e.register(z)}}]),M(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,r=B(V(t,e,n),4);return W.call(this,function(){return i.editor.deleteText(t,e)},n=r[3],t=r[0],-1*(e=r[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(t){this.allowReadOnlyEdits=!0;var e=t();return this.allowReadOnlyEdits=!1,e}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.a.sources.API;return W.call(this,function(){var i=n.getSelection(!0),a=new r.a;if(null==i)return a;if(n.scroll.query(t,o.Scope.BLOCK))a=n.editor.formatLine(i.index,i.length,I({},t,e));else{if(0===i.length)return n.selection.format(t,e),a;a=n.editor.formatText(i.index,i.length,I({},t,e))}return n.setSelection(i,A.a.sources.SILENT),a},i)}},{key:"formatLine",value:function(t,e,n,i,r){var o,a=this,s=B(V(t,e,n,i,r),4);return e=s[1],o=s[2],W.call(this,function(){return a.editor.formatLine(t,e,o)},r=s[3],t=s[0],0)}},{key:"formatText",value:function(t,e,n,i,r){var o,a=this,s=B(V(t,e,n,i,r),4);return e=s[1],o=s[2],W.call(this,function(){return a.editor.formatText(t,e,o)},r=s[3],t=s[0],0)}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e="number"==typeof t?this.selection.getBounds(t,n):this.selection.getBounds(t.index,t.length);var i=this.container.getBoundingClientRect();return{bottom:e.bottom-i.top,height:e.height,left:e.left-i.left,right:e.right-i.left,top:e.top-i.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=V(t,e),i=B(n,2);return this.editor.getContents(t=i[0],e=i[1])}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=V(t,e),i=B(n,2);return this.editor.getHTML(t=i[0],e=i[1])}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=V(t,e),i=B(n,2);return this.editor.getText(t=i[0],e=i[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return W.call(this,function(){return r.editor.insertEmbed(e,n,i)},o,e)}},{key:"insertText",value:function(t,e,n,i,r){var o,a=this,s=B(V(t,0,n,i,r),4);return o=s[2],W.call(this,function(){return a.editor.insertText(t,e,o)},r=s[3],t=s[0],e.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var t;return(t=this.emitter).off.apply(t,arguments)}},{key:"on",value:function(){var t;return(t=this.emitter).on.apply(t,arguments)}},{key:"once",value:function(){var t;return(t=this.emitter).once.apply(t,arguments)}},{key:"removeFormat",value:function(t,e,n){var i=this,r=B(V(t,e,n),4);return e=r[1],W.call(this,function(){return i.editor.removeFormat(t,e)},n=r[3],t=r[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.a.sources.API;return W.call(this,function(){t=new r.a(t);var n=e.getLength(),i=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),a=o.ops[o.ops.length-1];return null!=a&&"string"==typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),i.compose(o)},n)}},{key:"setSelection",value:function(e,n,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=V(e,n,i),a=B(o,4);e=a[0],n=a[1],i=a[3],this.selection.setRange(new h.a(Math.max(0,e),n),i),r&&i!==A.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.a.sources.API,n=(new r.a).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.a.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.a.sources.API;return W.call(this,function(){return t=new r.a(t),e.editor.applyDelta(t,n)},n,!0)}},{key:"removeInstance",value:function(){q.a.delete(this.container)}}]),t}();function F(t,e){if((e=s()(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},e)).theme&&e.theme!==U.DEFAULTS.theme){if(e.theme=U.import("themes/".concat(e.theme)),null==e.theme)throw new Error("Invalid theme ".concat(e.theme,". Did you register it?"))}else e.theme=S.a;var n=s()(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var i=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=U.import("modules/".concat(e));return null==n?H.error("Cannot load ".concat(e," module. Are you sure you registered it?")):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=s()(!0,{},U.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function W(t,e,n,i){if(!this.isEnabled()&&e===A.a.sources.USER&&!this.allowReadOnlyEdits)return new r.a;var o=null==n?null:this.getSelection(),a=this.editor.delta,s=t();if(null!=o&&(!0===n&&(n=o.index),null==i?o=$(o,s,e):0!==i&&(o=$(o,n,i,e)),this.setSelection(o,A.a.sources.SILENT)),s.length()>0){var l,c,u=[A.a.events.TEXT_CHANGE,s,a,e];(l=this.emitter).emit.apply(l,[A.a.events.EDITOR_CHANGE].concat(u)),e!==A.a.sources.SILENT&&(c=this.emitter).emit.apply(c,u)}return s}function V(t,e,n,i,r){var o={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(r=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(r=i,i=n,n=e,e=0),"object"===R(n)?(o=n,r=i):"string"==typeof n&&(null!=i?o[n]=i:r=n),[t,e,o,r=r||A.a.sources.API]}function $(t,e,n,i){if(null==t)return null;var o,a;if(e instanceof r.a){var s=B([t.index,t.index+t.length].map(function(t){return e.transformPosition(t,i!==A.a.sources.USER)}),2);o=s[0],a=s[1]}else{var l=B([t.index,t.index+t.length].map(function(t){return t<e||t===e&&i===A.a.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),2);o=l[0],a=l[1]}return new h.a(o,a-o)}U.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:z,scrollingContainer:null,theme:"default"},U.events=A.a.events,U.sources=A.a.sources,U.version="2.0.0-a.11-146",U.imports={delta:r.a,parchment:o,"core/module":T.a,"core/theme":S.a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(41);e.ContainerBlot=i.default;var r=n(24);e.LeafBlot=r.default;var o=n(23);e.ParentBlot=o.default;var a=n(43);e.BlockBlot=a.default;var s=n(55);e.EmbedBlot=s.default;var l=n(46);e.InlineBlot=l.default;var c=n(56);e.ScrollBlot=c.default;var u=n(57);e.TextBlot=u.default;var d=n(18);e.Attributor=d.default;var h=n(44);e.ClassAttributor=h.default;var f=n(35);e.AttributorStore=f.default;var p=n(45);e.StyleAttributor=p.default;var g=n(29);e.Registry=g.default;var m=n(9);e.Scope=m.default},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=i(n(14)),o=i(n(5)),a=i(n(51)),s=i(n(52)),l=i(n(40)),c=String.fromCharCode(0),u=function(){function t(t){this.ops=Array.isArray(t)?t:null!=t&&Array.isArray(t.ops)?t.ops:[]}return t.prototype.insert=function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o.default(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&"object"!=typeof(n=this.ops[(e-=1)-1]))return this.ops.unshift(t),this;if(r.default(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(i){(t(i)?e:n).push(i)}),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+l.default.length(e):e.delete?t-e.delete:t},0)},t.prototype.length=function(){return this.reduce(function(t,e){return t+l.default.length(e)},0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var i=[],r=l.default.iterator(this.ops),o=0;o<n&&r.hasNext();){var a=void 0;o<e?a=r.next(e-o):(a=r.next(n-o),i.push(a)),o+=l.default.length(a)}return new t(i)},t.prototype.compose=function(e){var n=l.default.iterator(this.ops),i=l.default.iterator(e.ops),o=[],a=i.peek();if(null!=a&&"number"==typeof a.retain&&null==a.attributes){for(var c=a.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),o.push(n.next());a.retain-c>0&&i.next(a.retain-c)}for(var u=new t(o);n.hasNext()||i.hasNext();)if("insert"===i.peekType())u.push(i.next());else if("delete"===n.peekType())u.push(n.next());else{var d=Math.min(n.peekLength(),i.peekLength()),h=n.next(d),f=i.next(d);if("number"==typeof f.retain){var p={};"number"==typeof h.retain?p.retain=d:p.insert=h.insert;var g=s.default.compose(h.attributes,f.attributes,"number"==typeof h.retain);if(g&&(p.attributes=g),u.push(p),!i.hasNext()&&r.default(u.ops[u.ops.length-1],p)){var m=new t(n.rest());return u.concat(m).chop()}}else"number"==typeof f.delete&&"number"==typeof h.retain&&u.push(f)}return u.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var i=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:c;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),o=new t,u=a.default(i[0],i[1],n),d=l.default.iterator(this.ops),h=l.default.iterator(e.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case a.default.INSERT:n=Math.min(h.peekLength(),e),o.push(h.next(n));break;case a.default.DELETE:n=Math.min(e,d.peekLength()),d.next(n),o.delete(n);break;case a.default.EQUAL:n=Math.min(d.peekLength(),h.peekLength(),e);var i=d.next(n),l=h.next(n);r.default(i.insert,l.insert)?o.retain(n,s.default.diff(i.attributes,l.attributes)):o.push(l).delete(n)}e-=n}}),o.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var i=l.default.iterator(this.ops),r=new t,o=0;i.hasNext();){if("insert"!==i.peekType())return;var a=i.peek(),s=l.default.length(a)-i.peekLength(),c="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(c<0)r.push(i.next());else if(c>0)r.push(i.next(c));else{if(!1===e(r,i.next(1).attributes||{},o))return;o+=1,r=new t}}r.length()>0&&e(r,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(t,i){if(i.insert)n.delete(l.default.length(i));else{if(i.retain&&null==i.attributes)return n.retain(i.retain),t+i.retain;if(i.delete||i.retain&&i.attributes){var r=i.delete||i.retain;return e.slice(t,t+r).forEach(function(t){i.delete?n.push(t):i.retain&&i.attributes&&n.retain(l.default.length(t),s.default.invert(i.attributes,t.attributes))}),t+r}}return t},0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var i=e,r=l.default.iterator(this.ops),o=l.default.iterator(i.ops),a=new t;r.hasNext()||o.hasNext();)if("insert"!==r.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var c=Math.min(r.peekLength(),o.peekLength()),u=r.next(c),d=o.next(c);if(u.delete)continue;d.delete?a.push(d):a.retain(c,s.default.transform(u.attributes,d.attributes,n))}else a.retain(l.default.length(r.next()));return a.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=l.default.iterator(this.ops),i=0;n.hasNext()&&i<=t;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<t||!e)&&(t+=r),i+=r):t-=Math.min(r,t-i)}return t},t.Op=l.default,t.AttributeMap=s.default,t}();t.exports=u},function(t,e,n){"use strict";var i=n(47),r=n.n(i),o=n(20),a=n(11);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Object(a.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(function(t){var n,i=o.a.get(t);i&&i.emitter&&(n=i.emitter).handleDOM.apply(n,e)})})});var h=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,c(e).call(this))).listeners={},t.on("error",d.error),t}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),(n=[{key:"emit",value:function(){for(var t,n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(t=d.log).call.apply(t,[d].concat(r)),(n=l(c(e.prototype),"emit",this)).call.apply(n,[this].concat(r))}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach(function(e){var i=e.node,r=e.handler;(t.target===i||i.contains(t.target))&&r.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(r.a);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},e.a=h},function(t,e,n){"use strict";n.d(e,"b",function(){return O}),n.d(e,"c",function(){return N}),n.d(e,"a",function(){return x}),n.d(e,"d",function(){return _}),n(0);var i=n(5),r=n.n(i),o=n(59),a=n(2),s=n.n(a),l=n(1),c=n(7),u=n(10),d=n(6),h=n(27);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function b(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(t,n){var i;return p(this,e),(i=b(this,y(e).call(this,t,n))).cache={},i}return w(e,t),m(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=O(this)),this.cache.delta}},{key:"deleteAt",value:function(t,n){v(y(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,r){n<=0||(this.scroll.query(i,l.Scope.BLOCK)?t+n===this.length()&&this.format(i,r):v(y(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,r),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return v(y(e.prototype),"insertAt",this).call(this,t,n,i),void(this.cache={});if(0!==n.length){var r=n.split("\n"),o=r.shift();o.length>0&&(t<this.length()-1||null==this.children.tail?v(y(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var a=this;r.reduce(function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length},t+o.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;v(y(e.prototype),"insertBefore",this).call(this,t,n),i instanceof c.a&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=v(y(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){v(y(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){v(y(e.prototype),"optimize",this).call(this,t),this.cache={};var n=this.formats();n&&n[h.a.attrName]||this.format(h.a.attrName,"block-".concat(Object(o.a)()))}},{key:"path",value:function(t){return v(y(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){v(y(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var r=v(y(e.prototype),"split",this).call(this,t,n);return this.cache={},r}}]),e}(l.BlockBlot);_.blotName="block",_.tagName="DIV",_.defaultChild=c.a,_.allowedChildren=[c.a,u.a,l.EmbedBlot,d.a];var x=function(t){function e(){return p(this,e),b(this,y(e).apply(this,arguments))}return w(e,t),m(e,[{key:"attach",value:function(){v(y(e.prototype),"attach",this).call(this),this.attributes=new l.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new s.a).insert(this.value(),r()(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=this.scroll.query(t,l.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"==typeof n&&n.endsWith("\n")){var r=this.scroll.create(_.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,n.slice(0,-1))}else v(y(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}(l.EmbedBlot);function O(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.descendants(l.LeafBlot).reduce(function(t,n){return 0===n.length()?t:t.insert(n.value(),N(n,{},e))},new s.a).insert("\n",N(t))}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==t?e:("function"==typeof t.formats&&(e=r()(e,t.formats()),n&&delete e["code-token"]),null==t.parent||"scroll"===t.parent.statics.blotName||t.parent.statics.scope!==t.statics.scope?e:N(t.parent,e,n))}x.scope=l.Scope.BLOCK_BLOT},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,r=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;for(e in t);return void 0===e||n.call(t,e)},l=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(o)return o(t,e).value}return t[e]};t.exports=function t(){var e,n,i,r,o,u,d=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"==typeof d&&(p=d,d=arguments[1]||{},h=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});h<f;++h)if(null!=(e=arguments[h]))for(n in e)i=c(d,n),d!==(r=c(e,n))&&(p&&r&&(s(r)||(o=a(r)))?(o?(o=!1,u=i&&a(i)?i:[]):u=i&&s(i)?i:{},l(d,{name:n,newValue:t(p,u,r)})):void 0!==r&&l(d,{name:n,newValue:r}));return d}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c});var l=function(t){function e(){return r(this,e),o(this,a(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(n(1).TextBlot);function c(t){return t.replace(/[&<>"']/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t]})}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return r(this,e),a(this,s(e).apply(this,arguments))}var n,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,c=[{key:"value",value:function(){}}],(i=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&o(n.prototype,i),c&&o(n,c),e}(n(1).EmbedBlot);c.blotName="break",c.tagName="BR",e.a=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.a=r},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(i||(i={})),e.default=i},function(t,e,n){"use strict";var i=n(1),r=n(7),o=n(6);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return s(this,e),c(this,d(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,o=[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),r=e.order.indexOf(n);return i>=0||r>=0?i-r:t===n?0:t<n?-1:1}}],(r=[{key:"formatAt",value:function(t,n,r,o){if(e.compare(this.statics.blotName,r)<0&&this.scroll.query(r,i.Scope.BLOT)){var a=this.isolate(t,n);o&&a.wrap(r,o)}else u(d(e.prototype),"formatAt",this).call(this,t,n,r,o)}},{key:"optimize",value:function(t){if(u(d(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}])&&l(n.prototype,r),o&&l(n,o),e}(i.InlineBlot);f.allowedChildren=[f,r.a,i.EmbedBlot,o.a],f.order=["cursor","inline","link","underline","strike","italic","bold","script","code"],e.a=f},function(t,e,n){"use strict";var i=["error","warn","log","info"],r="warn";function o(t){if(i.indexOf(t)<=i.indexOf(r)){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(e=console)[t].apply(e,o)}}function a(t){return i.reduce(function(e,n){return e[n]=o.bind(console,n,t),e},{})}o.level=a.level=function(t){r=t},e.a=a},function(t,n){var i=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,i,r;try{n=Map}catch(l){n=function(){}}try{i=Set}catch(l){i=function(){}}try{r=Promise}catch(l){r=function(){}}function o(a,l,c,u,d){"object"==typeof l&&(c=l.depth,u=l.prototype,d=l.includeNonEnumerable,l=l.circular);var h=[],f=[],p=void 0!==e;return void 0===l&&(l=!0),void 0===c&&(c=1/0),function a(c,g){if(null===c)return null;if(0===g)return c;var m,b;if("object"!=typeof c)return c;if(t(c,n))m=new n;else if(t(c,i))m=new i;else if(t(c,r))m=new r(function(t,e){c.then(function(e){t(a(e,g-1))},function(t){e(a(t,g-1))})});else if(o.__isArray(c))m=[];else if(o.__isRegExp(c))m=new RegExp(c.source,s(c)),c.lastIndex&&(m.lastIndex=c.lastIndex);else if(o.__isDate(c))m=new Date(c.getTime());else{if(p&&e.isBuffer(c))return m=e.allocUnsafe?e.allocUnsafe(c.length):new e(c.length),c.copy(m),m;t(c,Error)?m=Object.create(c):void 0===u?(b=Object.getPrototypeOf(c),m=Object.create(b)):(m=Object.create(u),b=u)}if(l){var v=h.indexOf(c);if(-1!=v)return f[v];h.push(c),f.push(m)}for(var y in t(c,n)&&c.forEach(function(t,e){var n=a(e,g-1),i=a(t,g-1);m.set(n,i)}),t(c,i)&&c.forEach(function(t){var e=a(t,g-1);m.add(e)}),c){var w;b&&(w=Object.getOwnPropertyDescriptor(b,y)),w&&null==w.set||(m[y]=a(c[y],g-1))}if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(c);for(y=0;y<k.length;y++){var _=k[y];(!(O=Object.getOwnPropertyDescriptor(c,_))||O.enumerable||d)&&(m[_]=a(c[_],g-1),O.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(d){var x=Object.getOwnPropertyNames(c);for(y=0;y<x.length;y++){var O,N=x[y];(O=Object.getOwnPropertyDescriptor(c,N))&&O.enumerable||(m[N]=a(c[N],g-1),Object.defineProperty(m,N,{enumerable:!1}))}}return m}(a,c)}function a(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=a,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===a(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===a(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===a(t)},o.__getRegExpFlags=s,o}();"object"==typeof t&&t.exports&&(t.exports=i)},function(t,e,n){"use strict";n.d(e,"a",function(){return k}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w});var i=n(4),r=n(7),o=n(16),a=n(10),s=n(6),l=n(17),c=n(0);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(){return d(this,e),p(this,m(e).apply(this,arguments))}return b(e,t),f(e,[{key:"html",value:function(t,e){var n=this.children.map(function(t){return t.domNode.innerText}).join("\n").slice(t,t+e);return"<pre>".concat(Object(s.b)(n),"</pre>")}}],[{key:"create",value:function(t){var n=g(m(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}}]),e}(l.a),w=function(t){function e(){return d(this,e),p(this,m(e).apply(this,arguments))}return b(e,t),f(e,null,[{key:"register",value:function(){c.a.register(y)}}]),e}(i.d),k=function(t){function e(){return d(this,e),p(this,m(e).apply(this,arguments))}return b(e,t),e}(a.a);k.blotName="code",k.tagName="CODE",w.blotName="code-block",w.className="ql-code-block",w.tagName="DIV",y.blotName="code-block-container",y.className="ql-code-block-container",y.tagName="DIV",y.allowedChildren=[w],w.allowedChildren=[s.a,r.a,o.a],w.requiredContainer=y,w.TAB="  "},function(t,e,n){var i=Array.prototype.slice,r=n(49),o=n(50),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var c,u;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=i.call(t),e=i.call(e),a(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var d=r(t),h=r(e)}catch(f){return!1}if(d.length!=h.length)return!1;for(d.sort(),h.sort(),c=d.length-1;c>=0;c--)if(d[c]!=h[c])return!1;for(c=d.length-1;c>=0;c--)if(!a(t[u=d[c]],e[u],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null==t}function l(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}},function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return g});var i=n(1),r=n(12),o=n.n(r),a=n(14),s=n.n(a),l=n(3),c=n(11);function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=Object(c.a)("quill:selection"),p=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.index=e,this.length=n},g=function(){function t(e,n){var i=this;h(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new p(0,0),this.lastRange=this.savedRange,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||i.composing||setTimeout(i.update.bind(i,l.a.sources.USER),1)}),this.emitter.on(l.a.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(l.a.events.SCROLL_UPDATE,function(){try{i.root.contains(t.start.node)&&i.root.contains(t.end.node)&&i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset),i.update(l.a.sources.SILENT)}catch(e){}})}}),this.emitter.on(l.a.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range;i.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset),i.update(l.a.sources.SILENT)}}),this.update(l.a.sources.SILENT)}var e;return(e=[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0,t.scroll.batchStart(),t.root.classList.add("ql-compositing")}),this.root.addEventListener("compositionend",function(){setTimeout(function(){if(t.scroll.batchEnd(),t.root.classList.remove("ql-compositing"),t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}},0)})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(l.a.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(t,i.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=this.scroll.find(n.start.node,!1);if(null==r)return;if(r instanceof i.LeafBlot){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.scroll.length();t=Math.min(t,i-1),n=Math.min(t+n,i-1)-t;var r=this.scroll.leaf(t),o=d(r,2),a=o[0],s=o[1];if(null==a)return null;var l=a.position(s,!0),c=d(l,2);e=c[0],s=c[1];var u=document.createRange();if(n>0){u.setStart(e,s);var h=this.scroll.leaf(t+n),f=d(h,2);if(null==(a=f[0]))return null;var p=a.position(s=f[1],!0),g=d(p,2);return u.setEnd(e=g[0],s=g[1]),u.getBoundingClientRect()}var m,b="left";return e instanceof Text?(s<e.data.length?(u.setStart(e,s),u.setEnd(e,s+1)):(u.setStart(e,s-1),u.setEnd(e,s),b="right"),m=u.getBoundingClientRect()):(m=a.domNode.getBoundingClientRect(),s>0&&(b="right")),{bottom:m.top+m.height,height:m.height,left:m[b],right:m[b],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return f.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||m(this.root,document.activeElement)}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map(function(t){var n=d(t,2),r=n[0],o=n[1],a=e.scroll.find(r,!0),s=a.offset(e.scroll);return 0===o?s:a instanceof i.LeafBlot?s+a.index(r,o):s+a.length()}),o=Math.min(Math.max.apply(Math,u(r)),this.scroll.length()-1),a=Math.min.apply(Math,[o].concat(u(r)));return new p(a,o-a)}},{key:"normalizeNative",value:function(t){if(!m(this.root,t.startContainer)||!t.collapsed&&!m(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length>0?e.childNodes.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],i=[],r=this.scroll.length();return n.forEach(function(t,n){t=Math.min(r-1,t);var o=d(e.scroll.leaf(t),2),a=d(o[0].position(o[1],0!==n),2);i.push(a[0],a[1])}),i.length<2?i.concat(i):i}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var i=this.scroll.length()-1,r=d(this.scroll.line(Math.min(e.index,i)),1)[0],o=r;if(e.length>0&&(o=d(this.scroll.line(Math.min(e.index+e.length,i)),1)[0]),null!=r&&null!=o){var a=t.getBoundingClientRect();n.top<a.top?t.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(t.scrollTop+=n.bottom-a.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var a=this.getNativeRange()||{},s=a.native;if(null==s||r||t!==s.startContainer||e!==s.startOffset||n!==s.endContainer||i!==s.endOffset){"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),"BR"===n.tagName&&(i=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var l=document.createRange();l.setStart(t,e),l.setEnd(n,i),o.removeAllRanges(),o.addRange(l)}}else o.removeAllRanges(),this.root.blur()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a.sources.API;if("string"==typeof e&&(n=e,e=!1),f.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,u(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.a.sources.USER,e=this.lastRange,n=this.getRange(),i=d(n,2),r=i[0],a=i[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!s()(e,this.lastRange)){var c;if(!this.composing&&null!=a&&a.native.collapsed&&a.start.node!==this.cursor.textNode){var u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}var h,f=[l.a.events.SELECTION_CHANGE,o()(this.lastRange),o()(e),t];(c=this.emitter).emit.apply(c,[l.a.events.EDITOR_CHANGE].concat(f)),t!==l.a.sources.SILENT&&(h=this.emitter).emit.apply(h,f)}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function m(t,e){return t.contains(e)}},function(t,e,n){"use strict";var i=n(1),r=n(6);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t,n,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(e).call(this,t,n))).selection=i,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r.savedLength=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),c(e,null,[{key:"value",value:function(){}}]),c(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0===this.savedLength){for(var r=this,o=0;null!=r&&r.statics.scope!==i.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this.savedLength=e.CONTENTS.length,r.optimize(),r.formatAt(o,e.CONTENTS.length,t,n),this.savedLength=0)}else a(s(e.prototype),"format",this).call(this,t,n)}},{key:"index",value:function(t,n){return t===this.textNode?0:a(s(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(s(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var t=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var n,i=this.prev instanceof r.a?this.prev:null,o=i?i.length():0,a=this.next instanceof r.a?this.next:null,s=a?a.text:"",l=this.textNode,c=l.data.split(e.CONTENTS).join("");if(l.data=e.CONTENTS,i)n=i,(c||a)&&(i.insertAt(i.length(),c+s),a&&a.remove());else if(a)n=a,a.insertAt(0,c);else{var u=document.createTextNode(c);n=this.scroll.create(u),this.parent.insertBefore(n,this)}if(this.remove(),t){var d=function(t,e){return i&&t===i.domNode?e:t===l?o+e-1:a&&t===a.domNode?o+c.length+e:null},h=d(t.start.node,t.start.offset),f=d(t.end.node,t.end.offset);if(null!==h&&null!==f)return{startNode:n.domNode,startOffset:h,endNode:n.domNode,endOffset:f}}return null}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}(i.EmbedBlot);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\ufeff",e.a=d},function(t,e,n){"use strict";var i=n(1);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.a=function(t){function e(){return o(this,e),a(this,s(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),e}(i.ContainerBlot)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e,this.scope=null!=n.scope?n.scope&i.default.LEVEL|i.default.TYPE&i.default.ATTRIBUTE:i.default.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return Array.from(t.attributes).map(function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=r},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return h});var i=n(1);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return o(this,e),a(this,l(e).apply(this,arguments))}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),(n=[{key:"value",value:function(t){var n=s(l(e.prototype),"value",this).call(this,t);if(!n.startsWith("rgb("))return n;var i=(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(t){return"00".concat(parseInt(t,10).toString(16)).slice(-2)}).join("");return"#".concat(i)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(i.StyleAttributor),d=new i.ClassAttributor("color","ql-color",{scope:i.Scope.INLINE}),h=new u("color","color",{scope:i.Scope.INLINE})},function(t,e,n){"use strict";e.a=new WeakMap},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d});var u=function(t){function e(){return r(this,e),a(this,l(e).apply(this,arguments))}var n,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,u=[{key:"create",value:function(t){var n=s(l(e),"create",this).call(this,t);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return d(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}],(i=[{key:"format",value:function(t,n){t!==this.statics.blotName?s(l(e.prototype),"format",this).call(this,t,n):n?this.domNode.setAttribute("href",this.constructor.sanitize(n)):(this.format("void-detect","true"),s(l(e.prototype),"format",this).call(this,t,n)),t===this.statics.blotName&&n?this.domNode.setAttribute("href",this.constructor.sanitize(n)):s(l(e.prototype),"format",this).call(this,t,n)}}])&&o(n.prototype,i),u&&o(n,u),e}(n(10).a);function d(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"]},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i=n(1),r={scope:i.Scope.BLOCK,whitelist:["rtl"]},o=new i.Attributor("direction","dir",r),a=new i.ClassAttributor("direction","ql-direction",r),s=new i.StyleAttributor("direction","direction",r)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(54),a=n(34),s=n(9),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.uiNode=null,i.build(),i}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.attachUI=function(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},e.prototype.build=function(){var t=this;this.children=new o.default,Array.from(this.domNode.childNodes).filter(function(e){return e!==t.uiNode}).reverse().forEach(function(e){try{var n=c(e,t.scroll);t.insertBefore(n,t.children.head||void 0)}catch(i){if(i instanceof a.default)return;throw i}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){void 0===n&&(n=0);var i=this.children.find(n),r=i[0],o=i[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,o]:r instanceof e?r.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,function(n,i,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&r.push(n),n instanceof e&&(r=r.concat(n.descendants(t,i,o))),o-=a}),r},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.enforceAllowedChildren=function(){var t=this,n=!1;this.children.forEach(function(i){n||t.statics.allowedChildren.some(function(t){return i instanceof t})||(i.statics.scope===s.default.BLOCK_BLOT?(null!=i.next&&t.splitAfter(i),null!=i.prev&&t.splitAfter(i.prev),i.parent.unwrap(),n=!0):i instanceof e?i.unwrap():i.remove())})},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,r){t.formatAt(e,r,n,i)})},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),r=i[0];if(r)r.insertAt(i[1],e,n);else{var o=null==n?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(o)}},e.prototype.insertBefore=function(t,e){null!=t.parent&&t.parent.children.remove(t);var n=null;this.children.insertBefore(t,e||null),null!=e&&(n=e.domNode),this.domNode.parentNode===t.domNode&&this.domNode.nextSibling===n||this.domNode.insertBefore(t.domNode,n),t.parent=this,t.attach()},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),r=i[0],o=i[1],a=[[this,t]];return r instanceof e?a.concat(r.path(o,n)):(null!=r&&a.push([r,o]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replaceWith=function(n,i){var r="string"==typeof n?this.scroll.create(n,i):n;return r instanceof e&&this.moveChildren(r),t.prototype.replaceWith.call(this,r)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),function(t,i,r){var o=t.split(i,e);null!=o&&n.appendChild(o)}),n},e.prototype.splitAfter=function(t){for(var e=this.clone();null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e},e.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],r=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),r.push.apply(r,t.removedNodes))}),r.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=n.scroll.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),i.filter(function(t){return t.parentNode===n.domNode||t===n.uiNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=n.scroll.find(t.nextSibling));var i=c(t,n.scroll);i.next===e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))}),this.enforceAllowedChildren()},e.uiClass="",e}(n(42).default);function c(t,e){var n=e.find(t);if(null==n)try{n=e.create(t)}catch(i){n=e.create(s.default.INLINE),Array.from(t.childNodes).forEach(function(t){n.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach()}return n}e.default=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=o.default.INLINE_BLOT,e}(n(42).default);e.default=a},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i=n(1),r={scope:i.Scope.BLOCK,whitelist:["right","center","justify"]},o=new i.Attributor("align","align",r),a=new i.ClassAttributor("align","ql-align",r),s=new i.StyleAttributor("align","text-align",r)},function(t,e,n){"use strict";function i(t,e){return t&&Object.keys(t).reduce(function(n,i){return e.includes(i)?n:Object.assign({},n,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},i,t[i]))},{})}n.d(e,"a",function(){return i}),n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),r=new i.Attributor("block-id","data-block-id",{scope:i.Scope.BLOCK})},function(t,e,n){"use strict";var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}var e;return(e=[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/".concat(t));return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();i.DEFAULTS={modules:{}},i.themes={default:i},e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=n(9),o=function(){function t(){this.attributes={},this.classes={},this.tags={},this.types={}}return t.find=function(t,e){return void 0===e&&(e=!1),null==t?null:this.blots.has(t)?this.blots.get(t)||null:e?this.find(t.parentNode,e):null},t.prototype.create=function(e,n,r){var o=this.query(n);if(null==o)throw new i.default("Unable to create "+n+" blot");var a=o,s=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:a.create(r),l=new a(e,s,r);return t.blots.set(l.domNode,l),l},t.prototype.find=function(e,n){return void 0===n&&(n=!1),t.find(e,n)},t.prototype.query=function(t,e){var n,i=this;return void 0===e&&(e=r.default.ANY),"string"==typeof t?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof t?t&r.default.LEVEL&r.default.BLOCK?n=this.types.block:t&r.default.LEVEL&r.default.INLINE&&(n=this.types.inline):t instanceof HTMLElement&&((t.getAttribute("class")||"").split(/\s+/).some(function(t){return!!(n=i.classes[t])}),n=n||this.tags[t.tagName]),null==n?null:e&r.default.LEVEL&n.scope&&e&r.default.TYPE&n.scope?n:null},t.prototype.register=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t.register(e)});var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i.default("Invalid definition");if("abstract"===r.blotName)throw new i.default("Cannot register abstract class");if(this.types[r.blotName||r.attrName]=r,"string"==typeof r.keyName)this.attributes[r.keyName]=r;else if(null!=r.className&&(this.classes[r.className]=r),null!=r.tagName){r.tagName=Array.isArray(r.tagName)?r.tagName.map(function(t){return t.toUpperCase()}):r.tagName.toUpperCase();var o=Array.isArray(r.tagName)?r.tagName:[r.tagName];o.forEach(function(e){null!=t.tags[e]&&null!=r.className||(t.tags[e]=r)})}return r},t.blots=new WeakMap,t}();e.default=o},function(t,e,n){"use strict";var i=n(1),r=n(6);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.a=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(e).call(this,t,n))).contentNode=document.createElement("span"),i.contentNode.setAttribute("contenteditable",!1),Array.from(i.domNode.childNodes).forEach(function(t){i.contentNode.appendChild(t)}),i.leftGuard=document.createTextNode("\ufeff"),i.rightGuard=document.createTextNode("\ufeff"),i.domNode.appendChild(i.leftGuard),i.domNode.appendChild(i.contentNode),i.domNode.appendChild(i.rightGuard),i}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),(n=[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:a(s(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e,n,i=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof r.a){var o=this.prev.length();this.prev.insertAt(o,i),e={startNode:this.prev.domNode,startOffset:o+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof r.a?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data="\ufeff",e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(i.EmbedBlot)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n(1),r=n(19),o=new i.ClassAttributor("background","ql-bg",{scope:i.Scope.INLINE}),a=new r.a("background","background-color",{scope:i.Scope.INLINE})},function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d});var i=n(1);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u={scope:i.Scope.INLINE,whitelist:["serif","monospace"]},d=new i.ClassAttributor("font","ql-font",u),h=new(function(t){function e(){return o(this,e),a(this,l(e).apply(this,arguments))}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),(n=[{key:"value",value:function(t){return s(l(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(i.StyleAttributor))("font","font-family",u)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n(1),r=new i.ClassAttributor("size","ql-size",{scope:i.Scope.INLINE,whitelist:["small","large","huge"]}),o=new i.StyleAttributor("size","font-size",{scope:i.Scope.INLINE,whitelist:["10px","18px","32px"]})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=this;return(n=t.call(this,e="[Parchment] "+e)||this).message=e,n.name=n.constructor.name,n}return r(e,t),e}(Error);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),r=n(9),o=n(18),a=n(44),s=n(45),l=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.find(this.domNode);if(null!=e){var n=o.default.keys(this.domNode),l=a.default.keys(this.domNode),c=s.default.keys(this.domNode);n.concat(l).concat(c).forEach(function(n){var i=e.scroll.query(n,r.default.ATTRIBUTE);i instanceof o.default&&(t.attributes[i.attrName]=i)})}},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=l},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return r(this,e),a(this,s(e).apply(this,arguments))}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(i=[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}])&&o(n,i),e}(n(4).d);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],e.a=c},function(t,e,n){"use strict";n.d(e,"a",function(){return T}),n.d(e,"b",function(){return B});var i=n(5),r=n.n(i),o=n(2),a=n.n(o),s=n(1),l=n(4),c=n(0),u=n(11),d=n(8),h=n(25),f=n(31),p=n(13),g=n(19),m=n(22),b=n(32),v=n(33),y=n(26);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(21);var E=Object(u.a)("quill:clipboard"),L=[[Node.TEXT_NODE,function(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&n.includes("\n"))return e;if(!I(t)){var i=function(t,e){var n=e.replace(/[^\u00a0]/g,"");return n.length<1&&t?" ":n};n=n.replace(/\r\n/g," ").replace(/\n/g," "),(null==t.nextSibling&&S(t.parentNode)||null!=t.nextSibling&&S(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}],[Node.TEXT_NODE,D],["br",function(t,e){return j(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,function(t,e,n){var i=n.query(t);if(null==i)return e;if(i.prototype instanceof s.EmbedBlot){var r={},o=i.value(t);if(null!=o)return r[i.blotName]=o,(new a.a).insert(r,i.formats(t,n))}else if(i.prototype instanceof s.BlockBlot&&!j(e,"\n")&&e.insert("\n"),"function"==typeof i.formats)return q(e,i.blotName,i.formats(t,n));return e}],[Node.ELEMENT_NODE,function(t,e,n){var i=s.Attributor.keys(t),r=s.ClassAttributor.keys(t),o=s.StyleAttributor.keys(t),a={};return i.concat(r).concat(o).forEach(function(e){var i=n.query(e,s.Scope.ATTRIBUTE);null!=i&&(a[i.attrName]=i.value(t),a[i.attrName])||(null==(i=C[e])||i.attrName!==e&&i.keyName!==e||(a[i.attrName]=i.value(t)||void 0),null==(i=A[e])||i.attrName!==e&&i.keyName!==e||(a[(i=A[e]).attrName]=i.value(t)||void 0))}),Object.keys(a).length>0?q(e,a):e}],[Node.ELEMENT_NODE,function(t,e){var n={},i=t.style||{};return"italic"===i.fontStyle&&(n.italic=!0),"underline"===i.textDecoration&&(n.underline=!0),"line-through"===i.textDecoration&&(n.strike=!0),(i.fontWeight.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=q(e,n)),parseFloat(i.textIndent||0)>0?(new a.a).insert("\t").concat(e):e}],["li",function(t,e,n){var i=n.query(t);if(null==i||"list"!==i.blotName||!j(e,"\n"))return e;for(var r=-1,o=t.parentNode;null!=o;)["OL","UL"].includes(o.tagName)&&(r+=1),o=o.parentNode;return r<=0?e:e.reduce(function(t,e){return e.attributes&&"number"==typeof e.attributes.indent?t.push(e):t.insert(e.insert,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){k(t,e,n[e])})}return t}({indent:r},e.attributes||{}))},new a.a)}],["ol, ul",function(t,e){var n="OL"===t.tagName?"ordered":"bullet";return e.reduce(function(t,e){return e.attributes&&e.attributes.list?t.insert(e.insert,Object.assign({},Object(y.a)(e.attributes,["list-container"]),e.attributes.list.list?{}:{list:{list:n}})):t.push(e),t},new a.a)}],["pre",function(t,e,n){var i=n.query("code-block");return q(e,"code-block",!i||i.formats(t,n))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["strike",P.bind(P,"strike")],["style",function(){return new a.a}]],C=[h.a,m.a].reduce(function(t,e){return t[e.keyName]=e,t},{}),A=[h.c,f.b,g.c,m.c,b.b,v.b].reduce(function(t,e){return t[e.keyName]=e,t},{}),T=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?O(t):e}(this,x(e).call(this,t,n))).quill.root.addEventListener("copy",function(t){return i.onCaptureCopy(t,!1)}),i.quill.root.addEventListener("cut",function(t){return i.onCaptureCopy(t,!0)}),i.quill.root.addEventListener("paste",i.onCapturePaste.bind(O(i))),i.matchers=[],L.concat(i.options.matchers).forEach(function(t){var e=_(t,2);i.addMatcher(e[0],e[1])}),i}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(e,t),(n=[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){var e,n=t.html,i=t.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[p.c.blotName])return(new a.a).insert(i,k({},p.c.blotName,r[p.c.blotName]));if(n){var o=(new DOMParser).parseFromString(n,"text/html");e=o.body}else(e=document.createElement("span")).dataset.source="text",e.innerText=i||"";var s=new WeakMap,l=this.prepareMatching(e,s),c=_(l,2),u=c[0],d=c[1],h=B(this.quill.scroll,e,u,d,s);return j(h,"\n")&&(null==h.ops[h.ops.length-1].attributes||r.table)?h.compose((new a.a).retain(h.length()-1).delete(1)):h}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.a.sources.API;if("string"==typeof t){var i=this.convert({html:t,text:""});this.quill.setContents(i,e),this.quill.setSelection(0,c.a.sources.SILENT)}else{var r=this.convert({html:e,text:""});this.quill.updateContents((new a.a).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),c.a.sources.SILENT)}}},{key:"onCaptureCopy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.defaultPrevented){t.preventDefault();var n=this.quill.selection.getRange(),i=_(n,1),r=i[0];if(null!=r){var o=this.onCopy(r,e),a=o.html,s=o.text;t.clipboardData.setData("text/plain",s),t.clipboardData.setData("text/html",a),e&&this.quill.deleteText(r,c.a.sources.USER)}}}},{key:"onCapturePaste",value:function(t){if(!t.defaultPrevented&&this.quill.isEnabled()&&(t.preventDefault(),!this.options.onCapturePaste.call(this,t))){var e=this.quill.getSelection(!0);if(null!=e){var n=t.clipboardData.getData("text/html"),i=t.clipboardData.getData("text/plain"),r=Array.from(t.clipboardData.files||[]);!n&&r.length>0?this.quill.uploader.upload(e,r):this.onPaste(e,{html:n,text:i})}}}},{key:"onCopy",value:function(t){var e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}},{key:"onPaste",value:function(t,e){var n=e.text,i=e.html,r=this.quill.getFormat(t.index),o=this.convert({text:n,html:i},r);E.log("onPaste",o,{text:n,html:i});var s=(new a.a).retain(t.index).delete(t.length).concat(o);this.quill.updateContents(s,c.a.sources.USER),this.quill.setSelection(s.length()-t.length,c.a.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(t,e){var n=[],i=[];return this.matchers.forEach(function(r){var o=_(r,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:i.push(s);break;case Node.ELEMENT_NODE:n.push(s);break;default:Array.from(t.querySelectorAll(a)).forEach(function(t){e.has(t)?e.get(t).push(s):e.set(t,[s])})}}),[n,i]}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(d.a);function q(t,e,n){return"object"===w(e)?Object.keys(e).reduce(function(t,n){return q(t,n,e[n])},t):t.reduce(function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,r()({},k({},e,n),i.attributes))},new a.a)}function j(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var r=t.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*e.length)===e}function S(t){return 0!==t.childNodes.length&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}T.DEFAULTS={matchers:[],onCapturePaste:function(){}};var R=new WeakMap;function I(t){return null!=t&&(R.has(t)||R.set(t,"PRE"===t.tagName||I(t.parentNode)),R.get(t))}function B(t,e,n,i,r){return e.nodeType===e.TEXT_NODE?i.reduce(function(n,i){return i(e,n,t)},new a.a):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce(function(o,a){var s=B(t,a,n,i,r);return a.nodeType===e.ELEMENT_NODE&&(s=n.reduce(function(e,n){return n(a,e,t)},s),s=(r.get(a)||[]).reduce(function(e,n){return n(a,e,t)},s)),o.concat(s)},new a.a):new a.a}function P(t,e,n){return q(n,t,!0)}function D(t,e,n){if(!j(e,"\n")){if(S(t))return e.insert("\n");if(e.length()>0&&t.nextSibling)for(var i=t.nextSibling;null!=i;){if(S(i))return e.insert("\n");var r=n.query(i);if(r&&r.prototype instanceof l.a)return e.insert("\n");i=i.firstChild}}return e}},function(t,e,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n(7),s=n(17);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return t instanceof o.d||t instanceof o.a}var p=function(t){function e(t,n,i){var r,o=i.emitter;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,d(e).call(this,t,n))).emitter=o,r.batch=!1,r.optimize(),r.enable(),r.domNode.addEventListener("dragstart",function(t){return r.handleDragStart(t)}),r}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),(n=[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var t=this.batch;this.batch=!1,this.update(t)}},{key:"emitMount",value:function(t){this.emitter.emit(r.a.events.SCROLL_BLOT_MOUNT,t)}},{key:"emitUnmount",value:function(t){this.emitter.emit(r.a.events.SCROLL_BLOT_UNMOUNT,t)}},{key:"deleteAt",value:function(t,n){var i=c(this.line(t),2),r=i[0],s=i[1],l=c(this.line(t+n),1)[0];if(u(d(e.prototype),"deleteAt",this).call(this,t,n),null!=l&&r!==l&&s>0){if(r instanceof o.a||l instanceof o.a)return void this.optimize();r.moveChildren(l,l.children.head instanceof a.a?null:l.children.head),r.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,i,r){u(d(e.prototype),"formatAt",this).call(this,t,n,i,r),this.optimize()}},{key:"handleDragStart",value:function(t){t.preventDefault()}},{key:"insertAt",value:function(t,n,r){if(t>=this.length())if(null==r||null==this.scroll.query(n,i.Scope.BLOCK)){var o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o),null==r&&n.endsWith("\n")?o.insertAt(0,n.slice(0,-1),r):o.insertAt(0,n,r)}else{var a=this.scroll.create(n,r);this.appendChild(a)}else u(d(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===i.Scope.INLINE_BLOT){var r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),u(d(e.prototype),"insertBefore",this).call(this,r,n)}else u(d(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(f,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,r){var o=[],a=r;return e.children.forEachAt(n,r,function(e,n,r){f(e)?o.push(e):e instanceof i.ContainerBlot&&(o=o.concat(t(e,n,a))),a-=r}),o};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(u(d(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(r.a.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return u(d(e.prototype),"path",this).call(this,t).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(t){if(this.batch)Array.isArray(t)&&(this.batch=this.batch.concat(t));else{var n=r.a.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(r.a.events.SCROLL_BEFORE_UPDATE,n,t),u(d(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(r.a.events.SCROLL_UPDATE,n,t)}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(i.ScrollBlot);p.blotName="scroll",p.className="ql-editor",p.tagName="DIV",p.defaultChild=o.d,p.allowedChildren=[o.d,o.a,s.a],e.a=p},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(4),o=n(7),a=n(17),s=n(16),l=n(30),c=n(10),u=n(38),d=n(6),h=n(37),f=n(1),p=n(8);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?b(t):e}(this,m(e).call(this,t,n))).lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.a.events.EDITOR_CHANGE,function(t,e,n,o){t!==i.a.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.a.sources.USER?r.transform(e):r.record(e,n))}),r.quill.keyboard.addBinding({key:"z",shortKey:!0},r.undo.bind(b(r))),r.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},r.redo.bind(b(r))),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"y",shortKey:!0},r.redo.bind(b(r))),r}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,t),(n=[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop(),r=this.quill.getContents(),o=n.invert(r);this.stack[e].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n,i.a.sources.USER),this.ignoreChange=!1;var a=function(t,e){var n=e.reduce(function(t,e){return t+(e.delete||0)},0),i=e.length()-n;return function(t,e){var n=e.ops[e.ops.length-1];return null!=n&&(null!=n.insert?"string"==typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some(function(e){return null!=t.query(e,f.Scope.BLOCK)}))}(t,e)&&(i-=1),i}(this.quill.scroll,n);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=t.invert(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r)}else this.lastRecorded=i;0!==n.length()&&(this.stack.undo.push(n),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){w(this.stack.undo,t),w(this.stack.redo,t)}},{key:"undo",value:function(){this.change("undo","redo")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(p.a);function w(t,e){for(var n=e,i=t.length-1;i>=0;i-=1){var r=t[i];t[i]=n.transform(r,!0),n=r.transform(n),0===t[i].length()&&t.splice(i,1)}}y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};var k=n(12),_=n.n(k),x=n(14),O=n.n(x),N=n(5),E=n.n(N),L=n(2),C=n.n(L),A=n(11),T=n(59);function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){j(t,e,n[e])})}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),t}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=Object(A.a)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",z=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,I(e).call(this,t,n))).bindings={},Object.keys(i.options.bindings).forEach(function(t){i.options.bindings[t]&&i.addBinding(i.options.bindings[t])}),i.addBinding({key:"Enter",shiftKey:null},i.handleEnter),i.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:"Backspace"},{collapsed:!0},i.handleBackspace),i.addBinding({key:"Delete"},{collapsed:!0},i.handleDelete)):(i.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},i.handleBackspace),i.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},i.handleDelete)),i.addBinding({key:"Backspace"},{collapsed:!1},i.handleDeleteRange),i.addBinding({key:"Delete"},{collapsed:!1},i.handleDeleteRange),i.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},i.handleBackspace),i.listen(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,t),P(e,null,[{key:"match",value:function(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&(e.key===t.key||e.key===t.which)}}]),P(e,[{key:"addBinding",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=K(t);if(null!=r){"function"==typeof n&&(n={handler:n}),"function"==typeof i&&(i={handler:i});var o=Array.isArray(r.key)?r.key:[r.key];o.forEach(function(t){var o=E()({},r,{key:t},n,i);e.bindings[o.key]=e.bindings[o.key]||[],e.bindings[o.key].push(o)})}else M.warn("Attempted to add invalid keyboard binding",r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented&&!n.isComposing){var i=(t.bindings[n.key]||[]).concat(t.bindings[n.which]||[]).filter(function(t){return e.match(n,t)});if(0!==i.length){var r=t.quill.getSelection();if(null!=r&&t.quill.hasFocus()){var o=R(t.quill.getLine(r.index),2),a=o[0],s=o[1],l=R(t.quill.getLeaf(r.index),2),c=l[0],u=l[1],d=R(0===r.length?[c,u]:t.quill.getLeaf(r.index+r.length),2),h=d[0],p=d[1],g=c instanceof f.TextBlot?c.value().slice(0,u):"",m=h instanceof f.TextBlot?h.value().slice(p):"",b={collapsed:0===r.length,empty:0===r.length&&a.length()<=1,format:t.quill.getFormat(r),line:a,offset:s,prefix:g,suffix:m,event:n};i.some(function(e){if(null!=e.collapsed&&e.collapsed!==b.collapsed)return!1;if(null!=e.empty&&e.empty!==b.empty)return!1;if(null!=e.offset&&e.offset!==b.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==b.format[t]}))return!1}else if("object"===S(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=b.format[t]:!1===e.format[t]?null==b.format[t]:O()(e.format[t],b.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(b.prefix)||null!=e.suffix&&!e.suffix.test(b.suffix)||!0===e.handler.call(t,r,b,e))})&&n.preventDefault()}}}})}},{key:"handleBackspace",value:function(t,e){var n=R(this.quill.getLine(t.index),1)[0],r=R(this.quill.getLine(t.index-1),1)[0];if(0===e.offset&&null!=r&&(Z(r)&&!Z(n)||function(t){return"table-col"===t.statics.blotName}(n)))return!1;var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(!(0===t.index||this.quill.getLength()<=1)){var a={},s=(new C.a).retain(t.index-o).delete(o);if(0===e.offset&&r){var l=n.formats(),c=this.quill.getFormat(t.index-1,1);if(a=L.AttributeMap.diff(l,c)||{},Object.keys(a).length>0){var u=(new C.a).retain(t.index+n.length()-2).retain(1,a);s=s.compose(u)}}this.quill.updateContents(s,i.a.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},o=R(this.quill.getLine(t.index),1)[0],a=(new C.a).retain(t.index).delete(n);if(e.offset>=o.length()-1){var s=R(this.quill.getLine(t.index+1),1)[0];if(s){var l=o.formats(),c=this.quill.getFormat(t.index,1);r=L.AttributeMap.diff(l,c)||{},Object.keys(r).length>0&&(a=a.retain(s.length()-1).retain(1,r))}}this.quill.updateContents(a,i.a.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=L.AttributeMap.diff(o,r)||{}}this.quill.deleteText(t,i.a.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,i.a.sources.USER),this.quill.setSelection(t.index,i.a.sources.SILENT),this.quill.focus()}},{key:"handleEnter",value:function(t,e){var n=this,r=Object.keys(e.format).reduce(function(t,i){return n.quill.scroll.query(i,f.Scope.BLOCK)&&!Array.isArray(e.format[i])&&(t[i]=e.format[i]),t},{}),o=(new C.a).retain(t.index).delete(t.length).insert("\n",r).retain(e.line.length()-e.offset-1).retain(1,q({},r,{"block-id":"block-".concat(Object(T.a)())}));this.quill.updateContents(o,i.a.sources.USER),this.quill.setSelection(t.index+1,i.a.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==r[t]&&(Array.isArray(e.format[t])||"code"!==t&&"link"!==t&&n.quill.format(t,e.format[t],i.a.sources.USER))})}}]),e}(p.a);function U(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=this.quill.scroll.query("code-block"),r=0===e.length?this.quill.getLines(e.index,1):this.quill.getLines(e),o=e.index,a=e.length;r.forEach(function(e,i){t?(e.insertAt(0,n.TAB),0===i?o+=n.TAB.length:a+=n.TAB.length):e.domNode.textContent.startsWith(n.TAB)&&(e.deleteAt(0,n.TAB.length),0===i?o-=n.TAB.length:a-=n.TAB.length)}),this.quill.update(i.a.sources.USER),this.quill.setSelection(o,a,i.a.sources.SILENT)}}}function F(t,e){var n;return j(n={key:t,shiftKey:e,altKey:null},"ArrowLeft"===t?"prefix":"suffix",/^$/),j(n,"handler",function(n){var r=n.index;return"ArrowRight"===t&&(r+=n.length+1),!(R(this.quill.getLeaf(r),1)[0]instanceof f.EmbedBlot&&("ArrowLeft"===t?e?this.quill.setSelection(n.index-1,n.length+1,i.a.sources.USER):this.quill.setSelection(n.index-1,i.a.sources.USER):e?this.quill.setSelection(n.index,n.length+1,i.a.sources.USER):this.quill.setSelection(n.index+n.length+1,i.a.sources.USER),1))}),n}function W(t){return{key:t[0],shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],i.a.sources.USER)}}}function V(t){var e=t.getModule("mentions");return e&&e.dialogShown}function $(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table-cell-line"],handler:function(e,n){if(V(this.quill))return!0;var r=t?"prev":"next",o=n.line;if(o[r])return!0;var a=o.parent,s=a.parent,l=s.children.indexOf(a),c=s[r];if(null!==c){if("table-row"===c.statics.blotName){var u=c.children.at(l),d=this.quill.getIndex(u);this.quill.setSelection(t?d+u.length()-1:d,0,i.a.sources.USER)}}else{var h=a.table().parent,f=this.quill.getIndex(h);t?0===f?(this.quill.updateContents((new C.a).insert("\n"),i.a.sources.USER),this.quill.setSelection(f,0,i.a.sources.USER)):this.quill.setSelection(f-1,0,i.a.sources.USER):this.quill.setSelection(f+h.length(),0,i.a.sources.USER)}return!1}}}function G(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["list"],handler:function(e,n){var r=n.format.list;if(!r.row||!r.cell)return!0;if(V(this.quill))return!0;var o=t?"prev":"next",a=n.line,s=a.parent;if(a[o]||s[o])return!0;var l=s.parent,c=l.parent,u=c.children.indexOf(l),d=c[o];if(null!==d){if("table-row"===d.statics.blotName){var h=d.children.at(u),f=this.quill.getIndex(h);this.quill.setSelection(t?f+h.length()-1:f,0,i.a.sources.USER)}}else{var p=l.table().parent,g=this.quill.getIndex(p);t?0===g?(this.quill.updateContents((new C.a).insert("\n"),i.a.sources.USER),this.quill.setSelection(g,0,i.a.sources.USER)):this.quill.setSelection(g-1,0,i.a.sources.USER):this.quill.setSelection(g+p.length(),0,i.a.sources.USER)}return!1}}}function K(t){if("string"==typeof t||"number"==typeof t)t={key:t};else{if("object"!==S(t))return null;t=_()(t,!1)}return t.shortKey&&(t[H]=t.shortKey,delete t.shortKey),t}function Z(t){var e=t.statics.blotName,n=t.formats();return!!n&&n[e]&&!!n[e].cell}z.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","+1",i.a.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","-1",i.a.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",i.a.sources.USER):null!=e.format.list&&this.quill.format("list",!1,i.a.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,i.a.sources.USER)}},tab:{key:"Tab",handler:function(t,e){if(e.format["table-cell-line"]||e.format.list&&e.format.cell&&e.format.row)return!0;if(e.format.table)return!0;this.quill.history.cutoff();var n=(new C.a).retain(t.index).delete(t.length).insert("\t");return this.quill.updateContents(n,i.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,i.a.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,i.a.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler:function(t,e){var n=R(this.quill.getLine(t.index),2)[0],r=n.formats();if(r.list&&"none"===r.list.list){for(var o=n.prev,a=null;o;)if("list"===o.statics.blotName){var s=o.formats();"none"!==s.list.list?(a=s,o=null):o=o.prev}else o=o.prev;if(a){var l=q({},r,{indent:a.indent||0,list:Object.assign({},r.list,{list:a.list.list})});return this.quill.formatLine(t.index,t.length,l,i.a.sources.USER),!1}}var c={list:!1};e.format.indent&&(c.indent=!1),this.quill.formatLine(t.index,t.length,c,i.a.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler:function(t){var e=R(this.quill.getLine(t.index),2),n=e[0],r=e[1],o=E()({},n.formats(),{list:"checked"}),a=(new C.a).retain(t.index).insert("\n",o).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,i.a.sources.USER),this.quill.setSelection(t.index+1,i.a.sources.SILENT),this.quill.scrollIntoView()}},"list shift enter":{key:"Enter",shiftKey:!0,format:["list"],handler:function(t){var e=R(this.quill.getLine(t.index),2)[0].formats(),n=R(this.quill.getLine(t.index+t.length),2),r=n[0],o=n[1];if(!e.list||"none"===e.list.list)return!0;var a=q({},e,{indent:e.indent?e.indent:0,list:Object.assign({},e.list,{list:"none"})}),s=(new C.a).retain(t.index).delete(t.length).insert("\n",e).retain(r.length()-o-1).retain(1,a);this.quill.updateContents(s,i.a.sources.USER),this.quill.setSelection(t.index+1,i.a.sources.SILENT),this.quill.focus()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=R(this.quill.getLine(t.index),2),r=n[0],o=n[1],a=(new C.a).retain(t.index).insert("\n",e.format).retain(r.length()-o-1).retain(1,{header:null});this.quill.updateContents(a,i.a.sources.USER),this.quill.setSelection(t.index+1,i.a.sources.SILENT),this.quill.scrollIntoView()}},"table-col enter":{key:"Enter",format:["table-col"],collapsed:!0,handler:function(){return!1}},"table-cell-line backspace":{key:"Backspace",format:["table-cell-line"],collapsed:!0,offset:0,handler:function(t,e){var n=R(this.quill.getLine(t.index),2)[0];return!!(n.prev&&["table-cell-line","list","list-container"].indexOf(n.prev.statics.blotName)>=0)}},"table-cell-line short backspace":{key:"Backspace",shortKey:!0,format:["table-cell-line"],collapsed:!0,offset:0,handler:function(t,e){var n=R(this.quill.getLine(t.index),2)[0];return!!(n.prev&&["table-cell-line","list","list-container"].indexOf(n.prev.statics.blotName)>=0)}},"table-cell-line delete":{key:"Delete",format:["table-cell-line"],collapsed:!0,suffix:/^$/,handler:function(){}},"table-cell-line tab":{key:"Tab",shiftKey:null,collapsed:!0,format:["table-cell-line"],handler:function(t,e){var n=e.event,r=e.line,o=this.quill.getIndex(r.parent);return n.preventDefault(),this.quill.setSelection(n.shiftKey?o-1:o+r.parent.length(),i.a.sources.USER),!1}},"table-cell-line A":{key:65,shortKey:!0,format:["table-cell-line"],handler:function(t,e){var n=e.event,r=e.line.parent;return n.preventDefault(),n.stopPropagation(),this.quill.setSelection(this.quill.getIndex(r),r.length()-1,i.a.sources.USER,!1),!1}},"list table tab":{key:"Tab",shiftKey:null,collapsed:!0,format:["list","cell","row"],handler:function(t,e){var n=e.event,r=e.line.parent.parent,o=this.quill.getIndex(r);return n.preventDefault(),this.quill.setSelection(n.shiftKey?o-1:o+r.length(),i.a.sources.USER),!1}},"list table A":{key:65,shortKey:!0,collapsed:!0,format:["list","cell","row"],handler:function(t,e){var n=e.line.parent.parent;return this.quill.setSelection(this.quill.getIndex(n),n.length()-1,i.a.sources.SILENT),!1}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){if(null==this.quill.scroll.query("list"))return!0;var n,r=e.prefix.length,o=R(this.quill.getLine(t.index),2),a=o[0],s=o[1];if(s>r)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",i.a.sources.USER),this.quill.history.cutoff();var l=(new C.a).retain(t.index-s).delete(r+1).retain(a.length()-2-s).retain(1,{list:n});return this.quill.updateContents(l,i.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,i.a.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(t){for(var e=R(this.quill.getLine(t.index),2),n=e[0],r=e[1],o=2,a=n;null!=a&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,(o-=1)<=0){var s=(new C.a).retain(t.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,i.a.sources.USER),this.quill.setSelection(t.index-1,i.a.sources.SILENT),!1}return!0}},"embed left":F("ArrowLeft",!1),"embed left shift":F("ArrowLeft",!0),"embed right":F("ArrowRight",!1),"embed right shift":F("ArrowRight",!0),"table-cell-line down":$(!1),"table-cell-line up":$(!0),"list table down":G(!1),"list table up":G(!0)}};var Y=n(3);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=function(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,X(e).call(this,t,n)),t.root.addEventListener("drop",function(e){var n;if(e.preventDefault(),document.caretRangeFromPoint)n=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!document.caretPositionFromPoint)return;var r=document.caretPositionFromPoint(e.clientX,e.clientY);(n=document.createRange()).setStart(r.offsetNode,r.offset),n.setEnd(r.offsetNode,r.offset)}var o=t.selection.normalizeNative(n),a=t.selection.normalizedToRange(o);i.upload(a,e.dataTransfer.files)}),i}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(e,t),(n=[{key:"upload",value:function(t,e){var n=this,i=[];Array.from(e).forEach(function(t){t&&n.options.mimetypes.includes(t.type)&&i.push(t)}),i.length>0&&this.options.handler.call(this,t,i)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(p.a);tt.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler:function(t,e){var n=this,i=e.map(function(t){return new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})});Promise.all(i).then(function(e){var i=e.reduce(function(t,e){return t.insert({image:e})},(new C.a).retain(t.index).delete(t.length));n.quill.updateContents(i,Y.a.sources.USER),n.quill.setSelection(t.index+e.length,Y.a.sources.SILENT)})}},i.a.register({"blots/block":r.d,"blots/block/embed":r.a,"blots/break":o.a,"blots/container":a.a,"blots/cursor":s.a,"blots/embed":l.a,"blots/inline":c.a,"blots/scroll":u.a,"blots/text":d.a,"modules/clipboard":h.a,"modules/history":y,"modules/keyboard":z,"modules/uploader":tt}),e.default=i.a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(53));!function(t){t.iterator=function(t){return new o.default(t)},t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}}(r||(r={})),e.default=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},e.prototype.deleteAt=function(e,n){t.prototype.deleteAt.call(this,e,n),this.enforceAllowedChildren()},e.prototype.formatAt=function(e,n,i,r){t.prototype.formatAt.call(this,e,n,i,r),this.enforceAllowedChildren()},e.prototype.insertAt=function(e,n,i){t.prototype.insertAt.call(this,e,n,i),this.enforceAllowedChildren()},e.prototype.optimize=function(e){t.prototype.optimize.call(this,e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},e.blotName="container",e.scope=o.default.BLOCK_BLOT,e}(n(23).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=n(29),o=n(9),a=function(){function t(t,e){this.scroll=t,this.domNode=e,r.default.blots.set(e,this),this.prev=null,this.next=null}return t.create=function(t){if(null==this.tagName)throw new i.default("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t,10).toString()===t&&(t=parseInt(t,10))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.prototype.attach=function(){},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return this.scroll.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),r.default.blots.delete(this.domNode)},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,i){var r=this.isolate(t,e);if(null!=this.scroll.query(n,o.default.BLOT)&&i)r.wrap(n,i);else if(null!=this.scroll.query(n,o.default.ATTRIBUTE)){var a=this.scroll.create(this.statics.scope);r.wrap(a),a.format(n,i)}},t.prototype.insertAt=function(t,e,n){var i=null==n?this.scroll.create("text",e):this.scroll.create(e,n),r=this.split(t);this.parent.insertBefore(i,r||void 0)},t.prototype.isolate=function(t,e){var n=this.split(t);if(null==n)throw new Error("Attempt to isolate at end");return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new i.default("Cannot wrap "+t);return n.appendChild(this),n},t.blotName="abstract",t}();e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),a=n(35),s=n(9),l=n(24),c=n(23),u=n(46),d=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.attributes=new a.default(i.domNode),i}return r(e,t),e.formats=function(t,n){var i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,n){var i=this.scroll.query(t,s.default.BLOCK);null!=i&&(i instanceof o.default?this.attributes.attribute(i,n):t!==this.statics.blotName||n?!n||t===this.statics.blotName&&this.formats()[t]===n||this.replaceWith(t,n):this.replaceWith(e.blotName))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.formatAt=function(e,n,i,r){null!=this.scroll.query(i,s.default.BLOCK)?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=this.scroll.query(n,s.default.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var r=this.split(e);if(null==r)throw new Error("Attempt to insertAt after block boundaries");var o=this.scroll.create(n,i);r.parent.insertBefore(o,r)}},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.blotName="block",e.scope=s.default.BLOCK_BLOT,e.tagName="P",e.allowedChildren=[u.default,e,l.default],e}(c.default);e.default=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){o(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(o(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(18).default);e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(18).default);e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),a=n(35),s=n(9),l=n(24),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.attributes=new a.default(i.domNode),i}return r(e,t),e.formats=function(t,n){var i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,n){var i=this;if(t!==this.statics.blotName||n){var r=this.scroll.query(t,s.default.INLINE);if(null==r)return;r instanceof o.default?this.attributes.attribute(r,n):!n||t===this.statics.blotName&&this.formats()[t]===n||this.replaceWith(t,n)}else this.children.forEach(function(t){t instanceof e||(t=t.wrap(e.blotName,!0)),i.attributes.copy(t)}),this.unwrap()},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.formatAt=function(e,n,i,r){null!=this.formats()[i]||this.scroll.query(i,s.default.ATTRIBUTE)?this.isolate(e,n).format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,i){var r=t.prototype.wrap.call(this,n,i);return r instanceof e&&this.attributes.move(r),r},e.allowedChildren=[e,l.default],e.blotName="inline",e.scope=s.default.INLINE_BLOT,e.tagName="SPAN",e}(n(23).default);e.default=c},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},l.prototype.listeners=function(t){var e=this._events[i?i+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,r=e.length,o=new Array(r);n<r;n++)o[n]=e[n].fn;return o},l.prototype.listenerCount=function(t){var e=this._events[i?i+t:t];return e?e.fn?1:e.length:0},l.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,o),!0;case 6:return u.fn.call(u.context,e,n,r,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,r);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},l.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==e||r&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?this._events[e=i?i+t:t]&&s(this,e):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,void 0!==t&&(t.exports=l)},,function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?i:r).supported=i,e.unsupported=r},function(t,e){function n(t,e,s,l){if(t===e)return t?[[0,t]]:[];if(null!=s){var c=function(t,e,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,r="number"==typeof n?null:n.newRange,o=t.length,a=e.length;if(0===i.length&&(null===r||0===r.length)){var s=i.index,l=t.slice(0,s),c=t.slice(s),u=r?r.index:null,h=s+a-o;if((null===u||u===h)&&!(h<0||h>a)){var f=e.slice(0,h);if((m=e.slice(h))===c){var p=Math.min(s,h);if((v=l.slice(0,p))===(w=f.slice(0,p)))return d(v,l.slice(p),f.slice(p),c)}}if(null===u||u===s){var g=s,m=(f=e.slice(0,g),e.slice(g));if(f===l){var b=Math.min(o-g,a-g);if((y=c.slice(c.length-b))===(k=m.slice(m.length-b)))return d(l,c.slice(0,c.length-b),m.slice(0,m.length-b),y)}}}if(i.length>0&&r&&0===r.length){var v=t.slice(0,i.index),y=t.slice(i.index+i.length);if(!(a<(p=v.length)+(b=y.length))){var w=e.slice(0,p),k=e.slice(a-b);if(v===w&&y===k)return d(v,t.slice(p,o-b),e.slice(p,a-b),y)}}return null}(t,e,s);if(c)return c}var u=r(t,e),h=t.substring(0,u);u=o(t=t.substring(u),e=e.substring(u));var f=t.substring(t.length-u),p=function(t,e){var a;if(!t)return[[1,e]];if(!e)return[[-1,t]];var s=t.length>e.length?t:e,l=t.length>e.length?e:t,c=s.indexOf(l);if(-1!==c)return a=[[1,s.substring(0,c)],[0,l],[1,s.substring(c+l.length)]],t.length>e.length&&(a[0][0]=a[2][0]=-1),a;if(1===l.length)return[[-1,t],[1,e]];var u=function(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function a(t,e,n){for(var i,a,s,l,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,d="";-1!==(u=e.indexOf(c,u+1));){var h=r(t.substring(n),e.substring(u)),f=o(t.substring(0,n),e.substring(0,u));d.length<f+h&&(d=e.substring(u-f,u)+e.substring(u,u+h),i=t.substring(0,n-f),a=t.substring(n+h),s=e.substring(0,u-f),l=e.substring(u+h))}return 2*d.length>=t.length?[i,a,s,l,d]:null}var s,l,c,u,d,h=a(n,i,Math.ceil(n.length/4)),f=a(n,i,Math.ceil(n.length/2));return h||f?(s=f?h&&h[4].length>f[4].length?h:f:h,t.length>e.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]),[l,c,u,d,s[4]]):null}(t,e);if(u){var d=u[1],h=u[3],f=u[4],p=n(u[0],u[2]),g=n(d,h);return p.concat([[0,f]],g)}return function(t,e){for(var n=t.length,r=e.length,o=Math.ceil((n+r)/2),a=o,s=2*o,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[a+1]=0,c[a+1]=0;for(var d=n-r,h=d%2!=0,f=0,p=0,g=0,m=0,b=0;b<o;b++){for(var v=-b+f;v<=b-p;v+=2){for(var y=a+v,w=(N=v===-b||v!==b&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-v;N<n&&w<r&&t.charAt(N)===e.charAt(w);)N++,w++;if(l[y]=N,N>n)p+=2;else if(w>r)f+=2;else if(h&&(x=a+d-v)>=0&&x<s&&-1!==c[x]&&N>=(_=n-c[x]))return i(t,e,N,w)}for(var k=-b+g;k<=b-m;k+=2){for(var _,x=a+k,O=(_=k===-b||k!==b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-k;_<n&&O<r&&t.charAt(n-_-1)===e.charAt(r-O-1);)_++,O++;if(c[x]=_,_>n)m+=2;else if(O>r)g+=2;else if(!h){var N;if((y=a+d-k)>=0&&y<s&&-1!==l[y]&&(w=a+(N=l[y])-y,N>=(_=n-_)))return i(t,e,N,w)}}}return[[-1,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-u),e=e.substring(0,e.length-u));return h&&p.unshift([0,h]),f&&p.push([0,f]),a(p,l),p}function i(t,e,i,r){var o=t.substring(0,i),a=e.substring(0,r),s=t.substring(i),l=e.substring(r),c=n(o,a),u=n(s,l);return c.concat(u)}function r(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(o,r)==e.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return s(t.charCodeAt(r-1))&&r--,r}function o(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return l(t.charCodeAt(t.length-r))&&r--,r}function a(t,e){t.push([0,""]);for(var n,i=0,s=0,l=0,d="",h="";i<t.length;)if(i<t.length-1&&!t[i][1])t.splice(i,1);else switch(t[i][0]){case 1:l++,h+=t[i][1],i++;break;case-1:s++,d+=t[i][1],i++;break;case 0:var f=i-l-s-1;if(e){if(f>=0&&u(t[f][1])){var p=t[f][1].slice(-1);if(t[f][1]=t[f][1].slice(0,-1),d=p+d,h=p+h,!t[f][1]){t.splice(f,1),i--;var g=f-1;t[g]&&1===t[g][0]&&(l++,h=t[g][1]+h,g--),t[g]&&-1===t[g][0]&&(s++,d=t[g][1]+d,g--),f=g}}c(t[i][1])&&(p=t[i][1].charAt(0),t[i][1]=t[i][1].slice(1),d+=p,h+=p)}if(i<t.length-1&&!t[i][1]){t.splice(i,1);break}if(d.length>0||h.length>0){d.length>0&&h.length>0&&(0!==(n=r(h,d))&&(f>=0?t[f][1]+=h.substring(0,n):(t.splice(0,0,[0,h.substring(0,n)]),i++),h=h.substring(n),d=d.substring(n)),0!==(n=o(h,d))&&(t[i][1]=h.substring(h.length-n)+t[i][1],h=h.substring(0,h.length-n),d=d.substring(0,d.length-n)));var m=l+s;0===d.length&&0===h.length?(t.splice(i-m,m),i-=m):0===d.length?(t.splice(i-m,m,[1,h]),i=i-m+1):0===h.length?(t.splice(i-m,m,[-1,d]),i=i-m+1):(t.splice(i-m,m,[-1,d],[1,h]),i=i-m+2)}0!==i&&0===t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,l=0,s=0,d="",h=""}""===t[t.length-1][1]&&t.pop();var b=!1;for(i=1;i<t.length-1;)0===t[i-1][0]&&0===t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)===t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),b=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),b=!0)),i++;b&&a(t,e)}function s(t){return t>=55296&&t<=56319}function l(t){return t>=56320&&t<=57343}function c(t){return l(t.charCodeAt(0))}function u(t){return s(t.charCodeAt(t.length-1))}function d(t,e,n,i){return u(t)||c(i)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[0,t],[-1,e],[1,n],[0,i]])}function h(t,e,i){return n(t,e,i,!0)}h.INSERT=1,h.DELETE=-1,h.EQUAL=0,t.exports=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(14)),a=i(n(5));!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=a.default(!0,{},e);for(var r in n||(i=Object.keys(i).reduce(function(t,e){return null!=i[e]&&(t[e]=i[e]),t},{})),t)void 0!==t[r]&&void 0===e[r]&&(i[r]=t[r]);return Object.keys(i).length>0?i:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return o.default(t[i],e[i])||(n[i]=void 0===e[i]?null:e[i]),n},{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var n=Object.keys(e).reduce(function(n,i){return e[i]!==t[i]&&void 0!==t[i]&&(n[i]=e[i]),n},{});return Object.keys(t).reduce(function(n,i){return t[i]!==e[i]&&void 0===e[i]&&(n[i]=null),n},n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var i=Object.keys(e).reduce(function(n,i){return void 0===t[i]&&(n[i]=e[i]),n},{});return Object.keys(i).length>0?i:void 0}}}(r||(r={})),e.default=r},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(40)),o=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=r.default.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:o.insert="string"==typeof e.insert?e.insert.substr(n,t):e.insert,o}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=null,this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.at=function(t){for(var e=this.iterator(),n=e();n&&t>0;)t-=1,n=e();return n},t.prototype.contains=function(t){for(var e=this.iterator(),n=e();n;){if(n===t)return!0;n=e()}return!1},t.prototype.indexOf=function(t){for(var e=this.iterator(),n=e(),i=0;n;){if(n===t)return i;i+=1,n=e()}return-1},t.prototype.insertBefore=function(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n=this.iterator(),i=n();i;){var r=i.length();if(t<r||e&&t===r&&(null==i.next||0!==i.next.length()))return[i,t];t-=r,i=n()}return[null,0]},t.prototype.forEach=function(t){for(var e=this.iterator(),n=e();n;)t(n),n=e()},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var i=this.find(t),r=t-i[1],o=this.iterator(i[0]),a=o();a&&r<t+e;){var s=a.length();t>r?n(a,t-r,Math.min(e,r+s-t)):n(a,0,Math.min(s,t+e-r)),r+=s,a=o()}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n=this.iterator(),i=n();i;)e=t(e,i),i=n();return e},t}();e.default=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t,e){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,r){0===e&&n===this.length()?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},e}(n(24).default);e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),a=n(9),s=n(41),l=n(23),c=n(43),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=function(t){function e(e,n){var i=t.call(this,null,n)||this;return i.registry=e,i.scroll=i,i.build(),i.observer=new MutationObserver(function(t){i.update(t)}),i.observer.observe(i.domNode,u),i.attach(),i}return r(e,t),e.prototype.create=function(t,e){return this.registry.create(this,t,e)},e.prototype.find=function(t,e){return void 0===e&&(e=!1),this.registry.find(t,e)},e.prototype.query=function(t,e){return void 0===e&&(e=a.default.ANY),this.registry.query(t,e)},e.prototype.register=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.registry).register.apply(t,e)},e.prototype.build=function(){null!=this.scroll&&t.prototype.build.call(this)},e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,r){this.update(),t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var r=n.mutationsMap||new WeakMap,o=Array.from(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(r.has(t.domNode)||r.set(t.domNode,[]),e&&a(t.parent))},s=function(t){r.has(t.domNode)&&(t instanceof l.default&&t.children.forEach(s),r.delete(t.domNode),t.optimize(n))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(t){var e=i.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(i.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach(function(t){var e=i.find(t,!1);a(e,!1),e instanceof l.default&&e.children.forEach(function(t){a(t,!1)})})):"attributes"===t.type&&a(e.prev)),a(e))}),this.children.forEach(s),o=(c=Array.from(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),e=e||this.observer.takeRecords();var r=new WeakMap;e.map(function(t){var e=o.default.find(t.target,!0);return null==e?null:r.has(e.domNode)?(r.get(e.domNode).push(t),null):(r.set(e.domNode,[t]),e)}).forEach(function(t){null!=t&&t!==i&&r.has(t.domNode)&&t.update(r.get(t.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&t.prototype.update.call(this,r.get(this.domNode),n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild=c.default,e.allowedChildren=[c.default,s.default],e.scope=a.default.BLOCK_BLOT,e.tagName="DIV",e}(l.default);e.default=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),a=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.text=i.statics.value(i.domNode),i}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){return t.data},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=o.default.INLINE_BLOT,e}(n(24).default);e.default=a},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function o(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(t){return"string"==typeof t&&a.test(t)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));e.a=function(t,e,n){var i=(t=t||{}).random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n}(i)}},function(t,e,n){(function(t,i){var r;(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",c="[object Array]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",b="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",k="[object Symbol]",_="[object WeakMap]",x="[object ArrayBuffer]",O="[object DataView]",N="[object Float32Array]",E="[object Float64Array]",L="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",q="[object Uint16Array]",j="[object Uint32Array]",S=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,I=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,P=/[&<>"']/g,D=RegExp(B.source),M=RegExp(P.source),H=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,G=RegExp($.source),K=/^\s+|\s+$/g,Z=/^\s+/,Y=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,it=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,dt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+ft+"]",gt="["+ht+"]",mt="\\d+",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",vt="[^\\ud800-\\udfff"+ft+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",yt="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",kt="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",xt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ot="(?:"+bt+"|"+vt+")",Nt="(?:"+xt+"|"+vt+")",Et="(?:"+gt+"|"+yt+")?",Lt="[\\ufe0e\\ufe0f]?"+Et+"(?:\\u200d(?:"+[wt,kt,_t].join("|")+")[\\ufe0e\\ufe0f]?"+Et+")*",Ct="(?:"+["[\\u2700-\\u27bf]",kt,_t].join("|")+")"+Lt,At="(?:"+[wt+gt+"?",gt,kt,_t,"[\\ud800-\\udfff]"].join("|")+")",Tt=RegExp("['\u2019]","g"),qt=RegExp(gt,"g"),jt=RegExp(yt+"(?="+yt+")|"+At+Lt,"g"),St=RegExp([xt+"?"+bt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[pt,xt,"$"].join("|")+")",Nt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[pt,xt+Ot,"$"].join("|")+")",xt+"?"+Ot+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,Ct].join("|"),"g"),Rt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),It=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pt=-1,Dt={};Dt[N]=Dt[E]=Dt[L]=Dt[C]=Dt[A]=Dt[T]=Dt["[object Uint8ClampedArray]"]=Dt[q]=Dt[j]=!0,Dt[l]=Dt[c]=Dt[x]=Dt[u]=Dt[O]=Dt[d]=Dt[h]=Dt[f]=Dt[g]=Dt[m]=Dt[b]=Dt[v]=Dt[y]=Dt[w]=Dt[_]=!1;var Mt={};Mt[l]=Mt[c]=Mt[x]=Mt[O]=Mt[u]=Mt[d]=Mt[N]=Mt[E]=Mt[L]=Mt[C]=Mt[A]=Mt[g]=Mt[m]=Mt[b]=Mt[v]=Mt[y]=Mt[w]=Mt[k]=Mt[T]=Mt["[object Uint8ClampedArray]"]=Mt[q]=Mt[j]=!0,Mt[h]=Mt[f]=Mt[_]=!1;var Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=parseFloat,Ut=parseInt,Ft="object"==typeof t&&t&&t.Object===Object&&t,Wt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Ft||Wt||Function("return this")(),$t=e&&!e.nodeType&&e,Gt=$t&&"object"==typeof i&&i&&!i.nodeType&&i,Kt=Gt&&Gt.exports===$t,Zt=Kt&&Ft.process,Yt=function(){try{return Gt&&Gt.require&&Gt.require("util").types||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),Qt=Yt&&Yt.isArrayBuffer,Xt=Yt&&Yt.isDate,Jt=Yt&&Yt.isMap,te=Yt&&Yt.isRegExp,ee=Yt&&Yt.isSet,ne=Yt&&Yt.isTypedArray;function ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function ce(t,e){return!(null==t||!t.length)&&ye(t,e,0)>-1}function ue(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function de(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function he(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function fe(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function pe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ge(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var me=xe("length");function be(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function ve(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ye(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):ve(t,ke,n)}function we(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function ke(t){return t!=t}function _e(t,e){var n=null==t?0:t.length;return n?Ee(t,e)/n:NaN}function xe(t){return function(e){return null==e?void 0:e[t]}}function Oe(t){return function(e){return null==t?void 0:t[e]}}function Ne(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Ee(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Le(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Ce(t){return function(e){return t(e)}}function Ae(t,e){return de(e,function(e){return t[e]})}function Te(t,e){return t.has(e)}function qe(t,e){for(var n=-1,i=t.length;++n<i&&ye(e,t[n],0)>-1;);return n}function je(t,e){for(var n=t.length;n--&&ye(e,t[n],0)>-1;);return n}function Se(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Re=Oe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ie=Oe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Be(t){return"\\"+Ht[t]}function Pe(t){return Rt.test(t)}function De(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function Me(t,e){return function(n){return t(e(n))}}function He(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function ze(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Ue(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Fe(t){return Pe(t)?function(t){for(var e=jt.lastIndex=0;jt.test(t);)++e;return e}(t):me(t)}function We(t){return Pe(t)?function(t){return t.match(jt)||[]}(t):function(t){return t.split("")}(t)}var Ve=Oe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),$e=function t(e){var n,i=(e=null==e?Vt:$e.defaults(Vt.Object(),e,$e.pick(Vt,Bt))).Array,r=e.Date,ht=e.Error,ft=e.Function,pt=e.Math,gt=e.Object,mt=e.RegExp,bt=e.String,vt=e.TypeError,yt=i.prototype,wt=gt.prototype,kt=e["__core-js_shared__"],_t=ft.prototype.toString,xt=wt.hasOwnProperty,Ot=0,Nt=(n=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Et=wt.toString,Lt=_t.call(gt),Ct=Vt._,At=mt("^"+_t.call(xt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=Kt?e.Buffer:void 0,Rt=e.Symbol,Ht=e.Uint8Array,Ft=jt?jt.allocUnsafe:void 0,Wt=Me(gt.getPrototypeOf,gt),$t=gt.create,Gt=wt.propertyIsEnumerable,Zt=yt.splice,Yt=Rt?Rt.isConcatSpreadable:void 0,me=Rt?Rt.iterator:void 0,Oe=Rt?Rt.toStringTag:void 0,Ge=function(){try{var t=Qr(gt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ke=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,Ze=r&&r.now!==Vt.Date.now&&r.now,Ye=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Qe=pt.ceil,Xe=pt.floor,Je=gt.getOwnPropertySymbols,tn=jt?jt.isBuffer:void 0,en=e.isFinite,nn=yt.join,rn=Me(gt.keys,gt),on=pt.max,an=pt.min,sn=r.now,ln=e.parseInt,cn=pt.random,un=yt.reverse,dn=Qr(e,"DataView"),hn=Qr(e,"Map"),fn=Qr(e,"Promise"),pn=Qr(e,"Set"),gn=Qr(e,"WeakMap"),mn=Qr(gt,"create"),bn=gn&&new gn,vn={},yn=Lo(dn),wn=Lo(hn),kn=Lo(fn),_n=Lo(pn),xn=Lo(gn),On=Rt?Rt.prototype:void 0,Nn=On?On.valueOf:void 0,En=On?On.toString:void 0;function Ln(t){if(Wa(t)&&!Sa(t)&&!(t instanceof qn)){if(t instanceof Tn)return t;if(xt.call(t,"__wrapped__"))return Co(t)}return new Tn(t)}var Cn=function(){function t(){}return function(e){if(!Fa(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function An(){}function Tn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rn;++e<n;)this.add(t[e])}function Bn(t){var e=this.__data__=new Sn(t);this.size=e.size}function Pn(t,e){var n=Sa(t),i=!n&&ja(t),r=!n&&!i&&Pa(t),o=!n&&!i&&!r&&Xa(t),a=n||i||r||o,s=a?Le(t.length,bt):[],l=s.length;for(var c in t)!e&&!xt.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ro(c,l))||s.push(c);return s}function Dn(t){var e=t.length;return e?t[Ri(0,e-1)]:void 0}function Mn(t,e){return _o(gr(t),Kn(e,0,t.length))}function Hn(t){return _o(gr(t))}function zn(t,e,n){(void 0!==n&&!Aa(t[e],n)||void 0===n&&!(e in t))&&$n(t,e,n)}function Un(t,e,n){var i=t[e];xt.call(t,e)&&Aa(i,n)&&(void 0!==n||e in t)||$n(t,e,n)}function Fn(t,e){for(var n=t.length;n--;)if(Aa(t[n][0],e))return n;return-1}function Wn(t,e,n,i){return Jn(t,function(t,r,o){e(i,t,n(t),o)}),i}function Vn(t,e){return t&&mr(e,ws(e),t)}function $n(t,e,n){"__proto__"==e&&Ge?Ge(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Gn(t,e){for(var n=-1,r=e.length,o=i(r),a=null==t;++n<r;)o[n]=a?void 0:gs(t,e[n]);return o}function Kn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,i,r,o){var a,s=1&e,c=2&e,h=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!Fa(t))return t;var _=Sa(t);if(_){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&xt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return gr(t,a)}else{var S=to(t),R=S==f||S==p;if(Pa(t))return cr(t,s);if(S==b||S==l||R&&!r){if(a=c||R?{}:no(t),!s)return c?function(t,e){return mr(t,Jr(t),e)}(t,function(t,e){return t&&mr(e,ks(e),t)}(a,t)):function(t,e){return mr(t,Xr(t),e)}(t,Vn(a,t))}else{if(!Mt[S])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case x:return ur(t);case u:case d:return new i(+t);case O:return function(t,e){var n=e?ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case E:case L:case C:case A:case T:case"[object Uint8ClampedArray]":case q:case j:return dr(t,n);case g:return new i;case m:case w:return new i(t);case v:return function(t){var e=new t.constructor(t.source,it.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new i;case k:return Nn?gt(Nn.call(t)):{}}}(t,S,s)}}o||(o=new Bn);var I=o.get(t);if(I)return I;if(o.set(t,a),Za(t))return t.forEach(function(i){a.add(Zn(i,e,n,i,t,o))}),a;if(Va(t))return t.forEach(function(i,r){a.set(r,Zn(i,e,n,r,t,o))}),a;var B=_?void 0:(h?c?Wr:Fr:c?ks:ws)(t);return oe(B||t,function(i,r){B&&(i=t[r=i]),Un(a,r,Zn(i,e,n,r,t,o))}),a}function Yn(t,e,n){var i=n.length;if(null==t)return!i;for(t=gt(t);i--;){var r=n[i],o=t[r];if(void 0===o&&!(r in t)||!(0,e[r])(o))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new vt(o);return vo(function(){t.apply(void 0,n)},e)}function Xn(t,e,n,i){var r=-1,o=ce,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=de(e,Ce(n))),i?(o=ue,a=!1):e.length>=200&&(o=Te,a=!1,e=new In(e));t:for(;++r<s;){var u=t[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,a&&d==d){for(var h=c;h--;)if(e[h]===d)continue t;l.push(u)}else o(e,d,i)||l.push(u)}return l}Ln.templateSettings={escape:H,evaluate:z,interpolate:U,variable:"",imports:{_:Ln}},(Ln.prototype=An.prototype).constructor=Ln,(Tn.prototype=Cn(An.prototype)).constructor=Tn,(qn.prototype=Cn(An.prototype)).constructor=qn,jn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},jn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},jn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return xt.call(e,t)?e[t]:void 0},jn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:xt.call(e,t)},jn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},Sn.prototype.clear=function(){this.__data__=[],this.size=0},Sn.prototype.delete=function(t){var e=this.__data__,n=Fn(e,t);return!(n<0||(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,0))},Sn.prototype.get=function(t){var e=this.__data__,n=Fn(e,t);return n<0?void 0:e[n][1]},Sn.prototype.has=function(t){return Fn(this.__data__,t)>-1},Sn.prototype.set=function(t,e){var n=this.__data__,i=Fn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new jn,map:new(hn||Sn),string:new jn}},Rn.prototype.delete=function(t){var e=Zr(this,t).delete(t);return this.size-=e?1:0,e},Rn.prototype.get=function(t){return Zr(this,t).get(t)},Rn.prototype.has=function(t){return Zr(this,t).has(t)},Rn.prototype.set=function(t,e){var n=Zr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},In.prototype.add=In.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},In.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.clear=function(){this.__data__=new Sn,this.size=0},Bn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Bn.prototype.get=function(t){return this.__data__.get(t)},Bn.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Sn){var i=n.__data__;if(!hn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rn(i)}return n.set(t,e),this.size=n.size,this};var Jn=yr(si),ti=yr(li,!0);function ei(t,e){var n=!0;return Jn(t,function(t,i,r){return n=!!e(t,i,r)}),n}function ni(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(void 0===s?a==a&&!Qa(a):n(a,s)))var s=a,l=o}return l}function ii(t,e){var n=[];return Jn(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ri(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=io),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ri(s,e-1,n,i,r):he(r,s):i||(r[r.length]=s)}return r}var oi=wr(),ai=wr(!0);function si(t,e){return t&&oi(t,e,ws)}function li(t,e){return t&&ai(t,e,ws)}function ci(t,e){return le(e,function(e){return Ha(t[e])})}function ui(t,e){for(var n=0,i=(e=or(e,t)).length;null!=t&&n<i;)t=t[Eo(e[n++])];return n&&n==i?t:void 0}function di(t,e,n){var i=e(t);return Sa(t)?i:he(i,n(t))}function hi(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Oe&&Oe in gt(t)?function(t){var e=xt.call(t,Oe),n=t[Oe];try{t[Oe]=void 0;var i=!0}catch(o){}var r=Et.call(t);return i&&(e?t[Oe]=n:delete t[Oe]),r}(t):function(t){return Et.call(t)}(t)}function fi(t,e){return t>e}function pi(t,e){return null!=t&&xt.call(t,e)}function gi(t,e){return null!=t&&e in gt(t)}function mi(t,e,n){for(var r=n?ue:ce,o=t[0].length,a=t.length,s=a,l=i(a),c=1/0,u=[];s--;){var d=t[s];s&&e&&(d=de(d,Ce(e))),c=an(d.length,c),l[s]=!n&&(e||o>=120&&d.length>=120)?new In(s&&d):void 0}d=t[0];var h=-1,f=l[0];t:for(;++h<o&&u.length<c;){var p=d[h],g=e?e(p):p;if(p=n||0!==p?p:0,!(f?Te(f,g):r(u,g,n))){for(s=a;--s;){var m=l[s];if(!(m?Te(m,g):r(t[s],g,n)))continue t}f&&f.push(g),u.push(p)}}return u}function bi(t,e,n){var i=null==(t=po(t,e=or(e,t)))?t:t[Eo(Mo(e))];return null==i?void 0:ie(i,t,n)}function vi(t){return Wa(t)&&hi(t)==l}function yi(t,e,n,i,r){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=Sa(t),s=Sa(e),f=a?c:to(t),p=s?c:to(e),_=(f=f==l?b:f)==b,N=(p=p==l?b:p)==b,E=f==p;if(E&&Pa(t)){if(!Pa(e))return!1;a=!0,_=!1}if(E&&!_)return o||(o=new Bn),a||Xa(t)?zr(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case u:case d:case m:return Aa(+t,+e);case h:return t.name==e.name&&t.message==e.message;case v:case w:return t==e+"";case g:var s=De;case y:if(s||(s=ze),t.size!=e.size&&!(1&i))return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var c=zr(s(t),s(e),i,r,o,a);return a.delete(t),c;case k:if(Nn)return Nn.call(t)==Nn.call(e)}return!1}(t,e,f,n,i,r,o);if(!(1&n)){var L=_&&xt.call(t,"__wrapped__"),C=N&&xt.call(e,"__wrapped__");if(L||C){var A=L?t.value():t,T=C?e.value():e;return o||(o=new Bn),r(A,T,n,i,o)}}return!!E&&(o||(o=new Bn),function(t,e,n,i,r,o){var a=1&n,s=Fr(t),l=s.length;if(l!=Fr(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:xt.call(e,u)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var h=!0;o.set(t,e),o.set(e,t);for(var f=a;++c<l;){var p=t[u=s[c]],g=e[u];if(i)var m=a?i(g,p,u,e,t,o):i(p,g,u,t,e,o);if(!(void 0===m?p===g||r(p,g,n,i,o):m)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var b=t.constructor,v=e.constructor;b==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,i,r,o))}(t,e,n,i,yi,r))}function wi(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=gt(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var l=(s=n[r])[0],c=t[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var d=new Bn;if(i)var h=i(c,u,l,t,e,d);if(!(void 0===h?yi(u,c,3,i,d):h))return!1}}return!0}function ki(t){return!(!Fa(t)||(e=t,Nt&&Nt in e))&&(Ha(t)?At:at).test(Lo(t));var e}function _i(t){return"function"==typeof t?t:null==t?$s:"object"==typeof t?Sa(t)?Li(t[0],t[1]):Ei(t):el(t)}function xi(t){if(!co(t))return rn(t);var e=[];for(var n in gt(t))xt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Oi(t,e){return t<e}function Ni(t,e){var n=-1,r=Ia(t)?i(t.length):[];return Jn(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Ei(t){var e=Yr(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||wi(n,t,e)}}function Li(t,e){return ao(t)&&uo(e)?ho(Eo(t),e):function(n){var i=gs(n,t);return void 0===i&&i===e?ms(n,t):yi(e,i,3)}}function Ci(t,e,n,i,r){t!==e&&oi(e,function(o,a){if(Fa(o))r||(r=new Bn),function(t,e,n,i,r,o,a){var s=mo(t,n),l=mo(e,n),c=a.get(l);if(c)zn(t,n,c);else{var u=o?o(s,l,n+"",t,e,a):void 0,d=void 0===u;if(d){var h=Sa(l),f=!h&&Pa(l),p=!h&&!f&&Xa(l);u=l,h||f||p?Sa(s)?u=s:Ba(s)?u=gr(s):f?(d=!1,u=cr(l,!0)):p?(d=!1,u=dr(l,!0)):u=[]:Ga(l)||ja(l)?(u=s,ja(s)?u=as(s):Fa(s)&&!Ha(s)||(u=no(l))):d=!1}d&&(a.set(l,u),r(u,l,i,o,a),a.delete(l)),zn(t,n,u)}}(t,e,a,n,Ci,i,r);else{var s=i?i(mo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),zn(t,a,s)}},ks)}function Ai(t,e){var n=t.length;if(n)return ro(e+=e<0?n:0,n)?t[e]:void 0}function Ti(t,e,n){var i=-1;return e=de(e.length?e:[$s],Ce(Kr())),function(t,e){var i=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=hr(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)});i--;)t[i]=t[i].value;return t}(Ni(t,function(t,n,r){return{criteria:de(e,function(e){return e(t)}),index:++i,value:t}}))}function qi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ui(t,a);n(s,a)&&Mi(o,or(a,t),s)}return o}function ji(t,e,n,i){var r=i?we:ye,o=-1,a=e.length,s=t;for(t===e&&(e=gr(e)),n&&(s=de(t,Ce(n)));++o<a;)for(var l=0,c=e[o],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==t&&Zt.call(s,l,1),Zt.call(t,l,1);return t}function Si(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;ro(r)?Zt.call(t,r,1):Qi(t,r)}}return t}function Ri(t,e){return t+Xe(cn()*(e-t+1))}function Ii(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Xe(e/2))&&(t+=t)}while(e);return n}function Bi(t,e){return yo(fo(t,e,$s),t+"")}function Pi(t){return Dn(As(t))}function Di(t,e){var n=As(t);return _o(n,Kn(e,0,n.length))}function Mi(t,e,n,i){if(!Fa(t))return t;for(var r=-1,o=(e=or(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var l=Eo(e[r]),c=n;if(r!=a){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=Fa(u)?u:ro(e[r+1])?[]:{})}Un(s,l,c),s=s[l]}return t}var Hi=bn?function(t,e){return bn.set(t,e),t}:$s,zi=Ge?function(t,e){return Ge(t,"toString",{configurable:!0,enumerable:!1,value:Fs(e),writable:!0})}:$s;function Ui(t){return _o(As(t))}function Fi(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Wi(t,e){var n;return Jn(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function Vi(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Qa(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return $i(t,e,$s,n)}function $i(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!=e,s=null===e,l=Qa(e),c=void 0===e;r<o;){var u=Xe((r+o)/2),d=n(t[u]),h=void 0!==d,f=null===d,p=d==d,g=Qa(d);if(a)var m=i||p;else m=c?p&&(i||h):s?p&&h&&(i||!f):l?p&&h&&!f&&(i||!g):!f&&!g&&(i?d<=e:d<e);m?r=u+1:o=u}return an(o,4294967294)}function Gi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Aa(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function Ki(t){return"number"==typeof t?t:Qa(t)?NaN:+t}function Zi(t){if("string"==typeof t)return t;if(Sa(t))return de(t,Zi)+"";if(Qa(t))return En?En.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Yi(t,e,n){var i=-1,r=ce,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=ue;else if(o>=200){var c=e?null:Ir(t);if(c)return ze(c);a=!1,r=Te,l=new In}else l=e?[]:s;t:for(;++i<o;){var u=t[i],d=e?e(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue t;e&&l.push(d),s.push(u)}else r(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function Qi(t,e){return null==(t=po(t,e=or(e,t)))||delete t[Eo(Mo(e))]}function Xi(t,e,n,i){return Mi(t,e,n(ui(t,e)),i)}function Ji(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Fi(t,i?0:o,i?o+1:r):Fi(t,i?o+1:0,i?r:o)}function tr(t,e){var n=t;return n instanceof qn&&(n=n.value()),fe(e,function(t,e){return e.func.apply(e.thisArg,he([t],e.args))},n)}function er(t,e,n){var r=t.length;if(r<2)return r?Yi(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],l=-1;++l<r;)l!=o&&(a[o]=Xn(a[o]||s,t[l],e,n));return Yi(ri(a,1),e,n)}function nr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;)n(a,t[i],i<o?e[i]:void 0);return a}function ir(t){return Ba(t)?t:[]}function rr(t){return"function"==typeof t?t:$s}function or(t,e){return Sa(t)?t:ao(t,e)?[t]:No(ss(t))}var ar=Bi;function sr(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Fi(t,e,n)}var lr=Ke||function(t){return Vt.clearTimeout(t)};function cr(t,e){if(e)return t.slice();var n=t.length,i=Ft?Ft(n):new t.constructor(n);return t.copy(i),i}function ur(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function dr(t,e){var n=e?ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function hr(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=Qa(t),a=void 0!==e,s=null===e,l=e==e,c=Qa(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function fr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,l=-1,c=e.length,u=on(a-s,0),d=i(c+u),h=!r;++l<c;)d[l]=e[l];for(;++o<s;)(h||o<a)&&(d[n[o]]=t[o]);for(;u--;)d[l++]=t[o++];return d}function pr(t,e,n,r){for(var o=-1,a=t.length,s=-1,l=n.length,c=-1,u=e.length,d=on(a-l,0),h=i(d+u),f=!r;++o<d;)h[o]=t[o];for(var p=o;++c<u;)h[p+c]=e[c];for(;++s<l;)(f||o<a)&&(h[p+n[s]]=t[o++]);return h}function gr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function mr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?$n(n,s,l):Un(n,s,l)}return n}function br(t,e){return function(n,i){var r=Sa(n)?re:Wn,o=e?e():{};return r(n,t,Kr(i,2),o)}}function vr(t){return Bi(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&oo(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=gt(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function yr(t,e){return function(n,i){if(null==n)return n;if(!Ia(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=gt(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function wr(t){return function(e,n,i){for(var r=-1,o=gt(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function kr(t){return function(e){var n=Pe(e=ss(e))?We(e):void 0,i=n?n[0]:e.charAt(0),r=n?sr(n,1).join(""):e.slice(1);return i[t]()+r}}function _r(t){return function(e){return fe(Hs(js(e).replace(Tt,"")),t,"")}}function xr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Cn(t.prototype),i=t.apply(n,e);return Fa(i)?i:n}}function Or(t){return function(e,n,i){var r=gt(e);if(!Ia(e)){var o=Kr(n,3);e=ws(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}}function Nr(t){return Ur(function(e){var n=e.length,i=n,r=Tn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new vt(o);if(r&&!s&&"wrapper"==$r(a))var s=new Tn([],!0)}for(i=s?i:n;++i<n;){var l=$r(a=e[i]),c="wrapper"==l?Vr(a):void 0;s=c&&so(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[$r(c[0])].apply(s,c[3]):1==a.length&&so(a)?s[l]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&Sa(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Er(t,e,n,r,o,a,s,l,c,u){var d=128&e,h=1&e,f=2&e,p=24&e,g=512&e,m=f?void 0:xr(t);return function b(){for(var v=arguments.length,y=i(v),w=v;w--;)y[w]=arguments[w];if(p)var k=Gr(b),_=Se(y,k);if(r&&(y=fr(y,r,o,p)),a&&(y=pr(y,a,s,p)),v-=_,p&&v<u){var x=He(y,k);return Sr(t,e,Er,b.placeholder,n,y,x,l,c,u-v)}var O=h?n:this,N=f?O[t]:t;return v=y.length,l?y=go(y,l):g&&v>1&&y.reverse(),d&&c<v&&(y.length=c),this&&this!==Vt&&this instanceof b&&(N=m||xr(N)),N.apply(O,y)}}function Lr(t,e){return function(n,i){return function(t,e,n,i){return si(t,function(t,r,o){e(i,n(t),r,o)}),i}(n,t,e(i),{})}}function Cr(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Zi(n),i=Zi(i)):(n=Ki(n),i=Ki(i)),r=t(n,i)}return r}}function Ar(t){return Ur(function(e){return e=de(e,Ce(Kr())),Bi(function(n){var i=this;return t(e,function(t){return ie(t,i,n)})})})}function Tr(t,e){var n=(e=void 0===e?" ":Zi(e)).length;if(n<2)return n?Ii(e,t):e;var i=Ii(e,Qe(t/Fe(e)));return Pe(e)?sr(We(i),0,t).join(""):i.slice(0,t)}function qr(t){return function(e,n,r){return r&&"number"!=typeof r&&oo(e,n,r)&&(n=r=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,r){for(var o=-1,a=on(Qe((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:ns(r),t)}}function jr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Sr(t,e,n,i,r,o,a,s,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var d=[t,e,r,u?o:void 0,u?a:void 0,u?void 0:o,u?void 0:a,s,l,c],h=n.apply(void 0,d);return so(t)&&bo(h,d),h.placeholder=i,wo(h,t,e)}function Rr(t){var e=pt[t];return function(t,n){if(t=os(t),n=null==n?0:an(is(n),292)){var i=(ss(t)+"e").split("e");return+((i=(ss(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Ir=pn&&1/ze(new pn([,-0]))[1]==1/0?function(t){return new pn(t)}:Qs;function Br(t){return function(e){var n=to(e);return n==g?De(e):n==y?Ue(e):function(t,e){return de(e,function(e){return[e,t[e]]})}(e,t(e))}}function Pr(t,e,n,r,s,l,c,u){var d=2&e;if(!d&&"function"!=typeof t)throw new vt(o);var h=r?r.length:0;if(h||(e&=-97,r=s=void 0),c=void 0===c?c:on(is(c),0),u=void 0===u?u:is(u),h-=s?s.length:0,64&e){var f=r,p=s;r=s=void 0}var g=d?void 0:Vr(t),m=[t,e,n,r,s,f,p,l,c,u];if(g&&function(t,e){var n=t[1],i=e[1],r=n|i;if(!(r<131||128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n))return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var o=e[3];if(o){var s=t[3];t[3]=s?fr(s,o,e[4]):o,t[4]=s?He(t[3],a):e[4]}(o=e[5])&&(t[5]=(s=t[5])?pr(s,o,e[6]):o,t[6]=s?He(t[5],a):e[6]),(o=e[7])&&(t[7]=o),128&i&&(t[8]=null==t[8]?e[8]:an(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(m,g),t=m[0],e=m[1],n=m[2],r=m[3],s=m[4],!(u=m[9]=void 0===m[9]?d?0:t.length:on(m[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var r=xr(t);return function o(){for(var a=arguments.length,s=i(a),l=a,c=Gr(o);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:He(s,c);return(a-=u.length)<n?Sr(t,e,Er,o.placeholder,void 0,s,u,void 0,void 0,n-a):ie(this&&this!==Vt&&this instanceof o?r:t,this,s)}}(t,e,u):32!=e&&33!=e||s.length?Er.apply(void 0,m):function(t,e,n,r){var o=1&e,a=xr(t);return function e(){for(var s=-1,l=arguments.length,c=-1,u=r.length,d=i(u+l),h=this&&this!==Vt&&this instanceof e?a:t;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++s];return ie(h,o?n:this,d)}}(t,e,n,r);else var b=function(t,e,n){var i=1&e,r=xr(t);return function e(){return(this&&this!==Vt&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return wo((g?Hi:bo)(b,m),t,e)}function Dr(t,e,n,i){return void 0===t||Aa(t,wt[n])&&!xt.call(i,n)?e:t}function Mr(t,e,n,i,r,o){return Fa(t)&&Fa(e)&&(o.set(e,t),Ci(t,e,void 0,Mr,o),o.delete(e)),t}function Hr(t){return Ga(t)?void 0:t}function zr(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,d=!0,h=2&n?new In:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var f=t[u],p=e[u];if(i)var g=a?i(p,f,u,e,t,o):i(f,p,u,t,e,o);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!ge(e,function(t,e){if(!Te(h,e)&&(f===t||r(f,t,n,i,o)))return h.push(e)})){d=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Ur(t){return yo(fo(t,void 0,Ro),t+"")}function Fr(t){return di(t,ws,Xr)}function Wr(t){return di(t,ks,Jr)}var Vr=bn?function(t){return bn.get(t)}:Qs;function $r(t){for(var e=t.name+"",n=vn[e],i=xt.call(vn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Gr(t){return(xt.call(Ln,"placeholder")?Ln:t).placeholder}function Kr(){var t=Ln.iteratee||Gs;return t=t===Gs?_i:t,arguments.length?t(arguments[0],arguments[1]):t}function Zr(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Yr(t){for(var e=ws(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,uo(r)]}return e}function Qr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ki(n)?n:void 0}var Xr=Je?function(t){return null==t?[]:(t=gt(t),le(Je(t),function(e){return Gt.call(t,e)}))}:rl,Jr=Je?function(t){for(var e=[];t;)he(e,Xr(t)),t=Wt(t);return e}:rl,to=hi;function eo(t,e,n){for(var i=-1,r=(e=or(e,t)).length,o=!1;++i<r;){var a=Eo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ua(r)&&ro(a,r)&&(Sa(t)||ja(t))}function no(t){return"function"!=typeof t.constructor||co(t)?{}:Cn(Wt(t))}function io(t){return Sa(t)||ja(t)||!!(Yt&&t&&t[Yt])}function ro(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&lt.test(t))&&t>-1&&t%1==0&&t<e}function oo(t,e,n){if(!Fa(n))return!1;var i=typeof e;return!!("number"==i?Ia(n)&&ro(e,n.length):"string"==i&&e in n)&&Aa(n[e],t)}function ao(t,e){if(Sa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Qa(t))||W.test(t)||!F.test(t)||null!=e&&t in gt(e)}function so(t){var e=$r(t),n=Ln[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var i=Vr(n);return!!i&&t===i[0]}(dn&&to(new dn(new ArrayBuffer(1)))!=O||hn&&to(new hn)!=g||fn&&"[object Promise]"!=to(fn.resolve())||pn&&to(new pn)!=y||gn&&to(new gn)!=_)&&(to=function(t){var e=hi(t),n=e==b?t.constructor:void 0,i=n?Lo(n):"";if(i)switch(i){case yn:return O;case wn:return g;case kn:return"[object Promise]";case _n:return y;case xn:return _}return e});var lo=kt?Ha:ol;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function uo(t){return t==t&&!Fa(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in gt(n))}}function fo(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=on(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var l=i(e+1);++o<e;)l[o]=r[o];return l[e]=n(s),ie(t,this,l)}}function po(t,e){return e.length<2?t:ui(t,Fi(e,0,-1))}function go(t,e){for(var n=t.length,i=an(e.length,n),r=gr(t);i--;){var o=e[i];t[i]=ro(o,n)?r[o]:void 0}return t}function mo(t,e){if("__proto__"!=e)return t[e]}var bo=ko(Hi),vo=Ye||function(t,e){return Vt.setTimeout(t,e)},yo=ko(zi);function wo(t,e,n){var i=e+"";return yo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return oe(s,function(n){var i="_."+n[0];e&n[1]&&!ce(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(X);return e?e[1].split(J):[]}(i),n)))}function ko(t){var e=0,n=0;return function(){var i=sn(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function _o(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Ri(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var xo,Oo,No=(xo=xa(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(V,function(t,n,i,r){e.push(i?r.replace(et,"$1"):n||t)}),e},function(t){return 500===Oo.size&&Oo.clear(),t}),Oo=xo.cache,xo);function Eo(t){if("string"==typeof t||Qa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Lo(t){if(null!=t){try{return _t.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Co(t){if(t instanceof qn)return t.clone();var e=new Tn(t.__wrapped__,t.__chain__);return e.__actions__=gr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ao=Bi(function(t,e){return Ba(t)?Xn(t,ri(e,1,Ba,!0)):[]}),To=Bi(function(t,e){var n=Mo(e);return Ba(n)&&(n=void 0),Ba(t)?Xn(t,ri(e,1,Ba,!0),Kr(n,2)):[]}),qo=Bi(function(t,e){var n=Mo(e);return Ba(n)&&(n=void 0),Ba(t)?Xn(t,ri(e,1,Ba,!0),void 0,n):[]});function jo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=on(i+r,0)),ve(t,Kr(e,3),r)}function So(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=is(n),r=n<0?on(i+r,0):an(r,i-1)),ve(t,Kr(e,3),r,!0)}function Ro(t){return null!=t&&t.length?ri(t,1):[]}function Io(t){return t&&t.length?t[0]:void 0}var Bo=Bi(function(t){var e=de(t,ir);return e.length&&e[0]===t[0]?mi(e):[]}),Po=Bi(function(t){var e=Mo(t),n=de(t,ir);return e===Mo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mi(n,Kr(e,2)):[]}),Do=Bi(function(t){var e=Mo(t),n=de(t,ir);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mi(n,void 0,e):[]});function Mo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ho=Bi(zo);function zo(t,e){return t&&t.length&&e&&e.length?ji(t,e):t}var Uo=Ur(function(t,e){var n=null==t?0:t.length,i=Gn(t,e);return Si(t,de(e,function(t){return ro(t,n)?+t:t}).sort(hr)),i});function Fo(t){return null==t?t:un.call(t)}var Wo=Bi(function(t){return Yi(ri(t,1,Ba,!0))}),Vo=Bi(function(t){var e=Mo(t);return Ba(e)&&(e=void 0),Yi(ri(t,1,Ba,!0),Kr(e,2))}),$o=Bi(function(t){var e=Mo(t);return e="function"==typeof e?e:void 0,Yi(ri(t,1,Ba,!0),void 0,e)});function Go(t){if(!t||!t.length)return[];var e=0;return t=le(t,function(t){if(Ba(t))return e=on(t.length,e),!0}),Le(e,function(e){return de(t,xe(e))})}function Ko(t,e){if(!t||!t.length)return[];var n=Go(t);return null==e?n:de(n,function(t){return ie(e,void 0,t)})}var Zo=Bi(function(t,e){return Ba(t)?Xn(t,e):[]}),Yo=Bi(function(t){return er(le(t,Ba))}),Qo=Bi(function(t){var e=Mo(t);return Ba(e)&&(e=void 0),er(le(t,Ba),Kr(e,2))}),Xo=Bi(function(t){var e=Mo(t);return e="function"==typeof e?e:void 0,er(le(t,Ba),void 0,e)}),Jo=Bi(Go),ta=Bi(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Ko(t,n)});function ea(t){var e=Ln(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ia=Ur(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Gn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof qn&&ro(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[r],thisArg:void 0}),new Tn(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(void 0),t})):this.thru(r)}),ra=br(function(t,e,n){xt.call(t,n)?++t[n]:$n(t,n,1)}),oa=Or(jo),aa=Or(So);function sa(t,e){return(Sa(t)?oe:Jn)(t,Kr(e,3))}function la(t,e){return(Sa(t)?ae:ti)(t,Kr(e,3))}var ca=br(function(t,e,n){xt.call(t,n)?t[n].push(e):$n(t,n,[e])}),ua=Bi(function(t,e,n){var r=-1,o="function"==typeof e,a=Ia(t)?i(t.length):[];return Jn(t,function(t){a[++r]=o?ie(e,t,n):bi(t,e,n)}),a}),da=br(function(t,e,n){$n(t,n,e)});function ha(t,e){return(Sa(t)?de:Ni)(t,Kr(e,3))}var fa=br(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),pa=Bi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&oo(t,e[0],e[1])?e=[]:n>2&&oo(e[0],e[1],e[2])&&(e=[e[0]]),Ti(t,ri(e,1),[])}),ga=Ze||function(){return Vt.Date.now()};function ma(t,e,n){return e=n?void 0:e,Pr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ba(t,e){var n;if("function"!=typeof e)throw new vt(o);return t=is(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var va=Bi(function(t,e,n){var i=1;if(n.length){var r=He(n,Gr(va));i|=32}return Pr(t,i,e,n,r)}),ya=Bi(function(t,e,n){var i=3;if(n.length){var r=He(n,Gr(ya));i|=32}return Pr(e,i,t,n,r)});function wa(t,e,n){var i,r,a,s,l,c,u=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new vt(o);function p(e){var n=i,o=r;return i=r=void 0,u=e,s=t.apply(o,n)}function g(t){return u=t,l=vo(b,e),d?p(t):s}function m(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-u>=a}function b(){var t=ga();if(m(t))return v(t);l=vo(b,function(t){var n=e-(t-c);return h?an(n,a-(t-u)):n}(t))}function v(t){return l=void 0,f&&i?p(t):(i=r=void 0,s)}function y(){var t=ga(),n=m(t);if(i=arguments,r=this,c=t,n){if(void 0===l)return g(c);if(h)return l=vo(b,e),p(c)}return void 0===l&&(l=vo(b,e)),s}return e=os(e)||0,Fa(n)&&(d=!!n.leading,a=(h="maxWait"in n)?on(os(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==l&&lr(l),u=0,i=c=r=l=void 0},y.flush=function(){return void 0===l?s:v(ga())},y}var ka=Bi(function(t,e){return Qn(t,1,e)}),_a=Bi(function(t,e,n){return Qn(t,os(e)||0,n)});function xa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(xa.Cache||Rn),n}function Oa(t){if("function"!=typeof t)throw new vt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}xa.Cache=Rn;var Na=ar(function(t,e){var n=(e=1==e.length&&Sa(e[0])?de(e[0],Ce(Kr())):de(ri(e,1),Ce(Kr()))).length;return Bi(function(i){for(var r=-1,o=an(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return ie(t,this,i)})}),Ea=Bi(function(t,e){return Pr(t,32,void 0,e,He(e,Gr(Ea)))}),La=Bi(function(t,e){return Pr(t,64,void 0,e,He(e,Gr(La)))}),Ca=Ur(function(t,e){return Pr(t,256,void 0,void 0,void 0,e)});function Aa(t,e){return t===e||t!=t&&e!=e}var Ta=jr(fi),qa=jr(function(t,e){return t>=e}),ja=vi(function(){return arguments}())?vi:function(t){return Wa(t)&&xt.call(t,"callee")&&!Gt.call(t,"callee")},Sa=i.isArray,Ra=Qt?Ce(Qt):function(t){return Wa(t)&&hi(t)==x};function Ia(t){return null!=t&&Ua(t.length)&&!Ha(t)}function Ba(t){return Wa(t)&&Ia(t)}var Pa=tn||ol,Da=Xt?Ce(Xt):function(t){return Wa(t)&&hi(t)==d};function Ma(t){if(!Wa(t))return!1;var e=hi(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ga(t)}function Ha(t){if(!Fa(t))return!1;var e=hi(t);return e==f||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function za(t){return"number"==typeof t&&t==is(t)}function Ua(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Fa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var Va=Jt?Ce(Jt):function(t){return Wa(t)&&to(t)==g};function $a(t){return"number"==typeof t||Wa(t)&&hi(t)==m}function Ga(t){if(!Wa(t)||hi(t)!=b)return!1;var e=Wt(t);if(null===e)return!0;var n=xt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&_t.call(n)==Lt}var Ka=te?Ce(te):function(t){return Wa(t)&&hi(t)==v},Za=ee?Ce(ee):function(t){return Wa(t)&&to(t)==y};function Ya(t){return"string"==typeof t||!Sa(t)&&Wa(t)&&hi(t)==w}function Qa(t){return"symbol"==typeof t||Wa(t)&&hi(t)==k}var Xa=ne?Ce(ne):function(t){return Wa(t)&&Ua(t.length)&&!!Dt[hi(t)]},Ja=jr(Oi),ts=jr(function(t,e){return t<=e});function es(t){if(!t)return[];if(Ia(t))return Ya(t)?We(t):gr(t);if(me&&t[me])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[me]());var e=to(t);return(e==g?De:e==y?ze:As)(t)}function ns(t){return t?1/0===(t=os(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function is(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function rs(t){return t?Kn(is(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Qa(t))return NaN;if(Fa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Fa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(K,"");var n=ot.test(t);return n||st.test(t)?Ut(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function as(t){return mr(t,ks(t))}function ss(t){return null==t?"":Zi(t)}var ls=vr(function(t,e){if(co(e)||Ia(e))mr(e,ws(e),t);else for(var n in e)xt.call(e,n)&&Un(t,n,e[n])}),cs=vr(function(t,e){mr(e,ks(e),t)}),us=vr(function(t,e,n,i){mr(e,ks(e),t,i)}),ds=vr(function(t,e,n,i){mr(e,ws(e),t,i)}),hs=Ur(Gn),fs=Bi(function(t,e){t=gt(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&oo(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=ks(o),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(void 0===u||Aa(u,wt[c])&&!xt.call(t,c))&&(t[c]=o[c])}return t}),ps=Bi(function(t){return t.push(void 0,Mr),ie(xs,void 0,t)});function gs(t,e,n){var i=null==t?void 0:ui(t,e);return void 0===i?n:i}function ms(t,e){return null!=t&&eo(t,e,gi)}var bs=Lr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),t[e]=n},Fs($s)),vs=Lr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),xt.call(t,e)?t[e].push(n):t[e]=[n]},Kr),ys=Bi(bi);function ws(t){return Ia(t)?Pn(t):xi(t)}function ks(t){return Ia(t)?Pn(t,!0):function(t){if(!Fa(t))return function(t){var e=[];if(null!=t)for(var n in gt(t))e.push(n);return e}(t);var e=co(t),n=[];for(var i in t)("constructor"!=i||!e&&xt.call(t,i))&&n.push(i);return n}(t)}var _s=vr(function(t,e,n){Ci(t,e,n)}),xs=vr(function(t,e,n,i){Ci(t,e,n,i)}),Os=Ur(function(t,e){var n={};if(null==t)return n;var i=!1;e=de(e,function(e){return e=or(e,t),i||(i=e.length>1),e}),mr(t,Wr(t),n),i&&(n=Zn(n,7,Hr));for(var r=e.length;r--;)Qi(n,e[r]);return n}),Ns=Ur(function(t,e){return null==t?{}:function(t,e){return qi(t,e,function(e,n){return ms(t,n)})}(t,e)});function Es(t,e){if(null==t)return{};var n=de(Wr(t),function(t){return[t]});return e=Kr(e),qi(t,n,function(t,n){return e(t,n[0])})}var Ls=Br(ws),Cs=Br(ks);function As(t){return null==t?[]:Ae(t,ws(t))}var Ts=_r(function(t,e,n){return e=e.toLowerCase(),t+(n?qs(e):e)});function qs(t){return Ms(ss(t).toLowerCase())}function js(t){return(t=ss(t))&&t.replace(ct,Re).replace(qt,"")}var Ss=_r(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Rs=_r(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Is=kr("toLowerCase"),Bs=_r(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ps=_r(function(t,e,n){return t+(n?" ":"")+Ms(e)}),Ds=_r(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ms=kr("toUpperCase");function Hs(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return It.test(t)}(t)?function(t){return t.match(St)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var zs=Bi(function(t,e){try{return ie(t,void 0,e)}catch(n){return Ma(n)?n:new ht(n)}}),Us=Ur(function(t,e){return oe(e,function(e){e=Eo(e),$n(t,e,va(t[e],t))}),t});function Fs(t){return function(){return t}}var Ws=Nr(),Vs=Nr(!0);function $s(t){return t}function Gs(t){return _i("function"==typeof t?t:Zn(t,1))}var Ks=Bi(function(t,e){return function(n){return bi(n,t,e)}}),Zs=Bi(function(t,e){return function(n){return bi(t,n,e)}});function Ys(t,e,n){var i=ws(e),r=ci(e,i);null!=n||Fa(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=ci(e,ws(e)));var o=!(Fa(n)&&"chain"in n&&!n.chain),a=Ha(t);return oe(r,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=gr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,he([this.value()],arguments))})}),t}function Qs(){}var Xs=Ar(de),Js=Ar(se),tl=Ar(ge);function el(t){return ao(t)?xe(Eo(t)):function(t){return function(e){return ui(e,t)}}(t)}var nl=qr(),il=qr(!0);function rl(){return[]}function ol(){return!1}var al,sl=Cr(function(t,e){return t+e},0),ll=Rr("ceil"),cl=Cr(function(t,e){return t/e},1),ul=Rr("floor"),dl=Cr(function(t,e){return t*e},1),hl=Rr("round"),fl=Cr(function(t,e){return t-e},0);return Ln.after=function(t,e){if("function"!=typeof e)throw new vt(o);return t=is(t),function(){if(--t<1)return e.apply(this,arguments)}},Ln.ary=ma,Ln.assign=ls,Ln.assignIn=cs,Ln.assignInWith=us,Ln.assignWith=ds,Ln.at=hs,Ln.before=ba,Ln.bind=va,Ln.bindAll=Us,Ln.bindKey=ya,Ln.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Sa(t)?t:[t]},Ln.chain=ea,Ln.chunk=function(t,e,n){e=(n?oo(t,e,n):void 0===e)?1:on(is(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=i(Qe(r/e));o<r;)s[a++]=Fi(t,o,o+=e);return s},Ln.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Ln.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return he(Sa(n)?gr(n):[n],ri(e,1))},Ln.cond=function(t){var e=null==t?0:t.length,n=Kr();return t=e?de(t,function(t){if("function"!=typeof t[1])throw new vt(o);return[n(t[0]),t[1]]}):[],Bi(function(n){for(var i=-1;++i<e;){var r=t[i];if(ie(r[0],this,n))return ie(r[1],this,n)}})},Ln.conforms=function(t){return function(t){var e=ws(t);return function(n){return Yn(n,t,e)}}(Zn(t,1))},Ln.constant=Fs,Ln.countBy=ra,Ln.create=function(t,e){var n=Cn(t);return null==e?n:Vn(n,e)},Ln.curry=function t(e,n,i){var r=Pr(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Ln.curryRight=function t(e,n,i){var r=Pr(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Ln.debounce=wa,Ln.defaults=fs,Ln.defaultsDeep=ps,Ln.defer=ka,Ln.delay=_a,Ln.difference=Ao,Ln.differenceBy=To,Ln.differenceWith=qo,Ln.drop=function(t,e,n){var i=null==t?0:t.length;return i?Fi(t,(e=n||void 0===e?1:is(e))<0?0:e,i):[]},Ln.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Fi(t,0,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e):[]},Ln.dropRightWhile=function(t,e){return t&&t.length?Ji(t,Kr(e,3),!0,!0):[]},Ln.dropWhile=function(t,e){return t&&t.length?Ji(t,Kr(e,3),!0):[]},Ln.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oo(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=is(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:is(i))<0&&(i+=r),i=n>i?0:rs(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Ln.filter=function(t,e){return(Sa(t)?le:ii)(t,Kr(e,3))},Ln.flatMap=function(t,e){return ri(ha(t,e),1)},Ln.flatMapDeep=function(t,e){return ri(ha(t,e),1/0)},Ln.flatMapDepth=function(t,e,n){return n=void 0===n?1:is(n),ri(ha(t,e),n)},Ln.flatten=Ro,Ln.flattenDeep=function(t){return null!=t&&t.length?ri(t,1/0):[]},Ln.flattenDepth=function(t,e){return null!=t&&t.length?ri(t,e=void 0===e?1:is(e)):[]},Ln.flip=function(t){return Pr(t,512)},Ln.flow=Ws,Ln.flowRight=Vs,Ln.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Ln.functions=function(t){return null==t?[]:ci(t,ws(t))},Ln.functionsIn=function(t){return null==t?[]:ci(t,ks(t))},Ln.groupBy=ca,Ln.initial=function(t){return null!=t&&t.length?Fi(t,0,-1):[]},Ln.intersection=Bo,Ln.intersectionBy=Po,Ln.intersectionWith=Do,Ln.invert=bs,Ln.invertBy=vs,Ln.invokeMap=ua,Ln.iteratee=Gs,Ln.keyBy=da,Ln.keys=ws,Ln.keysIn=ks,Ln.map=ha,Ln.mapKeys=function(t,e){var n={};return e=Kr(e,3),si(t,function(t,i,r){$n(n,e(t,i,r),t)}),n},Ln.mapValues=function(t,e){var n={};return e=Kr(e,3),si(t,function(t,i,r){$n(n,i,e(t,i,r))}),n},Ln.matches=function(t){return Ei(Zn(t,1))},Ln.matchesProperty=function(t,e){return Li(t,Zn(e,1))},Ln.memoize=xa,Ln.merge=_s,Ln.mergeWith=xs,Ln.method=Ks,Ln.methodOf=Zs,Ln.mixin=Ys,Ln.negate=Oa,Ln.nthArg=function(t){return t=is(t),Bi(function(e){return Ai(e,t)})},Ln.omit=Os,Ln.omitBy=function(t,e){return Es(t,Oa(Kr(e)))},Ln.once=function(t){return ba(2,t)},Ln.orderBy=function(t,e,n,i){return null==t?[]:(Sa(e)||(e=null==e?[]:[e]),Sa(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(t,e,n))},Ln.over=Xs,Ln.overArgs=Na,Ln.overEvery=Js,Ln.overSome=tl,Ln.partial=Ea,Ln.partialRight=La,Ln.partition=fa,Ln.pick=Ns,Ln.pickBy=Es,Ln.property=el,Ln.propertyOf=function(t){return function(e){return null==t?void 0:ui(t,e)}},Ln.pull=Ho,Ln.pullAll=zo,Ln.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?ji(t,e,Kr(n,2)):t},Ln.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?ji(t,e,void 0,n):t},Ln.pullAt=Uo,Ln.range=nl,Ln.rangeRight=il,Ln.rearg=Ca,Ln.reject=function(t,e){return(Sa(t)?le:ii)(t,Oa(Kr(e,3)))},Ln.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Kr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Si(t,r),n},Ln.rest=function(t,e){if("function"!=typeof t)throw new vt(o);return Bi(t,e=void 0===e?e:is(e))},Ln.reverse=Fo,Ln.sampleSize=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:is(e),(Sa(t)?Mn:Di)(t,e)},Ln.set=function(t,e,n){return null==t?t:Mi(t,e,n)},Ln.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Mi(t,e,n,i)},Ln.shuffle=function(t){return(Sa(t)?Hn:Ui)(t)},Ln.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oo(t,e,n)?(e=0,n=i):(e=null==e?0:is(e),n=void 0===n?i:is(n)),Fi(t,e,n)):[]},Ln.sortBy=pa,Ln.sortedUniq=function(t){return t&&t.length?Gi(t):[]},Ln.sortedUniqBy=function(t,e){return t&&t.length?Gi(t,Kr(e,2)):[]},Ln.split=function(t,e,n){return n&&"number"!=typeof n&&oo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Ka(e))&&!(e=Zi(e))&&Pe(t)?sr(We(t),0,n):t.split(e,n):[]},Ln.spread=function(t,e){if("function"!=typeof t)throw new vt(o);return e=null==e?0:on(is(e),0),Bi(function(n){var i=n[e],r=sr(n,0,e);return i&&he(r,i),ie(t,this,r)})},Ln.tail=function(t){var e=null==t?0:t.length;return e?Fi(t,1,e):[]},Ln.take=function(t,e,n){return t&&t.length?Fi(t,0,(e=n||void 0===e?1:is(e))<0?0:e):[]},Ln.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Fi(t,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e,i):[]},Ln.takeRightWhile=function(t,e){return t&&t.length?Ji(t,Kr(e,3),!1,!0):[]},Ln.takeWhile=function(t,e){return t&&t.length?Ji(t,Kr(e,3)):[]},Ln.tap=function(t,e){return e(t),t},Ln.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new vt(o);return Fa(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),wa(t,e,{leading:i,maxWait:e,trailing:r})},Ln.thru=na,Ln.toArray=es,Ln.toPairs=Ls,Ln.toPairsIn=Cs,Ln.toPath=function(t){return Sa(t)?de(t,Eo):Qa(t)?[t]:gr(No(ss(t)))},Ln.toPlainObject=as,Ln.transform=function(t,e,n){var i=Sa(t),r=i||Pa(t)||Xa(t);if(e=Kr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Fa(t)&&Ha(o)?Cn(Wt(t)):{}}return(r?oe:si)(t,function(t,i,r){return e(n,t,i,r)}),n},Ln.unary=function(t){return ma(t,1)},Ln.union=Wo,Ln.unionBy=Vo,Ln.unionWith=$o,Ln.uniq=function(t){return t&&t.length?Yi(t):[]},Ln.uniqBy=function(t,e){return t&&t.length?Yi(t,Kr(e,2)):[]},Ln.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Yi(t,void 0,e):[]},Ln.unset=function(t,e){return null==t||Qi(t,e)},Ln.unzip=Go,Ln.unzipWith=Ko,Ln.update=function(t,e,n){return null==t?t:Xi(t,e,rr(n))},Ln.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Xi(t,e,rr(n),i)},Ln.values=As,Ln.valuesIn=function(t){return null==t?[]:Ae(t,ks(t))},Ln.without=Zo,Ln.words=Hs,Ln.wrap=function(t,e){return Ea(rr(e),t)},Ln.xor=Yo,Ln.xorBy=Qo,Ln.xorWith=Xo,Ln.zip=Jo,Ln.zipObject=function(t,e){return nr(t||[],e||[],Un)},Ln.zipObjectDeep=function(t,e){return nr(t||[],e||[],Mi)},Ln.zipWith=ta,Ln.entries=Ls,Ln.entriesIn=Cs,Ln.extend=cs,Ln.extendWith=us,Ys(Ln,Ln),Ln.add=sl,Ln.attempt=zs,Ln.camelCase=Ts,Ln.capitalize=qs,Ln.ceil=ll,Ln.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Kn(os(t),e,n)},Ln.clone=function(t){return Zn(t,4)},Ln.cloneDeep=function(t){return Zn(t,5)},Ln.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Ln.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Ln.conformsTo=function(t,e){return null==e||Yn(t,e,ws(e))},Ln.deburr=js,Ln.defaultTo=function(t,e){return null==t||t!=t?e:t},Ln.divide=cl,Ln.endsWith=function(t,e,n){t=ss(t),e=Zi(e);var i=t.length,r=n=void 0===n?i:Kn(is(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},Ln.eq=Aa,Ln.escape=function(t){return(t=ss(t))&&M.test(t)?t.replace(P,Ie):t},Ln.escapeRegExp=function(t){return(t=ss(t))&&G.test(t)?t.replace($,"\\$&"):t},Ln.every=function(t,e,n){var i=Sa(t)?se:ei;return n&&oo(t,e,n)&&(e=void 0),i(t,Kr(e,3))},Ln.find=oa,Ln.findIndex=jo,Ln.findKey=function(t,e){return be(t,Kr(e,3),si)},Ln.findLast=aa,Ln.findLastIndex=So,Ln.findLastKey=function(t,e){return be(t,Kr(e,3),li)},Ln.floor=ul,Ln.forEach=sa,Ln.forEachRight=la,Ln.forIn=function(t,e){return null==t?t:oi(t,Kr(e,3),ks)},Ln.forInRight=function(t,e){return null==t?t:ai(t,Kr(e,3),ks)},Ln.forOwn=function(t,e){return t&&si(t,Kr(e,3))},Ln.forOwnRight=function(t,e){return t&&li(t,Kr(e,3))},Ln.get=gs,Ln.gt=Ta,Ln.gte=qa,Ln.has=function(t,e){return null!=t&&eo(t,e,pi)},Ln.hasIn=ms,Ln.head=Io,Ln.identity=$s,Ln.includes=function(t,e,n,i){t=Ia(t)?t:As(t),n=n&&!i?is(n):0;var r=t.length;return n<0&&(n=on(r+n,0)),Ya(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ye(t,e,n)>-1},Ln.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=on(i+r,0)),ye(t,e,r)},Ln.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=an(e,n)&&t<on(e,n)}(t=os(t),e,n)},Ln.invoke=ys,Ln.isArguments=ja,Ln.isArray=Sa,Ln.isArrayBuffer=Ra,Ln.isArrayLike=Ia,Ln.isArrayLikeObject=Ba,Ln.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&hi(t)==u},Ln.isBuffer=Pa,Ln.isDate=Da,Ln.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Ga(t)},Ln.isEmpty=function(t){if(null==t)return!0;if(Ia(t)&&(Sa(t)||"string"==typeof t||"function"==typeof t.splice||Pa(t)||Xa(t)||ja(t)))return!t.length;var e=to(t);if(e==g||e==y)return!t.size;if(co(t))return!xi(t).length;for(var n in t)if(xt.call(t,n))return!1;return!0},Ln.isEqual=function(t,e){return yi(t,e)},Ln.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?yi(t,e,void 0,n):!!i},Ln.isError=Ma,Ln.isFinite=function(t){return"number"==typeof t&&en(t)},Ln.isFunction=Ha,Ln.isInteger=za,Ln.isLength=Ua,Ln.isMap=Va,Ln.isMatch=function(t,e){return t===e||wi(t,e,Yr(e))},Ln.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wi(t,e,Yr(e),n)},Ln.isNaN=function(t){return $a(t)&&t!=+t},Ln.isNative=function(t){if(lo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ki(t)},Ln.isNil=function(t){return null==t},Ln.isNull=function(t){return null===t},Ln.isNumber=$a,Ln.isObject=Fa,Ln.isObjectLike=Wa,Ln.isPlainObject=Ga,Ln.isRegExp=Ka,Ln.isSafeInteger=function(t){return za(t)&&t>=-9007199254740991&&t<=9007199254740991},Ln.isSet=Za,Ln.isString=Ya,Ln.isSymbol=Qa,Ln.isTypedArray=Xa,Ln.isUndefined=function(t){return void 0===t},Ln.isWeakMap=function(t){return Wa(t)&&to(t)==_},Ln.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==hi(t)},Ln.join=function(t,e){return null==t?"":nn.call(t,e)},Ln.kebabCase=Ss,Ln.last=Mo,Ln.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=is(n))<0?on(i+r,0):an(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):ve(t,ke,r,!0)},Ln.lowerCase=Rs,Ln.lowerFirst=Is,Ln.lt=Ja,Ln.lte=ts,Ln.max=function(t){return t&&t.length?ni(t,$s,fi):void 0},Ln.maxBy=function(t,e){return t&&t.length?ni(t,Kr(e,2),fi):void 0},Ln.mean=function(t){return _e(t,$s)},Ln.meanBy=function(t,e){return _e(t,Kr(e,2))},Ln.min=function(t){return t&&t.length?ni(t,$s,Oi):void 0},Ln.minBy=function(t,e){return t&&t.length?ni(t,Kr(e,2),Oi):void 0},Ln.stubArray=rl,Ln.stubFalse=ol,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=dl,Ln.nth=function(t,e){return t&&t.length?Ai(t,is(e)):void 0},Ln.noConflict=function(){return Vt._===this&&(Vt._=Ct),this},Ln.noop=Qs,Ln.now=ga,Ln.pad=function(t,e,n){t=ss(t);var i=(e=is(e))?Fe(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Tr(Xe(r),n)+t+Tr(Qe(r),n)},Ln.padEnd=function(t,e,n){t=ss(t);var i=(e=is(e))?Fe(t):0;return e&&i<e?t+Tr(e-i,n):t},Ln.padStart=function(t,e,n){t=ss(t);var i=(e=is(e))?Fe(t):0;return e&&i<e?Tr(e-i,n)+t:t},Ln.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(ss(t).replace(Z,""),e||0)},Ln.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=cn();return an(t+r*(e-t+zt("1e-"+((r+"").length-1))),e)}return Ri(t,e)},Ln.reduce=function(t,e,n){var i=Sa(t)?fe:Ne,r=arguments.length<3;return i(t,Kr(e,4),n,r,Jn)},Ln.reduceRight=function(t,e,n){var i=Sa(t)?pe:Ne,r=arguments.length<3;return i(t,Kr(e,4),n,r,ti)},Ln.repeat=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:is(e),Ii(ss(t),e)},Ln.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ln.result=function(t,e,n){var i=-1,r=(e=or(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[Eo(e[i])];void 0===o&&(i=r,o=n),t=Ha(o)?o.call(t):o}return t},Ln.round=hl,Ln.runInContext=t,Ln.sample=function(t){return(Sa(t)?Dn:Pi)(t)},Ln.size=function(t){if(null==t)return 0;if(Ia(t))return Ya(t)?Fe(t):t.length;var e=to(t);return e==g||e==y?t.size:xi(t).length},Ln.snakeCase=Bs,Ln.some=function(t,e,n){var i=Sa(t)?ge:Wi;return n&&oo(t,e,n)&&(e=void 0),i(t,Kr(e,3))},Ln.sortedIndex=function(t,e){return Vi(t,e)},Ln.sortedIndexBy=function(t,e,n){return $i(t,e,Kr(n,2))},Ln.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Vi(t,e);if(i<n&&Aa(t[i],e))return i}return-1},Ln.sortedLastIndex=function(t,e){return Vi(t,e,!0)},Ln.sortedLastIndexBy=function(t,e,n){return $i(t,e,Kr(n,2),!0)},Ln.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Vi(t,e,!0)-1;if(Aa(t[n],e))return n}return-1},Ln.startCase=Ps,Ln.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Kn(is(n),0,t.length),e=Zi(e),t.slice(n,n+e.length)==e},Ln.subtract=fl,Ln.sum=function(t){return t&&t.length?Ee(t,$s):0},Ln.sumBy=function(t,e){return t&&t.length?Ee(t,Kr(e,2)):0},Ln.template=function(t,e,n){var i=Ln.templateSettings;n&&oo(t,e,n)&&(e=void 0),t=ss(t),e=us({},e,i,Dr);var r,o,a=us({},e.imports,i.imports,Dr),s=ws(a),l=Ae(a,s),c=0,u=e.interpolate||ut,d="__p += '",h=mt((e.escape||ut).source+"|"+u.source+"|"+(u===U?nt:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Pt+"]")+"\n";t.replace(h,function(e,n,i,a,s,l){return i||(i=a),d+=t.slice(c,l).replace(dt,Be),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),d+="';\n";var p=e.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(S,""):d).replace(R,"$1").replace(I,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=zs(function(){return ft(s,f+"return "+d).apply(void 0,l)});if(g.source=d,Ma(g))throw g;return g},Ln.times=function(t,e){if((t=is(t))<1||t>9007199254740991)return[];var n=4294967295,i=an(t,4294967295);t-=4294967295;for(var r=Le(i,e=Kr(e));++n<t;)e(n);return r},Ln.toFinite=ns,Ln.toInteger=is,Ln.toLength=rs,Ln.toLower=function(t){return ss(t).toLowerCase()},Ln.toNumber=os,Ln.toSafeInteger=function(t){return t?Kn(is(t),-9007199254740991,9007199254740991):0===t?t:0},Ln.toString=ss,Ln.toUpper=function(t){return ss(t).toUpperCase()},Ln.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Zi(e)))return t;var i=We(t),r=We(e);return sr(i,qe(i,r),je(i,r)+1).join("")},Ln.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Zi(e)))return t;var i=We(t);return sr(i,0,je(i,We(e))+1).join("")},Ln.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Zi(e)))return t;var i=We(t);return sr(i,qe(i,We(e))).join("")},Ln.truncate=function(t,e){var n=30,i="...";if(Fa(e)){var r="separator"in e?e.separator:r;n="length"in e?is(e.length):n,i="omission"in e?Zi(e.omission):i}var o=(t=ss(t)).length;if(Pe(t)){var a=We(t);o=a.length}if(n>=o)return t;var s=n-Fe(i);if(s<1)return i;var l=a?sr(a,0,s).join(""):t.slice(0,s);if(void 0===r)return l+i;if(a&&(s+=l.length-s),Ka(r)){if(t.slice(s).search(r)){var c,u=l;for(r.global||(r=mt(r.source,ss(it.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var d=c.index;l=l.slice(0,void 0===d?s:d)}}else if(t.indexOf(Zi(r),s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i},Ln.unescape=function(t){return(t=ss(t))&&D.test(t)?t.replace(B,Ve):t},Ln.uniqueId=function(t){var e=++Ot;return ss(t)+e},Ln.upperCase=Ds,Ln.upperFirst=Ms,Ln.each=sa,Ln.eachRight=la,Ln.first=Io,Ys(Ln,(al={},si(Ln,function(t,e){xt.call(Ln.prototype,e)||(al[e]=t)}),al),{chain:!1}),Ln.VERSION="4.17.11",oe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Ln[t].placeholder=Ln}),oe(["drop","take"],function(t,e){qn.prototype[t]=function(n){n=void 0===n?1:on(is(n),0);var i=this.__filtered__&&!e?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=an(n,i.__takeCount__):i.__views__.push({size:an(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),oe(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Kr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),oe(["head","last"],function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}}),oe(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}}),qn.prototype.compact=function(){return this.filter($s)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=Bi(function(t,e){return"function"==typeof t?new qn(this):this.map(function(n){return bi(n,t,e)})}),qn.prototype.reject=function(t){return this.filter(Oa(Kr(t)))},qn.prototype.slice=function(t,e){t=is(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=is(e))<0?n.dropRight(-e):n.take(e-t)),n)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(4294967295)},si(qn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Ln[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(Ln.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof qn,l=a[0],c=s||Sa(e),u=function(t){var e=r.apply(Ln,he([t],a));return i&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,h=!!this.__actions__.length,f=o&&!d,p=s&&!h;if(!o&&c){e=p?e:new qn(this);var g=t.apply(e,a);return g.__actions__.push({func:na,args:[u],thisArg:void 0}),new Tn(g,d)}return f&&p?t.apply(this,a):(g=this.thru(u),f?i?g.value()[0]:g.value():g)})}),oe(["pop","push","shift","sort","splice","unshift"],function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Ln.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Sa(r)?r:[],t)}return this[n](function(n){return e.apply(Sa(n)?n:[],t)})}}),si(qn.prototype,function(t,e){var n=Ln[e];if(n){var i=n.name+"";(vn[i]||(vn[i]=[])).push({name:e,func:n})}}),vn[Er(void 0,2).name]=[{name:"wrapper",func:void 0}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=gr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gr(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Sa(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=an(e,t+a);break;case"takeRight":t=on(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,h=0,f=an(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return tr(t,this.__actions__);var p=[];t:for(;l--&&h<f;){for(var g=-1,m=t[c+=e];++g<d;){var b=u[g],v=b.type,y=(0,b.iteratee)(m);if(2==v)m=y;else if(!y){if(1==v)continue t;break t}}p[h++]=m}return p},Ln.prototype.at=ia,Ln.prototype.chain=function(){return ea(this)},Ln.prototype.commit=function(){return new Tn(this.value(),this.__chain__)},Ln.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Ln.prototype.plant=function(t){for(var e,n=this;n instanceof An;){var i=Co(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},Ln.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),(e=e.reverse()).__actions__.push({func:na,args:[Fo],thisArg:void 0}),new Tn(e,this.__chain__)}return this.thru(Fo)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return tr(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,me&&(Ln.prototype[me]=function(){return this}),Ln}();Vt._=$e,void 0===(r=(function(){return $e}).call(e,n,e,i))||(i.exports=r)}).call(this)}).call(this,n(91),n(92)(t))},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=2 width=3 x=5 y=5></rect> <rect class=ql-fill height=2 width=4 x=9 y=5></rect> <g class="ql-fill ql-transparent"> <rect height=2 width=3 x=5 y=8></rect> <rect height=2 width=4 x=9 y=8></rect> <rect height=2 width=3 x=5 y=11></rect> <rect height=2 width=4 x=9 y=11></rect> </g> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){t.exports=n(97)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,,,,function(t,e,n){"use strict";n.r(e);var i=n(39),r=n(25),o=n(22),a=n(1),s=new a.Attributor("void-detect","data-void-detect",{scope:a.Scope.INLINE,whitelist:["true"]}),l=n(27);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=new(function(t){function e(){return u(this,e),d(this,f(e).apply(this,arguments))}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),(n=[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):h(f(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return h(f(e.prototype),"canAdd",this).call(this,t,n)||h(f(e.prototype),"canAdd",this).call(this,t,parseInt(n,10))}},{key:"value",value:function(t){return parseInt(h(f(e.prototype),"value",this).call(this,t),10)||void 0}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(a.ClassAttributor))("indent","ql-indent",{scope:a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),m=n(0),b=n(4),v=n(17),y=n(2),w=n.n(y);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){if("object"===k(e))for(var n in e)t.style[n]=e[n]}var x,O=n(8),N=n(60);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=["Quill_Expanded_Toggle_Lists"],S=(q(x={},"Quill_Expanded_Toggle_Lists","[]"),q(x,"getItem",function(t){return S[t]}),q(x,"setItem",function(t,e){S[t]=e}),q(x,"removeItem",function(t){S[t]=""}),q(x,"clear",function(){j.forEach(function(t){S[t]=""})}),x),R=function(t){if(!t)return!1;try{return t.setItem("cu_storage_test","test"),t.removeItem("cu_storage_test"),!0}catch(e){return!1}},I=function(t){function e(){var t,n;L(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=C(this,(t=A(e)).call.apply(t,[this].concat(r)))).enable=R(window.localStorage),n.storageRef=n.enable?window.localStorage:S,n.listenExpandToggleList(),n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,t),(n=[{key:"getItem",value:function(t){return JSON.parse(this.storageRef.getItem(t))}},{key:"setItem",value:function(t,e){this.storageRef.setItem(t,JSON.stringify(e))}},{key:"addExpandedToggleList",value:function(t){var e=this.getItem("Quill_Expanded_Toggle_Lists")||[];e.push({id:t,time:(new Date).getTime()}),this.setItem("Quill_Expanded_Toggle_Lists",e)}},{key:"removeCollapsedToggleList",value:function(t){var e=this.getItem("Quill_Expanded_Toggle_Lists")||[];e=Object(N.filter)(e,function(e){return e.id!==t}),this.setItem("Quill_Expanded_Toggle_Lists",e)}},{key:"listenExpandToggleList",value:function(){var t=this;this.quill.on(m.a.events.SCROLL_OPTIMIZE,function(e){e.some(function(t){return!!["OL","UL","LI"].includes(t.target.tagName)})&&t.expandToggleListInStorage()})}},{key:"expandToggleListInStorage",value:function(){var t=this.quill.getModule("storage");this.quill.scroll.descendants(ht).forEach(function(e){if(t){var n=t.getItem("Quill_Expanded_Toggle_Lists"),i=ht.formats(e.domNode);e.isToggleListItem()&&n&&n.length&&n.length>0&&n.some(function(t){return t.id===i["toggle-id"]})&&!e.isThisItemExpanded()&&e.expandItem()}})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(O.a);function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function z(t,e,n){return e&&H(t.prototype,e),n&&H(t,n),t}function U(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?F(t):e}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t,e,n){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K=m.a.import("blots/block"),Z=m.a.import("blots/container"),Y=m.a.import("blots/break"),Q=["width"],X={width:150},J=["row","cell"],tt=["rowspan","colspan"],et={rowspan:1,colspan:1},nt=["bullet","ordered","checked","unchecked","toggled","none"],it=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),z(e,[{key:"format",value:function(t,n){var i=e.formats(this.domNode),r=i.row,o=i.cell,a=i.rowspan,s=i.colspan;tt.concat(J).indexOf(t)>-1?n?this.domNode.setAttribute("data-".concat(t),n):this.domNode.removeAttribute("data-".concat(t)):"list"===t?"string"==typeof n?W(V(e.prototype),"format",this).call(this,t,{list:n,row:r,cell:o,rowspan:a,colspan:s}):W(V(e.prototype),"format",this).call(this,t,n):"table-cell-line"===t&&n?"object"===D(n)?this.replaceWith(e.blotName,n):W(V(e.prototype),"format",this).call(this,t,{row:r,cell:o,rowspan:a,colspan:s}):W(V(e.prototype),"format",this).call(this,t,n)}},{key:"optimize",value:function(t){var n=this.domNode.getAttribute("data-cell"),i=this.domNode.getAttribute("data-row"),r=this.domNode.getAttribute("data-rowspan"),o=this.domNode.getAttribute("data-colspan");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{cell:n,row:i,colspan:o,rowspan:r}),W(V(e.prototype),"optimize",this).call(this,t)}},{key:"tableCell",value:function(){return this.parent}}],[{key:"create",value:function(t){var n=W(V(e),"create",this).call(this,t);return J.forEach(function(e){var i="row"===e?pt:gt;n.setAttribute("data-".concat(e),t[e]||i())}),tt.forEach(function(e){n.setAttribute("data-".concat(e),t[e]||et[e])}),n}},{key:"formats",value:function(t){return tt.concat(J).reduce(function(e,n){return t.hasAttribute("data-".concat(n))&&(e[n]=t.getAttribute("data-".concat(n))||void 0),e},{})}}]),e}(K);it.blotName="table-cell-line",it.className="qlbt-cell-line",it.tagName="DIV";var rt=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),z(e,[{key:"checkMerge",value:function(){if(W(V(e.prototype),"checkMerge",this).call(this)&&null!=this.next.children.head&&"function"==typeof this.next.children.head.formats){var t=this.children.head.formats()[this.children.head.statics.blotName]||this.children.head.formats(),n=this.children.tail.formats()[this.children.tail.statics.blotName]||this.children.tail.formats(),i=this.next.children.head.formats()[this.next.children.head.statics.blotName]||this.next.children.head.formats(),r=this.next.children.tail.formats()[this.next.children.tail.statics.blotName]||this.next.children.tail.formats();return t.cell===n.cell&&t.cell===i.cell&&t.cell===r.cell}return!1}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"formats",value:function(){var t=this,e={};return this.domNode.hasAttribute("data-row")&&(e.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell")&&(e.cell=this.domNode.getAttribute("data-cell")),tt.reduce(function(e,n){return t.domNode.hasAttribute(n)&&(e[n]=t.domNode.getAttribute(n)),e},e)}},{key:"toggleAttribute",value:function(t,e){e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t)}},{key:"formatChildren",value:function(t,e){this.children.forEach(function(n){n.format(t,e)})}},{key:"format",value:function(t,n){tt.indexOf(t)>-1?(this.toggleAttribute(t,n),this.formatChildren(t,n)):["row"].indexOf(t)>-1?(this.toggleAttribute("data-".concat(t),n),this.formatChildren(t,n)):W(V(e.prototype),"format",this).call(this,t,n)}},{key:"optimize",value:function(t){var n=this.domNode.getAttribute("data-row"),i=this.domNode.getAttribute("data-cell");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer?this.statics.requiredContainer&&this.parent instanceof this.statics.requiredContainer&&this.children.map(function(t){return t}).every(function(t){return t instanceof dt||t instanceof it})&&this.children.map(function(t){var e=t.formats();return t instanceof dt?i===e.cell:t instanceof it?i===e["table-cell-line"].cell:void 0}).some(function(t){return!t})&&this.unwrap():this.wrap(this.statics.requiredContainer.blotName,{row:n}),W(V(e.prototype),"optimize",this).call(this,t)}},{key:"row",value:function(){return this.parent}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){return this.row()&&this.row().table()}}],[{key:"create",value:function(t){var n=W(V(e),"create",this).call(this,t);return n.setAttribute("data-row",t.row),n.setAttribute("data-cell",t.cell),tt.forEach(function(e){t[e]&&n.setAttribute(e,t[e])}),n}},{key:"formats",value:function(t){var e={};return t.hasAttribute("data-row")&&(e.row=t.getAttribute("data-row")),t.hasAttribute("data-cell")&&(e.cell=t.getAttribute("data-cell")),tt.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},e)}}]),e}(Z);rt.blotName="table",rt.tagName="TD";var ot=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),z(e,[{key:"checkMerge",value:function(){if(W(V(e.prototype),"checkMerge",this).call(this)&&null!=this.next.children.head){var t=this.children.head instanceof rt&&this.children.head.formats(),n=this.children.tail instanceof rt&&this.children.tail.formats(),i=this.next.children.head instanceof rt&&this.next.children.head.formats(),r=this.next.children.tail instanceof rt&&this.next.children.tail.formats();return t&&n&&i&&r&&t.row===n.row&&t.row===i.row&&t.row===r.row}return!1}},{key:"formats",value:function(){var t=this;return["row"].reduce(function(e,n){return t.domNode.hasAttribute("data-".concat(n))&&(e[n]=t.domNode.getAttribute("data-".concat(n))),e},{})}},{key:"optimize",value:function(t){var n=this.domNode.getAttribute("data-row");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer?this.statics.requiredContainer&&this.parent instanceof this.statics.requiredContainer&&this.children.map(function(t){return t}).every(function(t){return t instanceof rt})&&this.children.map(function(t){var e=t.formats();return!(t instanceof rt)||n===e.row}).some(function(t){return!t})&&this.unwrap():this.wrap(this.statics.requiredContainer.blotName),W(V(e.prototype),"optimize",this).call(this,t)}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){return this.parent&&this.parent.parent}}],[{key:"create",value:function(t){var n=W(V(e),"create",this).call(this,t);return n.setAttribute("data-row",t.row),n}}]),e}(Z);ot.blotName="table-row",ot.tagName="TR";var at=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),z(e,[{key:"optimize",value:function(t){this.children.forEach(function(t){return t.optimize()}),W(V(e.prototype),"optimize",this).call(this,t)}}]),e}(Z);at.blotName="table-body",at.tagName="TBODY";var st=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),z(e,[{key:"format",value:function(t,n){Q.indexOf(t)>-1?this.domNode.setAttribute("".concat(t),n||X[t]):t!==e.blotName&&t!==it.blotName||W(V(e.prototype),"format",this).call(this,t,n)}},{key:"html",value:function(){return this.domNode.outerHTML}}],[{key:"create",value:function(t){var n=W(V(e),"create",this).call(this,t);return Q.forEach(function(e){n.setAttribute("".concat(e),t[e]||X[e])}),n}},{key:"formats",value:function(t){return Q.reduce(function(e,n){return t.hasAttribute("".concat(n))&&(e[n]=t.getAttribute("".concat(n))||void 0),e},{})}}]),e}(K);st.blotName="table-col",st.tagName="col";var lt=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),e}(Z);lt.blotName="table-col-group",lt.tagName="colgroup";var ct=function(t){function e(t,n){var i;return M(this,e),(i=U(this,V(e).call(this,t,n))).updateTableWidth(),i}return $(e,t),z(e,null,[{key:"create",value:function(){return W(V(e),"create",this).call(this)}}]),z(e,[{key:"balanceCells",value:function(){var t=this;if(this.descendants(rt).length<=0)return this.remove(),!1;var e=this.descendants(lt);e.length>1&&e.forEach(function(t,e){e>0&&t.remove()}),this.descendants(st).forEach(function(t){0===t.children.length&&t.optimize()}),this.descendants(it).forEach(function(t){0===t.children.length&&t.optimize()}),setTimeout(function(){t.updateTableWidth()},0)}},{key:"rebuildWholeTable",value:function(){var t=this,e=this.colGroup(),n=P(this.descendants(at),1)[0],i=this.descendants(ot),r=i.reduce(function(t,e){return Math.max(e.children.length,t)},0);if(e){var o=r-e.children.length;o>0?new Array(o).fill(0).forEach(function(){var n=t.scroll.create(st.blotName,!0);e.appendChild(n),n.optimize()}):o<0&&new Array(Math.abs(o)).fill(0).forEach(function(){e.children.tail.remove()})}else e=this.scroll.create(lt.blotName,!0),new Array(r).fill(0).forEach(function(){var n=t.scroll.create(st.blotName,!0);e.appendChild(n),n.optimize()}),this.insertBefore(e,n);i.forEach(function(e){new Array(r-e.children.length).fill(0).forEach(function(){var n=gt(),i=t.scroll.create(rt.blotName,Object.assign({},et,{row:e.formats().row,cell:n})),r=t.scroll.create(it.blotName,Object.assign({},et,{row:e.formats().row,cell:n}));i.appendChild(r),e.appendChild(i),r.optimize()})})}},{key:"updateTableWidth",value:function(){var t=this;setTimeout(function(){var e=t.colGroup();if(e&&t.domNode.parentNode){var n=e.children.reduce(function(t,e){return t+parseInt(e.formats()[st.blotName].width,10)},0);t.domNode.style.width="".concat(n,"px"),n>730?t.domNode.parentNode.classList.add("clickup-table-view_wide"):t.domNode.parentNode.classList.remove("clickup-table-view_wide");var i=t.scroll.domNode;if(i){var r=window.getComputedStyle(i,null),o=parseInt(r.getPropertyValue("padding-left"),10),a=parseInt(r.getPropertyValue("padding-right"),10),s=parseInt(r.getPropertyValue("width"),10);t.domNode.parentNode.style.maxWidth=n<=730?"":n<s-o-a&&n>730?"".concat(n+1,"px"):"100%";var l=m.a.find(i.parentNode).getModule("table");l&&l.table&&(l.columnTool&&l.columnTool.reposition(),l.rowTool&&l.rowTool.reposition(),l.tableTool&&l.tableTool.reposition())}}},0)}},{key:"remove",value:function(){m.a.find(this.scroll.domNode.parentNode).getModule("table").hideTableTools(),W(V(e.prototype),"remove",this).call(this)}},{key:"cells",value:function(t){return this.rows().map(function(e){return e.children.at(t)})}},{key:"colGroup",value:function(){return this.children.head instanceof lt&&this.children.head||null}},{key:"rows",value:function(){var t=this.children.tail;return null==t?[]:t.children.map(function(t){return t})}},{key:"insertColumn",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=m.a.find(this.scroll.domNode.parentNode),i=this.descendants(at),r=P(i,1),o=r[0],a=this.descendants(lt),s=P(a,1),l=s[0];if(null!=o&&null!=o.children.head&&null!=l){var c=l.children.at(t),u=n.getIndex(c),d=c.length(),h=new w.a;e?h.retain(u+d).insert("\n",B({},st.blotName,!0)):h.retain(u).insert("\n",B({},st.blotName,!0));var f=(new w.a).retain(n.getLength()).compose(h),p=0;o.children.forEach(function(i){var r=i.formats(),o=i.children.at(t),a=n.getIndex(o),s=o.length(),l=new w.a;e?l.retain(a+s+p+1).insert("\n",B({},it.blotName,Object.assign({},et,{row:r.row,cell:gt()}))):l.retain(a+p+1).insert("\n",B({},it.blotName,Object.assign({},et,{row:r.row,cell:gt()}))),f=f.compose(l),p+=1}),n.updateContents(f,m.a.sources.USER)}}},{key:"deleteColumn",value:function(t){var e=P(this.descendants(at),1)[0],n=P(this.descendants(lt),1)[0];1===n.children.length?this.remove():(n.children.at(t).remove(),e.children.forEach(function(e){e.children.at(t).remove()}),this.updateTableWidth())}},{key:"insertRow",value:function(t,e){var n,i,r,o=this,a=P(this.descendants(at),1)[0],s=a.children.at(t),l=s.children.length,c=e?s.next:s,u=pt(),d=this.scroll.create(ot.blotName,{row:u});new Array(l).fill(0).forEach(function(){var t=gt();n=o.scroll.create(rt.blotName,Object.assign({},et,{row:u,cell:t})),i=o.scroll.create(it.blotName,Object.assign({},et,{row:u,cell:t})),r=o.scroll.create(Y.blotName),i.appendChild(r),n.appendChild(i),d.appendChild(n)}),c?a.insertBefore(d,c):a.appendChild(d)}},{key:"deleteRow",value:function(t){var e=P(this.descendants(at),1)[0];1===e.children.length?this.remove():e.children.at(t).remove()}}]),e}(Z);ct.blotName="table-container",ct.className="clickup-table",ct.tagName="TABLE";var ut=function(t){function e(t,n){var i;M(this,e),i=U(this,V(e).call(this,t,n));var r=m.a.find(t.domNode.parentNode);return n.addEventListener("scroll",function(t){var e=r.getModule("table");e.columnTool&&(e.columnTool.domNode.scrollLeft=t.target.scrollLeft,e.columnTool.activeDropdown&&e.columnTool.activeDropdown.destroy())},!1),i}return $(e,t),z(e,[{key:"table",value:function(){return this.children.head}}]),e}(Z);ut.blotName="table-view",ut.className="clickup-table-view",ut.tagName="DIV";var dt=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),z(e,[{key:"formats",value:function(){var t=this;return tt.concat(J).reduce(function(e,n){return t.domNode.hasAttribute("data-".concat(n))&&(e[n]=t.domNode.getAttribute("data-".concat(n))||void 0),e},{})}},{key:"optimize",value:function(t){var n=e.formats(this.domNode),i=n.row,r=n.cell,o=n.rowspan,a=n.colspan;!i||this.parent instanceof rt?this.parent instanceof rt&&this.children.map(function(t){var e="function"==typeof t.listFormats?t.listFormats():"function"==typeof t.formats?t.formats():{};return r===(e.list&&e.list.cell)}).some(function(t){return!t})&&this.unwrap():this.wrap(rt.blotName,{row:i,cell:r,colspan:a,rowspan:o}),W(V(e.prototype),"optimize",this).call(this,t)}}],[{key:"create",value:function(t){var n=W(V(e),"create",this).call(this,t);return tt.concat(J).concat(["list"]).forEach(function(e){t[e]&&n.setAttribute("data-".concat(e),t[e])}),n}},{key:"formats",value:function(t){return tt.concat(J).concat(["list"]).reduce(function(e,n){return t.hasAttribute("data-".concat(n))&&(e[n]=t.getAttribute("data-".concat(n))||void 0),e},{})}}]),e}(Z);dt.blotName="list-container",dt.tagName="OL";var ht=function(t){function e(t,n){var i;M(this,e),i=U(this,V(e).call(this,t,n));var r=n.ownerDocument.createElement("span"),o=(i.statics.formats(n,t),m.a.find(t.domNode.parentNode)),a=null;i.isToggleListItem()&&((a=n.ownerDocument.createElement("span")).innerText=e.DEFAULT_TOGGLE_PLACEHOLDER);var s=o.getModule("storage");return r.addEventListener("click",function(e){if(t.isEnabled()){var r=i.statics.formats(n,t);if("checked"===r.list)i.format("list","unchecked"),e.preventDefault();else if("unchecked"===r.list)i.format("list","checked"),e.preventDefault();else if("toggled"===r.list&&(i.isThisItemExpanded()?(i.collapseItem(),s&&s.removeCollapsedToggleList(r["toggle-id"])):(i.expandItem(),s&&s.addExpandedToggleList(r["toggle-id"])),o&&t.domNode)){var a=o.getModule("table");a&&a.table&&a.rowTool&&window.setTimeout(a.rowTool.updateToolCells(),0)}}}),i.attachUI(r),a&&(a.addEventListener("click",function(e){if(t.isEnabled()){var n=o.getIndex(F(i)),r=i.formats(),a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){B(t,e,n[e])})}return t}({},r,{indent:r.indent?r.indent+1:1,list:Object.assign({},r.list,{list:"none"})}),s=(new w.a).retain(n+i.length()).insert("\n",a);o.updateContents(s,m.a.sources.USER),o.setSelection(n+i.length(),m.a.sources.SILENT)}}),i.attachUiPlaceHolder(a)),i}return $(e,t),z(e,null,[{key:"create",value:function(t){"string"==typeof t&&(t={list:t});var n,i=W(V(e),"create",this).call(this,t);return J.concat(tt).concat(["list"]).forEach(function(e){t[e]&&i.setAttribute("data-".concat(e),t[e])}),"toggled"===t.list&&i.setAttribute("data-toggle-id",t["toggle-id"]?t["toggle-id"]:(n=Math.random().toString(36).slice(2,8),"list-".concat(n))),i}},{key:"formats",value:function(t){return tt.concat(J).concat(["list","toggle-id"]).reduce(function(e,n){return t.hasAttribute("data-".concat(n))&&(e[n]=t.getAttribute("data-".concat(n))||void 0),e},{})}}]),z(e,[{key:"attachUiPlaceHolder",value:function(t){null!=this.placeholder&&this.placeholder.remove(),this.placeholder=t,this.placeholder.classList.add("ql-togglelist-placeholder"),this.placeholder.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.placeholder,null)}},{key:"format",value:function(t,n){var i=e.formats(this.domNode),r=i.row,o=i.cell,a=i.rowspan,s=i.colspan;t===e.blotName?n?"object"===D(n)?this.replaceWith(e.blotName,n):W(V(e.prototype),"format",this).call(this,t,{list:n,row:r,cell:o,rowspan:a,colspan:s}):r&&o?this.replaceWith(it.blotName,{row:r,cell:o,rowspan:a,colspan:s}):W(V(e.prototype),"format",this).call(this,t,n):t===it.blotName&&n?this.replaceWith(it.blotName,n):W(V(e.prototype),"format",this).call(this,t,n)}},{key:"getListItemChildren",value:function(){for(var t=[],n=this.listFormats().indent||0,i=this.next,r=(i&&"function"==typeof i.listFormats&&i.listFormats(),i&&"function"==typeof i.getIndent&&i.getIndent()||0);i&&(i.statics.blotName===e.blotName||i.statics.blotName===ft.blotName);)r-n>0?(t.push(i),(i=i.next)&&"function"==typeof i.listFormats&&i.listFormats(),r=i&&"function"==typeof i.getIndent&&i.getIndent()||0):i=null;return t}},{key:"isToggleListItem",value:function(){var t=this.listFormats();return t&&t.list&&"toggled"===t.list.list}},{key:"isThisItemExpanded",value:function(){return this.isToggleListItem()&&!!this.domNode.getAttribute("data-list-toggle")}},{key:"hasToggleChildren",value:function(){var t=this.getIndent();if(this.next){var e="function"==typeof this.next.listFormats&&this.next.listFormats()||{},n="function"==typeof this.next.getIndent&&this.next.getIndent()||0;return e&&e.list&&n&&n>t}return!1}},{key:"expandItem",value:function(){this.isToggleListItem()&&(this.domNode.setAttribute("data-list-toggle",!0),this.toggleChildren())}},{key:"collapseItem",value:function(){this.isToggleListItem()&&(this.domNode.removeAttribute("data-list-toggle"),this.toggleChildren())}},{key:"getToggleListItemChildren",value:function(){if(!this.isToggleListItem())return[];for(var t=[],n=this.getIndent(),i=this.next,r=(i&&"function"==typeof i.listFormats&&i.listFormats(),i&&"function"==typeof i.getIndent&&i.getIndent()||0);i&&(i.statics.blotName===e.blotName||i.statics.blotName===ft.blotName);)r-n>0?(t.push(i),(i=i.next)&&"function"==typeof i.listFormats&&i.listFormats(),r=i&&"function"==typeof i.getIndent&&i.getIndent()||0):i=null;return t}},{key:"toggleChildren",value:function(){var t=this.listFormats(),n=this.getIndent();if("toggled"===t.list.list)for(var i=this.next,r=(i&&"function"==typeof i.listFormats&&i.listFormats(),i&&"function"==typeof i.getIndent&&i.getIndent()||0);i&&(i.statics.blotName===e.blotName||i.statics.blotName===ft.blotName);)r-n>0?(i.optimize(),(i=i.next)&&"function"==typeof i.listFormats&&i.listFormats(),r=i&&"function"==typeof i.getIndent&&i.getIndent()||0):i=null}},{key:"getToggleParents",value:function(){for(var t=this.prev,n=(t&&"function"==typeof t.listFormats&&t.listFormats(),t&&"function"==typeof t.getIndent&&t.getIndent()||0),i=this,r=(i&&"function"==typeof i.listFormats&&i.listFormats(),i&&"function"==typeof i.getIndent&&i.getIndent()||0),o=[];t&&(t.statics.blotName===e.blotName||t.statics.blotName===ft.blotName);)r-n>0&&(i=t,r=n,o.push(t)),(t=t.prev)&&"function"==typeof t.listFormats&&t.listFormats(),n=t&&"function"==typeof t.getIndent&&t.getIndent()||0;return o}},{key:"optimize",value:function(t){var n=e.formats(this.domNode);!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:n.row,cell:n.cell,colspan:n.colspan,rowspan:n.rowspan});var i=this.getToggleParents().every(function(t){return t.domNode.getAttribute("data-list-toggle")||!t.isToggleListItem||!t.isToggleListItem()});if(_(this.domNode,{display:"".concat(i?"block":"none")}),_(this.uiNode,{opacity:"".concat(!this.isToggleListItem()||this.hasToggleChildren()?"1":"0.5")}),this.placeholder){var r=window.getComputedStyle(this.domNode).getPropertyValue("line-height");_(this.domNode,{marginBottom:"".concat(this.isToggleListItem()&&!this.hasToggleChildren()&&this.isThisItemExpanded()?r:"")}),_(this.placeholder,{display:"".concat(this.isToggleListItem()&&!this.hasToggleChildren()&&this.isThisItemExpanded()?"block":"none")})}W(V(e.prototype),"optimize",this).call(this,t)}},{key:"listFormats",value:function(){return this.formats()}},{key:"getIndent",value:function(){return this.listFormats().indent||0}}]),e}(K);ht.blotName="list",ht.tagName="LI",ht.DEFAULT_TOGGLE_PLACEHOLDER="Empty. Click or drag text/images inside";var ft=function(t){function e(){return M(this,e),U(this,V(e).apply(this,arguments))}return $(e,t),z(e,[{key:"checkMerge",value:function(){return!(!W(V(e.prototype),"checkMerge",this).call(this)||null==this.next.children.head)&&this.children.head.statics.blotName===this.next.children.head.statics.blotName}},{key:"listFormats",value:function(){var t=this,e={};return this.domNode.hasAttribute("data-".concat("wrapper-indent"))&&(e["wrapper-indent"]=parseInt(this.domNode.getAttribute("data-".concat("wrapper-indent")),10)||void 0),tt.concat(J).concat([ht.blotName]).reduce(function(e,n){return t.domNode.hasAttribute("data-".concat(n))&&(e[n]=t.domNode.getAttribute("data-".concat(n))||void 0),e},e)}},{key:"getListItemChildren",value:function(){for(var t=[],n=this.getIndent(),i=this.next,r=i&&"function"==typeof i.getIndent&&i.getIndent()||0;i&&(i.statics.blotName===ht.blotName||i.statics.blotName===e.blotName);)r-n>0?(t.push(i),r=(i=i.next)&&"function"==typeof i.getIndent&&i.getIndent()||0):i=null;return t}},{key:"isToggleListItem",value:function(){return!1}},{key:"isThisItemExpanded",value:function(){return!1}},{key:"hasToggleChildren",value:function(){var t=this.getIndent();if(this.next){var e="function"==typeof this.next.listFormats&&this.next.listFormats()||{},n="function"==typeof this.next.getIndent&&this.next.getIndent()||0;return e&&e.list&&n&&n>t}return!1}},{key:"expandItem",value:function(){return!1}},{key:"collapseItem",value:function(){return!1}},{key:"getToggleListItemChildren",value:function(){return[]}},{key:"toggleChildren",value:function(){return!1}},{key:"getToggleParents",value:function(){for(var t=this.prev,n=(t&&"function"==typeof t.listFormats&&t.listFormats(),t&&"function"==typeof t.getIndent&&t.getIndent()||0),i=this,r=(i&&"function"==typeof i.listFormats&&i.listFormats(),i&&"function"==typeof i.getIndent&&i.getIndent()||0),o=[];t&&(t.statics.blotName===ht.blotName||t.statics.blotName===e.blotName);)r-n>0&&(i=t,r=n,o.push(t)),(t=t.prev)&&"function"==typeof t.listFormats&&t.listFormats(),n=t&&"function"==typeof t.getIndent&&t.getIndent()||0;return o}},{key:"optimize",value:function(t){var n=this,i=this.children.map(function(t){return t.statics.blotName===n.children.head.statics.blotName}).some(function(t){return!t}),r=this.listFormats(),o=r.row,a=r.cell,s=r.rowspan,l=r.colspan;!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer?i&&this.unwrap():this.wrap(this.statics.requiredContainer.blotName,{row:o,cell:a,colspan:l,rowspan:s});var c=this.getToggleParents().every(function(t){return t.domNode.getAttribute("data-list-toggle")||t.listFormats()&&t.listFormats().list&&"toggled"!==t.listFormats().list.list});_(this.domNode,{display:"".concat(c?"block":"none")}),W(V(e.prototype),"optimize",this).call(this,t)}},{key:"getIndent",value:function(){return this.listFormats()["wrapper-indent"]||0}}],[{key:"create",value:function(t){var n=W(V(e),"create",this).call(this,t);return tt.concat(J).concat([ht.blotName,"wrapper-indent"]).forEach(function(e){t[e]&&n.setAttribute("data-".concat(e),t[e])}),t["wrapper-indent"]&&n.classList.add("ql-wrapper-indent-".concat(t["wrapper-indent"])),n}},{key:"addAllowChildren",value:function(t){e.allowedChildren.indexOf(t)<0&&e.allowedChildren.push(t)}}]),e}(Z);function pt(){var t=Math.random().toString(36).slice(2,8);return"row-".concat(t)}function gt(){var t=Math.random().toString(36).slice(2,8);return"cell-".concat(t)}function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wt(t,e,n){return e&&yt(t.prototype,e),n&&yt(t,n),t}function kt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t,e,n){return(_t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xt(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}ft.blotName="list-block-wrapper",ft.className="clickup-list-block-wrapper",ft.tagName="LI",dt.allowedChildren=[ht,ft],ht.requiredContainer=dt,ft.requiredContainer=dt,ft.allowedChildren=[],ut.allowedChildren=[ct],ct.requiredContainer=ut,ct.allowedChildren=[at,lt],at.requiredContainer=ct,at.allowedChildren=[ot],ot.requiredContainer=at,ot.allowedChildren=[rt],rt.requiredContainer=ot,rt.allowedChildren=[it,dt],it.requiredContainer=rt,lt.allowedChildren=[st],lt.requiredContainer=ct,st.requiredContainer=lt;var Et="in-list",Lt=function(t){function e(){return vt(this,e),kt(this,xt(e).apply(this,arguments))}return Ot(e,t),wt(e,[{key:"optimize",value:function(t){var n=this.getFormats();!n[Et]||this.parent instanceof ft||this.wrap(ft.blotName,bt({row:n.row,cell:n.cell,colspan:n.colspan,rowspan:n.rowspan,list:"none"},"wrapper-indent",n["wrapper-indent"])),_t(xt(e.prototype),"optimize",this).call(this,t)}},{key:"getFormats",value:function(){var t=this;return tt.concat(J).concat([Et,"wrapper-indent"]).reduce(function(e,n){return t.domNode.hasAttribute("data-".concat(n))&&(e[n]=t.domNode.getAttribute("data-".concat(n))||void 0),e},{})}}],[{key:"create",value:function(t){var n=_t(xt(e),"create",this).call(this,t);return tt.concat(J).forEach(function(e){t[e]&&n.setAttribute("data-".concat(e),t[e])}),t[Et]&&n.setAttribute("data-".concat(Et),"true"),t["wrapper-indent"]&&n.setAttribute("data-".concat("wrapper-indent"),t["wrapper-indent"]),n}}]),e}(v.a);Lt.blotName="blockquote-container",Lt.className="ql-blockquote-container",Lt.tagName="DIV";var Ct=function(t){function e(){return vt(this,e),kt(this,xt(e).apply(this,arguments))}return Ot(e,t),wt(e,[{key:"optimize",value:function(t){var n,i=e.formats(this.domNode);!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,(bt(n={row:i.row,cell:i.cell,colspan:i.colspan,rowspan:i.rowspan},Et,i[Et]),bt(n,"wrapper-indent",i["wrapper-indent"]),n)),_t(xt(e.prototype),"optimize",this).call(this,t)}}],[{key:"register",value:function(){m.a.register(Lt),ft.addAllowChildren(Lt)}},{key:"create",value:function(t){"object"!==mt(t)&&(t={blockquote:t});var n=_t(xt(e),"create",this).call(this,t);return J.concat(tt).forEach(function(e){t[e]&&n.setAttribute("data-".concat(e),t[e])}),t[Et]&&n.setAttribute("data-".concat(Et),nt.indexOf(t[Et])>=0?t[Et]:"none"),t["wrapper-indent"]&&n.setAttribute("data-".concat("wrapper-indent"),t["wrapper-indent"]),n}},{key:"formats",value:function(t){return tt.concat(J).concat([Et,"wrapper-indent"]).reduce(function(e,n){return t.hasAttribute("data-".concat(n))&&(e[n]=t.getAttribute("data-".concat(n))||void 0),e},{})}}]),e}(b.d);Ct.blotName="blockquote",Ct.tagName="blockquote",Lt.allowedChildren=[Ct],Ct.requiredContainer=Lt;var At=Ct,Tt=n(36),qt=n(31),jt=n(19),St=n(32),Rt=n(33),It=n(10);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t,e,n){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zt(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(){return Pt(this,e),Mt(this,zt(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(e,t),n=e,r=[{key:"create",value:function(){return Ht(zt(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}],(i=[{key:"optimize",value:function(t){Ht(zt(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}])&&Dt(n.prototype,i),r&&Dt(n,r),e}(It.a);Ft.blotName="bold",Ft.tagName=["STRONG","B"];var Wt=Ft;function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yt=function(t){function e(){return $t(this,e),Gt(this,Kt(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(e,t),e}(Wt);Yt.blotName="italic",Yt.tagName=["EM","I"];var Qt=Yt,Xt=n(21);function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ne(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ie(t,e,n){return(ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=re(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ae=function(t){function e(){return te(this,e),ne(this,re(e).apply(this,arguments))}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(e,t),n=e,(i=[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):ie(re(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}])&&ee(n,i),e}(It.a);ae.blotName="script",ae.tagName=["SUB","SUP"];var se=ae;function le(t){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){return!e||"object"!==le(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,e){return(he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fe=function(t){function e(){return ce(this,e),ue(this,de(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(e,t),e}(Wt);fe.blotName="strike",fe.tagName=["S","STRIKE"];var pe=fe;function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){return!e||"object"!==ge(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var we=function(t){function e(){return me(this,e),be(this,ve(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(e,t),e}(It.a);we.blotName="underline",we.tagName="U";var ke=we,_e=n(30);function xe(t){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ee(t,e){return!e||"object"!==xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Le(t,e,n){return(Le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ce(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Te=function(t){function e(){return Oe(this,e),Ee(this,Ce(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(e,t),n=e,r=[{key:"create",value:function(t){if(null==window.katex)throw new Error("Formula module requires KaTeX.");var n=Le(Ce(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}],(i=[{key:"html",value:function(){var t=this.value();return"<span>".concat(t.formula,"</span>")}}])&&Ne(n.prototype,i),r&&Ne(n,r),e}(_e.a);Te.blotName="formula",Te.className="ql-formula",Te.tagName="SPAN";var qe=Te;function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ie(t,e){return!e||"object"!==je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Be(t,e,n){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pe(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Me=["alt","height","width"],He=function(t){function e(){return Se(this,e),Ie(this,Pe(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&De(t,e)}(e,t),n=e,r=[{key:"create",value:function(t){var n=Be(Pe(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return Me.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"register",value:function(){/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(t){return Object(Xt.b)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}],(i=[{key:"format",value:function(t,n){Me.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):Be(Pe(e.prototype),"format",this).call(this,t,n)}}])&&Re(n.prototype,i),r&&Re(n,r),e}(a.EmbedBlot);He.blotName="image",He.tagName="IMG";var ze=He;function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ve(t,e){return!e||"object"!==Ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $e(t,e,n){return($e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ge(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ze=["height","width"],Ye=function(t){function e(){return Fe(this,e),Ve(this,Ge(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(e,t),n=e,r=[{key:"create",value:function(t){var n=$e(Ge(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return Ze.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return Xt.a.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}],(i=[{key:"format",value:function(t,n){Ze.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):$e(Ge(e.prototype),"format",this).call(this,t,n)}},{key:"html",value:function(){var t=this.value().video;return'<a href="'.concat(t,'">').concat(t,"</a>")}}])&&We(n.prototype,i),r&&We(n,r),e}(b.a);Ye.blotName="video",Ye.className="ql-video",Ye.tagName="IFRAME";var Qe=Ye,Xe=n(13),Je=n(7),tn=n(16),en=n(6),nn=n(37);function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){return!e||"object"!==on(e)&&"function"!=typeof e?ln(t):e}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function un(t,e,n){return e&&cn(t.prototype,e),n&&cn(t,n),t}function dn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fn(t,e,n){return(fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pn(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function pn(t){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gn=new a.ClassAttributor("code-token","hljs",{scope:a.Scope.INLINE}),mn=function(t){function e(t,n,i){var r;return an(this,e),r=sn(this,pn(e).call(this,t,n,i)),gn.add(r.domNode,i),r}return dn(e,t),un(e,null,[{key:"formats",value:function(t,n){for(;null!=t&&t!==n.domNode;){if(t.classList&&t.classList.contains(Xe.c.className))return fn(pn(e),"formats",this).call(this,t,n);t=t.parentNode}}}]),un(e,[{key:"format",value:function(t,n){t!==e.blotName?fn(pn(e.prototype),"format",this).call(this,t,n):n?gn.add(this.domNode,n):(gn.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(t=fn(pn(e.prototype),"optimize",this)).call.apply(t,[this].concat(i)),gn.value(this.domNode)||this.unwrap()}}]),e}(It.a);mn.blotName="code-token",mn.className="ql-token";var bn=function(t){function e(){return an(this,e),sn(this,pn(e).apply(this,arguments))}return dn(e,t),un(e,[{key:"format",value:function(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):fn(pn(e.prototype),"format",this).call(this,t,n)}},{key:"optimize",value:function(t){var n,i=e.formats(this.domNode);!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,(rn(n={row:i.row,cell:i.cell,colspan:i.colspan,rowspan:i.rowspan},"in-list",i["in-list"]),rn(n,"wrapper-indent",i["wrapper-indent"]),n)),fn(pn(e.prototype),"optimize",this).call(this,t)}},{key:"replaceWith",value:function(t,n){return this.formatAt(0,this.length(),mn.blotName,!1),fn(pn(e.prototype),"replaceWith",this).call(this,t,n)}}],[{key:"create",value:function(t){"string"==typeof t&&(t=rn({},e.blotName,t));var n=fn(pn(e),"create",this).call(this,t);return"string"==typeof t[e.blotName]&&n.setAttribute("data-language",t[e.blotName]),J.concat(tt).forEach(function(e){t[e]&&n.setAttribute("data-".concat(e),t[e])}),t["in-list"]&&n.setAttribute("data-".concat("in-list"),nt.indexOf(t["in-list"])>=0?t["in-list"]:"none"),t["wrapper-indent"]&&n.setAttribute("data-".concat("wrapper-indent"),t["wrapper-indent"]),n}},{key:"formats",value:function(t){var n={};return t.hasAttribute("data-language")&&(n[e.blotName]=t.getAttribute("data-language")||"plain"),tt.concat(J).concat(["in-list","wrapper-indent"]).reduce(function(e,n){return t.hasAttribute("data-".concat(n))&&(e[n]=t.getAttribute("data-".concat(n))||void 0),e},n)}},{key:"register",value:function(){ft.addAllowChildren(vn)}}]),e}(Xe.c),vn=function(t){function e(){return an(this,e),sn(this,pn(e).apply(this,arguments))}return dn(e,t),un(e,[{key:"attach",value:function(){fn(pn(e.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(t,e){t===bn.blotName&&(this.forceNext=!0,this.children.forEach(function(n){n.format(t,e)}))}},{key:"formatAt",value:function(t,n,i,r){i===bn.blotName&&(this.forceNext=!0),fn(pn(e.prototype),"formatAt",this).call(this,t,n,i,r)}},{key:"highlight",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.children.head){var i=Array.from(this.domNode.childNodes).filter(function(t){return t!==e.uiNode}),r="".concat(i.map(function(t){return t.textContent}).join("\n"),"\n"),o=bn.formats(this.children.head.domNode)[bn.blotName];if(n||this.forceNext||this.cachedText!==r){if(r.trim().length>0||null==this.cachedText){var a=this.children.reduce(function(t,e){return t.concat(Object(b.b)(e,!1))},new w.a),s=t(r,o);a.diff(s).reduce(function(t,n){var i=n.retain,r=n.attributes;return i?(r&&Object.keys(r).forEach(function(n){[bn.blotName,mn.blotName].includes(n)&&e.formatAt(t,i,n,r[n])}),t+i):t},0)}this.cachedText=r,this.forceNext=!1}}}},{key:"optimize",value:function(t){var n=this.getFormats();if(!n["in-list"]||this.parent instanceof ft||this.wrap(ft.blotName,rn({row:n.row,cell:n.cell,colspan:n.colspan,rowspan:n.rowspan,list:"none"},"wrapper-indent",n["wrapper-indent"])),fn(pn(e.prototype),"optimize",this).call(this,t),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){var i=bn.formats(this.children.head.domNode)[bn.blotName];i!==this.uiNode.value&&(this.uiNode.value=i)}}},{key:"getFormats",value:function(){var t=this;return tt.concat(J).concat(["in-list","wrapper-indent"]).reduce(function(e,n){return t.domNode.hasAttribute("data-".concat(n))&&(e[n]=t.domNode.getAttribute("data-".concat(n))||void 0),e},{})}}],[{key:"create",value:function(t){var n=fn(pn(e),"create",this).call(this,t);return tt.concat(J).forEach(function(e){t[e]&&n.setAttribute("data-".concat(e),t[e])}),t["in-list"]&&n.setAttribute("data-".concat("in-list"),"true"),t["wrapper-indent"]&&n.setAttribute("data-".concat("wrapper-indent"),t["wrapper-indent"]),n}}]),e}(Xe.b);vn.allowedChildren=[bn],bn.requiredContainer=vn,bn.allowedChildren=[mn,tn.a,en.a,Je.a];var yn=function(t){function e(t,n){var i;if(an(this,e),null==(i=sn(this,pn(e).call(this,t,n))).options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return i.languages=i.options.languages.reduce(function(t,e){return t[e.key]=!0,t},{}),i.highlightBlot=i.highlightBlot.bind(ln(i)),i.initListener(),i.initTimer(),i}return dn(e,t),un(e,null,[{key:"register",value:function(){m.a.register(mn,!0),m.a.register(bn,!0),m.a.register(vn,!0)}}]),un(e,[{key:"initListener",value:function(){var t=this;this.quill.on(m.a.events.SCROLL_BLOT_MOUNT,function(e){if(e instanceof vn){var n=t.quill.root.ownerDocument.createElement("select");t.options.languages.forEach(function(t){var e=t.key,i=t.label,r=n.ownerDocument.createElement("option");r.textContent=i,r.setAttribute("value",e),n.appendChild(r)}),n.addEventListener("change",function(){e.format(bn.blotName,n.value),t.quill.root.focus(),t.highlight(e,!0)}),null==e.uiNode&&(e.attachUI(n),e.children.head&&(n.value=bn.formats(e.children.head.domNode)[bn.blotName]))}})}},{key:"initTimer",value:function(){var t=this,e=null;this.quill.on(m.a.events.SCROLL_OPTIMIZE,function(){clearTimeout(e),e=setTimeout(function(){t.highlight(),e=null},t.options.interval)})}},{key:"highlight",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.quill.selection.composing){this.quill.update(m.a.sources.USER);var i=this.quill.getSelection(),r=null==e?this.quill.scroll.descendants(vn):[e];r.forEach(function(e){e.highlight(t.highlightBlot,n)}),this.quill.update(m.a.sources.SILENT),null!=i&&this.quill.setSelection(i,m.a.sources.SILENT)}}},{key:"highlightBlot",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(e=this.languages[e]?e:"plain"))return Object(en.b)(t).split("\n").reduce(function(t,n,i){return 0!==i&&t.insert("\n",rn({},Xe.c.blotName,e)),t.insert(n)},new w.a);var n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Xe.c.className),n.innerHTML=this.options.hljs.highlight(e,t).value,Object(nn.b)(this.quill.scroll,n,[function(t,e){var n=gn.value(t);return n?e.compose((new w.a).retain(e.length(),rn({},mn.blotName,n))):e}],[function(t,n){return t.data.split("\n").reduce(function(t,n,i){return 0!==i&&t.insert("\n",rn({},Xe.c.blotName,e)),t.insert(n)},n)}],new WeakMap)}}]),e}(O.a);yn.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};var wn=n(26);function kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){_n(t,e,n[e])})}return t}function _n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xn(t,e,n){var i=t.parentNode,r=Array.from(("TABLE"===i.parentNode.tagName?i.parentNode:i.parentNode.parentNode).querySelectorAll("tr")),o=Array.from(i.querySelectorAll("td")),a=r.indexOf(i)+1,s="".concat(a,"-").concat(o.indexOf(t)+1),l=t.getAttribute("colspan")||1,c=t.getAttribute("rowspan")||1;return 0===e.length()?e=(new w.a).insert("\n",{"table-cell-line":{row:a,cell:s,rowspan:c,colspan:l}}):(e=e.reduce(function(t,e){if(e.insert&&"string"==typeof e.insert){for(var n=[],i=e.insert,r=0,o=0;o<e.insert.length;o++)"\n"===i.charAt(o)&&(0===o||n.push(i.substring(r,o)),n.push("\n"),r=o+1);var a=i.substring(r);a&&n.push(a),n.forEach(function(n){"\n"===n?t.insert("\n",e.attributes):t.insert(n,Object(wn.a)(e.attributes,["table","table-cell-line","list-container","list"]))})}else t.insert(e.insert,e.attributes);return t},new w.a)).reduce(function(t,e){if(e.insert&&"string"==typeof e.insert&&e.insert.startsWith("\n")){var n=e.attributes.list?{list:Object.assign({},kn({row:a,cell:s,rowspan:c,colspan:l},e.attributes.list),e.attributes.table)}:{"table-cell-line":{row:a,cell:s,rowspan:c,colspan:l}};t.insert(e.insert,Object.assign({},Object.assign({},{row:a},e.attributes.table),n,Object(wn.a)(e.attributes,["table","list-container","list"])))}else t.insert(e.insert,Object.assign({},Object(wn.a)(e.attributes,["table","table-cell-line","list-container","list"])));return t},new w.a)}function On(t,e,n){var i=t.parentNode,r=Array.from(("TABLE"===i.parentNode.tagName?i.parentNode:i.parentNode.parentNode).querySelectorAll("tr")),o=Array.from(i.querySelectorAll("th")),a=r.indexOf(i)+1,s=o.indexOf(t)+1,l=t.getAttribute("colspan")||!1,c=t.getAttribute("rowspan")||!1;return 0===e.length()?e=(new w.a).insert("\n",{"table-cell-line":{row:a,cell:s,rowspan:c,colspan:l}}):(e=e.reduce(function(t,e){if(e.insert&&"string"==typeof e.insert){for(var n=[],i=e.insert,r=0,o=0;o<e.insert.length;o++)"\n"===i.charAt(o)&&(0===o||n.push(i.substring(r,o)),n.push("\n"),r=o+1);var u=i.substring(r);u&&n.push(u),n.indexOf("\n")<0&&n.push("\n"),n.forEach(function(n){"\n"===n?t.insert("\n",{"table-cell-line":{row:a,cell:s,rowspan:c,colspan:l}}):t.insert(n,e.attributes)})}else t.insert(e.insert,e.attributes);return t},new w.a)).reduce(function(t,e){return e.insert&&"string"==typeof e.insert&&e.insert.startsWith("\n")?t.insert(e.insert,Object.assign({},{"table-cell-line":{row:a,cell:s,rowspan:c,colspan:l}})):t.insert(e.insert,Object.assign({},Object(wn.a)(e.attributes,["table","table-cell-line"]))),t},new w.a)}function Nn(t,e,n){var i=new w.a,r=t.querySelector("tr");if(null===r)return i;if(1===t.querySelectorAll("td").length)return e.reduce(function(t,e){return e.attributes&&e.attributes[it.blotName]?t.insert(e.insert,Object(wn.a)(e.attributes,[it.blotName])):e.attributes&&e.attributes.list&&e.attributes.list.row&&e.attributes.list.cell?t.insert(e.insert,Object.assign({},e.attributes,{list:{list:e.attributes.list.list}})):t.push(e),t},new w.a);var o=Array.from(r.querySelectorAll("td")).concat(Array.from(r.querySelectorAll("th"))).reduce(function(t,e){var n=e.getAttribute("colspan")||1;return t+parseInt(n,10)},0),a=t.querySelectorAll("col").length;if(a===o)return e;for(var s=0;s<o-a;s++)i.insert("\n",{"table-col":!0});if(0===a)return i.concat(e);var l=0;return e.reduce(function(t,e){return t.insert(e.insert,e.attributes),e.attributes&&e.attributes["table-col"]&&(l+=e.insert.length)===a&&(t=t.concat(i)),t},new w.a)}var En={insertColumnLeft:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M380.342857 336.457143h526.811429v43.885714H380.342857z m0 307.2h526.811429v43.885714H380.342857zM643.657143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.582857A131.474286 131.474286 0 0 1 950.857143 204.8v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.588571 87.771429v614.4a87.588571 87.588571 0 0 0 87.588571 87.771429h614.582857a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM204.8 73.142857A131.657143 131.657143 0 0 0 73.142857 204.8v614.4a131.657143 131.657143 0 0 0 131.657143 131.657143h219.428571V73.142857z m131.84 460.8h-65.828571v65.828572h-43.885715v-65.828572h-65.828571v-43.885714h65.828571v-65.828572h43.885715v65.828572h65.828571z" /></svg>',insertColumnRight:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M73.142857 336.64h526.628572v43.885714H73.142857zM73.142857 643.657143h526.628572v43.885714H73.142857zM336.457143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857h-219.428571v877.714286h219.428571a131.657143 131.657143 0 0 0 131.657143-131.657143V204.8A131.84 131.84 0 0 0 819.2 73.142857z m44.068571 460.982857h-65.828571v65.828572H753.371429v-65.828572h-65.828572V490.057143h65.828572v-65.828572h44.068571v65.828572h65.828571z" /></svg>',deleteColumn:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M925.996 99.038c-25.47-25.6-60.121-39.822-96.323-39.822H194.198c-75.12 0.13-136.016 61.026-136.145 136.146v635.345c0 36.073 14.351 70.723 39.822 96.323 25.6 25.73 60.25 40.081 96.323 40.081h635.475c36.072 0 70.723-14.351 96.323-39.951 25.6-25.6 39.951-60.122 39.951-96.324V195.362c0-36.073-14.351-70.724-39.951-96.324z m-365.77 494.287L512 545.228l-48.226 48.097-32.194-31.935 48.355-48.226-48.226-48.097 32.194-32.194L512 480.97l48.097-48.097 32.194 32.194-48.097 48.097 48.226 48.226-32.194 31.935zM103.434 195.362c0-24.049 9.568-47.192 26.635-64.13 17.066-17.066 40.08-26.634 64.129-26.634h136.145v226.91H103.434V195.361z m0 181.656h226.91V649.31h-226.91V377.02z m90.764 544.84c-24.049 0-47.192-9.567-64.13-26.634-17.066-17.066-26.634-40.08-26.634-64.258V694.69h226.91v227.168H194.197z m726.238-90.763c0 24.048-9.438 47.192-26.505 64.259-17.066 17.066-40.21 26.634-64.258 26.505H693.527V694.69h226.91v136.404z m0-181.786H693.527V377.02h226.91v272.29zM693.527 331.507V104.598h136.146c24.048 0 47.192 9.438 64.258 26.505 17.067 17.067 26.635 40.21 26.505 64.259v136.145H693.527z" /></svg>',delete:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M764.42168889 830.5152c0 30.23530667-24.61013333 54.84430222-54.84316444 54.84430222H314.42147555c-30.23416889 0-54.84316445-24.61013333-54.84316444-54.84430222V248.32796445h504.84337778v582.18723555zM369.26577778 149.89084445c0-6.32832 4.92202667-11.25034667 11.25034667-11.25034667H644.18702222c6.32832 0 11.25034667 4.92202667 11.25034667 11.25034667v33.04675555H369.26577778V149.89084445z m559.68768 33.04675555H720.82773333V149.89084445c0-42.1888-34.45191111-76.64071111-76.64071111-76.64071112H380.51612445c-42.1888 0-76.64071111 34.45191111-76.64071112 76.64071112v33.04675555h-208.82773333c-18.28181333 0-33.04789333 14.76608-33.04789333 33.04675555s14.76608 33.04675555 33.04675555 33.04675556h98.43825778v581.48408889c0 66.79779555 54.14001778 120.93781333 120.93667555 120.93781333h395.1570489c66.79665778 0 120.93667555-54.14001778 120.93667555-120.93781333V248.32796445h98.43825778c18.28067555 0 33.04675555-14.76494222 33.04675555-33.04675556s-14.76608-32.34360889-33.04675555-32.34360889zM512 786.21923555c18.28181333 0 33.04675555-14.76608 33.04675555-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675555-33.04675556s-33.04675555 14.76494222-33.04675555 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675555 33.04789333m-153.98456889 0c18.28181333 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0.70314667 18.28181333 15.46922667 33.04789333 33.04675556 33.04789333m307.96913778 0c18.28067555 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76608-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675556 33.04789333" /></svg>',deleteSmall:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1592065784010" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3321" width="12" height="12" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M359.9872 184.0128h-7.9872c4.4032 0 7.9872-3.584 7.9872-7.9872v7.9872h304.0256v-7.9872c0 4.352 3.584 7.9872 7.9872 7.9872h-7.9872V256h71.9872V175.9744c0-35.2768-28.672-64-64-64h-320c-35.328 0-64 28.7232-64 64V256h71.9872V184.0128zM864 256H160a31.9488 31.9488 0 0 0-32 32v32c0 4.4032 3.584 7.9872 7.9872 7.9872h60.416l24.6784 523.008a64.0512 64.0512 0 0 0 63.8976 61.0304h454.0416c34.2016 0 62.2592-26.8288 63.8976-61.0304l24.6784-523.008h60.416c4.4032 0 7.9872-3.584 7.9872-7.9872v-32A31.9488 31.9488 0 0 0 864 256z m-132.7104 583.9872H292.7104l-24.2176-512h487.0144l-24.2176 512z" opacity=".65" p-id="3322"></path></svg>',copyTable:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608800910418" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3786" width="20" height="20"><path d="M720 192H176a80.096 80.096 0 0 0-80 80v608c0 44.128 35.904 80 80 80h544c44.128 0 80-35.872 80-80V272c0-44.096-35.872-80-80-80z m16 688c0 8.8-7.2 16-16 16H176a16 16 0 0 1-16-16V272a16 16 0 0 1 16-16h544a16 16 0 0 1 16 16v608z" p-id="3787"></path><path d="M848 64H304a32 32 0 0 0 0 64h544a16 16 0 0 1 16 16v608a32 32 0 1 0 64 0V144c0-44.096-35.872-80-80-80z" p-id="3788"></path><path d="M608 360H288a32 32 0 0 0 0 64h320a32 32 0 1 0 0-64z m0 160H288a32 32 0 1 0 0 64h320a32 32 0 1 0 0-64zM480 678.656H288a32 32 0 1 0 0 64h192a32 32 0 1 0 0-64z" p-id="3789"></path></svg>'},Ln=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e;return(e=[{key:"getSvgIcon",value:function(t){return En[t]}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var Cn=function(){function t(e,n,i){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tool=e,this.table=e.table,this.quill=e.quill,this.toolCell=n,this.colIndex=i,this.options=e.options||{},this.domNode=null,this.iconManager=new Ln,this.initDropdown(),this.destroyHandler=this.destroy.bind(this),setTimeout(function(){document.body.addEventListener("click",r.destroyHandler,!1)},0)}var e;return(e=[{key:"initDropdown",value:function(){var e,n,i,r,o=this,a=this.quill.root.parentNode,s=a.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("cu-col-tool-dropdown"),Object.keys(t.defaults).forEach(function(a){e=t.defaults[a],(n=document.createElement("div")).classList.add("cu-col-tool-dropdown-item"),(i=document.createElement("span")).classList.add("cu-col-tool-dropdown-item-icon"),i.innerHTML=o.iconManager.getSvgIcon(a),(r=document.createElement("span")).classList.add("cu-col-tool-dropdpwn-item-text"),r.innerText=e.text,n.addEventListener("click",e.handler.bind(o),!1),n.appendChild(i),n.appendChild(r),o.domNode.appendChild(n)});var l=this.toolCell.getBoundingClientRect();_(this.domNode,{position:"absolute",left:"".concat(l.left-s.left+a.scrollLeft+l.width/2,"px"),top:"".concat(l.top-s.top+a.scrollTop+l.height,"px"),zIndex:"".concat(this.options.zIndex+1||101)}),a.appendChild(this.domNode)}},{key:"reposition",value:function(){if(!this.quill||!this.quill.root||!this.toolCell)return!1;var t=this.quill.root.parentNode,e=t.getBoundingClientRect(),n=this.toolCell.getBoundingClientRect();_(this.domNode,{left:"".concat(n.left-e.left+t.scrollLeft+n.width/2,"px"),top:"".concat(n.top-e.top+t.scrollTop+n.height,"px")})}},{key:"destroy",value:function(){this.tool.setCellToInActive(this.toolCell),document.body.removeEventListener("click",this.destroyHandler,!1),this.domNode.remove()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();Cn.defaults={insertColumnLeft:{text:"Insert Column Left",handler:function(t){t.stopPropagation(),_o.find(this.table).insertColumn(this.colIndex,!1),this.tool.updateToolCells(),this.destroy()}},insertColumnRight:{text:"Insert Column Right",handler:function(t){t.stopPropagation(),_o.find(this.table).insertColumn(this.colIndex,!0),this.tool.updateToolCells(),this.destroy()}},deleteColumn:{text:"Delete This Column",handler:function(t){t.stopPropagation();var e=this.quill.getModule("table"),n=_o.find(this.table);this.destroy(),1===n.colGroup().children.length?(e.hideTableTools(),n.deleteColumn(this.colIndex)):(n.deleteColumn(this.colIndex),this.tool.updateToolCells())}}};var An=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.tooltip=null}var e;return(e=[{key:"show",value:function(t,e){this.tooltip&&this.hide(),this.tooltip=this.quill.addContainer("ql-table-tooltip"),this.tooltip.innerHTML=e||this.options.content||"";var n=this.quill.root.parentNode,i=n.getBoundingClientRect(),r=t.getBoundingClientRect();_(this.tooltip,{height:"".concat(24,"px"),lineHeight:"".concat(24,"px"),left:"".concat(r.left-i.left+n.scrollLeft+r.width/2,"px"),top:"".concat(r.top-i.top+n.scrollTop-24-8,"px"),zIndex:"".concat(this.options.zIndex||101)})}},{key:"hide",value:function(){this.tooltip&&this.tooltip.remove(),this.tooltip=null}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var Tn=function(){function t(e,n,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)return null;this.table=e,this.quill=n,this.options=i.tableTools||{},this.domNode=null,this.activeDropdown=null,this.helpRect=null,this.activeCell=null,this.helpLine=null,this.tooltip=new An(n,{zIndex:this.options.zIndex,content:"Add column"}),this.initColTool()}var e;return(e=[{key:"initColTool",value:function(){var t=this.quill.root.parentNode,e=this.table.parentNode,n=(this.table.getBoundingClientRect(),t.getBoundingClientRect()),i=e.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("cu-col-tool"),this.updateToolCells(),t.appendChild(this.domNode),_(this.domNode,{width:"".concat(i.width,"px"),height:"".concat(32,"px"),left:"".concat(i.left-n.left+t.scrollLeft,"px"),top:"".concat(i.top-n.top+t.scrollTop-32,"px"),zIndex:"".concat(this.options.zIndex||100)}),this.domNode.scrollLeft=e.scrollLeft}},{key:"createToolCell",value:function(){var t=document.createElement("div");t.classList.add("cu-col-tool-cell"),_(t,{height:"".concat(12,"px")});var e=document.createElement("div");e.classList.add("cu-col-tool-cell-holder"),t.appendChild(e);var n=document.createElement("div");n.classList.add("cu-col-tool-cell-add-col-right"),n.innerHTML="+",t.appendChild(n);var i=document.createElement("div");i.classList.add("cu-col-tool-cell-add-col-left"),i.innerHTML="+",t.appendChild(i);var r=document.createElement("div");return r.classList.add("cu-col-tool-cell-dropdown-icon"),new Array(3).fill(0).forEach(function(){var t=document.createElement("span");t.classList.add("cu-col-tool-cell-dropdown-icon-dot"),r.appendChild(t)}),t.appendChild(r),t}},{key:"updateToolCells",value:function(){var t=_o.find(this.table);if(!t||!t.colGroup())return this.quill.getModule("table").hideTableTools(),!1;for(var e=t.colGroup().children,n=e.length,i=Array.from(this.domNode.querySelectorAll(".cu-col-tool-cell")),r=0;r<Math.max(n,i.length);r++){var o=e.at(r),a=o&&parseInt(o.formats()[o.statics.blotName].width,10),s=null;i[r]?i[r]&&r>=n?i[r].remove():_(s=i[r],{"min-width":"".concat(a,"px")}):(s=this.createToolCell(),this.domNode.appendChild(s),this.addColCellHolderHandler(s),this.addInertColumnButtonHanler(s),this.addDropdownIconHandler(s),_(s,{"min-width":"".concat(a,"px")}))}}},{key:"destroy",value:function(){return this.helpLine&&(this.helpLine.remove(),this.helpLine=null),this.tooltip&&(this.tooltip.hide(),this.tooltip=null),this.domNode.remove(),null}},{key:"addDropdownIconHandler",value:function(t){var e=this,n=t.querySelector(".cu-col-tool-cell-dropdown-icon"),i=[].indexOf.call(this.domNode.childNodes,t);n.addEventListener("click",function(n){n.stopPropagation(),e.quill.getModule("table").closeToolsDropdown(),e.activeDropdown=new Cn(e,t,i,e.options),e.setCellToActive(t)},!1)}},{key:"setCellToActive",value:function(t){t.classList.add("active");var e=this.quill.root.parentNode,n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=this.table.parentNode.getBoundingClientRect();this.helpRect=document.createElement("div"),this.helpRect.classList.add("cu-help-rect"),_(this.helpRect,{position:"absolute",width:"".concat(i.width,"px"),height:"".concat(r.height,"px"),left:"".concat(i.left-n.left+e.scrollLeft-1,"px"),top:"".concat(i.top-n.top+e.scrollTop+i.height,"px"),zIndex:"".concat(this.options.zIndex||100)}),this.activeCell=t,e.appendChild(this.helpRect)}},{key:"setCellToInActive",value:function(t){t.classList.remove("active"),this.helpRect&&this.helpRect.remove(),this.helpRect=null,this.activeCell=null}},{key:"addInertColumnButtonHanler",value:function(t){var e,n,i,r=this,o=this.quill.root.parentNode,a=_o.find(this.table),s=t.querySelector(".cu-col-tool-cell-add-col-right"),l=t.querySelector(".cu-col-tool-cell-add-col-left");l.addEventListener("click",function(){var e=[].indexOf.call(r.domNode.childNodes,t);a.insertColumn(e,!1),r.updateToolCells()},!1),l.addEventListener("mouseover",function(a){r.tooltip.show(a.target),e=o.getBoundingClientRect(),r.table.getBoundingClientRect(),n=r.table.parentNode.getBoundingClientRect(),i=t.getBoundingClientRect(),r.helpLine&&(r.helpLine.remove(),r.helpLine=null),r.helpLine=document.createElement("div"),r.helpLine.classList.add("cu-help-line"),r.helpLine.classList.add("cu-help-line-col"),_(r.helpLine,{left:"".concat(i.left-e.left+o.scrollLeft-1,"px"),top:"".concat(i.top-e.top+o.scrollTop,"px"),zIndex:"".concat(r.options.zIndex||100),height:"".concat(n.height+32-20,"px"),width:"2px",backgroundColor:"#35A7ED"}),o.appendChild(r.helpLine)},!1),l.addEventListener("mouseout",function(){r.helpLine&&(r.helpLine.remove(),r.helpLine=null),r.tooltip&&r.tooltip.hide()}),s.addEventListener("click",function(){var e=[].indexOf.call(r.domNode.childNodes,t);a.insertColumn(e,!0),r.updateToolCells()},!1),s.addEventListener("mouseover",function(a){r.tooltip.show(a.target),e=o.getBoundingClientRect(),r.table.getBoundingClientRect(),n=r.table.parentNode.getBoundingClientRect(),i=t.getBoundingClientRect(),r.helpLine&&(r.helpLine.remove(),r.helpLine=null),r.helpLine=document.createElement("div"),r.helpLine.classList.add("cu-help-line"),r.helpLine.classList.add("cu-help-line-col"),_(r.helpLine,{left:"".concat(i.left+i.width-e.left+o.scrollLeft-2,"px"),top:"".concat(i.top-e.top+o.scrollTop,"px"),zIndex:"".concat(r.options.zIndex||100),height:"".concat(n.height+32-20,"px"),width:"2px",backgroundColor:"#35A7ED"}),o.appendChild(r.helpLine)},!1),s.addEventListener("mouseout",function(){r.helpLine&&(r.helpLine.remove(),r.helpLine=null),r.tooltip&&r.tooltip.hide()})}},{key:"addColCellHolderHandler",value:function(t){var e=this,n=_o.find(this.table),i=t.querySelector(".cu-col-tool-cell-holder"),r=this.quill.root.parentNode,o=r.getBoundingClientRect(),a=!1,s=0,l=0,c=0,u=0,d={},h={},f=null,p=function(t){t.stopPropagation(),a&&_(f,{left:"".concat(h.left+h.width-o.left+r.scrollLeft-2+(c=u+(l=t.clientX)-s>=100?l-s:100-u),"px")})},g=function r(o){o.preventDefault(),o.stopPropagation();var d=Array.from(e.domNode.querySelectorAll(".cu-col-tool-cell")).indexOf(t),g=n.colGroup().children.at(d);a&&(g.format("width",u+c),_(t,{"min-width":"".concat(u+c,"px")}),s=0,l=0,c=0,u=0,a=!1,i.classList.remove("dragging")),document.body.removeEventListener("mousemove",p),document.body.removeEventListener("mouseup",r),h={},f.remove(),f=null,n.updateTableWidth()};i.addEventListener("mousedown",function(n){n.preventDefault(),n.stopPropagation(),document.body.addEventListener("mousemove",p),document.body.addEventListener("mouseup",g),e.table.getBoundingClientRect(),d=e.table.parentNode.getBoundingClientRect(),h=t.getBoundingClientRect(),(f=document.createElement("div")).classList.add("cu-help-line"),f.classList.add("cu-help-line-col"),_(f,{left:"".concat(h.left+h.width-o.left+r.scrollLeft-1,"px"),top:"".concat(h.top-o.top+r.scrollTop,"px"),zIndex:"".concat(e.options.zIndex||100),height:"".concat(d.height+32-20,"px"),width:"1px",backgroundColor:"#35A7ED"}),r.appendChild(f),a=!0,s=n.clientX,u=h.width,i.classList.add("dragging")})}},{key:"reposition",value:function(){if(!(this.quill&&this.quill.root&&this.table&&this.table.parentNode))return!1;var t=this.quill.root.parentNode,e=this.table.parentNode,n=t.getBoundingClientRect(),i=e.getBoundingClientRect();if(_(this.domNode,{width:"".concat(i.width,"px"),height:"".concat(32,"px"),left:"".concat(i.left-n.left+t.scrollLeft,"px"),top:"".concat(i.top-n.top+t.scrollTop-32,"px")}),this.domNode.scrollLeft=e.scrollLeft,this.activeCell&&this.helpRect){var r=this.activeCell.getBoundingClientRect();_(this.helpRect,{left:"".concat(r.left-n.left+t.scrollLeft-1,"px"),top:"".concat(r.top-n.top+t.scrollTop+r.height,"px")})}this.activeDropdown&&this.activeDropdown.reposition()}},{key:"colToolCells",value:function(){return Array.from(this.domNode.querySelectorAll(".cu-col-tool-cell"))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function qn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jn=function(){function t(e,n,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)return null;this.table=e,this.quill=n,this.options=i.tableTools||{},this.domNode=null,this.iconManager=new Ln,this.helpLine=null,this.tooltip=new An(n,{zIndex:this.options.zIndex,content:"Add new row"}),this.initRowTool()}var e;return(e=[{key:"initRowTool",value:function(){var t=this.quill.root.parentNode,e=(this.table.getBoundingClientRect(),t.getBoundingClientRect()),n=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("cu-row-tool"),this.updateToolCells(),t.appendChild(this.domNode),_(this.domNode,{width:"".concat(32,"px"),height:"".concat(n.height,"px"),left:"".concat(n.left-e.left+t.scrollLeft-32,"px"),top:"".concat(n.top-e.top+t.scrollTop+1,"px"),zIndex:"".concat(this.options.zIndex||100)})}},{key:"createToolCell",value:function(){var t=document.createElement("div");t.classList.add("cu-row-tool-cell"),_(t,{width:"".concat(12,"px")});var e=document.createElement("div");e.classList.add("cu-row-tool-cell-add-row-top"),e.innerHTML="+",t.appendChild(e);var n=document.createElement("div");n.classList.add("cu-row-tool-cell-add-row-bottom"),n.innerHTML="+",t.appendChild(n);var i=document.createElement("div");return i.classList.add("cu-row-tool-cell-delete-row"),i.innerHTML=this.iconManager.getSvgIcon("deleteSmall"),t.appendChild(i),t}},{key:"updateToolCells",value:function(){var t=_o.find(this.table);if(!t)return this.quill.getModule("table").hideTableTools(),!1;for(var e=qn(t.descendants(at),1)[0].children,n=e.length,i=Array.from(this.domNode.querySelectorAll(".cu-row-tool-cell")),r=0;r<Math.max(n,i.length);r++){var o=void 0,a=null;i[r]?i[r]&&r>=n?i[r].remove():(a=i[r],o=e.at(r).domNode.getBoundingClientRect().height,_(a,{"min-height":"".concat(o,"px")})):(o=e.at(r).domNode.getBoundingClientRect().height,a=this.createToolCell(),this.domNode.appendChild(a),this.addInertRowButtonHanler(a),this.addDeleteRowButtonHanler(a),_(a,{"min-height":"".concat(o,"px")}))}_(this.domNode,{height:"".concat(this.table.parentNode.getBoundingClientRect().height,"px")})}},{key:"destroy",value:function(){return this.helpLine&&(this.helpLine.remove(),this.helpLine=null),this.tooltip&&(this.tooltip.hide(),this.tooltip=null),this.domNode.remove(),null}},{key:"addDeleteRowButtonHanler",value:function(t){var e=this,n=_o.find(this.table),i=t.querySelector(".cu-row-tool-cell-delete-row"),r=qn(n.descendants(at),1)[0],o=this.quill.getModule("table");i.addEventListener("click",function(){var i=[].indexOf.call(e.domNode.childNodes,t);1===r.children.length?(n.remove(),o.hideTableTools()):(n.deleteRow(i),e.updateToolCells())},!1),i.addEventListener("mouseover",function(t){e.tooltip.show(t.currentTarget,"Delete row")},!1),i.addEventListener("mouseout",function(){e.tooltip&&e.tooltip.hide()})}},{key:"addInertRowButtonHanler",value:function(t){var e,n,i,r,o=this,a=this.quill.root.parentNode,s=_o.find(this.table),l=t.querySelector(".cu-row-tool-cell-add-row-top"),c=t.querySelector(".cu-row-tool-cell-add-row-bottom");l.addEventListener("click",function(){var e=[].indexOf.call(o.domNode.childNodes,t);s.insertRow(e,!1),o.updateToolCells()},!1),l.addEventListener("mouseover",function(s){o.tooltip.show(s.target),e=a.getBoundingClientRect(),n=o.table.getBoundingClientRect(),i=o.table.parentNode.getBoundingClientRect(),r=t.getBoundingClientRect(),o.helpLine&&(o.helpLine.remove(),o.helpLine=null),o.helpLine=o.quill.addContainer("cu-help-line"),o.helpLine.classList.add("cu-help-line-row"),_(o.helpLine,{position:"absolute",left:"".concat(r.left-e.left+a.scrollLeft-1,"px"),top:"".concat(r.top-e.top+a.scrollTop-1,"px"),zIndex:"".concat(o.options.zIndex||100),width:"".concat(Math.min(i.width+12,n.width+12)-1,"px"),height:"2px",backgroundColor:"#35A7ED"})},!1),l.addEventListener("mouseout",function(){o.helpLine&&(o.helpLine.remove(),o.helpLine=null),o.tooltip&&o.tooltip.hide()}),c.addEventListener("click",function(){var e=[].indexOf.call(o.domNode.childNodes,t);s.insertRow(e,!0),o.updateToolCells()},!1),c.addEventListener("mouseover",function(s){o.tooltip.show(s.target),e=a.getBoundingClientRect(),n=o.table.getBoundingClientRect(),i=o.table.parentNode.getBoundingClientRect(),r=t.getBoundingClientRect(),o.helpLine&&(o.helpLine.remove(),o.helpLine=null),o.helpLine=o.quill.addContainer("cu-help-line"),o.helpLine.classList.add("cu-help-line-row"),_(o.helpLine,{position:"absolute",left:"".concat(r.left-e.left+a.scrollLeft-1,"px"),top:"".concat(r.top-e.top+a.scrollTop-1+r.height,"px"),zIndex:"".concat(o.options.zIndex||100),width:"".concat(Math.min(i.width+12,n.width+12)-1,"px"),height:"2px",backgroundColor:"#35A7ED"})},!1),c.addEventListener("mouseout",function(){o.helpLine&&(o.helpLine.remove(),o.helpLine=null),o.tooltip&&o.tooltip.hide()})}},{key:"reposition",value:function(){if(!this.quill||!this.quill.root||!this.table)return!1;var t=this.quill.root.parentNode,e=t.getBoundingClientRect(),n=this.table.parentNode.getBoundingClientRect();_(this.domNode,{left:"".concat(n.left-e.left+t.scrollLeft-32,"px"),top:"".concat(n.top-e.top+t.scrollTop+1,"px")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var Sn=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tool=e,this.table=e.table,this.quill=e.quill,this.options=e.options||{},this.domNode=null,this.iconManager=new Ln,this.initDropdown(),this.destroyHandler=this.destroy.bind(this),setTimeout(function(){document.body.addEventListener("click",n.destroyHandler,!1)},0)}var e;return(e=[{key:"initDropdown",value:function(){var e,n,i,r,o=this;this.domNode=document.createElement("div"),this.domNode.classList.add("cu-col-tool-dropdown"),Object.keys(t.defaults).forEach(function(a){e=t.defaults[a],(n=document.createElement("div")).classList.add("cu-col-tool-dropdown-item"),(i=document.createElement("span")).classList.add("cu-col-tool-dropdown-item-icon"),i.innerHTML=o.iconManager.getSvgIcon(a),(r=document.createElement("span")).classList.add("cu-col-tool-dropdpwn-item-text"),r.innerText=e.text,n.addEventListener("click",e.handler.bind(o),!1),n.appendChild(i),n.appendChild(r),o.domNode.appendChild(n)});var a=this.table.parentNode.getBoundingClientRect(),s=this.quill.root.parentNode,l=s.getBoundingClientRect();_(this.domNode,{position:"absolute",left:"".concat(a.left-l.left+s.scrollLeft,"px"),top:"".concat(a.top-l.top+s.scrollTop,"px"),zIndex:"".concat(this.options.zIndex+1||101)}),s.appendChild(this.domNode)}},{key:"reposition",value:function(){if(!this.quill||!this.quill.root||!this.table)return!1;var t=this.table.parentNode.getBoundingClientRect(),e=this.quill.root.parentNode,n=e.getBoundingClientRect();_(this.domNode,{left:"".concat(t.left-n.left+e.scrollLeft,"px"),top:"".concat(t.top-n.top+e.scrollTop,"px")})}},{key:"destroy",value:function(){this.tool.setCellToInActive(),document.body.removeEventListener("click",this.destroyHandler,!1),this.domNode.remove()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();Sn.defaults={delete:{text:"Delete Table",handler:function(t){t.stopPropagation();var e=this.quill.getModule("table"),n=_o.find(this.table);this.destroy(),e.hideTableTools(),n.remove()}},copyTable:{text:"Copy Table",handler:function(t){var e=_o.find(this.table),n=this.quill.getIndex(e);this.quill.setSelection(n,e.length(),_o.sources.SILENT),document.execCommand("copy")&&document.execCommand("copy"),this.quill.setSelection(n,0,_o.sources.SILENT)}}};var Rn=function(){function t(e,n,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)return null;this.table=e,this.quill=n,this.options=i.tableTools||{},this.domNode=null,this.activeDropdown=null,this.helpRect=null,this.iconManager=new Ln,this.initTableTool()}var e;return(e=[{key:"initTableTool",value:function(){var t=this,e=this.quill.root.parentNode,n=e.getBoundingClientRect(),i=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("cu-table-tool"),e.appendChild(this.domNode),_(this.domNode,{width:"".concat(12,"px"),height:"".concat(12,"px"),left:"".concat(i.left-n.left+e.scrollLeft-12,"px"),top:"".concat(i.top-n.top-12+e.scrollTop,"px"),zIndex:"".concat(this.options.zIndex||100)}),this.domNode.addEventListener("click",function(e){t.quill.getModule("table").closeToolsDropdown(),t.activeDropdown=new Sn(t),t.setCellToActive()},!1)}},{key:"setCellToActive",value:function(){var t=this.quill.root.parentNode,e=t.getBoundingClientRect(),n=this.table.parentNode.getBoundingClientRect(),i=this.table.getBoundingClientRect();this.domNode.classList.add("active"),this.helpRect=document.createElement("div"),this.helpRect.classList.add("cu-help-rect"),_(this.helpRect,{position:"absolute",width:"".concat(Math.min(i.width,n.width),"px"),height:"".concat(n.height,"px"),left:"".concat(n.left-e.left+t.scrollLeft,"px"),top:"".concat(n.top-e.top+t.scrollTop,"px"),zIndex:"".concat(this.options.zIndex||100)}),t.appendChild(this.helpRect)}},{key:"setCellToInActive",value:function(){this.domNode.classList.remove("active"),this.helpRect&&this.helpRect.remove(),this.helpRect=null}},{key:"destroy",value:function(){return this.domNode.remove(),null}},{key:"reposition",value:function(){if(!this.quill||!this.quill.root||!this.table)return!1;var t=this.quill.root.parentNode,e=t.getBoundingClientRect(),n=this.table.parentNode.getBoundingClientRect();_(this.domNode,{left:"".concat(n.left-e.left+t.scrollLeft-12,"px"),top:"".concat(n.top-e.top-12+t.scrollTop,"px")}),this.helpRect&&_(this.helpRect,{left:"".concat(n.left-e.left+t.scrollLeft,"px"),top:"".concat(n.top-e.top+t.scrollTop,"px")}),this.activeDropdown&&this.activeDropdown.reposition()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mn(t,e,n){return e&&Dn(t.prototype,e),n&&Dn(t,n),t}function Hn(t,e){return(Hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){return!(!t||!t.parent)&&(t.parent.statics.blotName===rt.blotName||zn(t.parent))}n(38);var Un=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=function(t,e){return!e||"object"!==In(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Pn(e).call(this,t,n)),n.togglelistPlaceholder&&(ht.DEFAULT_TOGGLE_PLACEHOLDER=n.togglelistPlaceholder),i.quill.on("text-change",function(t){if(i.rowTool&&i.table){var e=i.rowTool.table.getBoundingClientRect(),n=i.rowTool.domNode.getBoundingClientRect(),r=e.height-n.height;(r>4||r<-4)&&window.setTimeout(i.rowTool.updateToolCells(),0)}}),i.quill.on("selection-change",function(t,e){if(!t)return!0;var n=Bn(i.quill.getLine(t.index),1)[0],r=n.formats(),o=i.quill.getLines(t);if(1===o.length){var a=o[0],s=a.formats();s[a.statics.blotName]&&s[a.statics.blotName].cell&&t.length===a.length()&&i.quill.setSelection(t.index,t.length-1,m.a.sources.SILENT)}if(r&&(r[it.blotName]||r.list&&r.list.row&&r.list.cell)||i.hideTableTools(),r&&(r[it.blotName]||r.list&&r.list.row&&r.list.cell)&&i.columnTool&&i.rowTool){var l;if(n.parent&&n.parent instanceof rt?l=n.parent:n.parent&&n.parent.parent instanceof rt&&(l=n.parent.parent),!l)return;var c=l.cellOffset(),u=l.rowOffset(),d=i.columnTool.domNode.querySelectorAll(".cu-col-tool-cell"),h=i.rowTool.domNode.querySelectorAll(".cu-row-tool-cell");d.forEach(function(t){return t.classList.remove("cell-focused")}),d[c]&&d[c].classList.add("cell-focused"),h.forEach(function(t){return t.classList.remove("row-focused")}),h[u]&&h[u].classList.add("row-focused")}}),i.quill.root.addEventListener("click",function(e){var r=function(t){var e;if(null==(e=t.path||t.composedPath&&t.composedPath())&&t.target){var n=t.target;for((e=[]).push(n);n&&n.parentNode;)e.push(n=n.parentNode)}return e}(e);if(r&&!(r.length<=0)){var o=r.filter(function(t){return t.tagName&&"TABLE"===t.tagName.toUpperCase()&&t.classList.contains("clickup-table")})[0];if(o){if(i.table===o)return;i.table&&i.hideTableTools(),i.showTableTools(o,t,n)}else i.table&&i.hideTableTools()}},!1),document.body.addEventListener("scroll",function(t){i.table&&(i.columnTool&&i.columnTool.reposition(),i.rowTool&&i.rowTool.reposition(),i.tableTool&&i.tableTool.reposition())},!0),t.clipboard.addMatcher("td",xn),t.clipboard.addMatcher("th",On),t.clipboard.addMatcher("table",Nn),i.listenBalanceCells(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hn(t,e)}(e,t),Mn(e,null,[{key:"register",value:function(){m.a.register(st,!0),m.a.register(lt,!0),m.a.register(it,!0),m.a.register(rt,!0),m.a.register(ot,!0),m.a.register(at,!0),m.a.register(ct,!0),m.a.register(ut,!0),m.a.register(ht,!0),m.a.register(ft,!0),m.a.register(dt,!0)}}]),Mn(e,[{key:"showTableTools",value:function(t,e,n){this.hideTableTools();var i=this.quill.getModule("dragDropBlocks");i&&i.hideDraggableAnchor(),this.table=t,this.columnTool=new Tn(t,e,n),this.rowTool=new jn(t,e,n),this.tableTool=new Rn(t,e,n);var r=this.quill.getSelection();if(r){var o=Bn(this.quill.getLine(r.index),1)[0],a=o.formats();if(a&&(a[it.blotName]||a.list&&a.list.row&&a.list.cell)&&this.columnTool&&this.rowTool){var s;if(o.parent&&o.parent instanceof rt?s=o.parent:o.parent&&o.parent.parent instanceof rt&&(s=o.parent.parent),!s)return;var l=s.cellOffset(),c=s.rowOffset(),u=this.columnTool.domNode.querySelectorAll(".cu-col-tool-cell"),d=this.rowTool.domNode.querySelectorAll(".cu-row-tool-cell");u[l].classList.add("cell-focused"),d[c].classList.add("row-focused")}}}},{key:"hideTableTools",value:function(){this.columnTool&&this.columnTool.destroy(),this.rowTool&&this.rowTool.destroy(),this.tableTool&&this.tableTool.destroy(),this.columnTool=null,this.rowTool=null,this.tableTool=null,this.table=null}},{key:"closeToolsDropdown",value:function(){this.columnTool&&this.columnTool.activeDropdown&&this.columnTool.activeDropdown.destroy(),this.tableTool&&this.tableTool.activeDropdown&&this.tableTool.activeDropdown.destroy()}},{key:"deleteTable",value:function(){var t=Bn(this.getTable(),1)[0];if(null!=t){var e=t.offset();t.remove(),this.quill.update(m.a.sources.USER),this.quill.setSelection(e,m.a.sources.SILENT)}}},{key:"getTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==t)return[null,null,null,-1];var e=this.quill.getLine(t.index),n=Bn(e,2),i=n[0],r=n[1];if(null==i)return[null,null,null,-1];if(i.parent&&i.parent.statics.blotName===rt.blotName){var o=i.parent,a=o.parent,s=a.parent.parent;return[s,a,o,r]}if(i.statics.blotName===ht.blotName&&i.parent&&i.parent.parent&&i.parent.parent.statics.blotName===rt.blotName){var l=i.parent.parent,c=l.parent,u=c.parent.parent;return[u,c,l,r]}return[null,null,null,-1]}},{key:"insertTable",value:function(t,e){var n=this.quill.getSelection(!0),i=Bn(this.quill.getLine(n.index),2),r=i[0],o=i[1];if(null!=n){var a=this.quill.getLeaf(n.index)[0],s=(new w.a).retain(n.index);zn(a)||((!r.prev&&0===o||r&&0!==o||0===o&&r.prev&&r.prev.statics.blotName===ut.blotName)&&s.insert("\n"),s=new Array(e).fill("\n").reduce(function(t,e){return t.insert(e,{"table-col":!0}),t},s),s=new Array(t).fill(0).reduce(function(t){var n=pt();return new Array(e).fill("\n").reduce(function(t,e){return t.insert(e,{"table-cell-line":{row:n,cell:gt()}}),t},t)},s),0===o&&r.next&&r.next.statics.blotName!==ut.blotName&&s.delete(1),!r.prev&&0===o||r&&0!==o?(this.quill.updateContents(s,m.a.sources.USER),this.quill.setSelection(n.index+e+1,0,m.a.sources.API)):(this.quill.updateContents(s,m.a.sources.USER),this.quill.setSelection(n.index+e,0,m.a.sources.API)))}}},{key:"listenBalanceCells",value:function(){var t=this;this.quill.on(m.a.events.SCROLL_OPTIMIZE,function(e){e.some(function(t){return!!["TD","TR","TBODY","TABLE"].includes(t.target.tagName)})&&t.balanceTables()})}},{key:"balanceTables",value:function(){var t=this;this.quill.scroll.descendants(ct).forEach(function(t){t.balanceCells()}),setTimeout(function(){t.columnTool&&t.columnTool.updateToolCells(),t.columnTool&&t.columnTool.activeDropdown&&t.columnTool.activeDropdown.destroy(),t.rowTool&&t.rowTool.updateToolCells()},0)}}]),e}(O.a),Fn=n(11);function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $n(t,e){return!e||"object"!==Wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kn(t,e){return(Kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zn=Object(Fn.a)("quill:toolbar"),Yn=function(t){function e(t,n){var i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=$n(this,Gn(e).call(this,t,n)),Array.isArray(i.options.container)){var r=document.createElement("div");!function(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)Qn(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?function(t,e,n){var i=document.createElement("select");i.classList.add("ql-".concat(e)),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)}),t.appendChild(i)}(n,e,i):Qn(n,e,i)}}),t.appendChild(n)})}(r,i.options.container),t.container.parentNode.insertBefore(r,t.container),i.container=r}else i.container="string"==typeof i.options.container?document.querySelector(i.options.container):i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(t){i.addHandler(t,i.options.handlers[t])}),Array.from(i.container.querySelectorAll("button, select")).forEach(function(t){i.attach(t)}),i.quill.on(m.a.events.EDITOR_CHANGE,function(t,e){t===m.a.events.SELECTION_CHANGE&&i.update(e)}),i.quill.on(m.a.events.SCROLL_OPTIMIZE,function(){var t=Vn(i.quill.selection.getRange(),1);i.update(t[0])}),i):$n(i,Zn.error("Container required for toolbar",i.options))}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kn(t,e)}(e,t),(n=[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=Array.from(t.classList).find(function(t){return 0===t.indexOf("ql-")});n&&(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null!=this.handlers[n]||null!=this.quill.scroll.query(n)?(t.addEventListener("SELECT"===t.tagName?"change":"click",function(i){var r;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var o=t.options[t.selectedIndex];r=!o.hasAttribute("selected")&&(o.value||!1)}else r=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),i.preventDefault();e.quill.focus();var s=Vn(e.quill.selection.getRange(),1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,r);else if(e.quill.scroll.query(n).prototype instanceof a.EmbedBlot){if(!(r=prompt("Enter ".concat(n))))return;e.quill.updateContents((new w.a).retain(s.index).delete(s.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,r)),m.a.sources.USER)}else e.quill.format(n,r,m.a.sources.USER);e.update(s)}),this.controls.push([n,t])):Zn.warn("ignoring attaching to nonexistent format",n,t))}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var i=Vn(n,2),r=i[0],o=i[1];if("SELECT"===o.tagName){var a;if(null==t)a=null;else if(null==e[r])a=o.querySelector("option[selected]");else if(!Array.isArray(e[r])){var s=e[r];"string"==typeof s&&(s=s.replace(/"/g,'\\"')),a=o.querySelector('option[value="'.concat(s,'"]'))}null==a?(o.value="",o.selectedIndex=-1):a.selected=!0}else if(null==t)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var l=e[r]===o.getAttribute("value")||null!=e[r]&&e[r].toString()===o.getAttribute("value")||null==e[r]&&!o.getAttribute("value")||!("list"!==r||!e.list||e.list.list!==o.getAttribute("value"))||!!("list"===r&&e.list&&e.list.length&&e.list.every(function(t){return t.list===o.getAttribute("value")}));o.classList.toggle("ql-active",l)}else o.classList.toggle("ql-active",null!=e[r])})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(O.a);function Qn(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-".concat(e)),null!=n&&(i.value=n),t.appendChild(i)}function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jn(t,e){if("object"===Xn(e))for(var n in e)t.style[n]=e[n]}function ti(t){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ni(t,e){return!e||"object"!==ti(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ri(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function oi(t,e,n){return e&&ri(t.prototype,e),n&&ri(t,n),t}function ai(t,e){return(ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Yn.DEFAULTS={},Yn.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0===e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=t.quill.scroll.query(e,a.Scope.INLINE)&&t.quill.format(e,!1,m.a.sources.USER)})}else this.quill.removeFormat(e,m.a.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",m.a.sources.USER):t||"right"!==e||this.quill.format("align",!1,m.a.sources.USER),this.quill.format("direction",t,m.a.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0,10);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,m.a.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,m.a.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);this.quill.format("list","check"===t?"checked"!==n.list&&"unchecked"!==n.list&&"unchecked":t,m.a.sources.USER)}}};var si=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ei(this,e),(n=ni(this,ii(e).call(this,t,i))).options=i,n.dragging=!1,n.draggingRoot=null,n.dragOverRoot=null,n.dropRefRoot=null,n.activeAnchor=null,n.draggingHelpLine=n.quill.addContainer("cu-dragging-help-line"),n.dragOverPlaceholder=null,n.draggingBlots=[],n.quill.root.addEventListener("keydown",function(t){n.hideDraggableAnchor()}),n.quill.root.addEventListener("mousemove",function(t){if(!n.dragging&&n.quill.getSelection()){var e=t.target,i=m.a.find(e,!0),r=n.getDraggableRootBlot(i,e);if(r&&"table-view"===r.statics.blotName&&n.quill.getModule("table").table)return void n.hideDraggableAnchor();if(r&&n.draggingRoot!==r){if(n.hideDraggableAnchor(),n.draggingRoot=r,r&&"function"==typeof r.formats&&r.formats()&&r.formats().list){var o=r.getListItemChildren();n.draggingBlots=o.length>0?[r].concat(o):[]}n.showDraggableAnchor(i,e)}else r||n.hideDraggableAnchor()}},!1),n.quill.root.addEventListener("dragover",function(t){if(t.preventDefault(),t.stopPropagation(),n.dragging){if(t.target.classList.contains("ql-togglelist-placeholder")&&"LI"===t.target.parentNode.tagName){var e="function"!=typeof n.options.allowDragIntoToggle||n.options.allowDragIntoToggle(n.draggingRoot);return n.resetDraggingHelpLine(),document.getSelection().removeAllRanges(),n.dragOverPlaceholder=t.target,0===n.draggingBlots.length&&(n.draggingRoot instanceof b.d||n.isInlineRoot(n.draggingRoot))&&e?n.dragOverPlaceholder.classList.contains("allowed-active")||n.dragOverPlaceholder.classList.contains("not-allowed-active")||n.dragOverPlaceholder.classList.add("allowed-active"):n.dragOverPlaceholder.classList.contains("allowed-active")||n.dragOverPlaceholder.classList.contains("not-allowed-active")||n.dragOverPlaceholder.classList.add("not-allowed-active"),n.dragOverRoot=null,void(n.dropRefRoot=null)}if(n.resetDragOverPlaceholder(),0===n.draggingBlots.length&&n.isInlineRoot(n.draggingRoot)){var i=n.getNativeSelection(t);if(!i)return;var r=document.getSelection();if(null==r)return;return r.removeAllRanges(),void r.addRange(i)}var o=t.target,a=m.a.find(o,!0),s=n.getDropableRootBlot(a,o);if(s){if(n.dragOverRoot=s,n.dragOverRoot&&n.draggingRoot===n.dragOverRoot||n.draggingBlots.length>0&&n.draggingBlots.indexOf(n.dragOverRoot)>0)n.resetDraggingHelpLine(),n.dragOverRoot=null;else if(n.dragOverRoot&&n.draggingRoot!==n.dragOverRoot){var l=n.quill.root.parentNode,c=l.getBoundingClientRect(),u=n.dragOverRoot.domNode.getBoundingClientRect();t.clientY-u.top<u.height/2?(Jn(n.draggingHelpLine,{position:"absolute",width:"".concat(u.width,"px"),left:"".concat(u.left-c.left+l.scrollLeft,"px"),top:"".concat(u.top-c.top+l.scrollTop-2,"px"),zIndex:"".concat(n.options.zIndex||101),display:"block"}),n.dropRefRoot=n.dragOverRoot):(Jn(n.draggingHelpLine,{position:"absolute",width:"".concat(u.width,"px"),left:"".concat(u.left-c.left+l.scrollLeft,"px"),top:"".concat(u.top-c.top+l.scrollTop+u.height-2,"px"),zIndex:"".concat(n.options.zIndex||101),display:"block"}),n.dropRefRoot=n.dragOverRoot.next)}n.options.dragOverCallback&&"function"==typeof n.options.dragOverCallback&&n.options.dragOverCallback(t,n.dragOverRoot)}}},!1),n.quill.root.addEventListener("drop",function(t){if(t.preventDefault(),t.stopPropagation(),n.dragging&&n.isInlineRoot(n.draggingRoot)){var e=n.getNativeSelection(t);if(e&&!(n.draggingBlots.length>0)){var i,r=n.quill.getIndex(n.draggingRoot),o=n.draggingRoot.length(),a=n.quill.getContents(r,o);if(n.dragOverPlaceholder){var s=m.a.find(n.dragOverPlaceholder.parentNode,!0),l=n.quill.getIndex(s),c=s.formats(),u=c.indent||0;return i=l>r?(new w.a).retain(r).delete(o).retain(l-r-o+s.length()).concat(a).insert("\n",{list:Object.assign({},c.list,{list:"none"}),indent:u+1}):(new w.a).retain(l+s.length()).concat(a).insert("\n",{list:Object.assign({},c.list,{list:"none"}),indent:u+1}).retain(r-l-s.length()).delete(o),void n.quill.updateContents(i,m.a.sources.USER)}var d=n.quill.selection.normalizeNative(e),h=n.quill.selection.normalizedToRange(d);i=h.index>r?(new w.a).retain(r).delete(o).retain(h.index-r-o).concat(a):(new w.a).retain(h.index).concat(a).retain(r-h.index).delete(o),n.quill.updateContents(i,m.a.sources.USER)}}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ai(t,e)}(e,t),oi(e,null,[{key:"register",value:function(){}}]),oi(e,[{key:"isInlineRoot",value:function(t){return this.options.isInlineRoot?this.options.isInlineRoot(t):function(t){return t instanceof a.EmbedBlot&&!(t instanceof _e.a)}(t)}},{key:"getDraggableRootBlot",value:function(t,e){return this.options.getDraggableRootBlot?this.options.getDraggableRootBlot(t,e):function(t,e){var n;if(t?n=t.statics.blotName:e.classList.contains("ql-ui")&&"LI"===e.parentNode.tagName&&(n=(t=m.a.find(e.parentNode,!0)).statics.blotName),!n)return null;switch(n){case"table-cell-line":return t.tableCell()&&t.tableCell().table()&&t.tableCell().table().parent;case"table":return t.table()&&t.table().parent;case"list":case"image":case"block":return t;case"code":return t.parent.parent;case"code-block":return t.parent;case"code-block-container":return t;default:return null}}(t,e)}},{key:"getDropableRootBlot",value:function(t,e){return this.options.getDropableRootBlot?this.options.getDropableRootBlot(t,e):function(t,e){var n;if(t?n=t.statics.blotName:e.classList.contains("ql-ui")&&"LI"===e.parentNode.tagName&&(n=(t=m.a.find(e.parentNode,!0)).statics.blotName),!n)return null;switch(n){case"table-cell-line":return t.tableCell()&&t.tableCell().table()&&t.tableCell().table().parent;case"table":return t.table()&&t.table().parent;case"list":case"block":return t;case"code":return t.parent.parent;case"code-block":return t.parent;case"code-block-container":return t;default:return null}}(t,e)}},{key:"getNativeSelection",value:function(t){if(t){var e;if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(t.clientX,t.clientY);else{if(!document.caretPositionFromPoint)return;var n=document.caretPositionFromPoint(t.clientX,t.clientY);(e=document.createRange()).setStart(n.offsetNode,n.offset),e.setEnd(n.offsetNode,n.offset)}return e}}},{key:"resetDraggingHelpLine",value:function(){this.draggingHelpLine&&Jn(this.draggingHelpLine,{display:"none",width:"0",left:"0",top:"0"})}},{key:"resetDragOverPlaceholder",value:function(){this.dragOverPlaceholder&&(this.dragOverPlaceholder.classList.remove("allowed-active"),this.dragOverPlaceholder.classList.remove("not-allowed-active"),this.dragOverPlaceholder=null)}},{key:"hideDraggableAnchor",value:function(){this.activeAnchor&&this.activeAnchor.remove(),this.draggingRoot=null,this.dragOverRoot=null,this.dropRefRoot=null,this.draggingBlots=[],this.activeAnchor=null}},{key:"showDraggableAnchor",value:function(t,e){if(this.draggingRoot&&!(t&&"block"===t.statics.blotName&&1===t.length()&&t.children.head instanceof Je.a)){this.activeAnchor=this.quill.addContainer("cu-draggable-anchor");var n=document.createElement("div");n.classList.add("cu-draggable-anchor-icon"),n.innerHTML='<svg t="1596683681627" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5150" width="20" height="20"><path d="M362.666667 192m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5151" fill="#b1b1b1"></path><path d="M661.333333 192m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5152" fill="#b1b1b1"></path><path d="M362.666667 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5153" fill="#b1b1b1"></path><path d="M661.333333 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5154" fill="#b1b1b1"></path><path d="M362.666667 832m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5155" fill="#b1b1b1"></path><path d="M661.333333 832m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="5156" fill="#b1b1b1"></path></svg>',n.setAttribute("draggable",!0),this.activeAnchor.appendChild(n);var i=this.quill.root.parentNode,r=i.getBoundingClientRect(),o=this.draggingRoot.domNode.getBoundingClientRect(),a=!1;this.options.anchorAlignCenter&&("function"==typeof this.options.anchorAlignCenter?a=this.options.anchorAlignCenter(t,e):"boolean"==typeof this.options.anchorAlignCenter&&(a=this.options.anchorOffsetLeft));var s=0;this.options.anchorOffsetLeft&&("function"==typeof this.options.anchorOffsetLeft?s=this.options.anchorOffsetLeft(t,e):"number"==typeof this.options.anchorOffsetLeft&&(s=this.options.anchorOffsetLeft));var l=0;this.options.anchorOffsetTop&&("function"==typeof this.options.anchorOffsetTop?l=this.options.anchorOffsetTop(t,e):"number"==typeof this.options.anchorOffsetTop&&(l=this.options.anchorOffsetTop)),"number"!=typeof s&&(s=0),"number"!=typeof l&&(l=0),"boolean"!=typeof a&&(a=!1),a&&this.activeAnchor.classList.add("cu-draggable-anchor-center"),Jn(this.activeAnchor,{position:"absolute",width:"".concat(20,"px"),height:"".concat(o.height,"px"),left:"".concat(o.left-r.left+i.scrollLeft-20+s,"px"),top:"".concat(o.top-r.top+i.scrollTop+l,"px"),zIndex:"".concat(this.options.zIndex||101)}),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").addEventListener("dragstart",(function(t){this.dragging=!0,t.dataTransfer.setData("text/html",this.draggingRoot.domNode.outerHTML),t.dataTransfer.effectAllowed="move",this.quill.root&&this.quill.root.classList&&this.quill.root.classList.add("ql-dragging-blocks");var e=this.draggingRoot&&this.draggingRoot.domNode;e&&e.classList&&e.classList.add("ql-dragging-block-active"),this.draggingBlots.length>0&&this.draggingBlots.forEach(function(t){var e=t&&t.domNode;e&&e.classList&&e.classList.add("ql-dragging-block-active")}),this.options.dragStartCallback&&"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback(t,this.draggingRoot)}).bind(this)),this.activeAnchor.querySelector(".cu-draggable-anchor-icon").addEventListener("dragend",(function(t){var e=this;if(this.dragging){this.dragging=!1,this.resetDraggingHelpLine(),this.quill.root&&this.quill.root.classList&&this.quill.root.classList.remove("ql-dragging-blocks");var n=this.quill.getIndex(this.draggingRoot),i=this.draggingRoot.length(),r="function"!=typeof this.options.allowDragIntoToggle||this.options.allowDragIntoToggle(this.draggingRoot);if(!this.isInlineRoot(this.draggingRoot)&&this.draggingRoot instanceof b.d&&r&&this.dragOverPlaceholder&&0===this.draggingBlots.length){var o,a,s=m.a.find(this.dragOverPlaceholder.parentNode,!0),l=this.quill.getIndex(s),c=s.formats(),u=c.indent||0,d=this.quill.getContents(n,i);l>n?(o=(new w.a).retain(n).delete(i).retain(l-n-i+s.length()).concat(d),a=(new w.a).retain(l+s.length()-1).retain(1,{list:Object.assign({},c.list,{list:"none"}),indent:u+1})):(o=(new w.a).retain(l+s.length()).concat(d).retain(n-l-s.length()).delete(i),a=(new w.a).retain(l+s.length()+i-1).retain(1,{list:Object.assign({},c.list,{list:"none"}),indent:u+1})),o=o.compose(a),this.quill.updateContents(o,m.a.sources.USER)}else if(!this.dragOverRoot||this.isInlineRoot(this.draggingRoot)||this.dragOverPlaceholder||0!==this.draggingBlots.length||this.draggingRoot===this.dropRefRoot){if(this.dragOverRoot&&!this.isInlineRoot(this.draggingRoot)&&!this.dragOverPlaceholder&&this.draggingBlots.length>0&&this.draggingBlots.indexOf(this.dragOverRoot)<0&&this.draggingRoot!==this.dropRefRoot){var h,f,p=this.quill.getIndex(this.draggingBlots[0]),g=this.draggingBlots.reduce(function(t,e){return t+e.length()},0),v=this.quill.getContents(p,g),y=(new w.a).retain(p).delete(g),k=new w.a;this.dropRefRoot?(h=this.quill.getIndex(this.dropRefRoot),f=this.dropRefRoot.length(),k=n<h?(new w.a).retain(h-g).concat(v):(new w.a).retain(h).concat(v)):this.dragOverRoot&&(h=this.quill.getIndex(this.dragOverRoot),f=this.dragOverRoot.length(),k=n<h?(new w.a).retain(h+f-g).concat(v):(new w.a).retain(h+f).concat(v)),this.quill.updateContents(y.compose(k),m.a.sources.USER)}}else{var _,x,O=this.quill.getContents(n,i),N=(new w.a).retain(n).delete(i),E=new w.a;this.dropRefRoot?(_=this.quill.getIndex(this.dropRefRoot),x=this.dropRefRoot.length(),E=n<_?(new w.a).retain(_-i).concat(O):(new w.a).retain(_).concat(O)):this.dragOverRoot&&(_=this.quill.getIndex(this.dragOverRoot),x=this.dragOverRoot.length(),E=n<_?(new w.a).retain(_+x-i).concat(O):(new w.a).retain(_+x).concat(O)),this.quill.updateContents(N.compose(E),m.a.sources.USER)}var L=this.draggingRoot&&this.draggingRoot.domNode;L&&L.classList&&L.classList.remove("ql-dragging-block-active"),this.draggingBlots.length>0&&this.draggingBlots.forEach(function(t){var e=t&&t.domNode;e&&e.classList&&e.classList.remove("ql-dragging-block-active")}),this.hideDraggableAnchor(),this.resetDragOverPlaceholder(),this.options.dragEndCallback&&"function"==typeof this.options.dragEndCallback&&this.options.dragEndCallback(t),setTimeout(function(){var t=e.quill.getModule("table");t.table&&(t.columnTool&&t.columnTool.reposition(),t.rowTool&&t.rowTool.reposition(),t.tableTool&&t.tableTool.reposition())},1)}}).bind(this))}}}]),e}(O.a),li=n(61),ci=n.n(li),ui=n(62),di=n.n(ui),hi=n(63),fi=n.n(hi),pi=n(64),gi=n.n(pi),mi=n(65),bi=n.n(mi),vi=n(66),yi=n.n(vi),wi=n(67),ki=n.n(wi),_i=n(68),xi=n.n(_i),Oi=n(58),Ni=n.n(Oi),Ei=n(69),Li=n.n(Ei),Ci=n(70),Ai=n.n(Ci),Ti=n(71),qi=n.n(Ti),ji=n(72),Si=n.n(ji),Ri=n(73),Ii=n.n(Ri),Bi=n(74),Pi=n.n(Bi),Di=n(75),Mi=n.n(Di),Hi=n(76),zi=n.n(Hi),Ui=n(77),Fi=n.n(Ui),Wi=n(78),Vi=n.n(Wi),$i=n(79),Gi=n.n($i),Ki=n(80),Zi=n.n(Ki),Yi=n(81),Qi=n.n(Yi),Xi=n(82),Ji=n.n(Xi),tr=n(83),er=n.n(tr),nr=n(84),ir=n.n(nr),rr=n(85),or=n.n(rr),ar=n(86),sr=n.n(ar),lr=n(87),cr=n.n(lr),ur=n(88),dr={align:{"":ci.a,center:di.a,right:fi.a,justify:gi.a},background:bi.a,blockquote:yi.a,bold:ki.a,clean:xi.a,code:Ni.a,"code-block":Ni.a,color:Li.a,direction:{"":Ai.a,rtl:qi.a},formula:Si.a,header:{1:Ii.a,2:Pi.a},italic:Mi.a,image:zi.a,indent:{"+1":Fi.a,"-1":Vi.a},link:Gi.a,list:{bullet:Zi.a,check:Qi.a,ordered:Ji.a},script:{sub:er.a,super:ir.a},strike:or.a,table:sr.a,underline:cr.a,video:n.n(ur).a},hr=n(89),fr=n.n(hr);var pr=0;function gr(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var mr=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.key){case"Enter":n.togglePicker();break;case"Escape":n.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}var e;return(e=[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),gr(this.label,"aria-expanded"),gr(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0)}),n.addEventListener("keydown",function(t){switch(t.key){case"Enter":e.selectItem(n,!0),t.preventDefault();break;case"Escape":e.escape(),t.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=fr.a,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-".concat(pr),pr+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(function(n){var i=t.buildItem(n);e.appendChild(i),!0===n.selected&&t.selectItem(i)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;Array.from(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}},{key:"update",value:function(){var t;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function br(t){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e,n){return(vr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yr(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function yr(t){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wr(t,e){return(wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kr=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==br(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,yr(e).call(this,t))).label.innerHTML=n,i.container.classList.add("ql-color-picker"),Array.from(i.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(function(t){t.classList.add("ql-primary")}),i}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wr(t,e)}(e,t),(n=[{key:"buildItem",value:function(t){var n=vr(yr(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){vr(yr(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(mr);function _r(t){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xr(t,e,n){return(xr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Or(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nr(t,e){return(Nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Er=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==_r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Or(e).call(this,t))).container.classList.add("ql-icon-picker"),Array.from(i.container.querySelectorAll(".ql-picker-item")).forEach(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nr(t,e)}(e,t),(n=[{key:"selectItem",value:function(t,n){xr(Or(e.prototype),"selectItem",this).call(this,t,n);var i=t||this.defaultItem;this.label.innerHTML!==i.innerHTML&&(this.label.innerHTML=i.innerHTML)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),e}(mr);var Lr=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop="".concat(-1*i.quill.root.scrollTop,"px")}),this.hide()}var e;return(e=[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left="".concat(e,"px"),this.root.style.top="".concat(n,"px"),this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;return r.right>i.right&&(this.root.style.left="".concat(e+(o=i.right-r.right),"px")),r.left<i.left&&(this.root.style.left="".concat(e+(o=i.left-r.left),"px")),r.bottom>i.bottom&&(this.root.style.top="".concat(n-(t.bottom-t.top+(r.bottom-r.top)),"px"),this.root.classList.add("ql-flip")),o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),Cr=n(5),Ar=n.n(Cr),Tr=n(3),qr=n(28);function jr(t){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ir(t,e,n){return e&&Rr(t.prototype,e),n&&Rr(t,n),t}function Br(t,e){return!e||"object"!==jr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pr(t,e,n){return(Pr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dr(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Dr(t){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hr(t,e)}function Hr(t,e){return(Hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zr=[!1,"center","right","justify"],Ur=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Fr=[!1,"serif","monospace"],Wr=["1","2","3",!1],Vr=["small",!1,"large","huge"],$r=function(t){function e(t,n){var i;return Sr(this,e),i=Br(this,Dr(e).call(this,t,n)),t.emitter.listenDOM("click",document.body,function e(n){document.body.contains(t.root)?(null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach(function(t){t.container.contains(n.target)||t.close()})):document.body.removeEventListener("click",e)}),i}return Mr(e,t),Ir(e,[{key:"addModule",value:function(t){var n=Pr(Dr(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){Array.from(t).forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var i=t.value||"";null!=i&&e[n][i]&&(t.innerHTML=e[n][i])}})})}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=Array.from(t).map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&Kr(t,zr),new Er(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&Kr(t,Ur,"background"===n?"#ffffff":"#000000"),new kr(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?Kr(t,Fr):t.classList.contains("ql-header")?Kr(t,Wr):t.classList.contains("ql-size")&&Kr(t,Vr)),new mr(t)}),this.quill.on(Tr.a.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(t){t.update()})})}}]),e}(qr.a);$r.DEFAULTS=Ar()(!0,{},qr.a.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",function(){var n=t.quill.getSelection(!0);t.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Gr=function(t){function e(t,n){var i;return Sr(this,e),(i=Br(this,Dr(e).call(this,t,n))).textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return Mr(e,t),Ir(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){"Enter"===e.key?(t.save(),e.preventDefault()):"Escape"===e.key&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-".concat(t))||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t,e,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Tr.a.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Tr.a.sources.USER)),this.quill.root.scrollTop=i;break;case"video":n=(e=(t=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?"".concat(e[1]||"https","://www.youtube.com/embed/").concat(e[2],"?showinfo=0"):(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?"".concat(e[1]||"https","://player.vimeo.com/video/").concat(e[2],"/"):t;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var o=r.index+r.length;this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),n,Tr.a.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",Tr.a.sources.USER),this.quill.setSelection(o+2,Tr.a.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(Lr);function Kr(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)})}var Zr=n(15);function Yr(t){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jr(t,e,n){return e&&Xr(t.prototype,e),n&&Xr(t,n),t}function to(t,e){return!e||"object"!==Yr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eo(t,e,n){return(eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=no(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function io(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)}function ro(t,e){return(ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oo=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],ao=function(t){function e(t,n){var i;return Qr(this,e),(i=to(this,no(e).call(this,t,n))).quill.on(Tr.a.events.EDITOR_CHANGE,function(t,e,n,r){if(t===Tr.a.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===Tr.a.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width="".concat(i.root.offsetWidth,"px");var o=i.quill.getLines(e.index,e.length);if(1===o.length)i.position(i.quill.getBounds(e));else{var a=o[o.length-1],s=i.quill.getIndex(a),l=Math.min(a.length()-1,e.index+e.length-s),c=i.quill.getBounds(new Zr.a(s,l));i.position(c)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()}),i}return io(e,t),Jr(e,[{key:"listen",value:function(){var t=this;eo(no(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(Tr.a.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=eo(no(e.prototype),"position",this).call(this,t),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",0!==n&&(i.style.marginLeft="".concat(-1*n-i.offsetWidth/2,"px")),n}}]),e}(Gr);ao.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");var so=function(t){function e(t,n){var i;return Qr(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=oo),(i=to(this,no(e).call(this,t,n))).quill.container.classList.add("ql-bubble"),i}return io(e,t),Jr(e,[{key:"extendToolbar",value:function(t){this.tooltip=new ao(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),dr),this.buildPickers(t.container.querySelectorAll("select"),dr)}}]),e}($r);function lo(t){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function co(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ho(t,e,n){return e&&uo(t.prototype,e),n&&uo(t,n),t}function fo(t,e){return!e||"object"!==lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function po(t,e,n){return(po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=go(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bo(t,e)}function bo(t,e){return(bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}so.DEFAULTS=Ar()(!0,{},$r.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var vo=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],yo=function(t){function e(t,n){var i;return co(this,e),(i=fo(this,go(e).call(this,t,n))).preview=i.root.querySelector("a.ql-preview"),i}return mo(e,t),ho(e,[{key:"listen",value:function(){var t=this;po(go(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,Tr.a.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(Tr.a.events.SELECTION_CHANGE,function(e,n,i){if(null!=e){if(0===e.length&&i===Tr.a.sources.USER){var r=(2,function(t){if(Array.isArray(t))return t}(s=t.quill.scroll.descendant(Xt.a,e.index))||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=r[0];if(null!=o){t.linkRange=new Zr.a(e.index-r[1],o.length());var a=Xt.a.formats(o.domNode);return t.preview.textContent=a,t.preview.setAttribute("href",a),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}var s})}},{key:"show",value:function(){po(go(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(Gr);yo.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");var wo=function(t){function e(t,n){var i;return co(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=vo),(i=fo(this,go(e).call(this,t,n))).quill.container.classList.add("ql-snow"),i}return mo(e,t),ho(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),dr),this.buildPickers(t.container.querySelectorAll("select"),dr),this.tooltip=new yo(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}($r);wo.DEFAULTS=Ar()(!0,{},$r.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0===e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:".concat(n)),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var ko=wo;i.default.register({"attributors/attribute/direction":o.a,"attributors/attribute/void-detect":s,"attributors/attribute/block-id":l.a,"attributors/class/align":r.b,"attributors/class/background":qt.a,"attributors/class/color":jt.b,"attributors/class/direction":o.b,"attributors/class/font":St.a,"attributors/class/size":Rt.a,"attributors/style/align":r.c,"attributors/style/background":qt.b,"attributors/style/color":jt.c,"attributors/style/direction":o.c,"attributors/style/font":St.b,"attributors/style/size":Rt.b},!0),i.default.register({"formats/void-detect":s,"formats/block-id":l.a,"formats/align":r.b,"formats/direction":o.b,"formats/indent":g,"formats/background":qt.b,"formats/color":jt.c,"formats/font":St.a,"formats/size":Rt.a,"formats/blockquote":At,"formats/code-block":Xe.c,"formats/header":Tt.a,"formats/bold":Wt,"formats/code":Xe.a,"formats/italic":Qt,"formats/link":Xt.a,"formats/script":se,"formats/strike":pe,"formats/underline":ke,"formats/formula":qe,"formats/image":ze,"formats/video":Qe,"modules/syntax":yn,"modules/table":Un,"modules/toolbar":Yn,"modules/dragDropBlocks":si,"modules/storage":I,"themes/bubble":so,"themes/snow":ko,"ui/icons":dr,"ui/picker":mr,"ui/icon-picker":Er,"ui/color-picker":kr,"ui/tooltip":Lr},!0);var _o=e.default=i.default}]).default},t.exports=n()}).call(this,n("HDXh").Buffer)},"l8d+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o(n("711E"));var i=o(n("Wl8T")),r=o(n("+iJU"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={specs:[i.default,r.default],overlay:{className:"blot-formatter__overlay",style:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"}},align:{attribute:"data-align",aligner:{applyStyle:!0},icons:{left:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n        </svg>\n      ',center:'\n        <svg viewbox="0 0 18 18">\n           <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n        </svg>\n      ',right:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n        </svg>\n      '},toolbar:{allowDeselect:!0,mainClassName:"blot-formatter__toolbar",mainStyle:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default",zIndex:"1"},buttonClassName:"blot-formatter__toolbar-button",addButtonSelectStyle:!0,buttonStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},svgStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"}}},resize:{handleClassName:"blot-formatter__resize-handle",handleStyle:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"}}}},mo97:function(t,e,n){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=n("M6NW"),o=n("pFhy"),a=n("wRGI"),s=n("vwY/"),l=n("Cbd1"),c=n("di+K"),u=i(n("fzN0")),d=n("ZT6b"),h=n("zJbf"),f=function(){function t(t,e){this.rawDeltaOps=[],this.callbacks={},this.options=u.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},e,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,blocksCanBeWrappedWithList:this.options.blocksCanBeWrappedWithList||[],customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=t}return t.prototype._getListTag=function(t){return t.isOrderedList()?this.options.orderedListTag+"":t.isBulletList()||t.isToggledList()||t.isNoneTypeList()||t.isCheckedList()||t.isUncheckedList()||t.isListBlockWrapper(this.options.blocksCanBeWrappedWithList)?this.options.bulletListTag+"":""},t.prototype.getGroupedOps=function(){var t=r.InsertOpsConverter.convert(this.rawDeltaOps,this.options),e=a.Grouper.pairOpsWithTheirBlock(t),n=a.Grouper.groupConsecutiveSameStyleBlocks(e,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),i=a.Grouper.reduceConsecutiveSameStyleBlocksToOne(n);return i=new l.ListNester(this.options.blocksCanBeWrappedWithList).nest(i),new h.TableGrouper(this.options.blocksCanBeWrappedWithList).group(i)},t.prototype.convert=function(){var t=this;return this.getGroupedOps().map(function(e){if(e instanceof s.ListGroup)return t._renderWithCallbacks(d.GroupType.List,e,function(){return t._renderList(e)});if(e instanceof s.TableGroup)return t._renderWithCallbacks(d.GroupType.TableCellLine,e,function(){return t._renderTable(e)});if(e instanceof s.BlockGroup){var n=e;return t._renderWithCallbacks(d.GroupType.Block,e,function(){return t._renderBlock(n.op,n.ops)})}return e instanceof s.BlotBlock?t._renderCustom(e.op,null):e instanceof s.VideoItem?t._renderWithCallbacks(d.GroupType.Video,e,function(){return new o.OpToHtmlConverter(e.op,t.converterOptions).getHtml()}):t._renderWithCallbacks(d.GroupType.InlineGroup,e,function(){return t._renderInlines(e.ops,!0)})}).join("")},t.prototype._renderWithCallbacks=function(t,e,n){var i="",r=this.callbacks.beforeRender_cb;(i="function"==typeof r?r.apply(null,[t,e]):"")||(i=n());var o=this.callbacks.afterRender_cb;return"function"==typeof o?o.apply(null,[t,i]):i},t.prototype._renderList=function(t){var e=this,n=t.items[0],i=t.headOp?[{key:"data-row",value:t.headOp.attributes.row},{key:"data-cell",value:t.headOp.attributes.cell},{key:"data-rowspan",value:t.headOp.attributes.rowspan},{key:"data-colspan",value:t.headOp.attributes.colspan}]:[];return c.makeStartTag(this._getListTag(n.item.op),i)+t.items.map(function(t){return e._renderListItem(t)}).join("")+c.makeEndTag(this._getListTag(n.item.op))},t.prototype._renderListItem=function(t){t.item.op.attributes.indent=0;var e,n=new o.OpToHtmlConverter(t.item.op,this.converterOptions).getHtmlParts();return t.item instanceof s.BlockGroup?e=this._renderInlines(t.item.ops,!1):t.item instanceof s.BlotBlock&&(e=this._renderCustom(t.item.op,null)),n.openingTag+e+(t.innerList?this._renderList(t.innerList):"")+n.closingTag},t.prototype._renderTable=function(t){var e=this,n=t.colGroup,i=0;return n&&n.cols&&(i=n.cols.reduce(function(t,e){return e.item.op.attributes["table-col"]&&(t+=parseInt(e.item.op.attributes["table-col"].width||"0",10)),t},0)),c.makeStartTag("div",[{key:"class",value:"clickup-table-view"}])+c.makeStartTag("table",[{key:"class",value:"clickup-table"},{key:"style",value:i?"width: "+i+"px":""}])+c.makeStartTag("colgroup")+n.cols.map(function(t){return e._renderTableCol(t)}).join("")+c.makeEndTag("colgroup")+c.makeStartTag("tbody")+t.rows.map(function(t){return e._renderTableRow(t)}).join("")+c.makeEndTag("tbody")+c.makeEndTag("table")+c.makeEndTag("div")},t.prototype._renderTableCol=function(t){var e;return t.item.op.attributes["table-col"]&&(e=t.item.op.attributes["table-col"].width||"0"),c.makeStartTag("col",[{key:"width",value:e}])},t.prototype._renderTableRow=function(t){var e=this;return c.makeStartTag("tr",[{key:"data-row",value:t.row}])+t.cells.map(function(t){return e._renderTableCell(t)}).join("")+c.makeEndTag("tr")},t.prototype._renderTableCell=function(t){var e=this;return c.makeStartTag("td",[{key:"data-row",value:t.attrs.row},{key:"rowspan",value:t.attrs.rowspan},{key:"colspan",value:t.attrs.colspan}])+t.lines.map(function(t){return t instanceof s.TableCellLine?e._renderTableCellLine(t):e._renderList(t)}).join("")+c.makeEndTag("td")},t.prototype._renderTableCellLine=function(t){var e=new o.OpToHtmlConverter(t.item.op,this.converterOptions).getHtmlParts(),n=this._renderInlines(t.item.ops,!1);return c.makeStartTag("p",[{key:"class",value:"qlbt-cell-line"},{key:"data-row",value:t.attrs.row},{key:"data-cell",value:t.attrs.cell},{key:"data-rowspan",value:t.attrs.rowspan},{key:"data-colspan",value:t.attrs.colspan}])+e.openingTag+n+e.closingTag+c.makeEndTag("p")},t.prototype._renderBlock=function(t,e){var n=this,i=new o.OpToHtmlConverter(t,this.converterOptions).getHtmlParts();if(t.isCodeBlock())return i.openingTag+c.encodeHtml(e.map(function(e){return e.isCustomEmbed()?n._renderCustom(e,t):e.insert.value}).join(""))+i.closingTag;var r=e.map(function(e){return n._renderInline(e,t)}).join("");return i.openingTag+(r||"<br/>")+i.closingTag},t.prototype._renderInlines=function(t,e){var n=this;void 0===e&&(e=!0);var i=t.length-1,r=t.map(function(t,e){return e>0&&e===i&&t.isJustNewline()?"":n._renderInline(t,null)}).join("");if(!e)return r;var o=c.makeStartTag(this.options.paragraphTag),a=c.makeEndTag(this.options.paragraphTag);return"<br/>"===r||this.options.multiLineParagraph?o+r+a:o+r.split("<br/>").map(function(t){return""===t?"<br/>":t}).join(a+o)+a},t.prototype._renderInline=function(t,e){return t.isCustomEmbed()?this._renderCustom(t,e):new o.OpToHtmlConverter(t,this.converterOptions).getHtml().replace(/\n/g,"<br/>")},t.prototype._renderCustom=function(t,e){var n=this.callbacks.renderCustomOp_cb;return"function"==typeof n?n.apply(null,[t,e]):""},t.prototype.beforeRender=function(t){"function"==typeof t&&(this.callbacks.beforeRender_cb=t)},t.prototype.afterRender=function(t){"function"==typeof t&&(this.callbacks.afterRender_cb=t)},t.prototype.renderCustomWith=function(t){this.callbacks.renderCustomOp_cb=t},t}();e.QuillDeltaToHtmlConverter=f},n7fi:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("s3LH"),r=n("8v1e");const o=i.d.import("blots/inline");let a=(()=>{class t extends o{constructor(t,e){super(t,e)}static create(t){const e=Object(r.b)(t),n=super.create(e);return n.dataset.commentIds=Object(r.h)(e.ids),n.dataset.commentUnresolvedIds=Object(r.h)(e.unresolvedIds),e.unresolvedIds&&e.unresolvedIds.length>0&&(n.classList.add("ql-comment_active"),e.unresolvedIds.length>1&&n.classList.add("ql-comment_overlap")),n}static formats(t){return{ids:Object(r.e)(t),unresolvedIds:Object(r.f)(t)}}format(t,e){t===this.statics.blotName&&e?(this.domNode.dataset.commentIds=Object(r.h)(e.ids),this.domNode.dataset.commentUnresolvedIds=Object(r.h)(e.unresolvedIds),e.unresolvedIds&&e.unresolvedIds.length>0?(this.domNode.classList.add("ql-comment_active"),e.unresolvedIds.length>1?this.domNode.classList.add("ql-comment_overlap"):this.domNode.classList.remove("ql-comment_overlap")):(this.domNode.classList.remove("ql-comment_active"),this.domNode.classList.remove("ql-comment_overlap"))):super.format(t,e)}}return t.blotName="comment",t.tagName="SPAN",t.className="ql-comment",t})()},nUx9:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("Szkd"),r=n("s3LH"),o=n("RecH");const a=["success","danger","info","warning"],s=r.d.import("formats/list-block-wrapper");let l=(()=>{class t extends i.a{static register(){s.addAllowChildren(t)}static create(e){"object"!=typeof e&&(e={[t.blotName]:e});const n=super.create(e);return o.a.concat(o.b).forEach(t=>{e[t]&&n.setAttribute("data-"+t,e[t])}),e[o.c]&&n.setAttribute("data-"+o.c,o.d.indexOf(e[o.c])>=0?e[o.c]:"none"),e[o.e]&&n.setAttribute("data-"+o.e,e[o.e]),e[t.blotName]&&a.includes(e[t.blotName])&&n.classList.add(t.getCssClass(e[t.blotName])),n}static getCssClass(t){return"ql-banner_"+t}static formats(e){const n={};return n[t.blotName]=a.find(n=>e.classList.contains(t.getCssClass(n)))||!0,o.a.concat(o.b).concat([o.c,o.e]).reduce((t,n)=>(e.hasAttribute("data-"+n)&&(t[n]=e.getAttribute("data-"+n)||void 0),t),n)}optimize(e){const n=t.formats(this.domNode),{row:i,cell:r,rowspan:a,colspan:l}=n;!n[o.c]||this.parent instanceof s||this.wrap(s.blotName,{row:i,cell:r,colspan:l,rowspan:a,list:"none",[o.e]:n[o.e]}),super.optimize(e)}}return t.blotName="banner",t.tagName="div",t.className="ql-banner",t})()},oKxQ:function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return p});var i=n("YAnr"),r=n("/4Fx"),o=n("h7sE"),a=n("2p4s"),s=n("O5Dz"),l=n("SNEm"),c=n.n(l),u=n("ouif"),d=n("TqRa"),h=n("RecH");function f(t,e,n=!1,l,f=!1,g=!0,m=!1,b=!1,v=!1,y=!1,w=!1,k=[],_=[],x,O=!0,N=[],E=!1,L=!1){const C=Object(h.f)(new c.a(t));let A=[];C.forEach((t,e)=>{let r=!1;if(e<C.ops.length-1){const t=C.ops[e+1];r=t.attributes&&t.attributes["code-block"]}t.attributes&&t.attributes.banner?A.push(Object.assign(Object.assign({},t),{attributes:Object.assign(Object.assign({},t.attributes),{renderAsBlock:!0})})):t.insert&&t.insert.bookmark?A.push(Object.assign(Object.assign({},t),{attributes:{bookmark:Object.assign({},t.attributes),renderAsBlock:!0}})):t.insert&&t.insert.attachment?A.push(Object.assign(Object.assign({},t),{attributes:{attachment:Object.assign({},t.attributes),renderAsBlock:!0}})):t.insert&&t.insert.frame?A.push(Object.assign(Object.assign({},t),{attributes:{frame:Object.assign({},t.attributes),renderAsBlock:!0}})):t.insert&&t.insert.button?(A.push(t.attributes&&t.attributes.align?Object.assign(Object.assign({},t),{attributes:void 0}):t),A.push(Object.assign(Object.assign({},t),{insert:"\n"}))):t.insert&&t.insert.divider||t.insert&&t.insert.automation_variable?(A.push(t),A.push(Object.assign(Object.assign({},t),{insert:"\n"}))):t.insert&&t.insert.table_content?O&&(A.push(Object.assign(Object.assign({},t),{attributes:void 0})),A.push(Object.assign(Object.assign({},t),{insert:"\n"}))):"string"==typeof t.insert&&t.insert?n&&!r&&-1!==t.insert.indexOf("`")?Object(i.J)(t,A):g&&t.attributes&&t.attributes.background&&-1===i.E.indexOf(t.attributes.background)?A.push(Object.assign(Object.assign({},t),{attributes:Object.assign(Object.assign({},t.attributes),{background:void 0})})):A.push(t.attributes&&t.attributes["block-id"]?Object.assign(Object.assign({},t),{attributes:Object.assign(Object.assign({},t.attributes),{renderAsBlock:!0})}):t):A.push(t)}),A=Object(i.I)(A),l&&A.forEach(t=>{if("string"==typeof t.insert&&t.insert){const e=new RegExp(l,"gi");t.insert=t.insert.replace(e,"##MARK1##$&##MARK2##")}});const T=new r.QuillDeltaToHtmlConverter(A,{urlSanitizer:t=>Object(o.k)(t),multiLineParagraph:!1,multiLineHeader:!1,blocksCanBeWrappedWithList:["blockquote","banner","code-block","frame","bookmark","attachment"],customCssStyles:t=>{var e;if(L){if(null===(e=t.attributes)||void 0===e?void 0:e.blockquote)return["border-left: 4px solid #d8d8d8","margin-bottom: 10px","margin-top: 10px","padding-left: 12px","font-style: italic","color: rgba(52, 52, 52, 0.8)"];if(t.attributes&&t.attributes["code-block"])return["display: inline-block","line-height: 1","padding: 2px 4px","border: 1px solid #e4e4e4","background: #f7f7f7","border-radius: 2px","white-space: normal","font-size: 100%","color: #d16464"];if(t.attributes&&t.attributes.banner){if("success"===t.attributes.banner.banner)return["border-left: 4px solid #d8d8d8","padding: 5px 12px!important","margin-top: 5px!important","margin-bottom: 5px!important","border-left-color: #05be8c","background-color: #edfef6"];if("danger"===t.attributes.banner.banner)return["border-left: 4px solid #d8d8d8","padding: 5px 12px!important","margin-top: 5px!important","margin-bottom: 5px!important","border-left-color: #ff4243","background-color: #fef4f2"];if("warning"===t.attributes.banner.banner)return["border-left: 4px solid #d8d8d8","padding: 5px 12px!important","margin-top: 5px!important","margin-bottom: 5px!important","border-left-color: #fcb414","background-color: #fff9ec"];if("info"===t.attributes.banner.banner)return["border-left: 4px solid #d8d8d8","padding: 5px 12px!important","margin-top: 5px!important","margin-bottom: 5px!important","border-left-color: #207af1","background-color: #f2f8ff"]}}},customCssClasses:t=>{if(t.attributes&&t.attributes.banner){if("string"==typeof t.attributes.banner)return["ql-banner","ql-banner_"+t.attributes.banner];if("object"==typeof t.attributes.banner)return["ql-banner","ql-banner_"+t.attributes.banner.banner]}return t.attributes.list&&"string"==typeof t.attributes.list?[`ql-rendered-${t.attributes.list}-list`]:t.attributes.list&&"object"==typeof t.attributes.list&&"string"==typeof t.attributes.list.list?[`ql-rendered-${t.attributes.list.list}-list`]:void 0},customTagAttributes:t=>{const e={};return t.attributes&&t.attributes.list&&t.attributes.list&&"none"===t.attributes.list.list&&(e["data-none-type"]=!0),t.attributes&&t.attributes["block-id"]&&(e["data-block-id"]=t.attributes["block-id"]),e}});let q=0;return T.afterRender((t,e)=>(l&&(e=(e=e.replace(/##MARK1##/g,"<mark>")).replace(/##MARK2##/g,"</mark>")),(e.startsWith("<h1")||e.startsWith("<h2")||e.startsWith("<h3"))&&(e=`<a id="${q}"></a>${e}`,q++),e.startsWith("<ol")&&(e=e.replace(/<ol/g,'<ol class="ql-rendered-list-container"')),e.startsWith("<ul")&&(e=e.replace(/<ul/g,'<ul class="ql-rendered-list-container"')),e)),T.renderCustomWith((t,n)=>{if("table_content"===t.insert.type){const t=Object(i.j)(C);return t.length>0?['<div class="cu-table-content">',...t.map((t,e)=>[`<a class="cu-table-content__item" data-header="${t.header}" `,`href="javascript:;" onclick="document.location.hash='';document.location.hash='${e}';"`,">",`<div class="cu-table-content__item-text" data-header="${t.header}">`,Object(s.b)(t.text),"</div></a>"].join("")),"</div>"].join(""):""}if("user_mention"===t.insert.type){const n=t.insert.value,i=String(e)===String(n.id)?"cu-mention_me":"",r=localStorage.getItem("theme_color")||"";let o=n.name;if(!o&&n.email){const t=n.email.match(/^([^@]*)@/);o=t?t[1]:""}return[`<strong class="cu-mention ${i}" `,`data-user="${Object(s.b)(n.id)}" data-user-theme-color="${r}" data-name="${Object(s.b)(o)}">`,"@"+Object(s.b)(o),"</strong>"].join("")}if("user_group_mention"===t.insert.type){const n=t.insert.value,i=localStorage.getItem("theme_color")||"",r=n.handle;return[`<strong class="cu-mention__user-group cu-mention_readonly ${N&&N.some(t=>t.id===n.id&&t.members.some(t=>t.id===e))?"cu-mention_me":""}" `,`data-group_id="${Object(s.b)(n.id)}" data-user-theme-color="${i}" data-handle="${Object(s.b)(r)}">`,"@"+Object(s.b)(r),"</strong>"].join("")}if("task_user_group_mention"===t.insert.type){const n=t.insert.value,i=localStorage.getItem("theme_color")||"";return[`<strong class="cu-mention__task-user-group cu-mention_readonly ${"followers_tag"===n.type&&_&&_.some(t=>t.id===e)||"assignees_tag"===n.type&&k&&k.some(t=>t.id===e)?"cu-mention_me":""}" `,`data-user-theme-color="${i}" data-label="${Object(s.b)(n.label)}" data-type="${Object(s.b)(n.type)}" data-notify="${Object(s.b)(n.notify)}">`,"@"+Object(s.b)(n.label.toLowerCase()),"</strong>"].join("")}if("emoticon"===t.insert.type){const e=t.insert.value,n=e.code.split("-").map(t=>String.fromCodePoint(+("0x"+t))).join("");return`<span class="cu-emoticon cu-emoticon_static" data-emoticon="${Object(s.a)(JSON.stringify(e))}" >${n}</span>`}if("attachment"===t.insert.type){const e=t.insert.value;if(E)return[`<a class="cu-attachment-link" target="_blank" href="${Object(s.b)(e.url)}" >`,Object(s.b)(e.url),"</a>"].join("");if(f)return d.k?['<span class="attachment-oneline">',Object(s.b)(e.name||e.title),"</span>"].join(""):`<cu-attachment-dynamic task-id="${Object(s.b)(e.taskId)}"attachment="${Object(s.b)(JSON.stringify(e))}"allow-preview="true"no-margin="true"></cu-attachment-dynamic>`;if(m)return['<div class="comment-attachment comment-attachment_success">',`<a href="${e.url}" class="comment-attachment__content" download>`,`<span class="comment-attachment__name">${e.name}</span>`,"</a>","</div>"].join("")}else{if("automation_variable"===t.insert.type)return`[[automation]]${JSON.stringify(t.insert)}[[automation]]`;if("task_mention"===t.insert.type){const e=t.insert.value,n=t.attributes&&t.attributes.background&&t.attributes.color?`background-color: ${Object(s.b)(t.attributes.background)}; color: ${Object(s.b)(t.attributes.color)}`:"";let i=`${window.location.origin}/t/${Object(s.b)(e.task_id)}`;if(x)return x[e.task_id]?[`<a target="_blank" href="${Object(s.b)(i)}">`,"Task: "+Object(s.b)(x[e.task_id]),"</a>"].join(""):`<a target="_blank" href="${Object(s.b)(i)}">${i}</a>`;let r="";d.k&&(i=null,r="You don't have access to this Task");const o=i?i+(e.comment_id?"?comment="+Object(s.b)(e.comment_id):""):"javascript:;",a=v?`href="${o}"`:"";return w?[`<a ${i?'target="_self"':""} ${a} >`,"#"+Object(s.b)(e.task_id),"</a>"].join(""):[`<span class="task-mention" data-task-mention="${Object(s.b)(e.task_id)}"`,e.comment_id?` data-task-comment="${Object(s.b)(e.comment_id)}"`:"",">",`<span contenteditable="false" style="${n}">`,`<a ${i?'target="_self"':""} ${a} onclick="event.stopPropagation()">`,'<span data-status class="task-mention__status"></span>','<span data-simple-status class="icon task-mention__simple-status">','<svg><use xlink:href="#svg-sprite-check-batch"></use></svg>',"</span>",`<span data-name class="task-mention__name">${r}</span>`,"</a>","</span>","</span>"].join("")}if("button"===t.insert.type){const e=t.insert.value;return`<div class="ql-btn ${"center"===e.align?"ql-align-center":"right"===e.align?"ql-align-right":""}"><a class="ql-btn__body" `+(e.color?`style="background-color: ${Object(s.b)(e.color)}"`:"")+` target="_blank" href="${Object(s.b)(e.url)}">`+Object(s.b)(e.title)+"</a></div>"}if("doc_embed"===t.insert.type&&!d.k){const e=t.insert.value;if(x){const t=`${window.location.origin}/${Object(s.b)(e.teamId)}/docs/${Object(s.b)(e.viewId)}/${Object(s.b)(e.pageId)}`;return`<a target="_blank" href="${Object(s.b)(t)}">${t}</a>`}return`<cu-doc-page-dynamic closeable="false" team-id="${Object(s.b)(e.teamId)}"view-id="${Object(s.b)(e.viewId)}"page-id="${Object(s.b)(e.pageId)}"></cu-doc-page-dynamic>`}if("listview"===t.insert.type){const e=t.insert.value;if(d.k){const t=e.publicLink||(e.publicToken?a.a.publicShareUrl+"/l/h/"+e.viewId+"/"+e.publicToken:null)||a.a.publicShareUrl+"/l/"+e.viewId;return`<iframe\n          class="ql-frame ql-frame_listview"\n          frameborder="0"\n          allowfullscreen="true"\n          src="${Object(s.b)(t)}?hide-header=1&hide-branding=1"\n         ></iframe>`}return`<cu-listview-embed-dynamic closeable="false" view-id="${Object(s.b)(e.viewId)}"`+(e.publicLink?`public-link="${Object(s.b)(e.publicLink)}"`:"")+"></cu-listview-embed-dynamic>"}if("doc_mention"===t.insert.type||"doc_embed"===t.insert.type&&d.k){const e=t.insert.value;let n=Object(u.a)(e),i="";d.k&&(n=null,i="You don't have access to this Doc");const r=`href="${n?Object(s.b)(n):"javascript:;"}"`;return w?[`<a target="_self" ${r} >`,"#"+Object(s.b)(e.pageTitle||e.pageId),"</a>"].join(""):x?[`<a target="_self" ${r} >`,"Doc: "+Object(s.b)(e.pageTitle||e.pageId),"</a>"].join(""):[`<span class="ql-doc-mention" data-team-id="${Object(s.b)(e.teamId)}"`,`data-view-id="${Object(s.b)(e.viewId)}"`,`data-page-id="${Object(s.b)(e.pageId)}"`,`data-docs-home="${Object(s.b)(String(e.docsHome||!1))}"`,`data-page-title="${Object(s.b)(e.pageTitle||"")}"`,">",'<span contenteditable="false" >',`<a data-link ${n?'target="_self"':""} ${r} onclick="event.stopPropagation()">`,'<svg class="ql-doc-mention__icon" width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 2h8v10H2V2zM0 2C0 .9.9 0 2 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm9 1H6v2h3V3zm0 3v2H3V6h6zm0 5V9H3v2h6z" stroke="transparent"/></svg>','<span data-name class="ql-doc-mention__name">'+i+"</span>","</a>","</span>","</span>"].join("")}if("comment_mention"===t.insert.type)return['<div  class="ql-comment-mention">','<blockquote class="ql-comment-mention__quote">',p(t.insert.value),"</blockquote>","</div>"].join("");if("frame"===t.insert.type){const e=t.insert.value;if(!e)return;const n=Object(i.p)(e);if(!n)return;return y||x||E?[`<a class="cu-frame-link" target="_blank" href="${Object(s.b)(e.url)}" >`,Object(s.b)(e.url),"</a>"].join(""):d.k||d.j?"clickup_video"===e.service?`<video controls="true" src="${Object(s.b)(e.url)}" data-block-id="${Object(s.b)(t.attributes&&t.attributes.frame&&t.attributes.frame["block-id"]||"")}" style="width: 100%; height: 100%" playsinline></video>`:[`<div\n            class="ql-frame-container"\n            container="${Object(s.b)(e.service)}"\n          >`,`<iframe\n            class="ql-frame${b?" lazy":""}"\n            frameborder="0"\n            allowfullscreen="true"\n            id="${Object(s.b)(e.id)}"\n            service="${Object(s.b)(e.service)}"\n            url="${Object(s.b)(e.url)}"\n            data-size="${Object(s.b)(t.attributes&&t.attributes.frame&&t.attributes.frame["data-size"]||"")}"\n            data-expanded="${Object(s.b)(t.attributes&&t.attributes.frame&&t.attributes.frame["data-expanded"]||"")}"\n            data-block-id="${Object(s.b)(t.attributes&&t.attributes.frame&&t.attributes.frame["block-id"]||"")}"\n            ${t.attributes&&t.attributes.frame&&t.attributes.frame.height&&"large"===t.attributes.frame["data-size"]?'style="height: '+t.attributes.frame.height+"px; width: "+t.attributes.frame.width+'px;"':""}\n            ${b?"data-":""}src="${n}"\n           ></iframe>`,"</div>"].join(""):["<cu-frame-embed-dynamic ",`data="${Object(s.b)(JSON.stringify(e))}" `,`attributes="${Object(s.b)(JSON.stringify(t.attributes&&t.attributes.frame||{}))}" `,`task-id="${Object(s.b)(e.task_id)}">`,"</cu-frame-embed-dynamic>"].join("")}if("divider"===t.insert.type)return'<hr class="ql-divider">';if("bookmark"===t.insert.type){const e=t.insert.value;return"undefined"===e.description&&(e.description=""),x?`<div><a class="cu-bookmark-link"\n          href="${Object(s.b)(e.url)}"\n          target="_blank"\n        >\n        ${e.title?Object(s.b)(e.title):Object(s.b)(e.url)}\n        </a></div>`:E?`<a class="cu-bookmark-link"\n          href="${Object(s.b)(e.url)}"\n          target="_blank"\n        >\n        ${e.title?Object(s.b)(e.title):Object(s.b)(e.url)}\n        </a>`:[t.attributes&&t.attributes["in-list"]?'<li data-none-type="true">':"",`<div class="ql-bookmark ${e.description?"ql-bookmark-with-description":"ql-bookmark-without-description"} ${e.thumbnail?"ql-bookmark-with-thumbnail":"ql-bookmark-without-thumbnail"}"\n          readonly="readonly"\n          contenteditable="false"\n          data-service="miro"\n        >`,`<a class="ql-bookmark__body"\n            href="${Object(s.b)(e.url)}"\n            target="_blank"\n          >`,'<div class="ql-bookmark__content">',`<div class="ql-bookmark__title">${e.title?Object(s.b)(e.title):""}</div>`,`<div class="ql-bookmark__desc">${e.description?Object(s.b)(e.description):""}</div>`,'<div class="ql-bookmark__url">',`<img class="ql-bookmark__favicon ${e.favicon?"with-favicon":""}" src="${e.favicon?Object(s.b)(e.favicon):""}" />`,`<span class="ql-bookmark__urltext">${Object(s.b)(e.url)}</span>`,"</div>","</div>",`<div class="ql-bookmark__banner ${e.thumbnail?"with-thumbnail":""}" style="background-image: url(${e.thumbnail?Object(s.b)(e.thumbnail):""});"></div>`,"</a>","</div>",t.attributes&&t.attributes["in-list"]?"</li>":""].join("")}if("giphy"===t.insert.type){const e=t.insert.value;return['<div class="ql-giphy">','<div class="ql-giphy__container">','<div class="ql-giphy__topbar">','<div class="ql-giphy__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 72 72" version="1.1"><g id="providers-list" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="giphy"><rect id="Path" fill="none" x="0" y="0" width="72" height="72" rx="4"/><g transform="translate(17.000000, 12.000000)"><path id="Rectangle-1" fill="#2AFC9C" d="M0 4h5v40H0z"/><path id="Rectangle-3" fill="#9740FA" d="M33 13h5v31h-5z"/><path id="Rectangle-6" fill="#4A1F7C" d="M33 15h5v5h-5z"/><path id="Rectangle-2" fill="#22CDFB" d="M0 43h38v5H0z"/><path id="Rectangle-2" fill="#FFF39F" d="M0 0h25v5H0z"/><path id="Rectangle-5" fill="#FB6769" d="M23 0h5v5h5v5h5v5H23z"/></g></g></g></svg></div>','<div class="ql-giphy__title">',`<div class="ql-giphy__header">${Object(s.b)(e.query)}</div>`,"</div></div>",'<div class="ql-giphy__gifWrapper">',`<img src="${Object(s.b)(e.giphy)}" width="${Object(s.b)(e.width)}" />`,"</div></div></div>"].join("")}}}),T.convert()}function p(t){const e=[window.location.origin,"t",t.taskId].join("/")+"?comment="+t.commentId;return[f(t.delta,"",!1),`<a class="ql-comment-mention__link" target="_blank" href="${Object(s.b)(e)}">Go to</a>`].join("")}},ouif:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return l});var i=n("TqRa");function r(t){return t.docsHome?[t.teamId,"docs",t.viewId,t.pageId].join("/"):[t.teamId,"v","dc",t.viewId,t.pageId].join("/")}function o(t){return i.k?"javascript:;":[window.location.origin,r(t)].join("/")}function a(t){return{teamId:t.dataset.teamId,viewId:t.dataset.viewId,pageId:t.dataset.pageId,docsHome:"true"===t.dataset.docsHome,pageTitle:t.dataset.pageTitle}}function s(t){return'{"ops":[{"insert":"\\n"}]}'===t||'{"ops":[{"insert":"\\n\\n"}]}'===t||null===t}function l(t,e){const n=t.split("?")[1];if(!n)return"";const i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=n.match(i);return null!=r?decodeURIComponent(r[2]):""}},pFhy:function(t,e,n){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n("di+K"),a=n("ZT6b"),s=i(n("fzN0")),l=i(n("YAKn")),c=n("cegH"),u=r(n("FOgZ")),d={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};e.DEFAULT_INLINE_STYLES={font:function(t){return d[t]||"font-family:"+t},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(t,e){var n=3*parseInt(t,10);return"padding-"+("rtl"===e.attributes.direction?"right":"left")+":"+n+"em"},direction:function(t,e){return"rtl"===t?"direction:rtl"+(e.attributes.align?"":"; text-align:inherit"):void 0}};var h=function(){function t(t,e){this.op=t,this.options=s.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},e)}return t.prototype.prefixClass=function(t){return this.options.classPrefix?this.options.classPrefix+"-"+t:t+""},t.prototype.getHtml=function(){var t=this.getHtmlParts();return t.openingTag+t.content+t.closingTag},t.prototype.getHtmlParts=function(){var t=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:a.NewLine};var e=this.getTags(),n=this.getTagAttributes();!e.length&&n.length&&e.push("span");for(var i=[],r=[],s=function(e){return"img"===e&&!!t.op.attributes.link},l=0,c=e;l<c.length;l++){var d=c[l];if(s(d)&&i.push(o.makeStartTag("a",this.getLinkAttrs())),this.op.isListBlockWrapper(this.options.blocksCanBeWrappedWithList)){var h=u.default(this.options.blocksCanBeWrappedWithList,function(e){return!!t.op.attributes[e]});i.push(o.makeStartTag("li",h&&this.op.attributes[h]["in-list"]===a.ListType.Ordered?[this.makeAttr("data-none-type","true"),this.makeAttr("class","ql-rendered-ordered-list")]:[this.makeAttr("data-none-type","true")])),r.push(o.makeEndTag("li"))}this.op.isListBlockWrapper(this.options.blocksCanBeWrappedWithList)&&this.op.isCustomEmbedBlock()?(i.push(""),r.push("")):(i.push(o.makeStartTag(d,n)),r.push("img"===d?"":o.makeEndTag(d))),s(d)&&r.push(o.makeEndTag("a")),n=[]}return r.reverse(),{openingTag:i.join(""),content:this.getContent(),closingTag:r.join("")}},t.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var t=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&o.encodeHtml(t)||t},t.prototype.getCssClasses=function(){var t=this.op.attributes;if(this.options.inlineStyles)return[];var e=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&e.push("background"),(this.getCustomCssClasses()||[]).concat(e.filter(function(e){return!!t[e]}).filter(function(e){return"background"!==e||c.OpAttributeSanitizer.IsValidColorLiteral(t[e])}).map(function(e){return e+"-"+t[e]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},t.prototype.getCssStyles=function(){var t=this,n=this.op.attributes,i=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||i.push(["background","background-color"]),this.options.inlineStyles&&(i=i.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(i.filter(function(t){return!!n[t[0]]}).map(function(i){var r=i[0],o=n[r],a=t.options.inlineStyles&&t.options.inlineStyles[r]||e.DEFAULT_INLINE_STYLES[r];return"object"==typeof a?a[o]:"function"==typeof a?a(o,t.op):l.preferSecond(i)+":"+o})).filter(function(t){return void 0!==t})},t.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var t=this.makeAttr.bind(this),e=this.getCustomTagAttributes(),n=e?Object.keys(this.getCustomTagAttributes()).map(function(n){return t(n,e[n])}):[],i=this.getCssClasses(),r=i.length?n.concat([t("class",i.join(" "))]):n;if(this.op.isImage())return this.op.attributes.width&&(r=r.concat(t("width",this.op.attributes.width))),r.concat(t("src",this.op.insert.value));if(this.op.isACheckList())return r.concat(t("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isToggledList())return r.concat(t("data-toggled","true"));if(this.op.isFormula())return r;if(this.op.isVideo())return r.concat(t("frameborder","0"),t("allowfullscreen","true"),t("src",this.op.insert.value));if(this.op.isMentions()){var o=this.op.attributes.mention;return o.class&&(r=r.concat(t("class",o.class))),r=r.concat(t("href",o["end-point"]&&o.slug?o["end-point"]+"/"+o.slug:"about:blank")),o.target&&(r=r.concat(t("target",o.target))),r}var a=this.getCssStyles();return a.length&&r.push(t("style",a.join(";"))),this.op.isCodeBlock()&&"object"==typeof this.op.attributes["code-block"]&&"string"==typeof this.op.attributes["code-block"]["code-block"]?r.concat(t("data-language",this.op.attributes["code-block"]["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(r=r.concat(this.getLinkAttrs())),r)},t.prototype.makeAttr=function(t,e){return{key:t,value:e}},t.prototype.getLinkAttrs=function(){var t=c.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,e=c.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,n=this.op.attributes.target||t,i=this.op.attributes.rel||e;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(n?this.makeAttr("target",n):[]).concat(i?this.makeAttr("rel",i):[])},t.prototype.getCustomTag=function(t){if(this.options.customTag&&"function"==typeof this.options.customTag)return this.options.customTag.apply(null,[t,this.op])},t.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&"function"==typeof this.options.customTagAttributes)return this.options.customTagAttributes.apply(null,[this.op])},t.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&"function"==typeof this.options.customCssClasses){var t=this.options.customCssClasses.apply(null,[this.op]);if(t)return Array.isArray(t)?t:[t]}},t.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&"function"==typeof this.options.customCssStyles){var t=this.options.customCssStyles.apply(null,[this.op]);if(t)return Array.isArray(t)?t:[t]}},t.prototype.getTags=function(){var t=this,e=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var n=this.options.paragraphTag||"p",i=0,r=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",n],["direction",n],["indent",n]];i<r.length;i++){var o,s=r[i],c=s[0];if(e[c])return(o=this.getCustomTag(c))?[o]:"header"===c?["h"+e[c]]:[l.preferSecond(s)]}if(this.op.isCustomTextBlock())return(o=this.getCustomTag("renderAsBlock"))?[o]:[n];var u=Object.keys(e).reduce(function(e,n){var i=t.getCustomTag(n);return i&&(e[n]=i),e},{}),d=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return d.filter(function(t){return!!e[t[0]]}).concat(Object.keys(u).filter(function(t){return!d.some(function(e){return e[0]==t})}).map(function(t){return[t,u[t]]})).map(function(t){return u[t[0]]?u[t[0]]:"script"===t[0]?e[t[0]]===a.ScriptType.Sub?"sub":"sup":l.preferSecond(t)})},t}();e.OpToHtmlConverter=h},rCLr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=o(n("kzlf"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){var t,n,i;a(this,e);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=i=s(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.onKeyUp=function(t){if(i.formatter.currentSpec&&(46===t.keyCode||8===t.keyCode)){var e=r.default.find(i.formatter.currentSpec.getTargetElement());e&&e.deleteAt(0),i.formatter.hide()}},s(i,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"onCreate",value:function(){document.addEventListener("keyup",this.onKeyUp,!0),this.formatter.quill.root.addEventListener("input",this.onKeyUp,!0)}},{key:"onDestroy",value:function(){document.removeEventListener("keyup",this.onKeyUp),this.formatter.quill.root.removeEventListener("input",this.onKeyUp)}}]),e}(o(n("EQY2")).default);e.default=l},s3LH:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n("T6L0");var i=n("kzlf"),r=n.n(i);n.d(e,"d",function(){return r.a});var o=n("V5G8");n.d(e,"c",function(){return o});var a=n("SNEm"),s=n.n(a);n.d(e,"a",function(){return s.a});const l=document.addEventListener;document.addEventListener=document.__zone_symbol__addEventListener,document.addEventListener=l;const c="\ufeff"},tVaG:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("s3LH"),r=n("oKxQ"),o=n("381O");const a=i.d.import("blots/break"),s=i.d.import("blots/cursor");let l=(()=>{class t extends o.a{static create(t){const e=super.create(t);e.setAttribute("data-task-id",t.taskId),e.setAttribute("data-comment-id",t.commentId),t.delta&&e.setAttribute("data-delta",JSON.stringify(t.delta));const n=document.createTextNode(i.b);e.appendChild(n);const o=document.createElement("blockquote");return o.setAttribute("readonly","readonly"),o.setAttribute("contenteditable","false"),o.classList.add("ql-comment-mention__quote"),o.innerHTML=Object(r.a)(t),e.appendChild(o),e}static value(t){const e=t.dataset.taskId,n=t.dataset.commentId,i=t.dataset.delta;let r=null;if(i)try{r=JSON.parse(i)}catch(o){}return{taskId:e,commentId:n,delta:r}}length(){return 1}update(t,e){t.forEach(t=>{"characterData"===t.type&&(t.target.data=i.b)})}attach(){if(super.attach(),!this.onClickBinded){this.onClickBinded=this.onClick.bind(this);const t=this.domNode.querySelector(".ql-comment-mention__link");t&&t.addEventListener("click",this.onClickBinded)}}detach(){if(super.detach(),this.onClickBinded){const t=this.domNode.querySelector(".ql-comment-mention__link");t&&t.removeEventListener("click",this.onClickBinded),this.onClickBinded=null}}onClick(t){const e=this.getQuill(),n=e&&e.options&&e.options.modules&&e.options.modules.magicUrl&&e.options.modules.magicUrl.onCommentClick;if(e){if(n&&"function"==typeof n&&n(t,this,e))return;if(!e.isEnabled())return}}}return t.blotName="comment_mention",t.tagName="span",t.className="ql-comment-mention",t.defaultChild=void 0,t.allowedChildren=[a,s],t})()},tqzo:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const i=n("s3LH").d.import("blots/embed");class r extends i{update(t,e){const n=[];t.forEach(t=>{"childList"===t.type&&Array.from(t.removedNodes).some(t=>t===this.leftGuard||t===this.rightGuard)?(this.contentNode.setAttribute("contenteditable",!0),this.remove()):n.push(t)}),super.update(n,e)}}},ugiB:function(t,e,n){},"vwY/":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InlineGroup=function(t){this.ops=t};var o=function(t){this.op=t},a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o);e.VideoItem=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o);e.BlotBlock=s,e.BlockGroup=function(t,e){this.op=t,this.ops=e},e.ListGroup=function(t){this.items=t;var e=t[0];e&&e.item.op.attributes&&e.item.op.attributes.cell&&(this.headOp=e.item.op)},e.ListItem=function(t,e){void 0===e&&(e=null),this.item=t,this.innerList=e},e.TableGroup=function(t,e){this.rows=t,this.colGroup=e},e.TableColGroup=function(t){this.cols=t},e.TableCol=function(t){this.item=t},e.TableRow=function(t,e){this.cells=t,this.row=e},e.TableCell=function(t,e){this.lines=t,this.attrs=e},e.TableCellLine=function(t){this.item=t,this.attrs=t.op.attributes["table-cell-line"]}},wRGI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xwv1"),r=n("YAKn"),o=n("vwY/"),a=function(){function t(){}return t.pairOpsWithTheirBlock=function(t){for(var e,n=[],i=function(t){return!(t.isJustNewline()||t.isCustomEmbedBlock()||t.isVideo()||t.isContainerBlock())},a=function(t){return t.isInline()},s=t.length-1;s>=0;s--){var l=t[s];l.isVideo()?n.push(new o.VideoItem(l)):l.isCustomEmbedBlock()?n.push(new o.BlotBlock(l)):l.isContainerBlock()?(e=r.sliceFromReverseWhile(t,s-1,i),n.push(new o.BlockGroup(l,e.elements)),s=e.sliceStartsAt>-1?e.sliceStartsAt:s):(e=r.sliceFromReverseWhile(t,s-1,a),n.push(new o.InlineGroup(e.elements.concat(l))),s=e.sliceStartsAt>-1?e.sliceStartsAt:s)}return n.reverse(),n},t.groupConsecutiveSameStyleBlocks=function(e,n){return void 0===n&&(n={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),r.groupConsecutiveElementsWhile(e,function(e,i){return e instanceof o.BlockGroup&&i instanceof o.BlockGroup&&(n.codeBlocks&&t.areBothCodeblocksWithSameLang(e,i)||n.blockquotes&&t.areBothBlockquotesWithSameAdi(e,i)||n.header&&t.areBothSameHeadersWithSameAdi(e,i)||n.customBlocks&&t.areBothCustomBlockWithSameAttr(e,i))})},t.reduceConsecutiveSameStyleBlocksToOne=function(t){var e=i.DeltaInsertOp.createNewLineOp();return t.map(function(t){if(!Array.isArray(t))return t instanceof o.BlockGroup&&!t.ops.length&&t.ops.push(e),t;var n=t.length-1;return t[0].ops=r.flatten(t.map(function(t,i){return t.ops.length?t.ops.concat(i<n?[e]:[]):[e]})),t[0]})},t.areBothCodeblocksWithSameLang=function(t,e){return t.op.isCodeBlock()&&e.op.isCodeBlock()&&t.op.hasSameLangAs(e.op)},t.areBothSameHeadersWithSameAdi=function(t,e){return t.op.isSameHeaderAs(e.op)&&t.op.hasSameAdiAs(e.op)},t.areBothBlockquotesWithSameAdi=function(t,e){return t.op.isBlockquote()&&e.op.isBlockquote()&&t.op.hasSameAdiAs(e.op)},t.areBothCustomBlockWithSameAttr=function(t,e){return t.op.isCustomTextBlock()&&e.op.isCustomTextBlock()&&t.op.hasSameAttr(e.op)},t}();e.Grouper=a},wtHB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=function(t){var e=t;return e=e.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(e)?e:"unsafe:"+e}},zJbf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("vwY/"),r=n("YAKn"),o=n("MCLT"),a=n("Xwv1"),s=function(){function t(t){void 0===t&&(t=[]),this.blocksCanBeWrappedWithList=t}return t.prototype.group=function(t){var e=this.convertTableColBlocksToTableColGroup(t);return this.convertTableBlocksToTableGroups(e)},t.prototype.convertTableBlocksToTableGroups=function(t){var e,n=this;return r.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof i.BlockGroup&&e instanceof i.BlockGroup&&t.op.isTableCellLine()&&e.op.isTableCellLine()||t instanceof i.ListGroup&&e instanceof i.BlockGroup&&t.headOp&&t.headOp.attributes&&t.headOp.attributes.cell&&e.op.isTableCellLine()||t instanceof i.BlockGroup&&e instanceof i.ListGroup&&t.op.isTableCellLine()&&e.headOp&&e.headOp.attributes&&e.headOp.attributes.cell||t instanceof i.ListGroup&&e instanceof i.ListGroup&&!!t.headOp&&t.headOp.attributes&&!!e.headOp&&e.headOp.attributes&&t.headOp.attributes.cell&&e.headOp.attributes.cell}).reduce(function(t,r){return Array.isArray(r)?(t.push(new i.TableGroup(n.convertTableBlocksToTableRows(n.convertTableBlocksToTableCells(r)),e)),t):(r instanceof i.BlockGroup&&r.op.isTableCellLine()?t.push(new i.TableGroup([new i.TableRow([new i.TableCell([new i.TableCellLine(r)],r.op.attributes)],r.op.attributes.row)],e||new i.TableColGroup([new i.TableCol(new i.BlockGroup(new a.DeltaInsertOp("\n",{"table-col":{width:"150"}}),[]))]))):r instanceof i.ListGroup&&r.headOp?t.push(new i.TableGroup([new i.TableRow([new i.TableCell([r],r.headOp.attributes)],r.headOp.attributes.row)],e||new i.TableColGroup([new i.TableCol(new i.BlockGroup(new a.DeltaInsertOp("\n",{"table-col":{width:"150"}}),[]))]))):r instanceof i.TableColGroup?e=r:t.push(r),t)},[])},t.prototype.convertTableBlocksToTableRows=function(t){return r.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof i.TableCell&&e instanceof i.TableCell&&(t.attrs?t.attrs.row:void 0)===(e.attrs?e.attrs.row:void 0)}).map(function(t){var e;if(o.isArray(t)){var n=t[0];n&&(e=n.attrs?n.attrs.row:void 0)}else e=t.attrs?t.attrs.row:void 0;return new i.TableRow(Array.isArray(t)?t.map(function(t){return t}):[t],e)})},t.prototype.convertTableBlocksToTableCells=function(t){var e=this;return r.groupConsecutiveElementsWhile(t,function(t,n){return t instanceof i.BlockGroup&&n instanceof i.BlockGroup&&t.op.isTableCellLine()&&n.op.isTableCellLine()&&t.op.isSameTableCellAs(n.op,e.blocksCanBeWrappedWithList)||t instanceof i.BlockGroup&&n instanceof i.ListGroup&&t.op.isTableCellLine()&&!!n.headOp&&t.op.isSameTableCellAs(n.headOp,e.blocksCanBeWrappedWithList)||t instanceof i.ListGroup&&n instanceof i.BlockGroup&&n.op.isTableCellLine()&&!!t.headOp&&t.headOp.isSameTableCellAs(n.op,e.blocksCanBeWrappedWithList)||t instanceof i.ListGroup&&n instanceof i.ListGroup&&!!t.headOp&&!!n.headOp&&t.headOp.isSameTableCellAs(n.headOp,e.blocksCanBeWrappedWithList)}).map(function(t){var e,n,r=o.isArray(t)?t[0]:t;return e=r instanceof i.BlockGroup?r.op.attributes:r.headOp.attributes,n=o.isArray(t)?t.map(function(t){return t instanceof i.BlockGroup?new i.TableCellLine(t):t}):t instanceof i.BlockGroup?[new i.TableCellLine(t)]:[t],new i.TableCell(n,e)})},t.prototype.convertTableColBlocksToTableColGroup=function(t){return r.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof i.BlockGroup&&e instanceof i.BlockGroup&&t.op.isTableCol()&&e.op.isTableCol()}).map(function(t){return Array.isArray(t)?new i.TableColGroup(o.isArray(t)?t.map(function(t){return new i.TableCol(t)}):[new i.TableCol(t)]):t instanceof i.BlockGroup&&t.op.isTableCol()?new i.TableColGroup([new i.TableCol(t)]):t})},t}();e.TableGrouper=s}}]);