(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"+0HB":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{constructor(){}transform(t){return t?t.map(t=>t.id):[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"idArrayFromObjectArray",type:t,pure:!0}),t})()},"/8Ka":function(t,e,a){"use strict";a.d(e,"a",function(){return v});var i=a("GXRk"),o=a("fXoL"),n=a("5b//"),s=a("ofXK"),c=a("EDFS"),r=a("loh9"),l=a("UdVN"),u=a("JNrn"),d=a("3Pt+"),p=a("HcWw"),m=a("b+fk"),h=a("ahJy");const g=["pop"];function b(t,e){if(1&t){const t=o.dc();o.cc(0,"input",10),o.qc("ngModelChange",function(e){return o.Uc(t),o.uc().statusName=e})("ngModelChange",function(){o.Uc(t);const e=o.uc(),a=o.Rc(2);return e.statusSaveError="",a.hide()}),o.vc(1,"isLightColor"),o.bc()}if(2&t){const t=o.uc();o.Ob("cu-task-status-new__input_light",o.xc(1,6,t.currentColor,215)),o.Dc("autosize",t.statusName)("autosizePlaceholder",t.placeholderText)("autosizeExtraWidth",t.extraWidth)("ngModel",t.statusName)}}function f(t,e){if(1&t){const t=o.dc();o.cc(0,"input",11),o.qc("ngModelChange",function(e){return o.Uc(t),o.uc().statusName=e})("ngModelChange",function(){o.Uc(t);const e=o.uc(),a=o.Rc(2);return e.statusSaveError="",a.hide()}),o.vc(1,"isLightColor"),o.bc()}if(2&t){const t=o.uc();o.Ob("cu-task-status-new__input_light",o.xc(1,3,t.currentColor,215)),o.Dc("ngModel",t.statusName)}}function k(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-color-picker-panel",12),o.qc("selectedColorChange",function(e){return o.Uc(t),o.uc().onChangeColor.emit(e)}),o.bc()}if(2&t){const t=o.uc();o.Dc("presetColors",t.PRESET_COLORS)("onlyPickFromPresets",!1)("showClose",!1)("selectedColor",t.newColor)("closeCustomOnSave",!0)("usePlusIcon",!0)}}function _(t,e){if(1&t&&(o.cc(0,"div",13),o.dd(1),o.bc()),2&t){const t=o.uc();o.Ib(1),o.fd(" ",t.statusSaveError," ")}}const w=function(t){return{color:t}};let v=(()=>{class t{constructor(){this.maxLength=i.e,this.PRESET_COLORS=n.b.filter(t=>"#fff"!==t),this.statusSaveError="",this.highlightInput=!0,this.extraWidth=0,this.placement="right",this.includeColorPicker=!1,this.forNew=!1,this.onCancel=new o.o,this.onSave=new o.o,this.onChangeColor=new o.o,this.placeholderText=$localize`:@@cu-task-status-new__form-placeholder_status-name:STATUS NAME`}cancel(){this.statusSaveError="",this.pop.hide(),this.onCancel.emit()}save(){this.statusSaveError="",this.pop.hide(),this.statusName?this.statusName.length>this.maxLength?this.statusSaveError=$localize`:@@errors_status-name--maxlength:Whoops. That status name is too long`:this.onSave.emit({statusName:this.statusName,color:this.currentColor}):this.statusSaveError=$localize`:@@errors_status-name--required:Whoops. Status name can not be blank`,this.statusSaveError&&this.pop.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-task-status-new"]],viewQuery:function(t,e){if(1&t&&o.jd(g,3),2&t){let t;o.Qc(t=o.rc())&&(e.pop=t.first)}},hostBindings:function(t,e){1&t&&o.qc("keyup.esc",function(){return e.cancel()},!1,o.Sc)("keyup.enter",function(){return e.save()},!1,o.Sc)},inputs:{currentColor:"currentColor",statusName:"statusName",statusSaveError:"statusSaveError",modifier:"modifier",highlightInput:"highlightInput",extraWidth:"extraWidth",placement:"placement",includeColorPicker:"includeColorPicker",newColor:"newColor",forNew:"forNew"},outputs:{onCancel:"onCancel",onSave:"onSave",onChangeColor:"onChangeColor"},decls:12,vars:20,consts:function(){let t,e;return t=$localize`:@@cu-task-status-new__form-placeholder_status-name␟39abc263f0c661d8f0360198685d9f6e169ec3a2␟8882063530728782556:STATUS NAME`,e=$localize`:@@cu-task-status-new__form-placeholder_status-name␟39abc263f0c661d8f0360198685d9f6e169ec3a2␟8882063530728782556:STATUS NAME`,[[1,"cu-task-status-new__container"],["triggers","","container","body",1,"cu-task-status-new",3,"ngClass","popover","outsideClick","placement"],["pop","bs-popover"],[1,"cu-dashboard-table__header-status",3,"ngStyle"],["cuAutoFocus","","placeholder",t,"class","cu-task-status-new__input",3,"autosize","autosizePlaceholder","autosizeExtraWidth","cu-task-status-new__input_light","ngModel","ngModelChange",4,"ngIf"],["cuAutoFocus","","placeholder",e,"class","cu-task-status-new__input",3,"cu-task-status-new__input_light","ngModel","ngModelChange",4,"ngIf"],["cuPreventDefault","","icon","cu2-times",1,"cu-task-status-new__btn","cu-task-status-new__btn_cancel","cu-safe-click",3,"click"],["cuPreventDefault","",1,"cu-task-status-new__btn",3,"icon","click"],[3,"presetColors","onlyPickFromPresets","showClose","selectedColor","closeCustomOnSave","usePlusIcon","selectedColorChange",4,"ngIf"],["popTemplate",""],["cuAutoFocus","","placeholder",t,1,"cu-task-status-new__input",3,"autosize","autosizePlaceholder","autosizeExtraWidth","ngModel","ngModelChange"],["cuAutoFocus","","placeholder",e,1,"cu-task-status-new__input",3,"ngModel","ngModelChange"],[3,"presetColors","onlyPickFromPresets","showClose","selectedColor","closeCustomOnSave","usePlusIcon","selectedColorChange"],[1,"cu-error-popover"]]},template:function(t,e){if(1&t&&(o.cc(0,"div",0),o.cc(1,"div",1,2),o.cc(3,"div",3),o.vc(4,"isLightColor"),o.bd(5,b,2,9,"input",4),o.bd(6,f,2,6,"input",5),o.cc(7,"div",6),o.qc("click",function(){return e.cancel()}),o.bc(),o.cc(8,"div",7),o.qc("click",function(){return e.save()}),o.bc(),o.bc(),o.bc(),o.bd(9,k,1,6,"cu-color-picker-panel",8),o.bc(),o.bd(10,_,2,1,"ng-template",null,9,o.cd)),2&t){const t=o.Rc(11);o.ad("color",e.currentColor),o.Ib(1),o.Ob("cu-task-status-new__error",e.statusSaveError),o.Dc("ngClass",e.modifier)("popover",t)("outsideClick",!0)("placement",e.placement),o.Ib(2),o.Ob("cu-dashboard-table__header-status_light",o.xc(4,15,e.currentColor,215)),o.Dc("ngStyle",o.Hc(18,w,e.currentColor)),o.Ib(2),o.Dc("ngIf",!e.forNew),o.Ib(1),o.Dc("ngIf",e.forNew),o.Ib(2),o.Dc("icon","check-bold"),o.Ib(1),o.Dc("ngIf",e.includeColorPicker)}},directives:[s.o,c.c,s.t,s.q,r.a,l.a,u.a,d.c,p.a,d.p,d.s,m.a],pipes:[h.a],styles:[':host{display:flex}.cu-task-status-new{margin:0;position:relative}.cu-task-status-new_add .cu-dashboard-table__header-status,.cu-task-status-new_modify .cu-dashboard-table__header-status{border:1px solid;border-radius:4px 4px 0 0;height:20px;padding:0 4px 0 7px;margin-right:10px;display:flex;align-items:center;background:#fff}.dark-theme .cu-task-status-new_add .cu-dashboard-table__header-status,.dark-theme .cu-task-status-new_modify .cu-dashboard-table__header-status{background:#384047}.cu-task-status-new__container{width:212px;box-shadow:0 2px 10px 0 rgba(0,0,0,.1);border:1px solid;margin:20px 0;border-radius:4px;overflow:hidden}.cu-dashboard-board__column .cu-task-status-new__container{margin:0}.cu-task-status-new__container .cu-color-picker-panel{width:212px;box-shadow:none;border-radius:0}.cu-task-status-new__container .cu-color-picker-panel__preset-container{box-shadow:none;padding:5px 0;border-radius:0}.cu-task-status-new__container .cu-color-picker-panel__preset-color{margin:6px 8px}.cu-task-status-new__container .cu-color-picker-panel__plus{cursor:pointer;width:20px;height:20px;border-radius:50%;display:flex;justify-content:center;align-items:center;background-color:#e9ebf0;margin:6px 8px;float:left}.cu-task-status-new__container .cu-color-picker-panel__plus .icon{fill:#b9bec7;width:8px;height:8px}.cu-task-status-new_add{width:212px}.cu-task-status-new_add .cu-dashboard-table__header-status{background-color:#fafbfc;border:none;border-bottom:1px solid #e9ebf0;padding:0 12px;margin:0;height:32px;display:flex;align-items:center;justify-content:center;border-radius:0}.cu-task-status-new_add .cu-dashboard-table__header-status input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-status-new_add .cu-dashboard-table__header-status input{font-family:var(--global-font-support)}}.cu-task-status-new__error .cu-dashboard-table__header-status{animation:shake 1s linear both}.cu-task-status-new__board-status .cu-task-status-new__input{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1.3;color:#544d61}.cu-task-status-new__board-status .cu-task-status-new__input:-ms-input-placeholder{font-size:13px;color:#aba9af}.cu-task-status-new__board-status .cu-task-status-new__input::placeholder{font-size:13px;color:#aba9af}.cu-task-status-new__board-status .cu-task-status-new__btn{fill:#000}.dark-theme .cu-task-status-new__board-status .cu-task-status-new__btn{fill:#d5d6d7}.cu-task-status-new__board-status .cu-task-status-new__btn:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-status-new__board-status .cu-task-status-new__btn:hover{fill:var(--theme-main-color)}}.cu-task-status-new__board-status .cu-dashboard-table__header-status{display:flex}.cu-task-status-new__input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;background:transparent;border:none;width:100%;border-radius:3px 3px 0 0;text-transform:uppercase;white-space:nowrap;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-status-new__input{font-family:var(--global-font-support)}}.dark-theme .cu-task-status-new__input{color:#fff}.cu-task-status-new__input:-ms-input-placeholder{font-family:Gotham Pro,Proxima Nova,arial,serif;font-size:11px;color:currentColor;text-transform:uppercase}.cu-task-status-new__input::placeholder{font-family:Gotham Pro,Proxima Nova,arial,serif;font-size:11px;color:currentColor;text-transform:uppercase}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-status-new__input:-ms-input-placeholder{font-family:var(--global-font-support)}.cu-task-status-new__input::placeholder{font-family:var(--global-font-support)}}.cu-task-status-new__input_light{color:rgba(0,0,0,.4)}.cu-task-status-new__input_light:-ms-input-placeholder{color:#343434}.cu-task-status-new__input_light::placeholder{color:#343434}.dark-theme .cu-task-status-new__input_light{color:#828588}.cu-task-status-new__input:focus,.cu-task-status-new__input:hover{box-shadow:none}.cu-task-status-new__btn{fill:#77d257;height:18px;width:18px;cursor:pointer;padding:2px}.cu-task-status-new__btn:hover{padding:1px}.cu-task-status-new__btn_cancel{height:18px;width:18px;padding:3px;fill:#fd7171;margin-left:10px}.cu-dashboard-board__column .cu-task-status-new__btn_cancel{margin-left:auto}'],encapsulation:2,changeDetection:0}),t})()},"01ug":function(t,e,a){t.exports=a.p+"gitlab-step4.2fe822fca357590c8065.png"},"0UGU":function(t,e,a){"use strict";a.d(e,"a",function(){return _});var i=a("ofXK"),o=a("9jGm"),n=a("jCsC"),s=a("eIep"),c=a("lJxs"),r=a("JIr8"),l=a("LRne"),u=a("fXoL"),d=a("2p4s"),p=a("tk/3"),m=a("irDL");let h=(()=>{class t{constructor(t,e){this.http=t,this.errorHandler=e,this.apiUrl=d.a.apiUrl}getLinks(t,e,{includeBackLinks:a,includeChildren:i}={}){return this.http.get(`${this.apiUrl}/genericLink/${t}/${e}`,{params:{include_backlinks:a?"true":void 0,include_children:i?"true":void 0}}).pipe(this.errorHandler.http())}createTwoWayLink(t,e){return this.http.post(this.apiUrl+"/genericLink",{resources:[t,e]}).pipe(this.errorHandler.http())}createTwoWayLinkFromBacklink(t){return this.http.post(this.apiUrl+"/genericLink",{backlink_id:t}).pipe(this.errorHandler.http())}deleteLink(t){return this.http.delete(`${this.apiUrl}/genericLink/${t}`).pipe(this.errorHandler.http())}}return t.\u0275fac=function(e){return new(e||t)(u.nc(p.b),u.nc(m.a))},t.\u0275prov=u.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t{constructor(t,e){this.action$=t,this.relationshipsService=e,this.getLinks$=Object(o.c)(()=>this.action$.pipe(Object(o.d)(n.j),Object(s.a)(t=>this.relationshipsService.getLinks(t.linkType,t.id,{includeBackLinks:t.includeBacklinks}).pipe(Object(c.a)(({backlinks:e,links:a})=>n.k({id:t.id,linkType:t.linkType,links:a,backlinks:e})))))),this.createLink$=Object(o.c)(()=>this.action$.pipe(Object(o.d)(n.e),Object(s.a)(t=>this.relationshipsService.createTwoWayLink({type:t.resourceA.link_type,id:t.resourceA.item.id},{type:t.resourceB.link_type,id:t.resourceB.item.id}).pipe(Object(c.a)(({id:e})=>n.f(Object.assign(Object.assign({},t),{linkId:e}))),Object(r.a)(({error:t})=>Object(l.a)(n.a({error:t}))))))),this.createLinkFromBacklink$=Object(o.c)(()=>this.action$.pipe(Object(o.d)(n.c),Object(s.a)(t=>this.relationshipsService.createTwoWayLinkFromBacklink(t.backlinkId).pipe(Object(c.a)(({id:e})=>n.d({backlinkId:t.backlinkId,linkId:e})),Object(r.a)(({error:t})=>Object(l.a)(n.b({error:t}))))))),this.deleteTwoWayLink$=Object(o.c)(()=>this.action$.pipe(Object(o.d)(n.h),Object(s.a)(t=>this.relationshipsService.deleteLink(t.linkId).pipe(Object(c.a)(()=>n.i(t)),Object(r.a)(({error:t})=>Object(l.a)(n.g({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(u.nc(o.a),u.nc(h))},t.\u0275prov=u.Sb({token:t,factory:t.\u0275fac}),t})();var b=a("l7P3");const f=Object(b.createReducer)({links:{},backlinks:{}},Object(b.on)(n.k,(t,{linkType:e,id:a,links:i,backlinks:o})=>{const n=`${e}-${a}`;return Object.assign(Object.assign({},t),{links:Object.assign(Object.assign({},t.links),{[n]:i}),backlinks:o?Object.assign(Object.assign({},t.backlinks),{[n]:o}):t.backlinks})}),Object(b.on)(n.e,(t,{resourceA:e,resourceB:a})=>{const i=Object.assign({},t.links),o=`${e.link_type}-${e.item.id}`;i[o]&&(i[o]=[...i[o],Object.assign(Object.assign({},a),{link_id:a.item.id,date_added:String(Date.now())})]);const n=`${a.link_type}-${a.item.id}`;return i[n]&&(i[n]=[...i[n],Object.assign(Object.assign({},e),{link_id:e.item.id,date_added:String(Date.now())})]),Object.assign(Object.assign({},t),{links:i})}),Object(b.on)(n.f,(t,{resourceA:e,resourceB:a,linkId:i})=>{const o=Object.assign({},t.links),n=`${e.link_type}-${e.item.id}`;o[n]&&(o[n]=o[n].map(t=>t.link_id!==a.item.id||t.id?t:Object.assign(Object.assign({},t),{id:i})));const s=`${a.link_type}-${a.item.id}`;return o[s]&&(o[s]=o[s].map(t=>t.link_id!==e.item.id||t.id?t:Object.assign(Object.assign({},t),{id:i}))),Object.assign(Object.assign({},t),{links:o})}),Object(b.on)(n.h,(t,{linkId:e})=>Object.assign(Object.assign({},t),{links:Object.fromEntries(Object.entries(t.links).map(([t,a])=>[t,a.filter(t=>t.id!==e)]))})));function k(t,e){return f(t,e)}let _=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[i.c,b.StoreModule.forFeature("relationships",k),o.b.forFeature([g])]]}),t})()},"0aO/":function(t,e,a){"use strict";a.d(e,"a",function(){return Ut});var i=a("L5Tv"),o=a("fXoL"),n=a("XNiG"),s=a("LRne"),c=a("lJxs"),r=a("1G5W"),l=a("l7P3"),u=a("vk5f"),d=a("lU5h"),p=a("TqRa"),m=a("0/H+"),h=a("c3rA"),g=a("PBBv"),b=a("Jf2N"),f=a("8it8"),k=a("LdyQ"),_=a("MJvn"),w=a("n+1/"),v=a("ofXK"),y=a("NQa4"),x=a("Dvla"),T=a("NsZK"),I=a("UdVN"),C=a("yECk"),D=a("S//e"),S=a("mMFR"),O=a("+0HB");const j=["menu"],P=["toggle"],A=["deleteTagConfirm"];function $(t,e){1&t&&(o.cc(0,"div",10),o.gc(1,11),o.bc())}function R(t,e){if(1&t&&(o.cc(0,"a",23),o.Xb(1,"div",24),o.bc()),2&t){const t=o.uc(3);o.Dc("href",t.newTab,o.Xc)("tooltipMargin",5),o.Ib(1),o.Dc("icon","new-tab")}}const F=function(t){return{"nav-menu-item__icon_minimize_active":t}};function M(t,e){if(1&t){const t=o.dc();o.cc(0,"div",25),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("sendToTray",e)}),o.cc(1,"div",26),o.tc(),o.cc(2,"svg",27),o.Xb(3,"path",28),o.bc(),o.cc(4,"svg",29),o.cc(5,"g",30),o.cc(6,"g",31),o.cc(7,"g",32),o.Xb(8,"circle",33),o.Xb(9,"polyline",34),o.bc(),o.bc(),o.bc(),o.bc(),o.cc(10,"svg",35),o.qc("mouseenter",function(){return o.Uc(t),o.uc(3).minimizeRemoveIconIsHover()})("mouseleave",function(){return o.Uc(t),o.uc(3).minimizeRemoveIconIsNotHover()})("click",function(e){return o.Uc(t),o.uc(3).action("removeFromTray",e)}),o.cc(11,"g",30),o.cc(12,"g",31),o.cc(13,"g",32),o.Xb(14,"circle",36),o.cc(15,"g",37),o.Xb(16,"path",38),o.Xb(17,"path",39),o.bc(),o.bc(),o.bc(),o.bc(),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.uc(3);o.Dc("cuTooltip",t.minimizeTooltip)("tooltipMargin",5),o.Ib(1),o.Dc("ngClass",o.Hc(3,F,t.currentTask&&t.currentTask.id&&t.teamTrayTasks&&t.teamTrayTasks[t.currentTask.id]&&!0===t.teamTrayTasks[t.currentTask.id]))}}function E(t,e){if(1&t){const t=o.dc();o.cc(0,"a",40),o.qc("click",function(){return o.Uc(t),o.uc(3).action("rename")}),o.Xb(1,"div",41),o.bc()}2&t&&(o.Dc("tooltipMargin",5),o.Ib(1),o.Dc("icon","edit"))}function U(t,e){if(1&t){const t=o.dc();o.cc(0,"a",42),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("create",e)}),o.Xb(1,"div",43),o.bc()}if(2&t){const t=o.uc(3);o.Fc("cuTooltip","Create ",t.forSubtasks?"subtask":"task",""),o.Dc("tooltipMargin",5),o.Ib(1),o.Dc("icon","cu2-new")}}function L(t,e){if(1&t){const t=o.dc();o.cc(0,"a",44),o.qc("click",function(){return o.Uc(t),o.uc(3).action("showEmailModal")}),o.Xb(1,"div",45),o.bc()}2&t&&(o.Dc("tooltipMargin",5),o.Ib(1),o.Dc("icon","cu2-envelope-light"))}function z(t,e){if(1&t){const t=o.dc();o.cc(0,"a",42),o.qc("click",function(e){o.Uc(t);const a=o.uc(3);return a.action(a.forTasks||a.forBoardSubtasks||a.forChecklistItems?"delete":"deleteConfirm",e)}),o.Xb(1,"div",46),o.bc()}if(2&t){const t=o.uc(3);o.Ob("disabled-action",!t.canDelete),o.Dc("cuTooltip",t.canDelete?"Delete":"You don't have permission to delete this item")("tooltipMargin",5),o.Ib(1),o.Dc("icon","cu2-trash")}}const V=function(){return{fill:"#979797",stroke:"transparent"}};function N(t,e){if(1&t&&(o.cc(0,"div",12),o.bd(1,R,2,3,"a",13),o.bd(2,M,18,5,"div",14),o.cc(3,"div",15),o.Xb(4,"div",16),o.bc(),o.cc(5,"a",17),o.Xb(6,"div",18),o.bc(),o.bd(7,E,2,2,"a",19),o.bd(8,U,2,3,"a",20),o.bd(9,L,2,2,"a",21),o.bd(10,z,2,5,"a",22),o.bc()),2&t){const t=o.uc(2);o.Ib(1),o.Dc("ngIf",!t.isElectron),o.Ib(1),o.Dc("ngIf",!t.isSharingApp),o.Ib(1),o.Dc("cbContent",t.newTab)("tooltipMargin",5),o.Ib(1),o.Dc("icon","cu2-copy-link2"),o.Ib(1),o.Dc("cbContent",t.copyTaskId)("tooltipMargin",5),o.Ib(1),o.Dc("ngStyle",o.Gc(12,V)),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.change_title)&&!t.forChecklist&&t.canRename),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.can_create_tasks)&&t.canCreate&&!t.forAvailable&&t.forTasks&&!t.forBoardSubtasks&&!t.forCalendar&&!t.isSharingApp&&!t.forGantt),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.comment)&&t.forTasks&&!t.isSharingApp&&!t.forGantt),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.delete)&&!t.forBatch&&t.forTags&&!t.forChecklist)}}function q(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("removeTag",e)}),o.Xb(1,"div",46),o.cc(2,"div",56),o.gc(3,57),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","remove"))}function B(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("rename")}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,58),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","edit"))}function G(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("deleteConfirm",e)}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,59),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","trash-bold"))}function X(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("rename")}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,60),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","edit"))}function W(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("changeColor",e)}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,61),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","paintbrush"))}function H(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("filter",e)}),o.Xb(1,"div",62),o.cc(2,"div",56),o.gc(3,63),o.bc(),o.bc()}}function Z(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("editStatuses")}),o.Xb(1,"div",64),o.cc(2,"div",56),o.gc(3,65),o.bc(),o.bc()}}function Q(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("convert")}),o.Xb(1,"div",67),o.cc(2,"div",56),o.gc(3,68),o.bc(),o.bc()}}function K(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("assign",e)}),o.Xb(1,"div",69),o.cc(2,"div",56),o.gc(3,70),o.bc(),o.bc()}}function J(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("newItem")}),o.Xb(1,"div",71),o.cc(2,"div",56),o.gc(3,72),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","plus-thin"))}function Y(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("assignAll")}),o.Xb(1,"div",73),o.cc(2,"div",56),o.gc(3,74),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","user"))}function tt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("convertTask")}),o.Xb(1,"div",75),o.cc(2,"div",56),o.gc(3,76),o.bc(),o.bc()}}function et(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("moveSubtask")}),o.Xb(1,"div",77),o.cc(2,"div",56),o.gc(3,78),o.bc(),o.bc()}}function at(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("dependencies")}),o.Xb(1,"div",79),o.cc(2,"div",56),o.gc(3,80),o.bc(),o.bc()}}function it(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("move")}),o.Xb(1,"div",77),o.cc(2,"div",56),o.gc(3,81),o.bc(),o.bc()}}function ot(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-category-list-dropdown",82),o.qc("onSelect",function(e){return o.Uc(t),o.uc(3).addTaskToAnotherList(e)})("onRemoveAdditionalList",function(e){return o.Uc(t),o.uc(3).removeTasksFromAnotherList(e)}),o.vc(1,"idArrayFromObjectArray"),o.cc(2,"a",83),o.Xb(3,"div",77),o.cc(4,"div",56),o.gc(5,84),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.uc(3);o.Dc("selectableProject",!0)("defaultProject",t.project)("selectedCategory",null==t.currentTask||null==t.currentTask.category?null:t.currentTask.category.id)("selectedSubcategory",null==t.currentTask||null==t.currentTask.subcategory?null:t.currentTask.subcategory.id)("singleCategory",!1)("displaySearch",!1)("showTaskCount",!0)("task",t.currentTask)("showOtherListsForTask",!0)("listsToDeny",o.wc(1,10,null==t.currentTask?null:t.currentTask.other_subcategories))}}function nt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("copy")}),o.Xb(1,"div",85),o.cc(2,"div",56),o.dd(3,"Copy"),o.bc(),o.bc()}}function st(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("copy")}),o.Xb(1,"div",86),o.cc(2,"div",56),o.gc(3,87),o.bc(),o.bc()}}function ct(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-category-list-dropdown",88),o.qc("onSelect",function(e){return o.Uc(t),o.uc(3).action("move",void 0,e)})("onRemoveAdditionalList",function(e){return o.Uc(t),o.uc(3).onRemoveAdditionalList.emit({task:e.task,listId:e.listId})}),o.cc(1,"a",89),o.Xb(2,"div",77),o.cc(3,"div",56),o.dd(4,"Move"),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.uc(3);o.Dc("includeCategories",!0)("task",t.currentTask)("selectableProject",!0)("defaultProject",t.project)("selectedCategory",null==t.currentTask||null==t.currentTask.category?null:t.currentTask.category.id)("selectedSubcategory",null==t.currentTask||null==t.currentTask.subcategory?null:t.currentTask.subcategory.id)("showOtherListsForTask",!0)("forQuickActions",!0)}}function rt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("merge")}),o.Xb(1,"div",90),o.cc(2,"div",56),o.gc(3,91),o.bc(),o.bc()}}function lt(t,e){1&t&&(o.ac(0),o.gc(1,95),o.Zb())}function ut(t,e){1&t&&(o.ac(0),o.gc(1,96),o.Zb())}function dt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(3).action("archive")}),o.Xb(1,"div",92),o.cc(2,"div",56),o.bd(3,lt,2,0,"ng-container",93),o.bd(4,ut,2,0,"ng-template",null,94,o.cd),o.bc(),o.bc()}if(2&t){const t=o.Rc(5),e=o.uc(3);o.Ib(3),o.Dc("ngIf",e.archived)("ngIfElse",t)}}const pt=function(){return[]},mt=function(){return["right","left","auto"]};function ht(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-user-list-dropdown",97),o.qc("onChange",function(e){return o.Uc(t),o.uc(3).action("lineup",null,e[0])})("onClose",function(){return o.Uc(t),o.uc(3),o.Rc(1).close()}),o.cc(1,"a",89),o.Xb(2,"div",98),o.cc(3,"div",56),o.gc(4,99),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.uc(3);o.Dc("users",t.users)("multiChoice",!1)("selectedUsers",o.Gc(5,pt))("enableFirstSelection",!0)("dropdownPlacement",o.Gc(6,mt))}}function gt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){o.Uc(t);const e=o.uc(3);return e.updateCustomType(!e.hasCustomType)}),o.Xb(1,"div",100),o.cc(2,"div",56),o.dd(3),o.bc(),o.bc()}if(2&t){const t=o.uc(3);o.Ib(3),o.fd(" ",t.hasCustomType?"Unmark":"Mark"," as Milestone ")}}function bt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",102),o.qc("click",function(){return o.Uc(t),o.uc(4).action("addFavorite")}),o.Xb(1,"div",103),o.cc(2,"div",56),o.gc(3,104),o.bc(),o.bc()}}function ft(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){o.Uc(t);const a=e.ngIf;return o.uc(4).action("removeFavorite",null,a.id)}),o.Xb(1,"div",103),o.cc(2,"div",56),o.gc(3,105),o.bc(),o.bc()}}function kt(t,e){if(1&t&&(o.ac(0),o.bd(1,bt,4,0,"a",101),o.vc(2,"async"),o.bd(3,ft,4,0,"a",47),o.vc(4,"async"),o.Zb()),2&t){const t=o.uc(3);o.Ib(1),o.Dc("ngIf",!o.wc(2,2,t.favorite$)),o.Ib(2),o.Dc("ngIf",o.wc(4,4,t.favorite$))}}function _t(t,e){if(1&t){const t=o.dc();o.cc(0,"a",106),o.qc("click",function(){return o.Uc(t),o.uc(3).action("showSharingModal")}),o.Xb(1,"div",107),o.cc(2,"div",56),o.gc(3,108),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","share"))}function wt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("saveTemplate")}),o.Xb(1,"div",109),o.cc(2,"div",56),o.gc(3,110),o.bc(),o.bc()}}function vt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(e){return o.Uc(t),o.uc(3).action("delete",e)}),o.Xb(1,"div",46),o.cc(2,"div",56),o.gc(3,111),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","cu2-trash"))}function yt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("remove")}),o.Xb(1,"div",46),o.cc(2,"div",56),o.dd(3,"Remove"),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","remove"))}function xt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("checkAll")}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,112),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","check-all"))}function Tt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("uncheckAll")}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,113),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","uncheck-all"))}function It(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("saveChecklistTemplate")}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,114),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","save-template"))}function Ct(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("delete")}),o.Xb(1,"div",41),o.cc(2,"div",56),o.gc(3,115),o.bc(),o.bc()}2&t&&(o.Ib(1),o.Dc("icon","remove"))}function Dt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("moveUp")}),o.cc(1,"div",116),o.Xb(2,"div",117),o.bc(),o.cc(3,"div",56),o.gc(4,118),o.bc(),o.bc()}2&t&&(o.Ib(2),o.Dc("icon","move-up"))}function St(t,e){if(1&t){const t=o.dc();o.cc(0,"a",55),o.qc("click",function(){return o.Uc(t),o.uc(3).action("moveDown")}),o.cc(1,"div",116),o.Xb(2,"div",117),o.bc(),o.cc(3,"div",56),o.gc(4,119),o.bc(),o.bc()}2&t&&(o.Ib(2),o.Dc("icon","move-down"))}function Ot(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(4).action("prioritize")}),o.Xb(1,"div",121),o.cc(2,"div",56),o.gc(3,122),o.bc(),o.bc()}}function jt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(4).action("openDate")}),o.Xb(1,"div",123),o.cc(2,"div",56),o.gc(3,124),o.bc(),o.bc()}}function Pt(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(4).action("openTags")}),o.Xb(1,"div",125),o.cc(2,"div",56),o.gc(3,126),o.bc(),o.bc()}}function At(t,e){if(1&t){const t=o.dc();o.cc(0,"a",66),o.qc("click",function(){return o.Uc(t),o.uc(4).action("estimateTime")}),o.Xb(1,"div",127),o.cc(2,"div",56),o.gc(3,128),o.bc(),o.bc()}}function $t(t,e){if(1&t&&(o.cc(0,"div",120),o.bd(1,Ot,4,0,"a",48),o.bd(2,jt,4,0,"a",48),o.bd(3,Pt,4,0,"a",48),o.bd(4,At,4,0,"a",48),o.bc()),2&t){const t=o.uc(3);o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.change_priority)&&t.hasFeatures&&(null==t.project||null==t.project.features||null==t.project.features.priorities?null:t.project.features.priorities.enabled)),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.change_due_date)&&t.hasFeatures&&(null==t.project||null==t.project.features||null==t.project.features.due_dates?null:t.project.features.due_dates.enabled)),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.add_tags)&&t.hasFeatures&&(null==t.project||null==t.project.features||null==t.project.features.tags?null:t.project.features.tags.enabled)),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.track_time)&&t.hasFeatures&&(null==t.project||null==t.project.features||null==t.project.features.time_estimates?null:t.project.features.time_estimates.enabled))}}function Rt(t,e){if(1&t&&(o.ac(0),o.bd(1,q,4,1,"a",47),o.bd(2,B,4,1,"a",47),o.bd(3,G,4,1,"a",47),o.bd(4,X,4,1,"a",47),o.bd(5,W,4,1,"a",47),o.bd(6,H,4,0,"a",47),o.bd(7,Z,4,0,"a",47),o.bd(8,Q,4,0,"a",48),o.bd(9,K,4,0,"a",49),o.bd(10,J,4,1,"a",47),o.bd(11,Y,4,1,"a",47),o.bd(12,tt,4,0,"a",48),o.bd(13,et,4,0,"a",48),o.bd(14,at,4,0,"a",48),o.bd(15,it,4,0,"a",48),o.bd(16,ot,6,12,"cu-category-list-dropdown",50),o.vc(17,"async"),o.bd(18,nt,4,0,"a",48),o.bd(19,st,4,0,"a",48),o.bd(20,ct,5,8,"cu-category-list-dropdown",51),o.bd(21,rt,4,0,"a",48),o.bd(22,dt,6,2,"a",48),o.bd(23,ht,5,7,"cu-user-list-dropdown",52),o.vc(24,"async"),o.vc(25,"async"),o.bd(26,gt,4,1,"a",48),o.bd(27,kt,5,6,"ng-container",9),o.bd(28,_t,4,1,"a",53),o.bd(29,wt,4,0,"a",47),o.bd(30,vt,4,1,"a",47),o.bd(31,yt,4,1,"a",47),o.bd(32,xt,4,1,"a",47),o.bd(33,Tt,4,1,"a",47),o.bd(34,It,4,1,"a",47),o.bd(35,Ct,4,1,"a",47),o.bd(36,Dt,5,1,"a",47),o.bd(37,St,5,1,"a",47),o.bd(38,$t,5,4,"div",54),o.Zb()),2&t){const t=o.uc(2);let e=null,a=null;o.Ib(1),o.Dc("ngIf",!(t.forAvailable||t.forTasks||t.forChecklistItems||t.forChecklist||t.forProjects||t.forTagMenu)),o.Ib(1),o.Dc("ngIf",t.forChecklistItems),o.Ib(1),o.Dc("ngIf",t.forTagMenu),o.Ib(1),o.Dc("ngIf",t.forTagMenu),o.Ib(1),o.Dc("ngIf",t.forTags&&!t.forTasks&&!t.forChecklistItems&&!t.forChecklist),o.Ib(1),o.Dc("ngIf",t.forTags&&t.showFilter&&!t.forTasks&&!t.forChecklistItems&&!t.forChecklist),o.Ib(1),o.Dc("ngIf",t.forProjects),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.move_task)&&t.noParent),o.Ib(1),o.Dc("ngIf",t.forChecklistItems),o.Ib(1),o.Dc("ngIf",t.forChecklist&&t.canAddChecklists&&(!t.forChecklistFullResolved||!t.forChecklistHideCompleted)&&!t.forChecklistEmpty||t.forChecklistItems),o.Ib(1),o.Dc("ngIf",t.forChecklist&&!t.forChecklistEmpty),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.move_task)&&t.forSubtasks&&t.listAccess),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.move_task)&&t.forSubtasks),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.add_dependencies)&&(t.noParent||t.forSubtasks)&&!t.forGantt),o.Ib(1),o.Dc("ngIf",t.forProjects),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.move_task)&&(null==(e=o.wc(17,35,t.team$))?null:e.tasks_in_multiple_lists)&&!(null!=t.currentTask&&t.currentTask.parent)&&!t.isSharingApp),o.Ib(2),o.Dc("ngIf",t.forProjects),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.duplicate)&&(t.forTasks&&!t.forSubtasks||t.forSubtasks)),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.move_task)&&t.forTasks&&!t.forSubtasks),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.merge)&&(t.forTasks&&!t.forSubtasks||t.forSubtasks)),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.archive)&&(t.forTasks&&!t.forSubtasks||t.forSubtasks)),o.Ib(1),o.Dc("ngIf",(t.forTasks||t.forSubtasks)&&!t.isSharingApp&&!o.wc(24,37,t.isGuest$)&&(null==(a=o.wc(25,39,t.team$))?null:a.lineup)&&t.users),o.Ib(3),o.Dc("ngIf",t.showCustomTypes&&(null==t.permissions?null:t.permissions.can_create_milestone)),o.Ib(1),o.Dc("ngIf",t.forTasks||t.forSubtasks),o.Ib(1),o.Dc("ngIf",(null==t.permissions?null:t.permissions.share)&&t.forTasks),o.Ib(1),o.Dc("ngIf",t.forProjects),o.Ib(1),o.Dc("ngIf",t.forChecklistItems),o.Ib(1),o.Dc("ngIf",t.forProjects),o.Ib(1),o.Dc("ngIf",t.forChecklist&&!t.forChecklistEmpty&&!t.forChecklistFullResolved&&!t.forNewTaskChecklist),o.Ib(1),o.Dc("ngIf",t.forChecklist&&!t.forChecklistEmpty&&!t.forChecklistNotResolved&&!t.forNewTaskChecklist),o.Ib(1),o.Dc("ngIf",t.canSaveTemplate&&t.forChecklist&&!t.forChecklistEmpty&&!t.forNewTaskChecklist),o.Ib(1),o.Dc("ngIf",t.forChecklist),o.Ib(1),o.Dc("ngIf",t.forChecklist&&!t.isFirst),o.Ib(1),o.Dc("ngIf",t.forChecklist&&!t.isLast),o.Ib(1),o.Dc("ngIf",t.forTasks)}}function Ft(t,e){if(1&t&&(o.cc(0,"div",6),o.bd(1,$,2,0,"div",7),o.bd(2,N,11,13,"div",8),o.bd(3,Rt,39,41,"ng-container",9),o.bc()),2&t){const t=o.uc();o.Ib(1),o.Dc("ngIf",t.limited),o.Ib(1),o.Dc("ngIf",t.forTasks),o.Ib(1),o.Dc("ngIf",!t.isSharingApp)}}function Mt(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-tags-delete",129),o.qc("onConfirm",function(){return o.Uc(t),o.uc().action("deleteTag")})("onCancel",function(){return o.Uc(t),o.uc().action("cancelDelete")}),o.bc()}if(2&t){const t=o.uc();o.Dc("tagName",t.name)("allSpaces",t.allSpaces)}}const Et=["*"];let Ut=(()=>{class t{constructor(t,e,a,i){this.modalService=t,this.store=e,this.changeDetector=a,this.commonStringsService=i,this.destroy$=new n.a,this.favorite$=Object(s.a)(null),this.forBatch=!1,this.forProjects=!1,this.forAvailable=!1,this.forTags=!0,this.showFilter=!1,this.forTagMenu=!1,this.showCustomTypes=!1,this.hasCustomType=!1,this.forChecklistEmpty=!1,this.allSpaces=!1,this.forChecklistHideCompleted=!1,this.forChecklistNotResolved=!1,this.forChecklistFullResolved=!1,this.forTasks=!1,this.forSubtasks=!1,this.forChecklist=!1,this.forGantt=!1,this.canAddChecklists=!0,this.canEditChecklists=!0,this.canSaveTemplate=!0,this.isFirst=!1,this.isLast=!1,this.forChecklistItems=!1,this.forNewTaskChecklist=!1,this.hasFeatures=!1,this.noParent=!1,this.forBoardSubtasks=!1,this.forCalendar=!1,this.archived=!1,this.canCreate=!0,this.listAccess=!0,this.permissions={change_title:!0,delete:!0},this.limited=!1,this.canDelete=!0,this.canRename=!0,this.dropdownPreventDocumentScroll=!0,this.onAction=new o.o,this.onClose=new o.o,this.onOpenDeleteConfirm=new o.o,this.onRemoveAdditionalList=new o.o,this.isReady=!1,this.openWhenReady=!1,this.teamTrayTasks={},this.isSharingApp=p.k,this.team$=this.store.select(h.getTeam),this.isGuest$=this.store.select(h.isGuestTeam),this.minimizeTooltip=this.commonStringsService.sendToTrayText,this.isElectron=Object(d.b)()}set task(t){this.currentTask=t,t&&t.id&&(this.copyTaskId=t.custom_id||"#"+t.id,this.favorite$=this.store.select(g.j).pipe(Object(c.a)(e=>t&&e.find(e=>e.task_id===t.id))))}ngOnInit(){this.menu.dropdownClose.pipe(Object(r.a)(this.destroy$)).subscribe(()=>{this.onClose.emit()}),this.trayTasks=this.store.pipe(Object(l.select)(u.e)),this.trayTasks.pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.teamTrayTasks=t,this.changeDetector.markForCheck()})}ngAfterViewInit(){this.isReady=!0,this.openWhenReady&&this.open()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}open(){this.isReady?this.menu.open():this.openWhenReady=!0}close(){this.menu.close()}isOpen(){return this.menu.isOpen}updateCustomType(t){this.action("customType",null,t?i.a.MILESTONE:i.a.NONE)}action(t,e,a){if("deleteConfirm"===t)this.onOpenDeleteConfirm.emit(),this.openDeleteConfirm();else{if("delete"===t&&!this.canDelete)return e.preventDefault(),void e.stopPropagation();"removeTag"!==t&&"move"!==t&&"removeFavorite"!==t||this.menu.close(),"removeFromTray"!==t&&"sendToTray"!==t||!e||(e.preventDefault(),e.stopPropagation()),this.onAction.emit({action:t,event:e,initialEvent:this.initialEvent,data:a})}}minimizeRemoveIconIsHover(){this.minimizeTooltip=this.commonStringsService.removeFromTrayText,this.changeDetector.markForCheck()}minimizeRemoveIconIsNotHover(){this.minimizeTooltip=this.commonStringsService.sendToTrayText,this.changeDetector.markForCheck()}addTaskToAnotherList(t){t.subcategory&&t.subcategory.id!==this.currentTask.subcategory.id&&(this.store.dispatch(new m.f({task_ids:[this.currentTask.id],list:t.subcategory})),this.close())}removeTasksFromAnotherList(t){t.task&&t.listId&&(this.store.dispatch(new m.jb({task_ids:[t.task.id],listId:t.listId})),this.close())}openDeleteConfirm(){this.modalService.open({content:this.deleteTagConfirm})}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(b.a),o.Wb(l.Store),o.Wb(o.h),o.Wb(f.a))},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-quick-actions-menu"]],viewQuery:function(t,e){if(1&t&&(o.jd(j,3),o.jd(P,3),o.jd(A,3)),2&t){let t;o.Qc(t=o.rc())&&(e.menu=t.first),o.Qc(t=o.rc())&&(e.toggle=t.first),o.Qc(t=o.rc())&&(e.deleteTagConfirm=t.first)}},inputs:{name:"name",newTab:"newTab",modifier:"modifier",fixedLeft:"fixedLeft",fixedTop:"fixedTop",forBatch:"forBatch",forProjects:"forProjects",forAvailable:"forAvailable",forTags:"forTags",showFilter:"showFilter",forTagMenu:"forTagMenu",showCustomTypes:"showCustomTypes",hasCustomType:"hasCustomType",forChecklistEmpty:"forChecklistEmpty",allSpaces:"allSpaces",forChecklistHideCompleted:"forChecklistHideCompleted",forChecklistNotResolved:"forChecklistNotResolved",forChecklistFullResolved:"forChecklistFullResolved",forTasks:"forTasks",forSubtasks:"forSubtasks",forChecklist:"forChecklist",forGantt:"forGantt",canAddChecklists:"canAddChecklists",canEditChecklists:"canEditChecklists",canSaveTemplate:"canSaveTemplate",isFirst:"isFirst",isLast:"isLast",forChecklistItems:"forChecklistItems",forNewTaskChecklist:"forNewTaskChecklist",hasFeatures:"hasFeatures",noParent:"noParent",forBoardSubtasks:"forBoardSubtasks",fromPoint:"fromPoint",project:"project",weights:"weights",users:"users",task:"task",forCalendar:"forCalendar",archived:"archived",canCreate:"canCreate",listAccess:"listAccess",permissions:"permissions",limited:"limited",canDelete:"canDelete",canRename:"canRename",initialEvent:"initialEvent",dropdownPreventDocumentScroll:"dropdownPreventDocumentScroll"},outputs:{onAction:"onAction",onClose:"onClose",onOpenDeleteConfirm:"onOpenDeleteConfirm",onRemoveAdditionalList:"onRemoveAdditionalList"},ngContentSelectors:Et,decls:8,vars:2,consts:function(){let t,e,a,i,o,n,s,c,r,l,u,d,p,m,h,g,b,f,k,_,w,v,y,x,T,I,C,D,S,O,j,P,A,$,R,F,M,E,U,L;return t=$localize`:@@common_limited-permissions␟511cfa2c6feaab54f06bedd587e1f8a165c0868f␟5200871303932402252: Limited permissions `,e=$localize`:@@common_new-tab␟73272e437c2b8bd7d57e610a6131716967aff06d␟2069683324011263186:New tab`,a=$localize`:@@common_copy-url␟6e632baeee46b344077a135cd9da61786d3fa907␟2184619916211262318:Copy URL`,i=$localize`:@@common_copy-task-id␟4e0fe85f1f6654aa5770cf07e8aedf57457b82d5␟2053193386661149821:Copy Task ID`,o=$localize`:@@common_remove␟019d4bd6a5690f0cfa0ecf346a4e6bf7f0d8debb␟4814285799071780083:Remove`,n=$localize`:@@common_rename␟e26f9cf3666aace4e524b1505c9795d76d87738d␟6041115344061899387:Rename`,s=$localize`:@@common_delete␟826b25211922a1b46436589233cb6f1a163d89b7␟7022070615528435141:Delete`,c=$localize`:@@common_rename␟e26f9cf3666aace4e524b1505c9795d76d87738d␟6041115344061899387:Rename`,r=$localize`:@@common_change-color␟03a5cfeba4e64608e2b99d812159179236538a14␟3483363982895805232: Change color `,l=$localize`:@@cu-quick-actions-menu__nav-menu-item_tag-filter␟14b034915312cca89d2763759f6cd7fcde3b3f06␟4595182445568660613: Filter this tag `,u=$localize`:@@common_edit-folder-statuses␟261c17fdea67597ef19ecb29c0f864cb23677471␟6395534200137253362: Edit Folder statuses `,d=$localize`:@@common_convert-to-subtask␟c2a32cb253d620080cf0d61be49a228d5d7aee21␟8965985005966591912: Convert to subtask `,p=$localize`:@@common_assign-to␟a3d7e3101e5b1c899f88d72c84357a3d5479f339␟8609280473844496182: Assign to... `,m=$localize`:@@common_new-item␟4a760cd9f9fd31d2010c539cbd5a197fbbfdc936␟6610971346722743013:New item`,h=$localize`:@@common_assign-all-to␟7f8cf5838c9b41d90929c614ab16d3f95df7ea5b␟764039811823931002: Assign all to... `,g=$localize`:@@common_convert-to-task␟087426a19646dbf0e9613eb012d47e4d9859072f␟1270353454037293082: Convert to task `,b=$localize`:@@common_move-subtask␟62c50041aca455de992b7704e7bf281c915471f7␟7543986628776926812: Move subtask `,f=$localize`:@@common_dependencies␟a8e7e558506f41b2c2dded32a0a6843e005793a0␟7755008740682702876: Dependencies `,k=$localize`:@@common_move␟57cf305f9bfd681c70dc26e914108d06384ade9f␟2354817630223808522:Move`,_=$localize`:@@common_add-to-list␟28e3ea06c339f153564049a385df1a08a099f55c␟3382325894167741318: Add to List `,w=$localize`:@@common_duplicate␟c28e8ba09ffa6eed4c8cc61e0d749c9e3e9971e0␟2739406723629626504: Duplicate `,v=$localize`:@@common_merge␟7f8e64261497f0b38cfb8aa12b8f77cbb01a179b␟3206542606001340679:Merge`,y=$localize`:@@common_unarchive␟9dc54f68a4f9128e0bcd407661bcd9d47e2b6bbc␟1121513541518618634:Unarchive`,x=$localize`:@@common_archive␟22c9be90eb27c5c613348fbb621792223afe5d1b␟1055686627716339120:Archive`,T=$localize`:@@common_add-to-lineup␟fd1b80edfc7d4754aed930f98d8e31743ecc5810␟7169690149914167633: Add to LineUp `,I=$localize`:@@common_add-to-favorites␟3819fb24ad6f14260dedd10827bb5bc046dae181␟9198444728664972963: Add to Favorites `,C=$localize`:@@common_remove-from-favorites␟f9edec5f606d72b8eb09d781d704784b595a5513␟4138756296261449789: Remove from Favorites `,D=$localize`:@@common_sharing-and-permissions␟4a83f100fa5c05de3e79fa296f5a65f1722208f1␟5809900882419868577: Sharing & Permissions `,S=$localize`:@@common_save-as-template␟ee5862d8c4c0b2a79e669be82cd22173fd71e660␟2375800384908710670: Save as Template `,O=$localize`:@@common_delete␟826b25211922a1b46436589233cb6f1a163d89b7␟7022070615528435141:Delete`,j=$localize`:@@common_check-all␟5a22011dcb83b5fa5c8f674b18e7ad0ebec4c827␟1438712712782443787: Check all `,P=$localize`:@@common_uncheck-all␟c964543937b52a79a5ed312efe8d524da3660bdd␟3817833409294973182: Uncheck all `,A=$localize`:@@common_save-as-template␟ee5862d8c4c0b2a79e669be82cd22173fd71e660␟2375800384908710670: Save as Template `,$=$localize`:@@common_delete-checklist␟d6c013ac9cb1c2eea20b88d32571fd7aca97f302␟6444981388913612713: Delete checklist `,R=$localize`:@@common_move-up␟f5d502c5d44fd9d78ed4979a7efae43369b09dca␟8502065112576581103:Move up`,F=$localize`:@@common_move-down␟0e007f175d2435ef928a81dd9a06692ed95153aa␟549051018450510859: Move down `,M=$localize`:@@common_set-priority␟de5e7a51abbd4153794437788d12d7d659169571␟1221486535331920457: Set priority `,E=$localize`:@@common_set-due-date␟f0837129fdb06e6f1cb0b35adeacc637ac12b255␟1543941723851126516: Set due date `,U=$localize`:@@common_tags␟cafc87479686947e2590b9f588a88040aeaf660b␟7886570921510760899:Tags`,L=$localize`:@@common_estimate␟32a80dd1e5cbad913459487822002413b65e51ab␟3118224988608296911: Estimate `,[["cuDropdown","",1,"nav-menu","cu-dropdown","menu-options",3,"dropdownFromPoint","dropdownPreventDocumentScroll"],["menu","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["toggle",""],["class","cu-dropdown__menu nav-menu__controls",4,"cuDropdownMenu"],["deleteTagConfirm",""],[1,"cu-dropdown__menu","nav-menu__controls"],["class","nav-menu__limited",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices nav-menu-item_parent","cuLink","","draggable","false",4,"ngIf"],[4,"ngIf"],[1,"nav-menu__limited"],t,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__top-choices","nav-menu-item_parent"],["class","nav-menu-item nav-menu-item__top-choices-option","target","_blank","cuTooltip",e,3,"href","tooltipMargin",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option cu-hidden-print",3,"cuTooltip","tooltipMargin","click",4,"ngIf"],["ngxClipboard","","cuTooltip",a,1,"nav-menu-item","nav-menu-item__top-choices-option",3,"cbContent","tooltipMargin"],[1,"nav-menu-item__icon","nav-menu-item__icon_copy-link",3,"icon"],["cuLink","","draggable","false","ngxClipboard","","cuTooltip",i,1,"nav-menu-item","nav-menu-item__top-choices-option",3,"cbContent","tooltipMargin"],["icon","hash-thin",1,"nav-menu-item__icon","nav-menu-item__icon_copy-link",3,"ngStyle"],["class","nav-menu-item nav-menu-item__top-choices-option","cuLink","","draggable","false","cuTooltip","Rename",3,"tooltipMargin","click",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option","cuLink","","draggable","false",3,"cuTooltip","tooltipMargin","click",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option","cuLink","","draggable","false","cuTooltip","Email",3,"tooltipMargin","click",4,"ngIf"],["class","nav-menu-item nav-menu-item__top-choices-option","cuLink","","draggable","false",3,"disabled-action","cuTooltip","tooltipMargin","click",4,"ngIf"],["target","_blank","cuTooltip",e,1,"nav-menu-item","nav-menu-item__top-choices-option",3,"href","tooltipMargin"],[1,"nav-menu-item__icon","nav-menu-item__icon_new-tab",3,"icon"],[1,"nav-menu-item","nav-menu-item__top-choices-option","cu-hidden-print",3,"cuTooltip","tooltipMargin","click"],[1,"nav-menu-item__icon","nav-menu-item__icon_minimize",3,"ngClass"],["width","16px","height","14px","xmlns","http://www.w3.org/2000/svg",2,"margin-top","1px"],["d","M3.84.81L11 8V4.48a.48.48 0 1 1 .97 0L12 10H6a1 1 0 0 1 1-1h3.5L3.13 1.52a.5.5 0 0 1 0-.7.5.5 0 0 1 .7 0zM15.5 13H.5a.5.5 0 1 0 0 1h15a.5.5 0 1 0 0-1z","fill","#979797","fill-rule","evenodd"],["width","13px","height","13px","version","1.1","xmlns","http://www.w3.org/2000/svg",1,"nav-menu-item__icon_minimize-icon","nav-menu-item__icon_minimize-icon_open"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["transform","translate(-1665.000000, -37.000000)"],["transform","translate(1665.000000, 37.000000)"],["fill","#6ACA4F","cx","6.5","cy","6.5","r","6.5"],["stroke","#FFFFFF","stroke-width","1.25","stroke-linecap","round","points","4 7.18688562 5.65667732 8.66666667 9.5 5"],["width","13px","height","13px","version","1.1","xmlns","http://www.w3.org/2000/svg",1,"nav-menu-item__icon_minimize-icon","nav-menu-item__icon_minimize-icon_close",3,"mouseenter","mouseleave","click"],["fill","#E8364C","cx","6.5","cy","6.5","r","6.5"],["transform","translate(4.000000, 4.000000)","stroke","#FFFFFF"],["d","M0,0 L5,5"],["d","M0,0 L5,5","transform","translate(2.500000, 2.500000) scale(-1, 1) translate(-2.500000, -2.500000) "],["cuLink","","draggable","false","cuTooltip","Rename",1,"nav-menu-item","nav-menu-item__top-choices-option",3,"tooltipMargin","click"],[1,"nav-menu-item__icon","nav-menu-item__icon_edit",3,"icon"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__top-choices-option",3,"cuTooltip","tooltipMargin","click"],[1,"nav-menu-item__icon","nav-menu-item__icon_plus",3,"icon"],["cuLink","","draggable","false","cuTooltip","Email",1,"nav-menu-item","nav-menu-item__top-choices-option",3,"tooltipMargin","click"],[1,"nav-menu-item__icon","nav-menu-item__icon_email",3,"icon"],[1,"nav-menu-item__icon","nav-menu-item__icon_remove",3,"icon"],["class","nav-menu-item","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuLink","","class","nav-menu-item",3,"click",4,"ngIf"],["cuLink","","class","nav-menu-item","draggable","false",3,"click",4,"ngIf"],["class","cu-multiple-lists-display__item-category-list",3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","singleCategory","displaySearch","showTaskCount","task","showOtherListsForTask","listsToDeny","onSelect","onRemoveAdditionalList",4,"ngIf"],[3,"includeCategories","task","selectableProject","defaultProject","selectedCategory","selectedSubcategory","showOtherListsForTask","forQuickActions","onSelect","onRemoveAdditionalList",4,"ngIf"],[3,"users","multiChoice","selectedUsers","enableFirstSelection","dropdownPlacement","onChange","onClose",4,"ngIf"],["class","nav-menu-item nav-menu-item_share","cuLink","","draggable","false",3,"click",4,"ngIf"],["class","nav-menu-item nav-menu-item_clickapps","cuLink","","draggable","false",4,"ngIf"],["cuLink","","draggable","false",1,"nav-menu-item",3,"click"],[1,"nav-menu-item__name"],o,n,s,c,r,["icon","filter",1,"nav-menu-item__icon","nav-menu-item__icon_edit"],l,["icon","edit-statuses",1,"nav-menu-item__icon","nav-menu-item__icon_edit"],u,["cuLink","",1,"nav-menu-item",3,"click"],["icon","convert-to-subtask",1,"nav-menu-item__icon","nav-menu-item__icon_create-task"],d,["icon","user",1,"nav-menu-item__icon","nav-menu-item__icon_assign"],p,[1,"nav-menu-item__icon","nav-menu-item__icon_edit","nav-menu-item__icon_new-checklist",3,"icon"],m,[1,"nav-menu-item__icon","nav-menu-item__icon_assign",3,"icon"],h,["icon","convert-to-task",1,"nav-menu-item__icon","nav-menu-item__icon_create-task"],g,["icon","cu2-move",1,"nav-menu-item__icon","nav-menu-item__icon_move"],b,["icon","dependency",1,"nav-menu-item__icon","nav-menu-item__icon_dependency"],f,k,[1,"cu-multiple-lists-display__item-category-list",3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","singleCategory","displaySearch","showTaskCount","task","showOtherListsForTask","listsToDeny","onSelect","onRemoveAdditionalList"],[1,"nav-menu-item"],_,["icon","copy",1,"nav-menu-item__icon","nav-menu-item__icon_create-task"],["icon","copy",1,"nav-menu-item__icon","nav-menu-item__icon_copy"],w,[3,"includeCategories","task","selectableProject","defaultProject","selectedCategory","selectedSubcategory","showOtherListsForTask","forQuickActions","onSelect","onRemoveAdditionalList"],["cuLink","",1,"nav-menu-item","nav-menu-item_no-border-radius"],["icon","merge",1,"nav-menu-item__icon","nav-menu-item__icon_create-task"],v,["icon","archive2",1,"nav-menu-item__icon","nav-menu-item__icon_archive"],[4,"ngIf","ngIfElse"],["notArchived",""],y,x,[3,"users","multiChoice","selectedUsers","enableFirstSelection","dropdownPlacement","onChange","onClose"],["icon","lineup",1,"nav-menu-item__icon","nav-menu-item__icon_lineup"],T,["icon","milestone",1,"nav-menu-item__icon","nav-menu-item__icon_milestone"],["class","nav-menu-item nav-menu-item__add-to-favorites","cuLink","","draggable","false",3,"click",4,"ngIf"],["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item__add-to-favorites",3,"click"],["icon","cu2-star2",1,"nav-menu-item__icon","nav-menu-item__icon_favorites"],I,C,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item_share",3,"click"],[1,"nav-menu-item__icon","nav-menu-item__icon_share",3,"icon"],D,["icon","save-template",1,"nav-menu-item__icon","nav-menu-item__icon_save-template"],S,O,j,P,A,$,[1,"nav-menu-item__icon","nav-menu-item__icon_edit"],[3,"icon"],R,F,["cuLink","","draggable","false",1,"nav-menu-item","nav-menu-item_clickapps"],["icon","priority-menu-item",1,"nav-menu-item__icon","nav-menu-item__icon_create-task"],M,["icon","calend",1,"nav-menu-item__icon","nav-menu-item__icon_create-task"],E,["icon","tags-menu-item",1,"nav-menu-item__icon","nav-menu-item__icon_tags"],U,["icon","time-estimate",1,"nav-menu-item__icon","nav-menu-item__icon_tags","nav-menu-item__icon_estimate"],L,[3,"tagName","allSpaces","onConfirm","onCancel"]]},template:function(t,e){1&t&&(o.Cc(),o.cc(0,"div",0,1),o.cc(2,"div",2,3),o.Bc(4),o.bc(),o.bd(5,Ft,4,3,"div",4),o.bc(),o.bd(6,Mt,1,2,"ng-template",null,5,o.cd)),2&t&&o.Dc("dropdownFromPoint",e.fromPoint)("dropdownPreventDocumentScroll",e.dropdownPreventDocumentScroll)},directives:[k.b,_.a,w.a,v.q,y.a,x.a,T.a,I.a,v.t,v.o,C.a,D.a,S.a],pipes:[v.b,O.a],encapsulation:2,changeDetection:0}),t})()},"0e3U":function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("3Pt+"),o=a("ofXK"),n=a("k6wb"),s=a("KyjD"),c=a("EDFS"),r=a("K0KF"),l=a("J1KY"),u=a("/Ufd"),d=a("fXoL");let p=(()=>{class t{}return t.\u0275mod=d.Ub({type:t}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},imports:[[o.c,n.a,i.x,s.a,c.d,r.a,l.a,u.a]]}),t})()},"0lvH":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{transform(t,e=!0,a=!1){if(!t)return e?"0:00:00":"0:00";t=t<0?-1*t:1*t;let i=Math.floor(t/1e3%60),o=Math.floor(t/6e4%60),n=Math.floor(t/36e5);return 59===i&&(t+=1e3,i=Math.floor(t/1e3%60),o=Math.floor(t/6e4%60),n=Math.floor(t/36e5)),n+":"+(o<10?"0"+o:o)+(e||a&&0===o?":"+(i<10?"0"+i:i):"")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"timeTrackerDuration",type:t,pure:!0}),t})()},"0qC/":function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("ofXK"),o=a("K0KF"),n=a("FWqE"),s=a("bx+h"),c=a("gb9A"),r=a("fXoL");let l=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,n.a,o.a,s.a,c.a]]}),t})()},"0r45":function(t,e,a){"use strict";a.d(e,"a",function(){return I});var i=a("h/4x"),o=a("6cX2"),n=a("r6/G"),s=a("0e3U"),c=a("DEUT"),r=a("EQTS"),l=a("YaTN"),u=a("ofXK"),d=a("k6wb"),p=a("gb9A"),m=a("KyjD"),h=a("bFKe"),g=a("3Pt+"),b=a("EDFS"),f=a("1M0N"),k=a("K0KF"),_=a("/SUI"),w=a("J1KY"),v=a("/Ufd"),y=a("M5QM"),x=a("bZrb"),T=a("fXoL");let I=(()=>{class t{}return t.\u0275mod=T.Ub({type:t}),t.\u0275inj=T.Tb({factory:function(e){return new(e||t)},imports:[[u.c,d.a,p.a,m.a,h.b,g.x,g.l,b.d,f.a,k.a,_.a,w.a,v.a,l.a,r.a,y.a,c.a,s.a,n.a,o.a,x.a,i.a]]}),t})()},"0v7y":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("fXoL"),o=a("7Cbv");let n=(()=>{class t{constructor(){this.value={inputValues:{},interpolatedInput:{},mappedInputValues:{}},this.valueChange=new i.o,this.valueInvalid=new i.o}ngOnChanges(t){(t.value||t.options)&&(this.remappedAction={id:Object(o.a)(),inputValues:this.value.inputValues,interpolatedInput:this.value.interpolatedInput,mappedInputValues:this.value.mappedInputValues,resource:this.resource,action:{display:{title:this.options.propertyDetails.title},key:this.options.key,schema:this.options.propertyDetails}})}updateValue(t){const e=this.remappedAction;this.remappedAction=Object.assign(Object.assign({},this.remappedAction),t.key?{inputValues:Object.assign(Object.assign({},e.inputValues),t.selfEmitValue&&"object"==typeof t.value?t.value:{[t.key]:t.value}),interpolatedInput:Object.keys(e.interpolatedInput).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.interpolatedInput[a]}),{}),mappedInputValues:Object.keys(e.mappedInputValues).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.mappedInputValues[a]}),{})}:{inputValues:Object.assign({},t.value)}),this.valueChange.emit(this.remappedAction)}interpolatedChange(t){const e=this.remappedAction;this.remappedAction=Object.assign(Object.assign({},this.remappedAction),{inputValues:Object.keys(e.inputValues).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.inputValues[a]}),{}),mappedInputValues:Object.keys(e.mappedInputValues).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.mappedInputValues[a]}),{}),interpolatedInput:Object.assign(Object.assign({},e.interpolatedInput),{[t.key]:[...t.value]})}),this.valueChange.emit(this.remappedAction)}mappedChange(t){const e=this.remappedAction;this.remappedAction=Object.assign(Object.assign({},this.remappedAction),t.key?{mappedInputValues:Object.assign(Object.assign({},e.mappedInputValues),{[t.key]:t.value}),inputValues:Object.keys(e.inputValues).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.inputValues[a]}),{}),interpolatedInput:Object.keys(e.interpolatedInput).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.interpolatedInput[a]}),{})}:{mappedInputValues:Object.assign(Object.assign({},e.mappedInputValues),t.value),inputValues:Object.keys(e.inputValues).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.inputValues[a]}),{}),interpolatedInput:Object.keys(e.interpolatedInput).filter(e=>e!==t.key).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:e.interpolatedInput[a]}),{})}),this.valueChange.emit(this.remappedAction)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-object-field"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-automation-field-value-add-custom-field",!0)},inputs:{action:"action",parentType:"parentType",parentId:"parentId",automationResource:"automationResource",resource:"resource",value:"value",options:"options",variables:"variables",readonly:"readonly",placeholder:"placeholder"},outputs:{valueChange:"valueChange",valueInvalid:"valueInvalid"},features:[i.Gb],decls:1,vars:8,consts:[[3,"action","readonly","parentId","dynamicValues","parentType","noMappingVariables","variables","resource","valueChange","mappedValueChange","interpolatedInputChange"]],template:function(t,e){1&t&&(i.cc(0,"cu-schema-automation-field",0),i.qc("valueChange",function(t){return e.updateValue(t)})("mappedValueChange",function(t){return e.mappedChange(t)})("interpolatedInputChange",function(t){return e.interpolatedChange(t)}),i.bc()),2&t&&i.Dc("action",e.remappedAction)("readonly",e.readonly)("parentId",e.parentId)("dynamicValues",e.options.dynamicValues)("parentType",e.parentType)("noMappingVariables",!0)("variables",e.variables)("resource",e.automationResource)},styles:['.cu-automation-field-value-add-custom-field{min-width:0}.cu-automation-field-value-add-custom-field__value{display:flex;position:relative;margin-bottom:5px}.cu-automation-field-value-add-custom-field__value:hover .cu-automation-field-value-add-custom-field__remove{display:block}.cu-automation-field-value-add-custom-field__add,.cu-automation-field-value-add-custom-field__remove{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:11px;display:flex;align-items:center;cursor:pointer;position:relative;z-index:1;color:#b9bec7}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-add-custom-field__add,.cu-automation-field-value-add-custom-field__remove{font-family:var(--global-font-support)}}.dark-theme .cu-automation-field-value-add-custom-field__add,.dark-theme .cu-automation-field-value-add-custom-field__remove{color:#979797}.cu-automation-field-value-add-custom-field__add .icon,.cu-automation-field-value-add-custom-field__remove .icon{transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:50%;height:16px;width:16px;margin-right:5px;padding:3px;fill:#fff;background-color:#b9bec7}.dark-theme .cu-automation-field-value-add-custom-field__add .icon,.dark-theme .cu-automation-field-value-add-custom-field__remove .icon{background-color:#979797}.cu-automation-field-value-add-custom-field__add:hover,.cu-automation-field-value-add-custom-field__remove:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-add-custom-field__add:hover,.cu-automation-field-value-add-custom-field__remove:hover{color:var(--theme-main-color)}}.cu-automation-field-value-add-custom-field__add:hover .icon,.cu-automation-field-value-add-custom-field__remove:hover .icon{background-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-add-custom-field__add:hover .icon,.cu-automation-field-value-add-custom-field__remove:hover .icon{background-color:var(--theme-main-color)}}.cu-automation-field-value-add-custom-field__value+.cu-automation-field-value-add-custom-field__add{margin-top:15px}.cu-automation-field-value-add-custom-field__remove{display:none;margin-left:5px;position:absolute;right:-12px;top:12px}.cu-automation-field-value-add-custom-field__remove .icon{transform:rotate(45deg)}.cu-automation-field-value-add-custom-field__label{display:flex;align-items:center;height:40px;width:120px;margin-right:10px}.cu-automation-field-value-add-custom-field__label-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;flex-grow:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-add-custom-field__label-text{font-family:var(--global-font-support)}}.dark-theme .cu-automation-field-value-add-custom-field__label-text{color:#d5d6d7}'],encapsulation:2,changeDetection:0}),t})()},"1RBQ":function(t,e,a){t.exports=a.p+"gitlab-step2.5e2efb30e24c5ec3dba9.png"},"1jjG":function(t,e,a){t.exports=a.p+"toggl-interval.516d81cc3447f7a138e9.svg"},"2WV7":function(t,e,a){"use strict";a.d(e,"a",function(){return u});var i=a("fXoL"),o=a("ofXK"),n=a("AMNA"),s=a("f0Wu"),c=a("IlGD"),r=a("YwDF"),l=a("oy6Y");let u=(()=>{class t{constructor(t,e){this.locale=t,this.timezonesService=e,this.fullDateFormat="M/D/YY",this.shortDateFormat="MMM D"}transform(t,e,a,i){if(t&&e)switch(e){case"sum":return this.formatValue(t.sum,a,i);case"min":return this.formatValue(t.min,a,i);case"max":return this.formatValue(t.max,a,i);case"average":case"avg":return this.formatValue(t.avg,a,i);case"range":return"date"===a?t.max&&t.min?t.max===t.min?$localize`:@@pipe_calc-value--few-secs:a few seconds`:Object(n.a)(parseInt(t.max,10),parseInt(t.min,10)):"":`${this.formatValue(t.min,a,i)} - ${this.formatValue(t.max,a,i)}`;case"array":return(t.array||[]).map(t=>this.formatValue(t,a,i)).join(", ")}return null}formatValue(t,e,a){switch(e){case"time":return null==t?$localize`:@@pipe_calc-value--0m:0 m`:Object(n.e)(parseInt(t,10));case"days":if(null==t)return $localize`:@@pipe_calc-value--0d:0 days`;const e=864e5,i=Math.floor(parseInt(t,10)/e);return 1===i?$localize`:@@pipe_calc-value--n-day:${i}:dayCount: day`:$localize`:@@pipe_calc-value--n-days:${i}:dayCount: days`;case"date":if(null==t)return"";const l=s(parseInt(t,10));return this.timezonesService.formatDateTime(l,this.evalShowYear(l)?this.fullDateFormat:this.shortDateFormat);default:return a&&a.type===r.a.Currency?c.e[r.a.Currency].formatValue(t,a):Object(o.F)(null==t?0:parseFloat(t),this.locale,"1.0-2")}}evalShowYear(t){return s().year()!==t.year()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.w),i.Wb(l.a))},t.\u0275pipe=i.Vb({name:"calcValue",type:t,pure:!0}),t})()},"3/Gy":function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"d",function(){return b}),a.d(e,"c",function(){return X}),a.d(e,"b",function(){return W});var i=a("fXoL");const o=new i.s("clickup/integration/auth: AuthenticationFLow");var n=a("ofXK"),s=a("3Pt+"),c=a("Ox28"),r=a("lJxs"),l=a("2p4s"),u=a("tk/3"),d=a("irDL");let p=(()=>{class t{constructor(t,e){this.httpClient=t,this.errorHandler=e,this.apiUrl=l.a.apiUrl}getCurrentAuthentications(t,e){return this.httpClient.get(this.buildBaseUrl(t,e)).pipe(Object(r.a)(t=>t.auths)).pipe(this.errorHandler.http())}getAuthenticationType(t,e){return this.httpClient.get(this.buildBaseUrl(t,e)).pipe(Object(r.a)(t=>t.auths)).pipe(this.errorHandler.http())}getAvailableAuth(t,e){return this.httpClient.get(this.buildBaseUrl(t,e)).pipe(this.errorHandler.http())}deleteAuth(t,e,a){return this.httpClient.delete(`${this.buildBaseUrl(t,e)}/${a}`).pipe(this.errorHandler.http())}buildBaseUrl(t,e){return`${this.apiUrl}/team/${t}/autoAuth/${e}`}}return t.\u0275fac=function(e){return new(e||t)(i.nc(u.b),i.nc(d.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t{constructor(t){this.strategies=t}getStrategy(t){const e=this.strategies.find(e=>e.type.toLowerCase()===t.toLowerCase());if(!e)throw new Error(`Auth ${t} strategy not registered`);return e}}return t.\u0275fac=function(e){return new(e||t)(i.nc(o))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac}),t})();var h=a("mcWp"),g=a("K0KF");let b=(()=>{class t{}return t.\u0275mod=i.Ub({type:t}),t.\u0275inj=i.Tb({factory:function(e){return new(e||t)},providers:[p,m],imports:[[n.c,c.b,h.a,s.l,g.a]]}),t})();var f=a("2Vo4"),k=a("XNiG"),_=a("itXk"),w=a("eIep"),v=a("1G5W"),y=a("pLZG"),x=a("c3rA"),T=a("l7P3"),I=a("UdVN");function C(t,e){1&t&&i.Yb(0)}function D(t,e){if(1&t&&(i.ac(0),i.bd(1,C,1,0,"ng-container",1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngxComponentOutlet",t.comp)}}let S=(()=>{class t{constructor(){this.onCloseModal=new i.o,this.isValid=new i.o,this.authentication=new i.o,this.comp=null}set component(t){t&&(this.comp=t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-integration-auth-start"]],hostAttrs:[1,"cu-integration-auth-start"],inputs:{authResource:"authResource",component:"component",teamId:"teamId",resource:"resource",colorOverride:"colorOverride"},outputs:{onCloseModal:"onCloseModal",isValid:"isValid",authentication:"authentication"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngxComponentOutlet"]],template:function(t,e){1&t&&i.bd(0,D,2,1,"ng-container",0),2&t&&i.Dc("ngIf",e.comp)},directives:[n.q,c.a],styles:[":host{display:flex;flex-direction:column;align-items:center;width:100%}.cu-integration-auth-start .cu-email-settings__link-button button{margin:5px 0;width:400px}"],encapsulation:2,changeDetection:0}),t})();var O=a("O5gs");const j=["*"];let P=(()=>{class t{constructor(){this.modifier=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-auth-dropdown"]],inputs:{modifier:"modifier"},ngContentSelectors:j,decls:4,vars:3,consts:[[1,"cu-auth-dropdown__value"],["icon","cu2-angle-down",1,"cu-auth-dropdown__arrow"]],template:function(t,e){1&t&&(i.Cc(),i.cc(0,"div"),i.cc(1,"div",0),i.Bc(2),i.bc(),i.Xb(3,"div",1),i.bc()),2&t&&i.Mb("cu-auth-dropdown ",e.modifier,"")},directives:[I.a],styles:['.cu-auth-dropdown{height:40px;border-radius:4px;display:flex;align-items:center;padding:0 12px;flex-grow:1;position:relative;background:hsla(0,0%,100%,.1)}.cu-auth-dropdown_tray{background:#f9f9f9}.cu-auth-dropdown__value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:15px;line-height:14px;color:#fff;flex-grow:1;position:relative;height:100%;display:flex;align-items:center;margin-right:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-auth-dropdown__value{font-family:var(--global-font-support)}}.cu-auth-dropdown__arrow{width:10px;height:10px;fill:#b9bec7}'],encapsulation:2,changeDetection:0}),t})();function A(t,e){1&t&&(i.mc(0,8,1),i.Xb(1,"em"),i.jc())}function $(t,e){if(1&t){const t=i.dc();i.cc(0,"div",18),i.qc("click",function(){i.Uc(t);const e=i.uc();return e.removeAccount(e.selectedAuth)}),i.gc(1,19),i.bc()}}function R(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.ed(t.addAnotherAuth)}}function F(t,e){1&t&&i.gc(0,20)}const M=function(t,e){return{"background-color":t,"border-color":e}};let E=(()=>{class t{constructor(t){this.authService=t,this.auth=new i.o,this.addAccount=new i.o,this.authMenuItems=[],this.selectedAuth=null}set auths(t){t&&this.generateAuthMenuItems(t)}get authSectionClass(){return"cu-authentication-selection cu-authentication-selection_"+this.authType}selectAuth(t){t.checked=!0,this.selectedAuth=t.customPayload}removeAccount(t){const e=[...this.authMenuItems];this.authMenuItems=this.authMenuItems.filter(e=>e.id!==t.id),this.selectedAuth=null,this.authDelegate.deleteAuth?this.authDelegate.deleteAuth(this.teamId,this.resource,t.id):this.authService.deleteAuth(this.teamId,this.resource,t.id).subscribe(()=>{},()=>{this.authMenuItems=e})}confirmAuth(){this.selectedAuth&&this.auth.emit(this.selectedAuth)}generateAuthMenuItems(t){this.authMenuItems=t.map(t=>({id:t.id,customPayload:t,title:t.name||t.auth}))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(p))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-authentication-selection"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Jb("class",e.authSectionClass)},inputs:{auths:"auths",teamId:"teamId",resource:"resource",colorOverride:"colorOverride",authDelegate:"authDelegate",authType:"authType",addAnotherAuth:"addAnotherAuth"},outputs:{auth:"auth",addAccount:"addAccount"},decls:19,vars:25,consts:function(){let t,e,a,i,o,n,s;return t=$localize`:@@cu-authentication-selection__title␟82900f84c222995df28b530d342d103ec58718e5␟4347956921716249210: Select an account
`,e=$localize`:@@cu-authentication-selection__label_accounts␟3ad70a0161dd273399160d8c52649ba348ec5c7c␟686689580303596793: Accounts `,a=$localize`:@@cu-authentication-selection__btn-txt_select␟291d9bc7091da7e1461b5a05c4aa57b10a3ef87a␟8403247799071628640: Select
`,i=$localize`:@@cu-authentication-selection__line_or␟b9f54f82810efef0ad058b95c3f278da7621356d␟2875420629212520563: OR
`,o=$localize`:@@cu-authentication-selection__toggle␟5c617ec64742e4218b895bb948327444649f0f7d␟5884842083155931035: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd*9:1\ufffd\ufffd#1:1\ufffd"}:START_EMPHASISED_TEXT:Please select account${"\ufffd/#1:1\ufffd\ufffd/*9:1\ufffd"}:CLOSE_EMPHASISED_TEXT:`,n=$localize`:@@common_remove␟c4db07dff7f5d9404e823be8406746080d770703␟3193251524998259838: Remove `,s=$localize`:@@cu-authentication-selection__btn_another-account␟4abf4eb52f2b05cd35429929973bc3a1db671b97␟1365555868880197059: Sign into another account `,[[1,"cu-authentication-selection__title"],t,[1,"cu-authentication-selection__content"],[1,"cu-authentication-selection__label"],e,[3,"items","showSearch","autoFocusSearch","menuContainerModifier","onSelect"],[3,"modifier"],[1,"cu-authentication-selection__toggle"],o,[4,"ngIf"],["class","cu-authentication-selection__remove",3,"click",4,"ngIf"],[3,"disabled","ngStyle","click"],a,[1,"cu-authentication-selection__line"],i,[3,"ngStyle","click"],[4,"ngIf","ngIfElse"],["defaultAddAuth",""],[1,"cu-authentication-selection__remove",3,"click"],n,s]},template:function(t,e){if(1&t&&(i.cc(0,"div",0),i.gc(1,1),i.bc(),i.cc(2,"div",2),i.cc(3,"div",3),i.gc(4,4),i.bc(),i.cc(5,"cu-dropdown-list",5),i.qc("onSelect",function(t){return e.selectAuth(t)}),i.cc(6,"cu-auth-dropdown",6),i.cc(7,"div",7),i.mc(8,8),i.bd(9,A,2,0,"em",9),i.jc(),i.bc(),i.bd(10,$,2,0,"div",10),i.bc(),i.bc(),i.bc(),i.cc(11,"button",11),i.qc("click",function(){return e.confirmAuth()}),i.gc(12,12),i.bc(),i.cc(13,"div",13),i.gc(14,14),i.bc(),i.cc(15,"button",15),i.qc("click",function(){return e.addAccount.emit(!0)}),i.bd(16,R,2,1,"ng-container",16),i.bd(17,F,1,0,"ng-template",null,17,i.cd),i.bc()),2&t){const t=i.Rc(18);i.Ib(5),i.Dc("items",e.authMenuItems)("showSearch",!0)("autoFocusSearch",!0)("menuContainerModifier","cu-authentication-selection__menu"),i.Ib(1),i.Dc("modifier","cu-auth-dropdown_"+e.authType),i.Ib(3),i.Dc("ngIf",!e.selectedAuth),i.kc((null==e.selectedAuth?null:e.selectedAuth.name)||(null==e.selectedAuth?null:e.selectedAuth.auth)),i.hc(8),i.Ib(1),i.Dc("ngIf",e.selectedAuth&&!e.authDelegate.noRemove),i.Ib(1),i.Mb("cu-btn cu-btn_sm cu-btn_font-size-14 cu-authentication-selection__btn cu-authentication-selection__btn_",e.resource,""),i.Dc("disabled",!e.selectedAuth)("ngStyle",i.Ic(19,M,e.colorOverride||"inherit",e.colorOverride||"inherit")),i.Ib(4),i.Mb("cu-btn cu-btn_sm cu-btn_font-size-14 cu-authentication-selection__btn cu-authentication-selection__btn_",e.resource," alt"),i.Dc("ngStyle",i.Ic(22,M,e.colorOverride||"inherit",e.colorOverride||"inherit")),i.Ib(1),i.Dc("ngIf",e.addAnotherAuth)("ngIfElse",t)}},directives:[O.a,P,n.q,n.t],styles:['.cu-authentication-selection__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 20px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:30px;color:#fff;text-align:center}.cu-authentication-selection_tray .cu-authentication-selection__title{color:#0d122b}.cu-authentication-selection__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:5px;color:#fff}.cu-authentication-selection_tray .cu-authentication-selection__label{color:#0d122b}.cu-authentication-selection__btn{width:300px;margin-top:25px}.cu-authentication-selection__btn_github{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;background:#28a745!important;border-color:#28a745!important}.cu-authentication-selection__btn_github:hover{background:#39a04e!important;border-color:#39a04e!important}.cu-authentication-selection__btn_github.alt{background:#171516;border-color:#171516}.cu-authentication-selection__btn_github.alt:hover{background:hsla(0,0%,100%,.1);border-color:hsla(0,0%,100%,.1)}.cu-authentication-selection__btn_bugsnag{background:#464fdc;border-color:#464fdc}.cu-authentication-selection__btn_bugsnag:hover{background:#3b42b3;border-color:#3b42b3}.cu-authentication-selection__btn_bugsnag.alt{background:#000e47;border-color:#000e47}.cu-authentication-selection__btn_bugsnag.alt:hover{background:#00125b;border-color:#00125b}.cu-authentication-selection__btn_tray{background:#f22f46;border-color:#f22f46}.cu-authentication-selection__btn_tray:hover{background:#c41025;border-color:#c41025}.cu-authentication-selection__btn_tray.alt{background:#fff;border-color:#fff;color:#0d122b}.cu-authentication-selection__btn_tray.alt:hover{background:#f9f9f9}.cu-authentication-selection__toggle{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:15px;line-height:14px;flex-grow:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-authentication-selection__toggle{font-family:var(--global-font-support)}}.cu-authentication-selection_tray .cu-authentication-selection__toggle,.dark-theme .cu-authentication-selection_tray .cu-authentication-selection__toggle *{color:#0d122b}.cu-authentication-selection__line{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;justify-content:space-between;z-index:1;overflow:hidden;text-align:center;position:relative;margin-top:25px;width:300px;font:600 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:hsla(0,0%,100%,.2)}.cu-authentication-selection_tray .cu-authentication-selection__line{color:rgba(0,0,0,.2)}.cu-authentication-selection__line:after,.cu-authentication-selection__line:before{width:45%;height:1px;content:"";background-color:hsla(0,0%,100%,.1)}.cu-authentication-selection_tray .cu-authentication-selection__line:after,.cu-authentication-selection_tray .cu-authentication-selection__line:before{background-color:rgba(0,0,0,.1)}.cu-authentication-selection__content{width:300px}.cu-authentication-selection__remove{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:600 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#d73a49;padding:4px 5px;border-radius:2px;margin-left:10px;display:none}.cu-authentication-selection__remove:hover{background-color:hsla(0,0%,100%,.1)}.cu-authentication-selection_tray .cu-authentication-selection__remove:hover{background-color:rgba(0,0,0,.1)}.cu-auth-dropdown:hover .cu-authentication-selection__remove{display:block}.cu-authentication-selection__menu{width:300px}.cu-authentication-selection__menu .cu-dropdown-list__menu{max-width:300px}'],encapsulation:2,changeDetection:0}),t})();function U(t,e){if(1&t&&i.Xb(0,"img",8),2&t){const t=i.uc();i.Mb("cu-integration-authentication-auth__icon cu-integration-authentication-auth__icon_",t.integrationResource," icon"),i.Dc("src",t.resourceInfo.icon,i.Xc)("alt",t.integrationResource)}}function L(t,e){if(1&t&&i.Xb(0,"div",9),2&t){const t=i.uc();i.Mb("cu-integration-authentication-auth__icon cu-integration-authentication-auth__icon_",t.integrationResource," icon"),i.Dc("icon",t.resourceInfo.icon||t.integrationResource)}}function z(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-integration-auth-start",11),i.qc("isValid",function(e){return i.Uc(t),i.uc(3).isValid=e})("authentication",function(e){return i.Uc(t),i.uc(3).authorized(e)})("onCloseModal",function(){return i.Uc(t),i.uc(3).closeModal()}),i.vc(1,"async"),i.vc(2,"async"),i.bc()}if(2&t){const t=i.uc().ngIf,e=i.uc(2);i.Dc("component",t.startComponent)("resource",e.integrationResource)("authResource",i.wc(1,5,e.authResource$))("teamId",i.wc(2,7,e.teamId$))("colorOverride",e.resourceInfo.color)}}function V(t,e){if(1&t&&(i.ac(0),i.bd(1,z,3,9,"cu-integration-auth-start",10),i.Zb()),2&t){const t=e.ngIf;i.Ib(1),i.Dc("ngIf",t.startComponent)}}function N(t,e){if(1&t&&(i.ac(0),i.cc(1,"div",12),i.dd(2),i.cc(3,"a",13),i.dd(4),i.bc(),i.bc(),i.Zb()),2&t){const t=e.ngIf;i.Ib(2),i.fd(" ",t.text||""," "),i.Ib(1),i.Dc("href",t.link.url,i.Xc),i.Ib(1),i.ed(t.link.text)}}function q(t,e){if(1&t&&(i.ac(0),i.bd(1,V,2,1,"ng-container",7),i.vc(2,"async"),i.bd(3,N,5,3,"ng-container",7),i.vc(4,"async"),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",i.wc(2,2,t.authDelegate$)),i.Ib(2),i.Dc("ngIf",i.wc(4,4,t.documentationInfo$))}}function B(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"cu-authentication-selection",14),i.qc("auth",function(e){return i.Uc(t),i.uc(2).authorized(e)})("addAccount",function(){i.Uc(t);const e=i.uc().ngIf;return i.uc().addAccount(e)}),i.vc(2,"async"),i.vc(3,"async"),i.vc(4,"async"),i.vc(5,"async"),i.bc(),i.Zb()}if(2&t){const t=i.uc().ngIf,e=i.uc();let a=null;i.Ib(1),i.Dc("authType",null==t?null:t.type)("auths",null==(a=i.wc(2,7,e.authResource$))?null:a.auths)("resource",e.integrationResource)("teamId",i.wc(3,9,e.teamId$))("authDelegate",i.wc(4,11,e.authDelegate$))("colorOverride",e.resourceInfo.color)("addAnotherAuth",i.wc(5,13,e.addAnotherText$))}}function G(t,e){if(1&t&&(i.ac(0),i.bd(1,B,6,15,"ng-container",7),i.vc(2,"async"),i.Zb()),2&t){const t=i.uc();let e=null;i.Ib(1),i.Dc("ngIf",2==t.showStep||null==t.showStep&&(null==(e=i.wc(2,1,t.authResource$))?null:e.auths.length)>0)}}let X=(()=>{class t{constructor(t,e,a){this.store=t,this.authService=e,this.integrationAuthenticationDelegate=a,this.selectedAuth=new i.o,this.onCloseModal=new i.o,this.teamId$=this.store.select(x.getSelectedTeamId),this.showStep=null,this.isValid=!1,this.internalChange$=new f.a(!0),this._destroy$=new k.a}get destroy$(){return this._destroy$.asObservable()}ngOnInit(){this.authResource$=Object(_.a)([this.internalChange$,this.teamId$]).pipe(Object(w.a)(([,t])=>this.authService.getAvailableAuth(t,this.integrationResource)),Object(v.a)(this.destroy$)),this.authDelegate$=this.authResource$.pipe(Object(r.a)(t=>{const e=this.integrationAuthenticationDelegate.getStrategy(t.authentication.type);return(null==e?void 0:e.initForResource)&&(null==e||e.initForResource(this.integrationResource)),e})),this.addAnotherText$=this.authDelegate$.pipe(Object(r.a)(t=>{if(t.addAnotherText)return t.addAnotherText(this.integrationResource)})),this.documentationInfo$=this.authDelegate$.pipe(Object(y.a)(t=>!!t),Object(r.a)(t=>{if(t&&t.documentationInfo)return t.documentationInfo(this.integrationResource)}))}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}changeStep(t){this.showStep=t,this.internalChange$.next(!0)}authorized(t){this.isValid=!0,this.selectedAuth.emit(t)}addAccount(t){t&&t.addAnotherAction?t.addAnotherAction(this.integrationResource):this.changeStep(1)}closeModal(){this.onCloseModal.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(T.Store),i.Wb(p),i.Wb(m))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-integration-authentication-auth"]],hostAttrs:[1,"cu-integration-authentication-auth"],inputs:{integrationResource:"integrationResource",resourceInfo:"resourceInfo"},outputs:{selectedAuth:"selectedAuth",onCloseModal:"onCloseModal"},decls:14,vars:13,consts:function(){let t;return t=$localize`:@@common_back-2␟8ab616553dfae0344f13c8483ce21d6beccd6882␟7756816276330565455: back `,[[1,"cu-integration-authentication-auth__back",3,"click"],["icon","arrow-right",1,"cu-integration-authentication-auth__back-icon"],[1,"cu-integration-authentication-auth__back-text"],t,["icon","cu2-close",1,"cu-integration-authentication-auth__close",3,"click"],[3,"src","alt","class",4,"ngIf","ngIfElse"],["elseBlock",""],[4,"ngIf"],[3,"src","alt"],[3,"icon"],[3,"component","resource","authResource","teamId","colorOverride","isValid","authentication","onCloseModal",4,"ngIf"],[3,"component","resource","authResource","teamId","colorOverride","isValid","authentication","onCloseModal"],[1,"cu-integration-authentication-auth__help"],["target","_blank",1,"cu-integration-authentication-auth__help-link",3,"href"],[3,"authType","auths","resource","teamId","authDelegate","colorOverride","addAnotherAuth","auth","addAccount"]]},template:function(t,e){if(1&t&&(i.cc(0,"div"),i.vc(1,"async"),i.cc(2,"div",0),i.qc("click",function(){return e.closeModal()}),i.Xb(3,"div",1),i.cc(4,"div",2),i.gc(5,3),i.bc(),i.bc(),i.cc(6,"div",4),i.qc("click",function(){return e.closeModal()}),i.bc(),i.bd(7,U,1,5,"img",5),i.bd(8,L,1,4,"ng-template",null,6,i.cd),i.bd(10,q,5,6,"ng-container",7),i.vc(11,"async"),i.bd(12,G,3,3,"ng-container",7),i.vc(13,"async"),i.bc()),2&t){const t=i.Rc(9);let a=null,o=null;i.Mb("cu-integration-authentication-auth__inner cu-integration-authentication-auth__inner_",null==(a=i.wc(1,7,e.authDelegate$))?null:a.type,""),i.Ib(7),i.Dc("ngIf",e.resourceInfo.isIconUrl)("ngIfElse",t),i.Ib(3),i.Dc("ngIf",1==e.showStep||null==e.showStep&&0===(null==(o=i.wc(11,9,e.authResource$))?null:o.auths.length)),i.Ib(2),i.Dc("ngIf",i.wc(13,11,e.authDelegate$))}},directives:[I.a,n.q,S,E],pipes:[n.b],styles:[".cu-integration-authentication-auth__inner{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;height:calc(100vh - 80px);min-height:400px;overflow:auto}.cu-integration-authentication-auth__inner_oauth{background:#171516}.cu-integration-authentication-auth__inner_token{background:#000e47}.cu-integration-authentication-auth__inner_custom{background:#171516}.dark-theme .cu-integration-authentication-auth__inner_custom{background:#384047}.cu-integration-authentication-auth__inner_clickup_integrations{background:#202020}.cu-integration-authentication-auth__inner_tray{background:#fff}.cu-integration-authentication-auth__icon{height:60px;width:60px;margin-bottom:20px}.cu-integration-authentication-auth__icon_oauth,.cu-integration-authentication-auth__icon_token{fill:#fff}.cu-integration-authentication-auth__icon_twilio{fill:#f22f46}.cu-integration-authentication-auth__icon_github{fill:#fff}.cu-integration-authentication-auth__icon_typeform{fill:#262627;stroke:#262627}.cu-integration-authentication-auth__input{font-weight:300;font-size:28px;line-height:34px;background:transparent;flex-grow:1;resize:none;margin:0;border-radius:4px;padding:12px;border:1px solid #1e272e;box-shadow:none}.cu-integration-authentication-auth__input:focus{box-shadow:none}.cu-integration-authentication-auth__back{display:flex;align-items:center;position:absolute;left:20px;top:30px;cursor:pointer}.cu-integration-authentication-auth__back-icon{width:14px;height:12px;margin-right:7px;transform:rotate(180deg)}.cu-integration-authentication-auth__back-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:600 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;text-transform:uppercase}.cu-integration-authentication-auth__close{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:30px;right:30px;height:16px;width:16px;fill:#b9bec7;cursor:pointer}.cu-integration-authentication-auth__close:hover{transform:rotate(180deg)}.cu-integration-authentication-auth__help{margin-top:20px;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#b9bec7}.cu-integration-authentication-auth__help:hover{color:#7b68ee;border-bottom-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-integration-authentication-auth__help:hover{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-integration-authentication-auth__help-link{text-decoration:none;border-bottom:1px solid #b9bec7;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#b9bec7}.cu-integration-authentication-auth__help-link:hover{color:#7b68ee;border-bottom-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-integration-authentication-auth__help-link:hover{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-integration-authentication-auth .cu-email-settings .cu-imap-auth{width:550px;margin-top:50px}.cu-integration-authentication-auth .cu-email-settings .cu-imap-auth__header-link{color:#d5d6d7}.cu-integration-authentication-auth .cu-email-settings .cu-form__label{color:#828588}.cu-integration-authentication-auth .cu-email-settings .cu-api-integration__input,.cu-integration-authentication-auth .cu-email-settings .cu-form__input{background:#2b343b;border-color:#2b343b;box-shadow:none!important;color:#828588!important;-webkit-text-fill-color:#828588!important}.cu-integration-authentication-auth .cu-email-settings .cu-api-integration__input input,.cu-integration-authentication-auth .cu-email-settings .cu-form__input input{height:100%}.cu-integration-authentication-auth .cu-email-settings .cu-email-addons{max-width:650px}.cu-integration-authentication-auth .cu-email-settings .cu-email-addons__amount,.cu-integration-authentication-auth .cu-email-settings .cu-email-addons__amount b,.cu-integration-authentication-auth .cu-email-settings .cu-email-addons__title{color:#d5d6d7}.cu-integration-authentication-auth .cu-email-settings .cu-outlook-auth{margin-top:50px}.cu-integration-authentication-auth .cu-email-settings .cu-outlook-auth__header-text{color:#d5d6d7}.cu-integration-authentication-auth .cu-email-settings .cu-outlook-auth__qs{background:#2b343b;border-color:#2b343b}.cu-integration-authentication-auth .cu-email-settings .cu-outlook-auth__qs-bot,.cu-integration-authentication-auth .cu-email-settings .cu-outlook-auth__qs-top{color:#828588}.cu-integration-authentication-auth .cu-email-settings .cu-linked-email{border-radius:4px;border-bottom:none}.cu-integration-authentication-auth .cu-email-settings .cu-linked-email-added-header{color:#828588}.cu-integration-authentication-auth .cu-email-settings .cu-linked-email-added-header .cu-form__input{background:transparent}.cu-integration-authentication-auth .cu-email-settings .cu-linked-email-added-name{background:#fff;border-color:#fff}.cu-integration-authentication-auth .cu-email-settings .cu-linked-email-added-name input{height:100%}.cu-integration-authentication-auth .cu-email-settings .cu-linked-email-added-radios .cu-radio__label{color:#d5d6d7}.cu-integration-authentication-auth .cu-email-integration__settings{border:none}"],encapsulation:2,changeDetection:0}),t})(),W=(()=>{class t{constructor(){this.isValid=new k.a,this.authentication=new k.a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-base-integration-auth"]],inputs:{authResource:"authResource",resource:"resource",teamId:"teamId",colorOverride:"colorOverride"},outputs:{isValid:"isValid",authentication:"authentication"},decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})()},"3u9o":function(t,e,a){"use strict";a.d(e,"a",function(){return A});var i=a("ofXK"),o=a("Ox28"),n=a("K0KF"),s=a("mcWp"),c=a("5+WD"),r=a("fTg4"),l=a("wGqn"),u=a("gb9A"),d=a("tyNb"),p=a("GtmI"),m=a("1M0N"),h=a("+iQC"),g=a("KyjD"),b=a("a5Nn"),f=a("dzSB"),k=a("hWeV"),_=a("IP3u"),w=a("tTDf"),v=a("FyW7"),y=a("Nmwb"),x=a("EDFS"),T=a("e+GA"),I=a("0UGU"),C=a("yJWD"),D=a("4TfP"),S=a("bx+h"),O=a("YbjY"),j=a("fXoL");let P=(()=>{class t{}return t.\u0275mod=j.Ub({type:t}),t.\u0275inj=j.Tb({factory:function(e){return new(e||t)},imports:[[i.c,O.a,p.a,g.a]]}),t})(),A=(()=>{class t{}return t.\u0275mod=j.Ub({type:t}),t.\u0275inj=j.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.b,n.a,s.a,c.f,r.a,l.a,u.a,d.l,p.a,m.a,h.a,g.a,b.a,f.a,k.b,_.a,w.a,v.a,y.a,x.d,P,T.a,I.a,C.b,D.a,S.a]]}),t})()},"4TfP":function(t,e,a){"use strict";a.d(e,"a",function(){return m});var i=a("ofXK"),o=a("K0KF"),n=a("EDFS"),s=a("bFKe"),c=a("KyjD"),r=a("/SUI"),l=a("1M0N"),u=a("gb9A"),d=a("vxfF"),p=a("fXoL");let m=(()=>{class t{}return t.\u0275mod=p.Ub({type:t}),t.\u0275inj=p.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.d,s.b,c.a,r.a,l.a,u.a,d.e]]}),t})()},"4UZP":function(t,e,a){"use strict";a.d(e,"a",function(){return x});var i=a("fXoL"),o=a("c3rA"),n=a("XNiG"),s=a("lJxs"),c=a("1G5W"),r=a("VrOs"),l=a("l7P3"),u=a("ofXK"),d=a("BTFG"),p=a("O5gs"),m=a("sgkU");function h(t,e){1&t&&i.Xb(0,"cu-loader")}function g(t,e){1&t&&(i.cc(0,"div",3),i.gc(1,4),i.bc())}function b(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(null==t.selectedMenuItemValue?null:t.selectedMenuItemValue.label)}}function f(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(4);i.Ib(1),i.ed(t.displayValue)}}function k(t,e){if(1&t&&i.bd(0,f,2,1,"ng-container",6),2&t){i.uc();const t=i.Rc(6),e=i.uc(2);i.Dc("ngIf",e.value)("ngIfElse",t)}}function _(t,e){1&t&&(i.ac(0),i.gc(1,9),i.Zb())}function w(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",5),i.qc("onSelect",function(e){return i.Uc(t),i.uc(2).selectVariable(e)}),i.cc(1,"cu-edit-automation-dropdown"),i.bd(2,b,2,1,"ng-container",6),i.bd(3,k,1,2,"ng-template",null,7,i.cd),i.bd(5,_,2,0,"ng-template",null,8,i.cd),i.bc(),i.bc()}if(2&t){const t=i.Rc(4),e=i.uc(2);i.Dc("items",e.dynamicValues)("showSearch",!0)("handleKeyboard",!0)("autoFocusSearch",!0),i.Ib(2),i.Dc("ngIf",null==e.selectedMenuItemValue?null:e.selectedMenuItemValue.label)("ngIfElse",t)}}function v(t,e){if(1&t&&(i.ac(0),i.bd(1,h,1,0,"cu-loader",0),i.bd(2,g,2,0,"div",1),i.bd(3,w,7,6,"cu-dropdown-list",2),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",t.loading),i.Ib(1),i.Dc("ngIf",t.fetchError),i.Ib(1),i.Dc("ngIf",!t.loading)}}function y(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.fd(" ",t.displayValue,"\n")}}let x=(()=>{class t{constructor(t,e,a){this.automationService=t,this.store=e,this.cdr=a,this.valueChange=new i.o,this.dynamicValues=[],this.team$=this.store.select(o.getTeam),this.loading=!0,this.fetchError=!1,this.onDestroy$=new n.a}get displayValue(){return this.readonly?this.internalDynamicDisplayValue:this.value}ngOnInit(){this.team$.pipe(Object(s.a)(t=>t.id),Object(c.a)(this.onDestroy$)).subscribe(t=>{this.teamId=t,this.updateDynamicMenu()})}ngOnChanges(t){(t.action||t.options||t.variables)&&this.updateDynamicMenu()}ngOnDestroy(){this.onDestroy$.next(!0),this.onDestroy$.complete()}selectVariable(t){t.checked=!0,this.selectedMenuItemValue=t.customPayload,this.valueChange.emit(t.customPayload.value)}validateAllRequiredFieldParams(){return!this.options.requiredProps||this.options.requiredProps.every(t=>this.isAction&&!!this.getActionDynamicRequiredValue(t)||!!this.variables.find(e=>e.label===t))}getActionDynamicRequiredValue(t){const e=this.variables.find(e=>e.label===t);return(e?e.value:null)||this.action.inputValues[t]||this.action.mappedInputValues[t]||this.action.mappedInputValues[t]}updateDynamicMenu(){this.validateAllRequiredFieldParams()&&this.teamId&&this.automationService.getDynamicPropertyValues(this.teamId,this.options.resourceKey,this.options.dynamicKey,(this.options.requiredProps||[]).reduce((t,e)=>{let a;if(this.action)a=this.getActionDynamicRequiredValue(e);else{const t=this.variables.find(t=>t.label===e);a=t?t.value:void 0}return Object.assign(Object.assign({},t),{[e]:a})},{})).pipe(Object(c.a)(this.onDestroy$)).subscribe(t=>{var e;this.loading=!1,this.readonly&&(this.internalDynamicDisplayValue=null===(e=t.values[0])||void 0===e?void 0:e.value),this.dynamicValues=t.values.map(t=>(this.value===t.value&&(this.selectedMenuItemValue=t),{id:t.value,title:t.label,checked:this.value===t.value,customPayload:t})),this.cdr.detectChanges()},t=>{this.loading=!1,this.fetchError=!0})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.b),i.Wb(l.Store),i.Wb(i.h))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-dynamic"]],inputs:{action:"action",isAction:"isAction",parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",options:"options",placeholder:"placeholder",variables:"variables"},outputs:{valueChange:"valueChange"},features:[i.Gb],decls:2,vars:2,consts:function(){let t,e;return t=$localize`:@@cu-automation-tab-browse__sidebar-category-error␟7be876d9e4ddc2097d11646a0c44ba2ad3d558ce␟7272125303526377143: A server error occurred `,e=$localize`:@@common_select-an-option␟c8f0dbda0d557e58e54598c7d29d719d6c764413␟213925514828623262:Select an option`,[[4,"ngIf"],["class","cu-automation-tab-browse__sidebar-category-error",4,"ngIf"],["class","cu-automation-tab-browse__sidebar-category",3,"items","showSearch","handleKeyboard","autoFocusSearch","onSelect",4,"ngIf"],[1,"cu-automation-tab-browse__sidebar-category-error"],t,[1,"cu-automation-tab-browse__sidebar-category",3,"items","showSearch","handleKeyboard","autoFocusSearch","onSelect"],[4,"ngIf","ngIfElse"],["valueTmpl",""],["selectAnOptionTmpl",""],e]},template:function(t,e){1&t&&(i.bd(0,v,4,3,"ng-container",0),i.bd(1,y,2,1,"ng-container",0)),2&t&&(i.Dc("ngIf",!e.readonly),i.Ib(1),i.Dc("ngIf",e.readonly))},directives:[u.q,d.a,p.a,m.a],encapsulation:2,changeDetection:0}),t})()},"5NnS":function(t,e,a){"use strict";a.d(e,"a",function(){return V});var i=a("fXoL"),o=a("LdyQ"),n=a("j2Cv"),s=a("MJvn"),c=a("n+1/"),r=a("/qOb"),l=a("3Pt+"),u=a("XNiG"),d=a("1G5W"),p=a("nYR2"),m=a("f0Wu"),h=a("nLWA"),g=a("jJW4"),b=a("fAj1"),f=a("6wVO"),k=a("ofXK"),_=a("UdVN"),w=a("EDFS"),v=a("WeU5"),y=a("Xiu6"),x=a("EMdj");const T=["timeInputted"],I=function(t){return{"time-tracking__dropdown-title-inactive":t}};function C(t,e){if(1&t){const t=i.dc();i.cc(0,"div",2),i.cc(1,"div",3),i.cc(2,"div",4),i.qc("click",function(){return i.Uc(t),i.uc().setShowDateRange(!1)}),i.cc(3,"div",5),i.gc(4,6),i.bc(),i.bc(),i.cc(5,"div",4),i.qc("click",function(){return i.Uc(t),i.uc().setShowDateRange(!0)}),i.cc(6,"div",5),i.gc(7,7),i.bc(),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(2),i.Dc("ngClass",i.Hc(2,I,t.showDateRange)),i.Ib(3),i.Dc("ngClass",i.Hc(4,I,!t.showDateRange))}}function D(t,e){if(1&t){const t=i.dc();i.ac(0),i.gc(1,32),i.Zb(),i.cc(2,"a",33),i.qc("click",function(){return i.Uc(t),i.uc(),i.Rc(9).hide()}),i.gc(3,34),i.bc()}}function S(t,e){1&t&&(i.cc(0,"div",35),i.gc(1,36),i.bc())}function O(t,e){1&t&&(i.cc(0,"div",37),i.gc(1,38),i.bc())}function j(t,e){if(1&t&&(i.cc(0,"div",39),i.gc(1,40),i.bc()),2&t){const t=i.uc(2);i.Ib(1),i.kc(t.hoursPerDay),i.hc(1)}}function P(t,e){1&t&&(i.ac(0),i.gc(1,44),i.Zb())}function A(t,e){if(1&t&&(i.ac(0),i.dd(1),i.vc(2,"relativeDate"),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(i.wc(2,1,t.dateVal))}}function $(t,e){if(1&t){const t=i.dc();i.cc(0,"div",41),i.ac(1),i.gc(2,42),i.Zb(),i.dd(3,": "),i.cc(4,"div",43),i.qc("click",function(){return i.Uc(t),i.uc(2).showDate=!0}),i.bd(5,P,2,0,"ng-container",1),i.bd(6,A,3,3,"ng-container",1),i.bc(),i.bc()}if(2&t){const t=i.uc(2);i.Ib(5),i.Dc("ngIf",t.isDateNow),i.Ib(1),i.Dc("ngIf",!t.isDateNow)}}function R(t,e){if(1&t){const t=i.dc();i.cc(0,"div",45),i.cc(1,"cu-datetime-natural-language",46),i.qc("onChange",function(e){return i.Uc(t),i.uc(2).dateVal=e.newMoment}),i.vc(2,"async"),i.vc(3,"async"),i.bc(),i.cc(4,"cu-datepicker",47),i.qc("onSelect",function(e){return i.Uc(t),i.uc(2).handleDateSelect(e)}),i.vc(5,"async"),i.vc(6,"async"),i.vc(7,"async"),i.bc(),i.bc()}if(2&t){const t=i.uc(2);let e=null,a=null,o=null,n=null,s=null;i.Ib(1),i.Dc("dateVal",t.dateVal)("focusWhenVisible",!0)("timeExists",!1)("militaryTime",null==(e=i.wc(2,13,t.sharedData.currentUser))?null:e.twenty_four_hr_setting)("dateFormatting",(null==(a=i.wc(3,15,t.sharedData.currentUser))?null:a.date_format)||"m/d/y")("forceUpdate",!0)("showClose",!1),i.Ib(3),i.Dc("showStart",!1)("showInput",!1)("militaryTime",null==(o=i.wc(5,17,t.sharedData.currentUser))?null:o.twenty_four_hr_setting)("dateFormat",(null==(n=i.wc(6,19,t.sharedData.currentUser))?null:n.date_format)||"m/d/y")("weekStart",(null==(s=i.wc(7,21,t.sharedData.currentUser))?null:s.week_start_day)||0)("date",t.dateVal)}}function F(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"div",8),i.cc(2,"form",9),i.cc(3,"div",10),i.cc(4,"div",11),i.bd(5,D,4,0,"ng-template",null,12,i.cd),i.bd(7,S,2,0,"div",13),i.cc(8,"div",14,15),i.qc("click",function(){return i.Uc(t),i.Rc(9).toggle()}),i.bc(),i.bc(),i.Xb(10,"input",16,17),i.bd(12,O,2,0,"div",18),i.bd(13,j,2,1,"div",19),i.bc(),i.bc(),i.bc(),i.bd(14,$,7,2,"div",20),i.bd(15,R,8,23,"div",21),i.cc(16,"div",22),i.cc(17,"button",23),i.qc("click",function(){return i.Uc(t),i.uc().close()}),i.cc(18,"span",24),i.gc(19,25),i.bc(),i.bc(),i.cc(20,"button",26),i.qc("click",function(){i.Uc(t);const e=i.uc();return e.saveTime(e.form)}),i.cc(21,"div",24),i.gc(22,27),i.bc(),i.cc(23,"div",28),i.Xb(24,"div",29),i.Xb(25,"div",30),i.Xb(26,"div",31),i.bc(),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.Rc(6),e=i.uc();i.Ib(2),i.Dc("formGroup",e.form),i.Ib(2),i.Ob("center",e.showTitle),i.Ib(3),i.Dc("ngIf",e.showTitle),i.Ib(1),i.Dc("popover",t)("outsideClick",!0),i.Ib(2),i.Ob("error",e.inputControlInvalid&&e.submitted||!e.valid),i.Ib(2),i.Dc("ngIf",e.inputControlInvalid&&e.submitted||!e.valid),i.Ib(1),i.Dc("ngIf",e.hoursPerDay),i.Ib(1),i.Dc("ngIf",!e.showDate&&e.allowWhen),i.Ib(1),i.Dc("ngIf",e.showDate),i.Ib(5),i.Dc("disabled",e.isSaving)}}function M(t,e){if(1&t&&(i.cc(0,"div",56),i.dd(1),i.bc()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" ",t.endDateError," ")}}function E(t,e){if(1&t&&(i.cc(0,"div",56),i.dd(1),i.bc()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" ",t.endDateMsg," ")}}function U(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"div",48),i.cc(2,"div",49),i.ac(3),i.gc(4,50),i.Zb(),i.dd(5,": "),i.bc(),i.cc(6,"cu-datetime-natural-language",51),i.qc("onChange",function(e){return i.Uc(t),i.uc().setStart(e.newMoment)}),i.vc(7,"async"),i.bc(),i.bc(),i.cc(8,"div",48),i.cc(9,"div",49),i.ac(10),i.gc(11,52),i.Zb(),i.dd(12,": "),i.bc(),i.cc(13,"cu-datetime-natural-language",51),i.qc("onChange",function(e){return i.Uc(t),i.uc().setEnd(e.newMoment)}),i.vc(14,"async"),i.bc(),i.bc(),i.bd(15,M,2,1,"div",53),i.bd(16,E,2,1,"div",53),i.cc(17,"div",45),i.cc(18,"cu-datepicker",47),i.qc("onSelect",function(e){return i.Uc(t),i.uc().handleDateSelect(e)}),i.vc(19,"async"),i.vc(20,"async"),i.vc(21,"async"),i.bc(),i.bc(),i.cc(22,"div",22),i.cc(23,"button",23),i.qc("click",function(){return i.Uc(t),i.uc().close()}),i.cc(24,"span",24),i.gc(25,54),i.bc(),i.bc(),i.cc(26,"button",23),i.qc("click",function(){return i.Uc(t),i.uc().saveRange()}),i.cc(27,"span",24),i.gc(28,55),i.bc(),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.uc();let e=null,a=null,o=null,n=null,s=null;i.Ib(6),i.Dc("dateVal",t.start)("forTime",!0)("inDatePicker",!0)("focusOnInit",!1)("focusWhenVisible",!0)("timeExists",!0)("militaryTime",null==(e=i.wc(7,30,t.sharedData.currentUser))?null:e.twenty_four_hr_setting)("placeholder","HH:MM")("forceUpdate",!0)("showClose",!1)("modifier","time-tracking__dropdown-select_time-range"),i.Ib(7),i.Dc("dateVal",t.end)("forTime",!0)("inDatePicker",!0)("focusOnInit",!1)("focusWhenVisible",!0)("timeExists",!0)("militaryTime",null==(a=i.wc(14,32,t.sharedData.currentUser))?null:a.twenty_four_hr_setting)("placeholder","HH:MM")("forceUpdate",!0)("showClose",!1)("modifier","time-tracking__dropdown-select_time-range"),i.Ib(2),i.Dc("ngIf",t.endDateError),i.Ib(1),i.Dc("ngIf",t.endDateMsg),i.Ib(2),i.Dc("showStart",!1)("showInput",!1)("militaryTime",null==(o=i.wc(19,34,t.sharedData.currentUser))?null:o.twenty_four_hr_setting)("dateFormat",(null==(n=i.wc(20,36,t.sharedData.currentUser))?null:n.date_format)||"m/d/y")("weekStart",(null==(s=i.wc(21,38,t.sharedData.currentUser))?null:s.week_start_day)||0)("date",t.dateVal)}}let L=(()=>{class t{constructor(t,e,a,o,n,s){this.sharedData=t,this.timeTrackingService=e,this.fb=a,this.timeEstimatesService=o,this.renderer=n,this.changeDetector=s,this.allowRange=!0,this.allowWhen=!0,this.showTitle=!1,this.onChange=new i.o,this.onTabChange=new i.o,this.destroy$=new u.a,this.showDateRange=!1,this.dateVal=m(),this.start=m().startOf("day"),this.end=m().startOf("day").add(30,"minutes"),this.submitted=!1,this.valid=!0,this.isSaving=!1,this.showDate=!1,this.isDateNow=!0,this.form=this.fb.group({input:["",l.A.required]})}get inputControl(){return this.form.get("input")}get inputControlInvalid(){return this.inputControl.hasError("required")&&this.inputControl.touched}ngOnInit(){this.sharedData.compatCurrentTeam$.pipe(Object(d.a)(this.destroy$)).subscribe(t=>this.hoursPerDay=t.hours_per_day||h.a)}ngAfterViewInit(){this.initManualLogging()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe(),this.keyDownListener&&this.keyDownListener()}handleDateSelect(t){this.dateVal=t.dueDate,this.showDate=!1,this.isDateNow=m(t.dueDate).startOf("day").isSame(m().startOf("day"))}initManualLogging(){setTimeout(()=>{this.timeInputted&&(this.timeInputted.nativeElement.focus(),this.keyDownListener=this.renderer.listen(this.timeInputted.nativeElement,"keydown",t=>{this.showDateRange||t.which!==r.a.ENTER||(t.preventDefault(),t.stopPropagation(),this.saveTime(this.form))}))},200)}close(){this.onChange.emit(null)}setShowDateRange(t){this.showDateRange=t,this.onTabChange.emit(this.showDateRange),t||this.initManualLogging()}saveTime(t){const{value:e,valid:a}=t;if(this.valid=!0,this.submitted=!0,a)try{const{seconds:t}=this.timeEstimatesService.parseTimeInput(e.input),a={assignee:this.sharedData.currentUser.value.id.toString(),time:1e3*t,start:this.dateVal.clone().valueOf()};this.save(a)}catch(i){this.valid=!1}this.changeDetector.detectChanges()}saveRange(){this.endDateError="";const t=this.getTime(this.start),e=this.getTime(this.end);(e.isBefore(t)||e.isSame(t))&&e.add(1,"d");const a={assignee:this.sharedData.currentUser.value.id.toString(),start:t.valueOf(),end:e.valueOf()};this.save(a)}save(t){this.endDateError="",this.isSaving=!0,this.taskId?this.timeTrackingService.createTimeSpent(this.taskId,t).pipe(Object(p.a)(()=>this.isSaving=!1)).subscribe(e=>{t.id=e.id,t.start&&t.end&&(t.time=t.end-t.start),this.onChange.emit(t)},t=>{"TIMESPENT_005"===t.ECODE&&(this.endDateError=$localize`:@@cu-time-tracking-editor__form-error_time-range-overlap:Whoops! That time range overlaps with a previously inputted range.`)}):setTimeout(()=>{this.onChange.emit(t)})}setStart(t){this.start=t,this.checkDiff()}setEnd(t){this.end=t,this.checkDiff()}checkDiff(){this.endDateError="";const t=this.getTime(this.start),e=this.getTime(this.end);this.endDateMsg=e.isBefore(t)||e.isSame(t)?$localize`:@@cu-time-tracking-editor__form-error_end-time-notice:Note: End time is next day.`:""}getTime(t){const e=this.dateVal.clone();return e.hours(t.hours()),e.minutes(t.minutes()),e}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(g.a),i.Wb(b.a),i.Wb(l.f),i.Wb(f.a),i.Wb(i.H),i.Wb(i.h))},t.\u0275cmp=i.Qb({type:t,selectors:[["time-tracking-editor"]],viewQuery:function(t,e){if(1&t&&i.jd(T,1),2&t){let t;i.Qc(t=i.rc())&&(e.timeInputted=t.first)}},inputs:{taskId:"taskId",allowRange:"allowRange",allowWhen:"allowWhen",showTitle:"showTitle"},outputs:{onChange:"onChange",onTabChange:"onTabChange"},decls:3,vars:3,consts:function(){let t,e,a,i,o,n,s,c,r,l,u,d,p,m,h,g,b;return t=$localize`:@@common_time␟379f276661a040130233451d8d21be8ee26727d8␟2580426446529966086: Time `,e=$localize`:@@cu-time-tracking-editor__time-range␟ad666ab0b7cb0090d4a80f838f08b28c6a830798␟2683525947469227535: Time Range `,a=$localize`:@@cu-time-tracking-editor__form-placeholder_type-min-hours-days␟d1f930a916af8c4a537841a41d24148a694eb3c5␟1181112541696879241:Type minutes, hours, or days`,i=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,o=$localize`:@@common_add␟f6755cff4957d5c3c89bafce5651f1b6fa2b1fd9␟3249513483374643425:Add`,n=$localize`:@@common_dt-natural-language--time-tracking␟3feb2ffd81f53766980fca64e4479514e28e1764␟3154636143840525659: Use natural language to add time in minutes, hours, or days. Try things like "1h" or "30 min". `,s=$localize`:@@common_learn-more␟e2dcf27db9c6a5e249960c576014aa40b3883360␟819996403327805209:Learn more`,c=$localize`:@@common_add-time--manual␟2dfc9cf589f70fdd980c2e45d974652d94f64444␟3950836627423210386: Add manual time `,r=$localize`:@@errors_form-field--invalid-time␟4b5715b5279529a5200ac410048541e63c6608d3␟2782540983759468849: Whoops! Please enter a valid time. `,l=$localize`:@@cu-time-tracking-editor__hours-a-day␟a4c71e50e70aa0437426f49eed6b2a8f0d840206␟2166907855415987728: ${"\ufffd0\ufffd"}:INTERPOLATION: hours a day `,u=$localize`:@@common_when␟d654eb984a62fedda948733d5cc565480c6d7eff␟3198123723060667787:When`,d=$localize`:@@common_now␟7f34c2aa1c5e1d4bc339995fe325e831d7fbe40a␟6052766076365105714:now`,p=$localize`:@@common_type-any-date␟4181e1717f719f0529364a79de8f23089203fa4f␟4352068367379830009:Type any date`,m=$localize`:@@common_from␟d5e0dbc9fd4651759df915cdc6ba26fe3f17475f␟5203279511751768967:From`,h=$localize`:@@common_to␟63c9c3aa536dbd11120ae8feab62186c47838028␟1640609344969975994:To`,g=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,b=$localize`:@@common_add␟f6755cff4957d5c3c89bafce5651f1b6fa2b1fd9␟3249513483374643425:Add`,[["class","time-tracking__dropdown-title",4,"ngIf"],[4,"ngIf"],[1,"time-tracking__dropdown-title"],[1,"time-tracking__dropdown-title_row"],[1,"time-tracking__dropdown-title-item",3,"ngClass","click"],[1,"time-tracking__dropdown-title-text"],t,e,[1,"time-tracking__dropdown-row","time-tracking__dropdown-row_time"],[2,"width","100%",3,"formGroup"],[1,"cu-time-estimates__input-container"],[1,"cu-time-estimates__input-container-top"],["popTemplate",""],["class","time-tracking__dropdown-row-title",4,"ngIf"],["icon","question","containerClass","markdown-tooltip","triggers","","container","body","placement","top",1,"help-question-mark",3,"popover","outsideClick","click"],["pop","bs-popover"],["type","text","formControlName","input","placeholder",a,1,"cu-time-estimates__input"],["timeInputted",""],["class","cu-time-estimates__error",4,"ngIf"],["class","cu-time-estimates__hours-per-day",4,"ngIf"],["class","time-tracking__dropdown-when",4,"ngIf"],["class","time-tracking__calendar-container",4,"ngIf"],[1,"time-tracking__dropdown-row","time-tracking__dropdown-row_btn"],[1,"time-tracking__dropdown-btn","cu-btn","cu-btn_sm",3,"click"],[1,"cu-btn__text"],i,[1,"time-tracking__dropdown-btn","cu-btn","cu-btn_sm","cu-btn_spinner",3,"disabled","click"],o,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"],n,["href","https://docs.clickup.com/general/natural-language-processing-for-dates-and-times","target","_blank",1,"popover-content_link",3,"click"],s,[1,"time-tracking__dropdown-row-title"],c,[1,"cu-time-estimates__error"],r,[1,"cu-time-estimates__hours-per-day"],l,[1,"time-tracking__dropdown-when"],u,[1,"time-tracking__dropdown-when-link",3,"click"],d,[1,"time-tracking__calendar-container"],["placeholder",p,3,"dateVal","focusWhenVisible","timeExists","militaryTime","dateFormatting","forceUpdate","showClose","onChange"],[3,"showStart","showInput","militaryTime","dateFormat","weekStart","date","onSelect"],[1,"time-tracking__dropdown-row","time-tracking__dropdown-row_change-time"],[1,"time-tracking__dropdown-select-title"],m,[3,"dateVal","forTime","inDatePicker","focusOnInit","focusWhenVisible","timeExists","militaryTime","placeholder","forceUpdate","showClose","modifier","onChange"],h,["class","time-tracking__dropdown-row time-tracking__error",4,"ngIf"],g,b,[1,"time-tracking__dropdown-row","time-tracking__error"]]},template:function(t,e){1&t&&(i.bd(0,C,8,6,"div",0),i.bd(1,F,27,13,"div",1),i.bd(2,U,29,40,"div",1)),2&t&&(i.Dc("ngIf",e.allowRange),i.Ib(1),i.Dc("ngIf",!e.showDateRange),i.Ib(1),i.Dc("ngIf",e.showDateRange))},directives:[k.q,k.o,l.C,l.q,l.k,_.a,w.c,l.c,l.p,l.i,v.a,y.a],pipes:[x.a,k.b],encapsulation:2}),t})();function z(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"time-tracking-editor",3),i.qc("onChange",function(e){return i.Uc(t),i.uc().saveTimeSpent(e)}),i.bc(),i.bc()}2&t&&(i.Ib(1),i.Dc("allowRange",!1)("allowWhen",!1)("showTitle",!0))}let V=(()=>{class t{constructor(){this.valueChange=new i.o}ngOnInit(){}saveTimeSpent(t){this.dropdown.close(),t&&this.valueChange.emit(t.time)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-time-spent"]],viewQuery:function(t,e){if(1&t&&i.jd(o.b,1),2&t){let t;i.Qc(t=i.rc())&&(e.dropdown=t.first)}},inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly"},outputs:{valueChange:"valueChange"},decls:3,vars:4,consts:[["cuDropdown","",3,"dropdownDisabled","dropdownCloseOnInsideClick"],["cuDropdownToggle","",3,"totalTimeTracked","displayLabel"],[4,"cuDropdownMenu"],[3,"allowRange","allowWhen","showTitle","onChange"]],template:function(t,e){1&t&&(i.cc(0,"div",0),i.Xb(1,"time-tracking-display",1),i.bd(2,z,2,3,"div",2),i.bc()),2&t&&(i.Dc("dropdownDisabled",e.readonly)("dropdownCloseOnInsideClick",!1),i.Ib(1),i.Dc("totalTimeTracked",e.value)("displayLabel",!1))},directives:[o.b,n.a,s.a,c.a,L],styles:[""],changeDetection:0}),t})()},"5pjS":function(t,e,a){"use strict";a.d(e,"a",function(){return b});var i=a("fXoL"),o=a("iA4v"),n=a("Wk/N"),s=a("Muja"),c=a("ofXK"),r=a("jkYJ");const l=["contentArea"];function u(t,e){if(1&t){const t=i.dc();i.cc(0,"div",2),i.Xb(1,"div",3,4),i.cc(3,"div",5),i.gc(4,6),i.bc(),i.cc(5,"cu-badge-input-fields",7),i.qc("selected",function(e){return i.Uc(t),i.uc(2).insertVariable(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc(2);i.Ib(1),i.Ob("cu-automation-field-value-text-input__input_focus",t.isFocusOnContentArea)("cu-automation-field-value-text-input__input_error",!t.emailValidation),i.Ib(4),i.Dc("show",8)("inputBadges",t.variableMenuItemOnly)}}function d(t,e){if(1&t&&(i.ac(0),i.bd(1,u,6,6,"div",1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",!t.selectedVariable)}}function p(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.ed(t.value)}}function m(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.ed(t.selectedVariable.label)}}function h(t,e){if(1&t&&(i.ac(0),i.bd(1,p,2,1,"ng-container",0),i.bd(2,m,2,1,"ng-container",0),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",!t.selectedVariable),i.Ib(1),i.Dc("ngIf",t.selectedVariable)}}const g=/.+@.+/;let b=(()=>{class t{constructor(t){this.changeDetector=t,this.mappedValueChange=new i.o,this.interpolatedInputChange=new i.o,this.valueChange=new i.o,this.emailValidation=!0,this.variableMenuItemOnly=[]}set contentArea(t){t&&(this.quill=this.initQuill(t),this.listenToQuillChange(),this.populateQuill()),this._contentArea=t}get contentArea(){return this._contentArea}ngOnChanges(t){(t.variables||t.mappedValue)&&(t.mappedValue&&this.variables&&this.mappedValue&&(this.selectedVariable=this.variables.find(t=>Object(s.a)(t.path,this.mappedValue.path))),t.variables&&!t.variables.firstChange&&this.quill.setContents([]),!1!==this.options.useVariables&&this.updateMenuItems(),this.showVariables=this.options.useVariables&&this.variables&&this.variables.length>0)}insertVariable(t){this.insert({automation_variable:t})}initQuill(t){return new o.b(t.nativeElement,{theme:"snow",placeholder:this.options.placeholder,formats:["automation_variable"],modules:{toolbar:!1,clipboard:{onCapturePaste(t){if(t.clipboardData.getData("text/html").includes("<img"))return!1},pasteImage:{onPaste:t=>!1}}}})}insert(t){const e=this.quill.getSelection(!0).index;this.quill.updateContents((new o.a).retain(e).insert(t)),this.quill.setSelection(e+("string"==typeof t?t.length:1))}updateMenuItems(){Array.isArray(this.variables)?(this.variableMenuItemOnly=(this.variables||[]).filter(t=>!this.options||!this.options.email||"email"===t.info.type||"email"===t.info.format).map(t=>({id:`${t.label}-${t.path?t.path.join("-"):t.field_id}`,customPayload:t,title:t.label,checked:this.selectedVariable===t})),this.variableMenuItems=[...this.variableMenuItemOnly]):this.variableMenuItemOnly=[]}listenToQuillChange(){this.quill.on(n.h.TEXT_CHANGE,(t,e,a)=>{this.interpolatedInputUpdate()}),this.quill.clipboard.addMatcher("img",(t,e)=>new o.a(e.ops.forEach(t=>!t.insert.image))),this.quill.on("selection-change",(t,e)=>{null===t&&null!==e&&(this.isFocusOnContentArea=!1,this.changeDetector.markForCheck()),null!==t&&null===e&&(this.isFocusOnContentArea=!0,this.changeDetector.markForCheck())})}interpolatedInputUpdate(){const t=this.quill.getContents().ops,e=t.map((e,a)=>{if("string"==typeof e.insert){if(t.length-1===a&&"\n"===e.insert)return;return"\n"===e.insert[e.insert.length-1]?{insert:e.insert.slice(0,-1)}:{insert:e.insert}}if(e.insert.automation_variable)return e.insert.automation_variable.customPayload.path?{path:e.insert.automation_variable.customPayload.path}:{field_id:e.insert.automation_variable.customPayload.field_id}}).filter(t=>!!t);if(e.some(t=>!!t.path||!!t.field_id))this.interpolatedInputChange.emit(e);else{const t=e.map(t=>t.insert).join("");this.options&&this.options.email?(this.emailValidation=t.split(";").filter(t=>!!t).every(t=>this.isValidEmail(t)),this.emailValidation&&this.valueChange.emit(t)):this.valueChange.emit(t)}}populateQuill(){this.quill&&this.interpolatedValue?this.mapArrayInputToQuill(this.interpolatedValue):this.quill&&this.value&&(Array.isArray(this.value)?this.mapArrayInputToQuill(this.value):this.insert(this.value))}mapArrayInputToQuill(t){const e=t.map(t=>t.insert?{insert:t.insert}:t.path?{insert:{automation_variable:this.variableMenuItemOnly.find(e=>Object(s.a)(e.customPayload.path,t.path))}}:t.field_id?{insert:{automation_variable:this.variableMenuItemOnly.find(e=>e.customPayload.field_id===t.field_id)}}:void 0).filter(t=>!!t);this.quill.setContents(e)}isValidEmail(t){return g.test(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.h))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-text-input"]],viewQuery:function(t,e){if(1&t&&i.jd(l,1),2&t){let t;i.Qc(t=i.rc())&&(e.contentArea=t.first)}},hostAttrs:[1,"cu-automation-field-value-text-input"],inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",options:"options",variables:"variables",mappedValue:"mappedValue",interpolatedValue:"interpolatedValue"},outputs:{mappedValueChange:"mappedValueChange",interpolatedInputChange:"interpolatedInputChange",valueChange:"valueChange"},features:[i.Gb],decls:2,vars:2,consts:function(){let t;return t=$localize`:@@common_fields␟1f80d16659a7bbebe1a3c1c018f2de2f0fc37c4e␟4825033114168285958: Fields `,[[4,"ngIf"],["class","cu-automation-field-value-text-input__container",4,"ngIf"],[1,"cu-automation-field-value-text-input__container"],[1,"cu-automation-field-value-text-input__input"],["contentArea",""],[1,"cu-automation-field-value-text-input__label"],t,[3,"show","inputBadges","selected"]]},template:function(t,e){1&t&&(i.bd(0,d,2,1,"ng-container",0),i.bd(1,h,3,2,"ng-container",0)),2&t&&(i.Dc("ngIf",!e.readonly),i.Ib(1),i.Dc("ngIf",e.readonly))},directives:[c.q,r.a],styles:['.cu-automation-field-value-text-input{display:flex;flex-direction:column;padding-right:0;min-width:0}.cu-automation-field-value-text-input__container{border-radius:4px;color:#292d34;border:1px solid #e9ebf0}.dark-theme .cu-automation-field-value-text-input__container{color:#d5d6d7;border-color:#1e272e}.cu-automation-field-value-text-input__container .cu-automation-field-value-text-input__input{border:0}.cu-automation-field-value-text-input__container .cu-automation-field-value-text-input__input_focus+.cu-badge-input-fields{display:flex}.cu-automation-field-value-text-input__container .cu-automation-field-value-text-input__input_error{border:1px solid red}.cu-automation-field-value-text-input__container .cu-badge-input-fields{margin:0 6px}.cu-automation-field-value-text-input__input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:13px;height:auto;cursor:text;word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;color:#292d34;border-radius:4px;padding:9px 12px;border:1px solid #e9ebf0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-text-input__input{font-family:var(--global-font-support)}}.dark-theme .cu-automation-field-value-text-input__input{color:#d5d6d7;border-color:#1e272e}.cu-automation-field-value-text-input__input_spacing-top{margin-top:6px}.cu-automation-field-value-text-input__input .ql-editor{margin:-9px -12px;padding:9px 10px;min-height:39px;text-align:left;direction:ltr}.cu-automation-field-value-text-input__input .ql-editor.ql-blank:before{left:11px;right:0;color:#292d34!important;opacity:.4}.dark-theme .cu-automation-field-value-text-input__input .ql-editor.ql-blank:before{color:#828588!important;opacity:1}.cu-automation-field-value-text-input__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;color:#7c828d;padding:0 12px 10px;text-transform:uppercase}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-text-input__label{font-family:var(--global-font-support)}}.cu-automation-field-value-text-input .cu-badge-input-fields{margin:0 12px 6px}'],encapsulation:2,changeDetection:0}),t})()},"5xNR":function(t,e,a){"use strict";a.d(e,"a",function(){return w});var i=a("FDF9"),o=a("fXoL"),n=a("LdyQ"),s=a("ofXK"),c=a("MJvn"),r=a("n+1/"),l=a("4oww");const u=["menu"];function d(t,e){if(1&t){const t=o.dc();o.cc(0,"div"),o.cc(1,"cu-reminder-row-notification-dropdown-menu",4,5),o.qc("onClose",function(){return o.Uc(t),o.uc(),o.Rc(1).close()})("onSelect",function(e){return o.Uc(t),o.uc().onSelect.emit(e)}),o.bc(),o.bc()}if(2&t){const t=o.uc();o.Ib(1),o.Dc("items",t.items)("modifier",t.modifier)("minutesBefore",t.minutesBefore)}}const p=function(){return["bottom-right"]},m=["*"];let h=(()=>{class t{constructor(){this.items=[],this.onSelect=new o.o}checkForCustomSwitch(){setTimeout(()=>{this.menu&&this.menu.checkForCustomSwitch()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-reminder-row-notification-dropdown"]],viewQuery:function(t,e){if(1&t&&o.jd(u,1),2&t){let t;o.Qc(t=o.rc())&&(e.menu=t.first)}},inputs:{modifier:"modifier",items:"items",minutesBefore:"minutesBefore"},outputs:{onSelect:"onSelect"},ngContentSelectors:m,decls:5,vars:4,consts:[["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownPlacement","ngClass","dropdownOpen"],["dropdown","dropdown"],["cuDropdownToggle",""],[4,"cuDropdownMenu"],[3,"items","modifier","minutesBefore","onClose","onSelect"],["menu",""]],template:function(t,e){1&t&&(o.Cc(),o.cc(0,"div",0,1),o.qc("dropdownOpen",function(){return e.checkForCustomSwitch()}),o.cc(2,"div",2),o.Bc(3),o.bc(),o.bd(4,d,3,3,"div",3),o.bc()),2&t&&o.Dc("dropdownCloseOnInsideClick",!1)("dropdownPlacement",o.Gc(3,p))("ngClass",e.modifier)},directives:[n.b,s.o,c.a,r.a,l.a],encapsulation:2,changeDetection:0}),t})();var g=a("UdVN");let b=(()=>{class t{transform(t){if(0===t)return"On due date";if(t<60)return`${t} ${t>1?"minutes":"minute"} before`;if(t<1440){const e=Math.floor(t/60),a=t%60;return`${e} ${e>1?"hours":"hour"}${a?" "+a+(a>1?"minutes":"minute"):""} before`}{const e=Math.floor(t/1440);let a=t%1440;const i=Math.floor(a/60);return a%=60,`${e} ${e>1?"days":"day"}${i?" "+i+(i>1?" hours":" hour"):""}${a?" "+a+(a>1?" minutes":" minute"):""} before`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Vb({name:"minutesBefore",type:t,pure:!0}),t})();function f(t,e){if(1&t&&(o.cc(0,"div"),o.dd(1),o.vc(2,"minutesBefore"),o.bc()),2&t){const t=o.uc();o.Ib(1),o.fd(" ",o.wc(2,1,t.minutesBefore),"\n")}}function k(t,e){if(1&t&&o.Xb(0,"div",2),2&t){const t=o.uc();o.Ob("cu-reminder-row-notification-view__bell_has-minutes-before",t.minutesBefore||0===t.minutesBefore)}}let _=(()=>{class t{constructor(){this.showString=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-reminder-row-notification-view"]],hostAttrs:[1,"cu-reminder-row-notification-view"],inputs:{minutesBefore:"minutesBefore",showString:"showString"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showIcon",""],["icon","cu2-bell",1,"cu-reminder-row-notification-view__bell"]],template:function(t,e){if(1&t&&(o.bd(0,f,3,3,"div",0),o.bd(1,k,1,2,"ng-template",null,1,o.cd)),2&t){const t=o.Rc(2);o.Dc("ngIf",e.showString&&(e.minutesBefore||0===e.minutesBefore))("ngIfElse",t)}},directives:[s.q,g.a],pipes:[b],styles:[".cu-reminder-row-notification-view{display:none;width:36px;height:36px}.cu-reminder-row-new__footer-buttons .cu-reminder-row-notification-view,.cu-reminder-row-notification .cu-dropdown_open .cu-reminder-row-notification-view{display:flex;align-items:center;justify-content:center}.cu-reminder-row-notification-view__bell{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:13px;height:15px;fill:#aeacb0;stroke:#aeacb0}.cu-reminder-row-notification-view__bell:hover{fill:#7b68ee;stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-notification-view__bell:hover{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.cu-reminder-row-notification-view__bell_has-minutes-before{fill:#7b68ee;stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row-notification-view__bell_has-minutes-before{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),t})(),w=(()=>{class t{constructor(){this.items=i.b,this.onChange=new o.o}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-reminder-row-notification"]],hostAttrs:[1,"cu-reminder-row-notification"],inputs:{modifier:"modifier",minutesBefore:"minutesBefore"},outputs:{onChange:"onChange"},decls:2,vars:4,consts:[[3,"items","modifier","minutesBefore","onSelect"],[3,"minutesBefore"]],template:function(t,e){1&t&&(o.cc(0,"cu-reminder-row-notification-dropdown",0),o.qc("onSelect",function(t){return e.onChange.emit(t)}),o.Xb(1,"cu-reminder-row-notification-view",1),o.bc()),2&t&&(o.Dc("items",e.items)("modifier",e.modifier)("minutesBefore",e.minutesBefore),o.Ib(1),o.Dc("minutesBefore",e.minutesBefore))},directives:[h,_],encapsulation:2,changeDetection:0}),t})()},"5ygy":function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("ofXK"),o=a("K0KF"),n=a("gb9A"),s=a("X5rV"),c=a("KyjD"),r=a("O8wx"),l=a("bx+h"),u=a("1M0N"),d=a("fXoL");let p=(()=>{class t{}return t.\u0275mod=d.Ub({type:t}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.a,s.a,c.a,r.a,l.a,u.a]]}),t})()},"69Fr":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{constructor(){this.fieldsFromTriggerText=$localize`:@@automation_fields-from-trigger:Fields from Trigger`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"6J8s":function(t,e,a){t.exports=a.p+"gitlab-step1.056829eaa3c02e5453b6.png"},"6QKp":function(t,e,a){"use strict";a.d(e,"a",function(){return g});var i=a("ofXK"),o=a("Z0uM"),n=a("1M0N"),s=a("/SUI"),c=a("KyjD"),r=a("K0KF"),l=a("bFKe"),u=a("C8uC"),d=a("fTg4"),p=a("gb9A"),m=a("jQu0"),h=a("fXoL");let g=(()=>{class t{}return t.\u0275mod=h.Ub({type:t}),t.\u0275inj=h.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.a,s.a,c.a,r.a,l.b,u.LoaderModule,d.a,p.a,m.a],m.a]}),t})()},"6cX2":function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("bx+h"),o=a("QzAA"),n=a("EQTS"),s=a("M5QM"),c=a("K0KF"),r=a("ofXK"),l=a("gb9A"),u=a("fXoL");let d=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[r.c,c.a,s.a,n.a,o.a,i.a,l.a]]}),t})()},"6tVf":function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("fXoL"),o=a("ofXK"),n=a("O5gs"),s=a("sgkU");function c(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"cu-dropdown-list",1),i.qc("onSelect",function(e){return i.Uc(t),i.uc().selectVariable(e)}),i.cc(2,"cu-edit-automation-dropdown"),i.dd(3),i.bc(),i.bc(),i.Zb()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("items",t.options.values)("showSearch",!0)("handleKeyboard",!0)("autoFocusSearch",!0),i.Ib(2),i.fd(" ",null==t.selectedVariable?null:t.selectedVariable.title," ")}}function r(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.ed(t.value)}}function l(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.ed(t.selectedVariable.title)}}function u(t,e){if(1&t&&(i.ac(0),i.bd(1,r,2,1,"ng-container",0),i.bd(2,l,2,1,"ng-container",0),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",!t.selectedVariable),i.Ib(1),i.Dc("ngIf",t.selectedVariable)}}let d=(()=>{class t{constructor(){this.valueChange=new i.o}ngOnInit(){"string"==typeof this.value&&this.value?this.checkedMenuItem(this.options.values.find(t=>t.id.toLowerCase()===this.value.toLowerCase())):(this.checkedMenuItem(this.options.values[0]),this.valueChange.emit(this.options.values[0].id))}selectVariable(t){this.valueChange.emit(t.id),this.checkedMenuItem(t)}checkedMenuItem(t){const e=this.options.values.find(t=>t.checked);if(e&&(e.checked=!1),t){const e=this.options.values.find(e=>e.id===t.id);e&&(e.checked=!0),this.selectedVariable=e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-text-input"]],hostAttrs:[1,"cu-automation-field-value-text-input"],inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",options:"options"},outputs:{valueChange:"valueChange"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"items","showSearch","handleKeyboard","autoFocusSearch","onSelect"]],template:function(t,e){1&t&&(i.bd(0,c,4,5,"ng-container",0),i.bd(1,u,3,2,"ng-container",0)),2&t&&(i.Dc("ngIf",!e.readonly),i.Ib(1),i.Dc("ngIf",e.readonly))},directives:[o.q,n.a,s.a],styles:['.cu-automation-field-value-enum{display:flex;flex-direction:column}.cu-automation-field-value-enum__input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:13px;height:40px;border-radius:4px;display:flex;align-items:center;padding:0 12px;border:1px solid #e9ebf0;flex-grow:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-enum__input{font-family:var(--global-font-support)}}.cu-automation-field-value-enum__input_spacing-top{margin-top:6px}.cu-automation-field-value-enum__input_textarea{height:auto;padding:12px;background:transparent}.dark-theme .cu-automation-field-value-enum__input{color:#d5d6d7;border-color:#1e272e}'],encapsulation:2,changeDetection:0}),t})()},"7whL":function(t,e,a){"use strict";a.d(e,"b",function(){return ut}),a.d(e,"a",function(){return dt});var i=a("lJxs"),o=a("2Vo4"),n=a("itXk"),s=a("dTHz"),c=a("Rpu1"),r=a("fXoL"),l=a("uslN"),u=a("o7Ov"),d=a("L4xm"),p=a("/qOb"),m=a("Jf2N"),h=a("l7P3"),g=a("rLOZ"),b=a("ofXK"),f=a("jJQC"),k=a("UdVN"),_=a("bNw/"),w=a("9mq+"),v=a("H6mt");function y(t,e){if(1&t&&(r.ac(0),r.dd(1),r.Zb()),2&t){const t=r.uc();r.Ib(1),r.ed(null==t.groupedEntry||null==t.groupedEntry.task?null:t.groupedEntry.task.name)}}function x(t,e){1&t&&(r.ac(0),r.gc(1,14),r.Zb())}function T(t,e){if(1&t&&r.Xb(0,"cu-tags-view",15),2&t){const t=r.uc();r.Dc("truncate",!0)("readOnly",!0)("tags",null==t.groupedEntry?null:t.groupedEntry.tags)}}function I(t,e){if(1&t&&r.Xb(0,"cu-timer-tracker-billable",16),2&t){const t=r.uc();r.Dc("billable",null==t.groupedEntry?null:t.groupedEntry.billable)}}function C(t,e){if(1&t&&(r.cc(0,"div",17),r.Xb(1,"div",18),r.cc(2,"div",19),r.dd(3),r.bc(),r.bc()),2&t){const t=r.uc();r.Ib(3),r.fd(" ",null==t.groupedEntry?null:t.groupedEntry.description," ")}}function D(t,e){if(1&t){const t=r.dc();r.cc(0,"cu-time-tracker-entry",20),r.qc("onTimeTrackerAction",function(e){return r.Uc(t),r.uc().onTimeTrackerAction.emit(e)})("onShowPaywall",function(){return r.Uc(t),r.uc().onShowPaywall.emit()}),r.bc()}if(2&t){const t=e.$implicit,a=r.uc();r.Dc("entry",t)("tags",a.tags)("forTask",!1)("team",a.team)("defaultProject",a.defaultProject)("dateFormat",(null==a.user?null:a.user.date_format)||"m/d/y")("timeFormat",null!=a.user&&a.user.twenty_four_hr_setting?"H:mm":"h:mm a")}}let S=(()=>{class t{constructor(){this.onBack=new r.o,this.onTimeTrackerAction=new r.o,this.onShowPaywall=new r.o,this.trackById=Object(f.d)("id")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Qb({type:t,selectors:[["cu-time-tracker-entries"]],hostAttrs:[1,"cu-time-tracker-entries"],inputs:{groupedEntry:"groupedEntry",user:"user",tags:"tags",defaultProject:"defaultProject",team:"team"},outputs:{onBack:"onBack",onTimeTrackerAction:"onTimeTrackerAction",onShowPaywall:"onShowPaywall"},decls:15,vars:7,consts:function(){let t,e;return t=$localize`:@@common_back-2␟8ab616553dfae0344f13c8483ce21d6beccd6882␟7756816276330565455: back `,e=$localize`:@@common_unassigned␟0f12253192a0f3f41184ac9fac65669ccb9d8c37␟8406787523492971076:Unassigned`,[[1,"cu-time-tracker-entries__inner"],[1,"cu-time-tracker-entries__header",3,"click"],["icon","cu2-angle-right",1,"cu-time-tracker-entries__header-back"],[1,"cu-time-tracker-entries__header-title"],t,[1,"cu-time-tracker-entries__details"],[1,"cu-time-tracker-entries__details-name"],[4,"ngIf","ngIfElse"],["unassignedTmpl",""],["modifier","list-view",3,"truncate","readOnly","tags",4,"ngIf"],["modifier","cu-time-tracker-billable__sm cu-time-tracker-billable__read",3,"billable",4,"ngIf"],["class","cu-time-tracker-entries__description",4,"ngIf"],[1,"cu-time-tracker-entries__items"],[3,"entry","tags","forTask","team","defaultProject","dateFormat","timeFormat","onTimeTrackerAction","onShowPaywall",4,"ngFor","ngForOf","ngForTrackBy"],e,["modifier","list-view",3,"truncate","readOnly","tags"],["modifier","cu-time-tracker-billable__sm cu-time-tracker-billable__read",3,"billable"],[1,"cu-time-tracker-entries__description"],["icon","text-l"],[1,"cu-time-tracker-entries__description-text"],[3,"entry","tags","forTask","team","defaultProject","dateFormat","timeFormat","onTimeTrackerAction","onShowPaywall"]]},template:function(t,e){if(1&t&&(r.cc(0,"div",0),r.cc(1,"div",1),r.qc("click",function(){return e.onBack.emit()}),r.Xb(2,"div",2),r.cc(3,"div",3),r.gc(4,4),r.bc(),r.bc(),r.cc(5,"div",5),r.cc(6,"div",6),r.bd(7,y,2,1,"ng-container",7),r.bd(8,x,2,0,"ng-template",null,8,r.cd),r.bc(),r.bd(10,T,1,3,"cu-tags-view",9),r.bd(11,I,1,1,"cu-timer-tracker-billable",10),r.bc(),r.bd(12,C,4,1,"div",11),r.cc(13,"div",12),r.bd(14,D,1,7,"cu-time-tracker-entry",13),r.bc(),r.bc()),2&t){const t=r.Rc(9);r.Ib(7),r.Dc("ngIf",null==e.groupedEntry||null==e.groupedEntry.task?null:e.groupedEntry.task.name)("ngIfElse",t),r.Ib(3),r.Dc("ngIf",null==e.groupedEntry||null==e.groupedEntry.tags?null:e.groupedEntry.tags.length),r.Ib(1),r.Dc("ngIf",null==e.groupedEntry?null:e.groupedEntry.billable),r.Ib(1),r.Dc("ngIf",null==e.groupedEntry?null:e.groupedEntry.description),r.Ib(2),r.Dc("ngForOf",null==e.groupedEntry?null:e.groupedEntry.entries)("ngForTrackBy",e.trackById)}},directives:[k.a,b.q,b.p,_.a,w.a,v.a],styles:['.cu-time-tracker-entries{min-width:0}.cu-time-tracker-entries__inner{background:#fff;min-height:200px;border-radius:8px;max-height:372px;overflow:auto}.dark-theme .cu-time-tracker-entries__inner{background-color:#384047}.cu-time-tracker-entries__details{display:flex;align-items:center;padding:0 24px}.cu-time-tracker-entries__details-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:20px;line-height:24px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:15px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entries__details-name{font-family:var(--global-font-support)}}.cu-time-tracker-entries__header{display:flex;align-items:center;padding:25px 15px 15px;cursor:pointer}.cu-time-tracker-entries__header-title{flex-grow:1;text-transform:uppercase;font:500 11px Gotham Pro,Proxima Nova,arial,serif;white-space:nowrap;stroke:#7c828d;opacity:.7}.dark-theme .cu-time-tracker-entries__header-title{color:#828588}.cu-time-tracker-entries__header-back{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:20px;height:20px;padding:4px;fill:#7c828d;opacity:.7;transform:rotate(180deg);cursor:pointer;z-index:9;margin-left:5px}.dark-theme .cu-time-tracker-entries__header-back{fill:#d5d6d7;color:#d5d6d7}.cu-time-tracker-entries__description{display:flex;align-items:center;padding:10px 24px 0}.cu-time-tracker-entries__description .icon{width:12px;height:12px;stroke:#c4c4c4;margin-right:7px}.cu-time-tracker-entries__description-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 30px);color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entries__description-text{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entries__description-text{color:#d5d6d7}.cu-time-tracker-entries__items{padding-top:20px}.cu-time-tracker-entries__items.no-padding{padding:0}'],encapsulation:2,changeDetection:0}),t})();var O=a("DDYz"),j=a("G2WA"),P=a("ANIu"),A=a("NsZK"),$=a("Ytoj"),R=a("0lvH"),F=a("VhLi");function M(t,e){if(1&t&&(r.Xb(0,"div",16),r.vc(1,"uppercase")),2&t){const t=r.uc();r.ad("color",null==t.group||null==t.group.task||null==t.group.task.status?null:t.group.task.status.color),r.Ob("milestone",1===(null==t.group||null==t.group.task?null:t.group.task.custom_type)),r.Dc("cuTooltip",r.wc(1,5,null==t.group||null==t.group.task||null==t.group.task.status?null:t.group.task.status.status))}}function E(t,e){if(1&t&&(r.ac(0),r.dd(1),r.Zb()),2&t){const t=r.uc(2);r.Ib(1),r.ed(null==t.group||null==t.group.task?null:t.group.task.name)}}function U(t,e){1&t&&(r.ac(0),r.gc(1,20),r.Zb())}function L(t,e){if(1&t){const t=r.dc();r.cc(0,"div",17),r.qc("click",function(e){r.Uc(t);const a=r.uc();return a.openTask(null==a.group?null:a.group.task,e)}),r.bd(1,E,2,1,"ng-container",18),r.bd(2,U,2,0,"ng-template",null,19,r.cd),r.bc()}if(2&t){const t=r.Rc(3),e=r.uc();r.Ib(1),r.Dc("ngIf",null==e.group||null==e.group.task?null:e.group.task.name)("ngIfElse",t)}}function z(t,e){if(1&t&&(r.ac(0),r.dd(1),r.Zb()),2&t){const t=r.uc(2);r.Ib(1),r.ed(null==t.group?null:t.group.description)}}function V(t,e){if(1&t&&(r.cc(0,"div",21),r.Xb(1,"div",22),r.cc(2,"div",23),r.bd(3,z,2,1,"ng-container",18),r.bc(),r.bc()),2&t){const t=r.uc(),e=r.Rc(21);r.Ib(2),r.Dc("cuTooltip",null!=t.group&&t.group.description?null==t.group?null:t.group.description:t.noNoteText)("tooltipDisabledIfTextNotTruncated",!0),r.Ib(1),r.Dc("ngIf",null==t.group?null:t.group.description)("ngIfElse",e)}}function N(t,e){if(1&t&&r.Xb(0,"cu-timer-tracker-billable",24),2&t){const t=r.uc();r.Dc("billable",null==t.group?null:t.group.billable)}}function q(t,e){if(1&t&&r.Xb(0,"cu-tags-view",31),2&t){const t=r.uc(2);r.Dc("truncate",!0)("readOnly",!0)("tags",null==t.group?null:t.group.tags)}}function B(t,e){if(1&t&&(r.cc(0,"div",25),r.Xb(1,"div",26),r.cc(2,"div",27),r.cc(3,"div",28),r.gc(4,29),r.bc(),r.bd(5,q,1,3,"cu-tags-view",30),r.bc(),r.bc()),2&t){const t=r.uc();r.Ib(5),r.Dc("ngIf",null==t.group||null==t.group.tags?null:t.group.tags.length)}}function G(t,e){if(1&t&&(r.ac(0),r.dd(1),r.Zb()),2&t){const t=r.uc(2);r.Ib(1),r.ed(null==t.group?null:t.group.description)}}function X(t,e){if(1&t&&(r.cc(0,"div",32),r.Xb(1,"div",22),r.cc(2,"div",23),r.bd(3,G,2,1,"ng-container",18),r.bc(),r.bc()),2&t){const t=r.uc(),e=r.Rc(21);r.Ib(2),r.Dc("cuTooltip",null!=t.group&&t.group.description?null==t.group?null:t.group.description:t.noNoteText)("tooltipDisabledIfTextNotTruncated",!0),r.Ib(1),r.Dc("ngIf",null==t.group?null:t.group.description)("ngIfElse",e)}}function W(t,e){if(1&t){const t=r.dc();r.cc(0,"cu-time-tracker-menu",33),r.qc("onDelete",function(){return r.Uc(t),r.uc().delete()})("onSave",function(e){return r.Uc(t),r.uc().saveChanges(e)})("onTimeTrackerAction",function(e){return r.Uc(t),r.uc().onTimeTrackerAction.emit(e)})("onShowPaywall",function(){return r.Uc(t),r.uc().onShowPaywall.emit()}),r.Xb(1,"div",34),r.bc()}if(2&t){const t=r.uc();r.Dc("entry",t.group.entries[0])("defaultProject",t.defaultProject)("dateFormat",t.dateFormat)("tags",t.tags)("team",t.team)}}function H(t,e){if(1&t){const t=r.dc();r.cc(0,"div",35),r.qc("click",function(){r.Uc(t);const e=r.uc();return e.onSetGroup.emit(e.group)}),r.dd(1),r.bc()}if(2&t){const t=r.uc();r.Ib(1),r.fd(" ",null==t.group||null==t.group.entries?null:t.group.entries.length," ")}}function Z(t,e){1&t&&(r.ac(0),r.gc(1,36),r.Zb())}let Q=(()=>{class t{constructor(t){this.sharedTaskService=t,this.userDateFormat="MMM D",this.showTagHover=!1,this.onTimeTrackerAction=new r.o,this.onSetGroup=new r.o,this.onShowPaywall=new r.o,this.onClose=new r.o,this.noNoteText=$localize`:@@cu-time-tracker-group__no-note:(no note)`}ngOnInit(){}ngOnChanges(t){(t.group||t.dateFormat)&&this.dateFormat&&this.group&&this.group.start&&(this.userDateFormat=Object(O.c)(this.group.start,this.dateFormat))}toggleTimer(){this.onTimeTrackerAction.emit(this.group.running?{action:c.d.Stop}:{action:c.d.Start,payload:{description:this.group.description,tid:this.group.task&&this.group.task.id,billable:this.group.billable,tags:this.group.tags}})}delete(){this.onTimeTrackerAction.emit({action:c.d.Delete,payload:{id:this.group.entries[0].id}})}saveChanges(t){this.onTimeTrackerAction.emit({action:c.d.Update,payload:t,entry:this.group.entries[0]})}openTask(t,e){t&&(this.sharedTaskService.clickTaskLink({id:t.id,customId:t.custom_id,teamId:t.team},e),this.onClose.emit())}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(j.a))},t.\u0275cmp=r.Qb({type:t,selectors:[["cu-time-tracker-group"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Ob("cu-time-tracker-group",!0)},inputs:{group:"group",dateFormat:"dateFormat",defaultProject:"defaultProject",tags:"tags",team:"team"},outputs:{onTimeTrackerAction:"onTimeTrackerAction",onSetGroup:"onSetGroup",onShowPaywall:"onShowPaywall",onClose:"onClose"},features:[r.Gb],decls:22,vars:16,consts:function(){let t,e,a;return t=$localize`:@@common_unassigned␟0f12253192a0f3f41184ac9fac65669ccb9d8c37␟8406787523492971076:Unassigned`,e=$localize`:@@common_labels-1␟f379fe1d7bb8375d532bb0af53d2a883995b6fe6␟6342931657141379637: LABELS `,a=$localize`:@@cu-time-tracker-group__no-note␟6b502bb5d88726b32c62e97d6676eeb5bbf06afa␟96569125931685495:(no note)`,[[1,"cu-time-tracker-group__left"],[3,"running","onToggle"],[1,"cu-time-tracker-group__info"],[1,"cu-time-tracker-group__info-task"],["class","cu-time-tracker-group__info-task-status",3,"cuTooltip","color","milestone",4,"ngIf"],["class","cu-time-tracker-group__info-task-name",3,"click",4,"ngIf"],["class","cu-time-tracker-group__info-description-container no-margin",4,"ngIf"],["modifier","cu-time-tracker-billable__sm cu-time-tracker-billable__read",3,"billable",4,"ngIf"],["class","cu-time-tracker-group__info-task-tags-container",4,"ngIf"],["class","cu-time-tracker-group__info-description-container",4,"ngIf"],[1,"cu-time-tracker-group__info-details"],[1,"cu-time-tracker-group__info-duration"],[1,"cu-time-tracker-group__right"],[3,"entry","defaultProject","dateFormat","tags","team","onDelete","onSave","onTimeTrackerAction","onShowPaywall",4,"ngIf"],["class","cu-time-tracker-group__info-count",3,"click",4,"ngIf"],["groupDescriptionTmpl",""],[1,"cu-time-tracker-group__info-task-status",3,"cuTooltip"],[1,"cu-time-tracker-group__info-task-name",3,"click"],[4,"ngIf","ngIfElse"],["unassignedTmpl",""],t,[1,"cu-time-tracker-group__info-description-container","no-margin"],["icon","text-l",1,"cu-time-tracker-group__info-description"],[1,"cu-time-tracker-group__info-description-container-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["modifier","cu-time-tracker-billable__sm cu-time-tracker-billable__read",3,"billable"],[1,"cu-time-tracker-group__info-task-tags-container"],["icon","cu2-tag-o",1,"cu-time-tracker-group__info-task-tags"],[1,"cu-time-tracker-group__info-task-tags-popup"],[1,"cu-time-tracker-group__info-task-tags-popup-label"],e,["modifier","list-view",3,"truncate","readOnly","tags",4,"ngIf"],["modifier","list-view",3,"truncate","readOnly","tags"],[1,"cu-time-tracker-group__info-description-container"],[3,"entry","defaultProject","dateFormat","tags","team","onDelete","onSave","onTimeTrackerAction","onShowPaywall"],["icon","ellipsis",1,"cu-time-tracker-group__settings"],[1,"cu-time-tracker-group__info-count",3,"click"],a]},template:function(t,e){1&t&&(r.cc(0,"div",0),r.cc(1,"cu-time-tracker-toggle",1),r.qc("onToggle",function(){return e.toggleTimer()}),r.bc(),r.cc(2,"div",2),r.cc(3,"div",3),r.bd(4,M,2,7,"div",4),r.bd(5,L,4,2,"div",5),r.bd(6,V,4,4,"div",6),r.bd(7,N,1,1,"cu-timer-tracker-billable",7),r.bd(8,B,6,1,"div",8),r.bc(),r.bd(9,X,4,4,"div",9),r.cc(10,"div",10),r.cc(11,"div",11),r.dd(12),r.vc(13,"timeTrackerDuration"),r.cc(14,"span"),r.dd(15),r.vc(16,"momentDate"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(17,"div",12),r.bd(18,W,2,5,"cu-time-tracker-menu",13),r.bd(19,H,2,1,"div",14),r.bc(),r.bd(20,Z,2,0,"ng-template",null,15,r.cd)),2&t&&(r.Ib(1),r.Dc("running",null==e.group?null:e.group.running),r.Ib(3),r.Dc("ngIf",null==e.group||null==e.group.task?null:e.group.task.status),r.Ib(1),r.Dc("ngIf",null==e.group?null:e.group.task),r.Ib(1),r.Dc("ngIf",!(null!=e.group&&e.group.task)),r.Ib(1),r.Dc("ngIf",null==e.group?null:e.group.billable),r.Ib(1),r.Dc("ngIf",null==e.group||null==e.group.tags?null:e.group.tags.length),r.Ib(1),r.Dc("ngIf",(null==e.group?null:e.group.task)&&(null==e.group?null:e.group.description)),r.Ib(3),r.fd(" ",r.wc(13,11,null==e.group?null:e.group.duration)," "),r.Ib(3),r.ed(r.xc(16,13,null==e.group?null:e.group.start,e.userDateFormat)),r.Ib(3),r.Dc("ngIf",1===(null==e.group||null==e.group.entries?null:e.group.entries.length)),r.Ib(1),r.Dc("ngIf",(null==e.group||null==e.group.entries?null:e.group.entries.length)>1))},directives:[P.a,b.q,A.a,k.a,w.a,_.a,$.a],pipes:[R.a,F.a,b.B],styles:['.cu-time-tracker-group{display:flex;align-items:center;justify-content:space-between;padding:20px}.cu-time-tracker-group:not(:last-child){border-bottom:1px solid #e4e4e4}.dark-theme .cu-time-tracker-group:not(:last-child){border-color:#1e272e}.cu-time-tracker-group__settings{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:24px;height:24px;padding:3px 4px;fill:#b9bec7;cursor:pointer}.cu-time-tracker-group__settings:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-time-tracker-group__settings:hover{fill:var(--theme-main-color)}}.cu-dropdown_open .cu-time-tracker-group__settings{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-dropdown_open .cu-time-tracker-group__settings{fill:var(--theme-main-color)}}.cu-time-tracker-group__info{max-width:calc(100% - 60px)}.cu-time-tracker-group__info-task{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#292d34;margin-bottom:6px;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-group__info-task{font-family:var(--global-font-support)}}.cu-time-tracker-group__info-task-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#292d34;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-group__info-task-name{font-family:var(--global-font-support)}}.cu-time-tracker-group__info-task-name:hover{color:var(--theme-main-color)!important}.dark-theme .cu-time-tracker-group__info-task,.dark-theme .cu-time-tracker-group__info-task-name{color:#d5d6d7}.cu-time-tracker-group__info-task-tags{fill:#c4c4c4;height:13px;width:13px;position:relative;margin-left:5px}.cu-time-tracker-group__info-task-tags-container{position:relative;padding-left:5px}.cu-time-tracker-group__info-task-tags-container:hover .cu-time-tracker-group__info-task-tags-popup{display:block}.cu-time-tracker-group__info-task-tags-popup{padding:10px;background:#fff;box-shadow:0 5px 20px rgba(0,0,0,.08),0 10px 25px rgba(0,0,0,.05);border-radius:6px;position:absolute;transform:translate(-45%,-135%);width:170px;display:none}.dark-theme .cu-time-tracker-group__info-task-tags-popup{background:#2b343b}.cu-time-tracker-group__info-task-tags-popup-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:11px;color:#7c828d;opacity:.7;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-group__info-task-tags-popup-label{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-group__info-task-tags-popup-label{color:#d5d6d7}.cu-time-tracker-group__info-task-status{position:relative;min-width:10px;height:10px;border-radius:3px;border:1px solid transparent;transition:.1s;cursor:pointer;background-color:currentColor;margin-right:5px}.cu-time-tracker-group__info-task-status.milestone{transform:rotate(45deg)}.cu-time-tracker-group__info-task .cu-time-tracker-billable__sm{margin-left:5px}.cu-time-tracker-group__info-count{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:20px;margin-left:5px;border:1px solid #b9bec7;height:20px;width:20px;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:3px;color:#7c828d;padding-top:2px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-group__info-count{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-group__info-count{color:#d5d6d7;border-color:#1e272e}.cu-time-tracker-group__info-description{display:inline-block;width:14px;height:14px;margin:0 4px 0 10px;stroke:#c4c4c4}.contrast_high .cu-time-tracker-group__info-description{stroke:#979797}.cu-time-tracker-group__info-description-container{display:flex;align-items:center;margin-bottom:8px;max-width:100%}.cu-time-tracker-group__info-description-container.no-margin{margin:0}.cu-time-tracker-group__info-description-container .icon{margin:0 4px 0 0}.cu-time-tracker-group__info-description-container-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-group__info-description-container-text{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-group__info-description-container-text{color:#d5d6d7}.cu-time-tracker-group__info-details{display:flex;align-items:center}.cu-time-tracker-group__info-details .cu-time-tracker-billable__read{margin-right:8px;margin-top:-2px}.cu-time-tracker-group__info-details .cu-time-tracker-billable__read .icon{width:10px;height:10px}.cu-time-tracker-group__info-duration{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:12px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-group__info-duration{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-group__info-duration{color:#828588}.cu-time-tracker-group__info-duration span{color:#7c828d;font-size:11px;display:inline-block;padding-left:3px}.dark-theme .cu-time-tracker-group__info-duration span{color:#d5d6d7}.cu-time-tracker-group__left{flex-grow:1;max-width:calc(100% - 30px)}.cu-time-tracker-group__left,.cu-time-tracker-group__right{display:flex;align-items:center}'],encapsulation:2,changeDetection:0}),t})();function K(t,e){if(1&t){const t=r.dc();r.cc(0,"cu-time-tracker-group",1),r.qc("onTimeTrackerAction",function(e){return r.Uc(t),r.uc().onTimeTrackerAction.emit(e)})("onSetGroup",function(e){return r.Uc(t),r.uc().onSetGroup.emit(e)})("onShowPaywall",function(){return r.Uc(t),r.uc().onShowPaywall.emit()})("onClose",function(){return r.Uc(t),r.uc().onClose.emit()}),r.bc()}if(2&t){const t=e.$implicit,a=r.uc();r.Dc("group",t)("tags",a.tags)("team",a.team)("dateFormat",(null==a.user?null:a.user.date_format)||"m/d/y")}}let J=(()=>{class t{constructor(){this.onTimeTrackerAction=new r.o,this.onSetGroup=new r.o,this.onShowPaywall=new r.o,this.onClose=new r.o,this.trackById=Object(f.d)("id")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Qb({type:t,selectors:[["cu-time-tracker-recents"]],inputs:{groupedEntries:"groupedEntries",user:"user",defaultProject:"defaultProject",tags:"tags",team:"team"},outputs:{onTimeTrackerAction:"onTimeTrackerAction",onSetGroup:"onSetGroup",onShowPaywall:"onShowPaywall",onClose:"onClose"},decls:1,vars:2,consts:[[3,"group","tags","team","dateFormat","onTimeTrackerAction","onSetGroup","onShowPaywall","onClose",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","tags","team","dateFormat","onTimeTrackerAction","onSetGroup","onShowPaywall","onClose"]],template:function(t,e){1&t&&r.bd(0,K,1,4,"cu-time-tracker-group",0),2&t&&r.Dc("ngForOf",e.groupedEntries)("ngForTrackBy",e.trackById)},directives:[b.p,Q],styles:[""],changeDetection:0}),t})();var Y=a("oBEc"),tt=a("mYHb"),et=a("tyNb"),at=a("xDGP");const it=["paywallTemplate"];function ot(t,e){if(1&t){const t=r.dc();r.ac(0),r.cc(1,"cu-time-tracker-entries",4),r.qc("onBack",function(){return r.Uc(t),r.uc().groupedEntryId$.next(null)})("onTimeTrackerAction",function(e){return r.Uc(t),r.uc().timeTrackerAction(e)})("onShowPaywall",function(){return r.Uc(t),r.uc().openPaywallModal()}),r.bc(),r.Zb()}if(2&t){const t=e.ngIf,a=r.uc();r.Ib(1),r.Dc("groupedEntry",t)("tags",a.tags)("defaultProject",a.defaultProject)("user",a.user)("team",a.team)}}function nt(t,e){if(1&t){const t=r.dc();r.cc(0,"cu-time-tracker-current-editor",22),r.qc("onSelectTask",function(e){return r.Uc(t),r.uc(2).selectTask(e)})("onCreateTask",function(e){return r.Uc(t),r.uc(2).createTask(e)})("onTimeTrackerAction",function(e){return r.Uc(t),r.uc(2).onTimeTrackerAction.emit(e)})("onOnUpdateEntry",function(e){return r.Uc(t),r.uc(2).updateTimeEntry(e)})("onDescriptionChange",function(e){return r.Uc(t),r.uc(2).updateDescription(e)})("onShowPaywall",function(){return r.Uc(t),r.uc(2).openPaywallModal()})("onToggleManual",function(){return r.Uc(t),r.uc(2).openInput()}),r.bc()}if(2&t){const t=r.uc(2);r.Dc("currentDuration",t.currentDuration)("defaultProject",t.defaultProject)("currentEntry",t.currentEntry)("tags",t.tags)("team",t.team)("isFloatContainer",!0)("allowAddManual",!0)}}function st(t,e){if(1&t){const t=r.dc();r.cc(0,"cu-time-tracker-create-manual",23),r.qc("onCancel",function(){return r.Uc(t),r.uc(2).close()})("onTimeTrackerAction",function(e){return r.Uc(t),r.uc(2).onTimeTrackerAction.emit(e)})("onShowPaywall",function(){return r.Uc(t),r.uc(2).openPaywallModal()}),r.vc(1,"async"),r.bc()}if(2&t){const t=r.uc(2);r.Dc("team",t.team)("tags",t.tags)("selectTask",!0)("dateFormat",(null==t.user?null:t.user.date_format)||"m/d/y")("defaultProject",t.defaultProject)("showCancel",!0)("trackerMode",r.wc(1,8,t.trackerMode$))("user",t.user)}}function ct(t,e){if(1&t){const t=r.dc();r.cc(0,"div",24),r.Xb(1,"div",25),r.cc(2,"a",26),r.qc("click",function(){return r.Uc(t),r.uc(2).close()}),r.gc(3,27),r.vc(4,"async"),r.vc(5,"async"),r.bc(),r.bc()}if(2&t){const t=r.uc(2);let e=null,a=null;r.Ib(2),r.Dc("routerLink",null==(e=r.wc(4,2,t.dashboardLink$))?null:e.link)("queryParams",null==(a=r.wc(5,4,t.dashboardLink$))?null:a.queryParams)}}function rt(t,e){if(1&t){const t=r.dc();r.cc(0,"div",5),r.vc(1,"async"),r.vc(2,"async"),r.cc(3,"div",6),r.cc(4,"div",7),r.cc(5,"div",8),r.cc(6,"div",9),r.qc("click",function(e){r.Uc(t);const a=r.uc();return a.openInput(e,a.TimeTrackingMode.TIMER)}),r.vc(7,"async"),r.Xb(8,"div",10),r.ac(9),r.gc(10,11),r.Zb(),r.bc(),r.cc(11,"div",9),r.qc("click",function(e){r.Uc(t);const a=r.uc();return a.openInput(e,a.TimeTrackingMode.MANUAL)}),r.vc(12,"async"),r.Xb(13,"div",12),r.ac(14),r.gc(15,13),r.Zb(),r.bc(),r.cc(16,"div",9),r.qc("click",function(e){r.Uc(t);const a=r.uc();return a.openInput(e,a.TimeTrackingMode.RANGE)}),r.vc(17,"async"),r.Xb(18,"div",14),r.ac(19),r.gc(20,15),r.Zb(),r.bc(),r.bc(),r.bc(),r.cc(21,"div",16),r.qc("click",function(){return r.Uc(t),r.uc().close()}),r.Xb(22,"div"),r.bc(),r.bc(),r.bd(23,nt,1,7,"cu-time-tracker-current-editor",17),r.vc(24,"async"),r.bd(25,st,2,10,"ng-template",null,18,r.cd),r.bc(),r.cc(27,"div",19),r.cc(28,"cu-time-tracker-recents",20),r.qc("onTimeTrackerAction",function(e){return r.Uc(t),r.uc().timeTrackerAction(e)})("onSetGroup",function(e){return r.Uc(t),r.uc().groupedEntryId$.next(e.id)})("onShowPaywall",function(){return r.Uc(t),r.uc().openPaywallModal()})("onClose",function(){return r.Uc(t),r.uc().close()}),r.vc(29,"async"),r.bc(),r.bd(30,ct,6,6,"div",21),r.bc()}if(2&t){const t=r.Rc(26),e=r.uc();r.Ob("cu-time-tracker__container-top-no-bot-padding",r.wc(1,16,e.trackerMode$)===e.TimeTrackingMode.MANUAL||r.wc(2,18,e.trackerMode$)===e.TimeTrackingMode.RANGE),r.Ib(6),r.Ob("cu-time-tracker__option-selected",r.wc(7,20,e.trackerMode$)===e.TimeTrackingMode.TIMER),r.Ib(5),r.Ob("cu-time-tracker__option-selected",r.wc(12,22,e.trackerMode$)===e.TimeTrackingMode.MANUAL),r.Ib(5),r.Ob("cu-time-tracker__option-selected",r.wc(17,24,e.trackerMode$)===e.TimeTrackingMode.RANGE),r.Ib(7),r.Dc("ngIf",r.wc(24,26,e.trackerMode$)===e.TimeTrackingMode.TIMER)("ngIfElse",t),r.Ib(5),r.Dc("groupedEntries",r.wc(29,28,e.groupedEntries$))("defaultProject",e.defaultProject)("user",e.user)("tags",e.tags)("team",e.team),r.Ib(2),r.Dc("ngIf",(null==e.team?null:e.team.plan_id)!==e.TeamPlan.FREE)}}function lt(t,e){if(1&t){const t=r.dc();r.cc(0,"cu-paywall-modal",28),r.qc("trialClick",function(){return r.Uc(t),r.uc().startTrial()}),r.bc()}if(2&t){const t=r.uc();r.Dc("featureTitle",t.timeTrackingPayWallData.title)("description",t.timeTrackingPayWallData.description)("features",t.timeTrackingPayWallData.features)("image",t.timeTrackingPayWallData.image)("plan",t.timeTrackingPayWallData.plan)("team",t.team)}}const ut={title:$localize`:@@common_time-tracking:Time Tracking`,description:$localize`:@@cu-time-tracker__paywall-desc_upgrade-to-business:Upgrade to Business to get even more customization and better reporting.`,features:[{icon:"paywall-money",name:$localize`:@@cu-time-tracker__paywall-feat-item_mark-billable:Mark time as billable`},{icon:"paywall-pencil",name:$localize`:@@cu-time-tracker__paywall-feat-item_add-descriptions:Add descriptions to time entries`},{icon:"paywall-categories",name:$localize`:@@cu-time-tracker__paywall-feat-item_organize-with-labels:Organize your time into labels`}],image:"./assets/images/paywall/time-tracking.svg",plan:l.f.BUSINESS};let dt=(()=>{class t{constructor(t,e,a,u){this.cdr=t,this.modal=e,this.store=a,this.localStorage=u,this.showDescription=!1,this.groupedEntryId$=new o.a(null),this.groupedEntries$=new o.a([]),this.dashboards$=new o.a([]),this.team$=new o.a(null),this.dashboardLink$=Object(n.a)([this.team$,this.dashboards$]).pipe(Object(i.a)(([t,e])=>{if(!t)return null;const a=(e||[]).find(t=>t.is_time_tracking),i=["/",t.id,"dashboards"];return a&&i.push(a.id),{link:i,queryParams:a?null:{timeTracking:!0}}})),this.groupedEntry$=Object(n.a)([this.groupedEntryId$,this.groupedEntries$]).pipe(Object(i.a)(([t,e])=>t&&e&&e.length?e.find(e=>e.id===t):null)),this.TimeTrackingMode=c.e,this.trackerMode$=new o.a(this.localStorage.get(c.c)||c.e.TIMER),this.editorOpen=!1,this.onTimeTrackerAction=new r.o,this.timeTrackingPayWallData=ut,this.TeamPlan=l.f,this.LayoutVersion=s.b}onKeyDown(t){switch(t.which){case p.a.ESCAPE:this.close()}}ngOnInit(){this.onTimeTrackerAction.emit({action:c.d.LoadRecent})}ngOnChanges(t){t.groupedEntries&&this.groupedEntries&&(this.editorOpen?this.groupedEntriesOnClose=this.groupedEntries:this.groupedEntries$.next(this.groupedEntries)),t.team&&this.team$.next(this.team),t.dashboards&&this.dashboards$.next(this.dashboards)}close(){this.onTimeTrackerAction.emit({action:c.d.Close})}openInput(t,e=c.e.MANUAL){this.trackerMode$.next(e),this.localStorage.set(c.c,e)}timeTrackerAction(t){t.action===c.d.EditorState?(this.editorOpen=t.editorOpen,!this.editorOpen&&this.groupedEntriesOnClose&&(this.groupedEntries$.next(this.groupedEntriesOnClose),this.groupedEntriesOnClose=null)):this.onTimeTrackerAction.emit(t)}createTask({name:t,id:e}){this.currentEntry=Object.assign(Object.assign({},this.currentEntry),{task:{name:t}}),this.onTimeTrackerAction.emit({action:c.d.CreateTask,payload:{task:{name:t,subcategoryId:e}}}),this.cdr.markForCheck()}selectTask(t){this.currentEntry=Object.assign(Object.assign({},this.currentEntry),{task:t}),this.cdr.markForCheck();const e={tid:t?t.id:null};this.currentEntry&&this.currentEntry.id||(e.task=t),this.updateTimeEntry(e)}updateTimeEntry(t){this.onTimeTrackerAction.emit(this.currentEntry&&this.currentEntry.id?{action:c.d.Update,payload:t,entry:this.currentEntry}:{action:c.d.UpdateUnsaved,payload:t})}updateDescription(t){this.updateTimeEntry({description:t})}openPaywallModal(){this.modal.open({modifier:"cu-modal_fullwidth",content:this.paywallTemplate})}startTrial(){this.store.dispatch(new u.Rk([Object(d.X)({overPaywall:!1}),Object(d.r)()],l.f.BUSINESS))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.h),r.Wb(m.a),r.Wb(h.Store),r.Wb(g.b))},t.\u0275cmp=r.Qb({type:t,selectors:[["cu-time-tracker"]],viewQuery:function(t,e){if(1&t&&r.jd(it,3),2&t){let t;r.Qc(t=r.rc())&&(e.paywallTemplate=t.first)}},hostVars:2,hostBindings:function(t,e){1&t&&r.qc("keydown",function(t){return e.onKeyDown(t)},!1,r.Sc),2&t&&r.Ob("cu-time-tracker",!0)},inputs:{currentDuration:"currentDuration",defaultProject:"defaultProject",currentEntry:"currentEntry",groupedEntries:"groupedEntries",dashboards:"dashboards",user:"user",tags:"tags",team:"team"},outputs:{onTimeTrackerAction:"onTimeTrackerAction"},features:[r.Gb],decls:7,vars:4,consts:function(){let t,e,a,i;return t=$localize`:@@common_timer␟ebf205fe9560503cd1ee8eca168de2911763d7da␟2446577475045153716: Timer `,e=$localize`:@@common_manual␟6b4ff819ae10c563c4034206edfc6b82bf88ed94␟254382446573360981: Manual `,a=$localize`:time tracking mode@@common_range--time-tracking-mode␟e058a439fb8fb7b7f9f853d498b5e0ed15bdb878␟3332451878004371574: Range `,i=$localize`:@@cu-time-tracker__link-txt_see-time-tracking-dashboard␟240c950545640b8284280898559d0dc2b791ec61␟2965962659474539345: See reporting in Time Tracking Dashboard `,[[1,"cu-time-tracker__container"],[4,"ngIf","ngIfElse"],["noEntry",""],["paywallTemplate",""],[3,"groupedEntry","tags","defaultProject","user","team","onBack","onTimeTrackerAction","onShowPaywall"],[1,"cu-time-tracker__container-top"],[1,"cu-time-tracker__container-top-header"],[1,"cu-time-tracker__container-top-header-left"],[1,"cu-time-tracker__options"],[1,"cu-time-tracker__option",3,"click"],["icon","tt-play"],t,["icon","tt-manual"],e,["icon","tt-range"],a,[1,"cu-time-tracker__container-top-header-right",3,"click"],[3,"currentDuration","defaultProject","currentEntry","tags","team","isFloatContainer","allowAddManual","onSelectTask","onCreateTask","onTimeTrackerAction","onOnUpdateEntry","onDescriptionChange","onShowPaywall","onToggleManual",4,"ngIf","ngIfElse"],["showManual",""],[1,"cu-time-tracker__container-bottom"],[3,"groupedEntries","defaultProject","user","tags","team","onTimeTrackerAction","onSetGroup","onShowPaywall","onClose"],["class","cu-time-tracker__dashboards",4,"ngIf"],[3,"currentDuration","defaultProject","currentEntry","tags","team","isFloatContainer","allowAddManual","onSelectTask","onCreateTask","onTimeTrackerAction","onOnUpdateEntry","onDescriptionChange","onShowPaywall","onToggleManual"],[3,"team","tags","selectTask","dateFormat","defaultProject","showCancel","trackerMode","user","onCancel","onTimeTrackerAction","onShowPaywall"],[1,"cu-time-tracker__dashboards"],["icon","cu2-dashboards",1,"cu-time-tracker__dashboards-icon"],[3,"routerLink","queryParams","click"],i,[3,"featureTitle","description","features","image","plan","team","trialClick"]]},template:function(t,e){if(1&t&&(r.cc(0,"div",0),r.bd(1,ot,2,5,"ng-container",1),r.vc(2,"async"),r.bd(3,rt,31,30,"ng-template",null,2,r.cd),r.bc(),r.bd(5,lt,1,6,"ng-template",null,3,r.cd)),2&t){const t=r.Rc(4);r.Ib(1),r.Dc("ngIf",r.wc(2,2,e.groupedEntry$))("ngIfElse",t)}},directives:[b.q,S,k.a,J,Y.a,tt.a,et.k,at.a],pipes:[b.b],styles:['.cu-time-tracker{position:fixed;bottom:12px;right:10px;width:360px;z-index:998}.cu-time-tracker__options{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.cu-time-tracker__option{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;width:33.3333%;border-right:1px solid hsla(0,0%,100%,.2);color:#fff;opacity:.5;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker__option{font-family:var(--global-font-support)}}.cu-time-tracker__option .icon{height:14px;width:14px;fill:#fff;opacity:.5;margin-right:8px}.cu-time-tracker__option.cu-time-tracker__option-selected,.cu-time-tracker__option.cu-time-tracker__option-selected .icon{opacity:1}.cu-time-tracker__option:first-of-type{justify-content:center;margin-left:-6px}.cu-time-tracker__option:nth-of-type(2){justify-content:center}.cu-time-tracker__option:nth-of-type(3){justify-content:center;border:none}.cu-time-tracker__task{display:flex;align-items:center}.cu-time-tracker__task-status{flex-shrink:0;width:8px;height:8px;border-radius:2px;margin:0 8px 0 0}.cu-time-tracker__task-status.cu-time-tracker__custom-type{transform:rotate(45deg);width:11px;height:11px;border-radius:0}.cu-time-tracker__dashboards{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;display:flex;align-items:center;position:sticky;bottom:0;padding:10px;border-top:1px solid #e4e4e4;background-color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker__dashboards{font-family:var(--global-font-support)}}.cu-time-tracker__dashboards a{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu-time-tracker__dashboards:hover a{color:var(--theme-main-color)}.dark-theme .cu-time-tracker__dashboards{background-color:#384047}.cu-time-tracker__dashboards-icon{width:36px;height:36px;padding:9px;transition:none;border-radius:4px;fill:#b9bec7}.dark-theme .cu-time-tracker__dashboards{border-color:#1e272e}.dark-theme .cu-time-tracker__dashboards .icon{fill:#d5d6d7}.cu-time-tracker__container{background:#7b68ee;box-shadow:0 5px 20px rgba(0,0,0,.08),0 10px 25px rgba(0,0,0,.05);margin-bottom:50px;margin-right:14px;border-radius:8px;overflow:hidden;max-height:calc(100vh - 78px);display:grid;grid-template-rows:auto 1fr}@supports (--theme-main-color:#7b68ee){.cu-time-tracker__container{background:var(--theme-main-color)}}.cu-time-tracker__container-top{min-width:0;padding:24px}.cu-time-tracker__container-top.cu-time-tracker__container-top-no-bot-padding{padding:24px 24px 0}.cu-time-tracker__container-top-header{display:flex;justify-content:space-between;align-items:center;position:relative}.cu-time-tracker__container-top-header-left{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;width:100%;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker__container-top-header-left{font-family:var(--global-font-support)}}.cu-time-tracker__container-top-header-right{position:absolute;display:flex;justify-content:center;align-items:center;height:20px;cursor:pointer;right:-4px;top:-13px}.cu-time-tracker__container-top-header-right div{width:10px;height:2px;background:#fff;border-radius:1px}.cu-time-tracker__container-bottom{overflow-y:auto;border-radius:8px 8px 0 0;background-color:#fff}.cu-os-win .cu-time-tracker__container-bottom{scrollbar-width:thin}.cu-os-win .cu-time-tracker__container-bottom::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-time-tracker__container-bottom::-webkit-scrollbar-track,.cu-os-win .cu-time-tracker__container-bottom::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-time-tracker__container-bottom::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-time-tracker__container-bottom::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-time-tracker__container-bottom::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar,.cu-os-win .dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar,.cu-os-win.dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-track{background-color:#384047}.cu-os-win.dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-track:hover{background-color:#384047}.cu-os-win.dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-time-tracker__container-bottom::-webkit-scrollbar-thumb:hover{border-color:#384047}.dark-theme .cu-time-tracker__container-bottom{background-color:#384047}.cu-time-tracker__input{display:block;width:100%;padding:10px;margin-bottom:5px;background:hsla(0,0%,100%,.1);border-radius:6px;min-height:36px}.cu-time-tracker__input.cu-time-tracker-current-editor__new{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;width:110px;cursor:pointer;border-radius:0 6px 6px 0;position:relative;padding:12px 10px 10px 20px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker__input.cu-time-tracker-current-editor__new{font-family:var(--global-font-support)}}.cu-time-tracker__input.cu-time-tracker-current-editor__new:before{content:"";position:absolute;width:1px;height:16px;top:11px;left:2px;background:#fff;opacity:.2}.cu-time-tracker__input.cu-time-tracker-current-editor__new:hover{color:#fff}.cu-time-tracker .cu-tags-view__icon{display:flex}.cu-time-tracker-current-editor__selector{flex-grow:1;min-width:0}'],encapsulation:2,changeDetection:0}),t})()},8873:function(t,e,a){"use strict";a.d(e,"a",function(){return j});var i=a("PiVx"),o=a("Yukb"),n=a("ofXK"),s=a("EDFS"),c=a("Dvla"),r=a("1M0N"),l=a("a5Nn"),u=a("VBI8"),d=a("KyjD"),p=a("IRoT"),m=a("+iQC"),h=a("Toui"),g=a("pc5n"),b=a("T7eY"),f=a("je31"),k=a("mcWp"),_=a("8UY1"),w=a("dsJk"),v=a("BGnL"),y=a("vxfF"),x=a("gb9A"),T=a("K0KF"),I=a("3Pt+"),C=a("aVmG"),D=a("csDc"),S=a("bFKe"),O=a("fXoL");let j=(()=>{class t{}return t.\u0275mod=O.Ub({type:t}),t.\u0275inj=O.Tb({factory:function(e){return new(e||t)},imports:[[n.c,I.l,d.a,s.d,c.b,r.a,k.a,u.a,l.a,p.a,m.a,i.a,h.a,g.a,b.b,o.a,f.a,_.b,w.a,v.c,y.e,x.a,T.a,C.a,D.a,S.b]]}),t})()},"8oza":function(t,e,a){"use strict";a.d(e,"a",function(){return j});var i=a("fXoL"),o=a("DiaY"),n=a("Muja"),s=a("69Fr"),c=a("ofXK"),r=a("O5gs"),l=a("sgkU"),u=a("ukJz"),d=a("PPkR"),p=a("3Pt+"),m=a("8UY1");function h(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(null==t.selectedDateType?null:t.selectedDateType.title)}}function g(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"cu-dropdown-list",6),i.qc("onSelect",function(e){return i.Uc(t),i.uc(2).selectType(e)}),i.cc(2,"cu-edit-automation-dropdown"),i.bd(3,h,2,1,"ng-container",4),i.bc(),i.bc(),i.Zb()}if(2&t){const t=i.uc(2),e=i.Rc(4);i.Ib(1),i.Dc("items",t.displayOptions)("showSearch",!0)("autoFocusSearch",!0)("handleKeyboard",!0)("dropdownDisabled",t.readonly),i.Ib(2),i.Dc("ngIf",null==t.selectedDateType?null:t.selectedDateType.title)("ngIfElse",e)}}function b(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.fd(" ",null==t.selectedDateType?null:t.selectedDateType.title," ")}}function f(t,e){if(1&t&&i.bd(0,b,2,1,"ng-container",0),2&t){const t=i.uc(2);i.Dc("ngIf","chooseADate"!==(null==t.selectedDateType?null:t.selectedDateType.id))}}function k(t,e){if(1&t&&(i.ac(0),i.bd(1,g,4,7,"ng-container",4),i.bd(2,f,1,1,"ng-template",null,5,i.cd),i.Zb()),2&t){const t=i.Rc(3),e=i.uc();i.Ib(1),i.Dc("ngIf",!e.readonly)("ngIfElse",t)}}function _(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-recurring-date-dropdown",7),i.qc("onChange",function(e){return i.Uc(t),i.uc().setDate(e)}),i.cc(1,"cu-due-date-view",8),i.qc("onChange",function(e){return i.Uc(t),i.uc().setDate(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Dc("selectedDate","due"===t.options.type?t.datePickerValue:null)("dueTimeExists",!1)("startDate","start"===t.options.type?t.datePickerValue:null)("startTimeExists",!1)("forceStart","start"===t.options.type)("forceDue","due"===t.options.type)("readOnly",t.readonly)("showRecurring",!1)("showStart","start"===t.options.type)("allowClear",!1)("noTime",!0)("dateOption","due"===t.options.type?t.DateOptions.DUE:t.DateOptions.START),i.Ib(1),i.Dc("selectedDate",t.datePickerValue)}}function w(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"input",10),i.qc("ngModelChange",function(e){return i.Uc(t),i.uc(3).setDaysFromNow(e)}),i.bc(),i.Zb()}if(2&t){const t=i.uc(3);i.Ib(1),i.Dc("ngModel",void 0!==t.lastTypedDaysFromNow?t.lastTypedDaysFromNow:!t.value||null!=t.value&&t.value.days_from_now?t.value&&0===t.value.days_from_now?"":(null==t.value?null:t.value.days_from_now)+"":"")("imask",t.numberTextMask)("unmask",!0)}}function v(t,e){if(1&t&&i.dd(0),2&t){const t=i.uc(3);i.fd(" ",null==t.value?null:t.value.days_from_now," ")}}function y(t,e){if(1&t&&(i.ac(0),i.bd(1,w,2,3,"ng-container",4),i.bd(2,v,1,1,"ng-template",null,9,i.cd),i.Zb()),2&t){const t=i.Rc(3),e=i.uc(2);i.Ib(1),i.Dc("ngIf",!e.readonly)("ngIfElse",t)}}function x(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(4);i.Ib(1),i.ed(null==t.selectedVariableMap?null:t.selectedVariableMap.title)}}function T(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"cu-dropdown-list",12),i.qc("onSelect",function(e){return i.Uc(t),i.uc(3).selectVariable(e)}),i.cc(2,"cu-edit-automation-dropdown"),i.bd(3,x,2,1,"ng-container",4),i.bc(),i.bc(),i.Zb()}if(2&t){const t=i.uc(3),e=i.Rc(6);i.Ib(1),i.Dc("items",t.useableVariables)("showSearch",!0)("autoFocusSearch",!0)("handleKeyboard",!0),i.Ib(2),i.Dc("ngIf",null==t.selectedVariableMap?null:t.selectedVariableMap.title)("ngIfElse",e)}}function I(t,e){if(1&t&&i.dd(0),2&t){const t=i.uc(3);i.fd(" ",null==t.selectedVariableMap?null:t.selectedVariableMap.title," ")}}function C(t,e){if(1&t&&(i.ac(0),i.bd(1,T,4,6,"ng-container",4),i.bd(2,I,1,1,"ng-template",null,11,i.cd),i.Zb()),2&t){const t=i.Rc(3),e=i.uc(2);i.Ib(1),i.Dc("ngIf",!e.readonly)("ngIfElse",t)}}function D(t,e){if(1&t&&(i.ac(0),i.bd(1,y,4,2,"ng-container",0),i.bd(2,C,4,2,"ng-container",0),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf","daysAfter"===(null==t.selectedDateType?null:t.selectedDateType.id)),i.Ib(1),i.Dc("ngIf","triggerMapping"===(null==t.selectedDateType?null:t.selectedDateType.id))}}function S(t,e){1&t&&(i.ac(0),i.gc(1,13),i.Zb())}function O(t,e){1&t&&(i.ac(0),i.gc(1,14),i.Zb())}let j=(()=>{class t{constructor(t){this.automationCommonStringsService=t,this.valueChange=new i.o,this.mappedValueChange=new i.o,this.useableVariables=[],this.displayOptions=[{id:"daysAfter",title:"Days after trigger date"},{id:"onTriggerDate",title:"On trigger date"},{id:"triggerMapping",title:this.automationCommonStringsService.fieldsFromTriggerText},{id:"chooseADate",title:"Choose a date"}],this.numberTextMask={mask:Number,thousandsSeparator:"",signed:!0,scale:0},this.DateOptions=o.b}get datePickerValue(){return this.isAction&&this.value&&"string"!=typeof this.value?this.value.date:"string"==typeof this.value?this.value:void 0}ngOnChanges(t){if(this.isAction&&"string"!==this.value){if(t.value&&this.value){const t=this.displayOptions.find(t=>t.checked);if(this.value.date){if(!t||t&&"chooseADate"!==t.id){const e=this.displayOptions.find(t=>"chooseADate"===t.id);t&&(t.checked=!1),e.checked=!0,this.selectedDateType=e}}else if("number"==typeof this.value.days_from_now){const e=0===this.value.days_from_now&&(!t||t&&"daysAfter"!==t.id)?"onTriggerDate":"daysAfter";if(!t||t&&t.id!==e){t&&(t.checked=!1);const a=this.displayOptions.find(t=>t.id===e);a.checked=!0,this.selectedDateType=a}}}if(t.mappedValue&&this.mappedValue){const t=this.displayOptions.find(t=>t.checked);t&&(t.checked=!1);const e=this.displayOptions.find(t=>"triggerMapping"===t.id);e.checked=!0,this.selectedDateType=e}t.variables&&(this.useableVariables=this.variables.filter(t=>["date","datetime"].includes(t.info.type)||"datetime"===t.info.format).map(t=>({id:`${t.label}-${t.field_id?t.field_id:t.path?t.path.join("-"):""}`,title:t.label,checked:!!this.mappedValue&&(this.mappedValue&&this.mappedValue.path?Object(n.a)(this.mappedValue.path,t.path):this.mappedValue.field_id===t.field_id),customPayload:t}))||[],this.selectedVariableMap=this.useableVariables.find(t=>t.checked),this.useableVariables&&this.useableVariables.length?this.displayOptions.find(t=>"triggerMapping"===t.id)||this.displayOptions.push({id:"triggerMapping",title:this.automationCommonStringsService.fieldsFromTriggerText}):this.displayOptions.find(t=>"triggerMapping"===t.id)&&(this.displayOptions=this.displayOptions.filter(t=>"triggerMapping"!==t.id)))}}selectType(t){const e=this.displayOptions.find(t=>t.checked);e&&(e.checked=!1),t.checked=!0,this.selectedDateType=t,"onTriggerDate"===t.id?this.setDaysFromNow(0):(this.mappedValueChange.emit(void 0),this.valueChange.emit(void 0))}setDaysFromNow(t){this.lastTypedDaysFromNow=t,this.valueChange.emit("number"==typeof t?{days_from_now:t}:"string"==typeof t&&""!==t?{days_from_now:+t}:void 0)}setDate(t){var e;this.valueChange.emit(this.isAction?"due"===this.options.type?{date:String(t.dueDate.valueOf())}:{date:String(t.startDate.valueOf())}:String(null===(e=t.dueDate||t.startDate)||void 0===e?void 0:e.valueOf()))}selectVariable(t){this.selectedVariableMap=t,null!==t.customPayload.info&&this.mappedValueChange.emit({path:t.customPayload.path,field_id:t.customPayload.field_id})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-date"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-automation-field-value-date",!0)},inputs:{parentType:"parentType",parentId:"parentId",value:"value",mappedValue:"mappedValue",readonly:"readonly",variables:"variables",forSummary:"forSummary",options:"options",isAction:"isAction"},outputs:{valueChange:"valueChange",mappedValueChange:"mappedValueChange"},features:[i.Gb],decls:7,vars:3,consts:function(){let t,e;return t=$localize`:@@cu-automation-field-value-date__dropdown-placeholder_select-option␟0c69eedea6b007fd17090598243f1d84d8188b32␟1107130229887332199:Select Option`,e=$localize`:@@cu-automation-field-value-date__dropdown-placeholder_select-trigger-value␟d2360d77fb68d201f83a8203a596ba7f5e534231␟1521780808826373961:Select Trigger Value`,[[4,"ngIf"],[3,"selectedDate","dueTimeExists","startDate","startTimeExists","forceStart","forceDue","readOnly","showRecurring","showStart","allowClear","noTime","dateOption","onChange",4,"ngIf"],["selectOptionTmpl",""],["selectTriggerValueTmpl",""],[4,"ngIf","ngIfElse"],["SelectType",""],[1,"cu-automation-field-value-date__selection",3,"items","showSearch","autoFocusSearch","handleKeyboard","dropdownDisabled","onSelect"],[3,"selectedDate","dueTimeExists","startDate","startTimeExists","forceStart","forceDue","readOnly","showRecurring","showStart","allowClear","noTime","dateOption","onChange"],[3,"selectedDate","onChange"],["daysAfterValue",""],["type","text","inputmode","numeric",1,"cu-form__input","cu-edit-automation-dropdown",3,"ngModel","imask","unmask","ngModelChange"],["triggerMappingValue",""],[3,"items","showSearch","autoFocusSearch","handleKeyboard","onSelect"],t,e]},template:function(t,e){1&t&&(i.bd(0,k,4,2,"ng-container",0),i.bd(1,_,2,13,"cu-recurring-date-dropdown",1),i.bd(2,D,3,2,"ng-container",0),i.bd(3,S,2,0,"ng-template",null,2,i.cd),i.bd(5,O,2,0,"ng-template",null,3,i.cd)),2&t&&(i.Dc("ngIf",e.isAction),i.Ib(1),i.Dc("ngIf","chooseADate"===(null==e.selectedDateType?null:e.selectedDateType.id)||!e.isAction),i.Ib(1),i.Dc("ngIf",e.isAction))},directives:[c.q,r.a,l.a,u.a,d.a,p.c,p.p,p.s,m.a],styles:[".cu-automation-field-value-date .cu-dropdown__toggle{display:flex;align-items:center}.cu-automation-field-value-date__selection{display:flex;margin-bottom:15px}"],encapsulation:2,changeDetection:0}),t})()},"9T9z":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("IE5h"),o=a("fXoL");let n=(()=>{class t{transform(t){return Object(i.h)(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Vb({name:"isCloudAttachment",type:t,pure:!0}),t})()},"9ZxZ":function(t,e,a){"use strict";a.d(e,"a",function(){return m});var i=a("MguC"),o=a("fXoL"),n=a("ofXK"),s=a("Gvs+"),c=a("S0bY");function r(t,e){if(1&t&&(o.ac(0),o.gc(1,3),o.Zb()),2&t){const t=o.uc();o.Ib(1),o.kc(t.parent.name),o.hc(1)}}function l(t,e){if(1&t&&(o.ac(0),o.gc(1,4),o.vc(2,"spaceNameById"),o.Zb()),2&t){const t=o.uc();o.Ib(2),o.kc(o.xc(2,2,null==t.parent?null:t.parent.project_id,!0))(t.parent.name),o.hc(1)}}function u(t,e){if(1&t&&(o.ac(0),o.gc(1,7),o.vc(2,"spaceNameById"),o.Zb()),2&t){const t=o.uc(2);o.Ib(2),o.kc(o.xc(2,2,null==t.parent?null:t.parent.project_id,!0))(t.parent.name),o.hc(1)}}function d(t,e){if(1&t&&(o.ac(0),o.gc(1,8),o.vc(2,"spaceNameById"),o.vc(3,"folderNameById"),o.Zb()),2&t){const t=o.uc(2);o.Ib(3),o.kc(o.xc(2,3,null==t.parent?null:t.parent.project_id,!0))(o.yc(3,6,t.parent.category,null==t.parent?null:t.parent.project_id,!0))(t.parent.name),o.hc(1)}}function p(t,e){if(1&t&&(o.ac(0),o.bd(1,u,3,5,"ng-container",5),o.bd(2,d,4,10,"ng-template",null,6,o.cd),o.Zb()),2&t){const t=o.Rc(3),e=o.uc();o.Ib(1),o.Dc("ngIf",null==e.parent.category_details?null:e.parent.category_details.hidden)("ngIfElse",t)}}let m=(()=>{class t{constructor(){this.DataViewParentType=i.e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-automation-breadcrumb"]],inputs:{parentType:"parentType",parent:"parent"},decls:5,vars:4,consts:function(){let t,e,a,i;return t=$localize`:@@cu-automation-breadcrumb__in-project␟66694290527d60b0d6ff32b1190366841cb2a84c␟5401828591636993821: in ${"\ufffd0\ufffd"}:INTERPOLATION: `,e=$localize`:@@cu-automation-breadcrumb__in-folder␟223e237e9c42197660bd41bffaf738a79e2b896a␟7168670962025335302: in ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,a=$localize`:@@cu-automation-breadcrumb__in-folderless-list␟ded770a59c6fd3b755e7a176192804f4a7148f6e␟827158125252566018: in ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,i=$localize`:@@cu-automation-breadcrumb__in-list␟455eaad47d207dd8198a8f7516b9f20e39acce9a␟8636738912113910503: in ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: ${"\ufffd2\ufffd"}:INTERPOLATION_2: `,[[1,"cu-automation-breadcrumbs"],[3,"ngSwitch"],[4,"ngSwitchCase"],t,e,[4,"ngIf","ngIfElse"],["hasCat",""],a,i]},template:function(t,e){1&t&&(o.cc(0,"div",0),o.ac(1,1),o.bd(2,r,2,1,"ng-container",2),o.bd(3,l,3,5,"ng-container",2),o.bd(4,p,4,2,"ng-container",2),o.Zb(),o.bc()),2&t&&(o.Ib(1),o.Dc("ngSwitch",e.parentType),o.Ib(1),o.Dc("ngSwitchCase",e.DataViewParentType.Project),o.Ib(1),o.Dc("ngSwitchCase",e.DataViewParentType.Category),o.Ib(1),o.Dc("ngSwitchCase",e.DataViewParentType.Subcategory))},directives:[n.u,n.v,n.q],pipes:[s.a,c.a],styles:[".cu-automation-breadcrumbs[_ngcontent-%COMP%]{white-space:nowrap;color:#7c828d}.dark-theme[_ngcontent-%COMP%]   .cu-automation-breadcrumbs[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),t})()},"9esB":function(t,e,a){"use strict";a.d(e,"a",function(){return _});var i=a("fXoL"),o=a("Muja"),n=a("69Fr"),s=a("ofXK"),c=a("O5gs"),r=a("sgkU"),l=a("3Pt+"),u=a("8UY1");function d(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(null==t.selectedOption?null:t.selectedOption.label)}}function p(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",3),i.qc("onSelect",function(e){return i.Uc(t),i.uc(2).selectVariable(e.customPayload)}),i.cc(1,"cu-edit-automation-dropdown"),i.bd(2,d,2,1,"ng-container",4),i.bc(),i.bc()}if(2&t){const t=i.uc(2),e=i.Rc(5);i.Dc("items",t.useableVariables)("showSearch",!0)("autoFocusSearch",!0)("handleKeyboard",!0)("title",t.automationCommonStringsService.fieldsFromTriggerText),i.Ib(2),i.Dc("ngIf",null==t.selectedOption?null:t.selectedOption.label)("ngIfElse",e)}}function m(t,e){if(1&t&&(i.ac(0),i.bd(1,p,3,7,"cu-dropdown-list",2),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",t.useableVariables.length)}}function h(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"button",6),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.valueChange.emit(e.value+1)}),i.dd(2," + "),i.bc(),i.cc(3,"button",6),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.valueChange.emit(e.value-1)}),i.dd(4," - "),i.bc(),i.Zb()}}function g(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"input",5),i.qc("ngModelChange",function(e){return i.Uc(t),i.uc().setValue(e)}),i.bc(),i.bd(2,h,5,0,"ng-container",0),i.Zb()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("ngModel",t.value||0===t.value?t.value+"":"")("imask",t.numberTextMask)("unmask",!0),i.Ib(1),i.Dc("ngIf",t.value||0===t.value)}}function b(t,e){if(1&t&&(i.ac(0),i.dd(1),i.vc(2,"number"),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.ed((null==t.selectedOption?null:t.selectedOption.label)||i.wc(2,1,t.value))}}function f(t,e){if(1&t&&(i.ac(0),i.gc(1,7),i.vc(2,"number"),i.Zb()),2&t){const t=i.uc();i.Ib(2),i.kc(t.options.forStartDate?"start":"due")(i.wc(2,2,t.value)),i.hc(1)}}function k(t,e){1&t&&(i.ac(0),i.gc(1,8),i.Zb())}let _=(()=>{class t{constructor(t){this.automationCommonStringsService=t,this.mappedValueChange=new i.o,this.valueChange=new i.o,this.useableVariables=[],this.numberTextMask={mask:Number,thousandsSeparator:"",signed:!0,scale:0}}ngOnChanges(t){if(t.variables){this.useableVariables=this.variables.filter(t=>"number"===t.info.type&&[void 0,null].includes(t.info.format)).map(t=>({id:`${t.label}-${t.field_id?t.field_id:t.path?t.path.join("-"):""}`,title:t.label,checked:!!this.mappedValue&&(this.mappedValue&&this.mappedValue.path?Object(o.a)(this.mappedValue.path,t.path):this.mappedValue.field_id===t.field_id),customPayload:t}))||[],this.useableVariables.length&&this.useableVariables.push({id:"custom",title:"Manually enter",checked:"number"==typeof this.value,customPayload:{label:"Manually enter",info:null}});const t=this.useableVariables.find(t=>t.checked);t&&(this.selectedOption=t.customPayload)}}selectVariable(t){this.selectedOption=t,null!==t.info&&(this.valueChange.emit(void 0),this.mappedValueChange.emit({path:t.path,field_id:t.field_id}))}setValue(t){this.mappedValueChange.emit(void 0),this.valueChange.emit(void 0!==t?+t:void 0)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(n.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-number"]],hostAttrs:[1,"cu-automation-field-value-number"],inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",forSummary:"forSummary",variables:"variables",options:"options",mappedValue:"mappedValue"},outputs:{mappedValueChange:"mappedValueChange",valueChange:"valueChange"},features:[i.Gb],decls:6,vars:4,consts:function(){let t,e;return t=$localize`:@@cu-automation-field-value-number__change-value-message␟7d54a60ac4eab06ae2d5c982cf0a5693d8c1b9f3␟3673887624531111909:Change ${"\ufffd0\ufffd"}:INTERPOLATION: date to ${"\ufffd1\ufffd"}:INTERPOLATION_1: days from trigger date`,e=$localize`:@@cu-automation-field-value-number__dropdown-placeholder_select-number␟6fb6acecf9045e1acbd8b4d262b2fd949e1f71c2␟6748579528735359121:Select number`,[[4,"ngIf"],["selectNumberTmpl",""],[3,"items","showSearch","autoFocusSearch","handleKeyboard","title","onSelect",4,"ngIf"],[3,"items","showSearch","autoFocusSearch","handleKeyboard","title","onSelect"],[4,"ngIf","ngIfElse"],["type","text","inputmode","numeric",1,"cu-form__input","cu-edit-automation-dropdown",3,"ngModel","imask","unmask","ngModelChange"],[1,"cu-automation-field-value-number__button",3,"click"],t,e]},template:function(t,e){1&t&&(i.bd(0,m,2,1,"ng-container",0),i.bd(1,g,3,4,"ng-container",0),i.bd(2,b,3,3,"ng-container",0),i.bd(3,f,3,4,"ng-container",0),i.bd(4,k,2,0,"ng-template",null,1,i.cd)),2&t&&(i.Dc("ngIf",!e.readonly),i.Ib(1),i.Dc("ngIf",!e.readonly&&(!e.useableVariables.length||e.selectedOption&&null===(null==e.selectedOption?null:e.selectedOption.info))),i.Ib(1),i.Dc("ngIf",e.readonly&&!e.options.forDueDate&&!e.options.forStartDate),i.Ib(1),i.Dc("ngIf",e.readonly&&(e.options.forDueDate||e.options.forStartDate)))},directives:[s.q,c.a,r.a,l.c,l.p,l.s,u.a],pipes:[s.f],styles:[".cu-automation-field-value-number{display:flex}.cu-automation-field-value-number__button{height:40px;width:40px;border-radius:4px;display:flex;align-items:center;padding:0 12px;border:1px solid #e9ebf0;justify-content:center;margin-left:4px}.dark-theme .cu-automation-field-value-number__button{border-color:#1e272e}"],encapsulation:2,changeDetection:0}),t})()},"9mq+":function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("fXoL"),o=a("ofXK"),n=a("UdVN");function s(t,e){if(1&t){const t=i.dc();i.cc(0,"div",4),i.qc("click",function(){i.Uc(t);const e=i.uc();return e.onToggle.emit(!e.billable)}),i.gc(1,5),i.bc()}}let c=(()=>{class t{constructor(){this.modifier="",this.showLabel=!1,this.onToggle=new i.o}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-timer-tracker-billable"]],hostAttrs:[1,"cu-timer-tracker-billable"],inputs:{billable:"billable",modifier:"modifier",showLabel:"showLabel"},outputs:{onToggle:"onToggle"},decls:4,vars:6,consts:function(){let t;return t=$localize`:@@common_billable␟ac4a7d52ae90c598d67501c92a01b7d980c017ac␟6424085964277187610: Billable `,[[1,"cu-time-tracker-billable__container"],[1,"cu-time-tracker-billable__icon-container","cu-time-tracker-billable__lighten",3,"ngClass","click"],["icon","cu2-money",1,"cu-time-tracker-billable__icon"],["class","cu-time-tracker-billable__text",3,"click",4,"ngIf"],[1,"cu-time-tracker-billable__text",3,"click"],t]},template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"div",1),i.qc("click",function(){return e.onToggle.emit(!e.billable)}),i.Xb(2,"div",2),i.bc(),i.bd(3,s,2,0,"div",3),i.bc()),2&t&&(i.Ob("flex",e.showLabel),i.Ib(1),i.Ob("cu-time-tracker-billable__billable",e.billable),i.Dc("ngClass",e.modifier),i.Ib(2),i.Dc("ngIf",e.showLabel))},directives:[o.o,n.a,o.q],styles:['.cu-time-tracker-billable__icon{display:inline-block;width:14px;height:14px;fill:#fff}.cu-time-tracker-billable__icon-container{display:flex;align-items:center;justify-content:center;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;width:32px;height:32px;border-radius:50%;cursor:pointer;background:hsla(0,0%,100%,.1)}.cu-time-tracker-billable__icon-container:hover{transition:none}.cu-time-tracker-billable__icon-container.cu-time-tracker-billable__billable{background:#5ac7a6!important}.cu-time-tracker-billable__icon-container:not(:last-child){margin-right:8px}.cu-time-tracker-billable__icon-container.cu-time-tracker-billable__sm{width:16px;height:16px}.cu-time-tracker-billable__icon-container.cu-time-tracker-billable__sm .icon{width:12px;height:12px}.cu-time-tracker-billable__icon-container.cu-time-tracker-billable__read{cursor:default}.cu-time-tracker-billable__icon-container.darken{background-color:#b9bec7}.cu-time-tracker-billable__container.flex{display:flex;align-items:center}.cu-time-tracker-billable__text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-billable__text{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-billable__text{color:#d5d6d7}'],encapsulation:2,changeDetection:0}),t})()},AEtP:function(t,e,a){"use strict";a.d(e,"a",function(){return g});var i=a("fXoL"),o=a("LdyQ"),n=a("MJvn"),s=a("ofXK"),c=a("n+1/"),r=a("NsZK"),l=a("CRYS"),u=a("2WV7");const d=["dropdown"];function p(t,e){if(1&t&&(i.cc(0,"div",7),i.vc(1,"calcValue"),i.dd(2),i.vc(3,"calcValue"),i.bc()),2&t){const t=i.uc();i.Dc("cuTooltip",i.zc(1,2,t.total,null==t.column.calc?null:t.column.calc.func,null==t.column?null:t.column.aggregableType,null==t.column?null:t.column.customField)),i.Ib(2),i.fd(" ",i.zc(3,7,t.total,null==t.column.calc?null:t.column.calc.func,null==t.column?null:t.column.aggregableType,null==t.column?null:t.column.customField)," ")}}function m(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"cu-task-list-footer-field-calc",8),i.qc("onSave",function(e){return i.Uc(t),i.uc().saveCalc(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("calc",t.column.calc)("total",t.total)("overallTotal",t.overallTotal)("fieldType",null==t.column?null:t.column.aggregableType)("customField",null==t.column?null:t.column.customField)}}function h(t,e){1&t&&(i.cc(0,"div",9),i.gc(1,10),i.bc())}let g=(()=>{class t{constructor(){this.disabled=!1,this.onSaveCalc=new i.o}ngOnInit(){}saveCalc(t){this.onSaveCalc.emit(t),this.dropdown.close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-list-footer-field"]],viewQuery:function(t,e){if(1&t&&i.jd(d,3),2&t){let t;i.Qc(t=i.rc())&&(e.dropdown=t.first)}},hostAttrs:[1,"cu-task-list-footer-field"],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-task-list-footer-field_disabled",e.disabled)},inputs:{column:"column",disabled:"disabled",total:"total",overallTotal:"overallTotal",publicViewData:"publicViewData"},outputs:{onSaveCalc:"onSaveCalc"},decls:8,vars:6,consts:function(){let t;return t=$localize`:@@common_calculate␟40ef22d9d2f87f88cd2170be0c0304dc56bdb424␟8761180353004337406: Calculate `,[["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownDisabled"],["dropdown","dropdown"],["cuDropdownToggle",""],[1,"cu-task-list-footer-field__value"],["class","cu-task-list-footer-field__value-container","tooltipDisabledIfTextNotTruncated","true",3,"cuTooltip",4,"ngIf","ngIfElse"],[4,"cuDropdownMenu"],["noValue",""],["tooltipDisabledIfTextNotTruncated","true",1,"cu-task-list-footer-field__value-container",3,"cuTooltip"],[3,"calc","total","overallTotal","fieldType","customField","onSave"],[1,"cu-task-list-footer-field__no-value"],t]},template:function(t,e){if(1&t&&(i.cc(0,"div",0,1),i.cc(2,"div",2),i.cc(3,"div",3),i.bd(4,p,4,12,"div",4),i.bc(),i.bc(),i.bd(5,m,2,5,"div",5),i.bc(),i.bd(6,h,2,0,"ng-template",null,6,i.cd)),2&t){const t=i.Rc(7);i.Dc("dropdownCloseOnInsideClick",!1)("dropdownDisabled",e.disabled),i.Ib(3),i.Ob("cu-task-list-footer-field__value_hover",!e.publicViewData&&!e.disabled),i.Ib(1),i.Dc("ngIf",e.total&&(null==e.column.calc?null:e.column.calc.func))("ngIfElse",t)}},directives:[o.b,n.a,s.q,c.a,r.a,l.a],pipes:[u.a],styles:[".cu-task-list-footer-field__value{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:3px;height:19px}.cu-task-list-footer-field .cu-dropdown_open .cu-task-list-footer-field__value,.cu-task-list-footer-field__value_hover:hover{background:rgba(188,192,199,.3);cursor:pointer}.cu-task-list-footer-field .cu-dropdown_open .cu-task-list-footer-field__value .cu-task-list-footer-field__no-value,.cu-task-list-footer-field__value_hover:hover .cu-task-list-footer-field__no-value{opacity:1}.cu-task-list-footer-field__value-container{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#777;padding:5px;text-align:center}.dark-theme .cu-task-list-footer-field__value-container{color:#abaeb0}.cu-task-list-footer-field .cu-dropdown_open .cu-task-list-footer-field__value-container{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-footer-field .cu-dropdown_open .cu-task-list-footer-field__value-container{color:var(--theme-main-color)}}.cu-task-list-footer-field__no-value{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;text-transform:uppercase;color:#bcc0c7;padding:5px;text-align:center;opacity:0}"],encapsulation:2,changeDetection:0}),t})()},ANIu:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("fXoL"),o=a("ofXK"),n=a("NsZK"),s=a("UdVN");function c(t,e){1&t&&i.Xb(0,"div",3)}function r(t,e){1&t&&i.Xb(0,"div",4)}let l=(()=>{class t{constructor(){this.running=!1,this.modifier="",this.readonly=!1,this.disabled=!1,this.onToggle=new i.o,this.mustAddTaskText=$localize`:@@cu-time-tracker-toggle__tooltip-msg_add-task:Must add task`,this.startTimerText=$localize`:@@cu-time-tracker-toggle__tooltip-msg_start-timer:Start timer`,this.stopTimerText=$localize`:@@cu-time-tracker-toggle__tooltip-msg_stop-timer:Stop timer`}ngOnInit(){}toggleTimer(){this.readonly||this.onToggle.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-time-tracker-toggle"]],inputs:{running:"running",modifier:"modifier",readonly:"readonly",disabled:"disabled"},outputs:{onToggle:"onToggle"},decls:3,vars:8,consts:[[1,"cu-time-tracker-toggle__play-container",3,"ngClass","cuTooltip","click"],["class","cu-time-tracker-toggle__play","icon","cu2-play",4,"ngIf"],["class","cu-time-tracker-toggle__stop","icon","cu2-stop",4,"ngIf"],["icon","cu2-play",1,"cu-time-tracker-toggle__play"],["icon","cu2-stop",1,"cu-time-tracker-toggle__stop"]],template:function(t,e){1&t&&(i.cc(0,"div",0),i.qc("click",function(){return e.toggleTimer()}),i.bd(1,c,1,0,"div",1),i.bd(2,r,1,0,"div",2),i.bc()),2&t&&(i.Ob("cu-time-tracker-toggle__play-running",e.running)("disabled",e.disabled),i.Dc("ngClass",e.modifier)("cuTooltip",e.disabled?e.mustAddTaskText:e.running?e.stopTimerText:e.startTimerText),i.Ib(1),i.Dc("ngIf",!e.running),i.Ib(1),i.Dc("ngIf",e.running))},directives:[o.o,n.a,o.q,s.a],styles:[".cu-time-tracker-toggle__play[_ngcontent-%COMP%]{width:10px;height:10px}.cu-time-tracker-toggle__play-container[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;background-color:rgba(233,235,240,.6);width:32px;height:32px;border-radius:50%;cursor:pointer;margin-right:15px}.cu-time-tracker-toggle__play-container[_ngcontent-%COMP%]:hover{transition:none;background-color:rgba(233,235,240,.8)}.cu-time-tracker-toggle__play-container.cu-time-tracker-toggle__play-running[_ngcontent-%COMP%]{background-color:#fd7179!important}.cu-time-tracker-toggle__play-container.cu-time-tracker-toggle__play-running[_ngcontent-%COMP%]   .cu-time-tracker-toggle__stop[_ngcontent-%COMP%]{fill:#fff!important}.cu-time-tracker-toggle__play-container[_ngcontent-%COMP%]   .cu-time-tracker-toggle__play[_ngcontent-%COMP%]{width:6px;height:8px;fill:#7c828d}.dark-theme[_ngcontent-%COMP%]   .cu-time-tracker-toggle__play-container[_ngcontent-%COMP%]   .cu-time-tracker-toggle__play[_ngcontent-%COMP%]{fill:#384047}.cu-time-tracker-toggle__play-container[_ngcontent-%COMP%]   .cu-time-tracker-toggle__stop[_ngcontent-%COMP%]{width:6px;height:6px;fill:#7c828d}.cu-time-tracker-toggle__play-container.current[_ngcontent-%COMP%]{background-color:#fff}.cu-time-tracker-toggle__play-container.current[_ngcontent-%COMP%]   .cu-time-tracker-toggle__play[_ngcontent-%COMP%], .cu-time-tracker-toggle__play-container.current[_ngcontent-%COMP%]   .cu-time-tracker-toggle__stop[_ngcontent-%COMP%]{fill:var(--theme-main-color)}.cu-time-tracker-toggle__play-container.disabled[_ngcontent-%COMP%]{opacity:.3}"],changeDetection:0}),t})()},AXMG:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("fXoL"),o=a("Ox28");function n(t,e){1&t&&i.Yb(0)}let s=(()=>{class t{constructor(){this.readOnly=!1,this.forSummary=!1,this.overrideType=new i.o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-trigger-special-condition"]],hostAttrs:[1,"cu-automation-trigger-special-condition"],inputs:{condition:"condition",trigger:"trigger",resource:"resource",readOnly:"readOnly",forSummary:"forSummary",parentType:"parentType",parentId:"parentId",component:"component"},outputs:{overrideType:"overrideType"},decls:1,vars:1,consts:[[4,"ngxComponentOutlet"]],template:function(t,e){1&t&&i.bd(0,n,1,0,"ng-container",0),2&t&&i.Dc("ngxComponentOutlet",e.component)},directives:[o.a],styles:[".cu-automation-trigger-special-condition{min-width:0}.cu-automation-trigger-special-condition_stretch{display:flex;flex:1}.cu-automation-trigger-special-condition_stretch>:nth-child(2){flex:1}"],encapsulation:2,changeDetection:0}),t})()},AhwN:function(t,e,a){"use strict";a.d(e,"a",function(){return u});var i=a("+VAm"),o=a("kUJR"),n=a("WX5r"),s=a("K0KF"),c=a("gb9A"),r=a("ofXK"),l=a("fXoL");let u=(()=>{class t{}return t.\u0275mod=l.Ub({type:t}),t.\u0275inj=l.Tb({factory:function(e){return new(e||t)},imports:[[i.a,o.a,n.a,s.a,c.a,r.c]]}),t})()},CRYS:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("fXoL"),o=a("CgHv"),n=a("ofXK"),s=a("O5gs"),c=a("UdVN"),r=a("2WV7");function l(t,e){if(1&t){const t=i.dc();i.cc(0,"div",11),i.qc("click",function(){return i.Uc(t),i.uc().remove()}),i.bc()}}function u(t,e){if(1&t&&(i.cc(0,"div",12),i.ac(1),i.gc(2,13),i.Zb(),i.dd(3),i.vc(4,"calcValue"),i.bc()),2&t){const t=i.uc();i.Ib(3),i.fd(": ",i.zc(4,1,t.overallTotal,null==t.calc?null:t.calc.func,t.fieldType,t.customField),"\n")}}const d=[{id:"sum",title:$localize`:aggregate function item@@common_aggregate-fn--sum:Sum`},{id:"average",title:$localize`:aggregate function item@@common_aggregate-fn--average:Average`},{id:"range",title:$localize`:aggregate function item@@common_range--aggregate-fn:Range`},{id:"min",title:$localize`:@@cu-task-list-footer-field-calc__fn-menu-item_earliest-date:Earliest date`},{id:"max",title:$localize`:@@cu-task-list-footer-field-calc__fn-menu-item_latest-date:Latest date`}];let p=(()=>{class t{constructor(){this.onSave=new i.o,this.functions=[],this.units=[],this.selectedFunction=d[0]}ngOnInit(){}ngOnChanges(t){if(t.calc||t.fieldType){const t=Object(o.db)(this.fieldType);this.functions=d.filter(e=>t.includes(e.id)),this.selectedFunction=this.functions.find(t=>t.id===(this.calc&&this.calc.func))||this.functions[0]}}save(){this.onSave.emit({func:this.selectedFunction.id,unit:""})}remove(){this.onSave.emit(null)}selectFunction(t){this.selectedFunction=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-list-footer-field-calc"]],hostAttrs:[1,"cu-task-list-footer-field-calc"],inputs:{calc:"calc",total:"total",overallTotal:"overallTotal",fieldType:"fieldType",customField:"customField"},outputs:{onSave:"onSave"},features:[i.Gb],decls:12,vars:5,consts:function(){let t,e,a;return t=$localize`:@@common_calculate␟40ef22d9d2f87f88cd2170be0c0304dc56bdb424␟8761180353004337406: Calculate `,e=$localize`:@@common_calculate␟12574bd75eddac393845cde4fd33d2b1dd884323␟4964917870186482641: Calculate
`,a=$localize`:@@cu-task-list-footer-field-calc__entire-column␟73a64550de7fe49bd29203b9f46f6e016e0318a4␟7176176905341180267:Entire column`,[[1,"cu-task-list-footer-field-calc__header"],[1,"cu-task-list-footer-field-calc__header-title"],t,["class","cu-task-list-footer-field-calc__remove","icon","cu2-trash",3,"click",4,"ngIf"],[1,"cu-task-list-footer-field-calc__function",3,"items","dropdownCloseOthersOnOpen","onSelect"],["dropdownOptions",""],[1,"cu-task-list-footer-field-calc__function-name"],["icon","cu2-angle-right",1,"cu-task-list-footer-field-calc__function-down"],[1,"cu-btn","cu-task-list-footer-field-calc__save",3,"click"],e,["class","cu-task-list-footer-field-calc__total",4,"ngIf"],["icon","cu2-trash",1,"cu-task-list-footer-field-calc__remove",3,"click"],[1,"cu-task-list-footer-field-calc__total"],a]},template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"div",1),i.gc(2,2),i.bc(),i.bd(3,l,1,0,"div",3),i.bc(),i.cc(4,"cu-dropdown-list",4,5),i.qc("onSelect",function(t){return e.selectFunction(t)}),i.cc(6,"div",6),i.dd(7),i.bc(),i.Xb(8,"div",7),i.bc(),i.cc(9,"button",8),i.qc("click",function(){return e.save()}),i.gc(10,9),i.bc(),i.bd(11,u,5,6,"div",10)),2&t&&(i.Ib(3),i.Dc("ngIf",null==e.calc?null:e.calc.func),i.Ib(1),i.Dc("items",e.functions)("dropdownCloseOthersOnOpen",!1),i.Ib(3),i.fd(" ",null==e.selectedFunction?null:e.selectedFunction.title," "),i.Ib(4),i.Dc("ngIf",void 0!==e.overallTotal))},directives:[n.q,s.a,c.a],pipes:[r.a],styles:[".cu-task-list-footer-field-calc{display:block;width:170px;padding:10px 15px 0;font:400 13px Gotham Pro,Proxima Nova,arial,serif;color:#858585}.cu-task-list-footer-field-calc__header{display:flex;align-items:center;height:18px;margin-bottom:18px}.cu-task-list-footer-field-calc__header-title{flex-grow:1;text-transform:uppercase;font:500 11px Gotham Pro,Proxima Nova,arial,serif;color:#bcc0c7;white-space:nowrap}.cu-task-list-footer-field-calc__save{font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;border-radius:3px;height:30px;width:100%;margin-bottom:15px}.cu-task-list-footer-field-calc__remove{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:22px;height:24px;cursor:pointer;fill:#ff80b9;stroke:#ff80b9;padding:4px;border-radius:3px;margin-right:-4px}.cu-task-list-footer-field-calc__remove:hover{background-color:#f2f2f2}.dark-theme .cu-task-list-footer-field-calc__remove:hover{background-color:#1e272e}.cu-task-list-footer-field-calc__function .cu-dropdown__toggle{display:flex;align-items:center;font:500 13px Gotham Pro,Proxima Nova,arial,serif;border-radius:5px;border:1px solid #d0d3d9;padding:0 10px;height:30px;margin-bottom:15px}.dark-theme .cu-task-list-footer-field-calc__function .cu-dropdown__toggle{border-color:#1e272e}.cu-task-list-footer-field-calc__function .cu-dropdown__toggle:hover{background:#fafbfc}.dark-theme .cu-task-list-footer-field-calc__function .cu-dropdown__toggle:hover{background:#2b343b}.cu-task-list-footer-field-calc__function-name{flex-grow:1;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-task-list-footer-field-calc__function-name{color:#d5d6d7}.cu-task-list-footer-field-calc__function-down{fill:#7b68ee;width:16px;height:16px;transform:rotate(90deg)}@supports (--theme-main-color:#7b68ee){.cu-task-list-footer-field-calc__function-down{fill:var(--theme-main-color)}}.cu-task-list-footer-field-calc__total{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d;padding:10px 15px;margin:0 -15px;border-top:1px solid #e9ebf0}.dark-theme .cu-task-list-footer-field-calc__total{border-top-color:#1e272e}"],encapsulation:2,changeDetection:0}),t})()},"Cg+4":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("s3LH");function o(t,e){let a;if("string"==typeof t)try{a=JSON.parse(t)}catch(o){}else a=t;if(a&&a.ops&&a.ops.length){const t=new i.a(a);let o=new i.a,n=0;if(t.eachLine((t,a)=>(o=t.compose(o),o.insert("\n",a),a&&(a["table-col"]||a.cell)||n++,n<e)),o.ops.length>0&&(1!==o.ops.length||"\n"!==o.ops[0].insert))return o}}},"Cpv+":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{transform(t,e){return t&&e?t.filter(t=>t.customPayload.resourceKey===e).map(t=>Object.assign(Object.assign({},t),{customPayload:t.customPayload.action})):[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"filterToActions",type:t,pure:!0}),t})()},DDYz:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"d",function(){return o}),a.d(e,"b",function(){return s}),a.d(e,"a",function(){return c});const i=(t,e)=>{let a;const i=parseInt(t,10);return new Date(i).getFullYear()===(new Date).getFullYear()?(a="MMM D","d/m/y"===e&&(a="D MMM")):(a="MMM D Y","d/m/y"===e?a="D MMM Y":"y/m/d"===e&&(a="Y MMM D")),a},o=(t,e)=>{const a=t.name.toUpperCase(),i=e.name.toUpperCase();return a<i?-1:a>i?1:0},n=()=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let e="";for(let a=0;a<9;a++)e+=t[Math.floor(36*Math.random())];return e},s=(t,e,a)=>{const i=(new Date).getTime().toString();return Object.assign(Object.assign({},t),{billable:t.billable,end:null,tid:t.tid,description:t.description,tags:t.tags,start:i,at:i,id:n(),wid:a,user:e,duration:100,draft:!0})},c=t=>({description:t.description,billable:t.billable,tags:t.tags,tid:t.tid,start:t.start,end:t.end,stop:t.stop})},DEUT:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("QzAA"),o=a("gb9A"),n=a("aVmG"),s=a("OPBM"),c=a("KyjD"),r=a("M5QM"),l=a("K0KF"),u=a("ofXK"),d=a("fXoL");let p=(()=>{class t{}return t.\u0275mod=d.Ub({type:t}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},imports:[[u.c,l.a,r.a,c.a,s.a,n.a,o.a,i.a]]}),t})()},DKof:function(t,e,a){"use strict";var i=a("d+RR"),o=a("+Xah");e.a=function(t){return t&&t.length?Object(i.a)(t,o.a):0}},DU6r:function(t,e,a){"use strict";a.d(e,"a",function(){return I});var i=a("fXoL"),o=a("2Vo4"),n=a("itXk"),s=a("XNiG"),c=a("pLZG"),r=a("eIep"),l=a("lJxs"),u=a("1G5W"),d=a("WluX"),p=a("c3rA"),m=a("Muja"),h=a("MguC"),g=a("l7P3"),b=a("na8j"),f=a("S//e"),k=a("ofXK"),_=a("peMq");function w(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.ed(null==t.options?null:t.options.placeholder)}}function v(t,e){if(1&t&&(i.ac(0),i.cc(1,"div",6),i.bd(2,w,2,1,"ng-container",7),i.bc(),i.Zb()),2&t){const t=i.uc(),e=i.Rc(10);i.Ib(2),i.Dc("ngIf",null==t.options?null:t.options.placeholder)("ngIfElse",e)}}function y(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.ed(t.placeholder)}}function x(t,e){if(1&t&&i.bd(0,y,2,1,"ng-container",7),2&t){const t=i.uc(),e=i.Rc(12);i.Dc("ngIf",t.placeholder)("ngIfElse",e)}}function T(t,e){1&t&&(i.ac(0),i.gc(1,8),i.Zb())}let I=(()=>{class t{constructor(t,e){this.store=t,this.automationActionFacades=e,this.actions=[],this.valueChange=new i.o,this.valueInvalid=new i.o,this.parent$=new o.a(null),this.users$=this.parent$.pipe(Object(c.a)(t=>!!t),Object(r.a)(t=>(this.automationActionFacades.loadAutomationUsersIfNeeded(t),this.store.select(Object(d.b)(t.type,t.id))))),this.allowMultipleAssignees$=this.parent$.pipe(Object(c.a)(t=>!!t),Object(r.a)(t=>this.store.select(Object(p.getAutomationAllowMultipleAssigneesClickapp)(t.type,t.id)))),this.value$=new o.a([]),this.selectedUsers$=Object(n.a)([this.users$,this.value$]).pipe(Object(l.a)(([t,e])=>(t||[]).filter(t=>e.includes(t.id)))),this.valueInvalid$=Object(n.a)([this.selectedUsers$,this.value$]).pipe(Object(l.a)(([t,e])=>!!(e&&e.length>0&&0===t.length))),this.destroy$=new s.a}ngOnInit(){this.valueInvalid$.pipe(Object(c.a)(t=>!!t),Object(u.a)(this.destroy$)).subscribe(()=>{this.valueInvalid.emit({errorMessage:"All users were removed from the Workspace"})})}ngOnChanges(t){var e,a;if(t.parentId||t.parentType){const t={type:this.parentType,id:this.parentId};this.parent$.next(t),this.automationActionFacades.loadAutomationUsersIfNeeded(t)}let i;if(null===(e=this.action)||void 0===e?void 0:e.action){const t=this.action;i="create_task"===t.action.key||"create_subtask"===t.action.key?t:null===(a=this.actions)||void 0===a?void 0:a.find(t=>"subcategory"===t.action.key)}if((t.actions||t.action)&&i&&!Object(m.a)(t.actions.previousValue,t.actions.currentValue)){const e=i.inputValues.subcategory_id;e?this.updateParent({type:h.e.Subcategory,id:e}):i.inputValues.parent?this.updateParent({type:h.e.Task,id:i.inputValues.parent}):(t.actions||t.action)&&this.updateParent({type:this.parentType,id:this.parentId})}else!t.actions&&!t.action||i||this.updateParent({type:this.parentType,id:this.parentId});t.value&&this.value$.next(this.options.single?this.value?[this.value]:[]:this.value||[])}ngOnDestroy(){this.destroy$.next()}setValue(t){this.valueChange.emit(this.options.single?t.length>0?t[0].id:void 0:t.map(t=>t.id))}removeUser(t){this.valueChange.emit(this.options.single?void 0:this.value.filter(e=>e!==t.id))}updateParent(t){this.parent$.next({type:t.type,id:t.id}),this.automationActionFacades.loadAutomationUsersIfNeeded({type:t.type,id:t.id})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(g.Store),i.Wb(b.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-user"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-automation-field-value-user",!0)},inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",options:"options",action:"action",actions:"actions",placeholder:"placeholder"},outputs:{valueChange:"valueChange",valueInvalid:"valueInvalid"},features:[i.Gb],decls:13,vars:25,consts:function(){let t;return t=$localize`:@@common_anyone␟ae1f44c3d94930e46b7c5d6e8d5c53cb1936d953␟6451695144927621822:Anyone`,[[3,"users","multiChoice","showReassign","enableFirstSelection","selectedUsers","disabled","onChange"],[1,"cu-automation-field-value-user__dropdown"],[4,"ngIf"],[3,"readOnly","showUserRemover","assignIcon","multiChoice","showDropdown","modifier","avatarSize","users","onUserRemove"],["placeholderTmpl",""],["anyoneTmpl",""],[1,"cu-automation-field-value-user__placeholder"],[4,"ngIf","ngIfElse"],t]},template:function(t,e){if(1&t&&(i.cc(0,"cu-user-list-dropdown",0),i.qc("onChange",function(t){return e.setValue(t)}),i.vc(1,"async"),i.vc(2,"async"),i.vc(3,"async"),i.cc(4,"div",1),i.bd(5,v,3,2,"ng-container",2),i.vc(6,"async"),i.cc(7,"cu-user-group",3),i.qc("onUserRemove",function(t){return e.removeUser(t)}),i.vc(8,"async"),i.bc(),i.bc(),i.bc(),i.bd(9,x,1,2,"ng-template",null,4,i.cd),i.bd(11,T,2,0,"ng-template",null,5,i.cd)),2&t){let t=null;i.Dc("users",i.wc(1,15,e.users$))("multiChoice",!e.options.single&&(!e.options.useMultipleAssigneesClickapp||i.wc(2,17,e.allowMultipleAssignees$)))("showReassign",!1)("enableFirstSelection",!1)("selectedUsers",i.wc(3,19,e.selectedUsers$))("disabled",e.readonly),i.Ib(5),i.Dc("ngIf",!e.readonly&&!e.options.single&&0===(null==(t=i.wc(6,21,e.selectedUsers$))?null:t.length)&&!e.options.noPlaceholder),i.Ib(2),i.Dc("readOnly",e.readonly)("showUserRemover",!e.readonly)("assignIcon",!1)("multiChoice",!0)("showDropdown",!1)("modifier","cu-user-group_m")("avatarSize",30)("users",i.wc(8,23,e.selectedUsers$))}},directives:[f.a,k.q,_.a],pipes:[k.b],styles:['.cu-automation-field-value-user,.cu-automation-field-value-user__dropdown{display:flex;align-items:center}.cu-automation-field-value-user__placeholder{font-weight:400;font-size:12px;line-height:12px;font-family:Gotham Pro,Proxima Nova,arial,serif;margin-right:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-user__placeholder{font-family:var(--global-font-support)}}'],encapsulation:2,changeDetection:0}),t})()},DkPU:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{constructor(){this.calculateColumnsText=$localize`:@@paywall_title--list-view-column-calculation:Calculate Columns`,this.easyExportViewTitleText=$localize`:@@paywall_title--easy-export-view:Easy Export view`,this.formsViewText=$localize`:@@paywall_title--forms-view:Forms View`,this.freePlanListLimitationDescriptionText=$localize`:@@paywall_text--increased-lists-per-spaces:Upgrade to get 400 lists per Space, plus - unlimited Spaces, storage, and custom fields`,this.freePlanListLimitationText=$localize`:@@paywall_title--free-plans-lists-limitation:Whoops! Free plans are limited to 100 lists.`,this.freePlanSpacesLimitationText=$localize`:@@paywall_title--free-plan-space-limitation:Whoops! Free plans are limited to 5 Spaces.`,this.increasedListsPerSpaceText=$localize`:@@paywall_email-subject--increased-lists-per-spaces:Please upgrade ClickUp so we can have 400 lists per space`,this.personalViewsText=$localize`:@@paywall_title--personal-views:Personal views`,this.protectViewsText=$localize`:@@paywall_title--protect-views:Protect views`,this.sendRemindersText=$localize`:@@paywall_title--reminders-delegation:Send Reminders to other people`,this.sprintPointsLimitationText=$localize`:@@paywall_title--limited-sprint-points:Whoops! Free and Unlimited plans are limited to 100 uses of Sprint points.`,this.unliSprintPointsUpgradeText=$localize`:@@paywall_text--unlimited-sprint-points:Upgrade to get unlimited uses of Sprint points`,this.upgradeForUnlimitedUseSprintPointsText=$localize`:@@paywall_email-subject--unlimited-sprint-points:Please upgrade ClickUp to get unlimited uses of Sprint points.`,this.upgradeToBusinessText=$localize`:@@paywall_upgrade-button-txt--upgrade-to-business-with-price:Upgrade to Business for $9/month`,this.upgradeToUnlimitedText=$localize`:@@paywall_upgrade-button-txt--upgrade-to-unlimited-with-price:Upgrade to Unlimited for $5/month`,this.upgradeToUseDashboardsText=$localize`:@@paywall_email-subject--use-dashboards:Please upgrade ClickUp so we can use Dashboards`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},EMdj:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("f0Wu"),o=a("AMNA"),n=a("fXoL"),s=a("jJW4");let c=(()=>{class t{constructor(t){this.sharedData=t}transform(t,e=!1){return Object(o.d)(i(t).toDate(),{useShortWeekDays:e,user:this.sharedData.currentUser.value})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(s.a))},t.\u0275pipe=n.Vb({name:"relativeDate",type:t,pure:!0}),t})()},ENHh:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("fXoL"),o=a("jhN1"),n=a("S7bF");let s=(()=>{class t{constructor(t,e){this.sanitizer=t,this.helpers=e}transform(t,e="icon",a=100,i=!1){return t?this.sanitizer.bypassSecurityTrustHtml(this.helpers.linkifyString(t,e,a,i)):t}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.b),i.Wb(n.a))},t.\u0275pipe=i.Vb({name:"linkify",type:t,pure:!0}),t})()},EPTN:function(t,e,a){"use strict";a.d(e,"a",function(){return Q});var i=a("GXRk"),o=a("fXoL"),n=a("XNiG"),s=a("SxV6"),c=a("1G5W"),r=a("jJQC"),l=a("cCXi"),u=a("Jf2N"),d=a("Tm/s"),p=a("ofXK"),m=a("UdVN"),h=a("LdyQ"),g=a("MJvn"),b=a("n+1/"),f=a("NsZK"),k=a("bFKe");function _(t,e){1&t&&o.Xb(0,"div",15)}function w(t,e){if(1&t&&(o.cc(0,"span",16),o.mc(1,17),o.Xb(2,"span",16),o.jc(),o.bc()),2&t){const t=o.uc();o.Ib(2),o.kc(t.count)(t.count),o.hc(1)}}function v(t,e){1&t&&(o.cc(0,"div"),o.gc(1,18),o.bc())}function y(t,e){1&t&&o.Xb(0,"div",20)}const x=function(t){return{color:t}};function T(t,e){if(1&t&&(o.cc(0,"div",2),o.cc(1,"div",3),o.dd(2),o.bd(3,y,1,0,"div",19),o.bc(),o.bc()),2&t){const t=o.uc();o.Dc("ngStyle",o.Hc(3,x,t.selectedStatus.color)),o.Ib(2),o.fd(" ",t.selectedStatus.status," "),o.Ib(1),o.Dc("ngIf",t.selectedStatus.type===t.StatusTypes.Done)}}function I(t,e){1&t&&o.Xb(0,"div",27)}function C(t,e){if(1&t){const t=o.dc();o.cc(0,"div",24),o.qc("click",function(){o.Uc(t);const a=e.$implicit;return o.uc(2).setStatus(a)}),o.cc(1,"div",25),o.dd(2),o.bd(3,I,1,0,"div",26),o.bc(),o.bc()}if(2&t){const t=e.$implicit,a=o.uc(2);o.Dc("ngStyle",o.Hc(3,x,t.color)),o.Ib(2),o.fd(" ",t.status," "),o.Ib(1),o.Dc("ngIf",t.type===a.StatusTypes.Done)}}function D(t,e){if(1&t&&(o.cc(0,"div",21),o.cc(1,"div",22),o.bd(2,C,4,5,"div",23),o.bc(),o.bc()),2&t){const t=o.uc();o.Ib(2),o.Dc("ngForOf",t.new)("ngForTrackBy",t.trackByStatus)}}const S=function(t){return{"cu-status-map__selected-error":t}};let O=(()=>{class t{constructor(){this.count=0,this.StatusTypes=i.g,this.new=[],this.ignoreParentCount=!1,this.onChange=new o.o,this.trackByStatus=Object(r.d)("status")}ngOnInit(){this.count=(this.ignoreParentCount?0:Number(this.status.count))+Number(this.status.subtask_count),this.hasCount=!Number.isNaN(this.count)}setStatus(t){this.selectedStatus=t,this.onChange.emit({oldStatus:this.status,newStatus:t})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-status-map-row"]],inputs:{resolveAttempted:"resolveAttempted",status:"status",new:"new",ignoreParentCount:"ignoreParentCount"},outputs:{onChange:"onChange"},decls:17,vars:13,consts:function(){let t,e,a,i,n,s;return t=$localize`:@@help_tooltip-msg--done-tasks-not-overdue␟be7ba61a87a4ec3f0d970a51a30db570675d8ea0␟7672452092809471655:Done tasks are not considered overdue and will unblock any Dependencies waiting on them.`,e=$localize`:␟99eaeb47dfc7603b49c1b1076e50f5513d618804␟2997060973080862124:{VAR_PLURAL, plural, =1 {task} other {tasks}}`,e=o.lc(e,{VAR_PLURAL:"\ufffd1\ufffd"}),a=$localize`:@@cu-status-map-row__task-count␟4fa683620b88b18a1e000a65a58577e32ce6ab7f␟8039865983175527505:${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd#2\ufffd"}:START_TAG_SPAN:${e}:ICU:${"\ufffd/#2\ufffd"}:CLOSE_TAG_SPAN:`,i=$localize`:@@cu-status-map-row__dropdown-placeholder_select-status␟31785ba23e729e721918b19469fa202da59e7ddf␟8875010054899455617: Select Status `,n=$localize`:@@help_tooltip-msg--done-tasks-not-overdue␟be7ba61a87a4ec3f0d970a51a30db570675d8ea0␟7672452092809471655:Done tasks are not considered overdue and will unblock any Dependencies waiting on them.`,s=$localize`:@@help_tooltip-msg--done-tasks-not-overdue␟be7ba61a87a4ec3f0d970a51a30db570675d8ea0␟7672452092809471655:Done tasks are not considered overdue and will unblock any Dependencies waiting on them.`,[[1,"cu-status-map"],[1,"cu-status-map__items"],[1,"status-list__item","cu-status-map__status-list",3,"ngStyle"],[1,"status-list__status","cu-status-map__status-list-status"],["class","status-list__status-done","icon","status-done","cuTooltip",t,"tooltipLifeTime","15000",4,"ngIf"],[1,"cu-status-map__items-transition"],["class","cu-status-map__tasks-count",4,"ngIf"],[1,"cu-status-map__arrow"],[3,"icon"],["cuDropdown","",1,"cu-status-map__items"],["cuDropdownToggle","",1,"cu-status-map__selected",2,"width","100%",3,"ngClass"],[4,"ngIf"],["class","status-list__item cu-status-map__status-list",3,"ngStyle",4,"ngIf"],[1,"cu-status-map__arrow-down"],["class","cu-dropdown__menu status-list cu-dropdown__menu_left",4,"cuDropdownMenu"],["icon","status-done","cuTooltip",t,"tooltipLifeTime","15000",1,"status-list__status-done"],[1,"cu-status-map__tasks-count"],a,i,["class","status-list__status-done","icon","status-done","cuTooltip",n,"tooltipLifeTime","15000",4,"ngIf"],["icon","status-done","cuTooltip",n,"tooltipLifeTime","15000",1,"status-list__status-done"],[1,"cu-dropdown__menu","status-list","cu-dropdown__menu_left"],[1,"status-list__container",3,"perfectScrollbar"],["class","status-list__item",3,"ngStyle","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"status-list__item",3,"ngStyle","click"],[1,"status-list__status"],["class","status-list__status-done","icon","status-done","cuTooltip",s,"tooltipLifeTime","15000",4,"ngIf"],["icon","status-done","cuTooltip",s,"tooltipLifeTime","15000",1,"status-list__status-done"]]},template:function(t,e){1&t&&(o.cc(0,"div",0),o.cc(1,"div",1),o.cc(2,"div",2),o.cc(3,"div",3),o.dd(4),o.bc(),o.bd(5,_,1,0,"div",4),o.bc(),o.cc(6,"div",5),o.bd(7,w,3,2,"span",6),o.cc(8,"div",7),o.Xb(9,"div",8),o.bc(),o.bc(),o.bc(),o.cc(10,"div",9),o.cc(11,"div",10),o.bd(12,v,2,0,"div",11),o.bd(13,T,4,5,"div",12),o.cc(14,"div",13),o.Xb(15,"div",8),o.bc(),o.bc(),o.bd(16,D,3,2,"div",14),o.bc(),o.bc()),2&t&&(o.Ib(2),o.Dc("ngStyle",o.Hc(9,x,e.status.color)),o.Ib(2),o.fd(" ",e.status.status," "),o.Ib(1),o.Dc("ngIf",e.status.type===e.StatusTypes.Done),o.Ib(2),o.Dc("ngIf",e.hasCount),o.Ib(2),o.Dc("icon","arrow-right"),o.Ib(2),o.Dc("ngClass",o.Hc(11,S,e.resolveAttempted&&!e.status.new_status)),o.Ib(1),o.Dc("ngIf",!e.selectedStatus),o.Ib(1),o.Dc("ngIf",e.selectedStatus),o.Ib(2),o.Dc("icon","arrow-down"))},directives:[p.t,p.q,m.a,h.b,g.a,p.o,b.a,f.a,k.a,p.p],encapsulation:2}),t})();function j(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,18),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.count+t.subtaskCount)(t.count+t.subtaskCount),o.hc(1)}}function P(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,19),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.count+t.subtaskCount)(t.count+t.subtaskCount),o.hc(1)}}function A(t,e){if(1&t&&(o.ac(0),o.gc(1,22),o.Zb()),2&t){const t=o.uc(2);o.Ib(1),o.kc(t.project.name),o.hc(1)}}function $(t,e){1&t&&(o.ac(0),o.gc(1,23),o.Zb())}function R(t,e){if(1&t&&(o.cc(0,"div"),o.bd(1,A,2,1,"ng-container",20),o.bd(2,$,2,0,"ng-template",null,21,o.cd),o.bc()),2&t){const t=o.Rc(3),e=o.uc();o.Ib(1),o.Dc("ngIf",!!e.project)("ngIfElse",t)}}function F(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,24),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.list.name)(t.moveMessage),o.hc(1)}}function M(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,25),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.taskName)(t.count+t.subtaskCount),o.hc(1)}}function E(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,26),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.task.name)(t.count+t.subtaskCount),o.hc(1)}}function U(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,27),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.newProjectName)(t.project.name)(t.count+t.subtaskCount),o.hc(1)}}function L(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,28),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.count+t.subtaskCount),o.hc(1)}}function z(t,e){if(1&t&&(o.cc(0,"div"),o.gc(1,29),o.bc()),2&t){const t=o.uc();o.Ib(1),o.kc(t.list.name),o.hc(1)}}function V(t,e){1&t&&(o.ac(0),o.gc(1,41),o.Zb())}const N=function(t,e){return{color:t,"border-color":e}};function q(t,e){if(1&t&&(o.ac(0),o.mc(1,42),o.cc(2,"div",43),o.Xb(3,"div",44),o.bc(),o.jc(),o.Zb()),2&t){const t=o.uc(2);o.Ib(3),o.Dc("ngStyle",o.Ic(2,N,null==t.openStatus?null:t.openStatus.color,t.openStatusBorderColor)),o.kc(null==t.openStatus?null:t.openStatus.status),o.hc(1)}}function B(t,e){1&t&&(o.cc(0,"div",39),o.gc(1,45),o.bc())}const G=function(t){return{"cu-radio__label_one-line":t}};function X(t,e){if(1&t){const t=o.dc();o.cc(0,"div",30),o.cc(1,"div",31),o.cc(2,"div",32),o.qc("click",function(){return o.Uc(t),o.uc().mappingStatuses=!1}),o.Xb(3,"input",33),o.cc(4,"div",34),o.bd(5,V,2,0,"ng-container",20),o.bd(6,q,4,5,"ng-template",null,35,o.cd),o.bd(8,B,2,0,"div",36),o.bc(),o.bc(),o.cc(9,"div",32),o.qc("click",function(){return o.Uc(t),o.uc().mappingStatuses=!0}),o.Xb(10,"input",33),o.cc(11,"div",37),o.cc(12,"div"),o.gc(13,38),o.bc(),o.cc(14,"div",39),o.gc(15,40),o.bc(),o.bc(),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.Rc(7),e=o.uc();o.Ib(3),o.Dc("checked",!e.mappingStatuses),o.Ib(1),o.Dc("ngClass",o.Hc(6,G,!e.closed)),o.Ib(1),o.Dc("ngIf","changeListPosition"===e.type)("ngIfElse",t),o.Ib(3),o.Dc("ngIf",e.closed),o.Ib(2),o.Dc("checked",e.mappingStatuses)}}function W(t,e){if(1&t){const t=o.dc();o.cc(0,"div",52),o.cc(1,"cu-status-map-row",53),o.qc("onChange",function(e){return o.Uc(t),o.uc(2).handleStatusChange(e)}),o.bc(),o.bc()}if(2&t){const t=e.$implicit,a=o.uc(2);o.Ib(1),o.Dc("resolveAttempted",a.resolveAttempted)("ignoreParentCount","merge"===a.type)("status",t)("new",a.new)}}function H(t,e){1&t&&(o.cc(0,"div",54),o.gc(1,55),o.bc())}function Z(t,e){if(1&t&&(o.cc(0,"div"),o.cc(1,"div",46),o.cc(2,"div",47),o.gc(3,48),o.bc(),o.cc(4,"div",47),o.gc(5,49),o.bc(),o.bc(),o.cc(6,"div"),o.bd(7,W,2,4,"div",50),o.bc(),o.bd(8,H,2,0,"div",51),o.bc()),2&t){const t=o.uc();o.Ib(7),o.Dc("ngForOf",t.old)("ngForTrackBy",t.trackByStatus),o.Ib(1),o.Dc("ngIf",t.resolveAttempted)}}let Q=(()=>{class t{constructor(t,e,a,i){this.conflictService=t,this.modalService=e,this.navService=a,this.changeDetector=i,this.destroy$=new n.a,this.payload={},this.count=0,this.subtaskCount=0,this.mappingStatuses=!0,this.resolveAttempted=!1,this.closed=!1,this.loading=!1,this.trackByStatus=Object(r.d)("status"),this.onSpaceUpdate=new o.o,this.onCancel=new o.o,this.onSelect=new o.o}ngOnInit(){this.modalService.beforeCloseModal.pipe(Object(s.a)(),Object(c.a)(this.destroy$)).subscribe(()=>{this.navService.onCancelMoveSection.emit(this.section),this.onCancel.emit()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngAfterViewInit(){this.openStatus=this.new.find(t=>t.type===i.g.Open),this.openStatusBorderColor=this.checkStatusColor(this.openStatus.color)?"#828588":this.openStatus.color,"changeListPosition"===this.type&&(this.mappingStatuses=!1)}init(){this.count=this.old.reduce((t,e)=>t+parseInt(e.count,10),0),this.subtaskCount=this.old.reduce((t,e)=>t+parseInt(e.subtask_count,10),0),"moveTaskList"===this.type&&(0===this.subtaskCount?this.moveMessage=1===this.count?"this task?":"these tasks?":0===this.count?this.moveMessage=1===this.subtaskCount?"this subtask?":"these subtasks?":(this.moveMessage=1===this.count?"this task and ":"these tasks and ",this.moveMessage+=1===this.subtaskCount?"subtask?":"these subtasks?"))}cancel(){if("changeTaskListPosition"===this.type){const{res:t,createUndo:e,tasks:a,dragSelected:i}=this.payload;this.conflictService.afterBoardIndexChange.emit({res:t,createUndo:e,tasks:a,dragSelected:i})}this.modalService.close()}handleStatusChange(t){const e=this.old.find(e=>e.status===t.oldStatus.status);Object.assign(e,{new_status:t.newStatus.status}),this.resolveAttempted&&(this.resolveAttempted=!this.old.every(t=>t.new_status))}resolve(){this.resolveAttempted=!1;const t={};if(this.mappingStatuses&&!this.old.every(t=>t.new_status))return void(this.resolveAttempted=!0);this.loading=!0,this.changeDetector.detectChanges();let e=[];switch(("changeListPosition"!==this.type||this.mappingStatuses)&&(this.old.forEach(a=>{t[a.status]=this.mappingStatuses?a.new_status:this.openStatus.status,"automation"!==this.type&&e.push(...a.task_ids)}),this.payload.status_change_map&&Object.keys(this.payload.status_change_map).forEach(e=>{t[e]=this.payload.status_change_map[e]})),this.type){case"merge":this.conflictService.mergeTasks(this.mergeTasks,this.toTask,t);break;case"changeTaskListPosition":this.conflictService.changeTaskListPosition(Object.assign(Object.assign({},this.payload),{taskObjs:this.taskList,status_change_map:t}));break;case"editProject":this.conflictService.editProject(this.project.id,Object.assign(this.payload,{status_change_map:t}),e);break;case"editSubcategory":this.conflictService.editSubcategory(this.subcategory.id,Object.assign(this.payload,{status_change_map:t}),e);break;case"changeListPosition":const a={};this.mappingStatuses?a.status_change_map=t:a.copyStatusesToList=!0,this.conflictService.changeListPosition(this.listId,Object.assign(Object.assign({},this.payload),a),e);break;case"changeProjectPosition":this.conflictService.changeProjectPosition(this.project.id,Object.assign(this.payload,{status_change_map:t}),e);break;case"moveTaskList":e=this.taskList&&this.taskList.length?this.taskList.map(t=>t.id):e,this.conflictService.moveTaskList(Object.assign(this.payload,{status_change_map:t}),e,this.extra);break;case"setSubTasks":this.conflictService.setSubtasks(Object.assign(this.payload,{status_change_map:t}),e);break;case"editTask":let i;this.toTask&&(i=Object.assign({},{task:this.task,toTask:this.toTask})),this.conflictService.editTask(this.task.id,Object.assign(this.payload,{status_change_map:t}),i);break;case"editSpaceStatuses":this.onSpaceUpdate.emit(Object.assign(this.payload,{status_change_map:t}));break;case"automation":case"gantt":this.onSelect.emit(t)}}checkStatusColor(t){4===t.length&&(t+=t.slice(1,4));let e=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),i=parseInt(t.slice(5,7),16);e/=255,a/=255,i/=255;const o=(Math.max(e,a,i)+Math.min(e,a,i))/2;return o<.47&&"true"===localStorage.getItem("dark-theme")||o>.85&&"false"===localStorage.getItem("dark-theme")}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(l.a),o.Wb(u.a),o.Wb(d.a),o.Wb(o.h))},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-conflict-management"]],outputs:{onSpaceUpdate:"onSpaceUpdate",onCancel:"onCancel",onSelect:"onSelect"},decls:27,vars:15,consts:function(){let t,e,a,i,n,s,c,r,l,u,d,p,m,h,g,b,f,k,_,w,v,y,x,T,I,C,D;return t=$localize`:@@cu-conflict-management__different-statuses␟f4af18bc016ed45d5ebe7bace60ed37a6e515ec0␟7052261318529350768: Different Statuses `,e=$localize`:@@common_cancel␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,a=$localize`:button text@@common_done--button-text␟6f8344892e82bd04eecfed68cb0742542666e430␟5605033405320469846: Done `,i=$localize`:␟1f30e9e3f4bbe4175dec33c7bb83e9f8302682d9␟812580418776683813:{VAR_PLURAL, plural, =1 {this
      status} other {these statuses}}`,i=o.lc(i,{VAR_PLURAL:"\ufffd1\ufffd"}),n=$localize`:@@cu-conflict-management__when_edit-subcategory␟75bf0065c8c9fd8a4a253ebb7844814d64ff6b3d␟2419561172991789856: You changed statuses in your List and ${"\ufffd0\ufffd"}:INTERPOLATION: will be affected. How should we handle ${i}:ICU:? `,s=$localize`:␟1f30e9e3f4bbe4175dec33c7bb83e9f8302682d9␟812580418776683813:{VAR_PLURAL, plural, =1 {this
      status} other {these statuses}}`,s=o.lc(s,{VAR_PLURAL:"\ufffd1\ufffd"}),c=$localize`:@@cu-conflict-management__when_edit-project␟93e4558c47ec76be398cc592b68e4048332f2c63␟2045290013483922028: You changed statuses in your Folder and ${"\ufffd0\ufffd"}:INTERPOLATION: will be affected. How should we handle ${s}:ICU:? `,r=$localize`:@@cu-conflict-management__when_change-list-position_project␟07533c0de85e076dd587a92f13d2073b6f0e5a8e␟3895253732703480195: ${"\ufffd0\ufffd"}:INTERPOLATION: Folder has different statuses than your List. How should we handle these statuses? `,l=$localize`:@@cu-conflict-management__when_change-list-position␟93c394c0595e2df7b78caabe930999c80f684e06␟4670903479228604843: This Folder has different statuses than your List. How should we handle these statuses? `,u=$localize`:@@cu-conflict-management__when_move-task-list␟0a04b92f38491f5a71922c0dcc70b93e45842cc1␟1113709210118633561: ${"\ufffd0\ufffd"}:INTERPOLATION: has different statuses. How should we handle ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,d=$localize`:␟5488a165bf8b0821c67f87f1150037b41ea1ab09␟2237726456527885491:{VAR_PLURAL, plural, =1 {this status} other {these statuses}}`,d=o.lc(d,{VAR_PLURAL:"\ufffd1\ufffd"}),p=$localize`:@@cu-conflict-management__when_set-subtasks␟488c54f3b2bab831b626afd36152a36613e5401d␟2571643240379174349: ${"\ufffd0\ufffd"}:INTERPOLATION: has different statuses. How should we handle ${d}:ICU:? `,m=$localize`:␟5488a165bf8b0821c67f87f1150037b41ea1ab09␟2237726456527885491:{VAR_PLURAL, plural, =1 {this status} other {these statuses}}`,m=o.lc(m,{VAR_PLURAL:"\ufffd1\ufffd"}),h=$localize`:@@cu-conflict-management__when_edit-task␟94d25e19f2327143612204e8b81db39058caa19b␟6809993542877114795: ${"\ufffd0\ufffd"}:INTERPOLATION: has different statuses. How should we handle ${m}:ICU:? `,g=$localize`:␟b1dc486afbdffb222d5c16daa91501fb439ecac8␟2237726456527885491:{VAR_PLURAL, plural, =1 {this status} other {these statuses}}`,g=o.lc(g,{VAR_PLURAL:"\ufffd2\ufffd"}),b=$localize`:@@cu-conflict-management__when_change-project-position␟23742e2e19b93738efeee97fecf448318d207671␟8719247934172685764: ${"\ufffd0\ufffd"}:INTERPOLATION: has different statuses than ${"\ufffd1\ufffd"}:INTERPOLATION_1:. How should we handle ${g}:ICU:? `,f=$localize`:␟74d5c9a58e44c9f8359c08b666f78198c761a859␟5300517093764736105:{VAR_PLURAL, plural, =1 {status} other {statuses}}`,f=o.lc(f,{VAR_PLURAL:"\ufffd0\ufffd"}),k=$localize`:@@cu-conflict-management__when_edit-space-statuses␟51b225ec670a27d6ab77457795ef6511085ec531␟182113632651694804: Please map the ${f}:ICU: below for the tasks that are in conflict `,_=$localize`:@@cu-conflict-management__when_automation␟4e1af3272c5ec42aae477e1dda9b5bf26cf4c3c0␟2736446751334710713: ${"\ufffd0\ufffd"}:INTERPOLATION: has different statuses. What should we change these statuses to? `,w=$localize`:@@cu-conflict-management__form-label_map-statuses␟5e9c03f6e9d868d18e8861d241c6ca6b071216ed␟6030041597643120033: Map statuses `,v=$localize`:@@cu-conflict-management__form-label_hand-pic-statuses␟e2b9f330597d4a8c4596e18060dd52e9ef8de7bd␟8027880511206144107: Hand pick new statuses `,y=$localize`:@@cu-conflict-management__form-label_keep-list-statuses␟9b114991b68fa86004f7d21724aaececef69e3ca␟1203838143530961156: Keep the List statuses you already have `,x=$localize`:@@cu-conflict-management__form-label_change-all-to␟5cd605c1499d34eea4ef222b1964d2a8b66fa88b␟7946834079759849477: Change all to ${"\ufffd#2\ufffd"}:START_TAG_DIV_1:${"\ufffd#3\ufffd"}:START_TAG_DIV:${"[\ufffd/#3\ufffd|\ufffd/#2\ufffd]"}:CLOSE_TAG_DIV: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"[\ufffd/#3\ufffd|\ufffd/#2\ufffd]"}:CLOSE_TAG_DIV:`,x=o.lc(x),T=$localize`:@@cu-conflict-management__form-label_except-closed-tasks␟47313f1e9242818de5da8cc337affd7af3891b2f␟7411714832214313085: Except for closed tasks `,I=$localize`:@@cu-conflict-management__old-status␟2e552b832d5154ca4bace28abb3e618f522a4372␟3963672773009676419: Old Status `,C=$localize`:@@cu-conflict-management__new-status␟5601c4868757dcf0cf517c516fede7ca9baf2692␟8324708723228044745: New Status `,D=$localize`:@@cu-conflict-management__fix-conflicting-status␟6da63c9df358cb31ea48bbb8dc31411117138f31␟8540542761013221481: Whoops! Select a status for every conflicting status `,[[1,"cu-conflict-management"],[1,"cu-conflict-management__warning-img"],[1,"cu-conflict-management__warning"],t,[1,"cu-conflict-management__proceed",3,"ngSwitch"],[4,"ngSwitchCase"],["class","cu-form__row",4,"ngIf"],[4,"ngIf"],[1,"move-category__footer"],[1,"cu-btn","cu-conflict-management__cancel",3,"click"],[1,"cu-btn__text"],e,[1,"cu-btn",3,"disabled","click"],a,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"],n,c,[4,"ngIf","ngIfElse"],["noProjectTmpl",""],r,l,u,p,h,b,k,_,[1,"cu-form__row"],[1,"cu-conflict-management__statuses-container"],[1,"cu-radio",3,"click"],["type","radio",1,"cu-radio__input",3,"checked"],[1,"cu-radio__label",3,"ngClass"],["changeAllTo",""],["class","cu-conflict-management__subtext",4,"ngIf"],[1,"cu-radio__label"],w,[1,"cu-conflict-management__subtext"],v,y,x,[1,"cu-conflict-management__status-value"],[1,"cu-conflict-management__status-value-indicator",3,"ngStyle"],T,[1,"cu-conflict-management__header"],[1,"cu-status-map__items","status-labels"],I,C,["class","cu-status-map__row-container",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-status-map__error",4,"ngIf"],[1,"cu-status-map__row-container"],[3,"resolveAttempted","ignoreParentCount","status","new","onChange"],[1,"cu-status-map__error"],D]},template:function(t,e){1&t&&(o.cc(0,"div",0),o.Xb(1,"div",1),o.cc(2,"div",2),o.gc(3,3),o.bc(),o.cc(4,"div",4),o.bd(5,j,2,2,"div",5),o.bd(6,P,2,2,"div",5),o.bd(7,R,4,2,"div",5),o.bd(8,F,2,2,"div",5),o.bd(9,M,2,2,"div",5),o.bd(10,E,2,2,"div",5),o.bd(11,U,2,3,"div",5),o.bd(12,L,2,1,"div",5),o.bd(13,z,2,1,"div",5),o.bc(),o.bd(14,X,16,8,"div",6),o.bd(15,Z,9,3,"div",7),o.cc(16,"div",8),o.cc(17,"button",9),o.qc("click",function(){return e.cancel()}),o.cc(18,"div",10),o.gc(19,11),o.bc(),o.bc(),o.cc(20,"button",12),o.qc("click",function(){return e.resolve()}),o.cc(21,"div",10),o.gc(22,13),o.bc(),o.cc(23,"div",14),o.Xb(24,"div",15),o.Xb(25,"div",16),o.Xb(26,"div",17),o.bc(),o.bc(),o.bc(),o.bc()),2&t&&(o.Ib(4),o.Dc("ngSwitch",e.type),o.Ib(1),o.Dc("ngSwitchCase","editSubcategory"),o.Ib(1),o.Dc("ngSwitchCase","editProject"),o.Ib(1),o.Dc("ngSwitchCase","changeListPosition"),o.Ib(1),o.Dc("ngSwitchCase","moveTaskList"),o.Ib(1),o.Dc("ngSwitchCase","setSubtasks"),o.Ib(1),o.Dc("ngSwitchCase","editTask"),o.Ib(1),o.Dc("ngSwitchCase","changeProjectPosition"),o.Ib(1),o.Dc("ngSwitchCase","editSpaceStatuses"),o.Ib(1),o.Dc("ngSwitchCase","automation"),o.Ib(1),o.Dc("ngIf",(null==e.old?null:e.old.length)>1&&(null==e.openStatus?null:e.openStatus.status)||"changeListPosition"===e.type),o.Ib(1),o.Dc("ngIf",e.mappingStatuses),o.Ib(5),o.Ob("cu-btn_spinner",e.loading),o.Dc("disabled",e.loading))},directives:[p.u,p.v,p.q,p.o,p.t,p.p,O],encapsulation:2}),t})()},EQTS:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("K0KF"),o=a("ofXK"),n=a("gb9A"),s=a("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(e){return new(e||t)},imports:[[o.c,i.a,n.a]]}),t})()},EQdv:function(t,e,a){"use strict";a.d(e,"b",function(){return f}),a.d(e,"a",function(){return k}),a.d(e,"e",function(){return _}),a.d(e,"d",function(){return w}),a.d(e,"c",function(){return T}),a.d(e,"f",function(){return I});var i=a("l7P3"),o=a("REPF"),n=a("2eDp"),s=a("WluX"),c=a("MguC"),r=a("c3rA"),l=a("XIp8"),u=a("bjes"),d=a("NUo3");function p(t,e){if(e.length){const a={},i=e.find(e=>e.key===t.trigger.resource),o=Array.isArray(t.trigger.type)?t.trigger.type[0]:t.trigger.type;if(!o)return d.b&&d.b.error("Couldn't find automation trigger",t),null;const n=o.startsWith("cf_")?"custom_field":o,s=i.triggers.find(t=>Array.isArray(t.key)?t.key[0]:t.key===n);return{id:t.id,active:t.active,shortcut:t.shortcut,parent:{id:t.parent_id,type:t.parent_type},errors:Object.values(a).length>0?a:void 0,resource:i,trigger:{schema:s,triggerInputValues:Object.assign({},t.trigger.input),triggerConditions:[...t.trigger.conditions||[]],triggerTypeOverride:t.trigger.type},actions:t.actions.map(t=>{const a=e.find(e=>e.key===t.resource).actions.find(e=>e.key===t.type);return{id:t.id,action:a,resource:e.find(e=>e.key===t.resource),inputValues:Object.keys(t.input).reduce((e,a)=>{const i=t.input[a];if("days_from_now"===a){if("due_date"===t.type)return Object.assign(Object.assign({},e),{due_date:{days_from_now:i}});if("start_date"===t.type)return Object.assign(Object.assign({},e),{start_date:{days_from_now:i}});if("start_date"===t.type)return Object.assign(Object.assign({},e),{value:{days_from_now:i}})}if("string"==typeof i)return Object.assign(Object.assign({},e),{[a]:i});{const t=Object(l.a)(i);return Object(u.b)(t,["input","mapped_input","interpolated_input"],["inputValues","mappedInputValues","interpolatedInput"]),Object.assign(Object.assign({},e),{[a]:t})}},{}),mappedInputValues:Object(l.a)(t.mapped_input),interpolatedInput:Object(l.a)(t.interpolated_input),template:t.template?Object.assign({},t.template):null}}),dynamicValues:i.dynamic_values,conditions:i.conditions.filter(t=>t.key)}}return null}const m=Object(i.createFeatureSelector)(o.a),h=Object(i.createSelector)(m,t=>t.resources),g=Object(i.createSelector)(m,t=>t.loading.resources),b=Object(i.createSelector)(m,t=>t.entities),f=(t,e,a,o)=>Object(i.createSelector)(b,i=>{if(i[t]&&i[t][e]){const n=[...i[t][e].automations];return o&&n.push(...i[t][e].shortcuts),n.map(t=>p(t,a)).filter(t=>!!t)}}),k=(t,e,a)=>Object(i.createSelector)(b,i=>{if(i[t]&&i[t][e])return i[t][e].automations.filter(t=>t.active).length+(a?i[t][e].shortcuts.length:0)}),_=t=>Object(i.createSelector)(m,e=>e.statuses[t]),w=(t,e)=>Object(i.createSelector)(b,Object(s.b)(t,e),Object(n.d)(t,e),h,(a,i,o,n)=>{if(a[t]&&a[t][e]){const o={};return a[t][e].shortcuts.forEach(t=>{const{shortcut:e}=t,a=function(t,e){var a={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(a[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(a[i[o]]=t[i[o]])}return a}(t,["shortcut"]),s=Object.values(a.actions[0].input)[0];o[e]={automation:p(a,n),selectedUsers:(i||[]).filter(t=>s.includes(Number(t.id)))}}),o}}),v=Object(i.createSelector)(m,t=>t.loading),y=Object(i.createSelector)(m,t=>t.resourcesTiles),x=Object(i.createSelector)(m,t=>t.comingSoon),T=(t,e)=>t===c.e.Project?Object(r.getProjectById)(e):t===c.e.Category?Object(r.findCategoryById)(e):t===c.e.Subcategory?Object(r.findSubcategoryByIdInAllProjects)(e):void 0,I={getAllResources:h,getResource:t=>Object(i.createSelector)(h,e=>{const a=e.find(e=>e.key===t);return a?Object.assign({},a):void 0}),isResourceLoading:g,getAutomationParentGroups:b,getAutomationsForParent:f,getActiveAutomationCount:k,getShortcutsForParent:w,getLoading:v,getParent:T,getTriggerInfo:(t,e)=>Object(i.createSelector)(m,a=>{const i=a.triggersInformation[t];if(i)return i[e]}),getStatuses:_,getAutomationTiles:y,getComingSoon:x}},EShn:function(t,e,a){t.exports=a.p+"harvest-interval.4a583f234046b4dd058d.svg"},EtbL:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{constructor(){}nativeDragStart(t){if(!this.draggable)return t.preventDefault(),!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Rb({type:t,selectors:[["","cuDraggable",""]],hostVars:1,hostBindings:function(t,e){1&t&&i.qc("dragstart",function(t){return e.nativeDragStart(t)}),2&t&&i.Jb("draggable",e.draggable)},inputs:{draggable:["cuDraggable","draggable"]}}),t})()},FYty:function(t,e,a){"use strict";a.d(e,"a",function(){return ht});var i=a("Muja"),o=a("1Lli"),n=a("Kj3r"),s=a("/uUt"),c=a("1G5W"),r=a("pLZG"),l=a("gcYM"),u=a("fXoL"),d=a("jJQC"),p=a("5+WD"),m=a("x1J0"),h=a("N/Rp"),g=a("uyEL"),b=a("CgHv"),f=a("P3m4"),k=a("MguC"),_=a("TyK0"),w=a("TqRa"),v=a("XNiG"),y=a("xgIS"),x=a("YwDF");const T=["itemMain"],I=["dropdownList"];function C(t,e){}function D(t,e){if(1&t&&(u.ac(0),u.bd(1,C,0,0,"ng-template",8),u.Zb()),2&t){const t=u.uc();u.Ib(1),u.Dc("ngTemplateOutlet",t.headerTitleTemplate)}}function S(t,e){}function O(t,e){if(1&t){const t=u.dc();u.cc(0,"div",20),u.qc("click",function(){u.Uc(t);const e=u.uc(4);return e.selectAction(e.statusEditItem)}),u.bc()}}function j(t,e){if(1&t){const t=u.dc();u.cc(0,"div",21),u.qc("click",function(){return u.Uc(t),u.uc(4).toggleSelectAll()}),u.bc()}}function P(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-dropdown-list",22,23),u.qc("onSelect",function(e){return u.Uc(t),u.uc(4).selectAction(e)})("onOpen",function(){return u.Uc(t),u.uc(4).actionsOpen=!0})("onClose",function(){return u.Uc(t),u.uc(4).actionsOpen=!1}),u.Xb(2,"div",24),u.bc()}if(2&t){const t=u.uc(4);u.ad("color",t.bgColor),u.Dc("title",t.groupOptionsText)("items",t.actions)("menuContainerModifier","cu-task-list-header__hover-options-dropdown")}}function A(t,e){if(1&t&&(u.cc(0,"div",15),u.bd(1,O,1,0,"div",16),u.Xb(2,"div",17),u.bd(3,j,1,0,"div",18),u.Xb(4,"div",17),u.bd(5,P,3,5,"cu-dropdown-list",19),u.bc()),2&t){const t=u.uc(3);u.Ob("cu-task-list-header__hover-options-dark","status"!==t.groupBy),u.Ib(1),u.Dc("ngIf","status"===t.groupBy&&t.allowEditStatuses&&!t.isMultiListInvalid),u.Ib(2),u.Dc("ngIf",t.multiTaskEnabled&&t.hasTasks),u.Ib(2),u.Dc("ngIf",!t.isMultiListInvalid)}}const $=function(t){return{background:t}},R=function(t,e,a,i){return{data:t,totalCount:e,collapsed:a,groupId:i}};function F(t,e){if(1&t){const t=u.dc();u.cc(0,"div",11),u.cc(1,"div",12),u.qc("click",function(e){return u.Uc(t),u.uc(2).openMenuDropdown(e)})("contextmenu",function(e){return u.Uc(t),u.uc(2).openMenuDropdown(e)}),u.bd(2,S,0,0,"ng-template",13),u.bc(),u.bd(3,A,6,5,"div",14),u.bc()}if(2&t){const t=u.uc(2);u.Ob("cu-task-list-header__item-label-body-fill","status"===t.groupBy),u.Dc("ngStyle",u.Hc(6,$,"status"===t.groupBy?null==t.headerData?null:t.headerData.color:null)),u.Ib(2),u.Dc("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",u.Kc(8,R,t.headerData,t.groupTaskCount,t.collapsed,t.groupId)),u.Ib(1),u.Dc("ngIf",!t.publicViewData&&!t.isMultiListInvalid)}}function M(t,e){}const E=function(t,e){return{name:t,type:e,forNew:!1}};function U(t,e){if(1&t&&u.bd(0,M,0,0,"ng-template",13),2&t){const t=u.uc(2);u.Dc("ngTemplateOutlet",t.statusUpdateTemplate)("ngTemplateOutletContext",u.Ic(2,E,null==t.headerData?null:t.headerData.label,null==t.headerData?null:t.headerData.type))}}function L(t,e){if(1&t&&(u.cc(0,"div",9),u.bd(1,F,4,13,"div",10),u.bd(2,U,1,5,void 0,4),u.bc()),2&t){const t=u.uc();u.Ob("cu-task-list-header__item-label-active",t.actionsOpen),u.Ib(1),u.Dc("ngIf",!t.editStatusGroup),u.Ib(1),u.Dc("ngIf",t.editStatusGroup)}}function z(t,e){1&t&&(u.cc(0,"div",25),u.gc(1,26),u.bc())}function V(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-task-list-header-field",27),u.qc("onAction",function(e){u.Uc(t);const a=u.uc();return a.fieldAction(e,a.fieldName)})("click",function(){u.Uc(t);const e=u.uc();return e.disabled?e.onDisabledClick.emit():null}),u.vc(1,"i18nPlural"),u.bc()}if(2&t){const t=u.uc();u.Dc("column",t.fieldName)("ignoreGrouping",t.ignoreGrouping)("groupBy",t.groupBy)("sortBy",t.sortByColumns)("deleteOnlyOnCreate",t.deleteOnlyOnCreate)("deleteOff",t.deleteOff)("customFields",t.customFields)("fixedColumn",!0)("allowSortAll",!1)("allowSaveSort",t.allowSaveSort)("meUserId",null==t.meUser?null:t.meUser.id)("timeInStatusDisplayType",t.timeInStatusDisplayType)("publicViewData",t.publicViewData)("onlyDeleteIfOwner",t.onlyDeleteIfOwner)("canDelete",t.canDelete)("customTitle",u.xc(1,23,t.totalCount,t.taskPluralMap))("disabled",t.disabled)("cuTooltip",t.disabledTooltip)("customActions",t.fieldNameActions)("team",t.team)("project",t.project)("showDeleteColumn",t.showDeleteColumn)("allowManageCustomFields",t.fieldName.customField&&t.customFieldPermissionsMap[t.fieldName.customField.id]?t.customFieldPermissionsMap[t.fieldName.customField.id].manage_custom_fields:t.allowManageCustomFields)}}function N(t,e){1&t&&u.Xb(0,"div",35)}const q=function(){return{left:!0}};function B(t,e){1&t&&u.Xb(0,"div",36),2&t&&u.Dc("resizeEdges",u.Gc(1,q))}const G=function(){return{right:!0}};function X(t,e){1&t&&u.Xb(0,"div",37),2&t&&u.Dc("resizeEdges",u.Gc(1,G))}function W(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-task-list-header-field",31),u.qc("onAction",function(a){u.Uc(t);const i=e.$implicit;return u.uc(2).fieldAction(a,i)})("resizeStart",function(a){u.Uc(t);const i=e.$implicit;return u.uc(2).resizeStart(a,i)})("resizeEnd",function(a){u.Uc(t);const i=e.$implicit;return u.uc(2).resizeEnd(a,i)})("resizing",function(a){u.Uc(t);const i=e.$implicit;return u.uc(2).resizing(a,i)})("onRename",function(a){u.Uc(t);const i=e.$implicit;return u.uc(2).rename(a.newName,i)})("onSaveCalc",function(a){u.Uc(t);const i=e.$implicit;return u.uc(2).saveCalc(a,i)}),u.vc(1,"async"),u.bd(2,N,1,0,"div",32),u.bd(3,B,1,2,"div",33),u.bd(4,X,1,2,"div",34),u.bc()}if(2&t){const t=e.$implicit,a=e.index,i=u.uc(2);u.ad("width",(i.resizingWidths[t.name]||t.width)+"px"),u.Dc("column",t)("ignoreGrouping",i.ignoreGrouping)("meUserId",null==i.meUser?null:i.meUser.id)("customFields",i.customFields)("timeInStatusDisplayType",i.timeInStatusDisplayType)("deleteOnlyOnCreate",i.deleteOnlyOnCreate)("deleteOff",i.deleteOff)("onlyDeleteIfOwner",i.onlyDeleteIfOwner)("canDelete",i.canDelete)("groupBy",i.groupBy)("sortBy",i.sortByColumns)("cdkDragStartDelay",u.wc(1,30,i.isTouchDevice$)?500:0)("cdkDragData",t)("total",i.totals[null==t?null:t.name])("showDeleteColumn",i.showDeleteColumn)("overallTotal",i.overallTotals&&i.overallTotals[null==t?null:t.name])("allowTotals",i.allowTotals)("allowSortAll",i.allowSortAll)("allowSaveSort",i.allowSaveSort)("disabled",i.disabled)("readOnly",i.readOnly)("publicViewData",i.publicViewData)("team",i.team)("project",i.project)("allowManageCustomFields",t.customField&&i.customFieldPermissionsMap[t.customField.id]?i.customFieldPermissionsMap[t.customField.id].manage_custom_fields:i.allowManageCustomFields),u.Ib(2),u.Dc("ngIf",!i.disabled),u.Ib(1),u.Dc("ngIf",0===a&&i.leftResizingAvailable&&!i.disabled),u.Ib(1),u.Dc("ngIf",!i.disabled)}}const H=function(t){return{visibility:t}};function Z(t,e){if(1&t){const t=u.dc();u.ac(0),u.cc(1,"div",28),u.qc("cdkDropListDropped",function(e){return u.Uc(t),u.uc().drop(e)})("click",function(){u.Uc(t);const e=u.uc();return e.disabled?e.onDisabledClick.emit():null}),u.bd(2,W,5,32,"cu-task-list-header-field",29),u.bc(),u.cc(3,"cu-task-list-header-settings",30),u.qc("onToggleColumnState",function(e){return u.Uc(t),u.uc().toggleColumnState(e)})("onEditColumn",function(e){return u.Uc(t),u.uc().editColumn(e)})("onRenameCustomField",function(e){return u.Uc(t),u.uc().renameCustomField(e)})("reloadAllTasks",function(){return u.Uc(t),u.uc().reloadAllTasks.emit()})("onAddRollupColumns",function(e){return u.Uc(t),u.uc().addRollupColumns(e)})("click",function(){u.Uc(t);const e=u.uc();return e.disabled?e.onDisabledClick.emit():null}),u.bc(),u.Zb()}if(2&t){const t=u.uc();u.Ib(1),u.Ob("cu-task-list-header__items_disabled",t.disabled)("cu-task-list-header__items_empty",!(null!=t.visibleColumns&&t.visibleColumns.length)),u.Dc("cuTooltip",t.disabledTooltip)("cdkDropListDisabled",t.isResizing||t.disabled),u.Ib(1),u.Dc("ngForOf",t.visibleColumns)("ngForTrackBy",t.trackByName),u.Ib(1),u.Dc("ngStyle",u.Hc(21,H,t.publicViewData?"hidden":null))("columns",t.settingsColumns)("visibleColumns",t.visibleColumns)("disabled",t.disabled)("readOnly",t.readOnly||t.isSharingApp)("cuTooltip",t.disabledTooltip)("project",t.project)("team",t.team)("customFields",t.customFields)("showLinkedColumns",t.team.task_relationships)("addColumnTooltipTxt",t.addColumnTooltipTxt)("addColumnTemplate",t.addColumnTemplate)("enableRelationships",null==t.team?null:t.team.task_relationships)}}const Q=function(t,e){return{color:t,fill:e}},K=function(t){return{"flex-grow":t}},J="selectAll",Y="unselectAll",tt="newStatusGroup",et="cancelNewStatusGroup",at={id:"collapse",title:$localize`:@@common_collapse-group:Collapse group`,icon:"collapse-group"},it={id:"expand",title:$localize`:@@cu-task-list-header__menu-item_expand-group:Expand group`,icon:"expand-group"},ot={id:"collapseAll",title:$localize`:@@cu-task-list-header__menu-item_collapse-all-groups:Collapse All groups`,icon:"collapse-all-groups"},nt={id:J,title:$localize`:@@common_select-all:Select All`,icon:"check-all"},st={id:Y,title:$localize`:@@common_unselect-all:Unselect All`,icon:"uncheck-all"},ct=[nt,st,at,it,ot,{id:"expandAll",title:$localize`:@@cu-task-list-header__menu-item_expand-all-groups:Expand all groups`,icon:"expand-all-groups"}],rt={id:"manageDropdown",title:$localize`:@@cu-task-list-header__menu-item_manage-dropdown:Manage Dropdown`,icon:"field-drop_down"},lt={id:"editStatusGroup",title:$localize`:@@cu-task-list-header__menu-item_edit-status:Edit status`,icon:"edit"},ut={id:"manageStatusGroup",title:$localize`:@@cu-task-list-header__menu-item_manage-statuses:Manage Statuses`,icon:"cu2-manage-statuses"},dt={id:"hideStatusGroup",title:$localize`:@@cu-task-list-header__menu-item_hide-status:Hide status`,icon:"cu2-menu-hide"},pt={id:"hideDropdownItem",title:$localize`:@@cu-task-list-header__menu-item_hide-dropdown-item:Hide dropdown item`,icon:"cu2-menu-hide"},mt=[w.k?null:ut,{id:tt,title:"New status",icon:"cu2-new-2"},{id:et,title:$localize`:@@cu-task-list-header__menu-item_cancel-new-status:Cancel new status`,icon:"close"},w.k?null:{id:"-",title:"",type:m.a.Separator},w.k?null:dt].filter(Boolean);let ht=(()=>{class t{constructor(t,e){this.changeDetector=t,this.zone=e,this.statusEditItem=lt,this.actionsOpen=!1,this.destroy$=new v.a,this.width$=new v.a,this.showColumnHeaders=!0,this.showCount=!0,this.disabled=!1,this.totals={},this.overallTotals={},this.allowSortAll=!0,this.allowSaveSort=!0,this.allowCollapse=!0,this.multiTaskEnabled=!1,this.canDelete=!0,this.readOnly=!1,this.deleteOff=!1,this.deleteOnlyOnCreate=!1,this.onToggleColumnState=new u.o,this.onAction=new u.o,this.onSelectAll=new u.o,this.onCollapse=new u.o,this.onNewStatusGroup=new u.o,this.onEditStatusGroup=new u.o,this.onManageStatusGroup=new u.o,this.onHideGroup=new u.o,this.onManageDropdown=new u.o,this.onDisabledClick=new u.o,this.reloadAllTasks=new u.o,this.trackByName=Object(d.d)("name"),this.actions=[],this.isResizing=!1,this.resizingWidths={},this.fieldName=b.G,this.fieldNameActions=[],this.taskPluralMap={"=1":$localize`:@@cu-task-list-header__1-task:1 task`,other:$localize`:@@cu-task-list-header__many-tasks:# tasks`},this.leftResizingAvailable=!0,this.isTouchDevice$=_.a,this.isSharingApp=w.k,this.groupOptionsText=$localize`:@@cu-task-list-header__group-options:Group options`}ngOnInit(){this.zone.runOutsideAngular(()=>{Object(y.a)(window,"resize").pipe(Object(n.a)(1e3),Object(s.a)(),Object(c.a)(this.destroy$)).subscribe(()=>{this.resizingAvailable(!0)})}),this.width$.pipe(Object(r.a)(t=>!!t),Object(l.a)(100),Object(s.a)(i.a),Object(c.a)(this.destroy$)).subscribe(({width:t,col:e})=>{this.updateAllColumns(t,e)})}ngAfterViewInit(){this.resizingAvailable()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngOnChanges(t){if(t.taskListHeaderClicked&&t.taskListHeaderClicked.currentValue&&t.taskListHeaderClicked.currentValue.clicked&&t.taskListHeaderClicked.currentValue.groupId===this.groupId&&this.openMenuDropdown(t.taskListHeaderClicked.currentValue.e),(t.columns||t.sortBy)&&(this.columns?(this.headerColumns=this.columns.map(t=>Object.assign(Object.assign({},t),{sortBy:this.sortBy&&this.sortBy.find(e=>t.name===e.field),sortByIndex:this.sortBy&&this.sortBy.length>1&&this.sortBy.findIndex(e=>t.name===e.field)+1})),this.sortByColumns=Object(o.a)(this.headerColumns.filter(t=>!!t.sortBy),"sortByIndex"),this.visibleColumns=this.headerColumns.filter(t=>t.state===h.b.Visible),this.fieldName=this.headerColumns.find(t=>t.name===b.G.name)||b.G,this.headerColumns=this.headerColumns.filter(t=>t.name!==b.G.name),this.settingsColumns=this.headerColumns.filter(t=>t.state!==h.b.Visible)):(this.headerColumns=[],this.visibleColumns=[],this.settingsColumns=[])),this.renameNextAddedColumn&&t.columns&&t.columns.previousValue.length!==t.columns.currentValue.length){const t=this.columns.findIndex(t=>t.name===this.renameNextAddedColumn.name),e=this.columns[t+1];e.customField&&e.name!==this.renameNextAddedColumn.name&&e.state===h.b.Visible&&e.title.startsWith(this.renameNextAddedColumn.title)&&(this.renameNextAddedColumn=null,setTimeout(()=>{this.renameCustomField(e.customField)}))}if(t.selectedAll||t.collapsed||t.collapsedAll||t.newStatusGroup||t.editStatusGroup||t.allowEditStatuses||t.multiTaskEnabled||t.hasTasks){let t=ct;this.allowEditStatuses&&(t=[mt[0],mt[1],...ct,mt[3],mt[4]]),this.headerData&&"null"!==this.headerData.id&&this.headerData.groupByField&&this.headerData.groupByField.type===x.a.Dropdown&&(t=[rt,...ct,pt]),this.actions=t.filter(Boolean).filter(t=>this.hasTasks||![J,Y].includes(t.id)).filter(t=>(this.multiTaskEnabled||t.id!==J)&&(this.multiTaskEnabled||t.id!==Y)&&(this.selectedAll&&t.id!==J||!this.selectedAll&&t.id!==Y)&&(this.collapsed&&"collapse"!==t.id||!this.collapsed&&"expand"!==t.id)&&(this.collapsedAll&&"collapseAll"!==t.id||!this.collapsedAll&&"expandAll"!==t.id)&&(this.newStatusGroup&&t.id!==tt||!this.newStatusGroup&&t.id!==et)&&(this.editStatusGroup&&"editStatusGroup"!==t.id||!this.editStatusGroup&&"cancelEditStatusGroup"!==t.id)&&(t.id!==tt||t.id===tt&&this.groupBy===k.c.Status)&&("editStatusGroup"!==t.id||"editStatusGroup"===t.id&&this.groupBy===k.c.Status))}t.allowCollapse&&(this.fieldNameActions=[])}fieldAction({action:t,data:e},a){let i;switch(t){case"collapse":this.onCollapse.emit({collapse:!0,all:!1});break;case"collapseAll":this.onCollapse.emit({collapse:!0,all:!0});break;case g.a.SortAll:this.onAction.emit({action:f.a.ToggleSort,col:a,data:f.b.all});break;case g.a.SortGroup:this.onAction.emit(!0===e?{action:f.a.ToggleSort,col:a,data:f.b.only}:{action:f.a.ToggleSort,col:e||a,data:f.b.group});break;case g.a.ClearSort:this.onAction.emit({action:f.a.ClearSort,col:a});break;case g.a.ClearSortAll:this.onAction.emit({action:f.a.ClearSortAll});break;case g.a.SaveSort:this.onAction.emit({action:f.a.SaveSort,col:a});break;case g.a.Duplicate:this.renameNextAddedColumn=a,this.onAction.emit({action:f.a.Duplicate,col:a});break;case g.a.HideColumn:this.onAction.emit({action:f.a.ColumnState,col:a,data:h.b.Hidden});break;case g.a.MoveStart:i=[a,...this.columns.filter(t=>t.name!==a.name)],this.onAction.emit({action:f.a.ChangeColumns,data:i});break;case g.a.MoveEnd:i=[...this.columns.filter(t=>t.name!==a.name),a],this.onAction.emit({action:f.a.ChangeColumns,data:i});break;case g.a.ColumnSettings:this.onAction.emit({action:f.a.ColumnSettings,col:a});break;case g.a.Delete:this.onAction.emit({action:f.a.Delete,col:a});break;case g.a.InsertRight:this.onAction.emit({action:f.a.AddColumnRight,col:a});break;case g.a.InsertLeft:this.onAction.emit({action:f.a.AddColumnLeft,col:a});break;case g.a.ChangeSortOrder:this.onAction.emit({action:f.a.ChangeSortOrder,data:e.map(t=>t.name)});break;case g.a.CustomTaskIds:this.onAction.emit({action:f.a.CustomTaskIds,col:a,data:{project:this.project}});break;case g.a.SaveEditRollupColumn:this.onAction.emit({action:f.a.UpdateRollupColumn,col:a,data:this.columns.map(t=>t.name===a.name?e.updatedColumn:t)});break;case g.a.TimeInStatusDisplayType:this.onAction.emit({action:f.a.TimeInStatusDisplayType,col:a,data:{displayType:e}});break;case g.a.SetDisplayAs:this.onAction.emit({action:f.a.SetDisplayAs,col:a,data:{displayAs:e}})}}rename(t,e){this.onAction.emit({action:f.a.Rename,col:e,data:{newName:t}})}drop(t){const e=this.visibleIndexToGlobal(t.previousIndex),a=this.visibleIndexToGlobal(t.currentIndex),i=[...this.columns];Object(p.g)(i,e,a),this.onAction.emit({action:f.a.ChangeColumns,data:i})}toggleCollapseAll(){const t=this.actions.findIndex(t=>t.id===at.id);this.selectAction(-1===t?it:at)}toggleColumnState(t){this.onAction.emit({action:f.a.ColumnState,col:t,data:t.state===h.b.Hidden?h.b.Visible:h.b.Hidden})}editColumn(t){this.onAction.emit({action:f.a.ColumnSettings,col:t})}addRollupColumns(t){this.onAction.emit({action:f.a.AddRollupColumns,data:{columns:t}})}toggleSelectAll(){const t=this.actions.findIndex(t=>t.id===nt.id);this.selectAction(-1===t?st:nt)}selectAction(t){switch(t.id){case J:this.onSelectAll.emit(!0);break;case Y:this.onSelectAll.emit(!1);break;case"collapse":this.onCollapse.emit({collapse:!0,all:!1});break;case"collapseAll":this.onCollapse.emit({collapse:!0,all:!0});break;case"expand":this.onCollapse.emit({collapse:!1,all:!1});break;case"expandAll":this.onCollapse.emit({collapse:!1,all:!0});break;case tt:case et:this.onNewStatusGroup.emit(!1);break;case"editStatusGroup":case"cancelEditStatusGroup":this.onEditStatusGroup.emit(!0);break;case"manageStatusGroup":this.onManageStatusGroup.emit();break;case"hideStatusGroup":case"hideDropdownItem":this.onHideGroup.emit();break;case"manageDropdown":this.onManageDropdown.emit()}}editStatus(){this.onEditStatusGroup.emit(!0)}resizeStart(t,e){this.isResizing=!0,this.resizingWidths[e.name]=this.adjustWidth(t.rectangle.width,e),this.resizingAvailable()}resizeEnd(t,e){const a=this.adjustWidth(t.rectangle.width,e);this.isResizing=!1,this.resizingWidths[e.name]=void 0,this.resizingAvailable(),this.onAction.emit({action:f.a.ResizeColumn,col:e,data:a})}resizing(t,e){const a=this.adjustWidth(t.rectangle.width,e);this.resizingWidths[e.name]=a,this.resizingAvailable(),this.width$.next({width:a,col:e})}updateAllColumns(t,e){this.onAction.emit({action:f.a.ResizeColumn,col:e,data:t,dontSave:!0})}resizingAvailable(t=!1){requestAnimationFrame(()=>{this.itemMain&&this.changeDetector&&(this.leftResizingAvailable=this.itemMain.nativeElement.offsetWidth>=352,t&&!this.changeDetector.destroyed&&this.changeDetector.detectChanges())})}renameCustomField(t){this.headerFields.forEach(e=>{if(e.column.customField&&e.column.customField.id===t.id){const t=e.actions.find(t=>t.id===g.a.Rename);e.selectAction(t)}})}openMenuDropdown(t){t.preventDefault(),t.stopPropagation(),this.dropdownList&&this.dropdownList.dropdown.open(t)}saveCalc(t,e){this.onAction.emit({action:f.a.SetCalc,col:e,data:t})}adjustWidth(t,e){const a=Object(b.gb)(e),i=Object(b.fb)(e);return Math.min(i,Math.max(a,Math.round(t)))}visibleIndexToGlobal(t){return this.columns.findIndex(e=>e.name===this.visibleColumns[t].name)}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(u.h),u.Wb(u.B))},t.\u0275cmp=u.Qb({type:t,selectors:[["cu-task-list-header"]],viewQuery:function(t,e){if(1&t&&(u.jd(T,3),u.jd(I,1),u.jd(g.b,1)),2&t){let t;u.Qc(t=u.rc())&&(e.itemMain=t.first),u.Qc(t=u.rc())&&(e.dropdownList=t.first),u.Qc(t=u.rc())&&(e.headerFields=t)}},hostAttrs:[1,"cu-task-list-header"],hostVars:8,hostBindings:function(t,e){2&t&&(u.ad("color",e.bgColor),u.Ob("cu-task-list-header_resizing",e.isResizing)("cu-task-list-header_no-column-headers",!e.showColumnHeaders)("cu-task-list-header_first-group",e.showColumnHeaders))},inputs:{columns:"columns",customFields:"customFields",headerTemplate:"headerTemplate",headerTitleTemplate:"headerTitleTemplate",statusUpdateTemplate:"statusUpdateTemplate",headerData:"headerData",sortBy:"sortBy",groupBy:"groupBy",ignoreGrouping:"ignoreGrouping",showColumnHeaders:"showColumnHeaders",totalCount:"totalCount",showCount:"showCount",selectedAll:"selectedAll",newStatusGroup:"newStatusGroup",editStatusGroup:"editStatusGroup",collapsed:"collapsed",collapsedAll:"collapsedAll",disabled:"disabled",disabledTooltip:"disabledTooltip",bgColor:"bgColor",groupId:"groupId",groupTaskCount:"groupTaskCount",taskListHeaderClicked:"taskListHeaderClicked",totals:"totals",overallTotals:"overallTotals",timeInStatusDisplayType:"timeInStatusDisplayType",allowTotals:"allowTotals",allowSortAll:"allowSortAll",allowSaveSort:"allowSaveSort",allowCollapse:"allowCollapse",allowEditStatuses:"allowEditStatuses",multiTaskEnabled:"multiTaskEnabled",canDelete:"canDelete",onlyDeleteIfOwner:"onlyDeleteIfOwner",meUser:"meUser",readOnly:"readOnly",headerWidth:"headerWidth",publicViewData:"publicViewData",allowManageCustomFields:"allowManageCustomFields",columnSortOrder:"columnSortOrder",deleteOff:"deleteOff",deleteOnlyOnCreate:"deleteOnlyOnCreate",customFieldPermissionsMap:"customFieldPermissionsMap",isMultiListInvalid:"isMultiListInvalid",team:"team",project:"project",hasTasks:"hasTasks",addColumnTooltipTxt:"addColumnTooltipTxt",showDeleteColumn:"showDeleteColumn",addColumnTemplate:"addColumnTemplate"},outputs:{onToggleColumnState:"onToggleColumnState",onAction:"onAction",onSelectAll:"onSelectAll",onCollapse:"onCollapse",onNewStatusGroup:"onNewStatusGroup",onEditStatusGroup:"onEditStatusGroup",onManageStatusGroup:"onManageStatusGroup",onHideGroup:"onHideGroup",onManageDropdown:"onManageDropdown",onDisabledClick:"onDisabledClick",reloadAllTasks:"reloadAllTasks"},features:[u.Gb],decls:10,vars:23,consts:function(){let t,e,a,i,o;return t=$localize`:@@common_sort-by-task-name␟af898e7ed1deb575bbf5131822902fb84e5a00c4␟7263430586680703270:Sort by Task name`,e=$localize`:@@common_rename␟e26f9cf3666aace4e524b1505c9795d76d87738d␟6041115344061899387:Rename`,a=$localize`:@@common_select-all␟f8b403888712c826f65a73a5e2c8204fa95da187␟8716359834484489616:Select All`,i=$localize`:@@cu-task-list-header__group-options␟2fb3299de5fc998567ba295d9ed0b48ac400fac5␟6629633287777024613:Group options`,o=$localize`:@@cu-task-list-header__from-another-list␟bbe3cb2924fda1306a65f515136a12624ba1310c␟5938207445690497647: from another List `,[[1,"cu-task-list-header__actions"],["icon","cu2-angle-right",1,"cu-task-list-header__actions-icon",3,"ngStyle","click"],[1,"cu-task-list-header__item","cu-task-list-header__item_main",3,"ngStyle"],["itemMain",""],[4,"ngIf"],["class","cu-task-list-header__item-label",3,"cu-task-list-header__item-label-active",4,"ngIf"],["class","cu-task-list-header__item-multi-list",4,"ngIf"],["class","cu-task-list-header__item cu-task-list-header__count","sortTitle",t,3,"column","ignoreGrouping","groupBy","sortBy","deleteOnlyOnCreate","deleteOff","customFields","fixedColumn","allowSortAll","allowSaveSort","meUserId","timeInStatusDisplayType","publicViewData","onlyDeleteIfOwner","canDelete","customTitle","disabled","cuTooltip","customActions","team","project","showDeleteColumn","allowManageCustomFields","onAction","click",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"cu-task-list-header__item-label"],["class","cu-task-list-header__item-label-body",3,"cu-task-list-header__item-label-body-fill","ngStyle",4,"ngIf"],[1,"cu-task-list-header__item-label-body",3,"ngStyle"],[1,"cu-task-list-header__item-label-body-inner",3,"click","contextmenu"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cu-task-list-header__hover-options",3,"cu-task-list-header__hover-options-dark",4,"ngIf"],[1,"cu-task-list-header__hover-options"],["class","cu-task-list-header__icon-options","icon","cu2-edit","cuTooltip",e,3,"click",4,"ngIf"],[1,"cu-task-list-header__hover-options-divider"],["icon","cu2-group","class","cu-task-list-header__icon-options","cuTooltip",a,3,"click",4,"ngIf"],[3,"title","color","items","menuContainerModifier","onSelect","onOpen","onClose",4,"ngIf"],["icon","cu2-edit","cuTooltip",e,1,"cu-task-list-header__icon-options",3,"click"],["icon","cu2-group","cuTooltip",a,1,"cu-task-list-header__icon-options",3,"click"],[3,"title","items","menuContainerModifier","onSelect","onOpen","onClose"],["dropdownList",""],["icon","ellipsis","cuTooltip",i,1,"cu-task-list-header__icon-options"],[1,"cu-task-list-header__item-multi-list"],o,["sortTitle",t,1,"cu-task-list-header__item","cu-task-list-header__count",3,"column","ignoreGrouping","groupBy","sortBy","deleteOnlyOnCreate","deleteOff","customFields","fixedColumn","allowSortAll","allowSaveSort","meUserId","timeInStatusDisplayType","publicViewData","onlyDeleteIfOwner","canDelete","customTitle","disabled","cuTooltip","customActions","team","project","showDeleteColumn","allowManageCustomFields","onAction","click"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"cu-task-list-header__items",3,"cuTooltip","cdkDropListDisabled","cdkDropListDropped","click"],["class","cu-task-list-header__item","mwlResizable","","cdkDrag","",3,"column","ignoreGrouping","meUserId","customFields","timeInStatusDisplayType","deleteOnlyOnCreate","deleteOff","onlyDeleteIfOwner","canDelete","groupBy","sortBy","width","cdkDragStartDelay","cdkDragData","total","showDeleteColumn","overallTotal","allowTotals","allowSortAll","allowSaveSort","disabled","readOnly","publicViewData","team","project","allowManageCustomFields","onAction","resizeStart","resizeEnd","resizing","onRename","onSaveCalc",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle","columns","visibleColumns","disabled","readOnly","cuTooltip","project","team","customFields","showLinkedColumns","addColumnTooltipTxt","addColumnTemplate","enableRelationships","onToggleColumnState","onEditColumn","onRenameCustomField","reloadAllTasks","onAddRollupColumns","click"],["mwlResizable","","cdkDrag","",1,"cu-task-list-header__item",3,"column","ignoreGrouping","meUserId","customFields","timeInStatusDisplayType","deleteOnlyOnCreate","deleteOff","onlyDeleteIfOwner","canDelete","groupBy","sortBy","cdkDragStartDelay","cdkDragData","total","showDeleteColumn","overallTotal","allowTotals","allowSortAll","allowSaveSort","disabled","readOnly","publicViewData","team","project","allowManageCustomFields","onAction","resizeStart","resizeEnd","resizing","onRename","onSaveCalc"],["class","cu-task-list-header-field__handle","icon","handle3",4,"ngIf"],["class","cu-task-list-header-field__resizer cu-task-list-header-field__resizer_left","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["class","cu-task-list-header-field__resizer cu-task-list-header-field__resizer_right","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["icon","handle3",1,"cu-task-list-header-field__handle"],["mwlResizeHandle","",1,"cu-task-list-header-field__resizer","cu-task-list-header-field__resizer_left",3,"resizeEdges"],["mwlResizeHandle","",1,"cu-task-list-header-field__resizer","cu-task-list-header-field__resizer_right",3,"resizeEdges"]]},template:function(t,e){1&t&&(u.cc(0,"div",0),u.cc(1,"div",1),u.qc("click",function(){return e.toggleCollapseAll()}),u.vc(2,"isColorDarkerThan"),u.bc(),u.bc(),u.cc(3,"div",2,3),u.bd(5,D,2,1,"ng-container",4),u.bd(6,L,3,4,"div",5),u.bd(7,z,2,0,"div",6),u.bd(8,V,2,26,"cu-task-list-header-field",7),u.bc(),u.bd(9,Z,4,23,"ng-container",4)),2&t&&(u.ad("color",e.bgColor),u.Ib(1),u.Ob("cu-task-list-header__actions-icon_light",!u.xc(2,15,null==e.headerData?null:e.headerData.color,.86))("cu-task-list-header__actions-icon_collapsed",e.collapsed),u.Dc("ngStyle",u.Ic(18,Q,null==e.headerData?null:e.headerData.color,null==e.headerData?null:e.headerData.color)),u.Ib(2),u.ad("color",e.bgColor),u.Dc("ngStyle",u.Hc(21,K,e.showColumnHeaders?"1":"0")),u.Ib(2),u.Dc("ngIf",e.headerTitleTemplate),u.Ib(1),u.Dc("ngIf",e.headerTemplate),u.Ib(1),u.Dc("ngIf",e.isMultiListInvalid),u.Ib(1),u.Dc("ngIf",e.showCount&&e.totalCount&&!e.collapsed&&!e.publicViewData),u.Ib(1),u.Dc("ngIf",e.showColumnHeaders))},styles:['.cu-task-list-header{display:flex;flex-grow:1;width:100%;position:sticky;top:0;left:0;z-index:20;height:auto;background:#fafbfc;color:transparent}.contrast_high .cu-task-list-header{background:#eee}.dark-theme .cu-task-list-header{background:#1e272e;color:transparent}.contrast_high .cu-dashboard-table_public-sharing .cu-task-list-header,.cu-dashboard-table_public-sharing .cu-task-list-header{background:#fff}.dark-theme .cu-dashboard-table_public-sharing .cu-task-list-header{background:#1e272e}.cu-task-list-header__hover-options{display:flex;align-items:center;display:none}.cu-task-list-header__hover-options-divider{width:1px;height:20px;margin:-1px 0;background:#000;opacity:.1}.cu-task-list-header__hover-options.cu-task-list-header__hover-options-dark{margin-right:10px}.cu-task-list-header__hover-options.cu-task-list-header__hover-options-dark .cu-task-list-header__icon-options{fill:#000}.dark-theme .cu-task-list-header__hover-options.cu-task-list-header__hover-options-dark .cu-task-list-header__icon-options{fill:#fff}.cu-task-list-header__hover-options.cu-task-list-header__hover-options-dark .cu-task-list-header__hover-options-divider{display:none}.cu-task-list-header__hover-options-dropdown .cu-dropdown-list-item__separator{margin:5px 0}.cu-task-list-header__hover-options-dropdown .cu-dropdown-list__body{padding-bottom:8px}.cu-task-list-header__icon-options{width:18px;height:18px;padding:2px 4px;pointer-events:all;fill:#fff;opacity:.7;cursor:pointer}.cu-task-list-header__hover-options .cu-dropdown_open .cu-task-list-header__icon-options,.cu-task-list-header__icon-options:hover{opacity:1}.cu-list-group .cu-task-list-header:before{content:"";display:block;position:absolute;width:100%;height:100%;background:currentColor}.cu-task-list-header_selected-view-options{top:0}.cu-task-list-header_no-column-headers{width:auto}.cu-task-list-header__items{display:inline-flex;margin-top:15px}.cu-task-list-header__items_disabled{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:not-allowed}.cu-task-list-header__items_disabled:hover{background:rgba(188,192,199,.3)}.cu-task-list-header__item>span{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;display:inline-block;position:relative;text-transform:uppercase;color:#c2c2c2;font-size:11px;transition:.1s;-webkit-user-select:none;-ms-user-select:none;user-select:none;flex-shrink:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list-header__item>span{font-family:var(--global-font-support)}}.contrast_high .cu-task-list-header__item>span{color:#858585}.dark-theme .cu-task-list-header__item>span{color:#828588}.cu-task-list-header__item_id{width:72px}.cu-task-list-header__item_status{width:85px}.cu-task-list-header__item_updated{width:73px}.cu-task-list-header__item_due-date{width:100px}@media print{.cu-task-list-header__item_due-date{width:80px}}.cu-task-list-header__item_start-date{width:110px;padding-right:0;margin-right:10px}.cu-task-list-header__item_priorities{width:70px}.cu-task-list-header__item_assignees{width:80px}.cu-task-list-header__item_custom-field{width:150px;margin-right:0;justify-content:center}.cu-task-list-header__item_main{display:inline-flex;flex-grow:1;min-width:350px;background:#fafbfc;color:transparent;padding-top:25px;position:sticky;left:0;z-index:20}.contrast_high .cu-task-list-header__item_main{background:#eee}.dark-theme .cu-task-list-header__item_main{background:#1e272e;color:transparent}.contrast_high .cu-dashboard-table_public-sharing .cu-task-list-header__item_main,.cu-dashboard-table_public-sharing .cu-task-list-header__item_main{background:#fff}.dark-theme .cu-dashboard-table_public-sharing .cu-task-list-header__item_main{background:#1e272e}@media screen and (max-width:768px){.cu-task-list-header__item_main{max-width:30%;min-width:0}}.cu-list-group .cu-task-list-header__item_main:before{content:"";display:block;position:absolute;width:100%;height:100%;background:currentColor;top:0}.cu-task-list-header__item_main_no-bg,.cu-task-list-header__item_main_no-bg:before{background:transparent}.cu-task-list-header__item_main .cu-task-list-header__item_name{justify-content:flex-end}.cu-task-list-header__item_timelogged{width:100px}.cu-task-list-header__item_asc span,.cu-task-list-header__item_desc span{color:#777}.cu-task-list-header__item_asc span:after,.cu-task-list-header__item_desc span:after{content:"";display:block;position:absolute;right:0}.cu-task-list-header__item_asc span:after{height:0;width:0;border:3px solid transparent;border-bottom-color:#777;top:7px}.cu-task-list-header__item_desc span:after{height:0;width:0;border:3px solid transparent;border-top-color:#777;top:14px}.cu-task-list-header__item-label{position:relative}.cu-task-list-header__item-label-body{display:flex;align-items:center;min-height:20px}.cu-task-list-header__item-label-body .cu-group-header__header-user-name{white-space:nowrap}.cu-task-list-header__item-label-body-inner{display:flex;align-items:center}.cu-task-list-header__item-label.cu-task-list-header__item-label-active .cu-task-list-header__hover-options,.cu-task-list-header__item-label:hover .cu-task-list-header__hover-options{display:flex}.cu-task-list-header__item-label .cu-task-list-header__item-label-body.cu-task-list-header__item-label-body-fill{border:1px solid transparent;border-radius:3px 3px 0 0;margin-right:10px}.cu-task-list_collapsed .cu-task-list-header__item-label .cu-task-list-header__item-label-body.cu-task-list-header__item-label-body-fill{border-radius:3px}.cu-task-list-header__item-label .cu-task-list-header__item-label-body.cu-task-list-header__item-label-body-fill .cu-group-header__header-task-count{font-size:9px;color:#fff}.dark-theme .cu-task-list-header__item-label .cu-task-list-header__item-label-body.cu-task-list-header__item-label-body-fill .cu-group-header__header-task-count{color:#fff}.cu-task-list-header__item-multi-list{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;display:flex;align-items:center;justify-content:center;color:#7c828d;height:20px;background:rgba(185,190,199,.3);border-radius:3px 3px 0 0;padding:0 6px;margin-left:-5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list-header__item-multi-list{font-family:var(--global-font-support)}}.cu-task-list-header__count{text-transform:uppercase;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#858585;margin-top:-5px;align-self:flex-end}.cu-task-list-header__actions{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;width:20px;left:-20px;bottom:2px;background:#fafbfc;color:transparent}.contrast_high .cu-task-list-header__actions{background:#eee}.dark-theme .cu-task-list-header__actions{background:#1e272e;color:transparent}.contrast_high .cu-dashboard-table_public-sharing .cu-task-list-header__actions,.cu-dashboard-table_public-sharing .cu-task-list-header__actions{background:#fff}.dark-theme .cu-dashboard-table_public-sharing .cu-task-list-header__actions{background:#1e272e}.cu-list-group .cu-task-list-header__actions:before{content:"";display:block;position:absolute;width:100%;height:100%;background:currentColor}.cu-task-list-header__actions .cu-dropdown_open .cu-task-list-header__actions-icon{background:currentColor;fill:#fff!important}.cu-task-list-header__actions .cu-dropdown_open .cu-task-list-header__actions-icon_light{fill:rgba(0,0,0,.4)!important}.dark-theme .cu-task-list-header__actions .cu-dropdown_open .cu-task-list-header__actions-icon_light{fill:#828588!important}.cu-task-list-header__actions-icon{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;transition:background .2s cubic-bezier(.785,.135,.15,.86),transform .2s cubic-bezier(.785,.135,.15,.86);width:16px;height:16px;color:#bcc0c7;border-radius:50%;border:1px solid;padding:2px;fill:#bcc0c7;cursor:pointer;transform:rotate(90deg)}.dark-theme .cu-task-list-header__actions-icon{color:#828588;fill:#828588}.cu-task-list-header__actions-icon:hover,.cu-task-list-header__actions-icon_collapsed{background:currentColor;fill:#fff!important}.cu-task-list-header__actions-icon_light:hover{fill:rgba(0,0,0,.4)!important}.dark-theme .cu-task-list-header__actions-icon_light:hover{fill:#828588!important}.cu-task-list-header__actions-icon_collapsed{transform:rotate(0deg)}.cu-task-list-header .cu-dashboard-table__header-task-count{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;cursor:pointer;padding:0 8px;height:20px;margin:0 5px 0 0;background:#fff;border:1px solid #e9ebf0;border-radius:15px;color:#b9bec7;text-transform:uppercase;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif}.dark-theme .cu-task-list-header .cu-dashboard-table__header-task-count{background:#1e272e;border-color:#2b343b}.cu-task-list-header .cu-dashboard-table__header-task-count:hover{border-color:#7b68ee;color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header .cu-dashboard-table__header-task-count:hover{border-color:var(--theme-main-color);color:var(--theme-main-color)}}'],encapsulation:2,changeDetection:0}),t})()},FZDf:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ofXK"),o=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},FZgu:function(t,e,a){"use strict";a.d(e,"a",function(){return A});var i=a("3NTJ"),o=a("y71m"),n=a("l7P3"),s=a("m2rH"),c=a("c3rA"),r=a("Ll/8"),l=a("9jGm"),u=a("Cfvw"),d=a("dpfs"),p=a("5+tZ"),m=a("eIep"),h=a("JIr8"),g=a("zp1y"),b=a("lJxs"),f=a("vkgz"),k=a("m91o"),_=a("fXoL"),w=a("2p4s"),v=a("tk/3"),y=a("irDL");let x=(()=>{class t{constructor(t,e){this.http=t,this.errorHandler=e,this.apiUrl=w.a.apiUrl}getPointEstimatesForTask(t){return this.http.get(`${this.apiUrl}/task/${t}/pointsEstimate`).pipe(this.errorHandler.http())}editPointsEstimate(t,e){return this.http.put(`${this.apiUrl}/task/${t}`,e).pipe(this.errorHandler.http())}editAssigneePointsEstimate(t,e,a,i){const o={points:e};return a&&(o.assignees=a),i&&(o.group_assignees=i),this.http.put(`${this.apiUrl}/task/${t}/pointsEstimate`,o).pipe(this.errorHandler.http())}}return t.\u0275fac=function(e){return new(e||t)(_.nc(v.b),_.nc(y.a))},t.\u0275prov=_.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=a("76Cs");let I=(()=>{class t{constructor(t,e,a,i){this.action$=t,this.store=e,this.pointsEstimatesService=a,this.taskService=i,this.fetchTaskPointsEstimates$=Object(l.c)(()=>this.action$.pipe(Object(l.d)(d.f),Object(p.a)(t=>{const e=t.task?t.task.id:t.taskId;return this.pointsEstimatesService.getPointEstimatesForTask(e).pipe(Object(m.a)(t=>{const a=[d.h({pointsEstimatesData:t,taskId:e,replace:!0})];return Object(u.a)(a)}),Object(h.a)(this.handleError.bind(this)))}))),this.editTaskAssigneePointsEstimates$=Object(l.c)(()=>this.action$.pipe(Object(l.d)(d.c),Object(p.a)(t=>this.pointsEstimatesService.editAssigneePointsEstimate(t.task.id,t.points,t.assignees,t.groupAssignees).pipe(Object(m.a)(e=>{const a=[];return a.push(d.f({task:t.task})),a.push(d.e({task:t.task})),a.push(new s.f([{id:t.task.id,points:t.points}])),Object(u.a)(a)}),Object(h.a)(this.handleError.bind(this)))))),this.editTaskPointsEstimates$=Object(l.c)(()=>this.action$.pipe(Object(l.d)(d.d),Object(p.a)(t=>this.pointsEstimatesService.editPointsEstimate(t.task.id,{points:t.points}).pipe(Object(m.a)(e=>{const a=[];return a.push(d.h({pointsEstimatesData:{points:t.points},taskId:t.task.id})),a.push(new s.f([e.task])),a.push(d.a({taskId:t.task.id,parentId:t.task.parent})),a.push(d.e({task:t.task})),Object(u.a)(a)}),Object(h.a)(this.handleError.bind(this)))))),this.checkForAssigneeChangeEstimate$=Object(l.c)(()=>this.action$.pipe(Object(l.d)(d.a),Object(g.a)(this.store.select(c.getTeam)),Object(m.a)(([{taskId:t,parentId:e},a])=>{const i=[];return(a.points_per_assignee||a.points_estimate_rollup)&&(i.push(d.f({taskId:t})),e&&a.points_estimate_rollup&&i.push(d.f({taskId:e}))),Object(u.a)(i)}))),this.emitPointsEstimatesChange$=Object(l.c)(()=>this.action$.pipe(Object(l.d)(d.e),Object(b.a)(t=>t.task),Object(g.a)(this.store.select(c.getTeam)),Object(f.a)(([t,e])=>{t&&this.taskService.onTimeTrackChange.emit({task:t,parentId:e.points_estimate_rollup?t.parent:null})})),{dispatch:!1})}handleError(t){setTimeout(()=>{this.store.dispatch(new k.d(t))},r.a);const e=[];return e.push(new k.b(t)),t&&"POINTS_099"===t.ECODE&&e.push(d.g({val:!0})),Object(u.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(_.nc(l.a),_.nc(n.Store),_.nc(x),_.nc(T.a))},t.\u0275prov=_.Sb({token:t,factory:t.\u0275fac}),t})();var C=a("BoH5"),D=a("ofXK"),S=a("oE8l");const O=Object(n.createReducer)({pointsEstimatesDataMap:{},openPaywallModal:!1},Object(n.on)(d.h,(t,{taskId:e,pointsEstimatesData:a,replace:i})=>{const o=!i&&t.pointsEstimatesDataMap[e]?Object.assign(Object.assign({},t.pointsEstimatesDataMap[e]),a):a;return Object.assign(Object.assign({},t),{pointsEstimatesDataMap:Object.assign(Object.assign({},t.pointsEstimatesDataMap),{[e]:o})})}),Object(n.on)(d.g,(t,{val:e})=>Object.assign(Object.assign({},t),{openPaywallModal:e})),Object(n.on)(d.b,t=>Object.assign(Object.assign({},t),{pointsEstimatesDataMap:{}})));function j(t,e){return O(t,e)}var P=a("EDFS");let A=(()=>{class t{}return t.\u0275mod=_.Ub({type:t}),t.\u0275inj=_.Tb({factory:function(e){return new(e||t)},imports:[[D.c,C.a,S.a,i.a,o.a,P.d,n.StoreModule.forFeature("pointsEstimates",j),l.b.forFeature([I])]]}),t})()},"G/bC":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("XNiG"),o=a("fXoL");let n=(()=>{class t{constructor(){this.onDropTask=new i.a,this.onDropTaskToList=new i.a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},GSMa:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("LIrV"),o=a("fXoL"),n=a("SuxV");let s=(()=>{class t{constructor(t,e=[]){t.addStrategies(e.flat().flat())}}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)(o.nc(n.a),o.nc(i.a))}}),t})()},H6mt:function(t,e,a){"use strict";a.d(e,"a",function(){return C});var i=a("Rpu1"),o=a("DDYz"),n=a("fXoL"),s=a("oy6Y"),c=a("ofXK"),r=a("UdVN"),l=a("NsZK"),u=a("bNw/"),d=a("9mq+"),p=a("Ytoj"),m=a("0lvH"),h=a("VhLi");function g(t,e){if(1&t&&n.Xb(0,"div",13),2&t){const t=n.uc(2);n.Dc("cuTooltip",null==t.entry?null:t.entry.description)}}function b(t,e){if(1&t&&n.Xb(0,"cu-tags-view",20),2&t){const t=n.uc(3);n.Dc("truncate",!0)("readOnly",!0)("tags",null==t.entry?null:t.entry.tags)}}function f(t,e){if(1&t&&(n.cc(0,"div",14),n.Xb(1,"div",15),n.cc(2,"div",16),n.cc(3,"div",17),n.gc(4,18),n.bc(),n.bd(5,b,1,3,"cu-tags-view",19),n.bc(),n.bc()),2&t){const t=n.uc(2);n.Ib(5),n.Dc("ngIf",null==t.entry||null==t.entry.tags?null:t.entry.tags.length)}}function k(t,e){if(1&t&&n.Xb(0,"cu-timer-tracker-billable",21),2&t){const t=n.uc(2);n.Dc("billable",null==t.entry?null:t.entry.billable)("modifier","darken cu-time-tracker-billable__sm")}}function _(t,e){if(1&t&&(n.ac(0),n.cc(1,"div",7),n.dd(2),n.vc(3,"timeTrackerDuration"),n.bc(),n.cc(4,"div",8),n.dd(5),n.vc(6,"momentDate"),n.bc(),n.cc(7,"div",9),n.bd(8,g,1,1,"div",10),n.bd(9,f,6,1,"div",11),n.bc(),n.bd(10,k,1,2,"cu-timer-tracker-billable",12),n.Zb()),2&t){const t=n.uc();n.Ib(2),n.fd(" ",n.xc(3,5,null==t.entry?null:t.entry.duration,!0)," "),n.Ib(3),n.fd(" ",n.xc(6,8,null==t.entry?null:t.entry.start,t.startDateFormat)," "),n.Ib(3),n.Dc("ngIf",null==t.entry?null:t.entry.description),n.Ib(1),n.Dc("ngIf",null==t.entry||null==t.entry.tags?null:t.entry.tags.length),n.Ib(1),n.Dc("ngIf",null==t.entry?null:t.entry.billable)}}function w(t,e){if(1&t&&(n.cc(0,"span"),n.dd(1),n.vc(2,"momentDate"),n.bc()),2&t){const t=n.uc(2);n.Ib(1),n.fd("",n.xc(2,1,null==t.entry?null:t.entry.start,t.timeFormat)," - ")}}function v(t,e){if(1&t&&(n.cc(0,"span"),n.dd(1),n.vc(2,"momentDate"),n.bc()),2&t){const t=n.uc(2);n.Ib(1),n.fd("",n.xc(2,1,null==t.entry?null:t.entry.end,t.endDateFormat),",")}}function y(t,e){if(1&t&&(n.cc(0,"div",7),n.dd(1),n.vc(2,"timeTrackerDuration"),n.bc(),n.cc(3,"div",8),n.dd(4),n.vc(5,"momentDate"),n.bc(),n.cc(6,"div",22),n.bd(7,w,3,4,"span",6),n.bd(8,v,3,4,"span",6),n.dd(9),n.vc(10,"momentDate"),n.bc()),2&t){const t=n.uc();n.Ib(1),n.fd(" ",n.xc(2,5,null==t.entry?null:t.entry.duration,!0)," "),n.Ib(3),n.fd(" ",n.xc(5,8,null==t.entry?null:t.entry.start,t.startDateFormat)," "),n.Ib(3),n.Dc("ngIf",t.sameDay),n.Ib(1),n.Dc("ngIf",!t.sameDay),n.Ib(1),n.fd(" ",n.xc(10,11,null==t.entry?null:t.entry.end,t.timeFormat)," ")}}function x(t,e){if(1&t){const t=n.dc();n.cc(0,"cu-time-tracker-menu",23),n.qc("onDelete",function(){return n.Uc(t),n.uc().delete()})("onSave",function(e){return n.Uc(t),n.uc().saveChanges(e)})("onTimeTrackerAction",function(e){return n.Uc(t),n.uc().onTimeTrackerAction.emit(e)})("onShowPaywall",function(){return n.Uc(t),n.uc().onShowPaywall.emit()}),n.Xb(1,"div",24),n.bc()}if(2&t){const t=n.uc();n.Dc("entry",t.entry)("tags",t.tags)("defaultProject",t.defaultProject)("forTask",t.forTask)("dateFormat",t.dateFormat)("useDropdown",!t.forTask)("team",t.team)}}function T(t,e){if(1&t&&(n.cc(0,"div"),n.Xb(1,"img",25),n.bc()),2&t){const t=n.uc();n.Ib(1),n.Dc("src",t.imgs.harvest,n.Xc)}}function I(t,e){if(1&t&&(n.cc(0,"div"),n.Xb(1,"img",25),n.bc()),2&t){const t=n.uc();n.Ib(1),n.Dc("src",t.imgs.toggl,n.Xc)}}let C=(()=>{class t{constructor(t){this.timezonesService=t,this.startDateFormat="MMM D",this.endDateFormat="MMM D",this.sameDay=!1,this.imgs={harvest:a("EShn"),toggl:a("1jjG")},this.forTask=!1,this.onTimeTrackerAction=new n.o,this.onShowPaywall=new n.o}ngOnInit(){}ngOnChanges(t){(t.entry||t.dateFormat)&&(this.dateFormat&&this.entry&&this.entry.start&&(this.startDateFormat=Object(o.c)(this.entry.start,this.dateFormat),this.endDateFormat=Object(o.c)(this.entry.end,this.dateFormat)),this.entry&&this.entry.start&&(this.sameDay=this.timezonesService.createMoment(parseInt(this.entry.start,10)).isSame(this.timezonesService.createMoment(parseInt(this.entry.end,10)),"day")))}delete(){this.onTimeTrackerAction.emit({action:i.d.Delete,payload:{id:this.entry.id}})}saveChanges(t){this.onTimeTrackerAction.emit({action:i.d.Update,payload:t,entry:this.entry})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(s.a))},t.\u0275cmp=n.Qb({type:t,selectors:[["cu-time-tracker-entry"]],inputs:{entry:"entry",dateFormat:"dateFormat",timeFormat:"timeFormat",defaultProject:"defaultProject",tags:"tags",forTask:"forTask",team:"team"},outputs:{onTimeTrackerAction:"onTimeTrackerAction",onShowPaywall:"onShowPaywall"},features:[n.Gb],decls:9,vars:7,consts:function(){let t;return t=$localize`:@@common_tags-1␟26e022bd6a946344110aa6b9589b84949257e8da␟6273319318337963646: TAGS `,[[1,"cu-time-tracker-entry"],[1,"cu-time-tracker-entry__left"],[4,"ngIf","ngIfElse"],["notATask",""],[1,"cu-time-tracker-entry__right"],[3,"entry","tags","defaultProject","forTask","dateFormat","useDropdown","team","onDelete","onSave","onTimeTrackerAction","onShowPaywall",4,"ngIf"],[4,"ngIf"],[1,"cu-time-tracker-entry__duration"],[1,"cu-time-tracker-entry__start"],[1,"cu-time-tracker-entry__info-task"],["class","cu-time-tracker-entry__info-description","icon","text-l",3,"cuTooltip",4,"ngIf"],["class","cu-time-tracker-entry__info-task-tags-container",4,"ngIf"],["class","cu-time-tracker-billable",3,"billable","modifier",4,"ngIf"],["icon","text-l",1,"cu-time-tracker-entry__info-description",3,"cuTooltip"],[1,"cu-time-tracker-entry__info-task-tags-container"],["icon","cu2-tag-o",1,"cu-time-tracker-entry__info-task-tags"],[1,"cu-time-tracker-entry__info-task-tags-popup"],[1,"cu-time-tracker-entry__info-task-tags-popup-label"],t,["modifier","list-view",3,"truncate","readOnly","tags",4,"ngIf"],["modifier","list-view",3,"truncate","readOnly","tags"],[1,"cu-time-tracker-billable",3,"billable","modifier"],[1,"cu-time-tracker-entry__end"],[3,"entry","tags","defaultProject","forTask","dateFormat","useDropdown","team","onDelete","onSave","onTimeTrackerAction","onShowPaywall"],["icon","ellipsis",1,"cu-time-tracker-entry__settings"],["alt","","width","16","height","16",3,"src"]]},template:function(t,e){if(1&t&&(n.cc(0,"div",0),n.cc(1,"div",1),n.bd(2,_,11,11,"ng-container",2),n.bd(3,y,11,14,"ng-template",null,3,n.cd),n.bc(),n.cc(5,"div",4),n.bd(6,x,2,7,"cu-time-tracker-menu",5),n.bd(7,T,2,1,"div",6),n.bd(8,I,2,1,"div",6),n.bc(),n.bc()),2&t){const t=n.Rc(4);n.Ob("cu-time-tracker-entry__in-task",e.forTask),n.Ib(2),n.Dc("ngIf",e.forTask)("ngIfElse",t),n.Ib(4),n.Dc("ngIf","harvest"!==(null==e.entry?null:e.entry.source)&&"toggl"!==(null==e.entry?null:e.entry.source)),n.Ib(1),n.Dc("ngIf","harvest"===(null==e.entry?null:e.entry.source)),n.Ib(1),n.Dc("ngIf","toggl"===(null==e.entry?null:e.entry.source))}},directives:[c.q,r.a,l.a,u.a,d.a,p.a],pipes:[m.a,h.a],styles:['.cu-time-tracker-entry{display:flex;align-items:center;justify-content:space-between;padding:10px 24px;border-bottom:1px solid #e4e4e4}.dark-theme .cu-time-tracker-entry{border-color:#1e272e}.cu-time-tracker-entry__left{flex-grow:1}.cu-time-tracker-entry__left .cu-time-tracker-billable{margin-left:auto;margin-right:10px}.cu-time-tracker-entry__left,.cu-time-tracker-entry__right{display:flex;align-items:center}.cu-time-tracker-entry__right-harvest-icon{width:16px;height:16px}.cu-time-tracker-entry__in-task{padding:10px 16px;width:calc(100% + 30px);margin-left:-15px}.cu-time-tracker-entry__info-task{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#292d34;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entry__info-task{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entry__info-task{color:#d5d6d7}.cu-time-tracker-entry__info-task-tags{fill:#c4c4c4;height:13px;width:13px;position:relative;margin-left:5px}.cu-time-tracker-entry__info-task-tags-container{position:relative}.cu-time-tracker-entry__info-task-tags-container:hover .cu-time-tracker-entry__info-task-tags-popup{display:block}.cu-time-tracker-entry__info-task-tags-popup{padding:18px;background:#fff;box-shadow:0 5px 20px rgba(0,0,0,.08),0 10px 25px rgba(0,0,0,.05);border-radius:6px;position:absolute;left:-100px;top:-65px;width:200px;display:none}.dark-theme .cu-time-tracker-entry__info-task-tags-popup{background:#2b343b}.cu-time-tracker-entry__info-task-tags-popup-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:11px;color:#7c828d;opacity:.7;margin-bottom:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entry__info-task-tags-popup-label{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entry__info-task-tags-popup-label{color:#d5d6d7}.cu-time-tracker-entry__info-count{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:20px;margin-left:5px;border:1px solid #b9bec7;height:20px;width:20px;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:3px;color:#7c828d;padding-top:2px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entry__info-count{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entry__info-count{color:#d5d6d7;border-color:#1e272e}.cu-time-tracker-entry__info-description{display:inline-block;width:14px;height:14px;margin:0 4px 0 10px;stroke:#c4c4c4}.cu-time-tracker-entry__info-details{display:flex;align-items:center}.cu-time-tracker-entry__info-details .cu-time-tracker-billable__read{margin-right:8px;margin-top:-2px}.cu-time-tracker-entry__info-details .cu-time-tracker-billable__read .icon{width:10px;height:10px}.cu-time-tracker-entry__info-duration{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:12px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entry__info-duration{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entry__info-duration{color:#828588}.cu-time-tracker-entry__info-duration span{color:#7c828d;font-size:11px;display:inline-block;padding-left:3px}.dark-theme .cu-time-tracker-entry__info-duration span{color:#d5d6d7}.cu-time-tracker-entry__duration{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:16px;color:#292d34;width:62px;padding-right:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entry__duration{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entry__duration{color:#d5d6d7}.cu-time-tracker-entry__start{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:16px;color:#7c828d;width:50px;padding-right:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entry__start{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entry__start{color:#d5d6d7}.cu-time-tracker-entry__end{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:16px;color:#7c828d;flex-grow:1;padding-right:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-entry__end{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-entry__end{color:#d5d6d7}.cu-time-tracker-entry__end span{color:#7c828d}.dark-theme .cu-time-tracker-entry__end span{color:#d5d6d7}.cu-time-tracker-entry__settings{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:24px;height:24px;padding:3px 4px;fill:#b9bec7;cursor:pointer}.cu-time-tracker-entry__settings:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-time-tracker-entry__settings:hover{fill:var(--theme-main-color)}}.cu-dropdown_open .cu-time-tracker-entry__settings{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-dropdown_open .cu-time-tracker-entry__settings{fill:var(--theme-main-color)}}'],encapsulation:2,changeDetection:0}),t})()},HF2H:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("EDFS"),o=a("aVmG"),n=a("ofXK"),s=a("K0KF"),c=a("fXoL");let r=(()=>{class t{}return t.\u0275mod=c.Ub({type:t}),t.\u0275inj=c.Tb({factory:function(e){return new(e||t)},imports:[[n.c,o.a,s.a,i.d]]}),t})()},"I/Mc":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{transform(t,e){if(t&&e){const a=Array.isArray(e)?e[0]:e,i=t.find(t=>(Array.isArray(t.customPayload.key)?t.customPayload.key[0]:t.customPayload.key)===a);return i&&(i.checked=!0),t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"selectedMenuItem",type:t,pure:!0}),t})()},IP3u:function(t,e,a){"use strict";a.d(e,"a",function(){return w});var i=a("ofXK"),o=a("K0KF"),n=a("gb9A"),s=a("Dvla"),c=a("wRSl"),r=a("C8uC"),l=a("1M0N"),u=a("bFKe"),d=a("3Pt+"),p=a("mcWp"),m=a("g3Qq"),h=a("jZSK"),g=a("UhY4"),b=a("FZDf"),f=a("KyjD"),k=a("FpDt"),_=a("fXoL");let w=(()=>{class t{}return t.\u0275mod=_.Ub({type:t}),t.\u0275inj=_.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.a,s.b,c.a,r.LoaderModule,l.a,u.b,d.l,p.a,m.a,h.a,g.a,b.a,f.a,k.a]]}),t})()},JJee:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{transform(t){return $localize`:@@common_tooltip-msg--start-of-recurring:Start of recurring ${t}:startOfRecurringText:`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"startOfRecurring",type:t,pure:!0}),t})()},JWXO:function(t,e,a){"use strict";a.d(e,"a",function(){return A});var i=a("GXRk"),o=a("GkwO"),n=a("m2rH"),s=a("mfsn"),c=a("fXoL"),r=a("jJQC"),l=a("MguC"),u=a("lJxs"),d=a("2Vo4"),p=a("itXk"),m=a("dTHz"),h=a("c3rA"),g=a("l7P3"),b=a("ofXK"),f=a("wNhb"),k=a("UdVN"),_=a("NsZK");function w(t,e){}function v(t,e){if(1&t&&(c.cc(0,"div",6),c.cc(1,"div",7),c.vc(2,"async"),c.vc(3,"async"),c.Xb(4,"div",8),c.cc(5,"div",9),c.dd(6),c.bc(),c.bc(),c.bd(7,w,0,0,"ng-template",10),c.bc()),2&t){const t=c.uc(2),e=c.Rc(3),a=c.Rc(7);c.Ib(1),c.Ob("cu-subtasks-by-status-popup__count_clickable",c.wc(2,7,t.showSubtasksType$)!==t.DataViewSubtasks.StandAlone),c.Dc("cuPopover",e)("trigger",c.wc(3,9,t.useClosedForHover$)?t.task.subtasks_count?"hover":"":t.task.subtasks_open_count?"hover":"")("containerClass","popover_white"),c.Ib(5),c.fd(" ",t.countTotalNestedSubtasks," "),c.Ib(1),c.Dc("ngTemplateOutlet",a)}}function y(t,e){if(1&t&&(c.ac(0),c.bd(1,v,8,11,"div",5),c.vc(2,"async"),c.Zb()),2&t){const t=c.uc(),e=c.Rc(5);let a=null;c.Ib(1),c.Dc("ngIf",(null==(a=c.wc(2,2,t.user$))?null:a.dashboard)===t.LayoutVersion.Six)("ngIfElse",e)}}function x(t,e){if(1&t){const t=c.dc();c.cc(0,"div",11),c.qc("click",function(e){return c.Uc(t),c.uc().subtaskCreate(e)}),c.bc()}}const T=function(t){return{background:t,cursor:"inherit"}};function I(t,e){if(1&t&&(c.cc(0,"div",13),c.Xb(1,"div",14),c.cc(2,"div",15),c.cc(3,"span",16),c.dd(4),c.bc(),c.cc(5,"span",17),c.dd(6),c.bc(),c.bc(),c.bc()),2&t){const t=e.$implicit;c.Ib(1),c.Dc("ngStyle",c.Hc(3,T,t.status.color)),c.Ib(3),c.ed(t.count),c.Ib(2),c.ed(t.status.status)}}function C(t,e){if(1&t&&(c.bd(0,I,7,5,"div",12),c.vc(1,"async")),2&t){const t=c.uc();c.Dc("ngForOf",c.wc(1,2,t.filteredSubtasksByStatus$))("ngForTrackBy",t.trackByStatus)}}function D(t,e){if(1&t&&(c.cc(0,"div",19),c.vc(1,"uppercase"),c.dd(2),c.bc()),2&t){const t=e.$implicit;c.Dc("cuTooltip",c.wc(1,3,t.status.status))("ngStyle",c.Hc(5,T,t.status.color)),c.Ib(2),c.fd(" ",t.count," ")}}function S(t,e){}function O(t,e){if(1&t&&(c.bd(0,D,3,7,"div",18),c.vc(1,"async"),c.bd(2,S,0,0,"ng-template",10)),2&t){const t=c.uc(),e=c.Rc(7);c.Dc("ngForOf",c.wc(1,3,t.filteredSubtasksByStatus$))("ngForTrackBy",t.trackByStatus),c.Ib(2),c.Dc("ngTemplateOutlet",e)}}function j(t,e){if(1&t){const t=c.dc();c.cc(0,"div",21),c.vc(1,"async"),c.cc(2,"div",22),c.qc("click",function(e){return c.Uc(t),c.uc(2).subtaskCreate(e)}),c.bc(),c.bc()}if(2&t){const t=c.uc(2);let e=null;c.Ob("cu-subtasks-by-status-popup__count-add_block",(null==(e=c.wc(1,3,t.user$))?null:e.dashboard)!==t.LayoutVersion.Six),c.Ib(2),c.Dc("icon","cu2-close-2")}}function P(t,e){if(1&t&&c.bd(0,j,3,5,"div",20),2&t){const t=c.uc();c.Dc("ngIf",(t.permissions&&(null==t.permissions?null:t.permissions.can_create_tasks)||!t.permissions&&(null==t.task||null==t.task.permissions?null:t.task.permissions.can_create_tasks))&&t.showCreateIcon&&t.countTotalNestedSubtasks)}}let A=(()=>{class t{constructor(t){this.store=t,this.trackByStatus=Object(r.d)("status"),this.subtasksByStatus$=new d.a(null),this.useShowClosed$=new d.a(!1),this.showClosed$=new d.a(!1),this.showCreateIcon=!1,this.useShowClosed=!1,this.showClosed=!1,this.subtaskCreateClicked=new c.o,this.user$=this.store.select(h.getUser),this.boardSubtasksMap$=this.store.select(s.s),this.subtasks$=this.store.select(s.M),this.showSubtasksType$=this.store.select(o.qb).pipe(Object(u.a)(t=>t&&t.settings&&t.settings.showSubtasksType)),this.showClosedSubtasks$=this.store.select(o.W),this.useClosedForHover$=Object(p.a)([this.showClosedSubtasks$,this.useShowClosed$,this.showClosed$]).pipe(Object(u.a)(([t,e,a])=>e?a:t)),this.filteredSubtasksByStatus$=Object(p.a)([this.useClosedForHover$,this.subtasksByStatus$]).pipe(Object(u.a)(([t,e])=>e?t?e:e.filter(t=>t.status.type!==i.g.Closed):[])),this.DataViewSubtasks=l.h,this.LayoutVersion=m.b}ngOnChanges(t){t.subtasksByStatus&&this.subtasksByStatus$.next(this.subtasksByStatus),(t.showClosed||t.useShowClosed)&&(this.showClosed$.next(this.showClosed),this.useShowClosed$.next(this.useShowClosed))}subtaskCreate(t){t.preventDefault(),t.stopPropagation(),this.store.dispatch(new n.h),this.subtaskCreateClicked.emit(this.task)}}return t.\u0275fac=function(e){return new(e||t)(c.Wb(g.Store))},t.\u0275cmp=c.Qb({type:t,selectors:[["cu-subtasks-by-status-popup"]],hostAttrs:[1,"cu-subtasks-by-status-popup"],hostVars:2,hostBindings:function(t,e){2&t&&c.Ob("cu-subtasks-by-status-popup_no-subtasks",!e.countTotalNestedSubtasks)},inputs:{countTotalNestedSubtasks:"countTotalNestedSubtasks",task:"task",showCreateIcon:"showCreateIcon",subtasksByStatus:"subtasksByStatus",useShowClosed:"useShowClosed",showClosed:"showClosed",permissions:"permissions"},outputs:{subtaskCreateClicked:"subtaskCreateClicked"},features:[c.Gb],decls:8,vars:2,consts:function(){let t,e;return t=$localize`:@@common_create-subtask␟e43dba15996361783cc1b2514bc91afc03b12dd1␟5739298932347687314:Create subtask`,e=$localize`:@@common_create-subtask␟e43dba15996361783cc1b2514bc91afc03b12dd1␟5739298932347687314:Create subtask`,[[4,"ngIf"],["data-no-drag","","class","cu-subtasks-by-status-popup__add","icon","cu2-subtask-plus","cuTooltip",t,3,"click",4,"ngIf"],["nestedSubtaskStatusesPopover",""],["colorBlocksSubtaskStyle",""],["createSubtask",""],["class","cu-subtasks-by-status-popup__wrapper",4,"ngIf","ngIfElse"],[1,"cu-subtasks-by-status-popup__wrapper"],["popoverDelay","500",1,"cu-subtasks-by-status-popup__count",3,"cuPopover","trigger","containerClass"],["data-no-drag","","icon","cu2-subtask",1,"cu-subtasks-by-status-popup__count-icon"],[1,"cu-subtasks-by-status-popup__count-value"],[3,"ngTemplateOutlet"],["data-no-drag","","icon","cu2-subtask-plus","cuTooltip",t,1,"cu-subtasks-by-status-popup__add",3,"click"],["class","cu-subtasks-by-status-popup__badge",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-subtasks-by-status-popup__badge"],[1,"cu-subtasks-by-status-popup__badge-color",3,"ngStyle"],["spellcheck","false",1,"cu-subtasks-by-status-popup__badge-title"],[1,"cu-subtasks-by-status-popup__badge-count"],[1,"cu-subtasks-by-status-popup__badge-name"],["class","cu-subtasks-by-status-popup__block",3,"cuTooltip","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-subtasks-by-status-popup__block",3,"cuTooltip","ngStyle"],["class","cu-subtasks-by-status-popup__count-add",3,"cu-subtasks-by-status-popup__count-add_block",4,"ngIf"],[1,"cu-subtasks-by-status-popup__count-add"],["cuTooltip",e,1,"cu-subtasks-by-status-popup__count-add-btn",3,"icon","click"]]},template:function(t,e){1&t&&(c.bd(0,y,3,4,"ng-container",0),c.bd(1,x,1,0,"div",1),c.bd(2,C,2,4,"ng-template",null,2,c.cd),c.bd(4,O,3,5,"ng-template",null,3,c.cd),c.bd(6,P,1,1,"ng-template",null,4,c.cd)),2&t&&(c.Dc("ngIf",e.countTotalNestedSubtasks),c.Ib(1),c.Dc("ngIf",(e.permissions&&(null==e.permissions?null:e.permissions.can_create_tasks)||!e.permissions&&(null==e.task||null==e.task.permissions?null:e.task.permissions.can_create_tasks))&&e.showCreateIcon&&!e.countTotalNestedSubtasks))},directives:[b.q,f.a,k.a,b.x,_.a,b.p,b.t],pipes:[b.b,b.B],styles:['.cu-subtasks-by-status-popup{position:relative;display:inline-flex;height:20px;margin:-4px 0}.cu-subtasks-by-status-popup:hover .cu-subtasks-by-status-popup__count-add{display:flex}.cu-subtasks-by-status-popup_no-subtasks{display:none}.cu-task-row__container:hover .cu-subtasks-by-status-popup_no-subtasks,.task-todo-item .lv-subtask__outer:hover .cu-subtasks-by-status-popup_no-subtasks{display:inline-block}.cu-panel-board__footer_left .cu-subtasks-by-status-popup,.cu-task-row-main__link-text .cu-subtasks-by-status-popup{z-index:15}.task-todo-item__name-text-inner .cu-subtasks-by-status-popup{z-index:10}.cu-panel-board__footer_left .cu-subtasks-by-status-popup{transform:none}.cu-subtasks-by-status-popup__wrapper{height:100%;font:11px/11px Gotham Pro,Proxima Nova,arial,serif;padding:0 2px;display:flex;align-items:center;cursor:default;margin-right:5px;border-radius:4px;transform:translateY(0);background:#fff;border:1px solid #e9ebf0;fill:#7c828d}.dark-theme .cu-subtasks-by-status-popup__wrapper{background:#2b343b;border-color:#1e272e;fill:#b9bec7}.cu-task-row-main .cu-subtasks-by-status-popup__wrapper{transform:translateY(3px)}.cu-subtasks-by-status-popup__count{display:flex;align-items:center}.cu-subtasks-by-status-popup__count_clickable:hover{cursor:pointer}.cu-subtasks-by-status-popup__count_clickable:hover .cu-subtasks-by-status-popup__count-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-subtasks-by-status-popup__count_clickable:hover .cu-subtasks-by-status-popup__count-icon{fill:var(--theme-main-color)}}.cu-subtasks-by-status-popup__count_clickable:hover .cu-subtasks-by-status-popup__count-value{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-subtasks-by-status-popup__count_clickable:hover .cu-subtasks-by-status-popup__count-value{color:var(--theme-main-color)}}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-subtasks-by-status-popup__count:hover{cursor:default}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-subtasks-by-status-popup__count:hover .cu-subtasks-by-status-popup__count-icon{fill:#7c828d}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-subtasks-by-status-popup__count:hover .cu-subtasks-by-status-popup__count-icon{fill:#b9bec7}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-subtasks-by-status-popup__count:hover .cu-subtasks-by-status-popup__count-value{color:#7c828d}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-subtasks-by-status-popup__count:hover .cu-subtasks-by-status-popup__count-value{color:#b9bec7}.cu-subtasks-by-status-popup__count-icon{width:16px;height:16px;padding:1px;fill:#7c828d}.dark-theme .cu-subtasks-by-status-popup__count-icon{fill:#b9bec7}.cu-subtasks-by-status-popup__count-add{display:none;position:absolute;right:-25px;align-items:center;justify-content:flex-end;width:27px;height:20px;border-radius:0 4px 4px 0;background:#fff;border:1px solid #e9ebf0;border-left-width:0}.dark-theme .cu-subtasks-by-status-popup__count-add{background:#2b343b;border-color:#1e272e}.cu-subtasks-by-status-popup__count-add:before{content:"";display:block;position:absolute;width:1px;height:12px;left:4px;pointer-events:none;background:#cdd2d9}.dark-theme .cu-subtasks-by-status-popup__count-add:before{background:#828588}.cu-subtasks-by-status-popup__count-add_block{top:0;right:-20px;width:20px;border-radius:4px;border-left-width:1px}.cu-subtasks-by-status-popup__count-add_block:before{display:none}.cu-subtasks-by-status-popup__count-add_block .cu-subtasks-by-status-popup__count-add-btn{width:18px;height:18px;padding:4px}.cu-subtasks-by-status-popup__count-add-btn{width:20px;height:20px;padding:5px;cursor:pointer;fill:#7c828d}.dark-theme .cu-subtasks-by-status-popup__count-add-btn{fill:#b9bec7}.cu-subtasks-by-status-popup__count-add-btn:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-subtasks-by-status-popup__count-add-btn:hover{fill:var(--theme-main-color)}}.cu-subtasks-by-status-popup__count-value{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-right:2px;margin-left:1px;font:500 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-subtasks-by-status-popup__count-value{color:#b9bec7}.cu-subtasks-by-status-popup__add{cursor:pointer;width:20px;height:100%;padding:3px;margin-right:4px;border-radius:4px;background:#fff;border:1px solid #e9ebf0;fill:#7c828d}.dark-theme .cu-subtasks-by-status-popup__add{background:#2b343b;border-color:#1e272e;fill:#b9bec7}.cu-subtasks-by-status-popup__add:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-subtasks-by-status-popup__add:hover{fill:var(--theme-main-color)}}.cu-subtasks-by-status-popup__badge{height:24px;display:flex;align-items:center;flex-shrink:0}.cu-subtasks-by-status-popup__badge-color{width:8px;height:8px;border-radius:2px;margin-right:7px}.cu-subtasks-by-status-popup__badge-title{display:flex;align-items:center}.cu-subtasks-by-status-popup__badge-count{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:600 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-right:4px;color:#292d34}.dark-theme .cu-subtasks-by-status-popup__badge-count{color:#d5d6d7}.cu-subtasks-by-status-popup__badge-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;text-transform:uppercase;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-subtasks-by-status-popup__badge-name{font-family:var(--global-font-support)}}.dark-theme .cu-subtasks-by-status-popup__badge-name{color:#b9bec7}.cu-subtasks-by-status-popup__block{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 4px;margin-right:4px;border-radius:4px;font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff}'],encapsulation:2,changeDetection:0}),t})()},Jd55:function(t,e,a){"use strict";a.d(e,"a",function(){return ta});var i=a("fXoL"),o=a("jJQC"),n=a("x1J0"),s=a("MPcj"),c=a("XNiG"),r=a("VRyK"),l=a("9jGm"),u=a("1G5W"),d=a("pLZG"),p=a("IzEk"),m=a("hr9B"),h=a("jCsC"),g=a("+2Ly"),b=a("YwDF"),f=a("HHlo"),k=a("lE2N"),_=a("BeL+"),w=a("m2rH"),v=a("4F4K"),y=a("CVeg"),x=a("Yjgh"),T=a("l7P3"),I=a("ZlQq"),C=a("Jf2N"),D=a("G2WA"),S=a("ofXK"),O=a("O5gs"),j=a("UdVN"),P=a("UXun"),A=a("ur8Q"),$=a("tjnY");const R=["tasksListOutlet"];function F(t,e){}let M=(()=>{class t{constructor(t){this.modal=t,this.removeTask=new i.o,this.updateColumns=new i.o}ngOnInit(){}ngOnChanges(t){this.componentRef&&(["project","title","iconName","customFields","iconTooltip"].forEach(e=>{t[e]&&(this.componentRef.instance[e]=this[e])}),t.tasks&&this.componentRef.instance.setTasks(this.tasks),(t.columns||t.customFields||t.team||t.projects||t.projectId)&&this.componentRef.instance.setColumns(this.columns,this.customFields,this.team,this.projects,this.projectId),this.componentRef.changeDetectorRef.markForCheck()),t.componentFactory&&this.createTaskList()}ngAfterViewInit(){this.createTaskList()}closeModal(){this.modal.close()}filterTasks(t){this.componentRef.instance.searchText$.next(t)}createTaskList(){this.componentFactory&&!this.componentRef&&this.tasksListOutlet&&(this.componentRef=this.tasksListOutlet.createComponent(this.componentFactory),this.componentRef.instance.readonly=this.readonly,this.componentRef.instance.permissions=this.permissions,this.componentRef.instance.project=this.project,this.componentRef.instance.task=this.task,this.componentRef.instance.team=this.team,this.componentRef.instance.iconTooltip=this.iconTooltip,this.componentRef.instance.setColumns(this.columns,this.customFields,this.team,this.projects,this.projectId),this.componentRef.instance.setTasks(this.tasks),this.componentRef.instance.title=this.title,this.componentRef.instance.iconName=this.iconName,this.componentRef.instance.addTaskTemplate=this.addTaskTemplate,this.componentRef.instance.taskNameExtraTemplate=this.taskNameExtraTemplate,this.componentRef.instance.removeTask.pipe(Object(u.a)(this.componentRef.instance.destroy$)).subscribe(t=>{this.removeTask.emit(t)}),this.componentRef.instance.updateColumns.pipe(Object(u.a)(this.componentRef.instance.destroy$)).subscribe(t=>{this.updateColumns.emit(t)}),this.componentRef.changeDetectorRef.detectChanges())}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(C.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-tasks-modal"]],viewQuery:function(t,e){if(1&t&&i.jd(R,1,i.U),2&t){let t;i.Qc(t=i.rc())&&(e.tasksListOutlet=t.first)}},hostAttrs:[1,"cu-task-relationships-table-tasks-modal"],inputs:{componentFactory:"componentFactory",tasks:"tasks",title:"title",iconName:"iconName",readonly:"readonly",permissions:"permissions",project:"project",task:"task",team:"team",iconTooltip:"iconTooltip",columns:"columns",addTaskTemplate:"addTaskTemplate",taskNameExtraTemplate:"taskNameExtraTemplate",customFields:"customFields",projects:"projects",projectId:"projectId"},outputs:{removeTask:"removeTask",updateColumns:"updateColumns"},features:[i.Gb],decls:11,vars:2,consts:[[1,"cu-task-relationships-table-tasks-modal__header"],[1,"cu-task-relationships-table-tasks-modal__header-left"],[1,"cu-task-relationships-table-tasks-modal__header-icon",3,"icon"],[1,"cu-task-relationships-table-tasks-modal__header-title"],[1,"cu-task-relationships-table-tasks-modal__header-right"],[3,"onChange"],[1,"cu-modal__control-item","cu-modal__close",3,"click"],["icon","close-modal"],["tasksListOutlet",""]],template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"div",1),i.Xb(2,"div",2),i.cc(3,"div",3),i.dd(4),i.bc(),i.bc(),i.cc(5,"div",4),i.cc(6,"cu-search-input",5),i.qc("onChange",function(t){return e.filterTasks(t)}),i.bc(),i.cc(7,"div",6),i.qc("click",function(){return e.closeModal()}),i.Xb(8,"div",7),i.bc(),i.bc(),i.bc(),i.bd(9,F,0,0,"ng-template",null,8,i.cd)),2&t&&(i.Ib(2),i.Dc("icon",e.iconName),i.Ib(2),i.fd(" ",e.title," "))},directives:[j.a,$.a],styles:['.cu-task-relationships-table-tasks-modal{height:calc(100% + 100px);display:flex;flex-direction:column;margin:-50px 0}.cu-modal__dialog_overlay-task-view .cu-task-relationships-table-tasks-modal{height:100%}.cu-task-relationships-table-tasks-modal__header{display:flex;justify-content:space-between;margin:40px 0 20px}.cu-task-relationships-table-tasks-modal__header-icon{width:16px;height:16px;margin-right:5px;fill:#7c828d}.dark-theme .cu-task-relationships-table-tasks-modal__header-icon{fill:#828588}.cu-task-relationships-table-tasks-modal__header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:24px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-relationships-table-tasks-modal__header-title{font-family:var(--global-font-support)}}.dark-theme .cu-task-relationships-table-tasks-modal__header-title{color:#d5d6d7}.cu-task-relationships-table-tasks-modal__header-left,.cu-task-relationships-table-tasks-modal__header-right{display:flex;align-items:center}.cu-task-relationships-table-tasks-modal__header-right .cu-modal__close{position:relative;top:auto;margin-left:40px}'],encapsulation:2,changeDetection:0}),t})();const E=["tasksListOutlet"],U=["taskModal"];function L(t,e){}function z(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-tasks-modal",2),i.qc("removeTask",function(e){return i.Uc(t),i.uc().removeTask.emit(e)})("updateColumns",function(e){return i.Uc(t),i.uc().updateColumns.emit(e)}),i.vc(1,"async"),i.bc()}if(2&t){const t=i.uc();i.Dc("componentFactory",i.wc(1,16,t.componentFactory$))("tasks",t.tasks)("title",t.title)("iconName",t.iconName)("readonly",t.readonly)("permissions",t.permissions)("project",t.project)("task",t.task)("team",t.team)("columns",t.columns)("addTaskTemplate",t.addTaskTemplate)("iconTooltip",t.iconTooltip)("taskNameExtraTemplate",t.taskNameExtraTemplate)("customFields",t.customFields)("projects",t.projects)("projectId",t.projectId)}}let V=(()=>{class t{constructor(t,e){this.dynamicComponentLoader=t,this.modalService=e,this.toggleCollapsed=new i.o,this.removeTask=new i.o,this.updateColumns=new i.o,this.renameCompleted=new i.o,this.componentFactory$=this.dynamicComponentLoader.getComponentFactory("task-relationships-table-tasks-lazy").pipe(Object(P.a)({refCount:!0,bufferSize:1})),this.destroy$=new c.a}ngOnInit(){}ngOnChanges(t){this.componentRef&&(["section","allowCollapse","columns","project","title","iconName","customFields","rename","task","permissions","iconTooltip"].forEach(e=>{t[e]&&(this.componentRef.instance[e]=this[e])}),t.tasks&&this.componentRef.instance.setTasks(this.tasks),(t.columns||t.customFields||t.team||t.projects||t.projectId)&&this.componentRef.instance.setColumns(this.columns,this.customFields,this.team,this.projects,this.projectId),this.componentRef.changeDetectorRef.markForCheck())}ngAfterViewInit(){this.componentFactory$.pipe(Object(p.a)(1),Object(u.a)(this.destroy$)).subscribe(t=>{this.componentRef=this.tasksListOutlet.createComponent(t),this.componentRef.instance.readonly=this.readonly,this.componentRef.instance.permissions=this.permissions,this.componentRef.instance.project=this.project,this.componentRef.instance.showButtons=!0,this.componentRef.instance.task=this.task,this.componentRef.instance.team=this.team,this.componentRef.instance.isLastTable=this.isLastTable,this.componentRef.instance.section=this.section,this.componentRef.instance.allowCollapse=this.allowCollapse,this.componentRef.instance.title=this.title,this.componentRef.instance.iconName=this.iconName,this.componentRef.instance.iconTooltip=this.iconTooltip,this.componentRef.instance.addTaskTemplate=this.addTaskTemplate,this.componentRef.instance.taskNameExtraTemplate=this.taskNameExtraTemplate,this.componentRef.instance.collapsedHeaderTemplate=this.collapsedHeaderTemplate,this.componentRef.instance.menuTemplate=this.menuTemplate,this.componentRef.instance.setColumns(this.columns,this.customFields,this.team,this.projects,this.projectId),this.componentRef.instance.setTasks(this.tasks),this.componentRef.instance.showTaskModal.pipe(Object(u.a)(this.componentRef.instance.destroy$)).subscribe(()=>{this.showTaskModal()}),this.componentRef.instance.toggleCollapsed.pipe(Object(u.a)(this.componentRef.instance.destroy$)).subscribe(()=>{this.toggleCollapsed.emit()}),this.componentRef.instance.removeTask.pipe(Object(u.a)(this.componentRef.instance.destroy$)).subscribe(t=>{this.removeTask.emit(t)}),this.componentRef.instance.updateColumns.pipe(Object(u.a)(this.componentRef.instance.destroy$)).subscribe(t=>{this.updateColumns.emit(t)}),this.componentRef.instance.renameCompleted.pipe(Object(u.a)(this.componentRef.instance.destroy$)).subscribe(t=>{this.renameCompleted.emit(t)}),this.componentRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.destroy$.next()}showTaskModal(){this.modalService.open({content:this.taskModal,blank:!0,dialogModifier:this.forViewTask?"cu-modal__dialog_overlay-task-view":"",modifier:this.forViewTask?"cu-modal_no-background":"cu-modal_fullwidth"})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(A.a),i.Wb(C.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-tasks"]],viewQuery:function(t,e){if(1&t&&(i.jd(E,1,i.U),i.jd(U,1)),2&t){let t;i.Qc(t=i.rc())&&(e.tasksListOutlet=t.first),i.Qc(t=i.rc())&&(e.taskModal=t.first)}},hostAttrs:[1,"cu-task-relationships-table-tasks"],inputs:{readonly:"readonly",paywallPopover:"paywallPopover",task:"task",team:"team",projects:"projects",projectId:"projectId",permissions:"permissions",forViewTask:"forViewTask",project:"project",isLastTable:"isLastTable",addTaskTemplate:"addTaskTemplate",collapsedHeaderTemplate:"collapsedHeaderTemplate",taskNameExtraTemplate:"taskNameExtraTemplate",section:"section",allowCollapse:"allowCollapse",columns:"columns",tasks:"tasks",title:"title",iconName:"iconName",iconTooltip:"iconTooltip",customFields:"customFields",menuTemplate:"menuTemplate",rename:"rename"},outputs:{toggleCollapsed:"toggleCollapsed",removeTask:"removeTask",updateColumns:"updateColumns",renameCompleted:"renameCompleted"},features:[i.Gb],decls:4,vars:0,consts:[["tasksListOutlet",""],["taskModal",""],[3,"componentFactory","tasks","title","iconName","readonly","permissions","project","task","team","columns","addTaskTemplate","iconTooltip","taskNameExtraTemplate","customFields","projects","projectId","removeTask","updateColumns"]],template:function(t,e){1&t&&(i.bd(0,L,0,0,"ng-template",null,0,i.cd),i.bd(2,z,2,18,"ng-template",null,1,i.cd))},directives:[M],pipes:[S.b],styles:[""],encapsulation:2,changeDetection:0}),t})();var N=a("LdyQ"),q=a("MJvn"),B=a("loh9"),G=a("n+1/"),X=a("aIzb");function W(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-selector",7),i.qc("onDropdownReposition",function(){return i.Uc(t),i.uc(),i.Rc(1).positionMenu()})("onSelect",function(e){i.Uc(t),i.uc();const a=i.Rc(1),o=i.uc(2);return a.close(),o.addTwoWayTaskLink.emit(e)}),i.bc()}if(2&t){const t=i.uc(3);i.Dc("task",t.task)("defaultProject",t.project)("taskIdsToExclude",t.taskIdsToExclude)("searchSubtasks",!0)("excludeParentTask",!1)("excludeArchived",!0)("defaultSubcategory",t.task.subcategory)}}function H(t,e){1&t&&(i.cc(0,"div",3,4),i.cc(2,"div",5),i.dd(3," + Add Task "),i.bc(),i.bd(4,W,1,7,"cu-task-selector",6),i.bc()),2&t&&i.Dc("dropdownCloseOnInsideClick",!1)}function Z(t,e){if(1&t&&i.bd(0,H,5,1,"div",2),2&t){const t=i.uc();i.Dc("ngIf",null==t.task.permissions?null:t.task.permissions.add_dependencies)}}let Q=(()=>{class t{constructor(t){this.store=t,this.toggleCollapsed=new i.o,this.addTwoWayTaskLink=new i.o,this.updateColumns=new i.o,this.updateSection=new i.o}ngOnInit(){}ngOnChanges(t){(t.section||t.taskCache)&&(this.tasks=this.section.items.map(t=>this.taskCache[t.id]).filter(Boolean)),t.section&&(this.taskIdsToExclude=[...this.section.items.map(t=>t.id),this.task.id])}removeTwoWayLink(t){this.store.dispatch(new s.M({body:{task_id:this.task.id,links_to:t}})),this.updateSection.emit(Object.assign(Object.assign({},this.section),{items:this.section.items.filter(e=>e.id!==t)}))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(T.Store))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-tasks-two-way-links"]],hostAttrs:[1,"cu-task-relationships-table-tasks-two-way-links"],inputs:{task:"task",team:"team",permissions:"permissions",forViewTask:"forViewTask",project:"project",isLastTable:"isLastTable",section:"section",allowCollapse:"allowCollapse",selectTaskDropdownTemplate:"selectTaskDropdownTemplate",taskCache:"taskCache"},outputs:{toggleCollapsed:"toggleCollapsed",addTwoWayTaskLink:"addTwoWayTaskLink",updateColumns:"updateColumns",updateSection:"updateSection"},features:[i.Gb],decls:3,vars:12,consts:[[3,"task","team","permissions","tasks","title","forViewTask","project","isLastTable","section","allowCollapse","addTaskTemplate","columns","toggleCollapsed","removeTask","updateColumns"],["addTaskTemplate",""],["class","cu-task-relationships-table-tasks-lazy__type-add","cuDropdown","",3,"dropdownCloseOnInsideClick",4,"ngIf"],["cuDropdown","",1,"cu-task-relationships-table-tasks-lazy__type-add",3,"dropdownCloseOnInsideClick"],["taskSelectorDropdown","dropdown"],["cuDropdownToggle","",1,"cu-task-relationships-table-tasks-lazy__type-add-toggle",3,"cuPreventDefault"],["class","cu-task-relationships__task-selector",3,"task","defaultProject","taskIdsToExclude","searchSubtasks","excludeParentTask","excludeArchived","defaultSubcategory","onDropdownReposition","onSelect",4,"cuDropdownMenu"],[1,"cu-task-relationships__task-selector",3,"task","defaultProject","taskIdsToExclude","searchSubtasks","excludeParentTask","excludeArchived","defaultSubcategory","onDropdownReposition","onSelect"]],template:function(t,e){if(1&t&&(i.cc(0,"cu-task-relationships-table-tasks",0),i.qc("toggleCollapsed",function(){return e.toggleCollapsed.emit(e.section)})("removeTask",function(t){return e.removeTwoWayLink(t.id)})("updateColumns",function(t){return e.updateColumns.emit(t)}),i.bc(),i.bd(1,Z,1,1,"ng-template",null,1,i.cd)),2&t){const t=i.Rc(2);i.Dc("task",e.task)("team",e.team)("permissions",e.permissions)("tasks",e.tasks)("title","Tasks")("forViewTask",e.forViewTask)("project",e.project)("isLastTable",e.isLastTable)("section",e.section)("allowCollapse",e.allowCollapse)("addTaskTemplate",t)("columns",e.section.fields)}},directives:[V,S.q,N.b,q.a,B.a,G.a,X.a],styles:[".cu-task-relationships-table-tasks-two-way-links .cu-task-row-assigned-comments,.cu-task-relationships-table-tasks-two-way-links .cu-task-row-main__link-text>:not(.cu-task-row-main__link-text-inner):not(.cu-task-relationships-table-tasks-dependencies__dependency){display:none}"],encapsulation:2,changeDetection:0}),t})();const K=["addLinkMenu"],J=function(){return["bottom-left","top-left","auto"]};function Y(t,e){if(1&t&&(i.cc(0,"cu-dropdown-list",5,6),i.cc(2,"div",7),i.dd(3," + "),i.ac(4),i.gc(5,8),i.Zb(),i.bc(),i.bc()),2&t){const t=i.uc(2);i.Dc("title","Add link")("items",t.addDependencyMenuItems)("dropdownPlacement",i.Gc(3,J))}}function tt(t,e){if(1&t&&i.bd(0,Y,6,4,"cu-dropdown-list",4),2&t){const t=i.uc();i.Dc("ngIf",null==t.task.permissions?null:t.task.permissions.add_dependencies)}}function et(t,e){1&t&&(i.cc(0,"div",11),i.Xb(1,"div",12),i.cc(2,"div",13),i.gc(3,14),i.bc(),i.bc()),2&t&&(i.Ib(1),i.Dc("icon","dependency-waiting-2"))}function at(t,e){1&t&&(i.cc(0,"div",11),i.Xb(1,"div",15),i.cc(2,"div",13),i.gc(3,16),i.bc(),i.bc()),2&t&&(i.Ib(1),i.Dc("icon","dependency-waiting-2"))}function it(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",9),i.qc("onSelect",function(a){i.Uc(t);const o=e.task;return i.uc().changeDependency(o,a.id)}),i.bd(1,et,4,1,"div",10),i.bd(2,at,4,1,"div",10),i.bc()}if(2&t){const t=e.task,a=i.uc();i.Dc("dropdownDisabled",!(null!=t.permissions&&t.permissions.add_dependencies))("items",a.changeDependencyMenuItems)("checkedItemId",a.dependencyTypeMaps[t.id]),i.Ib(1),i.Dc("ngIf","waiting_on"===a.dependencyTypeMaps[t.id]),i.Ib(1),i.Dc("ngIf","depends_on"===a.dependencyTypeMaps[t.id])}}function ot(t,e){if(1&t&&(i.cc(0,"div",19),i.Xb(1,"div",20),i.dd(2),i.bc()),2&t){const t=i.uc(2);i.Ib(1),i.Dc("icon","dependency-blocking-2"),i.Ib(1),i.fd(" ",t.totalWaitingOn," ")}}function nt(t,e){if(1&t&&(i.cc(0,"div",21),i.Xb(1,"div",20),i.dd(2),i.bc()),2&t){const t=i.uc(2);i.Ib(1),i.Dc("icon","dependency-waiting-2"),i.Ib(1),i.fd(" ",t.totalDependsOn," ")}}function st(t,e){if(1&t&&(i.bd(0,ot,3,2,"div",17),i.bd(1,nt,3,2,"div",18)),2&t){const t=i.uc();i.Dc("ngIf",t.totalWaitingOn>0),i.Ib(1),i.Dc("ngIf",t.totalDependsOn>0)}}let ct=(()=>{class t{constructor(t){this.store=t,this.toggleCollapsed=new i.o,this.createDependency=new i.o,this.updateColumns=new i.o,this.updateSection=new i.o,this.addDependencyMenuItems=[],this.changeDependencyMenuItems=[],this.dependencyTypeMaps={}}ngOnInit(){}ngOnChanges(t){if((t.section||t.taskCache)&&(this.tasks=this.section.items.map(t=>this.taskCache[t.id]).filter(Boolean)),t.section){this.dependencyTypeMaps=Object.fromEntries(this.section.items.map(t=>[t.id,t.type])),this.totalWaitingOn=this.section.items.filter(t=>"waiting_on"===t.type).length,this.totalDependsOn=this.section.items.filter(t=>"depends_on"===t.type).length,this.taskIdsToExclude=[...this.section.items.map(t=>t.id),this.task.id];const t={id:"waiting_on",title:$localize`:@@common_waiting-on:Waiting on`,icon:"dependency-o",iconColor:"#F9CA10",description:"Tasks that must be completed before this task",checkType:"check"},e={id:"depends_on",title:$localize`:@@common_blocking-dependency-1:Blocking`,icon:"dependency-o",iconColor:"#E8341E",description:"Tasks that can't start until this task is completed",checkType:"check"};this.changeDependencyMenuItems=[t,e],this.addDependencyMenuItems=[Object.assign(Object.assign({},t),{dropdownTemplate:this.selectTaskDropdownTemplate,customPayload:{taskIdsToExclude:this.taskIdsToExclude,onClick:t=>{this.addLinkMenu.close(),this.createDependency.emit({task:t,isBlocker:!0})}}}),Object.assign(Object.assign({},e),{dropdownTemplate:this.selectTaskDropdownTemplate,customPayload:{taskIdsToExclude:this.taskIdsToExclude,onClick:t=>{this.addLinkMenu.close(),this.createDependency.emit({task:t,isBlocker:!1})}}})]}}removeDependency(t){this.store.dispatch(new s.J({currentTask:this.task,taskIdToRemove:t,isBlocker:this.section.items.some(e=>"waiting_on"===e.type&&e.id===t),batchedTasks:[]})),this.updateSection.emit(Object.assign(Object.assign({},this.section),{items:this.section.items.filter(e=>e.id!==t)}))}changeDependency(t,e){this.createDependency.emit({task:t,isBlocker:"waiting_on"===e,removeReverse:!0})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(T.Store))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-tasks-dependencies"]],viewQuery:function(t,e){if(1&t&&i.jd(K,1),2&t){let t;i.Qc(t=i.rc())&&(e.addLinkMenu=t.first)}},hostAttrs:[1,"cu-task-relationships-table-tasks-dependencies"],inputs:{task:"task",team:"team",permissions:"permissions",forViewTask:"forViewTask",project:"project",isLastTable:"isLastTable",section:"section",allowCollapse:"allowCollapse",selectTaskDropdownTemplate:"selectTaskDropdownTemplate",taskCache:"taskCache"},outputs:{toggleCollapsed:"toggleCollapsed",createDependency:"createDependency",updateColumns:"updateColumns",updateSection:"updateSection"},features:[i.Gb],decls:7,vars:14,consts:function(){let t,e,a,i;return t=$localize`:@@common_add-task␟c2a2eb11ff8fe227bab4661525326f1c0d9ed0af␟6649386542043268895:Add task`,e=$localize`:@@common_dependency-type␟08137a6b4c687b5d37923af75d1800b3492c1950␟8219333165242277899:Dependency type`,a=$localize`:@@commmon_waiting-on␟90b5efcd9d11021a8b69220c9de104604f984466␟7845591844531242652: Waiting on `,i=$localize`:@@common_blocking-dependency-1␟abcb94f12cc78550485a6d9cd3d5fcc2187a5d4f␟2415476153189864128: Blocking `,[[3,"task","team","permissions","tasks","title","forViewTask","project","isLastTable","section","allowCollapse","addTaskTemplate","taskNameExtraTemplate","columns","collapsedHeaderTemplate","toggleCollapsed","removeTask","updateColumns"],["addTaskTemplate",""],["dependencyTemplate",""],["collapsedHeaderTemplate",""],["class","cu-task-relationships-table-tasks-lazy__type-add",3,"title","items","dropdownPlacement","cuPreventDefault",4,"ngIf"],[1,"cu-task-relationships-table-tasks-lazy__type-add",3,"title","items","dropdownPlacement","cuPreventDefault"],["addLinkMenu",""],[1,"cu-task-relationships-table-tasks-lazy__type-add-toggle"],t,["title",e,1,"cu-task-relationships-table-tasks-dependencies__change-dependency",3,"dropdownDisabled","items","checkedItemId","cuPreventDefault","onSelect"],["class","cu-task-relationships-table-tasks-dependencies__dependency",4,"ngIf"],[1,"cu-task-relationships-table-tasks-dependencies__dependency"],[1,"cu-task-relationships-table-tasks-dependencies__dependency-icon","cu-task-relationships-table-tasks-dependencies__dependency-icon_waiting-on",3,"icon"],[1,"cu-task-relationships-table-tasks-dependencies__dependency-label"],a,[1,"cu-task-relationships-table-tasks-dependencies__dependency-icon","cu-task-relationships-table-tasks-dependencies__dependency-icon_blocking",3,"icon"],i,["class","cu-task-relationships-table-tasks-dependencies__dependency cu-task-relationships-table-tasks-dependencies__dependency_waiting-on",4,"ngIf"],["class","cu-task-relationships-table-tasks-dependencies__dependency cu-task-relationships-table-tasks-dependencies__dependency_blocking",4,"ngIf"],[1,"cu-task-relationships-table-tasks-dependencies__dependency","cu-task-relationships-table-tasks-dependencies__dependency_waiting-on"],[1,"cu-task-relationships-table-tasks-dependencies__dependency-icon",3,"icon"],[1,"cu-task-relationships-table-tasks-dependencies__dependency","cu-task-relationships-table-tasks-dependencies__dependency_blocking"]]},template:function(t,e){if(1&t&&(i.cc(0,"cu-task-relationships-table-tasks",0),i.qc("toggleCollapsed",function(){return e.toggleCollapsed.emit(e.section)})("removeTask",function(t){return e.removeDependency(t.id)})("updateColumns",function(t){return e.updateColumns.emit(t)}),i.bc(),i.bd(1,tt,1,1,"ng-template",null,1,i.cd),i.bd(3,it,3,5,"ng-template",null,2,i.cd),i.bd(5,st,2,2,"ng-template",null,3,i.cd)),2&t){const t=i.Rc(2),a=i.Rc(4),o=i.Rc(6);i.Dc("task",e.task)("team",e.team)("permissions",e.permissions)("tasks",e.tasks)("title","Dependencies")("forViewTask",e.forViewTask)("project",e.project)("isLastTable",e.isLastTable)("section",e.section)("allowCollapse",e.allowCollapse)("addTaskTemplate",t)("taskNameExtraTemplate",a)("columns",e.section.fields)("collapsedHeaderTemplate",o)}},directives:[V,S.q,O.a,B.a,j.a],styles:[".cu-task-relationships-table-tasks-dependencies__change-dependency{display:inline-flex}.cu-task-relationships-table-tasks-dependencies__dependency{margin-right:8px;display:inline-flex;align-items:center}.cu-task-relationships-table-tasks-dependencies__dependency-icon{width:10px;height:10px;margin-right:4px}.cu-task-relationships-table-tasks-dependencies__dependency-icon_waiting-on{fill:#f9ca10}.cu-task-relationships-table-tasks-dependencies__dependency-icon_blocking{fill:#e8341e}.cu-task-relationships-table-tasks-dependencies__dependency-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 9px/1 Gotham Pro,Proxima Nova,arial,serif;flex-shrink:0;color:#7c828d}.dark-theme .cu-task-relationships-table-tasks-dependencies__dependency-label{color:#b9bec7}.cu-task-relationships-table-tasks-dependencies .cu-task-row-assigned-comments,.cu-task-relationships-table-tasks-dependencies .cu-task-row-main__link-text>:not(.cu-task-row-main__link-text-inner):not(.cu-task-relationships-table-tasks-dependencies__change-dependency){display:none}"],encapsulation:2,changeDetection:0}),t})();var rt=a("2Vo4"),lt=a("itXk"),ut=a("LRne"),dt=a("lJxs"),pt=a("eIep"),mt=a("yJWD"),ht=a("c3rA"),gt=a("2eDp"),bt=a("8it8"),ft=a("EDFS"),kt=a("GXRk"),_t=a("UqWe");function wt(t,e){if(1&t){const t=i.dc();i.cc(0,"div",2),i.qc("click",function(){i.Uc(t);const e=i.uc();return e.createTask(e.taskSearch.query)}),i.dd(1," + "),i.ac(2),i.gc(3,3),i.Zb(),i.cc(4,"div",4),i.cc(5,"span"),i.Xb(6,"div",5),i.vc(7,"async"),i.cc(8,"div",6),i.dd(9),i.bc(),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(6),i.ad("color",i.wc(7,3,t.newSubcategoryStatus$).color),i.Ib(3),i.fd(" ",t.taskSearch.query," ")}}let vt=(()=>{class t{constructor(t){this.store=t,this.repositionDropdown=new i.o,this.fieldValueChange=new i.o,this.fieldSubcategoryId$=new rt.a(null),this.newSubcategoryStatus$=this.fieldSubcategoryId$.pipe(Object(d.a)(t=>!!t),Object(pt.a)(t=>this.store.select(Object(ht.findSubcategoryByIdInAllProjects)(t))),Object(dt.a)(t=>t?(t.statuses||[]).find(t=>t.type===kt.g.Open):kt.c)),this.CustomFieldType=b.a}ngOnChanges(t){t.field&&this.field.type===b.a.ListRelationship&&this.fieldSubcategoryId$.next(this.field.type_config.subcategory_id)}addTask(t){this.fieldValue=[...this.fieldValue||[],Object(x.b)(t)],this.fieldValueChange.emit({value:this.fieldValue})}createTask(t){this.newSubcategoryStatus$.pipe(Object(p.a)(1)).subscribe(e=>{this.fieldValue=[...this.fieldValue||[],{id:void 0,name:t,access:!0,color:e.color,status:e.status,team_id:void 0,custom_id:void 0}],this.fieldValueChange.emit({value:this.fieldValue})}),this.taskSelector.clearSearch(),this.taskSearch=null}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(T.Store))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-tasks-custom-field-add-task"]],viewQuery:function(t,e){if(1&t&&i.jd(X.a,1),2&t){let t;i.Qc(t=i.rc())&&(e.taskSelector=t.first)}},hostAttrs:[1,"cu-task-relationships-table-tasks-custom-field-add-task"],inputs:{field:"field",fieldValue:"fieldValue",permissions:"permissions",project:"project"},outputs:{repositionDropdown:"repositionDropdown",fieldValueChange:"fieldValueChange"},features:[i.Gb],decls:5,vars:15,consts:function(){let t;return t=$localize`:@@common_create␟70a67e04629f6d412db0a12d51820b480788d795␟5674286808255988565:Create`,[[3,"modifier","showSearch","taskIdsToExclude","subcategoryId","showRecent","defaultProject","expandableSubtasks","onSelect","onDropdownReposition","onLoad","onSearch"],["class","cu-task-relationships-table-tasks-custom-field-add-task__create-new",3,"click",4,"ngIf"],[1,"cu-task-relationships-table-tasks-custom-field-add-task__create-new",3,"click"],t,[1,"task-mention"],[1,"task-mention__status"],[1,"task-mention__name"]]},template:function(t,e){1&t&&(i.cc(0,"cu-task-selector",0),i.qc("onSelect",function(t){return e.addTask(t.task)})("onDropdownReposition",function(){return e.repositionDropdown.emit()})("onLoad",function(){return e.repositionDropdown.emit()})("onSearch",function(t){return e.taskSearch=t}),i.vc(1,"pluckFromArray"),i.vc(2,"async"),i.bc(),i.bd(3,wt,10,5,"div",1),i.vc(4,"async")),2&t&&(i.Dc("modifier","task-selector_task-mentions")("showSearch",!0)("taskIdsToExclude",i.xc(1,8,e.fieldValue,"id"))("subcategoryId",i.wc(2,11,e.fieldSubcategoryId$))("showRecent",e.field.type===e.CustomFieldType.Tasks)("defaultProject",e.project)("expandableSubtasks",!1),i.Ib(3),i.Dc("ngIf",0===(null==e.taskSearch||null==e.taskSearch.tasks?null:e.taskSearch.tasks.length)&&i.wc(4,13,e.newSubcategoryStatus$)))},directives:[X.a,S.q],pipes:[_t.a,S.b],styles:[".cu-task-relationships-table-tasks-custom-field-add-task__create-new{padding:10px;border-top:1px solid #e9ebf0;cursor:pointer}.cu-task-relationships-table-tasks-custom-field-add-task__create-new:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships-table-tasks-custom-field-add-task__create-new:hover{color:var(--theme-main-color)}}.dark-theme .cu-task-relationships-table-tasks-custom-field-add-task__create-new{border-top-color:#1e272e}.cu-task-relationships-table-tasks-custom-field-add-task__create-new .task-mention{pointer-events:none}"],encapsulation:2,changeDetection:0}),t})();var yt=a("QzmI");const xt=["tasksInputPopover"],Tt=["taskDropdown"];function It(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-tasks-custom-field-add-task",10),i.qc("repositionDropdown",function(){return i.Uc(t),i.uc(),i.Rc(1).positionMenu()})("fieldValueChange",function(e){return i.Uc(t),i.uc(3).updateTasks(e.value)}),i.vc(1,"async"),i.vc(2,"async"),i.vc(3,"async"),i.bc()}if(2&t){const t=i.uc(3);i.Dc("fieldValue",i.wc(1,4,t.fieldValue$))("permissions",t.permissions)("project",i.wc(2,6,t.project$))("field",i.wc(3,8,t.field$))}}function Ct(t,e){if(1&t){const t=i.dc();i.cc(0,"div",5,6),i.qc("onShown",function(){return i.Uc(t),i.Rc(1).close()}),i.cc(3,"div",7),i.dd(4," + "),i.ac(5),i.gc(6,8),i.Zb(),i.bc(),i.bd(7,It,4,10,"cu-task-relationships-table-tasks-custom-field-add-task",9),i.bc()}if(2&t){i.uc(2);const t=i.Rc(12);i.Dc("dropdownCloseOnInsideClick",!1)("popover",t)}}function Dt(t,e){if(1&t&&i.bd(0,Ct,8,2,"div",4),2&t){const t=i.uc();i.Dc("ngIf",!t.readonly&&(null==t.permissions?null:t.permissions.set_custom_field_values))}}function St(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-custom-field-paywall-popover",11),i.qc("hidePaywallPopover",function(){return i.Uc(t),i.uc().tasksInputPopover.hide()}),i.bc()}if(2&t){const t=i.uc();i.Dc("team",t.team)}}function Ot(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",13),i.qc("click",function(t){return t.stopPropagation()})("onSelect",function(e){return i.Uc(t),i.uc(2).itemClicked(e)}),i.Xb(1,"div",14),i.bc()}if(2&t){const t=i.uc(2);i.Dc("items",t.menuItems),i.Ib(1),i.Dc("icon","ellipsis")}}function jt(t,e){if(1&t&&i.bd(0,Ot,2,2,"cu-dropdown-list",12),2&t){const t=i.uc();i.Dc("ngIf",null==t.task.permissions?null:t.task.permissions.manage_custom_fields)}}let Pt=(()=>{class t{constructor(t,e,a,o,s){this.store=t,this.modal=e,this.injector=a,this.actions$=o,this.commonStringsService=s,this.toggleCollapsed=new i.o,this.fieldValueChange=new i.o,this.removeSection=new i.o,this.updateSection=new i.o,this.reloadRelationshipLinks=new i.o,this.fieldValue$=new rt.a([]),this.field$=new rt.a(null),this.tasks$=Object(lt.a)([this.fieldValue$,this.store.select(v.g)]).pipe(Object(dt.a)(([t,e])=>(t||[]).map(t=>e[t.id]).filter(Boolean))),this.project$=this.field$.pipe(Object(d.a)(t=>!!t),Object(pt.a)(t=>t.type===b.a.ListRelationship?this.store.select(Object(ht.findSubcategoryByIdInAllProjects)(t.type_config.subcategory_id)).pipe(Object(d.a)(t=>!!t),Object(pt.a)(t=>this.store.select(Object(ht.getProjectById)(t.project_id)))):Object(ut.a)(this.project))),this.customFields$=this.field$.pipe(Object(pt.a)(t=>{if((null==t?void 0:t.type)===b.a.ListRelationship){const e={id:t.type_config.subcategory_id,name:"",type:"subcategory"};return this.store.select(Object(gt.f)(e))}return Object(ut.a)([])})),this.customFieldSubcategory$=this.field$.pipe(Object(pt.a)(t=>t&&t.type===b.a.ListRelationship?this.store.select(Object(ht.findSubcategoryByIdInAllProjects)(t.type_config.subcategory_id)):Object(ut.a)(null))),this.fieldTitle$=this.field$.pipe(Object(dt.a)(t=>t.type===b.a.ListRelationship&&t.inverted_field?t.type_config.field_inverted_name||t.type_config.subcategory_inverted_name:t.name)),this.iconTooltip$=this.field$.pipe(Object(dt.a)(t=>t.type===b.a.ListRelationship?$localize`:@@cu-relationships__linked-to-subcategory:Linked to ${t.type_config.subcategory_inverted_name}:subcatName:`:$localize`:@@cu-relationships__linked-to-workspace:Linked to Workspace`)),this.projects$=this.store.select(ht.getAllProjects),this.menuItems=[{id:"rename",title:$localize`:@@common_rename:Rename`,icon:"cu3-edit"},{id:"edit-field",title:$localize`:@@common_edit-field:Edit field`,icon:"settings"},{id:"",title:"",type:n.a.Separator},{id:"delete",title:this.commonStringsService.deleteText,icon:"trash"}],this.destroy$=new c.a}set fieldValue(t){t&&this.fieldValue$.next(t)}set field(t){this.field$.next(t)}ngOnInit(){this.actions$.pipe(Object(l.d)(f.s.type),Object(d.a)(t=>t.taskId===this.task.id&&t.field.id===this.field$.value.id&&"FIELD_033"===t.error.ECODE),Object(u.a)(this.destroy$)).subscribe(t=>{this.fieldValueChange.emit({value:t.value.slice(0,-1)}),this.tasksInputPopover.show()})}ngOnDestroy(){this.destroy$.next()}updateTasks(t){this.store.dispatch(Object(f.r)({taskId:this.task.id,field:this.field$.value,oldValue:this.field$.value.value,value:t})),this.fieldValueChange.emit({value:t.filter(t=>!!t.id)}),this.taskDropdown.close()}removeTask(t){this.updateTasks(this.fieldValue$.value.filter(e=>e.id!==t))}updateColumns(t){const e={type_config:Object.assign(Object.assign({},this.field$.value.type_config),{fields:t})};this.store.dispatch(Object(f.u)({field:this.field$.value,entity:this.field$.value.entity,updates:e,refreshTask:this.forViewTask,task:this.task})),this.field$.next(Object.assign(Object.assign({},this.field$.value),e))}itemClicked(t){if("rename"===t.id)this.rename=!0;else if("delete"===t.id){const t=this.modal.openComponent(mt.a,this.injector,{blank:!1,modifier:"task-sc__modal"});t.instance.autoClose=!0,t.instance.setFieldToDelete(this.field$.value,this.field$.value.entity),t.instance.isRelationshipCf=!0,t.instance.fieldDeleted.pipe(Object(u.a)(t.instance.destroy$)).subscribe(()=>{this.removeSection.emit()})}else if("edit-field"===t.id){const t=this.modal.openComponent(g.a,this.injector,{title:$localize`:@@common_edit-relationship:Edit Relationship`,dialogModifier:"cu-modal__dialog-custom-fields",preventExternalClick:!0,bodyModifier:"cu-modal__body_no-min-height"});t.instance.setEntity(this.field$.value.entity),t.instance.fieldIdToEdit=this.field$.value.id,t.instance.forRelationships=!0,t.instance.destroy$.pipe(Object(p.a)(1)).subscribe(()=>{this.reloadRelationshipLinks.emit()})}}saveRename(t){if(this.rename=!1,t){const e=this.field$.value.type===b.a.ListRelationship&&this.field$.value.inverted_field?{type_config:Object.assign(Object.assign({},this.field$.value.type_config),{field_inverted_name:t})}:{name:t};this.store.dispatch(Object(f.u)({field:this.field$.value,updates:e,entity:this.field$.value.entity})),this.updateSection.emit(Object.assign(Object.assign({},this.section),{custom_field:Object.assign(Object.assign({},this.section.custom_field),e)}))}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(T.Store),i.Wb(C.a),i.Wb(i.t),i.Wb(l.a),i.Wb(bt.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-tasks-custom-field"]],viewQuery:function(t,e){if(1&t&&(i.jd(xt,1),i.jd(Tt,1)),2&t){let t;i.Qc(t=i.rc())&&(e.tasksInputPopover=t.first),i.Qc(t=i.rc())&&(e.taskDropdown=t.first)}},hostAttrs:[1,"cu-task-relationships-table-tasks-custom-field"],inputs:{fieldValue:"fieldValue",field:"field",readonly:"readonly",task:"task",team:"team",permissions:"permissions",forViewTask:"forViewTask",project:"project",isLastTable:"isLastTable",section:"section",allowCollapse:"allowCollapse",rename:"rename"},outputs:{toggleCollapsed:"toggleCollapsed",fieldValueChange:"fieldValueChange",removeSection:"removeSection",updateSection:"updateSection",reloadRelationshipLinks:"reloadRelationshipLinks"},decls:15,vars:35,consts:function(){let t,e;return t=$localize`:@@common_add␟f6755cff4957d5c3c89bafce5651f1b6fa2b1fd9␟3249513483374643425:Add`,e=$localize`:@@common_relationship␟0f9790eb79f6eb72b2aa42ed75472da5d8431ecd␟7612675227076281553:Relationship`,[[3,"task","team","permissions","tasks","iconName","title","iconTooltip","forViewTask","project","isLastTable","section","allowCollapse","addTaskTemplate","columns","customFields","projects","projectId","menuTemplate","rename","toggleCollapsed","removeTask","updateColumns","renameCompleted"],["addTaskTemplate",""],["paywallPopover",""],["menuTemplate",""],["cuDropdown","","class","cu-task-relationships-table-tasks-lazy__type-add","containerClass","popover_white","placement","auto","outsideClick","true","container","body","triggers","",3,"dropdownCloseOnInsideClick","popover","onShown",4,"ngIf"],["cuDropdown","","containerClass","popover_white","placement","auto","outsideClick","true","container","body","triggers","",1,"cu-task-relationships-table-tasks-lazy__type-add",3,"dropdownCloseOnInsideClick","popover","onShown"],["taskDropdown","dropdown","tasksInputPopover","bs-popover"],["cuDropdownToggle","",1,"cu-task-relationships-table-tasks-lazy__type-add-toggle",3,"cuPreventDefault"],t,["class","cu-task-relationships-table-tasks-custom-field__menu",3,"fieldValue","permissions","project","field","repositionDropdown","fieldValueChange",4,"cuDropdownMenu"],[1,"cu-task-relationships-table-tasks-custom-field__menu",3,"fieldValue","permissions","project","field","repositionDropdown","fieldValueChange"],[3,"team","hidePaywallPopover"],["class","cu-task-relationships-table-tasks-custom-field__ellipsis","title",e,3,"items","click","onSelect",4,"ngIf"],["title",e,1,"cu-task-relationships-table-tasks-custom-field__ellipsis",3,"items","click","onSelect"],[1,"cu-task-relationships-table-tasks-custom-field__ellipsis-toggle",3,"icon"]]},template:function(t,e){if(1&t&&(i.cc(0,"cu-task-relationships-table-tasks",0),i.qc("toggleCollapsed",function(){return e.toggleCollapsed.emit(e.section)})("removeTask",function(t){return e.removeTask(t.id)})("updateColumns",function(t){return e.updateColumns(t.columns)})("renameCompleted",function(t){return e.saveRename(null==t?null:t.newName)}),i.vc(1,"async"),i.vc(2,"async"),i.vc(3,"async"),i.vc(4,"async"),i.vc(5,"async"),i.vc(6,"async"),i.vc(7,"async"),i.vc(8,"async"),i.bc(),i.bd(9,Dt,1,1,"ng-template",null,1,i.cd),i.bd(11,St,1,1,"ng-template",null,2,i.cd),i.bd(13,jt,1,1,"ng-template",null,3,i.cd)),2&t){const t=i.Rc(10),a=i.Rc(14);let o=null,n=null;i.Dc("task",e.task)("team",e.team)("permissions",e.permissions)("tasks",i.wc(1,19,e.tasks$))("iconName","field-list_relationship")("title",i.wc(2,21,e.fieldTitle$))("iconTooltip",i.wc(3,23,e.iconTooltip$))("forViewTask",e.forViewTask)("project",i.wc(4,25,e.project$))("isLastTable",e.isLastTable)("section",e.section)("allowCollapse",e.allowCollapse)("addTaskTemplate",t)("columns",null==(o=i.wc(5,27,e.field$))?null:o.type_config.fields)("customFields",i.wc(6,29,e.customFields$))("projects",i.wc(7,31,e.projects$))("projectId",null==(n=i.wc(8,33,e.customFieldSubcategory$))?null:n.project_id)("menuTemplate",a)("rename",e.rename)}},directives:[V,S.q,N.b,ft.c,q.a,B.a,G.a,vt,yt.a,O.a,j.a],pipes:[S.b],styles:[".cu-task-relationships-table-tasks-custom-field__menu{display:block;width:650px;max-width:90vw;overflow-x:hidden;overflow-y:auto}.cu-task-relationships-table-tasks-custom-field__ellipsis{margin-right:12px;display:none}.cu-task-relationships-table-tasks-custom-field__ellipsis.cu-dropdown-list_opened,.cu-task-relationships-table-tasks-lazy:hover .cu-task-relationships-table-tasks-custom-field__ellipsis{display:block}.cu-task-relationships-table-tasks-custom-field__ellipsis-toggle{width:16px;height:16px;fill:#b9bec7}.dark-theme .cu-task-relationships-table-tasks-custom-field__ellipsis-toggle{fill:#7c828d}.cu-task-relationships-table-tasks-custom-field__ellipsis-toggle:hover,.cu-task-relationships-table-tasks-custom-field__ellipsis.cu-dropdown-list_opened .cu-task-relationships-table-tasks-custom-field__ellipsis-toggle{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships-table-tasks-custom-field__ellipsis-toggle:hover,.cu-task-relationships-table-tasks-custom-field__ellipsis.cu-dropdown-list_opened .cu-task-relationships-table-tasks-custom-field__ellipsis-toggle{fill:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),t})();var At=a("R+BZ"),$t=a("NQa4"),Rt=a("NsZK");function Ft(t,e){if(1&t){const t=i.dc();i.cc(0,"div",5),i.qc("click",function(){return i.Uc(t),i.uc().createTwoWayLink.emit()}),i.Xb(1,"div",6),i.bc()}2&t&&(i.Ib(1),i.Dc("icon","cu2-plus"))}function Mt(t,e){if(1&t){const t=i.dc();i.cc(0,"div",7),i.qc("click",function(){return i.Uc(t),i.uc().deleteTwoWayLink.emit()}),i.bc()}2&t&&i.Dc("icon","cu2-close")}const Et=function(t,e,a){return["/",t,"v","dc",e,a]};let Ut=(()=>{class t{constructor(t,e){this.sharedDocService=t,this.injector=e,this.createTwoWayLink=new i.o,this.deleteTwoWayLink=new i.o,this.untitledText=$localize`:@@common_untitled:Untitled`}ngOnInit(){}openDoc(t){this.sharedDocService.clickDocLink(this.injector,this.page.team_id,this.page.view_id,this.page.id,t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(I.a),i.Wb(i.t))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationship-type-doc"]],hostAttrs:[1,"cu-task-relationship-type__container","cu-task-relationship-type-doc"],inputs:{page:"page",showCreateLink:"showCreateLink",showDeleteLink:"showDeleteLink"},outputs:{createTwoWayLink:"createTwoWayLink",deleteTwoWayLink:"deleteTwoWayLink"},decls:6,vars:9,consts:function(){let t,e;return t=$localize`:@@cu-task-relationship-type-doc__tooltip-msg_add-link␟db1ccdd994fd86b149e0f30fd39e92b4ccacfc2a␟1040349977469440732:Create 2 way link`,e=$localize`:@@cu-task-relationship-type-doc__tooltip-msg_remove-link␟36990f60d46d9f3db0f664bf21ef1968c327cb50␟2598716063798623003:Remove 2 way link`,[[1,"cu-task-relationship-type__title",3,"cuLink","allowSlash","click"],["icon","cu2-doc-3",1,"cu-task-relationship-type__icon","cu-task-relationship-type__icon_doc"],[1,"cu-task-relationship-type__title-link"],["class","cu-task-relationship-type__plus","cuTooltip",t,3,"click",4,"ngIf"],["class","cu-task-relationship-type__remove","cuTooltip",e,3,"icon","click",4,"ngIf"],["cuTooltip",t,1,"cu-task-relationship-type__plus",3,"click"],[1,"cu-task-relationship-type__plus-icon",3,"icon"],["cuTooltip",e,1,"cu-task-relationship-type__remove",3,"icon","click"]]},template:function(t,e){1&t&&(i.cc(0,"a",0),i.qc("click",function(t){return e.openDoc(t)}),i.Xb(1,"span",1),i.cc(2,"span",2),i.dd(3),i.bc(),i.bc(),i.bd(4,Ft,2,1,"div",3),i.bd(5,Mt,1,1,"div",4)),2&t&&(i.Dc("cuLink",i.Jc(5,Et,e.page.team_id,e.page.view_id,e.page.view_id))("allowSlash",!0),i.Ib(3),i.ed(e.page.name||e.untitledText),i.Ib(1),i.Dc("ngIf",e.showCreateLink),i.Ib(1),i.Dc("ngIf",e.showDeleteLink))},directives:[$t.a,j.a,S.q,Rt.a],styles:['.cu-task-relationship-type{display:flex;align-items:center;max-width:100%;min-width:0;flex-grow:1;height:35px;padding-top:5px;overflow-x:scroll;overflow-y:hidden;scrollbar-width:thin}@-moz-document url-prefix(){.cu-os-win .cu-task-relationship-type{scrollbar-color:#fff #fff}.cu-os-win.dark-theme .cu-task-relationship-type{scrollbar-color:#384047 #384047}.cu-os-win .cu-task-relationship-type:hover{scrollbar-color:#a0a0a5 #fff}.cu-os-win.dark-theme .cu-task-relationship-type:hover{scrollbar-color:#828588 #384047}}.cu-task-relationship-type::-webkit-scrollbar{height:5px}.cu-task-relationship-type:hover::-webkit-scrollbar{background-color:#fff;height:5px}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar{background:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar{background:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar{background:#2b343b}.cu-task-relationship-type:hover::-webkit-scrollbar-track{background-color:#fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-track{background:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track{background:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track{background:#2b343b}.cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background-color:#fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background:#2b343b}.cu-task-relationship-type:hover::-webkit-scrollbar-thumb{background-color:#e9ebf0;border-radius:8px;border:1px solid #fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-thumb{background-color:#2b343b;border-color:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-thumb{border-color:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-thumb{border-color:#2b343b;background-color:#384047}.cu-task-relationship-type:hover::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:1px solid #fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-thumb:hover{background-color:#1e272e;border-color:#384047}.cu-task-relationship-type:hover::-webkit-scrollbar-button{display:none}.cu-task-relationship-type:after{content:"";display:block;position:absolute;top:0;right:0;width:8px;height:100%;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-relationship-type:after{background:linear-gradient(90deg,rgba(56,64,71,0) 0,#384047)}.cu-task-relationships__table-row_alt .cu-task-relationship-type:after{background:linear-gradient(90deg,rgba(250,251,252,0) 0,#fafbfc)}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-relationship-type__container{min-width:100%;display:flex;white-space:nowrap;align-items:center;justify-content:flex-end;flex-shrink:0;padding:0;border-bottom:1px solid #e9ebf0}.dark-theme .cu-task-relationship-type__container{border-bottom-color:#1e272e}.cu-task-relationship-type__container:last-child{border-bottom:0}.cu-task-relationship-type__container .cu-entity-links-badge{flex-grow:1;min-width:0;height:100%}.cu-task-relationship-type__container .cu-entity-links-badge .cu-dropdown,.cu-task-relationship-type__container .cu-entity-links-badge .cu-dropdown__toggle{height:100%}.cu-task-relationship-type__title{display:flex;align-items:center;position:sticky;left:0;min-width:0;flex-grow:1;padding:5px 4px 5px 8px;margin-right:auto;height:34px;z-index:10;cursor:pointer;background:hsla(0,0%,100%,.9)}.dark-theme .cu-task-relationship-type__title{background:rgba(56,64,71,.9)}.cu-task-relationship-type-task .cu-task-relationship-type__title{max-width:500px}.cu-task-relationship-type__title:hover .cu-task-relationship-type__title-link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__title:hover .cu-task-relationship-type__title-link{color:var(--theme-main-color)}}.cu-task-relationships__table-row_alt .cu-task-relationship-type__title{background:rgba(250,251,252,.9)}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type__title{background:rgba(43,52,59,.9)}.cu-task-row__linked-menu .cu-task-relationship-type__title{max-width:400px}.cu-task-relationship-type__title-link{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1}.cu-task-relationship-type__title-link:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__title-link:hover{color:var(--theme-main-color)}}.cu-task-relationship-type__icon{width:14px;height:14px;margin-right:7px;fill:#292d34}.dark-theme .cu-task-relationship-type__icon{fill:#d5d6d7}.cu-task-relationship-type__icon_doc,.cu-task-relationship-type__icon_goal{padding:1px}.cu-task-relationship-type__columns-container{display:flex;align-items:center;justify-content:flex-end;padding-right:10px;align-self:stretch}.cu-task-relationship-type__column{position:relative;flex-shrink:0;height:100%;margin-left:8px;display:flex;align-items:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-task-relationship-type__column{color:#abaeb0}.cu-task-relationship-type__column+.cu-task-relationship-type__column{margin-left:20px}.cu-task-relationship-type__column+.cu-task-relationship-type__column:before{content:"";display:block;position:absolute;border-radius:50%;height:4px;width:4px;margin-left:-12px;opacity:.5;background:#b9bec7}.dark-theme .cu-task-relationship-type__column+.cu-task-relationship-type__column:before{background:#abaeb0}.cu-task-relationship-type__column_link{cursor:pointer}.cu-task-relationship-type__column_link:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-relationship-type__column_link:hover{color:var(--theme-main-color-dark)}}.cu-task-relationship-type__column .cu-custom-field__static,.cu-task-relationship-type__column .cu-custom-field__static span{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-task-relationship-type__column .cu-custom-field__static,.dark-theme .cu-task-relationship-type__column .cu-custom-field__static span{color:#abaeb0}.cu-task-relationship-type__delete{fill:#7b68ee;position:sticky;right:0;width:22px;height:24px;cursor:pointer;margin-right:-4px;margin-left:6px;padding:4px 10px 4px 4px;background:#fff}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__delete{fill:var(--theme-main-color)}}.dark-theme .cu-task-relationship-type__delete{background:#384047}.cu-task-relationship-type__delete:hover{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-relationship-type__delete:hover{fill:var(--theme-main-color-dark)}}.cu-task-relationship-type__delete:before{content:"";display:block;position:absolute;top:0;left:-8px;width:8px;height:100%;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-relationship-type__delete:before{background:linear-gradient(90deg,rgba(56,64,71,0) 0,#384047)}.cu2-views-bar_v6 .cu-task-relationship-type__delete:before{height:100%}.cu-task-relationship-type__plus{display:flex;align-items:center;position:sticky;right:0;width:30px;height:24px;cursor:pointer;padding-right:10px;padding-left:4px;flex-shrink:0}.cu-task-relationship-type__plus:hover{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__plus:hover{border-color:var(--theme-main-color)}}.cu-task-relationship-type__plus:hover .cu-task-relationship-type__plus-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__plus:hover .cu-task-relationship-type__plus-icon{fill:var(--theme-main-color)}}.cu-task-relationship-type__plus-icon{box-shadow:0 0 4px rgba(0,0,0,.04);border-radius:4px;padding:3px;width:16px;height:16px;fill:#b9bec7;background:#fff;border:1px solid #e9ebf0}.dark-theme .cu-task-relationship-type__plus-icon{border-color:#1e272e;background:#384047;fill:#7c828d}.cu-task-relationship-type__remove{margin-right:10px;display:none;width:16px;height:16px;padding:4px;cursor:pointer;fill:#b9bec7}.dark-theme .cu-task-relationship-type__remove{fill:#7c828d}.cu-task-relationship-type__remove:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__remove:hover{fill:var(--theme-main-color)}}.cu-task-relationship-type__container:hover .cu-task-relationship-type__remove{display:block}',""],encapsulation:2,changeDetection:0}),t})();function Lt(t,e){if(1&t&&i.Xb(0,"span",8),2&t){const t=i.uc();i.Ob("cu-task-relationships-table-tasks-lazy__collapse-indicator_collapsed",t.section.collapsed)}}function zt(t,e){if(1&t&&(i.cc(0,"span",9),i.dd(1),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd("(",t.section.items.length,")")}}function Vt(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-doc-recent",14),i.qc("onGeometryChange",function(){return i.Uc(t),i.uc(),i.Rc(1).positionMenu()})("onSelect",function(e){i.Uc(t),i.uc();const a=i.Rc(1),o=i.uc();return a.close(),o.addLinkedPage.emit(e.page)}),i.bc()}if(2&t){const t=i.uc(2);i.Dc("searchEnabled",!0)("excludePageIds",t.addedPageIds)}}function Nt(t,e){1&t&&(i.cc(0,"div",10,11),i.cc(2,"div",12),i.dd(3," + Add doc "),i.bc(),i.bd(4,Vt,1,2,"cu-doc-recent",13),i.bc()),2&t&&i.Dc("dropdownCloseOnInsideClick",!1)}function qt(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationship-type-doc",16),i.qc("deleteTwoWayLink",function(){i.Uc(t);const a=e.$implicit;return i.uc(2).removeTwoWayLink(a.id)}),i.bc()}2&t&&i.Dc("page",e.$implicit.item)("showDeleteLink",!0)}function Bt(t,e){if(1&t&&(i.ac(0),i.bd(1,qt,1,2,"cu-task-relationship-type-doc",15),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngForOf",t.section.items)("ngForTrackBy",t.trackById)}}let Gt=(()=>{class t{constructor(t){this.store=t,this.toggleCollapsed=new i.o,this.addLinkedPage=new i.o,this.updateSection=new i.o,this.trackById=Object(o.d)("id")}ngOnInit(){}removeTwoWayLink(t){this.store.dispatch(Object(h.h)({linkId:t})),this.updateSection.emit(Object.assign(Object.assign({},this.section),{items:this.section.items.filter(e=>e.id!==t)}))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(T.Store))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-docs"]],inputs:{isLastTable:"isLastTable",section:"section",allowCollapse:"allowCollapse",addedPageIds:"addedPageIds",canCreateRelationships:"canCreateRelationships"},outputs:{toggleCollapsed:"toggleCollapsed",addLinkedPage:"addLinkedPage",updateSection:"updateSection"},decls:9,vars:8,consts:[[1,"cu-task-relationships-table-tasks-lazy"],[1,"cu-task-relationships-table-tasks-lazy__tasks-list"],[1,"cu-task-relationships-table-tasks-lazy__type",3,"click"],["class","cu-task-relationships-table-tasks-lazy__collapse-indicator","icon","cu3-triangle",3,"cu-task-relationships-table-tasks-lazy__collapse-indicator_collapsed",4,"ngIf"],[1,"cu-task-relationships-table-tasks-lazy__type-name"],["class","cu-task-relationships-table-tasks-lazy__type-name-item-count",4,"ngIf"],["class","cu-task-relationships-table-tasks-lazy__type-add","cuDropdown","",3,"dropdownCloseOnInsideClick",4,"ngIf"],[4,"ngIf"],["icon","cu3-triangle",1,"cu-task-relationships-table-tasks-lazy__collapse-indicator"],[1,"cu-task-relationships-table-tasks-lazy__type-name-item-count"],["cuDropdown","",1,"cu-task-relationships-table-tasks-lazy__type-add",3,"dropdownCloseOnInsideClick"],["docSelectorDropdown","dropdown"],["cuDropdownToggle","",1,"cu-task-relationships-table-tasks-lazy__type-add-toggle",3,"cuPreventDefault"],["class","cu-task-relationships__task-selector",3,"searchEnabled","excludePageIds","onGeometryChange","onSelect",4,"cuDropdownMenu"],[1,"cu-task-relationships__task-selector",3,"searchEnabled","excludePageIds","onGeometryChange","onSelect"],[3,"page","showDeleteLink","deleteTwoWayLink",4,"ngFor","ngForOf","ngForTrackBy"],[3,"page","showDeleteLink","deleteTwoWayLink"]],template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"div",1),i.cc(2,"div",2),i.qc("click",function(){return e.toggleCollapsed.emit()}),i.bd(3,Lt,1,2,"span",3),i.cc(4,"div",4),i.dd(5," Docs "),i.bd(6,zt,2,1,"span",5),i.bc(),i.bd(7,Nt,5,1,"div",6),i.bc(),i.bd(8,Bt,2,2,"ng-container",7),i.bc(),i.bc()),2&t&&(i.Ob("cu-task-relationships-table-tasks-lazy_last-table",e.isLastTable),i.Ib(2),i.Ob("cu-task-relationships-table-tasks-lazy__type_border-bottom",!e.section.collapsed),i.Ib(1),i.Dc("ngIf",e.allowCollapse),i.Ib(3),i.Dc("ngIf",null==e.section?null:e.section.collapsed),i.Ib(1),i.Dc("ngIf",(!e.allowCollapse||!(null!=e.section&&e.section.collapsed))&&e.canCreateRelationships),i.Ib(1),i.Dc("ngIf",!e.allowCollapse||!(null!=e.section&&e.section.collapsed)))},directives:[S.q,j.a,N.b,q.a,B.a,G.a,At.a,S.p,Ut],styles:[""],encapsulation:2,changeDetection:0}),t})();var Xt=a("TqRa"),Wt=a("Llk8");function Ht(t,e){if(1&t){const t=i.dc();i.cc(0,"div",4),i.qc("click",function(){return i.Uc(t),i.uc().addTaskRelationshipLink.emit()}),i.Xb(1,"div",5),i.bc()}2&t&&(i.Dc("cuTooltip","Create 2 way link"),i.Ib(1),i.Dc("icon","cu2-plus"))}const Zt=function(t,e){return["","t",t,e]},Qt=function(t){return["","t",t]},Kt=function(t){return{comment:t}};let Jt=(()=>{class t{constructor(t,e,a){this.sharedTaskService=t,this.store=e,this.commonStringsService=a,this.updateData=new i.o,this.addTaskRelationshipLink=new i.o,this.isSharingApp=Xt.k,this.StatusTypes=kt.g,this.trackById=Object(o.d)("id")}ngOnInit(){}openTask(t){this.sharedTaskService.clickTaskLink({id:this.task.id,customId:this.task.custom_id,teamId:this.task.team},t,!1,this.commentId)}setStatus(t){this.updateData.emit({task:Object.assign(Object.assign({},this.task),{status:t})}),this.store.dispatch(new w.T(this.task.id,{status:t.status}))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(D.a),i.Wb(T.Store),i.Wb(bt.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationship-type-task"]],hostAttrs:[1,"cu-task-relationship-type__container","cu-task-relationship-type-task"],inputs:{task:"task",showCreateLink:"showCreateLink",isOffline:"isOffline",commentId:"commentId"},outputs:{updateData:"updateData",addTaskRelationshipLink:"addTaskRelationshipLink"},decls:6,vars:20,consts:[[1,"cu-task-relationship-type__title"],[3,"status","statuses","isSimpleStatus","hasCustomType","disabled","itemClass","cuTooltip","onChange"],[1,"cu-task-relationship-type__title-link",3,"cuLink","queryParams","click"],["class","cu-task-relationship-type__plus",3,"cuTooltip","click",4,"ngIf"],[1,"cu-task-relationship-type__plus",3,"cuTooltip","click"],[1,"cu-task-relationship-type__plus-icon",3,"icon"]],template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"cu-task-row-status",1),i.qc("onChange",function(t){return e.setStatus(t)}),i.vc(2,"uppercase"),i.bc(),i.cc(3,"a",2),i.qc("click",function(t){return e.openTask(t)}),i.dd(4),i.bc(),i.bc(),i.bd(5,Ht,2,2,"div",3)),2&t&&(i.Ib(1),i.Dc("status",e.task.status)("statuses",e.task.available_statuses)("isSimpleStatus",e.task.simple_statuses)("hasCustomType",!!e.task.custom_type)("disabled",e.isOffline||e.isSharingApp||!e.task.available_statuses||!0)("itemClass","cu-task-row-status_dot")("cuTooltip",e.isSharingApp?null:null!=e.task&&e.task.simple_statuses?(null==e.task||null==e.task.status?null:e.task.status.type)===e.StatusTypes.Closed?e.commonStringsService.setToOpenText:e.commonStringsService.setToClosedText:i.wc(2,11,null==e.task||null==e.task.status?null:e.task.status.status)),i.Ib(2),i.Dc("cuLink",e.task.custom_id?i.Ic(13,Zt,e.task.team,e.task.custom_id):i.Hc(16,Qt,e.task.id))("queryParams",e.commentId?i.Hc(18,Kt,e.commentId):void 0),i.Ib(1),i.ed(e.task.name),i.Ib(1),i.Dc("ngIf",e.showCreateLink))},directives:[Wt.a,Rt.a,$t.a,S.q,j.a],pipes:[S.B],styles:[".cu-task-relationship-type-task__dependency{margin-left:8px;display:flex;align-items:center}.cu-task-relationship-type-task__dependency_waiting-on{color:#f9ca10}.cu-task-relationship-type-task__dependency_waiting-on .icon{fill:#f9ca10}.cu-task-relationship-type-task__dependency_blocking{color:#e8341e}.cu-task-relationship-type-task__dependency_blocking .icon{fill:#e8341e}.cu-task-relationship-type-task__dependency-icon{width:12px;height:12px;margin-right:6px}.cu-task-relationship-type-task .cu-task-row-status_dot .cu-task-row-status__item{margin:0 7px 0 0}.cu-task-relationship-type-task .cu-priorities-view__icon-select{width:24px;height:24px}.cu-task-relationship-type-task .cu-priorities-view__icon{width:16px;height:16px}"],encapsulation:2,changeDetection:0}),t})();function Yt(t,e){if(1&t&&i.Xb(0,"span",11),2&t){const t=i.uc();i.Ob("cu-task-relationships-table-tasks-lazy__collapse-indicator_collapsed",t.section.collapsed)}}function te(t,e){if(1&t&&(i.cc(0,"span",12),i.dd(1),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd(" (",t.section.items.length,")")}}function ee(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationship-type-doc",16),i.qc("createTwoWayLink",function(){i.Uc(t);const e=i.uc().$implicit;return i.uc(2).createDocLinkFromBacklink.emit({page:e.item,backlinkId:e.id})}),i.bc()}if(2&t){const t=i.uc().$implicit,e=i.uc(2);i.Dc("page",t.item)("showCreateLink",e.showCreateLink)}}function ae(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationship-type-task",17),i.qc("addTaskRelationshipLink",function(){i.Uc(t);const e=i.uc().$implicit,a=i.uc(2);return a.createTaskLinkFromBacklink.emit({task:a.taskCache[e.id],backlinkId:e.id})}),i.bc()}if(2&t){const t=i.uc().$implicit,e=i.uc(2);i.Dc("task",e.taskCache[t.id])("showCreateLink",e.showCreateLink)("commentId",t.comment_id)}}function ie(t,e){if(1&t&&(i.ac(0),i.bd(1,ee,1,2,"cu-task-relationship-type-doc",14),i.bd(2,ae,1,3,"cu-task-relationship-type-task",15),i.Zb()),2&t){const t=e.$implicit,a=i.uc(2);i.Ib(1),i.Dc("ngIf","page"===t.type),i.Ib(1),i.Dc("ngIf","task"===t.type&&a.taskCache[t.id])}}function oe(t,e){if(1&t&&(i.ac(0),i.bd(1,ie,3,2,"ng-container",13),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngForOf",t.section.items)("ngForTrackBy",t.trackById)}}function ne(t,e){if(1&t){const t=i.dc();i.ac(0),i.gc(1,18),i.Zb(),i.cc(2,"a",19),i.qc("click",function(){return i.Uc(t),i.uc(),i.Rc(9).hide()}),i.gc(3,20),i.bc()}}let se=(()=>{class t{constructor(){this.toggleCollapsed=new i.o,this.createTaskLinkFromBacklink=new i.o,this.createDocLinkFromBacklink=new i.o,this.trackById=Object(o.d)("id")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-backlinks"]],inputs:{isLastTable:"isLastTable",section:"section",allowCollapse:"allowCollapse",taskCache:"taskCache",showCreateLink:"showCreateLink"},outputs:{toggleCollapsed:"toggleCollapsed",createTaskLinkFromBacklink:"createTaskLinkFromBacklink",createDocLinkFromBacklink:"createDocLinkFromBacklink"},decls:13,vars:9,consts:function(){let t,e,a;return t=$localize`:@@cu-task-relationships-table-backlinks__backlinks␟4c23687b556dfccebe6d8c70fc532dfb89b62cbf␟5833343911271171142:Backlinks`,e=$localize`:@@cu-task-relationships-table-backlinks__learn-more␟a3dadf6454d31d119256256c4c59ab31cf2676cd␟2713491917584011234: This list shows all tasks and docs that have @mentioned this task. `,a=$localize`:@@common_learn-more␟616db0478e025bedeaed9fdc0d60d0491f8886e3␟6930585221034819270: Learn more `,[[1,"cu-task-relationships-table-tasks-lazy"],[1,"cu-task-relationships-table-tasks-lazy__tasks-list"],[1,"cu-task-relationships-table-tasks-lazy__type",3,"click"],["class","cu-task-relationships-table-tasks-lazy__collapse-indicator","icon","cu3-triangle",3,"cu-task-relationships-table-tasks-lazy__collapse-indicator_collapsed",4,"ngIf"],[1,"cu-task-relationships-table-tasks-lazy__type-name"],t,["class","cu-task-relationships-table-tasks-lazy__type-name-item-count",4,"ngIf"],["icon","question","containerClass","markdown-tooltip","triggers","","container","body","placement","top",1,"help-question-mark",3,"popover","outsideClick","cuPreventDefault","click"],["pop","bs-popover"],[4,"ngIf"],["popTemplate",""],["icon","cu3-triangle",1,"cu-task-relationships-table-tasks-lazy__collapse-indicator"],[1,"cu-task-relationships-table-tasks-lazy__type-name-item-count"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"page","showCreateLink","createTwoWayLink",4,"ngIf"],[3,"task","showCreateLink","commentId","addTaskRelationshipLink",4,"ngIf"],[3,"page","showCreateLink","createTwoWayLink"],[3,"task","showCreateLink","commentId","addTaskRelationshipLink"],e,["href","https://docs.clickup.com/en/articles/4714759-backlinks-relationship","target","_blank",1,"popover-content_link",3,"click"],a]},template:function(t,e){if(1&t){const t=i.dc();i.cc(0,"div",0),i.cc(1,"div",1),i.cc(2,"div",2),i.qc("click",function(){return e.toggleCollapsed.emit()}),i.bd(3,Yt,1,2,"span",3),i.cc(4,"div",4),i.ac(5),i.gc(6,5),i.Zb(),i.bd(7,te,2,1,"span",6),i.bc(),i.cc(8,"div",7,8),i.qc("click",function(){return i.Uc(t),i.Rc(9).toggle()}),i.bc(),i.bc(),i.bd(10,oe,2,2,"ng-container",9),i.bc(),i.bc(),i.bd(11,ne,4,0,"ng-template",null,10,i.cd)}if(2&t){const t=i.Rc(12);i.Ob("cu-task-relationships-table-tasks-lazy_last-table",e.isLastTable),i.Ib(2),i.Ob("cu-task-relationships-table-tasks-lazy__type_border-bottom",!e.section.collapsed),i.Ib(1),i.Dc("ngIf",e.allowCollapse),i.Ib(4),i.Dc("ngIf",null==e.section?null:e.section.collapsed),i.Ib(1),i.Dc("popover",t)("outsideClick",!0),i.Ib(2),i.Dc("ngIf",!e.allowCollapse||!(null!=e.section&&e.section.collapsed))}},directives:[S.q,j.a,ft.c,B.a,S.p,Ut,Jt],styles:[""],changeDetection:0}),t})();var ce=a("rZTY"),re=a("vSu3"),le=a("yhnL"),ue=a("g1Eu"),de=a("da7w");let pe=(()=>{class t{constructor(){this.showGitModal=new i.o,this.GitIntegrationModalTab=ce.b}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationship-type-version-control"]],hostAttrs:[1,"cu-task-relationship-type__container"],inputs:{counts:"counts",options:"options",type:"type"},outputs:{showGitModal:"showGitModal"},decls:11,vars:9,consts:[[1,"cu-task-relationship-type__title",3,"click"],[1,"cu-task-relationship-type__icon",3,"icon"],[1,"cu-task-relationship-type__title-link"],[1,"cu-task-relationship-type__columns-container"],[1,"cu-task-relationship-type__column","cu-task-relationship-type__column_link",3,"click"]],template:function(t,e){1&t&&(i.cc(0,"div",0),i.qc("click",function(){return e.showGitModal.emit({integration:e.type})}),i.Xb(1,"div",1),i.cc(2,"div",2),i.dd(3),i.bc(),i.bc(),i.cc(4,"div",3),i.cc(5,"div",4),i.qc("click",function(){return e.showGitModal.emit({integration:e.type,tab:e.GitIntegrationModalTab.PullRequests})}),i.dd(6),i.bc(),i.cc(7,"div",4),i.qc("click",function(){return e.showGitModal.emit({integration:e.type,tab:e.GitIntegrationModalTab.Branches})}),i.dd(8),i.bc(),i.cc(9,"div",4),i.qc("click",function(){return e.showGitModal.emit({integration:e.type,tab:e.GitIntegrationModalTab.Commits})}),i.dd(10),i.bc(),i.bc()),2&t&&(i.Ib(1),i.Dc("icon",e.options.icon),i.Ib(2),i.fd(" ",e.options.label," "),i.Ib(3),i.hd(" ",e.counts.pull_requests," ",e.options.pullRequestLabel||"Pull Request","",1===e.counts.pull_requests?"":"s"," "),i.Ib(2),i.gd(" ",e.counts.branches," Branch",1===e.counts.branches?"":"es"," "),i.Ib(2),i.gd(" ",e.counts.commits," Commit",1===e.counts.commits?"":"s"," "))},directives:[j.a],styles:[""],encapsulation:2,changeDetection:0}),t})();function me(t,e){if(1&t&&i.Xb(0,"span",8),2&t){const t=i.uc();i.Ob("cu-task-relationships-table-tasks-lazy__collapse-indicator_collapsed",t.section.collapsed)}}function he(t,e){if(1&t&&(i.cc(0,"span",9),i.dd(1),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd("(",t.section.items.length+t.integrationLinks.length,")")}}function ge(t,e){if(1&t){const t=i.dc();i.cc(0,"div",13),i.qc("click",function(){i.Uc(t);const a=e.$implicit;return i.uc(2).showGitModal(a.type)}),i.bc()}if(2&t){const t=e.$implicit,a=i.uc(2);i.Dc("icon",a.integrationSettings[t.type].icon)}}function be(t,e){if(1&t&&i.Xb(0,"div",16),2&t){const t=i.uc().$implicit;i.ad("fill",null==t||null==t.type?null:t.type.color),i.Dc("icon",t.type.icon)}}function fe(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"cu-entity-links-badge",14),i.qc("linkClicked",function(e){return i.Uc(t),i.uc(2).linkClicked.emit(e.link)}),i.bc(),i.bd(2,be,1,3,"ng-template",null,15,i.cd),i.Zb()}if(2&t){const t=e.$implicit,a=i.Rc(3);i.Ib(1),i.Dc("links",t.links)("linkIcon",t.type.icon)("label",t.type.label)("color",t.type.color)("toggleTemplate",a)}}function ke(t,e){if(1&t&&(i.cc(0,"div",10),i.bd(1,ge,1,1,"div",11),i.bd(2,fe,4,5,"ng-container",12),i.bc()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngForOf",t.section.items)("ngForTrackBy",t.trackById),i.Ib(1),i.Dc("ngForOf",t.integrationLinks)("ngForTrackBy",t.trackById)}}function _e(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationship-type-version-control",19),i.qc("showGitModal",function(e){return i.Uc(t),i.uc(2).showGitModal(e.integration,e.tab)}),i.vc(1,"async"),i.bc()}if(2&t){const t=e.$implicit,a=i.uc(2);i.ad("pointer-events",i.wc(1,5,a.canManageGit$)?null:"none"),i.Dc("counts",t.item)("type",t.type)("options",a.integrationSettings[t.type])}}function we(t,e){if(1&t&&(i.cc(0,"div",26),i.Xb(1,"div",16),i.cc(2,"div",27),i.dd(3),i.bc(),i.bc()),2&t){const t=i.uc().$implicit;i.Ib(1),i.ad("fill",null==t||null==t.type?null:t.type.color),i.Dc("icon",t.type.icon),i.Ib(2),i.fd(" ",t.type.label," ")}}function ve(t,e){if(1&t&&(i.cc(0,"div",28),i.gc(1,29),i.bc()),2&t){const t=i.uc().$implicit;i.Ib(1),i.kc(t.links.length)(t.links.length),i.hc(1)}}const ye=function(){return["right","auto"]};function xe(t,e){if(1&t){const t=i.dc();i.cc(0,"div",20),i.cc(1,"cu-entity-links-badge",21),i.qc("linkClicked",function(e){return i.Uc(t),i.uc(2).linkClicked.emit(e.link)}),i.bc(),i.bd(2,we,4,4,"ng-template",null,22,i.cd),i.cc(4,"div",23),i.cc(5,"cu-entity-links-badge",24),i.qc("linkClicked",function(e){return i.Uc(t),i.uc(2).linkClicked.emit(e.link)}),i.bc(),i.bd(6,ve,2,2,"ng-template",null,25,i.cd),i.bc(),i.bc()}if(2&t){const t=e.$implicit,a=i.Rc(3),o=i.Rc(7);i.Ib(1),i.Dc("links",t.links)("linkIcon",t.type.icon)("label",t.type.label)("color",t.type.color)("toggleTemplate",a)("popoverPlacement",i.Gc(11,ye)),i.Ib(4),i.Dc("links",t.links)("linkIcon",t.type.icon)("label",t.type.label)("color",t.type.color)("toggleTemplate",o)}}function Te(t,e){if(1&t&&(i.ac(0),i.bd(1,_e,2,7,"cu-task-relationship-type-version-control",17),i.bd(2,xe,8,12,"div",18),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngForOf",t.section.items)("ngForTrackBy",t.trackById),i.Ib(1),i.Dc("ngForOf",t.integrationLinks)("ngForTrackBy",t.trackById)}}let Ie=(()=>{class t{constructor(t,e,a,n,s,c){this.modalService=t,this.injector=e,this.store=a,this.gitlab=n,this.bitbucket=s,this.github=c,this.integrationLinks=[],this.toggleCollapsed=new i.o,this.linkClicked=new i.o,this.integrationSettings={github:{icon:"github",label:"GitHub",service:this.github},gitlab:{icon:"gitlab",label:"GitLab",pullRequestLabel:"Merge Request",service:this.gitlab},bitbucket:{icon:"bitbucket",label:"BitBucket",service:this.bitbucket}},this.canManageGit$=this.store.select(ht.canManageGit),this.trackById=Object(o.d)("id")}showGitModal(t,e){const a=this.modalService.openComponent(ce.a,this.injector,{blank:!0,modifier:"cu-modal_cu-git-integration-modal",preventExternalClick:!1});a.instance.task=this.task,a.instance.integration=this.integrationSettings[t].service,a.instance.team=this.team,a.instance.user=this.user,e&&a.instance.selectTab(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(C.a),i.Wb(i.t),i.Wb(T.Store),i.Wb(re.a),i.Wb(le.a),i.Wb(ue.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships-table-integrations"]],hostAttrs:[1,"cu-task-relationships-table-tasks-integrations"],inputs:{isLastTable:"isLastTable",section:"section",allowCollapse:"allowCollapse",task:"task",team:"team",user:"user",integrationLinks:"integrationLinks"},outputs:{toggleCollapsed:"toggleCollapsed",linkClicked:"linkClicked"},decls:9,vars:8,consts:function(){let t,e;return t=$localize`:␟96a36799de76e356fdef285a7fb58850b6126ab0␟6989290707855161674:{VAR_PLURAL, plural, =1 {link} other {links}}`,t=i.lc(t,{VAR_PLURAL:"\ufffd1\ufffd"}),e=$localize`:@@cu-task-relationship__link-count␟ed5fdc5424be3f52964d1804e834ef8dc250f5c8␟2476214056696771515: ${"\ufffd0\ufffd"}:INTERPOLATION: ${t}:ICU: `,[[1,"cu-task-relationships-table-tasks-lazy"],[1,"cu-task-relationships-table-tasks-lazy__tasks-list"],[1,"cu-task-relationships-table-tasks-lazy__type",3,"click"],["class","cu-task-relationships-table-tasks-lazy__collapse-indicator","icon","cu3-triangle",3,"cu-task-relationships-table-tasks-lazy__collapse-indicator_collapsed",4,"ngIf"],[1,"cu-task-relationships-table-tasks-lazy__type-name"],["class","cu-task-relationships-table-tasks-lazy__type-name-item-count",4,"ngIf"],["class","cu-task-relationships-table-tasks-lazy__type-value",4,"ngIf"],[4,"ngIf"],["icon","cu3-triangle",1,"cu-task-relationships-table-tasks-lazy__collapse-indicator"],[1,"cu-task-relationships-table-tasks-lazy__type-name-item-count"],[1,"cu-task-relationships-table-tasks-lazy__type-value"],["class","cu-task-relationship-type__icon",3,"icon","cuPreventDefault","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-task-relationship-type__icon",3,"icon","cuPreventDefault","click"],[3,"links","linkIcon","label","color","toggleTemplate","cuPreventDefault","linkClicked"],["linksRowTemplate",""],[1,"cu-task-relationship-type__icon",3,"icon"],[3,"pointerEvents","counts","type","options","showGitModal",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-task-relationship-type__container",4,"ngFor","ngForOf","ngForTrackBy"],[3,"counts","type","options","showGitModal"],[1,"cu-task-relationship-type__container"],[3,"links","linkIcon","label","color","toggleTemplate","popoverPlacement","linkClicked"],["linksTitleTemplate",""],[1,"cu-task-relationship-type__columns-container"],[3,"links","linkIcon","label","color","toggleTemplate","linkClicked"],["linksTemplate",""],[1,"cu-task-relationship-type__title"],[1,"cu-task-relationship-type__title-link"],[1,"cu-task-relationship-type__column","cu-task-relationship-type__column_link"],e]},template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"div",1),i.cc(2,"div",2),i.qc("click",function(){return e.toggleCollapsed.emit()}),i.bd(3,me,1,2,"span",3),i.cc(4,"div",4),i.dd(5," Integrations "),i.bd(6,he,2,1,"span",5),i.bc(),i.bd(7,ke,3,4,"div",6),i.bc(),i.bd(8,Te,3,4,"ng-container",7),i.bc(),i.bc()),2&t&&(i.Ob("cu-task-relationships-table-tasks-lazy_last-table",e.isLastTable),i.Ib(2),i.Ob("cu-task-relationships-table-tasks-lazy__type_border-bottom",!e.section.collapsed),i.Ib(1),i.Dc("ngIf",e.allowCollapse),i.Ib(3),i.Dc("ngIf",null==e.section?null:e.section.collapsed),i.Ib(1),i.Dc("ngIf",null==e.section?null:e.section.collapsed),i.Ib(1),i.Dc("ngIf",!e.allowCollapse||!(null!=e.section&&e.section.collapsed)))},directives:[S.q,j.a,S.p,B.a,de.a,pe],pipes:[S.b],styles:[".cu-task-relationships-table-tasks-integrations .cu-task-relationship-type__container:last-child{border-bottom:0}"],encapsulation:2,changeDetection:0}),t})();const Ce=["selectTaskDropdownTemplate"],De=["dependenciesDropdownItemTemplate"],Se=["selectDocDropdownTemplate"],Oe=["addLinkMenu"],je=function(){return["bottom","top","auto"]};function Pe(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",5,6),i.qc("onSelect",function(e){return i.Uc(t),i.uc().addRelationshipClicked(e)}),i.cc(2,"div",7),i.dd(3," + "),i.ac(4),i.gc(5,8),i.Zb(),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Dc("items",t.addLinkMenuItems)("dropdownPlacement",i.Gc(3,je))("autoClose",!1)}}const Ae=function(){return["bottom-left","top-left","auto"]};function $e(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",15,6),i.qc("onSelect",function(e){return i.Uc(t),i.uc(3).addRelationshipClicked(e)}),i.cc(2,"span",16),i.gc(3,17),i.bc(),i.Xb(4,"div",18),i.bc()}if(2&t){const t=i.uc(3);i.Dc("items",t.addLinkMenuItems)("dropdownPlacement",i.Gc(3,Ae))("autoClose",!1)}}function Re(t,e){if(1&t&&(i.cc(0,"div",11),i.cc(1,"div",12),i.gc(2,13),i.bc(),i.bd(3,$e,5,4,"cu-dropdown-list",14),i.bc()),2&t){const t=i.uc(2);i.Ib(3),i.Dc("ngIf",null==t.hostTask||null==t.hostTask.permissions?null:t.hostTask.permissions.can_create_relationships)}}function Fe(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-tasks-two-way-links",25),i.qc("toggleCollapsed",function(){i.Uc(t);const e=i.uc(2).$implicit;return i.uc(2).toggleCollapseSection(e)})("addTwoWayTaskLink",function(e){return i.Uc(t),i.uc(4).addTwoWayTaskLink(e.task)})("updateColumns",function(e){i.Uc(t);const a=i.uc(2).$implicit;return i.uc(2).updateColumns(a,e.columns)})("updateSection",function(e){return i.Uc(t),i.uc(4).updateSection(e)}),i.vc(1,"async"),i.bc()}if(2&t){const t=i.uc(2),e=t.last,a=t.$implicit,o=i.uc(2),n=i.Rc(3);i.Dc("task",o.hostTask)("team",o.team)("permissions",null==o.hostTask?null:o.hostTask.permissions)("forViewTask",o.forViewTask)("project",o.project)("isLastTable",e)("section",a)("allowCollapse",o.allowCollapse)("taskCache",i.wc(1,10,o.taskCache$))("selectTaskDropdownTemplate",n)}}function Me(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-tasks-dependencies",26),i.qc("toggleCollapsed",function(){i.Uc(t);const e=i.uc(2).$implicit;return i.uc(2).toggleCollapseSection(e)})("createDependency",function(e){return i.Uc(t),i.uc(4).createDependency(e.task,e.isBlocker,e.removeReverse)})("updateColumns",function(e){i.Uc(t);const a=i.uc(2).$implicit;return i.uc(2).updateColumns(a,e.columns)})("updateSection",function(e){return i.Uc(t),i.uc(4).updateSection(e)}),i.vc(1,"async"),i.bc()}if(2&t){const t=i.uc(2),e=t.last,a=t.$implicit,o=i.uc(2),n=i.Rc(5);i.Dc("task",o.hostTask)("team",o.team)("permissions",null==o.hostTask?null:o.hostTask.permissions)("forViewTask",o.forViewTask)("project",o.project)("isLastTable",e)("section",a)("allowCollapse",o.allowCollapse)("taskCache",i.wc(1,10,o.taskCache$))("selectTaskDropdownTemplate",n)}}function Ee(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-tasks-custom-field",27),i.qc("toggleCollapsed",function(){i.Uc(t);const e=i.uc(2).$implicit;return i.uc(2).toggleCollapseSection(e)})("fieldValueChange",function(e){i.Uc(t);const a=i.uc(2).$implicit;return i.uc(2).updateCustomFieldValue(a,e.value)})("removeSection",function(){i.Uc(t);const e=i.uc(2).$implicit;return i.uc(2).removeSection(e)})("updateSection",function(e){return i.Uc(t),i.uc(4).updateSection(e)})("reloadRelationshipLinks",function(){return i.Uc(t),i.uc(4).reloadRelationshipLinks.emit()}),i.bc()}if(2&t){const t=i.uc(2),e=t.$implicit,a=t.last,o=i.uc(2);i.Dc("task",o.hostTask)("team",o.team)("permissions",null==o.hostTask?null:o.hostTask.permissions)("field",e.custom_field)("fieldValue",e.custom_field.value)("forViewTask",o.forViewTask)("project",o.project)("isLastTable",a)("section",e)("allowCollapse",o.allowCollapse)}}function Ue(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-docs",28),i.qc("toggleCollapsed",function(){i.Uc(t);const e=i.uc(2).$implicit;return i.uc(2).toggleCollapseSection(e)})("addLinkedPage",function(e){return i.Uc(t),i.uc(4).addLinkedPage(e)})("updateSection",function(e){return i.Uc(t),i.uc(4).updateSection(e)}),i.bc()}if(2&t){const t=i.uc(2),e=t.last,a=t.$implicit,o=i.uc(2);i.Dc("isLastTable",e)("section",a)("allowCollapse",o.allowCollapse)("addedPageIds",o.addedPageIds)("canCreateRelationships",null==o.hostTask||null==o.hostTask.permissions?null:o.hostTask.permissions.can_create_relationships)}}function Le(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-backlinks",29),i.qc("toggleCollapsed",function(){i.Uc(t);const e=i.uc(2).$implicit;return i.uc(2).toggleCollapseSection(e)})("createTaskLinkFromBacklink",function(e){i.Uc(t);const a=i.uc(2).$implicit;return i.uc(2).createTaskLinkFromBacklink(a,e.backlinkId,e.task)})("createDocLinkFromBacklink",function(e){i.Uc(t);const a=i.uc(2).$implicit;return i.uc(2).createDocLinkFromBacklink(a,e.backlinkId,e.page)}),i.vc(1,"async"),i.bc()}if(2&t){const t=i.uc(2),e=t.last,a=t.$implicit,o=i.uc(2);i.Dc("isLastTable",e)("section",a)("allowCollapse",o.allowCollapse)("taskCache",i.wc(1,5,o.taskCache$))("showCreateLink",(null==o.hostTask||null==o.hostTask.permissions?null:o.hostTask.permissions.can_create_relationships)&&!1)}}function ze(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-relationships-table-integrations",30),i.qc("toggleCollapsed",function(){i.Uc(t);const e=i.uc(2).$implicit;return i.uc(2).toggleCollapseSection(e)})("linkClicked",function(e){return i.Uc(t),i.uc(4).linkClicked.emit(e)}),i.bc()}if(2&t){const t=i.uc(2),e=t.last,a=t.$implicit,o=i.uc(2);i.Dc("isLastTable",e)("section",a)("allowCollapse",o.allowCollapse)("task",o.hostTask)("team",o.team)("user",o.user)("integrationLinks",o.integrationLinks)}}function Ve(t,e){if(1&t&&(i.ac(0),i.bd(1,Fe,2,12,"cu-task-relationships-table-tasks-two-way-links",19),i.bd(2,Me,2,12,"cu-task-relationships-table-tasks-dependencies",20),i.bd(3,Ee,1,10,"cu-task-relationships-table-tasks-custom-field",21),i.bd(4,Ue,1,5,"cu-task-relationships-table-docs",22),i.bd(5,Le,2,7,"cu-task-relationships-table-backlinks",23),i.bd(6,ze,1,7,"cu-task-relationships-table-integrations",24),i.Zb()),2&t){const t=i.uc().$implicit,e=i.uc(2);i.Ib(1),i.Dc("ngIf","tasks"===t.relationship&&(t.items.length>0||(null==e.hostTask||null==e.hostTask.permissions?null:e.hostTask.permissions.add_dependencies))),i.Ib(1),i.Dc("ngIf","dependencies"===t.relationship&&(t.items.length>0||(null==e.hostTask||null==e.hostTask.permissions?null:e.hostTask.permissions.add_dependencies))),i.Ib(1),i.Dc("ngIf",t.custom_field&&(t.items.length>0||(null==e.hostTask||null==e.hostTask.permissions?null:e.hostTask.permissions.set_custom_field_values))),i.Ib(1),i.Dc("ngIf","pages"===t.relationship&&(t.items.length>0||(null==e.hostTask||null==e.hostTask.permissions?null:e.hostTask.permissions.can_create_relationships))),i.Ib(1),i.Dc("ngIf","backlinks"===t.relationship),i.Ib(1),i.Dc("ngIf","integrations"===t.relationship)}}function Ne(t,e){if(1&t&&(i.ac(0),i.bd(1,Ve,7,6,"ng-container",1),i.Zb()),2&t){const t=e.$implicit,a=i.uc(2);i.Ib(1),i.Dc("ngIf",a.singleSection||t.items.length>0||t.custom_field||"integrations"===t.relationship&&a.integrationLinks.length>0)}}function qe(t,e){if(1&t&&(i.ac(0),i.bd(1,Re,4,1,"div",9),i.bd(2,Ne,2,1,"ng-container",10),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",!t.singleSection),i.Ib(1),i.Dc("ngForOf",t.sections)("ngForTrackBy",t.trackByRelationship)}}function Be(t,e){if(1&t&&i.Xb(0,"div",39),2&t){const t=i.uc().originalItem;i.ad("fill",t.iconColor),i.Dc("icon",t.icon)}}function Ge(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-selector",40),i.qc("onDropdownReposition",function(){return i.Uc(t),i.uc(),i.Rc(1).positionMenu()})("onSelect",function(e){return i.Uc(t),i.uc().originalItem.customPayload.onClick(e.task)}),i.bc()}if(2&t){const t=i.uc().originalItem,e=i.uc();i.Dc("modifier","task-selector_task-mentions")("task",e.hostTask)("excludeCurrentTask",!1)("defaultProject",e.project)("taskIdsToExclude",t.customPayload.taskIdsToExclude)("searchSubtasks",!0)("excludeParentTask",!1)("excludeArchived",!0)("subcategoryId",t.customPayload.subcategoryId)("showRecent",!t.customPayload.subcategoryId)("defaultSubcategory",null==e.hostTask?null:e.hostTask.subcategory)("milestonesOnly","milestone"===t.id)}}function Xe(t,e){if(1&t&&(i.cc(0,"div",31,32),i.cc(2,"div",33),i.cc(3,"div",34),i.bd(4,Be,1,3,"div",35),i.cc(5,"span",36),i.cc(6,"div",37),i.dd(7),i.bc(),i.bc(),i.bc(),i.bc(),i.bd(8,Ge,1,12,"cu-task-selector",38),i.bc()),2&t){const t=e.originalItem;i.Dc("dropdownCloseOnInsideClick",!1),i.Ib(4),i.Dc("ngIf",t.icon),i.Ib(2),i.Dc("cuTooltip",null==t?null:t.title)("tooltipDisabledIfTextNotTruncated",!0),i.Ib(1),i.fd(" ",null==t?null:t.title," ")}}function We(t,e){if(1&t&&i.Xb(0,"div",39),2&t){const t=i.uc().originalItem;i.ad("fill",t.iconColor),i.Dc("icon",t.icon)}}function He(t,e){if(1&t&&(i.cc(0,"div",44),i.dd(1),i.bc()),2&t){const t=i.uc().originalItem;i.Ib(1),i.fd(" ",null==t?null:t.description," ")}}function Ze(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-selector",45),i.qc("onDropdownReposition",function(){return i.Uc(t),i.uc(),i.Rc(1).positionMenu()})("onSelect",function(e){return i.Uc(t),i.uc().originalItem.customPayload.onClick(e.task)}),i.bc()}if(2&t){const t=i.uc().originalItem,e=i.uc();i.Dc("task",e.hostTask)("excludeCurrentTask",!1)("defaultProject",e.project)("taskIdsToExclude",t.customPayload.taskIdsToExclude)("searchSubtasks",!0)("excludeParentTask",!1)("excludeArchived",!0)("defaultSubcategory",null==e.hostTask?null:e.hostTask.subcategory)("milestonesOnly","milestone"===t.id)}}function Qe(t,e){if(1&t&&(i.cc(0,"div",31,32),i.cc(2,"div",41),i.cc(3,"div",34),i.bd(4,We,1,3,"div",35),i.cc(5,"span",36),i.cc(6,"div",37),i.dd(7),i.bc(),i.bc(),i.bc(),i.bd(8,He,2,1,"div",42),i.bc(),i.bd(9,Ze,1,9,"cu-task-selector",43),i.bc()),2&t){const t=e.originalItem;i.Dc("dropdownCloseOnInsideClick",!1),i.Ib(4),i.Dc("ngIf",t.icon),i.Ib(2),i.Dc("cuTooltip",null==t?null:t.title)("tooltipDisabledIfTextNotTruncated",!0),i.Ib(1),i.fd(" ",null==t?null:t.title," "),i.Ib(1),i.Dc("ngIf",!(null==t||!t.description))}}function Ke(t,e){if(1&t&&i.Xb(0,"div",39),2&t){const t=i.uc().originalItem;i.ad("fill",t.iconColor),i.Dc("icon",t.icon)}}function Je(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-doc-recent",48),i.qc("onGeometryChange",function(){return i.Uc(t),i.uc(),i.Rc(1).positionMenu()})("onSelect",function(e){return i.Uc(t),i.uc(2).addLinkedPage(e.page)}),i.bc()}if(2&t){const t=i.uc(2);i.Dc("excludePageIds",t.addedPageIds)("searchEnabled",!0)}}function Ye(t,e){if(1&t&&(i.cc(0,"div",31,46),i.cc(2,"div",33),i.cc(3,"div",34),i.bd(4,Ke,1,3,"div",35),i.cc(5,"span",36),i.cc(6,"div",37),i.dd(7),i.bc(),i.bc(),i.bc(),i.bc(),i.bd(8,Je,1,2,"cu-doc-recent",47),i.bc()),2&t){const t=e.originalItem;i.Dc("dropdownCloseOnInsideClick",!1),i.Ib(4),i.Dc("ngIf",t.icon),i.Ib(2),i.Dc("cuTooltip",null==t?null:t.title)("tooltipDisabledIfTextNotTruncated",!0),i.Ib(1),i.fd(" ",null==t?null:t.title," ")}}let ta=(()=>{class t{constructor(t,e,a,n,s,r){this.store=t,this.actions$=e,this.sharedDocService=a,this.injector=n,this.modal=s,this.sharedTaskService=r,this.integrationsEnabled={},this.saveRelationshipChanges=new i.o,this.setRelationships=new i.o,this.reloadRelationshipLinks=new i.o,this.taskOpened=new i.o,this.linkClicked=new i.o,this.destroy$=new c.a,this.trackByRelationship=Object(o.d)("relationship"),this.addLinkMenuItems=[],this.showAddRelationship=!1,this.taskCache$=this.store.select(v.g),this.integrationLinks=[],this.loadedCustomFieldSubcategoryIds=[],this.loadedTaskIds=[]}ngOnInit(){Object(r.a)(this.actions$.pipe(Object(l.d)(s.o,s.e,h.a.type,h.b.type,h.g.type,f.v.type,h.d.type)),this.sharedDocService.onCloseModal).pipe(Object(u.a)(this.destroy$)).subscribe(()=>{this.reloadRelationshipLinks.emit()}),Object(r.a)(this.actions$.pipe(Object(l.d)(s.p,s.F,s.f,s.I)),this.actions$.pipe(Object(l.d)(f.t),Object(d.a)(t=>t.field.type===b.a.ListRelationship||t.field.type===b.a.Tasks))).pipe(Object(d.a)(()=>this.relationships.sections.some(t=>t.fields.some(t=>{var e;return null===(e=t.rollup)||void 0===e?void 0:e.func}))),Object(u.a)(this.destroy$)).subscribe(()=>{this.reloadRelationshipLinks.emit()}),this.actions$.pipe(Object(l.d)(f.t),Object(u.a)(this.destroy$)).subscribe(t=>{const e=this.sections.find(e=>{var a;return(null===(a=e.custom_field)||void 0===a?void 0:a.id)===t.field.id});e&&this.updateCustomFieldValue(e,t.value)}),this.sharedTaskService.onOpen.pipe(Object(u.a)(this.destroy$)).subscribe(()=>{this.taskOpened.emit()}),this.actions$.pipe(Object(l.d)(h.f.type),Object(u.a)(this.destroy$)).subscribe(t=>{const e=this.sections.find(t=>"pages"===t.relationship);this.updateSection(Object.assign(Object.assign({},e),{items:e.items.map(e=>e.id===t.resourceA.item.id?Object.assign(Object.assign({},e),{id:t.linkId}):e)}))})}ngOnDestroy(){this.destroy$.next()}ngOnChanges(t){var e,a,i,o,s,c;if(t.relationships&&this.relationships){this.showAddRelationship=!this.singleSection&&this.relationships.sections.every(t=>0===t.items.length&&!t.custom_field)&&0===this.integrationLinks.length,this.sections=this.singleSection?[Object.assign(Object.assign({},this.relationships.sections.find(t=>t.relationship===this.singleSection)),{collapsed:!1})]:this.relationships.sections,this.addedPageIds=null===(i=null===(a=null===(e=this.sections.find(t=>"pages"===t.relationship))||void 0===e?void 0:e.items)||void 0===a?void 0:a.map(t=>{var e;return null===(e=t.item)||void 0===e?void 0:e.id}))||void 0===i?void 0:i.filter(Boolean),this.addLinkMenuItems=[{id:"title",title:"Add new relationship",type:n.a.Header},{id:"task",title:"Task",icon:"cu3-task",dropdownTemplate:this.selectTaskDropdownTemplate,customPayload:{taskIdsToExclude:[this.hostTask.id],onClick:t=>{this.addLinkMenu.close(),this.addTwoWayTaskLink(t)}}},{id:"dependency",title:"Dependency",icon:"dependency-o",subitems:[{id:"waitingOn",title:$localize`:@@common_waiting-on:Waiting on`,icon:"dependency-o",iconColor:"#F9CA10",description:"Tasks that must be completed before this task",dropdownTemplate:this.dependenciesDropdownItemTemplate,customPayload:{taskIdsToExclude:[this.hostTask.id],onClick:t=>{this.addLinkMenu.close(),this.createDependency(t,!0)}}},{id:"blocking",title:$localize`:@@common_blocking-dependency-1:Blocking`,icon:"dependency-o",iconColor:"#E8341E",description:"Tasks that can't start until this task is completed",dropdownTemplate:this.dependenciesDropdownItemTemplate,customPayload:{taskIdsToExclude:[this.hostTask.id],onClick:t=>{this.addLinkMenu.close(),this.createDependency(t,!1)}}}]},{id:"doc",title:"Doc",icon:"cu3-doc",dropdownTemplate:this.selectDocDropdownTemplate},...this.relationships.sections.filter(t=>t.custom_field).map(t=>({id:t.relationship,title:t.custom_field.type===b.a.ListRelationship&&t.custom_field.inverted_field?t.custom_field.type_config.field_inverted_name||t.custom_field.type_config.subcategory_inverted_name:t.custom_field.name,icon:"field-list_relationship",dropdownTemplate:this.selectTaskDropdownTemplate,customPayload:{taskIdsToExclude:[this.hostTask.id,...t.items.map(t=>t.id)],subcategoryId:t.custom_field.type===b.a.ListRelationship?t.custom_field.type_config.subcategory_id:null,onClick:e=>{const a=[...t.custom_field.value,Object(x.b)(e)];this.store.dispatch(Object(f.r)({taskId:this.hostTask.id,field:t.custom_field,oldValue:t.custom_field.value,value:a})),this.updateCustomFieldValue(t,a),this.addLinkMenu.close()}}})),{id:"sep",type:n.a.Separator,title:""},{id:"new-relationship",title:$localize`:@@custom-fields_create-relationship:Create Relationship`,icon:"cu3-plus",customPayload:{onClick:()=>{this.addLinkMenu.close();const t=this.modal.openComponent(g.a,this.injector,{title:$localize`:@@custom-fields_create-relationship:Create Relationship`,dialogModifier:"cu-modal__dialog-custom-fields",preventExternalClick:!0,bodyModifier:"cu-modal__body_no-min-height"});t.instance.setEntity({type:"subcategory",id:this.hostTask.subcategory.id,name:this.hostTask.subcategory.name}),t.instance.forRelationships=!0,t.instance.startCreate(b.a.Tasks),t.instance.destroy$.pipe(Object(p.a)(1)).subscribe(()=>{this.reloadRelationshipLinks.emit()})}}}];const t=Object(k.a)(this.relationships.sections.filter(t=>{var e;return(!this.singleSection||this.singleSection===t.relationship)&&(null===(e=t.custom_field)||void 0===e?void 0:e.type)===b.a.ListRelationship&&t.custom_field.entity.access}).map(t=>t.custom_field).filter(t=>t.type_config.linked_subcategory_access&&!this.loadedCustomFieldSubcategoryIds.includes(t.type_config.subcategory_id)),"type_config.subcategory_id");t.forEach(t=>{const e={id:t.type_config.subcategory_id,name:t.type_config.field_inverted_name,type:"subcategory"};this.store.dispatch(Object(f.m)({entity:e}))}),this.loadedCustomFieldSubcategoryIds=[...this.loadedCustomFieldSubcategoryIds,...t.map(t=>t.type_config.subcategory_id)];const o=Object(_.a)(this.relationships.sections.filter(t=>!this.singleSection||this.singleSection===t.relationship).map(t=>t.custom_field?(t.custom_field.value||[]).filter(t=>t.access).map(t=>t.id):t.items.filter(e=>"tasks"===t.relationship||["task","waiting_on","depends_on"].includes(e.type)).map(t=>t.id)).flat().filter(t=>!this.loadedTaskIds.includes(t)));this.store.dispatch(new w.n({ids:o})),this.loadedTaskIds=[...this.loadedTaskIds,...o]}(t.singleSection||t.hostTask)&&(this.allowCollapse=!this.singleSection&&(null===(s=null===(o=this.hostTask)||void 0===o?void 0:o.permissions)||void 0===s?void 0:s.can_create_relationships)),t.hostTask&&(this.integrationLinks=(null===(c=this.hostTask)||void 0===c?void 0:c.links)?Object(y.a)(this.hostTask.links).filter(t=>"all"!==t.id&&"doc_links"!==t.id):[],this.integrationLinks.length>0&&(this.showAddRelationship=!1))}toggleCollapseSection(t){if(this.allowCollapse){const e=Object.assign(Object.assign({},t),{collapsed:!t.collapsed});this.updateSection(e,!0)}}toggleField(t,e){const a=t.fields.some(t=>t.field===e.field),i=Object.assign(Object.assign({},t),{fields:a?t.fields.filter(t=>t.field!==e.field):[...t.fields,e]});this.updateSection(i,!0)}updateSection(t,e=!1){const a=Object.assign(Object.assign({},this.relationships),{sections:this.relationships.sections.map(e=>e.relationship===t.relationship?t:e)});this.setRelationships.emit({relationships:a}),e&&this.saveRelationshipChanges.emit({sections:a.sections})}addItemClicked(t){t.customPayload&&t.customPayload.onClick&&t.customPayload.onClick()}createDependency(t,e,a){this.store.dispatch(new w.f([t])),this.addPendingRow("dependencies",{id:t.id,type:e?"waiting_on":"depends_on"},a),this.store.dispatch(new s.r({currentTask:this.hostTask,selectedTask:t,batchedTasks:[],isBlocker:e,forBatch:!1,removeReverse:a}))}createTaskLinkFromBacklink(t,e,a){this.updateSection(Object.assign(Object.assign({},t),{items:t.items.filter(t=>t.id!==e)})),this.addTwoWayTaskLink(a,!0)}createDocLinkFromBacklink(t,e,a){this.updateSection(Object.assign(Object.assign({},t),{items:t.items.filter(t=>t.id!==e)})),this.addPendingRow("pages",{id:a.id,type:"page",item:a}),this.store.dispatch(Object(h.c)({backlinkId:e}))}addTwoWayTaskLink(t,e=!1){this.store.dispatch(new w.f([t])),this.addPendingRow("tasks",{id:t.id,type:"task"}),this.store.dispatch(new s.i({body:{task_id:this.hostTask.id,links_to:t.id,overwrite_backlinks:e}}))}addLinkedPage(t){var e;null===(e=this.addLinkMenu)||void 0===e||e.close(),this.addPendingRow("pages",{id:t.id,type:"page",item:t}),this.store.dispatch(Object(h.e)({resourceA:{link_type:"page",item:t},resourceB:{link_type:"task",item:this.hostTask}}))}addRelationshipClicked(t){"new-relationship"===t.id&&t.customPayload.onClick()}updateCustomFieldValue(t,e){this.updateSection(Object.assign(Object.assign({},t),{custom_field:Object.assign(Object.assign({},t.custom_field),{value:e})}))}updateColumns(t,e){this.updateSection(Object.assign(Object.assign({},t),{fields:e}),!0)}removeSection(t){this.setRelationships.emit({relationships:Object.assign(Object.assign({},this.relationships),{sections:this.relationships.sections.filter(e=>e.relationship!==t.relationship)})})}addPendingRow(t,e,a=!1){const i=this.relationships.sections.find(e=>e.relationship===t),o=a?i.items.filter(t=>t.id!==e.id):i.items;o.some(t=>t.id===e.id)||this.updateSection(Object.assign(Object.assign({},i),{items:[...o,e]}))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(T.Store),i.Wb(l.a),i.Wb(I.a),i.Wb(i.t),i.Wb(C.a),i.Wb(D.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-relationships"]],viewQuery:function(t,e){if(1&t&&(i.jd(Ce,3),i.jd(De,3),i.jd(Se,3),i.jd(Oe,1)),2&t){let t;i.Qc(t=i.rc())&&(e.selectTaskDropdownTemplate=t.first),i.Qc(t=i.rc())&&(e.dependenciesDropdownItemTemplate=t.first),i.Qc(t=i.rc())&&(e.selectDocDropdownTemplate=t.first),i.Qc(t=i.rc())&&(e.addLinkMenu=t.first)}},hostAttrs:[1,"cu-task-relationships"],inputs:{relationships:"relationships",isOffline:"isOffline",integrationsEnabled:"integrationsEnabled",team:"team",user:"user",hostTask:"hostTask",features:"features",project:"project",singleSection:"singleSection",forViewTask:"forViewTask"},outputs:{saveRelationshipChanges:"saveRelationshipChanges",setRelationships:"setRelationships",reloadRelationshipLinks:"reloadRelationshipLinks",taskOpened:"taskOpened",linkClicked:"linkClicked"},features:[i.Gb],decls:8,vars:2,consts:function(){let t,e,a;return t=$localize`:@@cu-task-relationships__dropdown-placeholder_add-relationship␟8df683badbf851bf0ccefc504ae134120fb355d3␟1276941894222462412:Add relationship`,e=$localize`:@@cu-task-relationships__title_relationships␟c11e3f0652b7b9c15f5ddaf6523aaa5a1fa68a09␟3898186302742705803: Relationships `,a=$localize`:@@common_add␟f6755cff4957d5c3c89bafce5651f1b6fa2b1fd9␟3249513483374643425:Add`,[["class","cu-task-relationships__add",3,"items","dropdownPlacement","autoClose","onSelect",4,"ngIf"],[4,"ngIf"],["selectTaskDropdownTemplate",""],["dependenciesDropdownItemTemplate",""],["selectDocDropdownTemplate",""],[1,"cu-task-relationships__add",3,"items","dropdownPlacement","autoClose","onSelect"],["addLinkMenu",""],[1,"cu-task-relationships__add-toggle"],t,["class","cu-task-relationships__header",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-task-relationships__header"],[1,"cu-task-relationships__header-title"],e,["class","cu-task-relationships__header-add",3,"items","dropdownPlacement","autoClose","onSelect",4,"ngIf"],[1,"cu-task-relationships__header-add",3,"items","dropdownPlacement","autoClose","onSelect"],[1,"cu-task-relationships__header-add-text"],a,["icon","dropdown-settings_down",1,"cu-task-relationships__header-add-dropdown"],[3,"task","team","permissions","forViewTask","project","isLastTable","section","allowCollapse","taskCache","selectTaskDropdownTemplate","toggleCollapsed","addTwoWayTaskLink","updateColumns","updateSection",4,"ngIf"],[3,"task","team","permissions","forViewTask","project","isLastTable","section","allowCollapse","taskCache","selectTaskDropdownTemplate","toggleCollapsed","createDependency","updateColumns","updateSection",4,"ngIf"],[3,"task","team","permissions","field","fieldValue","forViewTask","project","isLastTable","section","allowCollapse","toggleCollapsed","fieldValueChange","removeSection","updateSection","reloadRelationshipLinks",4,"ngIf"],[3,"isLastTable","section","allowCollapse","addedPageIds","canCreateRelationships","toggleCollapsed","addLinkedPage","updateSection",4,"ngIf"],[3,"isLastTable","section","allowCollapse","taskCache","showCreateLink","toggleCollapsed","createTaskLinkFromBacklink","createDocLinkFromBacklink",4,"ngIf"],[3,"isLastTable","section","allowCollapse","task","team","user","integrationLinks","toggleCollapsed","linkClicked",4,"ngIf"],[3,"task","team","permissions","forViewTask","project","isLastTable","section","allowCollapse","taskCache","selectTaskDropdownTemplate","toggleCollapsed","addTwoWayTaskLink","updateColumns","updateSection"],[3,"task","team","permissions","forViewTask","project","isLastTable","section","allowCollapse","taskCache","selectTaskDropdownTemplate","toggleCollapsed","createDependency","updateColumns","updateSection"],[3,"task","team","permissions","field","fieldValue","forViewTask","project","isLastTable","section","allowCollapse","toggleCollapsed","fieldValueChange","removeSection","updateSection","reloadRelationshipLinks"],[3,"isLastTable","section","allowCollapse","addedPageIds","canCreateRelationships","toggleCollapsed","addLinkedPage","updateSection"],[3,"isLastTable","section","allowCollapse","taskCache","showCreateLink","toggleCollapsed","createTaskLinkFromBacklink","createDocLinkFromBacklink"],[3,"isLastTable","section","allowCollapse","task","team","user","integrationLinks","toggleCollapsed","linkClicked"],["cuDropdown","",3,"dropdownCloseOnInsideClick"],["taskSelectorDropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown-list-item__link-container"],[1,"cu-dropdown-list-item__link"],["class","cu-dropdown-list-item__icon",3,"icon","fill",4,"ngIf"],[1,"cu-dropdown-list-item__title"],["tooltipDelay","300",1,"cu-dropdown-list-item__title-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["class","cu-task-relationships__task-selector",3,"modifier","task","excludeCurrentTask","defaultProject","taskIdsToExclude","searchSubtasks","excludeParentTask","excludeArchived","subcategoryId","showRecent","defaultSubcategory","milestonesOnly","onDropdownReposition","onSelect",4,"cuDropdownMenu"],[1,"cu-dropdown-list-item__icon",3,"icon"],[1,"cu-task-relationships__task-selector",3,"modifier","task","excludeCurrentTask","defaultProject","taskIdsToExclude","searchSubtasks","excludeParentTask","excludeArchived","subcategoryId","showRecent","defaultSubcategory","milestonesOnly","onDropdownReposition","onSelect"],["cuDropdownToggle","",1,"cu-dropdown-list-item__link-container","cu-task-relationships__dependencies-dropdown-list-item"],["class","cu-dropdown-list-item__link-description cu-dropdown-list-item__link-description_variant-1",4,"ngIf"],["class","cu-task-relationships__task-selector",3,"task","excludeCurrentTask","defaultProject","taskIdsToExclude","searchSubtasks","excludeParentTask","excludeArchived","defaultSubcategory","milestonesOnly","onDropdownReposition","onSelect",4,"cuDropdownMenu"],[1,"cu-dropdown-list-item__link-description","cu-dropdown-list-item__link-description_variant-1"],[1,"cu-task-relationships__task-selector",3,"task","excludeCurrentTask","defaultProject","taskIdsToExclude","searchSubtasks","excludeParentTask","excludeArchived","defaultSubcategory","milestonesOnly","onDropdownReposition","onSelect"],["docSelectorDropdown","dropdown"],["class","cu-task-relationships__task-selector",3,"excludePageIds","searchEnabled","onGeometryChange","onSelect",4,"cuDropdownMenu"],[1,"cu-task-relationships__task-selector",3,"excludePageIds","searchEnabled","onGeometryChange","onSelect"]]},template:function(t,e){1&t&&(i.bd(0,Pe,6,4,"cu-dropdown-list",0),i.bd(1,qe,3,3,"ng-container",1),i.bd(2,Xe,9,5,"ng-template",null,2,i.cd),i.bd(4,Qe,10,6,"ng-template",null,3,i.cd),i.bd(6,Ye,9,5,"ng-template",null,4,i.cd)),2&t&&(i.Dc("ngIf",e.showAddRelationship&&(null==e.hostTask||null==e.hostTask.permissions?null:e.hostTask.permissions.can_create_relationships)),i.Ib(1),i.Dc("ngIf",!e.showAddRelationship))},directives:[S.q,O.a,S.p,j.a,Q,ct,Pt,Gt,se,Ie,N.b,q.a,Rt.a,G.a,X.a,At.a],pipes:[S.b],styles:['.cu-task-relationship-type{display:flex;align-items:center;max-width:100%;min-width:0;flex-grow:1;height:35px;padding-top:5px;overflow-x:scroll;overflow-y:hidden;scrollbar-width:thin}@-moz-document url-prefix(){.cu-os-win .cu-task-relationship-type{scrollbar-color:#fff #fff}.cu-os-win.dark-theme .cu-task-relationship-type{scrollbar-color:#384047 #384047}.cu-os-win .cu-task-relationship-type:hover{scrollbar-color:#a0a0a5 #fff}.cu-os-win.dark-theme .cu-task-relationship-type:hover{scrollbar-color:#828588 #384047}}.cu-task-relationship-type::-webkit-scrollbar{height:5px}.cu-task-relationship-type:hover::-webkit-scrollbar{background-color:#fff;height:5px}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar{background:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar{background:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar{background:#2b343b}.cu-task-relationship-type:hover::-webkit-scrollbar-track{background-color:#fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-track{background:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track{background:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track{background:#2b343b}.cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background-color:#fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-track:hover{background:#2b343b}.cu-task-relationship-type:hover::-webkit-scrollbar-thumb{background-color:#e9ebf0;border-radius:8px;border:1px solid #fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-thumb{background-color:#2b343b;border-color:#384047}.cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-thumb{border-color:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:hover::-webkit-scrollbar-thumb{border-color:#2b343b;background-color:#384047}.cu-task-relationship-type:hover::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:1px solid #fff}.dark-theme .cu-task-relationship-type:hover::-webkit-scrollbar-thumb:hover{background-color:#1e272e;border-color:#384047}.cu-task-relationship-type:hover::-webkit-scrollbar-button{display:none}.cu-task-relationship-type:after{content:"";display:block;position:absolute;top:0;right:0;width:8px;height:100%;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-relationship-type:after{background:linear-gradient(90deg,rgba(56,64,71,0) 0,#384047)}.cu-task-relationships__table-row_alt .cu-task-relationship-type:after{background:linear-gradient(90deg,rgba(250,251,252,0) 0,#fafbfc)}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-relationship-type__container{min-width:100%;display:flex;white-space:nowrap;align-items:center;justify-content:flex-end;flex-shrink:0;padding:0;border-bottom:1px solid #e9ebf0}.dark-theme .cu-task-relationship-type__container{border-bottom-color:#1e272e}.cu-task-relationship-type__container:last-child{border-bottom:0}.cu-task-relationship-type__container .cu-entity-links-badge{flex-grow:1;min-width:0;height:100%}.cu-task-relationship-type__container .cu-entity-links-badge .cu-dropdown,.cu-task-relationship-type__container .cu-entity-links-badge .cu-dropdown__toggle{height:100%}.cu-task-relationship-type__title{display:flex;align-items:center;position:sticky;left:0;min-width:0;flex-grow:1;padding:5px 4px 5px 8px;margin-right:auto;height:34px;z-index:10;cursor:pointer;background:hsla(0,0%,100%,.9)}.dark-theme .cu-task-relationship-type__title{background:rgba(56,64,71,.9)}.cu-task-relationship-type-task .cu-task-relationship-type__title{max-width:500px}.cu-task-relationship-type__title:hover .cu-task-relationship-type__title-link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__title:hover .cu-task-relationship-type__title-link{color:var(--theme-main-color)}}.cu-task-relationships__table-row_alt .cu-task-relationship-type__title{background:rgba(250,251,252,.9)}.dark-theme .cu-task-relationships__table-row_alt .cu-task-relationship-type__title{background:rgba(43,52,59,.9)}.cu-task-row__linked-menu .cu-task-relationship-type__title{max-width:400px}.cu-task-relationship-type__title-link{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1}.cu-task-relationship-type__title-link:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__title-link:hover{color:var(--theme-main-color)}}.cu-task-relationship-type__icon{width:14px;height:14px;margin-right:7px;fill:#292d34}.dark-theme .cu-task-relationship-type__icon{fill:#d5d6d7}.cu-task-relationship-type__icon_doc,.cu-task-relationship-type__icon_goal{padding:1px}.cu-task-relationship-type__columns-container{display:flex;align-items:center;justify-content:flex-end;padding-right:10px;align-self:stretch}.cu-task-relationship-type__column{position:relative;flex-shrink:0;height:100%;margin-left:8px;display:flex;align-items:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-task-relationship-type__column{color:#abaeb0}.cu-task-relationship-type__column+.cu-task-relationship-type__column{margin-left:20px}.cu-task-relationship-type__column+.cu-task-relationship-type__column:before{content:"";display:block;position:absolute;border-radius:50%;height:4px;width:4px;margin-left:-12px;opacity:.5;background:#b9bec7}.dark-theme .cu-task-relationship-type__column+.cu-task-relationship-type__column:before{background:#abaeb0}.cu-task-relationship-type__column_link{cursor:pointer}.cu-task-relationship-type__column_link:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-relationship-type__column_link:hover{color:var(--theme-main-color-dark)}}.cu-task-relationship-type__column .cu-custom-field__static,.cu-task-relationship-type__column .cu-custom-field__static span{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-task-relationship-type__column .cu-custom-field__static,.dark-theme .cu-task-relationship-type__column .cu-custom-field__static span{color:#abaeb0}.cu-task-relationship-type__delete{fill:#7b68ee;position:sticky;right:0;width:22px;height:24px;cursor:pointer;margin-right:-4px;margin-left:6px;padding:4px 10px 4px 4px;background:#fff}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__delete{fill:var(--theme-main-color)}}.dark-theme .cu-task-relationship-type__delete{background:#384047}.cu-task-relationship-type__delete:hover{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-relationship-type__delete:hover{fill:var(--theme-main-color-dark)}}.cu-task-relationship-type__delete:before{content:"";display:block;position:absolute;top:0;left:-8px;width:8px;height:100%;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-relationship-type__delete:before{background:linear-gradient(90deg,rgba(56,64,71,0) 0,#384047)}.cu2-views-bar_v6 .cu-task-relationship-type__delete:before{height:100%}.cu-task-relationship-type__plus{display:flex;align-items:center;position:sticky;right:0;width:30px;height:24px;cursor:pointer;padding-right:10px;padding-left:4px;flex-shrink:0}.cu-task-relationship-type__plus:hover{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__plus:hover{border-color:var(--theme-main-color)}}.cu-task-relationship-type__plus:hover .cu-task-relationship-type__plus-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__plus:hover .cu-task-relationship-type__plus-icon{fill:var(--theme-main-color)}}.cu-task-relationship-type__plus-icon{box-shadow:0 0 4px rgba(0,0,0,.04);border-radius:4px;padding:3px;width:16px;height:16px;fill:#b9bec7;background:#fff;border:1px solid #e9ebf0}.dark-theme .cu-task-relationship-type__plus-icon{border-color:#1e272e;background:#384047;fill:#7c828d}.cu-task-relationship-type__remove{margin-right:10px;display:none;width:16px;height:16px;padding:4px;cursor:pointer;fill:#b9bec7}.dark-theme .cu-task-relationship-type__remove{fill:#7c828d}.cu-task-relationship-type__remove:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationship-type__remove:hover{fill:var(--theme-main-color)}}.cu-task-relationship-type__container:hover .cu-task-relationship-type__remove{display:block}','.cu-task-relationships-table-tasks-lazy{display:flex;width:100%;flex-direction:column;overflow:auto;border-radius:6px;position:relative;margin-bottom:15px;border:1px solid #e9ebf0;background:#fff;scrollbar-width:thin}.cu-os-win .cu-task-relationships-table-tasks-lazy{scrollbar-width:thin}.cu-os-win .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track,.cu-os-win .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar,.cu-os-win .dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar,.cu-os-win.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track{background-color:#384047}.cu-os-win.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track:hover{background-color:#384047}.cu-os-win.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb:hover{border-color:#384047}.dark-theme .cu-task-relationships-table-tasks-lazy{border-color:#1e272e;background:#384047}.cu-task-relationships-table-tasks-lazy::-webkit-scrollbar{background:#fff;width:10px;height:10px;border-bottom-left-radius:6px;border-bottom-right-radius:6px}.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar{background:#384047}.cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track{background:#fff;border-bottom-left-radius:6px;border-bottom-right-radius:6px}.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track{background:#384047}.cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track:hover{background:#fff}.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-track:hover{background:#384047}.cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb{background-color:#e9ebf0;border-radius:10px;border:2px solid #fff}.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb{background-color:#394047;border-color:#384047}.cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:1px solid #fff}.dark-theme .cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-thumb:hover{background-color:#1e262d;border-color:#384047}.cu-task-relationships-table-tasks-lazy::-webkit-scrollbar-button{display:none}.cu-task-relationships-table-tasks-lazy_last-table{margin-bottom:0}.cu-task-relationships-table-tasks-lazy__tasks-list{display:flex;flex-direction:column}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list{width:auto;min-width:100%;display:grid}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header,.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header__item_main{background:#fafbfc}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header__item_main{background:#2b343b}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-footer{border-top:1px solid #e9ebf0;position:relative}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-footer{border-top-color:#1e272e}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-footer__item_main{height:32px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-footer__items{padding-right:45px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header{top:0;height:32px;transform:translateZ(0);display:inline-flex}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header__items{margin-top:10px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header__item_main{padding:0}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header__count{display:none}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header-settings__add{margin-top:7px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header-field__title-text{padding:3px 0}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header-settings{width:35px;margin-left:10px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header-settings__add{display:none}.cu-task-list-header-settings .cu-dropdown_open .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header-settings__add,.cu-task-relationships-table-tasks-lazy:hover .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header-settings__add{display:block}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row{background:transparent}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row_readonly{cursor:default}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__remove-task{width:35px;min-width:35px;margin-left:10px}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__remove-task{border-bottom-color:#1e272e}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row-recurring-date-picker__value{height:36px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__container{box-shadow:none;border:0;border-radius:0!important;border-top:1px solid #e9ebf0}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__container{border-top-color:#1e272e;background:transparent}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__container>:not(.cu-task-row__main):not(.cu-task-row__remove-task):not(.cu-task-relationships-table-tasks-dependencies__change-dependency):not(.cu-task-row__custom-field){pointer-events:none}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__main{min-height:38px;padding-left:0;margin-bottom:0;border-top:1px solid #e9ebf0}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__main{border-top-color:#1e272e;border-bottom-color:#1e272e;background:rgba(56,64,71,.9)}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row-main__link-container{flex-direction:row}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row-main__link-inner{display:flex;align-items:center;margin-right:5px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row-status{width:36px;flex-shrink:0}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row-main__link-text .cu-tags-view{padding-right:0}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row-main__link-text-inner_short{padding-right:10px}.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row-assignee:after,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__custom-field_fadeout:after,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__datetime:after,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__id:after,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__priority:after,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list .cu-task-row__time-estimate:after{background:linear-gradient(90deg,rgba(56,64,71,0) 0,#384047)}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list-header__items_empty+.cu-task-list-header-settings{width:auto;margin-left:5px}.cu-task-relationships-table-tasks-lazy__tasks-list .cu-task-list__rows_empty+.cu-task-list-footer{display:none}.cu-task-relationships-table-tasks-lazy__empty{padding:20px 11px;margin-bottom:20px;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;font-style:italic;color:#7c828d}.dark-theme .cu-task-relationships-table-tasks-lazy__empty{color:#abaeb0}.cu-task-relationships-table-tasks-lazy__footer{position:sticky;left:0;display:flex;justify-content:space-between;align-items:center;width:100%;height:33px;border-radius:0 0 6px 6px;background:#fafbfc}.dark-theme .cu-task-relationships-table-tasks-lazy__footer{background:#2b343b}.cu-task-relationships-table-tasks-lazy__empty+.cu-task-relationships-table-tasks-lazy__footer:before,.cu-task-relationships-table-tasks-lazy__tasks-list+.cu-task-relationships-table-tasks-lazy__footer:before{content:"";display:block;position:absolute;width:100%;height:1px;top:0;left:0;background:#e9ebf0}.dark-theme .cu-task-relationships-table-tasks-lazy__empty+.cu-task-relationships-table-tasks-lazy__footer:before,.dark-theme .cu-task-relationships-table-tasks-lazy__tasks-list+.cu-task-relationships-table-tasks-lazy__footer:before{background:#1e272e}.cu-task-relationships-table-tasks-lazy__footer-add{height:100%;flex-grow:1}.cu-task-relationships-table-tasks-lazy__footer-add-toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:0 12px;font:400 11px/33px Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;color:#7c828d}.dark-theme .cu-task-relationships-table-tasks-lazy__footer-add-toggle{color:#abaeb0}.cu-task-relationships-table-tasks-lazy__footer-add-toggle:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships-table-tasks-lazy__footer-add-toggle:hover{color:var(--theme-main-color)}}.cu-task-relationships-table-tasks-lazy__footer-add-toggle_no-click{cursor:default}.cu-task-relationships-table-tasks-lazy .cu-task-list-header__actions{display:none}.cu-task-relationships-table-tasks-lazy__collapse-indicator{height:6px;width:8px;margin-right:10px;fill:#7c828d}.dark-theme .cu-task-relationships-table-tasks-lazy__collapse-indicator{color:#abaeb0}.cu-task-relationships-table-tasks-lazy__collapse-indicator_collapsed{transform:rotate(-90deg)}.cu-task-relationships-table-tasks-lazy__type{display:flex;align-items:center;padding:0 0 0 11px;height:32px;flex-grow:1;cursor:pointer;background:#fafbfc}.dark-theme .cu-task-relationships-table-tasks-lazy__type{background:#2b343b}.cu-task-relationships-table-tasks-lazy__type_border-bottom{height:33px;border-bottom:1px solid #e9ebf0}.dark-theme .cu-task-relationships-table-tasks-lazy__type_border-bottom{border-bottom-color:#1e272e}.cu-modal .cu-task-relationships-table-tasks-lazy__type{display:none}.cu-task-relationships-table-tasks-lazy__type-icon{width:16px;height:16px;margin-right:6px;flex-shrink:0;fill:#292d34}.dark-theme .cu-task-relationships-table-tasks-lazy__type-icon{fill:#d5d6d7}.cu-task-relationships-table-tasks-lazy__type-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#292d34;display:flex;align-items:center;flex-direction:row}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-relationships-table-tasks-lazy__type-name{font-family:var(--global-font-support)}}.dark-theme .cu-task-relationships-table-tasks-lazy__type-name{color:#d5d6d7}.cu-task-relationships-table-tasks-lazy__type-name-txt{display:flex}.cu-task-relationships-table-tasks-lazy__type-name-item-count{margin-left:5px;color:#b9bec7}.dark-theme .cu-task-relationships-table-tasks-lazy__type-name-item-count{color:#828588}.cu-task-relationships-table-tasks-lazy__type-name .cu-editable{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-relationships-table-tasks-lazy__type-name .cu-editable{font-family:var(--global-font-support)}}.cu-task-relationships-table-tasks-lazy__type-value{display:flex;flex-grow:1;justify-content:flex-end;font-size:12px;font-family:Gotham Pro,Proxima Nova,arial,serif}.cu-task-relationships-table-tasks-lazy__type-add{opacity:0;flex-shrink:0}.cu-task-relationships-table-tasks-lazy:hover .cu-task-relationships-table-tasks-lazy__type-add,.cu-task-relationships-table-tasks-lazy__type-add.cu-dropdown_open{opacity:1}.cu-task-relationships-table-tasks-lazy__type-add-toggle{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-right:10px;margin-left:10px;padding:5px;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;color:#7c828d}.dark-theme .cu-task-relationships-table-tasks-lazy__type-add-toggle{color:#abaeb0}.cu-task-relationships-table-tasks-lazy__type-add-toggle:hover,.cu-task-relationships-table-tasks-lazy__type-add.cu-dropdown_open .cu-task-relationships-table-tasks-lazy__type-add-toggle{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships-table-tasks-lazy__type-add-toggle:hover,.cu-task-relationships-table-tasks-lazy__type-add.cu-dropdown_open .cu-task-relationships-table-tasks-lazy__type-add-toggle{color:var(--theme-main-color)}}.cu-task-relationships-table-tasks-lazy__type-add-toggle_no-click{cursor:default}.cu-task-relationships-table-tasks-lazy__type .help-question-mark{margin-top:0}.cu-task-relationships-table-tasks-lazy__type-divider{flex-grow:1}.cu-task-relationships-table-tasks-lazy__btn{display:none;margin-right:10px;width:16px;height:16px;padding:2px;cursor:pointer;fill:#b9bec7}.dark-theme .cu-task-relationships-table-tasks-lazy__btn{fill:#7c828d}.cu-task-relationships-table-tasks-lazy__btn:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships-table-tasks-lazy__btn:hover{fill:var(--theme-main-color)}}.cu-task-relationships-table-tasks-lazy:hover .cu-task-relationships-table-tasks-lazy__btn{display:block}.cu-task-relationships-table-tasks-lazy__summary-item{margin-right:10px}.cu-task-relationships-table-tasks-lazy__summary-item:first-child{border-left:1px solid #e9ebf0;padding-left:10px}.dark-theme .cu-task-relationships-table-tasks-lazy__summary-item:first-child{border-left-color:#1e272e}.cu-task-relationships-table-tasks-lazy__summary-item:not(:last-child){border-right:1px solid #e9ebf0;padding-right:10px}.dark-theme .cu-task-relationships-table-tasks-lazy__summary-item:not(:last-child){border-right-color:#1e272e}.cu-task-relationships-table-tasks-lazy__summary-item_title,.cu-task-relationships-table-tasks-lazy__summary-item_value{display:block;font-family:Gotham Pro,Proxima Nova,arial,serif;font-style:normal;font-size:9px;color:#7c828d}.cu-task-relationships-table-tasks-lazy__summary-item_title{margin-bottom:2px;font-weight:500;opacity:.7;text-transform:uppercase}.cu-task-relationships-table-tasks-lazy__summary-item_value{font-weight:500;line-height:9px}','.cu-task-relationships{display:block}.cu-task-relationships_view-task{margin:20px 15px 30px 30px}.cu-task-relationships__header{display:flex;justify-content:normal}.cu-task-relationships__header-title{font:300 20px Proxima Nova,arial,serif;color:#343434}.dark-theme .cu-task-relationships__header-title{color:#d5d6d7}.cu-task-relationships__header-add .cu-dropdown{-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;margin:0 0 0 15px;border-radius:3px;height:22px;border:1px solid;cursor:pointer}.cu-task-relationships__header-add .cu-dropdown:hover{transition:none}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__header-add .cu-dropdown{border-color:var(--theme-main-color)}}.cu-task-relationships__header-add .cu-dropdown_open .cu-task-relationships__header-add-dropdown{transform:rotate(180deg)}.cu-task-relationships__header-add.cu-dropdown-list_opened .cu-dropdown,.cu-task-relationships__header-add:hover .cu-dropdown{background-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__header-add.cu-dropdown-list_opened .cu-dropdown,.cu-task-relationships__header-add:hover .cu-dropdown{background-color:var(--theme-main-color)}}.cu-task-relationships__header-add.cu-dropdown-list_opened .cu-dropdown .cu-task-relationships__header-add-text,.cu-task-relationships__header-add:hover .cu-dropdown .cu-task-relationships__header-add-text{color:#fff}.cu-task-relationships__header-add.cu-dropdown-list_opened .cu-dropdown .cu-task-relationships__header-add-dropdown,.cu-task-relationships__header-add:hover .cu-dropdown .cu-task-relationships__header-add-dropdown{fill:#fff}.cu-task-relationships__header-add .cu-dropdown__toggle{display:inline-flex;align-items:center;justify-content:center;height:100%;padding:0 7px 0 8px}.cu-task-relationships__header-add-text{color:#7b68ee;font:400 12px/1 Proxima Nova,arial,serif;margin-top:1px}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__header-add-text{color:var(--theme-main-color)}}.cu-task-relationships__header-add-dropdown{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7b68ee;width:6px;height:4px;margin-left:6px;margin-top:-1px}.cu-task-relationships__header-add-dropdown:hover{transition:none}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__header-add-dropdown{fill:var(--theme-main-color)}}.cu-task-relationships__header{align-items:center;min-height:16px;margin-bottom:10px}.cu-task-relationships__header-left{display:flex;align-items:center;flex-shrink:0;margin-right:10px}.cu-task-relationships__header-right{display:flex;align-items:center}.cu-task-relationships__header-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:1px;color:#343434}.dark-theme .cu-task-relationships__header-label{color:#d5d6d7}.cu-task-relationships__header-dropdown{margin-left:12px}.cu-task-relationships__header-dropdown-toggle{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:right;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-task-relationships__header-dropdown-toggle{color:#abaeb0}.cu-task-relationships__header-dropdown-toggle:hover,.cu-task-relationships__header-dropdown.cu-dropdown-list_opened .cu-task-relationships__header-dropdown-toggle{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__header-dropdown-toggle:hover,.cu-task-relationships__header-dropdown.cu-dropdown-list_opened .cu-task-relationships__header-dropdown-toggle{color:var(--theme-main-color)}}.cu-task-relationships__header-dropdown-toggle:hover .cu-task-relationships__header-dropdown-toggle-arrow,.cu-task-relationships__header-dropdown.cu-dropdown-list_opened .cu-task-relationships__header-dropdown-toggle .cu-task-relationships__header-dropdown-toggle-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__header-dropdown-toggle:hover .cu-task-relationships__header-dropdown-toggle-arrow,.cu-task-relationships__header-dropdown.cu-dropdown-list_opened .cu-task-relationships__header-dropdown-toggle .cu-task-relationships__header-dropdown-toggle-arrow{fill:var(--theme-main-color)}}.cu-task-relationships__header-dropdown-toggle:hover .cu-task-relationships__btn-icon,.cu-task-relationships__header-dropdown.cu-dropdown-list_opened .cu-task-relationships__header-dropdown-toggle .cu-task-relationships__btn-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__header-dropdown-toggle:hover .cu-task-relationships__btn-icon,.cu-task-relationships__header-dropdown.cu-dropdown-list_opened .cu-task-relationships__header-dropdown-toggle .cu-task-relationships__btn-icon{fill:var(--theme-main-color)}}.cu-task-relationships__header-dropdown-toggle-arrow{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:4px;height:11px;margin-left:5px;transform:rotate(90deg);fill:#7c828d}.dark-theme .cu-task-relationships__header-dropdown-toggle-arrow{fill:#abaeb0}.cu-task-relationships__header-dropdown.cu-dropdown-list_opened .cu-task-relationships__header-dropdown-toggle-arrow{transform:rotate(-90deg)}.cu-task-relationships__table{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:6px;overflow:hidden;border:1px solid #e9ebf0}.dark-theme .cu-task-relationships__table{border-color:#1e272e}.cu-task-relationships__table_edit{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__table_edit{border-color:var(--theme-main-color)}}.dark-theme .cu-task-relationships__table_edit{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-task-relationships__table_edit{border-color:var(--theme-main-color)}}.cu-task-relationships__table_edit.cdk-drop-list-dragging{padding-bottom:36px}.cu-task-relationships__table-row{position:relative;display:flex;min-height:33px}.cu-task-relationships__table-row+.cu-task-relationships__table-row{border-top:1px solid #e9ebf0}.dark-theme .cu-task-relationships__table-row+.cu-task-relationships__table-row{border-top-color:#1e272e}.cu-task-relationships__table-row_alt{display:flex;background:#fafbfc}.dark-theme .cu-task-relationships__table-row_alt{background:#2b343b}.cu-task-relationships__table-row_alt:last-of-type{border-radius:0 0 6px 6px}.cu-task-relationships__table-row.cdk-drag-placeholder{background:#7b68ee;height:0;min-height:0;border:0;z-index:10}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__table-row.cdk-drag-placeholder{background:var(--theme-main-color)}}.cu-task-relationships__table-row.cdk-drag-placeholder .cu-task-relationship-type,.cu-task-relationships__table-row.cdk-drag-placeholder .cu-task-relationships__drag-handle{visibility:hidden;pointer-events:none}.cu-task-relationships__table-row.cdk-drag-placeholder:before{content:"";display:block;position:absolute;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:7px solid;top:-4px;left:-7px;z-index:10;border-radius:2px}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__table-row.cdk-drag-placeholder:before{border-left-color:var(--theme-main-color)}}.cu-task-relationships__table-row.cdk-drag-placeholder:after{background:#7b68ee;content:"";display:block;position:absolute;width:100%;height:1px;top:0;left:0}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__table-row.cdk-drag-placeholder:after{background:var(--theme-main-color)}}.cu-task-relationships__table-row.cdk-drag-preview{background:#7b68ee;width:300px!important;height:24px!important;border:0;min-height:24px!important;border-radius:5px;padding:0 10px}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__table-row.cdk-drag-preview{background:var(--theme-main-color)}}.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type-task__dependency,.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__columns-container,.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__delete,.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationships__drag-handle{display:none}.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type{overflow:hidden;padding:0;height:auto}.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type:after{display:none}.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__icon,.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationships__drag-handle{cursor:grabbing;fill:#fff}.dark-theme .cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__icon,.dark-theme .cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationships__drag-handle{fill:#fff}.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__title{position:relative;left:auto;background:transparent}.dark-theme .cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__title{background:transparent}.cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__title-link{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff}.dark-theme .cu-task-relationships__table-row.cdk-drag-preview .cu-task-relationship-type__title-link{color:#fff}.cu-task-relationships__collapsed{display:flex;align-items:center;margin-right:auto;cursor:pointer;padding-left:10px;width:100%}.cu-task-relationships__collapsed:hover .cu-task-relationships__collapsed-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__collapsed:hover .cu-task-relationships__collapsed-text{color:var(--theme-main-color)}}.cu-task-relationships__collapsed:hover .cu-task-relationships__collapsed-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__collapsed:hover .cu-task-relationships__collapsed-icon{fill:var(--theme-main-color)}}.cu-task-relationships__collapsed-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-task-relationships__collapsed-text{color:#abaeb0}.cu-task-relationships__collapsed-icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:11px;height:11px;margin-right:7px;fill:#7c828d}.dark-theme .cu-task-relationships__collapsed-icon{fill:#abaeb0}.cu-task-relationships__collapsed-icon_expanded{transform:rotate(180deg)}.cu-task-relationships__btn{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;cursor:pointer;margin-left:12px;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#53575e}.dark-theme .cu-task-relationships__btn{color:#abaeb0}.cu-task-relationships__btn:hover,.cu-task-relationships__btn_done{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__btn:hover,.cu-task-relationships__btn_done{color:var(--theme-main-color)}}.cu-task-relationships__btn:hover .cu-task-relationships__btn-icon,.cu-task-relationships__btn_done .cu-task-relationships__btn-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__btn:hover .cu-task-relationships__btn-icon,.cu-task-relationships__btn_done .cu-task-relationships__btn-icon{fill:var(--theme-main-color)}}.cu-task-relationships__btn:hover .cu-task-relationships__btn-icon_add,.cu-task-relationships__btn_done .cu-task-relationships__btn-icon_add{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__btn:hover .cu-task-relationships__btn-icon_add,.cu-task-relationships__btn_done .cu-task-relationships__btn-icon_add{border-color:var(--theme-main-color)}}.cu-task-relationships__btn_done:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-relationships__btn_done:hover{color:var(--theme-main-color-dark)}}.cu-task-relationships__btn_done:hover .cu-task-relationships__btn-icon{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-relationships__btn_done:hover .cu-task-relationships__btn-icon{fill:var(--theme-main-color-dark)}}.cu-task-relationships__btn-icon{width:16px;height:16px;margin-right:4px;padding:1px;fill:#7c828d}.dark-theme .cu-task-relationships__btn-icon{fill:#828588}.cu-task-relationships__btn-icon_eye{padding:0}.cu-task-relationships__btn-icon_cancel{padding:3px;margin-right:3px}.cu-task-relationships__btn-icon_done{padding:2px}.cu-task-relationships__btn-icon_add{width:13px;height:13px;margin-right:5px;border-radius:50%;margin-top:-1px;border:1px solid #7c828d}.dark-theme .cu-task-relationships__btn-icon_add{border-color:#828588}.cu-task-relationships__drag-handle{cursor:grab;width:16px;height:35px;margin-right:-8px;padding:0 5px;z-index:10;background:#fff;fill:#b9bec7}.dark-theme .cu-task-relationships__drag-handle{background:#384047;fill:#7c828d}.cu-task-relationships__task-selector{width:418px;height:236px}.cu-task-relationships__task-selector .task-selector{margin:0}.cu-task-relationships__add-toggle{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;height:32px;border-radius:6px;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;border:1px dashed #b9bec7}.dark-theme .cu-task-relationships__add-toggle{color:#b9bec7;border-color:#7c828d}.cu-task-relationships__add-toggle:hover,.cu-task-relationships__add.cu-dropdown-list_opened .cu-task-relationships__add-toggle{border-color:#7b68ee;color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-relationships__add-toggle:hover,.cu-task-relationships__add.cu-dropdown-list_opened .cu-task-relationships__add-toggle{border-color:var(--theme-main-color);color:var(--theme-main-color)}}.cu-task-relationships__dependencies-dropdown-list-item{padding:10px 0!important;width:200px!important}'],encapsulation:2,data:{animation:[m.f]},changeDetection:0}),t})()},K1R0:function(t,e,a){"use strict";a.d(e,"a",function(){return T}),a.d(e,"b",function(){return I});var i=a("fXoL"),o=a("ofXK"),n=a("PqYM");function s(t,e){if(1&t&&(i.tc(),i.cc(0,"linearGradient"),i.Xb(1,"stop",5),i.Xb(2,"stop",6),i.bc()),2&t){const t=i.uc(2);i.Jb("id",t.svg.outerLinearGradient.id),i.Ib(1),i.Jb("stop-color",t.svg.outerLinearGradient.colorStop1)("stop-opacity",1),i.Ib(1),i.Jb("stop-color",t.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function c(t,e){if(1&t&&(i.tc(),i.cc(0,"radialGradient"),i.Xb(1,"stop",5),i.Xb(2,"stop",6),i.bc()),2&t){const t=i.uc(2);i.Jb("id",t.svg.radialGradient.id),i.Ib(1),i.Jb("stop-color",t.svg.radialGradient.colorStop1)("stop-opacity",1),i.Ib(1),i.Jb("stop-color",t.svg.radialGradient.colorStop2)("stop-opacity",1)}}function r(t,e){if(1&t&&(i.tc(),i.Xb(0,"circle")),2&t){const t=i.uc(3);i.Jb("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill",t.svg.backgroundCircle.fill)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function l(t,e){if(1&t&&(i.tc(),i.Xb(0,"circle")),2&t){const t=i.uc(3);i.Kb("fill","url(#",t.svg.radialGradient.id,")"),i.Jb("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function u(t,e){if(1&t&&(i.tc(),i.ac(0),i.bd(1,r,1,7,"circle",2),i.bd(2,l,1,7,"circle",2),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.Dc("ngIf",!t.options.backgroundGradient),i.Ib(1),i.Dc("ngIf",t.options.backgroundGradient)}}function d(t,e){if(1&t&&(i.tc(),i.Xb(0,"circle")),2&t){const t=i.uc(2);i.Jb("cx",t.svg.circle.cx)("cy",t.svg.circle.cy)("r",t.svg.circle.r)("fill",t.svg.circle.fill)("stroke",t.svg.circle.stroke)("stroke-width",t.svg.circle.strokeWidth)}}function p(t,e){if(1&t&&(i.tc(),i.Xb(0,"path")),2&t){const t=i.uc(3);i.Jb("d",t.svg.path.d)("stroke",t.svg.path.stroke)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function m(t,e){if(1&t&&(i.tc(),i.Xb(0,"path")),2&t){const t=i.uc(3);i.Kb("stroke","url(#",t.svg.outerLinearGradient.id,")"),i.Jb("d",t.svg.path.d)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function h(t,e){if(1&t&&(i.tc(),i.ac(0),i.bd(1,p,1,5,"path",2),i.bd(2,m,1,5,"path",2),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.Dc("ngIf",!t.options.outerStrokeGradient),i.Ib(1),i.Dc("ngIf",t.options.outerStrokeGradient)}}function g(t,e){if(1&t&&(i.tc(),i.cc(0,"tspan"),i.dd(1),i.bc()),2&t){const t=e.$implicit,a=i.uc(4);i.Jb("x",a.svg.title.x)("y",a.svg.title.y)("dy",t.dy)("font-size",a.svg.title.fontSize)("font-weight",a.svg.title.fontWeight)("fill",a.svg.title.color),i.Ib(1),i.ed(t.span)}}function b(t,e){if(1&t&&(i.tc(),i.ac(0),i.bd(1,g,2,7,"tspan",8),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.Dc("ngForOf",t.svg.title.tspans)}}function f(t,e){if(1&t&&(i.tc(),i.cc(0,"tspan"),i.dd(1),i.bc()),2&t){const t=i.uc(3);i.Jb("font-size",t.svg.units.fontSize)("font-weight",t.svg.units.fontWeight)("fill",t.svg.units.color),i.Ib(1),i.ed(t.svg.units.text)}}function k(t,e){if(1&t&&(i.tc(),i.cc(0,"tspan"),i.dd(1),i.bc()),2&t){const t=e.$implicit,a=i.uc(4);i.Jb("x",a.svg.subtitle.x)("y",a.svg.subtitle.y)("dy",t.dy)("font-size",a.svg.subtitle.fontSize)("font-weight",a.svg.subtitle.fontWeight)("fill",a.svg.subtitle.color),i.Ib(1),i.ed(t.span)}}function _(t,e){if(1&t&&(i.tc(),i.ac(0),i.bd(1,k,2,7,"tspan",8),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.Dc("ngForOf",t.svg.subtitle.tspans)}}function w(t,e){if(1&t&&(i.tc(),i.cc(0,"text",7),i.bd(1,b,2,1,"ng-container",2),i.bd(2,f,2,4,"tspan",2),i.bd(3,_,2,1,"ng-container",2),i.bc()),2&t){const t=i.uc(2);i.Jb("x",t.svg.circle.cx)("y",t.svg.circle.cy)("text-anchor",t.svg.title.textAnchor),i.Ib(1),i.Dc("ngIf",t.options.showTitle),i.Ib(1),i.Dc("ngIf",t.options.showUnits),i.Ib(1),i.Dc("ngIf",t.options.showSubtitle)}}function v(t,e){if(1&t&&(i.tc(),i.Xb(0,"image",9)),2&t){const t=i.uc(2);i.Jb("height",t.svg.image.height)("width",t.svg.image.width)("href",t.svg.image.src,null,"xlink")("x",t.svg.image.x)("y",t.svg.image.y)}}function y(t,e){if(1&t){const t=i.dc();i.tc(),i.cc(0,"svg",1),i.qc("click",function(e){return i.Uc(t),i.uc().emitClickEvent(e)}),i.cc(1,"defs"),i.bd(2,s,3,5,"linearGradient",2),i.bd(3,c,3,5,"radialGradient",2),i.bc(),i.bd(4,u,3,2,"ng-container",2),i.bd(5,d,1,6,"circle",2),i.bd(6,h,3,2,"ng-container",2),i.bd(7,w,4,6,"text",3),i.bd(8,v,1,5,"image",4),i.bc()}if(2&t){const t=i.uc();i.Jb("viewBox",t.svg.viewBox)("height",t.svg.height)("width",t.svg.width)("class",t.options.class),i.Ib(2),i.Dc("ngIf",t.options.outerStrokeGradient),i.Ib(1),i.Dc("ngIf",t.options.backgroundGradient),i.Ib(1),i.Dc("ngIf",t.options.showBackground),i.Ib(1),i.Dc("ngIf",t.options.showInnerStroke),i.Ib(1),i.Dc("ngIf",0!=+t.options.percent||t.options.showZeroOuterStroke),i.Ib(1),i.Dc("ngIf",!t.options.showImage&&(t.options.showTitle||t.options.showUnits||t.options.showSubtitle)),i.Ib(1),i.Dc("ngIf",t.options.showImage)}}class x{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}}let T=(()=>{class t{constructor(t,e,a){this.elRef=e,this.document=a,this.onClick=new i.o,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new i.o,this._viewportChangedSubscriber=null,this.options=new x,this.defaultOptions=new x,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(null===this.svgElement&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(t,e,a,i)=>{let o=i*Math.PI/180;return{x:t+Math.sin(o)*a,y:e-Math.cos(o)*a}},this.draw=t=>{let e=(t=void 0===t?this.options.percent:Math.abs(t))>100?100:t,a=2*this.options.radius+2*this.options.outerStrokeWidth;this.options.showBackground&&(a+=2*this.options.backgroundStrokeWidth+this.max(0,2*this.options.backgroundPadding));let i,o,n={x:a/2,y:a/2},s=n.x,c=n.y-this.options.radius,r=this.polarToCartesian(n.x,n.y,this.options.radius,360*(this.options.clockwise?e:100-e)/100);100===e&&(r.x=r.x+(this.options.clockwise?-.01:.01)),[i,o]=e>50?this.options.clockwise?[1,1]:[1,0]:this.options.clockwise?[0,1]:[0,0];let l=this.options.animateTitle?t:this.options.percent,u=l>this.options.maxPercent?this.options.maxPercent.toFixed(this.options.toFixed)+"+":l.toFixed(this.options.toFixed),d=this.options.animateSubtitle?t:this.options.percent,p={x:n.x,y:n.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.titleFormat&&"Function"===this.options.titleFormat.constructor.name){let t=this.options.titleFormat(l);t instanceof Array?p.texts=[...t]:p.texts.push(t.toString())}else"auto"===this.options.title?p.texts.push(u):this.options.title instanceof Array?p.texts=[...this.options.title]:p.texts.push(this.options.title.toString());let m={x:n.x,y:n.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.subtitleFormat&&"Function"===this.options.subtitleFormat.constructor.name){let t=this.options.subtitleFormat(d);t instanceof Array?m.texts=[...t]:m.texts.push(t.toString())}else this.options.subtitle instanceof Array?m.texts=[...this.options.subtitle]:m.texts.push(this.options.subtitle.toString());let h={text:""+this.options.units,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},g=0,b=1;if(this.options.showTitle&&(g+=p.texts.length),this.options.showSubtitle&&(g+=m.texts.length),this.options.showTitle)for(let f of p.texts)p.tspans.push({span:f,dy:this.getRelativeY(b,g)}),b++;if(this.options.showSubtitle)for(let f of m.texts)m.tspans.push({span:f,dy:this.getRelativeY(b,g)}),b++;null===this._gradientUUID&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${a} ${a}`,width:this.options.responsive?"100%":a,height:this.options.responsive?"100%":a,backgroundCircle:{cx:n.x,cy:n.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${s} ${c}\n        A ${this.options.radius} ${this.options.radius} 0 ${i} ${o} ${r.x} ${r.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:n.x,cy:n.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:p,units:h,subtitle:m,image:{x:n.x-this.options.imageWidth/2,y:n.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:"transparent"===this.options.outerStrokeGradientStopColor?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:"transparent"===this.options.backgroundGradientStopColor?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(t,e)=>{let a,i,o,n=this.options.startFromZero||t<0?0:t,s=e<0?0:this.min(e,this.options.maxPercent),c=Math.abs(Math.round(s-n));return c>=100?(a=100,i=this.options.animateTitle||this.options.animateSubtitle?Math.round(c/a):1):(a=c,i=1),o=Math.round(this.options.animationDuration/a),o<10&&(o=10,a=this.options.animationDuration/o,i=!this.options.animateTitle&&!this.options.animateSubtitle&&c>100?Math.round(100/a):Math.round(c/a)),i<1&&(i=1),{times:a,step:i,interval:o}},this.animate=(t,e)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let a=this.options.startFromZero?0:t,i=e,{step:o,interval:s}=this.getAnimationParameters(a,i),c=a;this._timerSubscription=a<i?Object(n.a)(0,s).subscribe(()=>{c+=o,c<=i?!this.options.animateTitle&&!this.options.animateSubtitle&&c>=100?(this.draw(i),this._timerSubscription.unsubscribe()):this.draw(c):(this.draw(i),this._timerSubscription.unsubscribe())}):Object(n.a)(0,s).subscribe(()=>{c-=o,c>=i?!this.options.animateTitle&&!this.options.animateSubtitle&&i>=100?(this.draw(i),this._timerSubscription.unsubscribe()):this.draw(c):(this.draw(i),this._timerSubscription.unsubscribe())})},this.emitClickEvent=t=>{this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.emit(t)},this.applyOptions=()=>{for(let t of Object.keys(this.options))this.hasOwnProperty(t)&&void 0!==this[t]?this.options[t]=this[t]:this.templateOptions&&void 0!==this.templateOptions[t]&&(this.options[t]=this.templateOptions[t]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(t,e)=>(1*(t-e/2)-.18).toFixed(2)+"em",this.min=(t,e)=>t<e?t:e,this.max=(t,e)=>t>e?t:e,this.uuid=()=>{var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?a:3&a|8).toString(16)})},this.findSvgElement=function(){if(null===this.svgElement){let t=this.elRef.nativeElement.getElementsByTagName("svg");t.length>0&&(this.svgElement=t[0])}},this.checkViewport=()=>{this.findSvgElement();let t=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),t!==this.isInViewport&&this.onViewportChanged.emit({oldValue:t,newValue:this.isInViewport})},this.onScroll=t=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0),null===this._viewportChangedSubscriber&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({newValue:t})=>{t&&this.render()}));let t=Object(n.a)(0,50).subscribe(()=>{null===this.svgElement?this.checkViewport():t.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),null!==this._viewportChangedSubscriber&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=a,this.window=this.document.defaultView,Object.assign(this.options,t),Object.assign(this.defaultOptions,t)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}isElementInViewport(t){if(null==t)return!1;let e,a=t.getBoundingClientRect(),i=t.parentNode;do{if(e=i.getBoundingClientRect(),a.top>=e.bottom)return!1;if(a.bottom<=e.top)return!1;if(a.left>=e.right)return!1;if(a.right<=e.left)return!1;i=i.parentNode}while(i!=this.document.body);return!(a.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||a.bottom<=0||a.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||a.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(t){this.render(),"lazy"in t&&(t.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(x),i.Wb(i.m),i.Wb(o.d))},t.\u0275cmp=i.Qb({type:t,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:["options","templateOptions"]},outputs:{onClick:"onClick"},features:[i.Gb],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(t,e){1&t&&i.bd(0,y,9,11,"svg",0),2&t&&i.Dc("ngIf",e.svg)},directives:[o.q,o.p],encapsulation:2}),t})(),I=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:x,useValue:e}]}}}return t.\u0275mod=i.Ub({type:t}),t.\u0275inj=i.Tb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},KgOx:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("uslN"),o=a("fXoL");let n=(()=>{class t{transform(t){return t===i.f.FREE?$localize`:@@common_free:Free`:t===i.f.BUSINESS?$localize`:@@common_plans--business:Business`:t===i.f.UNLIMITED?$localize`:@@common_plans--unlimited:Unlimited`:t===i.f.ENTERPRISE?$localize`:@@common_plans--enterprise:Enterprise`:void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Vb({name:"teamPlanToString",type:t,pure:!0}),t})()},LIrV:function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"c",function(){return n}),a.d(e,"e",function(){return s}),a.d(e,"a",function(){return c}),a.d(e,"d",function(){return r});var i=a("fXoL");const o=new i.s("clickup/automation: Automation Strategies Internal ForRoot Guard"),n=new i.s("clickup/automation: Automation Strategies - root"),s=new i.s("clickup/automation: Automation Strategies - root internal"),c=new i.s("clickup/automation: Automation Strategies - feature"),r=new i.s("clickup/automation: Automation Strategies - internal feature")},M5QM:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ofXK"),o=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},MJ8S:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("ofXK"),o=a("1M0N"),n=a("K0KF"),s=a("e6ZX"),c=a("fXoL");let r=(()=>{class t{}return t.\u0275mod=c.Ub({type:t}),t.\u0275inj=c.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.a,s.a]]}),t})()},Mbp0:function(t,e,a){"use strict";a.d(e,"a",function(){return xt});var i=a("uslN"),o=a("c3rA"),n=a("fXoL"),s=a("jJQC"),c=a("IlGD"),r=a("N/Rp"),l=a("LdyQ"),u=a("l7P3"),d=a("lJxs"),p=a("Kj3r"),m=a("1G5W"),h=a("IzEk"),g=a("1Lli"),b=a("L4WU"),f=a("TqRa"),k=a("itXk"),_=a("XNiG"),w=a("YwDF"),v=a("o7Ov"),y=a("3yLq"),x=a("MguC"),T=a("/qOb"),I=a("Jf2N"),C=a("rLOZ"),D=a("qpQx"),S=a("8it8"),O=a("MJvn"),j=a("ofXK"),P=a("n+1/"),A=a("UdVN"),$=a("NsZK"),R=a("3Pt+"),F=a("bFKe"),M=a("loh9"),E=a("EDFS"),U=a("c3PJ"),L=a("ugB3"),z=a("vUZO");const V=["hiddenColumnsSearch"],N=["customFieldTypesSearch"],q=["leftColumnScrollbar"],B=["rightColumnScrollbar"];function G(t,e){if(1&t&&n.Xb(0,"div",5),2&t){const t=n.uc();n.Dc("cuTooltip",t.addColumnTooltipTxt)}}function X(t,e){}const W=function(t){return{dropdown:t}};function H(t,e){if(1&t&&n.bd(0,X,0,0,"ng-template",9),2&t){const t=n.uc(2),e=n.Rc(1);n.Dc("ngTemplateOutlet",t.addColumnTemplate)("ngTemplateOutletContext",n.Hc(2,W,e))}}function Z(t,e){1&t&&(n.ac(0),n.gc(1,23),n.Zb())}function Q(t,e){1&t&&(n.ac(0),n.gc(1,24),n.Zb())}function K(t,e){if(1&t&&n.Xb(0,"div",32),2&t){const t=n.uc().$implicit,e=n.uc(3);n.Dc("icon",e.enableRelationships&&t.customField.type===e.CustomFieldType.Tasks?"field-list_relationship":"field-"+t.customField.type)}}function J(t,e){if(1&t&&(n.Xb(0,"div",33),n.vc(1,"taskListHeaderFieldRollupFieldText")),2&t){const t=n.uc().$implicit;n.Dc("icon","rollup-column")("cuTooltip",n.wc(1,3,t.link))("tooltipAllowHtmlRememberToEscapeXss",!0)}}function Y(t,e){if(1&t){const t=n.dc();n.cc(0,"div",34),n.qc("click",function(){n.Uc(t);const e=n.uc().$implicit;return n.uc(3).editColumn(e)}),n.bc()}}function tt(t,e){1&t&&n.Xb(0,"div",35)}function et(t,e){if(1&t){const t=n.dc();n.cc(0,"div",25),n.qc("click",function(){n.Uc(t);const a=e.$implicit;return n.uc(3).toggleColumn(a)}),n.cc(1,"div",26),n.bd(2,K,1,1,"div",27),n.cc(3,"div",28),n.dd(4),n.bc(),n.bd(5,J,2,5,"div",29),n.bc(),n.bd(6,Y,1,0,"div",30),n.vc(7,"async"),n.bd(8,tt,1,0,"div",31),n.bc()}if(2&t){const t=e.$implicit,a=e.last,i=e.index,o=n.uc(3);n.Mb("columns-list__item columns-list__item-col-",i,""),n.Ob("columns-list__item_disabled",t.disabled)("columns-list__item_last",a)("columns-list__item_active",i===o.columnListTraverseIndex),n.Ib(2),n.Dc("ngIf",t.customField&&!t.link),n.Ib(1),n.Dc("cuTooltip",t.title)("tooltipDisabledIfTextNotTruncated",!0),n.Ib(1),n.fd(" ",t.title," "),n.Ib(1),n.Dc("ngIf",t.link),n.Ib(1),n.Dc("ngIf",!o.readOnly&&t.customField&&!t.link&&n.wc(7,16,o.canManageCustomFields$)),n.Ib(2),n.Dc("ngIf",t.state===o.ListColumnState.Visible)}}function at(t,e){if(1&t&&n.Xb(0,"div",32),2&t){const t=n.uc().$implicit,e=n.uc(3);n.Dc("icon",e.enableRelationships&&t.customField.type===e.CustomFieldType.Tasks?"field-list_relationship":"field-"+t.customField.type)}}function it(t,e){if(1&t&&(n.Xb(0,"div",38),n.vc(1,"taskListHeaderFieldRollupFieldText")),2&t){const t=n.uc().$implicit;n.Dc("icon","rollup-column")("cuTooltip",n.wc(1,3,t.link))("tooltipAllowHtmlRememberToEscapeXss",!0)}}function ot(t,e){1&t&&n.Xb(0,"div",39)}function nt(t,e){if(1&t){const t=n.dc();n.cc(0,"div",34),n.qc("click",function(){n.Uc(t);const e=n.uc().$implicit;return n.uc(3).editColumn(e)}),n.bc()}}function st(t,e){if(1&t){const t=n.dc();n.cc(0,"div",25),n.qc("click",function(){n.Uc(t);const a=e.$implicit;return n.uc(3).toggleColumn(a)}),n.cc(1,"div",26),n.bd(2,at,1,1,"div",27),n.cc(3,"div",28),n.dd(4),n.bc(),n.bd(5,it,2,5,"div",36),n.bd(6,ot,1,0,"div",37),n.bc(),n.bd(7,nt,1,0,"div",30),n.vc(8,"async"),n.bc()}if(2&t){const t=e.$implicit,a=e.index,i=n.uc(3);n.Mb("columns-list__item columns-list__item-col-",a+i.topCount,""),n.Ob("columns-list__item_disabled",t.disabled)("columns-list__item_active",a===i.columnListTraverseIndex-i.topCount&&i.indexInBottom),n.Ib(2),n.Dc("ngIf",t.customField&&!t.link),n.Ib(1),n.Dc("cuTooltip",t.title)("tooltipDisabledIfTextNotTruncated",!0),n.Ib(1),n.fd(" ",t.title," "),n.Ib(1),n.Dc("ngIf",t.link),n.Ib(1),n.Dc("ngIf",t.disabled),n.Ib(1),n.Dc("ngIf",!i.readOnly&&t.customField&&!t.link&&n.wc(8,14,i.canManageCustomFields$))}}function ct(t,e){if(1&t&&(n.cc(0,"div",53),n.Xb(1,"img",54),n.bc(),n.cc(2,"div",55),n.gc(3,56),n.bc()),2&t){const t=n.uc(7);n.Ib(1),n.Dc("src",t.rollupImage,n.Xc)}}function rt(t,e){if(1&t){const t=n.dc();n.ac(0),n.bd(1,ct,4,1,"ng-template",null,50,n.cd),n.cc(3,"div",51),n.qc("click",function(){n.Uc(t);const e=n.uc().$implicit;return n.uc(5).startCreateColumn(e)}),n.cc(4,"div",26),n.Xb(5,"div",32),n.cc(6,"div",52),n.dd(7),n.bc(),n.bc(),n.bc(),n.Zb()}if(2&t){const t=n.Rc(2),e=n.uc(),a=e.index,i=e.$implicit,o=n.uc(5);n.Ib(3),n.Mb("columns-list__item columns-list__item-cf-",a,""),n.Ob("columns-list__item_active",a===o.cfListTraverseIndex),n.Dc("popover",t),n.Ib(2),n.Dc("icon","rollup-column"),n.Ib(2),n.fd(" ",i.label," ")}}function lt(t,e){if(1&t&&(n.cc(0,"div",53),n.Xb(1,"img",54),n.bc(),n.cc(2,"div",55),n.dd(3),n.bc()),2&t){const t=n.uc(2).$implicit;n.Ib(1),n.Dc("src",t.typeConfig.image,n.Xc),n.Ib(2),n.fd(" ",t.typeConfig.description," ")}}function ut(t,e){if(1&t){const t=n.dc();n.ac(0),n.bd(1,lt,4,2,"ng-template",null,57,n.cd),n.cc(3,"div",51),n.qc("click",function(){n.Uc(t);const e=n.uc().$implicit;return n.uc(5).startCreateColumn(e)}),n.cc(4,"div",26),n.Xb(5,"div",32),n.cc(6,"div",28),n.dd(7),n.bc(),n.bc(),n.bc(),n.Zb()}if(2&t){const t=n.Rc(2),e=n.uc(),a=e.index,i=e.$implicit,o=n.uc(5);n.Ib(3),n.Mb("columns-list__item columns-list__item-cf-",a,""),n.Ob("columns-list__item_active",a===o.cfListTraverseIndex),n.Dc("popover",t),n.Ib(2),n.Dc("icon","field-"+i.typeConfig.type),n.Ib(1),n.Dc("cuTooltip",i.typeConfig.label)("tooltipDisabledIfTextNotTruncated",!0),n.Ib(1),n.fd(" ",i.typeConfig.label," ")}}function dt(t,e){if(1&t&&(n.ac(0),n.bd(1,rt,8,8,"ng-container",7),n.bd(2,ut,8,10,"ng-container",7),n.Zb()),2&t){const t=e.$implicit,a=n.uc(5);n.Ib(1),n.Dc("ngIf","linkedColumn"===t.type&&a.showLinkedColumns),n.Ib(1),n.Dc("ngIf","customField"===t.type)}}function pt(t,e){if(1&t){const t=n.dc();n.cc(0,"div",18,45),n.cc(2,"div",46),n.qc("click",function(){return n.Uc(t),n.uc(4).showExistingFields()}),n.gc(3,47),n.bc(),n.Xb(4,"div",48),n.bd(5,dt,3,2,"ng-container",49),n.bc()}if(2&t){const t=n.uc(4);n.Ib(5),n.Dc("ngForOf",t.filteredCreateColumnFields)("ngForTrackBy",t.trackById)}}const mt=function(){return{width:"100px"}};function ht(t,e){if(1&t){const t=n.dc();n.cc(0,"div",58),n.Xb(1,"div",59),n.cc(2,"div",60),n.tc(),n.cc(3,"svg",61),n.Xb(4,"path",62),n.Xb(5,"path",63),n.Xb(6,"path",64),n.Xb(7,"path",65),n.Xb(8,"path",66),n.Xb(9,"path",67),n.Xb(10,"path",68),n.Xb(11,"path",69),n.Xb(12,"path",70),n.Xb(13,"path",71),n.cc(14,"g",72),n.Xb(15,"path",73),n.Xb(16,"path",74),n.bc(),n.Xb(17,"path",75),n.cc(18,"g",72),n.Xb(19,"path",76),n.Xb(20,"path",77),n.bc(),n.cc(21,"g",72),n.Xb(22,"path",78),n.Xb(23,"path",79),n.bc(),n.cc(24,"g",72),n.Xb(25,"path",80),n.Xb(26,"path",81),n.bc(),n.Xb(27,"rect",82),n.Xb(28,"path",83),n.Xb(29,"path",84),n.bc(),n.bc(),n.sc(),n.cc(30,"div",85),n.gc(31,86),n.bc(),n.cc(32,"div",87),n.qc("click",function(){return n.Uc(t),n.uc(4).enableCustomFieldsClickapp()}),n.gc(33,88),n.bc(),n.cc(34,"div",89),n.mc(35,90),n.Xb(36,"a",91),n.jc(),n.bc(),n.Xb(37,"div",59),n.cc(38,"div",92),n.qc("click",function(){return n.Uc(t),n.uc(4).hideEnableCustomFieldsClickapp()}),n.gc(39,93),n.bc(),n.bc()}2&t&&(n.Ib(32),n.Dc("ngStyle",n.Gc(1,mt)))}function gt(t,e){if(1&t){const t=n.dc();n.cc(0,"div",11),n.qc("keydown",function(e){return n.Uc(t),n.uc(3).traverseCfs(e)}),n.cc(1,"div",12),n.gc(2,40),n.bc(),n.cc(3,"div",15),n.qc("click",function(){return n.Uc(t),n.uc(3).clearTraversalData()}),n.cc(4,"input",41,42),n.qc("ngModelChange",function(e){return n.Uc(t),n.uc(3).createColumnFieldSearchText=e})("ngModelChange",function(e){return n.Uc(t),n.uc(3).searchCustomFieldTypes(e)}),n.bc(),n.bc(),n.bd(6,pt,6,2,"div",43),n.vc(7,"async"),n.bd(8,ht,40,2,"div",44),n.vc(9,"async"),n.bc()}if(2&t){const t=n.uc(3);let e=null,a=null;n.Ib(4),n.Dc("ngModel",t.createColumnFieldSearchText),n.Ib(2),n.Dc("ngIf",null==(e=n.wc(7,3,t.projectFeatures$))||null==e.custom_fields?null:e.custom_fields.enabled),n.Ib(2),n.Dc("ngIf",!(null!=(a=n.wc(9,5,t.projectFeatures$))&&null!=a.custom_fields&&a.custom_fields.enabled))}}function bt(t,e){if(1&t){const t=n.dc();n.cc(0,"div",10),n.cc(1,"div",11),n.qc("keydown",function(e){return n.Uc(t),n.uc(2).traverseColumns(e)}),n.cc(2,"div",12),n.bd(3,Z,2,0,"ng-container",13),n.bd(4,Q,2,0,"ng-template",null,14,n.cd),n.bc(),n.cc(6,"div",15),n.qc("click",function(){return n.Uc(t),n.uc(2).clearTraversalData()}),n.cc(7,"input",16,17),n.qc("ngModelChange",function(e){return n.Uc(t),n.uc(2).hiddenColumnsSearchString=e})("ngModelChange",function(e){return n.Uc(t),n.uc(2).hiddenColumnsDebounceSearch$.next(e)}),n.bc(),n.bc(),n.cc(9,"div",18,19),n.bd(11,et,9,18,"div",20),n.bd(12,st,9,16,"div",21),n.bc(),n.bc(),n.bd(13,gt,10,7,"div",22),n.vc(14,"async"),n.vc(15,"async"),n.bc()}if(2&t){const t=n.Rc(5),e=n.uc(2);let a=null;n.Ib(3),n.Dc("ngIf",e.isSharingApp)("ngIfElse",t),n.Ib(4),n.Dc("ngModel",e.hiddenColumnsSearchString),n.Ib(2),n.Ob("columns-list__body_small",e.isSharingApp),n.Ib(2),n.Dc("ngForOf",e.hiddenColumnsSearching?e.filteredVisibleColumns:e.sortedVisibleColumns)("ngForTrackBy",e.trackByName),n.Ib(1),n.Dc("ngForOf",e.hiddenColumnsSearching?e.filteredHiddenColumns:e.sortedColumns)("ngForTrackBy",e.trackByName),n.Ib(1),n.Dc("ngIf",!e.readOnly&&((null==(a=n.wc(14,10,e.projectFeatures$))||null==a.custom_fields?null:a.custom_fields.enabled)||e.project&&!e.enableCustomFieldsClickappIsHidden)&&n.wc(15,12,e.canManageCustomFields$))}}function ft(t,e){if(1&t){const t=n.dc();n.cc(0,"cu-task-list-header-settings-create-linked-columns",96),n.qc("repositionMenu",function(){return n.Uc(t),n.uc(3),n.Rc(1).positionMenu()})("cancel",function(){return n.Uc(t),n.uc(3).closeAddField()})("createModalOpen",function(e){return n.Uc(t),n.uc(3).dropdownModalOpen=e})("createRollupColumns",function(e){return n.Uc(t),n.uc(3).rollupColumnsCreated(e)}),n.bc()}if(2&t){const t=n.uc(3);n.ad("display",t.dropdownModalOpen?"none":"block"),n.Dc("customFields",t.customFields)("team",t.team)}}function kt(t,e){if(1&t){const t=n.dc();n.cc(0,"div",97),n.cc(1,"div",98),n.gc(2,99),n.bc(),n.cc(3,"div",100),n.cc(4,"cu-create-custom-field-form",101),n.qc("addColumn",function(e){return n.Uc(t),n.uc(3).addDuplicateColumn(e.column)})("cancel",function(){return n.Uc(t),n.uc(3).closeAddField()})("save",function(){return n.Uc(t),n.uc(3).newFieldCreated()})("renameField",function(e){return n.Uc(t),n.uc(3).renameField(e.field)}),n.vc(5,"async"),n.vc(6,"async"),n.vc(7,"async"),n.vc(8,"async"),n.bc(),n.bc(),n.bc()}if(2&t){const t=n.uc(3);n.Ib(4),n.Dc("customFields",t.customFields)("allowRequireChange",n.wc(5,11,t.allowRequireChange$))("notBusinessPlus",n.wc(6,13,t.notBusinessPlus$))("entity",n.wc(7,15,t.entity$))("createNewType",t.createNewType.typeConfig.type)("availableColumns",t.columns)("isInlineForm",!0)("country",n.wc(8,17,t.currentCountry$))("addCreatedColumn",!0)("forTaskListHeader",!0)("forRelationships",t.enableRelationships&&(t.createNewType.typeConfig.type===t.CustomFieldType.Tasks||t.createNewType.typeConfig.type===t.CustomFieldType.ListRelationship))}}function _t(t,e){if(1&t&&(n.ac(0),n.bd(1,ft,1,4,"cu-task-list-header-settings-create-linked-columns",94),n.bd(2,kt,9,19,"div",95),n.Zb()),2&t){const t=n.uc(2);n.Ib(1),n.Dc("ngIf","linkedColumn"===t.createNewType.type),n.Ib(1),n.Dc("ngIf","customField"===t.createNewType.type)}}function wt(t,e){if(1&t&&(n.cc(0,"div",6),n.bd(1,H,1,4,void 0,7),n.bd(2,bt,16,14,"div",8),n.bd(3,_t,3,2,"ng-container",7),n.bc()),2&t){const t=n.uc();n.Ib(1),n.Dc("ngIf",t.addColumnTemplate),n.Ib(1),n.Dc("ngIf",!t.createNewType&&!t.addColumnTemplate),n.Ib(1),n.Dc("ngIf",t.createNewType)}}const vt=function(){return["bottom-right","top-right","auto"]},yt=function(){return["bottom-left","top-left","bottom-right","top-right","auto"]};let xt=(()=>{class t{constructor(t,e,l,p,m,h){this.store=t,this.modal=e,this.injector=l,this.localStorage=p,this.locationService=m,this.commonStringsService=h,this.disabled=!1,this.readOnly=!1,this.showToggle=!0,this.showLinkedColumns=!0,this.addColumnTooltipTxt=$localize`:@@common_add-a-column:Add a Column`,this.onToggleColumnState=new n.o,this.onEditColumn=new n.o,this.onRenameCustomField=new n.o,this.reloadAllTasks=new n.o,this.onAddRollupColumns=new n.o,this.trackByName=Object(s.d)("name"),this.trackById=Object(s.d)("id"),this.trackByType=Object(s.d)("type"),this.ListColumnState=r.b,this.createColumnFields=Object(g.a)([{id:"linkedColumn",type:"linkedColumn",label:$localize`:@@common_rollup:Rollup`},...c.d.map(t=>({type:"customField",typeConfig:t,label:t.label,id:t.type}))],"label"),this.createColumnFieldSearchText="",this.filteredCreateColumnFields=this.createColumnFields,this.projectFeatures$=this.store.select(o.getProjectFeatures),this.entity$=this.store.select(o.getCurrentHierarchyEntity),this.isSharedSpace$=this.store.select(o.getIsSharedSpaceOrGuest),this.isAdmin$=this.store.select(o.getIsAdmin),this.team$=this.store.select(o.getTeam),this.notBusinessPlus$=this.store.pipe(Object(u.select)(o.getIsBusinessOrEnterprisePlan),Object(d.a)(t=>!t)),this.canRequire$=this.store.select(o.getCanRequireCustomFields),this.allowRequireChange$=Object(k.a)([this.isAdmin$,this.canRequire$,this.team$]).pipe(Object(d.a)(([t,e,a])=>a&&a.plan_id===i.f.ENTERPRISE?e:t)),this.canManageCustomFields$=this.store.select(o.getCanManageCustomFields),this.sortedColumns=[],this.sortedVisibleColumns=[],this.enableCustomFieldsClickappIsHidden=this.localStorage.get("enable-custom-fields-clickapp-is-hidden"),this.currentCountry$=this.locationService.currentCountry$,this.isSharingApp=f.k,this.hiddenColumnsSearchString="",this.hiddenColumnsSearching=!1,this.hiddenColumnsDebounceSearch$=new _.a,this.filteredHiddenColumns=[],this.filteredVisibleColumns=[],this.DataViewRollupColumnLinkType=x.g,this.destroy$=new _.a,this.dropdownModalOpen=!1,this.CustomFieldType=w.a,this.rollupImage=a("Nlmw"),this.columnListTraverseIndex=-1,this.topCount=0,this.bottomCount=0,this.indexInBottom=!1,this.cfListTraverseIndex=-1}ngOnChanges(t){t.columns&&(this.sortedColumns=[...Object(g.a)(this.columns.filter(t=>(!t.customField||t.link)&&t.title),[t=>t.title.toLowerCase()]),...Object(g.a)(this.columns.filter(t=>t.customField&&!t.link&&t.customField.required&&t.title),[t=>t.title.toLowerCase()]),...Object(g.a)(this.columns.filter(t=>t.customField&&!t.link&&t.customField.pinned&&!t.customField.required&&t.title),[t=>t.title.toLowerCase()]),...Object(g.a)(this.columns.filter(t=>t.customField&&!t.link&&!t.customField.pinned&&!t.customField.required&&t.title),[t=>t.title.toLowerCase()])],this.visibleColumns&&(this.sortedVisibleColumns=[...Object(g.a)(this.visibleColumns.filter(t=>(!t.customField||t.link)&&t.title),[t=>t.title.toLowerCase()]),...Object(g.a)(this.visibleColumns.filter(t=>t.customField&&!t.link&&t.customField.required&&t.title),[t=>t.title.toLowerCase()]),...Object(g.a)(this.visibleColumns.filter(t=>t.customField&&!t.link&&t.customField.pinned&&!t.customField.required&&t.title),[t=>t.title.toLowerCase()])]))}ngOnInit(){this.hiddenColumnsDebounceSearch$.pipe(Object(p.a)(100)).pipe(Object(m.a)(this.destroy$)).subscribe(t=>{this.searchHiddenColumns(t)}),this.searchCustomFieldTypes("")}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}toggleColumn(t){t&&(this.onToggleColumnState.emit(t),this.resetHiddenColumnsSearch(),this.focusSearch(this.hiddenColumnsSearch))}editColumn(t){this.dropdown.close(),this.onEditColumn.emit(t)}startCreateColumn(t){this.createNewType=t,this.searchCustomFieldTypes("")}closeAddField(){this.createNewType=null}newFieldCreated(){this.closeAddField(),this.dropdown.close()}addDuplicateColumn(t){this.toggleColumn(t),this.closeAddField()}renameField(t){this.closeAddField(),this.dropdown.close(),this.onRenameCustomField.emit(t)}showExistingFields(){this.entity$.pipe(Object(h.a)(1)).subscribe(t=>{const e=this.modal.openComponent(b.ExistingFieldsModalComponent,this.injector,{title:this.commonStringsService.existingFieldsText});e.instance.setEntity(t),e.instance.addColumn=!0,e.instance.fieldAdded$.subscribe(({})=>{this.newFieldCreated()}),this.dropdown.close()})}enableCustomFieldsClickapp(){this.store.dispatch(new v.ym({id:this.project.id,data:{features:Object.assign(Object.assign({},this.project.features),{custom_fields:{enabled:!0}})}}))}hideEnableCustomFieldsClickapp(){this.localStorage.set("enable-custom-fields-clickapp-is-hidden",!0),this.enableCustomFieldsClickappIsHidden=!0,this.dropdown.positionMenu()}searchCustomFieldTypes(t){Object(k.a)([this.team$,this.entity$]).pipe(Object(h.a)(1)).subscribe(([e,a])=>{this.createColumnFieldSearchText=t,this.filteredCreateColumnFields=this.createColumnFields.filter(t=>"customField"!==t.type||!t.typeConfig.clickapp||e[t.typeConfig.clickapp.teamField]).filter(t=>"customField"!==t.type||!this.enableRelationships||t.typeConfig.type!==w.a.Tasks).filter(t=>"customField"!==t.type||this.enableRelationships||t.typeConfig.type!==w.a.ListRelationship).filter(e=>Object(y.a)(e.label,t))})}dropdownOpened(){this.searchCustomFieldTypes(""),this.resetHiddenColumnsSearch(),this.focusSearch(this.hiddenColumnsSearch||this.customFieldTypesSearch)}searchHiddenColumns(t){if(this.clearTraversalData(),""===t)return void this.resetHiddenColumnsSearch();this.hiddenColumnsSearching=!0;const e=({title:e})=>e.toLowerCase().includes(t.toLowerCase());this.filteredHiddenColumns=this.sortedColumns.filter(e),this.filteredVisibleColumns=this.sortedVisibleColumns.filter(e)}resetHiddenColumnsSearch(){this.hiddenColumnsSearchString="",this.hiddenColumnsSearching=!1,this.filteredHiddenColumns=[],this.filteredVisibleColumns=[]}focusSearch(t){t&&this.hiddenColumnsSearch.nativeElement.focus()}open(t){t&&(this.fromPoint=t),this.dropdown.open()}rollupColumnsCreated(t){this.dropdown.close(),this.onAddRollupColumns.emit(t)}traverseColumns(t){if(!t)return;let e=this.columnListTraverseIndex;if(this.topCount=this.hiddenColumnsSearching?this.filteredVisibleColumns.length:this.sortedVisibleColumns.length,this.bottomCount=this.hiddenColumnsSearching?this.filteredHiddenColumns.length:this.sortedColumns.length,t.keyCode===T.a.ARROW_DOWN){if(e+=1,e>this.topCount+this.bottomCount-1)return this.indexInBottom=!1,this.topCount||(this.indexInBottom=!0),this.leftColumnScrollbar&&this.leftColumnScrollbar.scrollToTop(),void(this.columnListTraverseIndex=0);this.indexInBottom=e>this.topCount-1,this.leftColumnScrollbar&&document.querySelector(".columns-list__item-col-"+e)&&this.leftColumnScrollbar.scrollToElement(".columns-list__item-col-"+e)}if(t.keyCode===T.a.ARROW_UP){if(e-=1,e<0)return this.indexInBottom=!0,this.leftColumnScrollbar&&this.leftColumnScrollbar.scrollToBottom(),void(this.columnListTraverseIndex=this.topCount+this.bottomCount-1);this.leftColumnScrollbar&&document.querySelector(".columns-list__item-col-"+e)&&this.leftColumnScrollbar.scrollToElement(".columns-list__item-col-"+e)}if(this.columnListTraverseIndex=e,t.keyCode===T.a.ENTER){let t,e=this.indexInBottom?this.columnListTraverseIndex-this.topCount:this.columnListTraverseIndex;-1===e&&(e=0),t=this.indexInBottom?this.hiddenColumnsSearching?this.filteredHiddenColumns[e]:this.sortedColumns[e]:this.hiddenColumnsSearching?this.filteredVisibleColumns[e]:this.sortedVisibleColumns[e],t&&this.toggleColumn(t),this.clearTraversalData()}}traverseCfs(t){if(!t)return;let e=this.cfListTraverseIndex;if(t.keyCode===T.a.ARROW_DOWN){if(e+=1,e>this.filteredCreateColumnFields.length-1)return this.rightColumnScrollbar&&this.rightColumnScrollbar.scrollToTop(),void(this.cfListTraverseIndex=0);this.rightColumnScrollbar&&document.querySelector(".columns-list__item-cf-"+e)&&this.rightColumnScrollbar.scrollToElement(".columns-list__item-cf-"+e)}if(t.keyCode===T.a.ARROW_UP){if(e-=1,e<0)return this.rightColumnScrollbar&&this.rightColumnScrollbar.scrollToBottom(),void(this.cfListTraverseIndex=this.filteredCreateColumnFields.length-1);this.rightColumnScrollbar&&document.querySelector(".columns-list__item-cf-"+e)&&this.rightColumnScrollbar.scrollToElement(".columns-list__item-cf-"+e)}this.cfListTraverseIndex=e,t.keyCode===T.a.ENTER&&(this.startCreateColumn(this.filteredCreateColumnFields[this.cfListTraverseIndex]),this.clearTraversalData())}clearTraversalData(){this.cfListTraverseIndex=-1,this.columnListTraverseIndex=-1,this.indexInBottom=!1,this.rightColumnScrollbar&&this.rightColumnScrollbar.scrollToTop(),this.leftColumnScrollbar&&this.leftColumnScrollbar.scrollToTop()}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(u.Store),n.Wb(I.a),n.Wb(n.t),n.Wb(C.b),n.Wb(D.a),n.Wb(S.a))},t.\u0275cmp=n.Qb({type:t,selectors:[["cu-task-list-header-settings"]],viewQuery:function(t,e){if(1&t&&(n.jd(l.b,3),n.jd(V,1),n.jd(N,1),n.jd(q,1),n.jd(B,1)),2&t){let t;n.Qc(t=n.rc())&&(e.dropdown=t.first),n.Qc(t=n.rc())&&(e.hiddenColumnsSearch=t.first),n.Qc(t=n.rc())&&(e.customFieldTypesSearch=t.first),n.Qc(t=n.rc())&&(e.leftColumnScrollbar=t.first),n.Qc(t=n.rc())&&(e.rightColumnScrollbar=t.first)}},hostAttrs:[1,"cu-task-list-header-settings"],hostVars:2,hostBindings:function(t,e){2&t&&n.Ob("cu-task-list-header-settings_disabled",e.disabled)},inputs:{columns:"columns",visibleColumns:"visibleColumns",disabled:"disabled",readOnly:"readOnly",showToggle:"showToggle",fromPoint:"fromPoint",showLinkedColumns:"showLinkedColumns",project:"project",customFields:"customFields",team:"team",addColumnTooltipTxt:"addColumnTooltipTxt",addColumnTemplate:"addColumnTemplate",enableRelationships:"enableRelationships"},outputs:{onToggleColumnState:"onToggleColumnState",onEditColumn:"onEditColumn",onRenameCustomField:"onRenameCustomField",reloadAllTasks:"reloadAllTasks",onAddRollupColumns:"onAddRollupColumns"},features:[n.Gb],decls:5,vars:10,consts:function(){let t,e,a,i,o,n,s,c,r,l,u,d,p,m;return t=$localize`:form input placeholder@@forms_placeholder--search-1␟8aa58cf00d949c509df91c621ab38131df0a7599␟8854094932942190741:Search...`,e=$localize`:@@common_add-column␟20d38d067b4e5932c92563b202079590a120a178␟4101856382024549580:Add Column`,a=$localize`:@@common_hidden␟c09a68321f26f058b547021e6e2c167ae22c6e24␟996392855508119363:Hidden`,i=$localize`:@@common_clickapp-not-turned-on-space␟0a7dc74e076a43ff7deea4740a203479d6c972b3␟6489205544711494161:This ClickApp is not turned on in this Space`,o=$localize`:@@cu-task-list-header-settings__columns-list-header_create-new-field␟b89482b3453221ff4110945b559887b5cda7b727␟2350726842366295235: Create new field `,n=$localize`:form input placeholder@@forms_placeholder--search-1␟8aa58cf00d949c509df91c621ab38131df0a7599␟8854094932942190741:Search...`,s=$localize`:@@custom-fields_library␟8c8b9f3b7514c57369a20bbfb41f81540a70bfe5␟2513816063748092159: Custom fields library `,c=$localize`:@@cu-task-list-header-settings__rollup-column-description␟6870de128da252a1f10be0669c74c3545c910871␟1503072610155972681: Display and summarize fields from your Relationships. `,r=$localize`:@@cu-task-list-header-settings__placeholder-title_enable-custom-fields␟5f36534138a1dda88f6d060eb15d577f224bd699␟2259086628417981561: Enable Custom Fields to create new columns. `,l=$localize`:@@common_enable␟13d836b7bce11585cee3d7ae02089e9015452164␟7594548493989927785: Enable `,u=$localize`:@@cu-task-list-header-settings__placeholder-more␟c236dd9223075c313d03156a62207c379b415fbd␟5434280545312041847: or ${"\ufffd#36\ufffd"}:START_LINK: Learn more ${"\ufffd/#36\ufffd"}:CLOSE_LINK:`,d=$localize`:@@cu-task-list-header-settings__placeholder-hide␟152190429b5a1d4ec95d962a290fc5bfba6c23ea␟2966370957772078841: hide this `,p=$localize`:@@common_add-column␟352621ae830c4fdfc6a917e3e168223e68563cac␟7167307107832726875: Add column `,m=$localize`:@@common_add-column␟20d38d067b4e5932c92563b202079590a120a178␟4101856382024549580:Add Column`,[["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownDisabled","dropdownRepositionFlag","dropdownPlacement","dropdownFromPoint","dropdownCloseOnOutsideClick","dropdownPreventDocumentScroll","dropdownClose","dropdownOpen"],["dropdown","dropdown"],["cuDropdownToggle",""],["class","cu-task-list-header-settings__add","icon","cu2-plus",3,"cuTooltip",4,"ngIf"],["class","cu-dropdown__menu_overflow-hidden",4,"cuDropdownMenu"],["icon","cu2-plus",1,"cu-task-list-header-settings__add",3,"cuTooltip"],[1,"cu-dropdown__menu_overflow-hidden"],[4,"ngIf"],["style","display: flex",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"display","flex"],[1,"columns-list",3,"keydown"],[1,"columns-list__header"],[4,"ngIf","ngIfElse"],["notSharingApp",""],[1,"columns-list__search",3,"click"],["placeholder",t,3,"ngModel","ngModelChange"],["hiddenColumnsSearch",""],[1,"columns-list__body",3,"perfectScrollbar"],["leftColumnScrollbar","ngxPerfectScrollbar"],[3,"class","columns-list__item_disabled","columns-list__item_last","columns-list__item_active","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"class","columns-list__item_disabled","columns-list__item_active","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","columns-list",3,"keydown",4,"ngIf"],e,a,[3,"click"],[1,"columns-list__item-name"],["class","cu-custom-fields__list-item-icon",3,"icon",4,"ngIf"],[1,"columns-list__item-name-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["class","cu-custom-fields__list-item-icon cu-custom-fields__list-item-icon_right",3,"icon","cuTooltip","tooltipAllowHtmlRememberToEscapeXss",4,"ngIf"],["class","columns-list__item-edit","icon","edit-v2",3,"cuPreventDefault","click",4,"ngIf"],["class","columns-list__item-check","icon","dropdown-settings_mark",4,"ngIf"],[1,"cu-custom-fields__list-item-icon",3,"icon"],[1,"cu-custom-fields__list-item-icon","cu-custom-fields__list-item-icon_right",3,"icon","cuTooltip","tooltipAllowHtmlRememberToEscapeXss"],["icon","edit-v2",1,"columns-list__item-edit",3,"cuPreventDefault","click"],["icon","dropdown-settings_mark",1,"columns-list__item-check"],["class","cu-custom-fields__list-item-icon cu-custom-fields__list-item-icon",3,"icon","cuTooltip","tooltipAllowHtmlRememberToEscapeXss",4,"ngIf"],["cuTooltip",i,"icon","exclamation-o","class","columns-list__item-exclamation",4,"ngIf"],[1,"cu-custom-fields__list-item-icon","cu-custom-fields__list-item-icon",3,"icon","cuTooltip","tooltipAllowHtmlRememberToEscapeXss"],["cuTooltip",i,"icon","exclamation-o",1,"columns-list__item-exclamation"],o,["placeholder",n,3,"ngModel","ngModelChange"],["customFieldTypesSearch",""],["class","columns-list__body",3,"perfectScrollbar",4,"ngIf"],["class","cu-task-list-header-settings__placeholder",4,"ngIf"],["rightColumnScrollbar","ngxPerfectScrollbar"],[1,"cu-task-list-header-settings__existing-fields",3,"click"],s,[1,"cu-task-list-header-settings__existing-fields-divider"],[4,"ngFor","ngForOf","ngForTrackBy"],["rollupPopover",""],["containerClass","cu-task-list-header-settings__popover","triggers","mouseenter:mouseleave","placement","left","container","body",3,"popover","click"],[1,"columns-list__item-name-text"],[1,"cu-task-list-header-settings__popover-img"],[3,"src"],[1,"cu-task-list-header-settings__popover-description"],c,["popover",""],[1,"cu-task-list-header-settings__placeholder"],[1,"cu-task-list-header-settings__placeholder-divider"],[1,"cu-task-list-header-settings__placeholder-image"],["width","106","height","90","fill","none","xmlns","http://www.w3.org/2000/svg"],["opacity","0.6","fill-rule","evenodd","clip-rule","evenodd","d","M95.81 86c6.32 1-9.3 2.38-11.49 2.48-23.66 1.07-49.26.57-72.7-.79-.97-.06-1.96-.12-2.76-.3-5.8-1.26 12.82-2.11 14.55-2.18 6.43-.24 12.95-.4 19.43-.43 9.19-.04 45.14-.05 52.97 1.21z","fill","#E3E3E3"],["fill-rule","evenodd","clip-rule","evenodd","d","M103.68 63.78V7.33a6.1 6.1 0 0 0-6.04-6.13H6.04A6.1 6.1 0 0 0 0 7.33v56.45a6.1 6.1 0 0 0 6.05 6.14h91.59a6.1 6.1 0 0 0 6.04-6.14z","fill","#E3E3E3"],["fill-rule","evenodd","clip-rule","evenodd","d","M65.07 81.12l-2.9-12.81H44.74l-2.92 12.8c-3.64.52-9.59 2.96-9.59 5.9h42.43c0-2.94-5.95-5.38-9.6-5.9z","fill","#E3E3E3"],["fill-rule","evenodd","clip-rule","evenodd","d","M65.09 81.25l-2.56-11.49H48.06c-.74 0-1.38.52-1.54 1.24l-2.44 11.22c-3.4.47-8.93 2.08-8.93 4.8h39.52c0-2.72-6.19-5.3-9.58-5.77z","fill","#F9F9F9"],["fill-rule","evenodd","clip-rule","evenodd","d","M44 70.13l-2.5 11.02.37-.25a19.26 19.26 0 0 0-6.58 2.2c-1.4.8-3.38 2.11-3.38 3.95 0 .11.1.19.21.19h42.43c.13 0 .45-.06.45-.25 0-1.85-1.92-3.14-3.35-3.93a19.13 19.13 0 0 0-6.46-2.16l.21.13-2.47-11.22c-.07-.29-.73-.12-.66.17l2.48 11.23c.02.1.13.12.2.13 2.1.3 4.18 1 6.03 2 1.34.72 3.35 1.96 3.35 3.7l.46-.25H32.36l.22.2c0-1.76 1.95-2.98 3.31-3.7a18.42 18.42 0 0 1 5.91-1.95c.15-.02.33-.09.37-.25l2.5-11.02c.07-.3-.6-.21-.66.06z","fill","#6A79A8"],["fill-rule","evenodd","clip-rule","evenodd","d","M60.23 81.08H44.19c-.43.02-1.07.14-1.3.56-.22.39.18.62.54.61 4.67-.08 9.35 0 14.03 0h2.01c.43 0 1.08-.13 1.3-.55.23-.4-.18-.62-.54-.62z","fill","#E3E3E3"],["fill-rule","evenodd","clip-rule","evenodd","d","M105.06 62.29V6.89c0-3.32-2.7-6.02-6.02-6.02H7.87A6.02 6.02 0 0 0 1.85 6.9v55.4c0 3.32 2.7 6.02 6.02 6.02h91.17c3.32 0 6.02-2.7 6.02-6.02z","fill","#F9F9F9"],["fill-rule","evenodd","clip-rule","evenodd","d","M105.39 62.26V51.83 30.08v-19-4.07A6.31 6.31 0 0 0 99.05.65c-2.48-.02-4.95 0-7.43 0H9.08c-1.43 0-2.78.03-4.1.7a6.36 6.36 0 0 0-3.46 5.57v53.94c0 1.96.08 3.82 1.43 5.43C4.4 68 6.4 68.53 8.53 68.53H98.85a6.45 6.45 0 0 0 6.54-6.27c0-.33-.66-.22-.67.06a5.76 5.76 0 0 1-4.9 5.71c-.37.05-.75.05-1.13.05H7.93a5.85 5.85 0 0 1-5.2-3.37c-.66-1.43-.54-2.96-.54-4.48V43.68 21.6 7.55v-.97a5.74 5.74 0 0 1 5.08-5.45C8 1.06 8.76 1.1 9.5 1.1H99a5.85 5.85 0 0 1 5.73 6.21v55.01c0 .32.67.21.67-.06z","fill","#6A79A8"],["fill-rule","evenodd","clip-rule","evenodd","d","M98.09 6.11H8.82c-1.2 0-2.17.97-2.17 2.17v48.48c0 1.2.97 2.17 2.17 2.17h87.9a3.54 3.54 0 0 0 3.54-3.54V8.28c0-1.2-.98-2.17-2.17-2.17z","fill","#fff"],["fill-rule","evenodd","clip-rule","evenodd","d","M98.21 5.92H10.25c-.7 0-1.51-.08-2.2.14a2.49 2.49 0 0 0-1.73 2.42v48.09c0 1.57 1.09 2.54 2.62 2.55h87.48c2.22-.01 4.14-1.53 4.17-3.86.03-3.73 0-7.47 0-11.2V24.02 9.42v-1.1a2.37 2.37 0 0 0-2.38-2.4c-.25-.01-.7.36-.25.38 2.2.1 1.97 2.3 1.97 3.83v42.06c0 1.07.02 2.14 0 3.2-.04 1.75-1.26 3.3-3.09 3.35H16.68c-2.5 0-5.02.03-7.53 0-.84-.01-1.61-.38-1.98-1.19-.2-.46-.19-.91-.19-1.4v-4.64-17.87-18.6-5.55c0-1.32-.1-3.1 1.76-3.19 2.13-.1 4.29 0 6.42 0H97.96c.25 0 .7-.38.25-.38z","fill","#6A79A8"],["opacity","0.2","fill-rule","evenodd","clip-rule","evenodd"],["d","M78.51 49.83l.27-30.08c.01-1.12 1.88-2.03 4.18-2.02l5.68.01c2.3 0 4.16.92 4.15 2.04l-.27 30.08c0 1.12-1.88 2.02-4.18 2.02l-5.68-.02c-2.3 0-4.16-.91-4.15-2.03z","fill","#F9F9F9"],["d","M77.86 50.54l.1-13.07.12-16.33c0-.88.16-1.72 1.96-2.24 1.28-.36 2.84-.27 4.26-.27 1.36 0 2.86-.08 4.2.04 1.7.15 2.92.78 2.99 1.62.02.18 0 .37 0 .55l-.02 2.48-.14 18.72-.05 7.1c0 .37.04.76-.01 1.15-.3 2.22-5.54 1.82-8.69 1.82-2.11 0-4.6-.28-4.72-1.57-.01-.2-.64-.71-.6-.28.08.94.97 1.88 2.77 2.3 1.29.3 2.9.2 4.29.21 1.38 0 3.01.12 4.36-.06 2.03-.27 3.12-1.17 3.2-2.15.1-1.5.01-3.01.03-4.52l.14-20.1c.02-1.78.1-3.58.04-5.37-.05-1.41-1.88-2.57-4.88-2.59-2.9-.02-7.33-.42-9.09 1-.73.6-.64 1.28-.64 1.94l-.02 2.82-.07 9.51-.13 16.7v.31c0 .2.6.72.6.28z","fill","#6A79A8"],["fill-rule","evenodd","clip-rule","evenodd","d","M61.94 44.3l.27-30.08c0-1.12 1.88-2.02 4.18-2.02l5.68.02c2.3 0 4.16.91 4.15 2.03l-.27 30.08c-.01 1.12-1.88 2.03-4.18 2.02h-5.69c-2.3-.01-4.15-.93-4.14-2.05z","fill","#F9F9F9"],["d","M47.58 49.83l.26-30.08c.01-1.12 1.89-2.03 4.18-2.02l5.69.01c2.3 0 4.15.92 4.14 2.04l-.26 30.08c-.01 1.12-1.89 2.02-4.18 2.02l-5.69-.02c-2.3 0-4.15-.91-4.14-2.03z","fill","#F9F9F9"],["d","M46.93 50.54l.1-13.07.12-16.33c0-.88.15-1.72 1.95-2.24 1.28-.36 2.84-.27 4.27-.27 1.35 0 2.85-.08 4.2.04 1.69.15 2.91.78 2.99 1.62v.55c-.02.82-.02 1.65-.03 2.48l-.14 18.72-.05 7.1c0 .37.05.76 0 1.15-.3 2.22-5.54 1.82-8.7 1.82-2.1 0-4.6-.28-4.71-1.57-.02-.2-.64-.71-.6-.28.08.94.96 1.88 2.77 2.3 1.29.3 2.9.2 4.28.21 1.38 0 3.02.12 4.36-.06 2.03-.27 3.13-1.17 3.2-2.15.1-1.5.02-3.01.03-4.52l.15-20.1c.01-1.78.1-3.58.04-5.37-.05-1.41-1.88-2.57-4.89-2.59-2.89-.02-7.33-.42-9.08 1-.74.6-.64 1.28-.65 1.94a26633.61 26633.61 0 0 0-.09 12.33l-.12 16.7v.31c0 .2.6.72.6.28z","fill","#6A79A8"],["d","M32.11 49.83l.27-30.08c0-1.12 1.88-2.03 4.18-2.02l5.68.01c2.3 0 4.16.92 4.15 2.04l-.27 30.08c-.01 1.12-1.88 2.02-4.18 2.02l-5.69-.02c-2.3 0-4.15-.91-4.14-2.03z","fill","#F9F9F9"],["d","M31.46 50.54l.1-13.07.12-16.33c0-.88.16-1.72 1.95-2.24 1.28-.36 2.85-.27 4.27-.27 1.35 0 2.85-.08 4.2.04 1.69.15 2.91.78 2.99 1.62v.55l-.02 2.48-.14 18.72-.05 7.1c0 .37.04.76-.01 1.15-.3 2.22-5.54 1.82-8.7 1.82-2.1 0-4.6-.28-4.7-1.57-.02-.2-.65-.71-.61-.28.08.94.96 1.88 2.77 2.3 1.29.3 2.9.2 4.29.21 1.37 0 3 .12 4.36-.06 2.02-.27 3.12-1.17 3.19-2.15.1-1.5.02-3.01.03-4.52l.15-20.1c.01-1.78.1-3.58.04-5.37-.05-1.41-1.88-2.57-4.89-2.59-2.88-.02-7.33-.42-9.08 1-.73.6-.64 1.28-.65 1.94 0 .94 0 1.88-.02 2.82l-.07 9.51-.12 16.7v.31c0 .2.6.72.6.28z","fill","#6A79A8"],["d","M16.64 49.83l.27-30.08c0-1.12 1.88-2.03 4.18-2.02l5.68.01c2.3 0 4.16.92 4.15 2.04l-.27 30.08c-.01 1.12-1.88 2.02-4.18 2.02l-5.68-.02c-2.3 0-4.16-.91-4.15-2.03z","fill","#F9F9F9"],["d","M16 50.54l.09-13.07.12-16.33c0-.88.16-1.72 1.96-2.24 1.28-.36 2.84-.27 4.26-.27 1.36 0 2.86-.08 4.2.04 1.69.15 2.92.78 2.99 1.62.02.18 0 .37 0 .55l-.02 2.48-.14 18.72-.05 7.1c0 .37.04.76-.01 1.15-.3 2.22-5.54 1.82-8.69 1.82-2.11 0-4.6-.28-4.72-1.57-.01-.2-.64-.71-.6-.28.08.94.96 1.88 2.77 2.3 1.29.3 2.9.2 4.29.21 1.38 0 3.01.12 4.36-.06 2.03-.27 3.12-1.17 3.2-2.15.1-1.5.01-3.01.03-4.52l.14-20.1c.02-1.78.1-3.58.04-5.37-.05-1.41-1.88-2.57-4.88-2.59-2.9-.02-7.33-.42-9.09 1-.73.6-.64 1.28-.64 1.94l-.02 2.82-.07 9.51-.13 16.7v.31c0 .2.6.72.6.28z","fill","#6A79A8"],["x","62.37","y","12.59","width","13.3629","height","34.3547","rx","2.5","stroke","#6FCF97","stroke-dasharray","2 2"],["d","M68.06 30.81h.89v-2.47h2.5v-.86h-2.5V25h-.9v2.47h-2.49v.86h2.5v2.47z","fill","#6FCF97"],["fill","#E1E4EE","d","M33.15 23.13h8.84v1.1h-8.84zM33.15 27.55h9.94v1.1h-9.94zM33.15 31.97h8.84v1.1h-8.84zM33.15 36.39h8.84v1.1h-8.84zM79.55 23.13h8.84v1.1h-8.84zM79.55 27.55h9.94v1.1h-9.94zM79.55 31.97h8.84v1.1h-8.84zM79.55 36.39h8.84v1.1h-8.84zM48.61 23.13h8.84v1.1H48.6zM48.61 27.55h3.31v1.1h-3.31zM48.61 31.97h8.84v1.1H48.6zM48.61 36.39h4.42v1.1H48.6zM17.68 23.13h7.73v1.1h-7.73zM17.68 27.55h8.84v1.1h-8.84zM17.68 31.97h7.73v1.1h-7.73z"],[1,"cu-task-list-header-settings__placeholder-title"],r,[1,"cu-btn","cu-btn_x-sm",3,"ngStyle","click"],l,[1,"cu-task-list-header-settings__placeholder-more"],u,["href","https://docs.clickup.com/articles/2310503-custom-fields","target","_blank",1,"cu-task-list-header-settings__placeholder-more-link"],[1,"cu-task-list-header-settings__placeholder-hide",3,"click"],d,[3,"display","customFields","team","repositionMenu","cancel","createModalOpen","createRollupColumns",4,"ngIf"],["class","cu-task-list-header-settings__add-new-type",4,"ngIf"],[3,"customFields","team","repositionMenu","cancel","createModalOpen","createRollupColumns"],[1,"cu-task-list-header-settings__add-new-type"],[1,"cu-task-list-header-settings__add-new-type-header"],p,[1,"cu-task-list-header-settings__add-new-type-body"],["createButtonText",m,3,"customFields","allowRequireChange","notBusinessPlus","entity","createNewType","availableColumns","isInlineForm","country","addCreatedColumn","forTaskListHeader","forRelationships","addColumn","cancel","save","renameField"]]},template:function(t,e){1&t&&(n.cc(0,"div",0,1),n.qc("dropdownClose",function(){return e.closeAddField()})("dropdownOpen",function(){return e.dropdownOpened()}),n.cc(2,"div",2),n.bd(3,G,1,1,"div",3),n.bc(),n.bd(4,wt,4,3,"div",4),n.bc()),2&t&&(n.Dc("dropdownCloseOnInsideClick",!1)("dropdownDisabled",e.disabled)("dropdownRepositionFlag",e.createNewType)("dropdownPlacement",e.addColumnTemplate?n.Gc(8,vt):n.Gc(9,yt))("dropdownFromPoint",e.fromPoint)("dropdownCloseOnOutsideClick",!e.dropdownModalOpen)("dropdownPreventDocumentScroll",!1),n.Ib(3),n.Dc("ngIf",e.showToggle))},directives:[l.b,O.a,j.q,P.a,A.a,$.a,j.x,R.c,R.p,R.s,F.a,j.p,M.a,E.c,j.t,U.a,L.a],pipes:[j.b,z.a],styles:['.cu-task-list-header-settings{display:flex;justify-content:flex-end;width:74px;padding-right:15px;flex-shrink:0}.cu-task-list-header-settings .cu-dropdown_open .cu-task-list-header-settings__icon svg,.cu-task-list-header-settings:hover .cu-task-list-header-settings__icon svg{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings .cu-dropdown_open .cu-task-list-header-settings__icon svg,.cu-task-list-header-settings:hover .cu-task-list-header-settings__icon svg{fill:var(--theme-main-color)}}.cu-task-list-header-settings_disabled{opacity:.5}.cu-task-list-header-settings .cu-dropdown__menu{margin-top:0}.cu-task-list-header-settings__add{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;width:18px;height:18px;background:#bcc0c7;border-radius:50%;fill:#fff;padding:4px;margin-top:16px}.dark-theme .cu-task-list-header-settings__add{fill:#2b343b}.cu-task-list-header-settings__add:hover{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings__add:hover{background:var(--theme-main-color)}}.cu-task-list-header-settings__icon{width:24px;height:24px;padding:4px;margin-top:1px}.cu-task-list-header-settings__icon svg{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#343434}.dark-theme .cu-task-list-header-settings__icon svg{fill:#d5d6d7}.cu-task-list-header-settings__popover{width:190px;background:#6c6c6f;border-color:#6c6c6f;box-shadow:0 2px 16px 0 rgba(0,0,0,.3)}.dark-theme .cu-task-list-header-settings__popover{background:#2b343b;border-color:#2b343b}.cu-task-list-header-settings__popover .popover.bs-tether-element-attached-bottom:after,.cu-task-list-header-settings__popover.popover.popover-top:after{border-top-color:#6c6c6f}.dark-theme .cu-task-list-header-settings__popover .popover.bs-tether-element-attached-bottom:after,.dark-theme .cu-task-list-header-settings__popover.popover.popover-top:after{border-top-color:#2b343b}.cu-task-list-header-settings__popover .popover.bs-tether-element-attached-bottom:before,.cu-task-list-header-settings__popover.popover.popover-top:before{display:none}.cu-task-list-header-settings__popover .popover.bs-tether-element-attached-top:after,.cu-task-list-header-settings__popover.popover.popover-bottom:after{border-bottom-color:#6c6c6f}.dark-theme .cu-task-list-header-settings__popover .popover.bs-tether-element-attached-top:after,.dark-theme .cu-task-list-header-settings__popover.popover.popover-bottom:after{border-bottom-color:#2b343b}.cu-task-list-header-settings__popover .popover.bs-tether-element-attached-top:before,.cu-task-list-header-settings__popover.popover.popover-bottom:before{display:none}.cu-task-list-header-settings__popover .popover.bs-tether-element-attached-right:after,.cu-task-list-header-settings__popover.popover.popover-left:after{border-left-color:#6c6c6f}.dark-theme .cu-task-list-header-settings__popover .popover.bs-tether-element-attached-right:after,.dark-theme .cu-task-list-header-settings__popover.popover.popover-left:after{border-left-color:#2b343b}.cu-task-list-header-settings__popover .popover.bs-tether-element-attached-right:before,.cu-task-list-header-settings__popover.popover.popover-left:before{display:none}.cu-task-list-header-settings__popover .popover-content.popover-body{padding:10px 10px 12px}.cu-task-list-header-settings__popover-img{margin-bottom:5px;height:97px}.cu-task-list-header-settings__popover-img img{width:100%}.cu-task-list-header-settings__popover-description{font:400 11px/15px Gotham Pro,Proxima Nova,arial,serif;color:#fff}.dark-theme .cu-task-list-header-settings__popover-description{color:#d5d6d7}.cu-task-list-header-settings__add-new-type{display:flex;flex-direction:column;min-width:500px;max-height:500px;overflow:auto;padding:15px 20px}.cu-task-list-header-settings__add-new-type_hidden{display:none}.cu-task-list-header-settings__add-new-type-shorter{max-height:370px;min-height:200px}.cu-task-list-header-settings__add-new-type-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;flex-shrink:0;text-transform:uppercase;font:500 11px Gotham Pro,Proxima Nova,arial,serif;color:rgba(34,34,34,.3);margin-bottom:17px}.contrast_high .cu-task-list-header-settings__add-new-type-header{color:#858585}.dark-theme .cu-task-list-header-settings__add-new-type-header{color:#828588}.cu-task-list-header-settings__add-new-type-body{flex:0 1 auto;position:relative}.cu-task-list-header-settings__existing-fields{color:#7b68ee;display:flex;align-items:center;justify-content:center;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;margin:12px 15px 0;height:32px;border-radius:3px;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;border:1px solid #e3e6ed;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings__existing-fields{color:var(--theme-main-color)}}.dark-theme .cu-task-list-header-settings__existing-fields{border-color:#1e272e}.cu-task-list-header-settings__existing-fields:hover{background:#e3e6ed}.dark-theme .cu-task-list-header-settings__existing-fields:hover{background:#1e272e}.cu-task-list-header-settings__existing-fields-divider{height:12px}.cu-task-list-header-settings__placeholder{display:flex;flex-direction:column;align-items:center;flex-grow:1}.cu-task-list-header-settings__placeholder-image{margin:10px 0;opacity:.9}.cu-task-list-header-settings__placeholder-title{font:500 12px/1.2 Gotham Pro,Proxima Nova,arial,serif;text-align:center;margin-bottom:10px;color:#343434}.dark-theme .cu-task-list-header-settings__placeholder-title{color:#d5d6d7}.cu-task-list-header-settings__placeholder-more{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-top:10px;color:#343434}.dark-theme .cu-task-list-header-settings__placeholder-more{color:#d5d6d7}.cu-task-list-header-settings__placeholder-more-link{color:#7b68ee;display:inline-block;cursor:pointer;border-bottom:1px dotted}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings__placeholder-more-link{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-task-list-header-settings__placeholder-more-link:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-list-header-settings__placeholder-more-link:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}.cu-task-list-header-settings__placeholder-hide{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin:20px 0 15px;cursor:pointer;color:#4f4f4f;position:relative}.dark-theme .cu-task-list-header-settings__placeholder-hide{color:#828588}.cu-task-list-header-settings__placeholder-hide:after{content:"";display:block;position:absolute;transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;background-color:#4f4f4f;bottom:0;left:0;width:100%;height:1px}.cu-task-list-header-settings__placeholder-hide:after:hover{transition:none}.cu-task-list-header-settings__placeholder-hide:hover:after{opacity:0}.cu-task-list-header-settings__placeholder-divider{flex-grow:1}'],encapsulation:2,changeDetection:0}),t})()},Mdxa:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("l7P3"),o=a("u/TW"),n=a("c3rA"),s=a("dTHz");const c=Object(i.createFeatureSelector)("ui"),r=(Object(i.createSelector)(c,o.a),Object(i.createSelector)(n.getSidebarIsCollapsedOption,n.getSidebarWidthOption,n.getSpacesBarIsCollapsedOption,n.getSpacesBarWidthOption,n.getUser,(t,e,a,i,o)=>o.dashboard===s.b.Six?t?0:e:(a||o.dashboard===s.b.Five?3===o.dashboard_size?62:2===o.dashboard_size?55:50:i)+(t?0:e)))},N3Tp:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("Kj3r"),o=a("1G5W"),n=a("XNiG"),s=a("fXoL"),c=a("gwei");let r=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.destroy$=new n.a,this.visible=!1,this.printing=!1,this.lastHeight=0}ngOnInit(){this.renderer&&(this.renderer.observeElement(this.elementRef.nativeElement),this.renderer.getObserver(this.elementRef.nativeElement).pipe(Object(i.a)(100),Object(o.a)(this.destroy$)).subscribe(t=>{this.setInViewport(t,this.printing)}),this.renderer.printing$.pipe(Object(o.a)(this.destroy$)).subscribe(t=>{this.setInViewport(this.visible,t)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.renderer&&this.renderer.unobserveElement(this.elementRef.nativeElement),this.body&&this.body.view&&this.body.view.destroy(),this.placeholder=null,this.body=null}setPlaceholder(t){this.placeholder=t,this.placeholder.nativeElement.style.minHeight=(this.lastHeight||this.defaultHeight)+"px"}setBody(t,e){this.body={viewContainer:t,templateRef:e},this.setInViewport(this.visible,this.printing)}setInViewport(t,e){const a=this.visible||this.printing,i=t||e;if(a!==i){if(a&&!i&&this.customElementsIgnore&&this.elementRef.nativeElement.querySelector(this.customElementsIgnore.join(", ")))return;if(i)this.body&&(this.displayView(this.body),this.placeholder&&this.placeholder.nativeElement.classList.add("cu-hidden"));else{const t=this.body&&this.body.view&&this.body.view.rootNodes&&this.body.view.rootNodes.length&&this.body.view.rootNodes[0];t&&(this.lastHeight=t.clientHeight||this.lastHeight||this.defaultHeight),this.placeholder&&(this.placeholder.nativeElement.classList.remove("cu-hidden"),this.placeholder.nativeElement.style.minHeight=(this.lastHeight||this.defaultHeight)+"px"),this.hideView(this.body)}}this.visible=t,this.printing=e}displayView(t){t&&(t.view||(t.view=t.templateRef.createEmbeddedView(null)),t.viewContainer.insert(t.view),t.view.detectChanges())}hideView(t){t&&t.viewContainer.detach()}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(s.m),s.Wb(c.a,8))},t.\u0275dir=s.Rb({type:t,selectors:[["","cuLazyItem",""]],inputs:{defaultHeight:["lazyDefaultHeight","defaultHeight"],customElementsIgnore:"customElementsIgnore"}}),t})()},Nlmw:function(t,e,a){t.exports=a.p+"rollup.59d980409af02a4d967a.png"},Nmwb:function(t,e,a){"use strict";a.d(e,"a",function(){return S});var i=a("y71m"),o=a("ofXK"),n=a("9Ejp"),s=a("EDFS"),c=a("+2Ly"),r=a("faCi"),l=a("K0KF"),u=a("C8uC"),d=a("tGh3"),p=a("gb9A"),m=a("fTg4"),h=a("SgaY"),g=a("5+WD"),b=a("o/e2"),f=a("yJWD"),k=a("Fj0M"),_=a("fXoL"),w=a("UdVN"),v=a("BTFG"),y=a("0Dyw"),x=a("NsZK"),T=a("OBnU"),I=a("NQa4"),C=a("ugB3"),D=a("8r6i");let S=(()=>{class t{}return t.\u0275mod=_.Ub({type:t}),t.\u0275inj=_.Tb({factory:function(e){return new(e||t)},imports:[[o.c,n.b,s.d.forRoot(),r.a,b.a,f.b,k.CreateCustomFieldFormModule,l.a,u.LoaderModule,d.a,p.a,m.a,h.a,g.f,i.a]]}),t})();_.Yc(c.a,[o.q,o.p,w.a,v.a,o.x,g.d,g.a,g.b,y.a,x.a,T.a,I.a,o.o,s.c,C.a,D.a],[o.b])},"Nn/B":function(t,e,a){"use strict";a.d(e,"e",function(){return r}),a.d(e,"l",function(){return u}),a.d(e,"k",function(){return m}),a.d(e,"g",function(){return g}),a.d(e,"f",function(){return b}),a.d(e,"c",function(){return f}),a.d(e,"h",function(){return w}),a.d(e,"a",function(){return v}),a.d(e,"b",function(){return y}),a.d(e,"i",function(){return x}),a.d(e,"j",function(){return T}),a.d(e,"d",function(){return C});var i=a("DDYz"),o=a("c3rA"),n=a("l7P3"),s=a("Rpu1");const c=Object(n.createFeatureSelector)("timeTracker"),r=Object(n.createSelector)(c,t=>t.open),l=Object(n.createSelector)(c,t=>t.currentEntryId),u=(Object(n.createSelector)(c,t=>t.currentDuration),Object(n.createSelector)(c,t=>t.unsavedEntry)),d=Object(n.createSelector)(c,t=>t.offlineTimeActionIds),p=Object(n.createSelector)(c,t=>t.timeEntriesMap),m=Object(n.createSelector)(c,t=>t.unSavedTaskTimeEntriesMap),h=Object(n.createSelector)(c,t=>t.tagsCacheMap),g=Object(n.createSelector)(p,h,o.getSelectedTeamId,(t,e,a)=>Object.entries(t[a]||{}).reduce((t,[a,i])=>(t[a]=i&&i.tags&&i.tags.length?Object.assign(Object.assign({},i),{tags:i.tags.map(t=>e[t.name]).filter(t=>!!t)}):i,t),{})),b=Object(n.createSelector)(d,g,(t,e)=>t.map(t=>e[t]).filter(t=>!!t).sort((t,e)=>parseInt(t.start,10)-parseInt(e.start,10))),f=Object(n.createSelector)(l,g,(t,e)=>e[t]?Object.assign(Object.assign({},e[t]),{duration:parseInt(e[t].start,10)-(new Date).getTime()}):null),k=Object(n.createSelector)(c,t=>t.taskTimeEntryGroupMap),_=Object(n.createSelector)(c,t=>t.recentIds),w=Object(n.createSelector)(h,t=>Object.entries(t).map(([t,e])=>e).slice().sort(i.d)),v=Object(n.createSelector)(f,t=>t&&t.duration),y=(Object(n.createSelector)(g,_,(t,e)=>e.map(e=>t[e]).filter(t=>!!t)),Object(n.createSelector)(f,t=>t&&t.task&&t.task.id?{[t.task.id]:t}:{})),x=Object(n.createSelector)(k,g,w,(t,e,a)=>({taskTimeEntryGroupMap:t,timeEntriesMap:e,tags:a})),T=Object(n.createSelector)(k,g,w,y,m,(t,e,a,i,o)=>({timeEntryGroupMap:t,timeEntriesMap:e,timeEntryTags:a,currentEntryMap:i,unsavedMap:o})),I=Object(n.createSelector)(g,o.getUser,(t,e)=>Object.entries(t).reduce((t,[a,o])=>{if(!o||o.user.id!==e.id)return t;const n=(o.tags||[]).map(t=>t).slice().sort(i.d).map(t=>t.name),s=`${o.description}-${o.billable?"billable":""}-${o.draft?o.tid:o.task?o.task.id:""}-${n.join("-")}`,c=t[s]||[];return c.push(o),t[s]=c,t},{})),C=Object(n.createSelector)(I,l,(t,e)=>Object.entries(t).map(([t,a])=>{const i=a.filter(t=>t.id!==e).sort((t,e)=>parseInt(e.start,10)-parseInt(t.start,10));return{billable:a[0].billable,duration:a.reduce((t,a)=>t+(a.id===e?0:parseInt(a.duration,10)<0?-1*parseInt(a.duration,10):parseInt(a.duration,10)),0),id:t,wid:a[0].wid,tid:a[0].tid,task:a[0].task,tags:a[0].tags,description:a[0].description,entries:i,running:-1!==a.findIndex(t=>t.id===e),start:i.length?i[0].start:null}}).filter(t=>t.entries.length).sort((t,e)=>parseInt(e.start,10)-parseInt(t.start,10)).slice(0,s.b))},NrhL:function(t,e,a){"use strict";a.d(e,"a",function(){return C});var i=a("fXoL"),o=a("jJQC"),n=a("lU5h"),s=a("TqRa"),c=a("yECk");let r=(()=>{class t{constructor(){this.addTaskToListText=$localize`:@@common_add-task-to-another-list:Add task to another List`,this.addTaskToSprintText=$localize`:@@cu-multiple-lists-display__tooltip-msg_add-task-to-another-sprint:Add task to another Sprint`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac}),t})();var l=a("ofXK"),u=a("NsZK"),d=a("UdVN"),p=a("loh9"),m=a("+0HB"),h=a("Gvs+"),g=a("S0bY");const b=function(t){return{list:t}};function f(t,e){if(1&t&&i.Yb(0,7),2&t){const t=i.uc(),e=i.Rc(8);i.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.Hc(2,b,t.mainSubcategory))}}function k(t,e){if(1&t&&(i.ac(0),i.Yb(1,7),i.Zb()),2&t){const t=e.$implicit;i.uc();const a=i.Rc(8);i.Ib(1),i.Dc("ngTemplateOutlet",a)("ngTemplateOutletContext",i.Hc(2,b,t))}}function _(t,e){if(1&t&&i.Yb(0,8),2&t){i.uc();const t=i.Rc(10);i.Dc("ngTemplateOutlet",t)}}function w(t,e){if(1&t&&i.Yb(0,8),2&t){i.uc();const t=i.Rc(6);i.Dc("ngTemplateOutlet",t)}}function v(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-category-list-dropdown",10),i.qc("onSelect",function(e){i.Uc(t);const a=i.uc(2);return a.onSelect.emit({task:a.task,locationData:e})})("onRemoveAdditionalList",function(e){return i.Uc(t),i.uc(2).onRemove.emit({task:e.task,listId:e.listId})})("onOpen",function(e){return i.Uc(t),i.uc(2).onOpen.emit(e)})("onClose",function(e){return i.Uc(t),i.uc(2).onClose.emit(e)}),i.vc(1,"idArrayFromObjectArray"),i.cc(2,"div",11),i.Xb(3,"div",12),i.bc(),i.bc()}if(2&t){const t=i.uc(2);i.Dc("selectableProject",!0)("defaultProject",t.selectedProject)("selectedCategory",null==t.task||null==t.task.category?null:t.task.category.id)("selectedSubcategory",null==t.task||null==t.task.subcategory?null:t.task.subcategory.id)("singleCategory",!1)("displaySearch",!1)("showTaskCount",!0)("sprintOnly",t.sprintOnly)("task",t.task)("showOtherListsForTask",!0)("listsToDeny",i.wc(1,12,t.allSubcats)),i.Ib(2),i.Dc("cuTooltip",t.sprintOnly?t.multipleListsDisplayStringsService.addTaskToSprintText:t.multipleListsDisplayStringsService.addTaskToListText)}}function y(t,e){if(1&t&&i.bd(0,v,4,14,"cu-category-list-dropdown",9),2&t){const t=i.uc();i.Dc("ngIf",(null==t.permissions?null:t.permissions.move_task)&&(null==t.team?null:t.team.tasks_in_multiple_lists)&&!t.isGuest&&!(null!=t.task&&t.task.parent)&&!t.isSharingApp)}}function x(t,e){if(1&t){const t=i.dc();i.cc(0,"div",17),i.cc(1,"div",18),i.qc("click",function(){i.Uc(t);const e=i.uc().list,a=i.uc();return a.onRemove.emit({task:a.task,listId:e.id})}),i.bc(),i.bc()}}function T(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-category-list-dropdown",13),i.qc("onSelect",function(e){i.Uc(t);const a=i.uc();return a.onMoveTask.emit({task:a.task,locationData:e})})("onRemoveAdditionalList",function(e){return i.Uc(t),i.uc().onRemove.emit({task:e.task,listId:e.listId})})("onOpen",function(e){return i.Uc(t),i.uc().onOpen.emit(e)})("onClose",function(e){return i.Uc(t),i.uc().onClose.emit(e)}),i.vc(1,"idArrayFromObjectArray"),i.cc(2,"div",14),i.vc(3,"spaceNameById"),i.vc(4,"folderNameById"),i.vc(5,"folderNameById"),i.cc(6,"div",15),i.dd(7),i.bc(),i.bd(8,x,2,0,"div",16),i.bc(),i.bc()}if(2&t){const t=e.list,a=i.uc();i.Dc("selectableProject",!0)("defaultProject",a.selectedProject)("selectedCategory",null==a.task||null==a.task.category?null:a.task.category.id)("selectedSubcategory",null==a.task||null==a.task.subcategory?null:a.task.subcategory.id)("singleCategory",!1)("displaySearch",!1)("showTaskCount",!0)("task",a.task)("sprintOnly",a.sprintOnly)("showOtherListsForTask",!0)("disabled",!(null!=a.permissions&&a.permissions.move_task||a.isGuest||null!=a.task&&a.task.parent||a.isSharingApp))("listsToDeny",i.wc(1,15,a.allSubcats)),i.Ib(2),i.Dc("cuTooltip",i.xc(3,17,null==t?null:t.project_id,""!==i.xc(4,20,null==t?null:t.category,null==t?null:t.project_id))+i.xc(5,23,null==t?null:t.category,null==t?null:t.project_id)),i.Ib(5),i.ed(null==t?null:t.name),i.Ib(1),i.Dc("ngIf",!a.isSharingApp&&(null==a.permissions?null:a.permissions.move_task)&&(null==a.task||null==a.task.other_subcategories?null:a.task.other_subcategories.length)&&(null==a.task||null==a.task.subcategory?null:a.task.subcategory.id)!==(null==t?null:t.id))}}function I(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-category-list-dropdown",19),i.qc("onSelect",function(e){i.Uc(t);const a=i.uc();return a.onMoveTask.emit({task:a.task,locationData:e})})("onRemoveAdditionalList",function(e){return i.Uc(t),i.uc().onRemove.emit({task:e.task,listId:e.listId})})("onOpen",function(e){return i.Uc(t),i.uc().onOpen.emit(e)})("onClose",function(e){return i.Uc(t),i.uc().onClose.emit(e)}),i.vc(1,"idArrayFromObjectArray"),i.cc(2,"div",20),i.dd(3),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Dc("selectableProject",!1)("selectedCategory",null==t.task||null==t.task.category?null:t.task.category.id)("selectedSubcategory",null==t.task||null==t.task.subcategory?null:t.task.subcategory.id)("singleCategory",!1)("displaySearch",!1)("showTaskCount",!0)("task",t.task)("showOtherListsForTask",!0)("disabled",!(null!=t.permissions&&t.permissions.move_task||t.isGuest||null!=t.task&&t.task.parent||t.isSharingApp))("sprintOnly",t.sprintOnly)("listsToDeny",i.wc(1,13,t.allSubcats)),i.Ib(2),i.Dc("cuTooltip",t.truncatedListCountText),i.Ib(1),i.fd(" + ",t.truncatedItems.length," ")}}let C=(()=>{class t{constructor(t){this.multipleListsDisplayStringsService=t,this.truncate=!0,this.showAddButton=!0,this.sprintOnly=!1,this.onSelect=new i.o,this.onRemove=new i.o,this.onMoveTask=new i.o,this.onOpen=new i.o,this.onClose=new i.o,this.trackById=Object(o.d)("id"),this.isStaging=Object(n.f)(),this.isSharingApp=s.k,this.visibleItems=[],this.allSubcats=[],this.truncatedItems=[]}get truncatedListCountText(){return $localize`:@@cu-multiple-lists-display__tooltip-msg_truncated-list-count:${this.truncatedItems.length}:truncatedListCount: more list(s)`}ngOnChanges(t){t.task&&(this.mainSubcategory=this.task?this.sprintOnly?this.task.subcategory&&this.task.subcategory.sprint?this.task.subcategory:(this.task.other_subcategories||[]).find(t=>t.sprint):this.task.subcategory:null),(t.task||t.width)&&this.checkNeedTruncate()}checkNeedTruncate(){if(this.sprintOnly){const t=this.mainSubcategory?this.mainSubcategory.id:null;this.visibleItems=(this.task&&this.task.other_subcategories?this.task.other_subcategories:[]).filter(e=>e.sprint&&e.id!==t)}else this.visibleItems=this.task&&this.task.other_subcategories?this.task.other_subcategories:[];if(!this.truncate)return;if(this.allSubcats=[...this.visibleItems],this.truncatedItems=[],!this.task||!this.allSubcats||!this.allSubcats.length)return;let t=75;for(let e=0;e<this.allSubcats.length;e++){let a=42+9*this.allSubcats[e].name.length;if(a>100&&(a=93),t+=a,t>this.width){this.visibleItems=this.allSubcats.slice(0,e),this.truncatedItems=this.allSubcats.slice(e);break}}}open(){this.dropdown&&this.dropdown.open()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-multiple-lists-display"]],viewQuery:function(t,e){if(1&t&&i.jd(c.a,1),2&t){let t;i.Qc(t=i.rc())&&(e.dropdown=t.first)}},hostAttrs:[1,"cu-multiple-lists-display"],inputs:{task:"task",permissions:"permissions",listGroup:"listGroup",team:"team",isGuest:"isGuest",truncate:"truncate",width:"width",showAddButton:"showAddButton",selectedProject:"selectedProject",sprintOnly:"sprintOnly"},outputs:{onSelect:"onSelect",onRemove:"onRemove",onMoveTask:"onMoveTask",onOpen:"onOpen",onClose:"onClose"},features:[i.Hb([r]),i.Gb],decls:11,vars:5,consts:function(){let t;return t=$localize`:@@cu-multiple-lists-display__tooltip-msg_move-task-to-list␟850fa2068873513d0e92815cb4975c7f579407a6␟8671977044445510893:Move task to this list`,[[1,"cu-multiple-lists-display__container"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet",4,"ngIf"],["hierarchySelector",""],["otherListItem",""],["truncated",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],["class","cu-multiple-lists-display__item-category-list",3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","singleCategory","displaySearch","showTaskCount","sprintOnly","task","showOtherListsForTask","listsToDeny","onSelect","onRemoveAdditionalList","onOpen","onClose",4,"ngIf"],[1,"cu-multiple-lists-display__item-category-list",3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","singleCategory","displaySearch","showTaskCount","sprintOnly","task","showOtherListsForTask","listsToDeny","onSelect","onRemoveAdditionalList","onOpen","onClose"],[1,"cu-multiple-lists-display__item-add",3,"cuTooltip"],["icon","cu2-times"],["customListTooltip",t,1,"cu-multiple-lists-display__item-category-list",3,"selectableProject","defaultProject","selectedCategory","selectedSubcategory","singleCategory","displaySearch","showTaskCount","task","sprintOnly","showOtherListsForTask","disabled","listsToDeny","onSelect","onRemoveAdditionalList","onOpen","onClose"],[1,"cu-multiple-lists-display__item",3,"cuTooltip"],[1,"cu-multiple-lists-display__item-name"],["class","cu-multiple-lists-display__item-remove",4,"ngIf"],[1,"cu-multiple-lists-display__item-remove"],["icon","cu2-times","cuPreventDefault","",3,"click"],[1,"cu-multiple-lists-display__item-category-list",3,"selectableProject","selectedCategory","selectedSubcategory","singleCategory","displaySearch","showTaskCount","task","showOtherListsForTask","disabled","sprintOnly","listsToDeny","onSelect","onRemoveAdditionalList","onOpen","onClose"],[1,"cu-multiple-lists-display__overflow-dropdown",3,"cuTooltip"]]},template:function(t,e){1&t&&(i.cc(0,"div",0),i.bd(1,f,1,4,"ng-container",1),i.bd(2,k,2,4,"ng-container",2),i.bd(3,_,1,1,"ng-container",3),i.bd(4,w,1,1,"ng-container",3),i.bc(),i.bd(5,y,1,1,"ng-template",null,4,i.cd),i.bd(7,T,9,26,"ng-template",null,5,i.cd),i.bd(9,I,4,15,"ng-template",null,6,i.cd)),2&t&&(i.Ib(1),i.Dc("ngIf",e.mainSubcategory),i.Ib(1),i.Dc("ngForOf",e.visibleItems)("ngForTrackBy",e.trackById),i.Ib(1),i.Dc("ngIf",e.truncate&&e.truncatedItems.length),i.Ib(1),i.Dc("ngIf",e.showAddButton))},directives:[l.q,l.p,l.x,c.a,u.a,d.a,p.a],pipes:[m.a,h.a,g.a],styles:['.cu-multiple-lists-display{width:100%;display:flex;align-items:center}.cu-multiple-lists-display__placeholder{height:100%;display:flex;align-items:center}.cu-multiple-lists-display__container{padding:10px 0;display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:center}.cu-multiple-lists-display__container:hover .cu-multiple-lists-display__item-add{opacity:1}.cu-multiple-lists-display__container.mini{justify-content:flex-start;padding:10px 12px}.cu-multiple-lists-display__item{min-width:35px;max-width:100px;height:16px;border:1px solid rgba(185,190,199,.5);border-radius:2px;display:flex;align-items:center;position:relative;padding:0 4px;margin:2px 5px 2px 0;cursor:pointer}.cu-multiple-lists-display__item-blank{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;color:#7c828d;margin:2px 5px 2px 0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-multiple-lists-display__item-blank{font-family:var(--global-font-support)}}.cu-multiple-lists-display__item:hover .cu-multiple-lists-display__item-remove{opacity:1}.cu-multiple-lists-display__item-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#7c828d;max-width:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-multiple-lists-display__item-name{font-family:var(--global-font-support)}}.cu-multiple-lists-display__item-remove{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:flex-end;padding:0 3px 0 0;height:100%;position:absolute;right:0;top:0;cursor:pointer;background:linear-gradient(270deg,#fff 50%,hsla(0,0%,100%,0));width:24px;opacity:0}.dark-theme .cu-multiple-lists-display__item-remove{background:transparent}.cu-multiple-lists-display__item-remove .icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;height:10px;width:10px;fill:#b9bec7}.cu-multiple-lists-display__item-remove .icon:hover{transform:rotate(180deg);fill:var(--theme-main-color)}.cu-multiple-lists-display__item-add{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:16px;height:16px;border:1px solid rgba(185,190,199,.5);border-radius:2px;display:flex;align-items:center;justify-content:center;margin:2px 5px 2px 0;opacity:0}.cu-multiple-lists-display__item-add:hover{border-color:var(--theme-main-color)}.cu-multiple-lists-display__item-add:hover .icon{fill:var(--theme-main-color)}.cu-multiple-lists-display__item-add .icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;height:10px;width:10px;padding:1px;fill:#b9bec7;transform:rotate(45deg)}.cu-multiple-lists-display__overflow-dropdown{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;height:16px;border:1px solid rgba(185,190,199,.5);border-radius:2px;display:flex;align-items:center;position:relative;padding:0 4px;margin:2px 5px 2px 0;cursor:pointer;color:#7c828d}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-multiple-lists-display__overflow-dropdown{font-family:var(--global-font-support)}}.cu-multiple-lists-display__overflow-dropdown-menu .cu-multiple-lists-display__container{padding:10px;justify-content:flex-start}'],encapsulation:2,changeDetection:0}),t})()},"O+Lq":function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("fXoL"),o=a("VrOs"),n=a("vVjD");const s=function(){return{}};let c=(()=>{class t{constructor(t){this.automationStrategies=t,this.interpolatedInputChange=new i.o,this.mappedValueChange=new i.o,this.valueChange=new i.o,this.valueInvalid=new i.o}ngOnInit(){}ngOnChanges(t){if(t.variables){const t=this.automationStrategies.getStrategy(this.resource.key);this.modifiedVariables=t&&t.removeActionVariableFromProperty?t.removeActionVariableFromProperty(this.action.action,this.automationAction.baseProperty,this.variables):this.variables}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.d))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-action"]],inputs:{action:"action",resource:"resource",key:"key",automationAction:"automationAction",parentType:"parentType",parentId:"parentId",automationResource:"automationResource",readonly:"readonly",forSummary:"forSummary",value:"value",placeholder:"placeholder",variables:"variables",isAction:"isAction",mappedValue:"mappedValue",interpolatedValue:"interpolatedValue",actions:"actions"},outputs:{interpolatedInputChange:"interpolatedInputChange",mappedValueChange:"mappedValueChange",valueChange:"valueChange",valueInvalid:"valueInvalid"},features:[i.Gb],decls:1,vars:16,consts:[[1,"cu-automation-field-value_stretch",3,"value","action","actions","resource","parentType","parentId","readonly","component","options","variables","mappedValue","interpolatedValue","automationResource","isAction","automationAction","valueChange","mappedValueChange","interpolatedInputChange","valueInvalid"]],template:function(t,e){1&t&&(i.cc(0,"cu-automation-field-value",0),i.qc("valueChange",function(t){return e.valueChange.emit(t)})("mappedValueChange",function(t){return e.mappedValueChange.emit(t)})("interpolatedInputChange",function(t){return e.interpolatedInputChange.emit(t)})("valueInvalid",function(t){return e.valueInvalid.emit(t)}),i.bc()),2&t&&i.Dc("value",e.value)("action",e.action)("actions",e.actions)("resource",e.resource)("parentType",e.parentType)("parentId",e.parentId)("readonly",e.readonly)("component",null==e.automationAction?null:e.automationAction.component)("options",(null==e.automationAction?null:e.automationAction.componentOptions)||i.Gc(15,s))("variables",e.modifiedVariables)("mappedValue",e.mappedValue)("interpolatedValue",e.interpolatedValue)("automationResource",e.automationResource)("isAction",e.isAction)("automationAction",e.automationAction)},directives:[n.a],encapsulation:2,changeDetection:0}),t})()},OPBM:function(t,e,a){"use strict";a.d(e,"a",function(){return w});var i=a("r6/G"),o=a("KyjD"),n=a("k6wb"),s=a("1M0N"),c=a("/Ufd"),r=a("PiVx"),l=a("KX9h"),u=a("HF2H"),d=a("QzAA"),p=a("xP81"),m=a("bx+h"),h=a("XZ1/"),g=a("K0KF"),b=a("ofXK"),f=a("fXoL");let k=(()=>{class t{}return t.\u0275mod=f.Ub({type:t}),t.\u0275inj=f.Tb({factory:function(e){return new(e||t)},providers:[l.a],imports:[[b.c,g.a,h.a,m.a,p.a,d.a,u.a,r.a,c.a,s.a,n.a,o.a]]}),t})();var _=a("gb9A");let w=(()=>{class t{}return t.\u0275mod=f.Ub({type:t}),t.\u0275inj=f.Tb({factory:function(e){return new(e||t)},imports:[[b.c,g.a,s.a,_.a,k,i.a]]}),t})()},P3m4:function(t,e,a){"use strict";a.d(e,"a",function(){return ot}),a.d(e,"b",function(){return nt}),a.d(e,"c",function(){return st});var i=a("m2rH"),o=a("R0Ic"),n=a("MguC"),s=a("fXoL"),c=a("eKZ6"),r=a("XNiG"),l=a("2Vo4"),u=a("lJxs"),d=a("1G5W"),p=a("N/Rp"),m=a("GXRk"),h=a("c3rA"),g=a("TyK0"),b=a("L4xm"),f=a("jJQC"),k=a("uslN"),_=a("xJzU"),w=a("RtrR"),v=a("GkwO"),y=a("o7Ov"),x=a("rZTY"),T=a("G/bC"),I=a("l7P3"),C=a("Jf2N"),D=a("g1Eu"),S=a("vSu3"),O=a("yhnL"),j=a("G2WA");const P=["dropList"],A=["taskStatusNew"],$=function(){return{name:"",forNew:!0}};function R(t,e){if(1&t&&s.Yb(0,12),2&t){s.uc();const t=s.Rc(13);s.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",s.Gc(2,$))}}function F(t,e){if(1&t){const t=s.dc();s.cc(0,"div",13),s.cc(1,"div",14),s.Xb(2,"div",15),s.cc(3,"span",16),s.qc("click",function(){return s.Uc(t),s.uc().onNewStatusGroup.emit(!1)}),s.gc(4,17),s.bc(),s.Xb(5,"div",15),s.bc(),s.bc()}}const M=function(t){return{"cu-task-list-header_selected-view-options":t}};function E(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-task-list-header",18),s.qc("onAction",function(e){return s.Uc(t),s.uc().onColumnAction.emit(e)})("onSelectAll",function(e){return s.Uc(t),s.uc().selectAll(e)})("onCollapse",function(e){return s.Uc(t),s.uc().onCollapse.emit(e)})("onNewStatusGroup",function(){return s.Uc(t),s.uc().onNewStatusGroup.emit(!1)})("onEditStatusGroup",function(e){return s.Uc(t),s.uc().onEditStatusGroup.emit(e)})("onManageStatusGroup",function(){return s.Uc(t),s.uc().onManageStatusGroup.emit()})("onHideGroup",function(){return s.Uc(t),s.uc().onHideGroup.emit()})("onDisabledClick",function(e){return s.Uc(t),s.uc().onDisabledClick.emit(e)})("reloadAllTasks",function(){return s.Uc(t),s.uc().reloadAllTasks.emit()})("onManageDropdown",function(){return s.Uc(t),s.uc().onManageDropdown.emit()})("click",function(e){return s.Uc(t),s.uc().headerClicked(e)}),s.vc(1,"async"),s.bc()}if(2&t){const t=s.uc(),e=s.Rc(13);s.Dc("ngClass",s.Hc(51,M,s.wc(1,49,t.showSelectedViewOptionsBar$)))("showColumnHeaders",t.showColumnHeaders)("columns",t.columns)("customFields",t.customFields)("headerTemplate",t.headerTemplate)("headerTitleTemplate",t.headerTitleTemplate)("statusUpdateTemplate",e)("timeInStatusDisplayType",t.timeInStatusDisplayType)("headerData",t.headerData)("sortBy",t.sortBy)("groupBy",t.groupBy)("meUser",t.meUser)("deleteOnlyOnCreate",t.deleteOnlyOnCreate)("deleteOff",t.deleteOff)("onlyDeleteIfOwner",t.onlyDeleteIfOwner)("canDelete",t.canDelete)("groupId",t.groupId)("totalCount",t.totalCount)("groupTaskCount",t.groupTaskCount)("showCount",t.showCount)("selectedAll",t.selectedAll)("collapsed",t.collapsed)("collapsedAll",t.collapsedAll)("newStatusGroup",t.newStatusGroup)("editStatusGroup",t.editStatusGroup)("ignoreGrouping",t.ignoreGrouping)("disabled",t.headerDisabled)("disabledTooltip",t.headerDisabledTooltip)("bgColor",null==t.extraData?null:t.extraData.bgColor)("taskListHeaderClicked",t.taskListHeaderClicked)("totals",t.totals)("overallTotals",t.overallTotals)("allowTotals",t.allowTotals&&!(null!=t.extraData&&t.extraData.totalPaywallTemplate))("allowSortAll",t.allowSortAll)("allowSaveSort",t.allowSaveSort)("showDeleteColumn",t.showDeleteColumn)("addColumnTemplate",t.addColumnTemplate)("allowEditStatuses",t.allowEditStatuses)("allowCollapse",t.allowCollapse)("multiTaskEnabled",t.multiTaskEnabled&&!t.collapsed)("readOnly",t.readOnly)("publicViewData",t.publicViewData)("allowManageCustomFields",t.allowManageCustomFields)("customFieldPermissionsMap",t.customFieldPermissionsMap)("isMultiListInvalid",t.isMultiListInvalid)("team",t.team)("project",t.project)("hasTasks",(null==t.tasks?null:t.tasks.length)>0)("addColumnTooltipTxt",t.addColumnTooltipTxt)}}function U(t,e){if(1&t&&(s.cc(0,"div",25),s.ac(1),s.gc(2,26),s.Zb(),s.bc()),2&t){const t=s.uc(4);s.Ib(2),s.kc(t.selectedCount),s.hc(2)}}function L(t,e){1&t&&(s.ac(0),s.bd(1,U,3,1,"div",24),s.Zb())}const z=function(t,e){return{id:t,data:e,subtasks:!0}},V=function(t,e){return{allowed:!0,show:t,closeable:!0,autoFocus:!0,ignoreSubtaskMap:e,createTaskText:"+ Add subtask",isSubtasksSection:!0}},N=function(t,e,a,i,o){return{project:t,category:e,subcategory:a,parent:i,assignees:o}},q=function(t){return{level:t}};function B(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-task-list",27),s.qc("cdkDragMoved",function(e){return s.Uc(t),s.uc(3).onDragMoved.emit(e)})("cuIsInViewport",function(e){s.Uc(t);const a=s.uc(2).$implicit;return s.uc().isInViewport(e,null==a?null:a.id)})("onRemoveTask",function(e){return s.Uc(t),s.uc(3).onRemoveTask.emit(e)})("onTimeTrackerAction",function(e){return s.Uc(t),s.uc(3).onTimeTrackerAction.emit(e)})("onTimeEstimateAction",function(e){return s.Uc(t),s.uc(3).onTimeEstimateAction.emit(e)})("onLazyLoad",function(e){s.Uc(t);const a=s.uc(2).$implicit;return s.uc().onLazyLoad.emit({source:e.source,type:e.type,data:"task"===e.type&&"tags"!==e.source&&"relationships"!==e.source?a:e.data})})("onQuickAction",function(e){return s.Uc(t),s.uc(3).onQuickAction.emit(e)})("onCreateTaskState",function(e){s.Uc(t);const a=s.uc(2).$implicit;return s.uc().createTaskStateChange(e,a)})("onCreateTask",function(e){return s.Uc(t),s.uc(3).createSubtask(e)})("onCustomFieldValueChanged",function(e){return s.Uc(t),s.uc(3).onCustomFieldValueChanged.emit(e)})("onEditTask",function(e){return s.Uc(t),s.uc(3).onEditTask.emit(e)})("onOpenTask",function(e){return s.Uc(t),s.uc(3).onOpenTask.emit(e)})("onDropped",function(e){return s.Uc(t),s.uc(3).onDropped.emit(e)})("onDragMoved",function(e){return s.Uc(t),s.uc(3).onDragMoved.emit(e)})("onDragStarted",function(e){return s.Uc(t),s.uc(3).onDragStarted.emit(e)})("onDragEnded",function(e){return s.Uc(t),s.uc(3).onDragEnded.emit(e)})("onChangeSelection",function(e){return s.Uc(t),s.uc(3).onChangeSelection.emit(e)})("onRenaming",function(e){return s.Uc(t),s.uc(3).setRenaming(e)})("onToggleDatePicker",function(e){return s.Uc(t),s.uc(3).onToggleDatePicker.emit(e)})("onToggleSubtasks",function(e){return s.Uc(t),s.uc(3).onToggleSubtasks.emit(e)})("onIndent",function(e){return s.Uc(t),s.uc(3).onIndent.emit(e)})("onBackUpTaskCreate",function(e){return s.Uc(t),s.uc(3).checkBackUpTaskCreate(e)}),s.bc()}if(2&t){const t=s.uc(2).$implicit,e=s.uc();s.Dc("showSubtasksMap",e.showSubtasksMap)("subtasksMap",e.subtasksMap)("tasks",e.subtasksMap[null==t?null:t.id])("columns",e.columns)("noDropZone",!0)("multiTaskEnabled",!0)("dontShowParentTaskEver",e.dontShowParentTaskEver)("timeInStatusDisplayType",e.timeInStatusDisplayType)("dragId",null==t?null:t.id)("viewPreferences",e.viewPreferences)("showMenu",e.showMenu)("dragData",s.Ic(53,z,null==t?null:t.id,t))("dragConnectedIds",e.dragConnectedIds)("isDraggingSelected",e.isDraggingSelected)("statuses",e.statuses)("statusesMap",e.statusesMap)("parentIsSimpleStatus",null==t?null:t.simple_statuses)("usersMap",e.usersMap)("tagsMap",e.tagsMap)("subtaskLoadingMap",e.subtaskLoadingMap)("tagsLoadingMap",e.tagsLoadingMap)("meUser",e.meUser)("canDelete",e.canDelete)("onlyDeleteIfOwner",e.onlyDeleteIfOwner)("allCustomFields",e.allCustomFields)("projectsMap",e.projectsMap)("allowClosed",e.allowClosed)("rollups",e.rollups)("dateConflictMap",e.dateConflictMap)("dateFormat",e.dateFormat)("userGroups",e.userGroups)("showCount",!1)("showHeader",!1)("forSubs",!0)("showColumnHeaders",!1)("scrollContainer",e.scrollContainer)("publicViewData",e.publicViewData)("showRemove",e.showRemove)("createTaskOptions",s.Ic(56,V,e.createSubTaskStateMap[null==t?null:t.id]||0===(null==e.subtasksMap[null==t?null:t.id]?null:e.subtasksMap[null==t?null:t.id].length),e.createTaskOptions.ignoreSubtaskMap))("defaultTaskData",s.Lc(59,N,e.projectsMap[t.project_id],null==t?null:t.category,null==t?null:t.subcategory,t.id,null==e.defaultTaskData?null:e.defaultTaskData.assignees))("subtaskSiblings",e.subtasksMap[null==t?null:t.id])("extraData",null!=e.extraData&&e.extraData.level?s.Hc(65,q,e.extraData.level+1):null)("weights",e.weights)("selectedTasksMap",e.selectedTasksMap)("pendingTasks",e.pendingTasksMap[null==t?null:t.id])("pendingTasksMap",e.pendingTasksMap)("readOnly",e.readOnly)("showDeleteButton",e.showDeleteButton)("rowClass",e.rowClass)("isInViewPortEnabled",null==e.createTaskOptions?null:e.createTaskOptions.checkViewport)("timeTrackerTaskData",e.timeTrackerTaskData)("timeEstimatesDataMap",e.timeEstimatesDataMap)("team",e.team)}}const G=function(){return{}};function X(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-task-row",21),s.qc("onTimeTrackerAction",function(e){return s.Uc(t),s.uc(2).onTimeTrackerAction.emit(e)})("onTimeEstimateAction",function(e){return s.Uc(t),s.uc(2).onTimeEstimateAction.emit(e)})("onIndent",function(e){return s.Uc(t),s.uc(2).indent(e)})("onRemoveTask",function(){s.Uc(t);const e=s.uc().$implicit;return s.uc().onRemoveTask.emit(e)})("onLoadStatuses",function(){s.Uc(t);const e=s.uc().$implicit;return s.uc().onLazyLoad.emit({source:"statuses",type:"task",data:e})})("onLoadUsers",function(){s.Uc(t);const e=s.uc().$implicit;return s.uc().onLazyLoad.emit({source:"users",type:"task",data:e})})("onLoadTags",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().onLazyLoad.emit({source:"tags",type:"task",data:{project_id:a.project_id,paging:e}})})("onLoadRelationships",function(e){return s.Uc(t),s.uc(2).loadRelationships(e)})("onQuickAction",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().onQuickAction.emit({action:e.action,task:a,data:e.data})})("onEditTask",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().onEditTask.emit({task:a,action:e.action,data:e.data})})("onOpenTask",function(){s.Uc(t);const e=s.uc().$implicit;return s.uc().onOpenTask.emit(e)})("onOpenParentTask",function(e){return s.Uc(t),s.uc(2).openParentTask(e)})("click",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().rowClicked(a,e)})("onToggleSubtasks",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().toggleSubtasks({task:a,reload:null==e?null:e.reload,closed:null==e?null:e.closed})})("cdkDragStarted",function(e){return s.Uc(t),s.uc(2).dragStarted(e)})("cdkDragEnded",function(e){return s.Uc(t),s.uc(2).dragEnded(e)})("cdkDragMoved",function(e){return s.Uc(t),s.uc(2).dragMoved(e)})("onChangeSelection",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().onChangeSelection.emit({tasks:[a],selected:e.selected,shift:e.shift})})("onCustomFieldValueChanged",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().onCustomFieldValueChanged.emit({column:e.column,task:a})})("onRenaming",function(e){return s.Uc(t),s.uc(2).setRenaming(e)})("onClickTag",function(e){return s.Uc(t),s.uc(2).onClickTag.emit(e)})("onOpenDependencyModal",function(e){s.Uc(t);const a=s.uc().$implicit,i=s.uc();return i.onEditTask.emit({task:a,action:i.EditActions.Dependency,data:e.project})})("onToggleDatePicker",function(e){return s.Uc(t),s.uc(2).onToggleDatePicker.emit(e)})("onHover",function(e){return s.Uc(t),s.uc(2).onHover.emit(e)})("toggleCreateSubtask",function(e){return s.Uc(t),s.uc(2).createTaskStateChange(!0,e)})("startTrialFromTimeTracking",function(){return s.Uc(t),s.uc(2).startTrialFromTimeTracking()})("onOpenGitModal",function(e){return s.Uc(t),s.uc(2).openGitModal(e)}),s.vc(1,"async"),s.vc(2,"async"),s.vc(3,"async"),s.vc(4,"async"),s.vc(5,"async"),s.vc(6,"async"),s.bd(7,L,2,0,"ng-container",22),s.bd(8,B,1,67,"cu-task-list",23),s.bc()}if(2&t){const t=s.uc(),e=t.$implicit,a=t.first,i=t.last,o=s.uc();s.Lb(o.rowClass),s.Dc("cdkDragStartDelay",s.wc(1,81,o.isTouchDevice$)?500:0)("cdkDragData",e)("cdkDragDisabled",o.renamingTask||!(null!=e&&null!=e.permissions&&e.permissions.move_task))("cuDragScrollContainer",o.scrollContainer)("cuDragScrollConnectedTo",o.dragConnectedIds)("showRemove",o.showRemove)("tasksHovered",o.tasksHovered)("hideCreateSubtask",o.hideCreateSubtask)("dontShowParentTaskEver",o.dontShowParentTaskEver)("showIndiviudalEstimates",o.showIndiviudalEstimates)("pointsBoxUser",o.pointsBoxUser)("isGuest",o.isGuest)("rollups",o.rollups)("showMenu",o.showMenu)("dontShowRollup",o.dontShowRollup)("weights",o.weights)("disabled",o.publicViewData&&!o.publicViewData.view.share_tasks)("publicViewData",o.publicViewData)("timeTrackerTaskData",o.timeTrackerTaskData)("timeEstimateData",o.timeEstimatesDataMap[e.id])("displayCustomType",o.displayCustomType)("timeInStatusDisplayType",o.timeInStatusDisplayType)("meUser",o.meUser)("task",e)("team",o.team)("offline",s.wc(2,83,o.offline$))("userGroups",o.userGroups)("canDeletePermission",o.canDelete)("taskNameExtraTemplate",o.taskNameExtraTemplate)("onlyDeleteIfOwner",o.onlyDeleteIfOwner)("paddingLeft",s.wc(3,85,o.paddingLeft$))("canDelete",o.canDelete||o.onlyDeleteIfOwner&&(null==e||null==e.creator?null:e.creator.id)===(null==o.meUser?null:o.meUser.id))("columns",o.visibleColumns)("features",(null==o.publicViewData?null:o.publicViewData.project_features)||(null!=o.publicViewData&&o.publicViewData.projectFeaturesMap?o.publicViewData.projectFeaturesMap[null==e?null:e.project_id]:null)||(null==o.projectsMap[null==e?null:e.project_id]?null:o.projectsMap[null==e?null:e.project_id].features))("multiTaskEnabled",o.multiTaskEnabled)("isOffline",s.wc(4,87,o.offline$))("dragDisabledTooltip",o.dragDisabledTooltip||(null!=e&&null!=e.permissions&&e.permissions.move_task?null:o.moveTaskNotAllowedText))("isFirst",a)("isLast",i)("groupData",o.groupData)("statuses",o.statusesMap?o.statusesMap["task_"+((null==e?null:e.parent)||(null==e?null:e.id))]||o.statuses:null!=e&&e.available_statuses?null==e?null:e.available_statuses:s.Gc(93,G))("users",o.usersMap["task_"+(null==e?null:e.id)]||o.usersMap["task_"+(null==e?null:e.parent)]||o.users)("tags",o.tagsMap[null==e?null:e.project_id]||o.tags)("tagsLoadingMap",o.tagsLoadingMap[null==e?null:e.project_id])("dateConflict",o.dateConflictMap[null==e?null:e.id])("allCustomFields",o.allCustomFields)("breadcrumbs",o.breadcrumbs)("viewPreferences",o.viewPreferences)("selected",o.selectedTasksMap[null==e?null:e.id])("showSubtasks",o.showSubtasksMap[null==e?null:e.id]&&o.showSubtasksMap[null==e?null:e.id][null==o.extraData?null:o.extraData.level])("showClosedSubtasks",o.showSubtasksMap[null==e?null:e.id]&&o.showSubtasksMap[null==e?null:e.id][null==o.extraData?null:o.extraData.level])("showSubtasksType",s.wc(5,89,o.showSubtasksType$))("allowClosed",o.allowClosed)("subtasks",o.subtasksMap[null==e?null:e.id])("groupBy",o.groupBy)("readOnly",o.readOnly)("showDeleteButton",o.showDeleteButton)("limitedEdit",o.limitedEdit)("extraData",o.extraData)("dateFormat",o.dateFormat)("militaryTime",o.militaryTime)("parentSpace",o.projectsMap[e.project_id])("parentIsSimpleStatus",o.parentIsSimpleStatus)("stickyColumn",o.stickyColumn)("canManageGit",s.wc(6,91,o.canManageGit$))("lazyDefaultHeight",36)("showHeader",o.showHeader)("statusStyleType",o.statusStyleType)("showMenuPlaceholder",o.taskRowMenuPlaceholder)("autoWrap",null==o.viewPreferences?null:o.viewPreferences.autoWrap),s.Jb("data-id",null==e?null:e.id)("data-level",null==o.extraData?null:o.extraData.level)("data-source","task")("data-sourcelist",null==o.groupData?null:o.groupData.subcategory_id)("data-groupBy",o.groupBy)("id","task-"+(null==e?null:e.id)),s.Ib(7),s.Dc("ngIf",o.selectedCount>1),s.Ib(1),s.Dc("ngIf",o.showSubtasksMap[null==e?null:e.id]&&o.showSubtasksMap[null==e?null:e.id][null==o.extraData?null:o.extraData.level]||(null==o.pendingTasksMap[null==e?null:e.id]?null:o.pendingTasksMap[null==e?null:e.id].length))}}function W(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-reminder-row",28,29),s.qc("onEditTask",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().onEditTask.emit({task:a,action:e.action,data:e.data})})("cdkDragStarted",function(e){return s.Uc(t),s.uc(2).dragStarted(e)})("cdkDragEnded",function(e){return s.Uc(t),s.uc(2).dragEnded(e)})("cdkDragMoved",function(e){return s.Uc(t),s.uc(2).dragMoved(e)})("onChangeSelection",function(e){s.Uc(t);const a=s.uc().$implicit;return s.uc().onChangeSelection.emit({tasks:[a],selected:e.selected,shift:e.shift})})("onRenaming",function(e){return s.Uc(t),s.uc(2).setRenaming(e)})("clickOutside",function(){return s.Uc(t),s.Rc(1).clickOutside()}),s.vc(2,"async"),s.bc()}if(2&t){const t=s.uc().$implicit,e=s.uc();s.Dc("cdkDragData",t)("cdkDragStartDelay",s.wc(2,20,e.isTouchDevice$)?500:0)("cdkDragDisabled",e.renamingTask)("cuDragScrollContainer",e.scrollContainer)("cuDragScrollConnectedTo",e.dragConnectedIds)("task",t)("multiTaskEnabled",!1)("user",null==e.extraData?null:e.extraData.reminderUser)("meUser",e.meUser)("users",e.usersMap["task_"+((null==t?null:t.parent)||(null==t?null:t.id))]||e.usersMap.reminder||e.users)("selected",e.selectedTasksMap[null==t?null:t.id])("weights",e.weights)("readOnly",!1)("paywallTemplate",null==e.extraData?null:e.extraData.reminderPaywallTemplate)("extraData",e.extraData)("dateFormat",e.dateFormat)("militaryTime",e.militaryTime)("lazyDefaultHeight",38),s.Jb("data-id",null==t?null:t.id)("data-source","task")}}function H(t,e){if(1&t&&(s.ac(0),s.bd(1,X,9,94,"cu-task-row",19),s.bd(2,W,3,22,"cu-reminder-row",20),s.Zb()),2&t){const t=e.$implicit;s.Ib(1),s.Dc("ngIf",!(null!=t&&t.reminder)),s.Ib(1),s.Dc("ngIf",null==t?null:t.reminder)}}function Z(t,e){if(1&t&&(s.Xb(0,"cu-task-row",32),s.vc(1,"async")),2&t){const t=e.$implicit,a=s.uc(2);s.Lb(a.rowClass),s.Dc("task",t)("columns",a.visibleColumns)("isGuest",a.isGuest)("userGroups",a.userGroups)("features",(null==a.publicViewData?null:a.publicViewData.project_features)||(null==a.projectsMap[null==t?null:t.project_id]?null:a.projectsMap[null==t?null:t.project_id].features))("offline",s.wc(1,15,a.offline$))("multiTaskEnabled",!1)("disabled",!0)("viewPreferences",a.viewPreferences)("stickyColumn",a.stickyColumn)("lazyDefaultHeight",36)("team",a.team)}}function Q(t,e){if(1&t&&(s.cc(0,"div",30),s.bd(1,Z,2,17,"cu-task-row",31),s.bc()),2&t){const t=s.uc();s.Ib(1),s.Dc("ngForOf",t.pendingTasks)("ngForTrackBy",t.trackById)}}function K(t,e){1&t&&s.Xb(0,"cu-loader",33)}function J(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-task-row-new",34),s.qc("onClose",function(){return s.Uc(t),s.uc().onCreateTaskState.emit(!1)})("onCreateTask",function(e){return s.Uc(t),s.uc().onCreateTask.emit(e)})("onLazyLoad",function(e){return s.Uc(t),s.uc().onLazyLoad.emit({source:e.source,type:"new",data:e.data})})("openStatusSettings",function(e){return s.Uc(t),s.uc().openStatusSettings.emit(e)})("onIndent",function(e){return s.Uc(t),s.uc().checkForTaskCreateUpdate(e)}),s.bc()}if(2&t){const t=s.uc();s.Dc("dateFormat",t.dateFormat)("militaryTime",t.militaryTime)("meUser",t.meUser)("canDelete",t.canDelete)("onlyDeleteIfOwner",t.onlyDeleteIfOwner)("defaultTaskData",t.defaultTaskData)("columns",t.visibleColumns)("statuses",t.statuses)("statusesMap",t.statusesMap)("users",t.users)("userGroups",t.userGroups)("usersMap",t.usersMap)("tags",t.tags)("tagsMap",t.tagsMap)("tagsLoadingMap",t.tagsLoadingMap)("autoFocus",(null==t.createTaskOptions?null:t.createTaskOptions.show)&&(null==t.createTaskOptions?null:t.createTaskOptions.autoFocus))("weights",t.weights)("closeable",(null==t.createTaskOptions?null:t.createTaskOptions.show)&&(null==t.createTaskOptions?null:t.createTaskOptions.closeable))("subtaskSiblings",t.subtaskSiblings)("forSubtask",null==t.createTaskOptions?null:t.createTaskOptions.isSubtasksSection)("parentWidth",t.parentWidth)("listenForIndents",!0)}}function Y(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-task-list-footer",35),s.qc("onCreateTask",function(){return s.Uc(t),s.uc().onCreateTaskState.emit(!0)})("onAction",function(e){return s.Uc(t),s.uc().onColumnAction.emit(e)})("onDisabledClick",function(e){return s.Uc(t),s.uc().onDisabledClick.emit(e)}),s.bc()}if(2&t){const t=s.uc();s.Dc("showCreateTask",(null==t.createTaskOptions?null:t.createTaskOptions.allowed)&&!(null!=t.createTaskOptions&&t.createTaskOptions.show)&&!t.newStatus&&!t.noTasks&&!t.publicViewData)("columns",t.columns)("disabled",t.headerDisabled||!!t.tasks&&0===t.tasks.length)("disabledTooltip",t.headerDisabledTooltip)("showColumnTotals",t.showFooter)("totals",t.totals)("publicViewData",t.publicViewData)("paywallTemplate",null==t.extraData?null:t.extraData.totalPaywallTemplate)("overallTotals",t.overallTotals)("createTaskText",null==t.createTaskOptions?null:t.createTaskOptions.createTaskText)("isSubtasksSection",null==t.createTaskOptions?null:t.createTaskOptions.isSubtasksSection)("collapsed",t.collapsed)("isMultiListInvalid",t.isMultiListInvalid)}}function tt(t,e){if(1&t){const t=s.dc();s.cc(0,"div",13),s.cc(1,"div",14),s.Xb(2,"div",15),s.cc(3,"span",16),s.qc("click",function(){return s.Uc(t),s.uc().onNewStatusGroup.emit(!0)}),s.gc(4,36),s.bc(),s.Xb(5,"div",15),s.bc(),s.bc()}}function et(t,e){if(1&t&&s.Yb(0,12),2&t){s.uc();const t=s.Rc(15);s.Dc("ngTemplateOutlet",t)("ngTemplateOutletContext",s.Gc(2,$))}}function at(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-task-status-edit-dropdown",37,38),s.qc("onChangeColor",function(a){s.Uc(t);const i=e.forNew,o=s.uc();return i?o.newColor=a:o.currentColor=a}),s.cc(2,"cu-task-status-new",39,40),s.qc("onCancel",function(a){s.Uc(t);const i=e.forNew;return s.uc().statusChangeCancel(a,i)})("onSave",function(a){s.Uc(t);const i=e.forNew,o=s.Rc(1);return s.uc().saveStatus(a,i),o.colorPicker.close()}),s.bc(),s.bc()}if(2&t){const t=e.name,a=e.forNew,i=e.type,o=s.uc();s.Dc("currentColor",a?o.newColor:o.currentColor)("disabled",i===o.StatusTypes.Closed),s.Ib(2),s.Dc("statusName",t)("currentColor",a?o.newColor:o.currentColor)("statusSaveError",o.statusSaveError)("modifier",a?"cu-task-status-new_add":"cu-task-status-new_modify")}}function it(t,e){if(1&t){const t=s.dc();s.cc(0,"cu-task-status-new",41,40),s.qc("onCancel",function(a){s.Uc(t);const i=e.forNew;return s.uc().statusChangeCancel(a,i)})("onSave",function(a){s.Uc(t);const i=e.forNew;return s.uc().saveStatus(a,i)})("onChangeColor",function(e){return s.Uc(t),s.uc().newColor=e}),s.bc()}if(2&t){const t=e.name,a=s.uc();s.Dc("statusName",t)("currentColor",a.newColor)("statusSaveError",a.statusSaveError)("modifier","cu-task-status-new_add")("includeColorPicker",!0)("newColor",a.newColor)("forNew",!0)}}var ot=function(t){return t.ToggleSort="toggleSort",t.ClearSort="clearSort",t.ClearSortAll="clearSortAll",t.SaveSort="saveSort",t.ChangeColumns="changeColumns",t.ColumnState="columnState",t.ResizeColumn="resizeColumn",t.SetCalc="setCalc",t.ColumnSettings="columnSettings",t.Rename="rename",t.Delete="delete",t.Duplicate="duplicate",t.AddColumnLeft="addColumnLeft",t.AddColumnRight="addColumnRight",t.AddColumn="addColumn",t.ChangeSortOrder="changeSortOrder",t.AutosizeAll="autosizeAll",t.Reset="reset",t.Pin="pin",t.CustomTaskIds="customTaskIds",t.AddRollupColumns="addRollupColumns",t.UpdateRollupColumn="updateRollupColumn",t.TimeInStatusDisplayType="timeInStatusDisplayType",t.SetDisplayAs="setDisplayAs",t}({}),nt=function(t){return t[t.group=0]="group",t[t.all=1]="all",t[t.only=2]="only",t}({});let st=(()=>{class t{constructor(t,e,a,i,o,p,b,k,y){this.dndService=t,this.changeDetectorRef=e,this.store=a,this.injector=i,this.modalService=o,this.github=p,this.gitlab=b,this.bitbucket=k,this.sharedTaskService=y,this.maxLength=m.e,this.breadcrumbs="none",this.DataViewGroupTypes=n.c,this.showAboveOpenQuickCreate=!1,this.showSelectedViewOptionsBar$=this.store.select(v.Cb),this.destroy$=new r.a,this.paddingLeft$=new l.a(null),this.pendingTasksMap={},this.multiTaskEnabled=!1,this.displayCustomType=!1,this.newStatus=!1,this.dontShowRollup=!1,this.noTasks=!1,this.timeEstimatesDataMap={},this.dontShowParentTaskEver=!1,this.statusesMap={},this.usersMap={},this.tagsMap={},this.tagsLoadingMap={},this.projectsMap={},this.dateConflictMap={},this.headerDisabled=!1,this.militaryTime=!1,this.selectedTasksMap={},this.showCount=!0,this.canDelete=!0,this.totals={},this.overallTotals={},this.hideCreateSubtask=!1,this.createTaskOptions={allowed:!0,show:!1,closeable:!0,autoFocus:!0,createTaskText:"+ "+$localize`:@@common_new-task:New task`,checkViewport:!1,isSubtasksSection:!1,ignoreSubtaskMap:!1},this.deleteOff=!1,this.forSubs=!1,this.deleteOnlyOnCreate=!1,this.readOnly=!1,this.showFooter=!1,this.showHeader=!0,this.showMenu=!0,this.showColumnHeaders=!0,this.showSubtasksMap={},this.allowClosed=!0,this.subtasksMap={},this.showDeleteButton=!1,this.stickyColumn=!0,this.allowTotals=!0,this.allowSortAll=!0,this.allowSaveSort=!0,this.allowCollapse=!0,this.customFieldPermissionsMap={},this.noDropZone=!1,this.onlyMainClickableWhenReadonly=!1,this.statusStyleType="cu-task-row-status_dot",this.taskRowMenuPlaceholder=!0,this.autoWrap=!1,this.onLazyLoad=new s.o,this.onToggleDatePicker=new s.o,this.onBackUpTaskCreate=new s.o,this.onHeaderClick=new s.o,this.onQuickAction=new s.o,this.onEditTask=new s.o,this.onTimeTrackerAction=new s.o,this.onTimeEstimateAction=new s.o,this.onOpenTask=new s.o,this.onToggleSubtasks=new s.o,this.onColumnAction=new s.o,this.onDropped=new s.o,this.onDragStarted=new s.o,this.onDragEnded=new s.o,this.onDragMoved=new s.o,this.onCreateTaskState=new s.o,this.onCreateTask=new s.o,this.onRemoveTask=new s.o,this.onChangeSelection=new s.o,this.onIndent=new s.o,this.onCollapse=new s.o,this.onNewStatusGroup=new s.o,this.onEditStatusGroup=new s.o,this.onSaveStatus=new s.o,this.onCustomFieldValueChanged=new s.o,this.onDisabledClick=new s.o,this.onRenaming=new s.o,this.onClickTag=new s.o,this.openStatusSettings=new s.o,this.onSubtasksViewport=new s.o,this.reloadAllTasks=new s.o,this.onHover=new s.o,this.onManageStatusGroup=new s.o,this.onHideGroup=new s.o,this.onManageDropdown=new s.o,this.trackById=Object(f.d)("id"),this.cancelDrag=!1,this.DataViewSubtasks=n.h,this.statusSaveError="",this.newColor="#FF7FAB",this.SortDirection=c.a,this.disableAnimation=!0,this.StatusTypes=m.g,this.createSubTaskStateMap={},this.isInViewportMap={},this.EditActions=_.a,this.offline$=this.store.select(w.b),this.isTouchDevice$=g.a,this.showSubtasksType$=this.store.select(v.qb).pipe(Object(u.a)(t=>t&&t.settings&&t.settings.showSubtasksType)),this.versionControlIntegrations={gitlab:this.gitlab,github:this.github,bitbucket:this.bitbucket},this.canManageGit$=this.store.select(h.canManageGit),this.moveTaskNotAllowedText=$localize`:@@permissions_move-task-not-allowed:Whoops! You don't have permission to move this task.`,this.dropListEnterPredicate=(t,e)=>!this.dragDisabled&&(!this.enterPredicate||this.enterPredicate(t,e)),this.dndService.onDropTask.pipe(Object(d.a)(this.destroy$)).subscribe(()=>{this.cancelDrag=!0})}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){var e,a,i;t.columns&&(this.visibleColumns=this.columns?this.columns.filter(t=>t.state===p.b.Visible):[]),t.extraData&&(null===(e=this.extraData)||void 0===e?void 0:e.level)>1&&(null===(a=t.extraData.currentValue)||void 0===a?void 0:a.level)!==(null===(i=t.extraData.previousValue)||void 0===i?void 0:i.level)&&this.paddingLeft$.next(34*(this.extraData.level-1)+5+"px"),t.selectedTasksMap&&(this.selectedCount=Object.keys(this.selectedTasksMap).length),(t.selectedTasksMap||t.tasks)&&(this.selectedAll=!(!this.selectedTasksMap||!this.tasks)&&this.tasks.length&&this.tasks.every(t=>this.selectedTasksMap[t.id])),(t.viewPreferences||t.defaultTaskData)&&(this.breadcrumbs=this.viewPreferences&&this.viewPreferences.showTaskLocations?this.defaultTaskData&&this.defaultTaskData.selectedSubcategory||this.defaultTaskData&&this.defaultTaskData.selectedCategory?"list":this.defaultTaskData&&this.defaultTaskData.selectedProject?"project":"space":"none"),this.headerData&&(this.currentColor=this.headerData.color),t.tasks&&(this.disableAnimation=!t.tasks.previousValue||!t.tasks.previousValue.length),t.isDragging&&(this.isDragging?this.disableAnimation=!0:t.isDragging.previousValue&&setTimeout(()=>{this.disableAnimation=!1,this.changeDetectorRef.markForCheck()},100)),t.subtasksMap&&this.subtasksMap&&this.createTaskOptions&&this.createTaskOptions.checkViewport&&Object.keys(this.isInViewportMap).filter(t=>this.isInViewportMap[t]).forEach(t=>{this.showSubtasksMap&&this.showSubtasksMap[t]&&!this.subtasksMap[t]&&this.isInViewport(!0,t)}),t.groups&&(this.showAboveOpenQuickCreate=!!(this.team&&this.team.quick_create_statuses&&this.allowEditStatuses&&this.groupBy===n.c.Status&&this.groupData&&this.groupData.type===m.g.Open)&&1===(this.groups||[]).length)}selectAll(t){this.onChangeSelection.emit({tasks:this.tasks,selected:t,shift:!1})}drop(t){var e;this.onDropped.emit({task:t.item.data,sortingDisabled:this.dragSortingDisabled,fromIndex:t.previousIndex,toIndex:t.currentIndex,fromGroup:t.previousContainer.data,toGroup:t.container.data,expandedSub:"subtask"===t.item.element.nativeElement.dataset.groupby,level:null===(e=this.extraData)||void 0===e?void 0:e.level})}dragStarted(t){this.dragging=!0,this.cancelDrag=!1,this.onDragStarted.emit(t)}dragEnded(t){this.dragging=!1,this.onDragEnded.emit(t)}dragMoved(t){this.onDragMoved.emit(t)}toggleSubtasks({task:t,reload:e,closed:a}){if(this.viewPreferences&&this.viewPreferences.showSubtasksType!==n.h.StandAlone||!e){const i={task:t,reload:e,closed:a};this.extraData&&this.extraData.level&&(i.level=this.extraData.level),this.onToggleSubtasks.emit(i)}}indent(t){this.extraData&&this.extraData.level&&(t.level=this.extraData.level),this.onIndent.emit(t)}statusChangeCancel(t,e=!1){e?this.onNewStatusGroup.emit(!1):this.onEditStatusGroup.emit(t)}saveStatus(t,e){this.statusSaveError="";const{statusName:a,color:i}=t;let o=null,s=null;if(a)if(a.length>this.maxLength)this.statusSaveError=$localize`:@@errors_status-name--maxlength:Whoops. That status name is too long`;else{if(!e&&this.defaultTaskData.status.status.toLowerCase()===a.toLowerCase()&&this.defaultTaskData.status.color.toLowerCase()===i.toLowerCase())return void this.onEditStatusGroup.emit(!0);o=this.defaultTaskData.project,s=n.e.Project,this.defaultTaskData.category&&this.defaultTaskData.category.override_statuses&&(o=this.defaultTaskData.category,s=n.e.Category),this.defaultTaskData.subcategory&&this.defaultTaskData.subcategory.override_statuses&&(o=this.defaultTaskData.subcategory,s=n.e.Subcategory),-1!==o.statuses.findIndex(t=>t.status.toLowerCase()===a.toLowerCase()&&(e||!e&&t.status.toLowerCase()!==this.defaultTaskData.status.status.toLowerCase()))&&(this.statusSaveError=$localize`:@@cu-task-list__form-error_status-name-exists:Whoops!  This status name already exists.`)}else this.statusSaveError=$localize`:@@errors_status-name--required:Whoops. Status name can not be blank.`;this.statusSaveError?this.taskStatusNew.pop.show():(this.taskStatusNew.pop.hide(),this.onSaveStatus.emit({statusName:a.toLowerCase(),color:i,forNew:e,statusAbove:this.defaultTaskData.status,parent:o,parentType:s,subcategory:this.defaultTaskData.subcategory,category:this.defaultTaskData.category,project:this.defaultTaskData.project,forceBottom:this.sortDir===c.a.Desc||this.forceBottom}))}setRenaming(t){this.onRenaming.emit(t),this.renamingTask=t,this.changeDetectorRef.markForCheck()}createSubtask(t){t.data&&t.data.parent&&(this.createSubTaskStateMap[t.data.parent]=!0),this.extraData&&this.extraData.level&&!t.level&&(t.level=this.extraData.level),this.onCreateTask.emit(t)}isInViewport(t,e){this.isInViewportMap[e]=t,this.onSubtasksViewport.emit({visible:t,taskId:e})}createTaskStateChange(t,e){e&&(this.createSubTaskStateMap[e.id]=t,!t||this.pendingTasks&&this.pendingTasks.length||((!this.subtasksMap||this.subtasksMap[e.id]&&!this.subtasksMap[e.id].length)&&!t||t?this.toggleSubtasks({task:e,reload:!1,closed:!1}):this.subtasksMap[e.id]&&this.subtasksMap[e.id].length||t||this.toggleSubtasks({task:e,reload:!1,closed:!0})))}checkForTaskCreateUpdate({indent:t}){if(t){const t=this.getParentTask();if(!t)return;this.showSubtasksMap[t.id]&&this.showSubtasksMap[t.id][this.extraData.level]||this.onToggleSubtasks.emit({task:t,reload:t.subtasks_count>0,closed:!1,level:this.extraData.level}),this.setNewTaskCreate(t)}else this.onBackUpTaskCreate.emit({first:!0})}checkBackUpTaskCreate({first:t,currentId:e}){if(t){const t=Object.keys(this.createSubTaskStateMap).filter(t=>this.createSubTaskStateMap[t]);return void this.onBackUpTaskCreate.emit({first:!1,currentId:t.length?t[0]:null})}const a=this.getParentTask(e);a&&this.setNewTaskCreate(a)}setNewTaskCreate(t){this.store.dispatch(new i.h),setTimeout(()=>{this.createSubTaskStateMap[t.id]=!0,this.changeDetectorRef.markForCheck()})}getParentTask(t){let e;return t&&(this.tasks||[]).forEach(a=>{e||-1!==(this.subtasksMap[a.id]||[]).findIndex(e=>e.id===t)&&(e=a)}),e||(e=this.tasks&&this.tasks.length?this.tasks[this.tasks.length-1]:null),e}startTrialFromTimeTracking(){this.store.dispatch(new y.Rk([Object(b.X)({overPaywall:!1}),Object(b.r)()],k.f.BUSINESS))}openGitModal(t){const e=this.modalService.openComponent(x.a,this.injector,{blank:!0,modifier:"cu-modal_cu-git-integration-modal",preventExternalClick:!1});e.instance.team=this.team,e.instance.user=this.meUser,e.instance.task=t.task,e.instance.integration=this.versionControlIntegrations[t.type]}openParentTask(t){this.sharedTaskService.openTaskModal({id:t.id,customId:t.customId,teamId:t.teamId})}headerClicked(t){t.target.classList.contains("cu-task-list-header__item_main")&&this.onHeaderClick.emit()}loadRelationships({task:t}){this.onLazyLoad.emit({source:"relationships",type:"task",data:t})}rowClicked(t,e){!this.readOnly||e.ctrlKey||e.metaKey||this.onlyMainClickableWhenReadonly||this.onOpenTask.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(T.a),s.Wb(s.h),s.Wb(I.Store),s.Wb(s.t),s.Wb(C.a),s.Wb(D.a),s.Wb(S.a),s.Wb(O.a),s.Wb(j.a))},t.\u0275cmp=s.Qb({type:t,selectors:[["cu-task-list"]],viewQuery:function(t,e){if(1&t&&(s.jd(P,3),s.jd(A,1)),2&t){let t;s.Qc(t=s.rc())&&(e.dropList=t.first),s.Qc(t=s.rc())&&(e.taskStatusNew=t.first)}},hostAttrs:[1,"cu-task-list"],hostVars:12,hostBindings:function(t,e){2&t&&s.Ob("cu-task-list_dragging",e.isDragging)("cu-task-list_dragging-selected",e.isDraggingSelected)("cu-task-list_drag-sorting-disabled",e.dragSortingDisabled)("cu-task-list_drag-source",e.dragging)("cu-task-list_collapsed",e.collapsed)("cu-task-list__is-multi-list-invalid",e.isMultiListInvalid)},inputs:{tasks:"tasks",tasksHovered:"tasksHovered",pendingTasks:"pendingTasks",pendingTasksMap:"pendingTasksMap",columns:"columns",multiTaskEnabled:"multiTaskEnabled",allCustomFields:"allCustomFields",customFields:"customFields",displayCustomType:"displayCustomType",newStatus:"newStatus",dontShowRollup:"dontShowRollup",noTasks:"noTasks",isGuest:"isGuest",timeTrackerTaskData:"timeTrackerTaskData",timeEstimatesDataMap:"timeEstimatesDataMap",team:"team",isMultiListInvalid:"isMultiListInvalid",showIndiviudalEstimates:"showIndiviudalEstimates",pointsBoxUser:"pointsBoxUser",parentWidth:"parentWidth",groups:"groups",timeInStatusDisplayType:"timeInStatusDisplayType",dontShowParentTaskEver:"dontShowParentTaskEver",statuses:"statuses",statusesMap:"statusesMap",users:"users",usersMap:"usersMap",tags:"tags",tagsMap:"tagsMap",tagsLoadingMap:"tagsLoadingMap",meUser:"meUser",projectsMap:"projectsMap",dateConflictMap:"dateConflictMap",viewPreferences:"viewPreferences",headerTemplate:"headerTemplate",headerTitleTemplate:"headerTitleTemplate",headerData:"headerData",headerDisabled:"headerDisabled",headerDisabledTooltip:"headerDisabledTooltip",sortBy:"sortBy",groupBy:"groupBy",ignoreGrouping:"ignoreGrouping",dateFormat:"dateFormat",militaryTime:"militaryTime",selectedTasksMap:"selectedTasksMap",totalCount:"totalCount",showCount:"showCount",canDelete:"canDelete",totals:"totals",overallTotals:"overallTotals",weights:"weights",hideCreateSubtask:"hideCreateSubtask",dragDisabledTooltip:"dragDisabledTooltip",dragSortingDisabled:"dragSortingDisabled",dragDisabled:"dragDisabled",dragId:"dragId",dragData:"dragData",dragConnectedIds:"dragConnectedIds",isDraggingSelected:"isDraggingSelected",isDragging:"isDragging",sortDir:"sortDir",createTaskOptions:"createTaskOptions",onlyDeleteIfOwner:"onlyDeleteIfOwner",deleteOff:"deleteOff",forSubs:"forSubs",deleteOnlyOnCreate:"deleteOnlyOnCreate",readOnly:"readOnly",limitedEdit:"limitedEdit",showFooter:"showFooter",showHeader:"showHeader",showMenu:"showMenu",showColumnHeaders:"showColumnHeaders",defaultTaskData:"defaultTaskData",collapsed:"collapsed",collapsedAll:"collapsedAll",newStatusGroup:"newStatusGroup",forceBottom:"forceBottom",editStatusGroup:"editStatusGroup",showSubtasksMap:"showSubtasksMap",allowClosed:"allowClosed",subtasksMap:"subtasksMap",extraData:"extraData",subtaskSiblings:"subtaskSiblings",groupData:"groupData",groupId:"groupId",taskListHeaderClicked:"taskListHeaderClicked",groupTaskCount:"groupTaskCount",parentIsSimpleStatus:"parentIsSimpleStatus",allowEditStatuses:"allowEditStatuses",allowManageCustomFields:"allowManageCustomFields",showDeleteButton:"showDeleteButton",rowClass:"rowClass",stickyColumn:"stickyColumn",allowTotals:"allowTotals",allowSortAll:"allowSortAll",allowSaveSort:"allowSaveSort",allowCollapse:"allowCollapse",publicViewData:"publicViewData",rollups:"rollups",customFieldPermissionsMap:"customFieldPermissionsMap",userGroups:"userGroups",project:"project",subtaskLoadingMap:"subtaskLoadingMap",showRemove:"showRemove",taskNameExtraTemplate:"taskNameExtraTemplate",noDropZone:"noDropZone",onlyMainClickableWhenReadonly:"onlyMainClickableWhenReadonly",addColumnTooltipTxt:"addColumnTooltipTxt",showDeleteColumn:"showDeleteColumn",addColumnTemplate:"addColumnTemplate",scrollContainer:"scrollContainer",statusStyleType:"statusStyleType",taskRowMenuPlaceholder:"taskRowMenuPlaceholder",autoWrap:"autoWrap",enterPredicate:"enterPredicate"},outputs:{onLazyLoad:"onLazyLoad",onToggleDatePicker:"onToggleDatePicker",onBackUpTaskCreate:"onBackUpTaskCreate",onHeaderClick:"onHeaderClick",onQuickAction:"onQuickAction",onEditTask:"onEditTask",onTimeTrackerAction:"onTimeTrackerAction",onTimeEstimateAction:"onTimeEstimateAction",onOpenTask:"onOpenTask",onToggleSubtasks:"onToggleSubtasks",onColumnAction:"onColumnAction",onDropped:"onDropped",onDragStarted:"onDragStarted",onDragEnded:"onDragEnded",onDragMoved:"onDragMoved",onCreateTaskState:"onCreateTaskState",onCreateTask:"onCreateTask",onRemoveTask:"onRemoveTask",onChangeSelection:"onChangeSelection",onIndent:"onIndent",onCollapse:"onCollapse",onNewStatusGroup:"onNewStatusGroup",onEditStatusGroup:"onEditStatusGroup",onSaveStatus:"onSaveStatus",onCustomFieldValueChanged:"onCustomFieldValueChanged",onDisabledClick:"onDisabledClick",onRenaming:"onRenaming",onClickTag:"onClickTag",openStatusSettings:"openStatusSettings",onSubtasksViewport:"onSubtasksViewport",reloadAllTasks:"reloadAllTasks",onHover:"onHover",onManageStatusGroup:"onManageStatusGroup",onHideGroup:"onHideGroup",onManageDropdown:"onManageDropdown"},features:[s.Gb],decls:16,vars:25,consts:function(){let t,e,a;return t=$localize`:@@cu-task-list__add-new-status␟dbce8488ec3534f4a151b9f5dfe08c69c68fcf48␟7987786894015114041:add new status`,e=$localize`:@@cu-task-list__selected-task-count␟bf2e025e0579ffcc76a2025d063f589f55a471c8␟9190528952094958186:${"\ufffd0\ufffd"}:INTERPOLATION: tasks`,a=$localize`:@@cu-task-list__add-new-status␟dbce8488ec3534f4a151b9f5dfe08c69c68fcf48␟7987786894015114041:add new status`,[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","cu-task-list__new-status-container",4,"ngIf"],[3,"ngClass","showColumnHeaders","columns","customFields","headerTemplate","headerTitleTemplate","statusUpdateTemplate","timeInStatusDisplayType","headerData","sortBy","groupBy","meUser","deleteOnlyOnCreate","deleteOff","onlyDeleteIfOwner","canDelete","groupId","totalCount","groupTaskCount","showCount","selectedAll","collapsed","collapsedAll","newStatusGroup","editStatusGroup","ignoreGrouping","disabled","disabledTooltip","bgColor","taskListHeaderClicked","totals","overallTotals","allowTotals","allowSortAll","allowSaveSort","showDeleteColumn","addColumnTemplate","allowEditStatuses","allowCollapse","multiTaskEnabled","readOnly","publicViewData","allowManageCustomFields","customFieldPermissionsMap","isMultiListInvalid","team","project","hasTasks","addColumnTooltipTxt","onAction","onSelectAll","onCollapse","onNewStatusGroup","onEditStatusGroup","onManageStatusGroup","onHideGroup","onDisabledClick","reloadAllTasks","onManageDropdown","click",4,"ngIf"],["cdkDropList","","cuLazyRenderer","","cdkDropListOrientation","vertical",1,"cu-task-list__rows",3,"id","cdkDropListEnterPredicate","cdkDropListSortingDisabled","cdkDropListDisabled","cdkDropListData","cdkDropListConnectedTo","lazyScrollContainer","lazyMargin","cuTooltip","cdkDropListDropped"],["dropList","cdkDropList"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-task-list__rows cu-task-list__rows_pending",4,"ngIf"],["class","cu-hidden-print",4,"ngIf"],[3,"dateFormat","militaryTime","meUser","canDelete","onlyDeleteIfOwner","defaultTaskData","columns","statuses","statusesMap","users","userGroups","usersMap","tags","tagsMap","tagsLoadingMap","autoFocus","weights","closeable","subtaskSiblings","forSubtask","parentWidth","listenForIndents","onClose","onCreateTask","onLazyLoad","openStatusSettings","onIndent",4,"ngIf"],[3,"showCreateTask","columns","disabled","disabledTooltip","showColumnTotals","totals","publicViewData","paywallTemplate","overallTotals","createTaskText","isSubtasksSection","collapsed","isMultiListInvalid","onCreateTask","onAction","onDisabledClick",4,"ngIf"],["statusUpdate",""],["statusUpdateNew",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-task-list__new-status-container"],[1,"cu-task-list__new-status"],[1,"cu-task-list__new-status-sides"],[1,"cu-task-list__new-status-text",3,"click"],t,[3,"ngClass","showColumnHeaders","columns","customFields","headerTemplate","headerTitleTemplate","statusUpdateTemplate","timeInStatusDisplayType","headerData","sortBy","groupBy","meUser","deleteOnlyOnCreate","deleteOff","onlyDeleteIfOwner","canDelete","groupId","totalCount","groupTaskCount","showCount","selectedAll","collapsed","collapsedAll","newStatusGroup","editStatusGroup","ignoreGrouping","disabled","disabledTooltip","bgColor","taskListHeaderClicked","totals","overallTotals","allowTotals","allowSortAll","allowSaveSort","showDeleteColumn","addColumnTemplate","allowEditStatuses","allowCollapse","multiTaskEnabled","readOnly","publicViewData","allowManageCustomFields","customFieldPermissionsMap","isMultiListInvalid","team","project","hasTasks","addColumnTooltipTxt","onAction","onSelectAll","onCollapse","onNewStatusGroup","onEditStatusGroup","onManageStatusGroup","onHideGroup","onDisabledClick","reloadAllTasks","onManageDropdown","click"],["cdkDrag","","cuDragScroll","","cuLazyItem","",3,"class","cdkDragStartDelay","cdkDragData","cdkDragDisabled","cuDragScrollContainer","cuDragScrollConnectedTo","showRemove","tasksHovered","hideCreateSubtask","dontShowParentTaskEver","showIndiviudalEstimates","pointsBoxUser","isGuest","rollups","showMenu","dontShowRollup","weights","disabled","publicViewData","timeTrackerTaskData","timeEstimateData","displayCustomType","timeInStatusDisplayType","meUser","task","team","offline","userGroups","canDeletePermission","taskNameExtraTemplate","onlyDeleteIfOwner","paddingLeft","canDelete","columns","features","multiTaskEnabled","isOffline","dragDisabledTooltip","isFirst","isLast","groupData","statuses","users","tags","tagsLoadingMap","dateConflict","allCustomFields","breadcrumbs","viewPreferences","selected","showSubtasks","showClosedSubtasks","showSubtasksType","allowClosed","subtasks","groupBy","readOnly","showDeleteButton","limitedEdit","extraData","dateFormat","militaryTime","parentSpace","parentIsSimpleStatus","stickyColumn","canManageGit","lazyDefaultHeight","showHeader","statusStyleType","showMenuPlaceholder","autoWrap","onTimeTrackerAction","onTimeEstimateAction","onIndent","onRemoveTask","onLoadStatuses","onLoadUsers","onLoadTags","onLoadRelationships","onQuickAction","onEditTask","onOpenTask","onOpenParentTask","click","onToggleSubtasks","cdkDragStarted","cdkDragEnded","cdkDragMoved","onChangeSelection","onCustomFieldValueChanged","onRenaming","onClickTag","onOpenDependencyModal","onToggleDatePicker","onHover","toggleCreateSubtask","startTrialFromTimeTracking","onOpenGitModal",4,"ngIf"],["cdkDrag","","cuDragScroll","","cuLazyItem","",3,"cdkDragData","cdkDragStartDelay","cdkDragDisabled","cuDragScrollContainer","cuDragScrollConnectedTo","task","multiTaskEnabled","user","meUser","users","selected","weights","readOnly","paywallTemplate","extraData","dateFormat","militaryTime","lazyDefaultHeight","onEditTask","cdkDragStarted","cdkDragEnded","cdkDragMoved","onChangeSelection","onRenaming","clickOutside",4,"ngIf"],["cdkDrag","","cuDragScroll","","cuLazyItem","",3,"cdkDragStartDelay","cdkDragData","cdkDragDisabled","cuDragScrollContainer","cuDragScrollConnectedTo","showRemove","tasksHovered","hideCreateSubtask","dontShowParentTaskEver","showIndiviudalEstimates","pointsBoxUser","isGuest","rollups","showMenu","dontShowRollup","weights","disabled","publicViewData","timeTrackerTaskData","timeEstimateData","displayCustomType","timeInStatusDisplayType","meUser","task","team","offline","userGroups","canDeletePermission","taskNameExtraTemplate","onlyDeleteIfOwner","paddingLeft","canDelete","columns","features","multiTaskEnabled","isOffline","dragDisabledTooltip","isFirst","isLast","groupData","statuses","users","tags","tagsLoadingMap","dateConflict","allCustomFields","breadcrumbs","viewPreferences","selected","showSubtasks","showClosedSubtasks","showSubtasksType","allowClosed","subtasks","groupBy","readOnly","showDeleteButton","limitedEdit","extraData","dateFormat","militaryTime","parentSpace","parentIsSimpleStatus","stickyColumn","canManageGit","lazyDefaultHeight","showHeader","statusStyleType","showMenuPlaceholder","autoWrap","onTimeTrackerAction","onTimeEstimateAction","onIndent","onRemoveTask","onLoadStatuses","onLoadUsers","onLoadTags","onLoadRelationships","onQuickAction","onEditTask","onOpenTask","onOpenParentTask","click","onToggleSubtasks","cdkDragStarted","cdkDragEnded","cdkDragMoved","onChangeSelection","onCustomFieldValueChanged","onRenaming","onClickTag","onOpenDependencyModal","onToggleDatePicker","onHover","toggleCreateSubtask","startTrialFromTimeTracking","onOpenGitModal"],[4,"ngIf"],["subtasks","","class","cu-task-list__subtasks","groupBy","subtask",3,"showSubtasksMap","subtasksMap","tasks","columns","noDropZone","multiTaskEnabled","dontShowParentTaskEver","timeInStatusDisplayType","dragId","viewPreferences","showMenu","dragData","dragConnectedIds","isDraggingSelected","statuses","statusesMap","parentIsSimpleStatus","usersMap","tagsMap","subtaskLoadingMap","tagsLoadingMap","meUser","canDelete","onlyDeleteIfOwner","allCustomFields","projectsMap","allowClosed","rollups","dateConflictMap","dateFormat","userGroups","showCount","showHeader","forSubs","showColumnHeaders","scrollContainer","publicViewData","showRemove","createTaskOptions","defaultTaskData","subtaskSiblings","extraData","weights","selectedTasksMap","pendingTasks","pendingTasksMap","readOnly","showDeleteButton","rowClass","isInViewPortEnabled","timeTrackerTaskData","timeEstimatesDataMap","team","cdkDragMoved","cuIsInViewport","onRemoveTask","onTimeTrackerAction","onTimeEstimateAction","onLazyLoad","onQuickAction","onCreateTaskState","onCreateTask","onCustomFieldValueChanged","onEditTask","onOpenTask","onDropped","onDragMoved","onDragStarted","onDragEnded","onChangeSelection","onRenaming","onToggleDatePicker","onToggleSubtasks","onIndent","onBackUpTaskCreate",4,"ngIf"],["class","cu-task-list__multi-preview",4,"cdkDragPreview"],[1,"cu-task-list__multi-preview"],e,["subtasks","","groupBy","subtask",1,"cu-task-list__subtasks",3,"showSubtasksMap","subtasksMap","tasks","columns","noDropZone","multiTaskEnabled","dontShowParentTaskEver","timeInStatusDisplayType","dragId","viewPreferences","showMenu","dragData","dragConnectedIds","isDraggingSelected","statuses","statusesMap","parentIsSimpleStatus","usersMap","tagsMap","subtaskLoadingMap","tagsLoadingMap","meUser","canDelete","onlyDeleteIfOwner","allCustomFields","projectsMap","allowClosed","rollups","dateConflictMap","dateFormat","userGroups","showCount","showHeader","forSubs","showColumnHeaders","scrollContainer","publicViewData","showRemove","createTaskOptions","defaultTaskData","subtaskSiblings","extraData","weights","selectedTasksMap","pendingTasks","pendingTasksMap","readOnly","showDeleteButton","rowClass","isInViewPortEnabled","timeTrackerTaskData","timeEstimatesDataMap","team","cdkDragMoved","cuIsInViewport","onRemoveTask","onTimeTrackerAction","onTimeEstimateAction","onLazyLoad","onQuickAction","onCreateTaskState","onCreateTask","onCustomFieldValueChanged","onEditTask","onOpenTask","onDropped","onDragMoved","onDragStarted","onDragEnded","onChangeSelection","onRenaming","onToggleDatePicker","onToggleSubtasks","onIndent","onBackUpTaskCreate"],["cdkDrag","","cuDragScroll","","cuLazyItem","",3,"cdkDragData","cdkDragStartDelay","cdkDragDisabled","cuDragScrollContainer","cuDragScrollConnectedTo","task","multiTaskEnabled","user","meUser","users","selected","weights","readOnly","paywallTemplate","extraData","dateFormat","militaryTime","lazyDefaultHeight","onEditTask","cdkDragStarted","cdkDragEnded","cdkDragMoved","onChangeSelection","onRenaming","clickOutside"],["reminderRow",""],[1,"cu-task-list__rows","cu-task-list__rows_pending"],["cuLazyItem","",3,"class","task","columns","isGuest","userGroups","features","offline","multiTaskEnabled","disabled","viewPreferences","stickyColumn","lazyDefaultHeight","team",4,"ngFor","ngForOf","ngForTrackBy"],["cuLazyItem","",3,"task","columns","isGuest","userGroups","features","offline","multiTaskEnabled","disabled","viewPreferences","stickyColumn","lazyDefaultHeight","team"],[1,"cu-hidden-print"],[3,"dateFormat","militaryTime","meUser","canDelete","onlyDeleteIfOwner","defaultTaskData","columns","statuses","statusesMap","users","userGroups","usersMap","tags","tagsMap","tagsLoadingMap","autoFocus","weights","closeable","subtaskSiblings","forSubtask","parentWidth","listenForIndents","onClose","onCreateTask","onLazyLoad","openStatusSettings","onIndent"],[3,"showCreateTask","columns","disabled","disabledTooltip","showColumnTotals","totals","publicViewData","paywallTemplate","overallTotals","createTaskText","isSubtasksSection","collapsed","isMultiListInvalid","onCreateTask","onAction","onDisabledClick"],a,[3,"currentColor","disabled","onChangeColor"],["taskStatusDrop",""],[3,"statusName","currentColor","statusSaveError","modifier","onCancel","onSave"],["taskStatusNew",""],[3,"statusName","currentColor","statusSaveError","modifier","includeColorPicker","newColor","forNew","onCancel","onSave","onChangeColor"]]},template:function(t,e){1&t&&(s.bd(0,R,1,3,"ng-container",0),s.bd(1,F,6,0,"div",1),s.bd(2,E,2,53,"cu-task-list-header",2),s.cc(3,"div",3,4),s.qc("cdkDropListDropped",function(t){return e.drop(t)}),s.bd(5,H,3,2,"ng-container",5),s.bc(),s.bd(6,Q,2,2,"div",6),s.bd(7,K,1,0,"cu-loader",7),s.bd(8,J,1,22,"cu-task-row-new",8),s.bd(9,Y,1,13,"cu-task-list-footer",9),s.bd(10,tt,6,0,"div",1),s.bd(11,et,1,3,"ng-container",0),s.bd(12,at,4,6,"ng-template",null,10,s.cd),s.bd(14,it,2,7,"ng-template",null,11,s.cd)),2&t&&(s.Dc("ngIf",e.newStatusGroup&&e.sortDir===e.SortDirection.Asc&&!e.forceBottom),s.Ib(1),s.Dc("ngIf",e.showAboveOpenQuickCreate),s.Ib(1),s.Dc("ngIf",e.showHeader),s.Ib(1),s.Ob("cu-task-list__rows_empty",!(null!=e.tasks&&e.tasks.length))("cu-task-list__rows_drop",!e.noDropZone),s.Dc("id",e.dragId)("cdkDropListEnterPredicate",e.dropListEnterPredicate)("cdkDropListSortingDisabled",e.dragSortingDisabled)("cdkDropListDisabled",e.dragDisabled)("cdkDropListData",e.dragData)("cdkDropListConnectedTo",e.dragConnectedIds)("lazyScrollContainer",e.scrollContainer)("lazyMargin","500px")("cuTooltip",e.isMultiListInvalid&&e.isDragging?e.dragDisabledTooltip:null),s.Jb("data-id",e.dragId),s.Ib(2),s.Dc("ngForOf",e.tasks)("ngForTrackBy",e.trackById),s.Ib(1),s.Dc("ngIf",null==e.pendingTasks?null:e.pendingTasks.length),s.Ib(1),s.Dc("ngIf",e.forSubs&&e.subtaskLoadingMap[e.dragId]&&!(null!=e.tasks&&e.tasks.length)&&!(null!=e.pendingTasks&&e.pendingTasks.length)||!e.forSubs&&(!e.tasks||(null==e.tasks?null:e.tasks.length)<e.totalCount)&&!(null!=e.pendingTasks&&e.pendingTasks.length)&&!e.collapsed&&!e.newStatus&&!(null!=e.createTaskOptions&&e.createTaskOptions.allowed&&(null!=e.createTaskOptions&&e.createTaskOptions.show||e.newStatus||e.noTasks))),s.Ib(1),s.Dc("ngIf",(null==e.createTaskOptions?null:e.createTaskOptions.allowed)&&((null==e.createTaskOptions?null:e.createTaskOptions.show)||e.newStatus||e.noTasks)),s.Ib(1),s.Dc("ngIf",((null==e.createTaskOptions?null:e.createTaskOptions.allowed)&&!(null!=e.createTaskOptions&&e.createTaskOptions.show)||e.showFooter)&&!(null!=e.createTaskOptions&&e.createTaskOptions.isSubtasksSection)),s.Ib(1),s.Dc("ngIf",(null==e.team?null:e.team.quick_create_statuses)&&e.allowEditStatuses&&e.groupBy===e.DataViewGroupTypes.Status&&(null==e.groupData?null:e.groupData.type)!==e.StatusTypes.Open),s.Ib(1),s.Dc("ngIf",e.newStatusGroup&&(e.sortDir===e.SortDirection.Desc||e.forceBottom)))},styles:['.cu-task-list{display:block;width:100%}.cu-task-list__outer .cdk-drop-list-dragging .cu-task-row,.cu-task-list__outer.cdk-task-list_dragging .cu-task-row{transition-property:none!important;transform:none!important}.cu-task-list__outer .cu-task-row.cdk-drag-placeholder{visibility:hidden;height:0!important}.cu-task-list__drop-area{height:3px}.cu-task-list .drop-inside{z-index:10}.cu-task-list .drop-inside:before{content:"";display:block;position:absolute;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:7px solid;bottom:-3px;left:50px;z-index:100;border-radius:2px}@supports (--theme-main-color:#7b68ee){.cu-task-list .drop-inside:before{border-left-color:var(--theme-main-color)}}.cu-task-list .drop-inside:after{background:#7b68ee;content:"";display:block;position:absolute;width:100%;height:1px;bottom:0;left:50px;z-index:100}@supports (--theme-main-color:#7b68ee){.cu-task-list .drop-inside:after{background:var(--theme-main-color)}}.cu-task-list .drop-invalid{opacity:.2;cursor:not-allowed}.cu-task-list .drop-before{z-index:10}.cu-task-list .drop-before:before{content:"";display:block;position:absolute;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:7px solid;top:-4px;left:-5px;z-index:100;border-radius:2px}@supports (--theme-main-color:#7b68ee){.cu-task-list .drop-before:before{border-left-color:var(--theme-main-color)}}.cu-task-list .drop-before:after{background:#7b68ee;content:"";display:block;position:absolute;width:100%;height:1px;top:0;left:0;z-index:100}@supports (--theme-main-color:#7b68ee){.cu-task-list .drop-before:after{background:var(--theme-main-color)}}.cu-task-list .drop-after{z-index:10}.cu-task-list .drop-after:before{content:"";display:block;position:absolute;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:7px solid;bottom:-3px;left:-5px;z-index:100;border-radius:2px}@supports (--theme-main-color:#7b68ee){.cu-task-list .drop-after:before{border-left-color:var(--theme-main-color)}}.cu-task-list .drop-after:after{background:#7b68ee;content:"";display:block;position:absolute;width:100%;height:1px;bottom:0;left:0;z-index:100}@supports (--theme-main-color:#7b68ee){.cu-task-list .drop-after:after{background:var(--theme-main-color)}}.cu-task-list .cu-task-row .drop-after:after,.cu-task-list .cu-task-row .drop-after:before{left:20px}.cu-task-list__rows{position:relative;margin-left:-40px;padding-left:40px}.cu-task-list__rows_pending{opacity:.5}.cu-task-list__rows.drop-empty{background:#7b68ee;margin-left:0;padding-left:0;opacity:.3}@supports (--theme-main-color:#7b68ee){.cu-task-list__rows.drop-empty{background:var(--theme-main-color)}}.cu-task-list__new-status{display:flex;justify-content:center;visibility:hidden}.cu-task-list__new-status-sides{flex:1 0 0;height:5px;border-bottom:1px solid #e4e4e4}.cu-task-list__new-status-container{height:17px}.cu-task-list__new-status-container:hover .cu-task-list__new-status{visibility:visible}.cu-task-list__new-status-text{padding:0 10px;color:#b9bec7;text-transform:uppercase;cursor:pointer;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif}.cu-task-list__new-status-text:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list__new-status-text:hover{color:var(--theme-main-color)}}.cu-task-list__subtasks{display:block;width:auto;box-shadow:0 0 10px 0 rgba(0,0,0,.05)}.dark-theme .cu-task-list__subtasks{box-shadow:0 0 10px 0 rgba(117,86,86,.2)}.cu-task-list__subtasks .cu-task-list__subtasks{box-shadow:none}.cu-task-list__multi-placehoder{min-height:43px;display:block;padding:0;margin-left:-10px;min-width:100%;opacity:.5}.cu-task-list__multi-placehoder-container{background:#7b68ee;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;margin:10px;display:inline-block;color:#fff;padding:5px 10px;border-radius:5px}@supports (--theme-main-color:#7b68ee){.cu-task-list__multi-placehoder-container{background:var(--theme-main-color)}}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list__multi-placehoder-container{font-family:var(--global-font-support)}}.cu-task-list__multi-preview{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#7b68ee;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#fff;padding:4px 12px 5px;border-radius:4px;box-shadow:0 24px 38px rgba(0,0,0,.14),0 11px 15px rgba(0,0,0,.2)}@supports (--theme-main-color:#7b68ee){.cu-task-list__multi-preview{background:var(--theme-main-color)}}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list__multi-preview{font-family:var(--global-font-support)}}.cu-task-list__multi-preview:before{content:"";display:block;position:absolute;width:100%;height:100%;border:1px solid hsla(0,0%,100%,.2);border-radius:3px;top:0;left:0}.cu-task-list_dragging .cu-task-row__container{pointer-events:none}.cu-task-list_dragging.cu-task-list_collapsed .cu-task-list__expand{display:none}.cu-task-list_dragging .cu-task-list__rows,.cu-task-list_dragging.cu-task-list_collapsed .cu-task-list__rows{min-height:38px}.cu-task-list_dragging.cu-task-list_collapsed .cu-task-list__rows:before{background:#dfdbfb;content:"";position:absolute;top:0;left:40px;right:40px;height:100%;opacity:.3;border-radius:5px;border:1px dotted #5f48ea}@supports (--theme-main-color-light:#dfdbfb){.cu-task-list_dragging.cu-task-list_collapsed .cu-task-list__rows:before{background:var(--theme-main-color-light)}}@supports (--theme-main-color-dark:#5f48ea){.cu-task-list_dragging.cu-task-list_collapsed .cu-task-list__rows:before{border-color:var(--theme-main-color-dark)}}.cu-task-list_dragging.cu-task-list_collapsed .cu-task-list__rows.cdk-drop-list-dragging:before{display:none}.cu-task-list.cu-task-list__is-multi-list-invalid.cu-task-list_dragging{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu-task-list.cu-task-list__is-multi-list-invalid.cu-task-list_dragging:hover,.cu-task-list.cu-task-list__is-multi-list-invalid.cu-task-list_dragging:hover .cu-task-list__rows{opacity:.3;cursor:not-allowed!important}.cu-task-list.cu-task-list__is-multi-list-invalid.cu-task-list_dragging:hover .cu-task-list__rows .cu-task-row,.cu-task-list.cu-task-list__is-multi-list-invalid.cu-task-list_dragging:hover .cu-task-list__rows .cu-task-row-main__link{pointer-events:none}'],encapsulation:2,data:{animation:[Object(o.m)("row",[Object(o.l)(":enter",[Object(o.k)({opacity:0}),Object(o.e)("250ms",Object(o.k)({opacity:1}))]),Object(o.l)(":leave",[Object(o.k)({opacity:1,transform:"scaleY(1)"}),Object(o.e)("250ms ease-out",Object(o.k)({opacity:0,transform:"scaleY(0)"}))])]),Object(o.m)("subtasks",[Object(o.l)(":enter",[Object(o.k)({opacity:.3}),Object(o.f)([Object(o.e)("200ms ease-in-out",Object(o.k)({opacity:1}))])]),Object(o.l)(":leave",[Object(o.k)({opacity:1}),Object(o.f)([Object(o.e)("200ms ease-in-out",Object(o.k)({opacity:.3}))])])])]},changeDetection:0}),t})()},P93A:function(t,e,a){t.exports=a.p+"bitbucket-step3.ef432d3fe04bff97376a.png"},PN2b:function(t,e,a){"use strict";a.d(e,"a",function(){return m});var i=a("ofXK"),o=a("EDFS"),n=a("KyjD"),s=a("3Pt+"),c=a("HiD6"),r=a("K0KF"),l=a("bx+h"),u=a("J1KY"),d=a("e6ZX"),p=a("fXoL");let m=(()=>{class t{}return t.\u0275mod=p.Ub({type:t}),t.\u0275inj=p.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.d,n.a,s.l,c.a,r.a,l.a,u.a,d.a]]}),t})()},"QF/s":function(t,e,a){"use strict";a.d(e,"a",function(){return i});const i=":taskId:_:taskName:_:username:"},QzAA:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("K0KF"),o=a("ofXK"),n=a("fXoL");let s=(()=>{class t{}return t.\u0275mod=n.Ub({type:t}),t.\u0275inj=n.Tb({factory:function(e){return new(e||t)},imports:[[o.c,i.a]]}),t})()},R5AC:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("fXoL"),o=a("3Pt+"),n=a("HcWw"),s=a("yECk"),c=a("ofXK"),r=a("UdVN");function l(t,e){1&t&&(i.ac(0),i.gc(1,9),i.Zb())}function u(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" ",t.subcategoryName," ")}}function d(t,e){if(1&t&&(i.cc(0,"div",7),i.bd(1,l,2,0,"ng-container",8),i.bd(2,u,2,1,"ng-container",8),i.bc()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",!t.subcategoryName),i.Ib(1),i.Dc("ngIf",t.subcategoryName)}}let p=(()=>{class t{constructor(){this.taskName="",this.subcategoryName="",this.onClose=new i.o,this.onSelect=new i.o,this.onClearSaveState=new i.o}ngOnInit(){}select(t){this.subcategoryName=t.subcategory.name,this.onSelect.emit({name:this.taskName,id:t.subcategory.id})}enterKey(t){t.preventDefault(),t.stopPropagation(),this.onClearSaveState.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-time-tracker-create-task"]],inputs:{defaultProject:"defaultProject"},outputs:{onClose:"onClose",onSelect:"onSelect",onClearSaveState:"onClearSaveState"},decls:7,vars:8,consts:function(){let t,e;return t=$localize`:@@cu-time-tracker-create-task__form-placeholder_new-task-name␟8d8ee6826578864d67379c87759ca9a7cbf6af7a␟696014976376826287:Enter a new task name...`,e=$localize`:@@common_select-list-1␟f7c402de05d3f05a121b83cf77b2a02a0ddd929f␟1253215902741962071: Select List `,[[1,"cu-time-tracker-create-task"],["cuAutoFocus","","type","text","placeholder",t,1,"cu-time-tracker-create-task__input",3,"ngModel","ngModelChange","keyup.Enter","blur"],["taskNameInput",""],[1,"cu-draft-location-selector__category-list",3,"selectableProject","defaultProject","includeCategories","singleCategory","displaySearch","checkCreateTaskPermission","onSelect"],["categoryListDropdownComponent",""],["class","cu-time-tracker-create-task__select-list-btn",4,"ngIf"],["icon","cu2-times",1,"cu-time-tracker-create-task__remove",3,"click"],[1,"cu-time-tracker-create-task__select-list-btn"],[4,"ngIf"],e]},template:function(t,e){if(1&t){const t=i.dc();i.cc(0,"div",0),i.cc(1,"input",1,2),i.qc("ngModelChange",function(t){return e.taskName=t})("keyup.Enter",function(a){return i.Uc(t),i.Rc(2).blur(),e.enterKey(a)})("blur",function(){i.Uc(t);const a=i.Rc(4);return e.taskName?a.open():null}),i.bc(),i.cc(3,"cu-category-list-dropdown",3,4),i.qc("onSelect",function(t){return e.select(t)}),i.bd(5,d,3,2,"div",5),i.bc(),i.cc(6,"div",6),i.qc("click",function(){return e.taskName="",e.onClose.emit()}),i.bc(),i.bc()}2&t&&(i.Ib(1),i.Dc("ngModel",e.taskName),i.Ib(2),i.Dc("selectableProject",!0)("defaultProject",e.defaultProject)("includeCategories",!0)("singleCategory",!1)("displaySearch",!0)("checkCreateTaskPermission",!0),i.Ib(2),i.Dc("ngIf",e.taskName))},directives:[o.c,n.a,o.p,o.s,s.a,c.q,r.a],styles:['.cu-time-tracker-create-task[_ngcontent-%COMP%]{display:flex;align-items:center}.cu-time-tracker-create-task__input[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;flex:1 0 0;border:0;background:transparent;color:#fff;box-shadow:none!important}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-task__input[_ngcontent-%COMP%]{font-family:var(--global-font-support)}}.cu-time-tracker-create-task__input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fff}.cu-time-tracker-create-task__input[_ngcontent-%COMP%]::placeholder{color:#fff}.cu-time-tracker-create-task__input[_ngcontent-%COMP%]:focus{background:transparent}.cu-time-tracker-create-task__remove[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:16px;height:16px;padding:2px;fill:#fff;cursor:pointer;z-index:9}.dark-theme[_ngcontent-%COMP%]   .cu-time-tracker-create-task__remove[_ngcontent-%COMP%]{fill:#fff}.cu-time-tracker-create-task__remove[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}.cu-time-tracker-create-task__select-list-btn[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#fff;border-bottom:1px dotted;margin:0 5px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-task__select-list-btn[_ngcontent-%COMP%]{font-family:var(--global-font-support)}}'],changeDetection:0}),t})()},REPF:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return c});var i=a("l7P3"),o=a("Zm52");const n="automationResource",s=Object(i.createReducer)({loading:{create:!1,update:!1,delete:!1,resources:!1,catTiles:!1},resources:[],comingSoon:[],resourcesTiles:[],entities:{},triggersInformation:{},statuses:{}},Object(i.on)(o.k,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{resources:!0})})),Object(i.on)(o.w,(t,e)=>Object.assign(Object.assign({},t),{statuses:Object.assign(Object.assign({},t.statuses),{[e.parent.id]:e.statuses})})),Object(i.on)(o.m,(t,e)=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{resources:!1}),resources:[...e.data],triggersInformation:e.data.reduce((t,e)=>Object.assign(Object.assign({},t),{[e.key]:{}}),{})})),Object(i.on)(o.r,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{catTiles:!0})})),Object(i.on)(o.t,(t,e)=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{catTiles:!1}),resourcesTiles:[...e.data]})),Object(i.on)(o.a,(t,e)=>Object.assign(Object.assign({},t),{comingSoon:[...e.data]})),Object(i.on)(o.l,(t,e)=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{resources:!1}),errors:e.error})),Object(i.on)(o.c,(t,e)=>Object.assign(Object.assign({},t),{triggersInformation:Object.assign(Object.assign({},t.triggersInformation),{[e.triggerInfomation.key]:Object.assign(Object.assign({},t.triggersInformation[e.triggerInfomation.key]),{[e.triggerKey]:e.triggerInfomation})})})),Object(i.on)(o.q,(t,{automations:e,shortcuts:a,parent:i})=>Object.assign(Object.assign({},t),{entities:Object.assign(Object.assign({},t.entities),{[i.type]:Object.assign(Object.assign({},t.entities[i.type]),{[i.id]:Object.assign(Object.assign({},t.entities[i.type]?t.entities[i.type][i.id]:void 0),{automations:e,shortcuts:a})})})})),Object(i.on)(o.f,(t,{automation:e,parent:a})=>Object.assign(Object.assign({},t),{entities:Object.assign(Object.assign({},t.entities),{[a.type]:Object.assign(Object.assign({},t.entities[a.type]),{[a.id]:Object.assign(Object.assign({},t.entities[a.type][a.id]),{automations:[...t.entities[a.type][a.id].automations,e]})})}),loading:Object.assign(Object.assign({},t.loading),{create:!1})})),Object(i.on)(o.C,(t,{automation:e,parent:a})=>Object.assign(Object.assign({},t),{entities:Object.assign(Object.assign({},t.entities),{[a.type]:Object.assign(Object.assign({},t.entities[a.type]),{[a.id]:Object.assign(Object.assign({},t.entities[a.type][a.id]),{automations:t.entities[a.type][a.id].automations.map(t=>t.id===e.id?e:t)})})}),loading:Object.assign(Object.assign({},t.loading),{update:!1})})),Object(i.on)(o.i,(t,{automationId:e,parent:a})=>Object.assign(Object.assign({},t),{entities:Object.assign(Object.assign({},t.entities),{[a.type]:Object.assign(Object.assign({},t.entities[a.type]),{[a.id]:Object.assign(Object.assign({},t.entities[a.type][a.id]),{automations:t.entities[a.type][a.id].automations.filter(t=>t.id!==e),shortcuts:t.entities[a.type][a.id].shortcuts.filter(t=>t.id!==e)})})}),loading:Object.assign(Object.assign({},t.loading),{delete:!1})})),Object(i.on)(o.e,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{create:!0})})),Object(i.on)(o.B,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{update:!0})})),Object(i.on)(o.h,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{delete:!0})})),Object(i.on)(o.d,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{create:!1})})),Object(i.on)(o.A,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{update:!1})})),Object(i.on)(o.g,t=>Object.assign(Object.assign({},t),{loading:Object.assign(Object.assign({},t.loading),{delete:!1})})),Object(i.on)(o.z,(t,{shortcut:e,parent:a,shortcutType:i})=>Object.assign(Object.assign({},t),{entities:Object.assign(Object.assign({},t.entities),{[a.type]:Object.assign(Object.assign({},t.entities[a.type]),{[a.id]:Object.assign(Object.assign({},t.entities[a.type][a.id]),{shortcuts:[...t.entities[a.type][a.id].shortcuts.filter(t=>t.shortcut!==i),e].filter(Boolean)})})}),loading:Object.assign(Object.assign({},t.loading),{create:!1})})));function c(t,e){return s(t,e)}},Rpu1:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"d",function(){return n}),a.d(e,"e",function(){return s}),a.d(e,"a",function(){return c});const i=5,o="stored-time-tracking-mode";var n=function(t){return t.Start="time-start",t.Stop="time-stop",t.Close="time-close",t.LoadRecent="time-load-recent",t.Update="time-update",t.UpdateUnsaved="time-update-unsaved",t.Delete="time-delete",t.DeleteTag="time-delete-tag",t.FetchTaskEntries="time-fetch-task-entries",t.AddTag="time-add-tag",t.RemoveTag="time-remove-tag",t.UpdateTagName="time-update-tag-name",t.UpdateTagColor="time-update-tag-color",t.FetchTags="time-fetch-tags",t.CreateTask="time-create-task",t.CreateEntry="time-create-entry",t.EditorState="time-tracker-editor-state",t}({}),s=function(t){return t.MANUAL="manual",t.TIMER="timer",t.RANGE="range",t}({});const c=1e3},SgaY:function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("C8uC"),o=a("ofXK"),n=a("K0KF"),s=a("3Pt+"),c=a("bx+h"),r=a("FyW7"),l=a("fPin"),u=a("fXoL");let d=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[o.c,n.a,s.l,c.a,r.a,l.a,i.LoaderModule]]}),t})()},Sn6r:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{transform(t){return t?$localize`:@@common-i18n_pipe--task-count-per-status-text:${t.count}:taskCount: tasks ${t.status}:statusName:`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"taskCountPerStatusText",type:t,pure:!0}),t})()},SuxV:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("LIrV"),o=a("fXoL"),n=a("yvFi");let s=(()=>{class t{constructor(t,e){this.strategies=e,e.setStrategies(t)}addStrategies(t){this.strategies.addStrategies(t)}}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)(o.nc(i.c),o.nc(n.a))}}),t})()},T5D4:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ofXK"),o=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},TU3I:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("0r45"),o=a("ofXK"),n=a("K0KF"),s=a("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(e){return new(e||t)},imports:[[o.c,n.a,i.a]]}),t})()},Tgx9:function(t,e,a){"use strict";a.d(e,"a",function(){return g});var i=a("Rpu1"),o=a("fXoL"),n=a("ofXK"),s=a("zY2b"),c=a("EDFS"),r=a("bNw/"),l=a("UdVN");const u=["tagsListComponent"];function d(t,e){1&t&&o.Xb(0,"div",7)}function p(t,e){if(1&t){const t=o.dc();o.cc(0,"div",8),o.qc("click",function(){return o.Uc(t),o.uc().removeAllTags()}),o.bc()}}function m(t,e){if(1&t){const t=o.dc();o.cc(0,"div",9),o.cc(1,"div",10),o.gc(2,11),o.bc(),o.cc(3,"div",12),o.gc(4,13),o.bc(),o.cc(5,"div",14),o.cc(6,"button",15),o.qc("click",function(){return o.Uc(t),o.uc(),o.Rc(3).hide()}),o.gc(7,16),o.bc(),o.cc(8,"button",17),o.qc("click",function(){o.Uc(t);const e=o.uc();return o.Rc(3).hide(),e.deleteTag(e.tagToDelete)}),o.gc(9,18),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.uc();o.Ib(4),o.kc(null==t.tagToDelete?null:t.tagToDelete.name),o.hc(4)}}const h=function(){return[]};let g=(()=>{class t{constructor(t){this.cdr=t,this.hideIcon=!1,this.loadOnInit=!1,this.readonly=!1,this.spaceAccess=!0,this.allSpaces=!1,this.hideEditOnAllSpaces=!1,this.showMenuOptions=!0,this.showSelected=!0,this.hidden=!1,this.useTextPlaceholder=!0,this.useAltTagsIcon=!1,this.altTagsIcon="cu2-tags",this.onTimeTrackerAction=new o.o,this.onToggle=new o.o,this.onReposition=new o.o}ngOnInit(){this.loadOnInit&&this.onTimeTrackerAction.emit({action:i.d.FetchTags})}loadTags(t){this.onTimeTrackerAction.emit({action:i.d.FetchTags})}addTag(t){const e=this.currentEntry&&this.currentEntry.tags?[...this.currentEntry.tags,t]:[t];this.currentEntry&&(this.currentEntry=Object.assign(Object.assign({},this.currentEntry),{tags:e})),this.onTimeTrackerAction.emit(this.currentEntry&&this.currentEntry.id?{action:i.d.AddTag,tagPayload:{tags:[t],time_entry_ids:[this.currentEntry.id]}}:{action:i.d.UpdateUnsaved,payload:{tags:e}}),this.cdr.markForCheck(),setTimeout(()=>this.onReposition.emit())}renameTag(t){if(this.onTimeTrackerAction.emit({action:i.d.UpdateTagName,tagUpdatePayload:t}),this.currentEntry&&this.currentEntry.tags){const e=this.currentEntry.tags.map(e=>e.name===t.tag.name?Object.assign(Object.assign({},e),{name:t.newName}):e);this.currentEntry=Object.assign(Object.assign({},this.currentEntry),{tags:e}),this.currentEntry.id||this.onTimeTrackerAction.emit({action:i.d.UpdateUnsaved,payload:{tags:e}})}this.cdr.markForCheck()}colorChange(t){if(this.onTimeTrackerAction.emit({action:i.d.UpdateTagColor,tagUpdatePayload:t}),this.currentEntry&&this.currentEntry.tags){const e=this.currentEntry.tags.map(e=>{if(e.name===t.tag.name)return Object.assign(Object.assign({},e),{tag_fg:t.newColor,tag_bg:t.newColor})});this.currentEntry=Object.assign(Object.assign({},this.currentEntry),{tags:e}),this.currentEntry.id||this.onTimeTrackerAction.emit({action:i.d.UpdateUnsaved,payload:{tags:e}})}this.cdr.markForCheck()}removeAllTags(){this.currentEntry&&this.currentEntry.id||this.onTimeTrackerAction.emit({action:i.d.UpdateUnsaved,payload:{tags:[]}})}removeTag(t){this.currentEntry&&this.currentEntry.id&&this.onTimeTrackerAction.emit({action:i.d.RemoveTag,tagUpdatePayload:{tag:t,entry:this.currentEntry}});const e=(this.currentEntry.tags||[]).filter(e=>e.name!==t.name);this.currentEntry&&(this.currentEntry=Object.assign(Object.assign({},this.currentEntry),{tags:e})),!this.currentEntry&&this.currentEntry.id||this.onTimeTrackerAction.emit({action:i.d.UpdateUnsaved,payload:{tags:e}}),this.cdr.markForCheck()}deleteTag(t){this.removeTag(t),this.onTimeTrackerAction.emit({action:i.d.DeleteTag,tag:t})}openTagsModal(){this.tagsListComponent&&setTimeout(()=>{this.tagsListComponent.open()},100)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(o.h))},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-time-tracker-tags"]],viewQuery:function(t,e){if(1&t&&o.jd(u,1),2&t){let t;o.Qc(t=o.rc())&&(e.tagsListComponent=t.first)}},inputs:{tags:"tags",hideIcon:"hideIcon",loadOnInit:"loadOnInit",currentEntry:"currentEntry",readonly:"readonly",spaceAccess:"spaceAccess",allSpaces:"allSpaces",hideEditOnAllSpaces:"hideEditOnAllSpaces",showMenuOptions:"showMenuOptions",showSelected:"showSelected",hidden:"hidden",useTextPlaceholder:"useTextPlaceholder",useAltTagsIcon:"useAltTagsIcon",altTagsIcon:"altTagsIcon"},outputs:{onTimeTrackerAction:"onTimeTrackerAction",onToggle:"onToggle",onReposition:"onReposition"},decls:9,vars:24,consts:function(){let t,e,a,i,o,n;return t=$localize`:@@cu-time-tracker-tags__form-placeholder_add-labels␟74a7855ce1518340b888406bed4e76f236c9d21e␟7513554755523370780:Add labels...`,e=$localize`:@@cu-time-tracker-tags__tooltip-msg_edit-labels␟cbf656b96366cf2ecddaab40227029b23ea3a89f␟7528441140724145783:Edit labels`,a=$localize`:@@common_delete-tag␟25c110c48dc08e4815d5a3f7b593effab560d09a␟2334282639014163329: Delete Tag `,i=$localize`:@@cu-time-tracker-tags__question_delete-tag␟44e4c0921bd18bb3a5b5d22352e863d803c8f0f7␟702542567919116901: This will delete the tag ${"\ufffd0\ufffd"}:INTERPOLATION: from all your time tracking entries. Are you sure you wan't to continue? `,o=$localize`:@@common_cancel␟a5433ae2324496bea9537caa5e8a2719d8e958d8␟4134917114666618814: Cancel `,n=$localize`:@@common_delete␟d7acc4c320f2cec1d3d4e86dfa25ac5f5e6783b9␟1666678130153550098: Delete `,[[1,"cu-time-tracker-current-editor__input","cu-time-tracker-current-editor__input-tags"],["class","cu-time-tracker-current-editor__input-tags-left","icon","cu2-tag-o",4,"ngIf"],["placement","top","outsideClick","true","container","body","triggers","",3,"containerClass","popover","tags","taskTags","readonly","hideEditOnAllSpaces","forTimeTracker","allSpaces","showSelected","showMenuOptions","onOpen","onPage","onChange","onDelete","onRename","onColorChange","onDeleteConfirm"],["warningPopover","bs-popover","tagsListComponent",""],["textPlaceholder",t,"editTooltip",e,3,"tags","availableTags","spaceAccess","forTimeTracker","useTextPlaceholder","useAltIcon","altTagsIcon","useDarkThemeStyle","onDelete","onRename","onColorChange","onDeleteConfirm"],["class","cu-time-tracker-current-editor__input-tags-remove","icon","cu2-times",3,"click",4,"ngIf"],["warningPopoverTemplate",""],["icon","cu2-tag-o",1,"cu-time-tracker-current-editor__input-tags-left"],["icon","cu2-times",1,"cu-time-tracker-current-editor__input-tags-remove",3,"click"],[1,"clickapps__popover"],[1,"clickapps__popover-title"],a,[1,"clickapps__popover-desc"],i,[1,"clickapps__popover-btns"],[1,"cu-btn","cu-btn_sm","cu-btn_confirm-cancel",3,"click"],o,[1,"cu-btn","cu-btn_sm",3,"click"],n]},template:function(t,e){if(1&t){const t=o.dc();o.cc(0,"div",0),o.bd(1,d,1,0,"div",1),o.cc(2,"cu-tags-list",2,3),o.qc("onOpen",function(){return e.loadTags()})("onPage",function(t){return e.loadTags(t)})("onChange",function(t){return e.addTag(t)})("onDelete",function(t){return e.removeTag(t)})("onRename",function(t){return e.renameTag(t)})("onColorChange",function(t){return e.colorChange(t)})("onDeleteConfirm",function(a){o.Uc(t);const i=o.Rc(3);return e.tagToDelete=a,i.show()}),o.cc(5,"cu-tags-view",4),o.qc("onDelete",function(t){return e.removeTag(t)})("onRename",function(t){return e.renameTag(t)})("onColorChange",function(t){return e.colorChange(t)})("onDeleteConfirm",function(a){o.Uc(t);const i=o.Rc(3);return e.tagToDelete=a,i.show()}),o.bc(),o.bc(),o.bd(6,p,1,0,"div",5),o.bc(),o.bd(7,m,10,1,"ng-template",null,6,o.cd)}if(2&t){const t=o.Rc(8);o.Ob("hidden",e.hidden),o.Ib(1),o.Dc("ngIf",!e.hideIcon),o.Ib(1),o.Dc("containerClass","popover_white clickapps__ge-popover")("popover",t)("tags",e.tags)("taskTags",(null==e.currentEntry?null:e.currentEntry.tags)||o.Gc(22,h))("readonly",e.readonly)("hideEditOnAllSpaces",e.hideEditOnAllSpaces)("forTimeTracker",!0)("allSpaces",e.allSpaces)("showSelected",e.showSelected)("showMenuOptions",e.showMenuOptions),o.Ib(3),o.Dc("tags",(null==e.currentEntry?null:e.currentEntry.tags)||o.Gc(23,h))("availableTags",e.tags)("spaceAccess",e.spaceAccess)("forTimeTracker",!0)("useTextPlaceholder",e.useTextPlaceholder&&!(null!=e.currentEntry&&null!=e.currentEntry.tags&&e.currentEntry.tags.length))("useAltIcon",e.useAltTagsIcon)("altTagsIcon",e.altTagsIcon)("useDarkThemeStyle",!0),o.Ib(1),o.Dc("ngIf",!(null!=e.currentEntry&&e.currentEntry.id)&&(null==e.currentEntry||null==e.currentEntry.tags?null:e.currentEntry.tags.length))}},directives:[n.q,s.a,c.c,r.a,l.a],styles:[".cu-time-tracker-tags .cu-time-tracker-current-editor__input{display:flex;align-items:center;width:100%;padding:10px;margin-bottom:5px;background:hsla(0,0%,100%,.1);border-radius:6px;border:none}.cu-time-tracker-tags .cu-time-tracker-current-editor__input.hidden{height:0;opacity:0;padding:0;margin:0;pointer-events:none;overflow:hidden}.cu-time-tracker-tags .cu-time-tracker-current-editor__input-tags-left{fill:#fff!important;width:14px;height:14px}.dark-theme .cu-time-tracker-tags .cu-time-tracker-current-editor__input-tags-left{fill:#fff}.cu-time-tracker-tags .cu-time-tracker-current-editor__input-tags-remove{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:16px;height:16px;padding:2px;fill:#fff;cursor:pointer;z-index:9;margin-left:auto}.cu-time-tracker-tags .cu-time-tracker-current-editor__input-tags-remove:hover{transform:rotate(180deg)}.cu-time-tracker-tags .cu-tags-view{margin-left:10px}.cu-time-tracker-tags .cu-tags-view .cu-tags-select__badge{margin:3px 4px 3px 0}.cu-time-tracker-tags .cu-tags-view .cu-tags-view__icon span{color:#fff}.cu-time-tracker-tags .cu-tags-view .cu-tags-view__icon:before{border-color:#fff!important}.dark-theme .cu-time-tracker-tags .cu-tags-view .cu-tags-view__icon:before{fill:#fff!important}.cu-time-tracker-tags .cu-tags-view .cu-tags-view__icon .cu-stroke,.dark-theme .cu-time-tracker-tags .cu-tags-view .cu-tags-view__icon .cu-stroke{stroke:#fff!important}.cu-edit-widget__body .cu-time-tracker-tags .cu-time-tracker-current-editor__input,.cu-widget-options__container .cu-time-tracker-tags .cu-time-tracker-current-editor__input{margin:0;padding:0;background:transparent;border-radius:0}.cu-edit-widget__body .cu-time-tracker-tags .cu-tags-view,.cu-widget-options__container .cu-time-tracker-tags .cu-tags-view{margin-left:0}.cu-edit-widget__body .cu-time-tracker-tags .cu-widget-options__item-value,.cu-widget-options__container .cu-time-tracker-tags .cu-widget-options__item-value{margin-top:15px}.cu-edit-widget__body .cu-time-tracker-tags .cu-tags-view__icon span,.cu-widget-options__container .cu-time-tracker-tags .cu-tags-view__icon span{color:#292d34}.dark-theme .cu-edit-widget__body .cu-time-tracker-tags .cu-tags-view__icon span,.dark-theme .cu-widget-options__container .cu-time-tracker-tags .cu-tags-view__icon span{color:#d5d6d7}.cu-time-tracker-tags .cu-tags-view__icon-alt{fill:#fff;height:20px;width:16px}.cu-time-tracker-editor .cu-time-tracker-tags .cu-tags-view__icon-alt{fill:#c4c4c4!important}.cu-time-tracker-tags .cu-tags-view__icon-alt:before{display:none}"],encapsulation:2,changeDetection:0}),t})()},TlsY:function(t,e,a){"use strict";a.d(e,"a",function(){return V});var i=a("fXoL"),o=a("XNiG"),n=a("1G5W"),s=a("jJQC"),c=a("jJW4"),r=a("G2WA"),l=a("LdyQ"),u=a("MJvn"),d=a("n+1/"),p=a("paaC"),m=a("drq7"),h=a("ofXK"),g=a("BTFG"),b=a("bFKe"),f=a("NQa4"),k=a("dTHz"),_=a("xog/"),w=a("HPyy"),v=a("d9+G"),y=a("sx5D"),x=a("kC/4");function T(t,e){if(1&t&&(i.cc(0,"div",12),i.dd(1),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd(" ",null==t.comment.user?null:t.comment.user.username," ")}}function I(t,e){if(1&t&&(i.cc(0,"div",12),i.gc(1,13),i.bc()),2&t){const t=i.uc();i.Ib(1),i.kc(t.comment.source_username)(t.comment.source),i.hc(1)}}function C(t,e){1&t&&(i.cc(0,"div",17),i.gc(1,18),i.bc())}function D(t,e){if(1&t){const t=i.dc();i.cc(0,"label",14),i.qc("click",function(e){return i.Uc(t),i.uc().toggleResolvedComment(e)}),i.Xb(1,"input",15),i.bd(2,C,2,0,"div",16),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("checked",t.comment.resolved),i.Ib(1),i.Dc("ngIf",t.canComment||t.comment.resolved)}}const S=function(t){return{"cu-comment__text_irresolvable":t}};let O=(()=>{class t{constructor(t,e,a){this.helpers=t,this.sharedTaskService=e,this.sharedService=a,this.onCommentResolve=new i.o,this.canComment=!1}ngOnInit(){}ngOnChanges(t){(t.task||t.comment)&&(this.task&&this.comment?(this.canComment=this.task.permissions&&this.task.permissions.comment,!this.task.permissions&&this.task.permission_level&&(this.canComment=this.task.permission_level>=k.e.EDIT||this.task.permission_level>=k.e.COMMENT&&this.comment.assignee&&this.comment.assignee.id===this.sharedService.currentUser.value.id)):this.canComment=!1)}toggleResolvedComment(t){t.stopPropagation(),t.preventDefault(),this.canComment&&this.onCommentResolve.emit()}openTask(t,e){e&&e.target&&this.helpers.closest(e.target,"task-mention")||this.sharedTaskService.clickTaskLink({id:t.id,customId:t.custom_id,teamId:t.team},e)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(_.b),i.Wb(r.a),i.Wb(c.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-assigned-comment"]],inputs:{comment:"comment",task:"task"},outputs:{onCommentResolve:"onCommentResolve"},features:[i.Gb],decls:16,vars:16,consts:function(){let t,e;return t=$localize`:@@cu-assigned-comment__source␟6f446fd0f993586fd945a0eb28c22ce6cc04f73f␟6678405859906743378: ${"\ufffd0\ufffd"}:INTERPOLATION: from ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@common_resolve␟ef7e28b54044a5fed65cc58fe6baa16013f8b171␟1169188334974747247: Resolve `,[["draggable","false",1,"cu-comment","cu-comment_assigned",3,"cuLink","click"],[1,"cu-comment__body"],[1,"cu-comment__header"],[1,"cu-comment__meta"],[1,"cu-comment__who"],[1,"cu-comment__icon"],[3,"user","modifier"],["class","cu-comment__author-assigned",4,"ngIf"],[1,"cu-comment__date"],[1,"cu-comment__text",3,"ngClass"],[3,"comment","allowPreview"],["class","cu-checkbox cu-checkbox_lg",3,"click",4,"ngIf"],[1,"cu-comment__author-assigned"],t,[1,"cu-checkbox","cu-checkbox_lg",3,"click"],["type","checkbox",1,"cu-checkbox__input",3,"checked"],["class","cu-checkbox__label cu-comment__resolve",4,"ngIf"],[1,"cu-checkbox__label","cu-comment__resolve"],e]},template:function(t,e){1&t&&(i.cc(0,"a",0),i.qc("click",function(t){return e.openTask(e.comment.task||e.task,t)}),i.vc(1,"cuTaskLink"),i.cc(2,"div",1),i.cc(3,"div",2),i.cc(4,"div",3),i.cc(5,"div",4),i.cc(6,"div",5),i.Xb(7,"cu-avatar",6),i.bc(),i.bd(8,T,2,1,"div",7),i.bd(9,I,2,2,"div",7),i.bc(),i.cc(10,"div",8),i.dd(11),i.vc(12,"timeAgo"),i.bc(),i.bc(),i.bc(),i.cc(13,"div",9),i.Xb(14,"cu-comment",10),i.bd(15,D,3,2,"label",11),i.bc(),i.bc(),i.bc()),2&t&&(i.Dc("cuLink",i.wc(1,10,e.comment.task||e.task)),i.Ib(7),i.Dc("user",e.comment.user)("modifier","cu-avatar_chat"),i.Ib(1),i.Dc("ngIf",e.comment.user),i.Ib(1),i.Dc("ngIf",e.comment.source_username),i.Ib(2),i.ed(i.wc(12,12,e.comment.date)),i.Ib(2),i.Dc("ngClass",i.Hc(14,S,!e.canComment)),i.Ib(1),i.Dc("comment",e.comment.comment)("allowPreview",!1),i.Ib(1),i.Dc("ngIf",e.comment.assignee))},directives:[f.a,w.a,h.q,h.o,v.a],pipes:[y.a,x.a],encapsulation:2,changeDetection:0}),t})();function j(t,e){1&t&&i.Xb(0,"cu-loader")}function P(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"cu-assigned-comment",10),i.qc("onCommentResolve",function(){i.Uc(t);const a=e.$implicit,o=i.uc().$implicit,n=i.uc(2);return n.toggleResolvedComment(o.task||n.task,a)}),i.bc(),i.bc()}if(2&t){const t=e.$implicit,a=i.uc().$implicit,o=i.uc(2);i.Ib(1),i.Dc("comment",t)("task",a.task||o.task)}}const A=function(t){return{background:t}};function $(t,e){if(1&t){const t=i.dc();i.cc(0,"div",4),i.cc(1,"div",5),i.cc(2,"div",6),i.Xb(3,"div",7),i.bc(),i.cc(4,"a",8),i.qc("click",function(a){i.Uc(t);const o=e.$implicit;return i.uc(2).openTask(o.task,a)}),i.vc(5,"cuTaskLink"),i.dd(6),i.bc(),i.bc(),i.bd(7,P,2,2,"div",9),i.bc()}if(2&t){const t=e.$implicit,a=i.uc(2);i.Ib(3),i.Dc("ngStyle",i.Hc(7,A,null==t.task||null==t.task.status?null:t.task.status.color)),i.Ib(1),i.Dc("cuLink",i.wc(5,5,t.task)),i.Ib(2),i.fd(" ",null==t.task?null:t.task.name," "),i.Ib(1),i.Dc("ngForOf",t.comments)("ngForTrackBy",a.trackById)}}const R=function(){return{wheelPropagation:!0,suppressScrollX:!0}};function F(t,e){if(1&t&&(i.cc(0,"div",2),i.bd(1,$,8,9,"div",3),i.bc()),2&t){const t=i.uc();i.Dc("perfectScrollbar",i.Gc(3,R)),i.Ib(1),i.Dc("ngForOf",t.comments)("ngForTrackBy",t.trackById)}}let M=(()=>{class t{constructor(t,e,a,n,c){this.commentsService=t,this.sharedData=e,this.sharedTaskService=a,this.taskMentionService=n,this.changeDetectorRef=c,this.comments=[],this.forTasks=!1,this.forMe=!1,this.onCommentResolve=new i.o,this.onDataLoaded=new i.o,this.onCloseDropdown=new i.o,this.destroy$=new o.a,this.trackById=Object(s.d)("id")}ngOnInit(){this.getAssignedComments()}ngOnDestroy(){this.destroy$.next()}getAssignedComments(t=!0){if(this.forTasks&&this.task){this.isLoading=t,this.changeDetectorRef.markForCheck();const e={todo_comments:!0,resolved:!1};this.forMe&&(e.assignee=this.sharedData.currentUser.value.id),this.commentsService.getCommentsForTask(this.task.id,e).subscribe(t=>{this.isLoading=!1,this.comments=[{comments:t&&t.comments||[],task:this.task}],this.onDataLoaded.emit(),this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.taskMentionService.updateMentions()},0)})}}toggleResolvedComment(t,e){e.resolved=!e.resolved,this.changeDetectorRef.markForCheck(),this.commentsService.editComment(t.id,e.id,{resolved:e.resolved}).subscribe(e=>{this.getAssignedComments(!1),this.onCommentResolve.emit(t)})}openTask(t,e){this.onCloseDropdown.emit(),this.sharedTaskService.clickTaskLink({id:t.id,customId:t.custom_id,teamId:t.team},e)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(p.a),i.Wb(c.a),i.Wb(r.a),i.Wb(m.a),i.Wb(i.h))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-assigned-comments-list"]],hostAttrs:[1,"cu-assigned-comments-list"],inputs:{comments:"comments",task:"task",forTasks:"forTasks",params:"params",project:"project",forMe:"forMe"},outputs:{onCommentResolve:"onCommentResolve",onDataLoaded:"onDataLoaded",onCloseDropdown:"onCloseDropdown"},decls:2,vars:2,consts:[[4,"ngIf"],["class","cu-assigned-comments-list__container",3,"perfectScrollbar",4,"ngIf"],[1,"cu-assigned-comments-list__container",3,"perfectScrollbar"],["class","cu-assigned-comments-list__body",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-assigned-comments-list__body"],[1,"cu-dropdown__comments"],[1,"cu-plate__icon"],[1,"cu-mark",3,"ngStyle"],[1,"cu-plate__tasks-link","cu-dropdown__comments_tasks-link",3,"cuLink","click"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"comment","task","onCommentResolve"]],template:function(t,e){1&t&&(i.bd(0,j,1,0,"cu-loader",0),i.bd(1,F,2,4,"div",1)),2&t&&(i.Dc("ngIf",e.isLoading),i.Ib(1),i.Dc("ngIf",!e.isLoading))},directives:[h.q,g.a,b.a,h.p,h.t,f.a,O],pipes:[y.a],styles:[".cu-assigned-comments-list__container{max-height:300px;width:100%;overflow-y:scroll}.cu-assigned-comments-list__body{padding:0 15px}.dark-theme .cu-assigned-comments-list__body .cu-comment__body{background:#2b343b}.cu-assigned-comments-list__body .cu-checkbox{flex-direction:row-reverse}.cu-assigned-comments-list__body .cu-checkbox .cu-checkbox__label{color:#7b68ee;padding-top:2px;font-weight:400}@supports (--theme-main-color:#7b68ee){.cu-assigned-comments-list__body .cu-checkbox .cu-checkbox__label{color:var(--theme-main-color)}}.cu-assigned-comments-list__body .cu-checkbox .cu-checkbox__label:before{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-assigned-comments-list__body .cu-checkbox .cu-checkbox__label:before{border-color:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),t})();const E=["dropdown"],U=["toggle"];function L(t,e){if(1&t){const t=i.dc();i.cc(0,"div",5),i.cc(1,"cu-assigned-comments-list",6),i.qc("onCommentResolve",function(e){return i.Uc(t),i.uc().onCommentResolve.emit(e)})("onDataLoaded",function(){return i.Uc(t),i.uc().dataLoaded()})("onCloseDropdown",function(){return i.Uc(t),i.uc(),i.Rc(1).close()}),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("comments",t.comments)("task",t.task)("forTasks",t.forTasks)("params",t.params)("project",t.project)("forMe",t.forMe)}}const z=["*"];let V=(()=>{class t{constructor(t,e){this.sharedData=t,this.sharedTaskService=e,this.comments=[],this.forTasks=!1,this.forMe=!1,this.onCommentResolve=new i.o,this.destroy$=new o.a,this.trackById=Object(s.d)("id")}ngOnInit(){this.sharedTaskService.onOpen.pipe(Object(n.a)(this.destroy$)).subscribe(()=>{this.dropdown&&this.dropdown.close()})}ngOnDestroy(){this.destroy$.next()}open(){this.dropdown.open()}dataLoaded(){setTimeout(()=>this.dropdown.positionMenu(),0)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(c.a),i.Wb(r.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-assigned-comments-dropdown"]],viewQuery:function(t,e){if(1&t&&(i.jd(E,3),i.jd(U,3)),2&t){let t;i.Qc(t=i.rc())&&(e.dropdown=t.first),i.Qc(t=i.rc())&&(e.toggle=t.first)}},inputs:{comments:"comments",task:"task",forTasks:"forTasks",params:"params",project:"project",forMe:"forMe"},outputs:{onCommentResolve:"onCommentResolve"},ngContentSelectors:z,decls:6,vars:1,consts:[["cuDropdown","",1,"cu-dropdown",3,"dropdownCloseOnInsideClick"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["toggle",""],["class","cu-dropdown__menu cu-dropdown__comments-menu cu-dropdown__menu_right",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","cu-dropdown__comments-menu","cu-dropdown__menu_right"],[3,"comments","task","forTasks","params","project","forMe","onCommentResolve","onDataLoaded","onCloseDropdown"]],template:function(t,e){1&t&&(i.Cc(),i.cc(0,"div",0,1),i.cc(2,"div",2,3),i.Bc(4),i.bc(),i.bd(5,L,2,6,"div",4),i.bc()),2&t&&i.Dc("dropdownCloseOnInsideClick",!1)},directives:[l.b,u.a,d.a,M],encapsulation:2,changeDetection:0}),t})()},TyK0:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("xgIS"),o=a("CqXF"),n=a("IzEk"),s=a("JX91"),c=a("UXun");const r=Object(i.a)(window,"touchstart",{passive:!0}).pipe(Object(o.a)(!0),Object(n.a)(1),Object(s.a)("ontouchstart"in window),Object(c.a)({refCount:!0,bufferSize:1}))},Ue6b:function(t,e,a){"use strict";a.d(e,"a",function(){return g});var i=a("ofXK"),o=a("Dvla"),n=a("1M0N"),s=a("VBI8"),c=a("KyjD"),r=a("fTg4"),l=a("K0KF"),u=a("aVmG"),d=a("gb9A"),p=a("X5rV"),m=a("tGh3"),h=a("fXoL");let g=(()=>{class t{}return t.\u0275mod=h.Ub({type:t}),t.\u0275inj=h.Tb({factory:function(e){return new(e||t)},imports:[[i.c,r.a,l.a,u.a,o.b,n.a,d.a,p.a,m.a,s.a,c.a]]}),t})()},UhY4:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("ofXK"),o=a("3Pt+"),n=a("Dvla"),s=a("gb9A"),c=a("fXoL");let r=(()=>{class t{}return t.\u0275mod=c.Ub({type:t}),t.\u0275inj=c.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.x,n.b,s.a]]}),t})()},V9dP:function(t,e,a){"use strict";a.d(e,"a",function(){return c}),a.d(e,"b",function(){return r}),a.d(e,"c",function(){return l});var i=a("c3rA"),o=a("l7P3");const n=Object(o.createFeatureSelector)("pointsEstimates"),s=Object(o.createSelector)(n,t=>t.pointsEstimatesDataMap),c=Object(o.createSelector)(n,t=>t.openPaywallModal),r=Object(o.createSelector)(i.getTeam,t=>t&&t.points_scale||[1,2,3,5,8]),l=t=>Object(o.createSelector)(s,e=>e&&e[t])},VrOs:function(t,e,a){"use strict";a.d(e,"a",function(){return h}),a.d(e,"b",function(){return u}),a.d(e,"d",function(){return p}),a.d(e,"c",function(){return k});var i=a("fXoL"),o=a("SuxV"),n=a("LIrV"),s=a("2p4s"),c=a("lJxs"),r=a("tk/3"),l=a("irDL");let u=(()=>{class t{constructor(t,e){this.httpClient=t,this.errorHandler=e,this.apiUrl=s.a.apiUrl}getResources(t){return this.httpClient.get(this.buildBaseUrl(t)).pipe(Object(c.a)(t=>({soon:t.resources.filter(t=>("production"===s.a.name||"stage1"===s.a.name)&&!t.production),production:t.resources.filter(t=>"production"!==s.a.name&&"stage1"!==s.a.name||t.production)})),this.errorHandler.http())}getResource(t,e){return this.httpClient.get(`${this.buildBaseUrl(t,e)}/${e}`).pipe(Object(c.a)(t=>t.resource)).pipe(this.errorHandler.http())}getTriggerInformation(t,e,a){return this.httpClient.get(`${this.buildBaseUrl(t,e)}/${e}?trigger_type=${a}`).pipe(Object(c.a)(t=>t.resource)).pipe(this.errorHandler.http())}getDynamicPropertyValues(t,e,a,i){return this.httpClient.post(`${this.buildBaseUrl(t,e)}/${e}/dynamic/${a}`,i).pipe(this.errorHandler.http())}buildBaseUrl(t,e){return`${this.apiUrl}/team/${t}/resource`}}return t.\u0275fac=function(e){return new(e||t)(i.nc(r.b),i.nc(l.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac}),t})();var d=a("yvFi");let p=(()=>{class t{constructor(t){this.source=t,this.strategies$=this.source.asObservable(),this.keys$=this.source.keys$,this.keys=this.source.getKeys()}getStrategy(t){return this.source.getValue().find(e=>e.key===t)}}return t.\u0275fac=function(e){return new(e||t)(i.nc(d.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac}),t})();var m=a("GSMa");let h=(()=>{class t{static forRoot(t=[]){return{ngModule:o.a,providers:[{provide:n.b,useFactory:g,deps:[[u,new i.C,new i.O]]},u,d.a,p,t,{provide:n.e,useValue:[t]},{provide:n.c,useFactory:b,deps:[i.t,n.e]}]}}static forFeature(t=[]){return{ngModule:m.a,providers:[t,{provide:n.d,multi:!0,useValue:[t]},{provide:n.a,useFactory:b,multi:!0,deps:[i.t,n.d]}]}}}return t.\u0275mod=i.Ub({type:t}),t.\u0275inj=i.Tb({factory:function(e){return new(e||t)}}),t})();function g(t){if(t)throw new TypeError("AutomationModule.forRoot() called twice. Feature modules should use AutomationModule.forFeature() instead.");return"protected"}function b(t,e){return e.map(e=>e.map(e=>Array.isArray(e)?e.map(e=>t.get(e)).flat():t.get(e))).flat()}var f=a("MguC");let k=(()=>{class t{constructor(t,e){this.http=t,this.errorHandler=e,this.apiUrl=s.a.apiUrl}getAutomations(t,e){let a;return e===f.e.Category?a="category":e===f.e.Subcategory?a="subcategory":e===f.e.Project&&(a="project"),this.http.get(`${this.apiUrl}/${a}/${t}/automation`).pipe(this.errorHandler.http())}getAutomation(t){return this.http.get(`${this.apiUrl}/automation/${t}`).pipe(this.errorHandler.http())}deleteAutomation(t){return this.http.delete(`${this.apiUrl}/automation/${t}`).pipe(this.errorHandler.http())}createAutomation(t,e,a){let i;return a===f.e.Category?i="category":a===f.e.Subcategory?i="subcategory":a===f.e.Project&&(i="project"),this.http.post(`${this.apiUrl}/${i}/${t}/automation`,e).pipe(this.errorHandler.http())}updateAutomation(t,e){return this.http.put(`${this.apiUrl}/automation/${t}`,e).pipe(this.errorHandler.http())}getStatuses(t,e){let a;return t===f.e.Category?a="category":t===f.e.Subcategory?a="subcategory":t===f.e.Project&&(a="project"),this.http.get(`${this.apiUrl}/${a}/${e}/all_statuses`)}}return t.\u0275fac=function(e){return new(e||t)(i.nc(r.b),i.nc(l.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"WL/q":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ofXK"),o=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},WSBU:function(t,e,a){"use strict";a.d(e,"o",function(){return f}),a.d(e,"a",function(){return k.a}),a.d(e,"u",function(){return w}),a.d(e,"s",function(){return p.a}),a.d(e,"c",function(){return Me}),a.d(e,"y",function(){return l.q}),a.d(e,"v",function(){return l.d}),a.d(e,"w",function(){return g.c}),a.d(e,"x",function(){return q.a}),a.d(e,"z",function(){return q.b}),a.d(e,"b",function(){return Ae}),a.d(e,"j",function(){return ce}),a.d(e,"r",function(){return ye}),a.d(e,"n",function(){return $e}),a.d(e,"t",function(){return M}),a.d(e,"q",function(){return Ie}),a.d(e,"e",function(){return Gt}),a.d(e,"f",function(){return we.a}),a.d(e,"h",function(){return ct}),a.d(e,"i",function(){return Tt}),a.d(e,"k",function(){return V.a}),a.d(e,"l",function(){return Se.a}),a.d(e,"m",function(){return _e.a}),a.d(e,"g",function(){return Be}),a.d(e,"p",function(){return Fe}),a.d(e,"d",function(){return xe});var i=a("vkgz"),o=a("lJxs"),n=a("5+tZ"),s=a("cp0P"),c=a("LRne"),r=a("1Lli"),l=a("Zm52"),u=a("fXoL"),d=a("VrOs"),p=a("p1wf"),m=a("l7P3");let h=(()=>{class t{constructor(t,e,a,i){this.automationResourceService=t,this.strategies=e,this.defaultMapper=a,this.store=i}fetchResources(t){return this.automationResourceService.getResources(t).pipe(Object(i.a)(t=>{this.store.dispatch(Object(l.a)({data:t.soon}))}),Object(o.a)(t=>t.production),Object(n.a)(e=>Object(s.a)([...e.map(e=>this.automationResourceService.getResource(t,e.key))])))}fetchResourceTiles(t){return Object(c.a)(t).pipe((e=this.strategies,function(t){return t.pipe(Object(o.a)(t=>t.map(t=>{const a=e.getStrategy(t.key);return a?Object.assign(Object.assign({},t),{triggers:a.filterTriggers?a.filterTriggers(t.triggers):[...t.triggers],actions:a.filterActions?a.filterActions(t.actions):[...t.actions]}):t})))}),function(t,e){return function(a){return a.pipe(Object(o.a)(a=>a.map(a=>{const i=t.getStrategy(a.key);return i&&i.getCatalogItemOverrides?i.getCatalogItemOverrides(a):e(a)}).flat()))}}(this.strategies,t=>this.defaultMapper.getCatalogItem(t)),Object(o.a)(t=>Object(r.a)(t,["internal"],["desc"])),Object(o.a)(t=>[...t.filter(t=>t.internal),...Object(r.a)(t.filter(t=>!t.internal),["label"],["asc"])]),Object(o.a)(t=>t.map(e=>{if(!e.presets){const a=t.filter(t=>t!==e&&!(!t.internal&&!e.internal)).filter(t=>t.internal?t.internal:!(e.internal&&!t.internal)).map(t=>t.actions.map(a=>({action:a,icon:t.icon,color:t.colors?t.colors.main:null,strokeIcon:t.strokeIcon,categoryName:t.label,resourceKey:t.resource,internal:e.internal}))).flat(),i=t.filter(t=>t!==e&&!(!t.internal&&!e.internal)).filter(t=>t.internal?t.internal:!(e.internal&&!t.internal)).map(t=>t.triggers.map(a=>({trigger:a,icon:t.icon,color:t.colors?t.colors.main:null,strokeIcon:t.strokeIcon,categoryName:t.label,resourceKey:t.resource,internal:e.internal}))).flat();return Object.assign(Object.assign({},e),{presets:[...e.internal?[]:this.triggerBasePresetPresets(e,i),...this.actionBasePresetPresets(e,a)]})}return Object.assign(Object.assign({},e),{presets:e.presets||[]})})),Object(o.a)(t=>t.filter(t=>t.presets.length)));var e}actionBasePresetPresets(t,e){return t.triggers.map(a=>e.filter(t=>!a.allowed_actions||!!a.allowed_actions.find(e=>e.resource===t.resourceKey&&e.action===t.action.key)).map(({action:e,icon:i,color:o,strokeIcon:n,resourceKey:s})=>({trigger:a,action:e,key:`${t.resource}-${a.key}::${s}-${e.key}`,icons:{from:{strokeIcon:t.strokeIcon,name:t.resource,icon:t.icon,color:t.colors?t.colors.main:null,resourceKey:t.resource},to:{strokeIcon:n,icon:i,name:s,color:o,resourceKey:s}}}))).flat()}triggerBasePresetPresets(t,e){return t.actions.map(a=>e.filter(e=>!e.trigger.allowed_actions||!!e.trigger.allowed_actions.find(e=>e.resource===t.resource&&e.action===a.key)).map(({trigger:e,icon:i,color:o,strokeIcon:n,resourceKey:s})=>({trigger:e,action:a,key:`${s}-${e.key}::${t.resource}-${a.key}`,icons:{from:{strokeIcon:n,name:s,icon:i,color:o,resourceKey:s},to:{strokeIcon:t.strokeIcon,name:t.resource,icon:t.icon,color:t.colors?t.colors.main:null,resourceKey:t.resource}}}))).flat()}}return t.\u0275fac=function(e){return new(e||t)(u.nc(d.b),u.nc(d.d),u.nc(p.a),u.nc(m.Store))},t.\u0275prov=u.Sb({token:t,factory:t.\u0275fac}),t})();var g=a("EQdv"),b=a("pLZG");let f=(()=>{class t{constructor(t,e,a){this.store=t,this.automationStrategies=e,this.defaultMapper=a,this.resources$=this.store.select(g.f.getAllResources),this.resourcesTiles$=this.store.select(g.f.getAutomationTiles),this.comingSoonResources$=this.store.select(g.f.getComingSoon),this.isLoaded$=this.store.select(g.f.isResourceLoading)}loadResources(t){this.store.dispatch(Object(l.k)({teamId:t}))}ifNoResourcesThenFetch(t){this.store.dispatch(Object(l.j)({teamId:t}))}getResource(t){return this.store.select(g.f.getResource(t))}getTriggerInformation(t,e){return this.store.select(g.f.getTriggerInfo(t,e)).pipe(Object(b.a)(t=>!!t))}getRemappedResources(t,e){return this.resources$.pipe(Object(o.a)(a=>a.map(a=>this.remapResource(a,t,e))))}remapResource(t,e,a){const i=this.automationStrategies.getStrategy(t.key);if(i&&i.remapResource){const o=i.remapResource(t,e,a);return this.defaultMapper.remapResource(o)}return this.defaultMapper.remapResource(t)}ifNoTriggerInformationThenFetch(t,e,a){this.store.dispatch(Object(l.b)({teamId:t,resourceKey:e,triggerKey:a}))}}return t.\u0275fac=function(e){return new(e||t)(u.nc(m.Store),u.nc(d.d),u.nc(p.a))},t.\u0275prov=u.Sb({token:t,factory:t.\u0275fac}),t})();var k=a("na8j"),_=a("eIep");let w=(()=>{class t{constructor(t,e){this.automationResourceFacade=t,this.automationActionFacades=e}getAutomationsForParent(t,e,a){return this.automationResourceFacade.getRemappedResources(e,t).pipe(Object(_.a)(i=>this.automationActionFacades.getAutomationsForParent(t,e,a,i)))}}return t.\u0275fac=function(e){return new(e||t)(u.nc(f),u.nc(k.a))},t.\u0275prov=u.Sb({token:t,factory:t.\u0275fac}),t})();var v=a("9jGm"),y=a("REPF"),x=a("zp1y"),T=a("IzEk"),I=a("bOdf"),C=a("JIr8"),D=a("CqXF"),S=a("EY2u"),O=a("MguC"),j=a("WluX"),P=a("o7Ov"),A=a("eDEC");let $=(()=>{class t{constructor(t,e,a,i,s){this.actions$=t,this.automationResourceFacade=e,this.automationResourceService=a,this.automationService=i,this.store=s,this.loadAutomationCoresIfRequired$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.j),Object(_.a)(t=>this.store.select(g.f.getAllResources).pipe(Object(x.a)(this.store.select(g.f.getLoading)),Object(T.a)(1)).pipe(Object(_.a)(([e,a])=>e.length||a.resources?S.a:Object(c.a)(l.k({teamId:t.teamId}))))))),this.loadAutomationCores$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.k),Object(I.a)(t=>this.automationResourceFacade.fetchResources(t.teamId).pipe(Object(o.a)(t=>t.filter(t=>t)),Object(o.a)(t=>l.m({data:t})),Object(C.a)(t=>Object(c.a)(l.l({error:t}))))))),this.loadAutomationTiles$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.m),Object(_.a)(t=>this.automationResourceFacade.fetchResourceTiles(t.data).pipe(Object(o.a)(t=>l.t({data:t})),Object(C.a)(t=>Object(c.a)(l.s({error:t}))))))),this.loadAutomations$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.p),Object(_.a)(t=>this.automationService.getAutomations(t.parent.id,t.parent.type).pipe(Object(o.a)(({automations:e,shortcuts:a})=>l.q(Object.assign(Object.assign({},t),{automations:e,shortcuts:a}))),Object(C.a)(e=>Object(c.a)(l.o(Object.assign(Object.assign({},t),{error:e})))))))),this.createAutomation$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.e),Object(n.a)(t=>this.automationService.createAutomation(t.parent.id,t.payload,t.parent.type).pipe(Object(o.a)(e=>l.f(Object.assign(Object.assign({},t),{automation:e}))),Object(C.a)(e=>Object(c.a)(l.d(Object.assign(Object.assign({},t),{error:e})))))))),this.updateAutomation$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.B),Object(n.a)(t=>this.automationService.updateAutomation(t.automationId,t.changes).pipe(Object(o.a)(e=>l.C(Object.assign(Object.assign({},t),{automation:e}))),Object(C.a)(e=>Object(c.a)(l.A(Object.assign(Object.assign({},t),{error:e})))))))),this.deleteAutomation$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.h),Object(n.a)(t=>this.automationService.deleteAutomation(t.automationId).pipe(Object(o.a)(e=>l.i(Object.assign({},t))),Object(C.a)(e=>Object(c.a)(l.g(Object.assign(Object.assign({},t),{error:e})))))))),this.setAutomationShortcut$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.y),Object(n.a)(t=>{const e=0===("assignee"===t.payload.shortcut?t.payload.assignees:t.payload.followers).length;return(e?this.automationService.deleteAutomation(t.automationId):this.automationService.createAutomation(t.parent.id,t.payload,t.parent.type)).pipe(Object(o.a)(a=>l.z(Object.assign(Object.assign({},t),{shortcut:e?null:a,shortcutType:t.payload.shortcut}))),Object(C.a)(e=>Object(c.a)(l.x(Object.assign(Object.assign({},t),{error:e})))))}))),this.loadAutomationStatuses=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.u),Object(_.a)(t=>this.automationService.getStatuses(t.parent.type,t.parent.id).pipe(Object(o.a)(e=>l.w({parent:t.parent,statuses:e.statuses})))))),this.loadAutomationStatusesIfNeeded$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.v),Object(_.a)(t=>this.store.select(Object(g.e)(t.parent.id)).pipe(Object(T.a)(1)).pipe(Object(_.a)(e=>e?S.a:Object(c.a)(l.u({parent:t.parent}))))))),this.loadAutomationUsers$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.n),Object(n.a)(t=>this.store.select(Object(j.b)(t.parent.type,t.parent.id)).pipe(Object(T.a)(1)).pipe(Object(_.a)(e=>e?S.a:t.parent.type===O.e.Subcategory?Object(c.a)(new P.ne(t.parent.id)):t.parent.type===O.e.Category?Object(c.a)(new P.Yd(t.parent.id)):t.parent.type===O.e.Project?Object(c.a)(new P.fe(t.parent.id)):t.parent.type===O.e.Task?Object(c.a)(new A.R({taskId:t.parent.id})):void 0))))),this.addTriggerInfomationIfNotExists$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(l.b),Object(_.a)(t=>this.store.select(g.f.getTriggerInfo(t.resourceKey,t.triggerKey)).pipe(Object(T.a)(1),Object(b.a)(t=>!t),Object(D.a)(t))),Object(_.a)(t=>this.automationResourceService.getTriggerInformation(t.teamId,t.resourceKey,t.triggerKey).pipe(Object(o.a)(e=>Object(l.c)({triggerKey:t.triggerKey,triggerInfomation:e}))))))}}return t.\u0275fac=function(e){return new(e||t)(u.nc(v.a),u.nc(h),u.nc(d.b),u.nc(d.c),u.nc(m.Store))},t.\u0275prov=u.Sb({token:t,factory:t.\u0275fac}),t})();var R=a("ofXK"),F=a("K0KF");let M=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[R.c,F.a]]}),t})();var E=a("2Vo4"),U=a("itXk"),L=a("wO+i"),z=a("UXun"),V=a("5pjS"),N=a("IlGD"),q=a("bjes"),B=a("2eDp"),G=a("YwDF"),X=a("8oza"),W=a("c3rA"),H=a("AeD3"),Z=a("vVjD"),Q=a("Ufp6"),K=a("oB/R");const J=function(t,e){return{placeholder:t,useVariables:!0,multiline:e}};function Y(t,e){if(1&t){const t=u.dc();u.ac(0),u.cc(1,"cu-automation-field-value",3),u.qc("valueChange",function(e){return u.Uc(t),u.uc(2).setValue(e)})("mappedValueChange",function(e){return u.Uc(t),u.uc(2).mappedValueChange.emit(e)})("interpolatedInputChange",function(e){return u.Uc(t),u.uc(2).interpolatedInputChange.emit(e)}),u.bc(),u.Zb()}if(2&t){const t=u.uc().ngIf,e=u.uc();u.Ib(1),u.Dc("parentType",e.parentType)("parentId",e.parentId)("value",e.value)("component",t.type===e.CustomFieldType.Date?e.AutomationFieldValueDateComponent:e.AutomationFieldValueTextInputComponent)("isAction",e.isAction)("options",u.Ic(9,J,(null==e.options?null:e.options.placeholder)||e.placeholder||"-",t.type===e.CustomFieldType.LongText))("variables",e.variables)("mappedValue",e.mappedValue)("interpolatedValue",e.interpolatedValue)}}const tt=function(){return[]};function et(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-edit-task-custom-field-value",4),u.qc("fieldValueChange",function(e){return u.Uc(t),u.uc(2).setValue(e)}),u.vc(1,"async"),u.vc(2,"async"),u.vc(3,"async"),u.bc()}if(2&t){const t=u.uc(2);u.Dc("field",u.wc(1,7,t.field$))("fieldValue",u.wc(2,9,t.mappedValue$))("members",u.wc(3,11,t.members$))("allCustomFields",u.Gc(13,tt))("placeholder",(null==t.options?null:t.options.placeholder)||t.placeholder)("updateOn","input")("permanentAttachments",!0)}}function at(t,e){if(1&t&&(u.ac(0),u.bd(1,Y,2,12,"ng-container",1),u.bd(2,et,4,14,"ng-template",null,2,u.cd),u.Zb()),2&t){const t=e.ngIf,a=u.Rc(3),i=u.uc();u.Ib(1),u.Dc("ngIf",(null==i.variables?null:i.variables.length)>0&&t.type===i.CustomFieldType.ShortText||t.type===i.CustomFieldType.LongText||t.type===i.CustomFieldType.Date)("ngIfElse",a)}}function it(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-automation-field-value",7),u.qc("valueChange",function(e){return u.Uc(t),u.uc(2).setValue(e)}),u.bc()}if(2&t){const t=u.uc().ngIf,e=u.uc();u.Dc("parentType",e.parentType)("parentId",e.parentId)("value",e.value)("options",u.Ic(8,J,(null==e.options?null:e.options.placeholder)||e.placeholder||"-",t.type===e.CustomFieldType.LongText))("component",e.AutomationFieldValueDateComponent)("variables",e.variables)("mappedValue",e.mappedValue)("readonly",!0)}}function ot(t,e){if(1&t&&(u.Xb(0,"cu-custom-field",8),u.vc(1,"async"),u.vc(2,"async")),2&t){const t=u.uc(2);u.Dc("field",u.wc(1,3,t.fieldWithValue$))("readOnly",!0)("members",u.wc(2,5,t.members$))}}function nt(t,e){if(1&t&&(u.ac(0),u.bd(1,it,1,11,"cu-automation-field-value",5),u.bd(2,ot,3,7,"cu-custom-field",6),u.Zb()),2&t){const t=e.ngIf,a=u.uc();u.Ib(1),u.Dc("ngIf",t.type===a.CustomFieldType.Date),u.Ib(1),u.Dc("ngIf",t.type!==a.CustomFieldType.Date)}}function st(t,e){1&t&&(u.cc(0,"em"),u.gc(1,9),u.bc())}let ct=(()=>{class t{constructor(t,e,a){this.store=t,this.dataService=e,this.automationActionFacades=a,this.mappedValueChange=new u.o,this.interpolatedInputChange=new u.o,this.valueChange=new u.o,this.parent$=new E.a(null),this.members$=this.parent$.pipe(Object(b.a)(t=>!!t),Object(_.a)(t=>this.store.select(Object(j.a)(t.type,t.id)))),this.field$=new E.a(null),this.value$=new E.a(null),this.mappedValue$=Object(U.a)([this.value$,this.field$]).pipe(Object(_.a)(([t,e])=>{if(e&&t&&t.length>0){if(e.type===G.a.Tasks||e.type===G.a.ListRelationship)return Object(U.a)(t.map(t=>{const e="object"==typeof t?t.id:t;return Object(q.a)(e,this.store,this.dataService).pipe(Object(o.a)(t=>({color:t.status.color,id:t.id,name:t.name,status:t.status.status,access:!0})),Object(C.a)(()=>Object(c.a)({id:e,access:!1})))}));if(e.type===G.a.Attachment){const e=t.map(t=>"object"==typeof t?t.id:t);return this.dataService.getAttachmentsByIds(e).pipe(Object(L.a)("attachments"))}if(e.type===G.a.Users)return this.store.select(W.getTeamUsers).pipe(Object(T.a)(1),Object(o.a)(e=>e.filter(e=>t.includes(e.id))))}return Object(c.a)(t)}),Object(z.a)({refCount:!0,bufferSize:1})),this.fieldWithValue$=Object(U.a)([this.field$,this.mappedValue$]).pipe(Object(o.a)(([t,e])=>{if(t)return Object.assign(Object.assign({},t),{value:e})})),this.CustomFieldType=G.a,this.AutomationFieldValueTextInputComponent=V.a,this.AutomationFieldValueDateComponent=X.a}ngOnInit(){}ngOnChanges(t){if(t.parentId||t.parentType){const t={type:this.parentType,id:this.parentId};this.parent$.next(t),this.automationActionFacades.loadAutomationUsersIfNeeded(t)}if(t.options&&(this.options.customField&&this.field$.next(this.options.customField),this.options.customFieldKey)){const t=this.options.customFieldKey.startsWith("cf_")?this.options.customFieldKey.substring(3):this.options.customFieldKey;this.parent$.pipe(Object(b.a)(t=>!!t),Object(_.a)(t=>this.store.select(Object(B.d)(t.type,t.id))),Object(T.a)(1)).subscribe(e=>this.field$.next(e.find(e=>e.id===t)))}t.value&&this.value$.next(this.value)}setValue(t){this.field$.pipe(Object(T.a)(1)).subscribe(e=>{const a=N.e[e.type];a&&a.isArrayType&&Array.isArray(t)&&t.every(t=>"id"in t)?this.valueChange.emit(t.map(t=>t.id)):this.valueChange.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(m.Store),u.Wb(H.a),u.Wb(k.a))},t.\u0275cmp=u.Qb({type:t,selectors:[["cu-automation-field-value-custom-field"]],hostAttrs:[1,"cu-automation-field-value-custom-field"],inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",placeholder:"placeholder",isAction:"isAction",mappedValue:"mappedValue",interpolatedValue:"interpolatedValue",options:"options",variables:"variables"},outputs:{mappedValueChange:"mappedValueChange",interpolatedInputChange:"interpolatedInputChange",valueChange:"valueChange"},features:[u.Gb],decls:6,vars:9,consts:function(){let t;return t=$localize`:@@cu-automation-field-value-custom-field__unknown-field␟749b7ece3fbeb6bf4df5fddd63d62733490a7e09␟4634362223486766837:Unknown field`,[[4,"ngIf"],[4,"ngIf","ngIfElse"],["nonTextValue",""],[1,"cu-automation-field-value_stretch",3,"parentType","parentId","value","component","isAction","options","variables","mappedValue","interpolatedValue","valueChange","mappedValueChange","interpolatedInputChange"],[3,"field","fieldValue","members","allCustomFields","placeholder","updateOn","permanentAttachments","fieldValueChange"],["class","cu-automation-field-value_stretch",3,"parentType","parentId","value","options","component","variables","mappedValue","readonly","valueChange",4,"ngIf"],[3,"field","readOnly","members",4,"ngIf"],[1,"cu-automation-field-value_stretch",3,"parentType","parentId","value","options","component","variables","mappedValue","readonly","valueChange"],[3,"field","readOnly","members"],t]},template:function(t,e){1&t&&(u.bd(0,at,4,2,"ng-container",0),u.vc(1,"async"),u.bd(2,nt,3,2,"ng-container",0),u.vc(3,"async"),u.bd(4,st,2,0,"em",0),u.vc(5,"async")),2&t&&(u.Dc("ngIf",u.wc(1,3,!e.readonly&&e.field$)),u.Ib(2),u.Dc("ngIf",u.wc(3,5,e.readonly&&e.field$)),u.Ib(2),u.Dc("ngIf",!u.wc(5,7,e.field$)))},directives:[R.q,Z.a,Q.a,K.a],pipes:[R.b],styles:[".cu-automation-field-value-custom-field{min-width:0;display:flex;align-items:center}.cu-automation-field-value-custom-field .datepicker__dates-input-container-inner{height:40px;border-radius:4px;display:flex;align-items:center;padding:0 12px;border:1px solid #e9ebf0!important;background-color:transparent!important;flex-grow:1}.dark-theme .cu-automation-field-value-custom-field .datepicker__dates-input-container-inner{border-color:#1e272e!important}.cu-automation-field-value-custom-field .datepicker__dates-input-container-val{width:100%}.cu-automation-field-value-custom-field .cu-edit-task-custom-field-value__error{bottom:-36px;width:162px}.cu-automation-field-value-custom-field .cu-custom-fields__manual-progress-total{display:none}.cu-automation-field-value-custom-field .cu-custom-field__static{margin-left:0}.cu-automation-field-value-custom-field .cu-edit-task-custom-field-value{width:100%}"],encapsulation:2,changeDetection:0}),t})();var rt=a("KyjD"),lt=a("8873"),ut=a("XNiG"),dt=a("1G5W"),pt=a("O5gs"),mt=a("sgkU"),ht=a("UdVN");function gt(t,e){if(1&t&&u.Xb(0,"span",8),2&t){const t=u.uc(2);u.Fc("icon","field-",t.selectedField.type,"")}}function bt(t,e){1&t&&(u.ac(0),u.gc(1,11),u.Zb())}function ft(t,e){1&t&&(u.ac(0),u.gc(1,12),u.Zb())}function kt(t,e){if(1&t&&(u.cc(0,"em"),u.bd(1,bt,2,0,"ng-container",9),u.bd(2,ft,2,0,"ng-template",null,10,u.cd),u.bc()),2&t){const t=u.Rc(3),e=u.uc(2);u.Ib(1),u.Dc("ngIf",!(null!=e.options&&e.options.isTrigger)||"custom_field"!==e.value.field)("ngIfElse",t)}}const _t=function(t){return{customField:t}};function wt(t,e){if(1&t){const t=u.dc();u.cc(0,"div",1),u.cc(1,"div",2),u.gc(2,13),u.bc(),u.cc(3,"cu-automation-field-value",14),u.qc("valueChange",function(e){return u.Uc(t),u.uc(2).selectFieldValue(e)})("mappedValueChange",function(e){return u.Uc(t),u.uc(2).mappedValueChange.emit({value:e})})("interpolatedInputChange",function(e){return u.Uc(t),u.uc(2).interpolatedInputChange.emit({value:e})}),u.bc(),u.bc()}if(2&t){const t=u.uc(2);u.Ib(3),u.Dc("parentType",t.parentType)("parentId",t.parentId)("value",null==t.value?null:t.value.value)("component",t.AutomationFieldValueCustomFieldComponent)("isAction",t.isAction)("options",u.Hc(9,_t,t.selectedField))("variables",t.variables)("mappedValue",null==t.mappedValue?null:t.mappedValue.value)("interpolatedValue",null==t.interpolatedValue?null:t.interpolatedValue.value)}}function vt(t,e){if(1&t){const t=u.dc();u.ac(0),u.cc(1,"div",1),u.cc(2,"div",2),u.gc(3,3),u.bc(),u.cc(4,"cu-dropdown-list",4),u.qc("onSelect",function(e){return u.Uc(t),u.uc().selectField(e.customPayload)}),u.cc(5,"cu-edit-automation-dropdown"),u.cc(6,"div",5),u.bd(7,gt,1,1,"span",6),u.dd(8),u.bc(),u.bd(9,kt,4,2,"em",0),u.bc(),u.bc(),u.bc(),u.bd(10,wt,4,11,"div",7),u.Zb()}if(2&t){const t=u.uc();u.Ib(4),u.Dc("items",t.customFieldMenuItems)("showSearch",!0)("autoFocusSearch",!0)("handleKeyboard",!0),u.Ib(3),u.Dc("ngIf",t.selectedField),u.Ib(1),u.fd(" ",null==t.selectedField?null:t.selectedField.name," "),u.Ib(1),u.Dc("ngIf",!t.selectedField),u.Ib(1),u.Dc("ngIf",t.selectedField&&!t.noValueOp)}}function yt(t,e){if(1&t){const t=u.dc();u.ac(0),u.cc(1,"div",5),u.dd(2),u.bc(),u.cc(3,"cu-automation-field-value",15),u.qc("valueChange",function(e){return u.Uc(t),u.uc().selectFieldValue(e)}),u.bc(),u.Zb()}if(2&t){const t=u.uc();u.Ib(2),u.fd(" ",null==t.selectedField?null:t.selectedField.name," to "),u.Ib(1),u.Dc("parentType",t.parentType)("parentId",t.parentId)("value",null==t.value?null:t.value.value)("component",t.AutomationFieldValueCustomFieldComponent)("isAction",t.isAction)("options",u.Hc(9,_t,t.selectedField))("readonly",t.readonly)("variables",t.variables)}}function xt(t,e){1&t&&(u.ac(0),u.dd(1," ("),u.ac(2),u.gc(3,16),u.Zb(),u.dd(4,")\n"),u.Zb())}let Tt=(()=>{class t{constructor(t,e){this.store=t,this.cdr=e,this.mappedValueChange=new u.o,this.interpolatedInputChange=new u.o,this.valueChange=new u.o,this.valueInvalid=new u.o,this.parent$=new E.a(null),this.customFields$=this.parent$.pipe(Object(b.a)(t=>!!t),Object(_.a)(t=>this.store.select(Object(B.d)(t.type,t.id)))),this.value$=new E.a(null),this.excludedFieldChange$=new E.a(null),this.AutomationFieldValueCustomFieldComponent=ct,this.destroy$=new ut.a,this._excludedFields=[]}set exludeFields(t){this._excludedFields=t,this.excludedFieldChange$.next(t)}get exludeFields(){return this._excludedFields}get noValueOp(){return["is set","is not set"].includes(this.conditionOp)}get fieldId(){let t;return t=this.key&&"custom_field"!==this.key?this.value&&this.value.field_id&&this.value.field_id||this.key:this.value?this.value.field_id||this.value.field:null,t&&t.startsWith("cf_")?t.replace("cf_",""):t}ngOnInit(){Object(U.a)([this.customFields$.pipe(Object(b.a)(t=>!!t)),this.value$,this.excludedFieldChange$]).pipe(Object(dt.a)(this.destroy$)).subscribe(([t])=>{this.customFieldMenuItems=t.filter(t=>{const e=N.e[t.type];return(!e.automations||e.automations.actions)&&!this.exludeFields.filter(t=>t!==this.fieldId).includes(t.id)}).map(t=>({id:t.id,title:t.name,icon:"field-"+t.type,customPayload:t,selected:this.value&&t.id===this.fieldId})),this.fieldId?(this.selectedField=t.find(t=>this.value&&t.id===this.fieldId),this.selectedField||this.valueInvalid.emit({errorMessage:"Custom field deleted"})):(!this.options||this.options&&!this.options.isTrigger)&&(this.selectedField=t.find(t=>t.id===this.customFieldMenuItems[0].id),this.selectField(this.selectedField)),this.cdr.markForCheck()})}ngOnChanges(t){(t.parentId||t.parentType)&&this.parent$.next({type:this.parentType,id:this.parentId}),t.value&&this.value$.next(this.value)}ngOnDestroy(){this.destroy$.next()}selectField(t){const e="boolean"!==N.e[t.type].filters.queryType&&void 0;this.valueChange.emit(this.options&&this.options.isTrigger?{field:"cf_"+t.id,value:e}:{field_id:t.id,value:e})}selectFieldValue(t){const e=N.e[this.selectedField.type];this.valueChange.emit(this.options&&this.options.isTrigger?{field:"cf_"+(this.fieldId||this.value.field_id),value:"boolean"===e.filters.queryType?Boolean(t):t}:{field_id:this.value.field_id,value:"boolean"===e.filters.queryType?Boolean(t):t})}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(m.Store),u.Wb(u.h))},t.\u0275cmp=u.Qb({type:t,selectors:[["cu-automation-field-value-custom-field-type-and-value"]],hostVars:2,hostBindings:function(t,e){2&t&&u.Ob("cu-automation-field-value-custom-field-type-and-value",!0)},inputs:{parentType:"parentType",parentId:"parentId",conditionOp:"conditionOp",value:"value",readonly:"readonly",options:"options",key:"key",placeholder:"placeholder",variables:"variables",mappedValue:"mappedValue",interpolatedValue:"interpolatedValue",exludeFields:"exludeFields",isAction:"isAction"},outputs:{mappedValueChange:"mappedValueChange",interpolatedInputChange:"interpolatedInputChange",valueChange:"valueChange",valueInvalid:"valueInvalid"},features:[u.Gb],decls:3,vars:3,consts:function(){let t,e,a,i,o;return t=$localize`:@@common_field␟30b77e674d1614a2aef68629547f2b3af664167d␟8053025476566864113: Field `,e=$localize`:@@common_deleted-field␟b7f39398fe6e86602341b02edf704243bb125c30␟5137089475515834162:Deleted field`,a=$localize`:@@cu-automation-field-value-custom-field-type-and-value__select-a-field␟fec1ffdaa4e1966781fa67077ecd50ec7d567063␟3188734229423974938:Select a field`,i=$localize`:@@common_value␟b6a48ff213c8178547714040f6141c8f9191c417␟1626592416739415556: Value `,o=$localize`:@@cu-automation-field-value-custom-field-type-and-value__deleted-cf␟dac6e20002a3e46e89f6f4b839db0301308ac6e3␟4138210294078572180:Custom field was deleted`,[[4,"ngIf"],[1,"cu-edit-automation__container-body-actions-row","cu-edit-automation__container-body-actions-row_multiline-labels"],[1,"cu-edit-automation__container-body-actions-label"],t,[3,"items","showSearch","autoFocusSearch","handleKeyboard","onSelect"],[1,"cu-automation-field-value-custom-field-type-and-value__label"],["class","cu-automation-field-value-custom-field-type-and-value__icon",3,"icon",4,"ngIf"],["class","cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row_multiline-labels",4,"ngIf"],[1,"cu-automation-field-value-custom-field-type-and-value__icon",3,"icon"],[4,"ngIf","ngIfElse"],["selectFieldText",""],e,a,i,[1,"cu-automation-field-value_stretch",3,"parentType","parentId","value","component","isAction","options","variables","mappedValue","interpolatedValue","valueChange","mappedValueChange","interpolatedInputChange"],[3,"parentType","parentId","value","component","isAction","options","readonly","variables","valueChange"],o]},template:function(t,e){1&t&&(u.bd(0,vt,11,8,"ng-container",0),u.bd(1,yt,4,11,"ng-container",0),u.bd(2,xt,5,0,"ng-container",0)),2&t&&(u.Dc("ngIf",!e.readonly),u.Ib(1),u.Dc("ngIf",e.readonly&&e.selectedField),u.Ib(1),u.Dc("ngIf",e.readonly&&!e.selectedField))},directives:[R.q,pt.a,mt.a,ht.a,Z.a],styles:[".cu-automation-field-value-custom-field-type-and-value .cu-edit-automation__container-body-actions-row{padding:6px 0;width:100%}.cu-automation-field-value-custom-field-type-and-value__label{display:flex;align-items:center}.cu-automation-field-value-custom-field-type-and-value__icon{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;fill:#b9bec7;width:16px;height:16px;margin-right:8px}.cu-automation-field-value-custom-field-type-and-value__icon:hover{transition:none;fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-custom-field-type-and-value__icon:hover{fill:var(--theme-main-color)}}.cu-automation-field-value-custom-field-type-and-value__icon-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-custom-field-type-and-value__icon-fill{fill:var(--theme-main-color)}}.cu-edit-automation__container-footer-text .cu-automation-field-value-custom-field-type-and-value{display:flex;align-items:center;flex-direction:row}.cu-automation-tab-manage__item .cu-automation-field-value-custom-field-type-and-value{display:flex;align-items:center}.cu-automation-tab-manage__item .cu-automation-field-value-custom-field-type-and-value .cu-custom-field__static{margin-left:0}"],encapsulation:2,changeDetection:0}),t})();a("6tVf"),a("9esB"),a("mo19");var It=a("x1J0"),Ct=a("jJQC"),Dt=a("7Cbv"),St=a("LdyQ"),Ot=a("MJvn"),jt=a("n+1/"),Pt=a("0Dyw"),At=a("HqON"),$t=a("9gfC"),Rt=a("pxPQ");const Ft=["dropdown"],Mt=["toggle"],Et=function(t){return{customField:t}};function Ut(t,e){if(1&t){const t=u.dc();u.cc(0,"div",7),u.cc(1,"div",8),u.Xb(2,"cu-custom-field-icon",9),u.cc(3,"div",10),u.dd(4),u.bc(),u.bc(),u.cc(5,"cu-automation-field-value",11),u.qc("valueChange",function(a){u.Uc(t);const i=e.$implicit;return u.uc().changeValue(i.id,a)})("mappedValueChange",function(a){u.Uc(t);const i=e.$implicit;return u.uc().changeMappedValue(i.id,a)})("interpolatedInputChange",function(a){u.Uc(t);const i=e.$implicit;return u.uc().changeInterpolatedValue(i.id,a)}),u.bc(),u.cc(6,"div",12),u.qc("click",function(){u.Uc(t);const a=e.$implicit;return u.uc().removeCustomField(a.id)}),u.Xb(7,"div",13),u.bc(),u.bc()}if(2&t){const t=e.$implicit,a=u.uc();u.Ib(2),u.Dc("field",null==t?null:t.customField),u.Ib(2),u.fd(" ",null==t||null==t.customField?null:t.customField.name," "),u.Ib(1),u.Dc("parentType",a.parentType)("parentId",a.parentId)("value",t.value)("isAction",a.isAction)("component",a.AutomationFieldValueCustomFieldComponent)("options",u.Hc(11,Et,t.customField))("variables",a.variables)("mappedValue",t.mappedValue)("interpolatedValue",t.interpolatedValue)}}function Lt(t,e){if(1&t){const t=u.dc();u.cc(0,"div",14),u.qc("click",function(){return u.Uc(t),u.uc().addCustomField()}),u.Xb(1,"div",13),u.ac(2),u.gc(3,15),u.Zb(),u.bc()}}function zt(t,e){if(1&t&&u.Xb(0,"cu-dropdown-list-title",22),2&t){const t=u.uc().$implicit;u.Dc("title",null==t?null:t.title)}}function Vt(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-dropdown-list-item",23),u.qc("onSelect",function(e){return u.Uc(t),u.uc(3).selectField(e.customPayload)}),u.bc()}if(2&t){const t=u.uc().$implicit;u.Dc("item",t)("color",null==t?null:t.color)("ngClass","cu-dropdown-list-item_id-"+t.id),u.Jb("data-id",null==t?null:t.id)}}function Nt(t,e){if(1&t&&(u.cc(0,"div"),u.bd(1,zt,1,1,"cu-dropdown-list-title",20),u.bd(2,Vt,1,4,"cu-dropdown-list-item",21),u.bc()),2&t){const t=e.$implicit,a=u.uc(2);u.Ib(1),u.Dc("ngIf",(null==t?null:t.type)===a.MenuItemType.Header),u.Ib(1),u.Dc("ngIf",!(null!=t&&t.type)||(null==t?null:t.type)===a.MenuItemType.Item)}}function qt(t,e){if(1&t&&(u.cc(0,"div",16),u.cc(1,"cu-search-list",17,18),u.vc(3,"async"),u.bd(4,Nt,3,2,"div",19),u.bc(),u.bc()),2&t){const t=u.Rc(2),e=u.uc();u.Ib(1),u.Dc("items",u.wc(3,6,e.addCustomFieldMenu$))("hideSearchInput",!1)("autoFocus",!0)("modifierSearchInput","cu-dropdown-list__search-input"),u.Ib(3),u.Dc("ngForOf",t.filteredItems)("ngForTrackBy",e.trackByIndex)}}const Bt=["*"];let Gt=(()=>{class t{constructor(t){this.store=t,this.mappedValueChange=new u.o,this.interpolatedInputChange=new u.o,this.valueChange=new u.o,this.valueInvalid=new u.o,this.destroy$=new ut.a,this.internalValueChange$=new E.a(!0),this.parent$=new E.a(null),this.customFields$=this.parent$.pipe(Object(b.a)(t=>!!t),Object(_.a)(t=>this.store.select(Object(B.d)(t.type,t.id)))),this.customFieldMenu$=this.customFields$.pipe(Object(b.a)(t=>!!t),Object(o.a)(t=>t.filter(t=>{const e=N.e[t.type];return!e.automations||e.automations.actions}).map(t=>({id:t.id,title:t.name,icon:"field-"+t.type,customPayload:t})))),this.trackByIndex=Ct.b,this.tackById=Object(Ct.d)("id"),this.MenuItemType=It.a,this.AutomationFieldValueCustomFieldComponent=ct,this.customFieldChange=[]}ngOnInit(){this.customFields$.pipe(Object(T.a)(1)).subscribe(t=>{this.action&&(Object.keys(this.action.inputValues||{}).filter(t=>t.startsWith("cf_")).forEach(e=>{const a=t.find(t=>t.id===e.substring(3));this.customFieldChange.push({id:Object(Dt.a)(),type:"Input",customField:a,field_id:a.id,value:this.action.inputValues[e]})}),Object.keys(this.action.mappedInputValues||{}).filter(t=>t.startsWith("cf_")).forEach(e=>{const a=t.find(t=>t.id===e.substring(3));this.customFieldChange.push({id:Object(Dt.a)(),type:"MappedValue",customField:a,field_id:a.id,mappedValue:this.action.mappedInputValues[e]})}),Object.keys(this.action.interpolatedInput||{}).filter(t=>t.startsWith("cf_")).forEach(e=>{const a=t.find(t=>t.id===e.substring(3));this.customFieldChange.push({id:Object(Dt.a)(),type:"Input",customField:a,field_id:a.id,value:this.action.interpolatedInput[e]})}))}),this.addCustomFieldMenu$=Object(U.a)([this.customFieldMenu$.pipe(Object(b.a)(t=>!!t)),this.internalValueChange$]).pipe(Object(o.a)(([t])=>t),Object(o.a)(t=>t.filter(t=>!this.customFieldChange.map(t=>t.field_id).includes(t.id))))}ngOnChanges(t){(t.parentId||t.parentType)&&this.parent$.next({type:this.parentType,id:this.parentId})}removeCustomField(t){const e=this.customFieldChange.findIndex(e=>e.id===t);this.customFieldChange.splice(e,1)}addCustomField(){this.dropdown.open()}selectField(t){this.dropdown.close(),this.customFieldChange.push({id:Object(Dt.a)(),field_id:t.id,customField:t}),this.internalValueChange$.next(!0)}updateSelectedField(t,e){const a=this.customFieldChange.find(e=>e.id===t);a&&(a.field_id=e.id,a.customField=e,this.internalValueChange$.next(!0))}changeValue(t,e){const a=this.customFieldChange.find(e=>e.id===t);a&&(a.type="Input",a.value=e),this.emitChange()}changeMappedValue(t,e){const a=this.customFieldChange.find(e=>e.id===t);a&&(a.type="MappedValue",a.value=e),this.emitChange()}changeInterpolatedValue(t,e){const a=this.customFieldChange.find(e=>e.id===t);a&&(a.type="InterpolatedValue",a.value=e),this.emitChange()}emitChange(){const t=this.customFieldChange.reduce((t,e)=>Object.assign(Object.assign({},t),{[e.field_id.startsWith("cf_")?e.field_id:"cf_"+e.field_id]:{value:e.value,type:e.type}}),{});this.valueChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(m.Store))},t.\u0275cmp=u.Qb({type:t,selectors:[["cu-automation-field-value-add-custom-field"]],viewQuery:function(t,e){if(1&t&&(u.jd(Ft,3),u.jd(Mt,3)),2&t){let t;u.Qc(t=u.rc())&&(e.dropdown=t.first),u.Qc(t=u.rc())&&(e.toggle=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&u.Ob("cu-automation-field-value-add-custom-field",!0)},inputs:{action:"action",parentType:"parentType",parentId:"parentId",value:"value",key:"key",readonly:"readonly",options:"options",placeholder:"placeholder",variables:"variables",mappedValue:"mappedValue",interpolatedValue:"interpolatedValue",isAction:"isAction"},outputs:{mappedValueChange:"mappedValueChange",interpolatedInputChange:"interpolatedInputChange",valueChange:"valueChange",valueInvalid:"valueInvalid"},features:[u.Gb],ngContentSelectors:Bt,decls:9,vars:6,consts:function(){let t;return t=$localize`:@@cu-automation-field-value-add-custom-field__btn-txt_add-existing-cf␟b7e979bebad39fe1e6b6c13fedbdd9e41da334d5␟4973207160604458470:Add existing Custom Field`,[["class","cu-automation-field-value-add-custom-field__value",4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-automation-field-value-add-custom-field__add",3,"click",4,"ngIf"],["cuDropdown","",1,"cu-dropdown",3,"dropdownCloseOnInsideClick"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["toggle",""],["class","cu-dropdown__menu cu-automation-field-value-add-custom-field__add-menu",4,"cuDropdownMenu"],[1,"cu-automation-field-value-add-custom-field__value"],[1,"cu-automation-field-value-add-custom-field__label"],["modifier","cu-custom-fields__list-item-icon",3,"field"],[1,"cu-automation-field-value-add-custom-field__label-text"],[1,"cu-automation-field-value_stretch",3,"parentType","parentId","value","isAction","component","options","variables","mappedValue","interpolatedValue","valueChange","mappedValueChange","interpolatedInputChange"],[1,"cu-automation-field-value-add-custom-field__remove",3,"click"],["icon","cu2-plus"],[1,"cu-automation-field-value-add-custom-field__add",3,"click"],t,[1,"cu-dropdown__menu","cu-automation-field-value-add-custom-field__add-menu"],[3,"items","hideSearchInput","autoFocus","modifierSearchInput"],["labelSearchList",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"title",4,"ngIf"],["containerClass","popover_white popover_no-max-width popover_no-padding","triggers","","container","body",3,"item","color","ngClass","onSelect",4,"ngIf"],[3,"title"],["containerClass","popover_white popover_no-max-width popover_no-padding","triggers","","container","body",3,"item","color","ngClass","onSelect"]]},template:function(t,e){if(1&t&&(u.Cc(),u.bd(0,Ut,8,13,"div",0),u.bd(1,Lt,4,0,"div",1),u.vc(2,"async"),u.cc(3,"div",2,3),u.cc(5,"div",4,5),u.Bc(7),u.bc(),u.bd(8,qt,5,8,"div",6),u.bc()),2&t){let t=null;u.Dc("ngForOf",e.customFieldChange)("ngForTrackBy",e.tackById),u.Ib(1),u.Dc("ngIf",(null==(t=u.wc(2,4,e.customFieldMenu$))?null:t.length)>e.customFieldChange.length),u.Ib(2),u.Dc("dropdownCloseOnInsideClick",!1)}},directives:[R.p,R.q,St.b,Ot.a,jt.a,Pt.a,Z.a,ht.a,At.a,$t.a,Rt.a,R.o],pipes:[R.b],styles:['.cu-automation-field-value-add-custom-field{min-width:0}.cu-automation-field-value-add-custom-field__value{display:flex;position:relative;margin-bottom:5px}.cu-automation-field-value-add-custom-field__value:hover .cu-automation-field-value-add-custom-field__remove{display:block}.cu-automation-field-value-add-custom-field__add,.cu-automation-field-value-add-custom-field__remove{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:11px;display:flex;align-items:center;cursor:pointer;position:relative;z-index:1;color:#b9bec7}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-add-custom-field__add,.cu-automation-field-value-add-custom-field__remove{font-family:var(--global-font-support)}}.dark-theme .cu-automation-field-value-add-custom-field__add,.dark-theme .cu-automation-field-value-add-custom-field__remove{color:#979797}.cu-automation-field-value-add-custom-field__add .icon,.cu-automation-field-value-add-custom-field__remove .icon{transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:50%;height:16px;width:16px;margin-right:5px;padding:3px;fill:#fff;background-color:#b9bec7}.dark-theme .cu-automation-field-value-add-custom-field__add .icon,.dark-theme .cu-automation-field-value-add-custom-field__remove .icon{background-color:#979797}.cu-automation-field-value-add-custom-field__add:hover,.cu-automation-field-value-add-custom-field__remove:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-add-custom-field__add:hover,.cu-automation-field-value-add-custom-field__remove:hover{color:var(--theme-main-color)}}.cu-automation-field-value-add-custom-field__add:hover .icon,.cu-automation-field-value-add-custom-field__remove:hover .icon{background-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-add-custom-field__add:hover .icon,.cu-automation-field-value-add-custom-field__remove:hover .icon{background-color:var(--theme-main-color)}}.cu-automation-field-value-add-custom-field__value+.cu-automation-field-value-add-custom-field__add{margin-top:15px}.cu-automation-field-value-add-custom-field__add-menu{width:200px}.cu-automation-field-value-add-custom-field__remove{display:none;margin-left:5px;position:absolute;right:-12px;top:12px}.cu-automation-field-value-add-custom-field__remove .icon{transform:rotate(45deg)}.cu-automation-field-value-add-custom-field__label{display:flex;align-items:center;height:40px;width:60px;margin-right:10px}.cu-automation-field-value-add-custom-field__label-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;flex-grow:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-add-custom-field__label-text{font-family:var(--global-font-support)}}.dark-theme .cu-automation-field-value-add-custom-field__label-text{color:#d5d6d7}.cu-automation-field-value-add-custom-field .cu-automation-field-value_stretch.cu-automation-field-value{margin-right:15px}'],encapsulation:2,changeDetection:0}),t})();var Xt=a("VBI8"),Wt=a("csDc"),Ht=a("0e3U"),Zt=a("0r45"),Qt=a("1M0N"),Kt=a("+iQC"),Jt=a("GtmI"),Yt=a("aVmG"),te=a("X5rV"),ee=a("vi4T"),ae=a("a5Nn"),ie=a("dzSB"),oe=a("m5eJ"),ne=a("X8So"),se=a("Ox28");let ce=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[R.c,se.b]]}),t})();var re=a("XZJ2"),le=a("hWeV"),ue=a("mcWp"),de=a("je31"),pe=a("WX5r"),me=a("3Pt+"),he=a("8UY1"),ge=a("Dlfn"),be=a("Jdc8"),fe=a("o/e2"),ke=a("IRoT"),_e=(a("4UZP"),a("DU6r")),we=a("oWS0"),ve=a("p/+J");a("sVzW"),a("hl9Q"),a("XoGK");let ye=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[R.c,se.b]]}),t})(),xe=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)}}),t})();var Te=a("gb9A");a("O+Lq");let Ie=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[R.c,se.b,ce,M,he.b,me.l,me.x,m.StoreModule,Xt.a,Wt.a,Ht.a,Zt.a,Qt.a,Kt.a,Jt.a,Yt.a,te.a,ee.a,rt.a,lt.a,ae.a,ie.a,oe.a,ne.a,re.b,le.b,ue.a,de.a,pe.a,ge.a,be.a,fe.a,ke.a,F.a,ye,xe,Te.a]]}),t})();var Ce=a("pd24"),De=a("0v7y"),Se=a("5NnS"),Oe=a("C8uC");let je=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[he.b,me.l,me.x,R.c,Ie,m.StoreModule,Xt.a,Wt.a,Ht.a,Zt.a,Qt.a,Kt.a,M,Jt.a,Yt.a,te.a,ee.a,rt.a,lt.a,ae.a,ie.a,oe.a,ne.a,ce,re.b,le.b,ue.a,de.a,pe.a,ge.a,be.a,fe.a,ke.a,F.a,Oe.LoaderModule]]}),t})();u.Yc(Ce.a,[R.p,ve.a,ht.a],[]),u.Yc(De.a,[ve.a],[]);var Pe=a("O8wx");let Ae=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},providers:[],imports:[[R.c,Pe.a]]}),t})(),$e=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[R.c,se.b,je,Ie,xe,F.a]]}),t})(),Re=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},providers:[],imports:[[R.c,oe.a,ne.a]]}),t})(),Fe=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},imports:[[se.b,R.c]]}),t})(),Me=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(e){return new(e||t)},providers:[h,f,p.a,k.a,w],imports:[[m.StoreModule.forFeature(y.a,y.b),v.b.forFeature([$]),M,Ie,je,ye,xe,Ae,$e,Re,Fe]]}),t})();a("9ZxZ"),a("AXMG"),a("gEZv");var Ee=a("wa4x"),Ue=a("RwZa"),Le=a("o0vL"),ze=a("RgJC"),Ve=a("gSwD");function Ne(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-comment-bar",2),u.qc("onCommentChange",function(e){return u.Uc(t),u.uc().onCommentChange(e)}),u.vc(1,"async"),u.vc(2,"async"),u.bc()}if(2&t){const t=u.uc();u.Dc("content",t.valueBaseOnOption)("id","automation")("placeholder",t.options.placeholder||"")("saveDraft",!1)("allowAttachments",!1)("allowScreenRecording",!1)("projectMembers",u.wc(1,15,t.members$))("userGroups",u.wc(2,17,t.userGroups$))("showCommentButton",!1)("assignedComments",null==t.options||!t.options.forEmail)("allowMentionSelf",!1)("taskUserGroups",t.taskUserGroups)("allowEmailFeature",null==t.options?null:t.options.forEmail)("canManageEmail",null==t.options?null:t.options.forEmail)("commentMode",t.commentMode)}}function qe(t,e){if(1&t&&(u.Xb(0,"span",3),u.vc(1,"deltaHtml"),u.vc(2,"async")),2&t){const t=u.uc();u.Dc("innerHtml",u.yc(1,1,t.valueBaseOnOption,null,u.wc(2,5,t.user$)),u.Vc)}}let Be=(()=>{class t{constructor(t,e){this.store=t,this.automationActionFacades=e,this.valueChange=new u.o,this.parent$=new E.a(null),this.members$=this.parent$.pipe(Object(b.a)(t=>!!t),Object(_.a)(t=>this.store.select(Object(j.a)(t.type,t.id)))),this.user$=this.store.select(W.getUser),this.userGroups$=this.store.select(Ee.c),this.taskUserGroups=Ue.c,this.commentMode=Le.b.Comment}get valueBaseOnOption(){var t;return this.options.forEmail?this.value:null===(t=this.value)||void 0===t?void 0:t.comment}ngOnInit(){}ngOnChanges(t){var e;if(t.parentId||t.parentType){const t={type:this.parentType,id:this.parentId};this.parent$.next(t),this.automationActionFacades.loadAutomationUsersIfNeeded(t)}(null===(e=this.options)||void 0===e?void 0:e.forEmail)&&(this.commentMode=Le.b.Email)}onCommentChange(t){var e,a;this.valueChange.emit(this.options.forEmail?t.content:{comment:t.content,assignee:null===(e=t.assignee)||void 0===e?void 0:e.id,group_assignee:null===(a=t.groupAssignee)||void 0===a?void 0:a.id})}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(m.Store),u.Wb(k.a))},t.\u0275cmp=u.Qb({type:t,selectors:[["cu-automation-field-value-comment"]],hostVars:2,hostBindings:function(t,e){2&t&&u.Ob("cu-automation-field-value-comment",!0)},inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",options:"options"},outputs:{valueChange:"valueChange"},features:[u.Gb],decls:2,vars:2,consts:[[3,"content","id","placeholder","saveDraft","allowAttachments","allowScreenRecording","projectMembers","userGroups","showCommentButton","assignedComments","allowMentionSelf","taskUserGroups","allowEmailFeature","canManageEmail","commentMode","onCommentChange",4,"ngIf"],[3,"innerHtml",4,"ngIf"],[3,"content","id","placeholder","saveDraft","allowAttachments","allowScreenRecording","projectMembers","userGroups","showCommentButton","assignedComments","allowMentionSelf","taskUserGroups","allowEmailFeature","canManageEmail","commentMode","onCommentChange"],[3,"innerHtml"]],template:function(t,e){1&t&&(u.bd(0,Ne,3,19,"cu-comment-bar",0),u.bd(1,qe,3,7,"span",1)),2&t&&(u.Dc("ngIf",!e.readonly),u.Ib(1),u.Dc("ngIf",e.readonly))},directives:[R.q,ze.a],pipes:[R.b,Ve.a],styles:[".cu-automation-field-value-comment{margin:-12px;width:350px;max-width:100%}.cu-automation-field-value-comment .cu-comment-bar{width:100%}.cu-automation-field-value-comment .cu-comment-bar:before{display:none}.cu-automation-field-value-comment .task-mention-list{width:auto!important}.cu-automation-label_summary .cu-automation-field-value-comment,.cu-automation-tab-manage__item .cu-automation-field-value-comment{width:auto}"],encapsulation:2,changeDetection:0}),t})();a("aeas"),a("xnrs"),a("Cpv+"),a("I/Mc")},Wbfg:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("pLZG"),o=a("lJxs"),n=a("2Vo4"),s=a("itXk"),c=a("fXoL"),r=a("W//M"),l=a("GwhI"),u=a("ofXK");const d=["dropdown"];let p=(()=>{class t{constructor(){this.noEmit=!1,this.dontShowRollup=!1,this.rollup=!1,this.hideIfFull=!1,this.header=!0,this.hideIfEmpty=!1,this.modifier="",this.limitedEdit=!1,this.timeEstimatesTooltip=$localize`:@@common_estimate-task:Estimate task`,this.task$=new n.a(null),this.team$=new n.a(null),this.timeEstimateData$=new n.a(null),this.timeEstimateTaskData$=Object(s.a)([this.task$,this.timeEstimateData$]).pipe(Object(i.a)(([t,e])=>!!t),Object(o.a)(([t,e])=>({task:t,data:e}))),this.totalTimeEstimate$=this.timeEstimateTaskData$.pipe(Object(o.a)(({task:t,data:e})=>e&&e.hasOwnProperty("time_estimate")?+e.time_estimate:+t.time_estimate)),this.individualTimeEstimate$=this.timeEstimateTaskData$.pipe(Object(o.a)(({task:t})=>{if(!this.showIndiviudalEstimates)return null;const e=(t.time_estimates_by_user||[]).find(t=>t.user.id===this.showIndiviudalEstimates.id);return{userData:e,time:e&&e.time}})),this.timeEstimate$=Object(s.a)([this.totalTimeEstimate$,this.individualTimeEstimate$]).pipe(Object(o.a)(([t,e])=>this.showIndiviudalEstimates&&e&&e.userData?e.time:t)),this.totalRolledUpEstimate$=Object(s.a)([this.timeEstimateTaskData$,this.team$]).pipe(Object(o.a)(([{task:t,data:e},a])=>a&&a.time_estimate_rollup?e&&e.hasOwnProperty("rolled_up_time_estimate")?+e.rolled_up_time_estimate:+t.rolled_up_time_estimate:null)),this.individualRolledUpEstimate$=this.timeEstimateTaskData$.pipe(Object(o.a)(({task:t})=>{if(!this.showIndiviudalEstimates)return null;const e=(t.time_estimates_by_user||[]).find(t=>t.user.id===this.showIndiviudalEstimates.id);return{userData:e,time:e&&e.rolled_up_time_estimate}})),this.rolledUpEstimate$=Object(s.a)([this.totalRolledUpEstimate$,this.individualRolledUpEstimate$]).pipe(Object(o.a)(([t,e])=>this.showIndiviudalEstimates&&e&&e.userData?e.time:t)),this.assignees$=Object(s.a)([this.timeEstimateTaskData$,this.team$]).pipe(Object(i.a)(([{data:t},e])=>t&&t.users&&e&&e.estimates_per_assignee),Object(o.a)(([{data:t},e])=>Object.entries(t.users).map(([t,e])=>e))),this.onTimeEstimateAction=new c.o,this.onClose=new c.o,this.onOpen=new c.o}ngOnInit(){}ngOnChanges(t){(t.task||t.timeEstimateData)&&(this.task$.next(this.task),this.timeEstimateData$.next(this.timeEstimateData)),t.team&&this.team$.next(this.team)}open(){this.dropdown.open()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Qb({type:t,selectors:[["cu-task-time-estimates"]],viewQuery:function(t,e){if(1&t&&c.jd(d,3),2&t){let t;c.Qc(t=c.rc())&&(e.dropdown=t.first)}},inputs:{task:"task",permissions:"permissions",team:"team",user:"user",noEmit:"noEmit",dontShowRollup:"dontShowRollup",rollup:"rollup",hideIfFull:"hideIfFull",header:"header",hideIfEmpty:"hideIfEmpty",timeEstimateData:"timeEstimateData",modifier:"modifier",limitedEdit:"limitedEdit",timeEstimatesTooltip:"timeEstimatesTooltip",showIndiviudalEstimates:"showIndiviudalEstimates"},outputs:{onTimeEstimateAction:"onTimeEstimateAction",onClose:"onClose",onOpen:"onOpen"},features:[c.Gb],decls:10,vars:34,consts:[[3,"task","noEmit","timeEstimate","rolledUpEstimate","team","user","assignees","readonly","onTimeEstimateAction","onClose","onOpen"],["dropdown",""],[3,"timeEstimate","allowRemove","modifier","rolledUpEstimate","task","header","hideIfFull","hideIfEmpty","timeEstimatesTooltip","canEdit","team","dontShowRollup","onTimeEstimateAction"]],template:function(t,e){1&t&&(c.cc(0,"cu-time-estimate-dropdown",0,1),c.qc("onTimeEstimateAction",function(t){return e.onTimeEstimateAction.emit(t)})("onClose",function(){return e.onClose.emit()})("onOpen",function(){return e.onOpen.emit()}),c.vc(2,"async"),c.vc(3,"async"),c.vc(4,"async"),c.cc(5,"time-estimates-view",2),c.qc("onTimeEstimateAction",function(t){return e.onTimeEstimateAction.emit(t)}),c.vc(6,"async"),c.vc(7,"async"),c.vc(8,"async"),c.vc(9,"async"),c.bc(),c.bc()),2&t&&(c.Dc("task",e.task)("noEmit",e.noEmit)("timeEstimate",c.wc(2,20,e.totalTimeEstimate$))("rolledUpEstimate",c.wc(3,22,e.totalRolledUpEstimate$))("team",e.team)("user",e.user)("assignees",c.wc(4,24,e.assignees$))("readonly",!(null!=e.permissions&&e.permissions.change_time_estimate)),c.Ib(5),c.Dc("timeEstimate",c.wc(6,26,e.timeEstimate$))("allowRemove",e.dontShowRollup||(null==e.task?null:e.task.parent)||!e.rollup||c.wc(7,28,e.rolledUpEstimate$)===c.wc(8,30,e.timeEstimate$))("modifier",e.modifier)("rolledUpEstimate",c.wc(9,32,e.rolledUpEstimate$))("task",e.task)("header",e.header)("hideIfFull",e.hideIfFull)("hideIfEmpty",e.hideIfEmpty)("timeEstimatesTooltip",e.timeEstimatesTooltip)("canEdit",!e.limitedEdit&&(null==e.permissions?null:e.permissions.change_time_estimate))("team",e.team)("dontShowRollup",e.dontShowRollup))},directives:[r.a,l.a],pipes:[u.b],styles:[""],changeDetection:0}),t})()},"XZ1/":function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("GtmI"),o=a("1M0N"),n=a("ofXK"),s=a("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(e){return new(e||t)},imports:[[n.c,o.a,i.a]]}),t})()},XoGK:function(t,e,a){"use strict";a.d(e,"a",function(){return f});var i=a("fXoL"),o=a("VrOs"),n=a("AXMG"),s=a("ofXK"),c=a("vVjD");function r(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(t.conditionBefore.label)}}function l(t,e){if(1&t&&(i.cc(0,"div",7),i.bd(1,r,2,1,"ng-container",8),i.dd(2,": "),i.bc()),2&t){const t=i.uc(2),e=i.Rc(4);i.Ib(1),i.Dc("ngIf",t.conditionBefore.label)("ngIfElse",e)}}const u=function(){return{}};function d(t,e){if(1&t){const t=i.dc();i.cc(0,"div",4),i.bd(1,l,3,2,"div",5),i.cc(2,"cu-automation-field-value",6),i.qc("valueChange",function(e){return i.Uc(t),i.uc().changeBeforeValue(e)})("valueInvalid",function(e){return i.Uc(t),i.uc().valueInvalid.emit(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",(!t.readOnly||t.readOnly&&t.conditionBefore&&t.conditionBeforeValue)&&!t.conditionBefore.hideLabel),i.Ib(1),i.Dc("parentType",t.parentType)("parentId",t.parentId)("value",t.conditionBeforeValue)("component",t.conditionBefore.component)("forSummary",t.readOnly)("options",t.conditionBefore.componentOptions||i.Gc(9,u))("placeholder",t.conditionBefore.label)("readonly",t.readOnly)}}function p(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(t.conditionAfter.label)}}function m(t,e){if(1&t&&(i.cc(0,"div",7),i.bd(1,p,2,1,"ng-container",8),i.dd(2,": "),i.bc()),2&t){const t=i.uc(2),e=i.Rc(6);i.Ib(1),i.Dc("ngIf",t.conditionAfter.label)("ngIfElse",e)}}function h(t,e){if(1&t){const t=i.dc();i.cc(0,"div",4),i.bd(1,m,3,2,"div",5),i.cc(2,"cu-automation-field-value",9),i.qc("valueChange",function(e){return i.Uc(t),i.uc().changeAfterValue(e)})("valueInvalid",function(e){return i.Uc(t),i.uc().valueInvalid.emit(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",(!t.readOnly||t.readOnly&&t.conditionAfter&&t.conditionAfterValue)&&!t.conditionAfter.hideLabel),i.Ib(1),i.Dc("parentType",t.parentType)("parentId",t.parentId)("value",t.conditionAfterValue)("component",t.conditionAfter.component)("readonly",t.readOnly)("forSummary",t.readOnly)("options",t.conditionAfter.componentOptions||i.Gc(9,u))("placeholder",t.conditionAfter.label)}}function g(t,e){1&t&&(i.ac(0),i.gc(1,10),i.Zb())}function b(t,e){1&t&&(i.ac(0),i.gc(1,11),i.Zb())}let f=(()=>{class t{constructor(t){this.automationStrategies=t,this.readOnly=!1,this.overrideType=new i.o,this.triggerStateCondition=new i.o,this.valueInvalid=new i.o}get beforeKey(){return this.conditionBefore.automationTriggerValueKey||"before"}get afterKey(){return this.conditionAfter.automationTriggerValueKey||"after"}ngOnChanges(t){if(this.getStateComponent(),t.values){if(this.conditionBefore){const t=this.values.find(t=>t[this.beforeKey]);this.conditionBeforeValue=t?t[this.beforeKey]:""}if(this.conditionAfter){const t=this.values.find(t=>t[this.afterKey]);this.conditionAfterValue=t?t[this.afterKey]:""}}}changeBeforeValue(t){const e=this.beforeKey;this.triggerStateCondition.emit([...this.values.filter(t=>!(e in t)),{[e]:t}])}changeAfterValue(t){const e=this.afterKey;this.triggerStateCondition.emit([...this.values.filter(t=>!(e in t)),{[e]:t}])}changingType(t){this.triggerStateCondition.emit([...this.values.filter(t=>!(this.conditionBefore&&this.beforeKey in t||this.conditionAfter&&this.afterKey in t))]),this.overrideType.emit(t)}getStateComponent(){const t=this.automationStrategies.getStrategy(this.resource.key);this.specialComponent=t.triggerSpecialConditions?t.triggerSpecialConditions(this.condition.key):null,this.condition&&(t&&t.triggerConditions?(this.condition.types.includes("before")&&(this.conditionBefore=t.triggerConditions(this.condition.key,"before",this.trigger.triggerTypeOverride,this.parentId,this.parentType)),this.condition.types.includes("after")&&(this.conditionAfter=t.triggerConditions(this.condition.key,"after",this.trigger.triggerTypeOverride,this.parentId,this.parentType))):(this.condition.types.includes("before")&&(this.conditionBefore=null),this.condition.types.includes("after")&&(this.conditionAfter=null)))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.d))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-schema-automation-trigger-state-condition"]],inputs:{condition:"condition",trigger:"trigger",resource:"resource",readOnly:"readOnly",parentType:"parentType",parentId:"parentId",values:"values"},outputs:{overrideType:"overrideType",triggerStateCondition:"triggerStateCondition",valueInvalid:"valueInvalid"},features:[i.Gb],decls:7,vars:10,consts:function(){let t,e;return t=$localize`:@@common_from␟d5e0dbc9fd4651759df915cdc6ba26fe3f17475f␟5203279511751768967:From`,e=$localize`:@@common_to␟63c9c3aa536dbd11120ae8feab62186c47838028␟1640609344969975994:To`,[[3,"trigger","resource","parentType","parentId","condition","component","readOnly","forSummary","overrideType"],["class","cu-edit-automation__container-body-actions-row",4,"ngIf"],["fromTmpl",""],["toTmpl",""],[1,"cu-edit-automation__container-body-actions-row"],["class","cu-edit-automation__container-body-actions-label",4,"ngIf"],[1,"cu-automation-field-value_stretch",3,"parentType","parentId","value","component","forSummary","options","placeholder","readonly","valueChange","valueInvalid"],[1,"cu-edit-automation__container-body-actions-label"],[4,"ngIf","ngIfElse"],[1,"cu-automation-field-value_stretch",3,"parentType","parentId","value","component","readonly","forSummary","options","placeholder","valueChange","valueInvalid"],t,e]},template:function(t,e){1&t&&(i.cc(0,"cu-automation-trigger-special-condition",0),i.qc("overrideType",function(t){return e.changingType(t)}),i.bc(),i.bd(1,d,3,10,"div",1),i.bd(2,h,3,10,"div",1),i.bd(3,g,2,0,"ng-template",null,2,i.cd),i.bd(5,b,2,0,"ng-template",null,3,i.cd)),2&t&&(i.Dc("trigger",e.trigger)("resource",e.resource)("parentType",e.parentType)("parentId",e.parentId)("condition",e.condition)("component",e.specialComponent)("readOnly",e.readOnly)("forSummary",e.readOnly),i.Ib(1),i.Dc("ngIf",e.conditionBefore),i.Ib(1),i.Dc("ngIf",e.conditionAfter))},directives:[n.a,s.q,c.a],encapsulation:2,changeDetection:0}),t})()},YEAa:function(t,e,a){"use strict";a.d(e,"a",function(){return F});var i=a("ofXK"),o=a("uyEL"),n=a("FYty"),s=a("Mbp0"),c=a("KyjD"),r=a("K0KF"),l=a("1M0N"),u=a("mcWp"),d=a("5+WD"),p=a("/qmH"),m=a("gb9A"),h=a("3Pt+"),g=a("bFKe"),b=a("EDFS"),f=a("bx+h"),k=a("Fj0M"),_=a("sdT0"),w=a("V6/z"),v=a("c3PJ"),y=a("y71m"),x=a("x52m"),T=a("fXoL"),I=a("LdyQ"),C=a("MJvn"),D=a("n+1/"),S=a("CRYS"),O=a("O5gs"),j=a("SA+E"),P=a("UdVN"),A=a("NsZK"),$=a("vUZO"),R=a("sl2P");let F=(()=>{class t{}return t.\u0275mod=T.Ub({type:t}),t.\u0275inj=T.Tb({factory:function(e){return new(e||t)},imports:[[i.c,h.l,d.f,p.b,g.b,b.d,c.a,r.a,l.a,u.a,m.a,f.a,k.CreateCustomFieldFormModule,_.a,w.a,y.a,x.a]]}),t})();T.Yc(o.b,[i.q,I.b,C.a,D.a,S.a,v.a,O.a,j.a,i.o,P.a,A.a,d.d,i.p,d.a,d.b],[$.a]),T.Yc(n.a,[P.a,i.t,i.q,i.x,A.a,O.a,o.b,d.d,i.p,p.a,d.a,p.c,s.a],[R.a,i.h,i.b])},YaTN:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("Yh3q"),o=a("HF2H"),n=a("6cX2"),s=a("xP81"),c=a("XZ1/"),r=a("ofXK"),l=a("K0KF"),u=a("gb9A"),d=a("fXoL");let p=(()=>{class t{}return t.\u0275mod=d.Ub({type:t}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},imports:[[r.c,c.a,s.a,n.a,l.a,o.a,u.a,i.a]]}),t})()},Yh3q:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("HiD6"),o=a("3Pt+"),n=a("K0KF"),s=a("X5rV"),c=a("ofXK"),r=a("fXoL");let l=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[c.c,s.a,n.a,o.l,i.a]]}),t})()},Yj50:function(t,e,a){"use strict";a.d(e,"a",function(){return U});var i=a("fXoL"),o=a("ujc1"),n=a("m91o"),s=a("jJQC"),c=a("DeYq"),r=a("TqRa"),l=a("l7P3"),u=a("jJW4"),d=a("G2WA"),p=a("5EAn"),m=a("ofXK"),h=a("LRxH"),g=a("UdVN"),b=a("7Jxm");let f=(()=>{class t{constructor(t){this.element=t,this.lineWidth=2,this.mainColor="#7b68ee",this.bgColor="#f1f1f1",this.progressColor=null}get setValue(){return this.drawProgress()}ngOnInit(){this.canvas=this.element.nativeElement,this.ctx=this.canvas.getContext("2d"),this.canvasWidth=this.canvas.offsetWidth,this.canvasHeight=this.canvas.offsetHeight}drawProgress(){const t=this.canvasWidth/2,e=this.canvasWidth/2,a=this.canvasWidth/2-this.lineWidth;if(a<0)return;const i=(this.value/100*Math.PI*2*10).toFixed(2),o=parseFloat(i)/10+4.72;this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.lineWidth=this.lineWidth,this.ctx.beginPath(),this.ctx.strokeStyle=this.bgColor,this.ctx.arc(t,e,a,0,2*Math.PI),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.strokeStyle=this.progressColor?this.progressColor:this.mainColor,this.ctx.arc(t,e,a,4.72,o),this.ctx.stroke()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.m))},t.\u0275dir=i.Rb({type:t,selectors:[["","cuProgressCircle",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Jb("value",e.setValue)},inputs:{progressColor:"progressColor",value:"value"}}),t})();var k=a("tyNb"),_=a("wkNx");const w=["fileInput"];function v(t,e){if(1&t&&i.Xb(0,"canvas",26),2&t){const t=i.uc().$implicit;i.Dc("value",t.loadPercent)}}function y(t,e){1&t&&i.Xb(0,"div",27)}function x(t,e){1&t&&i.Xb(0,"div",28)}function T(t,e){1&t&&i.Xb(0,"div",29)}function I(t,e){1&t&&(i.cc(0,"span"),i.ac(1),i.gc(2,31),i.Zb(),i.dd(3,":"),i.bc())}function C(t,e){1&t&&(i.cc(0,"span"),i.ac(1),i.gc(2,32),i.Zb(),i.dd(3,":"),i.bc())}function D(t,e){1&t&&(i.cc(0,"span"),i.ac(1),i.gc(2,33),i.Zb(),i.dd(3,":"),i.bc())}function S(t,e){1&t&&(i.cc(0,"span"),i.ac(1),i.gc(2,34),i.Zb(),i.dd(3,":"),i.bc())}function O(t,e){if(1&t&&(i.cc(0,"span",30),i.dd(1),i.vc(2,"filesize"),i.bc()),2&t){const t=i.uc(2).$implicit;i.Ib(1),i.fd("(",i.wc(2,1,t.size),")")}}function j(t,e){if(1&t&&(i.cc(0,"div",30),i.bd(1,I,4,0,"span",1),i.bd(2,C,4,0,"span",1),i.bd(3,D,4,0,"span",1),i.bd(4,S,4,0,"span",1),i.cc(5,"span",30),i.dd(6),i.bc(),i.bd(7,O,3,3,"span",22),i.bc()),2&t){const t=i.uc().$implicit,e=i.uc(2);i.Ib(1),i.Dc("ngIf",null==t.loadStatus?null:t.loadStatus.error),i.Ib(1),i.Dc("ngIf",(null==t.loadStatus?null:t.loadStatus.retry)&&!(null!=t.loadStatus&&t.loadStatus.error)),i.Ib(1),i.Dc("ngIf",t.validateTypeError),i.Ib(1),i.Dc("ngIf",t.validateSizeError),i.Ib(2),i.ed(t.name),i.Ib(1),i.Dc("ngIf",!e.allOptions.hideFileSize)}}function P(t,e){1&t&&(i.ac(0),i.mc(1,35),i.Xb(2,"div"),i.jc(),i.Zb())}function A(t,e){if(1&t){const t=i.dc();i.ac(0),i.mc(1,36),i.cc(2,"a",37),i.qc("click",function(){return i.Uc(t),i.uc(4).closeTask()}),i.bc(),i.jc(),i.Zb()}if(2&t){const t=i.uc(4);i.Ib(2),i.Dc("routerLink",t.link)}}function $(t,e){if(1&t&&(i.cc(0,"div"),i.bd(1,P,3,0,"ng-container",1),i.bd(2,A,3,1,"ng-container",1),i.bc()),2&t){const t=i.uc().$implicit;i.Ib(1),i.Dc("ngIf",t.overPersonalLimit),i.Ib(1),i.Dc("ngIf",!t.overPersonalLimit)}}const R=function(t){return{"cu-uploader-file_error":t}};function F(t,e){if(1&t){const t=i.dc();i.cc(0,"div",16),i.cc(1,"div",17),i.bd(2,v,1,1,"canvas",18),i.bd(3,y,1,0,"div",19),i.bd(4,x,1,0,"div",20),i.bd(5,T,1,0,"div",21),i.bc(),i.bd(6,j,8,6,"div",22),i.bd(7,$,3,2,"div",1),i.cc(8,"div",23),i.cc(9,"a",24),i.qc("click",function(a){i.Uc(t);const o=e.index;return i.uc(2).deleteFile(a,o)}),i.Xb(10,"i",25),i.bc(),i.bc(),i.bc()}if(2&t){const t=e.$implicit;i.Dc("ngClass",i.Hc(7,R,!t.canUpload)),i.Ib(2),i.Dc("ngIf",null==t.loadStatus?null:t.loadStatus.loading),i.Ib(1),i.Dc("ngIf",!t.loadStatus&&t.canUpload),i.Ib(1),i.Dc("ngIf",(null==t.loadStatus?null:t.loadStatus.error)||!t.canUpload),i.Ib(1),i.Dc("ngIf",null==t.loadStatus?null:t.loadStatus.load),i.Ib(1),i.Dc("ngIf",!t.overLimit),i.Ib(1),i.Dc("ngIf",t.overLimit)}}function M(t,e){if(1&t){const t=i.dc();i.cc(0,"form",2),i.qc("fileAdded",function(e){return i.Uc(t),i.uc().addFiles(e)}),i.cc(1,"div",3),i.cc(2,"div",4),i.gc(3,5),i.bc(),i.cc(4,"form",6),i.Xb(5,"div",7),i.ac(6),i.gc(7,8),i.Zb(),i.cc(8,"div",9),i.qc("fileAdded",function(e){return i.Uc(t),i.uc().addFiles(e)}),i.Xb(9,"input",10,11),i.cc(11,"div",12),i.gc(12,13),i.bc(),i.bc(),i.bc(),i.bc(),i.cc(13,"div",14),i.bd(14,F,11,9,"div",15),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Mb("cu-uploader ",t.modifier,""),i.Ib(14),i.Dc("ngForOf",t.filesList)("ngForTrackBy",t.trackByValue)}}function E(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"div",9),i.qc("fileAdded",function(e){return i.Uc(t),i.uc().buildPreview(e)}),i.Xb(2,"input",38),i.cc(3,"div",39),i.dd(4),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(4),i.fd(" ",t.allOptions.linkText," ")}}let U=(()=>{class t{constructor(t,e,a,o,n,c){this.logger=t,this.store=e,this.changeDetector=a,this.sharedData=o,this.sharedTaskService=n,this.httpSession=c,this.isLoading=!1,this.filesList=[],this.link=[],this.allOptions={autoUpload:!1,url:"",fieldName:"",method:"",type:"list",maxFiles:100,maxFileSize:Math.pow(2,30),validFileTypes:[],invalidFileTypes:[],linkText:"Browse",attachmentType:1},this.trackByValue=s.f,this.modifier="",this.maxParallelUploads=4,this.onFileAdded=new i.o,this.onFileDeleted=new i.o,this.onFileUploaded=new i.o,this.onAllFilesUploaded=new i.o,this.overviewFileUploaded=new i.o,this.storageLimitExceeded=new i.o,this.onLoadPercent=new i.o,this.currentParallelUploads=0,this.maxRetries=3,this.currentFileIndex=0}ngOnInit(){Object.assign(this.allOptions,this.options),this.logger.setPrefix("UPLOADER"),this.checkSettings()}ngOnChanges(t){Object.assign(this.allOptions,this.options)}setUrl(t){this.allOptions.url=t}addFiles(t,e=!0){if(e){for(let e=0;e<t.length;e+=1){const a=t[e];a.canUpload=!0,a.loadPercent=0,this.isFileTypeAccepted(a)||(a.canUpload=!1,a.validateTypeError=!0),this.isFileSizeAccepted(a)||(a.canUpload=!1,a.validateSizeError=!0),e>=this.allOptions.maxFiles&&(a.canUpload=!1),this.filesList.push(a),this.onFileAdded.emit(a)}this.allOptions.autoUpload&&!this.isLoading&&this.sendNextFile()}}buildPreview(t){this.addFiles(t);const e=new FileReader,a=()=>{this.onFileAdded.emit(e.result),e.removeEventListener("loadend",a)};e.addEventListener("loadend",a),e.readAsDataURL(t[0])}checkSettings(){""===this.allOptions.url&&this.logger.error("Upload URL required"),""===this.allOptions.fieldName&&this.logger.error("Field name required"),""===this.allOptions.method&&this.logger.error("Request method required"),-1===["POST","PUT"].indexOf(this.allOptions.method.toUpperCase())&&this.logger.error("Unsupported request method")}isFileTypeAccepted(t){const e=this.allOptions.validFileTypes,a=this.allOptions.invalidFileTypes;return this.logger.log(`File: "${t.name}" | type: "${t.type}"`),(e.length||a.length)&&(a.length&&-1!==a.indexOf(t.type)||e.length&&-1===e.indexOf(t.type))?(this.logger.error(`File: "${t.name}" | type "${t.type}" not allowed`),!1):(this.logger.log(`File: "${t.name}" | type "${t.type}" allowed`),!0)}isFileSizeAccepted(t){return this.logger.log(`File: "${t.name}" | size: ${t.size} bytes`),t.size<=this.allOptions.maxFileSize?(this.logger.log(`File: "${t.name}" | size: ${t.size} bytes allowed`),!0):(this.logger.error(`File: "${t.name}" | size: ${t.size} bytes is too big`),!1)}removeCompletedFiles(){this.filesList=this.filesList.filter(t=>!t.loadStatus||!t.loadStatus.load)}deleteFile(t,e){t.stopPropagation(),this.filesList[e].request&&this.filesList[e].request.abort(),this.filesList.splice(e,1),this.onFileDeleted.emit(),this.sendNextFile()}deleteAllFiles(){this.filesList=[]}sendFiles(){let t,e=0;const a=new FormData,i=this.currentFileIndex,o=this.filesList[i]||null;if(this.currentParallelUploads++,this.isLoading=!0,!o)return this.logger.warning("No files added"),!1;if(!o.canUpload)return this.logger.warning(`File ${o.name} can't be upload`),!1;o.loadStatus={};const s=()=>{this.filesList[i].request=t=new XMLHttpRequest,u(),r.k&&(t.withCredentials=!0),t.open(this.allOptions.method,this.allOptions.url,!0),r.k||t.setRequestHeader("Authorization","Bearer "+Object(c.b)()),t.setRequestHeader("sessionId",this.httpSession.getSessionId()),t.setRequestHeader("ngsw-bypass","true"),t.send(a)},l=()=>{if(navigator.onLine&&!o.loadStatus.abort)if(e<this.maxRetries)Object.assign(o.loadStatus,{loading:!0,error:!1,abort:!1,retry:!0}),s(),e++;else{Object.assign(o.loadStatus,{loading:!1,error:!0,abort:!1,retry:!1}),e=0;const t={description:`Upload of ${o.name.substring(0,30)} failed after ${this.maxRetries} tries`};this.store.dispatch(new n.b(t)),setTimeout(()=>this.store.dispatch(new n.d(t)),1e4)}},u=()=>{t.upload.addEventListener("progress",t=>{o.loadPercent=Math.round(t.loaded/t.total*100),o.loadStatus.loading=!0,this.onLoadPercent.emit(o.loadPercent),this.refresh(),this.logger.log(`Loading file "${o.name}", Progress: "${o.loadPercent}%"`)},!1),t.addEventListener("readystatechange",()=>{if(t.readyState===XMLHttpRequest.DONE&&200===t.status){o.loadStatus.load=!0,o.loadStatus.loading=!1,this.logger.success(`File "${o.name}" has been uploaded`);try{o.uploadResult=JSON.parse(t.responseText),this.onFileUploaded.emit(o.uploadResult),this.overviewFileUploaded.emit(o.uploadResult),this.currentParallelUploads--,this.sendNextFile()}catch(e){}}else if(400===t.status&&t.response){const e=JSON.parse(t.response);!e||"GBUSED_005"!==e.ECODE&&"GBUSED_013"!==e.ECODE&&"GBUSED_011"!==e.ECODE||(Object.assign(o.loadStatus,{loading:!1,error:!0,abort:!0,retry:!1}),o.overLimit=!0,o.overPersonalLimit="GBUSED_013"===e.ECODE,this.link=["/",this.sharedData.compatCurrentTeam.id,"settings","billing"],this.storageLimitExceeded.emit())}else 404===t.status&&t.response&&Object.assign(o.loadStatus,{loading:!1,error:!0,abort:!0,retry:!1});this.refresh()},!1),t.upload.addEventListener("error",()=>{l(),e>=this.maxRetries&&(o.loadStatus.error=!0,o.loadStatus.loading=!1,this.logger.error(`File "${o.name}" upload error`),this.currentParallelUploads--,this.sendNextFile()),this.refresh()},!1),t.upload.addEventListener("abort",t=>{o.loadStatus.abort=!0,this.refresh(),this.logger.error(`Uploading file "${o.name}" aborted`)},!1)};a.append(this.allOptions.fieldName,o,o.name),a.append("type",this.allOptions.attachmentType),this.allOptions.parent&&a.append("parent",this.allOptions.parent),this.allOptions.permanent&&a.append("permanent",this.allOptions.permanent?"true":"false"),s()}closeTask(){this.sharedTaskService.closeTask(null,!1,!1)}sendNextFile(){this.currentFileIndex=this.filesList.length?this.filesList.findIndex(t=>!t.loadStatus):0,this.filesList[this.currentFileIndex]?(this.sendFiles(),this.currentParallelUploads<this.maxParallelUploads&&this.sendNextFile()):!this.filesList.every(t=>t.loadStatus&&(t.loadStatus.load||t.loadStatus.error))&&this.filesList.length||(this.isLoading=!1,this.onAllFilesUploaded.emit(this.filesList))}setFileList(t){this.filesList=t}getFileList(){return this.filesList}refresh(){this.changeDetector.markForCheck()}browseFile(){const t=new MouseEvent("click",{bubbles:!1});this.fileInput.nativeElement.dispatchEvent(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.a),i.Wb(l.Store),i.Wb(i.h),i.Wb(u.a),i.Wb(d.a),i.Wb(p.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-uploader"]],viewQuery:function(t,e){if(1&t&&i.jd(w,1),2&t){let t;i.Qc(t=i.rc())&&(e.fileInput=t.first)}},inputs:{options:"options",modifier:"modifier",maxParallelUploads:"maxParallelUploads"},outputs:{onFileAdded:"onFileAdded",onFileDeleted:"onFileDeleted",onFileUploaded:"onFileUploaded",onAllFilesUploaded:"onAllFilesUploaded",overviewFileUploaded:"overviewFileUploaded",storageLimitExceeded:"storageLimitExceeded",onLoadPercent:"onLoadPercent"},features:[i.Hb([o.a]),i.Gb],decls:2,vars:2,consts:function(){let t,e,a,i,o,n,s,c,r;return t=$localize`:@@cu-uploader__title_list-of-files␟086f71339b18447c981b46650a39714b8154eef4␟5681488989155432092: List of files `,e=$localize`:@@cu-uploader__forms-placeholder_dnd␟49675124973f824677169b0c32461d281b0aa076␟7823541601178440462:Drag & Drop files to attach or`,a=$localize`:@@common_browse-1␟f2bb02db406f88b4877f83972446c2669f4d14a5␟4707695934708852971: Browse `,i=$localize`:@@common_upload-failed␟1ff4456cfb5e5bbf6e773f2e53c03ac79fd648fd␟8151924435547335490:Upload failed`,o=$localize`:@@cu-uploader__form-error_retrying-upload␟01b0d0a0bc9d133829015e4aa0c77e86e6d5d2a6␟3314152177035868893:Retrying upload`,n=$localize`:@@cu-uploader__form-error_invalid-file-type␟376eafa7495d2fcca25ff0cf27ce529e492bd60e␟8721532529651661772:Invalid file type`,s=$localize`:@@cu-uploader__form-error_file-too-big␟7bf6a24cdf5dbf91c01093dc83253395c0d3426e␟4097064522213243719:File too big`,c=$localize`:@@cu-uploader__form-error_over-personal-limit␟23bc8ceecff9c27744151d366560c3a39979b5fd␟656434140805045743: Whoops! You've reached your free storage limit. ${"\ufffd#2\ufffd"}:START_TAG_DIV: People on Free Forever Workspaces are limited to 100mb storage. To get unlimited use of ClickUp, join an Unlimited Workspace. Alternatively, you can create your own Workspace and upgrade yourself to remove Inbox limits. ${"\ufffd/#2\ufffd"}:CLOSE_TAG_DIV:`,r=$localize`:@@cu-uploader__form-error_over-workspace-limit␟e886ae170ca9f65d73305ee11d5983b05052bf1b␟5204511980776863506: Whoops! Your Workspace is over the storage limit. ${"\ufffd#2\ufffd"}:START_LINK:Upgrade to Unlimited${"\ufffd/#2\ufffd"}:CLOSE_LINK: to remove all limits. `,[["cuDropUploader","",3,"class","fileAdded",4,"ngIf"],[4,"ngIf"],["cuDropUploader","",3,"fileAdded"],[1,"cu-uploader__header"],[1,"cu-uploader__title"],t,[1,"cu-uploader__dropzone"],["icon","paperclip",1,"cu-uploader__icon"],e,["cuLinkUploader","",1,"cu-uploader-trigger",3,"fileAdded"],["type","file","multiple","",1,"cu-uploader-trigger__input"],["fileInput",""],[1,"cu-uploader-trigger__text"],a,[1,"cu-uploader__body"],["class","cu-uploader-file",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-uploader-file",3,"ngClass"],[1,"cu-uploader-file__icon"],["class","cu-circular-progress","width","20","height","20","cuProgressCircle","",3,"value",4,"ngIf"],["class","cu-icon cu-icon_file",4,"ngIf"],["class","cu-icon cu-icon_warning",4,"ngIf"],["class","cu-icon cu-icon_tick",4,"ngIf"],["class","cu-uploader-file__name",4,"ngIf"],[1,"cu-controls","cu-controls_md"],["href","javascript:void(0)",1,"cu-controls__item",3,"click"],[1,"cu-icon","cu-icon_close"],["width","20","height","20","cuProgressCircle","",1,"cu-circular-progress",3,"value"],[1,"cu-icon","cu-icon_file"],[1,"cu-icon","cu-icon_warning"],[1,"cu-icon","cu-icon_tick"],[1,"cu-uploader-file__name"],i,o,n,s,c,r,[1,"cu-uploader-file__upgrade",3,"routerLink","click"],["type","file",1,"cu-uploader-trigger__input"],[1,"cu-uploader-trigger__text","cu-uploader-trigger__text_link"]]},template:function(t,e){1&t&&(i.bd(0,M,15,5,"form",0),i.bd(1,E,5,1,"div",1)),2&t&&(i.Dc("ngIf","list"===e.allOptions.type),i.Ib(1),i.Dc("ngIf","link"===e.allOptions.type))},directives:[m.q,h.a,g.a,b.a,m.p,m.o,f,k.k],pipes:[_.a],encapsulation:2}),t})()},Ytoj:function(t,e,a){"use strict";a.d(e,"a",function(){return H});var i=a("Rpu1"),o=a("fXoL"),n=a("ofXK"),s=a("LdyQ"),c=a("MJvn"),r=a("n+1/"),l=a("2Vo4"),u=a("itXk"),d=a("lJxs"),p=a("pLZG"),m=a("uslN"),h=a("f0Wu"),g=a.n(h),b=a("oy6Y"),f=a("KX9h"),k=a("jJW4"),_=a("UdVN"),w=a("kVoD"),v=a("Tgx9"),y=a("9mq+"),x=a("WeU5"),T=a("31bS"),I=a("vAZK"),C=a("loh9"),D=a("Xiu6"),S=a("EMdj");const O=["dropdown"],j=function(t){return{"background-color":t}};function P(t,e){if(1&t){const t=o.dc();o.cc(0,"div",37),o.cc(1,"div",38),o.Xb(2,"div",39),o.vc(3,"async"),o.vc(4,"async"),o.cc(5,"div",40),o.dd(6),o.vc(7,"async"),o.bc(),o.bc(),o.cc(8,"div",41),o.qc("click",function(){return o.Uc(t),o.uc(2).selectTask()}),o.bc(),o.bc()}if(2&t){const t=o.uc(2);let e=null,a=null,i=null;o.Ib(2),o.Ob("milestone",1===(null==(e=o.wc(3,4,t.entryDisplay$))||null==e.task?null:e.task.custom_type)),o.Dc("ngStyle",o.Hc(10,j,null==(a=o.wc(4,6,t.entryDisplay$))||null==a.task||null==a.task.status?null:a.task.status.color)),o.Ib(4),o.fd(" ",null==(i=o.wc(7,8,t.entryDisplay$))||null==i.task?null:i.task.name," ")}}function A(t,e){1&t&&(o.ac(0),o.gc(1,42),o.Zb())}function $(t,e){if(1&t){const t=o.dc();o.cc(0,"div",6),o.cc(1,"cu-time-tracker-task-selector",33),o.qc("onSelectTask",function(e){return o.Uc(t),o.uc().selectTask(e)}),o.cc(2,"div",34),o.bd(3,P,9,12,"div",35),o.vc(4,"async"),o.bd(5,A,2,0,"ng-template",null,36,o.cd),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.Rc(6),e=o.uc();let a=null;o.Ib(1),o.Dc("defaultProject",e.defaultProject)("team",e.team),o.Ib(2),o.Dc("ngIf",null==(a=o.wc(4,4,e.entryDisplay$))?null:a.task)("ngIfElse",t)}}function R(t,e){1&t&&(o.ac(0),o.dd(1,"now"),o.Zb())}function F(t,e){if(1&t&&(o.ac(0),o.dd(1),o.vc(2,"relativeDate"),o.vc(3,"async"),o.Zb()),2&t){const t=o.uc();o.Ib(1),o.ed(o.wc(2,1,o.wc(3,3,t.entryStart$)))}}function M(t,e){if(1&t){const t=o.dc();o.cc(0,"div",43),o.cc(1,"div",44),o.cc(2,"cu-datetime-natural-language",45),o.qc("onCloseDropdown",function(){return o.Uc(t),o.uc(),o.Rc(41).close()})("onChange",function(e){return o.Uc(t),o.uc().updateStart(e.newMoment)}),o.vc(3,"async"),o.vc(4,"async"),o.vc(5,"async"),o.bc(),o.cc(6,"cu-datepicker",46),o.qc("onSelect",function(e){return o.Uc(t),o.uc().handleDateSelect(e)}),o.vc(7,"async"),o.vc(8,"async"),o.vc(9,"async"),o.vc(10,"async"),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.uc();let e=null,a=null,i=null,n=null,s=null;o.Ib(2),o.Dc("dateVal",o.wc(3,15,t.entryStart$))("focusWhenVisible",!0)("timeExists",!1)("militaryTime",null==(e=o.wc(4,17,t.sharedData.currentUser))?null:e.twenty_four_hr_setting)("dateFormatting",(null==(a=o.wc(5,19,t.sharedData.currentUser))?null:a.date_format)||"m/d/y")("forceUpdate",!0)("showClose",!1)("closeDropdownOnEnter",!0),o.Ib(4),o.Dc("showStart",!1)("showInput",!1)("militaryTime",null==(i=o.wc(7,21,t.sharedData.currentUser))?null:i.twenty_four_hr_setting)("dateFormat",(null==(n=o.wc(8,23,t.sharedData.currentUser))?null:n.date_format)||"m/d/y")("weekStart",(null==(s=o.wc(9,25,t.sharedData.currentUser))?null:s.week_start_day)||0)("date",o.wc(10,27,t.entryStart$))("doneButton",!1)}}let E=(()=>{class t{constructor(t,e,a,i){this.timezonesService=t,this.cdr=e,this.timePipe=a,this.sharedData=i,this.changes$=new l.a({}),this.entry$=new l.a(null),this.entryDisplay$=Object(u.a)([this.changes$,this.entry$]).pipe(Object(d.a)(([t,e])=>{const a=+(t&&t.stop&&t.start?parseInt(t.stop,10)-parseInt(t.start,10):e&&e.duration);return Object.assign(Object.assign(Object.assign({},e),t),{duration:a})})),this.entryStart$=this.entryDisplay$.pipe(Object(d.a)(t=>t.start?this.timezonesService.createMoment(parseInt(t.start,10)):null)),this.isDateNow$=this.entryStart$.pipe(Object(p.a)(t=>!!t),Object(d.a)(t=>g()(t).startOf("day").isSame(g()().startOf("day")))),this.entryEnd$=this.entryDisplay$.pipe(Object(d.a)(t=>t.end?this.timezonesService.createMoment(parseInt(t.end,10)):null)),this.disabledSaveState$=this.changes$.pipe(Object(d.a)(t=>0===Object.keys(t).length)),this.textValue$=this.entryDisplay$.pipe(Object(d.a)(t=>t.duration?this.timePipe.transform(t.duration,this.team.hours_per_day,!1,this.team.time_estimate_display_hours):"")),this.forTask=!1,this.onSave=new o.o,this.onClose=new o.o,this.onTimeTrackerAction=new o.o,this.onShowPaywall=new o.o}ngOnInit(){}ngOnChanges(t){t.entry&&this.entry&&this.entry$.next(this.entry)}selectTask(t){this.changes$.next(Object.assign(Object.assign({},this.changes$.value),{task:t,tid:t?t.id:null}))}updateDescription(t){this.changes$.next(Object.assign(Object.assign({},this.changes$.value),{description:t}))}setStart(t){this.checkDiff(t.valueOf(),this.changes$.value.end||parseInt(this.entry.end,10))}setEnd(t){this.checkDiff(this.changes$.value.start||parseInt(this.entry.start,10),t.valueOf())}updateStart(t){this.handleDateSelect({dueDate:t},!1)}handleDateSelect({dueDate:t},e=!0){const a=+(this.changes$.value.duration||this.entry.duration),i={start:t.valueOf(),stop:a?t.valueOf()+a:this.changes$.value.end||parseInt(this.entry.end,10)};i.end=i.stop,this.cdr.detectChanges(),this.changes$.next(Object.assign(Object.assign({},this.changes$.value),i)),e&&this.dropdown&&this.dropdown.close()}checkDiff(t,e){if(t&&e){const a=this.getTime(t),i=this.getTime(e);i.isBefore(a)||i.isSame(a)?e=i.add(1,"d").valueOf():g()(e).isAfter(g()(t),"day")&&(e=i.valueOf())}const a={start:t,stop:e};a.end=a.stop,a.duration=a.start&&a.end?a.end-a.start:null,this.cdr.detectChanges(),this.changes$.next(Object.assign(Object.assign({},this.changes$.value),a))}getTime(t){const e=g()(this.changes$.value.start||this.entry.start).clone();return e.hours(g()(t).hours()),e.minutes(g()(t).minutes()),e}saveChanges(){const t=Object.entries(this.changes$.value).reduce((t,[e,a])=>("task"!==e&&(t[e]=a),t),{});this.showPaywall(t)?this.onShowPaywall.emit():this.onSave.emit(t)}updateBillable(t){this.changes$.next(Object.assign(Object.assign({},this.changes$.value),{billable:t}))}updateDuration(t){const e=1e3*t.seconds,a=parseInt(this.entry$.value.start,10)+e;this.changes$.next(Object.assign(Object.assign({},this.changes$.value),{duration:e,start:this.entry$.value.start,end:a,stop:a}))}showPaywall(t){if(this.team.plan_id===m.f.FREE||this.team.plan_id===m.f.UNLIMITED){if(t.description||t.billable||t.tags)return!0;if(null===t.tid)return!0}return!1}checkPaywall(t){this.team.plan_id!==m.f.FREE&&this.team.plan_id!==m.f.UNLIMITED||(t.preventDefault(),t.stopPropagation(),this.onShowPaywall.emit())}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(b.a),o.Wb(o.h),o.Wb(f.a),o.Wb(k.a))},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-time-tracker-editor"]],viewQuery:function(t,e){if(1&t&&o.jd(O,1),2&t){let t;o.Qc(t=o.rc())&&(e.dropdown=t.first)}},inputs:{entry:"entry",defaultProject:"defaultProject",dateFormat:"dateFormat",tags:"tags",forTask:"forTask",team:"team"},outputs:{onSave:"onSave",onClose:"onClose",onTimeTrackerAction:"onTimeTrackerAction",onShowPaywall:"onShowPaywall"},features:[o.Gb],decls:54,vars:63,consts:function(){let t,e,a,i,o,n,s;return t=$localize`:@@cu-time-tracker-editor__title_edit-session␟27876059ec4d65229bf7a30154adfa3f03384a57␟7176241119418177125: edit session `,e=$localize`:@@cu-time-tracker-editor__form-placeholder_add-a-note␟4db7dd07dce7c96014fdd7c6e4ac072a5b1ba2e0␟5940434032535983545:Add a note...`,a=$localize`:@@cu-time-tracker-editor__form-label_duration␟a02ea1d4e7424ca989929da5e598f379940fdbf2␟7410432243549869948:Duration`,i=$localize`:@@common_when␟d654eb984a62fedda948733d5cc565480c6d7eff␟3198123723060667787:When`,o=$localize`:@@common_save-changes␟742a1aa82256b7ea1b6a8d5014b74a7364617945␟6513658248055321042: Save changes `,n=$localize`:@@common_select-task␟89db4b51bde3178c30774348f5e072ae6c7ce120␟5565713560441025111:Select task...`,s=$localize`:@@common_type-any-date␟4181e1717f719f0529364a79de8f23089203fa4f␟4352068367379830009:Type any date`,[[1,"cu-time-tracker-editor"],[1,"cu-time-tracker-editor__header"],[1,"cu-time-tracker-editor__header-title"],t,["icon","close",1,"cu-time-tracker-editor__header-close",3,"click"],["class","cu-time-tracker-editor__row",4,"ngIf"],[1,"cu-time-tracker-editor__row"],["placeholder",e,1,"cu-time-tracker-task-selector__input","cu-time-tracker-task-selector__input-description",3,"description","team","click","onDescriptionChange"],[1,"cu-time-tracker-tags",3,"tags","useAltTagsIcon","altTagsIcon","currentEntry","click","onTimeTrackerAction"],[1,"cu-time-tracker-editor__row","billing"],[3,"modifier","billable","showLabel","click","onToggle"],[1,"cu-time-tracker-editor__row","time"],["icon","cu2-calendar",1,"cu-time-tracker-editor__time-icon"],[3,"dateVal","forTime","inDatePicker","focusOnInit","focusWhenVisible","timeExists","emitOnEnter","militaryTime","placeholder","forceUpdate","showClose","modifier","onChange","onEnter"],[3,"dateVal","forTime","inDatePicker","focusOnInit","focusWhenVisible","timeExists","militaryTime","placeholder","forceUpdate","showClose","modifier","emitOnEnter","onChange","onEnter"],["endInput",""],[1,"cu-time-tracker-editor__row","cu-time-tracker-editor__row-manual"],["icon","cu2-clock",1,"cu-time-tracker-editor__row-manual-icon"],[1,"cu-time-tracker-editor__row-manual-text"],a,[1,"cu-time-tracker-create-manual__input",3,"autoFocus","emitOnBlur","textValue","onChange"],["input",""],[1,"time-tracking__dropdown-when"],i,["cuDropdown","",1,"cu-dropdown",3,"dropdownCloseOnInsideClick"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["toggle",""],[1,"time-tracking__dropdown-when-link"],[4,"ngIf"],["class","cu-dropdown__menu cu-time-tracker-create-manual__dropdown",4,"cuDropdownMenu"],[1,"cu-btn","cu-btn_sm","cu-btn_font-size-15",3,"disabled","click"],o,[3,"defaultProject","team","onSelectTask"],[1,"cu-time-tracker-task-selector__input"],["class","cu-time-tracker-task-selector__task-container",4,"ngIf","ngIfElse"],["noTask",""],[1,"cu-time-tracker-task-selector__task-container"],[1,"cu-time-tracker-task-selector__task"],[1,"cu-time-tracker-task-selector__task-status",3,"ngStyle"],[1,"cu-time-tracker-task-selector__task-name"],["cuPreventDefault","","icon","cu2-times",1,"cu-time-tracker-task-selector__remove",3,"click"],n,[1,"cu-dropdown__menu","cu-time-tracker-create-manual__dropdown"],[1,"time-tracking__calendar-container"],["placeholder",s,3,"dateVal","focusWhenVisible","timeExists","militaryTime","dateFormatting","forceUpdate","showClose","closeDropdownOnEnter","onCloseDropdown","onChange"],[3,"showStart","showInput","militaryTime","dateFormat","weekStart","date","doneButton","onSelect"]]},template:function(t,e){if(1&t){const t=o.dc();o.cc(0,"div",0),o.cc(1,"div",1),o.cc(2,"div",2),o.gc(3,3),o.bc(),o.cc(4,"div",4),o.qc("click",function(){return e.onClose.emit()}),o.bc(),o.bc(),o.bd(5,$,7,6,"div",5),o.cc(6,"div",6),o.cc(7,"cu-time-tracker-description",7),o.qc("click",function(t){return e.checkPaywall(t)})("onDescriptionChange",function(t){return e.updateDescription(t)}),o.vc(8,"async"),o.bc(),o.bc(),o.cc(9,"div",6),o.cc(10,"cu-time-tracker-tags",8),o.qc("click",function(t){return e.checkPaywall(t)})("onTimeTrackerAction",function(t){return e.onTimeTrackerAction.emit(t)}),o.vc(11,"async"),o.bc(),o.bc(),o.cc(12,"div",9),o.cc(13,"cu-timer-tracker-billable",10),o.qc("click",function(t){return e.checkPaywall(t)})("onToggle",function(t){return e.updateBillable(t)}),o.vc(14,"async"),o.bc(),o.bc(),o.cc(15,"div",11),o.Xb(16,"div",12),o.cc(17,"cu-datetime-natural-language",13),o.qc("onChange",function(t){return e.setStart(t.newMoment)})("onEnter",function(){return o.Uc(t),o.Rc(23).focusInput()}),o.vc(18,"async"),o.vc(19,"async"),o.bc(),o.bc(),o.cc(20,"div",11),o.Xb(21,"div",12),o.cc(22,"cu-datetime-natural-language",14,15),o.qc("onChange",function(t){return e.setEnd(t.newMoment)})("onEnter",function(){return e.saveChanges()}),o.vc(24,"async"),o.vc(25,"async"),o.bc(),o.bc(),o.cc(26,"div",16),o.Xb(27,"div",17),o.cc(28,"div",18),o.ac(29),o.gc(30,19),o.Zb(),o.dd(31,": "),o.bc(),o.cc(32,"cu-time-estimates-input",20,21),o.qc("onChange",function(t){return e.updateDuration(t)}),o.vc(34,"async"),o.bc(),o.bc(),o.cc(35,"div",16),o.cc(36,"div",22),o.ac(37),o.gc(38,23),o.Zb(),o.dd(39,": "),o.cc(40,"div",24,25),o.cc(42,"div",26,27),o.cc(44,"div",28),o.bd(45,R,2,0,"ng-container",29),o.vc(46,"async"),o.bd(47,F,4,5,"ng-container",29),o.vc(48,"async"),o.bc(),o.bc(),o.bd(49,M,11,29,"div",30),o.bc(),o.bc(),o.bc(),o.cc(50,"div",6),o.cc(51,"button",31),o.qc("click",function(){return e.saveChanges()}),o.gc(52,32),o.vc(53,"async"),o.bc(),o.bc(),o.bc()}if(2&t){let t=null,a=null,i=null,n=null;o.Ib(5),o.Dc("ngIf",!e.forTask),o.Ib(2),o.Dc("description",null==(t=o.wc(8,41,e.entryDisplay$))?null:t.description)("team",e.team),o.Ib(3),o.Dc("tags",e.tags)("useAltTagsIcon",!0)("altTagsIcon","cu2-edit")("currentEntry",o.wc(11,43,e.entryDisplay$)),o.Ib(3),o.Dc("modifier","darken")("billable",null==(a=o.wc(14,45,e.entryDisplay$))?null:a.billable)("showLabel",!0),o.Ib(4),o.Dc("dateVal",o.wc(18,47,e.entryStart$))("forTime",!0)("inDatePicker",!0)("focusOnInit",!0)("focusWhenVisible",!1)("timeExists",!0)("emitOnEnter",!0)("militaryTime",null==(i=o.wc(19,49,e.sharedData.currentUser))?null:i.twenty_four_hr_setting)("placeholder","HH:MM")("forceUpdate",!1)("showClose",!1)("modifier","time-tracking__dropdown-select_time-range"),o.Ib(5),o.Dc("dateVal",o.wc(24,51,e.entryEnd$))("forTime",!0)("inDatePicker",!0)("focusOnInit",!1)("focusWhenVisible",!1)("timeExists",!0)("militaryTime",null==(n=o.wc(25,53,e.sharedData.currentUser))?null:n.twenty_four_hr_setting)("placeholder","HH:MM")("forceUpdate",!1)("showClose",!1)("modifier","time-tracking__dropdown-select_time-range")("emitOnEnter",!0),o.Ib(10),o.Dc("autoFocus",!1)("emitOnBlur",!0)("textValue",o.wc(34,55,e.textValue$)),o.Ib(8),o.Dc("dropdownCloseOnInsideClick",!1),o.Ib(5),o.Dc("ngIf",o.wc(46,57,e.isDateNow$)),o.Ib(2),o.Dc("ngIf",!o.wc(48,59,e.isDateNow$)),o.Ib(4),o.Dc("disabled",o.wc(53,61,e.disabledSaveState$))}},directives:[_.a,n.q,w.a,v.a,y.a,x.a,T.a,s.b,c.a,r.a,I.a,n.t,C.a,D.a],pipes:[n.b,S.a],styles:['.cu-time-tracker-editor{padding:18px;min-width:220px}.cu-time-tracker-editor__row{margin-top:15px}.cu-time-tracker-editor__row .cu-btn{width:100%;margin-top:25px}.cu-time-tracker-editor__row .cu-tags-view__icon{display:flex}.cu-time-tracker-editor__row-manual{display:flex;align-items:center}.cu-time-tracker-editor__row-manual input{color:#292d34!important;font-weight:400!important;border-bottom:1px dashed #7c828d}.dark-theme .cu-time-tracker-editor__row-manual input{color:#d5d6d7!important;border-bottom:#1e272e}.cu-time-tracker-editor__row-manual-icon{height:14px;width:14px;fill:#b9bec7;margin-right:8px}.dark-theme .cu-time-tracker-editor__row-manual-icon{fill:#fff}.cu-time-tracker-editor__row-manual .cu-time-tracker-billable__icon-container{width:16px;height:16px;margin-left:12px}.cu-time-tracker-editor__row-manual .cu-time-tracker-billable__icon-container .icon{width:10px;height:10px}.cu-time-tracker-editor__row-manual .time-tracking__dropdown-when,.cu-time-tracker-editor__row-manual .time-tracking__dropdown-when-link{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;padding-right:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-editor__row-manual .time-tracking__dropdown-when,.cu-time-tracker-editor__row-manual .time-tracking__dropdown-when-link{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-editor__row-manual .time-tracking__dropdown-when,.dark-theme .cu-time-tracker-editor__row-manual .time-tracking__dropdown-when-link{color:#d5d6d7}.cu-time-tracker-editor__row-manual-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:#292d34;padding-right:8px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-editor__row-manual-text{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-editor__row-manual-text{color:#d5d6d7}.cu-time-tracker-editor__row .cu-timer-tracker-manual{margin-top:1px}.cu-time-tracker-editor__row .cu-timer-tracker-manual .cu-dropdown__toggle{border-bottom:1px dashed #7c828d}.dark-theme .cu-time-tracker-editor__row .cu-timer-tracker-manual .cu-dropdown__toggle{border-color:#1e272e}.cu-time-tracker-editor__row .cu-time-tracker-description__input:-ms-input-placeholder{color:#292d34!important}.cu-time-tracker-editor__row .cu-time-tracker-description__input::placeholder{color:#292d34!important}.dark-theme .cu-time-tracker-editor__row .cu-time-tracker-description__input:-ms-input-placeholder{color:#d5d6d7!important}.dark-theme .cu-time-tracker-editor__row .cu-time-tracker-description__input::placeholder{color:#d5d6d7!important}.cu-time-tracker-editor__row .cu-tags-view{margin-left:8px!important}.cu-time-tracker-editor__row .cu-tags-view__icon.use-placeholder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;padding:0}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-editor__row .cu-tags-view__icon.use-placeholder{font-family:var(--global-font-support)}}.cu-time-tracker-editor__row .cu-tags-view__icon.use-placeholder span{color:#292d34!important}.dark-theme .cu-time-tracker-editor__row .cu-tags-view__icon.use-placeholder span{color:#d5d6d7!important}.cu-time-tracker-editor__row .cu-time-tracker-billable__icon-container{width:14px;height:14px}.cu-time-tracker-editor__row .cu-time-tracker-billable__icon-container .icon{width:10px;height:10px}.cu-time-tracker-editor__row.billing{margin-bottom:25px}.cu-time-tracker-editor__row.time{align-items:center;display:flex}.cu-time-tracker-editor__row.time .icon{width:14px;height:14px;fill:#c4c4c4}.cu-time-tracker-editor__row.time .cu-datetime-input{border:none;height:auto}.cu-time-tracker-editor__row.time .cu-datetime-input__icon{display:none}.cu-time-tracker-editor__row.time .time-tracking__dropdown-select_time-range{font-size:13px;color:#292d34;font-weight:400;border:none;border-bottom:1px dashed #7c828d;margin-left:10px;width:auto;height:auto}.cu-time-tracker-editor__row.time .datepicker__dates-input-container-inner.natural-language{padding:0}.cu-time-tracker-editor__row.time .cu-datetime-input__input-value{font-size:13px;color:#292d34;font-weight:400;border-bottom:1px dashed #7c828d}.dark-theme .cu-time-tracker-editor__row.time .cu-datetime-input__input-value{border-bottom:#1e272e;color:#d5d6d7}.cu-time-tracker-editor__row.time .cu-datetime-input__value-label{font-weight:400;top:0;left:0;padding:0;font-size:13px;color:#292d34}.dark-theme .cu-time-tracker-editor__row.time .cu-datetime-input__value-label{color:#d5d6d7}.cu-time-tracker-editor__header{display:flex;align-items:center;justify-content:space-between}.cu-time-tracker-editor__header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:11px;flex-grow:1;text-transform:uppercase;color:rgba(124,130,141,.7);white-space:nowrap}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-editor__header-title{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-editor__header-title{color:#828588}.cu-time-tracker-editor__header-close{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:20px;height:20px;padding:4px;stroke:#b9bec7;cursor:pointer;z-index:9}.cu-time-tracker-editor__header-close:hover{transform:rotate(180deg)}.cu-time-tracker-editor .cu-time-tracker-task-selector__input{background:#fff;border-radius:3px;border:1px solid rgba(185,190,199,.5)}.dark-theme .cu-time-tracker-editor .cu-time-tracker-task-selector__input{background-color:#384047;border-color:#1e272e}.cu-time-tracker-editor .cu-time-tracker-task-selector__input-description{border:none;padding:0}.cu-time-tracker-editor .cu-time-tracker-task-selector__task-name{color:#292d34;font-weight:400}.dark-theme .cu-time-tracker-editor .cu-time-tracker-task-selector__task-name{color:#d5d6d7}.cu-time-tracker-editor .cu-time-tracker-task-selector__remove{background-color:var(--theme-main-color);border-radius:50%;width:14px;height:14px;padding:2px}.dark-theme .cu-time-tracker-editor .cu-time-tracker-task-selector__remove{fill:#fff}.cu-time-tracker-editor .cu-time-tracker-description{position:relative}.cu-time-tracker-editor .cu-time-tracker-description .icon{stroke:#c4c4c4;margin:0 6px 0 0}.cu-time-tracker-editor .cu-time-tracker-description .cu-time-tracker-description__input{font-weight:400;color:#292d34}.dark-theme .cu-time-tracker-editor .cu-time-tracker-description .cu-time-tracker-description__input{color:#d5d6d7}.cu-time-tracker-editor .cu-datetime-input:last-child{margin:0}.cu-time-tracker-editor .cu-time-tracker-current-editor__input-tags{padding:0!important}.dark-theme .cu-time-tracker-editor .cu-time-tracker-current-editor__input-tags{background-color:#384047;border-color:#1e272e}.cu-time-tracker-editor .cu-time-tracker-current-editor__input-tags-remove{display:none}.cu-time-tracker-editor__time-dropdown{margin-left:-185px}.cu-time-tracker-editor .cu-time-tracker-current-editor__input-tags-left{fill:#c4c4c4!important}.cu-time-tracker-editor .cu-tags-view__icon span{color:#292d34}'],encapsulation:2,changeDetection:0}),t})();var U=a("NsZK");function L(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-time-tracker-editor",9),o.qc("onSave",function(e){o.Uc(t),o.uc(2);const a=o.Rc(1);return o.uc().onSave.emit(e),a.close()})("onClose",function(){return o.Uc(t),o.uc(2),o.Rc(1).close()})("onTimeTrackerAction",function(e){return o.Uc(t),o.uc(3).onTimeTrackerAction.emit(e)})("onShowPaywall",function(){return o.Uc(t),o.uc(3).onShowPaywall.emit()}),o.bc()}if(2&t){const t=o.uc(3);o.Dc("defaultProject",t.defaultProject)("entry",t.entry)("tags",t.tags)("forTask",t.forTask)("dateFormat",t.dateFormat)("team",t.team)}}function z(t,e){if(1&t){const t=o.dc();o.cc(0,"a",10),o.qc("click",function(){return o.Uc(t),o.uc(3).toggleShowEditor()}),o.Xb(1,"div",11),o.cc(2,"div",12),o.gc(3,13),o.bc(),o.bc(),o.cc(4,"a",14),o.qc("click",function(){return o.Uc(t),o.uc(3).onDelete.emit()}),o.Xb(5,"div",11),o.cc(6,"div",12),o.gc(7,15),o.bc(),o.bc()}if(2&t){const t=o.uc(3);o.Ib(1),o.Dc("icon","edit"),o.Ib(3),o.Ob("disabled-action",!t.canDelete),o.Dc("cuTooltip",t.canDelete?null:"You don't have permission to delete this entry"),o.Ib(1),o.Dc("icon","trash-bold")}}function V(t,e){if(1&t&&(o.cc(0,"div",6),o.bd(1,L,1,6,"cu-time-tracker-editor",7),o.bd(2,z,8,5,"ng-template",null,8,o.cd),o.bc()),2&t){const t=o.Rc(3),e=o.uc(2);o.Ib(1),o.Dc("ngIf",e.showEditor)("ngIfElse",t)}}function N(t,e){if(1&t){const t=o.dc();o.cc(0,"div",2,3),o.qc("dropdownClose",function(){return o.Uc(t),o.uc().close()}),o.cc(2,"div",4),o.Bc(3),o.bc(),o.bd(4,V,4,2,"div",5),o.bc()}if(2&t){const t=o.uc();o.Dc("dropdownCloseOnInsideClick",!1)("dropdownCloseOnModal",!0)("dropdownRepositionFlag",t.showEditor)}}function q(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-time-tracker-editor",9),o.qc("onSave",function(e){o.Uc(t),o.uc(2);const a=o.Rc(2);return o.uc().onSave.emit(e),a.close()})("onClose",function(){return o.Uc(t),o.uc(2),o.Rc(2).close()})("onTimeTrackerAction",function(e){return o.Uc(t),o.uc(3).onTimeTrackerAction.emit(e)})("onShowPaywall",function(){return o.Uc(t),o.uc(3).onShowPaywall.emit()}),o.bc()}if(2&t){const t=o.uc(3);o.Dc("defaultProject",t.defaultProject)("entry",t.entry)("tags",t.tags)("forTask",t.forTask)("dateFormat",t.dateFormat)("team",t.team)}}function B(t,e){if(1&t&&(o.cc(0,"div",6),o.bd(1,q,1,6,"cu-time-tracker-editor",19),o.bc()),2&t){const t=o.uc(2);o.Ib(1),o.Dc("ngIf",t.showEditor)}}function G(t,e){if(1&t){const t=o.dc();o.cc(0,"div",20),o.qc("click",function(){return o.Uc(t),o.uc(2).onDelete.emit()}),o.bc()}2&t&&o.Dc("icon","trash-bold")}function X(t,e){if(1&t){const t=o.dc();o.cc(0,"div",16),o.cc(1,"div",2,3),o.qc("dropdownClose",function(){return o.Uc(t),o.uc().close()}),o.cc(3,"div",4),o.cc(4,"div",17),o.qc("click",function(){return o.Uc(t),o.uc().toggleShowEditor()}),o.bc(),o.bc(),o.bd(5,B,2,1,"div",5),o.bc(),o.bd(6,G,1,1,"div",18),o.bc()}if(2&t){const t=o.uc();o.Ib(1),o.Dc("dropdownCloseOnInsideClick",!1)("dropdownCloseOnModal",!0)("dropdownRepositionFlag",t.showEditor),o.Ib(3),o.Dc("icon","edit"),o.Ib(2),o.Dc("ngIf",t.canDelete)}}const W=["*"];let H=(()=>{class t{constructor(t){this.cdr=t,this.showEditor=!1,this.canDelete=!0,this.forTask=!1,this.useDropdown=!0,this.onDelete=new o.o,this.onEdit=new o.o,this.onSave=new o.o,this.onTimeTrackerAction=new o.o,this.onShowPaywall=new o.o}ngOnInit(){}close(){this.showEditor=!1,this.onTimeTrackerAction.emit({action:i.d.EditorState,editorOpen:!1}),this.cdr.markForCheck()}toggleShowEditor(){this.showEditor=!this.showEditor,this.onTimeTrackerAction.emit({action:i.d.EditorState,editorOpen:this.showEditor}),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(o.h))},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-time-tracker-menu"]],inputs:{canDelete:"canDelete",entry:"entry",defaultProject:"defaultProject",dateFormat:"dateFormat",tags:"tags",forTask:"forTask",useDropdown:"useDropdown",team:"team"},outputs:{onDelete:"onDelete",onEdit:"onEdit",onSave:"onSave",onTimeTrackerAction:"onTimeTrackerAction",onShowPaywall:"onShowPaywall"},ngContentSelectors:W,decls:2,vars:2,consts:function(){let t,e;return t=$localize`:@@common_edit␟28f86ffd419b869711aa13f5e5ff54be6d70731c␟7585826646011739428:Edit`,e=$localize`:@@common_delete-session␟ca7cda8da7b549bfb094103438ab6e9db9de7bd8␟3959652716235767457: Delete Session `,[["class","nav-menu cu-dropdown menu-options","cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownRepositionFlag","dropdownClose",4,"ngIf"],["class","cu-time-tracker-menu__expand",4,"ngIf"],["cuDropdown","",1,"nav-menu","cu-dropdown","menu-options",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownRepositionFlag","dropdownClose"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["class","cu-dropdown__menu nav-menu__controls",4,"cuDropdownMenu"],[1,"cu-dropdown__menu","nav-menu__controls"],[3,"defaultProject","entry","tags","forTask","dateFormat","team","onSave","onClose","onTimeTrackerAction","onShowPaywall",4,"ngIf","ngIfElse"],["showOptions",""],[3,"defaultProject","entry","tags","forTask","dateFormat","team","onSave","onClose","onTimeTrackerAction","onShowPaywall"],["cuLink","","draggable","false",1,"nav-menu-item",3,"click"],[1,"nav-menu-item__icon","nav-menu-item__icon_edit",3,"icon"],[1,"nav-menu-item__name"],t,["cuLink","","draggable","false",1,"nav-menu-item",3,"cuTooltip","click"],e,[1,"cu-time-tracker-menu__expand"],[1,"nav-menu-item__icon","nav-menu-item__icon_edit",3,"icon","click"],["class","nav-menu-item__icon nav-menu-item__icon_trash",3,"icon","click",4,"ngIf"],[3,"defaultProject","entry","tags","forTask","dateFormat","team","onSave","onClose","onTimeTrackerAction","onShowPaywall",4,"ngIf"],[1,"nav-menu-item__icon","nav-menu-item__icon_trash",3,"icon","click"]]},template:function(t,e){1&t&&(o.Cc(),o.bd(0,N,5,3,"div",0),o.bd(1,X,7,5,"div",1)),2&t&&(o.Dc("ngIf",e.useDropdown),o.Ib(1),o.Dc("ngIf",!e.useDropdown))},directives:[n.q,s.b,c.a,r.a,E,_.a,U.a],styles:[".cu-time-tracker-menu__expand[_ngcontent-%COMP%]{display:flex}.cu-time-tracker-menu__expand[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer}.cu-time-tracker-menu__expand[_ngcontent-%COMP%]   .nav-menu-item__icon_trash[_ngcontent-%COMP%]{margin:0 0 0 2px}"],changeDetection:0}),t})()},Yukb:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("3Pt+"),o=a("gb9A"),n=a("K0KF"),s=a("ofXK"),c=a("fXoL");let r=(()=>{class t{}return t.\u0275mod=c.Ub({type:t}),t.\u0275inj=c.Tb({factory:function(e){return new(e||t)},imports:[[s.c,n.a,o.a,i.l]]}),t})()},ZHle:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("IE5h"),o=a("fXoL"),n=a("jJW4");let s=(()=>{class t{constructor(t){this.sharedData=t}transform(t){return Object(i.a)(t,this.sharedData.compatCurrentTeam.microsoft_365_preview)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(n.a))},t.\u0275pipe=o.Vb({name:"hasPreview",type:t,pure:!0}),t})()},Zm52:function(t,e,a){"use strict";a.d(e,"r",function(){return o}),a.d(e,"t",function(){return n}),a.d(e,"s",function(){return s}),a.d(e,"k",function(){return c}),a.d(e,"a",function(){return r}),a.d(e,"j",function(){return l}),a.d(e,"m",function(){return u}),a.d(e,"l",function(){return d}),a.d(e,"p",function(){return p}),a.d(e,"q",function(){return m}),a.d(e,"o",function(){return h}),a.d(e,"b",function(){return g}),a.d(e,"c",function(){return b}),a.d(e,"e",function(){return f}),a.d(e,"f",function(){return k}),a.d(e,"d",function(){return _}),a.d(e,"B",function(){return w}),a.d(e,"C",function(){return v}),a.d(e,"A",function(){return y}),a.d(e,"h",function(){return x}),a.d(e,"i",function(){return T}),a.d(e,"g",function(){return I}),a.d(e,"y",function(){return C}),a.d(e,"z",function(){return D}),a.d(e,"x",function(){return S}),a.d(e,"n",function(){return O}),a.d(e,"v",function(){return j}),a.d(e,"u",function(){return P}),a.d(e,"w",function(){return A});var i=a("l7P3");const o=Object(i.createAction)("[AutomationCore] load Automation Resources tiles"),n=Object(i.createAction)("[AutomationCore] load Automation Resources tiles Success",Object(i.props)()),s=Object(i.createAction)("[AutomationCore] load Automation Resources tiles Failure",Object(i.props)()),c=Object(i.createAction)("[AutomationCore] Load AutomationResources",Object(i.props)()),r=Object(i.createAction)("[Automation Resources] Add automation Coming Soon",Object(i.props)()),l=Object(i.createAction)("[AutomationCore] Load AutomationResources if needed",Object(i.props)()),u=Object(i.createAction)("[AutomationResource] Load AutomationResources Success",Object(i.props)()),d=Object(i.createAction)("[AutomationResource] Load AutomationResources Failure",Object(i.props)()),p=Object(i.createAction)("[Automation] Load automations start",Object(i.props)()),m=Object(i.createAction)("[Automation] Load automations success",Object(i.props)()),h=Object(i.createAction)("[Automation] Load automations error",Object(i.props)()),g=Object(i.createAction)("[Automation] Trigger Information add",Object(i.props)()),b=Object(i.createAction)("[Automation] Trigger Information success",Object(i.props)()),f=Object(i.createAction)("[Automation] Create automation start",Object(i.props)()),k=Object(i.createAction)("[Automation] Create automation success",Object(i.props)()),_=Object(i.createAction)("[Automation] Create automation error",Object(i.props)()),w=Object(i.createAction)("[Automation] Update automation start",Object(i.props)()),v=Object(i.createAction)("[Automation] Update automation success",Object(i.props)()),y=Object(i.createAction)("[Automation] Update automation error",Object(i.props)()),x=Object(i.createAction)("[Automation] Delete automation start",Object(i.props)()),T=Object(i.createAction)("[Automation] Delete automation success",Object(i.props)()),I=Object(i.createAction)("[Automation] Delete automation error",Object(i.props)()),C=Object(i.createAction)("[Automation] Set automation shortcut start",Object(i.props)()),D=Object(i.createAction)("[Automation] Set automation shortcut success",Object(i.props)()),S=Object(i.createAction)("[Automation] Set automation shortcut error",Object(i.props)()),O=Object(i.createAction)("[Automation] Load automation users if needed",Object(i.props)()),j=Object(i.createAction)("[Automation] Load statuses if needed",Object(i.props)()),P=Object(i.createAction)("[Automation] Load statuses",Object(i.props)()),A=Object(i.createAction)("[Automation] Load statuses success",Object(i.props)());Object(i.union)({loadAutomationResources:c,loadAutomationResourcesFailure:d,loadAutomationResourcesSuccess:u,loadAutomationsStart:p,loadAutomationsSuccess:m,loadAutomationsError:h,createAutomationStart:f,createAutomationSuccess:k,createAutomationError:_,updateAutomationStart:w,updateAutomationSuccess:v,updateAutomationError:y,deleteAutomationStart:x,deleteAutomationSuccess:T,deleteAutomationError:I,setAutomationShortcutStart:C,setAutomationShortcutSuccess:D,setAutomationShortcutError:S,loadAutomationUsersIfNeeded:O,addTriggerInformation:g,addTriggerInformationSuccess:b,loadStatusesIfNeeded:j,loadStatuses:P,loadStatusesSuccess:A})},Zq4E:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("fXoL"),o=a("XNiG"),n=a("lJxs"),s=a("/uUt"),c=a("1G5W"),r=a("HDdC");let l=(()=>{class t{constructor(t){this.elementRef=t,this.isInViewPortEnabled=!1,this.isInViewPort=new i.o,this.inited=!1,this.destroy$=new o.a}ngOnInit(){this.isInViewPortEnabled&&this.init(),this.inited=!0}ngOnChanges(t){(t.isInViewPortEnabled||t.scrollContainer)&&(this.destroy$.next(),this.isInViewPortEnabled&&this.inited&&this.init())}ngOnDestroy(){this.destroy$.next()}init(){var t,e;(t=this.scrollContainer,e=this.elementRef.nativeElement,new r.a(a=>{const i=new IntersectionObserver(t=>{a.next(t)},{root:t,threshold:void 0,rootMargin:void 0});return i.observe(e),()=>{i.disconnect()}})).pipe(Object(n.a)(t=>t[t.length-1].isIntersecting),Object(s.a)(),Object(c.a)(this.destroy$)).subscribe(t=>{this.isInViewPort.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.m))},t.\u0275dir=i.Rb({type:t,selectors:[["","cuIsInViewport",""]],inputs:{isInViewPortEnabled:"isInViewPortEnabled",scrollContainer:"scrollContainer",threshold:"threshold",rootMargin:"rootMargin"},outputs:{isInViewPort:"cuIsInViewport"},features:[i.Gb]}),t})()},a6CW:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("CgHv");const o={[i.r.name]:"date_created",[i.t.name]:"date_updated",[i.q.name]:"date_closed",[i.s.name]:"date_done"}},aeas:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("fXoL"),o=a("p1wf");let n=(()=>{class t{constructor(t){this.defaultMapper=t}transform(t){const e=this.defaultMapper.mapConditionOperators(t);return e?e.label:t}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.a))},t.\u0275pipe=i.Vb({name:"opToText",type:t,pure:!0}),t})()},"an+h":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{}return t.\u0275mod=i.Ub({type:t}),t.\u0275inj=i.Tb({factory:function(e){return new(e||t)}}),t})()},bjes:function(t,e,a){"use strict";a.d(e,"a",function(){return l}),a.d(e,"b",function(){return u});var i=a("IzEk"),o=a("eIep"),n=a("vkgz"),s=a("LRne"),c=a("4F4K"),r=a("m2rH");function l(t,e,a,l=!1){return e.select(Object(c.d)(t)).pipe(Object(i.a)(1),Object(o.a)(i=>{if(i)return Object(s.a)(i);{const i={};return l&&(i.template=!0),a.getTask(t,!0,!1,!1,i).pipe(Object(n.a)(t=>{e.dispatch(new r.f([t]))}))}}))}const u=(t,e,a)=>{function i(t,n){Array.isArray(t[n])&&t[n].forEach(function(t,e,a){i(a,e)}),"object"==typeof t[n]&&o(t[n]);const s=e.findIndex(t=>t===n);s>-1&&(t[a[s]]=t[e[s]],delete t[e[s]])}const o=e=>{Object.keys(t).forEach(t=>{i(e,t)})};t&&o(t)}},c3PJ:function(t,e,a){"use strict";a.d(e,"a",function(){return ct});var i=a("fXoL"),o=a("IlGD"),n=a("x1J0"),s=a("YwDF"),c=a("jJQC"),r=a("c3rA"),l=a("eIep"),u=a("zp1y"),d=a("lJxs"),p=a("UXun"),m=a("pLZG"),h=a("IzEk"),g=a("1G5W"),b=a("+2Ly"),f=a("CgHv"),k=a("7Cbv"),_=a("5+WD"),w=a("MguC"),v=a("N/Rp"),y=a("uslN"),x=a("2Vo4"),T=a("LRne"),I=a("itXk"),C=a("XNiG"),D=a("HHlo"),S=a("8wx5"),O=a("2eDp"),j=a("l7P3"),P=a("Jf2N"),A=a("8it8"),$=a("DkPU"),R=a("ofXK"),F=a("3Pt+"),M=a("O5gs"),E=a("UdVN"),U=a("EDFS"),L=a("8r6i");const z=["addCustomFieldTemplate"],V=["relatedToDropdown"];function N(t,e){1&t&&(i.ac(0),i.gc(1,28),i.Zb())}const q=function(){return[]};function B(t,e){if(1&t&&(i.cc(0,"div",4),i.cc(1,"label",5),i.gc(2,29),i.bc(),i.cc(3,"cu-dropdown-list",30,31),i.cc(5,"div",12),i.ac(6),i.gc(7,32),i.Zb(),i.Xb(8,"div",13),i.bc(),i.bc(),i.bc()),2&t){const t=i.Rc(4);i.Ib(3),i.Dc("items",i.Gc(4,q))("autoClose",!1),i.Ib(5),i.Ob("cu-custom-fields__form-input-arrow_active",t.dropdown.isOpen)}}function G(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.fd(" ",t.relatedToMenuItems[t.selectedRelatedToMenuItemIdx].title," ")}}function X(t,e){1&t&&i.Xb(0,"div",40)}function W(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2).$implicit,e=i.uc();i.Ib(1),i.ed(e.calculationMenuItems[t.calculation].title)}}function H(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",41),i.qc("click",function(t){return t.stopPropagation()})("onSelect",function(e){i.Uc(t);const a=i.uc().$implicit;return i.uc().changeColumnCalculation(a.id,e)}),i.bd(1,W,2,1,"ng-container",1),i.bc()}if(2&t){const t=i.uc().$implicit,e=i.uc(),a=i.Rc(41),o=i.Rc(33);i.Dc("items",e.calculationMenuItemsForAggregableType[t.aggregableType])("dropdownDisabled",e.team.plan_id===e.TeamPlan.FREE)("popover",a)("triggers",e.team.plan_id===e.TeamPlan.FREE?"click":"")("outsideClick",!0)("toggleModifier","cu-task-list-header-settings-create-linked-columns__calculate-toggle"),i.Ib(1),i.Dc("ngIf",t.calculation&&e.calculationMenuItems[t.calculation])("ngIfElse",o)}}function Z(t,e){if(1&t){const t=i.dc();i.cc(0,"div",42),i.qc("click",function(){i.Uc(t);const e=i.uc().$implicit;return i.uc().removeColumn(e.id)}),i.bc()}}function Q(t,e){if(1&t){const t=i.dc();i.cc(0,"div",33),i.bd(1,X,1,0,"div",34),i.cc(2,"cu-dropdown-list",35,36),i.qc("onSelect",function(a){i.Uc(t);const o=e.$implicit;return i.uc().changeColumnType(o.id,a)}),i.vc(4,"async"),i.cc(5,"div",12),i.cc(6,"div",37),i.dd(7),i.bc(),i.bd(8,H,2,8,"cu-dropdown-list",38),i.Xb(9,"div",13),i.bc(),i.bc(),i.bd(10,Z,1,0,"div",39),i.bc()}if(2&t){const t=e.$implicit,a=i.Rc(3),o=i.uc();i.Dc("cdkDragDisabled",o.columns.length<2),i.Ib(1),i.Dc("ngIf",o.columns.length>1),i.Ib(1),i.Dc("items",i.wc(4,10,o.addColumnFieldTypeMenuItems$))("showSearch",!0)("autoFocusSearch",!0),i.Ib(5),i.fd(" ",t.label," "),i.Ib(1),i.Dc("ngIf",t.aggregableType),i.Ib(1),i.Ob("cu-custom-fields__form-input-arrow_active",a.dropdown.isOpen),i.Ib(1),i.Dc("ngIf",o.columns.length>1)}}function K(t,e){1&t&&(i.ac(0),i.gc(1,43),i.Zb())}function J(t,e){1&t&&(i.ac(0),i.gc(1,44),i.Zb())}function Y(t,e){1&t&&(i.ac(0),i.gc(1,45),i.Zb())}function tt(t,e){1&t&&(i.ac(0),i.gc(1,46),i.Zb())}function et(t,e){1&t&&(i.ac(0),i.gc(1,47),i.Zb())}function at(t,e){1&t&&(i.ac(0),i.gc(1,48),i.Zb())}function it(t,e){1&t&&(i.ac(0),i.dd(1," + "),i.ac(2),i.gc(3,50),i.Zb(),i.Zb())}function ot(t,e){1&t&&(i.dd(0," + "),i.ac(1),i.gc(2,51),i.Zb())}function nt(t,e){if(1&t&&(i.bd(0,it,4,0,"ng-container",1),i.vc(1,"async"),i.bd(2,ot,3,0,"ng-template",null,49,i.cd)),2&t){const t=i.Rc(3),e=i.uc();i.Dc("ngIf",i.wc(1,2,e.selectedColumnType$)===e.DataViewRollupColumnLinkType.ListRelationshipCustomField)("ngIfElse",t)}}function st(t,e){if(1&t&&i.Xb(0,"cu-paywall-popover",52),2&t){const t=i.uc();i.Dc("title",t.calculateLinkedColsPaywallTitleText)("upgradeButtonText",t.paywallCommonStringsService.upgradeToUnlimitedText)("learnMore","https://docs.clickup.com/en/articles/3186193-column-calculations-in-list-view")("amplitudeLabel","Calculate Linked Columns")}}let ct=(()=>{class t{constructor(t,e,a,m,h){this.store=t,this.modalService=e,this.injector=a,this.commonStringsService=m,this.paywallCommonStringsService=h,this.repositionMenu=new i.o,this.cancel=new i.o,this.createModalOpen=new i.o,this.createRollupColumns=new i.o,this.updateRollupColumn=new i.o,this.DataViewRollupColumnLinkType=w.g,this.selectedColumnType$=new x.a(null),this.TeamPlan=y.f,this.columnTypeLabels={[w.g.Tasks]:"Linked Tasks",[w.g.ListRelationshipCustomField]:"Linked Lists",[w.g.TaskCustomField]:"Task Custom Field"},this.fieldNameValue="",this.trackById=Object(c.d)("id"),this.relatedToMenuFooterItems=[{id:"separator",type:n.a.Separator,title:"New Relationship Separator"},{id:"add",type:n.a.Item,title:$localize`:@@custom-fields_create-relationship:Create Relationship`,icon:"cu3-plus"}],this.relatedToMenuItemsTmpl=[{id:"title",type:n.a.Header,title:"Relationships"},{id:"tasks",type:n.a.Item,title:"Tasks",icon:"cu3-task"},{id:"dependencies",type:n.a.Item,title:"Dependencies",icon:"dependency-o"}],this.relatedToMenuItems=[...this.relatedToMenuItemsTmpl],this.selectedRelatedToMenuItemIdx=null,this.linkedTaskMenuItems=[{id:"title",type:n.a.Header,title:$localize`:@@common_linked-tasks:Linked tasks`},{id:"links",title:"Task Links",checkType:"check",checked:!0},{id:"depends_on",title:$localize`:@@common_blocking-dependency-1:Blocking`,checkType:"check",checked:!0},{id:"waiting_on",title:$localize`:@@common_waiting-on:Waiting on`,checkType:"check",checked:!0}],this.calculationMenuItems=S.a,this.calculationMenuItemsForAggregableType=S.b,this.linkedTaskMenuLabel="All",this.customFieldSource$=new x.a(null),this.customFieldSubcategory$=this.customFieldSource$.pipe(Object(l.a)(t=>t&&t.type===s.a.ListRelationship?this.store.select(Object(r.findSubcategoryByIdInAllProjects)(t.type_config.subcategory_id)):Object(T.a)(null))),this.columns=[{id:Object(k.a)(),type:f.rb[0].name,label:f.rb[0].title}],this.addColumnFieldTypeMenuItems$=Object(I.a)([this.selectedColumnType$,this.customFieldSource$]).pipe(Object(l.a)(([t,e])=>{if(t===w.g.ListRelationshipCustomField){if(!e)return Object(T.a)([]);const t={id:e.type_config.subcategory_id,name:"",type:"subcategory"};return this.store.dispatch(Object(D.m)({entity:t})),this.store.select(Object(O.f)(t))}return Object(T.a)([])}),Object(u.a)(this.store.select(r.getAllProjects),this.store.select(r.getTeam),this.customFieldSubcategory$),Object(d.a)(([t,e,a,i])=>{const c=this.selectedColumnType$.value===w.g.ListRelationshipCustomField&&e.find(t=>t.id===(null==i?void 0:i.project_id));return[{id:"title",type:n.a.Header,title:"Task Fields"},...Object(f.cb)(f.rb.map(t=>Object.assign(Object.assign({},t),{state:v.b.Visible})),c,a,e).map(t=>({id:t.name,title:t.title,customPayload:{aggregableType:t.aggregableType}})),...(t||[]).filter(t=>Object(s.d)(t,[s.a.Number,s.a.Currency])).map(t=>{const{aggregableType:e}=o.e[t.type].filters;return{id:"cf_"+t.id,title:t.name,icon:"field-type-list-"+t.type,customPayload:{aggregableType:"function"==typeof e?e(t):e}}})]}),Object(p.a)({refCount:!0,bufferSize:1})),this.destroy$=new C.a,this.calculateLinkedColsPaywallTitleText=$localize`:@@cu-task-list-header-settings-create-linked-columns__paywall-title_calculate-linked-columns:Calculate Linked Columns`,this.relatedToMenuItemId=null}ngOnInit(){}ngOnDestroy(){this.destroy$.next()}ngOnChanges(t){if(t.customFields&&this.customFields&&(this.listRelationshipCustomFieldMenuItems=[...this.customFields.filter(t=>t.type===s.a.ListRelationship).map(t=>({id:t.id,title:t.name,customPayload:t}))].filter(Boolean),this.taskCustomFieldMenuItems=[...this.customFields.filter(t=>t.type===s.a.Tasks).map(t=>({id:t.id,title:t.name,customPayload:t}))].filter(Boolean),this.relatedToMenuItems=[...this.relatedToMenuItemsTmpl,...this.listRelationshipCustomFieldMenuItems,...this.taskCustomFieldMenuItems,...this.relatedToMenuFooterItems],null!==this.relatedToMenuItemId)){const t=this.relatedToMenuItems.find(t=>t.id===this.relatedToMenuItemId);void 0!==t&&setTimeout(()=>{this.relatedToMenuItemSelected(t)},0),this.relatedToMenuItemId=null}if(this.editColumn){this.fieldNameValue=this.editColumn.title;const t=this.relatedToMenuItems.find(t=>this.editColumn.link.type===w.g.Tasks?Array.isArray(this.editColumn.link.hidden)&&this.editColumn.link.hidden.includes("depends_on")&&this.editColumn.link.hidden.includes("waiting_on")?"tasks"===t.id:"dependencies"===t.id:void 0!==this.editColumn.link&&void 0!==this.editColumn.link.field_id&&this.editColumn.link.field_id===t.id);void 0!==t&&this.relatedToMenuItemSelected(t),this.addColumnFieldTypeMenuItems$.pipe(Object(d.a)(t=>{const e=this.editColumn.name.split(":")[1];return t.find(t=>t.id===e)}),Object(m.a)(t=>!!t),Object(h.a)(1),Object(g.a)(this.destroy$)).subscribe(t=>{if(this.changeColumnType(this.columns[0].id,t),this.editColumn.link.func){const t=S.b[this.columns[0].aggregableType].find(t=>t.id===this.editColumn.link.func);this.changeColumnCalculation(this.columns[0].id,t)}})}}selectColumnType(t){this.selectedColumnType$.next(t),t!==w.g.ListRelationshipCustomField&&this.columns[0].type.startsWith("cf_")&&(this.columns=[{id:Object(k.a)(),type:f.rb[0].name,label:f.rb[0].title}]),this.repositionMenu.emit()}relatedToMenuItemSelected(t){this.selectedRelatedToMenuItemIdx=t&&"add"!==t.id?this.relatedToMenuItems.findIndex(e=>e.id===t.id):null,this.relatedToDropdown&&this.relatedToDropdown.close(),"add"!==t.id?t.customPayload&&t.customPayload.type===s.a.Tasks?(this.selectColumnType(w.g.TaskCustomField),this.customFieldMenuItemSelected(t)):t.customPayload&&t.customPayload.type===s.a.ListRelationship?(this.selectColumnType(w.g.ListRelationshipCustomField),this.customFieldMenuItemSelected(t)):(this.linkedTaskMenuItems=this.linkedTaskMenuItems.map(e=>Object.assign(Object.assign({},e),"tasks"===t.id&&"links"===e.id||"dependencies"===t.id&&("depends_on"===e.id||"waiting_on"===e.id)?{checked:!0}:{checked:!1})),this.selectColumnType(w.g.Tasks)):this.customFieldMenuItemSelected(t)}linkedMenuItemSelected(t){if(!t.type){this.linkedTaskMenuItems=this.linkedTaskMenuItems.map(e=>e.id===t.id?Object.assign(Object.assign({},e),{checked:!e.checked}):e);const e=this.linkedTaskMenuItems.filter(t=>!t.type&&t.checked);this.linkedTaskMenuLabel=e.length===this.linkedTaskMenuItems.length-1?"All":e.map(t=>t.title).join(", ")}}customFieldMenuItemSelected(t){t.customPayload?this.customFieldSource$.next(t.customPayload):"add"===t.id&&this.store.select(r.getCurrentHierarchyEntity).pipe(Object(h.a)(1)).subscribe(t=>{this.createModalOpen.emit(!0);const e=this.modalService.openComponent(b.a,this.injector,{title:this.commonStringsService.manageCustomFieldText(t.name),dialogModifier:"cu-modal__dialog-custom-fields",bodyModifier:"cu-modal__body_no-min-height"});e.instance.fieldCreated.pipe(Object(g.a)(e.instance.destroy$)).subscribe(t=>{this.relatedToMenuItemId=t.id,this.customFieldSource$.next(t)}),e.instance.hideBackLink=!0,e.instance.closeOnCreate=!0,e.instance.hideExistingFields=!0,e.instance.forRelationships=!0,e.instance.hideCreateRollupFields=!0,e.instance.addCreatedColumn=!0,e.instance.setEntity(t),e.instance.startCreate(this.selectedColumnType$.value===w.g.ListRelationshipCustomField?s.a.ListRelationship:s.a.Tasks),e.instance.destroy$.pipe(Object(h.a)(1)).subscribe(()=>{this.createModalOpen.emit(!1)})})}changeColumnType(t,e){e.type||(this.columns=this.columns.map(a=>a.id===t?{id:t,type:e.id,label:e.title,aggregableType:e.customPayload.aggregableType}:a))}changeColumnCalculation(t,e){e.type||(this.columns=this.columns.map(a=>a.id===t?Object.assign(Object.assign({},a),{calculation:e.id}):a))}addColumn(t){t.type||(this.columns=[...this.columns,{id:Object(k.a)(),type:t.id,label:t.title,aggregableType:t.customPayload.aggregableType}])}removeColumn(t){this.columns=this.columns.filter(e=>e.id!==t)}reorderColumns(t){this.columns=[...this.columns],Object(_.g)(this.columns,t.previousIndex,t.currentIndex)}saveColumns(){const t=this.columns.map(t=>{const e={name:`rollup:${t.type}:${Object(k.a)()}`,title:this.fieldNameValue||t.label,state:v.b.Visible,link:{func:t.calculation,type:this.selectedColumnType$.value,field_id:this.selectedColumnType$.value!==w.g.Tasks?this.customFieldSource$.value.id:void 0,hidden:this.selectedColumnType$.value===w.g.Tasks?this.linkedTaskMenuItems.filter(t=>!t.type&&!t.checked).map(t=>t.id):void 0}};return e.width=Object(f.gb)(e),e});this.editColumn?this.updateRollupColumn.emit(t[0]):this.createRollupColumns.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(j.Store),i.Wb(P.a),i.Wb(i.t),i.Wb(A.a),i.Wb($.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-list-header-settings-create-linked-columns"]],viewQuery:function(t,e){if(1&t&&(i.jd(z,1),i.jd(V,1)),2&t){let t;i.Qc(t=i.rc())&&(e.addCustomFieldTemplate=t.first),i.Qc(t=i.rc())&&(e.relatedToDropdown=t.first)}},hostAttrs:[1,"cu-task-list-header-settings-create-linked-columns"],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-task-list-header-settings-create-linked-columns_edit-column",!!e.editColumn)},inputs:{customFields:"customFields",editColumn:"editColumn",team:"team"},outputs:{repositionMenu:"repositionMenu",cancel:"cancel",createModalOpen:"createModalOpen",createRollupColumns:"createRollupColumns",updateRollupColumn:"updateRollupColumn"},features:[i.Gb],decls:42,vars:16,consts:function(){let t,e,a,i,o,n,s,c,r,l,u,d,p,m,h,g,b,f,k;return t=$localize`:@@custom-fields_field-name␟f80a2cb86ad78027c6ff6350b61b488bcc5b3791␟881219050442768652:Field name`,e=$localize`:@@forms_placeholder--enter-name␟bafe4efdd04c546e0bfe7303d13d617d4c1162f3␟6292793136870764429:Enter name...`,a=$localize`:@@custom-fields_related-to␟83bff76d8c6f687576fae738d474b2779ffcf9ec␟3909640255354432491:Related to`,i=$localize`:@@cu-task-list-header-settings-create-linked-columns__form-label_rollup-field␟3ea816af1e3e4967dcf4403496be4ec724ca952d␟8277428129939369328:Rollup field`,o=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,n=$localize`:@@common_add-field␟384a3c6a72838873495088dec646fbc57c4e3475␟7352008138849764607:Add field`,s=$localize`:@@common_type␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,c=$localize`:@@custom-fields_type--rollup␟d2ef2b2656bf2a94399d068f0b5ff10ae21c8565␟7292753134716316843:Rollup`,r=$localize`:button text@@common_done--button-text␟8dd413cee2228118c536f503709329a4d1a395e2␟397098723873502323:Done`,l=$localize`:@@custom-fields_edit␟ec694957b46fd8d33ea03e7542744961f2e62774␟5001555754787397613:Edit field`,u=$localize`:@@custom-fields_dropdown-placeholder--select-field␟6551f8b9260ead66251ec5f3f702b583601241ad␟4760284649465632223:Select field`,d=$localize`:@@common_calculate␟9bd3c02de193d73cd3b6c05b563d9b87b3f47236␟5005141257091855131:Calculate`,p=$localize`:@@common_create␟70a67e04629f6d412db0a12d51820b480788d795␟5674286808255988565:Create`,m=$localize`:@@cu-task-list-header-settings-create-linked-columns__dropdown-placeholder_select-relationship␟9b2d25be7451dbb3eccd6ea06a4c615cfbf68d69␟1813216381210381284:Select relationship...`,h=$localize`:@@cu-task-list-header-settings-create-linked-columns__add-linked-list␟c7d3d8443e84f01b12dafa959557df4a8d51f052␟4901930384192537763:Add linked List`,g=$localize`:@@common_add-custom-field␟d61c96b6a32e373de49127b1e3d9150ce2c58946␟3373165770056887797:Add Custom Field`,b=$localize`:@@common_plans--unlimited␟aa6fb95c355f172bda303de1ce2f38c251a149cf␟240806681889331244:Unlimited`,f=$localize`:@@cu-task-list-header-settings-create-linked-columns__paywall-text_calculate-linked-columns␟82e494c007598cdfb9c3e30ce972dd46b35274a1␟3010910687499236134:Add cool calculations to Linked Columns in List view, so you can see sums, averages, ranges, and more.`,k=$localize`:@@cu-task-list-header-settings-create-linked-columns__paywall-email-subject_calculate-linked-columns␟2dbb1fbffb7353218d2af3adf4212fd8f4aa660c␟853729705818416825:Please upgrade ClickUp so we can use List view Linked Column calculations`,[[1,"cu-task-list-header-settings-create-linked-columns__header"],[4,"ngIf","ngIfElse"],[1,"cu-task-list-header-settings-create-linked-columns__add-new-type"],[1,"cu-custom-fields__form-row"],[1,"cu-custom-fields__form-row-item"],[1,"cu-custom-fields__form-input-label"],t,["type","text","placeholder",e,1,"cu-custom-fields__form-input",3,"ngModel","ngModelChange"],["class","cu-custom-fields__form-row-item",4,"ngIf"],a,[1,"cu-custom-fields__form-input-container",3,"menuModifier","items","autoClose","onSelect"],["relatedToDropdown",""],[1,"cu-custom-fields__form-input"],["icon","arrow-left-bold",1,"cu-custom-fields__form-input-arrow"],["cdkDropList","",1,"cu-custom-fields__form-row-item",3,"cdkDropListDropped"],i,["class","cu-task-list-header-settings-create-linked-columns__column-row","cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-task-list-header-settings-create-linked-columns__buttons"],["type","button",1,"cu-btn","cu-btn_sm","cu-btn_grey","cu-btn_font-size-14",3,"click"],o,[1,"cu-btn","cu-btn_sm","cu-btn_font-size-14",3,"disabled","click"],["editColumnTmpl",""],["selectFieldTmpl",""],["calculateTmpl",""],["createTmpl",""],["selectRelationShipTmpl",""],["addCustomFieldTemplate",""],["paywallTemplate",""],n,s,[1,"cu-custom-fields__form-input-container",3,"items","autoClose"],["cfFieldTypeDropdown",""],c,["cdkDrag","",1,"cu-task-list-header-settings-create-linked-columns__column-row",3,"cdkDragDisabled"],["cdkDragHandle","","class","cu-task-list-header-settings-create-linked-columns__handle","icon","handle6",4,"ngIf"],[1,"cu-custom-fields__form-input-container",3,"items","showSearch","autoFocusSearch","onSelect"],["dropdown",""],[1,"cu-task-list-header-settings-create-linked-columns__label"],["class","cu-task-list-header-settings-create-linked-columns__calculate","containerClass","popover_white popover_no-max-width popover_no-padding","container","body","placement","left",3,"items","dropdownDisabled","popover","triggers","outsideClick","toggleModifier","click","onSelect",4,"ngIf"],["class","cu-task-list-header-settings-create-linked-columns__remove","icon","cu2-trash-alt",3,"click",4,"ngIf"],["cdkDragHandle","","icon","handle6",1,"cu-task-list-header-settings-create-linked-columns__handle"],["containerClass","popover_white popover_no-max-width popover_no-padding","container","body","placement","left",1,"cu-task-list-header-settings-create-linked-columns__calculate",3,"items","dropdownDisabled","popover","triggers","outsideClick","toggleModifier","click","onSelect"],["icon","cu2-trash-alt",1,"cu-task-list-header-settings-create-linked-columns__remove",3,"click"],r,l,u,d,p,m,["addCustomFieldTextTmpl",""],h,g,["badge",b,"text",f,"emailSubject",k,3,"title","upgradeButtonText","learnMore","amplitudeLabel"]]},template:function(t,e){if(1&t&&(i.cc(0,"div",0),i.bd(1,N,2,0,"ng-container",1),i.bc(),i.cc(2,"div",2),i.cc(3,"div",3),i.cc(4,"div",4),i.cc(5,"label",5),i.gc(6,6),i.bc(),i.cc(7,"input",7),i.qc("ngModelChange",function(t){return e.fieldNameValue=t}),i.bc(),i.bc(),i.bd(8,B,9,5,"div",8),i.bc(),i.cc(9,"div",3),i.cc(10,"div",4),i.cc(11,"label",5),i.gc(12,9),i.bc(),i.cc(13,"cu-dropdown-list",10,11),i.qc("onSelect",function(t){return e.relatedToMenuItemSelected(t)}),i.cc(15,"div",12),i.bd(16,G,2,1,"ng-container",1),i.Xb(17,"div",13),i.bc(),i.bc(),i.bc(),i.bc(),i.cc(18,"div",3),i.cc(19,"div",14),i.qc("cdkDropListDropped",function(t){return e.reorderColumns(t)}),i.cc(20,"label",5),i.gc(21,15),i.bc(),i.bd(22,Q,11,12,"div",16),i.bc(),i.bc(),i.cc(23,"div",17),i.cc(24,"button",18),i.qc("click",function(){return e.cancel.emit()}),i.gc(25,19),i.bc(),i.cc(26,"button",20),i.qc("click",function(){return e.saveColumns()}),i.bd(27,K,2,0,"ng-container",1),i.bc(),i.bc(),i.bc(),i.bd(28,J,2,0,"ng-template",null,21,i.cd),i.bd(30,Y,2,0,"ng-template",null,22,i.cd),i.bd(32,tt,2,0,"ng-template",null,23,i.cd),i.bd(34,et,2,0,"ng-template",null,24,i.cd),i.bd(36,at,2,0,"ng-template",null,25,i.cd),i.bd(38,nt,4,4,"ng-template",null,26,i.cd),i.bd(40,st,1,4,"ng-template",null,27,i.cd)),2&t){const t=i.Rc(14),a=i.Rc(29),o=i.Rc(35),n=i.Rc(37);i.Ib(1),i.Dc("ngIf",!e.editColumn)("ngIfElse",a),i.Ib(6),i.Dc("ngModel",e.fieldNameValue),i.Ib(1),i.Dc("ngIf",!1),i.Ib(5),i.Dc("menuModifier","cu-task-list-header-settings-create-linked-columns__full-width-dropdown")("items",e.relatedToMenuItems)("autoClose",!1),i.Ib(3),i.Dc("ngIf",!!e.selectedRelatedToMenuItemIdx&&!!e.relatedToMenuItems[e.selectedRelatedToMenuItemIdx]&&e.relatedToMenuItems[e.selectedRelatedToMenuItemIdx].title)("ngIfElse",n),i.Ib(1),i.Ob("cu-custom-fields__form-input-arrow_active",t.dropdown.isOpen),i.Ib(5),i.Dc("ngForOf",e.columns)("ngForTrackBy",e.trackById),i.Ib(4),i.Dc("disabled",""===e.fieldNameValue||null===e.selectedRelatedToMenuItemIdx),i.Ib(1),i.Dc("ngIf",e.editColumn)("ngIfElse",o)}},directives:[R.q,F.c,F.p,F.s,M.a,E.a,_.d,R.p,_.a,_.b,U.c,L.a],pipes:[R.b],styles:['.cu-task-list-header-settings-create-linked-columns{display:block;padding:15px 20px 5px}.cu-task-list-header-settings-create-linked-columns__header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;flex-shrink:0;text-transform:uppercase;font:500 11px Gotham Pro,Proxima Nova,arial,serif;margin:0 0 5px;color:rgba(34,34,34,.3)}.contrast_high .cu-task-list-header-settings-create-linked-columns__header{color:#858585}.dark-theme .cu-task-list-header-settings-create-linked-columns__header{color:#828588}.cu-task-list-header-settings-create-linked-columns__header_link{cursor:pointer}.cu-task-list-header-settings-create-linked-columns__header_link:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings-create-linked-columns__header_link:hover{color:var(--theme-main-color)}}.cu-task-list-header-settings-create-linked-columns__header_link:hover .cu-task-list-header-settings-create-linked-columns__header-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings-create-linked-columns__header_link:hover .cu-task-list-header-settings-create-linked-columns__header-arrow{fill:var(--theme-main-color)}}.cu-task-list-header-settings-create-linked-columns__header-arrow{width:10px;height:10px;transform:rotate(180deg);margin-left:-7px;margin-right:4px;fill:rgba(34,34,34,.3)}.contrast_high .cu-task-list-header-settings-create-linked-columns__header-arrow{fill:#858585}.dark-theme .cu-task-list-header-settings-create-linked-columns__header-arrow{fill:#828588}.cu-task-list-header-settings-create-linked-columns__new{width:480px;margin:0 -10px}.cu-task-list-header-settings-create-linked-columns__new-item{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;cursor:pointer;border-radius:4px;padding:12px}.cu-task-list-header-settings-create-linked-columns__new-item:hover{background:#fafbfc}.dark-theme .cu-task-list-header-settings-create-linked-columns__new-item:hover{background:#2b343b}.cu-task-list-header-settings-create-linked-columns__new-item-img{flex-shrink:0;width:130px;height:90px;margin-right:20px}.cu-task-list-header-settings-create-linked-columns__new-item-body-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 13px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:10px;color:#292d34}.dark-theme .cu-task-list-header-settings-create-linked-columns__new-item-body-title{color:#d5d6d7}.cu-task-list-header-settings-create-linked-columns__new-item-body-description{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 13px/22px Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-task-list-header-settings-create-linked-columns__new-item-body-description{color:#abaeb0}.cu-task-list-header-settings-create-linked-columns_edit-column{display:flex;flex-direction:column;padding:15px 20px}.cu-task-list-header-settings-create-linked-columns .cu-custom-fields__form-input-container.cu-dropdown-list>div{flex:1}.cu-task-list-header-settings-create-linked-columns__add{color:#7b68ee;margin-bottom:20px;cursor:pointer;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings-create-linked-columns__add{color:var(--theme-main-color)}}.cu-task-list-header-settings-create-linked-columns__add:hover{color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-list-header-settings-create-linked-columns__add:hover{color:var(--theme-main-color-dark)}}.cu-task-list-header-settings-create-linked-columns__buttons{display:flex;justify-content:center}.cu-task-list-header-settings-create-linked-columns__buttons .cu-btn{flex-grow:1}.cu-task-list-header-settings-create-linked-columns__buttons .cu-btn+.cu-btn{margin-left:15px}.cu-task-list-header-settings-create-linked-columns__column-row{display:flex;align-items:center;position:relative;background-color:#fff}.dark-theme .cu-task-list-header-settings-create-linked-columns__column-row{background:#384047}.cu-task-list-header-settings-create-linked-columns__column-row+.cu-task-list-header-settings-create-linked-columns__column-row{margin-top:8px}.cu-task-list-header-settings-create-linked-columns__column-row .cu-custom-fields__form-input-container{flex:1;min-width:0}.cu-task-list-header-settings-create-linked-columns__column-row .cu-custom-fields__form-input-container .cu-dropdown{width:100%}.cu-task-list-header-settings-create-linked-columns__handle{position:absolute;left:-15px;cursor:grab;padding:3px;width:15px;height:28px;fill:#b9bec7}.dark-theme .cu-task-list-header-settings-create-linked-columns__handle{fill:#7c828d}.cu-task-list-header-settings-create-linked-columns__handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings-create-linked-columns__handle:hover{fill:var(--theme-main-color)}}.cu-task-list-header-settings-create-linked-columns__remove{cursor:pointer;width:33px;height:33px;fill:#fd71af;border-radius:3px;padding:9px;margin-left:8px;border:1px solid #e4e4e4}.dark-theme .cu-task-list-header-settings-create-linked-columns__remove{border-color:#1e272e}.cu-task-list-header-settings-create-linked-columns__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;margin-right:10px;color:#4a4a4a}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list-header-settings-create-linked-columns__label{font-family:var(--global-font-support)}}.dark-theme .cu-task-list-header-settings-create-linked-columns__label{color:#d5d6d7}.cu-task-list-header-settings-create-linked-columns__calculate{margin:0 15px 0 auto}.cu-task-list-header-settings-create-linked-columns__calculate-toggle{color:#7b68ee;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;border-bottom:1px dashed}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-settings-create-linked-columns__calculate-toggle{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-task-list-header-settings-create-linked-columns__calculate-toggle:hover{color:#5f48ea;border-bottom-color:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-list-header-settings-create-linked-columns__calculate-toggle:hover{color:var(--theme-main-color-dark);border-bottom-color:var(--theme-main-color-dark)}}.cu-task-list-header-settings-create-linked-columns__add-new-type{flex:0 1 auto;position:relative;width:500px;padding:15px 0}.cu-task-list-header-settings-create-linked-columns__add-new-type .cu-custom-fields__form-row-item{min-width:0}.cu-task-list-header-settings-create-linked-columns__full-width-dropdown{width:500px;max-width:none}.dark-theme .cu-task-list-header-settings-create-linked-columns .cu-custom-fields__form-input:-ms-input-placeholder{color:#d5d6d7;opacity:.7}.dark-theme .cu-task-list-header-settings-create-linked-columns .cu-custom-fields__form-input::placeholder{color:#d5d6d7;opacity:.7}'],encapsulation:2,changeDetection:0}),t})()},"d+RR":function(t,e,a){"use strict";e.a=function(t,e){for(var a,i=-1,o=t.length;++i<o;){var n=e(t[i]);void 0!==n&&(a=void 0===a?n:a+n)}return a}},d0By:function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("jJQC"),o=a("fXoL"),n=a("9gfC"),s=a("ofXK"),c=a("NsZK");function r(t,e){if(1&t&&(o.cc(0,"a",8),o.dd(1),o.bc()),2&t){const t=o.uc().$implicit;o.Dc("href",t.url,o.Xc)("cuTooltip",t.filename)("tooltipDisabledIfTextNotTruncated",!0),o.Ib(1),o.ed(t.short_name)}}function l(t,e){if(1&t&&(o.cc(0,"div",9),o.dd(1),o.bc()),2&t){const t=o.uc().$implicit;o.Dc("cuTooltip",t.filename)("tooltipDisabledIfTextNotTruncated",!0),o.Ib(1),o.fd(" ",t.short_name," ")}}function u(t,e){if(1&t&&(o.cc(0,"div",3),o.bd(1,r,2,4,"a",4),o.bd(2,l,2,3,"div",5),o.cc(3,"div",6),o.cc(4,"div",7),o.dd(5),o.bc(),o.cc(6,"div",7),o.dd(7),o.bc(),o.bc(),o.bc()),2&t){const t=e.$implicit;o.Ib(1),o.Dc("ngIf",t.url),o.Ib(1),o.Dc("ngIf",!t.url),o.Ib(2),o.Ob("cu-git-files-menu__counter_green",t.additions>0),o.Ib(1),o.fd(" ",t.additions>0?"+"+t.additions:"0"," "),o.Ib(1),o.Ob("cu-git-files-menu__counter_red",t.deletions>0),o.Ib(1),o.fd(" ",t.deletions>0?"-"+t.deletions:"0"," ")}}let d=(()=>{class t{constructor(){this.trackByValue=i.f}get dropdownTitleText(){return this.files?1===this.files.length?$localize`:@@cu-git-files-menu__updated-file:Updated file`+":":$localize`:@@cu-git-files-menu__updated-file_many:Updated files`+":":null}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-git-files-menu"]],hostAttrs:[1,"cu-git-files-menu"],inputs:{files:"files"},decls:3,vars:3,consts:[[3,"title"],[1,"cu-git-files-menu__body"],["class","cu-git-files-menu__item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-git-files-menu__item"],["target","_blank","tooltipDelay","300",3,"href","cuTooltip","tooltipDisabledIfTextNotTruncated",4,"ngIf"],["class","cu-git-files-menu__item-text","tooltipDelay","300",3,"cuTooltip","tooltipDisabledIfTextNotTruncated",4,"ngIf"],[1,"cu-git-files-menu__counters"],[1,"cu-git-files-menu__counter"],["target","_blank","tooltipDelay","300",3,"href","cuTooltip","tooltipDisabledIfTextNotTruncated"],["tooltipDelay","300",1,"cu-git-files-menu__item-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"]],template:function(t,e){1&t&&(o.Xb(0,"cu-dropdown-list-title",0),o.cc(1,"div",1),o.bd(2,u,8,8,"div",2),o.bc()),2&t&&(o.Dc("title",e.dropdownTitleText),o.Ib(2),o.Dc("ngForOf",e.files)("ngForTrackBy",e.trackByValue))},directives:[n.a,s.p,s.q,c.a],styles:['.cu-git-files-menu{width:240px}.cu-git-files-menu__body{max-height:400px;overflow-y:auto;background:#fff}.cu-os-win .cu-git-files-menu__body{scrollbar-width:thin}.cu-os-win .cu-git-files-menu__body::-webkit-scrollbar{background-color:#fff;width:16px;height:16px}.cu-os-win .cu-git-files-menu__body::-webkit-scrollbar-track,.cu-os-win .cu-git-files-menu__body::-webkit-scrollbar-track:hover{background-color:#fff}.cu-os-win .cu-git-files-menu__body::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fff}.cu-os-win .cu-git-files-menu__body::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fff}.cu-os-win .cu-git-files-menu__body::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-git-files-menu__body::-webkit-scrollbar,.cu-os-win .dark-theme .cu-git-files-menu__body::-webkit-scrollbar,.cu-os-win.dark-theme .cu-git-files-menu__body::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-git-files-menu__body::-webkit-scrollbar-track{background-color:#384047}.cu-os-win.dark-theme .cu-git-files-menu__body::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-git-files-menu__body::-webkit-scrollbar-track:hover{background-color:#384047}.cu-os-win.dark-theme .cu-git-files-menu__body::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-git-files-menu__body::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-git-files-menu__body::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-git-files-menu__body::-webkit-scrollbar-thumb:hover{border-color:#384047}.dark-theme .cu-git-files-menu__body{background:#384047}.cu-git-files-menu__body:before{content:"";display:block;position:sticky;width:100%;top:0;height:8px;margin-bottom:-8px;z-index:1;pointer-events:none;background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu-git-files-menu__body:before{background:linear-gradient(180deg,#384047 0,rgba(56,64,71,0))}.cu-git-files-menu__body:after{content:"";display:block;position:sticky;width:100%;bottom:-1px;height:8px;margin-top:-8px;z-index:1;pointer-events:none;background:linear-gradient(0deg,#fff 0,hsla(0,0%,100%,0))}.dark-theme .cu-git-files-menu__body:after{background:linear-gradient(0deg,#384047 0,rgba(56,64,71,0))}.cu-git-files-menu__item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;justify-content:space-between;height:32px;padding:0 15px;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-git-files-menu__item{color:#d5d6d7}.cu-git-files-menu__item-text,.cu-git-files-menu__item a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#292d34}.dark-theme .cu-git-files-menu__item-text,.dark-theme .cu-git-files-menu__item a{color:#d5d6d7}.cu-git-files-menu__item a:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-files-menu__item a:hover{color:var(--theme-main-color)}}.cu-git-files-menu__item-text{opacity:.7}.cu-git-files-menu__counters{display:flex;align-items:center;margin-left:7px}.cu-git-files-menu__counter{display:flex;align-items:center;justify-content:center;min-width:24px;padding:3px 4px;border-radius:2px;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;background:#e9ebf0}.dark-theme .cu-git-files-menu__counter{background:#2b343b}.cu-git-files-menu__counter+.cu-git-files-menu__counter{margin-left:2px}.cu-git-files-menu__counter_green{color:#6bc951;background:rgba(107,201,80,.2)}.cu-git-files-menu__counter_red{color:#fd7171;background:rgba(253,113,113,.2)}'],encapsulation:2,changeDetection:0}),t})()},da7w:function(t,e,a){"use strict";a.d(e,"a",function(){return x});var i=a("fXoL"),o=a("jJQC"),n=a("ofXK"),s=a("LdyQ"),c=a("NsZK"),r=a("MJvn"),l=a("n+1/"),u=a("UdVN"),d=a("vxfF"),p=a("HPyy"),m=a("kC/4");const h=function(t){return{"task-uploads-badge_active":t}};function g(t,e){if(1&t&&(i.cc(0,"div",8),i.vc(1,"lowercase"),i.Xb(2,"div",9),i.cc(3,"div",10),i.dd(4),i.bc(),i.Xb(5,"div",11),i.bc()),2&t){i.uc();const t=i.Rc(1),e=i.uc();i.Mb("task-uploads-badge task-uploads-badge__",i.wc(1,8,e.label),""),i.ad("background-color",e.color),i.Dc("ngClass",i.Hc(10,h,t.isOpen)),i.Ib(2),i.Dc("icon",e.linkIcon),i.Ib(2),i.ed(e.links.length)}}function b(t,e){}function f(t,e){if(1&t&&i.Xb(0,"cu-avatar",26),2&t){const t=i.uc().$implicit;i.Dc("user",t.user)}}function k(t,e){1&t&&(i.cc(0,"div",27),i.Xb(1,"img",28),i.bc())}function _(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"div",16),i.qc("click",function(){i.Uc(t);const a=e.$implicit;return i.uc(3).linkClicked.emit({link:a})}),i.cc(2,"div",17),i.bd(3,f,1,1,"cu-avatar",18),i.bd(4,k,2,0,"div",19),i.bc(),i.cc(5,"div",20),i.cc(6,"div",21),i.cc(7,"div",22),i.dd(8),i.bc(),i.cc(9,"div",23),i.dd(10),i.vc(11,"timeAgo"),i.bc(),i.bc(),i.cc(12,"div",24),i.cc(13,"a",25),i.qc("click",function(t){const a=e.$implicit;return null!=a.doc_linked&&a.doc_linked.canOpen?t.preventDefault():t.stopPropagation()}),i.dd(14),i.bc(),i.bc(),i.bc(),i.bc(),i.Zb()}if(2&t){const t=e.$implicit;i.Ib(3),i.Dc("ngIf",t.user),i.Ib(1),i.Dc("ngIf",!t.user),i.Ib(4),i.fd(" ",(null==t.user?null:t.user.username)||"ClickUp"," "),i.Ib(2),i.fd(" ",i.wc(11,6,t.date_added)," "),i.Ib(3),i.Dc("href",t.url,i.Xc),i.Ib(1),i.fd(" ",t.anchor_text||t.url," ")}}function w(t,e){if(1&t&&(i.cc(0,"div",12),i.cc(1,"div",13),i.dd(2),i.bc(),i.cc(3,"cdk-virtual-scroll-viewport",14),i.bd(4,_,15,8,"ng-container",15),i.bc(),i.bc()),2&t){const t=i.uc(2);i.Ib(2),i.ed(t.label),i.Ib(1),i.ad("height",56*t.links.length,"px"),i.Ib(1),i.Dc("cdkVirtualForOf",t.commentLinks)("cdkVirtualForTrackBy",t.trackById)}}function v(t,e){if(1&t&&(i.cc(0,"div",2,3),i.bd(2,g,6,12,"div",4),i.cc(3,"div",5),i.bd(4,b,0,0,"ng-template",6),i.bc(),i.bd(5,w,5,5,"div",7),i.bc()),2&t){const t=i.uc();i.Dc("dropdownPlacement",t.popoverPlacement)("cuTooltip",t.tooltip),i.Ib(2),i.Dc("ngIf",!t.toggleTemplate),i.Ib(2),i.Dc("ngTemplateOutlet",t.toggleTemplate)}}function y(t,e){if(1&t&&(i.ac(0),i.cc(1,"a",29),i.vc(2,"lowercase"),i.Xb(3,"div",9),i.bc(),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Mb("task-uploads-badge task-uploads-badge__",i.wc(2,8,t.label),""),i.ad("background-color",t.color),i.Ec("href",t.url,i.Xc),i.Dc("cuTooltip",t.label+" link"),i.Ib(2),i.Dc("icon",t.linkIcon)}}let x=(()=>{class t{constructor(){this.isDocMentions=!1,this.isOneItemStale=!1,this.popoverPlacement=["top","auto"],this.linkClicked=new i.o,this.trackById=Object(o.d)("id")}ngOnChanges(t){(t.links||t.label)&&this.generateTooltip(),t.links&&(this.commentLinks=(this.links||[]).filter(t=>"comment"===t.type||this.isDocMentions))}generateTooltip(){let t;if(this.isDocMentions)t=1===this.links.length?"Doc mention":"Doc mentions",this.tooltip=`${this.links.length} ${t}`;else{t=1===this.links.length?"link":"links";let e=t+" in this task";"Links"!==this.label&&"Link"!==this.label||(e="in this task",1===this.links.length&&(this.label="Link")),this.tooltip=`${this.links.length} ${this.label} ${e}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-entity-links-badge"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-entity-links-badge",!0)},inputs:{links:"links",color:"color",label:"label",linkIcon:"linkIcon",isDocMentions:"isDocMentions",isOneItemStale:"isOneItemStale",url:"url",toggleTemplate:"toggleTemplate",popoverPlacement:"popoverPlacement"},outputs:{linkClicked:"linkClicked"},features:[i.Gb],decls:2,vars:2,consts:[["cuDropdown","",3,"dropdownPlacement","cuTooltip",4,"ngIf"],[4,"ngIf"],["cuDropdown","",3,"dropdownPlacement","cuTooltip"],["dropdown","dropdown"],["cuDropdownToggle","",3,"class","backgroundColor","ngClass",4,"ngIf"],["cuDropdownToggle",""],[3,"ngTemplateOutlet"],["class","task-uploads-badge-popover",4,"cuDropdownMenu"],["cuDropdownToggle","",3,"ngClass"],[1,"task-uploads-badge__icon","task-uploads-badge__icon_open",3,"icon"],[1,"task-uploads-badge__counter"],["icon","close-modal-white",1,"task-uploads-badge__icon","task-uploads-badge__icon_close"],[1,"task-uploads-badge-popover"],[1,"task-uploads-badge-popover__title"],["itemSize","56",1,"task-uploads-badge-popover__body"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"task-uploads-badge-popover__item",3,"click"],[1,"task-uploads-badge-popover__item-avatar"],[3,"user",4,"ngIf"],["class","cu-avatar cu-avatar_bot",4,"ngIf"],[1,"task-uploads-badge-popover__item-data"],[1,"task-uploads-badge-popover__item-data-row"],[1,"task-uploads-badge-popover__item-username"],[1,"task-uploads-badge-popover__item-time"],[1,"task-uploads-badge-popover__item-link"],["target","_blank",3,"href","click"],[3,"user"],[1,"cu-avatar","cu-avatar_bot"],["src","./assets/images/brand/clickup-symbol_color.svg","alt","","width","100%"],["target","_blank",3,"cuTooltip","href"]],template:function(t,e){1&t&&(i.bd(0,v,6,4,"div",0),i.bd(1,y,4,10,"ng-container",1)),2&t&&(i.Dc("ngIf",e.links&&e.links.length>0),i.Ib(1),i.Dc("ngIf",e.isOneItemStale))},directives:[n.q,s.b,c.a,r.a,n.x,l.a,n.o,u.a,d.c,d.a,d.b,p.a],pipes:[n.n,m.a],encapsulation:2,changeDetection:0}),t})()},dhcM:function(t,e,a){"use strict";var i=a("oSzE"),o=a("uE2L"),n=a("YHEm"),s=function(t,e,a){(void 0!==a&&!Object(n.a)(t[e],a)||void 0===a&&!(e in t))&&Object(o.a)(t,e,a)},c=a("aZkK"),r=a("3/ER"),l=a("G4mU"),u=a("eAQQ"),d=a("hYPf"),p=a("9f76"),m=a("/1FC"),h=a("AQwl"),g=a("WOAq"),b=a("vJtL"),f=a("IzLi"),k=a("6LIB"),_=a("oYcn"),w=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},v=a("+EKe"),y=a("4/q3"),x=function t(e,a,o,n,x){e!==a&&Object(c.a)(a,function(c,T){if(x||(x=new i.a),Object(f.a)(c))!function(t,e,a,i,o,n,c){var x,T=w(t,a),I=w(e,a),C=c.get(I);if(C)s(t,a,C);else{var D=n?n(T,I,a+"",t,e,c):void 0,S=void 0===D;if(S){var O=Object(m.a)(I),j=!O&&Object(g.a)(I),P=!O&&!j&&Object(_.a)(I);D=I,O||j||P?Object(m.a)(T)?D=T:Object(h.a)(T)?D=Object(u.a)(T):j?(S=!1,D=Object(r.a)(I,!0)):P?(S=!1,D=Object(l.a)(I,!0)):D=[]:Object(k.a)(I)||Object(p.a)(I)?(D=T,Object(p.a)(T)?(x=T,D=Object(v.a)(x,Object(y.a)(x))):Object(f.a)(T)&&!Object(b.a)(T)||(D=Object(d.a)(I))):S=!1}S&&(c.set(I,D),o(D,I,i,n,c),c.delete(I)),s(t,a,D)}}(e,a,T,o,t,n,x);else{var I=n?n(w(e,T),c,T+"",e,a,x):void 0;void 0===I&&(I=c),s(e,T,I)}},y.a)},T=a("kt0j"),I=Object(T.a)(function(t,e,a,i){x(t,e,a,i)});e.a=I},g1Eu:function(t,e,a){"use strict";a.d(e,"b",function(){return k}),a.d(e,"a",function(){return _});var i=a("itXk"),o=a("2p4s"),n=a("zp1y"),s=a("lJxs"),c=a("vkgz"),r=a("o7Ov"),l=a("fXoL"),u=a("tk/3"),d=a("AeD3"),p=a("irDL"),m=a("jJW4"),h=a("l7P3"),g=function(t,e){var a={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(a[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(a[i[o]]=t[i[o]])}return a};function b(t,e){const{project_ids:a}=t,i=g(t,["project_ids","branches"]);return Object.assign(Object.assign({},i),{projectIds:a,teamId:e,owner:{username:t.owner}})}function f(t){return{id:String(t.id),title:t.title,repository:{id:t.gh_repo_id,name:t.repo_name,owner:t.repo_owner},url:`https://github.com/${t.repo_owner}/${t.repo_name}/pull/${t.number}`,author:t.author,status:t.updates[t.updates.length-1],reviewers:t.reviewers,build_status:t.build_status?t.build_status.toLowerCase():null,target_branch:t.target_branch,source_branch:t.source_branch,number:+t.number}}function k(t){const{repo_id:e,repo_name:a,repo_owner:i}=t,o=g(t,["repo_id","repo_name","repo_owner"]);return Object.assign(Object.assign({},o),{date:new Date(+t.date),repository:{id:e,name:a},modified_files:t.modified_files?t.modified_files.map(e=>Object.assign(Object.assign({},e),{url:`https://github.com/${i}/${a}/blob/${t.sha}/${e.filename}`,short_name:e.filename.split("/").pop()})):null})}let _=(()=>{class t{constructor(t,e,a,i,n){this.http=t,this.dataService=e,this.errorHandler=a,this.sharedData=i,this.store=n,this.name="GitHub",this.links={docs:"https://docs.clickup.com/integrations/github",faq:"https://docs.clickup.com/f-a-q/troubleshooting-github"},this.canBeSelfHosted=!1,this.canBeStaticIp=!1,this.canAttachBranchesToTasks=!0,this.hasModifiedFiles=!0,this.asyncPullRequestSearch=!0,this.usePopupWindowForAuth=!0,this.asyncRepoSearch=!0,this.pullRequestLabel="Pull Request",this.reviewerLabel="Reviewer",this.apiUrl=o.a.apiUrl,this.apiUrlV2=o.a.apiUrlV2}getAuthLink(){const t=window.location.origin+"/assets/html/github-oauth-callback.html";return"https://github.com/login/oauth/authorize?scope=user repo read:org admin:repo_hook&client_id=902157348a940508bcd8&state="+encodeURIComponent(t)}isAuthenticated(){return this.http.get(this.apiUrlV2+"/gh/teams").pipe(Object(n.a)(this.sharedData.compatCurrentTeam$),Object(s.a)(([{teams:t},e])=>t.includes(e.id)),this.errorHandler.http())}getSettings(t){return this.http.get(`${this.apiUrlV2}/gh/team/${t.id}/settings`).pipe(Object(s.a)(t=>({enabled:t.using_github,branchNameFormat:t.branch_name_format,canDeauthTeam:t.can_deauth_team,authedWithIntegration:t.authed_github})))}getLink(t,e){return e.find(e=>`${e.owner.username}/${e.name}`===t.full_name)}updateSettings(t,{enabled:e,branchNameFormat:a}){const n=[];return void 0!==e&&n.push(this.http.put(`${o.a.apiUrlV2}/gh/team/${t.id}/settings`,{options:{using_github:e}}).pipe(Object(c.a)(()=>{t.using_github=!0,this.sharedData.compatCurrentProject&&this.sharedData.compatCurrentProject.team.id===t.id&&(this.sharedData.compatCurrentProject.team.using_github=e),this.store.dispatch(new r.dj(t))}))),void 0!==a&&n.push(this.http.put(`${o.a.apiUrlV2}/gh/team/${t.id}/githubSettings`,{options:{branch_name_format:a}})),Object(i.a)(n)}getAccessToken(t,e){return this.http.post(`${this.apiUrlV2}/gh/team/${e}/authorize`,{code:t}).pipe(this.errorHandler.http())}revokeAccessToken(t){return this.http.delete(`${this.apiUrlV2}/gh/team/${t}/deauthorize`).pipe(this.errorHandler.http())}getAllRepositories(t,e){return this.http.get(`${this.apiUrlV2}/gh/team/${t}/repos/search`,{params:e?{endCursor:e.page,query:e.search}:void 0}).pipe(Object(s.a)(({repositories:t,pageInfo:e})=>({repos:t.map(t=>{const{node_id:e}=t,a=g(t,["node_id"]);return Object.assign(Object.assign({},a),{owner:{username:t.owner},url:"https://github.com/"+t.full_name,id:e})}),nextPage:e.hasNextPage?e.endCursor:void 0})),this.errorHandler.http())}linkRepository(t,e){return this.http.post(`${this.apiUrlV2}/gh/team/${e}/repo`,{node_id:t.id,owner:t.owner.username,name:t.name,project_ids:[]}).pipe(Object(s.a)(t=>b(t,e)),this.errorHandler.http())}unlinkRepository(t){return this.http.delete(`${this.apiUrlV2}/gh/team/${t.teamId}/repo/${t.id}`).pipe(this.errorHandler.http())}getLinkedRepositories(t){return this.http.get(`${this.apiUrlV2}/gh/team/${t}/repo`).pipe(Object(s.a)(({repos:e})=>e.map(e=>b(e,t))),this.errorHandler.http())}addLinkedRepositoryToProjects(t,e){const a=[...t.projectIds,...e];return this.http.put(this.apiUrl+"/repo",{repos:[{id:t.id,project_ids:a}]}).pipe(Object(s.a)(()=>Object.assign(Object.assign({},t),{projectIds:a})),this.errorHandler.http())}removeLinkedRepositoryFromProjects(t,e){const a=t.projectIds.filter(t=>!e.includes(t));return this.http.put(this.apiUrl+"/repo",{repos:[{id:t.id,project_ids:a,rem_project_ids:e}]}).pipe(Object(s.a)(()=>Object.assign(Object.assign({},t),{projectIds:a})),this.errorHandler.http())}getTaskRepositories(t){return this.http.get(`${this.apiUrlV2}/gh/task/${t.id}/repo`).pipe(Object(s.a)(({repos:e})=>e.map(e=>({id:e.id,name:e.name,owner:{username:e.owner},projectIds:e.project_ids,teamId:t.team,branches:e.branches}))),this.errorHandler.http())}getTaskRepositoryBranches(t,e,a){return this.http.get(`${this.apiUrlV2}/gh/repo/${t.id}/branches`,{params:a.page?{endCursor:a.page}:void 0}).pipe(Object(s.a)(({branches:t,pageInfo:e})=>({branches:t,next:e.hasNextPage?e.endCursor:void 0})),this.errorHandler.http())}getAllBranchCommits(t,e,a,i){return this.http.get(`${this.apiUrlV2}/gh/repo/${t.id}/commits`,{params:{source_branch:e.name,endCursor:i?i.page:void 0}}).pipe(Object(s.a)(({commits:a,pageInfo:i})=>({commits:a.map(k).map(a=>Object.assign(Object.assign({},a),{branch_name:e.name,repository:{id:t.id,name:t.name}})),next:i.hasNextPage?i.endCursor:void 0})),this.errorHandler.http())}getTaskCommits(t){return this.http.get(`${this.apiUrlV2}/gh/task/${t.id}/commits`).pipe(Object(s.a)(t=>t.map(k)),this.errorHandler.http())}attachRepositoryCommitsToTask(t,e,a,i){return this.dataService.editTask(e.id,{commits:{add:a.map(e=>Object.assign(Object.assign({},e),{repo:t.id,date:e.date.getTime(),branch_name:i.name}))}}).pipe(Object(s.a)(()=>a),this.errorHandler.http())}unattachRepositoryCommitsFromTask(t,e){return this.dataService.editTask(t.id,{commits:{rem:e.map(t=>({sha:t.sha}))}}).pipe(this.errorHandler.http())}getAttachedTaskBranches(t){return this.http.get(`${this.apiUrlV2}/gh/task/${t.id}/branches`).pipe(Object(s.a)(t=>t.map(t=>({id:t.id,name:t.branch_name,repository:{id:t.gh_repo_id,name:t.gh_repo_name}}))),this.errorHandler.http())}attachBranchToTask(t,e,a){return this.http.post(`${this.apiUrlV2}/gh/task/${a.id}/repo/${t.id}/branches`,{branch_name:e.name}).pipe(Object(s.a)(a=>({id:a.id,name:e.name,repository:{id:t.id,name:t.name}})),this.errorHandler.http())}unattachBranchToTask(t,e){return this.http.delete(`${this.apiUrlV2}/gh/task/${e.id}/repo/${t.repository.id}/branches/${t.id}`).pipe(this.errorHandler.http())}getAttachedTaskPullRequests(t){return this.http.get(`${this.apiUrlV2}/gh/task/${t.id}/pulls`).pipe(Object(s.a)(t=>t.map(f)),this.errorHandler.http())}getRepositoryPullRequests(t,e){const a={endCursor:e.page,query:e.search};return e.showClosed||(a.state="open"),this.http.get(`${this.apiUrlV2}/gh/repo/${t.id}/pulls/search`,{params:a}).pipe(Object(s.a)(({prs:e,pageInfo:a})=>({pullRequests:e.map(e=>({id:e.node_id,title:e.title,repository:{id:t.id,name:t.name,owner:t.owner.username},url:`https://github.com/${t.owner.username}/${t.name}/pull/${e.number}`,author:e.author,status:e.state.toLowerCase(),number:e.number,current_sha:e.current_sha,reviewers:e.reviewers,build_status:e.build_status?e.build_status.toLowerCase():null,target_branch:e.target_branch,source_branch:e.source_branch})),next:a.hasNextPage?a.endCursor:void 0})),this.errorHandler.http())}attachPullRequestToTask(t,e,a){return this.http.post(`${this.apiUrlV2}/gh/task/${a.id}/repo/${t.id}/pulls`,{node_id:e.id,title:e.title,number:e.number,current_sha:e.current_sha,state:e.status.toUpperCase(),author:e.author,reviewers:e.reviewers,build_status:e.build_status?e.build_status.toUpperCase():null,target_branch:e.target_branch,source_branch:e.source_branch}).pipe(Object(s.a)(t=>Object.assign(Object.assign({},e),{id:t.id})),this.errorHandler.http())}unattachPullRequestFromTask(t,e){return this.http.delete(`${this.apiUrlV2}/gh/task/${e.id}/repo/${t.repository.id}/pulls/${t.id}`).pipe(this.errorHandler.http())}createBranch(t,e,a,i){return this.http.post(`${this.apiUrlV2}/gh/task/${t.id}/repo/${e.id}/branches/new`,{source_branch:a,branch_name:i}).pipe(Object(s.a)(t=>({id:t.id,name:t.branch_name,repository:{id:e.id,name:e.name}})),this.errorHandler.http())}createPullRequest(t,e,a,i,o,n){return this.http.post(`${this.apiUrlV2}/gh/task/${t.id}/repo/${e.id}/pulls/new`,{target_branch:a,source_branch:i,title:o,description:n}).pipe(Object(s.a)(t=>f(Object.assign(Object.assign({},t),{gh_repo_id:e.id,repo_owner:e.owner.username,repo_name:e.name}))),this.errorHandler.http())}}return t.\u0275fac=function(e){return new(e||t)(l.nc(u.b),l.nc(d.a),l.nc(p.a),l.nc(m.a),l.nc(h.Store))},t.\u0275prov=l.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},g3Qq:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ofXK"),o=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},gAC4:function(t,e,a){t.exports=a.p+"bitbucket-step1.33d14117e9523739732e.png"},gEZv:function(t,e,a){"use strict";a.d(e,"a",function(){return P});var i=a("fXoL"),o=a("jJQC"),n=a("ofXK"),s=a("XoGK"),c=a("hl9Q"),r=a("UdVN"),l=a("p/+J"),u=a("xnrs");function d(t,e){if(1&t&&(i.cc(0,"div",7),i.dd(1),i.bc()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" ",t.automation.trigger.schema.display.title," ")}}function p(t,e){1&t&&(i.cc(0,"div",8),i.gc(1,9),i.bc())}function m(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-schema-automation-trigger-state-condition",12),i.qc("valueInvalid",function(e){return i.Uc(t),i.uc(3).triggerInvalid.emit(e)}),i.bc()}if(2&t){const t=i.uc(3);i.Dc("parentType",t.automation.parent.type)("parentId",t.automation.parent.id)("values",t.automation.trigger.triggerConditions)("condition",t.stateCondition)("resource",t.automation.resource)("trigger",t.automation.trigger)("readOnly",!0)}}function h(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-schema-automation-trigger-input",13),i.qc("valueInvalid",function(e){return i.Uc(t),i.uc(3).triggerInvalid.emit(e)}),i.bc()}if(2&t){const t=i.uc(3);i.Dc("trigger",t.automation.trigger)("resource",t.automation.resource)("parentType",t.automation.parent.type)("parentId",t.automation.parent.id)("values",t.automation.trigger.triggerInputValues)("dynamicValues",t.automation.dynamicValues)("readOnly",!0)}}function g(t,e){if(1&t&&(i.ac(0),i.bd(1,m,1,7,"cu-schema-automation-trigger-state-condition",10),i.bd(2,h,1,7,"cu-schema-automation-trigger-input",11),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.Dc("ngIf",t.stateCondition&&(null==t.automation.trigger||null==t.automation.trigger.triggerConditions?null:t.automation.trigger.triggerConditions.length)),i.Ib(1),i.Dc("ngIf",null==t.automation.trigger.schema?null:t.automation.trigger.schema.input_schema)}}function b(t,e){if(1&t&&(i.ac(0),i.cc(1,"div",4),i.dd(2,"When"),i.bc(),i.bd(3,d,2,1,"div",5),i.bd(4,p,2,0,"div",6),i.bd(5,g,3,2,"ng-container",0),i.Zb()),2&t){const t=i.uc();i.Ib(3),i.Dc("ngIf",null==t.automation.trigger||null==t.automation.trigger.schema||null==t.automation.trigger.schema.display?null:t.automation.trigger.schema.display.title),i.Ib(1),i.Dc("ngIf",!(null!=t.automation.trigger&&t.automation.trigger.schema)),i.Ib(1),i.Dc("ngIf",t.automation.resource.internal)}}function f(t,e){if(1&t&&(i.cc(0,"div",4),i.gc(1,14),i.bc()),2&t){const t=i.uc().ngIf;i.Ib(1),i.kc(t.length),i.hc(1)}}function k(t,e){if(1&t&&(i.ac(0),i.bd(1,f,2,1,"div",2),i.Zb()),2&t){const t=e.ngIf;i.Ib(1),i.Dc("ngIf",t.length)}}function _(t,e){if(1&t&&(i.ac(0),i.bd(1,k,2,1,"ng-container",0),i.vc(2,"filterStateCondition"),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",i.xc(2,1,t.automation.trigger.triggerConditions,t.automation.resource.key))}}function w(t,e){if(1&t&&(i.cc(0,"div"),i.ac(1),i.gc(2,15),i.Zb(),i.cc(3,"span",16),i.dd(4),i.bc(),i.bc()),2&t){const t=i.uc();i.Ib(4),i.fd(" ",t.automation.resource.display.label||t.automation.resource.display.title||t.automation.resource.key," ")}}function v(t,e){1&t&&i.Xb(0,"div",17)}function y(t,e){1&t&&(i.cc(0,"div",4),i.gc(1,18),i.bc())}function x(t,e){1&t&&(i.cc(0,"div",4),i.gc(1,21),i.bc())}function T(t,e){1&t&&(i.cc(0,"div",4),i.dd(1," Always watch tasks "),i.bc())}function I(t,e){if(1&t&&(i.ac(0),i.cc(1,"span",19),i.gc(2,20),i.bc(),i.bd(3,x,2,0,"div",2),i.bd(4,T,2,0,"div",2),i.Zb()),2&t){const t=i.uc();i.Ib(3),i.Dc("ngIf","assignee"===t.automation.shortcut),i.Ib(1),i.Dc("ngIf","follower"===t.automation.shortcut)}}function C(t,e){1&t&&(i.cc(0,"div",4),i.gc(1,22),i.bc())}function D(t,e){if(1&t&&(i.cc(0,"div",7),i.dd(1),i.bc()),2&t){const t=i.uc().$implicit;i.Ib(1),i.fd(" ",t.action.display.title," ")}}function S(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"cu-schema-automation-field",23),i.qc("valueInvalid",function(e){return i.Uc(t),i.uc(2).actionInvalid.emit(e)}),i.bc(),i.Zb()}if(2&t){const t=i.uc().$implicit,e=i.uc();i.Ib(1),i.Dc("resource",e.automation.resource)("shortcut",e.automation.shortcut)("trigger",e.automation.trigger)("action",t)("parentType",e.automation.parent.type)("parentId",e.automation.parent.id)("variables",null==e.automation.trigger||null==e.automation.trigger.schema?null:e.automation.trigger.schema.schema)("dynamicValues",t.resource.dynamic_values)("readonly",!0)}}function O(t,e){if(1&t&&(i.cc(0,"div"),i.ac(1),i.gc(2,24),i.Zb(),i.cc(3,"span",16),i.dd(4),i.bc(),i.bc()),2&t){const t=i.uc().$implicit;i.Ib(4),i.fd(" ",t.resource.display.label||t.resource.display.title||t.resource.key," ")}}function j(t,e){if(1&t&&(i.ac(0),i.bd(1,C,2,0,"div",2),i.bd(2,D,2,1,"div",5),i.bd(3,S,2,9,"ng-container",0),i.bd(4,O,5,1,"div",0),i.Zb()),2&t){const t=e.$implicit,a=e.first,o=i.uc();i.Ib(1),i.Dc("ngIf",!a),i.Ib(1),i.Dc("ngIf",!o.automation.shortcut),i.Ib(1),i.Dc("ngIf",t.resource.internal),i.Ib(1),i.Dc("ngIf",!t.resource.internal)}}let P=(()=>{class t{constructor(){this.isSummary=!1,this.actionInvalid=new i.o,this.triggerInvalid=new i.o,this.trackById=Object(o.d)("id"),this.trackByKey=Object(o.d)("key")}ngOnInit(){}ngOnChanges(t){this.stateCondition=this.automation.conditions.find(t=>t.state_condition)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-label"]],hostVars:4,hostBindings:function(t,e){2&t&&i.Ob("cu-automation-label",!0)("cu-automation-label_summary",e.isSummary)},inputs:{automation:"automation",isSummary:"isSummary"},outputs:{actionInvalid:"actionInvalid",triggerInvalid:"triggerInvalid"},features:[i.Gb],decls:7,vars:8,consts:function(){let t,e,a,o,n,s,c,r,l;return t=$localize`:@@common_deleted-field␟617e804bd775f1ac691ee6093e243a784661b4ff␟5017642573095717734: Deleted field `,e=$localize`:␟28f75b63445093d078b6f820d888cabefc2687ae␟4057031051339763664:{VAR_PLURAL, plural, =1 {condition} other {conditions}}`,e=i.lc(e,{VAR_PLURAL:"\ufffd0\ufffd"}),a=$localize`:@@cu-automation-label__automations-truthy-conditions-count␟202d06729057cf84e14fe10a2514e25098edca66␟8106398675827731825: and ${e}:ICU: is true `,o=$localize`:@@common_in-1␟cb0f69bdd4dea41d7d45c74b6e07f98de8a2ab26␟7136018875175606726:in`,n=$localize`:@@cu-automation-label__then-action-label␟4a73483f685d295174b52a00754a86944bc8867c␟3679792520559708623: then
`,s=$localize`:@@cu-automation-label__shortcut␟22a6fa7acaa68431722aeb552a35d5fa8078d5b5␟8645499116170704011:Shortcut`,c=$localize`:@@common_always-assign-tasks-to-user␟7e39a8e1bdcd72123129573d240a472781f688a4␟7866414296582429195: Always assign tasks to `,r=$localize`:@@cu-automation-label__conjunction_and␟ff237ae9266bdcac226b0b106ec206c0cba54ea4␟6084761732413276761: and `,l=$localize`:@@common_in-1␟cb0f69bdd4dea41d7d45c74b6e07f98de8a2ab26␟7136018875175606726:in`,[[4,"ngIf"],["icon","arrow-right-rounded","class","cu-automation-label__arrow",4,"ngIf"],["class","cu-automation-label__default",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-automation-label__default"],["class","cu-automation-label__strong",4,"ngIf"],["class","cu-automation-label__em",4,"ngIf"],[1,"cu-automation-label__strong"],[1,"cu-automation-label__em"],t,["class","cu-automation-label__trigger-input",3,"parentType","parentId","values","condition","resource","trigger","readOnly","valueInvalid",4,"ngIf"],[3,"trigger","resource","parentType","parentId","values","dynamicValues","readOnly","valueInvalid",4,"ngIf"],[1,"cu-automation-label__trigger-input",3,"parentType","parentId","values","condition","resource","trigger","readOnly","valueInvalid"],[3,"trigger","resource","parentType","parentId","values","dynamicValues","readOnly","valueInvalid"],a,o,[1,"cu-automation-label__strong","cu-automation-label__app"],["icon","arrow-right-rounded",1,"cu-automation-label__arrow"],n,[1,"cu-automation-label__shortcut-badge"],s,c,r,[3,"resource","shortcut","trigger","action","parentType","parentId","variables","dynamicValues","readonly","valueInvalid"],l]},template:function(t,e){1&t&&(i.bd(0,b,6,3,"ng-container",0),i.bd(1,_,3,4,"ng-container",0),i.bd(2,w,5,1,"div",0),i.bd(3,v,1,0,"div",1),i.bd(4,y,2,0,"div",2),i.bd(5,I,5,2,"ng-container",0),i.bd(6,j,5,4,"ng-container",3)),2&t&&(i.Dc("ngIf",!e.automation.shortcut),i.Ib(1),i.Dc("ngIf",e.automation.resource.internal),i.Ib(1),i.Dc("ngIf",!e.automation.resource.internal),i.Ib(1),i.Dc("ngIf",e.isSummary),i.Ib(1),i.Dc("ngIf",!e.automation.shortcut),i.Ib(1),i.Dc("ngIf",e.automation.shortcut),i.Ib(1),i.Dc("ngForOf",e.automation.actions)("ngForTrackBy",e.trackById))},directives:[n.q,n.p,s.a,c.a,r.a,l.a],pipes:[u.a],styles:['.cu-automation-label{display:flex;align-items:center;flex-wrap:wrap}.cu-automation-label__trigger-input{display:inherit}.cu-automation-label .cu-automation-field-value-custom-field-type-and-value,.cu-automation-label .cu-automation-field-value-custom-field-type-and-value__label,.cu-automation-label .cu-automation-field-value-priority-single__text,.cu-automation-label .cu-automation-field-value-priority-single__to,.cu-automation-label .cu-automation-field-value-subcategory,.cu-automation-label .cu-custom-fields__header-items-value__email,.cu-automation-label .cu-status-filter__value,.cu-automation-label .due-date__info-value,.cu-automation-label__default,.cu-automation-label__em,.cu-automation-label__strong{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;line-height:1;font-family:Gotham Pro,Proxima Nova,arial,serif;margin-right:5px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-label .cu-automation-field-value-custom-field-type-and-value,.cu-automation-label .cu-automation-field-value-custom-field-type-and-value__label,.cu-automation-label .cu-automation-field-value-priority-single__text,.cu-automation-label .cu-automation-field-value-priority-single__to,.cu-automation-label .cu-automation-field-value-subcategory,.cu-automation-label .cu-custom-fields__header-items-value__email,.cu-automation-label .cu-status-filter__value,.cu-automation-label .due-date__info-value,.cu-automation-label__default,.cu-automation-label__em,.cu-automation-label__strong{font-family:var(--global-font-support)}}.dark-theme .cu-automation-label .cu-automation-field-value-custom-field-type-and-value,.dark-theme .cu-automation-label .cu-automation-field-value-custom-field-type-and-value__label,.dark-theme .cu-automation-label .cu-automation-field-value-priority-single__text,.dark-theme .cu-automation-label .cu-automation-field-value-priority-single__to,.dark-theme .cu-automation-label .cu-automation-field-value-subcategory,.dark-theme .cu-automation-label .cu-custom-fields__header-items-value__email,.dark-theme .cu-automation-label .cu-status-filter__value,.dark-theme .cu-automation-label .due-date__info-value,.dark-theme .cu-automation-label__default,.dark-theme .cu-automation-label__em,.dark-theme .cu-automation-label__strong{color:#d5d6d7}.cu-automation-label__strong{font-weight:500}.cu-automation-label__app{color:var(--theme-main-color)}.cu-automation-label__em{font-style:italic}.cu-automation-label .cu-status-filter__toggle{display:flex;align-items:flex-end;height:14px}.cu-automation-label .cu-status-filter__value{height:auto}.cu-automation-label .selected-status-list__item{margin-left:2px}.cu-automation-label .due-date__row{margin-left:0}.cu-automation-label .cu-recurring-date-dropdown{pointer-events:none}.cu-automation-label .due-date__info-value{margin-top:1px}.cu-automation-label .cu-automation-field-value{margin:0;margin-right:5px}.cu-automation-label .cu-priorities-view__icon{width:15px;height:15px}.cu-automation-label__shortcut-badge{margin-right:10px;padding:3px 8px;text-transform:uppercase;border-radius:20px;font-weight:500;font-size:11px;margin-top:-2px;color:#fff;background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-label__shortcut-badge{background:var(--theme-main-color)}}.dark-theme .cu-automation-label__shortcut-badge{color:#d5d6d7}.cu-automation-label__arrow{fill:#c4c4c4;height:13px;width:20px;margin:0 15px 0 10px}.dark-theme .cu-automation-label__arrow{fill:#d5d6d7}.cu-automation-label_summary .cu-automation-field-value-custom-field-type-and-value,.cu-automation-label_summary .cu-automation-field-value-custom-field-type-and-value__label,.cu-automation-label_summary .cu-automation-field-value-priority-single__text,.cu-automation-label_summary .cu-automation-field-value-priority-single__to,.cu-automation-label_summary .cu-automation-field-value-subcategory,.cu-automation-label_summary .cu-automation-label__default,.cu-automation-label_summary .cu-automation-label__em,.cu-automation-label_summary .cu-automation-label__strong,.cu-automation-label_summary .cu-custom-fields__header-items-value__email,.cu-automation-label_summary .cu-status-filter__value,.cu-automation-label_summary .due-date__info-value{font-size:20px}.cu-automation-label_summary .cu-status-filter__toggle{height:20px}.cu-automation-label_summary .selected-status-list__item,.cu-automation-label_summary .selected-status-list__label{margin-bottom:2px}.cu-automation-label_summary .due-date__info-value{margin-top:0}'],encapsulation:2,changeDetection:0}),t})()},gwei:function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("XNiG"),o=a("2Vo4"),n=a("UXun"),s=a("lJxs"),c=a("pLZG"),r=a("/uUt"),l=a("NQoA"),u=a("fXoL");let d=(()=>{class t{constructor(){this.destroy$=new i.a,this.intersections$=new o.a([]),this.printing$=l.b.pipe(Object(n.a)({refCount:!0,bufferSize:1})),this.margin="500px"}ngOnInit(){this.attachObserver()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.deattachObserver()}attachObserver(){this.intersectionObserver=new IntersectionObserver(t=>{this.intersections$.next(t)},{root:this.scrollContainer,threshold:0,rootMargin:this.margin})}deattachObserver(){this.intersectionObserver&&this.intersectionObserver.disconnect()}observeElement(t){this.intersectionObserver.observe(t)}unobserveElement(t){this.intersectionObserver.unobserve(t)}getObserver(t){return this.intersections$.pipe(Object(s.a)(e=>e.filter(e=>e.target===t)),Object(c.a)(t=>!!t.length),Object(s.a)(t=>t[t.length-1].isIntersecting),Object(r.a)())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.Rb({type:t,selectors:[["","cuLazyRenderer",""]],inputs:{scrollContainer:["lazyScrollContainer","scrollContainer"],margin:["lazyMargin","margin"]}}),t})()},"h/4x":function(t,e,a){"use strict";a.d(e,"a",function(){return v});var i=a("1M0N"),o=a("k6wb"),n=a("/Ufd"),s=a("KyjD"),c=a("Yh3q"),r=a("XZ1/"),l=a("KX9h"),u=a("WX5r"),d=a("HF2H"),p=a("xP81"),m=a("gb9A"),h=a("QzAA"),g=a("K0KF"),b=a("EDFS"),f=a("PiVx"),k=a("ofXK"),_=a("bFKe"),w=a("fXoL");let v=(()=>{class t{}return t.\u0275mod=w.Ub({type:t}),t.\u0275inj=w.Tb({factory:function(e){return new(e||t)},providers:[l.a],imports:[[k.c,f.a,b.d,s.a,g.a,h.a,m.a,p.a,d.a,u.a,r.a,c.a,_.b,n.a,o.a,i.a]]}),t})()},hl9Q:function(t,e,a){"use strict";a.d(e,"a",function(){return f});var i=a("fXoL"),o=a("jJQC"),n=a("VrOs"),s=a("p1wf"),c=a("ofXK"),r=a("vVjD"),l=a("UdVN"),u=a("NsZK");function d(t,e){if(1&t&&i.Xb(0,"div",7),2&t){const t=i.uc(3).$implicit;i.Ec("icon",null==t.componentOptions?null:t.componentOptions.icon)}}function p(t,e){if(1&t&&i.Xb(0,"div",8),2&t){const t=i.uc(3).$implicit;i.Dc("cuTooltip",null==t.componentOptions?null:t.componentOptions.tooltip)}}function m(t,e){if(1&t&&(i.cc(0,"div"),i.bd(1,d,1,1,"div",5),i.dd(2),i.bd(3,p,1,1,"div",6),i.bc()),2&t){const t=i.uc(2).$implicit;i.Mb("cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_",t.title,""),i.Ib(1),i.Dc("ngIf",null==t.componentOptions?null:t.componentOptions.icon),i.Ib(1),i.fd(" ",t.title,": "),i.Ib(1),i.Dc("ngIf",null==t.componentOptions?null:t.componentOptions.tooltip)}}const h=function(){return{}};function g(t,e){if(1&t){const t=i.dc();i.cc(0,"div",2),i.bd(1,m,4,6,"div",3),i.cc(2,"cu-automation-field-value",4),i.qc("valueChange",function(e){i.Uc(t);const a=i.uc().$implicit;return i.uc().setTriggerInputValue(null==a?null:a.type,e)})("valueInvalid",function(e){return i.Uc(t),i.uc(2).valueInvalid.emit(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc().$implicit,e=i.uc();i.Ib(1),i.Dc("ngIf",t.title),i.Ib(1),i.Dc("parentType",e.parentType)("parentId",e.parentId)("resource",e.resource)("value",e.values[null==t?null:t.type])("readonly",e.readOnly)("forSummary",e.readOnly)("component",t.component)("variables",e.mappedVariables)("options",t.componentOptions||i.Gc(10,h))}}function b(t,e){if(1&t&&(i.ac(0),i.bd(1,g,3,11,"div",1),i.Zb()),2&t){const t=e.$implicit;i.Ib(1),i.Dc("ngIf",!t.hidden)}}let f=(()=>{class t{constructor(t,e){this.automationStrategies=t,this.defaultResourceMapper=e,this.readOnly=!1,this.triggerInputValues=new i.o,this.valueInvalid=new i.o,this.trackByType=Object(o.d)("title"),this.inputActions=[]}ngOnChanges(t){(t.trigger||t.resource)&&(this.mappedVariables=Object.keys(this.values).reduce((t,e)=>[...t,{label:e,value:this.values[e],info:{type:"string"}}],[]),this.updateTriggerInput())}updateTriggerInput(){const t=this.automationStrategies.getStrategy(this.resource.key);this.inputActions=[],this.inputActions.push(...Object.keys(this.trigger.schema.input_schema.properties).map(e=>{if(t&&t.getActionsInputComponentOverride){const a=t.getActionsInputComponentOverride({key:e,schema:this.trigger.schema.input_schema.properties[e]},Array.isArray(this.trigger.schema.key)?this.trigger.schema.key[0]:this.trigger.schema.key);if(a&&a.component)return a;const i=this.defaultResourceMapper.getActionInputComponent(e,this.trigger.schema.input_schema.properties[e],this.resource.key,this.dynamicValues);return a&&!a.component?Object.assign(Object.assign({},i),a):i}return this.defaultResourceMapper.getActionInputComponent(e,this.trigger.schema.input_schema.properties[e],this.resource.key,this.dynamicValues)}).filter(t=>!!t))}setTriggerInputValue(t,e){this.triggerInputValues.emit(Object.assign(Object.assign({},this.values),{[t]:e}))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(n.d),i.Wb(s.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-schema-automation-trigger-input"]],inputs:{trigger:"trigger",resource:"resource",parentType:"parentType",parentId:"parentId",dynamicValues:"dynamicValues",values:"values",readOnly:"readOnly"},outputs:{triggerInputValues:"triggerInputValues",valueInvalid:"valueInvalid"},features:[i.Gb],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-edit-automation__container-body-actions-row",4,"ngIf"],[1,"cu-edit-automation__container-body-actions-row"],[3,"class",4,"ngIf"],[1,"cu-automation-field-value_stretch",3,"parentType","parentId","resource","value","readonly","forSummary","component","variables","options","valueChange","valueInvalid"],["class","cu-edit-automation__container-body-actions-label-icon",3,"icon",4,"ngIf"],["class","cu-edit-automation__container-body-actions-label-question","icon","question","tooltipLifeTime","15000",3,"cuTooltip",4,"ngIf"],[1,"cu-edit-automation__container-body-actions-label-icon",3,"icon"],["icon","question","tooltipLifeTime","15000",1,"cu-edit-automation__container-body-actions-label-question",3,"cuTooltip"]],template:function(t,e){1&t&&i.bd(0,b,2,1,"ng-container",0),2&t&&i.Dc("ngForOf",e.inputActions)("ngForTrackBy",e.trackByType)},directives:[c.p,c.q,r.a,l.a,u.a],encapsulation:2,changeDetection:0}),t})()},hpI0:function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("fXoL"),o=a("TlsY"),n=a("1G5W"),s=a("XNiG"),c=a("j5ze");const r=["assignedComment"],l=["assignedCommentContainer"];function u(t,e){}let d=(()=>{class t{constructor(t){this.resolver=t,this.destroy$=new s.a,this.disabled=!1,this.onChange=new i.o}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}click(t){if(this.assignedCommentList||this.disabled)return;const e=this.resolver.resolveComponentFactory(o.a);this.assignedCommentList=this.assignedCommentContainer.createComponent(e),this.assignedCommentList.instance.task=this.task,this.assignedCommentList.instance.forTasks=!0,this.assignedCommentList.instance.forMe=!0,this.assignedCommentList.instance.toggle.nativeElement.append(this.assignedComment.nativeElement),this.assignedCommentList.instance.onCommentResolve.pipe(Object(n.a)(this.destroy$)).subscribe(()=>{this.onChange.emit()}),setTimeout(()=>{this.assignedCommentList.instance.open()},0)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.j))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-row-assigned-comments"]],viewQuery:function(t,e){if(1&t&&(i.jd(r,3),i.jd(l,3,i.U)),2&t){let t;i.Qc(t=i.rc())&&(e.assignedComment=t.first),i.Qc(t=i.rc())&&(e.assignedCommentContainer=t.first)}},hostAttrs:[1,"cu-task-row-assigned-comments"],hostBindings:function(t,e){1&t&&i.qc("click",function(t){return e.click(t)})},inputs:{task:"task",disabled:"disabled"},outputs:{onChange:"onChange"},decls:5,vars:3,consts:[["assignedComment",""],[3,"numberComments","forTasks","forMe"],["assignedCommentContainer",""]],template:function(t,e){1&t&&(i.cc(0,"div",null,0),i.Xb(2,"cu-assigned-comment-view",1),i.bc(),i.bd(3,u,0,0,"ng-template",null,2,i.cd)),2&t&&(i.Ib(2),i.Dc("numberComments",e.task.assigned_comments_count)("forTasks",!0)("forMe",!0))},directives:[c.a],styles:[".cu-task-row-assigned-comments{flex-shrink:0}"],encapsulation:2,changeDetection:0}),t})()},iRz7:function(t,e,a){"use strict";a.d(e,"a",function(){return lt});var i=a("XNiG"),o=a("fXoL"),n=a("Jf2N");let s=(()=>{class t{constructor(t){this.modalService=t,this.destroy$=new i.a,this.onConfirm=new o.o}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}cancel(){this.modalService.close()}confirm(){this.onConfirm.emit(),this.cancel()}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(n.a))},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-time-tracker-delete-confirm"]],outputs:{onConfirm:"onConfirm"},decls:11,vars:0,consts:function(){let t,e,a,i;return t=$localize`:@@common_delete-session␟3483bceee923e119eb4cfc8acaaf0a9eb0573485␟6335332329216840938: Delete Session `,e=$localize`:@@cu-time-tracker-delete-confirm__confirm-message␟e1279038d0c5c908bde145a2b98ca4d87cab03c8␟6461555377588944998: Are you sure you want to delete this time tracking session? `,a=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,i=$localize`:@@common_delete␟d9797b7f7d130802253f3bdd06f7da9f474816af␟1555388322412608200: Delete `,[[1,"cu-conflict-management"],[1,"cu-conflict-management__warning-img"],[1,"cu-conflict-management__warning"],t,[1,"cu-conflict-management__proceed"],e,[1,"move-category__footer"],[1,"cu-btn","cu-conflict-management__cancel",3,"click"],a,[1,"cu-btn",3,"click"],i]},template:function(t,e){1&t&&(o.cc(0,"div",0),o.Xb(1,"div",1),o.cc(2,"div",2),o.gc(3,3),o.bc(),o.cc(4,"div",4),o.gc(5,5),o.bc(),o.cc(6,"div",6),o.cc(7,"button",7),o.qc("click",function(){return e.cancel()}),o.gc(8,8),o.bc(),o.cc(9,"button",9),o.qc("click",function(){return e.confirm()}),o.gc(10,10),o.bc(),o.bc(),o.bc())},encapsulation:2,changeDetection:0}),t})();var c=a("Rpu1"),r=a("2Vo4"),l=a("jJQC"),u=a("fywt"),d=a("d+RR"),p=function(t,e){return t&&t.length?Object(d.a)(t,Object(u.a)(e,2)):0},m=a("1G5W"),h=a("TqRa"),g=a("7whL"),b=a("AeD3"),f=a("jJW4"),k=a("rLOZ"),_=a("LdyQ"),w=a("ofXK"),v=a("MJvn"),y=a("n+1/"),x=a("ukIH"),T=a("UdVN"),I=a("pLZG"),C=a("lJxs"),D=a("nYR2"),S=a("f0Wu"),O=a("R0Ic"),j=a("AMNA"),P=a("76Cs"),A=a("xog/"),$=a("6wVO"),R=a("fAj1"),F=a("8it8"),M=a("HPyy"),E=a("H6mt"),U=a("uKvr"),L=a("0lvH");function z(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-time-tracker-entry",11),o.qc("onTimeTrackerAction",function(e){return o.Uc(t),o.uc(3).onTimeTrackerAction.emit(e)})("onShowPaywall",function(){return o.Uc(t),o.uc(3).onShowPaywall.emit()}),o.bc()}if(2&t){const t=e.$implicit,a=o.uc(3);o.Dc("entry",t)("tags",a.tags)("forTask",!0)("team",a.team)("dateFormat",(null==a.user?null:a.user.date_format)||"m/d/y")("timeFormat",null!=a.user&&a.user.twenty_four_hr_setting?"H:mm":"h:mm a")}}function V(t,e){if(1&t&&(o.cc(0,"div"),o.cc(1,"div",9),o.bd(2,z,1,6,"cu-time-tracker-entry",10),o.bc(),o.bc()),2&t){const t=e.$implicit,a=o.uc(2);o.Ib(2),o.Dc("ngForOf",t.intervals)("ngForTrackBy",a.trackById)}}function N(t,e){if(1&t&&(o.cc(0,"div",7),o.bd(1,V,3,2,"div",8),o.bc()),2&t){const t=o.uc();o.Ib(1),o.Dc("ngForOf",t.dateIntervals)("ngForTrackBy",t.trackById)}}const q=function(t){return{"time-tracking__user-name_you":t}};let B=(()=>{class t{constructor(t,e,a,i,n,s){this.taskService=t,this.helpers=e,this.sharedData=a,this.timeEstimates=i,this.timeTracking=n,this.commonStringsService=s,this.intervalDelete=new o.o,this.intervalEdit=new o.o,this.onTimeTrackerAction=new o.o,this.onShowPaywall=new o.o,this.expand=!1,this.hour=null,this.min=null,this.dateIntervals=[],this.trackById=Object(l.d)("id"),this.timeFormat$=this.sharedData.currentUser.pipe(Object(I.a)(t=>!!t),Object(C.a)(t=>t.twenty_four_hr_setting?"HH:mm":"h:mma"))}ngOnInit(){this.groupIntervalsByDate()}ngOnChanges(t){t.timeSpent&&(this.canEditOrDelete=this.helpers.isItMe(this.timeSpent.user)||this.helpers.isAllowedAccess("admin",this.sharedData.compatCurrentTeam.role)),t.timeSpent&&this.groupIntervalsByDate()}startEditInterval(t,e){this.edit=e.time&&!e.end?{interval:e,isRange:!1,duration:Object(j.e)(+e.time).trim(),date:S(+t.date_added),originalDate:S(+t.date_added)}:{interval:e,isRange:!0,date:S(+t.date_added),start:S(+e.start),end:S(+e.end),originalDate:S(+t.date_added)}}saveEdit(){let t={assignee:this.timeSpent.user.id};const e=this.edit.date.clone().startOf("day");if(this.edit.error=null,this.edit.isRange){const e=this.edit.date.clone().startOf("day").diff(this.edit.originalDate.clone().startOf("day"),"days");t=Object.assign(Object.assign({},t),{start:this.edit.start.clone().add(e,"days").valueOf(),end:this.edit.end.clone().add(e,"days").valueOf()})}else try{const{seconds:a}=this.timeEstimates.parseTimeInput(this.edit.duration);t=Object.assign(Object.assign({},t),{time:1e3*a,start:e.valueOf()})}catch(a){return void(this.edit.error=$localize`:@@errors_form-field--invalid-time:Whoops! Please enter a valid time.`)}this.edit.loading=!0,this.timeTracking.editTimeSpent(this.taskId,this.edit.interval.id,t).pipe(Object(D.a)(()=>{this.edit&&(this.edit.loading=!1)})).subscribe(()=>{t.start&&t.end&&(t.time=t.end-t.start),this.intervalEdit.emit({id:this.edit.interval.id,updates:t}),this.edit=null})}cancelEdit(){this.edit=null}editDateSelected(t){this.edit.date=t,this.edit.showDateEditor=!1}removeInterval(t){t&&t.id&&(this.updateTimeSpend(t),this.taskService.removeTimeSpent(this.taskId,t.id).subscribe(()=>this.intervalDelete.emit(t)))}setIntervalEdge(t,e){"start"===t&&e>=this.edit.end?this.edit.error=$localize`:@@cu-time-tracking-item__form-error_start-time-invalid:Start time cannot be after end`:"end"===t&&e<=this.edit.start?this.edit.error=$localize`:@@cu-time-tracking-item__form-error_end-time-invalid:End time cannot be before start`:(this.edit.error=null,this.edit[t]=e)}updateTimeSpend(t){const e=t,a=this.timeSpent.intervals.findIndex(e=>e.id===t.id);a>-1&&(this.timeSpent.time-=t.time,this.timeSpent.intervals.splice(a,1),this.groupIntervalsByDate(),e.remove=this.timeSpent.intervals.length>0?null:this.timeSpent)}groupIntervalsByDate(){let t;const e={};this.timeSpent.intervals.forEach(a=>{const i=a.start||a.date_added,o=S(new Date(parseInt(i,10))).startOf("minute");let n,s=a.time;const c=`${o.month()}/${o.date()}`;t&&t===c||(t=c),a.end&&(n=S(new Date(parseInt(a.end,10))).startOf("minute"),n.date()!==o.date()&&(a.displayEnd=!0),s=(n.valueOf()-o.valueOf()).toString()),e[c]=e[c]||{id:c,date_added:i,intervals:[]},e[c].intervals.push(Object.assign(Object.assign({},a),{time:s}))}),this.dateIntervals=Object.values(e).sort((t,e)=>+t.date_added-+e.date_added)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(P.a),o.Wb(A.b),o.Wb(f.a),o.Wb($.a),o.Wb(R.a),o.Wb(F.a))},t.\u0275cmp=o.Qb({type:t,selectors:[["time-tracking-item"]],inputs:{taskId:"taskId",timeSpent:"timeSpent",user:"user",tags:"tags",team:"team"},outputs:{intervalDelete:"intervalDelete",intervalEdit:"intervalEdit",onTimeTrackerAction:"onTimeTrackerAction",onShowPaywall:"onShowPaywall"},features:[o.Gb],decls:12,vars:15,consts:[[1,"time-tracking__item"],[1,"time-tracking__item-row",3,"click"],[1,"time-tracking__user"],[3,"user","modifier"],[1,"time-tracking__user-name",3,"ngClass"],[1,"time-tracking__item-time-counter"],["class","time-tracking__intervals",4,"ngIf"],[1,"time-tracking__intervals"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-time-tracker-entries__items","no-padding"],[3,"entry","tags","forTask","team","dateFormat","timeFormat","onTimeTrackerAction","onShowPaywall",4,"ngFor","ngForOf","ngForTrackBy"],[3,"entry","tags","forTask","team","dateFormat","timeFormat","onTimeTrackerAction","onShowPaywall"]],template:function(t,e){1&t&&(o.cc(0,"div",0),o.cc(1,"div",1),o.qc("click",function(){return e.expand=!e.expand}),o.cc(2,"div",2),o.Xb(3,"cu-avatar",3),o.cc(4,"div",4),o.vc(5,"itsme"),o.dd(6),o.vc(7,"itsme"),o.bc(),o.bc(),o.cc(8,"div",5),o.dd(9),o.vc(10,"timeTrackerDuration"),o.bc(),o.bc(),o.bd(11,N,2,2,"div",6),o.bc()),2&t&&(o.Ib(3),o.Dc("user",e.timeSpent.user)("modifier","cu-avatar_chat"),o.Ib(1),o.Dc("ngClass",o.Hc(13,q,o.wc(5,6,e.timeSpent.user))),o.Ib(2),o.fd(" ",o.wc(7,8,e.timeSpent.user)?e.commonStringsService.meText:e.timeSpent.user.username," "),o.Ib(3),o.fd(" ",o.xc(10,10,e.timeSpent.time,!0)," "),o.Ib(2),o.Dc("ngIf",e.expand))},directives:[M.a,w.o,w.q,w.p,E.a],pipes:[U.a,L.a],encapsulation:2,data:{animation:[Object(O.m)("loading",[Object(O.l)(":enter",[Object(O.k)({opacity:0}),Object(O.e)("150ms",Object(O.k)({opacity:1}))]),Object(O.l)(":leave",[Object(O.k)({opacity:1}),Object(O.e)("150ms",Object(O.k)({opacity:0}))])])]}}),t})();var G=a("oBEc"),X=a("mYHb"),W=a("xDGP"),H=a("KX9h");const Z=["dropdown"],Q=["toggle"],K=["paywallTemplate"];function J(t,e){if(1&t){const t=o.dc();o.ac(0),o.cc(1,"cu-time-tracker-timer",7),o.qc("onTimeTrackerAction",function(e){return o.Uc(t),o.uc().timeTrackerAction(e)}),o.bc(),o.Zb()}if(2&t){const t=o.uc();o.Ib(1),o.Dc("currentDuration",null==t.currentEntry?null:t.currentEntry.duration)("currentEntry",t.currentEntry)("modifier","current")("smallVersion",!0)("showManualTime",t.showManualTime)("onlyShowTimeWhenRunning",!0)("taskId",t.taskId)("disabled",!1)("team",t.team)}}function Y(t,e){if(1&t&&(o.cc(0,"div",24),o.cc(1,"div",29),o.Xb(2,"div",30),o.ac(3),o.gc(4,31),o.Zb(),o.bc(),o.cc(5,"div",32),o.dd(6),o.vc(7,"timeTracked"),o.vc(8,"async"),o.vc(9,"async"),o.bc(),o.bc()),2&t){const t=o.uc(3);let e=null;o.Ib(6),o.fd(" ",o.zc(7,1,t.rolledUpSpent,null==(e=o.wc(8,6,t.sharedData.compatCurrentTeam$))?null:e.hours_per_day,!1,null==(e=o.wc(9,8,t.sharedData.compatCurrentTeam$))?null:e.time_tracking_display_hours)," ")}}function tt(t,e){if(1&t&&(o.cc(0,"div",23),o.cc(1,"div",24),o.cc(2,"div",25),o.gc(3,26),o.bc(),o.cc(4,"div",27),o.dd(5),o.vc(6,"timeTracked"),o.vc(7,"async"),o.vc(8,"async"),o.bc(),o.bc(),o.bd(9,Y,10,10,"div",28),o.bc()),2&t){const t=o.uc(2);let e=null;o.Ib(5),o.fd(" ",o.zc(6,2,t.totalTimeTracked,null==(e=o.wc(7,7,t.sharedData.compatCurrentTeam$))?null:e.hours_per_day,!1,null==(e=o.wc(8,9,t.sharedData.compatCurrentTeam$))?null:e.time_tracking_display_hours)||"0m"," "),o.Ib(4),o.Dc("ngIf",t.rolledUpSpent)}}function et(t,e){if(1&t){const t=o.dc();o.cc(0,"div"),o.cc(1,"time-tracking-item",33),o.qc("intervalDelete",function(e){return o.Uc(t),o.uc(2).removeTimeInterval(e)})("intervalEdit",function(e){return o.Uc(t),o.uc(2).editTime(e.id,e.updates)})("click",function(){return o.Uc(t),o.uc(2).updateMenu()})("onTimeTrackerAction",function(e){return o.Uc(t),o.uc(2).timeTrackerAction(e)})("onShowPaywall",function(){return o.Uc(t),o.uc(2).openPaywallModal()}),o.bc(),o.bc()}if(2&t){const t=e.$implicit,a=o.uc(2);o.Ib(1),o.Dc("timeSpent",t)("taskId",a.taskId)("user",a.user)("tags",a.tags)("team",a.team)}}function at(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-time-tracker-current-editor",34),o.qc("onTimeTrackerAction",function(e){return o.Uc(t),o.uc(2).timeTrackerAction(e)})("onOnUpdateEntry",function(e){return o.Uc(t),o.uc(2).updateTimeEntry(e)})("onDescriptionChange",function(e){return o.Uc(t),o.uc(2).updateDescription(e)})("onShowPaywall",function(){return o.Uc(t),o.uc(2).openPaywallModal()})("onReposition",function(){return o.Uc(t),o.uc(2).updatePosition()}),o.bc()}if(2&t){const t=o.uc(2);o.Dc("currentDuration",null==t.currentEntry?null:t.currentEntry.duration)("defaultProject",t.defaultProject)("currentEntry",t.currentEntry)("tags",t.tags)("showManualTime",t.showManualTime)("allowAddManual",!0)("team",t.team)("taskId",t.taskId)}}function it(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-time-tracker-create-manual",35),o.qc("onCancel",function(){return o.Uc(t),o.uc(2),o.Rc(1).close()})("onTimeTrackerAction",function(e){return o.Uc(t),o.uc(2).timeTrackerAction(e)})("onShowPaywall",function(){return o.Uc(t),o.uc(2).openPaywallModal()})("onReposition",function(){return o.Uc(t),o.uc(2).updatePosition()})("onClose",function(){return o.Uc(t),o.uc(2),o.Rc(1).close()})("onDisplayEntry",function(e){return o.Uc(t),o.uc(2).onDisplayEntry.emit(e)}),o.vc(1,"async"),o.bc()}if(2&t){const t=o.uc(2);o.Dc("team",t.team)("tags",t.tags)("taskId",t.taskId)("user",t.user)("dateFormat",(null==t.user?null:t.user.date_format)||"m/d/y")("trackerMode",o.wc(1,7,t.trackerMode$))("showCancel",!t.manualOnly)}}const ot=function(t,e){return{"cu-dropdown__menu_time-tracking-icon":t,"cu-dropdown__menu_time-tracking-display-time":e}};function nt(t,e){if(1&t){const t=o.dc();o.cc(0,"div",8),o.qc("click",function(t){return t.stopPropagation()}),o.cc(1,"div"),o.bd(2,tt,10,11,"div",9),o.cc(3,"div",10),o.bd(4,et,2,5,"div",11),o.bc(),o.cc(5,"div",12),o.vc(6,"async"),o.vc(7,"async"),o.vc(8,"async"),o.cc(9,"div",13),o.cc(10,"div",14),o.qc("click",function(e){o.Uc(t);const a=o.uc();return a.openInput(e,a.TimeTrackingMode.TIMER)}),o.vc(11,"async"),o.Xb(12,"div",15),o.ac(13),o.gc(14,16),o.Zb(),o.bc(),o.cc(15,"div",14),o.qc("click",function(e){o.Uc(t);const a=o.uc();return a.openInput(e,a.TimeTrackingMode.MANUAL)}),o.vc(16,"async"),o.Xb(17,"div",17),o.ac(18),o.gc(19,18),o.Zb(),o.bc(),o.cc(20,"div",14),o.qc("click",function(e){o.Uc(t);const a=o.uc();return a.openInput(e,a.TimeTrackingMode.RANGE)}),o.vc(21,"async"),o.Xb(22,"div",19),o.ac(23),o.gc(24,20),o.Zb(),o.bc(),o.bc(),o.bd(25,at,1,8,"cu-time-tracker-current-editor",21),o.vc(26,"async"),o.bd(27,it,2,9,"cu-time-tracker-create-manual",22),o.vc(28,"async"),o.vc(29,"async"),o.bc(),o.bc(),o.bc()}if(2&t){const t=o.uc();o.Dc("ngClass",o.Ic(34,ot,!t.displayTime,t.displayTime)),o.Ib(2),o.Dc("ngIf",t.totalTimeTracked||t.rolledUpSpent),o.Ib(2),o.Dc("ngForOf",t.timeSpentList)("ngForTrackBy",t.trackById),o.Ib(1),o.Ob("manual",o.wc(6,16,t.trackerMode$)===t.TimeTrackingMode.MANUAL||o.wc(7,18,t.trackerMode$)===t.TimeTrackingMode.RANGE)("range",o.wc(8,20,t.trackerMode$)===t.TimeTrackingMode.RANGE),o.Ib(5),o.Ob("cu-time-tracking-dropdown__option-selected",o.wc(11,22,t.trackerMode$)===t.TimeTrackingMode.TIMER),o.Ib(5),o.Ob("cu-time-tracking-dropdown__option-selected",o.wc(16,24,t.trackerMode$)===t.TimeTrackingMode.MANUAL),o.Ib(5),o.Ob("cu-time-tracking-dropdown__option-selected",o.wc(21,26,t.trackerMode$)===t.TimeTrackingMode.RANGE),o.Ib(5),o.Dc("ngIf",o.wc(26,28,t.trackerMode$)===t.TimeTrackingMode.TIMER),o.Ib(2),o.Dc("ngIf",o.wc(28,30,t.trackerMode$)===t.TimeTrackingMode.MANUAL||o.wc(29,32,t.trackerMode$)===t.TimeTrackingMode.RANGE)}}function st(t,e){if(1&t){const t=o.dc();o.cc(0,"cu-paywall-modal",36),o.qc("trialClick",function(){return o.Uc(t),o.uc().startTrial()}),o.bc()}if(2&t){const t=o.uc();o.Dc("featureTitle",t.timeTrackingPayWallData.title)("description",t.timeTrackingPayWallData.description)("features",t.timeTrackingPayWallData.features)("image",t.timeTrackingPayWallData.image)("plan",t.timeTrackingPayWallData.plan)}}const ct=function(t,e){return{x:t,y:e}},rt=["*"];let lt=(()=>{class t{constructor(t,e,a,n,s,u){this.changeDetector=t,this.dataService=e,this.sharedData=a,this.modal=n,this.injector=s,this.localStorage=u,this.setPositioning=!1,this.disabled=!1,this.timeSpentList=[],this.showManualTime=!1,this.showActiveTimer=!1,this.manualOnly=!1,this.forceLog=!1,this.onChange=new o.o,this.onClose=new o.o,this.onTimeTrackerAction=new o.o,this.onStartTrial=new o.o,this.onDisplayEntry=new o.o,this.hour=null,this.min=null,this.resetInput=!0,this.isChrome=!!window.chrome&&!h.k,this.trackById=Object(l.d)("id"),this.dropdownRepositionFlag=!0,this.destroy$=new i.a,this.TimeTrackingMode=c.e,this.timeTrackingPayWallData=g.b,this.trackerMode$=new r.a(this.localStorage.get(c.c)||c.e.TIMER)}ngAfterViewInit(){this.isChrome&&setTimeout(()=>{this.dropdownRepositionFlag=!this.dropdownRepositionFlag},300),this.manualOnly&&this.openInput()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngOnChanges(t){this.dropdown&&this.dropdown.isOpen&&t.timeSpentList&&this.timeSpentList&&this.timeSpentList.length&&setTimeout(()=>this.updatePosition())}setModeState(){this.trackerMode$.next(this.localStorage.get(c.c)||c.e.TIMER)}fetchTimeEntryItems(){this.getRolledUpTime(),this.fetchTimeSpent()}updatePosition(){this.dropdownRepositionFlag=!this.dropdownRepositionFlag,this.changeDetector.markForCheck()}fetchTimeSpent(){this.taskId&&(this.onTimeTrackerAction.emit({action:c.d.FetchTaskEntries,task:this.task}),this.onTimeTrackerAction.emit({action:c.d.FetchTags,task:this.task}))}getRolledUpTime(){this.taskId&&!this.task&&this.dataService.getTask(this.taskId,["rolledUpTimeSpent"]).subscribe(t=>{this.rolledUpSpent=t.rolled_up_time_spent,this.changeDetector.markForCheck()})}get displayTime(){return null!=this.totalTimeTracked&&this.totalTimeTracked>6e4}timeTrackerAction(t){switch(t.action){case c.d.Start:this.onTimeTrackerAction.emit({action:t.action,payload:Object.assign(Object.assign({},t.payload),{tid:this.taskId})});break;default:this.onTimeTrackerAction.emit(Object.assign(Object.assign({},t),{task:this.task,taskId:this.taskId}))}}updateTimeEntry(t){this.onTimeTrackerAction.emit(this.currentEntry&&this.currentEntry.id?{action:c.d.Update,payload:t,entry:this.currentEntry}:{action:c.d.UpdateUnsaved,payload:t,taskId:this.taskId})}openDeleteConfirmModal(t){const e=this.modal.openComponent(s,this.injector,{name:""});e.instance.onConfirm.pipe(Object(m.a)(e.instance.destroy$)).subscribe(()=>{this.onTimeTrackerAction.emit(Object.assign(Object.assign({},t),{task:this.task,taskId:this.taskId}))})}updateDescription(t){this.updateTimeEntry({description:t})}openInput(t,e=c.e.MANUAL){this.trackerMode$.next(e),this.localStorage.set(c.c,e),this.updateMenu()}setTime(t){t&&this.onTimeTrackerAction.emit({action:c.d.FetchTaskEntries,task:this.task,reload:!0}),this.dropdown.close()}editTime(t,e){this.timeSpentList=this.timeSpentList.map(a=>{if(String(a.user.id)===String(e.assignee)){const i=a.intervals.map(a=>a.id===t?Object.assign({id:t},e):a);return Object.assign(Object.assign({},a),{intervals:i,time:p(i,t=>+t.time)})}return a}),this.totalTimeTracked=p(this.timeSpentList,"time"),this.onChange.emit(this.totalTimeTracked)}removeTimeInterval(t){this.totalTimeTracked=Number(this.totalTimeTracked)-t.time,t.remove&&this.removeTimeSpent(t.remove),this.getRolledUpTime(),this.onChange.emit(this.totalTimeTracked)}removeTimeSpent(t){const e=this.timeSpentList.findIndex(e=>e.id===t.id);e>-1&&this.timeSpentList.splice(e,1),this.timeSpentList.length<1&&this.dropdown.close()}tabChanged(){this.updateMenu()}updateMenu(){setTimeout(()=>{this.resetInput=!1,this.dropdown.positionMenu(),this.resetInput=!0})}markForCheck(){this.changeDetector.markForCheck()}openPaywallModal(){this.modal.open({modifier:"cu-modal_fullwidth",content:this.paywallTemplate})}startTrial(){this.onStartTrial.emit()}open(){this.dropdown.open()}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(o.h),o.Wb(b.a),o.Wb(f.a),o.Wb(n.a),o.Wb(o.t),o.Wb(k.b))},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-time-tracking-dropdown"]],viewQuery:function(t,e){if(1&t&&(o.jd(Z,3),o.jd(Q,3),o.jd(K,3)),2&t){let t;o.Qc(t=o.rc())&&(e.dropdown=t.first),o.Qc(t=o.rc())&&(e.toggle=t.first),o.Qc(t=o.rc())&&(e.paywallTemplate=t.first)}},hostAttrs:[1,"cu-time-tracking-dropdown"],inputs:{task:"task",user:"user",taskId:"taskId",totalTimeTracked:"totalTimeTracked",taskName:"taskName",taskStatusColor:"taskStatusColor",teamId:"teamId",spaceId:"spaceId",setPositioning:"setPositioning",tags:"tags",disabled:"disabled",defaultProject:"defaultProject",currentEntry:"currentEntry",timeSpentList:"timeSpentList",showManualTime:"showManualTime",showActiveTimer:"showActiveTimer",rolledUpSpent:"rolledUpSpent",team:"team",manualOnly:"manualOnly",forceLog:"forceLog"},outputs:{onChange:"onChange",onClose:"onClose",onTimeTrackerAction:"onTimeTrackerAction",onStartTrial:"onStartTrial",onDisplayEntry:"onDisplayEntry"},features:[o.Gb],ngContentSelectors:rt,decls:9,vars:12,consts:function(){let t,e,a,i,o;return t=$localize`:@@common_timer␟ebf205fe9560503cd1ee8eca168de2911763d7da␟2446577475045153716: Timer `,e=$localize`:@@common_manual␟6b4ff819ae10c563c4034206edfc6b82bf88ed94␟254382446573360981: Manual `,a=$localize`:time tracking mode@@common_range--time-tracking-mode␟f3225a71cc09fcaa338588c968bac37212dede98␟1042532102894352930: Range `,i=$localize`:@@cu-time-tracking-dropdown__this-task-only␟eeb9b97df03445392dfdeee51a464d2583e213b7␟8258270301773828156: THIS TASK ONLY `,o=$localize`:@@common_total-with-subtasks␟aac684721c355c4cddb11def0d849a5086c982ec␟1383375403168446871:TOTAL WITH SUBTASKS`,[["cuDropdown","",1,"cu-dropdown",3,"ngClass","dropdownCloseOnInsideClick","dropdownDisabled","dropdownFromPoint","dropdownCloseOnModal","dropdownRepositionFlag","dropdownClose","dropdownOpen"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["toggle",""],[4,"ngIf"],["class","cu-dropdown__menu cu-dropdown__menu_overflow-hidden cu-dropdown__menu_time-tracking",3,"ngClass","click",4,"cuDropdownMenu"],["paywallTemplate",""],[3,"currentDuration","currentEntry","modifier","smallVersion","showManualTime","onlyShowTimeWhenRunning","taskId","disabled","team","onTimeTrackerAction"],[1,"cu-dropdown__menu","cu-dropdown__menu_overflow-hidden","cu-dropdown__menu_time-tracking",3,"ngClass","click"],["class","cu-time-estimates__header-container time-track-rollup",4,"ngIf"],[1,"time-tracking__items"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-time-tracking-dropdown__current"],[1,"cu-time-tracking-dropdown__options"],[1,"cu-time-tracking-dropdown__option",3,"click"],["icon","tt-play"],t,["icon","tt-manual"],e,["icon","tt-range"],a,[3,"currentDuration","defaultProject","currentEntry","tags","showManualTime","allowAddManual","team","taskId","onTimeTrackerAction","onOnUpdateEntry","onDescriptionChange","onShowPaywall","onReposition",4,"ngIf"],[3,"team","tags","taskId","user","dateFormat","trackerMode","showCancel","onCancel","onTimeTrackerAction","onShowPaywall","onReposition","onClose","onDisplayEntry",4,"ngIf"],[1,"cu-time-estimates__header-container","time-track-rollup"],[1,"cu-time-estimates__header"],[1,"cu-time-estimates__header-desc"],i,[1,"cu-time-estimates__header-val"],["class","cu-time-estimates__header",4,"ngIf"],[1,"cu-time-estimates__header-desc","rolled-up"],["icon","subtask",1,"cu-time-tracking-dropdown__icon"],o,[1,"cu-time-estimates__header-val","rolled-up"],[3,"timeSpent","taskId","user","tags","team","intervalDelete","intervalEdit","click","onTimeTrackerAction","onShowPaywall"],[3,"currentDuration","defaultProject","currentEntry","tags","showManualTime","allowAddManual","team","taskId","onTimeTrackerAction","onOnUpdateEntry","onDescriptionChange","onShowPaywall","onReposition"],[3,"team","tags","taskId","user","dateFormat","trackerMode","showCancel","onCancel","onTimeTrackerAction","onShowPaywall","onReposition","onClose","onDisplayEntry"],[3,"featureTitle","description","features","image","plan","trialClick"]]},template:function(t,e){1&t&&(o.Cc(),o.cc(0,"div",0,1),o.qc("dropdownClose",function(){return e.onClose.emit()})("dropdownOpen",function(){return e.setModeState(),e.fetchTimeEntryItems()}),o.cc(2,"div",2,3),o.bd(4,J,2,9,"ng-container",4),o.Bc(5),o.bc(),o.bd(6,nt,30,37,"div",5),o.bc(),o.bd(7,st,1,5,"ng-template",null,6,o.cd)),2&t&&(o.Dc("ngClass",e.modifier)("dropdownCloseOnInsideClick",!1)("dropdownDisabled",e.disabled)("dropdownFromPoint",e.setPositioning?o.Ic(9,ct,e.left,e.top):null)("dropdownCloseOnModal",!0)("dropdownRepositionFlag",e.dropdownRepositionFlag),o.Ib(2),o.Ob("cu-time-tracking-dropdown__toggle",e.showActiveTimer),o.Ib(2),o.Dc("ngIf",e.showActiveTimer))},directives:[_.b,w.o,v.a,w.q,y.a,x.a,w.p,T.a,B,G.a,X.a,W.a],pipes:[w.b,H.a],styles:['.cu-time-tracking-dropdown{width:100%}.cu-task-row .cu-time-tracking-dropdown{padding-left:8px}.cu-time-tracking-dropdown__options{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.cu-time-tracking-dropdown__option{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;display:flex;align-items:center;width:33.3333%;border-right:1px solid hsla(0,0%,100%,.2);color:#fff;opacity:.5;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracking-dropdown__option{font-family:var(--global-font-support)}}.cu-time-tracking-dropdown__option .icon{height:14px;width:14px;fill:#fff;opacity:.5;margin-right:8px}.cu-time-tracking-dropdown__option.cu-time-tracking-dropdown__option-selected,.cu-time-tracking-dropdown__option.cu-time-tracking-dropdown__option-selected .icon{opacity:1}.cu-time-tracking-dropdown__option:first-of-type{justify-content:center;margin-left:-6px}.cu-time-tracking-dropdown__option:nth-of-type(2){justify-content:center}.cu-time-tracking-dropdown__option:nth-of-type(3){justify-content:center;border:none}.cu-time-tracking-dropdown__icon{width:12px;height:12px;margin-right:4px}.cu-time-tracking-dropdown__icon use{fill:#b9bec7;stroke:#b9bec7}.cu-time-tracking-dropdown__toggle{display:flex;align-items:center}.cu-dashboard-board-card .cu-time-tracking-dropdown__toggle{min-width:85px}.cu-time-tracking-dropdown__current{display:block;padding:20px;background:#7b68ee;border-radius:0 0 6px 6px}@supports (--theme-main-color:#7b68ee){.cu-time-tracking-dropdown__current{background:var(--theme-main-color)}}.cu-time-tracking-dropdown__current.manual{padding:20px 20px 0}.cu-time-tracking-dropdown__current .cu-time-tracker__input{display:block;width:100%;padding:10px;margin-bottom:5px;background:hsla(0,0%,100%,.1);border-radius:6px;min-height:36px}'],encapsulation:2}),t})()},j2Cv:function(t,e,a){"use strict";a.d(e,"a",function(){return T});var i=a("2Vo4"),o=a("itXk"),n=a("pLZG"),s=a("lJxs"),c=a("c3rA"),r=a("fXoL"),l=a("l7P3"),u=a("ofXK"),d=a("NsZK"),p=a("UdVN"),m=a("KX9h"),h=a("VhLi"),g=a("0lvH");function b(t,e){if(1&t&&(r.cc(0,"div",4),r.cc(1,"div",5),r.cc(2,"div",6),r.tc(),r.cc(3,"svg",7),r.cc(4,"g",8),r.Xb(5,"circle",9),r.cc(6,"g",10),r.Xb(7,"rect",11),r.Xb(8,"path",12),r.Xb(9,"path",13),r.Xb(10,"rect",14),r.bc(),r.Xb(11,"path",15),r.bc(),r.bc(),r.bc(),r.bc(),r.bc()),2&t){const t=r.uc();r.Ib(1),r.Dc("cuTooltip",t.timeTrackedTooltip)}}function f(t,e){if(1&t&&(r.ac(0),r.dd(1),r.Zb()),2&t){const t=r.uc(3);r.Ib(1),r.ed(t.timeEntry)}}function k(t,e){1&t&&(r.ac(0),r.gc(1,24),r.Zb())}function _(t,e){if(1&t&&(r.cc(0,"div",21),r.bd(1,f,2,1,"ng-container",22),r.bd(2,k,2,0,"ng-template",null,23,r.cd),r.bc()),2&t){const t=r.Rc(3),e=r.uc(2);r.Ob("cu-task-info__key-entry",!!e.timeEntry),r.Ib(1),r.Dc("ngIf",e.timeEntry)("ngIfElse",t)}}function w(t,e){if(1&t&&(r.cc(0,"span",27),r.dd(1),r.vc(2,"momentDate"),r.vc(3,"async"),r.bc()),2&t){const t=e.ngIf,a=r.uc(3);r.Ib(1),r.fd(" on ",r.xc(2,1,t,r.wc(3,4,a.dateFormat$))," ")}}function v(t,e){if(1&t&&(r.cc(0,"div",25),r.dd(1),r.vc(2,"timeTracked"),r.vc(3,"async"),r.vc(4,"async"),r.bd(5,w,4,6,"span",26),r.vc(6,"async"),r.bc()),2&t){const t=r.uc(2);let e=null;r.Ib(1),r.fd(" ",r.zc(2,2,t.totalTimeTracked,null==(e=r.wc(3,7,t.team$))?null:e.hours_per_day,!1,null==(e=r.wc(4,9,t.team$))?null:e.time_tracking_display_hours)," "),r.Ib(4),r.Dc("ngIf",r.wc(6,11,t.start$))}}function y(t,e){if(1&t&&(r.cc(0,"div",25),r.dd(1),r.vc(2,"timeTrackerDuration"),r.bc()),2&t){const t=r.uc(2);r.Ib(1),r.fd(" ",r.xc(2,1,t.totalTimeTracked,!0)," ")}}function x(t,e){if(1&t&&(r.cc(0,"div",16),r.bd(1,_,4,4,"div",17),r.cc(2,"div",18),r.Xb(3,"div",19),r.bd(4,v,7,13,"div",20),r.bd(5,y,3,4,"div",20),r.bc(),r.bc()),2&t){const t=r.uc();r.Ib(1),r.Dc("ngIf",t.displayLabel||t.timeEntry),r.Ib(3),r.Dc("ngIf",!t.useTimeTrackerDuration),r.Ib(1),r.Dc("ngIf",t.useTimeTrackerDuration)}}let T=(()=>{class t{constructor(t){this.store=t,this.start$=new i.a(null),this.displayLabel=!0,this.timeTrackedTooltip=$localize`:@@common_log-time:Log Time`,this.running=!1,this.showTracker=!1,this.toggleModifier="cu-time-tracker-toggle__dropdown-icon",this.useTimeTrackerDuration=!1,this.forceDisplayTime=!1,this.team$=this.store.select(c.getTeam),this.dateFormat$=Object(o.a)([this.store.select(c.getUser),this.start$]).pipe(Object(n.a)(([t,e])=>!!t&&!!e),Object(s.a)(([t,e])=>{let a="M/D/YY",i="MMM D";return"d/m/y"===t.date_format?(a="D/M/YY",i="D MMM"):"y/m/d"===t.date_format&&(a="YYYY-MM--DD"),(new Date).getFullYear()!==new Date(+e).getFullYear()?a:i}))}set start(t){this.start$.next(t)}get displayTime(){return!!this.forceDisplayTime||null!=this.totalTimeTracked&&Math.abs(this.totalTimeTracked)>0}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(l.Store))},t.\u0275cmp=r.Qb({type:t,selectors:[["time-tracking-display"]],inputs:{totalTimeTracked:"totalTimeTracked",displayLabel:"displayLabel",timeTrackedTooltip:"timeTrackedTooltip",running:"running",showTracker:"showTracker",toggleModifier:"toggleModifier",useTimeTrackerDuration:"useTimeTrackerDuration",forceDisplayTime:"forceDisplayTime",timeEntry:"timeEntry",start:"start"},decls:4,vars:2,consts:function(){let t;return t=$localize`:@@common_time-tracked␟404acec519cca4dd470d9e5491ad38b564b31616␟708273473338928952:Time Tracked`,[[1,"cu-dropdown__toggle"],["toggle",""],["class","cu-user-group",4,"ngIf"],["class","time-tracking__display-time",4,"ngIf"],[1,"cu-user-group"],[1,"cu-user-group__item","cu-user-group__item_time-tracker",3,"cuTooltip"],[1,"cu-avatar","cu-avatar_lg","icon","icon_time-tracker-grey"],["width","36","height","36","viewBox","0 0 36 36","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["cx","17","cy","17","r","17","transform","translate(1 1)","stroke-dasharray","3.3",1,"cu-stroke","cu-stroke-dasharray","icon_time-tracker-bkg"],["transform","translate(10 8)"],["x",".5","y","2.5","width","15","height","15","rx","7.5",1,"cu-stroke"],["fill-rule","nonzero","d","M7 10h5v1H7z",1,"cu-fill"],["fill-rule","nonzero","d","M7 6h1v5H7z",1,"cu-fill"],["fill-rule","nonzero","x","5","width","6","height","1","rx",".5",1,"cu-fill"],["d","M24.3 10l1.5 1.6c.2.2.2.5 0 .7-.2.2-.5.2-.7 0L23.7 11c-.2-.3-.2-.7 0-1h.7z","fill-rule","nonzero",1,"cu-fill"],[1,"time-tracking__display-time"],["class","cu-task-info__key",3,"cu-task-info__key-entry",4,"ngIf"],[1,"time-tracking__value"],["icon","clock",1,"time-tracking__icon"],["class","cu-task-info__value",4,"ngIf"],[1,"cu-task-info__key"],[4,"ngIf","ngIfElse"],["timeTrackedTmpl",""],t,[1,"cu-task-info__value"],["class","cu-task-info__value-on",4,"ngIf"],[1,"cu-task-info__value-on"]]},template:function(t,e){1&t&&(r.cc(0,"div",0,1),r.bd(2,b,12,1,"div",2),r.bd(3,x,6,3,"div",3),r.bc()),2&t&&(r.Ib(2),r.Dc("ngIf",!e.displayTime),r.Ib(1),r.Dc("ngIf",e.displayTime))},directives:[u.q,d.a,p.a],pipes:[m.a,u.b,h.a,g.a],encapsulation:2,changeDetection:0}),t})()},j5ze:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("fXoL"),o=a("ofXK"),n=a("UdVN"),s=a("NsZK");function c(t,e){if(1&t&&(i.cc(0,"div",2),i.dd(1),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd(" ",t.numberComments,"\n")}}const r=function(t){return{"cu-assigned-comment-view__icon_pointer":t}};let l=(()=>{class t{constructor(){this.forTasks=!1,this.forMe=!1,this.showTooltip=!0,this.acToMeText=$localize`:@@cu-assigned-comment-view__tooltip-msg_ac-assigned-to-me:You have a comment assigned to you`}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-assigned-comment-view"]],hostAttrs:[1,"cu-assigned-comment-view"],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-assigned-comment-view_me",e.forMe)},inputs:{numberComments:"numberComments",forTasks:"forTasks",forMe:"forMe",showTooltip:"showTooltip"},decls:2,vars:6,consts:[[1,"cu-assigned-comment-view__icon",3,"ngClass","icon","cuTooltip"],["class","cu-assigned-comment-view__number",4,"ngIf"],[1,"cu-assigned-comment-view__number"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.bd(1,c,2,1,"div",1)),2&t&&(i.Dc("ngClass",i.Hc(4,r,e.forTasks))("icon",e.forTasks?"assign":"cu2-assign")("cuTooltip",e.forMe&&e.showTooltip?e.acToMeText:null),i.Ib(1),i.Dc("ngIf",!e.forTasks))},directives:[o.o,n.a,s.a,o.q],styles:['.cu-assigned-comment-view{display:flex;align-items:center;justify-content:center;width:18px;height:18px;position:relative;flex-shrink:0}.cu-dashboard-doc-sidebar-item .cu-assigned-comment-view{pointer-events:none}.cu-assigned-comment-view_me .cu-assigned-comment-view__icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-assigned-comment-view_me .cu-assigned-comment-view__icon{fill:var(--theme-main-color)}}.cu-assigned-comment-view__icon{position:absolute;top:0;left:0;display:block;width:100%;height:100%;fill:#c9c8ca}.cu-assigned-comment-view__icon_pointer{cursor:pointer}.cu-assigned-comment-view__number{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:9px!important;line-height:1!important;color:#fff!important;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-assigned-comment-view__number{font-family:var(--global-font-support)}}'],encapsulation:2,changeDetection:0}),t})()},jCsC:function(t,e,a){"use strict";a.d(e,"j",function(){return o}),a.d(e,"k",function(){return n}),a.d(e,"e",function(){return s}),a.d(e,"f",function(){return c}),a.d(e,"a",function(){return r}),a.d(e,"c",function(){return l}),a.d(e,"d",function(){return u}),a.d(e,"b",function(){return d}),a.d(e,"h",function(){return p}),a.d(e,"i",function(){return m}),a.d(e,"g",function(){return h});var i=a("l7P3");const o=Object(i.createAction)("[RELATIONSHIPS] Get links start",Object(i.props)()),n=Object(i.createAction)("[RELATIONSHIPS] Get links success",Object(i.props)()),s=Object(i.createAction)("[RELATIONSHIPS] Create two way link start",Object(i.props)()),c=Object(i.createAction)("[RELATIONSHIPS] Create two way link success",Object(i.props)()),r=Object(i.createAction)("[RELATIONSHIPS] Create two way link error",Object(i.props)()),l=Object(i.createAction)("[RELATIONSHIPS] Create two way link from backlink start",Object(i.props)()),u=Object(i.createAction)("[RELATIONSHIPS] Create two way link from backlink success",Object(i.props)()),d=Object(i.createAction)("[RELATIONSHIPS] Create two way link from backlink error",Object(i.props)()),p=Object(i.createAction)("[RELATIONSHIPS] Delete two way link start",Object(i.props)()),m=Object(i.createAction)("[RELATIONSHIPS] Delete two way link success",Object(i.props)()),h=Object(i.createAction)("[RELATIONSHIPS] Delete two way link error",Object(i.props)());Object(i.union)({getLinksStart:o,getLinksSuccess:n,createTwoWayLinkStart:s,createTwoWayLinkSuccess:c,createTwoWayLinkError:r,createTwoWayLinkFromBacklinkStart:l,createTwoWayLinkFromBacklinkSuccess:u,createTwoWayLinkFromBacklinkError:d,deleteTwoWayLinkStart:p,deleteTwoWayLinkSuccess:m,deleteTwoWayLinkError:h})},jQu0:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("ofXK"),o=a("K0KF"),n=a("gb9A"),s=a("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.a]]}),t})()},jZSK:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("ofXK"),o=a("gb9A"),n=a("mcWp"),s=a("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.a]]}),t})()},kHoN:function(t,e,a){"use strict";a.d(e,"a",function(){return w});var i=a("ofXK"),o=a("Dvla"),n=a("Ivax"),s=a("EDFS"),c=a("chQ0"),r=a("1M0N"),l=a("K0KF"),u=a("fTg4"),d=a("2E2X"),p=a("KyjD"),m=a("3Pt+"),h=a("/SUI"),g=a("gb9A"),b=a("ihCf"),f=a("xDeF"),k=a("K1R0"),_=a("fXoL");let w=(()=>{class t{}return t.\u0275mod=_.Ub({type:t}),t.\u0275inj=_.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.b,n.a,c.a,s.d.forRoot(),r.a,l.a,u.a,d.a,p.a,m.l,h.a,g.a,p.a,b.b,f.a,k.b.forRoot({animateTitle:!1,animation:!1,showUnits:!0,showBackground:!1,showSubtitle:!1,renderOnClick:!1,backgroundPadding:0})]]}),t})()},kVoD:function(t,e,a){"use strict";a.d(e,"a",function(){return m});var i=a("Kj3r"),o=a("1G5W"),n=a("XNiG"),s=a("fXoL"),c=a("uslN"),r=a("UdVN"),l=a("3Pt+"),u=a("ofXK");const d=["descriptionInput"];function p(t,e){if(1&t){const t=s.dc();s.cc(0,"div",5),s.qc("click",function(){s.Uc(t);const e=s.uc();return e.descriptionDisplay="",e.updateDescription()}),s.bc()}}let m=(()=>{class t{constructor(){this.debounceSetDescription=new n.a,this.destroy$=new n.a,this.placeholder=$localize`:@@cu-time-tracker-description__form-placeholder_enter-note:Enter a note`,this.autoFocus=!1,this.onDescriptionChange=new s.o,this.onShowPaywall=new s.o}ngOnInit(){this.debounceSetDescription.pipe(Object(i.a)(500),Object(o.a)(this.destroy$)).subscribe(()=>this.updateDescription()),this.descriptionDisplay=this.description}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngAfterViewInit(){this.autoFocus&&setTimeout(()=>this.descriptionInput.nativeElement.focus(),0)}ngOnChanges(t){t.description&&this.description&&!this.descriptionDisplay&&(this.descriptionDisplay=this.description)}updateDescription(){this.onDescriptionChange.emit(this.descriptionDisplay)}checkPaywall(){this.team&&(this.team.plan_id!==c.f.FREE&&this.team.plan_id!==c.f.UNLIMITED||this.onShowPaywall.emit())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Qb({type:t,selectors:[["cu-time-tracker-description"]],viewQuery:function(t,e){if(1&t&&s.jd(d,3),2&t){let t;s.Qc(t=s.rc())&&(e.descriptionInput=t.first)}},inputs:{description:"description",placeholder:"placeholder",autoFocus:"autoFocus",team:"team"},outputs:{onDescriptionChange:"onDescriptionChange",onShowPaywall:"onShowPaywall"},features:[s.Gb],decls:5,vars:3,consts:[[1,"cu-time-tracker-description"],["icon","text-l",1,"cu-time-tracker-description__icon"],["type","text",1,"cu-time-tracker-description__input",3,"placeholder","ngModel","ngModelChange","keyup.Enter","focus"],["descriptionInput",""],["class","cu-time-tracker-description__remove","icon","cu2-times",3,"click",4,"ngIf"],["icon","cu2-times",1,"cu-time-tracker-description__remove",3,"click"]],template:function(t,e){if(1&t){const t=s.dc();s.cc(0,"div",0),s.Xb(1,"div",1),s.cc(2,"input",2,3),s.qc("ngModelChange",function(t){return e.descriptionDisplay=t})("ngModelChange",function(){return e.debounceSetDescription.next()})("keyup.Enter",function(){return s.Uc(t),s.Rc(3).blur()})("focus",function(){return e.checkPaywall()}),s.bc(),s.bd(4,p,1,0,"div",4),s.bc()}2&t&&(s.Ib(2),s.Dc("placeholder",e.placeholder)("ngModel",e.descriptionDisplay),s.Ib(2),s.Dc("ngIf",!!e.descriptionDisplay))},directives:[r.a,l.c,l.p,l.s,u.q],styles:['.cu-time-tracker-description{display:flex;align-items:center}.cu-time-tracker-description__icon{display:inline-block;width:14px;height:14px;margin:0 4px 0 0;stroke:#fff}.cu-time-tracker-description__input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;flex:1 0 0;border:0;background:transparent;color:#fff;box-shadow:none!important}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-description__input{font-family:var(--global-font-support)}}.cu-time-tracker-description__input:-ms-input-placeholder{color:#fff}.cu-time-tracker-description__input::placeholder{color:#fff}.cu-time-tracker-description__input:focus{background:transparent}.cu-time-tracker-description__remove{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:16px;height:16px;padding:2px;fill:#fff;cursor:pointer;z-index:9}.dark-theme .cu-time-tracker-description__remove{fill:#fff}.cu-time-tracker-description__remove:hover{transform:rotate(180deg)}'],encapsulation:2,changeDetection:0}),t})()},kc4K:function(t,e,a){"use strict";a.d(e,"a",function(){return m});var i=a("fXoL"),o=a("L5Tv"),n=a("aitn"),s=a("ofXK"),c=a("peMq"),r=a("NsZK"),l=a("UdVN");const u=function(){return[]};function d(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-user-group",3),i.qc("onUserRemove",function(e){return i.Uc(t),i.uc().removeAssignee(e)})("onUserGroupRemove",function(e){return i.Uc(t),i.uc().removeGroupAssignee(e)}),i.bc()}if(2&t){const t=i.uc();i.Dc("users",t.assignees||i.Gc(8,u))("userGroups",t.groupAssignees||i.Gc(9,u))("showUserRemover",!t.disabled)("readOnly",t.disabled)("leadCounter",t.leadCounter)("userAddTooltip",t.tooltip)("addAssigneeIcon",t.addAssigneeIcon)("avatarSize",30)}}function p(t,e){if(1&t&&i.Xb(0,"div",4),2&t){const t=i.uc();i.Dc("icon",t.assigneePickerIcon)("tooltipDelay",500)("tooltipModifier","tooltip_near")}}let m=(()=>{class t{constructor(){this.UserWeightType=o.c,this.disabled=!1,this.onChange=new i.o,this.onUserGroupsChange=new i.o,this.onLoad=new i.o,this.onClose=new i.o}ngOnChanges(t){t.colWidth&&(t.colWidth.firstChange||t.colWidth.previousValue&&t.colWidth.currentValue&&t.colWidth.currentValue!==t.colWidth.previousValue)&&this.updateLeadCounter()}removeAssignee(t){this.changeUsers(this.assignees.filter(e=>e.id!==t.id))}removeGroupAssignee(t){this.changeUserGroups(this.groupAssignees.filter(e=>e.id!==t.id))}changeUsers(t){this.onChange.emit(t)}changeUserGroups(t){this.onUserGroupsChange.emit(t)}updateLeadCounter(){this.leadCounter=Math.floor(this.colWidth/24)-1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-row-assignee"]],hostAttrs:[1,"cu-task-row-assignee"],inputs:{disabled:"disabled",multipleAssignees:"multipleAssignees",assignees:"assignees",users:"users",userGroups:"userGroups",groupAssignees:"groupAssignees",colWidth:"colWidth",tooltip:"tooltip",headerTemplate:"headerTemplate",addAssigneeIcon:"addAssigneeIcon",assigneePickerIcon:"assigneePickerIcon",weights:"weights",task:"task",subcategory:"subcategory"},outputs:{onChange:"onChange",onUserGroupsChange:"onUserGroupsChange",onLoad:"onLoad",onClose:"onClose"},features:[i.Gb],decls:3,vars:14,consts:function(){let t;return t=$localize`:@@common_delegate␟ceb89797f168b0f714a4ef95f85c8c31f2492aad␟6737094119613397377:Delegate`,[[3,"disabled","enableFirstSelection","multiChoice","selectedUsers","users","userGroups","selectedUserGroups","headerTemplate","weights","weightType","task","subcategory","onChange","onUserGroupsChanged","onOpen","onClose"],[3,"users","userGroups","showUserRemover","readOnly","leadCounter","userAddTooltip","addAssigneeIcon","avatarSize","onUserRemove","onUserGroupRemove",4,"ngIf"],["class","cu-task-row-assignee__icon","cuTooltip",t,3,"icon","tooltipDelay","tooltipModifier",4,"ngIf"],[3,"users","userGroups","showUserRemover","readOnly","leadCounter","userAddTooltip","addAssigneeIcon","avatarSize","onUserRemove","onUserGroupRemove"],["cuTooltip",t,1,"cu-task-row-assignee__icon",3,"icon","tooltipDelay","tooltipModifier"]]},template:function(t,e){1&t&&(i.cc(0,"cu-user-and-groups-list-dropdown",0),i.qc("onChange",function(t){return e.changeUsers(t)})("onUserGroupsChanged",function(t){return e.changeUserGroups(t)})("onOpen",function(){return e.onLoad.emit()})("onClose",function(){return e.onClose.emit()}),i.bd(1,d,1,10,"cu-user-group",1),i.bd(2,p,1,3,"div",2),i.bc()),2&t&&(i.Dc("disabled",e.disabled)("enableFirstSelection",!0)("multiChoice",e.multipleAssignees)("selectedUsers",e.assignees)("users",e.users)("userGroups",e.userGroups)("selectedUserGroups",e.groupAssignees)("headerTemplate",e.headerTemplate)("weights",e.weights)("weightType",e.UserWeightType.ASSIGN)("task",e.task)("subcategory",e.subcategory),i.Ib(1),i.Dc("ngIf",!e.assigneePickerIcon),i.Ib(1),i.Dc("ngIf",e.assigneePickerIcon))},directives:[n.a,s.q,c.a,r.a,l.a],styles:['.cu-task-row-assignee{display:flex;justify-content:center;align-items:center;flex-shrink:0;width:100px;overflow:hidden;position:relative}@media print{.cu-task-row-assignee{width:70px;display:flex;justify-content:center}}.cu-task-row-assignee__icon{width:36px;height:36px;padding:10px;cursor:pointer;fill:#aeacb0}.dark-theme .cu-task-row-assignee__icon{fill:#82868d}.cu-task-row-assignee__icon:hover{fill:#fd71af}.cu-task-row-assignee:after{content:"";display:block;position:absolute;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row-assignee:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row-assignee .cu-avatar{cursor:pointer;width:30px;height:30px}.cu-task-row-assignee .cu-avatar.cu-avatar_lg{width:30px;height:30px}.cu-task-row-assignee .cu-avatar .cu-user-group__icon-mono svg{width:26px;height:26px}.cu-task-row-assignee .cu-dropdown{margin:0}.cu-task-row-assignee .cu-user-group__item img{position:relative}.cu-task-row-assignee .cu-user-group__item:hover .cu-avatar_initials,.cu-task-row-assignee .cu-user-group__item:hover .cu-avatar_photo{position:relative;margin:-1px;width:32px;height:32px;z-index:1;font-size:12px}.cu-task-row-assignee .cu-user-group__item:hover .cu-project-avatar{z-index:1}.cu-task-row-assignee .cu-user-group__item .cu-avatar__assign-mono{padding:0}.cu-task-row-assignee .cu-user-group__item .cu-user-group__more.cu-user-group__more_lg{width:30px;height:30px}.cu-task-row-assignee .cu-user-group__remove{width:17px;height:17px}.dark-theme .cu-task-row-assignee .cu-user-group__remove{border-color:#2b343b}.cu-task-row-assignee__paywall{transform:translateY(80px)}.cu-task-row-assignee__paywall:after{display:none}'],encapsulation:2,changeDetection:0}),t})()},lbgh:function(t,e,a){"use strict";a.d(e,"b",function(){return R}),a.d(e,"a",function(){return F});var i=a("fXoL"),o=a("Jf2N"),n=a("WSBU"),s=a("ofXK");let c=(()=>{class t{constructor(t,e){this.modal=t,this.automationActionFacade=e,this.loading$=this.automationActionFacade.loading$}closeModal(){this.modal.close()}confirmDelete(){this.automationActionFacade.deleteAutomation(this.automation.id,this.parent)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.a),i.Wb(n.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-confirm-delete-automation-modal"]],inputs:{automation:"automation",parent:"parent"},decls:15,vars:3,consts:function(){let t,e,a;return t=$localize`:@@cu-confirm-delete-automation-modal__question_delete-automation␟2f50f07a13aa9512e465371a041b53e454e5060c␟4500383504962508251: Are you sure you want to delete this Automation? `,e=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,a=$localize`:@@common_delete␟826b25211922a1b46436589233cb6f1a163d89b7␟7022070615528435141:Delete`,[[1,"cu-conflict-management"],[1,"cu-conflict-management__warning-img"],[1,"cu-conflict-management__warning","cu-conflict-management__warning_black"],t,[1,"move-category__footer"],[1,"cu-btn","cu-conflict-management__cancel",3,"click"],e,[1,"cu-btn","cu-btn_red","cu-btn_spinner",3,"disabled","click"],[1,"cu-btn__text"],a,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"]]},template:function(t,e){if(1&t&&(i.cc(0,"div",0),i.Xb(1,"div",1),i.cc(2,"div",2),i.gc(3,3),i.bc(),i.cc(4,"div",4),i.cc(5,"button",5),i.qc("click",function(){return e.closeModal()}),i.gc(6,6),i.bc(),i.cc(7,"button",7),i.qc("click",function(){return e.confirmDelete()}),i.vc(8,"async"),i.cc(9,"div",8),i.gc(10,9),i.bc(),i.cc(11,"div",10),i.Xb(12,"div",11),i.Xb(13,"div",12),i.Xb(14,"div",13),i.bc(),i.bc(),i.bc(),i.bc()),2&t){let t=null;i.Ib(7),i.Dc("disabled",null==(t=i.wc(8,1,e.loading$))?null:t.delete)}},pipes:[s.b],styles:[""],changeDetection:0}),t})();var r=a("2Vo4"),l=a("XNiG"),u=a("itXk"),d=a("LRne"),p=a("Cfvw"),m=a("pLZG"),h=a("eIep"),g=a("lJxs"),b=a("1G5W"),f=a("IzEk"),k=a("/uUt"),_=a("c3rA"),w=a("o7Ov"),v=a("7Cbv"),y=a("2eDp"),x=a("Muja"),T=a("EPTN"),I=a("uslN"),C=a("O5BZ"),D=a("3/Gy"),S=a("HHlo"),O=a("l7P3"),j=a("VrOs"),P=a("NUo3");function A(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-automation-list",2),i.qc("onSidebarSelectedCategory",function(e){return i.Uc(t),i.uc().setSidebarSelectedCategory(e)})("startCreatingAutomation",function(e){return i.Uc(t),i.uc().startCreateAutomation(e)})("editAutomation",function(e){return i.Uc(t),i.uc().startEditAutomation(e)})("deleteAutomation",function(e){return i.Uc(t),i.uc().deleteAutomation(e)})("changeTab",function(e){return i.Uc(t),i.uc().changeTab(e)})("toggleAutomationActive",function(e){return i.Uc(t),i.uc().toggleAutomationActive(e)})("createAutomation",function(e){return i.Uc(t),i.uc().createAutomation(e)})("updateAutomation",function(e){return i.Uc(t),i.uc().updateAutomation(e)})("changeParentId",function(e){return i.Uc(t),i.uc().changeParentId(e)})("onShowPresets",function(e){return i.Uc(t),i.uc().onShowPresets(e)}),i.vc(1,"async"),i.vc(2,"async"),i.vc(3,"async"),i.vc(4,"async"),i.vc(5,"async"),i.vc(6,"async"),i.vc(7,"async"),i.vc(8,"async"),i.vc(9,"async"),i.vc(10,"async"),i.vc(11,"async"),i.vc(12,"async"),i.bc()}if(2&t){const t=i.uc();let e=null,a=null,o=null;i.Dc("currentTab",t.currentTab)("automations",i.wc(1,16,t.automations$))("team",i.wc(2,18,t.team$))("user",i.wc(3,20,t.user$))("automation",t.editInstance)("parent",i.wc(4,22,t.fullParent$))("parentId",null==(e=i.wc(5,24,t.parent$))?null:e.id)("parentType",null==(a=i.wc(6,26,t.parent$))?null:a.type)("features",i.wc(7,28,t.projectFeatures$))("showPaywall",i.wc(8,30,t.showPaywall$))("teamId",null==(o=i.wc(9,32,t.team$))?null:o.id)("loading",i.wc(10,34,t.loading$))("rateAndSymbol",i.wc(11,36,t.rateAndSymbol$))("activeAutomationCount",i.wc(12,38,t.activeAutomationCount$))("sidebarSelectedCategory",t.sidebarSelectedCategory)("showPresets",t.showPresets)}}function $(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-edit-automation",3),i.qc("cancel",function(){return i.Uc(t),i.uc().cancelEdit()})("createAutomation",function(e){return i.Uc(t),i.uc().createAutomation(e)})("updateAutomation",function(e){return i.Uc(t),i.uc().updateAutomation(e)})("changeParentId",function(e){return i.Uc(t),i.uc().changeParentId(e)}),i.vc(1,"async"),i.vc(2,"async"),i.vc(3,"async"),i.vc(4,"async"),i.vc(5,"async"),i.vc(6,"async"),i.vc(7,"async"),i.bc()}if(2&t){const t=i.uc();let e=null,a=null,o=null;i.Dc("automation",t.editInstance)("parentType",null==(e=i.wc(1,8,t.parent$))?null:e.type)("parentId",null==(a=i.wc(2,10,t.parent$))?null:a.id)("parent",i.wc(3,12,t.fullParent$))("loading",i.wc(4,14,t.loading$))("features",i.wc(5,16,t.projectFeatures$))("showPaywall",i.wc(6,18,t.showPaywall$))("teamId",null==(o=i.wc(7,20,t.team$))?null:o.id)}}var R=function(t){return t[t.Browse=0]="Browse",t[t.Manage=1]="Manage",t[t.Usage=2]="Usage",t}({});let F=(()=>{class t{constructor(t,e,a,i,o,n,s,c,u){this.modal=t,this.injector=e,this.store=a,this.cdr=i,this.automationActionFacades=o,this.automationResourceFacade=n,this.savedAutomation=s,this.automationStrategies=c,this.rollbar=u,this.currentTab=R.Browse,this.parent$=new r.a(null),this.rateAndSymbol$=this.store.select(C.E),this.authenticating=!1,this.usingPreset=!1,this.showPresets=!1,this.automations$=this.parent$.pipe(Object(m.a)(t=>!!t),Object(h.a)(t=>this.savedAutomation.getAutomationsForParent(t.type,t.id,!0))),this.team$=this.store.select(_.getTeam),this.user$=this.store.select(_.getUser),this.fullParent$=this.parent$.pipe(Object(m.a)(t=>!!t),Object(h.a)(t=>this.automationActionFacades.getParent(t.type,t.id))),this.projectFeatures$=this.parent$.pipe(Object(m.a)(t=>!!t),Object(h.a)(t=>this.store.select(Object(_.getAutomationParentProjectFeatures)(t.type,t.id)))),this.customFieldEntity$=this.parent$.pipe(Object(m.a)(t=>!!t),Object(g.a)(t=>Object(y.e)(t.type,t.id))),this.activeAutomationCount$=this.parent$.pipe(Object(m.a)(t=>!!t),Object(h.a)(t=>this.automationActionFacades.getActiveAutomationCount(t.type,t.id,!0))),this.loading$=this.automationActionFacades.loading$,this.showPaywall$=this.team$.pipe(Object(g.a)(t=>![I.f.BUSINESS,I.f.ENTERPRISE].includes(t.plan_id))),this.resources$=this.parent$.pipe(Object(h.a)(t=>this.automationResourceFacade.getRemappedResources(t.id,t.type))),this.destroy$=new l.a}ngOnInit(){this.reloadUsage(),this.currentTab===R.Browse&&this.startCreateAutomation(),this.automationActionFacades.onSuccess$.pipe(Object(b.a)(this.destroy$)).subscribe(()=>{this.changeTab(R.Manage),this.cancelEdit()}),this.automationActionFacades.deleteAutomationSuccess$.pipe(Object(b.a)(this.destroy$)).subscribe(()=>{this.modal.close()}),this.automationActionFacades.getErrorCode("AUTO_132").pipe(Object(h.a)(t=>Object(u.a)([Object(d.a)(t),this.store.select(Object(_.findSubcategoryByIdInAllProjects)(t.error.to_subcategory.id)).pipe(Object(f.a)(1))])),Object(b.a)(this.destroy$)).subscribe(([t,e])=>{const a=this.modal.openComponent(T.a,this.injector,{dialogModifier:"cu-modal__dialog-conflict",preventExternalClick:!0});a.instance.old=t.error.needs_mapping,a.instance.new=t.error.to_subcategory.statuses,a.instance.type="automation",a.instance.list=e,a.instance.init(),a.instance.onSelect.pipe(Object(b.a)(a.instance.destroy$)).subscribe(e=>{t.type===n.v.type?this.automationActionFacades.createAutomationStart({parent:t.parent,payload:Object.assign(Object.assign({},t.payload),{actions:t.payload.actions.map(t=>Object.assign(Object.assign({},t),{input:Object.assign(Object.assign({},t.input),{status_change_map:e})}))})}):this.automationActionFacades.updateAutomation({automationId:t.automationId,parent:t.parent,changes:Object.assign(Object.assign({},t.changes),{add_actions:t.changes.add_actions.map(t=>Object.assign(Object.assign({},t),{input:Object.assign(Object.assign({},t.input),{status_change_map:e})}))})}),this.modal.close()})}),this.customFieldEntity$.pipe(Object(k.a)(x.a),Object(b.a)(this.destroy$)).subscribe(t=>{this.store.dispatch(Object(S.m)({entity:t}))})}ngOnDestroy(){this.destroy$.next()}onShowPresets(t){this.showPresets=t}startCreateAutomation(t){this.resources$.pipe(Object(f.a)(1),Object(h.a)(e=>{let a,i;if(t?(a=e.find(e=>e.key===t.icons.from.resourceKey),i=e.find(e=>e.key===t.icons.to.resourceKey),a?i||this.rollbar.handleError({resources:e,fromPreset:t.icons.to,title:"Action resource is null"}):this.rollbar.handleError({resources:e,fromPreset:t.icons.from,title:"Trigger resource is null"})):(a=i=e.find(t=>t.internal),a||this.rollbar.handleError({resources:e,fromPreset:t.icons.to,title:"Could not find any internal automation resource"})),a.auth_type){const t=this.automationStrategies.getStrategy(a.key),i=a.display||{};return this.authenticating=!0,Object(p.a)(this.authentication(a.key,{color:t&&t.colors?t.colors.main:i.color,icon:t&&t.icon?t.icon.resource:i.icon,isIconUrl:t&&t.icon?"url"===t.icon.type:!!i.icon}).then(t=>({auth:t,for:"trigger",resources:e})))}if(i.auth_type){const t=this.automationStrategies.getStrategy(i.key),a=i.display||{};return this.authenticating=!0,Object(p.a)(this.authentication(i.key,{color:t&&t.colors?t.colors.main:a.color,icon:t&&t.icon?t.icon.resource:a.icon,isIconUrl:t&&t.icon?"url"===t.icon.type:!!a.icon}).then(t=>({auth:t,for:"action",resources:e})))}return Object(d.a)({auth:null,for:null,resources:e})})).subscribe(e=>{if(!e.for||e.for&&e.auth){const a=e.resources.find(t?e=>e.key===t.icons.from.resourceKey:t=>t.internal);this.editInstance={parent:this.parent$.value,active:!0,resource:a,trigger:{schema:Object.assign({},t?t.trigger:e.resources[0].triggers[0]),triggerInputValues:Object.assign({},"trigger"===e.for?{auth:e.auth.auth}:{}),triggerConditions:[]},actions:[{id:Object(v.a)(),action:t?t.action:e.resources[0].actions[0],inputValues:Object.assign({},"action"===e.for?{auth:e.auth.auth}:{}),mappedInputValues:{},resource:t?e.resources.find(e=>e.key===t.icons.to.resourceKey):e.resources[0],interpolatedInput:{}}],dynamicValues:a.dynamic_values,conditions:a.conditions}}void 0===e.auth&&(this.showPresets=!0),this.usingPreset=void 0!==e.auth&&(!!t||null===t),this.cdr.markForCheck()})}startEditAutomation(t){this.editInstance=t}cancelEdit(){this.usingPreset=!1,this.editInstance=null,this.cdr.detectChanges()}deleteAutomation(t){const e=this.modal.openComponent(c,this.injector);e.instance.automation=t,e.instance.parent=this.parent$.value}changeTab(t){this.currentTab=t,t===R.Browse&&this.startCreateAutomation(),t===R.Usage&&this.reloadUsage()}setParent(t,e){const a={type:t,id:e};this.parent$.next(a),this.automationActionFacades.loadAutomation(a)}createAutomation(t){this.automationActionFacades.createAutomationStart({payload:t,parent:this.parent$.value})}updateAutomation(t){this.automationActionFacades.updateAutomation({changes:t,parent:this.parent$.value,automationId:this.editInstance.id})}toggleAutomationActive(t){this.automationActionFacades.updateAutomation({changes:{active:!t.active},parent:this.parent$.value,automationId:t.id})}changeParentId(t){this.setParent(this.parent$.value.type,t),this.startCreateAutomation()}setSidebarSelectedCategory(t){this.sidebarSelectedCategory=t}reloadUsage(){this.store.dispatch(new w.Yf)}authentication(t,e){return a=this,void 0,o=function*(){const a=this.modal.openComponent(D.c,this.injector,{blank:!0,dialogModifier:"cu-modal__dialog-automations",noOpenAnimation:!0});return a.instance.integrationResource=t,a.instance.resourceInfo=e,yield new Promise((t,e)=>{a.onDestroy(()=>t(void 0)),a.instance.onCloseModal.pipe(Object(b.a)(a.instance.destroy$)).subscribe(()=>{t(void 0)}),a.instance.selectedAuth.pipe(Object(b.a)(a.instance.destroy$)).subscribe(e=>{a.instance.isValid&&t(e)})}).then(t=>(this.authenticating=!1,this.modal.close(),t))},new((i=void 0)||(i=Promise))(function(t,e){function n(t){try{c(o.next(t))}catch(a){e(a)}}function s(t){try{c(o.throw(t))}catch(a){e(a)}}function c(e){var a;e.done?t(e.value):(a=e.value,a instanceof i?a:new i(function(t){t(a)})).then(n,s)}c((o=o.apply(a,[])).next())});var a,i,o}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.a),i.Wb(i.t),i.Wb(O.Store),i.Wb(i.h),i.Wb(n.a),i.Wb(n.o),i.Wb(n.u),i.Wb(j.d),i.Wb(P.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-modal"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-automation-modal__container",!0)},decls:2,vars:2,consts:[[3,"currentTab","automations","team","user","automation","parent","parentId","parentType","features","showPaywall","teamId","loading","rateAndSymbol","activeAutomationCount","sidebarSelectedCategory","showPresets","onSidebarSelectedCategory","startCreatingAutomation","editAutomation","deleteAutomation","changeTab","toggleAutomationActive","createAutomation","updateAutomation","changeParentId","onShowPresets",4,"ngIf"],[3,"automation","parentType","parentId","parent","loading","features","showPaywall","teamId","cancel","createAutomation","updateAutomation","changeParentId",4,"ngIf"],[3,"currentTab","automations","team","user","automation","parent","parentId","parentType","features","showPaywall","teamId","loading","rateAndSymbol","activeAutomationCount","sidebarSelectedCategory","showPresets","onSidebarSelectedCategory","startCreatingAutomation","editAutomation","deleteAutomation","changeTab","toggleAutomationActive","createAutomation","updateAutomation","changeParentId","onShowPresets"],[3,"automation","parentType","parentId","parent","loading","features","showPaywall","teamId","cancel","createAutomation","updateAutomation","changeParentId"]],template:function(t,e){1&t&&(i.bd(0,A,13,40,"cu-automation-list",0),i.bd(1,$,8,22,"cu-edit-automation",1)),2&t&&(i.Dc("ngIf",!(null!=e.editInstance&&e.editInstance.id||e.authenticating||e.usingPreset)),i.Ib(1),i.Dc("ngIf",(e.editInstance&&(null==e.editInstance?null:e.editInstance.id)||e.usingPreset)&&!e.authenticating))},styles:[".cu-automation-modal__container{display:block;height:calc(100vh - 80px);min-height:0;border-radius:4px;background-color:#fafbfc}.dark-theme .cu-automation-modal__container{background-color:#2b343b}"],encapsulation:2,changeDetection:0}),t})()},mYHb:function(t,e,a){"use strict";a.d(e,"a",function(){return Y});var i=a("lJxs"),o=a("pLZG"),n=a("Rpu1"),s=a("uslN"),c=a("2Vo4"),r=a("XNiG"),l=a("fXoL"),u=a("f0Wu"),d=a.n(u),p=a("KX9h"),m=a("AeD3"),h=a("oy6Y"),g=a("jJW4"),b=a("76Cs"),f=a("ofXK"),k=a("Tgx9"),_=a("bFKe"),w=a("LdyQ"),v=a("MJvn"),y=a("n+1/"),x=a("9mq+"),T=a("NsZK"),I=a("UdVN"),C=a("31bS"),D=a("WeU5"),S=a("vAZK"),O=a("R5AC"),j=a("kVoD"),P=a("Xiu6"),A=a("EMdj");const $=["dropdown"];function R(t,e){if(1&t){const t=l.dc();l.cc(0,"div",24),l.Xb(1,"div",25),l.cc(2,"cu-time-estimates-input",26,27),l.qc("onChange",function(e){return l.Uc(t),l.uc().updateDuration(e)})("onUnsavedChange",function(e){return l.Uc(t),l.uc().updateDuration(e)})("onSave",function(){return l.Uc(t),l.uc().save(!0)}),l.vc(4,"async"),l.bc(),l.bc()}if(2&t){const t=l.uc();l.Ib(2),l.Dc("autoFocus",!0)("emitOnBlur",!0)("saveOnEnter",!0)("textValue",l.wc(4,4,t.textValue$))}}function F(t,e){if(1&t&&(l.cc(0,"div",34),l.dd(1),l.bc()),2&t){const t=l.uc(2);l.Ib(1),l.fd(" ",t.endDateError," ")}}function M(t,e){if(1&t&&(l.cc(0,"div",34),l.dd(1),l.bc()),2&t){const t=l.uc(2);l.Ib(1),l.fd(" ",t.endDateMsg," ")}}function E(t,e){if(1&t){const t=l.dc();l.ac(0),l.cc(1,"div",28),l.cc(2,"cu-datetime-natural-language",29),l.qc("onChange",function(e){return l.Uc(t),l.uc().setStart(e.newMoment)})("onEnter",function(){return l.Uc(t),l.Rc(8).focusInput()}),l.vc(3,"async"),l.vc(4,"async"),l.bc(),l.cc(5,"span",30),l.dd(6,"-"),l.bc(),l.cc(7,"cu-datetime-natural-language",31,32),l.qc("onChange",function(e){return l.Uc(t),l.uc().setEnd(e.newMoment)})("onEnter",function(){return l.Uc(t),l.uc().save(!0)}),l.vc(9,"async"),l.vc(10,"async"),l.bc(),l.bc(),l.bd(11,F,2,1,"div",33),l.bd(12,M,2,1,"div",33),l.Zb()}if(2&t){const t=l.uc();let e=null,a=null;l.Ib(2),l.Dc("dateVal",l.wc(3,26,t.entryStart$))("forTime",!0)("inDatePicker",!0)("focusOnInit",!0)("focusWhenVisible",!1)("timeExists",!0)("emitOnEnter",!0)("militaryTime",null==(e=l.wc(4,28,t.sharedData.currentUser))?null:e.twenty_four_hr_setting)("placeholder","HH:MM")("forceUpdate",!1)("showClose",!1)("modifier","time-tracking__dropdown-select_time-range"),l.Ib(5),l.Dc("dateVal",l.wc(9,30,t.entryEnd$))("forTime",!0)("inDatePicker",!0)("focusOnInit",!1)("focusWhenVisible",!1)("timeExists",!0)("militaryTime",null==(a=l.wc(10,32,t.sharedData.currentUser))?null:a.twenty_four_hr_setting)("placeholder","HH:MM")("forceUpdate",!1)("showClose",!1)("modifier","time-tracking__dropdown-select_time-range")("emitOnEnter",!0),l.Ib(4),l.Dc("ngIf",t.endDateError),l.Ib(1),l.Dc("ngIf",t.endDateMsg)}}const U=function(t){return{"background-color":t}};function L(t,e){if(1&t){const t=l.dc();l.cc(0,"div",43),l.cc(1,"div",44),l.Xb(2,"div",45),l.vc(3,"async"),l.vc(4,"async"),l.cc(5,"div",46),l.vc(6,"async"),l.dd(7),l.vc(8,"async"),l.bc(),l.bc(),l.cc(9,"div",47),l.qc("click",function(e){l.Uc(t);const a=l.uc(3);return e.stopPropagation(),a.setTask(null)}),l.bc(),l.bc()}if(2&t){const t=l.uc(3);let e=null,a=null,i=null,o=null;l.Ib(2),l.Ob("milestone",1===(null==(e=l.wc(3,6,t.changes$))||null==e.task?null:e.task.custom_type)),l.Dc("ngStyle",l.Hc(14,U,null==(a=l.wc(4,8,t.changes$))||null==a.task||null==a.task.status?null:a.task.status.color)),l.Ib(3),l.Dc("cuTooltip",null==(i=l.wc(6,10,t.changes$))||null==i.task?null:i.task.name)("tooltipDisabledIfTextNotTruncated",!0),l.Ib(2),l.fd(" ",null==(o=l.wc(8,12,t.changes$))||null==o.task?null:o.task.name," ")}}function z(t,e){1&t&&(l.cc(0,"div",48),l.Xb(1,"div",49),l.ac(2),l.gc(3,50),l.Zb(),l.bc())}function V(t,e){if(1&t){const t=l.dc();l.cc(0,"div",51),l.qc("click",function(){return l.Uc(t),l.uc(3).pickExistingTask=!1}),l.dd(1," + "),l.ac(2),l.gc(3,52),l.Zb(),l.bc()}}function N(t,e){if(1&t){const t=l.dc();l.cc(0,"div",37),l.cc(1,"cu-time-tracker-task-selector",38),l.qc("onSelectTask",function(e){l.Uc(t);const a=l.uc(2);return a.setTask(e),a.highlightTaskSelector=!1}),l.cc(2,"div",39),l.vc(3,"async"),l.bd(4,L,10,16,"div",40),l.vc(5,"async"),l.bd(6,z,4,0,"ng-template",null,41,l.cd),l.bc(),l.bc(),l.bd(8,V,4,0,"div",42),l.vc(9,"async"),l.bc()}if(2&t){const t=l.Rc(7),e=l.uc(2);let a=null,i=null,o=null;l.Ib(1),l.Ob("highlighted",e.highlightTaskSelector),l.Dc("defaultProject",e.defaultProject)("team",e.team),l.Ib(1),l.Ob("rounded",null==(a=l.wc(3,9,e.changes$))?null:a.task),l.Ib(2),l.Dc("ngIf",null==(i=l.wc(5,11,e.changes$))?null:i.task)("ngIfElse",t),l.Ib(4),l.Dc("ngIf",!(null!=(o=l.wc(9,13,e.changes$))&&o.task))}}function q(t,e){if(1&t){const t=l.dc();l.cc(0,"cu-time-tracker-create-task",53),l.qc("onClose",function(){return l.Uc(t),l.uc(2).pickExistingTask=!0})("onSelect",function(e){l.Uc(t);const a=l.uc(2);return a.createTask(e),a.pickExistingTask=!0}),l.bc()}if(2&t){const t=l.uc(2);l.Dc("defaultProject",t.defaultProject)}}function B(t,e){if(1&t&&(l.ac(0),l.bd(1,N,10,15,"div",35),l.bd(2,q,1,1,"ng-template",null,36,l.cd),l.Zb()),2&t){const t=l.Rc(3),e=l.uc();l.Ib(1),l.Dc("ngIf",e.pickExistingTask)("ngIfElse",t)}}function G(t,e){if(1&t){const t=l.dc();l.cc(0,"div",54),l.cc(1,"cu-time-tracker-description",55),l.qc("onDescriptionChange",function(e){return l.Uc(t),l.uc().updateDescription(e)})("onShowPaywall",function(){return l.Uc(t),l.uc().showPaywall()}),l.vc(2,"async"),l.bc(),l.bc()}if(2&t){const t=l.uc();let e=null;l.Ib(1),l.Dc("description",null==(e=l.wc(2,3,t.changes$))?null:e.description)("team",t.team)("autoFocus",!0)}}function X(t,e){1&t&&(l.ac(0),l.gc(1,56),l.Zb())}function W(t,e){if(1&t&&(l.ac(0),l.dd(1),l.vc(2,"relativeDate"),l.vc(3,"async"),l.Zb()),2&t){const t=l.uc();l.Ib(1),l.ed(l.wc(2,1,l.wc(3,3,t.entryStart$)))}}function H(t,e){if(1&t){const t=l.dc();l.cc(0,"div",57),l.cc(1,"div",58),l.cc(2,"cu-datetime-natural-language",59),l.qc("onCloseDropdown",function(){return l.Uc(t),l.uc(),l.Rc(17).close()})("onChange",function(e){return l.Uc(t),l.uc().updateStart(e.newMoment)}),l.vc(3,"async"),l.vc(4,"async"),l.vc(5,"async"),l.bc(),l.cc(6,"cu-datepicker",60),l.qc("onSelect",function(e){return l.Uc(t),l.uc().handleDateSelect(e)}),l.vc(7,"async"),l.vc(8,"async"),l.vc(9,"async"),l.vc(10,"async"),l.bc(),l.bc(),l.bc()}if(2&t){const t=l.uc();let e=null,a=null,i=null,o=null,n=null;l.Ib(2),l.Dc("dateVal",l.wc(3,15,t.entryStart$))("focusWhenVisible",!0)("timeExists",!1)("militaryTime",null==(e=l.wc(4,17,t.sharedData.currentUser))?null:e.twenty_four_hr_setting)("dateFormatting",(null==(a=l.wc(5,19,t.sharedData.currentUser))?null:a.date_format)||"m/d/y")("forceUpdate",!0)("showClose",!1)("closeDropdownOnEnter",!0),l.Ib(4),l.Dc("showStart",!1)("showInput",!1)("militaryTime",null==(i=l.wc(7,21,t.sharedData.currentUser))?null:i.twenty_four_hr_setting)("dateFormat",(null==(o=l.wc(8,23,t.sharedData.currentUser))?null:o.date_format)||"m/d/y")("weekStart",(null==(n=l.wc(9,25,t.sharedData.currentUser))?null:n.week_start_day)||0)("date",l.wc(10,27,t.entryStart$))("doneButton",!1)}}function Z(t,e){if(1&t){const t=l.dc();l.cc(0,"div",61),l.qc("click",function(){return l.Uc(t),l.uc().displayDescription()}),l.Xb(1,"div",62),l.bc()}2&t&&l.Dc("cuTooltip","Description")}function Q(t,e){if(1&t){const t=l.dc();l.cc(0,"div",63),l.qc("click",function(e){l.Uc(t);const a=l.uc(),i=l.Rc(6);return a.checkPaywall(e),a.showTags=!a.showTags,i.openTagsModal()}),l.Xb(1,"div",64),l.bc()}}function K(t,e){if(1&t){const t=l.dc();l.cc(0,"div",65),l.qc("click",function(){return l.Uc(t),l.uc().onCancel.emit()}),l.gc(1,66),l.bc()}}const J=function(){return{suppressScrollY:!0}};let Y=(()=>{class t{constructor(t,e,a,u,p,m){this.timePipe=t,this.cdr=e,this.dataService=a,this.timezonesService=u,this.sharedData=p,this.taskService=m,this.showDescription=!1,this.showTags=!1,this.dropdownOpen=!1,this.TimeTrackingMode=n.e,this.showCancel=!0,this.trackerMode=n.e.MANUAL,this.changes$=new c.a({start:Date.now(),tid:null}),this.entryStart$=this.changes$.pipe(Object(i.a)(t=>t.start?this.timezonesService.createMoment(parseInt(t.start,10)):null)),this.isDateNow$=this.entryStart$.pipe(Object(o.a)(t=>!!t),Object(i.a)(t=>d()(t).startOf("day").isSame(d()().startOf("day")))),this.entryEnd$=this.changes$.pipe(Object(i.a)(t=>t.end?this.timezonesService.createMoment(parseInt(t.end,10)):null)),this.textValue$=this.changes$.pipe(Object(i.a)(t=>t.duration?this.timePipe.transform(t.duration,this.team.hours_per_day,!1,this.team.time_estimate_display_hours):"")),this.cantSave$=this.changes$.pipe(Object(i.a)(t=>!t||!t.duration)),this.destroy$=new r.a,this.pickExistingTask=!0,this.highlightTaskSelector=!1,this.selectTask=!1,this.onCancel=new l.o,this.onTimeTrackerAction=new l.o,this.onShowPaywall=new l.o,this.onReposition=new l.o,this.onClose=new l.o,this.onDisplayEntry=new l.o,this.TeamPlan=s.f,this.billableText=$localize`:@@common_billable:Billable`}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}reset(){this.changes$.next({start:Date.now(),tid:this.taskId}),this.endDateMsg="",this.endDateError="",this.showDescription=!1,this.showTags=!1,this.dropdownOpen=!1,this.pickExistingTask=!0,this.highlightTaskSelector=!1,this.cdr.markForCheck()}updateStart(t){this.handleDateSelect({dueDate:t},!1)}handleDateSelect({dueDate:t},e=!0){const a={start:t.valueOf(),stop:this.changes$.value.duration?t.valueOf()+this.changes$.value.duration:this.changes$.value.end};a.end=a.stop,this.updateChanges(a),e&&this.dropdown&&this.dropdown.close()}setStart(t){this.checkDiff(t.valueOf(),this.changes$.value.end)}setEnd(t){this.checkDiff(this.changes$.value.start,t.valueOf())}checkDiff(t,e){if(this.endDateMsg="",t&&e){const a=this.getTime(t),i=this.getTime(e);i.isBefore(a)||i.isSame(a)?(this.endDateMsg=$localize`:@@cu-time-tracker-create-manual__end-date-msg_next-day:Note: End time is next day.`,e=i.add(1,"d").valueOf()):d()(e).isAfter(d()(t),"day")&&(e=i.valueOf())}const a={start:t,stop:e};a.end=a.stop,a.duration=a.start&&a.end?a.end-a.start:null,this.updateChanges(a),this.cdr.markForCheck()}getTime(t){const e=d()(this.changes$.value.start).clone();return e.hours(d()(t).hours()),e.minutes(d()(t).minutes()),e}updateDuration(t){let e;const a=1e3*t.seconds;let i,o=this.changes$.value.start||(new Date).getTime();d()(o).isSame(d()(),"day")?(i=(new Date).getTime(),o=i-a):i=a?this.changes$.value.start+a:null,e={start:o,end:i,stop:i,duration:a},this.updateChanges(e)}setTask(t){this.updateChanges({tid:t&&t.id,task:t})}createTask({id:t,name:e}){this.updateChanges({task:{name:e}}),this.dataService.createTask(t,{name:e}).subscribe(t=>{const e={tid:t.id,task:t.task};this.taskService.taskCreated(t,!1,!0,null,!1),this.updateChanges(e)})}updateDescription(t){this.updateChanges({description:t})}updateTags(t){const{action:e,payload:a}=t;e===n.d.UpdateUnsaved?(this.updateChanges({tags:a.tags}),setTimeout(()=>this.onReposition.emit())):this.onTimeTrackerAction.emit(t)}updateBillable(){this.updateChanges({billable:!this.changes$.value.billable})}showPaywall(){}updateChanges(t){const e=this.taskId?{tid:this.taskId}:{};this.changes$.next(Object.assign(Object.assign(Object.assign({},this.changes$.value),t),e))}save(t=!1){const e=this.changes$.value;if(!e.duration)return;this.onTimeTrackerAction.emit({action:n.d.CreateEntry,payload:e});const a=this.timePipe.transform(e.duration,this.team.hours_per_day,!1,this.team.time_estimate_display_hours);this.onDisplayEntry.emit(a),this.onCancel.emit(),this.reset(),t&&this.onClose.emit()}checkPaywall(t){this.team.plan_id!==s.f.FREE&&this.team.plan_id!==s.f.UNLIMITED||(t.preventDefault(),t.stopPropagation(),this.onShowPaywall.emit())}displayDescription(){this.showDescription=!0,this.cdr.markForCheck(),setTimeout(()=>this.onReposition.emit())}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(p.a),l.Wb(l.h),l.Wb(m.a),l.Wb(h.a),l.Wb(g.a),l.Wb(b.a))},t.\u0275cmp=l.Qb({type:t,selectors:[["cu-time-tracker-create-manual"]],viewQuery:function(t,e){if(1&t&&l.jd($,1),2&t){let t;l.Qc(t=l.rc())&&(e.dropdown=t.first)}},inputs:{taskId:"taskId",showCancel:"showCancel",team:"team",dateFormat:"dateFormat",trackerMode:"trackerMode",user:"user",tags:"tags",selectTask:"selectTask",defaultProject:"defaultProject"},outputs:{onCancel:"onCancel",onTimeTrackerAction:"onTimeTrackerAction",onShowPaywall:"onShowPaywall",onReposition:"onReposition",onClose:"onClose",onDisplayEntry:"onDisplayEntry"},decls:38,vars:42,consts:function(){let t,e,a,i,o,n,s,c,r;return t=$localize`:@@common_when␟d654eb984a62fedda948733d5cc565480c6d7eff␟3198123723060667787:When`,e=$localize`:@@common_labels␟2af7efecfae8d7fed3b07f718a623eca1ad8163f␟546766753072101168:Labels`,a=$localize`:@@common_save␟2a62a59d9424e9e869061ebf3e8f8b8f95411571␟4201883793870263566: Save `,i=$localize`:@@cu-time-tracker-create-manual__form-placeholder_enter-time␟70fbd1bf1c46d8bd75ddbfa3c93348737f7d6224␟401471250308752958:Enter time e.g. 3 hours 20 mins`,o=$localize`:@@common_select-task␟89db4b51bde3178c30774348f5e072ae6c7ce120␟5565713560441025111:Select task...`,n=$localize`:@@common_new-task␟e5b7e434276c9f1b0262feaa80db57c871f16053␟1315476018548197144:New task`,s=$localize`:@@common_now␟7f34c2aa1c5e1d4bc339995fe325e831d7fbe40a␟6052766076365105714:now`,c=$localize`:@@common_type-any-date␟4181e1717f719f0529364a79de8f23089203fa4f␟4352068367379830009:Type any date`,r=$localize`:@@common_cancel␟da44efc7b658c318651866454d258bbbe57ff21c␟4598124915768290146: Cancel `,[[1,"cu-time-tracker-create-manual"],["class","cu-time-tracker-create-manual__row cu-time-tracker-create-manual__time cu-time-tracker-create-manual__time_manual",4,"ngIf"],[4,"ngIf"],["class","cu-time-tracker-create-manual__row cu-time-tracker-create-manual__row-description",4,"ngIf"],[1,"cu-time-tracker-tags",3,"hidden","tags","currentEntry","useAltTagsIcon","altTagsIcon","onTimeTrackerAction","onToggle"],["timeTrackerTags",""],[1,"cu-time-tracker-create-manual__footer"],[1,"cu-time-tracker-create-manual__items-selections"],[1,"cu-time-tracker-create-manual__items-selections-time",3,"perfectScrollbar"],[1,"time-tracking__dropdown-when"],t,["cuDropdown","",1,"cu-dropdown",3,"dropdownCloseOnInsideClick"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle"],["toggle",""],[1,"time-tracking__dropdown-when-link"],["class","cu-dropdown__menu cu-time-tracker-create-manual__dropdown",4,"cuDropdownMenu"],["class","cu-time-tracker-create-manual__icon-container",3,"cuTooltip","click",4,"ngIf"],["class","cu-time-tracker-create-manual__icon-container","cuTooltip",e,3,"click",4,"ngIf"],[3,"billable","cuTooltip","click","onToggle"],[1,"cu-time-tracker-create-manual__footer","cu-time-tracker-create-manual__footer-save"],["class","cu-time-tracker-create-manual__header-cancel",3,"click",4,"ngIf"],[1,"cu-time-tracker-create-manual__save",3,"cuTooltip","click"],a,[1,"cu-time-tracker-create-manual__row","cu-time-tracker-create-manual__time","cu-time-tracker-create-manual__time_manual"],["icon","cu2-clock",1,"cu-time-tracker-create-manual__row-icon"],["placeholder",i,1,"cu-time-tracker-create-manual__input",3,"autoFocus","emitOnBlur","saveOnEnter","textValue","onChange","onUnsavedChange","onSave"],["input",""],[1,"cu-time-tracker-create-manual__row","cu-time-tracker-create-manual__time","cu-time-tracker-create-manual__range"],[3,"dateVal","forTime","inDatePicker","focusOnInit","focusWhenVisible","timeExists","emitOnEnter","militaryTime","placeholder","forceUpdate","showClose","modifier","onChange","onEnter"],[1,"cu-time-tracker-create-manual__range-divider"],[3,"dateVal","forTime","inDatePicker","focusOnInit","focusWhenVisible","timeExists","militaryTime","placeholder","forceUpdate","showClose","modifier","emitOnEnter","onChange","onEnter"],["endInput",""],["class","time-tracking__dropdown-row time-tracking__error",4,"ngIf"],[1,"time-tracking__dropdown-row","time-tracking__error"],["class","cu-time-tracker-create-manual__task",4,"ngIf","ngIfElse"],["createNewTask",""],[1,"cu-time-tracker-create-manual__task"],[1,"cu-time-tracker-current-editor__selector",3,"defaultProject","team","onSelectTask"],[1,"cu-time-tracker-task-selector__input"],["class","cu-time-tracker-task-selector__task-container",4,"ngIf","ngIfElse"],["noTask",""],["class","cu-time-tracker__input cu-time-tracker-current-editor__new",3,"click",4,"ngIf"],[1,"cu-time-tracker-task-selector__task-container"],[1,"cu-time-tracker-task-selector__task"],[1,"cu-time-tracker-task-selector__task-status",3,"ngStyle"],[1,"cu-time-tracker-task-selector__task-name",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["icon","cu2-times",1,"cu-time-tracker-task-selector__remove",3,"click"],[1,"cu-time-tracker-task-selector__input-placeholder"],["icon","tt-select-task"],o,[1,"cu-time-tracker__input","cu-time-tracker-current-editor__new",3,"click"],n,[1,"cu-time-tracker__input",3,"defaultProject","onClose","onSelect"],[1,"cu-time-tracker-create-manual__row","cu-time-tracker-create-manual__row-description"],[1,"cu-time-tracker__input",3,"description","team","autoFocus","onDescriptionChange","onShowPaywall"],s,[1,"cu-dropdown__menu","cu-time-tracker-create-manual__dropdown"],[1,"time-tracking__calendar-container"],["placeholder",c,3,"dateVal","focusWhenVisible","timeExists","militaryTime","dateFormatting","forceUpdate","showClose","closeDropdownOnEnter","onCloseDropdown","onChange"],[3,"showStart","showInput","militaryTime","dateFormat","weekStart","date","doneButton","onSelect"],[1,"cu-time-tracker-create-manual__icon-container",3,"cuTooltip","click"],["icon","text-l",1,"cu-time-tracker-create-manual__icon"],["cuTooltip",e,1,"cu-time-tracker-create-manual__icon-container",3,"click"],["icon","tags-batch",1,"cu-time-tracker-create-manual__icon"],[1,"cu-time-tracker-create-manual__header-cancel",3,"click"],r]},template:function(t,e){if(1&t&&(l.cc(0,"div",0),l.bd(1,R,5,6,"div",1),l.bd(2,E,13,34,"ng-container",2),l.bd(3,B,4,2,"ng-container",2),l.bd(4,G,3,5,"div",3),l.cc(5,"cu-time-tracker-tags",4,5),l.qc("onTimeTrackerAction",function(t){return e.updateTags(t)})("onToggle",function(){return e.showTags=!e.showTags}),l.vc(7,"async"),l.vc(8,"async"),l.bc(),l.cc(9,"div",6),l.cc(10,"div",7),l.cc(11,"div",8),l.cc(12,"div",9),l.ac(13),l.gc(14,10),l.Zb(),l.dd(15,": "),l.cc(16,"div",11,12),l.cc(18,"div",13,14),l.cc(20,"div",15),l.bd(21,X,2,0,"ng-container",2),l.vc(22,"async"),l.bd(23,W,4,5,"ng-container",2),l.vc(24,"async"),l.bc(),l.bc(),l.bd(25,H,11,29,"div",16),l.bc(),l.bc(),l.bc(),l.bd(26,Z,2,1,"div",17),l.vc(27,"async"),l.bd(28,Q,2,0,"div",18),l.vc(29,"async"),l.cc(30,"cu-timer-tracker-billable",19),l.qc("click",function(t){return e.checkPaywall(t)})("onToggle",function(){return e.updateBillable()}),l.vc(31,"async"),l.bc(),l.bc(),l.bc(),l.cc(32,"div",20),l.bd(33,K,2,0,"div",21),l.cc(34,"div",22),l.qc("click",function(){return e.save()}),l.gc(35,23),l.vc(36,"async"),l.vc(37,"async"),l.bc(),l.bc(),l.bc()),2&t){let t=null,a=null,i=null,o=null;l.Ib(1),l.Dc("ngIf",e.trackerMode===e.TimeTrackingMode.MANUAL),l.Ib(1),l.Dc("ngIf",e.trackerMode===e.TimeTrackingMode.RANGE),l.Ib(1),l.Dc("ngIf",e.selectTask),l.Ib(1),l.Dc("ngIf",e.showDescription&&e.team.plan_id!==e.TeamPlan.FREE&&e.team.plan_id!==e.TeamPlan.UNLIMITED),l.Ib(1),l.Dc("hidden",!(null!=(t=l.wc(7,23,e.changes$))&&null!=t.tags&&t.tags.length))("tags",e.tags)("currentEntry",l.wc(8,25,e.changes$))("useAltTagsIcon",!0)("altTagsIcon","cu2-edit"),l.Ib(6),l.Dc("perfectScrollbar",l.Gc(41,J)),l.Ib(5),l.Dc("dropdownCloseOnInsideClick",!1),l.Ib(5),l.Dc("ngIf",l.wc(22,27,e.isDateNow$)),l.Ib(2),l.Dc("ngIf",!l.wc(24,29,e.isDateNow$)),l.Ib(3),l.Dc("ngIf",!(e.team.plan_id===e.TeamPlan.FREE||e.team.plan_id===e.TeamPlan.UNLIMITED||null!=(a=l.wc(27,31,e.changes$))&&a.description||e.showDescription)),l.Ib(2),l.Dc("ngIf",!(null!=(i=l.wc(29,33,e.changes$))&&null!=i.tags&&i.tags.length)),l.Ib(2),l.Dc("billable",null==(o=l.wc(31,35,e.changes$))?null:o.billable)("cuTooltip",e.billableText),l.Ib(2),l.Ob("default-theme","#7b68ee"===(null==e.user?null:e.user.theme_color)),l.Ib(1),l.Dc("ngIf",e.showCancel),l.Ib(1),l.Ob("cu-time-tracker-create-manual__disabled",l.wc(36,37,e.cantSave$)),l.Dc("cuTooltip",l.wc(37,39,e.cantSave$)?"Must enter valid time":null)}},directives:[f.q,k.a,_.a,w.b,v.a,y.a,x.a,T.a,I.a,C.a,D.a,S.a,f.t,O.a,j.a,P.a],pipes:[f.b,A.a],styles:['.cu-time-tracker-create-manual__dropdown .time-tracking__calendar-container{margin-top:0}.cu-time-tracker-create-manual__header{display:flex;align-items:center;justify-content:space-between;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;margin-bottom:20px;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__header{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__header-cancel{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#fff;text-decoration:underline;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__header-cancel{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__header .help-question-mark{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;opacity:.5}.cu-time-tracker-create-manual__header .help-question-mark:hover{opacity:1}.cu-time-tracker-create-manual__task{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.cu-time-tracker-create-manual__start{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#fff;margin-right:5px;display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__start{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__start .due-date__due-today-font .due-date__info-value,.cu-time-tracker-create-manual__start .due-date__info-value{color:#fff}.cu-time-tracker-create-manual__footer{display:flex;align-items:center;justify-content:space-between;margin:5px 0}.cu-time-tracker-create-manual__footer-save{border-top:1px solid hsla(0,0%,100%,.1);height:45px;margin:12px 0 0 -20px;padding:0 16px;width:calc(100% + 40px);background-color:var(--theme-main-color-dark)}.cu-time-tracker__container-top .cu-time-tracker-create-manual__footer-save{margin:12px 0 0 -24px;width:calc(100% + 48px)}.cu-time-tracker-create-manual__footer-save.default-theme{background-color:#705de0}.cu-time-tracker-create-manual__footer-save .cu-time-tracker-create-manual__save{padding:0;min-height:0;border-radius:0;margin-bottom:0;display:flex;align-items:center}.cu-time-tracker-create-manual__footer-save .cu-time-tracker-create-manual__save.cu-time-tracker-create-manual__disabled{opacity:.5;padding:0;border-radius:0;background:transparent}.cu-time-tracker-create-manual__footer-save .cu-time-tracker-create-manual__header-cancel{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;text-decoration:none;opacity:.5}.cu-time-tracker-create-manual__footer-save .cu-time-tracker-create-manual__header-cancel:hover{opacity:1}.cu-time-tracker-create-manual__footer .cu-datetime-input{padding:0;border-radius:0!important;min-width:100px!important;border-bottom:1px dashed hsla(0,0%,100%,.4)!important}.cu-time-tracker-create-manual__footer .cu-datetime-input:nth-of-type(2){margin-left:5px;min-width:60px!important;width:60px}.cu-time-tracker-create-manual__footer .cu-datetime-input:nth-of-type(2) .cu-date-nlp-input__input,.cu-time-tracker-create-manual__footer .cu-datetime-input:nth-of-type(2) .cu-datetime-input__input-value,.cu-time-tracker-create-manual__footer .cu-datetime-input:nth-of-type(2) .cu-datetime-input__value{max-width:60px;min-width:60px}.cu-time-tracker-create-manual__footer .cu-datetime-input__input-value{padding-bottom:2px!important;color:#fff!important;font-weight:400!important;font-size:12px!important;width:auto!important}.cu-time-tracker-create-manual__items{display:flex;align-items:center;justify-content:space-between;margin-top:10px}.cu-time-tracker-create-manual__items-selections{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#fff;width:100%;justify-content:space-between}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__items-selections{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__items-selections-time{display:flex;justify-content:space-between;align-items:center;width:180px;max-width:180px;margin-right:10px}.cu-time-tracker-create-manual__items-selections-time .ps__rail-x{display:none}.cu-time-tracker-create-manual__icon{display:inline-block;width:14px;height:14px;stroke:#fff}.dark-theme .cu-time-tracker-create-manual__icon{stroke:#fff}.cu-time-tracker-create-manual__icon-container{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px dashed #fff;border-radius:50%;cursor:pointer}.cu-time-tracker-create-manual__icon-container .dark-theme *{border-color:#fff}.cu-time-tracker-create-manual__icon-container.cu-time-tracker-create-manual__lighten{background:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu-time-tracker-create-manual__icon-container.cu-time-tracker-create-manual__lighten{background:var(--theme-main-color-light)}}.cu-time-tracker-create-manual__icon-container.cu-time-tracker-create-manual__billable{background:green}.cu-time-tracker-create-manual__icon-container:not(:last-child){margin-right:5px}.cu-time-tracker-create-manual__save{padding:10px;margin-bottom:5px;background:hsla(0,0%,100%,.1);border-radius:6px;min-height:36px;cursor:pointer;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__save{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__save.cu-time-tracker-create-manual__disabled{cursor:not-allowed}.cu-time-tracker-create-manual__save.cu-time-tracker-create-manual__enabled{background:rgba(25,255,255,.2)}.cu-time-tracker-create-manual__row{display:block;width:100%;padding:10px;margin-bottom:10px;background:hsla(0,0%,100%,.1);border-radius:6px;min-height:36px;position:relative}.cu-time-tracker-create-manual__row .time-tracking__dropdown-select_time-range{width:120px}.cu-time-tracker-create-manual__row.cu-time-tracker-create-manual__time{display:flex;align-items:center;justify-content:space-between}.cu-time-tracker-create-manual__row.cu-time-tracker-create-manual__time_manual{padding:0}.cu-time-tracker-create-manual__row.cu-time-tracker-create-manual__row-description{padding:0;background:transparent}.cu-time-tracker-create-manual__row .help-question-mark{display:none}.cu-time-tracker-create-manual__row-icon{fill:#fff;position:absolute;left:11px;top:11px;width:14px;height:14px}.cu-time-tracker-create-manual__row .cu-time-estimates-input__input{padding-left:25px}.cu-time-tracker-create-manual__row .cu-time-estimates-input__input:-ms-input-placeholder{opacity:.5}.cu-time-tracker-create-manual__row .cu-time-estimates-input__input::placeholder{opacity:.5}.cu-time-tracker-create-manual__range{background-color:transparent;padding:0}.cu-time-tracker-create-manual__range-divider{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__range-divider{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__range .datepicker__dates-input-container-inner{border:none}.cu-time-tracker-create-manual__range .time-tracking__dropdown-select_time-range{width:135px!important;height:33px;background-color:hsla(0,0%,100%,.1);border:none}.cu-time-tracker__container-top .cu-time-tracker-create-manual__range .time-tracking__dropdown-select_time-range{width:145px!important}.cu-time-tracker-create-manual__range .time-tracking__dropdown-select_time-range input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__range .time-tracking__dropdown-select_time-range input{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__range .time-tracking__dropdown-select_time-range input:-ms-input-placeholder{color:hsla(0,0%,100%,.5)}.cu-time-tracker-create-manual__range .time-tracking__dropdown-select_time-range input::placeholder{color:hsla(0,0%,100%,.5)}.cu-time-tracker-create-manual .cu-datetime-input{width:150px;min-width:0;border:none}.cu-time-tracker-create-manual__input{flex:1 0 0}.cu-time-tracker-create-manual__input .cu-time-estimates-input__input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;flex:1 0 0;border:1px solid transparent;background:transparent;color:#fff;box-shadow:none!important;padding:10px 15px 10px 30px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-create-manual__input .cu-time-estimates-input__input{font-family:var(--global-font-support)}}.cu-time-tracker-create-manual__input .cu-time-estimates-input__input:-ms-input-placeholder{color:#fff}.cu-time-tracker-create-manual__input .cu-time-estimates-input__input::placeholder{color:#fff}.cu-time-tracker-create-manual__input .cu-time-estimates-input__input:focus{background:transparent}.cu-time-tracker-create-manual__input .cu-time-estimates-input__input.error{border:1px solid #fd71af}.dark-theme .cu-time-tracker-create-manual__input .cu-time-estimates-input__input{border:none!important;color:#fff!important}.dark-theme .cu-time-tracker-create-manual__input .cu-time-estimates-input__input:-ms-input-placeholder{color:#fff!important}.dark-theme .cu-time-tracker-create-manual__input .cu-time-estimates-input__input::placeholder{color:#fff!important}.cu-time-tracker-create-manual .help-question-mark use{fill:#fff!important}.cu-time-tracker-create-manual .help-question-mark use:hover{fill:#fff}.cu-time-tracker-create-manual__seperator{display:inline-block;margin-left:7px;color:#fff}.cu-time-tracker-create-manual .time-tracking__dropdown-row.time-tracking__error{color:#fff}'],encapsulation:2,changeDetection:0}),t})()},mjQy:function(t,e,a){"use strict";a.d(e,"a",function(){return Wt});var i=a("HHlo"),o=a("2eDp"),n=a("9jGm"),s=a("IlGD"),c=a("lJxs"),r=a("eIep"),l=a("pLZG"),u=a("1G5W"),d=a("Kj3r"),p=a("JX91"),m=a("SxV6"),h=a("cC1p"),g=a("4bgU"),b=a("nLWA"),f=a("fXoL"),k=a("/qOb"),_=a("GXRk"),w=a("xog/"),v=a("jJQC"),y=a("dhcM"),x=a("2Vo4"),T=a("XNiG"),I=a("LRne"),C=a("xgIS"),D=a("VRyK"),S=a("xJzU"),O=a("N/Rp"),j=a("a6CW"),P=a("Muja"),A=a("12P9"),$=a("jwRX"),R=a("c3rA"),F=a("m2rH"),M=a("Mdxa"),E=a("HEHP"),U=a("jJW4"),L=a("l7P3"),z=a("oy6Y"),V=a("3uaV"),N=a("ofXK"),q=a("Llk8"),B=a("t6Eg"),G=a("EDFS"),X=a("yECk"),W=a("KiTX"),H=a("gJHR"),Z=a("UdVN"),Q=a("5Eri"),K=a("TzhX"),J=a("u4pA"),Y=a("kc4K"),tt=a("NsZK"),et=a("keUj"),at=a("XaMR");const it=["rowOptions"],ot=["mainContainer"],nt=["taskInput"],st=["pop"],ct=["createTimeEstimate"],rt=["createPointsEstimate"],lt=["customFieldDropdown"],ut=["taskRowNewLeft"],dt=["datePickerRowTemplate"],pt=["timeEstRowTemplate"],mt=["pointsEstRowTemplate"],ht=["timeTrackerRowTemplate"],gt=["assigneeRowTemplate"],bt=["priorityRowTemplate"];function ft(t,e){if(1&t){const t=f.dc();f.cc(0,"div",19),f.dd(1),f.vc(2,"async"),f.cc(3,"span",20),f.qc("click",function(){return f.Uc(t),f.uc().openCustomFieldDropdown()}),f.gc(4,21),f.bc(),f.bc()}if(2&t){const t=f.uc();f.Ib(1),f.fd(" ",f.wc(2,1,t.missingRequiredText$)," ")}}function kt(t,e){1&t&&(f.ac(0),f.gc(1,25),f.Zb())}function _t(t,e){if(1&t&&(f.ac(0),f.dd(1),f.Zb()),2&t){const t=f.uc(2);f.Ib(1),f.ed(null==t.taskData||null==t.taskData.subcategory?null:t.taskData.subcategory.name)}}const wt=function(t){return{"cu-task-row-new__subcategory_error":t}};function vt(t,e){if(1&t){const t=f.dc();f.cc(0,"cu-category-list-dropdown",22),f.qc("onSelect",function(e){return f.Uc(t),f.uc().setLocation(e)}),f.cc(1,"div",23),f.bd(2,kt,2,0,"ng-container",24),f.bd(3,_t,2,1,"ng-container",24),f.bc(),f.bc()}if(2&t){const t=f.uc();f.Dc("withPermission","can_create_tasks")("defaultProject",t.taskData.project)("selectableProject",!(null!=t.defaultTaskData&&t.defaultTaskData.project))("selectedCategory",null==t.taskData||null==t.taskData.category?null:t.taskData.category.id)("singleCategory",!(null==t.defaultTaskData||!t.defaultTaskData.category)),f.Ib(1),f.Dc("ngClass",f.Hc(8,wt,t.subcategoryError)),f.Ib(1),f.Dc("ngIf",!(null!=t.taskData&&t.taskData.subcategory)),f.Ib(1),f.Dc("ngIf",null==t.taskData?null:t.taskData.subcategory)}}function yt(t,e){if(1&t){const t=f.dc();f.cc(0,"cu-task-custom-fields-dropdown",35,36),f.qc("setMissingRequiredFields",function(e){return f.Uc(t),f.uc(2).missingRequiredMap$.next(e)})("updateCustomFieldValue",function(e){return f.Uc(t),f.uc(2).setCustomFieldValue(e.field,e.value)}),f.vc(2,"async"),f.vc(3,"async"),f.bc()}if(2&t){const t=f.uc(2);f.Dc("showMissingRequired",t.showMissingRequired)("missingRequiredMap",f.wc(2,7,t.missingRequiredMap$))("missingRequired",f.wc(3,9,t.missingRequired$))("permissions",null==t.taskData||null==t.taskData.subcategory?null:t.taskData.subcategory.permissions)("subcategory",null==t.taskData?null:t.taskData.subcategory)("forSubtask",t.forSubtask)("customFields",t.customFields)}}function xt(t,e){if(1&t){const t=f.dc();f.cc(0,"cu-task-row-tags",37),f.qc("onLoad",function(e){return f.Uc(t),f.uc(2).loadTags(e)})("onChange",function(e){return f.Uc(t),f.uc(2).editTags(e)}),f.vc(1,"async"),f.bc()}if(2&t){const t=f.uc(2);f.Dc("tags",f.wc(1,15,t.tags$))("tagsLoadingMap",t.tagsLoadingMap&&t.tagsLoadingMap[null==t.taskData.project?null:t.taskData.project.id])("value",t.taskData.tags)("projectId",null==t.taskData.project?null:t.taskData.project.id)("alwaysShowIcon",!0)("alwaysShowNoHover",!0)("onlyDeleteIfOwner",t.onlyDeleteIfOwner)("canDelete",t.canDelete)("userId",null==t.meUser?null:t.meUser.id)("canAddTag",null==t.taskData||null==t.taskData.subcategory||null==t.taskData.subcategory.permissions?null:t.taskData.subcategory.permissions.add_tags)("manageTags",null==t.taskData||null==t.taskData.subcategory||null==t.taskData.subcategory.permissions?null:t.taskData.subcategory.permissions.manage_tags)("canRemoveTag",null==t.taskData||null==t.taskData.subcategory||null==t.taskData.subcategory.permissions?null:t.taskData.subcategory.permissions.remove_tags)("canManageTag",null==t.taskData||null==t.taskData.subcategory||null==t.taskData.subcategory.permissions?null:t.taskData.subcategory.permissions.manage_tags)("readOnly",!(null!=t.taskData&&null!=t.taskData.subcategory&&null!=t.taskData.subcategory.permissions&&t.taskData.subcategory.permissions.remove_tags))("disabled",!(null!=t.taskData&&null!=t.taskData.subcategory&&null!=t.taskData.subcategory.permissions&&t.taskData.subcategory.permissions.add_tags))}}function Tt(t,e){}const It=function(t){return{col:t}};function Ct(t,e){if(1&t&&(f.ac(0),f.bd(1,Tt,0,0,"ng-template",38),f.Zb()),2&t){const t=e.$implicit;f.uc(2);const a=f.Rc(26);f.Ib(1),f.Dc("ngTemplateOutlet",t.template||a)("ngTemplateOutletContext",f.Hc(2,It,t))}}function Dt(t,e){if(1&t){const t=f.dc();f.cc(0,"div",39),f.qc("click",function(e){return f.Uc(t),f.uc(2).saveTask(e,!0)}),f.gc(1,40),f.bc()}}function St(t,e){if(1&t){const t=f.dc();f.cc(0,"div",41),f.qc("click",function(){return f.Uc(t),f.uc(2).cancel()}),f.Xb(1,"div",42),f.bc()}}function Ot(t,e){if(1&t&&(f.cc(0,"div",26,27),f.cc(2,"div",28),f.gc(3,29),f.bc(),f.bd(4,yt,4,11,"cu-task-custom-fields-dropdown",30),f.bd(5,xt,2,17,"cu-task-row-tags",31),f.bd(6,Ct,2,4,"ng-container",32),f.bd(7,Dt,2,0,"div",33),f.bd(8,St,2,0,"div",34),f.bc()),2&t){const t=f.uc();f.Ib(3),f.kc(t.SHORTKEY_TEXT),f.hc(3),f.Ib(1),f.Dc("ngIf",(null==t.taskData.project||null==t.taskData.project.features||null==t.taskData.project.features.custom_fields?null:t.taskData.project.features.custom_fields.enabled)&&(null==t.customFields?null:t.customFields.length)),f.Ib(1),f.Dc("ngIf",null==t.taskData.project||null==t.taskData.project.features||null==t.taskData.project.features.tags?null:t.taskData.project.features.tags.enabled),f.Ib(1),f.Dc("ngForOf",t.rowColumns)("ngForTrackBy",t.trackByName),f.Ib(1),f.Dc("ngIf",t.active),f.Ib(1),f.Dc("ngIf",t.closeable)}}function jt(t,e){if(1&t){const t=f.dc();f.cc(0,"div",43),f.cc(1,"div",44),f.qc("click",function(){return f.Uc(t),f.uc().hidePopover()}),f.bc(),f.cc(2,"div",45),f.gc(3,46),f.bc(),f.cc(4,"button",47),f.qc("click",function(){return f.Uc(t),f.uc().createMultiTasks()}),f.gc(5,48),f.bc(),f.bc()}if(2&t){const t=f.uc();f.Ib(1),f.Dc("icon","close-modal-white"),f.Ib(4),f.kc(null==t.pastedLines?null:t.pastedLines.length),f.hc(5)}}function Pt(t,e){}function At(t,e){if(1&t){const t=f.dc();f.cc(0,"cu-task-row-recurring-date-picker",49),f.qc("onChange",function(e){return f.Uc(t),f.uc().setPickerDates(e)})("onRecurringChange",function(e){return f.Uc(t),f.uc().setRecurring(e.recurring)}),f.vc(1,"async"),f.bc()}if(2&t){const t=e.col,a=f.uc();f.Ob("cu-task-row-recurring-date-picker-subtask",a.forSubtask)("cu-task-row-recurring-date-picker-start-new","dueDate"!==t.name)("cu-task-row-recurring-date-picker-due-new","dueDate"===t.name),f.Dc("tooltip","dueDate"===t.name?a.setDueDateText:a.setStartDateText)("dates",a.taskData.dates)("recurringOptions",a.taskData.recurringSettings)("field",t.name)("statuses",f.wc(1,12,a.statuses$))("taskDone",(null==a.taskData||null==a.taskData.status?null:a.taskData.status.type)===a.StatusTypes.Done||(null==a.taskData||null==a.taskData.status?null:a.taskData.status.type)===a.StatusTypes.Closed)}}function $t(t,e){if(1&t){const t=f.dc();f.cc(0,"div",50),f.cc(1,"cu-time-estimates-create-task",51,52),f.qc("onTimeEstimateAction",function(e){return f.Uc(t),f.uc().timeEstimateAction(e)}),f.vc(3,"async"),f.bc(),f.bc()}if(2&t){const t=f.uc();f.Ib(1),f.Dc("timeEstimate",1e3*(null==t.taskData||null==t.taskData.timeEstimate?null:t.taskData.timeEstimate.seconds))("assignees",null==t.taskData?null:t.taskData.assignees)("team",f.wc(3,3,t.sharedData.compatCurrentTeam$))}}function Rt(t,e){if(1&t){const t=f.dc();f.cc(0,"div",50),f.cc(1,"cu-create-task-points-estimates",53,54),f.qc("onPointsEstimatesAction",function(e){return f.Uc(t),f.uc().pointsEstimatesAction(e)}),f.vc(3,"async"),f.bc(),f.bc()}if(2&t){const t=f.uc();f.Ib(1),f.Dc("points",null==t.taskData?null:t.taskData.points)("assignees",null==t.taskData?null:t.taskData.assignees)("team",f.wc(3,3,t.sharedData.compatCurrentTeam$))}}function Ft(t,e){if(1&t){const t=f.dc();f.cc(0,"cu-task-row-assignee",56),f.qc("onLoad",function(){return f.Uc(t),f.uc(2).loadUsers()})("onChange",function(e){return f.Uc(t),f.uc(2).setAssignees(e)})("onUserGroupsChange",function(e){return f.Uc(t),f.uc(2).setGroupAssignees(e)}),f.vc(1,"async"),f.bc()}if(2&t){const t=f.uc(2);f.Dc("multipleAssignees",null==t.taskData.project?null:t.taskData.project.multiple_assignees)("assignees",t.taskData.assignees)("groupAssignees",t.taskData.groupAssignees)("weights",t.weights)("users",f.wc(1,7,t.users$))("userGroups",t.userGroups)("subcategory",(null==t.defaultTaskData?null:t.defaultTaskData.subcategory)||(null==t.taskData?null:t.taskData.subcategory))}}function Mt(t,e){if(1&t&&f.bd(0,Ft,2,9,"cu-task-row-assignee",55),2&t){const t=f.uc();f.Dc("ngIf",(null==t.defaultTaskData?null:t.defaultTaskData.subcategory)||(null==t.taskData?null:t.taskData.subcategory))}}const Et=function(t){return[t]};function Ut(t,e){if(1&t){const t=f.dc();f.cc(0,"cu-priority-list-dropdown",57),f.qc("onChange",function(e){return f.Uc(t),f.uc().setPriority(e)}),f.Xb(1,"cu-priorities-view",58),f.bc()}if(2&t){const t=f.uc();f.Dc("prioritySelected",f.Hc(2,Et,t.taskData.priority)),f.Ib(1),f.Dc("priority",t.taskData.priority)}}const Lt=function(t,e,a,i,o,n,s,c,r){return{a:!0,me:!0,w:!0,p:t,d:e,inbox:a,sd:i,est:o,pts:n,t:s,s:c,m:r}},zt=function(t,e){return{date:t,showTime:e}},Vt=function(t,e,a){return{project:t,category:e,subcategory:a}},Nt=function(t,e,a,i,o,n,s,c,r){return{assignees:t,groupAssignees:e,points:a,followers:i,priority:o,dueDate:n,status:s,location:c,tags:r}},qt=function(t){return{multi:t}},Bt=function(t){return{allowCreate:t}},Gt=function(t,e){return{a:t,t:e}},Xt={name:"",project:null,category:null,subcategory:null,status:w.d,assignees:[],groupAssignees:[],followers:[],priority:null,dates:{},tags:[],timeEstimate:null,recurringSettings:null,estimateAssigneeMap:null};let Wt=(()=>{class t{constructor(t,e,a,i,n,d,p,m){this.el=t,this.sharedData=e,this.changeDetectorRef=a,this.store=i,this.timezonesService=n,this.action$=d,this.effects=p,this.ngZone=m,this.SHORTKEY_TEXT=/Mac/i.test(navigator.platform)?"cmd":"ctrl",this.SHORTKEY=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",this.taskData=Object.assign({},Xt),this.subcategoryError=!1,this.statuses$=new x.a([]),this.users$=new x.a([]),this.tags$=new x.a([]),this.showMissingRequired=!1,this.missingRequiredMap$=new x.a({}),this.missingRequired$=this.missingRequiredMap$.pipe(Object(c.a)(t=>Object.keys(t).length)),this.missingRequiredText$=this.missingRequired$.pipe(Object(c.a)(t=>1===t?$localize`:@@cu_custom-field-missing-required-cf-count:${t}:count: custom field required`:$localize`:@@cu_custom-field-missing-required-cf-count--many:${t}:count: custom fields required`)),this.customFields=[],this.taskSubcategory$=new x.a(null),this.destroy$=new T.a,this.subtasksCount=0,this.placeholder=$localize`:@@common_task-name-or-slash-cmds-1:Task name or type '/' for commands`,this.isMobile=!1,this.StatusTypes=_.g,this.inputWidth=null,this.windowResizeInterval=null,this.totalSidebarWidth$=this.store.select(M.a),this.militaryTime=!1,this.tagsLoadingMap={},this.autoFocus=!0,this.closeable=!0,this.statusesMap={},this.usersMap={},this.tagsMap={},this.slashCommandsPlacement="",this.forSubtask=!1,this.listenForIndents=!1,this.statusStyleType="cu-task-row-status_dot",this.canDelete=!0,this.onLazyLoad=new f.o,this.onCreateTask=new f.o,this.onIndent=new f.o,this.onClose=new f.o,this.openStatusSettings=new f.o,this.trackByName=Object(v.d)("name"),this.setDueDateText=$localize`:@@common_set-due-date:Set Due Date`,this.setStartDateText=$localize`:@@cu-task-row-new__tooltip-msg_set-start-date:Set Start Date`,this.taskSubcategory$.pipe(Object(r.a)(t=>t?i.select(Object(o.f)({id:t.id,type:"subcategory",name:t.name})).pipe(Object(l.a)(t=>!!t)):Object(I.a)([])),Object(u.a)(this.destroy$)).subscribe(t=>{const e=this.customFields||[];this.customFields=t.filter(t=>!s.e[t.type].isAutomaticValue).map(t=>{const a=e.find(e=>e.id===t.id),i=(this.defaultTaskData&&this.defaultTaskData.customFields||[]).find(e=>e.id===t.id);return Object.assign(Object.assign({},t),{value:i?i.value:a?a.value:void 0})}),this.changeDetectorRef.markForCheck()})}ngOnInit(){this.getScreenSize(),this.forSubtask&&(this.placeholder=$localize`:@@common_new-subtask:New subtask`),this.action$.pipe(Object(n.d)(F.g),Object(u.a)(this.destroy$)).subscribe(()=>{this.cancel()}),this.ngZone.runOutsideAngular(()=>{const t=Object(C.a)(window,"resize"),e=Object(D.a)(t,this.totalSidebarWidth$).pipe(Object(d.a)(500),Object(l.a)(()=>void 0!==this.rowOptions&&void 0!==this.mainContainer),Object(c.a)(()=>this.mainContainer.nativeElement.offsetWidth-this.rowOptions.nativeElement.offsetWidth-80+"px"),Object(p.a)("auto"));this.effects.register(e,t=>{this.taskRowNewLeft.nativeElement.style.width=t})})}ngAfterViewInit(){this.autoFocus&&setTimeout(()=>this.setFocus()),this.setInputWidth()}ngOnChanges(t){t.defaultTaskData&&this.defaultTaskData&&(!Object(P.a)(t.defaultTaskData.currentValue,t.defaultTaskData.previousValue)||this.taskData&&this.taskData.parent)&&(this.taskData=Object(y.a)({},this.taskData,this.defaultTaskData,(t,e)=>e||t),this.taskSubcategory$.next(this.taskData.subcategory),this.forSubtask&&this.taskData.subcategory&&this.taskData.category&&this.taskData.project&&this.store.select(R.getSubcategoryById(this.taskData.subcategory.id,this.taskData.category.id,this.taskData.project.id)).pipe(Object(u.a)(this.destroy$)).subscribe(t=>{t&&this.taskSubcategory$.next(t)})),t.columns&&this.updateRowColumns(),(t.statuses||t.statusesMap)&&this.updateStatuses(),(t.users||t.usersMap)&&this.updateUsers(),(t.tags||t.tagsMap)&&this.updateTags(),this.subtaskSiblings&&t.subtaskSiblings&&!Object(P.a)(t.subtaskSiblings.currentValue,t.subtaskSiblings.previousValue)&&this.getSubtasksOrderIndexHigh(this.subtaskSiblings)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}getScreenSize(){const t=window.innerWidth;this.isMobile=t<769}updateStatuses(){const t=this.statusesMap["new_"+JSON.stringify(this.getLocationData())]||this.statuses;this.statuses$.next(t)}updateUsers(){this.users$.next(this.usersMap["new_"+JSON.stringify(this.getLocationData())]||this.users)}updateTags(){this.tags$.next(this.taskData.project&&this.tagsMap[this.taskData.project.id]||this.tags)}checkPaging(t){t.type===$.a.Tags&&this.loadTags({last:t.newSearch?null:"true",search:t.search})}shiftTabDown(t){this.listenForIndents&&0===t.currentTarget.selectionStart&&this.onIndent.emit({indent:!1})}tabDown(t){this.listenForIndents&&0===t.currentTarget.selectionStart&&(t.preventDefault(),t.stopPropagation(),this.onIndent.emit({indent:!0}))}onPaste(t){if(!t||!t.clipboardData||!this.isInputEmpty())return;let e;if(e=void 0!==t.clipboardData?t.clipboardData.getData("text/plain"):window.clipboardData.getData("text"),e){const t=e.split("\n").filter(t=>t.trim().length>0).slice(0,100);if(t.length<=1)return;this.pastedLines=t,this.pop.show()}}onFocus(t){return e=this,void 0,o=function*(){const t=yield this.taskSubcategory$.pipe(Object(m.a)()).toPromise();t&&this.store.dispatch(Object(i.m)({entity:{id:t.id,type:"subcategory",name:t.name}})),this.active=!0,this.placeholder=this.forSubtask?$localize`:@@cu-task-row-new__form-placeholder_subtask-name-or-slash-cmds:Subtask name or type '/' for commands`:$localize`:@@common_task-name-or-slash-cmds-1:Task name or type '/' for commands`,this.changeDetectorRef.markForCheck()},new((a=void 0)||(a=Promise))(function(i,n){function s(e){try{r(o.next(e))}catch(t){n(t)}}function c(e){try{r(o.throw(e))}catch(t){n(t)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(s,c)}r((o=o.apply(e,[])).next())});var e,a,o}hidePopover(){this.pop.hide()}parentClick(t){this.isInputEmpty()&&this.cancel(),this.hidePopover()}saveTask(t,e=!1){if(!e&&t.which!==k.a.ENTER||this.isInputEmpty()||!this.validateData())t.which===k.a.ESCAPE&&this.cancel();else{if(this.showMissingRequired=!1,Object.keys(this.missingRequiredMap$.value).length)return this.showMissingRequired=!0,void this.changeDetectorRef.markForCheck();const e=this.getNewTaskObject(this.getInputValue());this.onCreateTask.emit({data:e,open:t[this.SHORTKEY]}),this.resetData()}}createMultiTasks(){if(!this.validateData())return;if(this.hidePopover(),!this.pastedLines||!this.pastedLines.length)return;const t=this.getNewTaskObject(this.getInputValue());this.onCreateTask.emit({multi:this.pastedLines,data:t,open:!1}),this.resetData()}openCustomFieldDropdown(){this.showMissingRequired=!1,this.changeDetectorRef.markForCheck(),this.customFieldDropdown&&this.customFieldDropdown.dropdown.open()}cancel(){this.closeable&&this.onClose.emit(),this.active=!1,this.placeholder=this.forSubtask?$localize`:@@common_new-subtask:New subtask`:$localize`:@@common_task-name-or-slash-cmds-1:Task name or type '/' for commands`,this.changeDetectorRef.markForCheck()}resetData(){this.taskData=Object(y.a)({},Xt,this.defaultTaskData,{project:this.taskData.project,category:this.taskData.category,subcategory:this.taskData.subcategory},(t,e)=>e||t),this.customFields=[],this.taskSubcategory$.next(this.taskData.subcategory),this.taskInput.nativeElement.value="",this.changeDetectorRef.markForCheck()}applySlashCommand({command:t,value:e}){if(t)switch(t.key){case h.c.key:{const t=e.filter(t=>t.group).map(t=>t.group);this.setGroupAssignees(t);const a=e.filter(t=>!t.group);this.setAssignees(a)}break;case h.Gb.key:{const t=e.filter(t=>!t.group);this.setFollowers(t)}break;case h.kb.key:this.setStatus(e);break;case h.cb.key:this.setPriority(e);break;case h.o.key:this.setCommandDueDates(e);break;case h.q.key:this.setCommandDueDates(e[0]),this.setAssignees(e[1]);break;case h.jb.key:this.setCommandStartDates(e);break;case h.pb.key:this.setEstimate(e,!0);break;case h.ib.key:this.setSprintPoints(e);break;case h.nb.key:this.setTags(e||[]);break;case h.Z.key:this.setLocation(e)}}selectCommand(t){if(t)switch(t.key){case h.Gb.key:case h.c.key:this.loadUsers();break;case h.kb.key:this.loadStatuses();break;case h.nb.key:this.loadTags()}}openSlashCommands(){this.loadStatuses()}setLocation(t){this.taskData.project=t.project,this.taskData.category=t.category,this.taskData.subcategory=t.subcategory,this.taskSubcategory$.next(this.taskData.subcategory),this.subcategoryError=!1,this.updateRowColumns(),this.updateStatuses(),this.updateUsers(),this.updateTags(),this.changeDetectorRef.markForCheck(),this.setFocus()}setCommandDueDates(t){this.setDates({dueDate:t?t.date:null,dueDateTime:t?t.showTime:null})}setCommandStartDates(t){this.setDates({startDate:t?t.date:null,startDateTime:t?t.showTime:null})}setPickerDates(t){this.setDates({dueDate:t.dueDate?t.dueDate.valueOf():null,dueDateTime:t.dueDate&&t.dueDateTime,startDate:t.startDate?t.startDate.valueOf():null,startDateTime:t.startDate&&t.startDateTime}),this.setInputWidth()}setDates(t){this.taskData.dates=Object.assign(Object.assign({},this.taskData.dates),t),this.changeDetectorRef.markForCheck()}setCustomFieldValue(t,e){this.customFields=this.customFields.map(a=>a.id===t.id?Object.assign(Object.assign({},a),{value:e}):a),this.setInputWidth(),this.changeDetectorRef.markForCheck()}setRecurring(t){this.taskData.recurringSettings=t,this.taskData.dates&&this.taskData.dates.dueDate||(this.taskData.dates.dueDate=this.timezonesService.createMoment().valueOf()),this.changeDetectorRef.markForCheck()}setPriority(t){this.taskData.priority=t,this.changeDetectorRef.markForCheck(),this.setInputWidth()}setStatus(t){this.taskData.status=t,this.changeDetectorRef.markForCheck()}toggleStatus(t){}setAssignees(t){this.taskData.assignees=t,this.changeDetectorRef.markForCheck(),this.setInputWidth()}setGroupAssignees(t){this.taskData.groupAssignees=t,this.changeDetectorRef.markForCheck()}setFollowers(t){this.taskData.followers=t,this.changeDetectorRef.markForCheck()}setTags(t){this.taskData.tags=t,this.changeDetectorRef.markForCheck()}timeEstimateAction(t){if(t.action===b.b.UpdateTotal)this.setEstimate(t.estimate);else if(t.action===b.b.UpdateDraftAssigneeData){const{total:e,assigneeMap:a,estimateString:i}=t.draftUpdate;this.taskData.timeEstimate={output:i,milliseconds:e||null,seconds:e?e/1e3:null},this.taskData.estimateAssigneeMap=a}this.setInputWidth()}pointsEstimatesAction(t){if(t.action===g.a.UpdateTaskPointsEstimates)this.setPointsEstimate(t.points);else if(t.action===g.a.UpdateDraftAssigneeData){const{points:e,assigneeMap:a}=t.draftUpdate;this.taskData.points=e,this.taskData.pointsAssigneeMap=a}this.setInputWidth()}setEstimate(t,e=!1){this.taskData.timeEstimate=t,this.changeDetectorRef.markForCheck(),setTimeout(()=>{e&&this.createTimeEstimate&&this.createTimeEstimate.forceUpdate()},200)}setSprintPoints(t){const e=t&&t.id?parseInt(t.id,10):0;if(t.user){const a=this.taskData.pointsAssigneeMap||{},i=(this.taskData.assignees||[]).map(i=>{const o=i;return Object.assign(Object.assign({},o),t.user.id===i.id?{points:e}:{points:a[o.id]})});this.createPointsEstimate.users$.next(i)}else this.taskData.points=e;this.changeDetectorRef.markForCheck()}setPointsEstimate(t,e=!1){this.taskData.points=t,this.changeDetectorRef.markForCheck(),setTimeout(()=>{e&&this.createPointsEstimate&&this.createPointsEstimate.forceUpdate()},200)}editTags({action:t,data:e}){switch(t){case S.a.AddTag:this.setTags([...this.taskData.tags||[],e]),this.setInputWidth();break;case S.a.RemoveTag:this.setTags((this.taskData.tags||[]).filter(t=>t.name!==e.name)),this.setInputWidth()}}updateRowColumns(){this.rowColumns=[],this.columns.forEach(t=>{const e=this.getColState(t.name,t.clickAppId);if(e!==O.b.Stub){if("pointsEstimate"===t.name&&this.sharedData.compatCurrentTeam&&this.sharedData.compatCurrentTeam.points_limit_reached)return;this.rowColumns.push(Object.assign(Object.assign({},t),{state:e,field:j.a[t.name],template:this.getColTemplate(t.name)}))}})}loadTags(t){this.taskData.project&&this.onLazyLoad.emit({source:"tags",data:{project_id:this.taskData.project.id,paging:t}})}loadStatuses(){this.taskData.subcategory&&this.onLazyLoad.emit({source:"statuses",data:this.getLocationData()})}loadUsers(){this.taskData.subcategory&&this.onLazyLoad.emit({source:"users",data:this.getLocationData()})}validateData(){return!!this.taskData.subcategory||(this.subcategoryError=!0,!1)}setFocus(){this.taskInput&&this.taskInput.nativeElement.focus()}mouseDown(t){t.stopPropagation()}setInputWidth(){if(this.rowOptions&&this.mainContainer){const t=this.mainContainer.nativeElement.offsetWidth-this.rowOptions.nativeElement.offsetWidth-80;this.taskRowNewLeft.nativeElement.style.width=t?t+"px":"auto"}}getLocationData(){return{projectId:this.taskData.project&&this.taskData.project.id,categoryId:this.taskData.category&&this.taskData.category.id,subcategoryId:this.taskData.subcategory&&this.taskData.subcategory.id}}getColState(t,e){return this.taskData.project&&this.taskData.project.features&&this.taskData.project.features[e]&&this.taskData.project.features[e].enabled||!e?O.b.Visible:O.b.Stub}getColTemplate(t){switch(t){case"dueDate":case"startDate":return this.datePickerRowTemplate;case"timeEstimate":return this.timeEstRowTemplate;case"pointsEstimate":return this.pointsEstRowTemplate;case"assignee":return this.assigneeRowTemplate;case"priority":return this.priorityRowTemplate}}getNewTaskObject(t){const e={name:t.trim(),parent:this.taskData.parent,subtask_parent:this.taskData.subtask_parent,projectId:this.taskData.project&&this.taskData.project.id,categoryId:this.taskData.category&&this.taskData.category.id,subcategoryId:this.taskData.subcategory&&this.taskData.subcategory.id,due_date:this.taskData.dates.dueDate,due_date_time:this.taskData.dates.dueDateTime,start_date:this.taskData.dates.startDate,start_date_time:this.taskData.dates.startDateTime,assignees:this.taskData.assignees?this.taskData.assignees.map(t=>t.id):null,group_assignees:this.taskData.groupAssignees?this.taskData.groupAssignees.map(t=>t.id):null,followers:this.taskData.followers?this.taskData.followers.map(t=>t.id):null,priority:this.taskData.priority?this.taskData.priority.id:"none",status:this.taskData.status&&this.taskData.status.type!==_.g.Open?this.taskData.status.status:void 0,tags:this.taskData.tags,recurring_settings:Object(A.i)(this.taskData.recurringSettings)};return this.taskData.timeEstimate&&this.taskData.timeEstimate.seconds&&(e.time_estimate=1e3*this.taskData.timeEstimate.seconds,e.time_estimate_string=this.taskData.timeEstimate.output||""),this.taskData.points&&(e.points=this.taskData.points,this.taskData.pointsAssigneeMap&&Object.entries(this.taskData.pointsAssigneeMap).some(([t,e])=>!!e)&&this.taskData.assignees&&this.taskData.assignees.length&&(e.assignee_points_map=this.taskData.pointsAssigneeMap)),this.taskData.estimateAssigneeMap&&Object.entries(this.taskData.estimateAssigneeMap).some(([t,e])=>!!e)&&this.taskData.assignees&&this.taskData.assignees.length&&(e.assignee_time_estimate_map=this.taskData.estimateAssigneeMap),this.customFields&&this.customFields.length&&(e.customFields=this.customFields.map(t=>{const e=s.e[t.type];let a=t.value;return e&&e.serialiseValueForApi&&(a=e.serialiseValueForApi(void 0,t.value,t)),{id:t.id,value:a}})),!!e.parent&&(e.subtask_orderindex=this.getNewSubtaskOrderIndex(this.subtaskSiblings)),e}getInputValue(){return(this.taskInput.nativeElement.value||"").trim()}isInputEmpty(){return 0===this.getInputValue().length}getSubtasksOrderIndexHigh(t){this.subtasksOrderIndexHigh=Math.max.apply(Math,t.map(t=>parseFloat(t.subtask_orderindex)))}getNewSubtaskOrderIndex(t){let e=0;return void 0===t||0===t.length?(this.subtasksCount+=1,e=this.subtasksCount):(this.subtasksOrderIndexHigh+=1,e=this.subtasksOrderIndexHigh),e}}return t.\u0275fac=function(e){return new(e||t)(f.Wb(f.m),f.Wb(U.a),f.Wb(f.h),f.Wb(L.Store),f.Wb(z.a),f.Wb(n.a),f.Wb(E.b),f.Wb(f.B))},t.\u0275cmp=f.Qb({type:t,selectors:[["cu-task-row-new"]],viewQuery:function(t,e){if(1&t&&(f.jd(it,1),f.jd(ot,1),f.jd(nt,3),f.jd(st,3),f.jd(ct,1),f.jd(rt,1),f.jd(lt,1),f.jd(ut,3),f.jd(dt,3),f.jd(pt,3),f.jd(mt,3),f.jd(ht,1),f.jd(gt,3),f.jd(bt,3)),2&t){let t;f.Qc(t=f.rc())&&(e.rowOptions=t.first),f.Qc(t=f.rc())&&(e.mainContainer=t.first),f.Qc(t=f.rc())&&(e.taskInput=t.first),f.Qc(t=f.rc())&&(e.pop=t.first),f.Qc(t=f.rc())&&(e.createTimeEstimate=t.first),f.Qc(t=f.rc())&&(e.createPointsEstimate=t.first),f.Qc(t=f.rc())&&(e.customFieldDropdown=t.first),f.Qc(t=f.rc())&&(e.taskRowNewLeft=t.first),f.Qc(t=f.rc())&&(e.datePickerRowTemplate=t.first),f.Qc(t=f.rc())&&(e.timeEstRowTemplate=t.first),f.Qc(t=f.rc())&&(e.pointsEstRowTemplate=t.first),f.Qc(t=f.rc())&&(e.timeTrackerRowTemplate=t.first),f.Qc(t=f.rc())&&(e.assigneeRowTemplate=t.first),f.Qc(t=f.rc())&&(e.priorityRowTemplate=t.first)}},hostAttrs:[1,"cu-task-row-new"],hostVars:4,hostBindings:function(t,e){2&t&&f.Ob("cu-task-row-new_active",e.active)("cu-task-row-new_subtask",e.forSubtask)},inputs:{id:"id",columns:"columns",defaultTaskData:"defaultTaskData",dateFormat:"dateFormat",militaryTime:"militaryTime",tagsLoadingMap:"tagsLoadingMap",autoFocus:"autoFocus",closeable:"closeable",meUser:"meUser",statusesMap:"statusesMap",statuses:"statuses",usersMap:"usersMap",users:"users",tagsMap:"tagsMap",tags:"tags",slashCommandsPlacement:"slashCommandsPlacement",subtaskSiblings:"subtaskSiblings",forSubtask:"forSubtask",listenForIndents:"listenForIndents",statusStyleType:"statusStyleType",weights:"weights",userGroups:"userGroups",onlyDeleteIfOwner:"onlyDeleteIfOwner",canDelete:"canDelete",parentWidth:"parentWidth"},outputs:{onLazyLoad:"onLazyLoad",onCreateTask:"onCreateTask",onIndent:"onIndent",onClose:"onClose",openStatusSettings:"openStatusSettings"},features:[f.Hb([E.b]),f.Gb],decls:37,vars:84,consts:function(){let t,e,a,i,o,n,s;return t=$localize`:@@common_click-here-to-fix␟c236815280e5a8413f12f288243d5d66b3e00a47␟4070758832964826359:Click here to fix`,e=$localize`:@@common_select-list␟d59f54061403dd37624b38355f29febf86e854b4␟3087423907090616073: Select List... `,a=$localize`:@@cu-task-row-new__shortkey␟7abbee410dc7fd21cbdeec526b57dad4e520fe07␟6137747196209936470: ${"\ufffd0\ufffd"}:INTERPOLATION:+enter to open `,i=$localize`:@@common_save␟2a62a59d9424e9e869061ebf3e8f8b8f95411571␟4201883793870263566: Save `,o=$localize`:@@common_multiple-lines␟3d3d7b6d1d8715e6cc1484e69a76ddae341a1ffd␟310978944184333460: Multiple lines detected `,n=$localize`:@@cu-task-row-new__popover-content-button␟c5455d7b985134df38867fe347c9546dd632c1ce␟5651306842524493536: Create ${"\ufffd0\ufffd"}:INTERPOLATION: tasks `,s=$localize`:@@common_assign␟1da6e5076d6a884a4241733942825718559f3075␟584754872792429089:Assign`,[[1,"cu-task-row-new__container",3,"clickOutsideElement","clickOutside"],["mainContainer",""],["class","cu-task-row-new__missing",4,"ngIf"],[1,"cu-task-row-new__left"],["taskRowNewLeft",""],[3,"itemClass","status","statuses","isSimpleStatus","disabled","showSettings","onLoad","onChange","onToggle","onOpenSettings"],[1,"cu-task-row-new__main"],[3,"withPermission","defaultProject","selectableProject","selectedCategory","singleCategory","onSelect",4,"ngIf"],[3,"dateFormatting","militaryTime","weights","meUser","users","userGroups","points","priorities","statuses","tags","allowedCommands","currentValues","options","dropdownPlacement","applyCommand","onSelectCommand","onOpen","onPage"],["cuSlashCommandInput","","type","text","autocomplete","off","placement","top","triggers","","container","body",1,"cu-task-row-new__input",3,"placeholder","popover","keydown","paste","focus","mousedown","keydown.shift.tab","keydown.tab"],["taskInput","","pop","bs-popover"],["class","cu-task-row-new__options",4,"ngIf"],["multiPopover",""],["defaultRowTemplate",""],["datePickerRowTemplate",""],["timeEstRowTemplate",""],["pointsEstRowTemplate",""],["assigneeRowTemplate",""],["priorityRowTemplate",""],[1,"cu-task-row-new__missing"],[1,"cu-task-row-new__missing-text",3,"click"],t,[3,"withPermission","defaultProject","selectableProject","selectedCategory","singleCategory","onSelect"],[1,"cu-task-row-new__subcategory",3,"ngClass"],[4,"ngIf"],e,[1,"cu-task-row-new__options"],["rowOptions",""],[1,"cu-task-row-new__shortkey"],a,[3,"showMissingRequired","missingRequiredMap","missingRequired","permissions","subcategory","forSubtask","customFields","setMissingRequiredFields","updateCustomFieldValue",4,"ngIf"],[3,"tags","tagsLoadingMap","value","projectId","alwaysShowIcon","alwaysShowNoHover","onlyDeleteIfOwner","canDelete","userId","canAddTag","manageTags","canRemoveTag","canManageTag","readOnly","disabled","onLoad","onChange",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-task-row-new__button",3,"click",4,"ngIf"],["class","cu-task-row-new__close",3,"click",4,"ngIf"],[3,"showMissingRequired","missingRequiredMap","missingRequired","permissions","subcategory","forSubtask","customFields","setMissingRequiredFields","updateCustomFieldValue"],["customFieldDropdown",""],[3,"tags","tagsLoadingMap","value","projectId","alwaysShowIcon","alwaysShowNoHover","onlyDeleteIfOwner","canDelete","userId","canAddTag","manageTags","canRemoveTag","canManageTag","readOnly","disabled","onLoad","onChange"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-task-row-new__button",3,"click"],i,[1,"cu-task-row-new__close",3,"click"],["icon","cu2-close"],[1,"task-todo-item-popover__content"],[1,"task-todo-item-popover__content-close",3,"icon","click"],[1,"task-todo-item-popover__content-message"],o,[1,"task-todo-item-popover__content-button",3,"click"],n,[3,"tooltip","dates","recurringOptions","field","statuses","taskDone","onChange","onRecurringChange"],[1,"cu-task-row__time-estimate"],[3,"timeEstimate","assignees","team","onTimeEstimateAction"],["createTimeEstimate",""],[3,"points","assignees","team","onPointsEstimatesAction"],["createPointsEstimate",""],["cuTooltip",s,3,"multipleAssignees","assignees","groupAssignees","weights","users","userGroups","subcategory","onLoad","onChange","onUserGroupsChange",4,"ngIf"],["cuTooltip",s,3,"multipleAssignees","assignees","groupAssignees","weights","users","userGroups","subcategory","onLoad","onChange","onUserGroupsChange"],[1,"cu-task-row__priority",3,"prioritySelected","onChange"],["modifier","cu-priorities-view__icon-task-lv","placeModifier","lv-task",3,"priority"]]},template:function(t,e){if(1&t&&(f.cc(0,"div",0,1),f.qc("clickOutside",function(t){return e.parentClick(t)}),f.vc(2,"async"),f.bd(3,ft,5,3,"div",2),f.vc(4,"async"),f.cc(5,"div",3,4),f.cc(7,"cu-task-row-status",5),f.qc("onLoad",function(){return e.loadStatuses()})("onChange",function(t){return e.setStatus(t)})("onToggle",function(t){return e.toggleStatus(t)})("onOpenSettings",function(){return e.openStatusSettings.emit(null==e.taskData?null:e.taskData.subcategory)}),f.vc(8,"async"),f.vc(9,"async"),f.vc(10,"async"),f.bc(),f.cc(11,"div",6),f.bd(12,vt,4,10,"cu-category-list-dropdown",7),f.cc(13,"cu-slash-command",8),f.qc("applyCommand",function(t){return e.applySlashCommand(t)})("onSelectCommand",function(t){return e.selectCommand(t)})("onOpen",function(){return e.openSlashCommands()})("onPage",function(t){return e.checkPaging(t)}),f.vc(14,"async"),f.vc(15,"async"),f.vc(16,"async"),f.vc(17,"async"),f.vc(18,"async"),f.cc(19,"input",9,10),f.qc("keydown",function(t){return e.saveTask(t)})("paste",function(t){return e.onPaste(t)})("focus",function(t){return e.onFocus(t)})("mousedown",function(t){return e.mouseDown(t)})("keydown.shift.tab",function(t){return e.shiftTabDown(t)})("keydown.tab",function(t){return e.tabDown(t)}),f.bc(),f.bc(),f.bc(),f.bc(),f.bd(22,Ot,9,7,"div",11),f.bc(),f.bd(23,jt,6,2,"ng-template",null,12,f.cd),f.bd(25,Pt,0,0,"ng-template",null,13,f.cd),f.bd(27,At,2,14,"ng-template",null,14,f.cd),f.bd(29,$t,4,5,"ng-template",null,15,f.cd),f.bd(31,Rt,4,5,"ng-template",null,16,f.cd),f.bd(33,Mt,1,1,"ng-template",null,17,f.cd),f.bd(35,Ut,2,4,"ng-template",null,18,f.cd)),2&t){const t=f.Rc(24);let a=null,i=null,o=null,n=null;f.ad("max-width",e.parentWidth,"px"),f.Ob("cu-task-row-new__container_error",f.wc(2,30,e.missingRequired$)&&e.showMissingRequired),f.Dc("clickOutsideElement",e.el),f.Ib(3),f.Dc("ngIf",f.wc(4,32,e.missingRequired$)&&e.showMissingRequired),f.Ib(4),f.Dc("itemClass",2===(null==(a=f.wc(8,34,e.taskSubcategory$))||null==a.statuses?null:a.statuses.length)?"cu-task-row-status_simple cu-task-row-status_simple_no-pointer":e.statusStyleType)("status",e.taskData.status)("statuses",f.wc(9,36,e.statuses$))("isSimpleStatus",2===(null==(i=f.wc(10,38,e.taskSubcategory$))||null==i.statuses?null:i.statuses.length))("disabled",!(null!=e.taskData&&e.taskData.subcategory))("showSettings",null==e.taskData||null==e.taskData.subcategory||null==e.taskData.subcategory.permissions?null:e.taskData.subcategory.permissions.manage_statuses),f.Ib(5),f.Dc("ngIf",!(null!=e.defaultTaskData&&e.defaultTaskData.subcategory)),f.Ib(1),f.Dc("dateFormatting",e.dateFormat)("militaryTime",e.militaryTime)("weights",e.weights)("meUser",e.meUser)("users",f.wc(14,40,e.users$))("userGroups",e.userGroups)("points",null==(o=f.wc(15,42,e.sharedData.compatCurrentTeam$))?null:o.points_scale)("priorities",null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.priorities?null:e.taskData.project.features.priorities.priorities)("statuses",f.wc(16,44,e.statuses$))("tags",f.wc(17,46,e.tags$))("allowedCommands",f.Pc(50,Lt,[null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.priorities?null:e.taskData.project.features.priorities.enabled,null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.due_dates?null:e.taskData.project.features.due_dates.enabled,null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.due_dates?null:e.taskData.project.features.due_dates.enabled,null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.due_dates?null:e.taskData.project.features.due_dates.enabled,null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.time_estimates?null:e.taskData.project.features.time_estimates.enabled,null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.points?null:e.taskData.project.features.points.enabled,(null==e.taskData.project||null==e.taskData.project.features||null==e.taskData.project.features.tags?null:e.taskData.project.features.tags.enabled)&&((null==e.taskData||null==e.taskData.subcategory||null==e.taskData.subcategory.permissions?null:e.taskData.subcategory.permissions.manage_tags)||(null==e.taskData||null==e.taskData.subcategory||null==e.taskData.subcategory.permissions?null:e.taskData.subcategory.permissions.add_tags)),(null==(n=f.wc(18,48,e.statuses$))?null:n.length)>2,!(null!=e.defaultTaskData&&e.defaultTaskData.subcategory)]))("currentValues",f.Pc(67,Nt,[e.taskData.assignees,e.taskData.groupAssignees,e.taskData.points,e.taskData.followers,e.taskData.priority,f.Ic(60,zt,e.taskData.dates.dueDate,e.taskData.dates.dueDateTime),e.taskData.status,f.Jc(63,Vt,e.taskData.project,e.taskData.category,e.taskData.subcategory),e.taskData.tags]))("options",f.Ic(81,Gt,f.Hc(77,qt,null==e.taskData.project?null:e.taskData.project.multiple_assignees),f.Hc(79,Bt,null==e.taskData||null==e.taskData.subcategory||null==e.taskData.subcategory.permissions?null:e.taskData.subcategory.permissions.manage_tags)))("dropdownPlacement",e.slashCommandsPlacement),f.Ib(6),f.Dc("placeholder",e.placeholder)("popover",t),f.Ib(3),f.Dc("ngIf",e.active)}},directives:[V.a,N.q,q.a,$.b,B.a,G.c,X.a,N.o,N.p,W.a,H.a,N.x,Z.a,Q.a,K.a,J.a,Y.a,tt.a,et.a,at.a],pipes:[N.b],styles:['.cu-task-row-new{display:block;min-width:100%;z-index:15;position:relative}.cu-task-row-new__missing{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#d35d5a;position:absolute;bottom:0;padding:3px 5px;border-radius:0 0 4px 4px;transform:translateY(100%);margin:0 -1px;cursor:default}.cu-task-row-new__missing,.cu-task-row-new__missing-text{font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff}.cu-task-row-new__missing-text{cursor:pointer;border-bottom:1px dashed #fff}.cu-task-row-new__missing-text:hover{border-bottom-color:transparent}.cu-task-row-new_active .cu-task-row-new__container{border-color:#7b68ee;background:#fff}@supports (--theme-main-color:#7b68ee){.cu-task-row-new_active .cu-task-row-new__container{border-color:var(--theme-main-color)}}.dark-theme .cu-task-row-new_active .cu-task-row-new__container{border-color:#7b68ee;background:#2b343b}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-task-row-new_active .cu-task-row-new__container{border-color:var(--theme-main-color)}}.cu-task-row-new_active .cu-task-row-new__shortkey{opacity:1}.cu-task-row-new__container{position:sticky;left:0;display:flex;align-items:center;justify-content:space-between;background:#fff;border:1px solid #fff;box-shadow:0 0 10px 0 rgba(0,0,0,.05);width:100%;min-height:38px}.contrast_high .cu-task-row-new__container{box-shadow:0 0 10px 0 rgba(0,0,0,.15)}.dark-theme .cu-task-row-new__container{background:#2b343b;border:1px solid #2b343b}.cu-task-row-new__container_error,.cu-task-row-new_active .cu-task-row-new__container_error{border-color:#d35d5a}.cu-task-row-new__left{display:flex;align-items:center;position:sticky;left:0;padding-right:20px;padding-left:5px}.cu-task-list__subtasks .cu-task-row-new__left{margin-left:34px;left:34px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row-new__left{margin-left:68px;left:68px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row-new__left{margin-left:102px;left:102px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row-new__left{margin-left:136px;left:136px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row-new__left{margin-left:170px;left:170px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row-new__left{margin-left:204px;left:204px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row-new__left{margin-left:238px;left:238px}.cu-task-row-new__left .cu-task-row-status_dot{display:flex;align-items:center;height:36px}.cu-task-row-new .cu-task-row-status{order:1}.cu-task-row-new .cu-task-row-status__item-border{margin:0 0 0 -1px}.cu-task-row-new_subtask .cu-task-row-status{order:2}.cu-task-row-new__main{display:flex;flex-grow:1;flex-direction:column;min-width:300px;order:3}.cu-task-row-new__input{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;cursor:text;color:#343434;width:100%;background:transparent;box-shadow:none;border:0;padding:0;height:36px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-new__input{font-family:var(--global-font-support)}}.dark-theme .cu-task-row-new__input{color:#d5d6d7}.cu-task-row-new__input:-ms-input-placeholder{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;opacity:.4}.cu-task-row-new__input::placeholder{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;opacity:.4}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-new__input:-ms-input-placeholder{font-family:var(--global-font-support)}.cu-task-row-new__input::placeholder{font-family:var(--global-font-support)}}.dark-theme .cu-task-row-new__input:-ms-input-placeholder{opacity:.8}.dark-theme .cu-task-row-new__input::placeholder{opacity:.8}.cu-task-row-new__input:focus{outline:none;box-shadow:none}.cu-task-row-new__shortkey{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;justify-content:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#cbc9cf;padding:0 5px;white-space:nowrap;opacity:0}.dark-theme .cu-task-row-new__shortkey{color:#828588}.task-todo .cu-task-row-new__shortkey{display:none}.cu-task-row-new__close{visibility:hidden;cursor:pointer;padding:4px;margin:0 10px 0 5px;fill:#bcc0c7;z-index:1;order:2}.dark-theme .cu-task-row-new__close{fill:#828588}.cu-task-row-new__close:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__close:hover{fill:var(--theme-main-color)}}.cu-task-row-new__close .icon{width:12px;height:12px;padding:1px}.cu-task-row-new_active .cu-task-row-new__close{visibility:visible}.cu-task-row-new__options{display:flex;align-items:center;position:sticky;right:0;flex-shrink:0}.cu-task-row-new__options .cu-tags-view__icon{width:26px;height:26px;padding:4px 5px 2px;margin-right:0}.cu-task-row-new__options .cu-tags-view__icon:before{width:26px;height:26px;top:0;border-color:#b9bec7}.contrast_high .cu-task-row-new__options .cu-tags-view__icon:before,.dark-theme .cu-task-row-new__options .cu-tags-view__icon:before{border-color:#979797}.cu-task-row-new__options .cu-tags-view__icon .cu-fill{fill:#b9bec7}.contrast_high .cu-task-row-new__options .cu-tags-view__icon .cu-fill,.dark-theme .cu-task-row-new__options .cu-tags-view__icon .cu-fill{fill:#979797}.cu-task-row-new__options .cu-tags-view__icon .cu-stroke{stroke:#b9bec7}.contrast_high .cu-task-row-new__options .cu-tags-view__icon .cu-stroke,.dark-theme .cu-task-row-new__options .cu-tags-view__icon .cu-stroke{stroke:#979797}.cu-task-row-new__options .cu-tags-view__icon:hover:before{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__options .cu-tags-view__icon:hover:before{border-color:var(--theme-main-color)}}.cu-task-row-new__options .cu-tags-view__icon:hover .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__options .cu-tags-view__icon:hover .cu-stroke{stroke:var(--theme-main-color)}}.cu-task-row-new__options .cu-tags-view__icon:hover .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__options .cu-tags-view__icon:hover .cu-fill{fill:var(--theme-main-color)}}.cu-task-row-new__options .cu-task-row-date-picker{padding-left:0}.cu-task-row-new__options .cu-task-row-date-picker .due-date__row{margin-right:5px}.cu-task-row-new__options .cu-task-row-date-picker:after{display:none}.cu-task-row-new__options .cu-task-row__time-estimate{padding-left:5px!important}.cu-task-row-new__options .cu-task-row__time-estimate .time-estimates-view__icon{width:26px!important;height:26px!important}.cu-task-row-new__options .cu-task-row__time-estimate:after{display:none}.cu-task-row-new__options .cu-task-row__time-estimate .time-estimates-view__full{margin-left:0}.cu-task-row-new__options .cu-task-row__time-estimate .time-estimates-view__full .time-estimates-view__full-value .icon.time-estimates-view__icon{width:12px!important;height:16px!important}.cu-task-row-new__options .cu-task-row-recurring-date-picker{padding-left:5px}.cu-task-row-new__options .cu-task-row-recurring-date-picker .due-date__info-value{padding-right:2px}.cu-task-row-new__options .cu-task-row-recurring-date-picker:after{display:none}.cu-task-row-new__options .cu-task-row-assignee .cu-user-group__item{margin-top:1px}.cu-task-row-new__options .cu-task-row-assignee .cu-user-group__item:hover .cu-avatar_initials,.cu-task-row-new__options .cu-task-row-assignee .cu-user-group__item:hover .cu-avatar_photo{width:26px!important;height:26px!important;margin:0}.cu-task-row-new__options .cu-task-row-assignee .cu-user-group__remove{width:13px;height:13px;top:-3px;right:-2px}.cu-task-row-new__options .cu-user-group .cu-avatar.cu-avatar_lg{width:26px;height:26px;border:none}.cu-task-row-new__options .cu-user-group_due-date{margin:0;padding:0}.cu-task-row-new__options .cu-user-group__item.cu-user-group__item_due-date{margin:0;width:26px!important;height:26px!important}.cu-task-row-new__options .cu-user-group__item.cu-user-group__item_due-date .icon{width:26px!important;height:26px!important}.cu-task-row-new__options .cu-task-row__priority{padding:0 0 0 5px}.cu-task-row-new__options .cu-task-row__priority:after{display:none}.cu-task-row-new__options .cu-task-row__priority .cu-priorities-view__icon-select{width:26px;height:26px}.cu-task-row-new__options .cu-task-row-assignee{width:auto;margin-right:0;padding-left:5px}.cu-task-row-new__options .cu-task-row-assignee:after{display:none}.cu-task-row-new__options .cu-points-estimates-display__icon{width:26px;height:26px}.cu-task-row-new__options .cu-task-row-tags{padding-left:5px}.cu-task-row-new__enter{visibility:hidden;padding:8px;margin:0 47px 0 8px;display:flex;align-items:center}.cu-task-row-new__button{background:#7b68ee;width:54px;height:20px;border-radius:2px;color:#fff;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;display:flex;align-items:center;justify-content:center;text-transform:uppercase;cursor:pointer;margin:0 10px;flex-shrink:0}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__button{background:var(--theme-main-color)}}.cu-task-row-new__button:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-row-new__button:hover{background:var(--theme-main-color-dark)}}.cu-task-row-new__status-col{align-self:stretch;display:flex;align-items:center;cursor:pointer}.cu-task-row-new__status-col-item{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;flex-shrink:0;width:85px;margin:0 20px 0 0;padding-left:4px;text-transform:uppercase;text-overflow:ellipsis;overflow:hidden}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-new__status-col-item{font-family:var(--global-font-support)}}.cu-task-row-new__status-col .cu-dropdown,.cu-task-row-new__status-col cu-status-list{height:100%}.cu-task-row-new__status-col .cu-dropdown__toggle{height:100%;display:flex;align-items:center}.cu-task-row-new__datetime{flex-shrink:0;width:73px;font:13px Gotham Pro,Proxima Nova,arial,serif;color:rgba(52,52,52,.5);padding:0 0 0 5px;margin:0 20px 0 0}@media print{.cu-task-row-new__datetime{width:50px}}.cu-task-row-new__datetime-body{display:inline-block}.cu-task-row-new__datetime .due-date__info-value{cursor:default}.cu-task-row-new__time-estimate{flex-shrink:0;width:120px;padding-left:5px}.cu-task-row-new__time-estimate_disabled *{cursor:default!important}.cu-task-row-new__time-estimate .time-tracking__display-time{padding-right:35px;display:flex;justify-content:center}.cu-task-row-new__time-estimate .cu-user-group__item_time-tracker{margin-left:10px}.cu-task-row-new__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-fill{fill:var(--theme-main-color)}}.cu-task-row-new__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-stroke{stroke:var(--theme-main-color)}}.cu-task-row-new__time-estimate .time-estimates-view__toogle{width:120px;display:flex;justify-content:center;margin-left:-32px}.cu-task-row-new__time-estimate .icon.time-estimates-view__icon{width:30px;height:30px;cursor:pointer}.cu-task-row-new__time-estimate .icon.time-estimates-view__icon .cu-stroke{stroke:#cbc9cf}.cu-task-row-new__time-estimate .icon.time-estimates-view__icon:hover .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__time-estimate .icon.time-estimates-view__icon:hover .cu-stroke{stroke:var(--theme-main-color)}}.cu-task-row-new__priority{flex-shrink:0;width:88px;padding:0;margin:0}@media print{.cu-task-row-new__priority{width:60px}}.cu-task-row-new__priority .cu-priorities-view__icon-task-lv:hover{border:0}.cu-task-row-new__priority_disabled *{cursor:default!important}.cu-task-row-new__priority .cu-priorities-view__icon-select{width:30px!important;height:30px!important}.cu-task-row-new__subcategory{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:10px;line-height:1;color:#828588;margin:6px 0 -2px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-new__subcategory{font-family:var(--global-font-support)}}.cu-task-row-new__subcategory:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-new__subcategory:hover{color:var(--theme-main-color)}}.cu-task-row-new__subcategory_error{color:#fd71af}'],encapsulation:2,changeDetection:0}),t})()},mo19:function(t,e,a){"use strict";a.d(e,"a",function(){return w});var i=a("fXoL"),o=a("c3rA"),n=a("o7Ov"),s=a("Muja"),c=a("69Fr"),r=a("l7P3"),l=a("ofXK"),u=a("O5gs"),d=a("sgkU"),p=a("68Q3"),m=a("3Pt+");function h(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(null==t.selectedOption?null:t.selectedOption.label)}}function g(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",4),i.qc("onSelect",function(e){return i.Uc(t),i.uc(2).selectVariable(e.customPayload)}),i.cc(1,"cu-edit-automation-dropdown",5),i.bd(2,h,2,1,"ng-container",6),i.bc(),i.bc()}if(2&t){const t=i.uc(2),e=i.Rc(4);i.Dc("items",t.useableVariables)("showSearch",!0)("handleKeyboard",!0)("autoFocusSearch",!0)("title",t.automationCommonStringsService.fieldsFromTriggerText),i.Ib(1),i.Dc("modifier",t.readonly||t.useableVariables.length&&(!t.selectedOption||null!==(null==t.selectedOption?null:t.selectedOption.info))?null:"cu-automation-field-value-telephone-input__dropdown"),i.Ib(1),i.Dc("ngIf",null==t.selectedOption?null:t.selectedOption.label)("ngIfElse",e)}}function b(t,e){if(1&t&&(i.ac(0),i.bd(1,g,3,8,"cu-dropdown-list",3),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",t.useableVariables.length)}}function f(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-telephone-input",7),i.qc("updateUserCountryCode",function(e){return i.Uc(t),i.uc().updateUserCountryCode(e)})("ngModelChange",function(e){return i.Uc(t),i.uc().valueChange.emit(e)}),i.vc(1,"async"),i.bc()}if(2&t){const t=i.uc();let e=null;i.Dc("ngModel",t.value)("userCountryCode",null==(e=i.wc(1,5,t.user$))?null:e.country_iso_code)("updateOn","input")("showErrorMessage",!0)("placeholder",t.options.placeholder)}}function k(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.ed(t.value)}}function _(t,e){1&t&&(i.ac(0),i.gc(1,8),i.Zb())}let w=(()=>{class t{constructor(t,e){this.automationCommonStringsService=t,this.store=e,this.mappedValueChange=new i.o,this.valueChange=new i.o,this.useableVariables=[],this.user$=this.store.select(o.getUser)}ngOnChanges(t){if(t.variables){this.useableVariables=this.variables.filter(t=>"phone"===t.info.type||"phone"===t.info.format).map(t=>({id:`${t.label}-${t.field_id?t.field_id:t.path?t.path.join("-"):""}`,title:t.label,checked:!!this.mappedValue&&(this.mappedValue&&this.mappedValue.path?Object(s.a)(this.mappedValue.path,t.path):this.mappedValue.field_id===t.field_id),customPayload:t}))||[],this.useableVariables.length&&this.useableVariables.push({id:"custom",title:"Manually enter",checked:!!this.value,customPayload:{label:"Manually enter",info:null}});const t=this.useableVariables.find(t=>t.checked);t&&(this.selectedOption=t.customPayload)}}selectVariable(t){this.selectedOption=t,null!==t.info&&this.mappedValueChange.emit({path:t.path,field_id:t.field_id})}updateUserCountryCode(t){this.store.dispatch(new n.om({country_iso_code:t}))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(c.a),i.Wb(r.Store))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-telephone-input"]],hostAttrs:[1,"cu-automation-field-value-telephone-input"],inputs:{parentType:"parentType",parentId:"parentId",value:"value",readonly:"readonly",options:"options",variables:"variables",mappedValue:"mappedValue"},outputs:{mappedValueChange:"mappedValueChange",valueChange:"valueChange"},features:[i.Gb],decls:5,vars:3,consts:function(){let t;return t=$localize`:@@cu-automation-field-value-telephone-input__dropdown-placeholder_select-phone-number␟5bdab355dfcd95c8a31bb77164305ff2e2e0b1ad␟8438381951597582866:Select Phone number`,[[4,"ngIf"],["class","cu-automation-field-value-telephone-input__value",3,"ngModel","userCountryCode","updateOn","showErrorMessage","placeholder","updateUserCountryCode","ngModelChange",4,"ngIf"],["selectPhoneNumberTmpl",""],[3,"items","showSearch","handleKeyboard","autoFocusSearch","title","onSelect",4,"ngIf"],[3,"items","showSearch","handleKeyboard","autoFocusSearch","title","onSelect"],[3,"modifier"],[4,"ngIf","ngIfElse"],[1,"cu-automation-field-value-telephone-input__value",3,"ngModel","userCountryCode","updateOn","showErrorMessage","placeholder","updateUserCountryCode","ngModelChange"],t]},template:function(t,e){1&t&&(i.bd(0,b,2,1,"ng-container",0),i.bd(1,f,2,7,"cu-telephone-input",1),i.bd(2,k,2,1,"ng-container",0),i.bd(3,_,2,0,"ng-template",null,2,i.cd)),2&t&&(i.Dc("ngIf",!e.readonly),i.Ib(1),i.Dc("ngIf",!e.readonly&&(!e.useableVariables.length||e.selectedOption&&null===(null==e.selectedOption?null:e.selectedOption.info))),i.Ib(1),i.Dc("ngIf",e.readonly))},directives:[l.q,u.a,d.a,p.a,m.p,m.s],pipes:[l.b],styles:[".cu-automation-field-value-telephone-input__dropdown{border-radius:4px 4px 0 0}.cu-automation-field-value-telephone-input__value{margin-top:-1px;display:block}.cu-automation-field-value-telephone-input__value .cu-custom-fields__form-input-group-select{border-radius:0 0 0 4px;margin-right:-1px}.cu-automation-field-value-telephone-input__value .cu-custom-fields__form-input-group-text{border-radius:0 0 4px 0}"],encapsulation:2,changeDetection:0}),t})()},mpBQ:function(t,e,a){"use strict";a.d(e,"a",function(){return E});var i=a("fXoL"),o=a("3Pt+"),n=a("XNiG"),s=a("1G5W"),c=a("Jf2N"),r=a("ofXK"),l=a("Dvla"),u=a("NsZK");function d(t,e){if(1&t&&(i.ac(0),i.cc(1,"div",7),i.gc(2,8),i.bc(),i.cc(3,"div",9),i.cc(4,"div",10),i.cc(5,"label"),i.Xb(6,"input",11),i.cc(7,"div",12),i.gc(8,13),i.vc(9,"lowercase"),i.bc(),i.bc(),i.bc(),i.cc(10,"div",10),i.cc(11,"label"),i.Xb(12,"input",11),i.cc(13,"div",12),i.gc(14,14),i.bc(),i.bc(),i.bc(),i.bc(),i.Zb()),2&t){const t=i.uc();i.Ib(2),i.kc(t.integration.name),i.hc(2),i.Ib(4),i.Dc("value",!1)("checked",!t.hostedIntegrationForm.value.selfHosted),i.Ib(3),i.kc(i.wc(9,7,t.integration.name)),i.hc(8),i.Ib(3),i.Dc("value",!0)("checked",t.hostedIntegrationForm.value.selfHosted),i.Ib(2),i.kc(t.integration.name),i.hc(14)}}function p(t,e){1&t&&(i.ac(0),i.gc(1,31),i.Zb())}function m(t,e){1&t&&(i.ac(0),i.gc(1,32),i.Zb())}function h(t,e){1&t&&(i.ac(0),i.gc(1,33),i.Zb())}function g(t,e){1&t&&(i.ac(0),i.gc(1,34),i.Zb())}const b=function(t){return{"cu-jira-import__form-desc-img_show":t}};function f(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"div",22),i.dd(2," 1. "),i.ac(3),i.mc(4,23),i.Xb(5,"span",24),i.jc(),i.Zb(),i.cc(6,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[1]=!e.showExample[1]}),i.bd(7,p,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(8,"img",27),i.cc(9,"div",22),i.dd(10," 2. "),i.ac(11),i.mc(12,28),i.Xb(13,"span",24),i.jc(),i.Zb(),i.cc(14,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[2]=!e.showExample[2]}),i.bd(15,m,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(16,"img",27),i.cc(17,"div",22),i.dd(18," 3. "),i.ac(19),i.mc(20,29),i.Xb(21,"span",24),i.Xb(22,"span",24),i.Xb(23,"span",24),i.jc(),i.Zb(),i.cc(24,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[3]=!e.showExample[3]}),i.bd(25,h,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(26,"img",27),i.cc(27,"div",22),i.dd(28," 4. "),i.ac(29),i.gc(30,30),i.Zb(),i.cc(31,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[4]=!e.showExample[4]}),i.bd(32,g,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(33,"img",27),i.Zb()}if(2&t){const t=i.uc(2),e=i.Rc(7);i.Ib(7),i.Dc("ngIf",t.showExample[1])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(16,b,t.showExample[1]))("src",t.imgs.gitlab1,i.Xc),i.Ib(7),i.Dc("ngIf",t.showExample[2])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(18,b,t.showExample[2]))("src",t.imgs.gitlab2,i.Xc),i.Ib(9),i.Dc("ngIf",t.showExample[3])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(20,b,t.showExample[3]))("src",t.imgs.gitlab3,i.Xc),i.Ib(6),i.Dc("ngIf",t.showExample[4])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(22,b,t.showExample[4]))("src",t.imgs.gitlab4,i.Xc)}}function k(t,e){1&t&&(i.ac(0),i.gc(1,39),i.Zb())}function _(t,e){1&t&&(i.ac(0),i.gc(1,40),i.Zb())}function w(t,e){1&t&&(i.ac(0),i.gc(1,41),i.Zb())}function v(t,e){1&t&&(i.ac(0),i.gc(1,42),i.Zb())}function y(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"div",22),i.dd(2," 1. "),i.ac(3),i.mc(4,35),i.Xb(5,"span",24),i.jc(),i.Zb(),i.cc(6,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[1]=!e.showExample[1]}),i.bd(7,k,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(8,"img",27),i.cc(9,"div",22),i.dd(10," 2. "),i.ac(11),i.mc(12,36),i.Xb(13,"span",24),i.jc(),i.Zb(),i.cc(14,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[2]=!e.showExample[2]}),i.bd(15,_,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(16,"img",27),i.cc(17,"div",22),i.dd(18," 3. "),i.ac(19),i.mc(20,37),i.Xb(21,"span",24),i.Xb(22,"span",24),i.Xb(23,"span",24),i.jc(),i.Zb(),i.cc(24,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[3]=!e.showExample[3]}),i.bd(25,w,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(26,"img",27),i.cc(27,"div",22),i.dd(28," 4. "),i.ac(29),i.gc(30,38),i.Zb(),i.cc(31,"span",25),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.showExample[4]=!e.showExample[4]}),i.bd(32,v,2,0,"ng-container",26),i.bc(),i.bc(),i.Xb(33,"img",27),i.Zb()}if(2&t){const t=i.uc(2),e=i.Rc(7);i.Ib(7),i.Dc("ngIf",t.showExample[1])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(16,b,t.showExample[1]))("src",t.imgs.bitbucket1,i.Xc),i.Ib(7),i.Dc("ngIf",t.showExample[2])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(18,b,t.showExample[2]))("src",t.imgs.bitbucket2,i.Xc),i.Ib(9),i.Dc("ngIf",t.showExample[3])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(20,b,t.showExample[3]))("src",t.imgs.bitbucket3,i.Xc),i.Ib(6),i.Dc("ngIf",t.showExample[4])("ngIfElse",e),i.Ib(1),i.Dc("ngClass",i.Hc(22,b,t.showExample[4]))("src",t.imgs.bitbucket4,i.Xc)}}function x(t,e){1&t&&(i.cc(0,"div",44),i.cc(1,"div",45),i.Xb(2,"div",46),i.bc(),i.cc(3,"div",47),i.gc(4,48),i.bc(),i.bc())}function T(t,e){1&t&&(i.cc(0,"div",44),i.cc(1,"div",45),i.Xb(2,"div",46),i.bc(),i.cc(3,"div",47),i.gc(4,49),i.bc(),i.bc())}function I(t,e){if(1&t&&(i.cc(0,"div",9),i.cc(1,"div",18),i.Xb(2,"input",43),i.bc(),i.bd(3,x,5,0,"div",20),i.bd(4,T,5,0,"div",20),i.bc()),2&t){const t=i.uc(2);i.Ib(3),i.Dc("ngIf",t.hostedIntegrationForm.controls.hostUrl.touched&&(null==t.hostedIntegrationForm.controls.hostUrl.errors?null:t.hostedIntegrationForm.controls.hostUrl.errors.required)),i.Ib(1),i.Dc("ngIf",t.hostedIntegrationForm.controls.hostUrl.touched&&(null==t.hostedIntegrationForm.controls.hostUrl.errors?null:t.hostedIntegrationForm.controls.hostUrl.errors.validateURL)&&!(null!=t.hostedIntegrationForm.controls.hostUrl.errors&&t.hostedIntegrationForm.controls.hostUrl.errors.required))}}function C(t,e){1&t&&(i.cc(0,"div",44),i.cc(1,"div",45),i.Xb(2,"div",46),i.bc(),i.cc(3,"div",47),i.gc(4,50),i.bc(),i.bc())}function D(t,e){1&t&&(i.cc(0,"div",16),i.cc(1,"div",9),i.cc(2,"div",18),i.Xb(3,"input",51),i.bc(),i.bc(),i.bc())}function S(t,e){1&t&&(i.cc(0,"div",16),i.cc(1,"div",52),i.cc(2,"div",53),i.cc(3,"label",54),i.Xb(4,"input",55),i.cc(5,"span",56),i.gc(6,57),i.bc(),i.bc(),i.bc(),i.bc(),i.bc())}function O(t,e){1&t&&(i.cc(0,"div",16),i.cc(1,"div",52),i.cc(2,"div",53),i.cc(3,"label",54),i.Xb(4,"input",58),i.cc(5,"span",56),i.gc(6,59),i.bc(),i.bc(),i.dd(7," \xa0("),i.cc(8,"span",60),i.dd(9,"54.70.112.216"),i.bc(),i.dd(10,") "),i.bc(),i.bc(),i.bc()),2&t&&(i.Ib(8),i.Dc("cbContent","54.70.112.216"))}function j(t,e){if(1&t&&(i.cc(0,"div",15),i.bd(1,f,34,24,"ng-container",1),i.bd(2,y,34,24,"ng-container",1),i.cc(3,"div",16),i.bd(4,I,5,2,"div",17),i.bc(),i.cc(5,"div",16),i.cc(6,"div",9),i.cc(7,"div",18),i.Xb(8,"input",19),i.bc(),i.bd(9,C,5,0,"div",20),i.bc(),i.bc(),i.bd(10,D,4,0,"div",21),i.bd(11,S,7,0,"div",21),i.bd(12,O,11,1,"div",21),i.bc()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf","Gitlab"===t.integration.name),i.Ib(1),i.Dc("ngIf","Bitbucket"===t.integration.name),i.Ib(2),i.Dc("ngIf",!t.tokenOnly),i.Ib(5),i.Dc("ngIf",t.hostedIntegrationForm.controls.accessToken.touched&&(null==t.hostedIntegrationForm.controls.accessToken.errors?null:t.hostedIntegrationForm.controls.accessToken.errors.required)),i.Ib(1),i.Dc("ngIf",!t.tokenOnly),i.Ib(1),i.Dc("ngIf",!t.tokenOnly),i.Ib(1),i.Dc("ngIf",(null==t.integration?null:t.integration.canBeStaticIp)&&!t.tokenOnly)}}function P(t,e){if(1&t&&(i.ac(0),i.gc(1,62),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.kc(t.integration.name),i.hc(1)}}function A(t,e){1&t&&(i.ac(0),i.dd(1,"Save token"),i.Zb())}function $(t,e){if(1&t&&(i.cc(0,"button",61),i.bd(1,P,2,1,"ng-container",1),i.bd(2,A,2,0,"ng-container",1),i.bc()),2&t){const t=i.uc();i.Dc("disabled",!t.hostedIntegrationForm.valid),i.Ib(1),i.Dc("ngIf",!t.tokenOnly),i.Ib(1),i.Dc("ngIf",t.tokenOnly)}}function R(t,e){if(1&t){const t=i.dc();i.cc(0,"button",63),i.qc("click",function(){return i.Uc(t),i.uc().authenticateWithOauthSelected()}),i.gc(1,64),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.kc(t.integration.name),i.hc(1)}}function F(t,e){1&t&&(i.ac(0),i.gc(1,65),i.Zb())}function M(t){try{return new URL(t.value),null}catch(e){return{validateURL:{valid:!1}}}}let E=(()=>{class t{constructor(t){this.modal=t,this.saveSelfHostedIntegrationConfig=new i.o,this.authenticateWithOauth=new i.o,this.imgs={gitlab1:a("6J8s"),gitlab2:a("1RBQ"),gitlab3:a("riFr"),gitlab4:a("01ug"),bitbucket1:a("gAC4"),bitbucket2:a("tFuv"),bitbucket3:a("P93A"),bitbucket4:a("urSQ")},this.showExample={},this.hostedIntegrationForm=new o.j({selfHosted:new o.g(!1),hostUrl:new o.g(""),accessToken:new o.g(""),hostedSecret:new o.g(""),canonicalUrl:new o.g(""),staticIp:new o.g("")}),this.destroy$=new n.a}ngOnInit(){this.hostedIntegrationForm.controls.selfHosted.valueChanges.pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t?(this.tokenOnly||this.hostedIntegrationForm.controls.hostUrl.setValidators([o.A.required,M]),this.hostedIntegrationForm.controls.accessToken.setValidators(o.A.required)):(this.hostedIntegrationForm.controls.hostUrl.setValidators(null),this.hostedIntegrationForm.controls.accessToken.setValidators(null)),this.hostedIntegrationForm.controls.hostUrl.updateValueAndValidity(),this.hostedIntegrationForm.controls.accessToken.updateValueAndValidity()})}ngOnChanges(t){t.tokenOnly&&this.tokenOnly&&this.hostedIntegrationForm.controls.selfHosted.setValue(!0)}ngOnDestroy(){this.destroy$.next()}saveSelfHostedIntegration(){this.saveSelfHostedIntegrationConfig.emit(Object.assign(Object.assign({},this.hostedIntegrationForm.value),{updateToken:this.updateToken})),this.modal.close()}authenticateWithOauthSelected(){this.authenticateWithOauth.emit(),this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(c.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-version-control-self-hosted-config-modal"]],inputs:{integration:"integration",tokenOnly:"tokenOnly",updateToken:"updateToken"},outputs:{saveSelfHostedIntegrationConfig:"saveSelfHostedIntegrationConfig",authenticateWithOauth:"authenticateWithOauth"},features:[i.Gb],decls:8,vars:5,consts:function(){let t,e,a,o,n,s,c,r,l,u,d,p,m,h,g,b,f,k,_,w,v,y,x,T,I,C,D,S,O,j,P;return t=$localize`:@@cu-version-control-self-hosted-config-modal__header_self-hosted-integration␟1cd7271d0ef0bf8fbf00a54283ca865a84983bee␟1944083355571696409: Do you use a self-hosted version of ${"\ufffd0\ufffd"}:INTERPOLATION:? `,e=$localize`:@@cu-version-control-self-hosted-config-modal__form-label_i-use-dot-com-integration␟1128aed8f0ae3133d2a8352e07997b90b9a07e04␟1092196450780260007: No, I use ${"\ufffd0\ufffd"}:INTERPOLATION:.com `,a=$localize`:@@cu-version-control-self-hosted-config-modal__form-label_i-use-hosted-integration␟5b8c3913d365048fe7076a5a98d11c9d53f334b1␟1824233356642833452: Yes, I use a hosted version of ${"\ufffd0\ufffd"}:INTERPOLATION: `,o=$localize`:@@cu-version-control-self-hosted-config-modal__form-placeholder_access-token␟74719d054dbc4373420f1ebd146fc99a1a7b23ed␟2115913605779119787:Access token`,n=$localize`:@@cu-version-control-self-hosted-config-modal__gitlab_step-1␟c41d2c4edb85a0ff8c7cda4ca5bfcd99b1cfaa0d␟574860731262202719: In your hosted gitlab, go to ${"\ufffd#5\ufffd"}:START_TAG_SPAN:Settings${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN: in the top right dropdown menu `,s=$localize`:@@cu-version-control-self-hosted-config-modal__gitlab_step-2␟591ec0d59fa72b82d1a18beebc88eaf74a2e9f00␟6611162210859837976: Go to ${"\ufffd#13\ufffd"}:START_TAG_SPAN:Access tokens${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN: in the left sidebar `,c=$localize`:@@cu-version-control-self-hosted-config-modal__gitlab_step-3␟508dd30a63841c50c327665aaededf4426b24699␟3416986791785636637: Create a new access token with the ${"[\ufffd#21\ufffd|\ufffd#22\ufffd|\ufffd#23\ufffd]"}:START_TAG_SPAN:api${"[\ufffd/#21\ufffd|\ufffd/#22\ufffd|\ufffd/#23\ufffd]"}:CLOSE_TAG_SPAN: and ${"[\ufffd#21\ufffd|\ufffd#22\ufffd|\ufffd#23\ufffd]"}:START_TAG_SPAN:read_user${"[\ufffd/#21\ufffd|\ufffd/#22\ufffd|\ufffd/#23\ufffd]"}:CLOSE_TAG_SPAN: scopes. Make sure to leave the ${"[\ufffd#21\ufffd|\ufffd#22\ufffd|\ufffd#23\ufffd]"}:START_TAG_SPAN:Expires at${"[\ufffd/#21\ufffd|\ufffd/#22\ufffd|\ufffd/#23\ufffd]"}:CLOSE_TAG_SPAN: field blank. `,c=i.lc(c),r=$localize`:@@cu-version-control-self-hosted-config-modal__gitlab_step-4␟69648448a51d67e1166d304d1d01b8dedf217a59␟9038558294252533293:Copy the personal access token given into clickup`,l=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,u=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,d=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,p=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,m=$localize`:@@cu-version-control-self-hosted-config-modal__bitbucket_step-1␟8c73ccb8bafca49b1e35c0a3e3863d46540be6fc␟1553659490168415618: In your hosted bitbucket, go to ${"\ufffd#5\ufffd"}:START_TAG_SPAN:Manage account${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN: in the top right dropdown menu `,h=$localize`:@@cu-version-control-self-hosted-config-modal__bitbucket_step-2␟e22c50e105eb04167218a421d034ef6f8f4b4686␟4493372244934254605: Go to ${"\ufffd#13\ufffd"}:START_TAG_SPAN:Personal access tokens${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN: in the left sidebar `,g=$localize`:@@cu-version-control-self-hosted-config-modal__bitbucket_step-3␟a04f41d92c5d022d024e77d2c53fa8d6e2417cf0␟404161446252890857: Create a new access token with ${"[\ufffd#21\ufffd|\ufffd#22\ufffd|\ufffd#23\ufffd]"}:START_TAG_SPAN:Admin${"[\ufffd/#21\ufffd|\ufffd/#22\ufffd|\ufffd/#23\ufffd]"}:CLOSE_TAG_SPAN: permissions on ${"[\ufffd#21\ufffd|\ufffd#22\ufffd|\ufffd#23\ufffd]"}:START_TAG_SPAN:Projects${"[\ufffd/#21\ufffd|\ufffd/#22\ufffd|\ufffd/#23\ufffd]"}:CLOSE_TAG_SPAN: and ${"[\ufffd#21\ufffd|\ufffd#22\ufffd|\ufffd#23\ufffd]"}:START_TAG_SPAN:Repositories${"[\ufffd/#21\ufffd|\ufffd/#22\ufffd|\ufffd/#23\ufffd]"}:CLOSE_TAG_SPAN:. `,g=i.lc(g),b=$localize`:@@cu-version-control-self-hosted-config-modal__gitlab_step-4␟69648448a51d67e1166d304d1d01b8dedf217a59␟9038558294252533293:Copy the personal access token given into clickup`,f=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,k=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,_=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,w=$localize`:@@common_hide-example␟c508c7e1e33c0841e0719992dcc50625c7a46c39␟202267733541041393:Hide example`,v=$localize`:@@cu-version-control-self-hosted-config-modal__form-placeholder_host-url␟00acc4d0c4d3e92c20e1f03c835a9375a643331c␟4659667555693233718:Host url`,y=$localize`:@@errors_form-field--url-required␟144c8a0d965199036a4875dcf58df72a131b85ed␟2494648744108734463: URL required! `,x=$localize`:@@errors_form-field--url-invalid-1␟e53b11df9005bd5b10a0c4cd90d730f2e4f81255␟9215519950428503805: Whoops! Not a valid url `,T=$localize`:@@cu-version-control-self-hosted-config-modal__form-error_access-token-required␟6c74bb480872dfcac40641764bae132bffc9e235␟3047236265219461141: Access token required! `,I=$localize`:@@cu-version-control-self-hosted-config-modal__form-placeholder_canonical-url␟a606b9f337c58bb1d8e0e585a011f6ed09da7c28␟2071138248193298284:Canonical Url (Optional)`,C=$localize`:@@cu-version-control-self-hosted-config-modal__form-label_use-hosted-secret␟7eaf958ce4f1765cf020b574df6f2a942981f5b4␟1466174172566033265:Use hosted secret?`,D=$localize`:@@cu-version-control-self-hosted-config-modal__form-label_static-ip␟1d9600393ad91404e532ed60c09a64a90c8c62ac␟432801798667361128:Static IP`,S=$localize`:@@common_click-to-copy␟16f315d85744836b580054b142b5cb2e8919b910␟4137907838636076016:Click to copy`,O=$localize`:@@cu-version-control-self-hosted-config-modal__btn-txt_link-integration␟c4f89f9ae6f4cd1a42988ff2e1133aa7dfb79ef5␟9102479069914499827:Link ${"\ufffd0\ufffd"}:INTERPOLATION:`,j=$localize`:@@cu-version-control-self-hosted-config-modal__btn-txt_link-integration␟e8f1e975fccbbf29aac7bd4437421d4c834954b0␟8617894135593002377: Link ${"\ufffd0\ufffd"}:INTERPOLATION: `,P=$localize`:@@common_see-example␟c0d713d3406d5b483f5a8d9d1e955fa7f90b40b8␟6468801339078354107:See example`,[[3,"formGroup","submit"],[4,"ngIf"],["class","cu-jira-import__form-desc",4,"ngIf"],[1,"cu-form__row","cu-form__row_last","cu-form__row_right"],["class","cu-btn","type","submit",3,"disabled",4,"ngIf"],["class","cu-btn","type","button",3,"click",4,"ngIf"],["seeExampleTmpl",""],[1,"cu-google-calendar__modal-header"],t,[1,"cu-form__row"],[1,"cu-radio","cu-user-settings__radio"],["type","radio","formControlName","selfHosted",1,"cu-radio__input",3,"value","checked"],[1,"cu-radio__label"],e,a,[1,"cu-jira-import__form-desc"],[1,"cu-jira-import__form-container"],["class","cu-form__row",4,"ngIf"],[1,"cu-form__field","cu-jira-import__input"],["type","text","formControlName","accessToken","placeholder",o,1,"cu-form__input"],["class","cu-form__error",4,"ngIf"],["class","cu-jira-import__form-container",4,"ngIf"],[1,"cu-jira-import__form-desc-item"],n,[1,"cu-jira-import__form-desc-pre"],[1,"cu-jira-import__see-example",3,"click"],[4,"ngIf","ngIfElse"],["alt","",1,"cu-jira-import__form-desc-img",3,"ngClass","src"],s,c,r,l,u,d,p,m,h,g,b,f,k,_,w,["type","text","formControlName","hostUrl","placeholder",v,1,"cu-form__input"],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],y,x,T,["type","text","formControlName","canonicalUrl","placeholder",I,1,"cu-form__input"],[1,"cu-form__row","no-border"],[1,"cu-form__field","cu-form__field_no-border"],[1,"checkbox-item","alt-color"],["type","checkbox","formControlName","hostedSecret",1,"cu-form__input","checkbox-item-input"],[1,"checkbox-item-text"],C,["type","checkbox","formControlName","staticIp",1,"cu-form__input","checkbox-item-input"],D,["ngxClipboard","","cuTooltip",S,3,"cbContent"],["type","submit",1,"cu-btn",3,"disabled"],O,["type","button",1,"cu-btn",3,"click"],j,P]},template:function(t,e){1&t&&(i.cc(0,"form",0),i.qc("submit",function(){return e.saveSelfHostedIntegration()}),i.bd(1,d,15,9,"ng-container",1),i.bd(2,j,13,7,"div",2),i.cc(3,"div",3),i.bd(4,$,3,3,"button",4),i.bd(5,R,2,1,"button",5),i.bc(),i.bc(),i.bd(6,F,2,0,"ng-template",null,6,i.cd)),2&t&&(i.Dc("formGroup",e.hostedIntegrationForm),i.Ib(1),i.Dc("ngIf",!e.tokenOnly),i.Ib(1),i.Dc("ngIf",e.hostedIntegrationForm.value.selfHosted),i.Ib(2),i.Dc("ngIf",e.hostedIntegrationForm.value.selfHosted),i.Ib(1),i.Dc("ngIf",!e.hostedIntegrationForm.value.selfHosted))},directives:[o.C,o.q,o.k,r.q,o.w,o.c,o.p,o.i,r.o,o.b,l.a,u.a],pipes:[r.n],encapsulation:2}),t})()},mwt3:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ofXK"),o=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},na8j:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("9jGm"),o=a("Zm52"),n=a("pLZG"),s=a("EQdv"),c=a("fXoL"),r=a("l7P3");let l=(()=>{class t{constructor(t,e){this.action$=t,this.store=e,this.onSuccess$=this.action$.pipe(Object(i.d)(o.C,o.f)),this.deleteAutomationSuccess$=this.action$.pipe(Object(i.d)(o.i)),this.onErrors$=this.action$.pipe(Object(i.d)(o.d,o.A)),this.loading$=this.store.select(s.f.getLoading),this.onShortcutResponse$=this.action$.pipe(Object(i.d)(o.z.type,o.x.type))}getErrorCode(t){return this.onErrors$.pipe(Object(n.a)(e=>e.error.ECODE===t))}createAutomationStart(t){this.store.dispatch(Object(o.e)(t))}updateAutomation(t){this.store.dispatch(Object(o.B)(t))}loadAutomation(t){this.store.dispatch(Object(o.p)({parent:t}))}loadAutomationUsersIfNeeded(t){this.store.dispatch(Object(o.n)({parent:t}))}loadAutomationStatuesIfNeeded(t){this.store.dispatch(Object(o.v)({parent:t}))}loadAutomationStatues(t){this.store.dispatch(Object(o.u)({parent:t}))}setAutomationShortcut(t){this.store.dispatch(Object(o.y)(t))}getStatuses(t){return this.store.select(Object(s.e)(t)).pipe(Object(n.a)(t=>!!t))}getActiveAutomationCount(t,e,a){return this.store.select(Object(s.a)(t,e,a))}getShortcutsForParent(t,e){return this.store.select(Object(s.d)(t,e))}deleteAutomation(t,e){this.store.dispatch(Object(o.h)({parent:e,automationId:t}))}getAutomationsForParent(t,e,a,i){return this.store.select(Object(s.b)(t,e,i,a))}getParent(t,e){return this.store.select(Object(s.c)(t,e))}}return t.\u0275fac=function(e){return new(e||t)(c.nc(i.a),c.nc(r.Store))},t.\u0275prov=c.Sb({token:t,factory:t.\u0275fac}),t})()},oBEc:function(t,e,a){"use strict";a.d(e,"a",function(){return v});var i=a("fXoL"),o=a("uslN"),n=a("ofXK"),s=a("Tgx9"),c=a("ukIH"),r=a("vAZK"),l=a("NsZK"),u=a("UdVN"),d=a("R5AC"),p=a("kVoD");const m=function(t){return{"background-color":t}};function h(t,e){if(1&t){const t=i.dc();i.cc(0,"div",13),i.cc(1,"div",14),i.Xb(2,"div",15),i.cc(3,"div",16),i.dd(4),i.bc(),i.bc(),i.cc(5,"div",17),i.qc("click",function(e){i.Uc(t);const a=i.uc(3);return a.removeTask(e),a.onSelectTask.emit(null)}),i.bc(),i.bc()}if(2&t){const t=i.uc(3);i.Ib(2),i.Ob("milestone",1===(null==t.currentEntry||null==t.currentEntry.task?null:t.currentEntry.task.custom_type)),i.Dc("ngStyle",i.Hc(6,m,null==t.currentEntry||null==t.currentEntry.task||null==t.currentEntry.task.status?null:t.currentEntry.task.status.color)),i.Ib(1),i.Dc("cuTooltip",null==t.currentEntry||null==t.currentEntry.task?null:t.currentEntry.task.name)("tooltipDisabledIfTextNotTruncated",!0),i.Ib(1),i.fd(" ",null==t.currentEntry||null==t.currentEntry.task?null:t.currentEntry.task.name," ")}}function g(t,e){1&t&&(i.cc(0,"div",18),i.Xb(1,"div",19),i.ac(2),i.gc(3,20),i.Zb(),i.bc())}function b(t,e){if(1&t){const t=i.dc();i.cc(0,"div",21),i.qc("click",function(){return i.Uc(t),i.uc(3).pickExistingTask=!1}),i.dd(1," + "),i.ac(2),i.gc(3,22),i.Zb(),i.bc()}}function f(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"cu-time-tracker-task-selector",8),i.qc("onSelectTask",function(e){i.Uc(t);const a=i.uc(2);return a.onSelectTask.emit(e),a.highlightTaskSelector=!1}),i.cc(2,"div",9),i.bd(3,h,6,8,"div",10),i.bd(4,g,4,0,"ng-template",null,11,i.cd),i.bc(),i.bc(),i.bd(6,b,4,0,"div",12),i.Zb()}if(2&t){const t=i.Rc(5),e=i.uc(2);i.Ib(1),i.Ob("highlighted",e.highlightTaskSelector),i.Dc("defaultProject",e.defaultProject)("team",e.team),i.Ib(1),i.Ob("rounded",null==e.currentEntry?null:e.currentEntry.task),i.Ib(1),i.Dc("ngIf",null==e.currentEntry?null:e.currentEntry.task)("ngIfElse",t),i.Ib(3),i.Dc("ngIf",!(null!=e.currentEntry&&e.currentEntry.task))}}function k(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-time-tracker-create-task",23),i.qc("onClose",function(){return i.Uc(t),i.uc(2).pickExistingTask=!0})("onSelect",function(e){i.Uc(t);const a=i.uc(2);return a.onCreateTask.emit(e),a.pickExistingTask=!0}),i.bc()}if(2&t){const t=i.uc(2);i.Dc("defaultProject",t.defaultProject)}}function _(t,e){if(1&t&&(i.cc(0,"div",5),i.bd(1,f,7,9,"ng-container",6),i.bd(2,k,1,1,"ng-template",null,7,i.cd),i.bc()),2&t){const t=i.Rc(3),e=i.uc();i.Ib(1),i.Dc("ngIf",e.pickExistingTask)("ngIfElse",t)}}function w(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-time-tracker-description",24),i.qc("onDescriptionChange",function(e){return i.Uc(t),i.uc().onDescriptionChange.emit(e)})("onShowPaywall",function(){return i.Uc(t),i.uc().onShowPaywall.emit()}),i.bc()}if(2&t){const t=i.uc();i.Dc("description",null==t.currentEntry?null:t.currentEntry.description)("team",t.team)}}let v=(()=>{class t{constructor(){this.showDescription=!1,this.showTags=!1,this.highlightTaskSelector=!1,this.pickExistingTask=!0,this.TeamPlan=o.f,this.smallVersion=!1,this.showManualTime=!1,this.allowAddManual=!1,this.onSelectTask=new i.o,this.onCreateTask=new i.o,this.onDescriptionChange=new i.o,this.onToggleManual=new i.o,this.onTimeTrackerAction=new i.o,this.onOnUpdateEntry=new i.o,this.onShowPaywall=new i.o,this.onReposition=new i.o}ngOnInit(){}removeTask(t){t.preventDefault(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-time-tracker-current-editor"]],inputs:{defaultProject:"defaultProject",currentEntry:"currentEntry",currentDuration:"currentDuration",taskId:"taskId",tags:"tags",smallVersion:"smallVersion",showManualTime:"showManualTime",allowAddManual:"allowAddManual",team:"team",isFloatContainer:"isFloatContainer"},outputs:{onSelectTask:"onSelectTask",onCreateTask:"onCreateTask",onDescriptionChange:"onDescriptionChange",onToggleManual:"onToggleManual",onTimeTrackerAction:"onTimeTrackerAction",onOnUpdateEntry:"onOnUpdateEntry",onShowPaywall:"onShowPaywall",onReposition:"onReposition"},decls:5,vars:17,consts:function(){let t,e;return t=$localize`:@@common_select-task␟89db4b51bde3178c30774348f5e072ae6c7ce120␟5565713560441025111:Select task...`,e=$localize`:@@common_new-task␟e5b7e434276c9f1b0262feaa80db57c871f16053␟1315476018548197144:New task`,[["class","cu-time-tracker-current-editor__task",4,"ngIf"],["class","cu-time-tracker__input",3,"description","team","onDescriptionChange","onShowPaywall",4,"ngIf"],[1,"cu-time-tracker-tags",3,"hidden","tags","currentEntry","useAltTagsIcon","altTagsIcon","onTimeTrackerAction","onToggle","onReposition"],["timeTrackerTags",""],[3,"currentDuration","currentEntry","modifier","smallVersion","showManualTime","allowAddManual","isFloatContainer","team","taskId","disabled","onToggleDescription","onToggleTags","onTimeTrackerAction","onOnUpdateEntry","onToggleManual","onShowPaywall","onHighlightSelector"],[1,"cu-time-tracker-current-editor__task"],[4,"ngIf","ngIfElse"],["createNewTask",""],[1,"cu-time-tracker-current-editor__selector",3,"defaultProject","team","onSelectTask"],[1,"cu-time-tracker-task-selector__input"],["class","cu-time-tracker-task-selector__task-container",4,"ngIf","ngIfElse"],["noTask",""],["class","cu-time-tracker__input cu-time-tracker-current-editor__new",3,"click",4,"ngIf"],[1,"cu-time-tracker-task-selector__task-container"],[1,"cu-time-tracker-task-selector__task"],[1,"cu-time-tracker-task-selector__task-status",3,"ngStyle"],[1,"cu-time-tracker-task-selector__task-name",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["icon","cu2-times",1,"cu-time-tracker-task-selector__remove",3,"click"],[1,"cu-time-tracker-task-selector__input-placeholder"],["icon","tt-select-task"],t,[1,"cu-time-tracker__input","cu-time-tracker-current-editor__new",3,"click"],e,[1,"cu-time-tracker__input",3,"defaultProject","onClose","onSelect"],[1,"cu-time-tracker__input",3,"description","team","onDescriptionChange","onShowPaywall"]]},template:function(t,e){if(1&t){const t=i.dc();i.bd(0,_,4,2,"div",0),i.bd(1,w,1,2,"cu-time-tracker-description",1),i.cc(2,"cu-time-tracker-tags",2,3),i.qc("onTimeTrackerAction",function(t){return e.onTimeTrackerAction.emit(t)})("onToggle",function(){return e.showTags=!e.showTags})("onReposition",function(){return e.onReposition.emit()}),i.bc(),i.cc(4,"cu-time-tracker-timer",4),i.qc("onToggleDescription",function(){return e.showDescription=!e.showDescription})("onToggleTags",function(){i.Uc(t);const a=i.Rc(3);return e.showTags=!e.showTags,a.openTagsModal()})("onTimeTrackerAction",function(t){return e.onTimeTrackerAction.emit(t)})("onOnUpdateEntry",function(t){return e.onOnUpdateEntry.emit(t)})("onToggleManual",function(){return e.onToggleManual.emit()})("onShowPaywall",function(){return e.onShowPaywall.emit()})("onHighlightSelector",function(){return e.highlightTaskSelector=!0}),i.bc()}2&t&&(i.Dc("ngIf",!e.taskId&&!e.smallVersion),i.Ib(1),i.Dc("ngIf",!e.smallVersion&&e.team.plan_id!==e.TeamPlan.FREE&&e.team.plan_id!==e.TeamPlan.UNLIMITED),i.Ib(1),i.Dc("hidden",!(null!=e.currentEntry&&null!=e.currentEntry.tags&&e.currentEntry.tags.length&&!e.smallVersion))("tags",e.tags)("currentEntry",e.currentEntry)("useAltTagsIcon",!0)("altTagsIcon","cu2-edit"),i.Ib(2),i.Dc("currentDuration",e.currentDuration)("currentEntry",e.currentEntry)("modifier","current")("smallVersion",e.smallVersion)("showManualTime",e.showManualTime)("allowAddManual",e.allowAddManual)("isFloatContainer",e.isFloatContainer)("team",e.team)("taskId",e.taskId)("disabled",e.isFloatContainer&&!(null!=e.currentEntry&&e.currentEntry.task)&&((null==e.team?null:e.team.plan_id)===e.TeamPlan.FREE||(null==e.team?null:e.team.plan_id)===e.TeamPlan.UNLIMITED)))},directives:[n.q,s.a,c.a,r.a,n.t,l.a,u.a,d.a,p.a],styles:['.cu-time-tracker-current-editor__input{display:block;width:100%;padding:5px;margin-bottom:10px;border-radius:5px;border:1px solid #e4e4e4}.cu-time-tracker-current-editor__input .cu-tags-view__icon{display:flex}.cu-time-tracker-current-editor__task{display:flex;align-items:center;justify-content:space-between;max-width:312px}.cu-time-tracker-current-editor__selector{flex:1 0 0;max-width:312px}.cu-time-tracker__input.cu-time-tracker-current-editor__new{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:13px;line-height:1;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;width:110px;cursor:pointer;border-radius:0 6px 6px 0;position:relative;padding:12px 10px 10px 20px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker__input.cu-time-tracker-current-editor__new{font-family:var(--global-font-support)}}.cu-time-tracker__input.cu-time-tracker-current-editor__new:before{content:"";position:absolute;width:1px;height:16px;top:11px;left:2px;background:#fff;opacity:.2}.cu-time-tracker__input.cu-time-tracker-current-editor__new:hover{color:#fff}'],encapsulation:2,changeDetection:0}),t})()},oWS0:function(t,e,a){"use strict";a.d(e,"a",function(){return b});var i=a("fXoL"),o=a("Muja"),n=a("69Fr"),s=a("ofXK"),c=a("O5gs"),r=a("sgkU"),l=a("3Pt+");function u(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(3);i.Ib(1),i.ed(null==t.selectedOption?null:t.selectedOption.label)}}function d(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-dropdown-list",3),i.qc("onSelect",function(e){return i.Uc(t),i.uc(2).selectVariable(e.customPayload)}),i.cc(1,"cu-edit-automation-dropdown"),i.bd(2,u,2,1,"ng-container",4),i.bc(),i.bc()}if(2&t){const t=i.uc(2),e=i.Rc(4);i.Dc("items",t.useableVariables)("showSearch",!0)("handleKeyboard",!0)("autoFocusSearch",!0)("title",t.automationCommonStringsService.fieldsFromTriggerText),i.Ib(2),i.Dc("ngIf",null==t.selectedOption?null:t.selectedOption.label)("ngIfElse",e)}}function p(t,e){if(1&t&&(i.ac(0),i.bd(1,d,3,7,"cu-dropdown-list",2),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",t.useableVariables.length)}}function m(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"div",5),i.cc(2,"input",6),i.qc("ngModelChange",function(e){return i.Uc(t),i.uc().fieldValue=e})("ngModelChange",function(){i.Uc(t);const e=i.uc();return e.setValue(e.fieldValue)}),i.bc(),i.Xb(3,"span",7),i.bc(),i.Zb()}if(2&t){const t=i.uc();i.Ib(2),i.Dc("ngModel",t.fieldValue)}}function h(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.ed((null==t.selectedOption?null:t.selectedOption.label)||t.value)}}function g(t,e){1&t&&(i.ac(0),i.gc(1,8),i.Zb())}let b=(()=>{class t{constructor(t){this.automationCommonStringsService=t,this.mappedValueChange=new i.o,this.valueChange=new i.o,this.useableVariables=[]}set value(t){this.fieldValue=t}ngOnChanges(t){if(t.variables){this.useableVariables=this.variables.filter(t=>"boolean"===t.info.type&&[void 0,null].includes(t.info.format)).map(t=>({id:`${t.label}-${t.field_id?t.field_id:t.path?t.path.join("-"):""}`,title:t.label,checked:!!this.mappedValue&&(this.mappedValue&&this.mappedValue.path?Object(o.a)(this.mappedValue.path,t.path):this.mappedValue.field_id===t.field_id),customPayload:t}))||[],this.useableVariables.length&&this.useableVariables.push({id:"custom",title:"Manually enter",checked:!!this.value,customPayload:{label:"Manually enter",info:null}});const t=this.useableVariables.find(t=>t.checked);t&&(this.selectedOption=t.customPayload)}}selectVariable(t){this.selectedOption=t,null!==t.info&&this.mappedValueChange.emit({path:t.path,field_id:t.field_id})}setValue(t){this.fieldValue=t,this.valueChange.emit(void 0!==t?t:void 0)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(n.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value-boolean"]],hostAttrs:[1,"cu-automation-field-value-boolean"],inputs:{value:"value",readonly:"readonly",mappedValue:"mappedValue",variables:"variables"},outputs:{mappedValueChange:"mappedValueChange",valueChange:"valueChange"},features:[i.Gb],decls:5,vars:3,consts:function(){let t;return t=$localize`:@@cu-automation-field-value-boolean__dropdown-placeholder_select-boolean␟765c2c87cb57573481cbee0d611baef423ff84cd␟7111589045360310314:Select boolean`,[[4,"ngIf"],["selectBooleanTmpl",""],[3,"items","showSearch","handleKeyboard","autoFocusSearch","title","onSelect",4,"ngIf"],[3,"items","showSearch","handleKeyboard","autoFocusSearch","title","onSelect"],[4,"ngIf","ngIfElse"],[1,"cu-automation-field-value-boolean_checkbox"],["type","checkbox","placement","auto",3,"ngModel","ngModelChange"],[1,"cu-automation-field-value-boolean_checkbox-checkmark"],t]},template:function(t,e){1&t&&(i.bd(0,p,2,1,"ng-container",0),i.bd(1,m,4,1,"ng-container",0),i.bd(2,h,2,1,"ng-container",0),i.bd(3,g,2,0,"ng-template",null,1,i.cd)),2&t&&(i.Dc("ngIf",!e.readonly),i.Ib(1),i.Dc("ngIf",!e.readonly&&(!e.useableVariables.length||e.selectedOption&&null===(null==e.selectedOption?null:e.selectedOption.info))),i.Ib(1),i.Dc("ngIf",e.readonly))},directives:[s.q,c.a,r.a,l.b,l.p,l.s],styles:['.cu-automation-field-value-boolean_checkbox{margin-top:1px;min-width:0;display:block;position:relative;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding:0;width:14px;height:14px}.cu-automation-field-value-boolean_checkbox input{position:absolute;opacity:0;cursor:pointer;border:0;margin:0;z-index:1;width:14px;height:14px}.cu-automation-field-value-boolean_checkbox .cu-automation-field-value-boolean_checkbox-checkmark{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;top:50%;transform:translateY(-50%);left:0;height:14px;width:14px;background-color:#e4e4e4;border-radius:2px}.dark-theme .cu-automation-field-value-boolean_checkbox .cu-automation-field-value-boolean_checkbox-checkmark{background-color:#1e272e}.cu-automation-field-value-boolean_checkbox input:checked~.cu-automation-field-value-boolean_checkbox-checkmark{background-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-boolean_checkbox input:checked~.cu-automation-field-value-boolean_checkbox-checkmark{background-color:var(--theme-main-color)}}.dark-theme .cu-automation-field-value-boolean_checkbox input:checked~.cu-automation-field-value-boolean_checkbox-checkmark{background-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-automation-field-value-boolean_checkbox input:checked~.cu-automation-field-value-boolean_checkbox-checkmark{background-color:var(--theme-main-color)}}.cu-automation-field-value-boolean_checkbox .cu-automation-field-value-boolean_checkbox-checkmark:after{content:"";position:absolute;display:none}.cu-automation-field-value-boolean_checkbox input:checked~.cu-automation-field-value-boolean_checkbox-checkmark:after{display:block}.cu-automation-field-value-boolean_checkbox .cu-automation-field-value-boolean_checkbox-checkmark:after{left:5px;top:2px;width:5px;height:8px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg)}'],encapsulation:2,changeDetection:0}),t})()},"p/+J":function(t,e,a){"use strict";a.d(e,"a",function(){return T});var i=a("fXoL"),o=a("jJQC"),n=a("VrOs"),s=a("p1wf"),c=a("ofXK"),r=a("vVjD"),l=a("O+Lq"),u=a("UdVN"),d=a("NsZK");const p=function(){return{}};function m(t,e){if(1&t){const t=i.dc();i.cc(0,"div",2),i.cc(1,"cu-automation-field-value",3),i.qc("valueInvalid",function(e){return i.Uc(t),i.uc(2).valueInvalid.emit(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc(2);i.Dc("ngClass","cu-edit-automation__container-body-actions-row_"+(null==t.automationAction[0]?null:t.automationAction[0].type)),i.Ib(1),i.Dc("action",t.action)("actions",t.actions)("parentType",t.parentType)("parentId",t.parentId)("value",t.action.inputValues)("component",null==t.automationAction[0]?null:t.automationAction[0].component)("options",(null==t.automationAction[0]?null:t.automationAction[0].componentOptions)||i.Gc(14,p))("isAction",!0)("variables",t.mappedVariables)("mappedValue",t.action.mappedInputValues)("automationResource",t.resource)("readonly",t.readonly)("forSummary",t.readonly)}}function h(t,e){if(1&t&&(i.ac(0),i.bd(1,m,2,15,"div",1),i.Zb()),2&t){const t=i.uc();i.Ib(1),i.Dc("ngIf",!t.autoActionInput)}}function g(t,e){if(1&t){const t=i.dc();i.ac(0),i.cc(1,"div",2),i.cc(2,"cu-automation-field-action",6),i.qc("valueChange",function(e){i.Uc(t);const a=i.uc(2);return a.setActionInputValues(a.action.id,e)})("mappedValueChange",function(e){i.Uc(t);const a=i.uc(2);return a.setActionInputMappedValues(a.action.id,e)})("interpolatedInputChange",function(e){i.Uc(t);const a=i.uc(2);return a.setActionMappedInterpolatedInputValues(a.action.id,e)})("valueInvalid",function(e){return i.Uc(t),i.uc(2).valueInvalid.emit(e)}),i.bc(),i.bc(),i.Zb()}if(2&t){const t=i.uc(2);i.Ib(1),i.Dc("ngClass","cu-edit-automation__container-body-actions-row_"+(null==t.automationAction[0]?null:t.automationAction[0].type)),i.Ib(1),i.Dc("value",t.action.inputValues)("action",t.action)("actions",t.actions)("resource",t.action.resource)("parentType",t.parentType)("parentId",t.parentId)("automationAction",t.automationAction[0])("variables",t.mappedVariables)("mappedValue",t.action.mappedInputValues)("interpolatedValue",t.action.interpolatedInput)("automationResource",t.resource)("isAction",!0)}}function b(t,e){if(1&t&&i.Xb(0,"div",12),2&t){const t=i.uc(4).$implicit;i.Ec("icon",null==t.componentOptions?null:t.componentOptions.icon)}}function f(t,e){if(1&t&&i.Xb(0,"div",13),2&t){const t=i.uc(4).$implicit;i.Dc("cuTooltip",t.description)}}function k(t,e){if(1&t&&(i.cc(0,"div"),i.bd(1,b,1,1,"div",10),i.dd(2),i.bd(3,f,1,1,"div",11),i.bc()),2&t){const t=i.uc(3).$implicit;i.Mb("cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_",t.title,""),i.Ib(1),i.Dc("ngIf",null==t.componentOptions?null:t.componentOptions.icon),i.Ib(1),i.gd(" ",t.title,": ",t.require&&!t.readonly?"*":""," "),i.Ib(1),i.Dc("ngIf",t.description)}}function _(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.bd(1,k,4,7,"div",8),i.cc(2,"cu-automation-field-action",9),i.qc("valueChange",function(e){i.Uc(t);const a=i.uc(2).$implicit,o=i.uc(3);return o.setActionInputValue(o.action.id,a.type,e,a.selfEmit)})("mappedValueChange",function(e){i.Uc(t);const a=i.uc(2).$implicit,o=i.uc(3);return o.setActionMappedInputValue(o.action.id,a.type,e,a.selfEmit)})("interpolatedInputChange",function(e){i.Uc(t);const a=i.uc(2).$implicit,o=i.uc(3);return o.setActionMappedInterpolatedInputValue(o.action.id,a.type,e,a.selfEmit)})("valueInvalid",function(e){return i.Uc(t),i.uc(5).valueInvalid.emit(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc(2).$implicit,e=i.uc(3);i.Mb("cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row_multiline-labels cu-edit-automation__container-body-actions-row-",null==e.action||null==e.action.action?null:e.action.action.key,""),i.Ib(1),i.Dc("ngIf",t.title&&!t.selfEmit),i.Ib(1),i.Mb("cu-automation-field-value_stretch cu-automation-field-value_stretch_",t.title,""),i.Dc("action",e.action)("actions",e.actions)("resource",e.action.resource)("parentType",e.parentType)("readonly",t.readonly)("parentId",e.parentId)("value",e.action.inputValues[t.type])("automationResource",e.resource)("automationAction",t)("variables",e.mappedVariables)("mappedValue",e.action.mappedInputValues[t.type])("isAction",!0)("interpolatedValue",e.action.interpolatedInput[t.type])}}function w(t,e){if(1&t&&(i.ac(0),i.bd(1,_,3,20,"div",8),i.Zb()),2&t){const t=i.uc().$implicit;i.Ib(1),i.Dc("ngIf",!t.hidden)}}function v(t,e){if(1&t&&(i.ac(0),i.bd(1,w,2,1,"ng-container",0),i.Zb()),2&t){const t=e.$implicit;i.Ib(1),i.Dc("ngIf",t.component)}}function y(t,e){if(1&t&&i.bd(0,v,2,1,"ng-container",7),2&t){const t=i.uc(2);i.Dc("ngForOf",t.automationAction)("ngForTrackBy",t.trackByType)}}function x(t,e){if(1&t&&(i.ac(0),i.bd(1,g,3,13,"ng-container",4),i.bd(2,y,1,2,"ng-template",null,5,i.cd),i.Zb()),2&t){const t=i.Rc(3),e=i.uc();i.Ib(1),i.Dc("ngIf",!e.autoActionInput)("ngIfElse",t)}}let T=(()=>{class t{constructor(t,e){this.automationStrategies=t,this.defaultResourceMapper=e,this.noMappingVariables=!1,this.interpolatedInputChange=new i.o,this.mappedValueChange=new i.o,this.valueChange=new i.o,this.valueInvalid=new i.o,this.automationAction=[],this.trackByType=Object(o.d)("type"),this.autoActionInput=!1,this.mappedVariables=[]}ngOnChanges(t){if(t.variables)if(this.variables)if(this.noMappingVariables)this.mappedVariables=[...this.variables];else{const t=this.automationStrategies.getStrategy(this.resource.key),e=t&&t.removeActionVariableFromStrategy&&!this.noMappingVariables?t.removeActionVariableFromStrategy(this.action.action,this.trigger.schema,this.resource,this.variables):this.variables;this.mappedVariables=[...e?this.defaultResourceMapper.mapTriggerSchemasToVariables(e):[],...t&&t.getAdditionalVariable?t.getAdditionalVariable(this.variables,this.parentId,this.parentType):[]]}else this.mappedVariables=[];if(t.action&&this.action.action&&this.action.resource)this.updateActionComponent(this.action.resource.key,this.action.action);else if((t.action||t.shortcut)&&this.shortcut){this.automationAction=[];const t=this.automationStrategies.getStrategy(this.action.resource.key);if(t&&t.getActionsComponentOverride){const e=t.getActionsComponentOverride({key:this.shortcut,schema:{type:"object"},display:{title:this.shortcut}});if(e)return this.action=Object.assign(Object.assign({},this.action),{action:{key:this.shortcut,schema:e.schema,display:{title:e.title||this.shortcut}}}),void this.automationAction.push(e)}const e=this.defaultResourceMapper.getShortcutComponent(this.shortcut,this.action.resource.key);this.action=Object.assign(Object.assign({},this.action),{action:{key:this.shortcut,schema:e.schema,display:{title:e.title||this.shortcut}}}),this.automationAction.push(e)}}updateActionComponent(t,e){this.automationAction=[];const a=this.automationStrategies.getStrategy(t);if(a&&a.getActionsComponentOverride){const t=a.getActionsComponentOverride(e);if(t)return void this.automationAction.push(t)}if(this.autoActionInput=!0,this.action.action&&this.action.action.schema&&(this.action.action.schema.properties||this.action.action.schema.items)){const t=this.action.action.schema.properties||this.action.action.schema.items;this.automationAction.push(...Object.keys(t).map(e=>{const i=!!this.action.action.schema.required&&this.action.action.schema.required.includes(e);if(a&&a.getActionsInputComponentOverride){const o=a.getActionsInputComponentOverride({key:e,schema:t[e]},Array.isArray(this.action.action.key)?this.action.action.key[0]:this.action.action.key);if(o&&o.component)return Object.assign(Object.assign({},o),{require:i,readonly:t[e].readonly});const n=this.defaultResourceMapper.getActionInputComponent(e,t[e],this.action.resource.key,this.dynamicValues);return o&&!o.component?Object.assign(Object.assign(Object.assign({},n),o),{readonly:t[e].readonly,description:t[e].description,baseProperty:t[e],require:i}):Object.assign(Object.assign({},n),{description:t[e].description,baseProperty:t[e],readonly:t[e].readonly,require:i})}return Object.assign(Object.assign({},this.defaultResourceMapper.getActionInputComponent(e,t[e],this.action.resource.key,this.dynamicValues)),{description:t[e].description,baseProperty:t[e],readonly:t[e].readonly,require:i})}).filter(t=>!!t))}else{const t=Array.isArray(this.action.action.key)?this.action.action.key[0]:this.action.action.key,e=!!this.action.action.schema.required&&this.action.action.schema.required.includes(t);if(a&&a.getActionsInputComponentOverride){const i=a.getActionsInputComponentOverride({key:t,schema:this.action.action.schema},Array.isArray(this.action.action.key)?this.action.action.key[0]:this.action.action.key);i&&i.component&&this.automationAction.push(Object.assign(Object.assign({},i),{require:e}));const o=this.defaultResourceMapper.getActionInputComponent(t,this.action.action.schema,this.action.resource.key,this.dynamicValues);return i&&!i.component&&this.automationAction.push(Object.assign(Object.assign(Object.assign({},o),i),{description:"",require:e})),o}this.automationAction.push(Object.assign(Object.assign({},this.defaultResourceMapper.getActionInputComponent(t,this.action.action.schema,this.action.resource.key,this.dynamicValues)),{description:"",require:e}))}}setActionInputValues(t,e){this.valueChange.emit({actionId:t,value:e})}setActionInputMappedValues(t,e){this.mappedValueChange.emit({actionId:t,value:e})}setActionInputValue(t,e,a,i=!1){this.valueChange.emit({actionId:t,key:e,value:a,selfEmitValue:i})}setActionMappedInputValue(t,e,a,i=!1){this.mappedValueChange.emit({actionId:t,key:e,value:a,selfEmitValue:i})}setActionMappedInterpolatedInputValue(t,e,a,i=!1){this.interpolatedInputChange.emit({actionId:t,key:e,value:a,selfEmitValue:i})}setActionMappedInterpolatedInputValues(t,e){this.interpolatedInputChange.emit({actionId:t,value:e})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(n.d),i.Wb(s.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-schema-automation-field"]],inputs:{action:"action",trigger:"trigger",dynamicValues:"dynamicValues",parentType:"parentType",parentId:"parentId",resource:"resource",shortcut:"shortcut",readonly:"readonly",noMappingVariables:"noMappingVariables",actions:"actions",variables:"variables"},outputs:{interpolatedInputChange:"interpolatedInputChange",mappedValueChange:"mappedValueChange",valueChange:"valueChange",valueInvalid:"valueInvalid"},features:[i.Gb],decls:2,vars:2,consts:[[4,"ngIf"],["class","cu-edit-automation__container-body-actions-row",3,"ngClass",4,"ngIf"],[1,"cu-edit-automation__container-body-actions-row",3,"ngClass"],[1,"cu-automation-field-value_stretch",3,"action","actions","parentType","parentId","value","component","options","isAction","variables","mappedValue","automationResource","readonly","forSummary","valueInvalid"],[4,"ngIf","ngIfElse"],["autoInputs",""],[1,"cu-automation-field-value_stretch",3,"value","action","actions","resource","parentType","parentId","automationAction","variables","mappedValue","interpolatedValue","automationResource","isAction","valueChange","mappedValueChange","interpolatedInputChange","valueInvalid"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"class",4,"ngIf"],[3,"action","actions","resource","parentType","readonly","parentId","value","automationResource","automationAction","variables","mappedValue","isAction","interpolatedValue","valueChange","mappedValueChange","interpolatedInputChange","valueInvalid"],["class","cu-edit-automation__container-body-actions-label-icon",3,"icon",4,"ngIf"],["class","cu-edit-automation__container-body-actions-label-question","icon","question","tooltipLifeTime","15000",3,"cuTooltip",4,"ngIf"],[1,"cu-edit-automation__container-body-actions-label-icon",3,"icon"],["icon","question","tooltipLifeTime","15000",1,"cu-edit-automation__container-body-actions-label-question",3,"cuTooltip"]],template:function(t,e){1&t&&(i.bd(0,h,2,1,"ng-container",0),i.bd(1,x,4,2,"ng-container",0)),2&t&&(i.Dc("ngIf",e.readonly),i.Ib(1),i.Dc("ngIf",!e.readonly))},directives:[c.q,c.o,r.a,l.a,c.p,u.a,d.a],encapsulation:2,changeDetection:0}),t})()},p1wf:function(t,e,a){"use strict";a.d(e,"a",function(){return f});var i=a("6tVf"),o=a("8oza"),n=a("mo19"),s=a("5pjS"),c=a("9esB"),r=a("4UZP"),l=a("oWS0"),u=a("DU6r"),d=a("pd24"),p=a("0v7y"),m=a("Zss7"),h=a("5NnS"),g=a("fXoL"),b=a("VrOs");let f=(()=>{class t{constructor(t){this.strategies=t}getCatalogItem(t){const e=this.strategies.getStrategy(t.key);return{resource:t.key,label:t.display.label,icon:e&&e.icon?e.icon:t.display.icon?{resource:t.display.icon,type:"url"}:{resource:t.key,type:"icon"},colors:e&&e.colors?e.colors:t.display?{main:t.display.color,faded:t.display.color?m(t.display.color).lighten().toHex():null}:void 0,strokeIcon:(null==e?void 0:e.strokeIcon)||!1,actions:t.actions,triggers:t.triggers,internal:t.internal}}getResourceIcon(t){return t.display.icon?{color:null,icon:{type:"url",resource:t.display.icon},label:t.display.label}:{color:null,icon:{type:"icon",resource:t.key},label:t.display.label}}mapTriggerSchemasToVariables(t){const e=(t,a,i=[])=>Object.keys(a).reduce((t,o)=>{const n=a[o],s=[...i,o];return n&&"object"===n.type?[...e(t,n.properties,s)]:n?[...t,{label:n.title||o,path:[...s],info:{type:n.type||"string",format:n.format}}]:t},t);return e([],t.properties)}remapResource(t){return Object.assign(Object.assign({},t),{actions:t.actions.map(t=>{if(t.schema&&t.schema.properties){const e=Object.keys(t.schema.properties).filter(e=>{const a=t.schema.properties[e];return a.format&&"datetime"===a.format&&e.endsWith("_time")&&!!t.schema.properties[e.replace("_time","")]});t.schema.properties.days_from_now&&e.push("days_from_now");const a=Object.assign({},t.schema.properties);return e.forEach(t=>delete a[t]),Object.assign(Object.assign({},t),{schema:Object.assign(Object.assign({},t.schema),{properties:Object.assign({},a)})})}return t})})}mapConditionOperators(t){return{eq:{id:"eq",label:"is equal to"},not:{id:"not",label:"is not equal to"},any:{id:"any",label:"is any of"},all:{id:"all",label:"is all of"},"not any":{id:"not any",label:"is not any of"},"not all":{id:"not all",label:"is not all of"},lt:{id:"lt",label:"is less than"},gt:{id:"gt",label:"is greater than"},lte:{id:"lte",label:"is less than or equal to"},gte:{id:"gte",label:"is greater than or equal to"}}[t]||{id:t,label:t}}getShortcutComponent(t,e){return{resource:e,type:t,component:u.a}}getActionInputComponent(t,e,a,i){if("auth"!==t&&!e.hidden){if(e){if(e.dynamic)return this.generateDynamicField(t,e,a,i);if(e.enum)return this.generateEnumComponent(t,e,a);if(e.format)return this.automationFormatComponent(t,e,a)||this.standardInputField(t,e,a);if("array"===e.type)return this.arrayInputField(t,e,a,i);if("object"===e.type)return this.objectInputField(t,e,a,i);if("number"===e.type)return this.numberInputField(t,e,a);if("boolean"===e.type)return this.booleanInputField(t,e,a);if("date"===e.type||"datetime"===e.type)return this.dateInputField(t,e,a)}return this.standardInputField(t,e,a)}}generateDynamicField(t,e,a,i){const o={type:t,title:e.title||t,resource:a,component:r.a,componentOptions:{requiredProps:[],key:t,resourceKey:a,dynamicKey:e.dynamic,dynamicValues:i}};return i[e.dynamic]?Object.assign(Object.assign({},o),{title:i[e.dynamic].title||o.title,componentOptions:Object.assign(Object.assign({},o.componentOptions),{requiredProps:i[e.dynamic].required?i[e.dynamic].required:[]})}):o}standardInputField(t,e,a){return{type:t,resource:a,title:e.title||t,component:s.a,componentOptions:{placeholder:e.title,useVariables:!0}}}objectInputField(t,e,a,i){return{type:t,resource:a,title:e.title||t,component:p.a,componentOptions:{propertyDetails:e,key:t,dynamicValues:i}}}arrayInputField(t,e,a,i){return{type:t,resource:a,title:e.title||t,component:d.a,componentOptions:{items:e.items,key:t,dynamicValues:i}}}numberInputField(t,e,a){return{type:t,resource:a,title:e.title||t,component:c.a,componentOptions:{forDueDate:t.includes("due"),forStartDate:t.includes("start")}}}booleanInputField(t,e,a){return{type:t,resource:a,title:e.title||t,component:l.a}}dateInputField(t,e,a){return{type:t,resource:a,title:e.title||t,component:o.a,componentOptions:{placeholder:e.title,type:t.includes("due")?"due":"start"}}}automationFormatComponent(t,e,a){return{datetime:this.dateInputField(t,e,a),phone:{type:t,resource:a,title:e.title||t,component:n.a,componentOptions:{placeholder:e.title}},url:{type:t,resource:a,title:e.title||t,component:s.a,componentOptions:{placeholder:e.title}},duration:{type:t,resource:a,title:e.title||t,component:h.a,componentOptions:{placeholder:e.title}},email:{type:t,resource:a,title:e.title||t,component:s.a,componentOptions:{placeholder:e.title,useVariables:!0,email:!0}}}[e.format]}generateEnumComponent(t,e,a){const o=e.enum.map(t=>"string"==typeof t?{id:t,title:t}:"object"==typeof t?{id:t.value,title:t.text}:void 0);return{type:t,resource:a,title:e.title||t,component:i.a,componentOptions:{placeholder:e.title,values:o}}}}return t.\u0275fac=function(e){return new(e||t)(g.nc(b.d))},t.\u0275prov=g.Sb({token:t,factory:t.\u0275fac}),t})()},pd24:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("fXoL"),o=a("Muja"),n=a("7Cbv");function s(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-schema-automation-field",4),i.qc("valueChange",function(a){i.Uc(t);const o=e.index;return i.uc().updateValue(o,a)})("mappedValueChange",function(a){i.Uc(t);const o=e.index;return i.uc().mappedChange(o,a)})("interpolatedInputChange",function(a){i.Uc(t);const o=e.index;return i.uc().interpolatedChange(o,a)}),i.bc()}if(2&t){const t=e.$implicit,a=i.uc();i.Dc("action",t)("resource",a.resource||a.automationResource)("readonly",a.readonly)("parentId",a.parentId)("dynamicValues",a.options.dynamicValues)("variables",a.useVariables)("parentType",a.parentType)("noMappingVariables",!0)}}let c=(()=>{class t{constructor(){this.value=[{inputValues:{},interpolatedInput:{},mappedInputValues:{}}],this.valueChange=new i.o,this.valueInvalid=new i.o,this.remappedActions=[],this.trackByActionKey=(t,e)=>e.id}ngOnChanges(t){var e,a;t.variables&&(this.useVariables=this.variables),(t.value&&!Object(o.a)(t.value.currentValue,t.value.previousValue)||t.options&&!Object(o.a)(t.options.currentValue,t.options.previousValue))&&(this.value&&Array.isArray(this.value)?this.value&&Array.isArray(this.value)&&(this.remappedActions=[...this.value.map((t,e)=>{var a,i;return{id:null===(a=this.remappedActions[e])||void 0===a?void 0:a.id,inputValues:t.inputValues,interpolatedInput:t.interpolatedInput,mappedInputValues:t.mappedInputValues,resource:this.resource,action:{display:{title:null===(i=this.options.items)||void 0===i?void 0:i.title},key:this.options.key,schema:this.options.items}}})]):this.remappedActions=[{id:Object(n.a)(),inputValues:{},interpolatedInput:{},mappedInputValues:{},resource:this.resource,action:{display:{title:null===(a=null===(e=this.options)||void 0===e?void 0:e.items)||void 0===a?void 0:a.title},key:this.options.key,schema:this.options.items}}])}addAnother(){var t;this.remappedActions.push({id:Object(n.a)(),inputValues:{},interpolatedInput:{},mappedInputValues:{},resource:this.resource,action:{display:{title:null===(t=this.options.items)||void 0===t?void 0:t.title},key:this.options.key,schema:this.options.items}})}updateValue(t,e){const a=this.remappedActions[t];this.remappedActions[t]=Object.assign(Object.assign({},this.remappedActions[t]),e.key?{inputValues:Object.assign(Object.assign({},a.inputValues),e.selfEmitValue&&"object"==typeof e.value?e.value:{[e.key]:e.value}),interpolatedInput:Object.keys(a.interpolatedInput).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.interpolatedInput[e]}),{}),mappedInputValues:Object.keys(a.mappedInputValues).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.mappedInputValues[e]}),{})}:{inputValues:Object.assign({},e.value)}),this.emitChange(this.remappedActions)}interpolatedChange(t,e){const a=this.remappedActions[t];this.remappedActions[t]=Object.assign(Object.assign({},this.remappedActions[t]),{inputValues:Object.keys(a.inputValues).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.inputValues[e]}),{}),mappedInputValues:Object.keys(a.mappedInputValues).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.mappedInputValues[e]}),{}),interpolatedInput:Object.assign(Object.assign({},a.interpolatedInput),{[e.key]:[...e.value]})}),this.emitChange(this.remappedActions)}mappedChange(t,e){const a=this.remappedActions[t];this.remappedActions[t]=Object.assign(Object.assign({},this.remappedActions[t]),e.key?{mappedInputValues:Object.assign(Object.assign({},a.mappedInputValues),{[e.key]:e.value}),inputValues:Object.keys(a.inputValues).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.inputValues[e]}),{}),interpolatedInput:Object.keys(a.interpolatedInput).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.interpolatedInput[e]}),{})}:{mappedInputValues:Object.assign(Object.assign({},a.mappedInputValues),e.value),inputValues:Object.keys(a.inputValues).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.inputValues[e]}),{}),interpolatedInput:Object.keys(a.interpolatedInput).filter(t=>t!==e.key).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a.interpolatedInput[e]}),{})}),this.emitChange(this.remappedActions)}emitChange(t){this.valueChange.emit(t.map(t=>({inputValues:t.inputValues,interpolatedInput:t.interpolatedInput,mappedInputValues:t.mappedInputValues})))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-array-field"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-automation-field-value-add-custom-field",!0)},inputs:{action:"action",parentType:"parentType",parentId:"parentId",resource:"resource",automationResource:"automationResource",value:"value",options:"options",variables:"variables",readonly:"readonly",placeholder:"placeholder"},outputs:{valueChange:"valueChange",valueInvalid:"valueInvalid"},features:[i.Gb],decls:5,vars:2,consts:function(){let t;return t=$localize`:@@cu-automation-array-field__btn-txt_add-another␟2d2e2454c210a8c3a7c469b28e1e3d8a09a8c8fc␟6928209535035628388:Add Another`,[[3,"action","resource","readonly","parentId","dynamicValues","variables","parentType","noMappingVariables","valueChange","mappedValueChange","interpolatedInputChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-edit-automation__container-body-add",3,"click"],["icon","cu2-plus"],t,[3,"action","resource","readonly","parentId","dynamicValues","variables","parentType","noMappingVariables","valueChange","mappedValueChange","interpolatedInputChange"]]},template:function(t,e){1&t&&(i.bd(0,s,1,8,"cu-schema-automation-field",0),i.cc(1,"div",1),i.qc("click",function(){return e.addAnother()}),i.Xb(2,"div",2),i.ac(3),i.gc(4,3),i.Zb(),i.bc()),2&t&&i.Dc("ngForOf",e.remappedActions)("ngForTrackBy",e.trackByActionKey)},styles:['.cu-automation-field-value-add-custom-field{min-width:0}.cu-automation-field-value-add-custom-field__value{display:flex;position:relative;margin-bottom:5px}.cu-automation-field-value-add-custom-field__value:hover .cu-automation-field-value-add-custom-field__remove{display:block}.cu-automation-field-value-add-custom-field__add,.cu-automation-field-value-add-custom-field__remove{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:12px;line-height:11px;display:flex;align-items:center;cursor:pointer;position:relative;z-index:1;color:#b9bec7}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-add-custom-field__add,.cu-automation-field-value-add-custom-field__remove{font-family:var(--global-font-support)}}.dark-theme .cu-automation-field-value-add-custom-field__add,.dark-theme .cu-automation-field-value-add-custom-field__remove{color:#979797}.cu-automation-field-value-add-custom-field__add .icon,.cu-automation-field-value-add-custom-field__remove .icon{transition:background-color .2s cubic-bezier(.785,.135,.15,.86) 0s;border-radius:50%;height:16px;width:16px;margin-right:5px;padding:3px;fill:#fff;background-color:#b9bec7}.dark-theme .cu-automation-field-value-add-custom-field__add .icon,.dark-theme .cu-automation-field-value-add-custom-field__remove .icon{background-color:#979797}.cu-automation-field-value-add-custom-field__add:hover,.cu-automation-field-value-add-custom-field__remove:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-add-custom-field__add:hover,.cu-automation-field-value-add-custom-field__remove:hover{color:var(--theme-main-color)}}.cu-automation-field-value-add-custom-field__add:hover .icon,.cu-automation-field-value-add-custom-field__remove:hover .icon{background-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-automation-field-value-add-custom-field__add:hover .icon,.cu-automation-field-value-add-custom-field__remove:hover .icon{background-color:var(--theme-main-color)}}.cu-automation-field-value-add-custom-field__value+.cu-automation-field-value-add-custom-field__add{margin-top:15px}.cu-automation-field-value-add-custom-field__remove{display:none;margin-left:5px;position:absolute;right:-12px;top:12px}.cu-automation-field-value-add-custom-field__remove .icon{transform:rotate(45deg)}.cu-automation-field-value-add-custom-field__label{display:flex;align-items:center;height:40px;width:120px;margin-right:10px}.cu-automation-field-value-add-custom-field__label-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:1;flex-grow:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-automation-field-value-add-custom-field__label-text{font-family:var(--global-font-support)}}.dark-theme .cu-automation-field-value-add-custom-field__label-text{color:#d5d6d7}'],encapsulation:2,changeDetection:0}),t})()},qKyM:function(t,e,a){"use strict";a.d(e,"a",function(){return Vt});var i=a("fXoL"),o=a("XNiG"),n=a("1G5W"),s=a("jJQC"),c=a("2p4s"),r=a("82+D"),l=a("IE5h"),u=a("sEeB"),d=a("f0Wu"),p=a("m91o"),m=a("c3rA"),h=a("AeD3"),g=a("jJW4"),b=a("Jf2N"),f=a("Wxa1"),k=a("Uo20"),_=a("ZlQq"),w=a("l7P3"),v=a("ofXK"),y=a("Yj50"),x=a("NQa4"),T=a("UdVN"),I=a("LdyQ"),C=a("MJvn"),D=a("EDFS"),S=a("n+1/"),O=a("akl0"),j=a("K1R0"),P=a("wF7Z"),A=a("/qOb"),$=a("8it8"),R=a("T7pm"),F=a("HPyy"),M=a("NsZK"),E=a("3Pt+"),U=a("ZHle"),L=a("9T9z"),z=a("CG/S"),V=a("wkNx");const N=["editor"];function q(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" .",t.attachment.extension," ")}}function B(t,e){if(1&t){const t=i.dc();i.cc(0,"a",17),i.qc("click",function(){return i.Uc(t),i.uc().open()}),i.dd(1),i.bd(2,q,2,1,"ng-container",18),i.bc()}if(2&t){const t=i.uc();i.Jb("draggable",!1),i.Ib(1),i.fd(" ",t.attachment.title," "),i.Ib(1),i.Dc("ngIf",t.attachment.extension)}}function G(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" .",t.attachment.extension," ")}}function X(t,e){if(1&t&&(i.cc(0,"a",19),i.dd(1),i.bd(2,G,2,1,"ng-container",18),i.bc()),2&t){const t=i.uc();i.Jb("href",t.attachment.url,i.Xc),i.Ib(1),i.fd(" ",t.attachment.title," "),i.Ib(1),i.Dc("ngIf",t.attachment.extension)}}function W(t,e){if(1&t&&(i.ac(0),i.dd(1),i.Zb()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" .",t.attachment.extension," ")}}function H(t,e){if(1&t&&(i.cc(0,"a",20),i.dd(1),i.bd(2,W,2,1,"ng-container",18),i.bc()),2&t){const t=i.uc();i.Jb("href",t.attachment.url,i.Xc),i.Ib(1),i.fd(" ",t.attachment.title," "),i.Ib(1),i.Dc("ngIf",t.attachment.extension)}}function Z(t,e){if(1&t&&(i.cc(0,"div",21),i.dd(1),i.vc(2,"filesize"),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd(" ",i.wc(2,1,t.attachment.size)," ")}}function Q(t,e){if(1&t){const t=i.dc();i.cc(0,"div",22),i.cc(1,"div",23),i.cc(2,"input",24,25),i.qc("ngModelChange",function(e){return i.Uc(t),i.uc().editorValue=e})("keydown",function(e){return i.Uc(t),i.uc().keyDown(e)}),i.bc(),i.cc(4,"div",26),i.dd(5),i.bc(),i.bc(),i.cc(6,"div",27),i.cc(7,"a",28),i.qc("click",function(){return i.Uc(t),i.uc().save()}),i.bc(),i.cc(8,"a",29),i.qc("click",function(){return i.Uc(t),i.uc().cancel()}),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(2),i.Dc("ngModel",t.editorValue),i.Ib(3),i.fd(".",t.attachment.extension,"")}}function K(t,e){if(1&t){const t=i.dc();i.cc(0,"a",30),i.qc("click",function(){return i.Uc(t),i.uc().edit()}),i.bc()}}function J(t,e){if(1&t){const t=i.dc();i.cc(0,"a",31),i.qc("click",function(){return i.Uc(t),i.uc().open()}),i.bc()}}function Y(t,e){if(1&t&&i.Xb(0,"a",32),2&t){const t=i.uc();i.Dc("href",t.attachment.url,i.Xc)}}function tt(t,e){if(1&t&&i.Xb(0,"a",33),2&t){const t=i.uc();i.Dc("href",t.attachment.url,i.Xc)("cuTooltip",t.openInText)}}function et(t,e){if(1&t){const t=i.dc();i.cc(0,"a",34),i.qc("click",function(){return i.Uc(t),i.uc().remove()}),i.bc()}if(2&t){const t=i.uc();i.Ob("disabled-action",!t.canDelete),i.Dc("cuTooltip",t.canDelete?t.commonStringsService.deleteText:t.deleteAttachmentNoPermsText)}}let at=(()=>{class t{constructor(t,e){this.commonStringsService=t,this.sharedData=e,this.canAddAttachments=!0,this.canRemoveAttachments=!0,this.canRemoveOwnAttachments=!0,this.canChangeDescription=!0,this.canDelete=!0,this.onRemove=new i.o,this.onChange=new i.o,this.onOpen=new i.o,this.editing=!1,this.editorValue="",this.AttachmentSource=r.a,this.cloudData=l.c,this.deleteAttachmentNoPermsText=$localize`:@@permissions_delete-attachment-not-allowed:You don't have permission to delete this attachment.`}get openInText(){return this.attachment?$localize`:@@cu-attachment-row__tooltip-msg_open-in-storage:Open in ${this.cloudData[this.attachment.source].title}:storageSource:`:""}ngOnInit(){}open(){this.onOpen.emit()}keyDown(t){switch(t.which){case A.a.ENTER:t.preventDefault(),this.save();break;case A.a.ESCAPE:this.cancel()}}edit(){this.editing=!0,this.editorValue=this.attachment.title,setTimeout(()=>{this.editor.nativeElement.focus()},100)}save(){const t=this.editorValue.trim();t.length&&t!==this.attachment.title&&(this.attachment.title=t,this.onChange.emit(this.attachment)),this.cancel()}cancel(){this.editorValue="",this.editing=!1}remove(){this.canDelete&&this.onRemove.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb($.a),i.Wb(g.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-attachment-row"]],viewQuery:function(t,e){if(1&t&&i.jd(N,1),2&t){let t;i.Qc(t=i.rc())&&(e.editor=t.first)}},hostAttrs:[1,"attachment","attachment_editing"],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("attachment_editing",e.editing)},inputs:{attachment:"attachment",canAddAttachments:"canAddAttachments",canRemoveAttachments:"canRemoveAttachments",canRemoveOwnAttachments:"canRemoveOwnAttachments",canChangeDescription:"canChangeDescription",canDelete:"canDelete"},outputs:{onRemove:"onRemove",onChange:"onChange",onOpen:"onOpen"},decls:28,vars:34,consts:function(){let t,e,a;return t=$localize`:@@common_edit␟28f86ffd419b869711aa13f5e5ff54be6d70731c␟7585826646011739428:Edit`,e=$localize`:@@common_view␟6829218544e108e152f5fa72cb79c4ccb82e0d06␟2509141182388535183:View`,a=$localize`:@@common_download␟dc75033a5238fdc4f462212c847a45ba8018a3fd␟3099741642167775297:Download`,[[1,"attachment__icon"],["thumbSize","small",3,"attachment","onOpen"],[1,"attachment__body"],["cuLink","","class","attachment__name",3,"click",4,"ngIf"],["class","attachment__name","download","",4,"ngIf"],["class","attachment__name","target","_blank",4,"ngIf"],["class","attachment__size",4,"ngIf"],["class","attachment-edit",4,"ngIf"],[1,"attachment-controls"],["class","attachment-controls__item","cuLink","","cuTooltip",t,"icon","edit-simple-v2",3,"click",4,"ngIf"],["class","attachment-controls__item attachment-controls__item_view","cuLink","","cuTooltip",e,"icon","eye-v2",3,"click",4,"ngIf"],["class","attachment-controls__item","download","","cuTooltip",a,"icon","download-v2",3,"href",4,"ngIf"],["class","attachment-controls__item","target","_blank","icon","go",3,"href","cuTooltip",4,"ngIf"],["class","attachment-controls__item attachment-controls__item_close","cuLink","","icon","close-modal",3,"disabled-action","cuTooltip","click",4,"ngIf"],[1,"attachment__time"],[1,"attachment__user"],[3,"user","cuTooltip"],["cuLink","",1,"attachment__name",3,"click"],[4,"ngIf"],["download","",1,"attachment__name"],["target","_blank",1,"attachment__name"],[1,"attachment__size"],[1,"attachment-edit"],[1,"attachment-edit__form"],["type","text",1,"attachment-edit__input",3,"ngModel","ngModelChange","keydown"],["editor",""],[1,"attachment-edit__ext"],[1,"attachment-edit__controls"],["cuLink","","icon","check",1,"attachment-edit__control","attachment-edit__control_save",3,"click"],["cuLink","","icon","close",1,"attachment-edit__control","attachment-edit__control_cancel",3,"click"],["cuLink","","cuTooltip",t,"icon","edit-simple-v2",1,"attachment-controls__item",3,"click"],["cuLink","","cuTooltip",e,"icon","eye-v2",1,"attachment-controls__item","attachment-controls__item_view",3,"click"],["download","","cuTooltip",a,"icon","download-v2",1,"attachment-controls__item",3,"href"],["target","_blank","icon","go",1,"attachment-controls__item",3,"href","cuTooltip"],["cuLink","","icon","close-modal",1,"attachment-controls__item","attachment-controls__item_close",3,"cuTooltip","click"]]},template:function(t,e){if(1&t&&(i.cc(0,"div",0),i.cc(1,"cu-attachment-preview",1),i.qc("onOpen",function(){return e.open()}),i.bc(),i.bc(),i.cc(2,"div",2),i.bd(3,B,3,3,"a",3),i.vc(4,"hasPreview"),i.bd(5,X,3,3,"a",4),i.vc(6,"hasPreview"),i.vc(7,"isCloudAttachment"),i.bd(8,H,3,3,"a",5),i.vc(9,"hasPreview"),i.vc(10,"isCloudAttachment"),i.bd(11,Z,3,3,"div",6),i.bc(),i.bd(12,Q,9,2,"div",7),i.cc(13,"div",8),i.bd(14,K,1,0,"a",9),i.vc(15,"isCloudAttachment"),i.bd(16,J,1,0,"a",10),i.vc(17,"hasPreview"),i.bd(18,Y,1,1,"a",11),i.vc(19,"isCloudAttachment"),i.bd(20,tt,1,2,"a",12),i.bd(21,et,1,3,"a",13),i.vc(22,"async"),i.bc(),i.cc(23,"div",14),i.dd(24),i.vc(25,"duration"),i.bc(),i.cc(26,"div",15),i.Xb(27,"cu-avatar",16),i.bc()),2&t){let t=null;i.Ib(1),i.Dc("attachment",e.attachment),i.Ib(2),i.Dc("ngIf",i.wc(4,14,e.attachment)),i.Ib(2),i.Dc("ngIf",!i.wc(6,16,e.attachment)&&!i.wc(7,18,e.attachment)),i.Ib(3),i.Dc("ngIf",!i.wc(9,20,e.attachment)&&i.wc(10,22,e.attachment)),i.Ib(3),i.Dc("ngIf",e.attachment.size),i.Ib(1),i.Dc("ngIf",e.editing),i.Ib(2),i.Dc("ngIf",!i.wc(15,24,e.attachment)&&e.canAddAttachments),i.Ib(2),i.Dc("ngIf",i.wc(17,26,e.attachment)),i.Ib(2),i.Dc("ngIf",!i.wc(19,28,e.attachment)&&!e.attachment.view),i.Ib(2),i.Dc("ngIf",e.cloudData[e.attachment.source]),i.Ib(1),i.Dc("ngIf",e.canRemoveAttachments||e.canRemoveOwnAttachments&&(null==e.attachment||null==e.attachment.user?null:e.attachment.user.id)===(null==(t=i.wc(22,30,e.sharedData.currentUser))?null:t.id)),i.Ib(3),i.ed(i.wc(25,32,e.attachment.date)),i.Ib(3),i.Ec("cuTooltip",null==e.attachment.user?null:e.attachment.user.username),i.Dc("user",e.attachment.user)}},directives:[R.a,v.q,F.a,M.a,x.a,E.c,E.p,E.s,T.a],pipes:[U.a,L.a,v.b,z.a,V.a],encapsulation:2,changeDetection:0}),t})();var it=a("pLZG"),ot=a("ihCf");const nt=["editor"];function st(t,e){if(1&t&&(i.cc(0,"div",18),i.dd(1),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd(" .",t.attachment.extension," ")}}function ct(t,e){if(1&t){const t=i.dc();i.cc(0,"textarea",19,20),i.qc("ngModelChange",function(e){return i.Uc(t),i.uc().editorValue=e})("keydown",function(e){return i.Uc(t),i.uc().keyDown(e)})("blur",function(){return i.Uc(t),i.uc().cancel()}),i.dd(2,"  "),i.bc()}if(2&t){const t=i.uc();i.Dc("ngModel",t.editorValue)}}function rt(t,e){if(1&t&&(i.cc(0,"div",21),i.dd(1),i.vc(2,"filesize"),i.bc()),2&t){const t=i.uc();i.Ib(1),i.fd(" ",i.wc(2,1,t.attachment.size)," ")}}function lt(t,e){if(1&t){const t=i.dc();i.cc(0,"a",22),i.qc("click",function(){return i.Uc(t),i.uc().edit()}),i.Xb(1,"span",23),i.bc()}}function ut(t,e){if(1&t&&(i.cc(0,"a",24),i.Xb(1,"span",25),i.bc()),2&t){const t=i.uc();i.Jb("href",t.attachment.url,i.Xc)}}function dt(t,e){if(1&t&&(i.cc(0,"a",24),i.Xb(1,"span",26),i.bc()),2&t){const t=i.uc();i.Jb("href",t.attachment.url,i.Xc)}}function pt(t,e){if(1&t){const t=i.dc();i.cc(0,"a",27),i.qc("click",function(){return i.Uc(t),i.uc().remove()}),i.Xb(1,"span",28),i.bc()}if(2&t){const t=i.uc();i.Ob("disabled-action",!t.canDelete),i.Dc("cuTooltip",t.canDelete?null:t.deleteAttachmentNoPermsText)}}let mt=(()=>{class t{constructor(t,e,a,n){this.element=t,this.attachmentsViewerService=e,this.changeDetector=a,this.sharedData=n,this.editingClass="attachment-tile_editing",this.destroy$=new o.a,this.canAddAttachments=!0,this.canRemoveAttachments=!0,this.canRemoveOwnAttachments=!0,this.canChangeDescription=!0,this.canDelete=!0,this.onRemove=new i.o,this.onChange=new i.o,this.onOpen=new i.o,this.onSetCoverImage=new i.o,this.AttachmentSource=r.a,this.editing=!1,this.editorValue="",this.deleteAttachmentNoPermsText=$localize`:@@permissions_delete-attachment-not-allowed:You don't have permission to delete this attachment.`}ngOnInit(){this.attachmentsViewerService.onEdit.pipe(Object(it.a)(t=>t.id===this.attachment.id),Object(n.a)(this.destroy$)).subscribe(t=>{this.attachment=Object.assign({},t),this.changeDetector.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}keyDown(t){switch(t.which){case A.a.ENTER:t.preventDefault(),this.save();break;case A.a.ESCAPE:this.cancel()}}open(){this.onOpen.emit()}clickImage(t){Object(l.a)(this.attachment,this.sharedData.compatCurrentTeam.microsoft_365_preview)&&(t&&(t.stopPropagation(),t.preventDefault()),this.open())}edit(){this.editing=!0,this.element.nativeElement.classList.add(this.editingClass),this.editorValue=this.attachment.title,setTimeout(()=>{this.editor.nativeElement.focus()},100)}save(){const t=this.editorValue.trim();t.length&&t!==this.attachment.title&&(this.attachment.title=t,this.onChange.emit(this.attachment)),this.cancel()}cancel(){this.editorValue="",this.element.nativeElement.classList.remove(this.editingClass),this.editing=!1}remove(){this.canDelete&&this.onRemove.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.m),i.Wb(k.a),i.Wb(i.h),i.Wb(g.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-attachment-tile"]],viewQuery:function(t,e){if(1&t&&i.jd(nt,1),2&t){let t;i.Qc(t=i.rc())&&(e.editor=t.first)}},hostAttrs:[1,"attachment-tile"],inputs:{attachment:"attachment",coverImage:"coverImage",canAddAttachments:"canAddAttachments",canRemoveAttachments:"canRemoveAttachments",canRemoveOwnAttachments:"canRemoveOwnAttachments",canChangeDescription:"canChangeDescription",canDelete:"canDelete"},outputs:{onRemove:"onRemove",onChange:"onChange",onOpen:"onOpen",onSetCoverImage:"onSetCoverImage"},decls:27,vars:26,consts:[[1,"attachment-tile__inner"],[1,"attachment-tile__preview"],[3,"canChangeDescription","attachment","coverImage","onSetCoverImage"],[1,"attachment-tile__author"],["modifier","cu-avatar_bordered",3,"user"],["target","_blank",1,"attachment-tile__overlay",3,"click"],["icon","eye",1,"attachment-tile__overlay-icon"],[1,"attachment-tile__title"],[1,"attachment-tile__title-text"],[1,"attachment-tile__title-name"],["class","attachment-tile__title-extension",4,"ngIf"],["class","attachment-tile__editor","cdkTextareaAutosize","",3,"ngModel","ngModelChange","keydown","blur",4,"ngIf"],["class","attachment-tile__size",4,"ngIf"],[1,"attachment-tile__date"],[1,"attachment-tile__controls"],["cuLink","","class","attachment-tile__control",3,"click",4,"ngIf"],["target","_blank","class","attachment-tile__control",4,"ngIf"],["cuLink","","class","attachment-tile__control",3,"disabled-action","cuTooltip","click",4,"ngIf"],[1,"attachment-tile__title-extension"],["cdkTextareaAutosize","",1,"attachment-tile__editor",3,"ngModel","ngModelChange","keydown","blur"],["editor",""],[1,"attachment-tile__size"],["cuLink","",1,"attachment-tile__control",3,"click"],["icon","edit-v2",1,"attachment-tile__control-icon","attachment-tile__control-icon_edit"],["target","_blank",1,"attachment-tile__control"],["icon","download",1,"attachment-tile__control-icon","attachment-tile__control-icon_download"],["icon","go",1,"attachment-tile__control-icon","attachment-tile__control-icon_edit"],["cuLink","",1,"attachment-tile__control",3,"cuTooltip","click"],["icon","cu2-trash",1,"attachment-tile__control-icon","attachment-tile__control-icon_close"]],template:function(t,e){if(1&t&&(i.cc(0,"div",0),i.cc(1,"div",1),i.cc(2,"cu-attachment-preview",2),i.qc("onSetCoverImage",function(t){return e.onSetCoverImage.emit(t)}),i.bc(),i.cc(3,"div",3),i.Xb(4,"cu-avatar",4),i.bc(),i.cc(5,"a",5),i.qc("click",function(t){return e.clickImage(t)}),i.Xb(6,"div",6),i.bc(),i.bc(),i.cc(7,"div",7),i.cc(8,"div",8),i.cc(9,"div",9),i.dd(10),i.bc(),i.bd(11,st,2,1,"div",10),i.bc(),i.bc(),i.bd(12,ct,3,1,"textarea",11),i.bd(13,rt,3,3,"div",12),i.cc(14,"div",13),i.dd(15),i.vc(16,"duration"),i.bc(),i.cc(17,"div",14),i.bd(18,lt,2,0,"a",15),i.vc(19,"isCloudAttachment"),i.vc(20,"async"),i.bd(21,ut,2,1,"a",16),i.vc(22,"isCloudAttachment"),i.bd(23,dt,2,1,"a",16),i.vc(24,"isCloudAttachment"),i.bd(25,pt,2,3,"a",17),i.vc(26,"async"),i.bc(),i.bc()),2&t){let t=null,a=null;i.Ib(2),i.Dc("canChangeDescription",e.canChangeDescription)("attachment",e.attachment)("coverImage",e.coverImage),i.Ib(2),i.Dc("user",e.attachment.user),i.Ib(1),i.Jb("href",e.attachment.url,i.Xc),i.Ib(5),i.ed(e.attachment.title),i.Ib(1),i.Dc("ngIf",e.attachment.extension),i.Ib(1),i.Dc("ngIf",e.editing),i.Ib(1),i.Dc("ngIf",e.attachment.size),i.Ib(2),i.fd(" ",i.wc(16,14,e.attachment.date)," "),i.Ib(3),i.Dc("ngIf",!i.wc(19,16,e.attachment)&&(e.canRemoveAttachments||e.canRemoveOwnAttachments&&(null==e.attachment||null==e.attachment.user?null:e.attachment.user.id)===(null==(t=i.wc(20,18,e.sharedData.currentUser))?null:t.id))),i.Ib(3),i.Dc("ngIf",!i.wc(22,20,e.attachment)&&!e.attachment.view),i.Ib(2),i.Dc("ngIf",i.wc(24,22,e.attachment)),i.Ib(2),i.Dc("ngIf",e.canRemoveAttachments||e.canRemoveOwnAttachments&&(null==e.attachment||null==e.attachment.user?null:e.attachment.user.id)===(null==(a=i.wc(26,24,e.sharedData.currentUser))?null:a.id))}},directives:[R.a,F.a,T.a,v.q,ot.a,E.c,E.p,E.s,x.a,M.a],pipes:[z.a,L.a,v.b,V.a],encapsulation:2,changeDetection:0}),t})();var ht=a("0ENg");const gt=["uploader"],bt=["basicImageViewer"],ft=["dropdown"];function kt(t,e){if(1&t){const t=i.dc();i.cc(0,"div",33),i.qc("click",function(){return i.Uc(t),i.uc(4).onCreateDoc.emit()}),i.Xb(1,"div",39),i.ac(2),i.gc(3,40),i.Zb(),i.bc()}}function _t(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-cloud-storage-button",42),i.qc("onDenied",function(){return i.Uc(t),i.uc(3),i.Rc(5).show()})("onAdded",function(e){i.Uc(t);const a=i.uc().$implicit;return i.uc(4).addCloudAttachment(e,a)}),i.Xb(1,"div",43),i.dd(2),i.bc()}if(2&t){const t=i.uc().$implicit,e=i.uc(4);i.Dc("parentId",e.parentId)("type",e.parentType)("source",e.cloudData[t].sourceText)("showDeny",!1),i.Ib(1),i.Dc("icon",e.cloudData[t].icon),i.Ib(1),i.fd(" ",e.cloudData[t].title," ")}}function wt(t,e){if(1&t&&(i.ac(0),i.bd(1,_t,3,6,"cu-cloud-storage-button",41),i.vc(2,"async"),i.vc(3,"async"),i.Zb()),2&t){const t=e.$implicit,a=i.uc(4);i.Ib(1),i.Dc("ngIf",i.wc(2,1,a.sharedData.currentUser)&&i.wc(3,3,a.sharedData.currentUser)[a.cloudData[t].userProperty])}}function vt(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-cloud-storage-button",44),i.qc("onDenied",function(){return i.Uc(t),i.uc(2),i.Rc(5).show()})("onAdded",function(e){i.Uc(t);const a=i.uc(4);return a.addCloudAttachment(e,a.AttachmentSource.google)}),i.Xb(1,"div",45),i.ac(2),i.gc(3,46),i.Zb(),i.bc()}if(2&t){const t=i.uc(4);i.Dc("parentId",t.parentId)("type",t.parentType)("showDeny",!1)}}function yt(t,e){if(1&t){const t=i.dc();i.cc(0,"div",29),i.cc(1,"div",30),i.cc(2,"div",31),i.cc(3,"div",32),i.cc(4,"div",33),i.qc("click",function(){return i.Uc(t),i.uc(3).browseFile()}),i.Xb(5,"div",34),i.ac(6),i.gc(7,35),i.Zb(),i.bc(),i.bd(8,kt,4,0,"div",36),i.bc(),i.bd(9,wt,4,5,"ng-container",37),i.bd(10,vt,4,3,"cu-cloud-storage-button",38),i.vc(11,"async"),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.uc(3);let e=null;i.Ib(8),i.Dc("ngIf",t.allowNewDoc),i.Ib(1),i.Dc("ngForOf",t.cloudList)("ngForTrackBy",t.trackByValue),i.Ib(1),i.Dc("ngIf",null==(e=i.wc(11,4,t.sharedData.currentUser))?null:e.drive_enabled)}}function xt(t,e){if(1&t&&(i.cc(0,"div",20),i.cc(1,"div",21,22),i.cc(3,"div",23),i.cc(4,"span",24,25),i.gc(6,26),i.bc(),i.Xb(7,"div",27),i.bc(),i.bd(8,yt,12,6,"div",28),i.bc(),i.bc()),2&t){i.uc(2);const t=i.Rc(11);i.Ib(1),i.Dc("dropdownCloseOnInsideClick",!0)("dropdownDestroyMenuOnClose",!1),i.Ib(3),i.Dc("popover",t)("outsideClick",!0)}}function Tt(t,e){1&t&&i.Xb(0,"div",47)}function It(t,e){if(1&t){const t=i.dc();i.cc(0,"div",48),i.qc("click",function(){return i.Uc(t),i.uc(2).startDownloadAll()}),i.Xb(1,"div",49),i.cc(2,"div",50),i.gc(3,51),i.bc(),i.bc()}}function Ct(t,e){if(1&t){const t=i.dc();i.ac(0),i.Xb(1,"circle-progress",55),i.vc(2,"async"),i.vc(3,"async"),i.vc(4,"async"),i.cc(5,"div",56),i.dd(6),i.bc(),i.cc(7,"div",57),i.qc("click",function(){return i.Uc(t),i.uc(3).cancelDownloadAll()}),i.bc(),i.Zb()}if(2&t){const t=i.uc(3);let e=null,a=null,o=null;i.Ib(1),i.Dc("percent",t.fileDownload.percentComplete)("radius",7)("outerStrokeWidth",2)("innerStrokeWidth",2)("space",-2)("outerStrokeColor",null==(e=i.wc(2,13,t.user$))?null:e.theme_color)("titleColor",null==(a=i.wc(3,15,t.user$))?null:a.theme_color)("unitsColor",null==(o=i.wc(4,17,t.user$))?null:o.theme_color)("innerStrokeColor","#e7e8ea")("lazy",!1)("showTitle",!1)("showUnits",!1),i.Ib(5),i.fd(" ",t.fileDownload.percentComplete,"% ")}}function Dt(t,e){1&t&&(i.cc(0,"div",58),i.gc(1,59),i.bc())}const St=function(t){return{"cu-attachments__download_blinking":t}};function Ot(t,e){if(1&t&&(i.cc(0,"div",52),i.bd(1,Ct,8,19,"ng-container",53),i.bd(2,Dt,2,0,"div",54),i.bc()),2&t){const t=i.uc(2);i.Dc("ngClass",i.Hc(3,St,100===t.fileDownload.percentComplete)),i.Ib(1),i.Dc("ngIf",t.fileDownload.percentComplete<100),i.Ib(1),i.Dc("ngIf",100===t.fileDownload.percentComplete)}}const jt=function(t){return{"cu-attachments-view-toggle__item_active":t}};function Pt(t,e){if(1&t){const t=i.dc();i.cc(0,"div",9),i.cc(1,"div",10),i.gc(2,11),i.bc(),i.bd(3,xt,9,4,"div",12),i.cc(4,"div",13),i.cc(5,"div",14),i.cc(6,"a",15),i.qc("click",function(){return i.Uc(t),i.uc().setView("tiles")}),i.bc(),i.cc(7,"a",16),i.qc("click",function(){return i.Uc(t),i.uc().setView("list")}),i.bc(),i.bc(),i.bd(8,Tt,1,0,"div",17),i.bd(9,It,4,0,"div",18),i.bd(10,Ot,3,5,"div",19),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(3),i.Dc("ngIf",t.canAddAttachments),i.Ib(3),i.Dc("ngClass",i.Hc(6,jt,"tiles"===t.view)),i.Ib(1),i.Dc("ngClass",i.Hc(8,jt,"list"===t.view)),i.Ib(1),i.Dc("ngIf",t.fileDownloadSupported&&(null==t.fileAttachments?null:t.fileAttachments.length)>0),i.Ib(1),i.Dc("ngIf",t.fileDownloadSupported&&(null==t.fileAttachments?null:t.fileAttachments.length)>0&&!t.fileDownload),i.Ib(1),i.Dc("ngIf",t.fileDownload)}}const At=function(t,e){return{"attachments-caption_asc":t,"attachments-caption_desc":e}};function $t(t,e){if(1&t){const t=i.dc();i.cc(0,"div",60),i.cc(1,"div",61),i.cc(2,"span",62),i.qc("click",function(){return i.Uc(t),i.uc().sortBy("name")}),i.gc(3,63),i.bc(),i.bc(),i.cc(4,"div",64),i.cc(5,"span",62),i.qc("click",function(){return i.Uc(t),i.uc().sortBy("date")}),i.gc(6,65),i.bc(),i.bc(),i.cc(7,"div",66),i.cc(8,"span"),i.gc(9,67),i.bc(),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("ngClass",i.Ic(2,At,"name"===t.sortColumn&&1===t.sortDirection,"name"===t.sortColumn&&-1===t.sortDirection)),i.Ib(3),i.Dc("ngClass",i.Ic(5,At,"date"===t.sortColumn&&1===t.sortDirection,"date"===t.sortColumn&&-1===t.sortDirection))}}function Rt(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-attachment-row",72),i.qc("onOpen",function(){i.Uc(t);const a=e.index;return i.uc(2).openAttachmentPreviewModal(a)})("onChange",function(e){return i.Uc(t),i.uc(2).save(e)})("onRemove",function(){i.Uc(t);const a=e.$implicit;return i.uc(2).remove(a)}),i.vc(1,"async"),i.bc()}if(2&t){const t=e.$implicit,a=i.uc(2);let o=null;i.Dc("attachment",t)("canAddAttachments",a.canAddAttachments)("canRemoveAttachments",a.canRemoveAttachments)("canRemoveOwnAttachments",a.canRemoveOwnAttachments)("canChangeDescription",a.canChangeDescription)("canDelete",a.canDelete||a.onlyDeleteIfOwner&&(null==(o=i.wc(1,6,a.sharedData.currentUser))?null:o.id)===(null==t||null==t.user?null:t.user.id))}}function Ft(t,e){if(1&t&&(i.cc(0,"div",68),i.cc(1,"cu-lazy-list",69,70),i.bd(3,Rt,2,8,"cu-attachment-row",71),i.vc(4,"async"),i.bc(),i.bc()),2&t){const t=i.Rc(2),e=i.uc();i.Ib(1),i.Dc("items",e.attachments)("pageSize",5)("bottomPadding",100)("scrollContainer",e.scrollContainer),i.Ib(2),i.Dc("ngForOf",i.wc(4,6,t.lazyItems$))("ngForTrackBy",e.trackById)}}function Mt(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-attachment-tile",75),i.qc("onOpen",function(){i.Uc(t);const a=e.index;return i.uc(2).openAttachmentPreviewModal(a)})("onChange",function(e){return i.Uc(t),i.uc(2).save(e)})("onRemove",function(){i.Uc(t);const a=e.$implicit;return i.uc(2).remove(a)})("onSetCoverImage",function(e){return i.Uc(t),i.uc(2).onSetCoverImage.emit(e)}),i.vc(1,"async"),i.bc()}if(2&t){const t=e.$implicit,a=i.uc(2);let o=null;i.Dc("attachment",t)("canAddAttachments",a.canAddAttachments)("canRemoveAttachments",a.canRemoveAttachments)("canRemoveOwnAttachments",a.canRemoveOwnAttachments)("canChangeDescription",a.canChangeDescription)("coverImage",a.coverImage)("canDelete",a.canDelete||a.onlyDeleteIfOwner&&(null==(o=i.wc(1,7,a.sharedData.currentUser))?null:o.id)===(null==t||null==t.user?null:t.user.id))}}function Et(t,e){if(1&t&&(i.cc(0,"div",68),i.cc(1,"cu-lazy-list",73,70),i.bd(3,Mt,2,9,"cu-attachment-tile",74),i.vc(4,"async"),i.bc(),i.bc()),2&t){const t=i.Rc(2),e=i.uc();i.Ib(1),i.Dc("items",e.attachments)("pageSize",8)("bottomPadding",160)("scrollContainer",e.scrollContainer),i.Ib(2),i.Dc("ngForOf",i.wc(4,6,t.lazyItems$))("ngForTrackBy",e.trackById)}}function Ut(t,e){1&t&&(i.cc(0,"div",76),i.cc(1,"div",77),i.Xb(2,"div",78),i.Xb(3,"div",79),i.Xb(4,"div",80),i.Xb(5,"div",81),i.bc(),i.cc(6,"div",77),i.Xb(7,"div",78),i.Xb(8,"div",79),i.Xb(9,"div",80),i.Xb(10,"div",81),i.bc(),i.cc(11,"div",77),i.Xb(12,"div",78),i.Xb(13,"div",79),i.Xb(14,"div",80),i.Xb(15,"div",81),i.bc(),i.bc())}function Lt(t,e){if(1&t&&i.Xb(0,"img",82),2&t){const t=i.uc();i.Dc("src",t.currentAttachment.url,i.Xc)}}function zt(t,e){1&t&&i.Xb(0,"cu-cloud-storage-deny-msg")}let Vt=(()=>{class t{constructor(t,e,a,n,d,p,h,g,b,f){this.dataService=t,this.sharedData=e,this.modalService=a,this.attachmentsService=n,this.attachmentsViewerService=d,this.changeDetectorRef=p,this.element=h,this.sharedDocService=g,this.injector=b,this.store=f,this.view="tiles",this.loading=!0,this.destroy$=new o.a,this.sortDirection=1,this.sortColumn="date",this.uploadOptions={fieldName:"attachment",url:"",method:"POST",autoUpload:!0},this.fileDownloadSupported=u.a,this.user$=this.store.select(m.getUser),this.canAddAttachments=!0,this.canRemoveAttachments=!0,this.canRemoveOwnAttachments=!0,this.canChangeDescription=!0,this.canDelete=!0,this.uploaderUrl=[c.a.apiUrl,"attachment"].join("/"),this.attachments=[],this.displayHeader=!0,this.viewStorageKey="taskAttachmentViewValue",this.allowNewDoc=!1,this.attachmentsChanged=new i.o,this.viewInit=new i.o,this.onRemove=new i.o,this.onUploaded=new i.o,this.onSetCoverImage=new i.o,this.storageLimitExceeded=new i.o,this.onCreateDoc=new i.o,this.onUpdateView=new i.o,this.trackById=Object(s.d)("id"),this.AttachmentSource=r.a,this.cloudList=l.d,this.cloudData=l.c,this.trackByValue=s.f}ngOnInit(){if(this.attachmentsViewerService.onRemove.pipe(Object(n.a)(this.destroy$)).subscribe(t=>{this.attachments=this.attachments.filter(e=>e.id!==t),this.changeDetectorRef.markForCheck()}),this.viewStorageKey){const t=localStorage.getItem(this.viewStorageKey);this.view=t||this.view,this.changeDetectorRef.markForCheck()}}ngOnChanges(t){t.attachments&&t.attachments.currentValue&&(this.loading=!1),t.attachmentsUploaderUrl&&t.attachmentsUploaderUrl.currentValue&&(this.uploaderUrl=t.attachmentsUploaderUrl.currentValue,this.uploader.setUrl(this.uploaderUrl)),(t.attachmentType||t.parentId)&&this.attachmentType&&(this.uploadOptions.attachmentType=this.attachmentType,6===this.attachmentType||9===this.attachmentType?(this.uploadOptions.parent=this.parentId,this.uploadOptions.permanent=!0):(this.uploadOptions.parent=void 0,this.uploadOptions.permanent=!1)),this.attachments&&(this.attachments=this.attachments.map(t=>Object.assign(Object.assign({},t),{title:this.getAttachmentTitle(t)})),this.fileAttachments=this.attachments.filter(t=>t.source===r.a.file||!t.source))}ngAfterViewInit(){setTimeout(()=>{this.viewInit.emit()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}getAttachmentTitle(t){if(!t.extension)return t.title;try{const e=new RegExp(`.${t.extension}$`,"i");return t.title.replace(e,"")}catch(e){return t.title}}openAttachmentPreviewModal(t){t>=0&&t<this.attachments.length&&this.attachments[t].view?this.sharedDocService.openDoc(this.injector,null,this.attachments[t].view.id,null):this.attachmentsViewerService.onOpen.emit({attachments:this.attachments,canRemove:this.canRemoveAttachments,canRemoveOwn:this.canRemoveOwnAttachments,canEdit:this.canRemoveAttachments,canEditOwn:this.canRemoveOwnAttachments,canChangeDescription:this.canChangeDescription,index:t,taskId:this.parentId,coverImage:this.coverImage,hideCoverImage:"subcategory"===this.parentType,allowComments:"task"===this.parentType})}closeModal(){this.modalService.close()}addFiles(t){this.uploader.allOptions.url=this.uploaderUrl,this.uploader.addFiles(t)}addFilesToAttachments(t){t.user=this.sharedData.currentUser.value,t.title=this.getAttachmentTitle(t),this.attachments=[...this.attachments,t],this.attachmentsChanged.emit(this.attachments),this.uploader.removeCompletedFiles(),this.changeDetectorRef.markForCheck()}save(t){t.view?this.onUpdateView.emit({viewId:t.view.id,changes:{name:t.title}}):(t.editing=!1,this.attachmentsViewerService.onEdit.emit(t),this.dataService.editAttachment(t).pipe(Object(n.a)(this.destroy$)).subscribe(e=>{t.url=e.url,this.changeDetectorRef.markForCheck()}),this.changeDetectorRef.markForCheck())}remove(t){this.onRemove.emit(t)}setView(t){this.view=t,this.viewStorageKey&&localStorage.setItem(this.viewStorageKey,t),this.changeDetectorRef.markForCheck()}sortBy(t){switch(t===this.sortColumn?this.sortDirection*=-1:(this.sortDirection=1,this.sortColumn=t),t){case"name":this.attachments.sort((t,e)=>{const a=t.title.toLowerCase(),i=e.title.toLowerCase();return a<i?-this.sortDirection:a>i?this.sortDirection:0});break;case"date":this.attachments.sort((t,e)=>(parseInt(e.date,10)-parseInt(t.date,10))*this.sortDirection)}this.attachments=[...this.attachments],this.changeDetectorRef.markForCheck()}browseFile(){this.attachmentsService.onBrowserFile.emit(this.uniqueId)}addCloudAttachment(t,e){t.name||(t.name=t.title),t.type=t.extension,t.source=e,this.addFilesToAttachments(t),this.changeDetectorRef.markForCheck()}startDownloadAll(){const t=Object(u.c)();this.fileDownload={subscription:Object(u.b)(this.fileAttachments.map(e=>e.url_w_host||e.url+"?host="+t)).subscribe(({files:t,percentComplete:e})=>{return a=this,void 0,o=function*(){if(this.fileDownload.percentComplete=e,this.changeDetectorRef.markForCheck(),100===e)try{yield Object(u.d)(t,`clickup-attachments-${d().format("YYYY-MM-DD-HH-mm")}.zip`)}finally{this.cancelDownloadAll()}},new((i=void 0)||(i=Promise))(function(t,e){function n(t){try{c(o.next(t))}catch(a){e(a)}}function s(t){try{c(o.throw(t))}catch(a){e(a)}}function c(e){var a;e.done?t(e.value):(a=e.value,a instanceof i?a:new i(function(t){t(a)})).then(n,s)}c((o=o.apply(a,[])).next())});var a,i,o},t=>{this.cancelDownloadAll(),this.store.dispatch(new p.b({err:"Failed to download files",timeout:1e4}))}),percentComplete:0}}cancelDownloadAll(){this.fileDownload&&(this.fileDownload.subscription.unsubscribe(),this.fileDownload=null,this.changeDetectorRef.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(h.a),i.Wb(g.a),i.Wb(b.a),i.Wb(f.a),i.Wb(k.a),i.Wb(i.h),i.Wb(i.m),i.Wb(_.a),i.Wb(i.t),i.Wb(w.Store))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-attachments"]],viewQuery:function(t,e){if(1&t&&(i.jd(gt,3),i.jd(bt,3),i.jd(ft,1)),2&t){let t;i.Qc(t=i.rc())&&(e.uploader=t.first),i.Qc(t=i.rc())&&(e.basicImageViewer=t.first),i.Qc(t=i.rc())&&(e.dropdown=t.first)}},inputs:{canAddAttachments:"canAddAttachments",canRemoveAttachments:"canRemoveAttachments",canRemoveOwnAttachments:"canRemoveOwnAttachments",canChangeDescription:"canChangeDescription",canDelete:"canDelete",onlyDeleteIfOwner:"onlyDeleteIfOwner",parentId:"parentId",parentType:"parentType",coverImage:"coverImage",uploaderUrl:"uploaderUrl",attachmentType:"attachmentType",attachments:"attachments",uniqueId:"uniqueId",displayHeader:"displayHeader",viewStorageKey:"viewStorageKey",scrollContainer:"scrollContainer",allowNewDoc:"allowNewDoc"},outputs:{attachmentsChanged:"attachmentsChanged",viewInit:"viewInit",onRemove:"onRemove",onUploaded:"onUploaded",onSetCoverImage:"onSetCoverImage",storageLimitExceeded:"storageLimitExceeded",onCreateDoc:"onCreateDoc",onUpdateView:"onUpdateView"},features:[i.Gb],decls:12,vars:7,consts:function(){let t,e,a,i,o,n,s,c,r,l;return t=$localize`:@@common_attachments␟74b10175231446b2f55dec2e9f9ec52c50dcbf62␟7797728851269684838: Attachments `,e=$localize`:@@common_add␟f6755cff4957d5c3c89bafce5651f1b6fa2b1fd9␟3249513483374643425:Add`,a=$localize`:@@common_upload-file␟30425abcb2ca17bc7f74857afd2d4a74e31b9b2b␟8605421971099461066:Upload file`,i=$localize`:@@common_new-doc␟b74ed0dbfb1792d410e33eeb8fa416b75e581445␟1210626102535819653:New Doc`,o=$localize`:@@common_google--new-doc␟9f6d03cedeee356c37435c4053068552ad1dc728␟4509582487840244118:New Google Doc`,n=$localize`:@@cu-attachments__btn-txt_download-all␟72be161ba7f0eee532bb6f3ce67d3abcba57a4d9␟9025728930162351870: Download All `,s=$localize`:@@cu-attachments__building-zip␟1f948bbba5537fba61bce5fe1985452891e87ddd␟5343951951721341777: Building Zip... `,c=$localize`:@@common_name␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`,r=$localize`:@@cu-attachments__modified␟6986e0df8092d822ac2c076520d83994c78834fc␟3553216189604488439:Modified`,l=$localize`:@@common_by␟e703d1a5af39f0eb011f3eb416924fb81ac251b7␟7702646444963497962:By`,[[1,"cu-attachments"],["class","cu-attachments__header",4,"ngIf"],[1,"cu-view-task__uploader",3,"options","modifier","onFileUploaded","storageLimitExceeded"],["uploader",""],["class","attachments-captions",4,"ngIf"],["class","cu-attachments__body",4,"ngIf"],["class","attachments-loader",4,"ngIf"],["basicImageViewer",""],["popTemplate",""],[1,"cu-attachments__header"],[1,"cu-attachments__title"],t,["class","cu-hidden-print",4,"ngIf"],[1,"cu-attachments__controls","cu-hidden-print"],[1,"cu-attachments-view-toggle"],["cuLink","","draggable","false","icon","tiles",1,"cu-attachments-view-toggle__item",3,"ngClass","click"],["cuLink","","draggable","false","icon","menu",1,"cu-attachments-view-toggle__item",3,"ngClass","click"],["class","cu-attachments__controls-divider",4,"ngIf"],["class","cu-attachments__download cu-attachments__download_center",3,"click",4,"ngIf"],["class","cu-attachments__download",3,"ngClass",4,"ngIf"],[1,"cu-hidden-print"],["cuDropdown","",1,"cu-dropdown_bottom","cu-dropdown_pointer","cu-dropdown_center",3,"dropdownCloseOnInsideClick","dropdownDestroyMenuOnClose"],["dropdown","dropdown"],["cuDropdownToggle","",1,"cu-todo-list__add"],["containerClass","popover_white","triggers","","container","body","placement","top",1,"cu-todo-list__add-text",3,"popover","outsideClick"],["pop","bs-popover"],e,["icon","dropdown-settings_down",1,"cu-todo-list__add-dropdown"],["class","cu-dropdown__menu_overflow-hidden",4,"cuDropdownMenu"],[1,"cu-dropdown__menu_overflow-hidden"],[1,"filter-list"],[1,"filter-list__body","task-drowdown"],[1,"cu-dropdown","cu-dropdown_center","cu-dropdown_pointer","show-checklist-menu"],[1,"filter-list__item","task-drowdown__item",3,"click"],["icon","paperclip",1,"cu-cloud-storage__button-icon","cu-cloud-storage__button-icon_paperclip"],a,["class","filter-list__item task-drowdown__item",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["modifier","filter-list__item task-drowdown__item","source","google-doc",3,"parentId","type","showDeny","onDenied","onAdded",4,"ngIf"],["icon","cu2-view-9",1,"cu-cloud-storage__button-icon","cu-cloud-storage__button-icon_doc"],i,["modifier","filter-list__item task-drowdown__item",3,"parentId","type","source","showDeny","onDenied","onAdded",4,"ngIf"],["modifier","filter-list__item task-drowdown__item",3,"parentId","type","source","showDeny","onDenied","onAdded"],[1,"cu-cloud-storage__button-icon",3,"icon"],["modifier","filter-list__item task-drowdown__item","source","google-doc",3,"parentId","type","showDeny","onDenied","onAdded"],["icon","google-drive-colored",1,"cu-cloud-storage__button-icon"],o,[1,"cu-attachments__controls-divider"],[1,"cu-attachments__download","cu-attachments__download_center",3,"click"],["icon","download-v4",1,"cu-attachments__download-icon"],[1,"cu-attachments__download-text"],n,[1,"cu-attachments__download",3,"ngClass"],[4,"ngIf"],["class","cu-attachments__download-text cu-attachments__download-text_blinking",4,"ngIf"],[3,"percent","radius","outerStrokeWidth","innerStrokeWidth","space","outerStrokeColor","titleColor","unitsColor","innerStrokeColor","lazy","showTitle","showUnits"],[1,"cu-attachments__download-text","cu-attachments__download-text_percent"],["icon","cu2-times",1,"cu-attachments__download-close",3,"click"],[1,"cu-attachments__download-text","cu-attachments__download-text_blinking"],s,[1,"attachments-captions"],[1,"attachments-caption","attachments-caption_name",3,"ngClass"],[3,"click"],c,[1,"attachments-caption","attachments-caption_date",3,"ngClass"],r,[1,"attachments-caption","attachments-caption_user"],l,[1,"cu-attachments__body"],[3,"items","pageSize","bottomPadding","scrollContainer"],["lazyList",""],[3,"attachment","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","canChangeDescription","canDelete","onOpen","onChange","onRemove",4,"ngFor","ngForOf","ngForTrackBy"],[3,"attachment","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","canChangeDescription","canDelete","onOpen","onChange","onRemove"],[1,"cu-attachments-tiles-list",3,"items","pageSize","bottomPadding","scrollContainer"],[3,"attachment","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","canChangeDescription","coverImage","canDelete","onOpen","onChange","onRemove","onSetCoverImage",4,"ngFor","ngForOf","ngForTrackBy"],[3,"attachment","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","canChangeDescription","coverImage","canDelete","onOpen","onChange","onRemove","onSetCoverImage"],[1,"attachments-loader"],[1,"attachments-loader__row"],[1,"attachments-loader__preview"],[1,"attachments-loader__name"],[1,"attachments-loader__date"],[1,"attachments-loader__user"],[1,"cu-attachment-preview-img",3,"src"]]},template:function(t,e){1&t&&(i.cc(0,"div",0),i.bd(1,Pt,11,10,"div",1),i.cc(2,"cu-uploader",2,3),i.qc("onFileUploaded",function(t){return e.addFilesToAttachments(t)})("storageLimitExceeded",function(){return e.storageLimitExceeded.emit()}),i.bc(),i.bd(4,$t,10,8,"div",4),i.bd(5,Ft,5,8,"div",5),i.bd(6,Et,5,8,"div",5),i.bd(7,Ut,16,0,"div",6),i.bc(),i.bd(8,Lt,1,1,"ng-template",null,7,i.cd),i.bd(10,zt,1,0,"ng-template",null,8,i.cd)),2&t&&(i.Ib(1),i.Dc("ngIf",e.displayHeader),i.Ib(1),i.Dc("options",e.uploadOptions)("modifier","cu-uploader_compact"),i.Ib(2),i.Dc("ngIf","list"===e.view&&(null==e.attachments?null:e.attachments.length)),i.Ib(1),i.Dc("ngIf","list"===e.view),i.Ib(1),i.Dc("ngIf","tiles"===e.view),i.Ib(1),i.Dc("ngIf",e.loading))},directives:[v.q,y.a,x.a,T.a,v.o,I.b,C.a,D.c,S.a,v.p,O.a,j.a,P.a,at,mt,ht.a],pipes:[v.b],encapsulation:2,changeDetection:0}),t})()},"r6/G":function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("K0KF"),o=a("ofXK"),n=a("fXoL");let s=(()=>{class t{}return t.\u0275mod=n.Ub({type:t}),t.\u0275inj=n.Tb({factory:function(e){return new(e||t)},imports:[[o.c,i.a]]}),t})()},rZTY:function(t,e,a){"use strict";a.d(e,"b",function(){return ea}),a.d(e,"c",function(){return aa}),a.d(e,"a",function(){return ia});var i=a("2Vo4"),o=a("XNiG"),n=a("itXk"),s=a("QF/s"),c=a("lJxs"),r=a("Kj3r"),l=a("pLZG"),u=a("1G5W"),d=a("nYR2"),p=a("eIep"),m=a("vkgz"),h=a("pHS2"),g=a("xWuZ"),b=a("1Lli"),f=a("XIp8"),k=a("lE2N"),_=a("jJQC"),w=a("3yLq"),v=a("lbgh"),y=a("MguC"),x=a("hr9B"),T=a("eDEC"),I=a("vDEd"),C=a("fXoL"),D=a("jJW4"),S=a("Jf2N"),O=a("gXbQ"),j=a("l7P3"),P=a("Dvla"),A=a("t7PA"),$=a("ofXK"),R=a("UdVN"),F=a("LdyQ"),M=a("MJvn"),E=a("3Pt+"),U=a("n+1/"),L=a("NsZK"),z=a("BTFG"),V=a("pxPQ");const N=["repoDropdown"],q=["repoFilterInput"];function B(t,e){1&t&&(C.cc(0,"div",11),C.cc(1,"div",12),C.gc(2,13),C.bc(),C.Xb(3,"div",14),C.bc())}function G(t,e){if(1&t&&(C.cc(0,"div",11),C.cc(1,"div",15),C.dd(2),C.bc(),C.Xb(3,"div",14),C.bc()),2&t){const t=C.uc();C.Ib(1),C.Dc("cuTooltip",t.selectedRepo.name)("tooltipDisabledIfTextNotTruncated",!0),C.Ib(1),C.fd(" ",t.selectedRepo.name," ")}}function X(t,e){1&t&&C.Xb(0,"cu-loader")}const W=function(t,e){return{id:t,title:e}};function H(t,e){if(1&t){const t=C.dc();C.cc(0,"cu-dropdown-list-item",19),C.qc("click",function(){C.Uc(t);const a=e.$implicit,i=C.uc(2);return i.selectRepo(a,i.tab===i.Tab.PullRequests?"pullRequestsLoading":"branchesLoading")}),C.bc()}if(2&t){const t=e.$implicit;C.Dc("cuTooltip",t.name)("tooltipDisabledIfTextNotTruncated",!0)("item",C.Ic(3,W,t.id,t.name))}}function Z(t,e){if(1&t&&(C.cc(0,"div",16),C.bd(1,X,1,0,"cu-loader",17),C.bd(2,H,1,6,"cu-dropdown-list-item",18),C.bc()),2&t){const t=C.uc();C.Ib(1),C.Dc("ngIf",t.isFilteredReposNotReady),C.Ib(1),C.Dc("ngForOf",t.filteredRepos)("ngForTrackBy",t.trackById)}}var Q=function(t){return t[t.PullRequests=0]="PullRequests",t[t.Branches=1]="Branches",t[t.Commits=2]="Commits",t}({});let K=(()=>{class t{constructor(t){this.renderer=t,this.isFilteredReposNotReady=!1,this.tab=Q.Branches,this.Tab=Q,this.onSelectRepo=new C.o,this.onSetFilteredRepos=new C.o,this.onClearRepoInput=new C.o,this.trackById=Object(_.d)("id")}ngOnInit(){}focusRepoFilterInput(){setTimeout(()=>this.repoFilterInput.nativeElement.focus(),0)}clearRepoInput(){this.renderer.setProperty(this.repoFilterInput.nativeElement,"value",""),this.repoSearchString="",this.onClearRepoInput.emit(),this.focusRepoFilterInput()}blurRepoInput(){this.renderer.setProperty(this.repoFilterInput.nativeElement,"value",""),this.repoSearchString="",this.onClearRepoInput.emit()}selectRepo(t,e){this.onSelectRepo.emit({repo:t,tag:e})}}return t.\u0275fac=function(e){return new(e||t)(C.Wb(C.H))},t.\u0275cmp=C.Qb({type:t,selectors:[["cu-repo-selector"]],viewQuery:function(t,e){if(1&t&&(C.jd(N,3),C.jd(q,1)),2&t){let t;C.Qc(t=C.rc())&&(e.repoDropdown=t.first),C.Qc(t=C.rc())&&(e.repoFilterInput=t.first)}},inputs:{selectedRepo:"selectedRepo",isFilteredReposNotReady:"isFilteredReposNotReady",filteredRepos:"filteredRepos",tab:"tab"},outputs:{onSelectRepo:"onSelectRepo",onSetFilteredRepos:"onSetFilteredRepos",onClearRepoInput:"onClearRepoInput"},decls:12,vars:7,consts:function(){let t,e;return t=$localize`:form input placeholder@@forms_placeholder--search␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,e=$localize`:@@cu-repo-selector__selector-text_select-repo␟a8cc8e6f7e00eb77cfaa9636f3813dfd9894c741␟8452033293610312168: Select Repo `,[["cuDropdown","",1,"cu-dropdown",3,"dropdownAutoWidth","dropdownPreventDocumentScroll","dropdownClose"],["repoDropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle",3,"hidden","click"],["class","cu-git-integration-modal__selector-container",4,"ngIf"],[1,"cu-git-integration-modal__selector-search",3,"hidden"],["type","text","placeholder",t,1,"cu-git-integration-modal__selector-search-input",3,"ngModel","ngModelChange"],["repoFilterInput",""],["icon","cu2-search2",1,"cu-git-integration-modal__selector-search-icon"],["cuLink","",1,"cu-git-integration-modal__selector-search-close",3,"click"],[1,"cu-icon","cu-icon_close"],["class","cu-git-integration-modal__selector-menu",4,"cuDropdownMenu"],[1,"cu-git-integration-modal__selector-container"],[1,"cu-git-integration-modal__selector-text"],e,["icon","angle-right-no-padding",1,"cu-git-integration-modal__selector-arrow"],["tooltipDelay","300",1,"cu-git-integration-modal__selector-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],[1,"cu-git-integration-modal__selector-menu"],[4,"ngIf"],["tooltipDelay","300",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","item","click",4,"ngFor","ngForOf","ngForTrackBy"],["tooltipDelay","300",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","item","click"]]},template:function(t,e){if(1&t&&(C.cc(0,"div",0,1),C.qc("dropdownClose",function(){return e.blurRepoInput()}),C.cc(2,"div",2),C.qc("click",function(){return e.focusRepoFilterInput()}),C.bd(3,B,4,0,"div",3),C.bd(4,G,4,3,"div",3),C.bc(),C.cc(5,"div",4),C.cc(6,"input",5,6),C.qc("ngModelChange",function(t){return e.repoSearchString=t})("ngModelChange",function(t){return e.onSetFilteredRepos.emit(t)}),C.bc(),C.Xb(8,"div",7),C.cc(9,"a",8),C.qc("click",function(){return e.clearRepoInput()}),C.Xb(10,"i",9),C.bc(),C.bc(),C.bd(11,Z,3,3,"div",10),C.bc()),2&t){const t=C.Rc(1);C.Dc("dropdownAutoWidth",!0)("dropdownPreventDocumentScroll",!1),C.Ib(2),C.Dc("hidden",t.isOpen),C.Ib(1),C.Dc("ngIf",!e.selectedRepo),C.Ib(1),C.Dc("ngIf",e.selectedRepo),C.Ib(1),C.Dc("hidden",!t.isOpen),C.Ib(1),C.Dc("ngModel",e.repoSearchString)}},directives:[F.b,M.a,$.q,E.c,E.p,E.s,R.a,U.a,L.a,$.p,z.a,V.a],encapsulation:2,changeDetection:0}),t})();var J=a("hUS4"),Y=a("bFKe");const tt=["branchDropdown"],et=["branchFilterInput"];function at(t,e){1&t&&C.Xb(0,"cu-loader",2)}function it(t,e){1&t&&(C.cc(0,"div",14),C.cc(1,"div",15),C.gc(2,16),C.bc(),C.Xb(3,"div",17),C.bc())}function ot(t,e){if(1&t&&(C.cc(0,"div",14),C.cc(1,"div",18),C.dd(2),C.bc(),C.Xb(3,"div",17),C.bc()),2&t){const t=C.uc(2);C.Ib(1),C.Dc("cuTooltip",t.selectedBranch.name)("tooltipDisabledIfTextNotTruncated",!0),C.Ib(1),C.fd(" ",t.selectedBranch.name," ")}}function nt(t,e){if(1&t){const t=C.dc();C.cc(0,"input",19,20),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc(2).branchSearchString=e})("ngModelChange",function(e){C.Uc(t);const a=C.uc(2);return a.setFilteredBranches(a.branches,e)}),C.bc()}if(2&t){const t=C.uc(2);C.Dc("ngModel",t.branchSearchString)}}function st(t,e){if(1&t){const t=C.dc();C.cc(0,"input",21,20),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc(2).branchSearchString=e})("ngModelChange",function(){C.Uc(t);const e=C.uc(2);return e.onBranchTextTyped.emit(e.branchSearchString)}),C.bc()}if(2&t){const t=C.uc(2);C.Dc("ngModel",t.branchSearchString)}}const ct=function(t,e){return{id:t,title:e}};function rt(t,e){if(1&t){const t=C.dc();C.cc(0,"cu-dropdown-list-item",26),C.qc("click",function(){C.Uc(t);const a=e.$implicit,i=C.uc(3);return i.selectBranch(a,i.assignKey)}),C.bc()}if(2&t){const t=e.$implicit;C.Dc("cuTooltip",t.name)("tooltipDisabledIfTextNotTruncated",!0)("item",C.Ic(3,ct,t.id,t.name))}}function lt(t,e){1&t&&C.Xb(0,"cu-loader")}const ut=function(t){return{id:"none",title:t}};function dt(t,e){if(1&t&&C.Xb(0,"cu-dropdown-list-item",27),2&t){const t=C.uc(3);C.Dc("item",C.Hc(1,ut,t.noBranchesFoundTxt))}}function pt(t,e){if(1&t){const t=C.dc();C.cc(0,"div",22),C.qc("onReachBottom",function(){return C.Uc(t),C.uc(2).loadMoreBranches()}),C.bd(1,rt,1,6,"cu-dropdown-list-item",23),C.bd(2,lt,1,0,"cu-loader",24),C.bd(3,dt,1,3,"cu-dropdown-list-item",25),C.bc()}if(2&t){const t=C.uc(2);C.Ib(1),C.Dc("ngForOf",t.filteredBranches)("ngForTrackBy",t.trackByName),C.Ib(1),C.Dc("ngIf",t.moreBranchesLoading),C.Ib(1),C.Dc("ngIf",0===t.filteredBranches.length&&!t.moreBranchesLoading&&!t.branchesLoading)}}function mt(t,e){if(1&t){const t=C.dc();C.cc(0,"div",3,4),C.qc("dropdownClose",function(){return C.Uc(t),C.uc().blurBranchInput()}),C.cc(2,"div",5),C.qc("click",function(){return C.Uc(t),C.uc().focusBranchFilterInput()}),C.bd(3,it,4,0,"div",6),C.bd(4,ot,4,3,"div",6),C.bc(),C.cc(5,"div",7),C.bd(6,nt,2,1,"input",8),C.bd(7,st,2,1,"input",9),C.Xb(8,"div",10),C.cc(9,"a",11),C.qc("click",function(){return C.Uc(t),C.uc().clearBranchInput()}),C.Xb(10,"i",12),C.bc(),C.bc(),C.bd(11,pt,4,4,"div",13),C.bc()}if(2&t){const t=C.Rc(1),e=C.uc();C.Dc("dropdownAutoWidth",!0)("dropdownPreventDocumentScroll",!1),C.Ib(2),C.Dc("hidden",t.isOpen),C.Ib(1),C.Dc("ngIf",!e.selectedBranch),C.Ib(1),C.Dc("ngIf",e.selectedBranch),C.Ib(1),C.Dc("hidden",!t.isOpen),C.Ib(1),C.Dc("ngIf",!e.integration.asyncBranchSearch),C.Ib(1),C.Dc("ngIf",e.integration.asyncBranchSearch)}}let ht=(()=>{class t{constructor(t){this.renderer=t,this.noBranchesFoundTxt=$localize`:@@cu-branch-selector__title_no-branches-found:No branches found`,this.branchesLoading=!1,this.moreBranchesLoading=!1,this.onBranchTextTyped=new C.o,this.onClearBranchInput=new C.o,this.onLoadMoreBranches=new C.o,this.onSelectBranch=new C.o,this.onSetFilteredBranches=new C.o,this.trackByName=Object(_.d)("name")}ngOnInit(){}focusBranchFilterInput(){setTimeout(()=>this.branchFilterInput.nativeElement.focus(),0)}setFilteredBranches(t,e){this.onSetFilteredBranches.emit({branches:t,searchText:e})}blurBranchInput(){this.renderer.setProperty(this.branchFilterInput.nativeElement,"value",""),this.branchSearchString="",this.onClearBranchInput.emit()}clearBranchInput(){this.renderer.setProperty(this.branchFilterInput.nativeElement,"value",""),this.branchSearchString="",this.onClearBranchInput.emit(),this.focusBranchFilterInput(),this.onBranchTextTyped.emit()}loadMoreBranches(){this.onLoadMoreBranches.emit({searchString:this.branchSearchString})}selectBranch(t,e){this.onSelectBranch.emit({branch:t,assignKey:e})}}return t.\u0275fac=function(e){return new(e||t)(C.Wb(C.H))},t.\u0275cmp=C.Qb({type:t,selectors:[["cu-branch-selector"]],viewQuery:function(t,e){if(1&t&&(C.jd(tt,1),C.jd(et,1)),2&t){let t;C.Qc(t=C.rc())&&(e.branchDropdown=t.first),C.Qc(t=C.rc())&&(e.branchFilterInput=t.first)}},inputs:{filteredBranches:"filteredBranches",selectedBranch:"selectedBranch",branchesLoading:"branchesLoading",selectedRepo:"selectedRepo",branches:"branches",integration:"integration",assignKey:"assignKey",moreBranchesLoading:"moreBranchesLoading"},outputs:{onBranchTextTyped:"onBranchTextTyped",onClearBranchInput:"onClearBranchInput",onLoadMoreBranches:"onLoadMoreBranches",onSelectBranch:"onSelectBranch",onSetFilteredBranches:"onSetFilteredBranches"},decls:2,vars:2,consts:function(){let t,e,a;return t=$localize`:form input placeholder@@forms_placeholder--search␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,e=$localize`:form input placeholder@@forms_placeholder--search␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,a=$localize`:@@cu-branch-selector__selector-text_select-branch␟0e7d00b2a0618947864ae3b91a651ebd4d7ce32b␟6067706948829559695: Select Branch `,[["style","margin-top: -10px",4,"ngIf"],["class","cu-dropdown","cuDropdown","",3,"dropdownAutoWidth","dropdownPreventDocumentScroll","dropdownClose",4,"ngIf"],[2,"margin-top","-10px"],["cuDropdown","",1,"cu-dropdown",3,"dropdownAutoWidth","dropdownPreventDocumentScroll","dropdownClose"],["branchDropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle",3,"hidden","click"],["class","cu-git-integration-modal__selector-container",4,"ngIf"],[1,"cu-git-integration-modal__selector-search",3,"hidden"],["class","cu-git-integration-modal__selector-search-input","type","text","placeholder",t,3,"ngModel","ngModelChange",4,"ngIf"],["class","cu-git-integration-modal__selector-search-input","type","text","placeholder",e,3,"ngModel","ngModelChange",4,"ngIf"],["icon","cu2-search2",1,"cu-git-integration-modal__selector-search-icon"],["cuLink","",1,"cu-git-integration-modal__selector-search-close",3,"click"],[1,"cu-icon","cu-icon_close"],["class","cu-dropdown__menu cu-git-integration-modal__selector-menu","cuScrollDetector","",3,"perfectScrollbar","onReachBottom",4,"cuDropdownMenu"],[1,"cu-git-integration-modal__selector-container"],[1,"cu-git-integration-modal__selector-text"],a,["icon","angle-right-no-padding",1,"cu-git-integration-modal__selector-arrow"],["tooltipDelay","300",1,"cu-git-integration-modal__selector-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["type","text","placeholder",t,1,"cu-git-integration-modal__selector-search-input",3,"ngModel","ngModelChange"],["branchFilterInput",""],["type","text","placeholder",e,1,"cu-git-integration-modal__selector-search-input",3,"ngModel","ngModelChange"],["cuScrollDetector","",1,"cu-dropdown__menu","cu-git-integration-modal__selector-menu",3,"perfectScrollbar","onReachBottom"],["tooltipDelay","300",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","item","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"item",4,"ngIf"],["tooltipDelay","300",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","item","click"],[3,"item"]]},template:function(t,e){1&t&&(C.bd(0,at,1,0,"cu-loader",0),C.bd(1,mt,12,8,"div",1)),2&t&&(C.Dc("ngIf",e.branchesLoading),C.Ib(1),C.Dc("ngIf",e.selectedRepo&&!e.branchesLoading))},directives:[$.q,z.a,F.b,M.a,R.a,U.a,L.a,E.c,E.p,E.s,J.a,Y.a,$.p,V.a],encapsulation:2,changeDetection:0}),t})();var gt=a("gwei"),bt=a("N3Tp"),ft=a("ug8/"),kt=a("soCZ"),_t=a("d0By"),wt=a("6/Td");const vt={provide:E.n,useExisting:Object(C.Z)(()=>yt),multi:!0};let yt=(()=>{class t{constructor(){}validate(t){return E.A.required(t)?null:wt.a.gitBranchName(t.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=C.Rb({type:t,selectors:[["","cuGitBranchNameFormControl","","formControlName",""],["","cuGitBranchNameFormControl","","formControl",""],["","cuGitBranchNameFormControl","","ngModel",""]],features:[C.Hb([vt])]}),t})();var xt=a("mpBQ"),Tt=a("VhLi");const It=["commitFilterInput"],Ct=["commitDropdown"],Dt=["pullRequestFilterInput"],St=["createBranchModal"],Ot=["createPullRequestModal"],jt=["configureSelfHostedIntegrationModal"];function Pt(t,e){1&t&&C.Xb(0,"div",31),2&t&&C.Dc("@loadingEnter",void 0)}function At(t,e){1&t&&C.Xb(0,"div",32),2&t&&C.Dc("@loadingEnter",void 0)}function $t(t,e){if(1&t){const t=C.dc();C.cc(0,"div",33),C.cc(1,"div",34),C.qc("click",function(){return C.Uc(t),C.uc().hideQuickStartBanner()}),C.bc(),C.cc(2,"div",35),C.gc(3,36),C.bc(),C.cc(4,"div",37),C.ac(5),C.gc(6,38),C.Zb(),C.cc(7,"a",39),C.gc(8,40),C.bc(),C.bc(),C.bc()}if(2&t){const t=C.uc();C.Dc("@loading",void 0),C.Ib(6),C.kc(t.integration.name)(t.integration.pullRequestLabel),C.hc(6),C.Ib(1),C.Dc("href",t.integration.links.docs,C.Xc)}}function Rt(t,e){1&t&&C.Xb(0,"div",31),2&t&&C.Dc("@loadingEnter",void 0)}function Ft(t,e){1&t&&C.Xb(0,"div",32),2&t&&C.Dc("@loadingEnter",void 0)}function Mt(t,e){1&t&&C.Xb(0,"div",31),2&t&&C.Dc("@loadingEnter",void 0)}function Et(t,e){1&t&&C.Xb(0,"div",32),2&t&&C.Dc("@loadingEnter",void 0)}function Ut(t,e){if(1&t){const t=C.dc();C.ac(0),C.cc(1,"div",12),C.cc(2,"div",13),C.ac(3),C.gc(4,41),C.Zb(),C.dd(5,": "),C.bc(),C.cc(6,"div",15),C.Xb(7,"input",16),C.cc(8,"div",6,42),C.qc("cbOnSuccess",function(){return C.Uc(t),C.Rc(9).setCopied()}),C.bd(10,Rt,1,1,"div",8),C.bd(11,Ft,1,1,"div",9),C.bc(),C.bc(),C.bc(),C.cc(12,"div",12),C.cc(13,"div",13),C.ac(14),C.dd(15,"Create & Checkout a new branch"),C.Zb(),C.dd(16,": "),C.bc(),C.cc(17,"div",15),C.Xb(18,"input",16),C.cc(19,"div",6,43),C.qc("cbOnSuccess",function(){return C.Uc(t),C.Rc(20).setCopied()}),C.bd(21,Mt,1,1,"div",8),C.bd(22,Et,1,1,"div",9),C.bc(),C.bc(),C.bc(),C.Zb()}if(2&t){const t=C.Rc(9),e=C.Rc(20),a=C.uc();C.Ib(7),C.Dc("value",a.branchNameFormat),C.Ib(1),C.Dc("cbContent",a.branchNameFormat),C.Ib(2),C.Dc("ngIf",!t.copied),C.Ib(1),C.Dc("ngIf",t.copied),C.Ib(7),C.Dc("value",a.branchNameFormatCommand),C.Ib(1),C.Dc("cbContent",a.branchNameFormatCommand),C.Ib(2),C.Dc("ngIf",!e.copied),C.Ib(1),C.Dc("ngIf",e.copied)}}function Lt(t,e){1&t&&C.Xb(0,"div",31),2&t&&C.Dc("@loadingEnter",void 0)}function zt(t,e){1&t&&C.Xb(0,"div",32),2&t&&C.Dc("@loadingEnter",void 0)}function Vt(t,e){if(1&t){const t=C.dc();C.cc(0,"div",44),C.qc("click",function(){return C.Uc(t),C.uc().showAutomationModal()}),C.Xb(1,"div",45),C.cc(2,"div",46),C.gc(3,47),C.bc(),C.Xb(4,"div",48),C.bc()}}function Nt(t,e){if(1&t){const t=C.dc();C.cc(0,"div",52),C.qc("click",function(){return C.Uc(t),C.uc(2).showCreateBranchModal()}),C.gc(1,53),C.bc()}}function qt(t,e){if(1&t){const t=C.dc();C.cc(0,"div",54),C.qc("click",function(){return C.Uc(t),C.uc(2).showPullRequestModal()}),C.gc(1,55),C.bc()}if(2&t){const t=C.uc(2);C.Ob("smaller","Merge Request"===t.integration.pullRequestLabel),C.Ib(1),C.kc(t.integration.pullRequestLabel),C.hc(1)}}function Bt(t,e){if(1&t&&(C.cc(0,"div",49),C.bd(1,Nt,2,0,"div",50),C.bd(2,qt,2,3,"div",51),C.bc()),2&t){const t=C.uc();C.Ib(1),C.Dc("ngIf",t.integration.createBranch),C.Ib(1),C.Dc("ngIf",t.integration.createPullRequest)}}function Gt(t,e){if(1&t){const t=C.dc();C.cc(0,"div",24),C.qc("click",function(){C.Uc(t);const e=C.uc();return e.selectTab(e.GitIntegrationModalTab.PullRequests)}),C.vc(1,"async"),C.dd(2),C.cc(3,"span"),C.dd(4),C.vc(5,"async"),C.bc(),C.bc()}if(2&t){const t=C.uc();let e=null;C.Ob("active",C.wc(1,4,t.tab$)===t.GitIntegrationModalTab.PullRequests),C.Ib(2),C.fd(" ",t.integration.pullRequestLabel,"s "),C.Ib(2),C.ed(null==(e=C.wc(5,6,t.attachedPullRequests$))?null:e.length)}}function Xt(t,e){if(1&t){const t=C.dc();C.cc(0,"div",24),C.qc("click",function(){C.Uc(t);const e=C.uc();return e.selectTab(e.GitIntegrationModalTab.Branches)}),C.mc(1,56),C.vc(2,"async"),C.Xb(3,"span"),C.vc(4,"async"),C.jc(),C.bc()}if(2&t){const t=C.uc();let e=null;C.Ob("active",C.wc(2,3,t.tab$)===t.GitIntegrationModalTab.Branches),C.Ib(4),C.kc(null==(e=C.wc(4,5,t.attachedBranches$))?null:e.length),C.hc(1)}}function Wt(t,e){if(1&t&&(C.cc(0,"div",66),C.cc(1,"div",67),C.ac(2),C.gc(3,68),C.Zb(),C.dd(4,": "),C.bc(),C.cc(5,"div",69),C.ac(6),C.gc(7,70),C.Zb(),C.dd(8,": "),C.bc(),C.cc(9,"div",71),C.ac(10),C.gc(11,72),C.Zb(),C.dd(12,": "),C.bc(),C.cc(13,"div",73),C.ac(14),C.gc(15,74),C.Zb(),C.dd(16,": "),C.bc(),C.cc(17,"div",75),C.dd(18),C.bc(),C.cc(19,"div",76),C.ac(20),C.gc(21,77),C.Zb(),C.dd(22,": "),C.bc(),C.cc(23,"div",78),C.ac(24),C.gc(25,79),C.Zb(),C.dd(26,": "),C.bc(),C.Xb(27,"div",80),C.bc()),2&t){const t=C.uc(2);C.Ib(18),C.fd(" ",t.integration.reviewerLabel,": ")}}function Ht(t,e){if(1&t&&(C.cc(0,"div",85),C.cc(1,"div",86),C.dd(2),C.bc(),C.bc()),2&t){const t=C.uc().$implicit;C.Ib(1),C.Dc("cuTooltip",t.repository.owner+"/"+t.repository.name)("tooltipDisabledIfTextNotTruncated",!0),C.Ib(1),C.gd(" ",t.repository.owner,"/",t.repository.name," ")}}function Zt(t,e){if(1&t&&C.Xb(0,"img",103),2&t){const t=C.uc().$implicit;C.Dc("src",t.avatar,C.Xc)("cuTooltip",t.name)}}function Qt(t,e){if(1&t&&(C.ac(0),C.bd(1,Zt,1,2,"img",102),C.Zb()),2&t){const t=e.$implicit;C.Ib(1),C.Dc("ngIf",t.avatar)}}function Kt(t,e){1&t&&(C.ac(0),C.dd(1,"-"),C.Zb())}function Jt(t,e){1&t&&C.Xb(0,"div",104)}function Yt(t,e){1&t&&C.Xb(0,"div",105)}function te(t,e){1&t&&C.Xb(0,"div",106)}function ee(t,e){1&t&&(C.ac(0),C.dd(1,"-"),C.Zb())}function ae(t,e){if(1&t){const t=C.dc();C.cc(0,"div",87),C.cc(1,"div",88),C.Xb(2,"div",89),C.cc(3,"a",90),C.dd(4),C.bc(),C.bc(),C.cc(5,"div",91),C.dd(6),C.bc(),C.cc(7,"div",92),C.dd(8),C.bc(),C.cc(9,"div",93),C.dd(10),C.bc(),C.cc(11,"div",94),C.bd(12,Qt,2,1,"ng-container",82),C.bd(13,Kt,2,0,"ng-container",11),C.bc(),C.cc(14,"div",95),C.bd(15,Jt,1,0,"div",96),C.bd(16,Yt,1,0,"div",97),C.bd(17,te,1,0,"div",98),C.bd(18,ee,2,0,"ng-container",11),C.bc(),C.cc(19,"div",99),C.cc(20,"span"),C.dd(21),C.bc(),C.bc(),C.cc(22,"div",100),C.cc(23,"div",101),C.qc("click",function(){C.Uc(t);const a=e.$implicit;return C.uc(4).removePullRequestFromTask(a)}),C.bc(),C.bc(),C.bc()}if(2&t){const t=e.$implicit,a=C.uc(4);C.Ib(3),C.Dc("href",t.url,C.Xc),C.Ib(1),C.ed(t.title),C.Ib(2),C.fd(" ",t.source_branch," "),C.Ib(2),C.fd(" ",t.target_branch," "),C.Ib(2),C.fd(" ",t.author," "),C.Ib(2),C.Dc("ngForOf",t.reviewers)("ngForTrackBy",a.trackByValue),C.Ib(1),C.Dc("ngIf",!(null!=t.reviewers&&t.reviewers.length)),C.Ib(2),C.Dc("ngIf","success"===t.build_status),C.Ib(1),C.Dc("ngIf","failure"===t.build_status||"failed"===t.build_status),C.Ib(1),C.Dc("ngIf","pending"===t.build_status||"running"===t.build_status),C.Ib(1),C.Dc("ngIf",!t.build_status),C.Ib(2),C.ad("background-color",a.statusColors[t.status]),C.Ib(1),C.ed(t.status)}}function ie(t,e){if(1&t&&(C.ac(0),C.bd(1,Ht,3,4,"div",83),C.bd(2,ae,24,15,"div",84),C.Zb()),2&t){const t=e.$implicit,a=C.uc(3);C.Ib(1),C.Dc("ngIf",t.repository.owner&&t.repository.name),C.Ib(1),C.Dc("ngForOf",t.pullRequests)("ngForTrackBy",a.trackById)}}function oe(t,e){if(1&t&&(C.cc(0,"div",81),C.bd(1,ie,3,3,"ng-container",82),C.vc(2,"async"),C.bc()),2&t){const t=C.uc(2);C.Ib(1),C.Dc("ngForOf",C.wc(2,2,t.groupedPullRequests$))("ngForTrackBy",t.trackById)}}function ne(t,e){if(1&t&&(C.cc(0,"div",81),C.cc(1,"div",107),C.gc(2,108),C.bc(),C.bc()),2&t){const t=C.uc(2);C.Ib(2),C.kc(t.integration.pullRequestLabel)(t.integration.pullRequestLabel),C.hc(2)}}function se(t,e){1&t&&C.Xb(0,"cu-loader",109)}function ce(t,e){if(1&t){const t=C.dc();C.cc(0,"input",124,125),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc(3).pullRequestSearchString=e})("ngModelChange",function(e){C.Uc(t);const a=C.uc(3);return a.setFilteredPullRequests(a.pullRequestSearchResults,e)}),C.bc()}if(2&t){const t=C.uc(3);C.Dc("ngModel",t.pullRequestSearchString)}}function re(t,e){if(1&t){const t=C.dc();C.cc(0,"input",126,125),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc(3).pullRequestSearchString=e})("ngModelChange",function(){return C.Uc(t),C.uc(3).pullRequestTextTyped$.next()}),C.bc()}if(2&t){const t=C.uc(3);C.Dc("ngModel",t.pullRequestSearchString)}}const le=function(t,e){return{id:t,title:e}};function ue(t,e){if(1&t){const t=C.dc();C.cc(0,"cu-dropdown-list-item",130),C.qc("click",function(){C.Uc(t);const a=e.$implicit;return C.uc(4).selectPullRequest(a)}),C.bc()}if(2&t){const t=e.$implicit;C.Dc("cuTooltip",t.title)("tooltipDisabledIfTextNotTruncated",!0)("item",C.Ic(3,le,t.id,t.title))}}function de(t,e){1&t&&C.Xb(0,"cu-loader")}const pe=function(t){return{id:"none",title:t,disabled:!0}};function me(t,e){if(1&t&&C.Xb(0,"cu-dropdown-list-item",131),2&t){const t=C.uc(4);C.Dc("item",C.Hc(1,pe,t.noPrLabelsfound))}}function he(t,e){if(1&t){const t=C.dc();C.cc(0,"div",127),C.qc("onReachBottom",function(){return C.Uc(t),C.uc(3).loadMorePullRequests()}),C.bd(1,ue,1,6,"cu-dropdown-list-item",128),C.bd(2,de,1,0,"cu-loader",11),C.bd(3,me,1,3,"cu-dropdown-list-item",129),C.bc()}if(2&t){const t=C.uc(3);C.Ib(1),C.Dc("ngForOf",t.filteredPullRequests)("ngForTrackBy",t.trackById),C.Ib(1),C.Dc("ngIf",t.morePullRequestsLoading),C.Ib(1),C.Dc("ngIf",0===t.filteredPullRequests.length&&!t.morePullRequestsLoading&&!t.pullRequestsLoading)}}function ge(t,e){if(1&t){const t=C.dc();C.cc(0,"div",110,111),C.cc(2,"div",112),C.qc("click",function(){return C.Uc(t),C.uc(2).focusPullRequestFilterInput()}),C.cc(3,"div",113),C.cc(4,"div",114),C.gc(5,115),C.bc(),C.Xb(6,"div",116),C.bc(),C.bc(),C.cc(7,"div",117),C.bd(8,ce,2,1,"input",118),C.bd(9,re,2,1,"input",119),C.Xb(10,"div",120),C.cc(11,"a",121),C.qc("click",function(){return C.Uc(t),C.uc(2).clearPullRequestInput()}),C.Xb(12,"i",122),C.bc(),C.bc(),C.bd(13,he,4,4,"div",123),C.bc()}if(2&t){const t=C.Rc(1),e=C.uc(2);C.Dc("dropdownAutoWidth",!0)("dropdownPreventDocumentScroll",!1),C.Ib(2),C.Dc("hidden",t.isOpen),C.Ib(3),C.kc(e.integration.pullRequestLabel),C.hc(5),C.Ib(2),C.Dc("hidden",!t.isOpen),C.Ib(1),C.Dc("ngIf",!e.integration.asyncPullRequestSearch),C.Ib(1),C.Dc("ngIf",e.integration.asyncPullRequestSearch)}}function be(t,e){1&t&&(C.ac(0),C.gc(1,135),C.Zb())}function fe(t,e){1&t&&(C.ac(0),C.gc(1,136),C.Zb())}function ke(t,e){if(1&t){const t=C.dc();C.cc(0,"div",132),C.qc("click",function(){return C.Uc(t),C.uc(2).toggleClosedPrs()}),C.bd(1,be,2,0,"ng-container",133),C.bd(2,fe,2,0,"ng-template",null,134,C.cd),C.bc()}if(2&t){const t=C.Rc(3),e=C.uc(2);C.Ib(1),C.Dc("ngIf",e.showClosedPr)("ngIfElse",t)}}function _e(t,e){if(1&t){const t=C.dc();C.ac(0),C.bd(1,Wt,28,1,"div",57),C.vc(2,"async"),C.cc(3,"div",58),C.bd(4,oe,3,4,"div",59),C.vc(5,"async"),C.bd(6,ne,3,2,"div",59),C.vc(7,"async"),C.bc(),C.cc(8,"div",60),C.cc(9,"div",61),C.cc(10,"cu-repo-selector",62),C.qc("onSetFilteredRepos",function(e){return C.Uc(t),C.uc().setFilteredRepos(e)})("onClearRepoInput",function(){return C.Uc(t),C.uc().clearRepoInput()})("onSelectRepo",function(e){return C.Uc(t),C.uc().selectRepo(e.repo,e.tag)}),C.vc(11,"async"),C.bc(),C.bc(),C.cc(12,"div",61),C.bd(13,se,1,0,"cu-loader",63),C.bd(14,ge,14,7,"div",64),C.bc(),C.bd(15,ke,4,2,"div",65),C.bc(),C.Zb()}if(2&t){const t=C.uc();let e=null,a=null,i=null;C.Ib(1),C.Dc("ngIf",(null==(e=C.wc(2,10,t.attachedPullRequests$))?null:e.length)>0),C.Ib(3),C.Dc("ngIf",(null==(a=C.wc(5,12,t.attachedPullRequests$))?null:a.length)>0),C.Ib(2),C.Dc("ngIf",0===(null==(i=C.wc(7,14,t.attachedPullRequests$))?null:i.length)),C.Ib(4),C.Dc("selectedRepo",t.selectedRepo)("isFilteredReposNotReady",t.isFilteredReposNotReady)("filteredRepos",t.filteredRepos)("tab",C.wc(11,16,t.tab$)),C.Ib(3),C.Dc("ngIf",t.pullRequestsLoading),C.Ib(1),C.Dc("ngIf",t.selectedRepo&&!t.pullRequestsLoading),C.Ib(1),C.Dc("ngIf",t.selectedRepo&&!t.pullRequestsLoading)}}function we(t,e){1&t&&(C.ac(0),C.cc(1,"div",69),C.ac(2),C.gc(3,146),C.Zb(),C.dd(4,": "),C.bc(),C.cc(5,"div",71),C.ac(6),C.gc(7,147),C.Zb(),C.dd(8,": "),C.bc(),C.Zb())}function ve(t,e){1&t&&(C.cc(0,"div",148),C.ac(1),C.gc(2,149),C.Zb(),C.dd(3,": "),C.bc())}function ye(t,e){if(1&t&&(C.ac(0),C.cc(1,"div",156),C.gc(2,157),C.bc(),C.Xb(3,"div",158),C.cc(4,"div",153),C.dd(5),C.bc(),C.Zb()),2&t){const t=C.uc(2).$implicit;C.Ib(5),C.fd(" ",t.repository.name," ")}}function xe(t,e){if(1&t){const t=C.dc();C.cc(0,"div",159),C.qc("click",function(){C.Uc(t);const e=C.uc(2).$implicit;return C.uc(3).unattachBranchFromTask(e.branchName,e.repository)}),C.bc()}}function Te(t,e){if(1&t&&(C.cc(0,"div",85),C.Xb(1,"div",152),C.cc(2,"div",153),C.dd(3),C.cc(4,"div",154),C.qc("click",function(t){return t.preventDefault(),t.stopPropagation()}),C.bc(),C.bc(),C.bd(5,ye,6,1,"ng-container",11),C.bd(6,xe,1,0,"div",155),C.bc()),2&t){const t=C.uc().$implicit;C.Ib(3),C.fd(" ",t.branchName," "),C.Ib(1),C.Dc("cbContent",t.branchName),C.Ib(1),C.Dc("ngIf",t.repository.name),C.Ib(1),C.Dc("ngIf",t.isBranchLinked)}}function Ie(t,e){if(1&t&&(C.ac(0),C.cc(1,"div",91),C.dd(2),C.bc(),C.cc(3,"div",92),C.dd(4),C.bc(),C.Zb()),2&t){const t=C.uc(2).$implicit;C.Ib(2),C.fd(" ",t.repository.name," "),C.Ib(2),C.fd(" ",t.branch_name," ")}}function Ce(t,e){if(1&t&&(C.ac(0),C.gc(1,169),C.Zb()),2&t){const t=C.uc(3).$implicit;C.Ib(1),C.kc(null==t.modified_files?null:t.modified_files.length)(null==t.modified_files?null:t.modified_files.length),C.hc(1)}}function De(t,e){if(1&t&&C.Xb(0,"cu-git-files-menu",170),2&t){const t=C.uc(3).$implicit;C.Dc("files",t.modified_files)}}const Se=function(){return["bottom-right","top-right","auto"]};function Oe(t,e){if(1&t&&(C.cc(0,"div",166),C.cc(1,"div",167),C.bd(2,Ce,2,2,"ng-container",11),C.bc(),C.bd(3,De,1,1,"cu-git-files-menu",168),C.bc()),2&t){const t=C.uc(2).$implicit;C.Dc("dropdownPlacement",C.Gc(2,Se)),C.Ib(2),C.Dc("ngIf",t.modified_files)}}function je(t,e){if(1&t){const t=C.dc();C.ac(0),C.cc(1,"div",88),C.Xb(2,"div",89),C.cc(3,"a",90),C.dd(4),C.bc(),C.bc(),C.cc(5,"div",163),C.dd(6),C.vc(7,"momentDate"),C.bc(),C.bd(8,Ie,5,2,"ng-container",11),C.vc(9,"async"),C.cc(10,"div",93),C.dd(11),C.bc(),C.bd(12,Oe,4,3,"div",164),C.cc(13,"div",100),C.cc(14,"div",165),C.qc("click",function(){C.Uc(t);const e=C.uc().$implicit;return C.uc(4).removeCommitFromTask(e)}),C.bc(),C.bc(),C.Zb()}if(2&t){const t=C.uc().$implicit,e=C.uc(4);C.Ib(3),C.Lb(t.commit_url?"":"disabled"),C.Dc("href",t.commit_url?t.commit_url:"",C.Xc),C.Ib(1),C.ed(t.message),C.Ib(2),C.fd(" ",C.xc(7,9,t.date,"MMM D Y, H:mm")," "),C.Ib(2),C.Dc("ngIf",C.wc(9,12,e.tab$)===e.GitIntegrationModalTab.Commits),C.Ib(3),C.fd(" ",t.author," "),C.Ib(1),C.Dc("ngIf",e.integration.hasModifiedFiles)}}function Pe(t,e){1&t&&(C.cc(0,"div",160),C.bd(1,je,15,14,"ng-container",161),C.Xb(2,"div",162),C.bc()),2&t&&C.Dc("lazyDefaultHeight",32)}function Ae(t,e){if(1&t&&(C.ac(0),C.bd(1,Te,7,4,"div",83),C.vc(2,"async"),C.bd(3,Pe,3,1,"div",151),C.Zb()),2&t){const t=e.$implicit,a=C.uc(3);C.Ib(1),C.Dc("ngIf",C.wc(2,3,a.tab$)===a.GitIntegrationModalTab.Branches),C.Ib(2),C.Dc("ngForOf",t.commits)("ngForTrackBy",a.trackBySha)}}function $e(t,e){if(1&t&&(C.cc(0,"div",150),C.bd(1,Ae,4,5,"ng-container",82),C.vc(2,"async"),C.bc()),2&t){C.uc();const t=C.Rc(18),e=C.uc();C.Dc("lazyScrollContainer",t)("lazyMargin","500px"),C.Ib(1),C.Dc("ngForOf",C.wc(2,4,e.groupedCommits$))("ngForTrackBy",e.trackById)}}function Re(t,e){1&t&&(C.cc(0,"div",81),C.cc(1,"div",107),C.gc(2,171),C.bc(),C.bc())}function Fe(t,e){1&t&&C.Xb(0,"cu-loader",109)}function Me(t,e){if(1&t){const t=C.dc();C.cc(0,"input",179,180),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc(4).commitSearchString=e})("ngModelChange",function(e){C.Uc(t);const a=C.uc(4);return a.setFilteredCommits(a.unattachedCommits,e)}),C.bc()}if(2&t){const t=C.uc(4);C.Dc("ngModel",t.commitSearchString)}}function Ee(t,e){if(1&t){const t=C.dc();C.cc(0,"input",179,180),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc(4).commitSearchString=e})("ngModelChange",function(){return C.Uc(t),C.uc(4).commitTextTyped$.next()}),C.bc()}if(2&t){const t=C.uc(4);C.Dc("ngModel",t.commitSearchString)}}function Ue(t,e){if(1&t){const t=C.dc();C.cc(0,"div",183),C.qc("click",function(){C.Uc(t);const e=C.uc(5);return e.attachCommitsToTask(e.filteredUnattachedCommits)}),C.gc(1,184),C.bc()}}function Le(t,e){if(1&t&&C.Xb(0,"cu-dropdown-list-item",131),2&t){const t=C.uc(5);C.Dc("item",C.Hc(1,pe,t.noUnattachedCommitsFoundText))}}function ze(t,e){1&t&&C.Xb(0,"cu-loader")}function Ve(t,e){if(1&t){const t=C.dc();C.ac(0),C.cc(1,"cu-dropdown-list-item",185),C.qc("click",function(){C.Uc(t);const a=e.$implicit;return C.uc(5).attachCommitsToTask([a])}),C.bc(),C.bd(2,ze,1,0,"cu-loader",11),C.Zb()}if(2&t){const t=e.$implicit;C.Ib(1),C.Dc("hidden",t.loading)("item",C.Ic(3,le,t.sha,t.message)),C.Ib(1),C.Dc("ngIf",t.loading)}}function Ne(t,e){1&t&&C.Xb(0,"cu-loader")}function qe(t,e){if(1&t){const t=C.dc();C.cc(0,"div",181),C.qc("onReachBottom",function(){return C.Uc(t),C.uc(4).loadMoreCommits()}),C.bd(1,Ue,2,0,"div",182),C.bd(2,Le,1,3,"cu-dropdown-list-item",129),C.bd(3,Ve,3,6,"ng-container",82),C.bd(4,Ne,1,0,"cu-loader",11),C.bc()}if(2&t){const t=C.uc(4);C.Ib(1),C.Dc("ngIf",t.filteredUnattachedCommits.length>0),C.Ib(1),C.Dc("ngIf",0===t.filteredUnattachedCommits.length&&!t.isBranchCommitsNotReady),C.Ib(1),C.Dc("ngForOf",t.filteredUnattachedCommits)("ngForTrackBy",t.trackBySha),C.Ib(1),C.Dc("ngIf",t.moreCommitsLoading||t.isBranchCommitsNotReady)}}function Be(t,e){if(1&t){const t=C.dc();C.cc(0,"div",173,174),C.cc(2,"div",112),C.qc("click",function(){return C.Uc(t),C.uc(3).focusCommitFilterInput()}),C.cc(3,"div",113),C.cc(4,"div",175),C.gc(5,176),C.bc(),C.Xb(6,"div",116),C.bc(),C.bc(),C.cc(7,"div",117),C.bd(8,Me,2,1,"input",177),C.bd(9,Ee,2,1,"input",177),C.Xb(10,"div",120),C.cc(11,"a",121),C.qc("click",function(){return C.Uc(t),C.uc(3).clearCommitInput()}),C.Xb(12,"i",122),C.bc(),C.bc(),C.bd(13,qe,5,5,"div",178),C.bc()}if(2&t){const t=C.Rc(1),e=C.uc(3);C.Dc("dropdownAutoWidth",!0)("dropdownCloseOnInsideClick",!1)("dropdownPreventDocumentScroll",!1),C.Ib(2),C.Dc("hidden",t.isOpen),C.Ib(2),C.Dc("tooltipDisabledIfTextNotTruncated",!0),C.Ib(3),C.Dc("hidden",!t.isOpen),C.Ib(1),C.Dc("ngIf",!e.integration.asyncCommitSearch),C.Ib(1),C.Dc("ngIf",e.integration.asyncCommitSearch)}}function Ge(t,e){if(1&t&&(C.cc(0,"div",61),C.bd(1,Fe,1,0,"cu-loader",63),C.bd(2,Be,14,8,"div",172),C.bc()),2&t){const t=C.uc(2);C.Ib(1),C.Dc("ngIf",t.isBranchCommitsNotReady&&(!t.integration.asyncCommitSearch||!t.commitSearchString)),C.Ib(1),C.Dc("ngIf",t.unattachedCommits.length||t.integration.asyncCommitSearch&&t.commitSearchString)}}function Xe(t,e){if(1&t){const t=C.dc();C.ac(0),C.cc(1,"div",66),C.cc(2,"div",67),C.ac(3),C.gc(4,137),C.Zb(),C.dd(5,": "),C.bc(),C.cc(6,"div",138),C.ac(7),C.gc(8,139),C.Zb(),C.dd(9,": "),C.bc(),C.bd(10,we,9,0,"ng-container",11),C.vc(11,"async"),C.cc(12,"div",73),C.ac(13),C.gc(14,140),C.Zb(),C.bc(),C.bd(15,ve,4,0,"div",141),C.Xb(16,"div",80),C.bc(),C.cc(17,"div",58,142),C.bd(19,$e,3,6,"div",143),C.vc(20,"async"),C.bd(21,Re,3,0,"div",59),C.vc(22,"async"),C.bc(),C.cc(23,"div",60),C.cc(24,"div",61),C.cc(25,"cu-repo-selector",62),C.qc("onSetFilteredRepos",function(e){return C.Uc(t),C.uc().setFilteredRepos(e)})("onClearRepoInput",function(){return C.Uc(t),C.uc().clearRepoInput()})("onSelectRepo",function(e){return C.Uc(t),C.uc().selectRepo(e.repo,e.tag)}),C.vc(26,"async"),C.bc(),C.bc(),C.cc(27,"div",61),C.cc(28,"cu-branch-selector",144),C.qc("onBranchTextTyped",function(e){return C.Uc(t),C.uc().branchTextTyped$.next(e)})("onLoadMoreBranches",function(e){return C.Uc(t),C.uc().loadMoreBranches(e)})("onSelectBranch",function(e){return C.Uc(t),C.uc().selectBranch(e)})("onSetFilteredBranches",function(e){return C.Uc(t),C.uc().setFilteredBranches(e)})("onClearBranchInput",function(){return C.Uc(t),C.uc().clearBranchInput()}),C.bc(),C.bc(),C.bd(29,Ge,3,2,"div",145),C.vc(30,"async"),C.bc(),C.Zb()}if(2&t){const t=C.uc();let e=null,a=null;C.Ib(10),C.Dc("ngIf",C.wc(11,16,t.tab$)===t.GitIntegrationModalTab.Commits),C.Ib(5),C.Dc("ngIf",t.integration.hasModifiedFiles),C.Ib(4),C.Dc("ngIf",(null==(e=C.wc(20,18,t.groupedCommits$))?null:e.length)>0),C.Ib(2),C.Dc("ngIf",0===(null==(a=C.wc(22,20,t.groupedCommits$))?null:a.length)),C.Ib(4),C.Dc("selectedRepo",t.selectedRepo)("isFilteredReposNotReady",t.isFilteredReposNotReady)("filteredRepos",t.filteredRepos)("tab",C.wc(26,22,t.tab$)),C.Ib(3),C.Dc("selectedBranch",t.selectedBranch)("filteredBranches",t.filteredBranches)("branchesLoading",t.branchesLoading)("selectedRepo",t.selectedRepo)("branches",t.branches)("integration",t.integration)("moreBranchesLoading",t.moreBranchesLoading),C.Ib(1),C.Dc("ngIf",C.wc(30,24,t.tab$)===t.GitIntegrationModalTab.Commits)}}function We(t,e){1&t&&(C.cc(0,"div",207),C.cc(1,"div",208),C.Xb(2,"div",209),C.bc(),C.cc(3,"div",210),C.gc(4,211),C.bc(),C.bc())}function He(t,e){if(1&t){const t=C.dc();C.cc(0,"div",188),C.cc(1,"div",189),C.ac(2),C.gc(3,190),C.Zb(),C.dd(4,": "),C.bc(),C.cc(5,"div",191),C.cc(6,"input",192,193),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc(2).newBranchName=e}),C.bc(),C.bd(8,We,5,0,"div",194),C.bc(),C.cc(9,"div",189),C.ac(10),C.gc(11,195),C.Zb(),C.dd(12,": "),C.bc(),C.cc(13,"div",191),C.cc(14,"cu-repo-selector",62),C.qc("onSetFilteredRepos",function(e){return C.Uc(t),C.uc(2).setFilteredRepos(e)})("onClearRepoInput",function(){return C.Uc(t),C.uc(2).clearRepoInput()})("onSelectRepo",function(e){return C.Uc(t),C.uc(2).selectRepo(e.repo,e.tag)}),C.vc(15,"async"),C.bc(),C.bc(),C.cc(16,"div",189),C.dd(17,"Source branch:"),C.bc(),C.cc(18,"div",191),C.cc(19,"cu-branch-selector",196),C.qc("onBranchTextTyped",function(e){return C.Uc(t),C.uc(2).branchTextTyped$.next(e)})("onLoadMoreBranches",function(e){return C.Uc(t),C.uc(2).loadMoreBranches(e)})("onSelectBranch",function(e){return C.Uc(t),C.uc(2).selectBranch(e)})("onSetFilteredBranches",function(e){return C.Uc(t),C.uc(2).setFilteredBranches(e)})("onClearBranchInput",function(){return C.Uc(t),C.uc(2).clearBranchInput()}),C.bc(),C.bc(),C.Xb(20,"div",197),C.cc(21,"div",49),C.cc(22,"div",198),C.qc("click",function(){return C.Uc(t),C.uc(2).closeModal()}),C.gc(23,199),C.bc(),C.cc(24,"button",200),C.qc("click",function(){return C.Uc(t),C.uc(2).createBranch()}),C.cc(25,"div",201),C.gc(26,202),C.bc(),C.cc(27,"div",203),C.Xb(28,"div",204),C.Xb(29,"div",205),C.Xb(30,"div",206),C.bc(),C.bc(),C.bc(),C.bc()}if(2&t){const t=C.Rc(7),e=C.uc(2);C.Ib(6),C.Dc("ngModel",e.newBranchName),C.Ib(2),C.Dc("ngIf",t.invalid),C.Ib(6),C.Dc("selectedRepo",e.selectedRepo)("isFilteredReposNotReady",e.isFilteredReposNotReady)("filteredRepos",e.filteredRepos)("tab",C.wc(15,17,e.tab$)),C.Ib(5),C.Dc("selectedBranch",e.selectedBranch)("filteredBranches",e.filteredBranches)("assignKey","selectedBranch")("branchesLoading",e.branchesLoading)("selectedRepo",e.selectedRepo)("branches",e.branches)("integration",e.integration)("moreBranchesLoading",e.moreBranchesLoading),C.Ib(5),C.Ob("cu-btn_spinner",e.createBranchLoading),C.Dc("disabled",!e.newBranchName||!e.selectedBranch||e.createBranchLoading)}}function Ze(t,e){1&t&&C.Xb(0,"div",31),2&t&&C.Dc("@loadingEnter",void 0)}function Qe(t,e){1&t&&C.Xb(0,"div",32),2&t&&C.Dc("@loadingEnter",void 0)}function Ke(t,e){if(1&t){const t=C.dc();C.cc(0,"div",212),C.Xb(1,"img",213),C.cc(2,"div",214),C.gc(3,215),C.bc(),C.cc(4,"div",15),C.Xb(5,"input",16),C.cc(6,"div",6,216),C.qc("cbOnSuccess",function(){return C.Uc(t),C.Rc(7).setCopied()}),C.bd(8,Ze,1,1,"div",8),C.bd(9,Qe,1,1,"div",9),C.bc(),C.bc(),C.cc(10,"button",54),C.qc("click",function(){return C.Uc(t),C.uc(2).closeModal()}),C.gc(11,217),C.bc(),C.bc()}if(2&t){const t=C.Rc(7),e=C.uc(2);C.Ib(5),C.Dc("value",e.newBranchName),C.Ib(1),C.Dc("cbContent",e.newBranchName),C.Ib(2),C.Dc("ngIf",!t.copied),C.Ib(1),C.Dc("ngIf",t.copied)}}function Je(t,e){if(1&t&&(C.bd(0,He,31,19,"div",186),C.bd(1,Ke,12,4,"div",187)),2&t){const t=C.uc();C.Dc("ngIf",!t.branchCreated),C.Ib(1),C.Dc("ngIf",t.branchCreated)}}function Ye(t,e){if(1&t){const t=C.dc();C.cc(0,"div",188),C.cc(1,"div",189),C.ac(2),C.gc(3,218),C.Zb(),C.dd(4,": "),C.bc(),C.cc(5,"div",191),C.cc(6,"input",219),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc().pullRequestTitle=e}),C.bc(),C.bc(),C.cc(7,"div",189),C.ac(8),C.gc(9,220),C.Zb(),C.dd(10,": "),C.bc(),C.cc(11,"div",191),C.cc(12,"cu-repo-selector",62),C.qc("onSetFilteredRepos",function(e){return C.Uc(t),C.uc().setFilteredRepos(e)})("onClearRepoInput",function(){return C.Uc(t),C.uc().clearRepoInput()})("onSelectRepo",function(e){return C.Uc(t),C.uc().selectRepo(e.repo,e.tag)}),C.vc(13,"async"),C.bc(),C.bc(),C.cc(14,"div",189),C.ac(15),C.gc(16,221),C.Zb(),C.dd(17,": "),C.bc(),C.cc(18,"div",191),C.cc(19,"cu-branch-selector",196),C.qc("onBranchTextTyped",function(e){return C.Uc(t),C.uc().branchTextTyped$.next(e)})("onLoadMoreBranches",function(e){return C.Uc(t),C.uc().loadMoreBranches(e)})("onSelectBranch",function(e){return C.Uc(t),C.uc().selectBranch(e)})("onSetFilteredBranches",function(e){return C.Uc(t),C.uc().setFilteredBranches(e)})("onClearBranchInput",function(){return C.Uc(t),C.uc().clearBranchInput()}),C.bc(),C.bc(),C.cc(20,"div",189),C.ac(21),C.gc(22,222),C.Zb(),C.dd(23,": "),C.bc(),C.cc(24,"div",191),C.cc(25,"cu-branch-selector",196),C.qc("onBranchTextTyped",function(e){return C.Uc(t),C.uc().branchTextTyped$.next(e)})("onLoadMoreBranches",function(e){return C.Uc(t),C.uc().loadMoreBranches(e)})("onSelectBranch",function(e){return C.Uc(t),C.uc().selectBranch(e)})("onSetFilteredBranches",function(e){return C.Uc(t),C.uc().setFilteredBranches(e)})("onClearBranchInput",function(){return C.Uc(t),C.uc().clearBranchInput()}),C.bc(),C.bc(),C.cc(26,"div",189),C.ac(27),C.gc(28,223),C.Zb(),C.dd(29,": "),C.bc(),C.cc(30,"div",224),C.cc(31,"textarea",225),C.qc("ngModelChange",function(e){return C.Uc(t),C.uc().pullRequestDescription=e}),C.bc(),C.bc(),C.Xb(32,"div",197),C.cc(33,"div",49),C.cc(34,"div",198),C.qc("click",function(){return C.Uc(t),C.uc().closeModal()}),C.gc(35,226),C.bc(),C.cc(36,"button",227),C.qc("click",function(){return C.Uc(t),C.uc().createPullRequest()}),C.cc(37,"div",201),C.dd(38),C.bc(),C.cc(39,"div",203),C.Xb(40,"div",204),C.Xb(41,"div",205),C.Xb(42,"div",206),C.bc(),C.bc(),C.bc(),C.bc()}if(2&t){const t=C.uc();C.Ib(3),C.kc(t.integration.pullRequestLabel),C.hc(3),C.Ib(3),C.Dc("ngModel",t.pullRequestTitle),C.Ib(6),C.Dc("selectedRepo",t.selectedRepo)("isFilteredReposNotReady",t.isFilteredReposNotReady)("filteredRepos",t.filteredRepos)("tab",C.wc(13,27,t.tab$)),C.Ib(7),C.Dc("selectedBranch",t.pullRequestSourceBranch)("filteredBranches",t.filteredBranches)("assignKey","pullRequestSourceBranch")("branchesLoading",t.branchesLoading)("selectedRepo",t.selectedRepo)("branches",t.branches)("integration",t.integration)("moreBranchesLoading",t.moreBranchesLoading),C.Ib(6),C.Dc("selectedBranch",t.pullRequestTargetBranch)("filteredBranches",t.filteredBranches)("assignKey","pullRequestTargetBranch")("branchesLoading",t.branchesLoading)("selectedRepo",t.selectedRepo)("branches",t.branches)("integration",t.integration)("moreBranchesLoading",t.moreBranchesLoading),C.Ib(6),C.Dc("ngModel",t.pullRequestDescription),C.Ib(5),C.Ob("cu-btn_spinner",t.createPullRequestLoading),C.Dc("disabled",!t.pullRequestTitle||!t.pullRequestSourceBranch||!t.pullRequestTargetBranch||t.createPullRequestLoading),C.Ib(2),C.fd("New ",t.integration.pullRequestLabel,"")}}function ta(t,e){if(1&t){const t=C.dc();C.cc(0,"cu-version-control-self-hosted-config-modal",228),C.qc("saveSelfHostedIntegrationConfig",function(e){return C.Uc(t),C.uc().saveSelfHostedToken(e.accessToken)}),C.bc()}if(2&t){const t=C.uc();C.Dc("integration",t.integration)("tokenOnly",!0)}}var ea=function(t){return t[t.PullRequests=0]="PullRequests",t[t.Branches=1]="Branches",t[t.Commits=2]="Commits",t}({});const aa={open:"#2CBE4E",closed:"#CB2431",merged:"#6F42C1",declined:"#CB2431",opened:"#2CBE4E"};let ia=(()=>{class t{constructor(t,e,a,s,r,l,u){this.sharedData=t,this.modalService=e,this.renderer=a,this.cdr=s,this.injector=r,this.userService=l,this.store=u,this.trackById=Object(_.d)("id"),this.trackByName=Object(_.d)("name"),this.trackBySha=Object(_.d)("sha"),this.trackByValue=_.f,this.unattachedCommits=[],this.isFilteredReposNotReady=!1,this.isBranchCommitsNotReady=!1,this.branchesLoading=!1,this.showClosedPr=!1,this.attachedBranches$=new i.a([]),this.moreBranchesLoading=!1,this.moreCommitsLoading=!1,this.branchTextTyped$=new o.a,this.commitTextTyped$=new o.a,this.pullRequestTextTyped$=new o.a,this.destroy$=new o.a,this.tab$=new i.a(ea.PullRequests),this.commits$=new i.a([]),this.GitIntegrationModalTab=ea,this.attachedPullRequests$=new i.a([]),this.pullRequestsLoading=!1,this.morePullRequestsLoading=!1,this.otherModalOpen=!1,this.createBranchLoading=!1,this.createPullRequestLoading=!1,this.statusColors=aa,this.groupedPullRequests$=this.attachedPullRequests$.pipe(Object(c.a)(t=>{const e=Object(h.a)(t,"repository.id");return Object.entries(e).map(([t,e])=>({id:t,repository:e[0].repository,pullRequests:e}))})),this.groupedCommits$=Object(n.a)([this.commits$,this.attachedBranches$,this.tab$]).pipe(Object(c.a)(([t,e,a])=>{const i=Object(h.a)(t,"branch_name");return a===ea.Branches?[...Object(g.a)(Object.entries(i).map(([t,a])=>{const i=Object(h.a)(a,"repository.id");return Object.entries(i).map(([a,i])=>({id:a+t,repository:{id:a,name:i[0].repository?i[0].repository.name:""},branchName:t,commits:Object(b.a)(i,"date","desc"),isBranchLinked:e.some(e=>e.name===t&&e.repository.id===a)}))})),...e.filter(e=>!t.some(t=>t.repository.id===e.repository.id&&t.branch_name===e.name)).map(t=>({id:t.repository.id+t.name,repository:t.repository,branchName:t.name,commits:[],isBranchLinked:!0}))].filter(t=>t.isBranchLinked):0===t.length?[]:[{id:"commits",repository:{id:null,name:null},branchName:null,commits:Object(b.a)(t,"date","desc"),isBranchLinked:!1}]})),this.branchCreated=!1,this.showQuickStartBanner=!0,this.authedWithIntegration=!1,this.isSelfHosted=!1,this.noUnattachedCommitsFoundText=$localize`:@@cu-git-integration-modal__title_no-unattached-commits:No unattached commits found`}get noPrLabelsfound(){return $localize`:@@cu-git-integration-modal__title_no-pr-labels-found:No ${this.integration.pullRequestLabel}:prLabel:s found`}ngOnInit(){const t=this.task.custom_id||"CU-"+this.task.id;this.integration.getSettings(this.team).subscribe(({branchNameFormat:e,authedWithIntegration:a,isSelfHosted:i})=>{const o=t=>t.replace(/ /g,"-").replace(/[^\w_\-]/g,"");this.branchNameFormat=(e||s.a).replace(":taskId:",t).replace(":taskName:",o(this.task.name)).replace(":username:",o(this.user.username)),this.branchNameFormatCommand=`git checkout -b "${this.branchNameFormat}"`,this.authedWithIntegration=a,this.isSelfHosted=i,this.cdr.markForCheck()}),this.linkCommit=`git commit -m "${t} - ${this.task.name}"`,this.integration.getAttachedTaskPullRequests(this.task).subscribe(t=>{this.attachedPullRequests$.next(t),this.cdr.markForCheck()}),this.integration.canAttachBranchesToTasks&&this.integration.getAttachedTaskBranches(this.task).subscribe(t=>{this.attachedBranches$.next(t),this.resetFilteredBranches(),this.cdr.markForCheck()}),this.integration.getTaskCommits(this.task).subscribe(t=>{this.commits$.next(t)}),this.setRepos(),this.branchTextTyped$.pipe(Object(r.a)(400),Object(l.a)(()=>!!this.integration.asyncBranchSearch),Object(u.a)(this.destroy$)).subscribe(t=>{this.selectRepo(this.selectedRepo,"moreBranchesLoading",t)}),this.commitTextTyped$.pipe(Object(r.a)(400),Object(l.a)(()=>!!this.integration.asyncCommitSearch),Object(u.a)(this.destroy$)).subscribe(()=>{this.fetchBranchCommits()}),this.pullRequestTextTyped$.pipe(Object(r.a)(400),Object(l.a)(()=>!!this.integration.asyncPullRequestSearch),Object(u.a)(this.destroy$)).subscribe(()=>{this.selectRepo(this.selectedRepo,"morePullRequestsLoading")}),this.modalService.closeModal.pipe(Object(u.a)(this.destroy$)).subscribe(()=>{this.otherModalOpen=!1})}ngOnDestroy(){this.destroy$.next()}setFilteredBranches({branches:t,searchText:e}){this.filteredBranches=t.filter(t=>Object(w.a)(t.name,e))}clearBranchInput(){this.filteredBranches=this.branches.slice().map(t=>Object.assign({},t))}loadMoreBranches({searchString:t}){if(this.nextBranchesPage&&!this.moreBranchesLoading){this.moreBranchesLoading=!0;const e=this.selectedRepo;this.integration.getTaskRepositoryBranches(e,this.task,{page:this.nextBranchesPage,search:t}).pipe(Object(d.a)(()=>{this.moreBranchesLoading=!1,this.cdr.markForCheck()})).subscribe(({branches:t,next:a})=>{this.selectedRepo===e&&(this.branches=[...this.branches,...t],this.nextBranchesPage=a,this.resetFilteredBranches(),this.cdr.markForCheck())})}}loadMorePullRequests(){if(this.nextPullRequestsPage&&!this.morePullRequestsLoading){this.morePullRequestsLoading=!0;const t=this.selectedRepo;this.integration.getRepositoryPullRequests(t,{page:this.nextPullRequestsPage,search:this.pullRequestSearchString,showClosed:this.showClosedPr}).pipe(Object(d.a)(()=>{this.morePullRequestsLoading=!1,this.cdr.markForCheck()})).subscribe(({pullRequests:e,next:a})=>{this.selectedRepo===t&&(this.pullRequestSearchResults=[...this.pullRequestSearchResults,...e],this.nextPullRequestsPage=a,this.resetFilteredPullRequests(),this.cdr.markForCheck())})}}loadMoreCommits(){if(this.nextCommitsPage&&!this.moreCommitsLoading){this.moreCommitsLoading=!0;const t=this.selectedRepo,e=this.selectedBranch;this.integration.getAllBranchCommits(this.selectedRepo,e,this.task,{page:this.nextCommitsPage,search:this.commitSearchString}).pipe(Object(d.a)(()=>{this.moreCommitsLoading=!1,this.cdr.markForCheck()})).subscribe(({commits:a,next:i})=>{this.selectedRepo===t&&this.selectedBranch===e&&(this.unattachedCommits=[...this.unattachedCommits,...a],this.setFilteredCommits(Object(f.a)(this.unattachedCommits)),this.nextCommitsPage=i,this.cdr.markForCheck())})}}setRepos(){this.isFilteredReposNotReady=!0,this.integration.getTaskRepositories(this.task).subscribe(t=>{this.repos=t,this.isFilteredReposNotReady=!1,this.filteredRepos=this.repos.slice().map(t=>Object.assign({},t)),this.cdr.markForCheck()})}setFilteredRepos(t){this.filteredRepos=this.repos.filter(e=>Object(w.a)(e.name,t))}setFilteredPullRequests(t,e){this.filteredPullRequests=t.filter(t=>Object(w.a)(t.title,e))}setFilteredCommits(t,e){this.filteredUnattachedCommits=t.filter(t=>Object(w.a)(t.message,e)||Object(w.a)(t.author,e)||Object(w.a)(t.sha,e)).filter(t=>!this.commits$.value.some(e=>e.sha===t.sha))}closeModal(){this.modalService.close()}selectRepo(t,e,a){this.selectedRepo=t,this[e]=!0,this.tab$.value!==ea.PullRequests||this.otherModalOpen?(this.branches=[],this.otherModalOpen||(this.selectedBranch=null),this.resetFilteredBranches(),this.unattachedCommits=[],this.setFilteredCommits([]),this.integration.getTaskRepositoryBranches(t,this.task,{search:a||""}).pipe(Object(d.a)(()=>{this[e]=!1,this.cdr.markForCheck()})).subscribe(({branches:t,next:e})=>{this.branches=t,this.nextBranchesPage=e,this.resetFilteredBranches(),this.cdr.markForCheck()})):("pullRequestsLoading"===e&&(this.pullRequestSearchString=""),this.pullRequestSearchResults=[],this.resetFilteredPullRequests(),this.integration.getRepositoryPullRequests(t,{search:this.pullRequestSearchString,showClosed:this.showClosedPr}).pipe(Object(d.a)(()=>{this[e]=!1,this.cdr.markForCheck()})).subscribe(({pullRequests:t,next:e})=>{this.pullRequestSearchResults=t,this.nextPullRequestsPage=e,this.resetFilteredPullRequests(),this.cdr.markForCheck()})),this.cdr.markForCheck()}selectBranch({branch:t,assignKey:e}){e?(this[e]=t,this.branchTextTyped$.next("")):this.tab$.value===ea.Commits?(this.selectedBranch=t,this.fetchBranchCommits()):this.integration.attachBranchToTask(this.selectedRepo,t,this.task).subscribe(t=>{this.attachedBranches$.next([...this.attachedBranches$.value,t]),this.resetFilteredBranches(),this.cdr.markForCheck()})}selectPullRequest(t){this.integration.attachPullRequestToTask(this.selectedRepo,t,this.task).subscribe(t=>{this.attachedPullRequests$.next([...this.attachedPullRequests$.value,t]),this.resetFilteredPullRequests(),this.cdr.markForCheck()})}unattachBranchFromTask(t,e){const a=this.attachedBranches$.value.find(a=>a.name===t&&a.repository.id===e.id);this.integration.unattachBranchToTask(a,this.task).subscribe(()=>{this.attachedBranches$.next(this.attachedBranches$.value.filter(a=>!(a.name===t&&a.repository.id===e.id))),this.resetFilteredBranches(),this.cdr.markForCheck()})}fetchBranchCommits(){this.isBranchCommitsNotReady=!0,this.unattachedCommits=[],this.setFilteredCommits([]),this.integration.getAllBranchCommits(this.selectedRepo,this.selectedBranch,this.task,{search:this.commitSearchString}).pipe(Object(d.a)(()=>{this.isBranchCommitsNotReady=!1,this.cdr.markForCheck()})).subscribe({next:({commits:t,next:e})=>{this.unattachedCommits=t,this.nextCommitsPage=e,this.setFilteredCommits(Object(f.a)(this.unattachedCommits)),this.cdr.markForCheck()},error:()=>{this.cdr.markForCheck()}})}toggleClosedPrs(){this.showClosedPr=!this.showClosedPr,this.selectRepo(this.selectedRepo,"pullRequestsLoading"),this.cdr.markForCheck()}clearRepoInput(){this.filteredRepos=this.repos.slice().map(t=>Object.assign({},t))}clearPullRequestInput(){this.pullRequestSearchString="",this.setFilteredPullRequests(this.pullRequestSearchResults,""),this.focusPullRequestFilterInput(),this.pullRequestTextTyped$.next()}clearCommitInput(){this.setFilteredCommits(Object(f.a)(this.unattachedCommits)),this.commitFilterInput&&(this.renderer.setProperty(this.commitFilterInput.nativeElement,"value",""),this.commitFilterInput.nativeElement.focus()),this.commitSearchString="",this.commitTextTyped$.next()}focusCommitFilterInput(){setTimeout(()=>this.commitFilterInput.nativeElement.focus(),0)}focusPullRequestFilterInput(){setTimeout(()=>this.pullRequestFilterInput.nativeElement.focus(),0)}attachCommitsToTask(t){const e=t.filter(t=>!this.commits$.value.some(e=>e.sha===t.sha));if(0===e.length)return;const a=t.length===this.filteredUnattachedCommits.length;a||t.forEach(t=>{t.loading=!0}),this.integration.attachRepositoryCommitsToTask(this.selectedRepo,this.task,e,this.selectedBranch).pipe(Object(d.a)(()=>{t.forEach(t=>{t.loading=!1})})).subscribe(t=>{this.commits$.next(Object(k.a)([...this.commits$.value,...t],"sha")),this.store.dispatch(new T.y({taskId:this.task.id,change:t.length,integration:this.integration.name.toLowerCase()})),this.setFilteredCommits(this.filteredUnattachedCommits),0===this.filteredUnattachedCommits.length&&this.commitDropdown.close(),this.cdr.markForCheck()}),a&&this.commitDropdown.close()}removeCommitFromTask(t){this.integration.unattachRepositoryCommitsFromTask(this.task,[t]).subscribe(()=>{const e=this.commits$.value.filter(e=>t.sha!==e.sha);this.commits$.next(e),this.store.dispatch(new T.y({taskId:this.task.id,change:-1,integration:this.integration.name.toLowerCase()})),this.clearCommitInput(),this.cdr.markForCheck()})}removePullRequestFromTask(t){this.integration.unattachPullRequestFromTask(t,this.task).subscribe(()=>{this.attachedPullRequests$.next(this.attachedPullRequests$.value.filter(e=>t.id!==e.id)),this.resetFilteredPullRequests(),this.cdr.markForCheck()})}selectTab(t){this.tab$.next(t),this.selectedBranch=null,this.selectedRepo=null,this.unattachedCommits=[]}showAutomationModal(){this.modalService.openComponent(v.a,this.injector,{blank:!0,dialogModifier:"cu-modal__dialog-automations"}).instance.setParent(y.e.Subcategory,this.task.subcategory.id)}showCreateBranchModal(){this.authedWithIntegration?(this.otherModalOpen=!0,this.branchCreated=!1,this.selectedRepo=null,this.selectedBranch=null,this.newBranchName=this.branchNameFormat,this.modalService.open({content:this.createBranchModal,title:$localize`:@@cu-git-integration-modal__btn_create-branch:Create Branch`,modifier:"cu-modal_cu-git-integration-modal-add-new"})):this.isSelfHosted?(this.afterAuth="showCreateBranchModal",this.showAccessTokenModal()):this.authenticate().subscribe(()=>{this.showCreateBranchModal()})}createBranch(){this.createBranchLoading=!0,this.integration.createBranch(this.task,this.selectedRepo,this.selectedBranch.name,this.newBranchName).pipe(Object(d.a)(()=>{this.createBranchLoading=!1,this.cdr.markForCheck()})).subscribe(t=>{this.attachedBranches$.next([...this.attachedBranches$.value,t]),this.selectedRepo=null,this.selectedBranch=null,this.branchCreated=!0,this.cdr.markForCheck()})}showPullRequestModal(){this.authedWithIntegration?(this.otherModalOpen=!0,this.selectedRepo=null,this.pullRequestSourceBranch=null,this.pullRequestTargetBranch=null,this.pullRequestTitle=this.branchNameFormat,this.pullRequestDescription="",this.modalService.open({content:this.createPullRequestModal,title:$localize`:@@cu-git-integration-modal__title_new-pr-label:New ${this.integration.pullRequestLabel}:prLabel:`,modifier:"cu-modal_cu-git-integration-modal-add-new"})):this.isSelfHosted?(this.afterAuth="showPullRequestModal",this.showAccessTokenModal()):this.authenticate().subscribe(()=>{this.showPullRequestModal()})}createPullRequest(){this.createPullRequestLoading=!0,this.integration.createPullRequest(this.task,this.selectedRepo,this.pullRequestTargetBranch.name,this.pullRequestSourceBranch.name,this.pullRequestTitle,this.pullRequestDescription).pipe(Object(d.a)(()=>{this.createPullRequestLoading=!1,this.cdr.markForCheck()})).subscribe(t=>{this.attachedPullRequests$.next([...this.attachedPullRequests$.value,t]),this.selectedRepo=null,this.cdr.markForCheck(),this.closeModal()})}hideQuickStartBanner(){this.showQuickStartBanner=!1,this.userService.updateUser({user_data:{helpers:{hidden_quick_start_banner_on_git_integration_modal:!0}}}).subscribe()}showAccessTokenModal(){this.modalService.open({title:$localize`:@@git-integration__title_set-access-token:Set access token`,content:this.configureSelfHostedIntegrationModal})}saveSelfHostedToken(t){this.integration.configureSelfHosting(this.sharedData.compatCurrentTeam.id,t).pipe(Object(u.a)(this.destroy$)).subscribe(()=>{this.authedWithIntegration=!0,this[this.afterAuth](),this.afterAuth=void 0,this.cdr.markForCheck()})}authenticate(){return Object(I.a)(this.integration.getAuthLink()).pipe(Object(p.a)(({code:t})=>this.integration.getAccessToken(t,this.sharedData.compatCurrentTeam.id)),Object(m.a)(()=>{this.authedWithIntegration=!0}))}resetFilteredBranches(){this.filteredBranches=Object(f.a)(this.branches||[]),this.tab$.value===ea.Branches&&this.selectedRepo&&(this.filteredBranches=this.filteredBranches.filter(t=>!this.attachedBranches$.value.some(e=>e.name===t.name&&e.repository.id===this.selectedRepo.id)))}resetFilteredPullRequests(){this.filteredPullRequests=Object(f.a)(this.pullRequestSearchResults||[]),this.selectedRepo&&(this.filteredPullRequests=this.filteredPullRequests.filter(t=>!this.attachedPullRequests$.value.some(e=>String(e.number)===String(t.number)&&t.repository.id===this.selectedRepo.id)))}}return t.\u0275fac=function(e){return new(e||t)(C.Wb(D.a),C.Wb(S.a),C.Wb(C.H),C.Wb(C.h),C.Wb(C.t),C.Wb(O.c),C.Wb(j.Store))},t.\u0275cmp=C.Qb({type:t,selectors:[["cu-git-integration-modal"]],viewQuery:function(t,e){if(1&t&&(C.jd(It,1),C.jd(Ct,1),C.jd(Dt,1),C.jd(St,1),C.jd(Ot,1),C.jd(jt,1)),2&t){let t;C.Qc(t=C.rc())&&(e.commitFilterInput=t.first),C.Qc(t=C.rc())&&(e.commitDropdown=t.first),C.Qc(t=C.rc())&&(e.pullRequestFilterInput=t.first),C.Qc(t=C.rc())&&(e.createBranchModal=t.first),C.Qc(t=C.rc())&&(e.createPullRequestModal=t.first),C.Qc(t=C.rc())&&(e.configureSelfHostedIntegrationModal=t.first)}},hostAttrs:[1,"cu-git-integration-modal"],inputs:{task:"task",team:"team",user:"user",integration:"integration"},decls:53,vars:30,consts:function(){let t,e,a,i,o,n,s,c,r,l,u,d,p,m,h,g,b,f,k,_,w,v,y,x,T,I,D,S,O,j,P,A,$,R,F,M,E,U,L,z,V,N,q,B,G,X,W,H,Z,Q,K,J,Y,tt,et,at;return t=$localize`:@@common_task-id␟6c2df358ab2f826ea5e02b2b0efc83631595b635␟6943247998138985658:TASK ID`,e=$localize`:@@cu-git-integration-modal__copy-title_link-single-commit␟cfc697b549fbb63eab47f1fe339c54ac93d3c47e␟7661792840773405065:Link a single commit`,a=$localize`:@@cu-git-integration-modal__column-right-header-item_commit-count␟3db0ed6359fb188fa595ea01d529a43b054c9360␟8440008249377179278: Commits ${"\ufffd#38\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#38\ufffd"}:CLOSE_TAG_SPAN:`,i=$localize`:@@common_quick-start␟56ea2d010456b9eea4bc1dabfd0ea75a4224d231␟194357029093187572: Quick start `,o=$localize`:@@cu-git-integration-modal__quick-start-desc_link-tasks-desc␟52ae7be2dc24aee65a0bec1a1476f0a843b5f043␟4642879114364306429: Automatically link tasks to ${"\ufffd0\ufffd"}:INTERPOLATION: by using the task ID in a commit, branch name or ${"\ufffd1\ufffd"}:INTERPOLATION_1: title. `,n=$localize`:@@common_learn-more␟e2dcf27db9c6a5e249960c576014aa40b3883360␟819996403327805209:Learn more`,s=$localize`:@@cu-git-integration-modal__copy-title_branch-name␟c201b0827c5545f7a1ffd29fb063023d871dc4d9␟6707370218226198153:Reasonable branch name`,c=$localize`:@@cu-git-integration-modal__automation-text_automation-center␟79089314267ac4834bc3ffd829f399a2dcd1ab9d␟2740870395443130497: Automation Center `,r=$localize`:create git branch@@cu-git-integration-modal__btn_create-branch␟7ccb8390ceef9f21d1da0b664f43a4e3f0469218␟3791240938587422619: Create Branch `,l=$localize`:create new pull request@@cu-git-integration-modal__btn_new-pull-request␟fdd3d3d855cc3511c6d7945711f7b0757c88ece1␟9021569910567856039: New ${"\ufffd0\ufffd"}:INTERPOLATION: `,u=$localize`:@@cu-git-integration-modal__column-right-header-item_attached-branch-count␟1e71d6ac84c44e5dfb4b4f30baf8d777c205a64c␟306059366074140014: Branches ${"\ufffd#3\ufffd"}:START_TAG_SPAN:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:`,d=$localize`:@@cu-git-integration-modal__pr-list-header-item_item␟9bca420227979312de74f0a932a003437410b1ab␟8075168556531069883:Item`,p=$localize`:@@common_source␟6834fa6b43d1ecbdf147c48dd9c4d72f1484571d␟9155608366859514313:Source`,m=$localize`:@@common_target␟38baeb215c17af9d9e295e371a57f4a48ab4c191␟4854396465510517671:Target`,h=$localize`:@@common_by␟e703d1a5af39f0eb011f3eb416924fb81ac251b7␟7702646444963497962:By`,g=$localize`:@@git-integration__pr--ci-cd␟a1a27347f50fb0fa33517b60796b41d055e272a8␟6942614065261150717:CI/CD`,b=$localize`:@@cu-git-integration-modal__pr-list-header-item_status␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`,f=$localize`:pr build success@@git-integration__pr--build-success␟1e035e6ccfab771cad4226b2ad230cb0d4a88cba␟4648900870671159218:Success`,k=$localize`:pr build failed@@git-integration__pr--build-error␟6080b77234e92ad41bb52653b239c4c4f851317d␟1519954996184640001:Error`,_=$localize`:@@common_pending␟e6a27066251ca1e04c5be86ad758380856df2506␟4416413576346763682:Pending`,w=$localize`:@@cu-git-integration-modal__tooltip-msg_remove-from-task␟cc424d47049feb8ca08fc9d034175a18fd74f9bc␟8405933481881540070:Remove from Task`,v=$localize`:@@cu-git-integration-modal__list-empty_no-attached-pr␟b9e3bc640405b94daa3a38bd7eb5890b612ae754␟7217075774282503950: No ${"[\ufffd0\ufffd|\ufffd1\ufffd]"}:INTERPOLATION:s attached to this task. Select a repo from below to add ${"[\ufffd0\ufffd|\ufffd1\ufffd]"}:INTERPOLATION:. `,v=C.lc(v),y=$localize`:@@cu-git-integration-modal__selector-text_select-pr␟fc38956abce201b5e45b86e3d4a8a9b433db1121␟2282990143928086358: Select ${"\ufffd0\ufffd"}:INTERPOLATION: `,x=$localize`:form input placeholder@@forms_placeholder--search␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,T=$localize`:form input placeholder@@forms_placeholder--search␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,I=$localize`:@@common_hide-closed␟50980ec3209de9dd19fe39b5a1bb83b9e7b445c4␟8980010651553616205:Hide closed`,D=$localize`:@@common_show-closed␟d8aba99cf74cbee70183f2fcae0e3ddc6becc461␟3942220613249867720:Show closed`,S=$localize`:@@git-integration__header--item␟9bca420227979312de74f0a932a003437410b1ab␟8075168556531069883:Item`,O=$localize`:@@git-integration__header--date␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,j=$localize`:@@common_by␟e703d1a5af39f0eb011f3eb416924fb81ac251b7␟7702646444963497962:By`,P=$localize`:@@cu-git-integration-modal__branch-list-header-item_repo␟1ec60337b01340ec729ee507634b623fd1edacaa␟6731943056736965429:Repo`,A=$localize`:@@cu-git-integration-modal__branch-list-header-item_branch␟3c8d7c1ae417833f3382afe4a62fbb622ec1dd4c␟8387651464002742246:Branch`,$=$localize`:@@git-integration__header--file␟48139a8f408fb79f24e82673e89e23c2ac314f23␟8455204924704616723:File`,R=$localize`:@@common_copy-branch-name␟ff05b6e4bed2652d87e9c009ab930cabe4598262␟3016606420638616347:Copy branch name`,F=$localize`:repo location@@common_at-2␟e1e572eaae8c18915589a2c5d25e0c3a17123e27␟8920255330260876932: at `,M=$localize`:@@cu-git-integration-modal__tooltip-msg_remove-from-task␟cc424d47049feb8ca08fc9d034175a18fd74f9bc␟8405933481881540070:Remove from Task`,E=$localize`:␟3f4f2f7529308d5633984b8dc11bd153290fe28f␟5970290431906631001:{VAR_PLURAL, plural, =1 {file} other {files}}`,E=C.lc(E,{VAR_PLURAL:"\ufffd1\ufffd"}),U=$localize`:@@cu-git-integration-modal__dropdown-placeholder_modified-files-count␟e7d1d67e05e50c85df2471eef2b93cab7ed9cbba␟9052184092664544102: ${"\ufffd0\ufffd"}:INTERPOLATION: ${E}:ICU: `,L=$localize`:@@cu-git-integration-modal__list-empty_no-attached-commits␟c708000e7ba91c59f6f1f77708a81a8cd8bd2f77␟2441419648518691692: No commits attached to this task. Select a repo and a branch from below to add commits. `,z=$localize`:@@git-integration_tooltip--select-commit␟bcc3eef6faea0d5c931162c387a8f1483bf26495␟2691995183553053825:Select commit to attach to task`,V=$localize`:@@git-integration_tooltip--select-commit␟513cc6ce9b4e5e5d91bf74de0032848d1a19b42e␟139139674898997346: Select commit to attach to task `,N=$localize`:@@cu-git-integration-modal__btn_attach-all-commits␟6cfacaa0eedca1881f1598d57d3ae7676bd029ed␟2925508974825093843: Attach all commits `,q=$localize`:@@cu-git-integration-modal__form-item-title_branch-name␟caf71c37497c4d1618d41e94a63771dbaf8fa3d7␟1255388649183074058:Branch name`,B=$localize`:@@git-integration__header--repository␟b45d01f61abb874a71b314051193f4b72c3d4cf2␟6307174276781140101:Repository`,G=$localize`:@@common_cancel␟a5433ae2324496bea9537caa5e8a2719d8e958d8␟4134917114666618814: Cancel `,X=$localize`:@@cu-git-integration-modal__btn_create-new-branch␟43e9f79520821a2ed3fa16085a9ae4b4a0e12beb␟8578963213260269454: Create new Branch `,W=$localize`:@@errors_form-field--invalid-vcs-branch-name␟d36f164a75771672c8b699a07a77d5585c21c773␟5338336131853035815: The branch name is invalid! `,H=$localize`:@@cu-git-integration-modal__success-title_branch-created-success␟c7eb25ffae6e5a2548f8d37c759da72271ea6bd2␟1317960551459687332: Branch successfully created! `,Z=$localize`:button text@@common_done--button-text␟f031826de4d223f5af8f4fcec0c4f2ed1c035e87␟2559990622163579351: Done `,Q=$localize`:@@cu-git-integration-modal__form-item-title_pr-label-title␟4f3075d4c18e06663c9d1e26517c438b043d8916␟1910409014814595961: ${"\ufffd0\ufffd"}:INTERPOLATION: title `,K=$localize`:@@git-integration__header--repository␟b45d01f61abb874a71b314051193f4b72c3d4cf2␟6307174276781140101:Repository`,J=$localize`:@@cu-git-integration-modal__form-item-title_source-branch␟373fcbfafc3111823727ee60f89215a7953cb522␟9090823715159293737:Source branch`,Y=$localize`:@@cu-git-integration-modal__form-item-title_target-branch␟f1b13cfb54b0b6627e5103f1c45d98e967023ede␟8805256086311906739:Target branch`,tt=$localize`:@@common_description␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,et=$localize`:@@cu-git-integration-modal__form-item-textarea_tooltip-description␟4265da6fd38db052773edb3305260a04b6d44c67␟5551874320378862200:Enter description`,at=$localize`:@@common_cancel␟a5433ae2324496bea9537caa5e8a2719d8e958d8␟4134917114666618814: Cancel `,[[1,"cu-git-integration-modal__column-left"],[1,"cu-git-integration-modal__column-left-header"],[1,"cu-git-integration-modal__column-left-header-name"],[1,"cu-git-integration-modal__copy","cu-git-integration-modal__copy_task-id"],[1,"cu-git-integration-modal__copy-label"],t,["ngxClipboard","","cuClipboardCopied","",1,"cu-git-integration-modal__copy-btn",3,"cbContent","cbOnSuccess"],["clipboardHelperTaskID","cuClipboardCopied"],["class","cu-git-integration-modal__copy-btn-icon","icon","cu2-copy-2",4,"ngIf"],["class","cu-git-integration-modal__copy-btn-icon cu-git-integration-modal__copy-btn-icon_copied","icon","check-bold",4,"ngIf"],["class","cu-git-integration-modal__quick-start",4,"ngIf"],[4,"ngIf"],[1,"cu-git-integration-modal__copy-container"],[1,"cu-git-integration-modal__copy-title"],e,[1,"cu-git-integration-modal__copy"],["type","text","readonly","",1,"cu-git-integration-modal__copy-input",3,"value"],["clipboardHelperLinkCommit","cuClipboardCopied"],[1,"cu-git-integration-modal__column-left-divider"],["class","cu-git-integration-modal__automation",3,"click",4,"ngIf"],["class","cu-git-integration-modal__btns",4,"ngIf"],[1,"cu-git-integration-modal__column-right"],[1,"cu-git-integration-modal__column-right-header"],["class","cu-git-integration-modal__column-right-header-item",3,"active","click",4,"ngIf"],[1,"cu-git-integration-modal__column-right-header-item",3,"click"],a,[1,"cu-git-integration-modal__column-right-header-divider"],["icon","cu2-close",1,"cu-git-integration-modal__close",3,"click"],["createBranchModal",""],["createPullRequestModal",""],["configureSelfHostedIntegrationModal",""],["icon","cu2-copy-2",1,"cu-git-integration-modal__copy-btn-icon"],["icon","check-bold",1,"cu-git-integration-modal__copy-btn-icon","cu-git-integration-modal__copy-btn-icon_copied"],[1,"cu-git-integration-modal__quick-start"],["icon","cu2-close",1,"cu-git-integration-modal__quick-start-close",3,"click"],[1,"cu-git-integration-modal__quick-start-header"],i,[1,"cu-git-integration-modal__quick-start-desc"],o,["target","_blank",1,"cu-git-integration-modal__quick-start-link",3,"href"],n,s,["clipboardHelperBranchNameFormat","cuClipboardCopied"],["clipboardHelperNewBranch","cuClipboardCopied"],[1,"cu-git-integration-modal__automation",3,"click"],["icon","cu2-robot",1,"cu-git-integration-modal__automation-robot"],[1,"cu-git-integration-modal__automation-text"],c,["icon","angle-right-no-padding",1,"cu-git-integration-modal__automation-arrow"],[1,"cu-git-integration-modal__btns"],["class","cu-git-integration-modal__btn cu-git-integration-modal__btn_blue",3,"click",4,"ngIf"],["class","cu-git-integration-modal__btn cu-git-integration-modal__btn_green",3,"smaller","click",4,"ngIf"],[1,"cu-git-integration-modal__btn","cu-git-integration-modal__btn_blue",3,"click"],r,[1,"cu-git-integration-modal__btn","cu-git-integration-modal__btn_green",3,"click"],l,u,["class","cu-git-integration-modal__list-header",4,"ngIf"],[1,"cu-git-integration-modal__column-right-body"],["class","cu-git-integration-modal__list",4,"ngIf"],[1,"cu-git-integration-modal__selector"],[1,"cu-git-integration-modal__selector-item"],[3,"selectedRepo","isFilteredReposNotReady","filteredRepos","tab","onSetFilteredRepos","onClearRepoInput","onSelectRepo"],["style","margin-top: -10px",4,"ngIf"],["class","cu-dropdown","cuDropdown","",3,"dropdownAutoWidth","dropdownPreventDocumentScroll",4,"ngIf"],["class","cu-git-integration-modal__show-closed",3,"click",4,"ngIf"],[1,"cu-git-integration-modal__list-header"],[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_item"],d,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_source"],p,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_target"],m,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_by"],h,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_reviewer"],[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_cicd"],g,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_status"],b,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_trash"],[1,"cu-git-integration-modal__list"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-git-integration-modal__list-branch",4,"ngIf"],["class","cu-git-integration-modal__list-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-git-integration-modal__list-branch"],[1,"cu-git-integration-modal__list-branch-name",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],[1,"cu-git-integration-modal__list-row"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_item"],["icon","commit",1,"cu-git-integration-modal__list-row-item_item-icon"],["target","_blank",3,"href"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_source"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_target"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_by"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_reviewer"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_cicd"],["class","cu-git-integration-modal__list-row-item_cicd-icon cu-git-integration-modal__list-row-item_cicd-icon_success","cuTooltip",f,"icon","cu2-check",4,"ngIf"],["class","cu-git-integration-modal__list-row-item_cicd-icon cu-git-integration-modal__list-row-item_cicd-icon_failure","cuTooltip",k,"icon","cu2-close",4,"ngIf"],["class","cu-git-integration-modal__list-row-item_cicd-icon cu-git-integration-modal__list-row-item_cicd-icon_pending","cuTooltip",_,"icon","cu2-pending",4,"ngIf"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_status"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_trash"],["icon","cu2-trash","cuTooltip",w,1,"cu-git-integration-modal__list-row-item_trash-icon",3,"click"],["class","cu-git-integration-modal__list-row-item_reviewer-avatar",3,"src","cuTooltip",4,"ngIf"],[1,"cu-git-integration-modal__list-row-item_reviewer-avatar",3,"src","cuTooltip"],["cuTooltip",f,"icon","cu2-check",1,"cu-git-integration-modal__list-row-item_cicd-icon","cu-git-integration-modal__list-row-item_cicd-icon_success"],["cuTooltip",k,"icon","cu2-close",1,"cu-git-integration-modal__list-row-item_cicd-icon","cu-git-integration-modal__list-row-item_cicd-icon_failure"],["cuTooltip",_,"icon","cu2-pending",1,"cu-git-integration-modal__list-row-item_cicd-icon","cu-git-integration-modal__list-row-item_cicd-icon_pending"],[1,"cu-git-integration-modal__list-empty"],v,[2,"margin-top","-10px"],["cuDropdown","",1,"cu-dropdown",3,"dropdownAutoWidth","dropdownPreventDocumentScroll"],["prDropdown","dropdown"],["cuDropdownToggle","",1,"cu-dropdown__toggle",3,"hidden","click"],[1,"cu-git-integration-modal__selector-container"],[1,"cu-git-integration-modal__selector-text"],y,["icon","angle-right-no-padding",1,"cu-git-integration-modal__selector-arrow"],[1,"cu-git-integration-modal__selector-search",3,"hidden"],["class","cu-git-integration-modal__selector-search-input","type","text","placeholder",x,3,"ngModel","ngModelChange",4,"ngIf"],["class","cu-git-integration-modal__selector-search-input","type","text","placeholder",T,3,"ngModel","ngModelChange",4,"ngIf"],["icon","cu2-search2",1,"cu-git-integration-modal__selector-search-icon"],["cuLink","",1,"cu-git-integration-modal__selector-search-close",3,"click"],[1,"cu-icon","cu-icon_close"],["class","cu-dropdown__menu cu-git-integration-modal__selector-menu","cuScrollDetector","",3,"perfectScrollbar","onReachBottom",4,"cuDropdownMenu"],["type","text","placeholder",x,1,"cu-git-integration-modal__selector-search-input",3,"ngModel","ngModelChange"],["pullRequestFilterInput",""],["type","text","placeholder",T,1,"cu-git-integration-modal__selector-search-input",3,"ngModel","ngModelChange"],["cuScrollDetector","",1,"cu-dropdown__menu","cu-git-integration-modal__selector-menu",3,"perfectScrollbar","onReachBottom"],["tooltipDelay","300",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","item","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item",4,"ngIf"],["tooltipDelay","300",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","item","click"],[3,"item"],[1,"cu-git-integration-modal__show-closed",3,"click"],[4,"ngIf","ngIfElse"],["showClosed",""],I,D,S,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_date"],O,j,["class","cu-git-integration-modal__list-header-item cu-git-integration-modal__list-header-item_file",4,"ngIf"],["scrollContainer",""],["class","cu-git-integration-modal__list","cuLazyRenderer","",3,"lazyScrollContainer","lazyMargin",4,"ngIf"],[3,"selectedBranch","filteredBranches","branchesLoading","selectedRepo","branches","integration","moreBranchesLoading","onBranchTextTyped","onLoadMoreBranches","onSelectBranch","onSetFilteredBranches","onClearBranchInput"],["class","cu-git-integration-modal__selector-item",4,"ngIf"],P,A,[1,"cu-git-integration-modal__list-header-item","cu-git-integration-modal__list-header-item_file"],$,["cuLazyRenderer","",1,"cu-git-integration-modal__list",3,"lazyScrollContainer","lazyMargin"],["class","cu-git-integration-modal__list-row","cuLazyItem","",3,"lazyDefaultHeight",4,"ngFor","ngForOf","ngForTrackBy"],["icon","branch",1,"cu-commits-attached__row-branch-icon"],[1,"cu-git-integration-modal__list-branch-name"],["icon","copy2","ngxClipboard","","cuTooltip",R,1,"cu-git-integration-modal__list-branch-name-copy",3,"cbContent","click"],["class","cu-commits-attached__row-unattach","cuTooltip","Unattach branch from task","tooltipModifier","tooltip_far","icon","close",3,"click",4,"ngIf"],[1,"cu-git-integration-modal__list-branch-text"],F,["icon","git-repo",1,"cu-git-integration-modal__list-branch-repo-icon"],["cuTooltip","Unattach branch from task","tooltipModifier","tooltip_far","icon","close",1,"cu-commits-attached__row-unattach",3,"click"],["cuLazyItem","",1,"cu-git-integration-modal__list-row",3,"lazyDefaultHeight"],[4,"cuLazyItemBody"],["cuLazyItemPlaceholder","",1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_item"],[1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_date"],["cuDropdown","","class","cu-git-integration-modal__list-row-item cu-git-integration-modal__list-row-item_file",3,"dropdownPlacement",4,"ngIf"],["icon","cu2-trash","cuTooltip",M,1,"cu-git-integration-modal__list-row-item_trash-icon",3,"click"],["cuDropdown","",1,"cu-git-integration-modal__list-row-item","cu-git-integration-modal__list-row-item_file",3,"dropdownPlacement"],["cuDropdownToggle",""],[3,"files",4,"cuDropdownMenu"],U,[3,"files"],L,["class","cu-dropdown","cuDropdown","",3,"dropdownAutoWidth","dropdownCloseOnInsideClick","dropdownPreventDocumentScroll",4,"ngIf"],["cuDropdown","",1,"cu-dropdown",3,"dropdownAutoWidth","dropdownCloseOnInsideClick","dropdownPreventDocumentScroll"],["commitDropdown","dropdown"],["cuTooltip",z,1,"cu-git-integration-modal__selector-text",3,"tooltipDisabledIfTextNotTruncated"],V,["class","cu-git-integration-modal__selector-search-input","type","text","placeholder","Search",3,"ngModel","ngModelChange",4,"ngIf"],["class","cu-dropdown__menu cu-git-integration-modal__selector-menu cu-git-integration-modal__selector-menu_commits","cuScrollDetector","",3,"perfectScrollbar","onReachBottom",4,"cuDropdownMenu"],["type","text","placeholder","Search",1,"cu-git-integration-modal__selector-search-input",3,"ngModel","ngModelChange"],["commitFilterInput",""],["cuScrollDetector","",1,"cu-dropdown__menu","cu-git-integration-modal__selector-menu","cu-git-integration-modal__selector-menu_commits",3,"perfectScrollbar","onReachBottom"],["class","cu-btn cu-btn_sm",3,"click",4,"ngIf"],[1,"cu-btn","cu-btn_sm",3,"click"],N,[3,"hidden","item","click"],["class","cu-git-integration-modal__form",4,"ngIf"],["class","cu-git-integration-modal__success",4,"ngIf"],[1,"cu-git-integration-modal__form"],[1,"cu-git-integration-modal__form-item-title"],q,[1,"cu-git-integration-modal__form-item"],["type","text","spellcheck","false","cuGitBranchNameFormControl","",1,"cu-git-integration-modal__form-item-input",3,"ngModel","ngModelChange"],["branchNameControl","ngModel"],["class","cu-form__error",4,"ngIf"],B,[3,"selectedBranch","filteredBranches","assignKey","branchesLoading","selectedRepo","branches","integration","moreBranchesLoading","onBranchTextTyped","onLoadMoreBranches","onSelectBranch","onSetFilteredBranches","onClearBranchInput"],[1,"cu-git-integration-modal__form-divider"],[1,"cu-git-integration-modal__btn","cu-git-integration-modal__btn_cancel",3,"click"],G,[1,"cu-btn","cu-git-integration-modal__btn","cu-git-integration-modal__btn_blue",3,"disabled","click"],[1,"cu-btn__text"],X,[1,"cu-btn__spinner"],[1,"cu-btn__bounce1"],[1,"cu-btn__bounce2"],[1,"cu-btn__bounce3"],[1,"cu-form__error"],[1,"cu-form__error-icon"],[1,"cu-icon","cu-icon_warning"],[1,"cu-form__error-text"],W,[1,"cu-git-integration-modal__success"],["src","./assets/images/components/view-task/git-integration-modal/success.png","alt","",1,"cu-git-integration-modal__success-img"],[1,"cu-git-integration-modal__success-title"],H,["clipboardHelperNewBranchName","cuClipboardCopied"],Z,Q,["type","text","spellcheck","false",1,"cu-git-integration-modal__form-item-input",3,"ngModel","ngModelChange"],K,J,Y,tt,[1,"cu-git-integration-modal__form-item","cu-git-integration-modal__form-item_textarea"],["placeholder",et,1,"cu-git-integration-modal__form-item-textarea",3,"ngModel","ngModelChange"],at,[1,"cu-btn","cu-git-integration-modal__btn","cu-git-integration-modal__btn_green",3,"disabled","click"],[3,"integration","tokenOnly","saveSelfHostedIntegrationConfig"]]},template:function(t,e){if(1&t){const t=C.dc();C.cc(0,"div",0),C.cc(1,"div",1),C.cc(2,"div",2),C.dd(3),C.bc(),C.cc(4,"div",3),C.cc(5,"div",4),C.cc(6,"span"),C.ac(7),C.gc(8,5),C.Zb(),C.dd(9,":"),C.bc(),C.dd(10),C.bc(),C.cc(11,"div",6,7),C.qc("cbOnSuccess",function(){return C.Uc(t),C.Rc(12).setCopied()}),C.bd(13,Pt,1,1,"div",8),C.bd(14,At,1,1,"div",9),C.bc(),C.bc(),C.bc(),C.bd(15,$t,9,4,"div",10),C.bd(16,Ut,23,8,"ng-container",11),C.cc(17,"div",12),C.cc(18,"div",13),C.ac(19),C.gc(20,14),C.Zb(),C.dd(21,": "),C.bc(),C.cc(22,"div",15),C.Xb(23,"input",16),C.cc(24,"div",6,17),C.qc("cbOnSuccess",function(){return C.Uc(t),C.Rc(25).setCopied()}),C.bd(26,Lt,1,1,"div",8),C.bd(27,zt,1,1,"div",9),C.bc(),C.bc(),C.bc(),C.Xb(28,"div",18),C.bd(29,Vt,5,0,"div",19),C.bd(30,Bt,3,2,"div",20),C.bc(),C.cc(31,"div",21),C.cc(32,"div",22),C.bd(33,Gt,6,8,"div",23),C.bd(34,Xt,5,7,"div",23),C.cc(35,"div",24),C.qc("click",function(){return e.selectTab(e.GitIntegrationModalTab.Commits)}),C.mc(36,25),C.vc(37,"async"),C.Xb(38,"span"),C.vc(39,"async"),C.jc(),C.bc(),C.Xb(40,"div",26),C.cc(41,"div",27),C.qc("click",function(){return e.closeModal()}),C.bc(),C.bc(),C.bd(42,_e,16,18,"ng-container",11),C.vc(43,"async"),C.bd(44,Xe,31,26,"ng-container",11),C.vc(45,"async"),C.vc(46,"async"),C.bc(),C.bd(47,Je,2,2,"ng-template",null,28,C.cd),C.bd(49,Ye,43,29,"ng-template",null,29,C.cd),C.bd(51,ta,1,2,"ng-template",null,30,C.cd)}if(2&t){const t=C.Rc(12),a=C.Rc(25);let i=null;C.Ib(3),C.fd(" ",e.integration.name," "),C.Ib(7),C.fd(" ",e.task.custom_id||"CU-"+e.task.id," "),C.Ib(1),C.Dc("cbContent",e.task.custom_id||"CU-"+e.task.id),C.Ib(2),C.Dc("ngIf",!t.copied),C.Ib(1),C.Dc("ngIf",t.copied),C.Ib(1),C.Dc("ngIf",!(null!=e.user&&null!=e.user.user_data&&null!=e.user.user_data.helpers&&e.user.user_data.helpers.hidden_quick_start_banner_on_git_integration_modal)&&e.showQuickStartBanner),C.Ib(1),C.Dc("ngIf",e.branchNameFormat),C.Ib(7),C.Dc("value",e.linkCommit),C.Ib(1),C.Dc("cbContent",e.linkCommit),C.Ib(2),C.Dc("ngIf",!a.copied),C.Ib(1),C.Dc("ngIf",a.copied),C.Ib(2),C.Dc("ngIf",e.team.automation_enabled&&e.task.permissions.can_add_automation&&!1),C.Ib(1),C.Dc("ngIf",e.integration.createBranch||e.integration.createPullRequest),C.Ib(3),C.Dc("ngIf",e.integration.getAttachedTaskPullRequests),C.Ib(1),C.Dc("ngIf",e.integration.canAttachBranchesToTasks),C.Ib(1),C.Ob("active",C.wc(37,20,e.tab$)===e.GitIntegrationModalTab.Commits),C.Ib(4),C.kc(null==(i=C.wc(39,22,e.commits$))?null:i.length),C.hc(36),C.Ib(3),C.Dc("ngIf",C.wc(43,24,e.tab$)===e.GitIntegrationModalTab.PullRequests),C.Ib(2),C.Dc("ngIf",C.wc(45,26,e.tab$)===e.GitIntegrationModalTab.Commits||C.wc(46,28,e.tab$)===e.GitIntegrationModalTab.Branches)}},directives:[P.a,A.a,$.q,R.a,K,$.p,L.a,z.a,F.b,M.a,U.a,E.c,E.p,E.s,J.a,Y.a,V.a,ht,gt.a,bt.a,ft.a,kt.a,_t.a,yt,xt.a],pipes:[$.b,Tt.a],styles:['.cu-git-integration-modal{display:flex;height:100%}.cu-git-integration-modal__show-closed{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;position:sticky;right:15px;z-index:30;font:11px/11px Gotham Pro,Proxima Nova,arial,serif;text-transform:uppercase;color:#bcc0c7;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;flex-shrink:0;padding:3px 5px;border-radius:3px;margin-left:15px}.cu-git-integration-modal__show-closed:hover{background:rgba(188,192,199,.3)}.cu-git-integration-modal__show-closed-icon{width:10px;height:10px;stroke:#bcc0c7;margin-right:5px}.cu-git-integration-modal__show-closed-container{display:flex;justify-content:flex-end}.cu-git-integration-modal__column-left{width:360px;flex-shrink:0;display:flex;flex-direction:column;height:100%;border-right:1px solid #e9ebf0;background:#fff}.dark-theme .cu-git-integration-modal__column-left{border-right-color:#1e272e;background:#2b343b}.cu-git-integration-modal__column-left-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0;padding:15px 16px;margin-bottom:15px}.cu-git-integration-modal__column-left-header-name{flex-shrink:0;margin-right:10px;font:500 22px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-git-integration-modal__column-left-header-name{color:#d5d6d7}.cu-git-integration-modal__column-left .cu-git-integration-modal__btns{margin-bottom:15px;padding:0 16px}.cu-git-integration-modal__column-left .cu-git-integration-modal__btn{width:140px}.cu-git-integration-modal__column-left-divider{flex-grow:1}.cu-git-integration-modal__column-right{display:flex;flex-direction:column;height:100%;min-width:0;flex-grow:1;background:#fafbfc}.dark-theme .cu-git-integration-modal__column-right{background:#1e272e}.cu-git-integration-modal__column-right-header{display:flex;align-items:center;height:58px;flex-shrink:0;padding:0 16px}.cu-git-integration-modal__column-right-header-divider{flex-grow:1}.cu-git-integration-modal__column-right-header-item{display:flex;align-items:center;cursor:pointer;position:relative;font:500 16px/1 Gotham Pro,Proxima Nova,arial,serif;padding:6px 0;color:#b9bec7}.dark-theme .cu-git-integration-modal__column-right-header-item{color:#828588}.cu-git-integration-modal__column-right-header-item:hover{color:#292d34}.dark-theme .cu-git-integration-modal__column-right-header-item:hover{color:#d5d6d7}.cu-git-integration-modal__column-right-header-item:hover span{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__column-right-header-item:hover span{background:var(--theme-main-color)}}.cu-git-integration-modal__column-right-header-item.active{cursor:default;color:#292d34}.dark-theme .cu-git-integration-modal__column-right-header-item.active{color:#d5d6d7}.cu-git-integration-modal__column-right-header-item.active:before{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__column-right-header-item.active:before{background:var(--theme-main-color)}}.cu-git-integration-modal__column-right-header-item.active span{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__column-right-header-item.active span{background:var(--theme-main-color)}}.cu-git-integration-modal__column-right-header-item+.cu-git-integration-modal__column-right-header-item{margin-left:30px}.cu-git-integration-modal__column-right-header-item:before{content:"";display:block;position:absolute;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;bottom:0;left:0;width:100%;height:2px}.cu-git-integration-modal__column-right-header-item span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:3px 4px 2px;margin-left:7px;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;border-radius:2px;text-align:center;color:#fff;background:#b9bec7}.dark-theme .cu-git-integration-modal__column-right-header-item span{background:#828588}.cu-git-integration-modal__column-right-body{flex-grow:1;min-height:0;display:flex;flex-direction:column;overflow-y:auto;background:#fafbfc}.cu-os-win .cu-git-integration-modal__column-right-body{scrollbar-width:thin}.cu-os-win .cu-git-integration-modal__column-right-body::-webkit-scrollbar{background-color:#fafbfc;width:16px;height:16px}.cu-os-win .cu-git-integration-modal__column-right-body::-webkit-scrollbar-track,.cu-os-win .cu-git-integration-modal__column-right-body::-webkit-scrollbar-track:hover{background-color:#fafbfc}.cu-os-win .cu-git-integration-modal__column-right-body::-webkit-scrollbar-thumb{background-color:rgba(186,186,192,.5);border-radius:16px;border:5px solid #fafbfc}.cu-os-win .cu-git-integration-modal__column-right-body::-webkit-scrollbar-thumb:hover{background-color:#a0a0a5;border:3px solid #fafbfc}.cu-os-win .cu-git-integration-modal__column-right-body::-webkit-scrollbar-button{display:none}.cu-os-win.dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar,.cu-os-win .dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar,.cu-os-win.dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-track,.cu-os-win .dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-track{background-color:#1e272e}.cu-os-win.dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-track:hover,.cu-os-win .dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-track:hover{background-color:#1e272e}.cu-os-win.dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-thumb,.cu-os-win .dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-thumb,.cu-os-win.dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-thumb:hover,.cu-os-win .dark-theme .cu-git-integration-modal__column-right-body::-webkit-scrollbar-thumb:hover{border-color:#1e272e}.dark-theme .cu-git-integration-modal__column-right-body{background:#1e272e}.cu-git-integration-modal__close{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:20px;height:20px;padding:2px;cursor:pointer;fill:#b9bec7}.dark-theme .cu-git-integration-modal__close{fill:#7c828d}.cu-git-integration-modal__close:hover{transform:rotate(180deg)}.cu-git-integration-modal__copy{display:flex;align-items:center;overflow:hidden;border-radius:3px;flex-shrink:0;height:36px;border:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__copy{border-color:#1e272e}.cu-git-integration-modal__copy-container{margin:0 16px 15px;flex-shrink:0}.cu-git-integration-modal__copy-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:5px;color:#7c828d}.dark-theme .cu-git-integration-modal__copy-title{color:#828588}.cu-git-integration-modal__copy_task-id{height:28px;flex-shrink:1}.cu-git-integration-modal__copy_task-id,.cu-git-integration-modal__copy_task-id .cu-git-integration-modal__copy-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cu-git-integration-modal__copy-label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;padding:0 7px;color:#292d34}.dark-theme .cu-git-integration-modal__copy-label{color:#d5d6d7}.cu-git-integration-modal__copy-label span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:600 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-git-integration-modal__copy-label span{color:#828588}.cu-git-integration-modal__copy-input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;flex-grow:1;border:0;background:transparent;box-shadow:none;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;padding:0 10px;color:#292d34}.dark-theme .cu-git-integration-modal__copy-input{color:#d5d6d7}.cu-git-integration-modal__copy-input:active,.cu-git-integration-modal__copy-input:focus{box-shadow:none}.cu-git-integration-modal__copy-btn{display:flex;align-items:center;justify-content:center;width:27px;height:100%;flex-shrink:0;cursor:pointer;background:#fafbfc;border-left:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__copy-btn{background:rgba(30,39,46,.3);border-left-color:#1e272e}.cu-git-integration-modal__copy-btn:hover{background:#e9ebf0}.dark-theme .cu-git-integration-modal__copy-btn:hover{background:#1e272e}.cu-git-integration-modal__copy-btn-icon{width:16px;height:16px;fill:#7c828d}.dark-theme .cu-git-integration-modal__copy-btn-icon{fill:#abaeb0}.cu-git-integration-modal__copy-btn-icon_copied,.dark-theme .cu-git-integration-modal__copy-btn-icon_copied{fill:#67cb48}.cu-git-integration-modal__quick-start{border-radius:3px;background:rgba(44,190,78,.2);padding:10px;flex-shrink:0;margin:-15px 16px 15px;position:relative}.cu-git-integration-modal__quick-start-close{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;width:14px;height:14px;padding:2px;cursor:pointer;position:absolute;top:7px;right:7px;z-index:10;fill:#7c828d}.dark-theme .cu-git-integration-modal__quick-start-close{fill:#b9bec7}.cu-git-integration-modal__quick-start-close:hover{transform:rotate(180deg)}.cu-git-integration-modal__quick-start-header{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:5px;color:#292d34}.dark-theme .cu-git-integration-modal__quick-start-header{color:#d5d6d7}.cu-git-integration-modal__quick-start-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 12px/18px Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-git-integration-modal__quick-start-desc{color:#d5d6d7}.cu-git-integration-modal__quick-start-link{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:600;color:#2cbe4e;border-bottom:1px solid #2cbe4e;white-space:nowrap}.cu-git-integration-modal__quick-start-link:hover{border-bottom-color:transparent}.cu-git-integration-modal__automation{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;display:flex;align-items:center;overflow:hidden;border-radius:3px;flex-shrink:0;height:36px;margin:0 16px 15px;padding:0 10px;cursor:pointer;border:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__automation{border-color:#1e272e}.cu-git-integration-modal__automation:hover{background:#fafbfc}.dark-theme .cu-git-integration-modal__automation:hover{background:#1e272e}.cu-git-integration-modal__automation:hover .cu-git-integration-modal__automation-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__automation:hover .cu-git-integration-modal__automation-arrow{fill:var(--theme-main-color)}}.cu-git-integration-modal__automation-robot{width:14px;height:14px;margin-right:7px;fill:#292d34}.dark-theme .cu-git-integration-modal__automation-robot{fill:#d5d6d7}.cu-git-integration-modal__automation-text{flex-grow:1;font:400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-git-integration-modal__automation-text{color:#d5d6d7}.cu-git-integration-modal__automation-arrow{width:6px;height:10px;fill:#292d34}.dark-theme .cu-git-integration-modal__automation-arrow{fill:#d5d6d7}.cu-git-integration-modal__btns{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.cu-git-integration-modal__btn{display:flex;align-items:center;justify-content:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:140px;padding:0 10px;height:36px;border-radius:3px;color:#fff;font:600 13px/1 Gotham Pro,Proxima Nova,arial,serif;cursor:pointer;flex-grow:1;border:1px solid}.cu-git-integration-modal__btn.smaller{font-size:11px}.cu-git-integration-modal__btn+.cu-git-integration-modal__btn{margin-left:10px}.cu-git-integration-modal__btn_blue{background:linear-gradient(180deg,#2188ff,#0366d6);border-color:#0057b8}.cu-git-integration-modal__btn_blue:hover{background:linear-gradient(180deg,#2188ff,#0366d6 50%,#0366d6)}.cu-git-integration-modal__btn_green{background:linear-gradient(180deg,#34d058,#28a745);border-color:#009031}.cu-git-integration-modal__btn_green:hover{background:linear-gradient(180deg,#34d058,#28a745 50%,#28a745)}.cu-git-integration-modal__btn_cancel{width:100px;flex-grow:0;border-color:transparent;color:#7c828d;background:#e9ebf0}.cu-git-integration-modal__btn_cancel:hover{color:#292d34;background:#b9bec7}.cu-git-integration-modal__form{display:flex;flex-direction:column;min-height:400px}.cu-git-integration-modal__form-item{height:36px;flex-shrink:0;border-radius:3px;margin-bottom:20px;border:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__form-item{border-color:#1e272e}.cu-git-integration-modal__form-item_textarea{height:70px}.cu-git-integration-modal__form-item-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:8px;text-transform:uppercase;color:#7c828d}.dark-theme .cu-git-integration-modal__form-item-title{color:#abaeb0}.cu-git-integration-modal__form-item-input,.cu-git-integration-modal__form-item-textarea{width:100%;height:100%;padding:0 12px;border:0;background:transparent;box-shadow:none;font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.cu-git-integration-modal__form-item-input::-webkit-input-placeholder,.cu-git-integration-modal__form-item-textarea::-webkit-input-placeholder{color:rgba(52,52,52,.4);font-size:12px}.cu-git-integration-modal__form-item-input::-moz-placeholder,.cu-git-integration-modal__form-item-textarea::-moz-placeholder{color:rgba(52,52,52,.4);opacity:1;font-size:12px}.cu-git-integration-modal__form-item-input:-ms-input-placeholder,.cu-git-integration-modal__form-item-textarea:-ms-input-placeholder{color:rgba(52,52,52,.4);font-size:12px}.cu-git-integration-modal__form-item-input:-moz-placeholder,.cu-git-integration-modal__form-item-textarea:-moz-placeholder{color:rgba(52,52,52,.4);opacity:1;font-size:12px}.dark-theme .cu-git-integration-modal__form-item-input,.dark-theme .cu-git-integration-modal__form-item-textarea{color:#d5d6d7}.cu-git-integration-modal__form-item-input:active,.cu-git-integration-modal__form-item-input:focus,.cu-git-integration-modal__form-item-textarea:active,.cu-git-integration-modal__form-item-textarea:focus{box-shadow:none}.cu-git-integration-modal__form-item-textarea{padding:12px;resize:none}.cu-git-integration-modal__form-item .cu-dropdown,.cu-git-integration-modal__form-item .cu-dropdown__toggle{height:100%}.cu-git-integration-modal__form-item .cu-form__error{margin-top:2px}.cu-git-integration-modal__form-divider{flex-grow:1}.cu-git-integration-modal__success{display:flex;flex-direction:column;align-items:center;padding:15px 0 10px}.cu-git-integration-modal__success-img{margin-bottom:25px;width:64px;height:88px}.cu-git-integration-modal__success-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;margin-bottom:30px;padding:0 15px;font:500 22px/28px Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-git-integration-modal__success-title{color:#d5d6d7}.cu-git-integration-modal__success .cu-git-integration-modal__copy{width:calc(100% - 30px);margin-bottom:25px}.cu-git-integration-modal__selector{display:flex;align-items:center;position:relative;height:68px;flex-shrink:0;padding:0 16px;border-top:1px solid #e9ebf0;background:#fff}.dark-theme .cu-git-integration-modal__selector{border-top-color:#1e272e;background:#2b343b}.cu-git-integration-modal__selector:before{content:"";display:block;position:absolute;width:100%;top:-9px;height:8px;z-index:1;pointer-events:none;background:linear-gradient(180deg,rgba(250,251,252,0) 0,#fafbfc)}.dark-theme .cu-git-integration-modal__selector:before{background:linear-gradient(180deg,rgba(30,39,46,0) 0,#1e272e)}.cu-git-integration-modal__selector-menu{overflow-y:auto;max-height:400px;width:250px!important}.cu-git-integration-modal__selector-menu_commits{text-align:center}.cu-git-integration-modal__selector-menu_commits .cu-btn{margin:10px 0}.cu-git-integration-modal__selector-item{height:36px;max-width:250px;width:100px;flex-grow:1}.cu-git-integration-modal__selector-item+.cu-git-integration-modal__selector-item{margin-left:10px}.cu-git-integration-modal__selector-item .cu-dropdown,.cu-git-integration-modal__selector-item .cu-dropdown__toggle{height:100%}.cu-git-integration-modal__selector-container{display:flex;align-items:center;justify-content:space-between;padding:0 10px;height:100%;border-radius:3px;border:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__selector-container{border-color:#1e272e}.cu-git-integration-modal__selector-container:hover .cu-git-integration-modal__selector-arrow{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__selector-container:hover .cu-git-integration-modal__selector-arrow{fill:var(--theme-main-color)}}.cu-git-integration-modal__selector-container:hover .cu-git-integration-modal__selector-text{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__selector-container:hover .cu-git-integration-modal__selector-text{color:var(--theme-main-color)}}.cu-git-integration-modal__form-item .cu-git-integration-modal__selector-container{border:0}.cu-git-integration-modal__selector-text{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-git-integration-modal__selector-text{color:#d5d6d7}.cu-git-integration-modal__selector-arrow{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;transform:rotate(90deg);width:6px;height:10px;margin-left:7px;fill:#292d34}.dark-theme .cu-git-integration-modal__selector-arrow{fill:#d5d6d7}.cu-git-integration-modal__selector-search{height:100%}.cu-git-integration-modal__selector-search-input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:block;width:100%;height:100%;padding:0 20px 0 32px;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34;border-radius:3px;background:transparent;border:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__selector-search-input{border-color:#1e272e;color:#d5d6d7}.cu-git-integration-modal__selector-search-input:active,.cu-git-integration-modal__selector-search-input:focus{box-shadow:none}.cu-git-integration-modal__form-item .cu-git-integration-modal__selector-search-input{border:0}.cu-git-integration-modal__selector-search-icon{position:absolute;left:8px;top:50%;transform:translateY(-50%);width:16px;height:16px;fill:#b9bec7;cursor:pointer}.dark-theme .cu-git-integration-modal__selector-search-icon{fill:#7c828d}.cu-git-integration-modal__selector-search-close{position:absolute;right:6px;top:50%;transform:translateY(-50%);width:16px;height:16px;padding:2px}.cu-git-integration-modal__list{padding:0 16px 20px}.cu-git-integration-modal__list-empty{margin-top:20px;font:italic 400 13px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-git-integration-modal__list-empty{color:#abaeb0}.cu-git-integration-modal__list-header{display:flex;align-items:center;position:relative;padding:10px 0;margin:0 16px -1px;width:calc(100% - 32px);background:#fafbfc;border-bottom:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__list-header{border-bottom-color:#384047;background:#1e272e}.cu-git-integration-modal__list-header-item{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 11px/1.4 Gotham Pro,Proxima Nova,arial,serif;text-transform:uppercase;flex-shrink:0;color:#7c828d}.dark-theme .cu-git-integration-modal__list-header-item{color:#abaeb0}.cu-git-integration-modal__list-header-item_item{flex-grow:1;flex-shrink:1;width:70px}.cu-git-integration-modal__list-header-item_date{width:140px}.cu-git-integration-modal__list-header-item_by{width:80px}.cu-git-integration-modal__list-header-item_file{width:60px}.cu-git-integration-modal__list-header-item_trash{width:16px}.cu-git-integration-modal__list-header-item_source,.cu-git-integration-modal__list-header-item_target{width:70px;flex-grow:1}.cu-git-integration-modal__list-header-item_reviewer{width:80px}.cu-git-integration-modal__list-header-item_cicd{width:55px}.cu-git-integration-modal__list-header-item_status{width:70px}.cu-git-integration-modal__list-branch{display:flex;align-items:center;z-index:10;position:sticky;top:0;min-width:0;margin-bottom:15px;padding-top:10px;background:#fafbfc;border-top:1px solid #e9ebf0}.dark-theme .cu-git-integration-modal__list-branch{border-top-color:#384047;background:#1e272e}.cu-git-integration-modal__list-branch:before{content:"";display:block;position:absolute;width:100%;top:-9px;height:8px;z-index:1;pointer-events:none;background:linear-gradient(180deg,rgba(250,251,252,0) 0,#fafbfc)}.dark-theme .cu-git-integration-modal__list-branch:before{background:linear-gradient(180deg,rgba(30,39,46,0) 0,#1e272e)}.cu-git-integration-modal__list-branch:after{content:"";display:block;position:absolute;width:100%;bottom:-8px;height:8px;z-index:1;pointer-events:none;background:linear-gradient(180deg,#fafbfc 0,rgba(250,251,252,0))}.dark-theme .cu-git-integration-modal__list-branch:after{background:linear-gradient(180deg,#1e272e 0,rgba(30,39,46,0))}.cu-git-integration-modal__list-row+.cu-git-integration-modal__list-branch{margin-top:12px}.cu-git-integration-modal__list-branch-name{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:500 14px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-git-integration-modal__list-branch-name{color:#d5d6d7}.cu-git-integration-modal__list-branch-name-copy{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;display:inline-block;width:10px;height:12px;margin-left:2px;margin-bottom:-1px;cursor:pointer;fill:#000;margin-right:3px}.dark-theme .cu-git-integration-modal__list-branch-name-copy{fill:#b9bec7}.cu-git-integration-modal__list-branch-name-copy:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__list-branch-name-copy:hover{fill:var(--theme-main-color)}}.cu-git-integration-modal__list-branch-name-copy:active{transform:scale(.8)}.cu-git-integration-modal__list-branch-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:400 14px/1 Gotham Pro,Proxima Nova,arial,serif;padding:0 5px;color:#7c828d}.dark-theme .cu-git-integration-modal__list-branch-text{color:#abaeb0}.cu-git-integration-modal__list-branch-repo-icon{width:12px;height:16px;margin-right:4px;fill:#292d34}.dark-theme .cu-git-integration-modal__list-branch-repo-icon{fill:#d5d6d7}.cu-git-integration-modal__list-branch-icon{width:10px;height:14px;margin:0 7px 0 0;fill:#000}.dark-theme .cu-git-integration-modal__list-branch-icon{fill:#d5d6d7}.cu-git-integration-modal__list-row{display:flex;margin-top:12px}.cu-git-integration-modal__list-row-item{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding-right:10px;flex-shrink:0;font:400 12px/16px Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-git-integration-modal__list-row-item{color:#abaeb0}.cu-git-integration-modal__list-row-item_item{display:flex;flex-grow:1;flex-shrink:1;width:70px}.cu-git-integration-modal__list-row-item_item a{color:#292d34}.dark-theme .cu-git-integration-modal__list-row-item_item a{color:#d5d6d7}.cu-git-integration-modal__list-row-item_item a:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-git-integration-modal__list-row-item_item a:hover{color:var(--theme-main-color)}}.cu-git-integration-modal__list-row-item_item a.disabled{pointer-events:none}.cu-git-integration-modal__list-row-item_item-icon{width:16px;height:9px;margin:4px 5px 0 0;fill:#7c828d}.dark-theme .cu-git-integration-modal__list-row-item_item-icon{fill:#abaeb0}.cu-git-integration-modal__list-row-item_date{width:140px}.cu-git-integration-modal__list-row-item_by{width:80px}.cu-git-integration-modal__list-row-item_file{width:60px}.cu-git-integration-modal__list-row-item_file .cu-dropdown__toggle{color:#4194f6}.cu-git-integration-modal__list-row-item_file .cu-dropdown__toggle:hover{color:#0d64ca}.cu-git-integration-modal__list-row-item_trash{width:16px;padding:0}.cu-git-integration-modal__list-row-item_trash-icon{width:16px;height:16px;cursor:pointer;fill:#fd71af;stroke:#fd71af}.cu-git-integration-modal__list-row-item_source,.cu-git-integration-modal__list-row-item_target{width:70px;flex-grow:1}.cu-git-integration-modal__list-row-item_reviewer{width:80px;display:flex;flex-wrap:wrap}.cu-git-integration-modal__list-row-item_reviewer-avatar{width:20px;height:20px;border-radius:2px}.cu-git-integration-modal__list-row-item_reviewer-avatar+.cu-git-integration-modal__list-row-item_reviewer-avatar{margin-left:4px}.cu-git-integration-modal__list-row-item_cicd{width:55px}.cu-git-integration-modal__list-row-item_cicd-icon{width:16px;height:16px}.cu-git-integration-modal__list-row-item_cicd-icon_success{fill:#67cb48}.cu-git-integration-modal__list-row-item_cicd-icon_failure{fill:#d64c4c;padding:1px}.cu-git-integration-modal__list-row-item_cicd-icon_pending{fill:#cdb62c;transform-origin:center center;animation:cicd-pending-rotation 3s ease infinite}@keyframes cicd-pending-rotation{0%{transform:rotate(0)}45%,55%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.cu-git-integration-modal__list-row-item_status{width:70px}.cu-git-integration-modal__list-row-item_status span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 10px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;border-radius:2px;padding:3px 5px;text-transform:capitalize}.cu-modal.cu-modal_cu-git-integration-modal .cu-modal__dialog{width:90vw;max-width:1400px;padding:0;overflow:hidden}.cu-modal.cu-modal_cu-git-integration-modal .cu-modal__body{height:550px}.cu-modal.cu-modal_cu-git-integration-modal-add-new .cu-modal__dialog{width:350px;padding:20px 17px 16px}.cu-modal.cu-modal_cu-git-integration-modal-add-new .cu-modal__header .cu-modal__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 22px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-modal.cu-modal_cu-git-integration-modal-add-new .cu-modal__header .cu-modal__title{color:#d5d6d7}.cu-modal.cu-modal_cu-git-integration-modal-add-new .cu-modal__header .cu-modal__close{width:18px;height:18px}'],encapsulation:2,data:{animation:[x.e,x.f]},changeDetection:0}),t})()},riFr:function(t,e,a){t.exports=a.p+"gitlab-step3.a68a5d8fa387c38e3138.png"},sEeB:function(t,e,a){"use strict";a.d(e,"a",function(){return m}),a.d(e,"b",function(){return h}),a.d(e,"d",function(){return g}),a.d(e,"c",function(){return b});var i=a("Cfvw"),o=a("LRne"),n=a("5+tZ"),s=a("eIep"),c=a("lJxs"),r=a("7Dom"),l=a("HDdC"),u=a("quSY"),d=a("Iab2"),p=function(t,e,a,i){return new(a||(a=Promise))(function(o,n){function s(t){try{r(i.next(t))}catch(e){n(e)}}function c(t){try{r(i.throw(t))}catch(e){n(e)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(s,c)}r((i=i.apply(t,e||[])).next())})};const m=void 0!==window.fetch&&void 0!==window.AbortController;function h(t){let e=[];return Object(i.a)(Object(o.a)(...t)).pipe(Object(n.a)(t=>function(t,e={}){const{selector:a}=e,o=r.f(e,["selector"]);return new l.a(e=>{const n=new AbortController,s=n.signal;let c=!0,r=!1;const l=new u.a;let d;if(l.add(()=>{r=!0,c&&n.abort()}),o){if(o.signal)if(o.signal.aborted)n.abort();else{const t=o.signal,e=()=>{s.aborted||n.abort()};t.addEventListener("abort",e),l.add(()=>t.removeEventListener("abort",e))}d=Object.assign({},o,{signal:s})}else d={signal:s};return fetch(t,d).then(t=>{a?l.add(Object(i.a)(a(t)).subscribe(t=>e.next(t),t=>{c=!1,r||e.error(t)},()=>{c=!1,e.complete()})):(c=!1,e.next(t),e.complete())}).catch(t=>{c=!1,r||e.error(t)}),l})}(t).pipe(Object(s.a)(e=>p(this,void 0,void 0,function*(){if(e.ok)return{blob:yield e.blob(),filename:t.split("/").pop().split("?")[0]};throw e}))),5),Object(c.a)(a=>(e=e.concat(a),{percentComplete:Math.round(e.length/t.length*100),files:e})))}function g(t,e){return p(this,void 0,void 0,function*(){const i=new(0,(yield a.e(121).then(a.t.bind(null,"xOOu",7))).default),o={};t.forEach(({blob:t,filename:e})=>{if(o[e]){const a=e.split(".");a[0]+=` (${o[e]})`;const n=a.join(".");i.file(n,t)}else i.file(e,t);o[e]=o[e]||0,o[e]++});const n=yield i.generateAsync({type:"blob"});Object(d.saveAs)(n,e)})}function b(){return-1!==window.location.href.indexOf("staging")||-1!==window.location.href.indexOf("pull-requests")?"staging":-1!==window.location.href.indexOf("stage1")?"stage1":-1!==window.location.href.indexOf("localhost")?"local":"prod"}},sEhK:function(t,e,a){"use strict";a.d(e,"a",function(){return C});var i=a("c3rA"),o=a("lJxs"),n=a("pLZG"),s=a("IzEk"),c=a("2Vo4"),r=a("itXk"),l=a("l7P3"),u=a("fXoL"),d=a("4bgU"),p=a("dpfs"),m=a("V9dP"),h=a("DkPU"),g=a("ofXK"),b=a("KAhl"),f=a("EDFS"),k=a("2uWK"),_=a("V1MX"),w=a("8r6i");const v=["dropdown"],y=["singlePointsEstimates"];function x(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-points-estimates-dropdown",3,4),u.qc("onPointsEstimatesAction",function(e){return u.Uc(t),u.uc().pointsEstimatesAction(e)})("onClose",function(){u.Uc(t);const e=u.uc();return e.onDropdownClose.emit(),e.onClose.emit()})("click",function(e){u.Uc(t);const a=u.Rc(2);return u.uc().checkPaywall(a,e)})("onOpen",function(){return u.Uc(t),u.uc().onOpen.emit()}),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.vc(8,"async"),u.vc(9,"async"),u.vc(10,"async"),u.Xb(11,"cu-points-estimates-display",5),u.vc(12,"async"),u.bc()}if(2&t){const t=u.uc(),e=u.Rc(6);let a=null;u.Dc("task",t.task)("readonly",!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.change_points_estimate)||(null==(a=u.wc(3,15,t.team$))?null:a.points_limit_reached))("points",u.wc(4,17,t.points$))("availablePoints",u.wc(5,19,t.availablePoints$))("rolledUpPoints",u.wc(6,21,t.rolledUpPoints$))("users",u.wc(7,23,t.users$))("groups",u.wc(8,25,t.groups$))("multipleAssignees",u.wc(9,27,t.multipleAssignees$))("fromPoint",t.dropdownPoint)("team",u.wc(10,29,t.team$))("popover",e),u.Ib(11),u.Dc("points",u.wc(12,31,t.displayPoints$))("isTaskView",t.isTaskView)("dashedIcon",t.isTaskView)("showUnit",t.showUnit)}}function T(t,e){if(1&t){const t=u.dc();u.cc(0,"cu-points-estimates",6,7),u.qc("onPointsEstimatesAction",function(e){return u.Uc(t),u.uc().pointsEstimatesAction(e,!0)})("onClose",function(){return u.Uc(t),u.uc().onClose.emit()})("onOpen",function(){return u.Uc(t),u.uc().onOpen.emit()})("click",function(e){u.Uc(t);const a=u.Rc(2);return u.uc().checkPaywall(a,e)}),u.vc(3,"async"),u.vc(4,"async"),u.vc(5,"async"),u.vc(6,"async"),u.vc(7,"async"),u.vc(8,"async"),u.vc(9,"async"),u.vc(10,"async"),u.vc(11,"async"),u.Xb(12,"cu-points-estimates-display",5),u.vc(13,"async"),u.bc()}if(2&t){const t=u.uc(),e=u.Rc(6);let a=null,i=null,o=null;u.Dc("points",u.wc(3,14,t.points$))("availablePoints",u.wc(4,16,t.availablePoints$))("showNormalDisplay",!1)("readonly",!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.change_points_estimate)||(null==(a=u.wc(5,18,t.team$))?null:a.points_limit_reached))("task",t.task)("user",u.wc(6,20,t.hasAssigneeBreakdown$)?null!=(i=u.wc(7,22,t.users$))&&i.length?u.wc(8,24,t.users$)[0]:null!=t.task&&null!=t.task.assignees&&t.task.assignees.length?t.task.assignees[0]:null:null)("group",u.wc(9,26,t.hasAssigneeBreakdown$)?null!=(o=u.wc(10,28,t.groups$))&&o.length?u.wc(11,30,t.groups$)[0]:null!=t.task&&null!=t.task.group_assignees&&t.task.group_assignees.length?t.task.group_assignees[0]:null:null)("showAllOption",!1)("fromPoint",t.dropdownPoint)("popover",e),u.Ib(12),u.Dc("points",u.wc(13,32,t.displayPoints$))("isTaskView",t.isTaskView)("dashedIcon",t.isTaskView)("showUnit",t.showUnit)}}function I(t,e){if(1&t&&u.Xb(0,"cu-paywall-popover",8),2&t){const t=u.uc();u.Dc("title",t.paywallCommonStringsService.sprintPointsLimitationText)("text",t.paywallCommonStringsService.unliSprintPointsUpgradeText)("upgradeButtonText",t.paywallCommonStringsService.upgradeToBusinessText)("emailSubject",t.paywallCommonStringsService.upgradeForUnlimitedUseSprintPointsText)}}let C=(()=>{class t{constructor(t,e){this.paywallCommonStringsService=t,this.store=e,this.isTaskView=!1,this.dontShowRollup=!1,this.showUnit=!0,this.onDropdownClose=new u.o,this.onClose=new u.o,this.onOpen=new u.o,this.task$=new c.a(null),this.dontShowRollup$=new c.a(!1),this.availablePoints$=this.store.pipe(Object(l.select)(m.b)),this.team$=this.store.select(i.getTeam),this.rollUpOn$=Object(r.a)([this.team$,this.task$]).pipe(Object(o.a)(([t,e])=>!!e&&t&&t.points_estimate_rollup)),this.hasAssigneeBreakdown$=this.team$.pipe(Object(o.a)(t=>t&&t.points_per_assignee)),this.multipleAssignees$=this.task$.pipe(Object(o.a)(t=>!!t&&(t.assignees||[]).length+(t.group_assignees||[]).length>1))}ngOnInit(){this.pointsEstimatesData$=this.store.pipe(Object(l.select)(m.c(this.task.id))),this.users$=Object(r.a)([this.pointsEstimatesData$,this.hasAssigneeBreakdown$]).pipe(Object(o.a)(([t,e])=>t&&t.users&&e?Object.entries(t.users).map(([t,e])=>Object.assign(Object.assign({},e.user),{points:e.points})):[])),this.groups$=Object(r.a)([this.pointsEstimatesData$,this.hasAssigneeBreakdown$]).pipe(Object(o.a)(([t,e])=>t&&t.groups&&e?Object.entries(t.groups).map(([t,e])=>Object.assign(Object.assign({},e.group),{points:e.points})):[])),this.points$=Object(r.a)([this.task$,this.pointsEstimatesData$]).pipe(Object(n.a)(([t,e])=>!!t),Object(o.a)(([t,e])=>e&&e.hasOwnProperty("points")?e.points:t.points)),this.individualPoints$=this.task$.pipe(Object(o.a)(t=>{if(!this.pointsBoxUser)return null;const e=(t.points_by_user||[]).find(t=>t.user.id===this.pointsBoxUser.id);return{user:e&&e.user,points:e&&e.points}})),this.rolledUpPoints$=Object(r.a)([this.task$,this.pointsEstimatesData$,this.rollUpOn$]).pipe(Object(n.a)(([t,e])=>!!t),Object(o.a)(([t,e,a])=>a?e&&e.hasOwnProperty("rolled_up_points")?e.rolled_up_points:t.rolled_up_points_estimate:null)),this.individualRolledUpPoints$=this.task$.pipe(Object(o.a)(t=>{if(!this.pointsBoxUser)return null;const e=(t.points_by_user||[]).find(t=>t.user.id===this.pointsBoxUser.id);return{user:e&&e.user,rolled_up_points:e&&e.rolled_up_points_estimate}})),this.displayPoints$=Object(r.a)([this.rollUpOn$,this.points$,this.rolledUpPoints$,this.individualPoints$,this.individualRolledUpPoints$,this.dontShowRollup$]).pipe(Object(o.a)(([t,e,a,i,o,n])=>t&&!n?this.pointsBoxUser&&o&&o.user?o.rolled_up_points:a:this.pointsBoxUser&&i&&i.user?i.points:e))}ngOnChanges(t){t.task&&this.task$.next(this.task),t.dontShowRollup&&this.dontShowRollup$.next(this.dontShowRollup)}pointsEstimatesAction(t,e=!1){const{action:a,task:i,points:o,user:n,group:s}=t;let{assignees:c,groupAssignees:r}=t;switch(a){case d.a.FetchTaskPointsEstimatesData:this.store.dispatch(p.f({task:i}));break;case d.a.UpdateTaskPointsEstimates:this.store.dispatch(p.d({task:i,points:o}));break;case d.a.UpdateTaskAssigneePointsEstimates:!c&&n&&(c=[n.id]),!r&&s&&(r=[s.id]),this.store.dispatch(p.c({task:i,points:o,assignees:c,groupAssignees:r}))}e&&this.singlePointsEstimates&&t.action!==d.a.FetchTaskPointsEstimatesData&&this.singlePointsEstimates.close()}checkPaywall(t,e){this.team$.pipe(Object(s.a)(1)).subscribe(a=>{if(a&&a.points_limit_reached)return e.preventDefault(),e.stopPropagation(),void(t&&t.show())})}open(){this.dropdown&&this.dropdown.open(),this.singlePointsEstimates&&this.singlePointsEstimates.open()}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(h.a),u.Wb(l.Store))},t.\u0275cmp=u.Qb({type:t,selectors:[["cu-task-points-estimates"]],viewQuery:function(t,e){if(1&t&&(u.jd(v,1),u.jd(y,1)),2&t){let t;u.Qc(t=u.rc())&&(e.dropdown=t.first),u.Qc(t=u.rc())&&(e.singlePointsEstimates=t.first)}},hostAttrs:[1,"cu-task-points-estimates"],inputs:{task:"task",pointsBoxUser:"pointsBoxUser",isTaskView:"isTaskView",dropdownPoint:"dropdownPoint",dontShowRollup:"dontShowRollup",showUnit:"showUnit"},outputs:{onDropdownClose:"onDropdownClose",onClose:"onClose",onOpen:"onOpen"},features:[u.Gb],decls:7,vars:6,consts:function(){let t;return t=$localize`:@@common_plans--business␟799fb8032a84dac92ffc607544ab057eecba477d␟5027301813778675755:'Business'`,[["containerClass","popover_white popover_no-max-width popover_no-padding","placement","bottom","outsideClick","true","container","body","triggers","",3,"task","readonly","points","availablePoints","rolledUpPoints","users","groups","multipleAssignees","fromPoint","team","popover","onPointsEstimatesAction","onClose","click","onOpen",4,"ngIf","ngIfElse"],["showOneInput",""],["businessPaywallTemplate",""],["containerClass","popover_white popover_no-max-width popover_no-padding","placement","bottom","outsideClick","true","container","body","triggers","",3,"task","readonly","points","availablePoints","rolledUpPoints","users","groups","multipleAssignees","fromPoint","team","popover","onPointsEstimatesAction","onClose","click","onOpen"],["dropdown","","granularPointsPaywall","bs-popover"],[3,"points","isTaskView","dashedIcon","showUnit"],["containerClass","popover_white popover_no-max-width popover_no-padding","placement","bottom","outsideClick","true","container","body","triggers","",3,"points","availablePoints","showNormalDisplay","readonly","task","user","group","showAllOption","fromPoint","popover","onPointsEstimatesAction","onClose","onOpen","click"],["singlePointsEstimates","","singlePointsPopover","bs-popover"],["badge",t,3,"title","text","upgradeButtonText","emailSubject"]]},template:function(t,e){if(1&t&&(u.bd(0,x,13,33,"cu-points-estimates-dropdown",0),u.vc(1,"async"),u.vc(2,"async"),u.bd(3,T,14,34,"ng-template",null,1,u.cd),u.bd(5,I,1,4,"ng-template",null,2,u.cd)),2&t){const t=u.Rc(4);u.Dc("ngIf",u.wc(1,2,e.multipleAssignees$)&&u.wc(2,4,e.hasAssigneeBreakdown$))("ngIfElse",t)}},directives:[g.q,b.a,f.c,k.a,_.a,w.a],pipes:[g.b],styles:[".cu-panel-board__footer_left .cu-task-points-estimates{margin-left:7px}"],encapsulation:2,changeDetection:0}),t})()},sVzW:function(t,e,a){"use strict";a.d(e,"a",function(){return k});var i=a("fXoL"),o=a("R4vD"),n=a("VrOs"),s=a("p1wf"),c=a("O5gs"),r=a("sgkU"),l=a("UdVN"),u=a("ofXK"),d=a("NsZK"),p=a("vVjD");let m=(()=>{class t{constructor(){}transform(t,e=!1){return Object(o.g)(t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"underscoreToSpace",type:t,pure:!0}),t})();var h=a("aeas");const g=function(){return{}};function b(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-automation-field-value",10),i.qc("valueChange",function(e){return i.Uc(t),i.uc(2).changeConditionValue(e)}),i.bc()}if(2&t){const t=i.uc(2);i.Dc("parentType",t.parentType)("parentId",t.parentId)("value",t.conditionComponent.selfEmit?t.condition:t.condition.value)("key",t.condition.field)("resource",t.resource)("isAction",!1)("conditionOp",t.condition.op)("variables",t.mappedVariables)("component",t.conditionComponent.component)("options",t.conditionComponent.componentOptions||i.Gc(12,g))("readonly",t.readOnly)("forSummary",t.readOnly)}}function f(t,e){if(1&t){const t=i.dc();i.cc(0,"div",5),i.cc(1,"cu-dropdown-list",6),i.qc("onSelect",function(e){return i.Uc(t),i.uc().changeConditionOperator(e)}),i.cc(2,"cu-edit-automation-dropdown",7),i.cc(3,"span",8),i.vc(4,"opToText"),i.dd(5),i.vc(6,"opToText"),i.bc(),i.bc(),i.bc(),i.bd(7,b,1,13,"cu-automation-field-value",9),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("items",t.operatorMenuItems)("showSearch",!0)("autoFocusSearch",!0)("handleKeyboard",!0),i.Ib(1),i.Dc("modifier","cu-edit-automation__container-body-actions-item-margin"),i.Ib(1),i.Dc("cuTooltip","custom_field"===(null==t.selectedMenuItem?null:t.selectedMenuItem.key)?i.wc(4,8,t.condition.op):null),i.Ib(2),i.ed(i.wc(6,10,t.condition.op)),i.Ib(2),i.Dc("ngIf",!t.noValueOp||t.conditionComponent.selfConditionOp)}}let k=(()=>{class t{constructor(t,e){this.automationStrategies=t,this.defaultResourceMapper=e,this.readOnly=!1,this.triggerCondition=new i.o,this.removeCondition=new i.o}get noValueOp(){var t;return["is set","is not set"].includes(null===(t=this.condition)||void 0===t?void 0:t.op)}get supportMultiple(){var t,e;return!!(null===(e=null===(t=this.condition)||void 0===t?void 0:t.op.match(/(any|all)$/))||void 0===e?void 0:e.length)}ngOnChanges(t){if(t.conditions&&(this.conditionMenuItems=this.createConditionMenuItem()),t.values&&(this.mappedVariables=Object.keys(this.values).reduce((t,e)=>[...t,{label:e,value:this.values[e],info:{type:"string"}}],[])),t.conditions||t.condition){const t=this.condition.field.startsWith("cf_")?"custom_field":this.condition.field,e=this.conditionMenuItems.find(t=>t.checked)||(t?this.conditionMenuItems.find(e=>e.id===t):this.conditionMenuItems[0])||this.conditionMenuItems[0];e.checked||(e.checked=!0),this.selectedMenuItem=e.customPayload,this.mapOperatorsMenu()}this.condition&&this.selectedMenuItem&&this.updateComponentDetails()}createConditionMenuItem(){return this.conditions.map(t=>({id:t.key,title:"follower"===t.key?"Watcher":t.label||Object(o.g)(t.key,!0),checked:t.key===(this.conditionComponent?this.conditionComponent.type:this.condition.field),customPayload:t}))}changeCondition(t){const e=this.conditionMenuItems.find(t=>t.checked);e&&(e.checked=!1),t.checked=!0,this.triggerCondition.emit({field:t.customPayload.key,op:t.customPayload.operators.includes(this.condition.op)?this.condition.op:t.customPayload.operators[0]}),this.selectedMenuItem=t.customPayload}changeConditionValue(t){this.triggerCondition.emit(Object.assign(Object.assign({},this.condition),this.conditionComponent.selfEmit&&"object"==typeof t?t:{value:t}))}mapOperatorsMenu(){this.operatorMenuItems=this.selectedMenuItem.operators.map(t=>{const e=this.defaultResourceMapper.mapConditionOperators(t);return{id:e.id,title:e.label,checked:t===this.condition.op,customPayload:e}}),!this.operatorMenuItems.find(t=>t.checked)&&this.operatorMenuItems.length&&this.triggerCondition.emit({field:this.selectedMenuItem.key,op:this.operatorMenuItems[0].customPayload.id})}changeConditionOperator(t){const e=this.operatorMenuItems.find(t=>t.checked);e&&(e.checked=!1),t.checked=!0,this.triggerCondition.emit({field:this.selectedMenuItem.key,op:t.customPayload.id})}updateComponentDetails(){var t;const e=this.condition.field.startsWith("cf_")?"custom_field":this.condition.field,a=this.automationStrategies.getStrategy(this.resource.key),i=this.conditions.find(t=>t.key===e);if(a&&a.getConditionComponentOverride){const t=a.getConditionComponentOverride(e,i?{}:i.schema,this.supportMultiple);if(t&&t.component)return void(this.conditionComponent=Object.assign(Object.assign({},t),{componentOptions:Object.assign(Object.assign({},t.componentOptions),{isTrigger:!0})}))}if(a&&a.getActionsInputComponentOverride){const t=a.getActionsInputComponentOverride({key:this.condition.field,schema:i?i.schema:null},null,this.supportMultiple);if(t&&t.component)return void(this.conditionComponent=Object.assign(Object.assign({},t),{componentOptions:Object.assign(Object.assign({},t.componentOptions),{isTrigger:!0})}));let e=this.defaultResourceMapper.getActionInputComponent(this.condition.field,this.selectedMenuItem?this.selectedMenuItem.schema:i?i.schema:null,this.resource.key,this.dynamicValues);return e=Object.assign(Object.assign({},e),{componentOptions:Object.assign(Object.assign({},e.componentOptions),{isTrigger:!0})}),t&&!t.component?void(this.conditionComponent=Object.assign(Object.assign(Object.assign({},e),t),{componentOptions:Object.assign(Object.assign(Object.assign({},e.componentOptions),t.componentOptions),{isTrigger:!0})})):void(this.conditionComponent=e)}if(this.supportMultiple&&"array"!==(null===(t=null==i?void 0:i.schema)||void 0===t?void 0:t.type))return void this.mapToArrayOptions(i);const o=this.defaultResourceMapper.getActionInputComponent(this.condition.field,this.selectedMenuItem.schema,this.resource.key,this.dynamicValues);this.conditionComponent=Object.assign(Object.assign({},o),{componentOptions:Object.assign(Object.assign(Object.assign({},o.componentOptions),o.componentOptions),{isTrigger:!0})})}mapToArrayOptions(t){let e=this.defaultResourceMapper.getActionInputComponent(this.condition.field,{type:"array",items:this.selectedMenuItem?this.selectedMenuItem.schema:t?t.schema:null},this.resource.key,this.dynamicValues);e=Object.assign(Object.assign({},e),{componentOptions:Object.assign(Object.assign({},e.componentOptions),{isTrigger:!0})}),this.conditionComponent=e}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(n.d),i.Wb(s.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-schema-automation-trigger-condition"]],inputs:{conditions:"conditions",condition:"condition",resource:"resource",parentType:"parentType",parentId:"parentId",readOnly:"readOnly",dynamicValues:"dynamicValues",values:"values"},outputs:{triggerCondition:"triggerCondition",removeCondition:"removeCondition"},features:[i.Gb],decls:8,vars:10,consts:[[1,"cu-edit-automation__container-body-actions-row"],[1,"cu-automation-field-value_stretch",3,"items","showSearch","handleKeyboard","autoFocusSearch","onSelect"],[1,"cu-edit-automation__container-body-actions-delete"],[1,"cu-edit-automation__container-body-actions-delete-icon",3,"icon","click"],["class","cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row__condition",4,"ngIf"],[1,"cu-edit-automation__container-body-actions-row","cu-edit-automation__container-body-actions-row__condition"],[3,"items","showSearch","autoFocusSearch","handleKeyboard","onSelect"],[3,"modifier"],[3,"cuTooltip"],["class","cu-automation-field-value_stretch cu-edit-automation__container-body-actions-item-margin",3,"parentType","parentId","value","key","resource","isAction","conditionOp","variables","component","options","readonly","forSummary","valueChange",4,"ngIf"],[1,"cu-automation-field-value_stretch","cu-edit-automation__container-body-actions-item-margin",3,"parentType","parentId","value","key","resource","isAction","conditionOp","variables","component","options","readonly","forSummary","valueChange"]],template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"cu-dropdown-list",1),i.qc("onSelect",function(t){return e.changeCondition(t)}),i.cc(2,"cu-edit-automation-dropdown"),i.dd(3),i.vc(4,"underscoreToSpace"),i.bc(),i.bc(),i.cc(5,"div",2),i.cc(6,"div",3),i.qc("click",function(){return e.removeCondition.emit(!0)}),i.bc(),i.bc(),i.bc(),i.bd(7,f,8,12,"div",4)),2&t&&(i.Ib(1),i.Dc("items",e.conditionMenuItems)("showSearch",!0)("handleKeyboard",!0)("autoFocusSearch",!0),i.Ib(2),i.fd(" ","follower"===e.condition.field?"Watcher":i.xc(4,7,null==e.conditionComponent?null:e.conditionComponent.type,!0)," "),i.Ib(3),i.Dc("icon","trash-bold-2"),i.Ib(1),i.Dc("ngIf",e.operatorMenuItems.length>0))},directives:[c.a,r.a,l.a,u.q,d.a,p.a],pipes:[m,h.a],encapsulation:2,changeDetection:0}),t})()},sdT0:function(t,e,a){"use strict";a.d(e,"a",function(){return u});var i=a("ofXK"),o=a("1M0N"),n=a("gb9A"),s=a("mcWp"),c=a("EDFS"),r=a("K0KF"),l=a("fXoL");let u=(()=>{class t{}return t.\u0275mod=l.Ub({type:t}),t.\u0275inj=l.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,n.a,s.a,c.d,r.a]]}),t})()},sf8M:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var i=a("XNiG"),o=a("xgIS"),n=a("1G5W"),s=a("Kj3r");class c{constructor(t,e,a){this.container=t,this.scrollCallback=e,this.marginTop=a,this.margin=30,this.maxSpeed=25,this.point={x:0,y:0},this.boundaryRect=this.container.getBoundingClientRect()}onMove(t){this.point=t,cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(()=>this.scrollTick())}scrollTick(){cancelAnimationFrame(this.animationFrame),this.autoScroll()&&(this.animationFrame=requestAnimationFrame(()=>this.scrollTick()))}autoScroll(){let t,e;t=this.point.x<this.boundaryRect.left+this.margin?Math.floor(Math.max(-1,(this.point.x-this.boundaryRect.left)/this.margin-1)*this.maxSpeed):this.point.x>this.boundaryRect.right-this.margin?Math.ceil(Math.min(1,(this.point.x-this.boundaryRect.right)/this.margin+1)*this.maxSpeed):0;const a=this.marginTop||this.margin;return e=this.point.y<this.boundaryRect.top+a?Math.floor(Math.max(-1,(this.point.y-this.boundaryRect.top)/a-1)*this.maxSpeed):this.point.y>this.boundaryRect.bottom-this.margin?Math.ceil(Math.min(1,(this.point.y-this.boundaryRect.bottom)/this.margin+1)*this.maxSpeed):0,setTimeout(()=>{e&&this.scrollY(e),t&&this.scrollX(t)}),t||e}scrollY(t){this.container.scrollTop+=t,this.scrollCallback&&this.scrollCallback({x:0,y:t})}scrollX(t){this.container.scrollLeft+=t,this.scrollCallback&&this.scrollCallback({x:t,y:0})}destroy(){cancelAnimationFrame(this.animationFrame)}}var r=a("fXoL"),l=a("5+WD"),u=a("2Vo4");let d=(()=>{class t{constructor(){this.debugInfo=new u.a(null),this.enabled=!1}log(t){this.debugInfo.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p=(()=>{class t{constructor(t,e,a,o){this.cdkDrag=t,this.dragDebugService=e,this.zone=a,this.changeDetectorRef=o,this.destroy$=new i.a,this.stopDragging$=new i.a,this.lastScroll={top:0,left:0},this.dragRef=this.cdkDrag._dragRef,this.dragRef&&this.zone.runOutsideAngular(()=>{this.dragRef.started.pipe(Object(n.a)(this.destroy$)).subscribe(t=>{this.started()}),this.dragRef.ended.pipe(Object(n.a)(this.destroy$)).subscribe(t=>{this.ended()}),this.dragRef.entered.pipe(Object(n.a)(this.destroy$)).subscribe(t=>{this.entered()}),this.dragRef.exited.pipe(Object(n.a)(this.destroy$)).subscribe(t=>{this.exited()})})}ngOnChanges(t){t.dragConnectedIds&&this.dragRef.isDragging()&&setTimeout(()=>{this.syncSiblings()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.stopDragging$.next(),this.stopDragging$.complete(),this.destroyAutoScroll()}started(){this.scrollContainer&&(this.destroyAutoScroll(),this.addDebugInfo(),this.autoScroll=new c(this.scrollContainer,null,this.marginTop),this.lastScroll.top=this.scrollContainer.scrollTop,this.lastScroll.left=this.scrollContainer.scrollLeft,Object(o.a)(this.scrollContainer,"scroll").pipe(Object(n.a)(this.stopDragging$)).subscribe(()=>{this.addDebugInfo();const t=this.getDropListRef();if(t){const e={top:this.lastScroll.top,left:this.lastScroll.left};t._updateAfterScroll(this.lastScroll,this.scrollContainer.scrollTop,this.scrollContainer.scrollLeft,t._clientRect),t._siblings.forEach(t=>{t._updateAfterScroll(Object.assign({},e),this.scrollContainer.scrollTop,this.scrollContainer.scrollLeft,t._clientRect)}),function(t,e){if(t&&t._draggables.length>t._itemPositions.length){const a=t._itemPositions;t._activeDraggables=t._draggables.slice(),t._cacheItemPositions();const i=t._itemPositions;t._itemPositions=[...a],i.forEach(e=>{a.find(t=>e.drag===t.drag)||t._itemPositions.push(e)}),t._activeDraggables.push(e)}}(t,this.dragRef)}}),this.dragRef.moved.pipe(Object(s.a)(10),Object(n.a)(this.stopDragging$)).subscribe(t=>{this.autoScroll.onMove(t.pointerPosition)}))}ended(){this.destroyAutoScroll(),this.stopDragging$.next()}entered(){this.dragFixContainer()}exited(){this.dragFixContainer()}destroyAutoScroll(){this.autoScroll&&(this.autoScroll.destroy(),this.autoScroll=null)}getDropListRef(){return this.dragRef._dropContainer}addDebugInfo(){if(!this.dragDebugService.enabled)return;const t=this.getDropListRef();if(t){const e=[...t._itemPositions.map(t=>({clientRect:t.clientRect,color:"blue",id:t.drag.data.data.name})),...t._siblings.map(t=>({clientRect:t._clientRect,color:"green",id:""})),{clientRect:t._clientRect,color:"#2FD1BB",id:""}];this.dragDebugService.log(e.filter(t=>t.clientRect))}}dragFixContainer(){setTimeout(()=>{const t=this.getDropListRef();t&&(t._cacheOwnPosition(),this.addDebugInfo())}),this.changeDetectorRef.markForCheck()}syncSiblings(){const t=this.getDropListRef();t&&(t.beforeStarted.next(),this.adjustContainers())}adjustContainers(){const t=this.getDropListRef();t&&(t._cacheOwnPosition(),t._siblings.forEach(t=>{t._cacheOwnPosition()}))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(l.a),r.Wb(d),r.Wb(r.B),r.Wb(r.h))},t.\u0275dir=r.Rb({type:t,selectors:[["","cuDragScroll",""]],inputs:{dragConnectedIds:["cuDragScrollConnectedTo","dragConnectedIds"],scrollContainer:["cuDragScrollContainer","scrollContainer"],marginTop:["cuDragMarginTop","marginTop"]},exportAs:["cuDragScroll"],features:[r.Gb]}),t})()},sgkU:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("fXoL"),o=a("UdVN");const n=["*"];let s=(()=>{class t{constructor(){this.modifier=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-edit-automation-dropdown"]],inputs:{modifier:"modifier"},ngContentSelectors:n,decls:4,vars:3,consts:[[1,"cu-edit-automation-dropdown__value"],["icon","cu2-angle-down",1,"cu-edit-automation-dropdown__arrow"]],template:function(t,e){1&t&&(i.Cc(),i.cc(0,"div"),i.cc(1,"div",0),i.Bc(2),i.bc(),i.Xb(3,"div",1),i.bc()),2&t&&i.Mb("cu-edit-automation-dropdown ",e.modifier,"")},directives:[o.a],styles:['.cu-edit-automation-dropdown{height:40px;border-radius:4px;display:flex;align-items:center;padding:0 12px;border:1px solid #e9ebf0;flex-grow:1;cursor:pointer}.dark-theme .cu-edit-automation-dropdown{border-color:#1e272e}.cu-edit-automation-dropdown__value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:14px;line-height:14px;color:#292d34;margin-right:10px;flex-grow:1}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-edit-automation-dropdown__value{font-family:var(--global-font-support)}}.dark-theme .cu-edit-automation-dropdown__value{color:#d5d6d7}.cu-edit-automation-dropdown__arrow{width:10px;height:10px;fill:#b9bec7}.cu-edit-automation-dropdown__template-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;max-width:calc(100% - 20px)}.cu-edit-automation-dropdown__template .cu-edit-automation-dropdown__value{display:flex;align-items:center}.cu-edit-automation-dropdown__template .cu-edit-automation-dropdown__value .icon{margin-left:auto;width:16px;height:16px;padding:2px;fill:#b9bec7}.cu-edit-automation-dropdown__template .cu-edit-automation-dropdown__value .icon:hover{fill:var(--theme-main-color)}'],encapsulation:2,changeDetection:0}),t})()},soCZ:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("fXoL"),o=a("N3Tp");let n=(()=>{class t{constructor(t,e){this.elementRef=t,e&&e.setPlaceholder(this.elementRef)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.m),i.Wb(o.a,8))},t.\u0275dir=i.Rb({type:t,selectors:[["","cuLazyItemPlaceholder",""]]}),t})()},tFuv:function(t,e,a){t.exports=a.p+"bitbucket-step2.eedfde1634a4fa48f1ce.png"},"ug8/":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("fXoL"),o=a("N3Tp");let n=(()=>{class t{constructor(t,e,a){a&&a.setBody(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.U),i.Wb(i.Q),i.Wb(o.a,8))},t.\u0275dir=i.Rb({type:t,selectors:[["","cuLazyItemBody",""]]}),t})()},ukIH:function(t,e,a){"use strict";a.d(e,"a",function(){return y});var i=a("1G5W"),o=a("XNiG"),n=a("2Vo4"),s=a("l5mm"),c=a("Rpu1"),r=a("fXoL"),l=a("uslN"),u=a("fujP"),d=a("ANIu"),p=a("loh9"),m=a("ofXK"),h=a("NsZK"),g=a("UdVN"),b=a("9mq+"),f=a("0lvH");function k(t,e){if(1&t&&(r.cc(0,"span"),r.dd(1),r.vc(2,"timeTrackerDuration"),r.vc(3,"async"),r.bc()),2&t){const t=r.uc();r.Ib(1),r.ed(r.xc(2,1,r.wc(3,4,t.currentDuration$),!0))}}function _(t,e){if(1&t){const t=r.dc();r.cc(0,"div",9),r.qc("click",function(){return r.Uc(t),r.uc().toggleDescription()}),r.Xb(1,"div",10),r.bc()}}function w(t,e){if(1&t){const t=r.dc();r.cc(0,"div",11),r.qc("click",function(){return r.Uc(t),r.uc().toggleTags()}),r.Xb(1,"div",12),r.bc()}}function v(t,e){if(1&t){const t=r.dc();r.cc(0,"cu-timer-tracker-billable",13),r.qc("onToggle",function(){return r.Uc(t),r.uc().updateBillable()}),r.bc()}if(2&t){const t=r.uc();r.Dc("billable",null==t.currentEntry?null:t.currentEntry.billable)("cuTooltip",t.billableText)}}let y=(()=>{class t{constructor(){this.destroy$=new o.a,this.currentDuration$=new n.a(null),this.TeamPlan=l.f,this.modifier="",this.smallVersion=!1,this.showManualTime=!1,this.onlyShowTimeWhenRunning=!1,this.allowAddManual=!1,this.isFloatContainer=!1,this.disabled=!1,this.onTimeTrackerAction=new r.o,this.onToggleDescription=new r.o,this.onToggleTags=new r.o,this.onToggleManual=new r.o,this.onOnUpdateEntry=new r.o,this.onShowPaywall=new r.o,this.onHighlightSelector=new r.o,this.billableText=$localize`:@@common_billable:Billable`}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe(),this.timeTrackerSubscription&&this.timeTrackerSubscription.unsubscribe()}ngOnChanges(t){t.currentDuration&&(this.currentDuration?this.timeTrackerSubscription=Object(s.a)(c.a).pipe(Object(i.a)(this.destroy$)).subscribe(()=>{if(this.currentDuration$.value&&this.currentEntry){const t=(new Date).getTime()-parseInt(this.currentEntry.start,10);this.currentDuration$.next(t)}}):this.timeTrackerSubscription&&this.timeTrackerSubscription.unsubscribe(),this.currentDuration$.next(this.currentDuration))}toggleTimer(){this.team.plan_id!==l.f.FREE&&this.team.plan_id!==l.f.UNLIMITED||(!Object(u.a)(this.currentEntry)&&this.currentEntry.task||!this.isFloatContainer)&&(this.taskId||this.isFloatContainer)?this.onTimeTrackerAction.emit({action:this.currentDuration?c.d.Stop:c.d.Start,payload:this.currentDuration?null:this.currentEntry}):this.onHighlightSelector.emit()}updateBillable(){this.team.plan_id!==l.f.FREE&&this.team.plan_id!==l.f.UNLIMITED?this.onOnUpdateEntry.emit({billable:!(this.currentEntry&&this.currentEntry.billable)}):this.onShowPaywall.emit()}toggleDescription(){this.team.plan_id!==l.f.FREE&&this.team.plan_id!==l.f.UNLIMITED?this.onToggleDescription.emit():this.onShowPaywall.emit()}toggleTags(){this.team.plan_id!==l.f.FREE&&this.team.plan_id!==l.f.UNLIMITED?this.onToggleTags.emit():this.onShowPaywall.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Qb({type:t,selectors:[["cu-time-tracker-timer"]],inputs:{currentDuration:"currentDuration",currentEntry:"currentEntry",modifier:"modifier",smallVersion:"smallVersion",showManualTime:"showManualTime",onlyShowTimeWhenRunning:"onlyShowTimeWhenRunning",allowAddManual:"allowAddManual",team:"team",taskId:"taskId",isFloatContainer:"isFloatContainer",disabled:"disabled"},outputs:{onTimeTrackerAction:"onTimeTrackerAction",onToggleDescription:"onToggleDescription",onToggleTags:"onToggleTags",onToggleManual:"onToggleManual",onOnUpdateEntry:"onOnUpdateEntry",onShowPaywall:"onShowPaywall",onHighlightSelector:"onHighlightSelector"},features:[r.Gb],decls:11,vars:14,consts:function(){let t,e;return t=$localize`:@@common_description␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,e=$localize`:@@common_labels␟2af7efecfae8d7fed3b07f718a623eca1ad8163f␟546766753072101168:Labels`,[[1,"cu-time-tracker-timer"],[1,"cu-time-tracker-timer__items"],[1,"cu-time-tracker-timer__items-time"],[3,"cuPreventDefault","modifier","running","disabled","onToggle"],[4,"ngIf"],[1,"cu-time-tracker-timer__items-selections"],["class","cu-time-tracker-timer__icon-container","cuTooltip",t,3,"click",4,"ngIf"],["class","cu-time-tracker-timer__icon-container","cuTooltip",e,3,"click",4,"ngIf"],[3,"billable","cuTooltip","onToggle",4,"ngIf"],["cuTooltip",t,1,"cu-time-tracker-timer__icon-container",3,"click"],["icon","text-l",1,"cu-time-tracker-timer__icon"],["cuTooltip",e,1,"cu-time-tracker-timer__icon-container",3,"click"],["icon","tags-batch",1,"cu-time-tracker-timer__icon"],[3,"billable","cuTooltip","onToggle"]]},template:function(t,e){1&t&&(r.cc(0,"div",0),r.cc(1,"div",1),r.cc(2,"div",2),r.cc(3,"cu-time-tracker-toggle",3),r.qc("onToggle",function(){return e.toggleTimer()}),r.vc(4,"async"),r.bc(),r.bd(5,k,4,6,"span",4),r.vc(6,"async"),r.bc(),r.cc(7,"div",5),r.bd(8,_,2,0,"div",6),r.bd(9,w,2,0,"div",7),r.bd(10,v,1,2,"cu-timer-tracker-billable",8),r.bc(),r.bc(),r.bc()),2&t&&(r.Ob("small",e.smallVersion),r.Ib(3),r.Dc("cuPreventDefault",e.smallVersion)("modifier",e.modifier)("running",!!r.wc(4,10,e.currentDuration$))("disabled",e.disabled),r.Ib(2),r.Dc("ngIf",r.wc(6,12,e.currentDuration$)||!e.onlyShowTimeWhenRunning),r.Ib(3),r.Dc("ngIf",!(null!=e.currentEntry&&e.currentEntry.description||e.smallVersion||(null==e.team?null:e.team.plan_id)===e.TeamPlan.BUSINESS||(null==e.team?null:e.team.plan_id)===e.TeamPlan.ENTERPRISE)),r.Ib(1),r.Dc("ngIf",!(null!=e.currentEntry&&null!=e.currentEntry.tags&&e.currentEntry.tags.length||e.smallVersion)),r.Ib(1),r.Dc("ngIf",!e.smallVersion))},directives:[d.a,p.a,m.q,h.a,g.a,b.a],pipes:[m.b,f.a],styles:['.cu-time-tracker-timer__items{justify-content:space-between;margin-top:10px}.cu-time-tracker-timer__items,.cu-time-tracker-timer__items-selections{display:flex;align-items:center}.cu-time-tracker-timer__items-time{display:flex;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__items-time{font-family:var(--global-font-support)}}.cu-time-tracker-timer__items-time span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__items-time span{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-timer__items-time span{color:#d5d6d7}.cu-time-tracker__container-top .cu-time-tracker-timer__items-time span,.cu-time-tracking-dropdown__current .cu-time-tracker-timer__items-time span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker__container-top .cu-time-tracker-timer__items-time span,.cu-time-tracking-dropdown__current .cu-time-tracker-timer__items-time span{font-family:var(--global-font-support)}}.cu-time-tracker-timer__items-time-manual{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#fff;border-bottom:1px dotted #fff;margin-left:10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__items-time-manual{font-family:var(--global-font-support)}}.cu-time-tracker-timer__items-time-manual:hover{color:var(--theme-main-color-light)}.cu-time-tracker-timer__icon{display:inline-block;width:14px;height:14px;stroke:#fff}.dark-theme .cu-time-tracker-timer__icon{stroke:#fff}.cu-time-tracker-timer__icon-container{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px dashed #fff;border-radius:50%;cursor:pointer}.cu-time-tracker-timer__icon-container .dark-theme *{border-color:#fff}.cu-time-tracker-timer__icon-container.cu-time-tracker-timer__lighten{background:#dfdbfb}@supports (--theme-main-color-light:#dfdbfb){.cu-time-tracker-timer__icon-container.cu-time-tracker-timer__lighten{background:var(--theme-main-color-light)}}.cu-time-tracker-timer__icon-container.cu-time-tracker-timer__billable{background:green}.cu-time-tracker-timer__icon-container:not(:last-child){margin-right:5px}.cu-time-tracker-timer__float{display:flex;align-items:center;justify-content:center;background:#7b68ee;position:fixed;bottom:11px;right:10px;height:40px;padding:5px 40px 5px 5px;cursor:pointer;border-radius:20px}@supports (--theme-main-color:#7b68ee){.cu-time-tracker-timer__float{background:var(--theme-main-color)}}.cu-os-win .cu-time-tracker-timer__float{bottom:21px;right:20px}.modal-open .cu-time-tracker-timer__float{height:29px}.modal-open .cu-time-tracker-timer__float .cu-time-tracker-toggle__play-container{width:18px;height:18px}.cu-time-tracker-timer__float span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:13px;color:#fff;min-width:45px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer__float span{font-family:var(--global-font-support)}}.cu-time-tracker-timer__float span.fixed-width{min-width:65px;text-align:left}.cu-time-tracker-timer__play{width:10px;height:10px}.cu-time-tracker-timer__play-container{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:32px;background-color:#fff;cursor:pointer}.cu-time-tracker-timer__play-container.cu-time-tracker-timer__play-running{background-color:#fd7179}.cu-time-tracker-timer.small .cu-time-tracker-timer__items{margin-top:0}.cu-time-tracker-timer.small .cu-time-tracker-toggle__play-container{margin-top:-1px;margin-right:3px!important;height:14px;width:14px;background-color:#67cb45!important}.cu-time-tracker-timer.small .cu-time-tracker-toggle__play{fill:#fff!important;width:4px!important;height:6px!important}.cu-time-tracker-timer.small .cu-time-tracker-timer__items-time{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:11px;color:#292d34}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-timer.small .cu-time-tracker-timer__items-time{font-family:var(--global-font-support)}}.dark-theme .cu-time-tracker-timer.small .cu-time-tracker-timer__items-time{color:#d5d6d7}'],encapsulation:2,changeDetection:0}),t})()},urSQ:function(t,e,a){t.exports=a.p+"bitbucket-step4.ad34414a18fe2e6c13fa.png"},uyEL:function(t,e,a){"use strict";a.d(e,"a",function(){return E}),a.d(e,"b",function(){return tt});var i=a("fXoL"),o=a("x1J0"),n=a("eKZ6"),s=a("CgHv"),c=a("MguC"),r=a("jJQC"),l=a("TqRa"),u=a("5+WD"),d=a("uslN"),p=a("dTHz"),m=a("YwDF");const h=["dropdownOptions"],g=["calculateDropdown"],b=["multiSort"],f=["editRollupColumnDropdown"];function k(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"cu-task-list-footer-field-calc",17),i.qc("onSave",function(e){return i.Uc(t),i.uc(2).onSaveCalc.emit(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc(2);i.Ib(1),i.Dc("calc",t.column.calc)("total",t.total)("overallTotal",t.overallTotal)("fieldType",null==t.column?null:t.column.aggregableType)("customField",null==t.column?null:t.column.customField)}}function _(t,e){if(1&t&&(i.cc(0,"div",13,14),i.Xb(2,"div",15),i.bd(3,k,2,5,"div",16),i.bc()),2&t){const t=i.uc();i.Dc("dropdownDisabled",t.disabled)("dropdownCloseOnInsideClick",!1)}}function w(t,e){if(1&t){const t=i.dc();i.cc(0,"div"),i.cc(1,"cu-task-list-header-settings-create-linked-columns",19),i.qc("repositionMenu",function(){return i.Uc(t),i.uc(),i.Rc(1).positionMenu()})("cancel",function(){return i.Uc(t),i.uc(),i.Rc(1).close()})("updateRollupColumn",function(e){return i.Uc(t),i.uc(2).updateRollupColumn(e)}),i.bc(),i.bc()}if(2&t){const t=i.uc(2);i.Ib(1),i.Dc("customFields",t.customFields)("editColumn",t.column)("team",t.team)}}function v(t,e){if(1&t&&(i.cc(0,"div",13,18),i.Xb(2,"div",15),i.bd(3,w,2,3,"div",16),i.bc()),2&t){const t=i.uc();i.Dc("dropdownDisabled",t.disabled)("dropdownCloseOnInsideClick",!1)}}function y(t,e){if(1&t&&i.Xb(0,"div",20),2&t){const t=i.uc();i.Dc("icon",null!=t.column&&t.column.customField?"field-"+(null==t.column?null:t.column.customField.type):null==t.column?null:t.column.icon)}}function x(t,e){if(1&t&&(i.Xb(0,"div",21),i.vc(1,"taskListHeaderFieldRollupFieldText")),2&t){const t=i.uc();i.Dc("icon","rollup-column")("cuTooltip",i.wc(1,3,null==t.column?null:t.column.link))("tooltipAllowHtmlRememberToEscapeXss",!0)}}function T(t,e){if(1&t&&i.Xb(0,"div",22),2&t){const t=i.uc();i.Dc("icon","field-list_relationship")("cuTooltip",t.relationshipFieldCfTooltipText)}}function I(t,e){if(1&t&&(i.cc(0,"div",27),i.dd(1),i.bc()),2&t){const t=i.uc(2);i.Ib(1),i.fd(" ",t.column.sortByIndex," ")}}function C(t,e){1&t&&(i.ac(0),i.Xb(1,"div",28),i.Zb())}function D(t,e){1&t&&i.Xb(0,"div",29)}const S=function(t,e){return{"cu-task-list-header-field__dir_asc":t,"cu-task-list-header-field__dir_desc":e}};function O(t,e){if(1&t){const t=i.dc();i.cc(0,"div",23),i.qc("click",function(e){i.Uc(t);const a=i.uc();return a.sortByField(e,a.column)}),i.bd(1,I,2,1,"div",24),i.bd(2,C,2,0,"ng-container",25),i.bd(3,D,1,0,"ng-template",null,26,i.cd),i.bc()}if(2&t){const t=i.Rc(4),e=i.uc();i.Ob("cu-task-list-header-field__dir_active",e.column.sortBy),i.Dc("ngClass",i.Ic(7,S,"asc"==(null==e.column.sortBy?null:e.column.sortBy.dir),"desc"==(null==e.column.sortBy?null:e.column.sortBy.dir)))("cuTooltip",e.publicViewData?null:"Sort"),i.Ib(1),i.Dc("ngIf",e.column.sortByIndex),i.Ib(1),i.Dc("ngIf",e.column.sortBy)("ngIfElse",t)}}function j(t,e){if(1&t){const t=i.dc();i.cc(0,"div",30),i.cc(1,"div",31),i.qc("click",function(e){return i.Uc(t),i.uc().clearSorting(e)}),i.bc(),i.bc()}}function P(t,e){1&t&&i.Xb(0,"div",32),2&t&&i.Dc("icon","cu2-thumbtack-light")}const A=function(t){return{"cu-task-list-header-field__multisort-dir_desc":t}};function $(t,e){if(1&t){const t=i.dc();i.cc(0,"div",35),i.Xb(1,"div",36),i.cc(2,"div",37),i.qc("click",function(a){i.Uc(t);const o=e.$implicit;return i.uc(2).sortByField(a,o)}),i.dd(3),i.bc(),i.Xb(4,"div",38),i.cc(5,"div",39),i.qc("click",function(a){i.Uc(t);const o=e.$implicit;return i.uc(2).sortByField(a,o)}),i.bc(),i.bc()}if(2&t){const t=e.$implicit,a=i.uc(2);i.Ib(1),i.Dc("icon","handle3-round"),i.Ib(1),i.Dc("cuTooltip",t.title)("tooltipDisabledIfTextNotTruncated",!0),i.Ib(1),i.fd(" ",t.title," "),i.Ib(2),i.Dc("ngClass",i.Hc(5,A,(null==t.sortBy?null:t.sortBy.dir)===a.SortDirection.Desc))}}function R(t,e){if(1&t){const t=i.dc();i.cc(0,"div",33),i.qc("cdkDropListDropped",function(e){return i.Uc(t),i.uc().dropSort(e)}),i.bd(1,$,6,7,"div",34),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("ngForOf",t.sortBy)("ngForTrackBy",t.trackByName)}}const F=function(t){return{"cu-task-list-header-field__title_not-sortable":t}},M=["*"];var E=function(t){return t.EditName="editName",t.MoveStart="moveStart",t.MoveEnd="moveEnd",t.SortAll="sortAll",t.SortGroup="sortGroup",t.ClearSort="clearSort",t.ClearSortAll="clearSortAll",t.SaveSort="saveSort",t.HideColumn="hideCol",t.ColumnSettings="columnSettings",t.Rename="rename",t.Delete="delete",t.Calculate="calculate",t.Duplicate="duplicate",t.InsertLeft="insertLeft",t.InsertRight="insertRight",t.ChangeSortOrder="changeSortOrder",t.Autosize="autosize",t.Pin="pin",t.CustomTaskIds="customTaskIds",t.ShowEditRollupColumn="showEditRollupColumn",t.SaveEditRollupColumn="saveEditRollupColumn",t.TimeInStatusDisplayType="timeInStatusDisplayType",t.SetDisplayAs="setDisplayAs",t}({});const U={id:E.SortAll,title:$localize`:@@cu-task-list-header-field__menu-item_sort-entire-col:Sort entire column`,checkType:"check",icon:"cu2-menu-sort-entire-column"},L={id:E.SortGroup,title:$localize`:@@cu-task-list-header-field__menu-item_sort:Sort`,checkType:"check",icon:"cu2-menu-sort"},z={id:E.ClearSort,title:$localize`:@@common_clear-sort:Clear sort`,icon:"cu2-menu-clear-sort"},V={id:E.SaveSort,title:$localize`:@@cu-task-list-header-field__menu-item_save-order:Save this order`,icon:"cu2-menu-save"},N={id:E.HideColumn,title:$localize`:@@common_hide-column:Hide column`,icon:"cu2-menu-hide"},q={id:E.Calculate,title:$localize`:@@common_calculate:Calculate`,icon:"cu2-menu-calculate"},B={id:E.CustomTaskIds,title:$localize`:@@common_customize-task-id:Customize Task ID`,icon:"custom-task-id"},G=[{id:E.MoveStart,title:$localize`:@@cu-task-list-header-field__menu-item_move-to-start:Move to start`,icon:"cu2-menu-move-to-start"},{id:E.MoveEnd,title:$localize`:@@cu-task-list-header-field__menu-item_move-to-end:Move to end`,icon:"cu2-menu-move-to-end"}],X={id:E.InsertLeft,title:$localize`:@@cu-task-list-header-field__menu-item_insert-left:Insert Left`,icon:"cu2-menu-insert-left"},W={id:E.InsertRight,title:$localize`:@@cu-task-list-header-field__menu-item_insert-right:Insert Right`,icon:"cu2-menu-insert-right"},H={id:E.Delete,title:$localize`:@@cu-task-list-header-field__menu-item_delete-linked-col:Delete Linked Column`,color:"#fd71af",icon:"cu2-menu-trash"},Z={id:E.Delete,title:$localize`:@@cu-task-list-header-field__menu-item_delete-col:Delete Column`,color:"#fd71af",icon:"cu2-menu-trash"},Q=[{id:E.ColumnSettings,title:$localize`:@@common_edit-field:Edit field`,icon:"settings"},{id:E.Duplicate,title:$localize`:@@common_duplicate:Duplicate`,icon:"cu2-menu-duplicate"},{id:E.Delete,title:$localize`:@@common_delete:Delete`,color:"#fd71af",icon:"cu2-menu-trash"}].filter(t=>!l.k||t.id===E.Duplicate),K={id:E.Autosize,title:$localize`:@@cu-task-list-header-field__menu-item_autosize-col:Autosize This Column`,icon:"cu2-arrows-h"},J={id:E.ShowEditRollupColumn,title:$localize`:@@cu-task-list-header-field__menu-item_edit-linked-col:Edit Linked Column`,icon:"settings"},Y={id:E.Pin,title:$localize`:@@cu-task-list-header-field__menu-item-pin-col:Pin Column`,checkType:"check",icon:"cu2-thumbtack-light"};let tt=(()=>{class t{constructor(){this.disabled=!1,this.readOnly=!1,this.fixedColumn=!1,this.alwaysVisible=!1,this.allowSortAll=!0,this.allowSaveSort=!0,this.canDelete=!0,this.deleteOff=!1,this.deleteOnlyOnCreate=!1,this.canDe=!0,this.showTitleIcon=!1,this.onAction=new i.o,this.onRename=new i.o,this.onSaveCalc=new i.o,this.actions=[],this.renaming=!1,this.trackByName=Object(r.d)("name"),this.SortDirection=n.a,this.DataViewRollupColumnLinkType=c.g,this.CustomFieldType=m.a,this.sortByTaskNameText=$localize`:@@common_sort-by-task-name:Sort by Task name`}get relationshipFieldCfTooltipText(){var t,e,a,i,o;if(!this.column)return"";if((null===(e=null===(t=this.column)||void 0===t?void 0:t.customField)||void 0===e?void 0:e.type)===m.a.ListRelationship){const t=null===(o=null===(i=null===(a=this.column)||void 0===a?void 0:a.customField)||void 0===i?void 0:i.type_config)||void 0===o?void 0:o.subcategory_inverted_name;return $localize`:@@cu-task-list-header-field__tooltip-msg_cf-task:Linked to ${t}:subcatName:`}return $localize`:@@cu-task-list-header-field__tooltip-msg_cf-list-relationship:Linked to Workspace`}get sortColumnTitleTooltipText(){return $localize`:@@cu-task-list-header-field__tooltip-msg_sorting-by-col:Sorting by ${this.column.title}:columnTitle:`}ngOnInit(){}ngOnChanges(t){if(t.column||t.ignoreGrouping||t.sortBy||t.sortTitle||t.customActions||t.allowSaveSort||t.readOnly||t.allowPin||t.allowManageCustomFields||t.team||t.project||t.timeInStatusDisplayType){const t=this.sortTitle?Object.assign(Object.assign({},L),{title:this.sortTitle}):L,e=[];if(this.column.sortable)if(this.column.sortBy){const a=this.column.sortBy.dir===n.a.Desc?"move-down":"move-up";this.ignoreGrouping&&this.allowSortAll?(e.push(t),e.push(Object.assign(Object.assign({},U),{checked:!0,icon:a}))):(this.sortBy&&this.sortBy.length>1?e.push({id:"sorting-order-header",title:$localize`:@@cu-task-list-header-field__menu-item_sorting-order:Sorting order`,type:o.a.Header},Object.assign(Object.assign({},t),{textTemplate:this.multiSortTemplate,type:o.a.Custom,icon:null})):e.push(Object.assign(Object.assign({},t),{checked:!0,icon:a})),this.sortBy&&this.sortBy.length>1&&e.push({id:"-",title:"",type:o.a.Separator}),this.allowSortAll&&e.push(U)),e.push(z),!this.ignoreGrouping&&this.allowSaveSort&&e.push(V)}else e.push(t),this.allowSortAll&&e.push(U);if(this.actions=this.fixedColumn?e:[...e,...G],this.readOnly||this.fixedColumn||l.k||!this.allowManageCustomFields||(this.actions.push(X),this.actions.push(W)),this.fixedColumn||!this.allowTotals||!this.column.aggregableType||l.k||this.column.link||this.actions.push(q),this.fixedColumn||!this.allowAutosize||l.k||this.actions.push(K),this.fixedColumn||!this.allowPin||l.k||this.actions.push(Object.assign(Object.assign({},Y),{title:this.column.pinned?$localize`:@@cu-task-list-header-field__menu-item_unpin-col:Unpin Column`:$localize`:@@cu-task-list-header-field__menu-item_pin-col:Pin Column`,checked:this.column.pinned})),this.team&&[d.f.ENTERPRISE,d.f.BUSINESS].includes(this.team.plan_id)&&"id"===this.column.name&&this.project&&([p.f.OWNER,p.f.ADMIN].includes(this.team.role)||this.project.owner&&this.project.owner.id===this.meUserId)&&this.actions.push(B),this.column.link&&!l.k&&this.canDelete&&!this.readOnly&&this.actions.push(J,H),!this.column.renameable&&!this.column.link||l.k||this.actions.unshift({id:E.EditName,title:this.column.title,type:o.a.Input}),this.team&&[d.f.ENTERPRISE,d.f.BUSINESS].includes(this.team.plan_id)&&this.column.name===s.W.name&&(this.actions=[...this.actions,{id:"time-in-status-divider",title:"",type:o.a.Separator},{id:"time-in-status-header",title:$localize`:@@cu-task-list-header-field__menu-item__menu-item-header_display-as:Display as`,type:o.a.Header},{id:"time-in-status-display-type-time",title:$localize`:@@common_hours:Hours`,checked:this.timeInStatusDisplayType===c.n.Hour,checkType:"check",customPayload:c.n.Hour},{id:"time-in-status-display-type-days",title:$localize`:@@common_days:Days`,checked:this.timeInStatusDisplayType===c.n.Day,checkType:"check",customPayload:c.n.Day},{id:"time-in-status-display-type-date-last-updated",title:$localize`:@@cu-task-list-header-field__menu-item_date-last-updated:Date last updated`,checked:this.timeInStatusDisplayType===c.n.Since,checkType:"check",customPayload:c.n.Since}]),this.column.displayAsOptions&&(this.actions=[...this.actions,{id:"display-as-divider",title:"",type:o.a.Separator},{id:"display-as-header",title:$localize`:@@cu-task-list-header-field__menu-item__menu-item-header_display-as:Display as`,type:o.a.Header},...this.column.displayAsOptions.map(t=>({id:t.id,title:t.label,checked:this.column.display===t.id||t.default&&!this.column.display,checkType:"check",customPayload:"display-as"}))]),this.fixedColumn||this.alwaysVisible||(this.actions=[...this.actions,{id:"-",title:"",type:o.a.Separator},this.showDeleteColumn?Z:N]),this.column.customField&&!this.readOnly&&this.allowManageCustomFields&&!this.column.link){const t=Q.map(t=>{if(t.id===E.Delete){let e=this.deleteOff||this.deleteOnlyOnCreate&&(this.meUserId||"").toString()!==this.column.customField.userid;return e||(e=!(this.canDelete||this.onlyDeleteIfOwner&&(this.meUserId||"").toString()===this.column.customField.userid)),Object.assign(Object.assign({},t),{disabled:e,tooltip:e?$localize`:@@permissions_delete-field-not-allowed:You don't have permission to delete this field`:null})}return t}).filter(t=>t.id!==E.ColumnSettings||!this.column.customField.entity||!1!==this.column.customField.entity.category_access);this.actions=[{id:E.EditName,title:this.column.title,type:o.a.Input},...this.actions,...t]}this.customActions&&(this.actions=[...this.actions,...this.customActions])}}onContextMenu(t){t.preventDefault(),t.stopPropagation(),this.dropdownOptions.open()}selectAction(t){!this.disabled&&t&&(t.id===E.Rename?this.renaming=!0:t.id===E.Calculate?this.calculateDropdown.open():t.id===E.ShowEditRollupColumn?this.editRollupColumnDropdown.open():t.id.startsWith("time-in-status-display-type-")?this.onAction.emit({action:E.TimeInStatusDisplayType,data:t.customPayload}):this.onAction.emit("display-as"===t.customPayload?{action:E.SetDisplayAs,data:t.id}:{action:t.id}))}saveRename(t){this.renaming=!1,this.onRename.emit({newName:t})}clearSorting(t){t.preventDefault(),t.stopPropagation(),this.onAction.emit({action:E.ClearSort})}clearSortingAll(t){t.preventDefault(),t.stopPropagation(),this.onAction.emit({action:E.ClearSortAll})}sortByField(t,e){this.disabled||(t.preventDefault(),t.stopPropagation(),this.publicViewData)||this.onAction.emit({action:this.ignoreGrouping&&this.allowSortAll?E.SortAll:E.SortGroup,data:e})}sortOnlyField(t){t.preventDefault(),t.stopPropagation(),this.onAction.emit({action:E.SortGroup,data:!0})}dropSort(t){const e=[...this.sortBy];Object(u.g)(e,t.previousIndex,t.currentIndex),this.onAction.emit({action:E.ChangeSortOrder,data:e})}updateRollupColumn(t){this.onAction.emit({action:E.SaveEditRollupColumn,data:{updatedColumn:t}}),this.editRollupColumnDropdown.close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-list-header-field"]],viewQuery:function(t,e){if(1&t&&(i.jd(h,3),i.jd(g,1),i.jd(b,3),i.jd(f,1)),2&t){let t;i.Qc(t=i.rc())&&(e.dropdownOptions=t.first),i.Qc(t=i.rc())&&(e.calculateDropdown=t.first),i.Qc(t=i.rc())&&(e.multiSortTemplate=t.first),i.Qc(t=i.rc())&&(e.editRollupColumnDropdown=t.first)}},hostAttrs:[1,"cu-task-list-header-field"],hostVars:4,hostBindings:function(t,e){1&t&&i.qc("contextmenu",function(t){return e.onContextMenu(t)}),2&t&&i.Ob("cu-task-list-header-field_disabled",e.disabled)("cu-task-list-header-field_active",e.column.sortByIndex)},inputs:{column:"column",disabled:"disabled",readOnly:"readOnly",tooltipText:"tooltipText",ignoreGrouping:"ignoreGrouping",groupBy:"groupBy",sortBy:"sortBy",customTitle:"customTitle",fixedColumn:"fixedColumn",alwaysVisible:"alwaysVisible",allowSortAll:"allowSortAll",allowSaveSort:"allowSaveSort",timeInStatusDisplayType:"timeInStatusDisplayType",sortTitle:"sortTitle",canDelete:"canDelete",onlyDeleteIfOwner:"onlyDeleteIfOwner",deleteOff:"deleteOff",deleteOnlyOnCreate:"deleteOnlyOnCreate",canDe:"canDe",meUserId:"meUserId",allowManageCustomFields:"allowManageCustomFields",allowAutosize:"allowAutosize",allowPin:"allowPin",showTitleIcon:"showTitleIcon",project:"project",customFields:"customFields",showDeleteColumn:"showDeleteColumn",total:"total",overallTotal:"overallTotal",allowTotals:"allowTotals",customActions:"customActions",publicViewData:"publicViewData",team:"team"},outputs:{onAction:"onAction",onRename:"onRename",onSaveCalc:"onSaveCalc"},features:[i.Gb],ngContentSelectors:M,decls:17,vars:19,consts:function(){let t;return t=$localize`:@@common_clear-sort␟f4449e819b8553cac6903cb5b34f942c83895452␟5869189395533862595:Clear sort`,[["cuDropdown","",3,"dropdownDisabled","dropdownCloseOnInsideClick",4,"ngIf"],[1,"cu-task-list-header-field__item",3,"items","dropdownDisabled","menuModifier","onSelect","onEditableChanged"],["dropdownOptions",""],[3,"text","editing","onChange"],[1,"cu-task-list-header-field__title",3,"ngClass"],["class","cu-task-list-header-field__title-icon",3,"icon",4,"ngIf"],["class","cu-task-list-header-field__title-icon",3,"icon","cuTooltip","tooltipAllowHtmlRememberToEscapeXss",4,"ngIf"],["class","cu-task-list-header-field__title-icon",3,"icon","cuTooltip",4,"ngIf"],[1,"cu-task-list-header-field__title-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated"],["class","cu-task-list-header-field__dir",3,"cu-task-list-header-field__dir_active","ngClass","cuTooltip","click",4,"ngIf"],["class","cu-task-list-header-field__dir cu-task-list-header-field__dir_clear","cuTooltip",t,4,"ngIf"],["class","cu-task-list-header-field__pinned",3,"icon",4,"ngIf"],["multiSort",""],["cuDropdown","",3,"dropdownDisabled","dropdownCloseOnInsideClick"],["calculateDropdown","dropdown"],["cuDropdownToggle",""],[4,"cuDropdownMenu"],[3,"calc","total","overallTotal","fieldType","customField","onSave"],["editRollupColumnDropdown","dropdown"],[3,"customFields","editColumn","team","repositionMenu","cancel","updateRollupColumn"],[1,"cu-task-list-header-field__title-icon",3,"icon"],[1,"cu-task-list-header-field__title-icon",3,"icon","cuTooltip","tooltipAllowHtmlRememberToEscapeXss"],[1,"cu-task-list-header-field__title-icon",3,"icon","cuTooltip"],[1,"cu-task-list-header-field__dir",3,"ngClass","cuTooltip","click"],["class","cu-task-list-header-field__dir-index",4,"ngIf"],[4,"ngIf","ngIfElse"],["unsorted",""],[1,"cu-task-list-header-field__dir-index"],["icon","sort-up",1,"cu-task-list-header-field__dir-icon","cu-task-list-header-field__dir-icon_sorted"],["icon","sort-menu",1,"cu-task-list-header-field__dir-icon","cu-task-list-header-field__dir-icon_unsorted"],["cuTooltip",t,1,"cu-task-list-header-field__dir","cu-task-list-header-field__dir_clear"],["icon","cu2-times",1,"cu-task-list-header-field__dir-icon","cu-task-list-header-field__dir-icon_clear",3,"click"],[1,"cu-task-list-header-field__pinned",3,"icon"],["cdkDropList","",1,"cu-task-list-header-field__multisort",3,"cdkDropListDropped"],["class","cu-task-list-header-field__multisort-item","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"cu-task-list-header-field__multisort-item"],["cdkDragHandle","",1,"cu-task-list-header-field__multisort-drag-handle",3,"icon"],[1,"cu-task-list-header-field__multisort-item-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","click"],[1,"cu-task-list-header-field__multisort-divider"],["icon","sort-menu",1,"cu-task-list-header-field__multisort-dir",3,"ngClass","click"]]},template:function(t,e){1&t&&(i.Cc(),i.Bc(0),i.bd(1,_,4,2,"div",0),i.bd(2,v,4,2,"div",0),i.cc(3,"cu-dropdown-list",1,2),i.qc("onSelect",function(t){return e.selectAction(t)})("onEditableChanged",function(t){return e.saveRename(t)}),i.cc(5,"cu-editable",3),i.qc("onChange",function(t){return e.saveRename(t)}),i.cc(6,"div",4),i.bd(7,y,1,1,"div",5),i.bd(8,x,2,5,"div",6),i.bd(9,T,1,2,"div",7),i.cc(10,"div",8),i.dd(11),i.bc(),i.bd(12,O,5,10,"div",9),i.bd(13,j,2,0,"div",10),i.bd(14,P,1,1,"div",11),i.bc(),i.bc(),i.bc(),i.bd(15,R,2,2,"ng-template",null,12,i.cd)),2&t&&(i.Ib(1),i.Dc("ngIf",null==e.column?null:e.column.aggregableType),i.Ib(1),i.Dc("ngIf",null==e.column?null:e.column.link),i.Ib(1),i.Dc("items",e.actions)("dropdownDisabled",e.disabled||0===e.actions.length)("menuModifier",e.column.customField||e.column.link?"cu-task-list-header-field__list cu-task-list-header-field__list-cf":"cu-task-list-header-field__list"),i.Ib(2),i.Dc("text",e.customTitle||e.column.title)("editing",e.renaming),i.Ib(1),i.Dc("ngClass",i.Hc(17,F,!(null!=e.column&&e.column.sortable))),i.Ib(1),i.Dc("ngIf",e.showTitleIcon&&((null==e.column?null:e.column.customField)||(null==e.column?null:e.column.icon))),i.Ib(1),i.Dc("ngIf",null==e.column?null:e.column.link),i.Ib(1),i.Dc("ngIf",(null==e.column||null==e.column.customField?null:e.column.customField.type)===e.CustomFieldType.ListRelationship||(null==e.column||null==e.column.customField?null:e.column.customField.type)===e.CustomFieldType.Tasks&&(null==e.team?null:e.team.task_relationships)),i.Ib(1),i.Dc("cuTooltip",e.tooltipText||null!=e.column&&e.column.sortable?e.tooltipText||(e.column.sortBy?e.sortColumnTitleTooltipText:"name"===e.column.name?e.sortByTaskNameText:e.column.title):null)("tooltipDisabledIfTextNotTruncated",!e.column.sortBy&&"name"!==e.column.name),i.Ib(1),i.fd(" ",e.customTitle||e.column.title," "),i.Ib(1),i.Dc("ngIf",(null==e.column?null:e.column.sortable)&&(!e.disabled||e.column.sortBy)),i.Ib(1),i.Dc("ngIf",e.column.sortBy),i.Ib(1),i.Dc("ngIf",e.allowPin&&(null==e.column?null:e.column.pinned)))},styles:['.cu-task-list-header-field{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;position:relative;cursor:pointer;display:inline-flex;height:20px;border-radius:3px}.cu-task-list-header-field__multisort{min-width:0}.cu-task-list-header-field__multisort-drag-handle{width:25px;height:16px;margin-right:3px;padding:1px 5px 2px 14px;cursor:move;fill:#b9bec7}.dark-theme .cu-task-list-header-field__multisort-drag-handle{fill:#abaeb0}.cu-task-list-header-field__multisort-drag-handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-field__multisort-drag-handle:hover{fill:var(--theme-main-color)}}.cu-task-list-header-field__multisort-dir{fill:#7b68ee;transition:transform .2s cubic-bezier(.785,.135,.15,.86),fill .2s cubic-bezier(.785,.135,.15,.86);width:9px;height:13px;margin-top:-1px;margin-left:7px;margin-right:5px;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-field__multisort-dir{fill:var(--theme-main-color)}}.cu-task-list-header-field__multisort-dir_desc{transform:rotate(180deg)}.cu-task-list-header-field__multisort-dir:hover{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-list-header-field__multisort-dir:hover{fill:var(--theme-main-color-dark)}}.cu-task-list-header-field__multisort-item{display:flex;align-items:center;padding:2px 12px 6px 2px}.cu-task-list-header-field__multisort-item-text{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#7b68ee;transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;color:#fff;padding:4px 5px 3px;border-radius:3px;text-transform:uppercase;cursor:pointer}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-field__multisort-item-text{background:var(--theme-main-color)}}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list-header-field__multisort-item-text{font-family:var(--global-font-support)}}.cu-task-list-header-field__multisort-item-text:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-list-header-field__multisort-item-text:hover{background:var(--theme-main-color-dark)}}.cu-task-list-header-field__multisort-divider{flex-grow:1}@media print{.cu-task-list-header-field{margin-right:0}}.cu-task-list-header_resizing .cu-task-list-header-field{cursor:col-resize}.cu-task-list-header-field_disabled{cursor:default}.cu-task-list-header-field_disabled,.cu-task-list-header-field_disabled:hover>span{color:#c2c2c2!important;font-weight:400!important}.contrast_high .cu-task-list-header-field_disabled,.contrast_high .cu-task-list-header-field_disabled:hover>span{color:#858585!important}.dark-theme .cu-task-list-header-field_disabled,.dark-theme .cu-task-list-header-field_disabled:hover>span{color:#828588}.cu-task-list-header-field_disabled .cu-task-list-header-field__title{cursor:default}.cu-task-list-header-field:not(.cdk-drag-disabled):hover{background:rgba(188,192,199,.3)}.cu-task-list-header-field:not(.cdk-drag-disabled):hover .cu-task-list-header-field__title{padding:0 0 0 15px}.cu-task-list-header-field:not(.cdk-drag-disabled):hover .cu-task-list-header-field__title_not-sortable{padding:0 15px}.cu-task-list-header-field:not(.cdk-drag-disabled):hover .cu-task-list-header-field__dir{display:flex;align-items:center;opacity:1}.cu-task-list-header-field.cu-task-list-header__count:hover .cu-task-list-header-field__title{padding:0 0 0 5px}.cu-task-list-header-field_active .cu-task-list-header-field__title-text{color:#343434}.dark-theme .cu-task-list-header-field_active .cu-task-list-header-field__title-text{color:#d5d6d7}.cu-task-list-header-field__item{width:100%}.cu-task-list-header-field__title{display:flex;justify-content:center;align-items:center;flex-grow:1;cursor:pointer;padding:0 3px;border-radius:3px}.cu-task-list-header__item .cu-dropdown_open .cu-task-list-header-field__title{background:rgba(188,192,199,.3)}.cu-task-list-header__count .cu-task-list-header-field__title{padding:0 5px}.cu-task-list-header_resizing .cu-task-list-header-field__title{cursor:col-resize}.cu-task-list-header-field__title-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:10px;line-height:1;text-transform:uppercase;-webkit-user-select:none;-ms-user-select:none;user-select:none;color:rgba(52,52,52,.5);padding:6px 0 4px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list-header-field__title-text{font-family:var(--global-font-support)}}.dark-theme .cu-task-list-header-field__title-text{color:#bcc0c7}.cu-task-list-header-field__title-icon{width:14px;height:14px;margin-right:4px;fill:#b9bec7}.dark-theme .cu-task-list-header-field__title-icon{fill:#7c828d}.cu-task-list-header-field__close{margin-top:-2px;margin-left:-16px;width:16px;height:16px;cursor:pointer;flex-shrink:0}.cu-task-list-header-field__close:hover{margin-left:-17px;margin-top:-3px;margin-right:-1px;width:18px;height:18px}.cu-task-list-header-field__dir{display:none;transition:transform .2s cubic-bezier(.785,.135,.15,.86),opacity .2s cubic-bezier(.785,.135,.15,.86),background .2s cubic-bezier(.785,.135,.15,.86);border-radius:8px;margin:0 4px;opacity:0;background:#bcc0c7;padding:0 2px}.cu-task-list-header-field__dir_clear{margin-left:0;margin-right:4px}.cu-task-list-header-field__dir-icon{width:12px;height:16px;padding:5px 3px;fill:#fff}.cu-task-list-header-field__dir-icon_unsorted{padding:3px 1px}.cu-task-list-header-field__dir-icon_clear{padding:3px}.cu-task-list-header-field__dir-index{font:400 9px/1 Gotham Pro,Proxima Nova,arial,serif;color:#fff;margin:0 2px 0 6px}.cu-task-list-header-field__dir_desc .cu-task-list-header-field__dir-icon{transform:rotate(180deg)}.dark-theme .cu-task-list-header-field__dir{background:#828588}.cu-task-list-header-field__dir:hover{background:#ababab}.cu-task-list-header-field__dir_active,.cu-task-list-header__item .cu-dropdown_open .cu-task-list-header-field__dir{display:flex;align-items:center;opacity:1}.cu-task-list-header-field__dir_active{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-list-header-field__dir_active{background:var(--theme-main-color)}}.dark-theme .cu-task-list-header-field__dir_active{background:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-task-list-header-field__dir_active{background:var(--theme-main-color)}}.cu-task-list-header-field__dir_active:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-list-header-field__dir_active:hover{background:var(--theme-main-color-dark)}}.cu-task-list-header-field__pinned{width:12px;height:12px;margin-left:auto;fill:#b9bec7}.dark-theme .cu-task-list-header-field__pinned{fill:#7c828d}.cu-task-list-header-field__resizer{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;width:10px;height:100%;cursor:col-resize;z-index:10;opacity:0}.cu-task-list-header-field__resizer:after{content:"";position:absolute;top:50%;transform:translateY(-50%);min-width:2px;height:16px;background-color:#bcc0c7;border-radius:2px}.cu-task-list-header-field__resizer_left{left:-6px}.cu-task-list-header-field__resizer_left:after{left:6px}.cu-task-list-header-field__resizer_right{right:-6px}.cu-task-list-header-field__resizer_right:after{right:6px}.cu-task-list-header-field__handle{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;width:6px;height:10px;cursor:move;top:5px;left:5px;z-index:10;opacity:0;fill:#82868d}.cu-task-list-header-field.resize-active .cu-task-list-header-field__handle,.cu-task-list-header-field.resize-active .cu-task-list-header-field__resizer,.cu-task-list-header-field:not(.cdk-drag-disabled):hover .cu-task-list-header-field__handle,.cu-task-list-header-field:not(.cdk-drag-disabled):hover .cu-task-list-header-field__resizer,.cu-task-list-header_resizing .cu-task-list-header-field.resize-active:hover .cu-task-list-header-field__handle,.cu-task-list-header_resizing .cu-task-list-header-field.resize-active:hover .cu-task-list-header-field__resizer,.cu-task-list-header_resizing .cu-task-list-header-field:not(.cdk-drag-disabled):hover .cu-task-list-header-field__resizer{opacity:1}.cu-task-list-header_resizing .cu-task-list-header-field.resize-active{background:rgba(188,192,199,.3)}.cu-task-list-header-field.cdk-drag-preview{display:none;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:rgba(188,192,199,.3)}.cu-task-list-header-field.cdk-drag-preview .cu-task-list-header-field__close,.cu-task-list-header-field.cdk-drag-preview .cu-task-list-header-field__dir{display:none}.cu-task-list-header-field.cdk-drag-placeholder{opacity:.4}.cdk-drop-list-dragging .cu-task-list-header-field.cdk-drag:not(.cdk-drag-placeholder){transition:transform .2s cubic-bezier(0,0,.2,1)}.cu-task-list-header-field.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging .cu-task-list-header-field.cdk-drag{pointer-events:none}.cu-task-list-header-field__list .cu-dropdown-list__body{padding:8px 0;max-width:200px}.cu-task-list-header-field__list-cf .cu-dropdown-list__body{padding:0 0 8px}.cu-task-list-header-field__list-cf .cu-dropdown-list-item__separator{margin:10px 0}.cu-task-list-header-field__list-cf .cu-dropdown-list-item__input{margin:0 0 8px;border-bottom:1px solid #e9ebf0}.dark-theme .cu-task-list-header-field__list-cf .cu-dropdown-list-item__input{border-color:#1e272e}.cu-task-list-header-field__list .cu-dropdown-list-item .cu-editable__input{background-color:transparent;max-width:150px}.dark-theme .cu-task-list-header-field__list .cu-dropdown-list-item .cu-editable__input{color:#828588}.cu-task-list-header-field__list .cu-dropdown-list-item__separator{margin:5px 0}.cu-task-list-header-field__list .cu-dropdown-list-item__icon{width:16px;height:16px;margin:0 10px 0 0;fill:#292d34}.dark-theme .cu-task-list-header-field__list .cu-dropdown-list-item__icon{fill:#b9bec7}.cu-task-list-header-field__list .cu-dropdown-list-item__input{cursor:default;background-color:#fafbfc}.dark-theme .cu-task-list-header-field__list .cu-dropdown-list-item__input{background-color:#2b343b}.cu-task-list-header-field__list .cu-dropdown-list-item__input .icon{cursor:default}.cu-task-list-header-field__list .cu-dropdown-list-item__title{font-size:13px}.cu-task-list-header-field__tooltip-roll-up{font-size:9px;text-transform:uppercase}'],encapsulation:2,changeDetection:0}),t})()},vAZK:function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("fXoL"),o=a("AJH4"),n=a("LdyQ"),s=a("MJvn"),c=a("n+1/"),r=a("aIzb");function l(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-task-selector",4),i.qc("onSelect",function(e){i.Uc(t);const a=i.uc(),o=i.Rc(1);return a.onSelectTask.emit(e.task),o.close()})("onLoad",function(){return i.Uc(t),i.uc().dropdownReposition()})("onDropdownReposition",function(){return i.Uc(t),i.uc().dropdownReposition()})("onSearch",function(){return i.Uc(t),i.uc().dropdownReposition()}),i.bc()}if(2&t){const t=i.uc();i.Dc("modifier","task-selector__multi-task-toolbar cu-time-tracker-task-selector")("defaultProject",t.defaultProject)("requireCreateAndEdit",!0)("searchSubtasks",!0)("excludeParentTask",!1)("description",null)("expandableSubtasks",!0)("spacesToExclude",t.spacesToExclude)("spacesToInclude",t.spacesToInclude)}}const u=["*"];let d=(()=>{class t{constructor(){this.onSelectTask=new i.o,this.spacesToExclude=[],this.spacesToInclude=[],this.updateDropdownPosition=!1}ngOnInit(){}ngOnChanges(t){t.team&&(this.spacesToExclude=Object(o.a)(this.team,"time_tracking"),this.spacesToInclude=Object(o.b)(this.team,"time_tracking"),this.defaultProject&&this.spacesToExclude.includes(this.defaultProject.id)&&(this.defaultProject=null))}dropdownReposition(){this.updateDropdownPosition=!this.updateDropdownPosition}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-time-tracker-task-selector"]],hostAttrs:[1,"cu-time-tracker-task-selector"],inputs:{defaultProject:"defaultProject",team:"team"},outputs:{onSelectTask:"onSelectTask"},features:[i.Gb],ngContentSelectors:u,decls:5,vars:3,consts:function(){let t;return t=$localize`:@@common_search-for-task-name-id-url␟b4e861938dd2982d1a1184c74efa4f617d558515␟2303882965617531732:Search for task name, ID, or URL`,[["cuDropdown","",3,"dropdownCloseOnInsideClick","dropdownModifierClass","dropdownRepositionFlag"],["dropdown","dropdown"],["cuDropdownToggle",""],["searchInputPlaceholder",t,3,"modifier","defaultProject","requireCreateAndEdit","searchSubtasks","excludeParentTask","description","expandableSubtasks","spacesToExclude","spacesToInclude","onSelect","onLoad","onDropdownReposition","onSearch",4,"cuDropdownMenu"],["searchInputPlaceholder",t,3,"modifier","defaultProject","requireCreateAndEdit","searchSubtasks","excludeParentTask","description","expandableSubtasks","spacesToExclude","spacesToInclude","onSelect","onLoad","onDropdownReposition","onSearch"]]},template:function(t,e){1&t&&(i.Cc(),i.cc(0,"div",0,1),i.cc(2,"div",2),i.Bc(3),i.bc(),i.bd(4,l,1,9,"cu-task-selector",3),i.bc()),2&t&&i.Dc("dropdownCloseOnInsideClick",!1)("dropdownModifierClass","cu-time-tracker-task-selector__dropdown")("dropdownRepositionFlag",e.updateDropdownPosition)},directives:[n.b,s.a,c.a,r.a],styles:['.cu-time-tracker-task-selector.highlighted .cu-time-tracker-task-selector__input{border:1px solid #d16464;background-color:rgba(209,100,100,.1)}.cu-time-tracker-task-selector__input{display:block;width:100%;padding:10px;margin-bottom:5px;background:hsla(0,0%,100%,.1);border-radius:6px 0 0 6px}.cu-time-tracker-task-selector__input.rounded{border-radius:6px}.cu-time-tracker-task-selector__input-placeholder{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1;color:hsla(0,0%,100%,.6);display:flex;align-items:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-task-selector__input-placeholder{font-family:var(--global-font-support)}}.cu-time-tracker-task-selector__input-placeholder .icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:hsla(0,0%,100%,.6);width:16px;height:16px;cursor:pointer;padding:2px;margin-right:5px}.cu-time-tracker-task-selector__input-placeholder .icon:hover{transition:none}.cu-time-tracker-task-selector__remove{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:16px;height:16px;padding:2px;fill:#fff;cursor:pointer;z-index:9}.dark-theme .cu-time-tracker-task-selector__remove{fill:#fff}.cu-time-tracker-task-selector__remove:hover{transform:rotate(180deg)}.cu-time-tracker-task-selector__task{display:flex;align-items:center;max-width:calc(100% - 20px);padding-left:3px}.cu-time-tracker-task-selector__task-container{display:flex;align-items:center;justify-content:space-between}.cu-time-tracker-task-selector__task-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:14px;line-height:1;color:#fff}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-time-tracker-task-selector__task-name{font-family:var(--global-font-support)}}.cu-time-tracker-task-selector__task-status{flex-shrink:0;width:8px;height:8px;border-radius:2px;margin:0 8px 0 0}.cu-time-tracker-task-selector__task-status.milestone{transform:rotate(45deg)}'],encapsulation:2,changeDetection:0}),t})()},vDEd:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("bwNi"),o=a("Cfvw");function n(t,e={}){const a=t.includes("?")?"&":"?",n=new i(t+a+"electronPopup=true",Object.assign(Object.assign({},e),{width:e.width||500,height:e.height||560,originRegexp:new RegExp("^dont-match-me$")}));return Object(o.a)(n.open())}},vSu3:function(t,e,a){"use strict";a.d(e,"b",function(){return g}),a.d(e,"a",function(){return f});var i=a("itXk"),o=a("2p4s"),n=a("zp1y"),s=a("lJxs"),c=a("vkgz"),r=a("o7Ov"),l=a("fXoL"),u=a("tk/3"),d=a("irDL"),p=a("jJW4"),m=a("l7P3");function h(t,e){return t?t.map(t=>Object.assign(Object.assign({},t),{url:e.replace("/commit/","/blob/")+"/"+t.filename,short_name:t.filename.split("/").pop()})):null}function g(t){return{author:t.author,date:new Date(+t.date),message:t.message,sha:t.sha,branch_name:t.branch_name,repository:{id:t.gl_repo_id,name:t.gl_repo_name},commit_url:t.commit_url,modified_files:h(t.modified_files,t.commit_url)}}function b(t){const e=t.updates[t.updates.length-1];return{id:String(t.id),title:t.title,repository:{id:t.gl_repo_id,name:t.gl_repo_name,owner:t.gl_repo_owner_name},url:t.url,author:t.author,status:e,reviewers:t.reviewers,build_status:t.build_status?t.build_status.toLowerCase():null,target_branch:t.target_branch,source_branch:t.source_branch,number:+t.number}}let f=(()=>{class t{constructor(t,e,a,i){this.http=t,this.errorHandler=e,this.sharedData=a,this.store=i,this.name="Gitlab",this.links={docs:"https://docs.clickup.com/integrations/gitlab",faq:"https://docs.clickup.com/f-a-q/troubleshooting-gitlab"},this.canBeSelfHosted=!0,this.canBeStaticIp=!0,this.canAttachBranchesToTasks=!0,this.hasModifiedFiles=!0,this.asyncPullRequestSearch=!0,this.asyncBranchSearch=!0,this.asyncCommitSearch=!0,this.hostedSecret=!0,this.usePopupWindowForAuth=!0,this.asyncRepoSearch=!0,this.pullRequestLabel="Merge Request",this.reviewerLabel=$localize`:@@common_assignee:Assignee`,this.apiUrl=o.a.apiUrl,this.apiUrlV2=o.a.apiUrlV2}getAuthLink(){return`https://gitlab.com/oauth/authorize?client_id=1eb5036f34acc1e32dee8dc2aa59774c5ce106f9b8f2d2e75066d144ab4aad87&redirect_uri=${encodeURIComponent(this.getRedirectUri())}&response_type=code`}isAuthenticated(){return this.http.get(this.apiUrlV2+"/gl/teams").pipe(Object(n.a)(this.sharedData.compatCurrentTeam$),Object(s.a)(([t,e])=>t.includes(e.id)),this.errorHandler.http())}getSettings(t){return this.http.get(`${this.apiUrlV2}/gl/team/${t.id}/settings`).pipe(Object(s.a)(t=>({enabled:t.using_gitlab,branchNameFormat:t.branch_name_format,canDeauthTeam:t.can_deauth_team,authedWithIntegration:t.authed_gitlab,isSelfHosted:t.is_self_hosted})))}updateSettings(t,{enabled:e,branchNameFormat:a}){const n=[];return void 0!==e&&n.push(this.http.put(`${o.a.apiUrlV2}/gl/team/${t.id}/settings`,{options:{using_gitlab:e}}).pipe(Object(c.a)(()=>{t.using_gitlab=!0,this.sharedData.compatCurrentProject&&this.sharedData.compatCurrentProject.team.id===t.id&&(this.sharedData.compatCurrentProject.team.using_gitlab=e),this.store.dispatch(new r.dj(t))}))),void 0!==a&&n.push(this.http.put(`${o.a.apiUrlV2}/gl/team/${t.id}/gitlabSettings`,{options:{branch_name_format:a}})),Object(i.a)(n)}getLink(t,e){return e.find(e=>e.id===t.id)}getAccessToken(t,e){return this.http.post(`${this.apiUrlV2}/gl/team/${e}/authorize`,{code:t,redirect_url:this.getRedirectUri()}).pipe(this.errorHandler.http())}revokeAccessToken(t){return this.http.delete(`${this.apiUrlV2}/gl/team/${t}/deauthorize`).pipe(this.errorHandler.http())}getAllRepositories(t,e){return this.http.get(`${this.apiUrlV2}/gl/team/${t}/repos/search`,{params:e?{page:e.page,query:e.search}:void 0}).pipe(Object(s.a)(t=>({repos:t.repos.map(t=>({id:String(t.gl_repo_id),name:t.gl_repo_name,owner:{id:String(t.gl_repo_owner),username:t.gl_repo_owner_name},full_name:t.gl_repo_full_slug,slug:t.gl_repo_slug,url:t.url})),nextPage:t.hasMore||void 0})),this.errorHandler.http())}linkRepository(t,e){return this.http.post(`${this.apiUrlV2}/gl/team/${e}/repo`,{gl_repo_id:t.id,gl_repo_name:t.name,gl_repo_owner:t.owner.id,gl_repo_owner_name:t.owner.username,gl_repo_full_slug:t.full_name,gl_repo_slug:t.slug}).pipe(Object(s.a)(t=>({id:t.gl_repo_id,name:t.gl_repo_name,owner:{id:t.gl_repo_owner,username:t.gl_repo_owner_name},projectIds:[],teamId:e})),this.errorHandler.http())}unlinkRepository(t){return this.http.delete(`${this.apiUrlV2}/gl/team/${t.teamId}/repo/${t.id}`).pipe(this.errorHandler.http())}getLinkedRepositories(t){return this.http.get(`${this.apiUrlV2}/gl/team/${t}/repo`).pipe(Object(s.a)(e=>e.map(e=>({id:e.gl_repo_id,name:e.gl_repo_name,owner:{id:e.gl_repo_owner},projectIds:e.projects,teamId:t}))),this.errorHandler.http())}addLinkedRepositoryToProjects(t,e){return this.http.post(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/gl_repo/projects`,{repos:[{gl_repo_id:t.id,projects:e}]}).pipe(Object(s.a)(()=>Object.assign(Object.assign({},t),{projectIds:[...t.projectIds,...e]})),this.errorHandler.http())}removeLinkedRepositoryFromProjects(t,e){return this.http.request("delete",`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/gl_repo/projects`,{body:{repos:[{gl_repo_id:t.id,rem_projects:e}]}}).pipe(Object(s.a)(()=>Object.assign(Object.assign({},t),{projectIds:t.projectIds.filter(t=>!e.includes(t))})),this.errorHandler.http())}getTaskRepositories(t){return this.http.get(`${this.apiUrlV2}/gl/task/${t.id}/repo`).pipe(Object(s.a)(e=>e.map(e=>({id:e.gl_repo_id,name:e.gl_repo_name,owner:{},projectIds:[],teamId:t.team}))),this.errorHandler.http())}getTaskRepositoryBranches(t,e,a={}){return this.http.get(`${this.apiUrlV2}/gl/repo/${t.id}/branches/search`,{params:{query:a.search,page:a.page,team:this.sharedData.compatCurrentTeam.id}}).pipe(Object(s.a)(({branches:t,hasMore:e})=>({branches:t.map(({name:t})=>({name:t})),next:e||void 0})),this.errorHandler.http())}getAllBranchCommits(t,e,a){return this.http.get(`${this.apiUrlV2}/gl/repo/${t.id}/commits/search`,{params:{source_branch:e.name,team:this.sharedData.compatCurrentTeam.id}}).pipe(Object(s.a)(({commits:a})=>({commits:a.map(a=>({author:a.author,commit_url:a.commit_url,date:new Date(Number(a.date)),message:a.message,sha:a.sha,branch_name:e.name,repository:{id:t.id,name:t.name},modified_files:h(a.modified_files,a.commit_url),self_hosted:a.self_hosted,host_url:a.host_url}))})),this.errorHandler.http())}getTaskCommits(t){return this.http.get(`${this.apiUrlV2}/gl/task/${t.id}/commits`).pipe(Object(s.a)(t=>t.map(t=>g(t))),this.errorHandler.http())}attachRepositoryCommitsToTask(t,e,a,i){return this.http.post(`${this.apiUrlV2}/gl/task/${e.id}/repo/${t.id}/commits`,{commits:a.map(t=>({sha:t.sha,author:t.author,author_email:t.author_email,message:t.message,date:t.date.valueOf(),gl_repo_id:t.repository.id,branch_name:t.branch_name,self_hosted:t.self_hosted,host_url:t.host_url,modified_files:t.modified_files}))}).pipe(Object(s.a)(e=>e.map(e=>{const i=a.find(t=>t.sha===e.sha);return g(Object.assign(Object.assign({},e),{date:String(e.date),gl_repo_id:e.gl_repo_id,gl_repo_name:t.name,gl_repo_owner_name:t.owner.username,gl_repo_owner:t.owner.id,gl_repo_slug:t.slug,modified_files:i.modified_files,commit_url:i.commit_url}))})),this.errorHandler.http())}unattachRepositoryCommitsFromTask(t,e){return this.http.request("delete",`${this.apiUrlV2}/gl/task/${t.id}/repo/${e[0].repository.id}/commits`,{body:{commits:e.map(t=>t.sha)}}).pipe(this.errorHandler.http())}configureSelfHosting(t,e,a,i,o,n){let s;if(a){const{origin:t}=new URL(a);s={host_url:t,self_hosted:!0,personal_access_token:e,use_hosted_secret:i,static_ip:n,canonical_url:o}}else s={personal_access_token:e};return this.http.post(`${this.apiUrlV2}/gl/team/${t}/hosting`,s).pipe(this.errorHandler.http())}updateSelfHostingAccessToken(t,e){return this.http.put(`${this.apiUrlV2}/gl/team/${t}/hosting`,{personal_access_token:e}).pipe(this.errorHandler.http())}getAttachedTaskBranches(t){return this.http.get(`${this.apiUrlV2}/gl/task/${t.id}/branches`).pipe(Object(s.a)(t=>t.map(t=>({id:t.id,name:t.branch_name,repository:{id:t.gl_repo_id,name:t.gl_repo_name}}))),this.errorHandler.http())}attachBranchToTask(t,e,a){return this.http.post(`${this.apiUrlV2}/gl/task/${a.id}/repo/${t.id}/branches`,{branch_name:e.name}).pipe(Object(s.a)(a=>({id:a.id,name:e.name,repository:{id:t.id,name:t.name}})),this.errorHandler.http())}unattachBranchToTask(t,e){return this.http.delete(`${this.apiUrlV2}/gl/task/${e.id}/repo/${t.repository.id}/branches/${t.id}`).pipe(this.errorHandler.http())}getAttachedTaskPullRequests(t){return this.http.get(`${this.apiUrlV2}/gl/task/${t.id}/pulls`).pipe(Object(s.a)(t=>t.map(b)),this.errorHandler.http())}getRepositoryPullRequests(t,e){return this.http.get(`${this.apiUrlV2}/gl/repo/${t.id}/pulls/search`,{params:{page:e.page,query:e.search,state:e.showClosed?"closed":void 0,team:this.sharedData.compatCurrentTeam.id}}).pipe(Object(s.a)(({prs:e,hasMore:a})=>({pullRequests:e.map(e=>({id:String(e.id),title:e.title,repository:{id:t.id,name:t.name,owner:t.owner.username},url:e.url,author:e.author,status:e.state.toLowerCase(),number:e.number,current_sha:e.current_sha,reviewers:e.reviewers,build_status:null,target_branch:e.target_branch,source_branch:e.source_branch})),next:a||void 0})),this.errorHandler.http())}attachPullRequestToTask(t,e,a){return this.http.post(`${this.apiUrlV2}/gl/task/${a.id}/repo/${t.id}/pulls`,{id:e.id,title:e.title,number:e.number,author:e.author,reviewers:e.reviewers,target_branch:e.target_branch,source_branch:e.source_branch,gl_repo_id:e.repository.id,current_sha:e.current_sha,state:e.status}).pipe(Object(s.a)(t=>Object.assign(Object.assign({},b(t)),{url:e.url})),this.errorHandler.http())}unattachPullRequestFromTask(t,e){return this.http.delete(`${this.apiUrlV2}/gl/task/${e.id}/repo/${t.repository.id}/pulls/${t.id}`).pipe(this.errorHandler.http())}createBranch(t,e,a,i){return this.http.post(`${this.apiUrlV2}/gl/task/${t.id}/repo/${e.id}/branches/new`,{source_branch:a,branch_name:i}).pipe(Object(s.a)(t=>({id:t.id,name:t.branch_name,repository:{id:e.id,name:e.name}})),this.errorHandler.http())}createPullRequest(t,e,a,i,o,n){return this.http.post(`${this.apiUrlV2}/gl/task/${t.id}/repo/${e.id}/pulls/new`,{target_branch:a,source_branch:i,title:o,description:n}).pipe(Object(s.a)(t=>b(Object.assign(Object.assign({},t),{gl_repo_id:e.id,gl_repo_owner_name:e.owner.username,gl_repo_name:e.name}))),this.errorHandler.http())}getRedirectUri(){return window.location.origin+"/assets/html/github-oauth-callback.html"}}return t.\u0275fac=function(e){return new(e||t)(l.nc(u.b),l.nc(d.a),l.nc(p.a),l.nc(m.Store))},t.\u0275prov=l.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vUZO:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("MguC"),o=a("fXoL");let n=(()=>{class t{transform(t){var e;if(t.type===i.g.Tasks)return $localize`:@@custom-fields_rollup-linked-tasks:<span class="cu-task-list-header-field__tooltip-roll-up">Rollup Field related to</span><br><span>Linked Tasks</span>`;const a=null===(e=t.customField)||void 0===e?void 0:e.name;return $localize`:@@custom-fields_rollup-cf:<span class="cu-task-list-header-field__tooltip-roll-up">Rollup Field related to</span><br><span>${a}:customFieldName:</span>`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Vb({name:"taskListHeaderFieldRollupFieldText",type:t,pure:!0}),t})()},vVjD:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("fXoL"),o=a("Ox28");function n(t,e){1&t&&i.Yb(0)}let s=(()=>{class t{constructor(){this.interpolatedInputChange=new i.o,this.mappedValueChange=new i.o,this.valueChange=new i.o,this.valueInvalid=new i.o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-automation-field-value"]],hostAttrs:[1,"cu-automation-field-value"],inputs:{action:"action",resource:"resource",key:"key",component:"component",automationAction:"automationAction",conditionOp:"conditionOp",parentType:"parentType",parentId:"parentId",automationResource:"automationResource",readonly:"readonly",forSummary:"forSummary",options:"options",value:"value",placeholder:"placeholder",variables:"variables",isAction:"isAction",mappedValue:"mappedValue",interpolatedValue:"interpolatedValue",actions:"actions"},outputs:{interpolatedInputChange:"interpolatedInputChange",mappedValueChange:"mappedValueChange",valueChange:"valueChange",valueInvalid:"valueInvalid"},decls:1,vars:1,consts:[[4,"ngxComponentOutlet"]],template:function(t,e){1&t&&i.bd(0,n,1,0,"ng-container",0),2&t&&i.Dc("ngxComponentOutlet",e.component)},directives:[o.a],styles:[".cu-automation-field-value{min-width:0}.cu-automation-field-value_stretch{display:flex;flex:1}.cu-automation-field-value_stretch>:nth-child(2){flex:1;max-width:100%}.cu-automation-field-value_stretch.cu-automation-field-value .cu-dropdown__toggle{padding:0 12px;min-height:30px;display:flex;align-items:center}"],encapsulation:2,changeDetection:0}),t})()},wF7Z:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("fXoL"),o=a("2Vo4"),n=a("ofXK"),s=a("Zq4E");function c(t,e){if(1&t){const t=i.dc();i.cc(0,"div",1),i.qc("cuIsInViewport",function(e){return i.Uc(t),i.uc().checkNeedLoadMore(e)}),i.bc()}if(2&t){const t=i.uc();i.ad("margin-top",-t.bottomPadding,"px")("height",t.bottomPadding,"px"),i.Dc("scrollContainer",t.scrollContainer)("isInViewPortEnabled",!0)}}const r=["*"];let l=(()=>{class t{constructor(){this.lazyItems$=new o.a(null),this.pageSize=10,this.bottomPadding=50,this.onUpdate=new i.o,this.loadedCount=0,this.visible=!1,this.destroyed=!1}ngOnInit(){}ngOnChanges(t){t.items&&(this.visible?this.checkNeedLoadMore(!0):this.filterData())}ngOnDestroy(){this.destroyed=!0}filterData(){this.lazyItems=this.items&&this.items.slice(0,this.loadedCount),this.lazyItems$.next(this.lazyItems),this.onUpdate.emit(this.lazyItems)}checkNeedLoadMore(t,e=0){this.visible=t,t&&(this.loadedCount+=this.pageSize||10,this.filterData(),this.needLoadLength()>0&&setTimeout(()=>{this.visible&&!this.destroyed&&this.checkNeedLoadMore(!0,e+1)},100+50*e))}needLoadLength(){return(this.items||[]).length-(this.lazyItems||[]).length}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-lazy-list"]],inputs:{items:"items",scrollContainer:"scrollContainer",pageSize:"pageSize",bottomPadding:"bottomPadding"},outputs:{onUpdate:"onUpdate"},features:[i.Gb],ngContentSelectors:r,decls:2,vars:1,consts:[["class","cu-lazy-list__load-more","style","pointer-events: none",3,"margin-top","height","scrollContainer","isInViewPortEnabled","cuIsInViewport",4,"ngIf"],[1,"cu-lazy-list__load-more",2,"pointer-events","none",3,"scrollContainer","isInViewPortEnabled","cuIsInViewport"]],template:function(t,e){1&t&&(i.Cc(),i.Bc(0),i.bd(1,c,1,6,"div",0)),2&t&&(i.Ib(1),i.Dc("ngIf",(null==e.items?null:e.items.length)!==(null==e.lazyItems?null:e.lazyItems.length)))},directives:[n.q,s.a],encapsulation:2,changeDetection:0}),t})()},wkNx:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL");let o=(()=>{class t{transform(t){if(0===t)return"0 Byte";const e=Math.floor(Math.log(t)/Math.log(1024));return[parseFloat((t/Math.pow(1024,e)).toFixed(0)),["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]].join(" ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Vb({name:"filesize",type:t,pure:!0}),t})()},x52m:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ofXK"),o=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Ub({type:t}),t.\u0275inj=o.Tb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},xDGP:function(t,e,a){"use strict";a.d(e,"a",function(){return I});var i=a("fXoL"),o=a("jJQC"),n=a("uslN"),s=a("dTHz"),c=a("jJW4"),r=a("tyNb"),l=a("ofXK"),u=a("UdVN"),d=a("320n"),p=a("xdr/"),m=a("KgOx"),h=a("Arn7");function g(t,e){if(1&t&&(i.cc(0,"span"),i.dd(1),i.bc()),2&t){const t=i.uc();i.Ib(1),i.ed(t.boldDescription)}}function b(t,e){if(1&t&&(i.cc(0,"div",20),i.Xb(1,"div",21),i.Xb(2,"span",22),i.bc()),2&t){const t=e.$implicit;i.Ib(1),i.Dc("icon",t.icon),i.Ib(1),i.Dc("innerHtml",t.name,i.Vc)}}function f(t,e){1&t&&(i.cc(0,"a",23),i.cc(1,"div",24),i.gc(2,25),i.bc(),i.bc()),2&t&&i.Dc("href","mailto:?subject=Please upgrade ClickUp so we can use Mind Maps",i.Xc)}function k(t,e){if(1&t){const t=i.dc();i.cc(0,"button",26),i.qc("click",function(){return i.Uc(t),i.uc().navigateToBilling()}),i.cc(1,"div",24),i.dd(2),i.bc(),i.bc()}if(2&t){const t=i.uc();i.Ib(2),i.fd("Upgrade to ",t.planName||"Business","")}}function _(t,e){if(1&t){const t=i.dc();i.cc(0,"button",28),i.qc("click",function(){return i.Uc(t),i.uc(2).trialClick.emit()}),i.vc(1,"spaceToDash"),i.cc(2,"div",24),i.gc(3,29),i.bc(),i.bc()}if(2&t){const t=i.uc(2);i.Mb("cu-btn cu-paywall-modal__btn paywall-btn_",i.xc(1,3,t.featureTitle,!0),"")}}function w(t,e){if(1&t&&i.bd(0,_,4,6,"button",27),2&t){const t=i.uc();i.Dc("ngIf",(null==t.sharedData.compatCurrentTeam?null:t.sharedData.compatCurrentTeam.role)===t.UserRole.ADMIN||(null==t.sharedData.compatCurrentTeam?null:t.sharedData.compatCurrentTeam.role)===t.UserRole.OWNER)}}const v=function(t){return{"background-image":t}};function y(t,e){if(1&t&&i.Xb(0,"div",30),2&t){const t=i.uc();i.Dc("ngStyle",i.Hc(1,v,"url("+t.image+")"))}}function x(t,e){if(1&t){const t=i.dc();i.cc(0,"cu-wistia-overlay",34),i.qc("onClose",function(){return i.Uc(t),i.uc(2).toggleWistiaOverlay(!1)}),i.vc(1,"async"),i.bc()}if(2&t){const t=i.uc(2);i.Dc("wistiaId",t.wistiaId)("user",i.wc(1,3,t.sharedData.currentUser))("autoPlay",!0)}}function T(t,e){if(1&t){const t=i.dc();i.cc(0,"div",31),i.cc(1,"cu-wistia-thumbnail",32),i.qc("click",function(){return i.Uc(t),i.uc().toggleWistiaOverlay(!0)}),i.bc(),i.bd(2,x,2,5,"cu-wistia-overlay",33),i.bc()}if(2&t){const t=i.uc();i.Ib(1),i.Dc("wistiaId",t.wistiaId),i.Ib(1),i.Dc("ngIf",t.isShowedWistiaOverlay)}}let I=(()=>{class t{constructor(t,e){this.sharedData=t,this.router=e,this.isShowedWistiaOverlay=!1,this.plan=n.f.UNLIMITED,this.forceUpgrade=!1,this.trialClick=new i.o,this.trackByIcon=Object(o.d)("icon"),this.TeamPlan=n.f,this.UserRole=s.f}toggleWistiaOverlay(t){this.isShowedWistiaOverlay=t}navigateToBilling(){this.router.navigate([this.team?this.team.id:this.sharedData.compatCurrentTeam?this.sharedData.compatCurrentTeam.id:null,"settings","billing"])}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(c.a),i.Wb(r.h))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-paywall-modal"]],hostAttrs:[1,"cu-paywall-modal"],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-paywall-modal-time-tracker","Time Tracking"===e.featureTitle)},inputs:{featureTitle:"featureTitle",description:"description",features:"features",image:"image",wistiaId:"wistiaId",plan:"plan",boldDescription:"boldDescription",team:"team",forceUpgrade:"forceUpgrade",planName:"planName"},outputs:{trialClick:"trialClick"},decls:37,vars:17,consts:function(){let t,e,a,i,o,n;return t=$localize`:@@cu-paywall-modal__plan-feature-label␟5542067265eb0679c5cbd212fa9cd675f7c0ffcd␟6288855145640587598: ${"\ufffd0\ufffd"}:INTERPOLATION: Plan feature
`,e=$localize`:@@paywall_text--15-day-free-trial␟9a02299b06b42de5e6de4dfd96c97583596fd364␟1600976948478625716:${"\ufffd#17\ufffd"}:START_BOLD_TEXT:15 day free${"\ufffd/#17\ufffd"}:CLOSE_BOLD_TEXT: trial `,a=$localize`:@@paywall_text--no-cc-required␟9ac608fc64208c802f96e872f4a8946276f40869␟2868038778628053224:${"\ufffd#23\ufffd"}:START_BOLD_TEXT:No credit card${"\ufffd/#23\ufffd"}:CLOSE_BOLD_TEXT: required `,i=$localize`:@@cu-paywall-modal__trial-message␟ef11813401d1d28fdbe3c9cfed992d66d5ae2a5f␟5638747240819578679:${"\ufffd#29\ufffd"}:START_BOLD_TEXT:Try ${"\ufffd0\ufffd"}:INTERPOLATION: Plan just $${"\ufffd1\ufffd"}:INTERPOLATION_1:/month${"\ufffd/#29\ufffd"}:CLOSE_BOLD_TEXT: if you want to keep it `,o=$localize`:@@paywall_upgrade-button-txt--ask-admin-start-free-trial␟19748de6339b6bde51f1e03eb4c928b4e4e775af␟1329908743028626360: Ask team admin to start FREE trial `,n=$localize`:uppercase free|@@common_start-free-trial-2␟8c2e38a774d68b616529635080d57f5ff88eba0b␟8557146351772805993: Start FREE trial `,[[1,"cu-paywall-modal__label"],t,[1,"cu-paywall-modal__content"],[1,"cu-paywall-modal__title"],[1,"cu-paywall-modal__description"],[4,"ngIf"],[1,"cu-paywall-modal__feature"],["class","cu-paywall-modal__feature-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-paywall-modal__notes"],[1,"cu-paywall-modal__notes-item"],[1,"cu-paywall-modal__notes-item-number"],[1,"cu-paywall-modal__notes-item-text"],e,a,i,["class","cu-btn cu-paywall-modal__btn",3,"href",4,"ngIf"],["class","cu-btn cu-paywall-modal__btn",3,"click",4,"ngIf","ngIfElse"],["button",""],["class","cu-paywall-modal__illustration",3,"ngStyle",4,"ngIf"],["class","cu-paywall-modal__video",4,"ngIf"],[1,"cu-paywall-modal__feature-item"],[1,"cu-paywall-modal__feature-icon",3,"icon"],[3,"innerHtml"],[1,"cu-btn","cu-paywall-modal__btn",3,"href"],[1,"cu-btn__text"],o,[1,"cu-btn","cu-paywall-modal__btn",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],n,[1,"cu-paywall-modal__illustration",3,"ngStyle"],[1,"cu-paywall-modal__video"],[3,"wistiaId","click"],[3,"wistiaId","user","autoPlay","onClose",4,"ngIf"],[3,"wistiaId","user","autoPlay","onClose"]]},template:function(t,e){if(1&t&&(i.cc(0,"div",0),i.gc(1,1),i.vc(2,"teamPlanToString"),i.bc(),i.cc(3,"div",2),i.cc(4,"div",3),i.dd(5),i.bc(),i.cc(6,"div",4),i.bd(7,g,2,1,"span",5),i.dd(8),i.bc(),i.cc(9,"div",6),i.bd(10,b,3,2,"div",7),i.bc(),i.cc(11,"div",8),i.cc(12,"div",9),i.cc(13,"div",10),i.dd(14,"1."),i.bc(),i.cc(15,"div",11),i.mc(16,12),i.Xb(17,"b"),i.jc(),i.bc(),i.bc(),i.cc(18,"div",9),i.cc(19,"div",10),i.dd(20,"2."),i.bc(),i.cc(21,"div",11),i.mc(22,13),i.Xb(23,"b"),i.jc(),i.bc(),i.bc(),i.cc(24,"div",9),i.cc(25,"div",10),i.dd(26,"3."),i.bc(),i.cc(27,"div",11),i.mc(28,14),i.Xb(29,"b"),i.vc(30,"teamPlanToString"),i.jc(),i.bc(),i.bc(),i.bc(),i.bd(31,f,3,1,"a",15),i.bd(32,k,3,1,"button",16),i.bd(33,w,1,1,"ng-template",null,17,i.cd),i.bc(),i.bd(35,y,1,3,"div",18),i.bd(36,T,3,2,"div",19)),2&t){const t=i.Rc(34);i.Ib(2),i.kc(i.wc(2,13,e.plan)),i.hc(1),i.Ib(3),i.ed(e.featureTitle),i.Ib(2),i.Dc("ngIf",e.boldDescription),i.Ib(1),i.fd(" ",e.description," "),i.Ib(2),i.Dc("ngForOf",e.features)("ngForTrackBy",e.trackByIcon),i.Ib(20),i.kc(i.wc(30,15,e.plan))(e.plan===e.TeamPlan.BUSINESS?"9":"5"),i.hc(28),i.Ib(1),i.Dc("ngIf",(null==e.sharedData.compatCurrentTeam?null:e.sharedData.compatCurrentTeam.role)===e.UserRole.GUEST||(null==e.sharedData.compatCurrentTeam?null:e.sharedData.compatCurrentTeam.role)===e.UserRole.USER),i.Ib(1),i.Dc("ngIf",e.forceUpgrade||((null==e.sharedData.compatCurrentTeam?null:e.sharedData.compatCurrentTeam.role)===e.UserRole.ADMIN||(null==e.sharedData.compatCurrentTeam?null:e.sharedData.compatCurrentTeam.role)===e.UserRole.OWNER)&&(null==e.sharedData.compatCurrentTeam?null:e.sharedData.compatCurrentTeam.plan_id)===e.TeamPlan.UNLIMITED&&e.plan===e.TeamPlan.BUSINESS)("ngIfElse",t),i.Ib(3),i.Dc("ngIf",e.image),i.Ib(1),i.Dc("ngIf",e.wistiaId)}},directives:[l.q,l.p,u.a,l.t,d.a,p.a],pipes:[m.a,h.a,l.b],styles:[".cu-paywall-modal{margin:0 -50px -50px;display:flex;position:relative;justify-content:space-between}.cu-paywall-modal__label{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#7b68ee;display:flex;align-items:center;color:#fff;font:600 13px/1 Gotham Pro,Proxima Nova,arial,serif;height:34px;border-radius:17px;padding:0 14px;position:absolute;top:-97px;left:50%;transform:translateX(-50%);box-shadow:0 0 8px 0 rgba(0,0,0,.08)}@supports (--theme-main-color:#7b68ee){.cu-paywall-modal__label{background:var(--theme-main-color)}}.cu-paywall-modal__content{width:520px;flex-shrink:0;padding:0 50px 50px 65px;display:flex;flex-direction:column}.cu-paywall-modal__title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#4a4a4a;font:500 35px/37px Gotham Pro,Proxima Nova,arial,serif;margin-bottom:25px}.dark-theme .cu-paywall-modal__title{color:#d5d6d7}.cu-paywall-modal__description{font:400 13px/1.4 Gotham Pro,Proxima Nova,arial,serif;margin-bottom:30px;color:#4f4f4f}.dark-theme .cu-paywall-modal__description{color:#d5d6d7}.cu-paywall-modal__description span{font-weight:500}.cu-paywall-modal__feature{margin-bottom:20px}.cu-paywall-modal__feature-item{display:flex;font:500 14px/20px Gotham Pro,Proxima Nova,arial,serif;margin-bottom:20px;color:#4f4f4f}.dark-theme .cu-paywall-modal__feature-item{color:#d5d6d7}.cu-paywall-modal__feature-item-link{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;border-bottom:1px dashed #4f4f4f}.dark-theme .cu-paywall-modal__feature-item-link{border-bottom-color:#d5d6d7}.cu-paywall-modal__feature-item-link:hover{color:#7b68ee;border-bottom-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-paywall-modal__feature-item-link:hover{color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-paywall-modal__feature-icon{fill:#7b68ee;width:20px;height:20px;margin-right:10px}@supports (--theme-main-color:#7b68ee){.cu-paywall-modal__feature-icon{fill:var(--theme-main-color)}}.cu-paywall-modal__notes{border-radius:6px;background:hsla(0,0%,84.7%,.2);padding:25px 20px 20px;margin-bottom:40px}.dark-theme .cu-paywall-modal__notes{background:#2b343b}.cu-paywall-modal__notes-item{display:flex;margin-bottom:10px}.cu-paywall-modal__notes-item-number{display:flex;align-items:center;justify-content:center;width:24px;height:24px;flex-shrink:0;border-radius:50%;background:#fff;margin-right:8px;color:#4a4a4a;font:400 13px/24px Gotham Pro,Proxima Nova,arial,serif;box-shadow:0 1px 4px 0 rgba(0,0,0,.04);padding-left:3px}.dark-theme .cu-paywall-modal__notes-item-number{background:#1e272e;color:#abaeb0}.cu-paywall-modal__notes-item-text{color:#4a4a4a;font:400 15px/21px Gotham Pro,Proxima Nova,arial,serif;margin:2px 0}.dark-theme .cu-paywall-modal__notes-item-text{color:#d5d6d7}.cu-paywall-modal__notes-item-text b{font-weight:500}.cu-paywall-modal__btn,.cu-paywall-modal a.cu-paywall-modal__btn{line-height:1}.cu-paywall-modal__illustration{flex-grow:1;background-position:0 0;background-size:870px;background-repeat:no-repeat}.cu-paywall-modal__video{display:flex;align-items:center;justify-content:center;flex-grow:1;margin-right:65px}.cu-paywall-modal.cu-paywall-modal-time-tracker .cu-paywall-modal__illustration{background-size:675px}"],encapsulation:2,changeDetection:0}),t})()},xDeF:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("ofXK"),o=a("4xwl"),n=a("fXoL");let s=(()=>{class t{}return t.\u0275mod=n.Ub({type:t}),t.\u0275inj=n.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a]]}),t})()},xP81:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("3Pt+"),o=a("K0KF"),n=a("ofXK"),s=a("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(e){return new(e||t)},imports:[[n.c,o.a,i.l]]}),t})()},xnrs:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("fXoL"),o=a("VrOs");let n=(()=>{class t{constructor(t){this.automationStrategies=t}transform(t,e){const a=this.automationStrategies.getStrategy(e);return t.filter(t=>{if(a&&a.triggerConditions){const e=a.triggerConditions(t.key,"before"),i=a.triggerConditions(t.key,"after"),o=i&&i.automationTriggerValueKey||"after";return!((e&&e.automationTriggerValueKey||"before")in t)&&!(o in t)}return!("before"in t)&&!("after"in t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.d))},t.\u0275pipe=i.Vb({name:"filterStateCondition",type:t,pure:!0}),t})()},yPlU:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("ofXK"),o=a("6QKp"),n=a("fXoL");let s=(()=>{class t{}return t.\u0275mod=n.Ub({type:t}),t.\u0275inj=n.Tb({factory:function(e){return new(e||t)},imports:[[i.c,o.a]]}),t})()},yZn2:function(t,e,a){"use strict";a.d(e,"a",function(){return Ec});var i=a("Gguj"),o=a("ciU8"),n=a("FZgu"),s=a("TU3I"),c=a("K8XO"),r=a("5+WD"),l=a("ofXK"),u=a("WL/q"),d=a("/qmH"),p=a("38Di"),m=a("EDFS"),h=a("Dvla"),g=a("hWeV"),b=a("k6wb"),f=a("mcWp"),k=a("V6/z"),_=a("1M0N"),w=a("a5Nn"),v=a("vi4T"),y=a("+iQC"),x=a("0r45"),T=a("gb9A"),I=a("VBI8"),C=a("P3m4"),D=a("mjQy"),S=a("CgHv"),O=a("fXoL"),j=a("o0vL"),P=a("pHS2"),A=a("m71m"),$=Object(A.a)(function(t,e,a){t[a?0:1].push(e)},function(){return[[],[]]}),R=a("XNiG"),F=a("N/Rp"),M=a("dTHz"),E=a("FC7Q"),U=a("GXRk"),L=a("TqRa"),z=a("jJQC"),V=a("Cg+4"),N=a("a6CW"),q=a("xJzU"),B=a("hr9B"),G=a("4f6Q"),X=a("GJmQ"),W=a("1G5W"),H=a("RwZa"),Z=a("MguC"),Q=a("YwDF");let K=(()=>{class t{constructor(){this.changeDateText=$localize`:@@cu-task-row__tooltip-msg_change-date:Change Date`,this.copyCustomTaskIdText=$localize`:@@cu-task-row__tooltip-msg_copy-custom-task-id:Copy Custom Task ID`,this.customTaskIdNotYetCreatedText=$localize`:@@cu-task-row__tooltip-msg_custom-task-id-not-yet-created:Custom Task ID is still being created`,this.noOpenMergeRequestsText=$localize`:@@cu-task-row__tooltip-msg_no-open-merge-requests:There are no open Merge Requests attached to this task`,this.noOpenPrsText=$localize`:@@cu-task-row__tooltip-msg_no-open-prs:There are no open Pull Requests attached to this task`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O.Sb({token:t,factory:t.\u0275fac}),t})();var J=a("xog/"),Y=a("rLOZ"),tt=a("OU+x"),et=a("LLqd"),at=a("G2WA"),it=a("8it8"),ot=a("soCZ"),nt=a("ug8/"),st=a("UdVN"),ct=a("0bNS"),rt=a("Llk8"),lt=a("NsZK"),ut=a("SA+E"),dt=a("ES2d"),pt=a("Ll/8"),mt=a("DKof"),ht=a("LrKI"),gt=a("pLZG"),bt=a("lJxs"),ft=a("2Vo4"),kt=a("itXk"),_t=a("c3rA"),wt=a("l7P3"),vt=a("EtbL"),yt=a("NQa4"),xt=a("7vmk"),Tt=a("loh9"),It=a("LdyQ"),Ct=a("MJvn"),Dt=a("n+1/"),St=a("nYR2"),Ot=a("G/ZS"),jt=a("Uo20"),Pt=a("BTFG");const At=["pinnedDropdown"];function $t(t,e){1&t&&O.Xb(0,"cu-loader")}function Rt(t,e){if(1&t){const t=O.dc();O.cc(0,"div",9),O.qc("click",function(){return O.Uc(t),O.uc(3).fetchAttachments()}),O.Xb(1,"div",10),O.bc()}2&t&&(O.Ib(1),O.Dc("icon","arrow-board-right"))}function Ft(t,e){if(1&t){const t=O.dc();O.cc(0,"div",6),O.qc("click",function(){return O.Uc(t),O.uc(2).checkForAttachments()}),O.Xb(1,"img",7),O.bd(2,Rt,2,1,"div",8),O.bc()}if(2&t){const t=O.uc(2);O.Ib(1),O.Dc("src",null==t.coverImage?null:t.coverImage.thumbnail_large,O.Xc),O.Ib(1),O.Dc("ngIf",t.attachmentsWithThumbnail>1)}}function Mt(t,e){if(1&t){const t=O.dc();O.cc(0,"div",12),O.qc("click",function(){return O.Uc(t),O.uc(3).arrowClick(!1)}),O.Xb(1,"div",10),O.bc()}2&t&&(O.Ib(1),O.Dc("icon","arrow-board-left"))}function Et(t,e){if(1&t){const t=O.dc();O.cc(0,"div",9),O.qc("click",function(){return O.Uc(t),O.uc(3).arrowClick()}),O.Xb(1,"div",10),O.bc()}2&t&&(O.Ib(1),O.Dc("icon","arrow-board-right"))}function Ut(t,e){if(1&t){const t=O.dc();O.cc(0,"div",6),O.qc("click",function(){return O.Uc(t),O.uc(2).checkForAttachments()}),O.Xb(1,"img",7),O.vc(2,"async"),O.vc(3,"async"),O.bd(4,Mt,2,1,"div",11),O.vc(5,"async"),O.bd(6,Et,2,1,"div",8),O.vc(7,"async"),O.vc(8,"async"),O.bc()}if(2&t){const t=O.uc(2);let e=null;O.Ib(1),O.Dc("src",null==O.wc(2,3,t.attachments$)[O.wc(3,5,t.previewIndex$)]?null:O.wc(2,3,t.attachments$)[O.wc(3,5,t.previewIndex$)].thumbnail_large,O.Xc),O.Ib(3),O.Dc("ngIf",O.wc(5,7,t.previewIndex$)>0),O.Ib(2),O.Dc("ngIf",O.wc(7,9,t.previewIndex$)<(null==(e=O.wc(8,11,t.attachments$))?null:e.length)-1)}}function Lt(t,e){if(1&t&&(O.cc(0,"div",4),O.bd(1,Ft,3,2,"div",5),O.vc(2,"async"),O.bd(3,Ut,9,13,"div",5),O.vc(4,"async"),O.bc()),2&t){const t=O.uc();O.Ib(1),O.Dc("ngIf",!O.wc(2,2,t.attachments$)),O.Ib(2),O.Dc("ngIf",O.wc(4,4,t.attachments$))}}let zt=(()=>{class t{constructor(t,e){this.boardService=t,this.attachmentsViewerService=e,this.fetchingPreviewImages$=new ft.a(!1),this.attachments$=new ft.a(null),this.previewIndex$=new ft.a(0),this.closeDropdown=new O.o,this.mouseEntered=!1}fetchAttachments(t=!1){this.fetchingPreviewImages$.next(!0),this.boardService.fetchPreviewImages(this.taskId).pipe(Object(St.a)(()=>this.fetchingPreviewImages$.next(!1))).subscribe(e=>{let a=e.attachments||[];const i=a.findIndex(t=>t.id===this.coverImage.id);if(-1!==i){const e=a.splice(i,1);a=[...e,...a],this.attachments$.next(a),t?this.openModal():this.previewIndex$.next(1)}})}arrowClick(t=!0){const e=this.previewIndex$.value;t?e<this.attachments$.value.length-1&&this.previewIndex$.next(e+1):e>0&&this.previewIndex$.next(e-1)}checkForAttachments(){this.attachments$.value?this.openModal():this.fetchAttachments(!0)}openModal(){this.attachmentsViewerService.onOpen.emit({attachments:this.attachments$.value,index:this.previewIndex$.value,taskId:this.taskId,coverImage:this.coverImage,hideCoverImage:!1}),this.closeDropdown.emit(!0)}imgMouseOver(){this.mouseEntered=!0,clearTimeout(this.mouseExitTimeout)}imgMouseLeave(){this.mouseEntered&&(this.mouseExitTimeout=setTimeout(()=>{this.closeDropdown.emit(!0)},500)),this.mouseEntered=!1}}return t.\u0275fac=function(e){return new(e||t)(O.Wb(Ot.a),O.Wb(jt.a))},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-pinned-image-preview"]],viewQuery:function(t,e){if(1&t&&O.jd(At,3),2&t){let t;O.Qc(t=O.rc())&&(e.pinnedDropdown=t.first)}},inputs:{taskId:"taskId",coverImage:"coverImage",attachmentsWithThumbnail:"attachmentsWithThumbnail"},outputs:{closeDropdown:"closeDropdown"},decls:6,vars:6,consts:[[1,"cu-pinned__dropdown",3,"mouseleave","mouseover"],["pinnedDropdown",""],[4,"ngIf"],["class","cu-pinned__cover-container",4,"ngIf"],[1,"cu-pinned__cover-container"],["class","cu-pinned__dropdown-container",3,"click",4,"ngIf"],[1,"cu-pinned__dropdown-container",3,"click"],[3,"src"],["class","cu-pinned__cover-container-arrows","cuPreventDefault","",3,"click",4,"ngIf"],["cuPreventDefault","",1,"cu-pinned__cover-container-arrows",3,"click"],[1,"cu-pinned__arrow-icon",3,"icon"],["class","cu-pinned__cover-container-arrows cover-arrow-left","cuPreventDefault","",3,"click",4,"ngIf"],["cuPreventDefault","",1,"cu-pinned__cover-container-arrows","cover-arrow-left",3,"click"]],template:function(t,e){1&t&&(O.cc(0,"div",0,1),O.qc("mouseleave",function(){return e.imgMouseLeave()})("mouseover",function(){return e.imgMouseOver()}),O.bd(2,$t,1,0,"cu-loader",2),O.vc(3,"async"),O.bd(4,Lt,5,6,"div",3),O.vc(5,"async"),O.bc()),2&t&&(O.Ib(2),O.Dc("ngIf",O.wc(3,2,e.fetchingPreviewImages$)),O.Ib(2),O.Dc("ngIf",!O.wc(5,4,e.fetchingPreviewImages$)))},directives:[l.q,Pt.a,Tt.a,st.a],pipes:[l.b],encapsulation:2,changeDetection:0}),t})();const Vt=["pinnedImageDisplay"],Nt=["pinnedImageContainer"],qt=["dropdown"];function Bt(t,e){if(1&t){const t=O.dc();O.cc(0,"div"),O.cc(1,"div",5),O.cc(2,"cu-pinned-image-preview",6),O.qc("closeDropdown",function(){return O.Uc(t),O.uc().closeDropdown()}),O.bc(),O.bc(),O.bc()}if(2&t){const t=O.uc();O.Ib(2),O.Dc("taskId",null==t.task?null:t.task.id)("coverImage",null==t.task?null:t.task.coverimage)("attachmentsWithThumbnail",null==t.task?null:t.task.attachments_with_thumbnail_count)}}const Gt=["*"];let Xt=(()=>{class t{constructor(t){this.sharedTaskService=t,this.destroy$=new R.a,this.open=!1}ngOnInit(){this.sharedTaskService.onClose.pipe(Object(gt.a)(t=>this.pinnedImagePreviewer&&this.task&&t.id===this.task.id),Object(W.a)(this.destroy$)).subscribe(()=>{this.pinnedImageContainer.clear(),this.pinnedImagePreviewer=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe(),clearTimeout(this.dropdownTimeout)}openDropdown(){this.dropdown.open()}closeDropdown(){this.dropdown.close()}}return t.\u0275fac=function(e){return new(e||t)(O.Wb(at.a))},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-pinned-image-view"]],viewQuery:function(t,e){if(1&t&&(O.jd(Vt,1),O.jd(Nt,1,O.U),O.jd(qt,3)),2&t){let t;O.Qc(t=O.rc())&&(e.pinnedImageDisplay=t.first),O.Qc(t=O.rc())&&(e.pinnedImageContainer=t.first),O.Qc(t=O.rc())&&(e.dropdown=t.first)}},inputs:{task:"task"},ngContentSelectors:Gt,decls:6,vars:2,consts:[[1,"cu-pinned",3,"cuPreventDefault","mouseover"],["cuDropdown","",3,"ngClass","dropdownCloseOnInsideClick"],["dropdown","dropdown"],["cuDropdownToggle",""],[4,"cuDropdownMenu"],[1,"cu-pinned__container"],[3,"taskId","coverImage","attachmentsWithThumbnail","closeDropdown"]],template:function(t,e){1&t&&(O.Cc(),O.cc(0,"div",0),O.qc("mouseover",function(){return e.openDropdown()}),O.cc(1,"div",1,2),O.cc(3,"div",3),O.Bc(4),O.bc(),O.bd(5,Bt,3,3,"div",4),O.bc(),O.bc()),2&t&&(O.Ib(1),O.Dc("ngClass","pinned-coverimage")("dropdownCloseOnInsideClick",!0))},directives:[Tt.a,It.b,l.o,Ct.a,Dt.a,zt],encapsulation:2,changeDetection:0}),t})();var Wt=a("JWXO"),Ht=a("sx5D"),Zt=a("ENHh");function Qt(t,e){if(1&t&&O.Xb(0,"cu-task-row-breadcrumbs",18),2&t){const t=O.uc();O.Dc("breadcrumbsItems",t.breadcrumbsItems)}}function Kt(t,e){if(1&t){const t=O.dc();O.cc(0,"div",19),O.qc("click",function(){return O.Uc(t),O.uc().openParentTask()}),O.dd(1),O.bc()}if(2&t){const t=O.uc();O.Dc("cuTooltip",null!=t.task&&null!=t.task.parent_task&&null!=t.task.parent_task.other_subcategories&&t.task.parent_task.other_subcategories.length?t.taskInMultipleListsText:null),O.Ib(1),O.fd(" ",(null==t.task||null==t.task.subtask_parent_task?null:t.task.subtask_parent_task.name)||(null==t.task||null==t.task.parent_task?null:t.task.parent_task.name),"\n")}}function Jt(t,e){}function Yt(t,e){}function te(t,e){}function ee(t,e){if(1&t&&O.bd(0,te,0,0,"ng-template",8),2&t){O.uc();const t=O.Rc(22);O.Dc("ngTemplateOutlet",t)}}function ae(t,e){if(1&t&&O.Xb(0,"div",20),2&t){const t=O.uc();O.Dc("icon","small"==(null==t.task?null:t.task.content_size)?"text-s":"medium"==t.task.content_size?"text-m":"long"==t.task.content_size?"text-l":null)}}function ie(t,e){if(1&t&&(O.cc(0,"cu-pinned-image-view",21),O.cc(1,"div",22),O.Xb(2,"img",23),O.bc(),O.bc()),2&t){const t=O.uc();O.Dc("task",t.task),O.Ib(2),O.Dc("src",t.task.coverimage.thumbnail_small,O.Xc)}}function oe(t,e){1&t&&O.Xb(0,"div",27)}function ne(t,e){if(1&t&&(O.cc(0,"div",24),O.bd(1,oe,1,0,"div",25),O.Xb(2,"div",26),O.dd(3),O.bc()),2&t){const t=O.uc();O.Ib(1),O.Dc("ngIf",(null==t.task?null:t.task.assigned_checklist_items)>0),O.Ib(2),O.gd(" ",null==t.task||null==t.task.checklist_counts?null:t.task.checklist_counts.resolved,"/",(null==t.task||null==t.task.checklist_counts?null:t.task.checklist_counts.resolved)+(null==t.task||null==t.task.checklist_counts?null:t.task.checklist_counts.unresolved)," ")}}function se(t,e){if(1&t&&O.Xb(0,"div",28),2&t){const t=O.uc();O.Dc("cuTooltip",t.attachmentsCount+" Attachments")}}function ce(t,e){}function re(t,e){if(1&t&&O.Xb(0,"cu-task-row-status",30),2&t){const t=O.uc(2);O.Dc("status",null==t.task?null:t.task.status)("itemClass","cu-task-row-status_dot")("hasCustomType",!0)("customType",!0)("isSimpleStatus",null==t.task?null:t.task.simple_statuses)("showSettings",!1)("disabled",!0)}}function le(t,e){if(1&t&&O.bd(0,re,1,7,"cu-task-row-status",29),2&t){const t=O.uc();O.Dc("ngIf",t.hasCustomType&&t.displayCustomType)}}function ue(t,e){1&t&&O.Xb(0,"div",37)}function de(t,e){1&t&&O.Xb(0,"div",38)}function pe(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-subtasks-by-status-popup",39),O.qc("subtaskCreateClicked",function(e){return O.Uc(t),O.uc(2).toggleAddSubtask(e)})("click",function(e){return O.Uc(t),O.uc(2).openSubtasks(e)}),O.vc(1,"async"),O.bc()}if(2&t){const t=O.uc(2);O.Dc("countTotalNestedSubtasks",t.allowClosed?t.task.subtasks_count:t.task.subtasks_open_count)("task",t.task)("showCreateIcon",O.wc(1,4,t.canCreateSubtask$))("subtasksByStatus",t.task.subtasks_by_status)}}function me(t,e){if(1&t){const t=O.dc();O.cc(0,"div",40),O.qc("click",function(e){O.Uc(t);const a=O.uc(2);return null!=a.task&&null!=a.task.permissions&&a.task.permissions.add_dependencies?a.openDependencyModal(e):null}),O.bc()}if(2&t){const t=O.uc(2);O.Ob("no-permission",!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.add_dependencies))}}function he(t,e){if(1&t){const t=O.dc();O.cc(0,"div",41),O.qc("click",function(e){O.Uc(t);const a=O.uc(2);return null!=a.task&&null!=a.task.permissions&&a.task.permissions.add_dependencies?a.openDependencyModal(e):null}),O.bc()}if(2&t){const t=O.uc(2);O.Ob("no-permission",!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.add_dependencies))}}function ge(t,e){if(1&t){const t=O.dc();O.cc(0,"div",42),O.qc("click",function(e){O.Uc(t);const a=O.uc(2);return null!=a.task&&null!=a.task.permissions&&a.task.permissions.add_dependencies?a.openDependencyModal(e):null}),O.Xb(1,"div",43),O.bc()}if(2&t){const t=O.uc(2);O.Ob("no-permission",!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.add_dependencies))}}function be(t,e){if(1&t&&(O.bd(0,ue,1,0,"div",31),O.bd(1,de,1,0,"div",32),O.bd(2,pe,2,6,"cu-subtasks-by-status-popup",33),O.bd(3,me,1,2,"div",34),O.bd(4,he,1,2,"div",35),O.bd(5,ge,2,2,"div",36)),2&t){const t=O.uc();O.Dc("ngIf",null==t.task?null:t.task.private),O.Ib(1),O.Dc("ngIf",null==t.task?null:t.task.archived),O.Ib(1),O.Dc("ngIf",t.task.subtasks_count),O.Ib(1),O.Dc("ngIf",(null==t.task?null:t.task.dependency_state)===(null==t.dependencyState?null:t.dependencyState.blocked)),O.Ib(1),O.Dc("ngIf",(null==t.task?null:t.task.dependency_state)===(null==t.dependencyState?null:t.dependencyState.blocker)),O.Ib(1),O.Dc("ngIf",null==t.task?null:t.task.has_relationship_links)}}function fe(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-subtasks-by-status-popup",39),O.qc("subtaskCreateClicked",function(e){return O.Uc(t),O.uc(2).toggleAddSubtask(e)})("click",function(e){return O.Uc(t),O.uc(2).openSubtasks(e)}),O.vc(1,"async"),O.bc()}if(2&t){const t=O.uc(2);O.Dc("countTotalNestedSubtasks",t.allowClosed?t.task.subtasks_count:t.task.subtasks_open_count)("task",t.task)("showCreateIcon",O.wc(1,4,t.canCreateSubtask$))("subtasksByStatus",t.task.subtasks_by_status)}}function ke(t,e){if(1&t){const t=O.dc();O.cc(0,"div",47),O.qc("click",function(e){return O.Uc(t),O.uc(2).rename(e)})("mouseenter",function(){return O.Uc(t),O.uc(2).hoverRenameIcon=!0})("mouseleave",function(){return O.Uc(t),O.uc(2).hoverRenameIcon=!1}),O.bc()}}function _e(t,e){if(1&t&&(O.cc(0,"div",44),O.cc(1,"div",45),O.bd(2,fe,2,6,"cu-subtasks-by-status-popup",33),O.Bc(3,1),O.Bc(4,2),O.bd(5,ke,1,0,"div",46),O.bc(),O.bc()),2&t){const t=O.uc();O.Ib(1),O.Ob("cu-task-row-main__actions-inner-dropdown-open",t.dropdownOpen)("cu-task-row-main__actions-inner-has-tags",null==t.task||null==t.task.tags?null:t.task.tags.length),O.Ib(1),O.Dc("ngIf",!t.task.subtasks_count),O.Ib(3),O.Dc("ngIf",!t.readOnly&&(null==t.task||null==t.task.permissions?null:t.task.permissions.change_title)&&!t.preRender)}}const we=[[["","cu-task-row-tags",""]],[["","cu-task-row-tags-picker",""]],[["cu-task-row-recurring-date-picker"]]],ve=function(t){return{task:t}},ye=["[cu-task-row-tags]","[cu-task-row-tags-picker]","cu-task-row-recurring-date-picker"];let xe=(()=>{class t{constructor(t,e){this.changeDetectorRef=t,this.store=e,this.breadcrumbsItems=[],this.hoverRenameIcon=!1,this.disabled=!1,this.displayCustomType=!1,this.hasCustomType=!1,this.hideCreateSubtask=!1,this.breadcrumbs="none",this.allowClosed=!0,this.readOnly=!1,this.preRender=!1,this.dropdownOpen=!1,this.dontShowParentTaskEver=!1,this.onOpenTask=new O.o,this.onOpenParentTask=new O.o,this.onToggleSubtasks=new O.o,this.onRename=new O.o,this.onOpenDependencyModal=new O.o,this.toggleCreateSubtask=new O.o,this.dependencyState=dt.a,this.DataViewSubtasks=Z.h,this.attachmentsCount=0,this.appUrl=window.location.origin,this.task$=new ft.a(null),this.hideCreateSubtask$=new ft.a(this.hideCreateSubtask),this.canCreateSubtask$=Object(kt.a)([this.task$.pipe(Object(gt.a)(t=>!!t)),this.store.select(_t.getTeam),this.hideCreateSubtask$]).pipe(Object(bt.a)(([t,e,a])=>!a&&(e.nested_subtasks&&(t.nested_level||0)<(e.nested_subtasks_level||0)||!t.parent))),this.taskInMultipleListsText=$localize`:@@cu-task-row-main__tooltip-msg_task-in-multiple-lists:This task is in multiple Lists`,this.subtaskParentInMultipleListsText=$localize`:@@cu-task-row-main__tooltip-msg_subtask-in-multiple-lists:The parent of this task is in multiple Lists`}ngOnInit(){}ngOnChanges(t){this.updateBreadcrumbs(),t.task&&(this.task$.next(this.task),this.statusItems=this.task&&this.task.subtasks_by_status&&this.task.subtasks_by_status.filter(t=>!Object(pt.l)(t.status)),this.statusClosedItems=this.task&&this.task.subtasks_by_status&&this.task.subtasks_by_status.filter(t=>Object(pt.l)(t.status)),this.attachmentsCount=Object(mt.a)((this.task.customFields||[]).map(t=>t.type===Q.a.Attachment&&t.value?t.value.length:0))+(this.task.attachments_count||0)),t.hideCreateSubtask&&this.hideCreateSubtask$.next(this.hideCreateSubtask),(t.publicViewData||t.task)&&this.publicViewData&&this.publicViewData.view.share_tasks&&(this.taskUrlSegments=["/",...Object(L.i)({seoOptimised:this.publicViewData.view.seo_optimized,viewId:this.publicViewData.view.id,publicKey:this.publicViewData.view.public_key,task:this.task,teamId:this.task.team})])}openSubtasks(t){(this.allowClosed&&this.task.subtasks_count>0||!this.allowClosed&&this.task.subtasks_open_count>0)&&this.onToggleSubtasks.emit({reload:!0,closed:!1})}taskClick(t){if(!(t&&t.target&&t.target.classList&&t.target.classList.contains("cu-linkify-link")||this.taskUrlSegments)){if(t&&t.type&&"popstate"!==t.type){if(t.ctrlKey||t.metaKey||"linkified"===t.target.className||"path"===t.target.nodeName||"svg"===t.target.nodeName)return;t.preventDefault()}this.disabled&&t.preventDefault(),this.onOpenTask.emit()}}openDependencyModal(t){t.stopPropagation(),t.preventDefault(),this.onOpenDependencyModal.emit({project:this.parentSpace})}rename(t){t.stopPropagation(),t.preventDefault(),this.onRename.emit(),this.hoverRenameIcon=!1,this.changeDetectorRef.markForCheck()}toggleAddSubtask(t){(this.allowClosed&&this.task.subtasks_count>0||!this.allowClosed&&this.task.subtasks_open_count>0&&!this.showSubtasks)&&(this.onToggleSubtasks.emit({reload:!0,closed:!1}),this.toggleCreateSubtask.emit(this.task)),(this.allowClosed&&this.task.subtasks_count>0||!this.allowClosed&&this.task.subtasks_open_count>0)&&this.onToggleSubtasks.emit({reload:!1,closed:!1}),(this.showSubtasks||0===this.task.subtasks_count||!this.allowClosed&&!this.task.subtasks_open_count)&&this.toggleCreateSubtask.emit(this.task)}openParentTask(){this.onOpenParentTask.emit({id:this.task.subtask_parent||this.task.parent,customId:this.task.subtask_parent_task?this.task.subtask_parent_task.custom_id:this.task.parent_task.custom_id,teamId:this.task.team})}updateBreadcrumbs(){this.breadcrumbsItems=Object(ht.a)(this.task,this.breadcrumbs),this.changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(O.Wb(O.h),O.Wb(wt.Store))},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-task-row-main"]],hostAttrs:[1,"cu-task-row-main"],inputs:{disabled:"disabled",displayCustomType:"displayCustomType",hasCustomType:"hasCustomType",hideCreateSubtask:"hideCreateSubtask",task:"task",tasksHovered:"tasksHovered",breadcrumbs:"breadcrumbs",viewPreferences:"viewPreferences",showSubtasks:"showSubtasks",showClosedSubtasks:"showClosedSubtasks",allowClosed:"allowClosed",readOnly:"readOnly",parentSpace:"parentSpace",preRender:"preRender",dropdownOpen:"dropdownOpen",publicViewData:"publicViewData",taskNameExtraTemplate:"taskNameExtraTemplate",dontShowParentTaskEver:"dontShowParentTaskEver"},outputs:{onOpenTask:"onOpenTask",onOpenParentTask:"onOpenParentTask",onToggleSubtasks:"onToggleSubtasks",onRename:"onRename",onOpenDependencyModal:"onOpenDependencyModal",toggleCreateSubtask:"toggleCreateSubtask"},features:[O.Gb],ngContentSelectors:ye,decls:25,vars:26,consts:function(){let t,e,a,i;return t=$localize`:@@common_waiting-dependency␟7e318436deb2d800d19000fca6e33177b3b98f30␟6823188785494996697:Waiting on dependency`,e=$localize`:@@common_blocking-dependency␟dc1bcd8eb31a7bb33bc8e886576aee8492e84e3c␟5566965119949910896:Blocking Dependency`,a=$localize`:@@common_has-relationship-links␟974b44a54bc27e41a6e6033b754ffd256265874c␟4765524207040448992:Has Relationship Links`,i=$localize`:@@common_rename␟e26f9cf3666aace4e524b1505c9795d76d87738d␟6041115344061899387:Rename`,[[3,"breadcrumbsItems",4,"ngIf"],["class","cu-task-row-main__parent-name",3,"cuPreventDefault","cuTooltip","click",4,"ngIf"],[1,"cu-task-row-main__link",3,"cuDraggable","cuLink","useRouter","click"],[1,"cu-task-row-main__link-container"],[1,"cu-task-row-main__link-inner"],[1,"cu-task-row-main__link-text"],["taskName",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],[1,"cu-task-row-main__link-text-inner",3,"cuTooltip","innerHTML"],[4,"ngIf"],["class","cu-task-row-main__icon-content",3,"icon",4,"ngIf"],[3,"task",4,"ngIf"],["class","cu-task-row-main__checklists",4,"ngIf"],["class","cu-task-row-main__icon-attachments","icon","paperclip",3,"cuTooltip",4,"ngIf"],["taskStateIconsBefore",""],["taskStateIconsAfter",""],["taskActionsOnHover",""],[3,"breadcrumbsItems"],[1,"cu-task-row-main__parent-name",3,"cuPreventDefault","cuTooltip","click"],[1,"cu-task-row-main__icon-content",3,"icon"],[3,"task"],[1,"cu-task-row-main__coverimage-thumbnail"],[3,"src"],[1,"cu-task-row-main__checklists"],["class","cu-task-row-main__checklists-dot",4,"ngIf"],["icon","checklist",1,"cu-task-row-main__checklists-icon"],[1,"cu-task-row-main__checklists-dot"],["icon","paperclip",1,"cu-task-row-main__icon-attachments",3,"cuTooltip"],[3,"status","itemClass","hasCustomType","customType","isSimpleStatus","showSettings","disabled",4,"ngIf"],[3,"status","itemClass","hasCustomType","customType","isSimpleStatus","showSettings","disabled"],["class","cu-task-row-main__icon-private","icon","cu3-lock",4,"ngIf"],["class","cu-task-row-main__icon-archived","icon","archive2-no-color",4,"ngIf"],["cuPreventDefault","",3,"countTotalNestedSubtasks","task","showCreateIcon","subtasksByStatus","subtaskCreateClicked","click",4,"ngIf"],["class","cu-task-row-main__icon-dependency cu-task-row-main__icon-dependency_waiting-on","cuTooltip",t,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",3,"no-permission","click",4,"ngIf"],["class","cu-task-row-main__icon-dependency cu-task-row-main__icon-dependency_blocker","cuTooltip",e,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",3,"no-permission","click",4,"ngIf"],["class","cu-task-row-main__icon-dependency cu-task-row-main__icon-dependency_link-to","cuTooltip",a,"tooltipModifier","tooltip_far",3,"no-permission","click",4,"ngIf"],["icon","cu3-lock",1,"cu-task-row-main__icon-private"],["icon","archive2-no-color",1,"cu-task-row-main__icon-archived"],["cuPreventDefault","",3,"countTotalNestedSubtasks","task","showCreateIcon","subtasksByStatus","subtaskCreateClicked","click"],["cuTooltip",t,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",1,"cu-task-row-main__icon-dependency","cu-task-row-main__icon-dependency_waiting-on",3,"click"],["cuTooltip",e,"tooltipModifier","tooltip_far","icon","dependency-waiting-2",1,"cu-task-row-main__icon-dependency","cu-task-row-main__icon-dependency_blocker",3,"click"],["cuTooltip",a,"tooltipModifier","tooltip_far",1,"cu-task-row-main__icon-dependency","cu-task-row-main__icon-dependency_link-to",3,"click"],["icon","cu3-link"],[1,"cu-task-row-main__actions"],[1,"cu-task-row-main__actions-inner"],["class","cu-task-row-main__edit","cuTooltip",i,"tooltipModifier","tooltip_far","icon","cu3-edit",3,"click","mouseenter","mouseleave",4,"ngIf"],["cuTooltip",i,"tooltipModifier","tooltip_far","icon","cu3-edit",1,"cu-task-row-main__edit",3,"click","mouseenter","mouseleave"]]},template:function(t,e){if(1&t&&(O.Cc(we),O.bd(0,Qt,1,1,"cu-task-row-breadcrumbs",0),O.bd(1,Kt,2,2,"div",1),O.cc(2,"a",2),O.qc("click",function(t){return e.taskClick(t)}),O.vc(3,"cuTaskLink"),O.cc(4,"div",3),O.cc(5,"div",4),O.cc(6,"div",5,6),O.bd(8,Jt,0,0,"ng-template",7),O.bd(9,Yt,0,0,"ng-template",8),O.Xb(10,"span",9),O.vc(11,"linkify"),O.bd(12,ee,1,1,void 0,10),O.bd(13,ae,1,1,"div",11),O.bd(14,ie,3,2,"cu-pinned-image-view",12),O.bd(15,ne,4,3,"div",13),O.bd(16,se,1,1,"div",14),O.Bc(17),O.bd(18,ce,0,0,"ng-template",8),O.bc(),O.bc(),O.bc(),O.bc(),O.bd(19,le,1,1,"ng-template",null,15,O.cd),O.bd(21,be,6,6,"ng-template",null,16,O.cd),O.bd(23,_e,6,6,"ng-template",null,17,O.cd)),2&t){const t=O.Rc(20),a=O.Rc(24);O.Dc("ngIf","none"!=e.breadcrumbs),O.Ib(1),O.Dc("ngIf",!e.dontShowParentTaskEver&&(null==e.task?null:e.task.parent_task)&&(null==e.viewPreferences?null:e.viewPreferences.showSubtaskParentNames)),O.Ib(1),O.Dc("cuDraggable",!1)("cuLink",e.disabled?null:e.taskUrlSegments||O.wc(3,20,e.task))("useRouter",!!e.taskUrlSegments),O.Ib(6),O.Dc("ngTemplateOutlet",e.taskNameExtraTemplate)("ngTemplateOutletContext",O.Hc(24,ve,e.task)),O.Ib(1),O.Dc("ngTemplateOutlet",t),O.Ib(1),O.Ob("cu-task-row-main__custom-type",e.hasCustomType)("cu-task-row-main__link-text-inner_highlighted",e.hoverRenameIcon),O.Dc("cuTooltip",null!=e.task&&null!=e.task.parent_task&&null!=e.task.parent_task.other_subcategories&&e.task.parent_task.other_subcategories.length?e.subtaskParentInMultipleListsText:null!=e.task&&null!=e.task.other_subcategories&&e.task.other_subcategories.length?e.taskInMultipleListsText:null)("innerHTML",O.wc(11,22,null==e.task?null:e.task.name),O.Vc),O.Ib(2),O.Dc("ngIf",!e.preRender),O.Ib(1),O.Dc("ngIf",e.task.content_size&&"none"!=e.task.content_size),O.Ib(1),O.Dc("ngIf",(null==e.task?null:e.task.coverimage)&&!(null!=e.task&&null!=e.task.coverimage&&e.task.coverimage.fallback_coverimage)),O.Ib(1),O.Dc("ngIf",null==e.task?null:e.task.checklist_counts),O.Ib(1),O.Dc("ngIf",e.attachmentsCount>0),O.Ib(2),O.Dc("ngTemplateOutlet",a)}},directives:[l.q,vt.a,yt.a,l.x,lt.a,xt.a,Tt.a,st.a,Xt,rt.a,Wt.a],pipes:[Ht.a,Zt.a,l.b],styles:['.cu-task-row-main{flex-grow:1;width:100%;height:100%;display:inline-flex;flex-direction:column}.cu-task-row-main .cu-editable__input{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13.5px;line-height:1.5;width:calc(100% + 10px);min-width:50px;height:100%;margin-left:-10px;padding-left:10px;z-index:10;transform:translateY(-1px);background:transparent}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-main .cu-editable__input{font-family:var(--global-font-support)}}.cu-task-row-main .cu-editable__input:focus{background:transparent}.cu-task-row-main__parent-name{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:10px;line-height:1;transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;color:#828588;margin:6px 0 -2px;cursor:pointer;align-self:flex-start}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-main__parent-name{font-family:var(--global-font-support)}}.cu-task-row-main__parent-name:hover{color:var(--theme-main-color)}.cu-task-row-main__link{cursor:pointer;flex-grow:1;min-width:100px;height:100%;display:flex;align-items:center;padding:4px 0}.cu-task-row-main__link:hover .cu-task-row-main__link-text span{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-main__link:hover .cu-task-row-main__link-text span{color:var(--theme-main-color)}}.gu-unselectable .cu-task-row-main__link{pointer-events:none}.cu-task-row-main__link-container{display:flex;flex-direction:column;width:100%}.cu-task-row-main__link-inner{position:relative}.cu-task-row-main__link-inner .cu-task-row-tags{margin:-4px 0;transform:translateY(-1px)}.cu-task-row-main__link-text{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;display:block;line-height:1.8}.cu-task-row-main__link-text-inner{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13.5px;line-height:1.5;margin-right:2px;padding:5px 5px 6px;margin-left:-5px;border-radius:4px;color:#000}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-main__link-text-inner{font-family:var(--global-font-support)}}.cu-task-row-main__link-text-inner.cu-task-row-main__custom-type{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:500}.dark-theme .cu-task-row-main__link-text-inner{color:#d5d6d7}@media print{.cu-task-row-main__link-text-inner{font-size:11px!important}}.cu-task-row-main__link-text-inner_highlighted{background:#e9ebf0}.dark-theme .cu-task-row-main__link-text-inner_highlighted{background:#1e272e}.cu-task-row-main__link-text .cu-tags-view{padding-right:25px}.cu-task-row-main__link-text .cu-tags-view__icon{position:absolute;right:0}.cu-task-row-main__link-text .cu-tags-select__badge.list-view{height:20px;border-radius:4px 10px 10px 4px}.cu-task-row-main__link-text .cu-tags-select__badge.list-view .cu-tags-select__name,.cu-task-row-main__link-text .cu-tags-select__badge.list-view .cu-tags-select__name-shadow{font-weight:500;font-size:11px;line-height:19px}.cu-task-row-main__link .cu-pinned{top:4px;display:inline-block;position:relative}.cu-task-row-main__actions{display:inline-flex;position:relative;width:0;height:10px;z-index:10}.cu-task-row-main__actions-inner{display:none;position:absolute;right:0;height:20px;transform:translate(100%,-4px)}.cu-task-row-main__actions-inner.cu-task-row-main__actions-inner-dropdown-open,.cu-task-row__container:hover .cu-task-row-main__actions-inner{display:flex;align-items:center}.cu-task-row-main__actions-inner .cu-task-row-tags{margin-top:0}.cu-task-row-main__actions-inner .cu-task-row-tags:not(.cu-task-row-tags_disabled){width:24px}.cu-task-row-main__actions-inner .cu-task-row-tags .cu-tags-view__icon{transform:translateY(-1px);margin-right:4px}.cu-task-row-main__actions-inner .cu-tags-view__item{display:none}.cu-task-row-main__icon-archived,.cu-task-row-main__icon-private{width:20px;height:20px;padding:3px;display:inline-block;border-radius:4px;margin:-3px 4px -3px 0;transform:translateY(3px);background:#fff;border:1px solid #e9ebf0;fill:#7c828d}.dark-theme .cu-task-row-main__icon-archived,.dark-theme .cu-task-row-main__icon-private{background:#2b343b;border-color:#1e272e;fill:#b9bec7}.cu-task-row-main__icon-private{padding:2px}.cu-task-row-main__icon-archived{padding:3px 3px 4px;stroke:#7c828d}.dark-theme .cu-task-row-main__icon-archived{fill:#b9bec7}.cu-task-row-main__icon-content{width:12px;height:12px;margin-right:5px;margin-bottom:-2px;display:inline-block;pointer-events:none;stroke:#7c828d}.contrast_high .cu-task-row-main__icon-content{stroke:#909498}.cu-task-row-main__icon-attachments{width:12px;height:12px;margin-right:5px;margin-bottom:-2px;display:inline-block;fill:#7c828d}.contrast_high .cu-task-row-main__icon-attachments{fill:#909498}.cu-task-row-main__icon-dependency{position:relative;overflow:hidden;width:20px;height:20px;padding:3px;display:inline-block;border-radius:4px;margin:-3px 4px -3px 0;transform:translateY(3px);background:#fff;border:1px solid #e9ebf0}.dark-theme .cu-task-row-main__icon-dependency{background:#2b343b;border-color:#1e272e}.cu-task-row-main__icon-dependency_waiting-on{fill:#ffc800}.cu-task-row-main__icon-dependency_blocker{fill:#fd0800}.cu-task-row-main__icon-dependency_link-to{padding:2px}.cu-task-row-main__icon-dependency_link-to .icon{fill:#292d34}.dark-theme .cu-task-row-main__icon-dependency_link-to .icon{fill:#d5d6d7}.cu-task-row-main__edit{width:20px;height:20px;margin:-3px 0;padding:3px;display:inline-block;opacity:0;border-radius:4px;background:#fff;border:1px solid #e9ebf0;fill:#7c828d}.dark-theme .cu-task-row-main__edit{background:#2b343b;border-color:#1e272e;fill:#b9bec7}.cu-task-row-main__edit:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-main__edit:hover{fill:var(--theme-main-color)}}.cu-task-row__container:hover .cu-task-row-main__edit{opacity:1}.cu-task-row-main__subtask-icon{width:22px;height:14px;margin-right:5px;pointer-events:all;display:inline-flex;fill:#aeacb0;vertical-align:sub}.cu-task-row-main__subtask-icon:before{content:"";position:absolute;width:22px;height:22px;display:block;border-radius:50%;border:.6px dashed #aeacb0}.cu-task-row-main__subtask-icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-main__subtask-icon:hover{fill:var(--theme-main-color)}}.cu-task-row-main__subtask-icon:hover:before{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-main__subtask-icon:hover:before{border-color:var(--theme-main-color)}}.cu-task-row-main__recurring-icon{display:inline-flex;height:22px;width:22px;align-items:center;justify-content:center;position:relative;margin-right:5px!important}.cu-task-row-main__recurring-icon .cu-task-row-recurring-date-picker__recur{transition:stroke .2s cubic-bezier(.785,.135,.15,.86) 0s;width:18px;height:18px;padding:3px;margin:0}.cu-task-row-main__recurring-icon:before{transition:border-color .2s cubic-bezier(.785,.135,.15,.86) 0s;content:"";position:absolute;width:22px;height:22px;display:block;border-radius:50%;border:.6px dashed #aeacb0;z-index:2;pointer-events:none}.cu-task-row-main__recurring-icon:hover .cu-task-row-recurring-date-picker__recur{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-main__recurring-icon:hover .cu-task-row-recurring-date-picker__recur{stroke:var(--theme-main-color)}}.cu-task-row-main__recurring-icon:hover:before{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-main__recurring-icon:hover:before{border-color:var(--theme-main-color)}}.cu-task-row-main__checklists{display:inline-flex;align-items:center;flex-shrink:0;position:relative;margin:0 7px 0 0;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;transform:translateY(2px);color:#7c828d}.dark-theme .cu-task-row-main__checklists{color:#909498}.cu-task-row-main__checklists-icon{width:12px;height:12px;margin-right:4px}.cu-task-row-main__checklists-dot{background-color:#7b68ee;position:absolute;height:8px;width:8px;left:8px;margin-top:-7px;border:1px solid #fff;border-radius:50%}@supports (--theme-main-color:#7b68ee){.cu-task-row-main__checklists-dot{background-color:var(--theme-main-color)}}.dark-theme .cu-task-row-main__checklists-dot{border:1px solid #2b343b}.cu-task-row-main__coverimage-thumbnail{height:16px;width:16px;margin-right:5px}.cu-task-row-main__coverimage-thumbnail img{height:100%;width:100%;border-radius:3px}'],encapsulation:2,changeDetection:0}),t})();function Te(t,e){1&t&&O.Xb(0,"div",1)}let Ie=(()=>{class t{constructor(){this.disabled=!1,this.selected=!1,this.onChangeSelection=new O.o}ngOnInit(){}click(t){this.disabled||this.onChangeSelection.emit({selected:!this.selected,shift:t.shiftKey||t.metaKey})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-task-row-toggle"]],hostAttrs:[1,"cu-task-row-toggle"],hostVars:4,hostBindings:function(t,e){1&t&&O.qc("click",function(t){return e.click(t)}),2&t&&O.Ob("cu-task-row-toggle_selected",e.selected)("cu-task-row-toggle_disabled",e.disabled)},inputs:{disabled:"disabled",selected:"selected"},outputs:{onChangeSelection:"onChangeSelection"},decls:1,vars:1,consts:[["class","cu-task-row-toggle__marker",4,"ngIf"],[1,"cu-task-row-toggle__marker"]],template:function(t,e){1&t&&O.bd(0,Te,1,0,"div",0),2&t&&O.Dc("ngIf",!e.disabled)},directives:[l.q],styles:['.cu-task-row-toggle{display:none;position:absolute;left:-31px;top:0;width:22px;height:100%;cursor:pointer}.cu-task-row-toggle_disabled{pointer-events:none}.cu-dashboard-table .cu-task-row-toggle{display:block}.cu-task-list__subtasks .cu-task-row-toggle{left:-31px}.cu-task-row-toggle__marker{display:none;position:absolute;transform:translateY(-50%);top:50%;left:0;width:16px;height:16px;border-radius:50%;border:1px solid #dbdbdb;background:#fff}.cu-dashboard-table .cu-task-row__container:hover .cu-task-row-toggle__marker{display:block}.contrast_high .cu-task-row-toggle__marker{border:1px solid #dedede}.dark-theme .cu-task-row-toggle__marker{border:1px solid #2b343b;background:#384047}.cu-task-row-toggle__marker:after{content:"";display:block;position:absolute;background:#7b68ee;opacity:0;top:2px;left:2px;width:10px;height:10px;border-radius:50%}@supports (--theme-main-color:#7b68ee){.cu-task-row-toggle__marker:after{background:var(--theme-main-color)}}.cu-task-row-toggle_selected .cu-task-row-toggle__marker{display:block}.cu-task-row-toggle_selected .cu-task-row-toggle__marker:after{opacity:1}'],encapsulation:2,changeDetection:0}),t})();var Ce=a("gJHR"),De=a("5Eri"),Se=a("hpI0"),Oe=a("0aO/"),je=a("0dWf");const Pe=["menuTrigger"],Ae=["menuContainer"];let $e=(()=>{class t{constructor(t){this.resolver=t,this.destroy$=new R.a,this.disabled=!1,this.showCustomTypes=!1,this.canDelete=!0,this.hasCustomType=!1,this.onLoadUsers=new O.o,this.onRemoveAdditionalList=new O.o,this.onAction=new O.o}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngOnChanges(t){t.hasCustomType&&this.menu&&(this.menu.instance.hasCustomType=this.hasCustomType),t.users&&this.menu&&(this.menu.instance.users=this.users,this.menu.instance.changeDetector.markForCheck())}showMenu(t,e=!1){if(this.fromPoint={x:t.clientX,y:t.clientY},this.disabled)return;if(e&&(this.menuTrigger.nativeElement.remove(),this.menuContainer.clear(),this.menu=null),this.menu)return;t&&(t.preventDefault(),t.stopPropagation());const a=this.resolver.resolveComponentFactory(Oe.a);this.menu=this.menuContainer.createComponent(a),this.task&&(this.menu.instance.task=this.task),this.menu.instance.forTasks=!0,this.menu.instance.forSubtasks=this.forSubtasks,this.menu.instance.permissions=this.task&&this.task.permissions,this.menu.instance.limited=this.task&&this.task.permission_level!==M.e.CREATE,this.menu.instance.newTab=Object(je.c)(this.task),this.menu.instance.canDelete=this.canDelete,this.menu.instance.noParent=!this.task.parent,this.menu.instance.archived=this.task.archived,this.menu.instance.showCustomTypes=this.showCustomTypes,this.menu.instance.hasCustomType=this.hasCustomType,this.menu.instance.weights=this.weights,this.menu.instance.users=this.users,this.menu.instance.canCreate=!this.readOnly,this.menu.instance.canRename=!this.readOnly,this.menu.instance.project=this.selectedProject,this.menu.instance.toggle.nativeElement.append(this.menuTrigger.nativeElement),this.menu.instance.onAction.pipe(Object(W.a)(this.destroy$)).subscribe(t=>{this.onAction.emit({action:t.action,data:t.data,fromPoint:this.fromPoint})}),this.menu.instance.onClose.pipe(Object(W.a)(this.destroy$)).subscribe(()=>this.menu.instance.menu.fromPoint=null),this.menu.instance.onRemoveAdditionalList.pipe(Object(W.a)(this.destroy$)).subscribe(t=>this.onRemoveAdditionalList.emit(t)),this.menu.instance.fromPoint=e?{x:t.clientX,y:t.clientY}:null,this.onLoadUsers.emit(),this.menu.instance.open()}}return t.\u0275fac=function(e){return new(e||t)(O.Wb(O.j))},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-task-row-menu"]],viewQuery:function(t,e){if(1&t&&(O.jd(Pe,3),O.jd(Ae,3,O.U)),2&t){let t;O.Qc(t=O.rc())&&(e.menuTrigger=t.first),O.Qc(t=O.rc())&&(e.menuContainer=t.first)}},hostAttrs:[1,"cu-task-row-menu"],hostVars:2,hostBindings:function(t,e){2&t&&O.Ob("cu-task-row-menu_hidden",e.readOnly)},inputs:{disabled:"disabled",showCustomTypes:"showCustomTypes",canDelete:"canDelete",task:"task",forSubtasks:"forSubtasks",hasCustomType:"hasCustomType",weights:"weights",users:"users",selectedProject:"selectedProject",readOnly:"readOnly"},outputs:{onLoadUsers:"onLoadUsers",onRemoveAdditionalList:"onRemoveAdditionalList",onAction:"onAction"},features:[O.Gb],decls:5,vars:0,consts:[[1,"cu-dropdown"],["menuTrigger",""],["icon","ellipsis",1,"cu-task-row-menu__ellipsis",3,"click"],["menuContainer",""]],template:function(t,e){1&t&&(O.cc(0,"div",0,1),O.cc(2,"div",2),O.qc("click",function(t){return e.showMenu(t)}),O.bc(),O.bc(),O.Xb(3,"div",null,3))},directives:[st.a],styles:[".cu-task-row-menu{width:74px;min-width:74px;flex-shrink:0;display:flex;justify-content:flex-end;align-items:center;padding-right:11px}.cu-task-row-menu_hidden{display:none}.cu-task-row-menu__ellipsis{width:24px;height:24px;padding:4px;cursor:pointer;display:none;fill:#858585}.contrast_high .cu-task-row-menu__ellipsis{fill:#979797}.dark-theme .cu-task-row-menu__ellipsis{fill:#abaeb0}.cu-task-row-menu__ellipsis:hover{fill:#7b68ee;opacity:1}@supports (--theme-main-color:#7b68ee){.cu-task-row-menu__ellipsis:hover{fill:var(--theme-main-color)}}.cu-task-row__container:hover .cu-task-row-menu__ellipsis{display:block}.cu-task-row-menu__ellipsis_subtask{width:20px;height:20px;padding:1px}.cu-task-row-menu .cu-dropdown_open .cu-task-row-menu__ellipsis{fill:#7b68ee;display:block;opacity:1}@supports (--theme-main-color:#7b68ee){.cu-task-row-menu .cu-dropdown_open .cu-task-row-menu__ellipsis{fill:var(--theme-main-color)}}"],encapsulation:2,changeDetection:0}),t})();var Re=a("oB/R"),Fe=a("t7PA"),Me=a("cjvU"),Ee=a("yrdX"),Ue=a("Wbfg"),Le=a("sEhK"),ze=a("kc4K"),Ve=a("keUj"),Ne=a("XaMR"),qe=a("d9+G"),Be=a("qJ3x"),Ge=a("9gfC");let Xe=(()=>{class t{transform(t,e,a){if(e===Z.n.Day){const e=Math.floor(t/1440);return a?1===e?$localize`:@@pipe_time-in-status-display--day-short:${e}:dayCount: d`:$localize`:@@pipe_time-in-status-display--day-short-many:${e}:dayCount: ds`:1===e?$localize`:@@pipe_time-in-status-display--day:${e}:dayCount: day`:$localize`:@@pipe_time-in-status-display--day-many:${e}:dayCount: days`}if(t<60)return a?1===t?$localize`:@@pipe_time-in-status-display--min-short:${t}:minuteCount: m`:$localize`:@@pipe_time-in-status-display--min-short-many:${t}:minuteCount: ms`:1===t?$localize`:@@pipe_time-in-status-display--min:${t}:minuteCount: minute`:$localize`:@@pipe_time-in-status-display--min-many:${t}:minuteCount: minutes`;{const e=Math.floor(t/60);return a?1===e?$localize`:@@pipe_time-in-status-display--hr-short:${e}:hourCount: h`:$localize`:@@pipe_time-in-status-display--hr-short-many:${e}:hourCount: hs`:1===e?$localize`:@@pipe_time-in-status-display--hr:${e}:hourCount: hour`:$localize`:@@pipe_time-in-status-display--hr-many:${e}:hourCount: hours`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=O.Vb({name:"timeInStatusDisplay",type:t,pure:!0}),t})();var We=a("u7Ji"),He=a("sl2P"),Ze=a("ahJy");function Qe(t,e){if(1&t&&(O.ac(0),O.dd(1),O.vc(2,"timeInStatusDisplay"),O.Zb()),2&t){const t=O.uc();O.Ib(1),O.fd(" ",O.yc(2,1,null==t.currentStatus?null:t.currentStatus.total_time.by_minute,t.displayType,!1),"")}}function Ke(t,e){if(1&t&&(O.ac(0),O.dd(1),O.vc(2,"formatDateTime"),O.Zb()),2&t){const t=O.uc();O.Ib(1),O.fd(" ",null!=t.currentStatus&&t.currentStatus.total_time.since?O.wc(2,1,t.currentStatus.total_time.since):"-","")}}function Je(t,e){1&t&&(O.cc(0,"span",12),O.dd(1,"("),O.ac(2),O.gc(3,13),O.Zb(),O.dd(4,")"),O.bc())}function Ye(t,e){if(1&t&&(O.ac(0),O.dd(1),O.vc(2,"timeInStatusDisplay"),O.Zb()),2&t){const t=O.uc().$implicit,e=O.uc(2);O.Ib(1),O.fd(" ",O.yc(2,1,t.total_time.by_minute,e.displayType,!0),"")}}function ta(t,e){if(1&t&&(O.ac(0),O.dd(1),O.vc(2,"formatDateTime"),O.Zb()),2&t){const t=O.uc().$implicit;O.Ib(1),O.fd(" ",t.total_time.since?O.wc(2,1,t.total_time.since):"-","")}}const ea=function(t){return{color:t}};function aa(t,e){if(1&t&&(O.cc(0,"div",8),O.vc(1,"isColorDarkerThan"),O.vc(2,"isLightColor"),O.cc(3,"div",9),O.dd(4),O.bd(5,Je,5,0,"span",10),O.bc(),O.cc(6,"div",11),O.bd(7,Ye,3,5,"ng-container",2),O.bd(8,ta,3,3,"ng-container",2),O.bc(),O.bc()),2&t){const t=e.$implicit,a=O.uc(2);O.Ob("lv-task__status_light_dropdown",!O.xc(1,13,t.color,.86))("status-list__item_closed",t.type===a.StatusTypes.Closed)("status-list__item_open",t.type===a.StatusTypes.Open)("status-list__item_light",O.xc(2,16,t.color,215)),O.Dc("ngStyle",O.Hc(19,ea,t.color)),O.Ib(4),O.fd(" ",t.status," "),O.Ib(1),O.Dc("ngIf",t.deleted),O.Ib(2),O.Dc("ngIf",a.displayType!==a.TimeInStatusDisplayType.Since),O.Ib(1),O.Dc("ngIf",a.displayType===a.TimeInStatusDisplayType.Since)}}function ia(t,e){if(1&t&&(O.cc(0,"div",4),O.Xb(1,"cu-dropdown-list-title",5),O.cc(2,"div",6),O.bd(3,aa,9,21,"div",7),O.bc(),O.bc()),2&t){const t=O.uc();O.Ib(3),O.Dc("ngForOf",t.statusList)("ngForTrackBy",t.trackByStatus)}}const oa=function(){return["bottom","top","left","right","auto"]};let na=(()=>{class t{constructor(){this.onLoadStatuses=new O.o,this.trackByStatus=Object(z.d)("status"),this.StatusTypes=U.g,this.TimeInStatusDisplayType=Z.n}ngOnInit(){}ngOnChanges(t){var e;t.task&&(this.task.status_history?(this.currentStatus=this.task.status_history.find(t=>t.status===this.task.status.status),this.statusList=this.task.status_history):this.currentStatus=this.task.current_status,!this.currentStatus&&(null===(e=this.task)||void 0===e?void 0:e.status)&&(this.currentStatus={status:this.task.status.status,color:this.task.status.color,total_time:{by_minute:0,since:this.task.date_created}}),this.statusList||(this.statusList=[this.currentStatus])),t.statuses&&this.statuses&&this.statusList&&(this.statusList=this.statusList.map(t=>Object.assign(Object.assign({},t),{deleted:!this.statuses.find(e=>t.status===e.status)})))}checkLoadStatuses(){this.statuses||this.onLoadStatuses.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-task-row-time-in-status"]],hostAttrs:[1,"cu-task-row-time-in-status"],inputs:{task:"task",displayType:"displayType",statuses:"statuses"},outputs:{onLoadStatuses:"onLoadStatuses"},features:[O.Gb],decls:5,vars:5,consts:function(){let t,e;return t=$localize`:@@cu-task-row-time-in-status__title_total-time-in-status␟072fff8523dd5bbd8ee6f798ef987b94e9788a60␟6032132177925856192:Total time in Status`,e=$localize`:@@cu-task-row-time-in-status__deleted␟a5b387f5a15b95e339df10fc23526c659a2b6c6f␟588230151780724018:deleted`,[["cuDropdown","",1,"cu-task-row-time-in-status__dropdown",3,"dropdownPlacement","dropdownRepositionFlag","dropdownOpen"],["cuDropdownToggle","",1,"cu-task-row-time-in-status__label"],[4,"ngIf"],["class","status-list",4,"cuDropdownMenu"],[1,"status-list"],["title",t],[1,"status-list__container","cu-task-row-time-in-status__status-list"],["class","status-list__item read-only cu-task-row-time-in-status__status-list-item",3,"ngStyle","lv-task__status_light_dropdown","status-list__item_closed","status-list__item_open","status-list__item_light",4,"ngFor","ngForOf","ngForTrackBy"],[1,"status-list__item","read-only","cu-task-row-time-in-status__status-list-item",3,"ngStyle"],[1,"status-list__status"],["class","cu-task-row-time-in-status__deleted",4,"ngIf"],[1,"cu-task-row-time-in-status__status-time"],[1,"cu-task-row-time-in-status__deleted"],e]},template:function(t,e){1&t&&(O.cc(0,"div",0),O.qc("dropdownOpen",function(){return e.checkLoadStatuses()}),O.cc(1,"div",1),O.bd(2,Qe,3,5,"ng-container",2),O.bd(3,Ke,3,3,"ng-container",2),O.bc(),O.bd(4,ia,4,2,"div",3),O.bc()),2&t&&(O.Dc("dropdownPlacement",O.Gc(4,oa))("dropdownRepositionFlag",e.statusList),O.Ib(2),O.Dc("ngIf",e.displayType!==e.TimeInStatusDisplayType.Since),O.Ib(1),O.Dc("ngIf",e.displayType===e.TimeInStatusDisplayType.Since))},directives:[It.b,Ct.a,l.q,Dt.a,Ge.a,l.p,l.t],pipes:[Xe,We.a,He.a,Ze.a],styles:[".cu-task-row-time-in-status{display:flex}.cu-task-row-time-in-status__dropdown{flex:1;display:flex;justify-content:center;align-items:center;height:100%}.cu-task-row-time-in-status__label{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;flex:1;display:flex;justify-content:center;align-items:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;padding:5px;color:#82868d}.cu-dropdown_open .cu-task-row-time-in-status__label,.cu-task-row-time-in-status__label:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-dropdown_open .cu-task-row-time-in-status__label,.cu-task-row-time-in-status__label:hover{color:var(--theme-main-color)}}.cu-task-row-time-in-status__status-list{padding-top:0}.cu-task-row-time-in-status__status-list-item{pointer-events:none}.cu-task-row-time-in-status__status-list-item:after{top:9px}.cu-task-row-time-in-status__status-time{font:400 12px/1 Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-task-row-time-in-status__status-time{color:#d5d6d7}.cu-task-row-time-in-status__deleted{text-transform:none;display:inline-block;margin-left:5px}"],encapsulation:2,changeDetection:0}),t})();var sa=a("NrhL"),ca=a("Jd55"),ra=a("JJee"),la=a("6d4N"),ua=a("kykW"),da=a("DnG/"),pa=a("oEkI"),ma=a("2WV7"),ha=a("Sn6r");const ga=["customFieldRowTemplate"],ba=["statusRowTemplate"],fa=["idRowTemplate"],ka=["customIdRowTemplate"],_a=["dateTimeRowTemplate"],wa=["datePickerRowTemplate"],va=["timeEstRowTemplate"],ya=["pointsEstRowTemplate"],xa=["timeTrackerRowTemplate"],Ta=["assigneeRowTemplate"],Ia=["createdByRowTemplate"],Ca=["priorityRowTemplate"],Da=["startDueDateRowTemplate"],Sa=["readOnlyDateRowTemplate"],Oa=["checkStatusRowTemplate"],ja=["latestCommentTemplate"],Pa=["commentCountTemplate"],Aa=["multipleListTemplate"],$a=["sprintListTemplate"],Ra=["timeInStatusTemplate"],Fa=["unResolveCommentCountTemplate"],Ma=["prTemplate"],Ea=["linkedTemplate"],Ua=["rollupColumnTemplate"],La=["rowMenu"],za=["container"],Va=["commentDropdownMenu"],Na=["assignedCommentDropdownMenu"],qa=["priorityDropdown"];function Ba(t,e){1&t&&(O.cc(0,"div",37),O.Xb(1,"div",38),O.bc())}function Ga(t,e){1&t&&O.Xb(0,"div",39),2&t&&O.Dc("@loadingEnter",void 0)}function Xa(t,e){if(1&t&&O.Xb(0,"div",40),2&t){const t=O.uc();O.ad("background",(null==t.task||null==t.task.status?null:t.task.status.color)||(null==t.task||null==t.task.status?null:t.task.status.colors)&&(null==t.task||null==t.task.status?null:t.task.status.colors[0]))}}function Wa(t,e){1&t&&O.Xb(0,"div",41)}function Ha(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-toggle",60),O.qc("onChangeSelection",function(e){return O.Uc(t),O.uc(2).onChangeSelection.emit(e)}),O.bc()}if(2&t){const t=O.uc(2);O.Dc("selected",t.selected)("disabled",!t.multiTaskEnabled)}}function Za(t,e){1&t&&O.Xb(0,"div",61),2&t&&(O.Dc("icon","handle4-no-color"),O.Jb("data-handle",!0))}function Qa(t,e){if(1&t){const t=O.dc();O.cc(0,"div",62),O.qc("click",function(){return O.Uc(t),O.uc(2).openSubtasks()}),O.Xb(1,"div",63),O.bc()}if(2&t){const t=O.uc(2);O.Ib(1),O.Ob("cu-task-row__arrow-icon_expanded",t.showSubtasks)}}function Ka(t,e){if(1&t&&O.Xb(0,"div",64),2&t){const t=O.uc(2);O.Dc("cuTooltip",null==t.task||null==t.task.parent_task?null:t.task.parent_task.name)}}function Ja(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-tags",65),O.qc("onLoad",function(e){return O.Uc(t),O.uc(2).onLoadTags.emit(e)})("onChange",function(e){return O.Uc(t),O.uc(2).onEditTask.emit(e)})("onClickTag",function(e){return O.Uc(t),O.uc(2).onClickTag.emit(e)}),O.bc()}if(2&t){const t=O.uc(2);O.Dc("tags",t.tags)("tagsLoadingMap",t.tagsLoadingMap)("value",null==t.task?null:t.task.tags)("taskId",null==t.task?null:t.task.id)("projectId",null==t.task?null:t.task.project_id)("disabled",t.readOnly||t.disabled||!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.add_tags))("manageTags",null==t.task||null==t.task.permissions?null:t.task.permissions.manage_tags)("canAddTag",null==t.task||null==t.task.permissions?null:t.task.permissions.add_tags)("canRemoveTag",null==t.task||null==t.task.permissions?null:t.task.permissions.remove_tags)("canManageTag",null==t.task||null==t.task.permissions?null:t.task.permissions.manage_tags)("onlyDeleteIfOwner",t.onlyDeleteIfOwner)("canDelete",t.canDeletePermission)("userId",null==t.meUser?null:t.meUser.id)("projectAccess",(null==t.task||null==t.task.project?null:t.task.project.access)&&(null==t.task||null==t.task.project?null:t.task.project.permission_level)&&(null==t.task||null==t.task.project?null:t.task.project.permission_level)>t.UserPermission.COMMENT)("readOnly",t.readOnly||!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.remove_tags))("showFilter",!0)}}function Ya(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-tags",66),O.qc("onLoad",function(e){O.Uc(t);const a=O.uc(2);return a.onLoadTags.emit(e),a.updateHoverState(!0)})("onClose",function(e){O.Uc(t);const a=O.uc(2);return a.updateHoverState(!1,e),a.firstTagComponentOpen=!1})("onChange",function(e){return O.Uc(t),O.uc(2).onEditTask.emit(e)})("onClickTag",function(e){return O.Uc(t),O.uc(2).onClickTag.emit(e)})("onOpen",function(){return O.Uc(t),O.uc(2).firstTagComponentOpen=!0}),O.bc()}if(2&t){const t=O.uc(2);O.Dc("tags",t.tags)("value",null==t.task?null:t.task.tags)("taskId",null==t.task?null:t.task.id)("projectId",null==t.task?null:t.task.project_id)("disabled",t.readOnly||t.disabled||!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.add_tags))("manageTags",null==t.task||null==t.task.permissions?null:t.task.permissions.manage_tags)("canAddTag",null==t.task||null==t.task.permissions?null:t.task.permissions.add_tags)("canRemoveTag",null==t.task||null==t.task.permissions?null:t.task.permissions.remove_tags)("canManageTag",null==t.task||null==t.task.permissions?null:t.task.permissions.manage_tags)("projectAccess",(null==t.task||null==t.task.project?null:t.task.project.access)&&(null==t.task||null==t.task.project?null:t.task.project.permission_level)&&(null==t.task||null==t.task.project?null:t.task.project.permission_level)>t.UserPermission.COMMENT)("onlyDeleteIfOwner",t.onlyDeleteIfOwner)("canDelete",t.canDeletePermission)("userId",null==t.meUser?null:t.meUser.id)("readOnly",t.readOnly||!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.remove_tags))("showFilter",!0)}}const ti=function(t,e,a,i,o,n){return{dueDate:t,startDate:e,dueDateTime:a,startDateTime:i,closedDate:o,doneDate:n}},ei=function(t,e){return{task:t,statuses:e}};function ai(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-recurring-date-picker",67),O.qc("onChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.Date,data:e})})("onRecurringChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.Recurring,data:e})})("onRecurringLegacyChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.RecurringLegacy,data:e})})("click",function(e){return O.Uc(t),O.uc(2).preventDefault(e)})("onRecurringLegacyOpen",function(){return O.Uc(t),O.uc(2).recurringLegacyOpen()})("onOpen",function(){return O.Uc(t),O.uc(2).onToggleDatePicker.emit(!0)})("onClose",function(){return O.Uc(t),O.uc(2).onToggleDatePicker.emit(!1)}),O.vc(1,"startOfRecurring"),O.vc(2,"recurringToText"),O.vc(3,"taskRecurringToOptions"),O.vc(4,"taskRecurringToOptions"),O.bc()}if(2&t){const t=O.uc(2);O.Dc("disabled",t.readOnly&&!(null!=t.limitedEdit&&t.limitedEdit.dueDate)||t.disabled||!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.change_due_date))("tooltip",t.isSharingApp?null:t.commonStringsService.noPermissionToChangeText)("recurringTooltip",null!=t.task&&t.task.legacy_recurring||null==t.task||!t.task.recurring_settings||(null==t.task||null==t.task.recurring_settings?null:t.task.recurring_settings.last_task)===(null==t.task?null:t.task.id)?null:O.wc(1,16,O.wc(2,18,O.wc(3,20,null==t.task?null:t.task.recurring_settings))))("task",t.task)("statuses",t.statuses||(null==t.task?null:t.task.available_statuses))("taskDone",(null==t.task||null==t.task.status?null:t.task.status.type)===t.StatusTypes.Done||(null==t.task||null==t.task.status?null:t.task.status.type)===t.StatusTypes.Closed)("notOverdue",(null==t.task||null==t.task.status?null:t.task.status.type)===t.StatusTypes.Done&&"Overdue"===(null==t.groupData?null:t.groupData.due_date))("dates",O.Mc(24,ti,null==t.task?null:t.task.due_date,null==t.task?null:t.task.start_date,null==t.task?null:t.task.due_date_time,null==t.task?null:t.task.start_date_time,null==t.task?null:t.task.date_closed,null==t.task?null:t.task.date_done))("recurringOptions",O.wc(4,22,null==t.task?null:t.task.recurring_settings))("recurringLegacyOptions",null==t.task?null:t.task.recur)("allowLegacyRecurring",!0)("legacyRecurring",null==t.task?null:t.task.legacy_recurring)("recurringLegacyData",O.Ic(31,ei,t.task,t.statuses))("dateFormat",t.dateFormat)("militaryTime",t.militaryTime)("showOnlyIcon",!0)}}function ii(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-assigned-comments",68),O.qc("onChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.AssignedComment,data:e})}),O.bc()}if(2&t){const t=O.uc(2);O.Dc("task",t.task)("disabled",t.disabled)}}function oi(t,e){}const ni=function(t){return{col:t}};function si(t,e){if(1&t&&(O.ac(0),O.bd(1,oi,0,0,"ng-template",69),O.Zb()),2&t){const t=e.$implicit;O.uc(2);const a=O.Rc(13);O.Ib(1),O.Dc("ngTemplateOutlet",t.template||a)("ngTemplateOutletContext",O.Hc(2,ni,t))}}function ci(t,e){if(1&t&&(O.cc(0,"div",70),O.dd(1),O.bc()),2&t){const t=O.uc(2);O.Ib(1),O.fd(" ",t.task[t.groupBy+"_orderindex"]||t.task.field_orderindex," ")}}function ri(t,e){if(1&t&&(O.ac(0),O.Yb(1,71),O.Zb()),2&t){O.uc(2);const t=O.Rc(49);O.Ib(1),O.Dc("ngTemplateOutlet",t)}}function li(t,e){if(1&t){const t=O.dc();O.cc(0,"div",72),O.cc(1,"div",73),O.qc("click",function(){return O.Uc(t),O.uc(2).onRemoveTask.emit()}),O.bc(),O.bc()}if(2&t){const t=O.uc(2);O.Ib(1),O.Dc("icon","cu2-close")("cuTooltip",t.task.relationships?void 0:t.unlinkTaskText)}}function ui(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-menu",74,75),O.qc("onAction",function(e){return O.Uc(t),O.uc(2).quickAction(e.action,e.data,e.fromPoint)})("onLoadUsers",function(){return O.Uc(t),O.uc(2).onLoadUsers.emit()})("onRemoveAdditionalList",function(e){return O.Uc(t),O.uc(2).removeTasksFromAnotherList(e)}),O.bc()}if(2&t){const t=O.uc(2);O.Dc("disabled",t.disabled)("task",t.task)("hasCustomType",(null==t.features||null==t.features.milestones?null:t.features.milestones.enabled)&&!(null==t.task||!t.task.custom_type))("showCustomTypes",null==t.features||null==t.features.milestones?null:t.features.milestones.enabled)("canDelete",t.canDelete)("forSubtasks",!(null==t.task||!t.task.parent))("weights",t.weights)("users",t.users)("readOnly",t.readOnly)("selectedProject",t.parentSpace)}}const di=function(){return{m:!0}};function pi(t,e){if(1&t){const t=O.dc();O.cc(0,"div",42),O.qc("hoverKeyDown",function(){return O.Uc(t),O.uc().toggleMe()}),O.bd(1,Ha,1,2,"cu-task-row-toggle",43),O.bd(2,Za,1,2,"div",44),O.cc(3,"div",45),O.bd(4,Qa,2,2,"div",46),O.cc(5,"cu-task-row-status",47),O.qc("onLoad",function(){return O.Uc(t),O.uc().onLoadStatuses.emit()})("onChange",function(e){O.Uc(t);const a=O.uc();return a.onEditTask.emit({action:a.EditActions.Status,data:e})})("onToggle",function(){return O.Uc(t),O.uc().toggleStatus()})("onOpenSettings",function(){return O.Uc(t),O.uc().openStatusSettings()}),O.vc(6,"uppercase"),O.bc(),O.bd(7,Ka,1,1,"div",48),O.cc(8,"cu-editable",49),O.qc("onIndent",function(e){return O.Uc(t),O.uc().indent(e)})("onChange",function(e){return O.Uc(t),O.uc().rename(e)})("onCancel",function(){return O.Uc(t),O.uc().setEditing(!1)}),O.cc(9,"cu-task-row-main",50),O.qc("onOpenTask",function(e){return O.Uc(t),O.uc().onOpenTask.emit(e)})("onOpenParentTask",function(e){return O.Uc(t),O.uc().onOpenParentTask.emit(e)})("onToggleSubtasks",function(e){return O.Uc(t),O.uc().onToggleSubtasks.emit(e)})("onRename",function(){return O.Uc(t),O.uc().setEditing(!0)})("onOpenDependencyModal",function(e){return O.Uc(t),O.uc().onOpenDependencyModal.emit(e)})("toggleCreateSubtask",function(e){return O.Uc(t),O.uc().toggleCreateSubtask.emit(e)}),O.bd(10,Ja,1,16,"cu-task-row-tags",51),O.bd(11,Ya,1,15,"cu-task-row-tags",52),O.bd(12,ai,5,34,"cu-task-row-recurring-date-picker",53),O.bc(),O.bc(),O.bd(13,ii,1,2,"cu-task-row-assigned-comments",54),O.bd(14,si,2,4,"ng-container",55),O.bc(),O.bd(15,ci,2,1,"div",56),O.bd(16,ri,2,1,"ng-container",57),O.bd(17,li,2,2,"div",58),O.bd(18,ui,2,10,"cu-task-row-menu",59),O.bc()}if(2&t){const t=O.uc(),e=O.Rc(11),a=O.Rc(9);O.Ob("cu-task-row__container-simple",(!(null!=t.task&&t.task.parent)||t.showSubtasksType===t.DataViewSubtasks.StandAlone)&&(null==t.task?null:t.task.simple_statuses)||t.parentIsSimpleStatus),O.Dc("cuHoverKeyDown",O.Gc(60,di)),O.Jb("data-subcategory",null==t.task||null==t.task.subcategory?null:t.task.subcategory.id)("data-category",null==t.task||null==t.task.category?null:t.task.category.id)("data-task",null==t.task?null:t.task.id)("id","task-container-"+(null==t.task?null:t.task.id)),O.Ib(1),O.Dc("ngIf",!t.isSharingApp),O.Ib(1),O.Dc("ngIf",null==t.task||null==t.task.permissions?null:t.task.permissions.move_task),O.Ib(1),O.ad("padding-left",t.paddingLeft),O.Ib(1),O.Dc("ngIf",t.showSubtasksType!==t.DataViewSubtasks.StandAlone&&(t.allowClosed&&t.task.subtasks_count>0||!t.allowClosed&&t.task.subtasks_open_count>0)&&!t.readOnly),O.Ib(1),O.Dc("status",null==t.task?null:t.task.status)("hasCustomType",(null==t.features||null==t.features.milestones?null:t.features.milestones.enabled)&&!(null==t.task||!t.task.custom_type)&&!t.displayCustomType)("isSubtask",null==t.task?null:t.task.parent)("itemClass",t.statusStyleType)("statuses",t.statuses)("isSimpleStatus",(null==t.task?null:t.task.simple_statuses)||(null!=t.task&&t.task.parent?t.parentIsSimpleStatus:null==t.task?null:t.task.simple_statuses))("parentIsSimpleStatus",t.parentIsSimpleStatus)("showSettings",(null==t.task||null==t.task.permissions?null:t.task.permissions.manage_statuses)&&!(null!=t.limitedEdit&&t.limitedEdit.status)&&!t.isSharingApp)("disabled",t.readOnly&&!(null!=t.limitedEdit&&t.limitedEdit.status)||!!t.disabled||!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.change_status)||t.isOffline||t.isSharingApp)("cuTooltip",t.isSharingApp||t.readOnly&&(null==t.limitedEdit||!t.limitedEdit.status)?null:(null!=t.task&&t.task.parent||null!=t.task&&t.task.simple_statuses)&&t.parentIsSimpleStatus?(null==t.task||null==t.task.status?null:t.task.status.type)===t.StatusTypes.Closed?t.commonStringsService.setToOpenText:t.commonStringsService.setToClosedText:O.wc(6,58,null==t.task||null==t.task.status?null:t.task.status.status))("tooltipModifier","tooltip_closer"),O.Ib(2),O.Dc("ngIf",null==t.task?null:t.task.parent),O.Ib(1),O.Dc("text",null==t.task?null:t.task.name)("editing",t.editing)("autosize",!1)("listenForIndents",!0)("preventUpdateSameValue",!0),O.Ib(1),O.Dc("disabled",t.disabled)("readOnly",t.readOnly)("dropdownOpen",t.dropdownOpen)("task",t.task)("displayCustomType",t.displayCustomType)("tasksHovered",t.tasksHovered)("breadcrumbs",t.breadcrumbs)("hideCreateSubtask",t.hideCreateSubtask||t.readOnly||t.showSubtasksType===t.DataViewSubtasks.StandAlone)("hasCustomType",(null==t.features||null==t.features.milestones?null:t.features.milestones.enabled)&&!(null==t.task||!t.task.custom_type))("dontShowParentTaskEver",t.dontShowParentTaskEver)("viewPreferences",t.viewPreferences)("showSubtasks",t.showSubtasks)("showClosedSubtasks",t.showClosedSubtasks)("parentSpace",t.parentSpace)("allowClosed",t.allowClosed)("publicViewData",t.publicViewData)("taskNameExtraTemplate",t.taskNameExtraTemplate),O.Ib(1),O.Dc("ngIf",(null==t.features||null==t.features.tags?null:t.features.tags.enabled)&&(null==t.task||null==t.task.tags?null:t.task.tags.length)),O.Ib(1),O.Dc("ngIf",(null==t.features||null==t.features.tags?null:t.features.tags.enabled)&&!(null!=t.task&&null!=t.task.tags&&t.task.tags.length)||t.firstTagComponentOpen),O.Ib(1),O.Dc("ngIf",(null==t.task?null:t.task.recurring_settings)||(null==t.task||null==t.task.recur?null:t.task.recur.recurring)&&(null==t.task?null:t.task.legacy_recurring)),O.Ib(1),O.Dc("ngIf",(null==t.task?null:t.task.assigned_comments_count)&&!t.publicViewData),O.Ib(1),O.Dc("ngForOf",t.rowContentColumns)("ngForTrackBy",t.trackByName),O.Ib(1),O.Dc("ngIf",t.debugOrderIndexes&&t.groupBy),O.Ib(1),O.Dc("ngIf",!t.readOnly||t.showHeader)("ngIfElse",e),O.Ib(1),O.Dc("ngIf",t.showRemove),O.Ib(1),O.Dc("ngIf",t.showMenu&&!t.publicViewData)("ngIfElse",a)}}function mi(t,e){1&t&&(O.ac(0),O.Bc(1),O.Zb())}function hi(t,e){1&t&&O.Xb(0,"div"),2&t&&O.ad("width",74,"px")}function gi(t,e){if(1&t&&O.bd(0,hi,1,2,"div",76),2&t){const t=O.uc();O.Dc("ngIf",!t.readOnly||t.showMenuPlaceholder)}}function bi(t,e){if(1&t){const t=O.dc();O.cc(0,"div",80),O.qc("click",function(){return O.Uc(t),O.uc(3).remove()}),O.bc()}}function fi(t,e){if(1&t&&(O.cc(0,"div",78),O.Yb(1,71),O.bd(2,bi,1,0,"div",79),O.bc()),2&t){const t=O.uc(2),e=O.Rc(49);O.Ob("cu-task-row__actions-inbox-dropdown-open",t.inboxDropdownOpen),O.Ib(1),O.Dc("ngTemplateOutlet",e),O.Ib(1),O.Dc("ngIf",t.showDeleteButton&&!t.disabled&&(null==t.task||null==t.task.permissions?null:t.task.permissions.delete))}}function ki(t,e){if(1&t&&O.bd(0,fi,3,4,"div",77),2&t){const t=O.uc();O.Dc("ngIf",!t.isOffline)}}function _i(t,e){}function wi(t,e){1&t&&O.Xb(0,"div",81),2&t&&O.ad("width",e.col.width,"px")}function vi(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-custom-field",86),O.qc("fieldValueChange",function(e){O.Uc(t);const a=O.uc(2).col;return O.uc().setCustomFieldValue(a,e)})("fieldSaveSuccess",function(){O.Uc(t);const e=O.uc(2).col;return O.uc().onCustomFieldValueChanged.emit({column:e})})("fieldDeleteSuccess",function(){O.Uc(t);const e=O.uc(2).col;return O.uc().onCustomFieldValueChanged.emit({column:e})})("mousedown",function(t){return t.stopPropagation()}),O.bc()}if(2&t){const t=O.uc(2).col,e=O.uc();O.Dc("field",e.taskCustomFieldsMap[t.customField.id])("forListView",!0)("readOnly",e.readOnly)("task",e.task)("team",e.team)("permissions",null==e.task?null:e.task.permissions)("allCustomFields",e.allCustomFields)("useRollups",!e.dontShowRollup)}}function yi(t,e){1&t&&O.Xb(0,"div",87)}const xi=function(t){return{"cu-task-row__custom-field_fadeout":t}};function Ti(t,e){if(1&t&&(O.cc(0,"div",83),O.bd(1,vi,1,8,"cu-custom-field",84),O.bd(2,yi,1,0,"div",85),O.bc()),2&t){const t=O.uc().col;O.Mb("cu-task-row__custom-field cu-task-row__custom-field_",t.customField.type,""),O.ad("width",t.width,"px"),O.Dc("ngClass",O.Hc(8,xi,"users"===t.customField.type)),O.Ib(1),O.Dc("ngIf","visible"===t.state),O.Ib(1),O.Dc("ngIf","stub"===t.state)}}function Ii(t,e){if(1&t&&O.bd(0,Ti,3,10,"div",82),2&t){const t=e.col,a=O.uc();O.Dc("ngIf",t.customField&&a.taskCustomFieldsMap[t.customField.id])}}function Ci(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-status",88),O.qc("onLoad",function(){return O.Uc(t),O.uc().onLoadStatuses.emit()})("onChange",function(e){O.Uc(t);const a=O.uc();return a.onEditTask.emit({action:a.EditActions.Status,data:e})})("onToggle",function(){return O.Uc(t),O.uc().toggleStatus()})("onOpenSettings",function(){return O.Uc(t),O.uc().openStatusSettings()}),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("itemClass","cu-task-row-status_col")("hasCustomType",(null==a.features||null==a.features.milestones?null:a.features.milestones.enabled)&&!(null==a.task||!a.task.custom_type)&&!a.displayCustomType)("status",null==a.task?null:a.task.status)("statuses",a.statuses)("isSimpleStatus",null!=a.task&&a.task.parent?a.parentIsSimpleStatus:null==a.task?null:a.task.simple_statuses)("showSettings",(null==a.task||null==a.task.permissions?null:a.task.permissions.manage_statuses)&&!(null!=a.limitedEdit&&a.limitedEdit.status))("showText",!0)("disabled",a.readOnly&&!(null!=a.limitedEdit&&a.limitedEdit.status)||a.disabled||!(null!=a.task&&null!=a.task.permissions&&a.task.permissions.change_status))("colorBackground",!0)}}function Di(t,e){1&t&&(O.ac(0),O.gc(1,94),O.Zb())}function Si(t,e){if(1&t&&O.dd(0),2&t){const t=O.uc(3);O.fd(" # ",null==t.task?null:t.task.id," ")}}function Oi(t,e){if(1&t&&(O.cc(0,"div",92),O.bd(1,Di,2,0,"ng-container",57),O.bd(2,Si,1,1,"ng-template",null,93,O.cd),O.bc()),2&t){const t=O.Rc(3);O.uc();const e=O.Rc(1);O.Ib(1),O.Dc("ngIf",e.copied)("ngIfElse",t)}}function ji(t,e){if(1&t){const t=O.dc();O.cc(0,"div",89,90),O.qc("cbOnSuccess",function(){return O.Uc(t),O.Rc(1).setCopied()}),O.bd(2,Oi,4,2,"div",91),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("cbContent","#"+(null==a.task?null:a.task.id))("timeout",2e3),O.Ib(2),O.Dc("ngIf",!a.disabled||a.publicViewData)}}function Pi(t,e){1&t&&(O.ac(0),O.gc(1,98),O.Zb())}function Ai(t,e){if(1&t&&O.dd(0),2&t){const t=O.uc(3);O.fd(" ",(null==t.task?null:t.task.custom_id)||"-"," ")}}function $i(t,e){if(1&t&&(O.cc(0,"div",96),O.bd(1,Pi,2,0,"ng-container",57),O.bd(2,Ai,1,1,"ng-template",null,97,O.cd),O.bc()),2&t){const t=O.Rc(3);O.uc();const e=O.Rc(1),a=O.uc();O.Dc("cuTooltip",null==a.parentSpace||!a.parentSpace.project_prefix||null!=a.task&&a.task.custom_id?a.taskRowStringsService.copyCustomTaskIdText:a.taskRowStringsService.customTaskIdNotYetCreatedText),O.Ib(1),O.Dc("ngIf",e.copied)("ngIfElse",t)}}function Ri(t,e){if(1&t){const t=O.dc();O.cc(0,"div",89,90),O.qc("cbOnSuccess",function(){return O.Uc(t),O.Rc(1).setCopied()}),O.bd(2,$i,4,3,"div",95),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px")("pointer-events",null!=a.task&&a.task.custom_id?"all":"none"),O.Dc("cbContent",null==a.task?null:a.task.custom_id)("timeout",2e3),O.Ib(2),O.Dc("ngIf",!a.disabled||a.publicViewData)}}function Fi(t,e){if(1&t&&(O.cc(0,"div",99),O.cc(1,"div",100),O.Xb(2,"cu-datetime",101),O.bc(),O.bc()),2&t){const t=e.col,a=O.uc();O.ad("width",t.width+"px"),O.Ib(2),O.Dc("date",a.task[t.field])("noRelational",!0)("noHighlight",!0)("showOnlyTimeForToday","dateUpdated"===t.name)}}function Mi(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-recurring-date-picker",104),O.qc("onChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.Date,data:e})})("onRecurringChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.Recurring,data:e})})("onRecurringLegacyChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.RecurringLegacy,data:e})})("onRecurringLegacyOpen",function(){return O.Uc(t),O.uc(2).recurringLegacyOpen()})("onOpen",function(){return O.Uc(t),O.uc(2).onToggleDatePicker.emit(!0)})("onClose",function(){return O.Uc(t),O.uc(2).onToggleDatePicker.emit(!1)}),O.vc(1,"startOfRecurring"),O.vc(2,"recurringToText"),O.vc(3,"taskRecurringToOptions"),O.vc(4,"taskRecurringToOptions"),O.bc()}if(2&t){const t=O.uc(),e=t.col,a=t.dualDate,i=t.hideDate,o=O.uc();O.ad("width",e.width,"px"),O.Dc("field",e.name)("disabled",o.readOnly&&!(null!=o.limitedEdit&&o.limitedEdit.dueDate)||o.disabled||!(null!=o.task&&null!=o.task.permissions&&o.task.permissions.change_due_date))("tooltip",null!=o.task&&null!=o.task.permissions&&o.task.permissions.change_due_date?null!=o.extraData&&o.extraData.dateOnlyIcon?o.taskRowStringsService.changeDateText:"dueDate"===e.name?o.commonStringsService.dueDateText:o.commonStringsService.startDateText:o.isSharingApp?null:o.commonStringsService.noPermissionToChangeText)("recurringTooltip",null!=o.task&&o.task.legacy_recurring||null==o.task||!o.task.recurring_settings||(null==o.task||null==o.task.recurring_settings?null:o.task.recurring_settings.last_task)===(null==o.task?null:o.task.id)?null:O.wc(1,23,O.wc(2,25,O.wc(3,27,null==o.task?null:o.task.recurring_settings))))("notOverdue",(null==o.task||null==o.task.status?null:o.task.status.type)===o.StatusTypes.Done&&"Overdue"===(null==o.groupData?null:o.groupData.due_date))("taskDone",(null==o.task||null==o.task.status?null:o.task.status.type)===o.StatusTypes.Done||(null==o.task||null==o.task.status?null:o.task.status.type)===o.StatusTypes.Closed)("dates",O.Mc(31,ti,null==o.task?null:o.task.due_date,null==o.task?null:o.task.start_date,null==o.task?null:o.task.due_date_time,null==o.task?null:o.task.start_date_time,null==o.task?null:o.task.date_closed,null==o.task?null:o.task.date_done))("task",o.task)("statuses",o.statuses||(null==o.task?null:o.task.available_statuses))("recurringOptions",O.wc(4,29,null==o.task?null:o.task.recurring_settings))("recurringLegacyOptions",null==o.task?null:o.task.recur)("allowLegacyRecurring",!0)("legacyRecurring",null==o.task?null:o.task.legacy_recurring)("recurringLegacyData",O.Ic(38,ei,o.task,o.statuses))("dateConflict",o.dateConflict)("dateFormat",o.dateFormat)("militaryTime",o.militaryTime)("dualDate",a)("hideDate",i)("datePickerIcon",null==o.extraData?null:o.extraData.dateIcon)("showOnlyIcon",null==o.extraData?null:o.extraData.dateOnlyIcon)}}function Ei(t,e){if(1&t&&O.Xb(0,"div",105),2&t){const t=O.uc().col;O.ad("width",t.width,"px")}}function Ui(t,e){if(1&t&&(O.bd(0,Mi,5,41,"cu-task-row-recurring-date-picker",102),O.bd(1,Ei,1,2,"div",103)),2&t){const t=e.col;O.Dc("ngIf","stub"!==t.state),O.Ib(1),O.Dc("ngIf","stub"===t.state)}}function Li(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-time-tracker",108),O.qc("onChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.TimeTrack,data:e})})("onTimeTrackerAction",function(e){return O.Uc(t),O.uc(2).onTimeTrackerAction.emit(e)})("startTrialFromTimeTracking",function(){return O.Uc(t),O.uc(2).startTrialFromTimeTracking.emit()}),O.bc()}if(2&t){const t=O.uc().col,e=O.uc();O.ad("width",t.width,"px"),O.Dc("dontShowRollup",e.dontShowRollup)("disabled",e.readOnly||e.disabled)("parentSpace",e.parentSpace)("rollups",e.rollups)("user",e.meUser)("team",e.team)("timeTrackerTaskData",e.timeTrackerTaskData)("task",e.task)}}function zi(t,e){if(1&t&&O.Xb(0,"div",109),2&t){const t=O.uc().col;O.ad("width",t.width,"px")}}function Vi(t,e){if(1&t&&(O.bd(0,Li,1,10,"cu-task-row-time-tracker",106),O.bd(1,zi,1,2,"div",107)),2&t){const t=e.col;O.Dc("ngIf","stub"!==t.state),O.Ib(1),O.Dc("ngIf","stub"===t.state)}}const Ni=function(t){return{"cu-task-row__time-estimate_disabled":t}};function qi(t,e){if(1&t){const t=O.dc();O.cc(0,"div",112),O.cc(1,"cu-task-time-estimates",113),O.qc("onTimeEstimateAction",function(e){return O.Uc(t),O.uc(2).onTimeEstimateAction.emit(e)}),O.bc(),O.bc()}if(2&t){const t=O.uc().col,e=O.uc();O.ad("width",t.width,"px"),O.Dc("ngClass",O.Hc(14,Ni,!(null!=e.task&&null!=e.task.permissions&&e.task.permissions.change_time_estimate))),O.Ib(1),O.Dc("permissions",e.task.permissions)("task",e.task)("team",e.team)("user",e.meUser)("header",!1)("rollup",null==e.rollups?null:e.rollups.estimates)("dontShowRollup",e.dontShowRollup)("showIndiviudalEstimates",e.showIndiviudalEstimates)("timeEstimatesTooltip",null!=e.task&&null!=e.task.permissions&&e.task.permissions.change_time_estimate?e.commonStringsService.estimateTaskText:e.isSharingApp?null:e.commonStringsService.noPermissionToChangeText)("timeEstimateData",e.timeEstimateData)("limitedEdit",e.readOnly&&!(null!=e.limitedEdit&&e.limitedEdit.timeEstimate))}}function Bi(t,e){if(1&t&&O.Xb(0,"div",114),2&t){const t=O.uc().col;O.ad("width",t.width,"px")}}function Gi(t,e){if(1&t&&(O.bd(0,qi,2,16,"div",110),O.bd(1,Bi,1,2,"div",111)),2&t){const t=e.col;O.Dc("ngIf","stub"!==t.state),O.Ib(1),O.Dc("ngIf","stub"===t.state)}}function Xi(t,e){if(1&t&&(O.cc(0,"div",112),O.Xb(1,"cu-task-points-estimates",115),O.bc()),2&t){const t=O.uc().col,e=O.uc();O.ad("width",t.width,"px"),O.Dc("ngClass",O.Hc(7,Ni,!(null!=e.task&&null!=e.task.permissions&&e.task.permissions.change_points_estimate))),O.Ib(1),O.Dc("dontShowRollup",e.dontShowRollup)("pointsBoxUser",e.pointsBoxUser)("task",e.task)("showUnit",!1)}}function Wi(t,e){if(1&t&&O.Xb(0,"div",114),2&t){const t=O.uc().col;O.ad("width",t.width,"px")}}function Hi(t,e){if(1&t&&(O.bd(0,Xi,2,9,"div",110),O.bd(1,Wi,1,2,"div",111)),2&t){const t=e.col;O.Dc("ngIf","stub"!==t.state),O.Ib(1),O.Dc("ngIf","stub"===t.state)}}function Zi(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-assignee",116),O.qc("onLoad",function(){return O.Uc(t),O.uc().onLoadUsers.emit()})("onChange",function(e){O.Uc(t);const a=O.uc();return a.onEditTask.emit({action:a.EditActions.Assignee,data:e})})("onUserGroupsChange",function(e){O.Uc(t);const a=O.uc();return a.onEditTask.emit({action:a.EditActions.GroupAssignee,data:e})}),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("disabled",a.readOnly&&!(null!=a.limitedEdit&&a.limitedEdit.assignee)||a.disabled||!a.canChangeAssignee)("multipleAssignees",null==a.features||null==a.features.multiple_assignees?null:a.features.multiple_assignees.enabled)("assignees",null==a.task?null:a.task.assignees)("groupAssignees",null==a.task?null:a.task.group_assignees)("weights",a.weights)("userGroups",a.userGroups)("users",a.users)("colWidth",t.width)("tooltip",a.canChangeAssignee?a.commonStringsService.assignText:a.isSharingApp?null:a.commonStringsService.noPermissionToChangeText)("assigneePickerIcon",null==a.extraData?null:a.extraData.assigneeIcon)("task",a.task)("subcategory",null==a.task?null:a.task.subcategory)}}const Qi=function(t){return[t]};function Ki(t,e){if(1&t&&O.Xb(0,"cu-task-row-assignee",117),2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("disabled",!0)("multipleAssignees",!1)("assignees",null!=a.task&&a.task.creator?O.Hc(9,Qi,null==a.task?null:a.task.creator):null)("users",a.users)("colWidth",t.width)("tooltip",null)("assigneePickerIcon",null==a.extraData?null:a.extraData.assigneeIcon)}}const Ji=function(t){return{"cu-task-row__priority_empty":t}};function Yi(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-priority-list-dropdown",120,121),O.qc("onChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.Priority,data:e})}),O.cc(2,"cu-priorities-view",122),O.qc("removePriority",function(){return O.Uc(t),O.uc(2).removePriority()}),O.bc(),O.bc()}if(2&t){const t=O.uc().col,e=O.uc();O.ad("width",t.width,"px"),O.Dc("ngClass",O.Hc(8,Ji,!e.task.priority))("disabled",e.readOnly&&!(null!=e.limitedEdit&&e.limitedEdit.priority)||e.disabled||!(null!=e.task&&null!=e.task.permissions&&e.task.permissions.change_priority))("prioritySelected",O.Hc(10,Qi,e.task.priority)),O.Ib(2),O.Dc("priority",e.task.priority)("remove",!e.isSharingApp)("prioritiesTooltip",null!=e.task&&null!=e.task.permissions&&e.task.permissions.change_priority?e.commonStringsService.setPriorityText:e.isSharingApp?null:e.commonStringsService.noPermissionToChangeText)}}function to(t,e){if(1&t&&O.Xb(0,"div",123),2&t){const t=O.uc().col;O.ad("width",t.width,"px")}}function eo(t,e){if(1&t&&(O.bd(0,Yi,3,12,"cu-priority-list-dropdown",118),O.bd(1,to,1,2,"div",119)),2&t){const t=e.col;O.Dc("ngIf","stub"!==t.state),O.Ib(1),O.Dc("ngIf","stub"===t.state)}}function ao(t,e){}const io=function(t,e){return{col:t,dualDate:!0,hideDate:e}};function oo(t,e){if(1&t&&O.bd(0,ao,0,0,"ng-template",69),2&t){const t=e.col,a=O.uc(),i=O.Rc(27);O.Dc("ngTemplateOutlet",i)("ngTemplateOutletContext",O.Ic(2,io,t,null==a.extraData?null:a.extraData.hideDate))}}const no=function(t){return{"cu-task-row-date-picker__dual-dates_priority":t}};function so(t,e){if(1&t&&(O.cc(0,"div",124),O.vc(1,"dateColor"),O.dd(2),O.vc(3,"startDueDatesFormat"),O.bc()),2&t){const t=e.dates,a=e.hideDate,i=O.uc();O.ad("color",O.xc(1,4,t.dueDate,(null==t?null:t.closedDate)||(null==t?null:t.doneDate))),O.Dc("ngClass",O.Hc(12,no,i.task.priority&&i.readOnly)),O.Ib(2),O.fd(" ",O.zc(3,7,t,a,i.dateFormat,i.militaryTime)," ")}}function co(t,e){}const ro=function(t,e,a){return{col:t,dates:e,hideDate:a}};function lo(t,e){if(1&t&&O.bd(0,co,0,0,"ng-template",69),2&t){const t=e.col,a=O.uc(),i=O.Rc(43);O.Dc("ngTemplateOutlet",i)("ngTemplateOutletContext",O.Jc(9,ro,t,O.Mc(2,ti,null==a.task?null:a.task.due_date,null==a.task?null:a.task.start_date,null==a.task?null:a.task.due_date_time,null==a.task?null:a.task.start_date_time,null==a.task?null:a.task.date_closed,null==a.task?null:a.task.date_done),null==a.extraData?null:a.extraData.hideDate))}}function uo(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-status",126),O.qc("onLoad",function(){return O.Uc(t),O.uc(2).onLoadStatuses.emit()})("onChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.Status,data:e})})("onToggle",function(){return O.Uc(t),O.uc(2).toggleStatus()})("onOpenSettings",function(){return O.Uc(t),O.uc(2).openStatusSettings()})("onDropdownOpen",function(){return O.Uc(t),O.uc(2).inboxDropdownOpen=!0})("onDropdownClose",function(){return O.Uc(t),O.uc(2).inboxDropdownOpen=!1}),O.bc()}if(2&t){const t=O.uc(2);O.Dc("status",null==t.task?null:t.task.status)("itemClass","cu-task-row-status_checkmark")("statuses",t.statuses)("hasCustomType",(null==t.features||null==t.features.milestones?null:t.features.milestones.enabled)&&!(null==t.task||!t.task.custom_type)&&!t.displayCustomType)("isSimpleStatus",!1)("showCheckmark",!0)("parentIsSimpleStatus",t.parentIsSimpleStatus)("showSettings",!1)("disabled",t.readOnly&&!(null!=t.limitedEdit&&t.limitedEdit.status)||t.disabled||!(null!=t.task&&null!=t.task.permissions&&t.task.permissions.change_status))}}function po(t,e){if(1&t&&O.bd(0,uo,1,9,"cu-task-row-status",125),2&t){const t=O.uc();O.Dc("ngIf",!(t.disabled||null!=t.task&&t.task.simple_statuses))}}function mo(t,e){}function ho(t,e){if(1&t&&(O.ac(0),O.bd(1,mo,0,0,"ng-template",69),O.Zb()),2&t){const t=e.$implicit;O.uc(2);const a=O.Rc(13);O.Ib(1),O.Dc("ngTemplateOutlet",t.template||a)("ngTemplateOutletContext",O.Hc(2,ni,t))}}function go(t,e){if(1&t&&O.bd(0,ho,2,4,"ng-container",55),2&t){const t=O.uc();O.Dc("ngForOf",t.rowColumns)("ngForTrackBy",t.trackByName)}}function bo(t,e){if(1&t){const t=O.dc();O.cc(0,"div",129),O.qc("click",function(e){return O.Uc(t),O.uc(2).commentClick(e)}),O.Xb(1,"cu-comment",130),O.bc()}if(2&t){const t=O.uc().col,e=O.uc();O.ad("width",t.width,"px"),O.Ib(1),O.Dc("comment",e.latestCommentTruncated)("taskId",e.task.id)("loadMentions",!0)("textOnly",!0)}}function fo(t,e){if(1&t&&(O.cc(0,"div",131),O.dd(1," \u2013 "),O.bc()),2&t){const t=O.uc().col;O.ad("width",t.width,"px")}}function ko(t,e){if(1&t&&(O.bd(0,bo,2,6,"div",127),O.bd(1,fo,2,2,"div",128)),2&t){const t=O.uc();O.Dc("ngIf",t.latestCommentTruncated),O.Ib(1),O.Dc("ngIf",!t.latestCommentTruncated)}}function _o(t,e){if(1&t&&(O.ac(0),O.cc(1,"div",133),O.dd(2),O.bc(),O.Zb()),2&t){const t=O.uc().col,e=O.uc();O.Ib(1),O.ad("width",t.width,"px"),O.Ob("cu-task-row__unresolved-comment-count-zero",0===((null==e.task?null:e.task.unresolved_comments_count)||0)),O.Ib(1),O.fd(" ",null==e.task?null:e.task.unresolved_comments_count," ")}}function wo(t,e){if(1&t){const t=O.dc();O.cc(0,"div",139,140),O.cc(2,"cu-comment-thread",141),O.qc("profileOpened",function(){return O.Uc(t),O.uc(),O.Rc(1).close()})("taskOpened",function(){return O.Uc(t),O.uc(),O.Rc(1).close()})("onLoad",function(){return O.Uc(t),O.uc(3).onLoadUsers.emit()}),O.bc(),O.bc()}if(2&t){const t=O.uc(3);O.Ib(2),O.Dc("parentId",t.task.id)("showUnassign",!1)("showUnresolvedCommentsOnly",!0)("type",t.CommentType.Task)("permissions",t.task.permissions)("permissionLevel",t.task.permission_level)("project",null==t.task?null:t.task.project)("user",t.meUser)("focusOnInit",!0)("canComment",t.task.permission_level!==t.UserPermission.READ)("users",t.users)("assignedComments",!0)("showUserGroups",!0)("popupInBody",!0)("taskUserGroups",t.taskUserGroups)}}function vo(t,e){if(1&t){const t=O.dc();O.cc(0,"div",134,135),O.qc("dropdownOpen",function(){O.Uc(t);const e=O.uc(2);return e.onLoadUsers.emit(),e.observeAssignedCommentDropdownMenu()}),O.cc(2,"div",136),O.Xb(3,"div",137),O.cc(4,"div",133),O.dd(5),O.bc(),O.bc(),O.bd(6,wo,3,15,"div",138),O.bc()}if(2&t){const t=O.uc().col,e=O.uc();O.ad("width",t.width,"px"),O.Dc("dropdownRepositionFlag",e.commentDropdownRepositionFlag)("dropdownCloseOnInsideClick",!1)("dropdownCloseOnModal",!0)("dropdownDisabled",e.isSharingApp),O.Ib(4),O.Ob("cu-task-row__unresolved-comment-count-zero",0===((null==e.task?null:e.task.unresolved_comments_count)||0)),O.Ib(1),O.fd(" ",null==e.task?null:e.task.unresolved_comments_count," ")}}function yo(t,e){if(1&t&&(O.bd(0,_o,3,5,"ng-container",57),O.bd(1,vo,7,9,"ng-template",null,132,O.cd)),2&t){const t=O.Rc(2),e=O.uc();O.Dc("ngIf",0===((null==e.task?null:e.task.unresolved_comments_count)||0))("ngIfElse",t)}}function xo(t,e){if(1&t){const t=O.dc();O.cc(0,"div",139,143),O.cc(2,"cu-comment-thread",144),O.qc("profileOpened",function(){return O.Uc(t),O.uc(),O.Rc(1).close()})("taskOpened",function(){return O.Uc(t),O.uc(),O.Rc(1).close()})("onLoad",function(){return O.Uc(t),O.uc(2).onLoadUsers.emit()}),O.bc(),O.bc()}if(2&t){const t=O.uc(2);O.Ib(2),O.Dc("parentId",t.task.id)("type",t.CommentType.Task)("permissions",t.task.permissions)("permissionLevel",t.task.permission_level)("project",null==t.task?null:t.task.project)("user",t.meUser)("focusOnInit",!0)("canComment",t.task.permission_level!==t.UserPermission.READ)("users",t.users)("assignedComments",!0)("showUserGroups",!0)("popupInBody",!0)("taskUserGroups",t.taskUserGroups)}}function To(t,e){if(1&t){const t=O.dc();O.cc(0,"div",134,142),O.qc("dropdownOpen",function(){O.Uc(t);const e=O.uc();return e.onLoadUsers.emit(),e.observeDropdownMenu()}),O.cc(2,"div",136),O.Xb(3,"div",137),O.dd(4),O.bc(),O.bd(5,xo,3,13,"div",138),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("dropdownRepositionFlag",a.commentDropdownRepositionFlag)("dropdownCloseOnInsideClick",!1)("dropdownCloseOnModal",!0)("dropdownDisabled",a.isSharingApp),O.Ib(4),O.fd(" ",a.task.comments_count||""," ")}}function Io(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-time-in-status",145),O.qc("onLoadStatuses",function(){return O.Uc(t),O.uc().onLoadStatuses.emit()}),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("task",a.task)("displayType",a.timeInStatusDisplayType)("statuses",a.statuses)}}function Co(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-multiple-lists-display",146),O.qc("onSelect",function(e){return O.Uc(t),O.uc().addTaskToAnotherList(e)})("onRemove",function(e){return O.Uc(t),O.uc().removeTasksFromAnotherList(e)})("onMoveTask",function(e){return O.Uc(t),O.uc().moveTaskToAnotherList(e)}),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("task",a.task)("permissions",a.task.permissions)("listGroup",null==a.groupData?null:a.groupData.subcategory_id)("team",a.team)("isGuest",a.isGuest)("width",t.width)("selectedProject",a.parentSpace)}}function Do(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-multiple-lists-display",147),O.qc("onSelect",function(e){return O.Uc(t),O.uc().addTaskToAnotherList(e)})("onRemove",function(e){return O.Uc(t),O.uc().removeTasksFromAnotherList(e)})("onMoveTask",function(e){return O.Uc(t),O.uc().moveTaskToAnotherList(e)}),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("task",a.task)("permissions",a.task.permissions)("listGroup",null==a.groupData?null:a.groupData.subcategory_id)("team",a.team)("isGuest",a.isGuest)("width",t.width)("sprintOnly",!0)("selectedProject",a.parentSpace)}}function So(t,e){1&t&&(O.cc(0,"div",150),O.Xb(1,"div",151),O.bc()),2&t&&(O.Ib(1),O.Dc("icon","git-pr"))}function Oo(t,e){if(1&t&&(O.cc(0,"span"),O.dd(1),O.bc()),2&t){const t=O.uc(3);O.Ib(1),O.ed(null==t.task||null==t.task.pull_requests||null==t.task.pull_requests.github?null:t.task.pull_requests.github.length)}}function jo(t,e){if(1&t){const t=O.dc();O.cc(0,"div",150),O.cc(1,"div",152),O.qc("click",function(){O.Uc(t);const e=O.uc(2);return e.openPrModal(e.task,"github")}),O.bc(),O.bd(2,Oo,2,1,"span",6),O.bc()}if(2&t){const t=O.uc(2);O.Ib(1),O.Ob("cu-task-row__pr-icon-disabled",!(null!=t.task&&null!=t.task.pull_requests&&null!=t.task.pull_requests.github&&t.task.pull_requests.github.length)),O.Dc("icon","github")("cuTooltip",null!=t.task&&null!=t.task.pull_requests&&null!=t.task.pull_requests.github&&t.task.pull_requests.github.length?t.ghPrAttachedTooltipText:t.taskRowStringsService.noOpenPrsText),O.Ib(1),O.Dc("ngIf",null==t.task||null==t.task.pull_requests||null==t.task.pull_requests.github?null:t.task.pull_requests.github.length)}}function Po(t,e){if(1&t&&(O.cc(0,"span"),O.dd(1),O.bc()),2&t){const t=O.uc(3);O.Ib(1),O.ed(null==t.task||null==t.task.pull_requests||null==t.task.pull_requests.gitlab?null:t.task.pull_requests.gitlab.length)}}function Ao(t,e){if(1&t){const t=O.dc();O.cc(0,"div",150),O.cc(1,"div",153),O.qc("click",function(){O.Uc(t);const e=O.uc(2);return e.openPrModal(e.task,"gitlab")}),O.bc(),O.bd(2,Po,2,1,"span",6),O.bc()}if(2&t){const t=O.uc(2);O.Ib(1),O.Ob("cu-task-row__pr-icon-disabled",!(null!=t.task&&null!=t.task.pull_requests&&null!=t.task.pull_requests.gitlab&&t.task.pull_requests.gitlab.length)),O.Dc("icon","gitlab")("cuTooltip",null!=t.task&&null!=t.task.pull_requests&&null!=t.task.pull_requests.gitlab&&t.task.pull_requests.gitlab.length?t.gitlabMergeRequestAttachedTooltipText:t.taskRowStringsService.noOpenMergeRequestsText),O.Ib(1),O.Dc("ngIf",null==t.task||null==t.task.pull_requests||null==t.task.pull_requests.gitlab?null:t.task.pull_requests.gitlab.length)}}function $o(t,e){if(1&t&&(O.cc(0,"span"),O.dd(1),O.bc()),2&t){const t=O.uc(3);O.Ib(1),O.ed(null==t.task||null==t.task.pull_requests||null==t.task.pull_requests.bitbucket?null:t.task.pull_requests.bitbucket.length)}}function Ro(t,e){if(1&t){const t=O.dc();O.cc(0,"div",150),O.cc(1,"div",153),O.qc("click",function(){O.Uc(t);const e=O.uc(2);return e.openPrModal(e.task,"bitbucket")}),O.bc(),O.bd(2,$o,2,1,"span",6),O.bc()}if(2&t){const t=O.uc(2);O.Ib(1),O.Ob("cu-task-row__pr-icon-disabled",!(null!=t.task&&null!=t.task.pull_requests&&null!=t.task.pull_requests.bitbucket&&t.task.pull_requests.bitbucket.length)),O.Dc("icon","bitbucket")("cuTooltip",null!=t.task&&null!=t.task.pull_requests&&null!=t.task.pull_requests.bitbucket&&t.task.pull_requests.bitbucket.length?t.bitBucketPrAttachedTooltipText:t.taskRowStringsService.noOpenPrsText),O.Ib(1),O.Dc("ngIf",null==t.task||null==t.task.pull_requests||null==t.task.pull_requests.bitbucket?null:t.task.pull_requests.bitbucket.length)}}function Fo(t,e){if(1&t&&(O.cc(0,"div",148),O.bd(1,So,2,1,"div",149),O.bd(2,jo,3,5,"div",149),O.bd(3,Ao,3,5,"div",149),O.bd(4,Ro,3,5,"div",149),O.bc()),2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Ib(1),O.Dc("ngIf",!(null!=a.task&&a.task.project_using_github||null!=a.task&&a.task.project_using_gitlab||null!=a.task&&a.task.project_using_bitbucket)),O.Ib(1),O.Dc("ngIf",(null==a.task||null==a.task.project?null:a.task.project.access)&&a.canManageGit&&(null==a.task?null:a.task.project_using_github)),O.Ib(1),O.Dc("ngIf",(null==a.task||null==a.task.project?null:a.task.project.access)&&a.canManageGit&&(null==a.task?null:a.task.project_using_gitlab)),O.Ib(1),O.Dc("ngIf",(null==a.task||null==a.task.project?null:a.task.project.access)&&a.canManageGit&&(null==a.task?null:a.task.project_using_bitbucket))}}function Mo(t,e){if(1&t&&(O.ac(0),O.dd(1),O.ac(2),O.gc(3,159),O.Zb(),O.Zb()),2&t){const t=O.uc(3);O.Ib(1),O.fd(" ",t.task.link_count," ")}}function Eo(t,e){1&t&&O.dd(0,"\u2013")}function Uo(t,e){if(1&t&&(O.ac(0),O.bd(1,Mo,4,1,"ng-container",57),O.bd(2,Eo,1,0,"ng-template",null,158,O.cd),O.Zb()),2&t){const t=O.Rc(3),e=O.uc(2);O.Ib(1),O.Dc("ngIf",e.task.link_count)("ngIfElse",t)}}function Lo(t,e){if(1&t&&(O.cc(0,"div",162),O.cc(1,"div",163),O.dd(2),O.bc(),O.bc()),2&t){const t=e.$implicit;O.Ib(1),O.Dc("cuTooltip",t.name)("tooltipDisabledIfTextNotTruncated",!0)("tooltipDelay",300),O.Ib(1),O.fd(" ",t.name," ")}}function zo(t,e){if(1&t&&(O.ac(0),O.bd(1,Lo,3,4,"div",161),O.Zb()),2&t){const t=O.uc(3);O.Ib(1),O.Dc("ngForOf",t.task.link_names)("ngForTrackBy",t.trackById)}}function Vo(t,e){1&t&&O.dd(0,"\u2013")}function No(t,e){if(1&t&&(O.ac(0),O.bd(1,zo,2,2,"ng-container",57),O.bd(2,Vo,1,0,"ng-template",null,160,O.cd),O.Zb()),2&t){const t=O.Rc(3),e=O.uc(2);O.Ib(1),O.Dc("ngIf",null==e.task.link_names?null:e.task.link_names.length)("ngIfElse",t)}}function qo(t,e){if(1&t&&(O.ac(0),O.dd(1),O.ac(2),O.gc(3,164),O.Zb(),O.Zb()),2&t){const t=O.uc(3);O.Ib(1),O.fd(" ",t.task.page_link_count," ")}}function Bo(t,e){1&t&&O.dd(0,"\u2013")}function Go(t,e){if(1&t&&(O.ac(0),O.bd(1,qo,4,1,"ng-container",57),O.bd(2,Bo,1,0,"ng-template",null,158,O.cd),O.Zb()),2&t){const t=O.Rc(3),e=O.uc(2);O.Ib(1),O.Dc("ngIf",e.task.page_link_count)("ngIfElse",t)}}function Xo(t,e){if(1&t&&(O.cc(0,"div",162),O.cc(1,"div",163),O.dd(2),O.bc(),O.bc()),2&t){const t=e.$implicit,a=O.uc(4);O.Ib(1),O.Dc("cuTooltip",t.name)("tooltipDisabledIfTextNotTruncated",!0)("tooltipDelay",300),O.Ib(1),O.fd(" ",t.name||a.commonStringsService.untitledText," ")}}function Wo(t,e){if(1&t&&(O.ac(0),O.bd(1,Xo,3,4,"div",161),O.Zb()),2&t){const t=O.uc(3);O.Ib(1),O.Dc("ngForOf",t.task.page_link_names)("ngForTrackBy",t.trackById)}}function Ho(t,e){1&t&&O.dd(0,"\u2013")}function Zo(t,e){if(1&t&&(O.ac(0),O.bd(1,Wo,2,2,"ng-container",57),O.bd(2,Ho,1,0,"ng-template",null,160,O.cd),O.Zb()),2&t){const t=O.Rc(3),e=O.uc(2);O.Ib(1),O.Dc("ngIf",null==e.task.page_link_names?null:e.task.page_link_names.length)("ngIfElse",t)}}function Qo(t,e){if(1&t&&(O.ac(0),O.gc(1,166),O.Zb()),2&t){const t=O.uc(3);O.Ib(1),O.kc(t.task.dependency_count||0)(t.task.dependency_count||0),O.hc(1)}}function Ko(t,e){1&t&&O.dd(0,"\u2013")}function Jo(t,e){if(1&t&&(O.ac(0),O.bd(1,Qo,2,2,"ng-container",57),O.bd(2,Ko,1,0,"ng-template",null,165,O.cd),O.Zb()),2&t){const t=O.Rc(3),e=O.uc(2);O.Ib(1),O.Dc("ngIf",e.task.dependency_count)("ngIfElse",t)}}function Yo(t,e){if(1&t&&(O.cc(0,"div",162),O.cc(1,"div",163),O.dd(2),O.bc(),O.bc()),2&t){const t=e.$implicit;O.Ib(1),O.Dc("cuTooltip",t.name)("tooltipDisabledIfTextNotTruncated",!0)("tooltipDelay",300),O.Ib(1),O.fd(" ",t.name," ")}}function tn(t,e){1&t&&(O.ac(0),O.dd(1,"-"),O.Zb())}function en(t,e){if(1&t&&(O.ac(0),O.bd(1,Yo,3,4,"div",161),O.bd(2,tn,2,0,"ng-container",6),O.Zb()),2&t){const t=O.uc(2);O.Ib(1),O.Dc("ngForOf",t.task.dependency_names)("ngForTrackBy",t.trackById),O.Ib(1),O.Dc("ngIf",!(null!=t.task.dependency_names&&t.task.dependency_names.length))}}function an(t,e){if(1&t&&(O.ac(0),O.gc(1,167),O.Zb()),2&t){const t=O.uc(3).col,e=O.uc();let a=null,i=null;O.Ib(1),O.kc(null==(a=e.taskCustomFieldsMap[t.customField.id])||null==a.value?null:a.value.length)(null==(i=e.taskCustomFieldsMap[t.customField.id])||null==i.value?null:i.value.length),O.hc(1)}}function on(t,e){if(1&t&&(O.cc(0,"div",162),O.cc(1,"div",163),O.dd(2),O.bc(),O.bc()),2&t){const t=e.$implicit;O.Ib(1),O.Dc("cuTooltip",t.name)("tooltipDisabledIfTextNotTruncated",!0)("tooltipDelay",300),O.Ib(1),O.fd(" ",t.name," ")}}function nn(t,e){if(1&t&&(O.ac(0),O.bd(1,on,3,4,"div",161),O.Zb()),2&t){const t=O.uc(3).col,e=O.uc();let a=null;O.Ib(1),O.Dc("ngForOf",null==(a=e.taskCustomFieldsMap[t.customField.id])?null:a.value)("ngForTrackBy",e.trackById)}}function sn(t,e){if(1&t&&(O.ac(0),O.bd(1,an,2,2,"ng-container",6),O.bd(2,nn,2,2,"ng-container",6),O.Zb()),2&t){const t=O.uc(2).col;O.Ib(1),O.Dc("ngIf","count"===t.display),O.Ib(1),O.Dc("ngIf","count"!==t.display)}}function cn(t,e){1&t&&(O.ac(0),O.dd(1,"-"),O.Zb())}function rn(t,e){if(1&t&&(O.ac(0),O.bd(1,sn,3,2,"ng-container",6),O.bd(2,cn,2,0,"ng-container",6),O.Zb()),2&t){const t=O.uc().col,e=O.uc();let a=null,i=null;O.Ib(1),O.Dc("ngIf",null==(a=e.taskCustomFieldsMap[t.customField.id])||null==a.value?null:a.value.length),O.Ib(1),O.Dc("ngIf",!(null!=(i=e.taskCustomFieldsMap[t.customField.id])&&null!=i.value&&i.value.length))}}const ln=function(t,e,a){return{github:t,gitlab:e,bitbucket:a}};function un(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-relationships",170),O.qc("saveRelationshipChanges",function(e){O.Uc(t);const a=O.uc(3);return a.onEditTask.emit({action:a.EditActions.UpdateRelationships,data:e})})("setRelationships",function(e){return O.Uc(t),O.uc(3).relationshipsUpdated(e.relationships)})("reloadRelationshipLinks",function(){return O.Uc(t),O.uc(3).loadTaskRelationships()})("taskOpened",function(){return O.Uc(t),O.uc(2),O.Rc(1).close()}),O.bc()}if(2&t){const t=O.uc(2).col,e=O.uc();O.Dc("relationships",e.task.relationships)("isOffline",e.offline)("integrationsEnabled",O.Jc(9,ln,(null==e.task||null==e.task.project?null:e.task.project.access)&&e.canManageGit&&(null==e.task?null:e.task.project_using_github),(null==e.task||null==e.task.project?null:e.task.project.access)&&e.canManageGit&&(null==e.task?null:e.task.project_using_gitlab),(null==e.task||null==e.task.project?null:e.task.project.access)&&e.canManageGit&&(null==e.task?null:e.task.project_using_bitbucket)))("team",e.team)("user",e.meUser)("hostTask",e.task)("features",e.features)("project",e.task.project)("singleSection",t.customField?t.name:e.relationshipsSectionMapping[t.name])}}function dn(t,e){1&t&&O.Xb(0,"cu-loader")}function pn(t,e){if(1&t&&(O.cc(0,"div",168),O.bd(1,un,1,13,"cu-task-relationships",169),O.bd(2,dn,1,0,"cu-loader",6),O.bc()),2&t){const t=O.uc(2);O.Ib(1),O.Dc("ngIf",t.task.relationships),O.Ib(1),O.Dc("ngIf",!t.task.relationships)}}const mn=function(){return["left","right","bottom","top","auto"]};function hn(t,e){if(1&t){const t=O.dc();O.cc(0,"div",154,155),O.qc("dropdownOpen",function(){return O.Uc(t),O.uc().loadTaskRelationships()}),O.cc(2,"div",156),O.bd(3,Uo,4,2,"ng-container",6),O.bd(4,No,4,2,"ng-container",6),O.bd(5,Go,4,2,"ng-container",6),O.bd(6,Zo,4,2,"ng-container",6),O.bd(7,Jo,4,2,"ng-container",6),O.bd(8,en,3,3,"ng-container",6),O.bd(9,rn,3,2,"ng-container",6),O.bc(),O.bd(10,pn,3,2,"div",157),O.bc()}if(2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Dc("dropdownCloseOnInsideClick",!1)("dropdownCloseOnModal",!0)("dropdownDisabled",a.isSharingApp||t.customField&&!(null!=a.task.permissions&&a.task.permissions.set_custom_field_values)||!t.customField&&!(null!=a.task.permissions&&a.task.permissions.add_dependencies))("dropdownPlacement",O.Gc(15,mn))("dropdownRepositionFlag",a.task.relationships)("dropdownDestroyMenuOnClose",!1),O.Ib(3),O.Dc("ngIf","linked"===t.name&&"count"===t.display),O.Ib(1),O.Dc("ngIf","linked"===t.name&&"count"!==t.display),O.Ib(1),O.Dc("ngIf","pages"===t.name&&"count"===t.display),O.Ib(1),O.Dc("ngIf","pages"===t.name&&"count"!==t.display),O.Ib(1),O.Dc("ngIf","dependencies"===t.name&&"count"===t.display),O.Ib(1),O.Dc("ngIf","dependencies"===t.name&&"count"!==t.display),O.Ib(1),O.Dc("ngIf",t.customField)}}function gn(t,e){if(1&t&&(O.ac(0),O.dd(1),O.vc(2,"calcValue"),O.Zb()),2&t){const t=O.uc(2).col,e=O.uc();O.Ib(1),O.fd(" ",O.zc(2,1,e.rollupValues[t.name].value,e.rollupValues[t.name].calculation.func,t.aggregableType,t.customField)," ")}}const bn=function(t,e){return{count:t,status:e}};function fn(t,e){if(1&t&&(O.cc(0,"div",177),O.vc(1,"taskCountPerStatusText"),O.Xb(2,"div",178),O.bc()),2&t){const t=e.$implicit;O.ad("width",t.percentage,"%"),O.Dc("cuTooltip",O.wc(1,6,O.Ic(8,bn,t.count,t.status.status)))("tooltipBackgroundColor",t.status.color),O.Ib(2),O.ad("background-color",t.status.color)}}function kn(t,e){if(1&t&&(O.cc(0,"div",175),O.bd(1,fn,3,11,"div",176),O.bc()),2&t){const t=O.uc(3).col,e=O.uc();O.Ib(1),O.Dc("ngForOf",e.rollupValues[t.name].taskStatuses)("ngForTrackBy",e.trackByValue)}}function _n(t,e){if(1&t&&(O.cc(0,"div",180),O.cc(1,"div",181),O.dd(2),O.bc(),O.bc()),2&t){const t=e.$implicit,a=O.uc(4).col,i=O.uc();O.Ib(1),O.Dc("cuTooltip",t[i.rollupValues[a.name].colType])("tooltipDisabledIfTextNotTruncated",!0)("tooltipDelay",300),O.Ib(1),O.fd(" ",t[i.rollupValues[a.name].colType]," ")}}function wn(t,e){if(1&t&&O.bd(0,_n,3,4,"div",179),2&t){const t=O.uc(3).col,e=O.uc();O.Dc("ngForOf",e.rollupValues[t.name].value)("ngForTrackBy",e.trackByValue)}}function vn(t,e){if(1&t&&(O.bd(0,kn,2,2,"div",173),O.bd(1,wn,1,2,"ng-template",null,174,O.cd)),2&t){const t=O.Rc(2),e=O.uc(2).col,a=O.uc();O.Dc("ngIf",a.rollupValues[e.name].taskStatuses)("ngIfElse",t)}}function yn(t,e){if(1&t&&(O.ac(0),O.bd(1,gn,3,6,"ng-container",57),O.bd(2,vn,3,2,"ng-template",null,172,O.cd),O.Zb()),2&t){const t=O.Rc(3),e=O.uc().col,a=O.uc();O.Ib(1),O.Dc("ngIf",a.rollupValues[e.name].calculation)("ngIfElse",t)}}function xn(t,e){if(1&t&&(O.cc(0,"div",171),O.bd(1,yn,4,2,"ng-container",6),O.bc()),2&t){const t=e.col,a=O.uc();O.ad("width",t.width,"px"),O.Ib(1),O.Dc("ngIf",a.rollupValues[t.name])}}const Tn=[[["","subtasks",""]]],In=["[subtasks]"];let Cn=(()=>{class t{constructor(t,e,a,i,o,n,s,c){this.changeDetectorRef=t,this.helpers=e,this.localStorage=a,this.commentsHelper=i,this.selectedTasks=o,this.sharedTaskService=n,this.commonStringsService=s,this.taskRowStringsService=c,this.destroy$=new R.a,this.taskCustomFieldsMap={},this.StatusTypes=U.g,this.UserPermission=M.e,this.CommentType=j.c,this.taskUserGroups=H.c,this.DataViewSubtasks=Z.h,this.relationshipsSectionMapping={[S.B.name]:"tasks",[S.u.name]:"dependencies",[S.K.name]:"pages"},this.unlinkTaskText=$localize`:@@common_unlink-task:Unlink task`,this.dontShowParentTaskEver=!1,this.multiTaskEnabled=!1,this.dontShowRollup=!1,this.disabled=!1,this.isFirst=!1,this.isLast=!1,this.displayCustomType=!1,this.breadcrumbs="none",this.allowClosed=!0,this.readOnly=!1,this.showDeleteButton=!1,this.militaryTime=!1,this.stickyColumn=!0,this.canDelete=!0,this.isOffline=!1,this.showHeader=!1,this.statusStyleType="cu-task-row-status_dot",this.isGuest=!1,this.canDeletePermission=!0,this.hideCreateSubtask=!1,this.showMenuPlaceholder=!0,this.autoWrap=!1,this.onToggleDatePicker=new O.o,this.onLoadStatuses=new O.o,this.onLoadUsers=new O.o,this.onLoadTags=new O.o,this.onQuickAction=new O.o,this.onEditTask=new O.o,this.onClickTag=new O.o,this.onHover=new O.o,this.onTimeTrackerAction=new O.o,this.onTimeEstimateAction=new O.o,this.startTrialFromTimeTracking=new O.o,this.onAddMultipleList=new O.o,this.onRemoveMultipleList=new O.o,this.onMoveTask=new O.o,this.onOpenGitModal=new O.o,this.onLoadRelationships=new O.o,this.onRemoveTask=new O.o,this.onOpenParentTask=new O.o,this.onIndent=new O.o,this.onOpenTask=new O.o,this.onToggleSubtasks=new O.o,this.onChangeSelection=new O.o,this.onCustomFieldValueChanged=new O.o,this.onRenaming=new O.o,this.onOpenDependencyModal=new O.o,this.toggleCreateSubtask=new O.o,this.trackByName=Object(z.d)("name"),this.trackByValue=z.f,this.trackById=Object(z.d)("id"),this.EditActions=q.a,this.editing=!1,this.debugOrderIndexes=this.localStorage.get("debugOrderIndexes"),this.debugContextMenu=this.localStorage.get("debugContextMenu"),this.debugPerf=this.localStorage.get("debugPerf"),this.inboxDropdownOpen=!1,this.dropdownOpen=!1,this.firstTagComponentOpen=!1,this.isSharingApp=L.k,this.commentDropdownRepositionFlag=!1}get bitBucketPrAttachedTooltipText(){var t,e,a;if(!this.task)return"";const i=null===(a=null===(e=null===(t=this.task)||void 0===t?void 0:t.pull_requests)||void 0===e?void 0:e.bitbucket)||void 0===a?void 0:a.length;return 1===i?$localize`:@@cu-task-row__tooltip-msg_contains-open-pr:There is ${i}:openPrCount: open Pull Request attached to this task`:$localize`:@@cu-task-row__tooltip-msg_contains-open-pr-many:There are ${i}:openPrCount: open Pull Requests attached to this task`}get ghPrAttachedTooltipText(){var t,e,a;if(!this.task)return"";const i=null===(a=null===(e=null===(t=this.task)||void 0===t?void 0:t.pull_requests)||void 0===e?void 0:e.github)||void 0===a?void 0:a.length;return 1===i?$localize`:@@cu-task-row__tooltip-msg_contains-open-pr:There is ${i}:openPrCount: open Pull Request attached to this task`:$localize`:@@cu-task-row__tooltip-msg_contains-open-pr-many:There are ${i}:openPrCount: open Pull Requests attached to this task`}get gitlabMergeRequestAttachedTooltipText(){var t,e,a;if(!this.task)return"";const i=null===(a=null===(e=null===(t=this.task)||void 0===t?void 0:t.pull_requests)||void 0===e?void 0:e.gitlab)||void 0===a?void 0:a.length;return 1===i?$localize`:@@cu-task-row__tooltip-msg_contains-open-merge-request:There is ${i}:openPrCount: open Merge Request attached to this task`:$localize`:@@cu-task-row__tooltip-msg_contains-open-merge-request-many:There are ${i}:openPrCount: open Merge Requests attached to this task`}ngOnInit(){try{this.debugPerf&&performance.mark("taskrow_init")}catch(t){}}ngAfterViewInit(){try{this.debugPerf&&(performance.measure("taskrow_init1","taskrow_init"),performance.getEntriesByName("taskrow_init1"),performance.clearMarks("taskrow_init"),performance.clearMeasures("taskrow_init1"))}catch(t){}}ngOnChanges(t){if(t.task){this.canChangeAssignee=this.task&&Object(E.b)(this.task.permissions,this.task.permission_level,this.task.assignees,this.task.group_assignees,this.meUser),this.latestCommentTruncated=null;const t=this.task.latestComment?Object(V.a)({ops:this.commentsHelper.commentToDelta(this.task.latestComment)},1):null;t&&(this.latestCommentTruncated=this.commentsHelper.formatCommentForEditor(t.ops.filter(t=>"object"!=typeof t.insert||!t.insert.doc_embed&&!t.insert.listview),this.userGroups).comment)}if((t.task||t.columns)&&(this.rollupValues={},this.task.rollup&&this.task.rollup.forEach(t=>{const e=t.field.split(":")[1],a=this.columns.find(e=>e.name===t.field);if(a)if(a.aggregableType)this.rollupValues[t.field]={value:"range"===t.link.func?{min:t.value?t.value[0]:null,max:t.value?t.value[1]:null}:{[t.link.func||"array"]:t.value},calculation:{func:t.link.func||"array"},colType:e};else{const a="status"===e?Object.entries(Object(P.a)(t.value,"status")).map(([e,a])=>({id:e,status:a[0],percentage:Math.round(a.length/t.value.length*100),count:a.length})):void 0;this.rollupValues[t.field]={value:t.value,colType:e,taskStatuses:a}}})),(t.task||t.allCustomFields)&&(this.taskCustomFieldsMap={},this.task&&this.allCustomFields&&this.allCustomFields.forEach(t=>{const e=(this.task.customFields||[]).find(e=>e.id===t.id),a=e?e.value:void 0;this.taskCustomFieldsMap[t.id]=Object.assign(Object.assign({},t),{value:a})})),t.columns||t.projectsMap||t.allCustomFields||t.features){const t=this.columns.map(t=>{const e=this.getColState(t.name,t.clickAppId,t.teamBased);return Object.assign(Object.assign({},t),{state:e,customField:t.customField,field:N.a[t.name],template:this.getColTemplate(t.name,t.customField)})});[this.rowColumns,this.rowContentColumns]=$(t,t=>t.name!==S.N.name)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}onContextMenu(t){this.rowMenu&&!this.debugContextMenu&&this.rowMenu.showMenu(t,!0)}removePriority(){this.onEditTask.emit({action:q.a.Priority,data:null}),this.priorityDropdown.close()}updateHoverState(t,e){t?this.dropdownOpen=!0:e||(this.dropdownOpen=!1)}quickAction(t,e,a){switch(t){case"rename":this.setEditing(!0);break;case"openRecurring":this.openRecurring(a);break;default:this.onQuickAction.emit({action:t,data:e})}}setEditing(t){this.editing=t,this.changeDetectorRef.markForCheck(),this.onRenaming.emit(t)}toggleStatus(){this.onEditTask.emit({action:q.a.ToggleStatus,data:this.task})}openStatusSettings(){this.onEditTask.emit({action:q.a.StatusSettings,data:null})}openRecurring(t){!this.disabled&&this.task.permissions&&this.task.permissions.can_create_tasks&&this.onLoadStatuses.emit()}onTab(){this.sharedTaskService.isOpen||-1!==(this.selectedTasks.selectedTaskList||[]).findIndex(t=>t.id===this.task.id)&&this.indent({indent:!0})}onShiftTab(){this.sharedTaskService.isOpen||-1!==(this.selectedTasks.selectedTaskList||[]).findIndex(t=>t.id===this.task.id)&&this.indent({indent:!1})}indent({indent:t}){this.onIndent.emit({indent:t,task:this.task})}rename(t){t&&(this.onEditTask.emit({action:q.a.Rename,data:t}),this.task=Object.assign(Object.assign({},this.task),{name:t}))}setCustomFieldValue(t,e){this.onEditTask.emit({action:q.a.EditCustomFieldValue,data:{field:t.customField,value:e}})}toggleMe(){this.task&&this.task.assignees&&this.onEditTask.emit({action:q.a.Assignee,data:this.helpers.toggleMe(this.task.assignees,this.features&&this.features.multiple_assignees&&this.features.multiple_assignees.enabled)})}remove(){this.onEditTask.emit({action:q.a.Remove,data:null})}preventDefault(t){t.preventDefault(),t.stopPropagation()}recurringLegacyOpen(){this.onLoadStatuses.emit()}commentClick(t){t.target.classList.contains("cu-mention")&&!this.isGuest||"a"===t.target.tagName.toLowerCase()||this.onOpenTask.emit()}addTaskToAnotherList(t){this.onEditTask.emit({action:q.a.AddTasksToAnotherList,data:t})}removeTasksFromAnotherList(t){this.onEditTask.emit({action:q.a.RemoveTasksFromAnotherList,data:t})}moveTaskToAnotherList(t){this.onEditTask.emit({action:q.a.MoveTaskToAnotherList,data:t})}observeDropdownMenu(){this.commentDropdownMenu&&Object(G.a)(this.commentDropdownMenu.nativeElement).pipe(Object(X.a)(()=>!!this.commentDropdownMenu),Object(W.a)(this.destroy$)).subscribe(()=>{this.commentDropdownRepositionFlag=!this.commentDropdownRepositionFlag})}observeAssignedCommentDropdownMenu(){this.assignedCommentDropdownMenu&&Object(G.a)(this.assignedCommentDropdownMenu.nativeElement).pipe(Object(X.a)(()=>!!this.assignedCommentDropdownMenu),Object(W.a)(this.destroy$)).subscribe(()=>{this.commentDropdownRepositionFlag=!this.commentDropdownRepositionFlag})}openPrModal(t,e){t&&t.pull_requests&&t.pull_requests[e]&&t.pull_requests[e].length&&this.onOpenGitModal.emit({task:t,type:e})}openSubtasks(){(this.allowClosed&&this.task.subtasks_count||!this.allowClosed&&this.task.subtasks_open_count)&&this.onToggleSubtasks.emit({reload:!0,closed:!1})}loadTaskRelationships(){this.onLoadRelationships.emit({task:this.task})}relationshipsUpdated(t){const e=t.sections.find(t=>"pages"===t.relationship).items;this.onEditTask.emit({action:q.a.SetTaskData,data:{relationships:t,dependency_count:t.sections.find(t=>"dependencies"===t.relationship).items.length,link_count:t.sections.find(t=>"tasks"===t.relationship).items.length,page_link_count:e.length,page_link_names:e.map(t=>t.item),customFields:this.task.customFields?this.task.customFields.map(e=>{const a=t.sections.find(t=>{var a;return(null===(a=t.custom_field)||void 0===a?void 0:a.id)===e.id});return a?Object.assign(Object.assign({},e),{value:a.custom_field.value}):e}):void 0}})}getColState(t,e,a){return!e||!a&&this.features&&this.features[e]&&this.features[e].enabled||a&&this.team[e]?F.b.Visible:F.b.Stub}getColTemplate(t,e){switch(t){case S.S.name:return this.statusRowTemplate;case S.y.name:return this.idRowTemplate;case S.p.name:return this.customIdRowTemplate;case S.t.name:case S.r.name:case S.q.name:case S.s.name:return this.dateTimeRowTemplate;case S.w.name:case S.Q.name:return this.datePickerRowTemplate;case S.V.name:return this.timeEstRowTemplate;case S.L.name:return this.pointsEstRowTemplate;case S.X.name:return this.timeTrackerRowTemplate;case S.k.name:return this.assigneeRowTemplate;case S.M.name:return this.priorityRowTemplate;case S.R.name:return this.startDueDateRowTemplate;case S.N.name:return this.readOnlyDateRowTemplate;case S.l.name:return this.checkStatusRowTemplate;case S.n.name:return this.createdByRowTemplate;case S.A.name:return this.latestCommentTemplate;case S.m.name:return this.commentCountTemplate;case S.C.name:return this.multipleListTemplate;case S.W.name:return this.timeInStatusTemplate;case S.J.name:return this.prTemplate;case S.B.name:case S.u.name:case S.K.name:return this.linkedTemplate;case S.Z.name:return this.unResolveCommentCountTemplate;case S.P.name:return this.sprintListTemplate;default:return t.startsWith("rollup:")?this.rollupColumnTemplate:e&&this.team.task_relationships&&[Q.a.ListRelationship,Q.a.Tasks].includes(e.type)?this.linkedTemplate:e?this.customFieldRowTemplate:null}}}return t.\u0275fac=function(e){return new(e||t)(O.Wb(O.h),O.Wb(J.b),O.Wb(Y.b),O.Wb(tt.a),O.Wb(et.a),O.Wb(at.a),O.Wb(it.a),O.Wb(K))},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-task-row"]],viewQuery:function(t,e){if(1&t&&(O.jd(ga,3),O.jd(ba,3),O.jd(fa,3),O.jd(ka,3),O.jd(_a,3),O.jd(wa,3),O.jd(va,3),O.jd(ya,3),O.jd(xa,3),O.jd(Ta,3),O.jd(Ia,3),O.jd(Ca,3),O.jd(Da,3),O.jd(Sa,3),O.jd(Oa,3),O.jd(ja,3),O.jd(Pa,3),O.jd(Aa,3),O.jd($a,3),O.jd(Ra,3),O.jd(Fa,3),O.jd(Ma,3),O.jd(Ea,3),O.jd(Ua,3),O.jd(La,1),O.jd(za,1),O.jd(Va,1),O.jd(Na,1),O.jd(qa,1)),2&t){let t;O.Qc(t=O.rc())&&(e.customFieldRowTemplate=t.first),O.Qc(t=O.rc())&&(e.statusRowTemplate=t.first),O.Qc(t=O.rc())&&(e.idRowTemplate=t.first),O.Qc(t=O.rc())&&(e.customIdRowTemplate=t.first),O.Qc(t=O.rc())&&(e.dateTimeRowTemplate=t.first),O.Qc(t=O.rc())&&(e.datePickerRowTemplate=t.first),O.Qc(t=O.rc())&&(e.timeEstRowTemplate=t.first),O.Qc(t=O.rc())&&(e.pointsEstRowTemplate=t.first),O.Qc(t=O.rc())&&(e.timeTrackerRowTemplate=t.first),O.Qc(t=O.rc())&&(e.assigneeRowTemplate=t.first),O.Qc(t=O.rc())&&(e.createdByRowTemplate=t.first),O.Qc(t=O.rc())&&(e.priorityRowTemplate=t.first),O.Qc(t=O.rc())&&(e.startDueDateRowTemplate=t.first),O.Qc(t=O.rc())&&(e.readOnlyDateRowTemplate=t.first),O.Qc(t=O.rc())&&(e.checkStatusRowTemplate=t.first),O.Qc(t=O.rc())&&(e.latestCommentTemplate=t.first),O.Qc(t=O.rc())&&(e.commentCountTemplate=t.first),O.Qc(t=O.rc())&&(e.multipleListTemplate=t.first),O.Qc(t=O.rc())&&(e.sprintListTemplate=t.first),O.Qc(t=O.rc())&&(e.timeInStatusTemplate=t.first),O.Qc(t=O.rc())&&(e.unResolveCommentCountTemplate=t.first),O.Qc(t=O.rc())&&(e.prTemplate=t.first),O.Qc(t=O.rc())&&(e.linkedTemplate=t.first),O.Qc(t=O.rc())&&(e.rollupColumnTemplate=t.first),O.Qc(t=O.rc())&&(e.rowMenu=t.first),O.Qc(t=O.rc())&&(e.container=t.first),O.Qc(t=O.rc())&&(e.commentDropdownMenu=t.first),O.Qc(t=O.rc())&&(e.assignedCommentDropdownMenu=t.first),O.Qc(t=O.rc())&&(e.priorityDropdown=t.first)}},hostVars:12,hostBindings:function(t,e){1&t&&O.qc("contextmenu",function(t){return e.onContextMenu(t)})("keyup.tab",function(){return e.onTab()},!1,O.Sc)("keyup.shift.tab",function(){return e.onShiftTab()},!1,O.Sc),2&t&&O.Ob("cu-task-row",!0)("cu-task-row_selected",e.selected)("cu-task-row_readonly",e.readOnly)("cu-task-row_sticky",e.stickyColumn)("cu-task-row_subtasks-visible",e.showSubtasks)("cu-task-row_auto-wrap",e.autoWrap)},inputs:{meUser:"meUser",timeTrackerTaskData:"timeTrackerTaskData",dontShowParentTaskEver:"dontShowParentTaskEver",timeEstimateData:"timeEstimateData",task:"task",tasksHovered:"tasksHovered",columns:"columns",features:"features",statuses:"statuses",tags:"tags",tagsLoadingMap:"tagsLoadingMap",users:"users",multiTaskEnabled:"multiTaskEnabled",dontShowRollup:"dontShowRollup",disabled:"disabled",selected:"selected",isFirst:"isFirst",isLast:"isLast",showIndiviudalEstimates:"showIndiviudalEstimates",pointsBoxUser:"pointsBoxUser",displayCustomType:"displayCustomType",dragDisabledTooltip:"dragDisabledTooltip",paddingLeft:"paddingLeft",allCustomFields:"allCustomFields",dateConflict:"dateConflict",breadcrumbs:"breadcrumbs",viewPreferences:"viewPreferences",showSubtasks:"showSubtasks",showClosedSubtasks:"showClosedSubtasks",allowClosed:"allowClosed",groupBy:"groupBy",subtasks:"subtasks",readOnly:"readOnly",showDeleteButton:"showDeleteButton",limitedEdit:"limitedEdit",extraData:"extraData",dateFormat:"dateFormat",militaryTime:"militaryTime",groupData:"groupData",parentIsSimpleStatus:"parentIsSimpleStatus",parentSpace:"parentSpace",stickyColumn:"stickyColumn",canDelete:"canDelete",isOffline:"isOffline",showHeader:"showHeader",statusStyleType:"statusStyleType",publicViewData:"publicViewData",isGuest:"isGuest",rollups:"rollups",weights:"weights",userGroups:"userGroups",team:"team",canDeletePermission:"canDeletePermission",onlyDeleteIfOwner:"onlyDeleteIfOwner",canManageGit:"canManageGit",offline:"offline",showMenu:"showMenu",showRemove:"showRemove",timeInStatusDisplayType:"timeInStatusDisplayType",showSubtasksType:"showSubtasksType",taskNameExtraTemplate:"taskNameExtraTemplate",hideCreateSubtask:"hideCreateSubtask",showMenuPlaceholder:"showMenuPlaceholder",autoWrap:"autoWrap"},outputs:{onToggleDatePicker:"onToggleDatePicker",onLoadStatuses:"onLoadStatuses",onLoadUsers:"onLoadUsers",onLoadTags:"onLoadTags",onQuickAction:"onQuickAction",onEditTask:"onEditTask",onClickTag:"onClickTag",onHover:"onHover",onTimeTrackerAction:"onTimeTrackerAction",onTimeEstimateAction:"onTimeEstimateAction",startTrialFromTimeTracking:"startTrialFromTimeTracking",onAddMultipleList:"onAddMultipleList",onRemoveMultipleList:"onRemoveMultipleList",onMoveTask:"onMoveTask",onOpenGitModal:"onOpenGitModal",onLoadRelationships:"onLoadRelationships",onRemoveTask:"onRemoveTask",onOpenParentTask:"onOpenParentTask",onIndent:"onIndent",onOpenTask:"onOpenTask",onToggleSubtasks:"onToggleSubtasks",onChangeSelection:"onChangeSelection",onCustomFieldValueChanged:"onCustomFieldValueChanged",onRenaming:"onRenaming",onOpenDependencyModal:"onOpenDependencyModal",toggleCreateSubtask:"toggleCreateSubtask"},features:[O.Hb([K]),O.Gb],ngContentSelectors:In,decls:68,vars:10,consts:function(){let t,e,a,i,o,n,s,c,r,l,u;return t=$localize`:@@common_delete␟826b25211922a1b46436589233cb6f1a163d89b7␟7022070615528435141:Delete`,e=$localize`:@@cu-task-row__tooltip-msg_clickapp-turned-off␟cd654754bed2acc8bc5ea79be6b42baf44547377␟4397872683465532367:The Clickapp is turned off on this Space`,a=$localize`:@@common_copy-task-id␟4e0fe85f1f6654aa5770cf07e8aedf57457b82d5␟2053193386661149821:Copy Task ID`,i=$localize`:@@common_copied␟501c37ede010e2df9eb7b59ca7d6ac3d73ce146c␟5392341774767336507:Copied!`,o=$localize`:@@common_copied␟501c37ede010e2df9eb7b59ca7d6ac3d73ce146c␟5392341774767336507:Copied!`,n=$localize`:@@cu-task-row__total-linked␟e5a0e9fc80b0a420ab061d24db318a65f2d4c8a9␟3099882906994173432:Linked`,s=$localize`:@@cu-task-row__total-linked␟e5a0e9fc80b0a420ab061d24db318a65f2d4c8a9␟3099882906994173432:Linked`,c=$localize`:␟c3ee7412c3648873c646ca2ab788d9c35648bb73␟1802476016119163411:{VAR_PLURAL, plural, =1 {1 Dependency} other {{INTERPOLATION}
          Dependencies}}`,c=O.lc(c,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),r=$localize`:@@cu-task-row_total-dependencies␟8de6e0a568aec6425a199fec006b1352ed7bc00b␟300799948906713043: ${c}:ICU: `,l=$localize`:␟1ee4623ef8783b92db08dad4da596603cc688f89␟8469008318116832717:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION}
            items}}`,l=O.lc(l,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),u=$localize`:@@cu-task-row__total-items␟6dfe240623268a06186abc318d79fed5856897d8␟2010609180424525617: ${l}:ICU: `,[["class","cu-task-row__subtasks-line",4,"ngIf"],["cuLazyItemPlaceholder","",1,"cu-task-row__placeholder"],["class","cu-task-row__placeholder-pulse",4,"ngIf"],["class","cu-task-row__placeholder-dot",3,"background",4,"ngIf"],["class","cu-task-row-status__done-btn","icon","check",4,"ngIf"],["class","cu-task-row__container",3,"cu-task-row__container-simple","cuHoverKeyDown","hoverKeyDown",4,"cuLazyItemBody"],[4,"ngIf"],["menuPlaceholder",""],["inboxTaskRowHoverActions",""],["defaultRowTemplate",""],["stubRowTemplate",""],["customFieldRowTemplate",""],["statusRowTemplate",""],["idRowTemplate",""],["customIdRowTemplate",""],["dateTimeRowTemplate",""],["datePickerRowTemplate",""],["timeTrackerRowTemplate",""],["timeEstRowTemplate",""],["pointsEstRowTemplate",""],["assigneeRowTemplate",""],["createdByRowTemplate",""],["priorityRowTemplate",""],["startDueDateRowTemplate",""],["readOnlyDateTemplate",""],["readOnlyDateRowTemplate",""],["checkStatusRowTemplate",""],["rowColumnsTemplate",""],["latestCommentTemplate",""],["unResolveCommentCountTemplate",""],["commentCountTemplate",""],["timeInStatusTemplate",""],["multipleListTemplate",""],["sprintListTemplate",""],["prTemplate",""],["linkedTemplate",""],["rollupColumnTemplate",""],[1,"cu-task-row__subtasks-line"],[1,"cu-task-row__subtasks-line-item"],[1,"cu-task-row__placeholder-pulse"],[1,"cu-task-row__placeholder-dot"],["icon","check",1,"cu-task-row-status__done-btn"],[1,"cu-task-row__container",3,"cuHoverKeyDown","hoverKeyDown"],["cuPreventDefault","",3,"selected","disabled","onChangeSelection",4,"ngIf"],["class","cu-task-row__handle","cdkDragHandle","","cuPreventDefault","",3,"icon",4,"ngIf"],[1,"cu-task-row__main"],["class","cu-task-row__arrow",3,"click",4,"ngIf"],[3,"status","hasCustomType","isSubtask","itemClass","statuses","isSimpleStatus","parentIsSimpleStatus","showSettings","disabled","cuTooltip","tooltipModifier","onLoad","onChange","onToggle","onOpenSettings"],["class","cu-task-row__main-icon-subtask","icon","cu2-subtask",3,"cuTooltip",4,"ngIf"],[1,"cu-task-row-main",3,"text","editing","autosize","listenForIndents","preventUpdateSameValue","onIndent","onChange","onCancel"],[3,"disabled","readOnly","dropdownOpen","task","displayCustomType","tasksHovered","breadcrumbs","hideCreateSubtask","hasCustomType","dontShowParentTaskEver","viewPreferences","showSubtasks","showClosedSubtasks","parentSpace","allowClosed","publicViewData","taskNameExtraTemplate","onOpenTask","onOpenParentTask","onToggleSubtasks","onRename","onOpenDependencyModal","toggleCreateSubtask"],["cuPreventDefault","","cu-task-row-tags","",3,"tags","tagsLoadingMap","value","taskId","projectId","disabled","manageTags","canAddTag","canRemoveTag","canManageTag","onlyDeleteIfOwner","canDelete","userId","projectAccess","readOnly","showFilter","onLoad","onChange","onClickTag",4,"ngIf"],["cuPreventDefault","","cu-task-row-tags-picker","",3,"tags","value","taskId","projectId","disabled","manageTags","canAddTag","canRemoveTag","canManageTag","projectAccess","onlyDeleteIfOwner","canDelete","userId","readOnly","showFilter","onLoad","onClose","onChange","onClickTag","onOpen",4,"ngIf"],["class","cu-task-row-main__recurring-icon",3,"disabled","tooltip","recurringTooltip","task","statuses","taskDone","notOverdue","dates","recurringOptions","recurringLegacyOptions","allowLegacyRecurring","legacyRecurring","recurringLegacyData","dateFormat","militaryTime","datePickerIcon","showOnlyIcon","onChange","onRecurringChange","onRecurringLegacyChange","click","onRecurringLegacyOpen","onOpen","onClose",4,"ngIf"],["cuPreventDefault","",3,"task","disabled","onChange",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-task-row__index",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","cu-task-row__remove-task",4,"ngIf"],[3,"disabled","task","hasCustomType","showCustomTypes","canDelete","forSubtasks","weights","users","readOnly","selectedProject","onAction","onLoadUsers","onRemoveAdditionalList",4,"ngIf","ngIfElse"],["cuPreventDefault","",3,"selected","disabled","onChangeSelection"],["cdkDragHandle","","cuPreventDefault","",1,"cu-task-row__handle",3,"icon"],[1,"cu-task-row__arrow",3,"click"],["icon","cu2-caret-down",1,"cu-task-row__arrow-icon"],["icon","cu2-subtask",1,"cu-task-row__main-icon-subtask",3,"cuTooltip"],["cuPreventDefault","","cu-task-row-tags","",3,"tags","tagsLoadingMap","value","taskId","projectId","disabled","manageTags","canAddTag","canRemoveTag","canManageTag","onlyDeleteIfOwner","canDelete","userId","projectAccess","readOnly","showFilter","onLoad","onChange","onClickTag"],["cuPreventDefault","","cu-task-row-tags-picker","",3,"tags","value","taskId","projectId","disabled","manageTags","canAddTag","canRemoveTag","canManageTag","projectAccess","onlyDeleteIfOwner","canDelete","userId","readOnly","showFilter","onLoad","onClose","onChange","onClickTag","onOpen"],[1,"cu-task-row-main__recurring-icon",3,"disabled","tooltip","recurringTooltip","task","statuses","taskDone","notOverdue","dates","recurringOptions","recurringLegacyOptions","allowLegacyRecurring","legacyRecurring","recurringLegacyData","dateFormat","militaryTime","datePickerIcon","showOnlyIcon","onChange","onRecurringChange","onRecurringLegacyChange","click","onRecurringLegacyOpen","onOpen","onClose"],["cuPreventDefault","",3,"task","disabled","onChange"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cu-task-row__index"],[3,"ngTemplateOutlet"],[1,"cu-task-row__remove-task"],[1,"cu-task-row__remove-task-icon",3,"icon","cuPreventDefault","cuTooltip","click"],[3,"disabled","task","hasCustomType","showCustomTypes","canDelete","forSubtasks","weights","users","readOnly","selectedProject","onAction","onLoadUsers","onRemoveAdditionalList"],["rowMenu",""],[3,"width",4,"ngIf"],["class","cu-task-row__actions","cuPreventDefault","",3,"cu-task-row__actions-inbox-dropdown-open",4,"ngIf"],["cuPreventDefault","",1,"cu-task-row__actions"],["class","cu-task-row__remove","icon","cu2-trash-alt","cuTooltip",t,"tooltipDelay","500","tooltipModifier","tooltip_near",3,"click",4,"ngIf"],["icon","cu2-trash-alt","cuTooltip",t,"tooltipDelay","500","tooltipModifier","tooltip_near",1,"cu-task-row__remove",3,"click"],[1,"cu-task-row__column-stub"],[3,"class","width","ngClass",4,"ngIf"],[3,"ngClass"],[3,"field","forListView","readOnly","task","team","permissions","allCustomFields","useRollups","fieldValueChange","fieldSaveSuccess","fieldDeleteSuccess","mousedown",4,"ngIf"],["class","cu-task-row__column-stub","cuTooltip",e,4,"ngIf"],[3,"field","forListView","readOnly","task","team","permissions","allCustomFields","useRollups","fieldValueChange","fieldSaveSuccess","fieldDeleteSuccess","mousedown"],["cuTooltip",e,1,"cu-task-row__column-stub"],[3,"itemClass","hasCustomType","status","statuses","isSimpleStatus","showSettings","showText","disabled","colorBackground","onLoad","onChange","onToggle","onOpenSettings"],["ngxClipboard","","cuPreventDefault","","cuClipboardCopied","",1,"cu-task-row__id",3,"cbContent","timeout","cbOnSuccess"],["clipboardHelper","cuClipboardCopied"],["class","cu-task-row__id-body","cuTooltip",a,4,"ngIf"],["cuTooltip",a,1,"cu-task-row__id-body"],["taskIdTmpl",""],i,["class","cu-task-row__id-body",3,"cuTooltip",4,"ngIf"],[1,"cu-task-row__id-body",3,"cuTooltip"],["customTaskIdTmpl",""],o,[1,"cu-task-row__datetime"],[1,"cu-task-row__datetim-body"],[3,"date","noRelational","noHighlight","showOnlyTimeForToday"],[3,"width","field","disabled","tooltip","recurringTooltip","notOverdue","taskDone","dates","task","statuses","recurringOptions","recurringLegacyOptions","allowLegacyRecurring","legacyRecurring","recurringLegacyData","dateConflict","dateFormat","militaryTime","dualDate","hideDate","datePickerIcon","showOnlyIcon","onChange","onRecurringChange","onRecurringLegacyChange","onRecurringLegacyOpen","onOpen","onClose",4,"ngIf"],["class","cu-task-row__date-picker",3,"width",4,"ngIf"],[3,"field","disabled","tooltip","recurringTooltip","notOverdue","taskDone","dates","task","statuses","recurringOptions","recurringLegacyOptions","allowLegacyRecurring","legacyRecurring","recurringLegacyData","dateConflict","dateFormat","militaryTime","dualDate","hideDate","datePickerIcon","showOnlyIcon","onChange","onRecurringChange","onRecurringLegacyChange","onRecurringLegacyOpen","onOpen","onClose"],[1,"cu-task-row__date-picker"],[3,"width","dontShowRollup","disabled","parentSpace","rollups","user","team","timeTrackerTaskData","task","onChange","onTimeTrackerAction","startTrialFromTimeTracking",4,"ngIf"],["class","cu-task-row__time-track",3,"width",4,"ngIf"],[3,"dontShowRollup","disabled","parentSpace","rollups","user","team","timeTrackerTaskData","task","onChange","onTimeTrackerAction","startTrialFromTimeTracking"],[1,"cu-task-row__time-track"],["class","cu-task-row__time-estimate",3,"width","ngClass",4,"ngIf"],["class","cu-task-row__time-estimate",3,"width",4,"ngIf"],[1,"cu-task-row__time-estimate",3,"ngClass"],[3,"permissions","task","team","user","header","rollup","dontShowRollup","showIndiviudalEstimates","timeEstimatesTooltip","timeEstimateData","limitedEdit","onTimeEstimateAction"],[1,"cu-task-row__time-estimate"],[3,"dontShowRollup","pointsBoxUser","task","showUnit"],[3,"disabled","multipleAssignees","assignees","groupAssignees","weights","userGroups","users","colWidth","tooltip","assigneePickerIcon","task","subcategory","onLoad","onChange","onUserGroupsChange"],[3,"disabled","multipleAssignees","assignees","users","colWidth","tooltip","assigneePickerIcon"],["class","cu-task-row__priority",3,"ngClass","width","disabled","prioritySelected","onChange",4,"ngIf"],["class","cu-task-row__priority cu-task-row__priority_stub",3,"width",4,"ngIf"],[1,"cu-task-row__priority",3,"ngClass","disabled","prioritySelected","onChange"],["priorityDropdown",""],["modifier","cu-priorities-view__icon-task-lv","placeModifier","lv-task",3,"priority","remove","prioritiesTooltip","removePriority"],[1,"cu-task-row__priority","cu-task-row__priority_stub"],[1,"cu-task-row-date-picker__dual-dates",3,"ngClass"],[3,"status","itemClass","statuses","hasCustomType","isSimpleStatus","showCheckmark","parentIsSimpleStatus","showSettings","disabled","onLoad","onChange","onToggle","onOpenSettings","onDropdownOpen","onDropdownClose",4,"ngIf"],[3,"status","itemClass","statuses","hasCustomType","isSimpleStatus","showCheckmark","parentIsSimpleStatus","showSettings","disabled","onLoad","onChange","onToggle","onOpenSettings","onDropdownOpen","onDropdownClose"],["class","cu-task-row__latest-comment cu-task-row__latest-comment_clickable",3,"width","click",4,"ngIf"],["class","cu-task-row__latest-comment cu-task-row__latest-comment_blank",3,"width",4,"ngIf"],[1,"cu-task-row__latest-comment","cu-task-row__latest-comment_clickable",3,"click"],[3,"comment","taskId","loadMentions","textOnly"],[1,"cu-task-row__latest-comment","cu-task-row__latest-comment_blank"],["showComment",""],[1,"cu-task-row__unresolved-comment-count"],["cuDropdown","",1,"cu-task-row__comment-count",3,"dropdownRepositionFlag","dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownDisabled","dropdownOpen"],["assignedCommentDropdown","dropdown"],["cuDropdownToggle","",1,"cu-task-row__comment-count-toggle"],["icon","cu2-comment-lines",1,"cu-task-row__comment-count-icon"],["class","cu-task-row__comment-count-menu",4,"cuDropdownMenu"],[1,"cu-task-row__comment-count-menu"],["assignedCommentDropdownMenu",""],[3,"parentId","showUnassign","showUnresolvedCommentsOnly","type","permissions","permissionLevel","project","user","focusOnInit","canComment","users","assignedComments","showUserGroups","popupInBody","taskUserGroups","profileOpened","taskOpened","onLoad"],["commentDropdown","dropdown"],["commentDropdownMenu",""],[3,"parentId","type","permissions","permissionLevel","project","user","focusOnInit","canComment","users","assignedComments","showUserGroups","popupInBody","taskUserGroups","profileOpened","taskOpened","onLoad"],[3,"task","displayType","statuses","onLoadStatuses"],[3,"task","permissions","listGroup","team","isGuest","width","selectedProject","onSelect","onRemove","onMoveTask"],[3,"task","permissions","listGroup","team","isGuest","width","sprintOnly","selectedProject","onSelect","onRemove","onMoveTask"],[1,"cu-task-row__pr"],["class","cu-task-row__pr-container",4,"ngIf"],[1,"cu-task-row__pr-container"],[1,"cu-task-row__pr-icon","cu-task-row__pr-icon-git","cu-task-row__pr-icon-placeholder",3,"icon"],[1,"cu-task-row__pr-icon","cu-task-row__pr-icon-git",3,"icon","cuTooltip","click"],[1,"cu-task-row__pr-icon",3,"icon","cuTooltip","click"],["cuDropdown","",1,"cu-task-row__linked",3,"dropdownCloseOnInsideClick","dropdownCloseOnModal","dropdownDisabled","dropdownPlacement","dropdownRepositionFlag","dropdownDestroyMenuOnClose","dropdownOpen"],["linkedDropdown","dropdown"],["cuDropdownToggle","",1,"cu-task-row__linked-toggle"],["class","cu-dropdown__menu_overflow-hidden cu-task-row__linked-menu",4,"cuDropdownMenu"],["noLinkedList",""],n,["noLinkedNamesList",""],["class","cu-task-row__linked-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-task-row__linked-item"],[1,"cu-task-row__linked-item-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","tooltipDelay"],s,["noDependencies",""],r,u,[1,"cu-dropdown__menu_overflow-hidden","cu-task-row__linked-menu"],[3,"relationships","isOffline","integrationsEnabled","team","user","hostTask","features","project","singleSection","saveRelationshipChanges","setRelationships","reloadRelationshipLinks","taskOpened",4,"ngIf"],[3,"relationships","isOffline","integrationsEnabled","team","user","hostTask","features","project","singleSection","saveRelationshipChanges","setRelationships","reloadRelationshipLinks","taskOpened"],[1,"cu-task-row__rollup"],["notCalculation",""],["class","cu-portfolios__task-statuses",4,"ngIf","ngIfElse"],["regularValue",""],[1,"cu-portfolios__task-statuses"],["class","cu-portfolios__task-status-wrapper","tooltipModifier","tooltip_for-portfolios-statuses",3,"cuTooltip","tooltipBackgroundColor","width",4,"ngFor","ngForOf","ngForTrackBy"],["tooltipModifier","tooltip_for-portfolios-statuses",1,"cu-portfolios__task-status-wrapper",3,"cuTooltip","tooltipBackgroundColor"],[1,"cu-portfolios__task-status"],["class","cu-task-row__rollup-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cu-task-row__rollup-item"],[1,"cu-task-row__rollup-item-text",3,"cuTooltip","tooltipDisabledIfTextNotTruncated","tooltipDelay"]]},template:function(t,e){1&t&&(O.Cc(Tn),O.bd(0,Ba,2,0,"div",0),O.cc(1,"div",1),O.bd(2,Ga,1,1,"div",2),O.bd(3,Xa,1,2,"div",3),O.bd(4,Wa,1,0,"div",4),O.dd(5),O.bc(),O.bd(6,pi,19,61,"div",5),O.bd(7,mi,2,0,"ng-container",6),O.bd(8,gi,1,1,"ng-template",null,7,O.cd),O.bd(10,ki,1,1,"ng-template",null,8,O.cd),O.bd(12,_i,0,0,"ng-template",null,9,O.cd),O.bd(14,wi,1,2,"ng-template",null,10,O.cd),O.bd(16,Ii,1,1,"ng-template",null,11,O.cd),O.bd(18,Ci,1,11,"ng-template",null,12,O.cd),O.bd(20,ji,3,5,"ng-template",null,13,O.cd),O.bd(22,Ri,3,7,"ng-template",null,14,O.cd),O.bd(24,Fi,3,6,"ng-template",null,15,O.cd),O.bd(26,Ui,2,2,"ng-template",null,16,O.cd),O.bd(28,Vi,2,2,"ng-template",null,17,O.cd),O.bd(30,Gi,2,2,"ng-template",null,18,O.cd),O.bd(32,Hi,2,2,"ng-template",null,19,O.cd),O.bd(34,Zi,1,14,"ng-template",null,20,O.cd),O.bd(36,Ki,1,11,"ng-template",null,21,O.cd),O.bd(38,eo,2,2,"ng-template",null,22,O.cd),O.bd(40,oo,1,5,"ng-template",null,23,O.cd),O.bd(42,so,4,14,"ng-template",null,24,O.cd),O.bd(44,lo,1,13,"ng-template",null,25,O.cd),O.bd(46,po,1,1,"ng-template",null,26,O.cd),O.bd(48,go,1,2,"ng-template",null,27,O.cd),O.bd(50,ko,2,2,"ng-template",null,28,O.cd),O.bd(52,yo,3,2,"ng-template",null,29,O.cd),O.bd(54,To,6,7,"ng-template",null,30,O.cd),O.bd(56,Io,1,5,"ng-template",null,31,O.cd),O.bd(58,Co,1,9,"ng-template",null,32,O.cd),O.bd(60,Do,1,10,"ng-template",null,33,O.cd),O.bd(62,Fo,5,6,"ng-template",null,34,O.cd),O.bd(64,hn,11,16,"ng-template",null,35,O.cd),O.bd(66,xn,2,3,"ng-template",null,36,O.cd)),2&t&&(O.Dc("ngIf",null==e.task?null:e.task.parent),O.Ib(1),O.ad("border-left-color",!(null!=e.task&&e.task.parent||null==e.task)&&e.task.simple_statuses||e.parentIsSimpleStatus||"cu-task-row-status_dot"===e.statusStyleType?null:(null==e.task||null==e.task.status?null:e.task.status.color)||(null==e.task||null==e.task.status?null:e.task.status.colors)&&(null==e.task||null==e.task.status?null:e.task.status.colors[0])),O.Ob("cu-task-row__placeholder_simple",!(null!=e.task&&e.task.parent)&&(null==e.task?null:e.task.simple_statuses)||e.parentIsSimpleStatus),O.Ib(1),O.Dc("ngIf",!(null!=e.task&&null!=e.task.status&&e.task.status.color||null!=e.task&&null!=e.task.status&&e.task.status.colors)&&"cu-task-row-status_dot"===e.statusStyleType),O.Ib(1),O.Dc("ngIf",((null==e.task||null==e.task.status?null:e.task.status.color)||(null==e.task||null==e.task.status?null:e.task.status.colors))&&!((null==e.task||!e.task.parent)&&null!=e.task&&e.task.simple_statuses||e.parentIsSimpleStatus)&&"cu-task-row-status_dot"===e.statusStyleType),O.Ib(1),O.Dc("ngIf",((null==e.task||null==e.task.status?null:e.task.status.color)||(null==e.task||null==e.task.status?null:e.task.status.colors))&&(!(null!=e.task&&e.task.parent)&&(null==e.task?null:e.task.simple_statuses)||e.parentIsSimpleStatus)),O.Ib(1),O.fd(" ",null==e.task?null:e.task.name,"\n"),O.Ib(2),O.Dc("ngIf",e.showSubtasks))},directives:[l.q,ot.a,nt.a,st.a,ct.a,rt.a,lt.a,ut.a,xe,l.p,Ie,Tt.a,r.b,Ce.a,De.a,Se.a,l.x,$e,l.o,Re.a,h.a,Fe.a,Me.a,Ee.a,Ue.a,Le.a,ze.a,Ve.a,Ne.a,qe.a,It.b,Ct.a,Dt.a,Be.a,na,sa.a,ca.a,Pt.a],pipes:[l.B,ra.a,la.a,ua.a,da.a,pa.a,ma.a,ha.a],styles:['.cu-task-row{display:block;padding:0;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:0;background:#fff}.dark-theme .cu-task-row{background:#2b343b}.cu-task-list__subtasks .cu-task-row.drop-after:after,.cu-task-list__subtasks .cu-task-row.drop-after:before,.cu-task-list__subtasks .cu-task-row.drop-before:after,.cu-task-list__subtasks .cu-task-row.drop-before:before{left:54px}.cu-task-list__subtasks .cu-task-row.drop-inside:after,.cu-task-list__subtasks .cu-task-row.drop-inside:before{left:84px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:before,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:before{left:88px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:before{left:118px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:before,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:before{left:122px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:before{left:152px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:before,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:before{left:156px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:before{left:186px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:before,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:before{left:190px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:before{left:220px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:before,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:before{left:224px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:before{left:254px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-after:before,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-before:before{left:258px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:after,.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row.drop-inside:before{left:288px}.cu-task-row__subtasks-line{display:none;position:absolute;width:100%;height:100%;bottom:0;margin-left:9px;z-index:15;pointer-events:none}.cu-task-list__subtasks .cu-task-row__subtasks-line{margin-left:9px}.cu-task-list__subtasks .cu-task-row__subtasks-line-item{left:8px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line{margin-left:43px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line-item{left:42px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line{margin-left:77px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line-item{left:76px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line{margin-left:111px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line-item{left:110px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line{margin-left:145px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line-item{left:144px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line{margin-left:179px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line-item{left:178px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line{margin-left:213px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__subtasks-line-item{left:212px}.cu-task-list__subtasks .cu-task-row__subtasks-line{display:block}.cu-task-row:last-child>.cu-task-row__subtasks-line{display:none}.cu-task-row__subtasks-line-item{position:sticky;left:0;width:1px;height:100%;background:#e9ebf0}.dark-theme .cu-task-row__subtasks-line-item{background:#7c828d}.cu-task-row__unresolved-comment-count{display:flex;align-items:center;justify-content:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#292d34}.dark-theme .cu-task-row__unresolved-comment-count{color:#abaeb0}.cu-task-row__unresolved-comment-count-zero,.dark-theme .cu-task-row__unresolved-comment-count-zero{color:#67cb48}.cu-task-row_readonly{cursor:pointer}.cu-task-row__arrow{position:absolute;width:16px;height:25px;padding:4px;cursor:pointer;border-radius:4px;transform:translateX(-5px);z-index:10;background:#fff}.dark-theme .cu-task-row__arrow{background:#2b343b}.cu-task-row__arrow:hover .cu-task-row__arrow-icon{fill:#7c828d}.dark-theme .cu-task-row__arrow:hover .cu-task-row__arrow-icon{fill:#abaeb0}.cu-task-row__arrow-icon{transition:transform .2s cubic-bezier(.785,.135,.15,.86) 0s;transform:rotate(-90deg);fill:#b9bec7}.dark-theme .cu-task-row__arrow-icon{fill:#7c828d}.cu-task-row__arrow-icon_expanded{transform:rotate(0deg)}.cu-task-row_selected>.cu-task-row__container{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row_selected>.cu-task-row__container{border-color:var(--theme-main-color)}}.dark-theme .cu-task-row_selected>.cu-task-row__container{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.dark-theme .cu-task-row_selected>.cu-task-row__container{border-color:var(--theme-main-color)}}.cu-task-row_selected>.cu-task-row__container>.cu-task-row__main{border-top:1px solid;border-bottom:1px solid;padding-top:0;padding-bottom:0}@supports (--theme-main-color:#7b68ee){.cu-task-row_selected>.cu-task-row__container>.cu-task-row__main{border-top-color:var(--theme-main-color);border-bottom-color:var(--theme-main-color)}}.cu-task-row__remove-task{display:flex;align-items:center;width:74px;min-width:74px;flex-shrink:0}.cu-task-row__remove-task-icon{position:absolute;right:10px;display:none;width:16px;height:16px;padding:4px;cursor:pointer;fill:#b9bec7}.dark-theme .cu-task-row__remove-task-icon{fill:#7c828d}.cu-task-row__remove-task-icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row__remove-task-icon:hover{fill:var(--theme-main-color)}}.cu-task-row:hover .cu-task-row__remove-task-icon{display:block}.cu-task-row__placeholder{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13.5px;line-height:1.5;display:flex;align-items:center;height:100%;background-color:#fff;box-shadow:0 0 10px 0 rgba(0,0,0,.05);color:#000;border-left:3px solid #fff;min-height:36px;padding-top:1px;padding-bottom:1px;box-sizing:content-box;position:relative}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row__placeholder{font-family:var(--global-font-support)}}.dark-theme .cu-task-row__placeholder{background:#2b343b;box-shadow:0 0 10px 0 rgba(117,86,86,.2);color:#d5d6d7;border-left-color:#2b343b}.cu-task-row__placeholder{padding-left:39px}.cu-task-list__subtasks .cu-task-row__placeholder{padding-left:73px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__placeholder{padding-left:107px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__placeholder{padding-left:141px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__placeholder{padding-left:175px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__placeholder{padding-left:209px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__placeholder{padding-left:243px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__placeholder{padding-left:277px}.cu-task-list__subtasks .cu-task-row__placeholder,.dark-theme .cu-task-list__subtasks .cu-task-row__placeholder{box-shadow:none}.cu-task-row__placeholder-dot,.cu-task-row__placeholder-pulse{content:"";display:block;position:absolute;width:8px;height:8px;border-radius:2px;background:currentColor;margin-left:-22px}.cu-task-row__placeholder-pulse{opacity:.4;animation:statusPlaceholderPulse .4s linear both}@keyframes statusPlaceholderPulse{0%{transform:scale3d(0,0,0)}40%{transform:scale3d(.7,.7,.7)}to{transform:scaleX(1)}}.cu-task-row__placeholder .cu-task-row-status__done-btn{box-sizing:border-box;margin-left:-28px;margin-right:8px}.cu-task-row__container{display:flex;position:sticky;top:45px;width:100%;min-height:38px;z-index:10;transform:translateZ(0);background:#fff;border:1px solid #fff;box-shadow:0 0 10px 0 rgba(0,0,0,.05)}.dark-theme .cu-task-row__container{background:#2b343b;border-color:#2b343b;box-shadow:0 0 10px 0 rgba(117,86,86,.2)}.cu-task-row__container:hover{background:#fafbfc}.dark-theme .cu-task-row__container:hover{background:#384047}.cu-task-row__container:hover .cu-task-row__actions,.cu-task-row__container:hover .cu-task-row__main{background:rgba(250,251,252,.9)}.dark-theme .cu-task-row__container:hover .cu-task-row__actions,.dark-theme .cu-task-row__container:hover .cu-task-row__main{background:rgba(56,64,71,.9)}.cu-task-row__container:hover .cu-task-row__actions:before{background:linear-gradient(90deg,rgba(250,251,252,0) 0,rgba(250,251,252,.9))}.dark-theme .cu-task-row__container:hover .cu-task-row__actions:before{background:linear-gradient(90deg,rgba(56,64,71,0) 0,rgba(56,64,71,.9))}.cu-task-row:hover .cu-task-row__container:hover .cu-task-row__actions:before{display:block}.cu-user-box__task-row .cu-task-row__container:hover .cu-task-row__main{background:#fff}.dark-theme .cu-user-box__task-row .cu-task-row__container:hover .cu-task-row__main{background:#384047}.cu-task-row__container:hover .cu-task-row__arrow{background:#fafbfc}.dark-theme .cu-task-row__container:hover .cu-task-row__arrow{background:#384047}.cu-task-row__container:hover .cu-task-row-assignee:after,.cu-task-row__container:hover .cu-task-row__custom-field_fadeout:after,.cu-task-row__container:hover .cu-task-row__datetime:after,.cu-task-row__container:hover .cu-task-row__id:after,.cu-task-row__container:hover .cu-task-row__priority:after,.cu-task-row__container:hover .cu-task-row__time-estimate:after{background:linear-gradient(90deg,rgba(250,251,252,0) 0,#fafbfc)}.dark-theme .cu-task-row__container:hover .cu-task-row-assignee:after,.dark-theme .cu-task-row__container:hover .cu-task-row__custom-field_fadeout:after,.dark-theme .cu-task-row__container:hover .cu-task-row__datetime:after,.dark-theme .cu-task-row__container:hover .cu-task-row__id:after,.dark-theme .cu-task-row__container:hover .cu-task-row__priority:after,.dark-theme .cu-task-row__container:hover .cu-task-row__time-estimate:after{background:linear-gradient(90deg,rgba(56,64,71,0) 0,#384047)}.cu-dashboard-table_public-sharing .cu-task-row__container{box-shadow:0 0 10px 0 rgba(0,0,0,.08)}.dark-theme .cu-dashboard-table_public-sharing .cu-task-row__container{box-shadow:0 0 10px 0 rgba(117,86,86,.2)}.cu-task-list__subtasks .cu-task-row__container,.dark-theme .cu-task-list__subtasks .cu-task-row__container{box-shadow:none}.cu-task-row__container>*{flex-shrink:0}.cu-task-row__container .cu-stroke-dasharray{display:none}.cu-task-row__container-simple .cu-task-row-status_border,.cu-task-row__container-simple .cu-task-row-status_dot{display:flex;align-items:center;justify-content:center;min-width:36px}.cu-task-row__container-simple .cu-task-row-status_border:after,.cu-task-row__container-simple .cu-task-row-status_border:before,.cu-task-row__container-simple .cu-task-row-status_dot:after,.cu-task-row__container-simple .cu-task-row-status_dot:before{display:none}.cu-task-row__remove{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:36px;height:36px;padding:10px;margin-right:-10px;cursor:pointer;align-self:center;display:none;fill:#7c828d}.dark-theme .cu-task-row__remove{fill:#82868d}.cu-task-row__remove:hover{fill:#fd71af}.cu-task-row:hover .cu-task-row__remove{display:block}.cu-task-row .cu-task-row-assignee__icon,.cu-task-row .cu-task-row-date-picker__icon{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#7c828d}.dark-theme .cu-task-row .cu-task-row-assignee__icon,.dark-theme .cu-task-row .cu-task-row-date-picker__icon{fill:#82868d}.cu-task-row .cu-task-row-assignee__icon:hover,.cu-task-row .cu-task-row-date-picker__icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row .cu-task-row-assignee__icon:hover,.cu-task-row .cu-task-row-date-picker__icon:hover{fill:var(--theme-main-color)}}.cu-task-row__index{font-size:8px;line-height:8px}.cu-task-row__handle{position:absolute;flex-shrink:0;width:14px;padding:0;left:-15px;opacity:0;cursor:move;overflow:hidden;display:none;fill:#bcc0c7}.dark-theme .cu-task-row__handle{fill:#828588}.cu-task-row__handle:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row__handle:hover{fill:var(--theme-main-color)}}.cu-task-row__handle_disabled{cursor:not-allowed}.cu-dashboard-table .cu-task-row__handle,.cu-inbox-list__block .cu-task-row__handle,.cu-user-box__container .cu-task-row__handle{display:flex;align-items:center}.cu-dashboard-table .cu-task-row__container:hover .cu-task-row__handle,.cu-inbox-list__block .cu-task-list__rows:not(.cdk-drop-list-dragging) .cu-task-row__container:hover .cu-task-row__handle,.cu-user-box__container .cu-task-row__container:hover .cu-task-row__handle{opacity:1}.cu-task-list__subtasks .cu-task-row__handle{left:-15px}.cu-task-row__handle svg{width:6px;height:23px}.cu-task-row__column-stub{cursor:not-allowed;height:28px}.cu-task-row__column-stub:hover{background-color:rgba(52,52,52,.05)}.dark-theme .cu-task-row__column-stub:hover{background:rgba(30,39,46,.5)}.cu-task-row__main{display:flex;align-items:center;min-width:349px;flex-shrink:1;flex-grow:1;left:0;margin:-1px 0;z-index:10;padding:1px 5px;transform:translateZ(0);background:hsla(0,0%,100%,.9)}.dark-theme .cu-task-row__main{background:rgba(43,52,59,.9)}.cu-task-row_sticky .cu-task-row__main{position:sticky}@media screen and (max-width:768px){.cu-task-row__main{max-width:30%;min-width:0}}.cu-task-list__subtasks .cu-task-row__main{padding-left:39px;min-width:315px}.cu-task-list_dragging .cu-task-list__subtasks .cu-task-row__main{min-width:315px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{padding-left:73px;min-width:281px}.cu-task-list_dragging .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{min-width:281px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{padding-left:107px;min-width:247px}.cu-task-list_dragging .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{min-width:247px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{padding-left:141px;min-width:213px}.cu-task-list_dragging .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{min-width:213px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{padding-left:175px;min-width:179px}.cu-task-list_dragging .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{min-width:179px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{padding-left:209px;min-width:145px}.cu-task-list_dragging .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{min-width:145px}.cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{padding-left:243px;min-width:111px}.cu-task-list_dragging .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-list__subtasks .cu-task-row__main{min-width:111px}.cu-task-list__subtasks .cu-task-row:last-child .cu-task-row__main:before{content:"";display:block;position:absolute;width:34px;height:50%;border-bottom-left-radius:6px;border-left:1px solid #e9ebf0;border-bottom:1px solid #e9ebf0;margin-left:-31px;margin-top:0;bottom:50%;pointer-events:none;transform:translateZ(0);background:transparent}.dark-theme .cu-task-list__subtasks .cu-task-row:last-child .cu-task-row__main:before{border-color:#7c828d;background:transparent}.cu-task-list__subtasks .cu-task-row__main:before{content:"";display:block;position:fixed;width:1px;height:100%;bottom:0;margin-left:-31px;pointer-events:none;background:#e9ebf0}.dark-theme .cu-task-list__subtasks .cu-task-row__main:before{background:#7c828d}.cu-task-list__subtasks .cu-task-row__main:after{content:"";display:block;position:absolute;width:34px;height:6px;bottom:50%;margin-left:-31px;pointer-events:none;border-bottom-left-radius:8px;border-left:1px solid #e9ebf0;border-bottom:1px solid #e9ebf0}.dark-theme .cu-task-list__subtasks .cu-task-row__main:after{border-bottom-color:#7c828d;border-left-color:#7c828d}.cu-task-row__main-icon-subtask{width:16px;height:16px;margin-right:10px;display:inline-block;pointer-events:all;fill:#aeacb0}.cu-task-list__subtasks .cu-task-row__main-icon-subtask{display:none}.cu-task-row__actions{display:flex;align-items:center;height:100%;position:absolute;right:10px;z-index:15;background:#fff}.dark-theme .cu-task-row__actions{background:#2b343b}.cu-user-box__task-row .cu-task-row__actions{height:auto;position:relative;right:auto}.dark-theme .cu-user-box__task-row .cu-task-row__actions{background:#384047}.cu-task-row.cu-user-box__task-row:hover .cu-task-row__actions:before{display:none}.cu-task-row__actions:before{content:"";display:block;position:absolute;display:none;width:5px;height:100%;left:-5px;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row__actions:before{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row:hover .cu-task-row__actions:before{display:block}.cu-task-row__custom-field{width:150px;flex-shrink:0;padding:0;display:flex;position:relative}.cu-task-row__custom-field cu-custom-field{width:100%;align-items:center;display:flex}.cu-task-row__custom-field .cu-custom-field__content{padding:0 8px;color:#343434;text-align:center;justify-content:center}.dark-theme .cu-task-row__custom-field .cu-custom-field__content{color:#abaeb0}.cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__email,.cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__phone,.cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__url{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:11px;line-height:1;height:100%}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__email,.cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__phone,.cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__url{font-family:var(--global-font-support)}}.cu-task-row_auto-wrap .cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__email,.cu-task-row_auto-wrap .cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__phone,.cu-task-row_auto-wrap .cu-task-row__custom-field .cu-custom-field__content .cu-custom-fields__header-items-value__url{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;white-space:normal;overflow:visible;text-overflow:clip;padding-top:5px;padding-bottom:5px;text-align:center}.cu-task-row__custom-field .cu-custom-field-type-tasks-list,.cu-task-row__custom-field .cu-custom-field-type-tasks__container,.cu-task-row__custom-field .cu-edit-task-custom-field-value{justify-content:center}.cu-task-row__custom-field .cu-edit-task-custom-field-value__automaticprogress{margin-left:8px}.cu-task-row__custom-field .cu-edit-task-custom-field-value__automaticprogress-value{margin:0 5px 0 0}.cu-task-row__custom-field .cu-edit-task-custom-field-value__manual_progress{padding:0}.cu-task-row__custom-field .cu-custom-field .cu-custom-fields__form-input{font-size:11px;justify-content:center}.cu-task-row__custom-field_manual_progress{padding:0 8px}.cu-task-row__custom-field_drop_down{margin:-1px 0;padding:0;align-self:stretch;cursor:pointer}.cu-task-row__custom-field_drop_down .cu-custom-field,.cu-task-row__custom-field_drop_down .cu-custom-fields__header-items-value__dropdown-option,.cu-task-row__custom-field_drop_down .cu-edit-task-custom-field-value,.cu-task-row__custom-field_drop_down cu-custom-field{width:100%;height:100%;border-radius:0;justify-content:center}.cu-task-row__custom-field_drop_down .cu-custom-fields__header-items-value__dropdown-option{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s}.cu-task-row__custom-field_drop_down .cu-custom-fields__header-items-value__dropdown-option:hover{opacity:.8}.dark-theme .cu-task-row__custom-field_drop_down .cu-custom-fields__header-items-value__dropdown-option:hover{opacity:.9}.cu-task-row__custom-field_drop_down .cu-custom-fields__header-items-value__dropdown-option-text{font-weight:400;font-size:13px;line-height:1.2}.cu-task-row_auto-wrap .cu-task-row__custom-field_drop_down .cu-custom-fields__header-items-value__dropdown-option-text{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;white-space:normal;overflow:visible;text-overflow:clip;padding-top:5px;padding-bottom:5px;text-align:center}.cu-task-row__custom-field_drop_down .cu-custom-fields__form-input.cu-custom-fields__form-input_placeholder{color:#343434;opacity:1;font-size:11px;justify-content:center}.dark-theme .cu-task-row__custom-field_drop_down .cu-custom-fields__form-input.cu-custom-fields__form-input_placeholder{color:#d5d6d7}.cu-task-row__custom-field_labels{overflow:visible}.cu-task-row__custom-field_labels .cu-custom-fields__form-input.cu-custom-fields__form-input_placeholder{color:#343434;opacity:1;font-size:11px;padding-left:14px;justify-content:center}.dark-theme .cu-task-row__custom-field_labels .cu-custom-fields__form-input.cu-custom-fields__form-input_placeholder{color:#d5d6d7}.cu-task-row__custom-field_fadeout:after{content:"";display:block;position:absolute;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row__custom-field_fadeout:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row__custom-field .cu-task-row__column-stub{width:100%}.cu-task-row__custom-field .cu-location-input__input{text-align:center}.cu-task-row__id{flex-shrink:0;width:73px;font:12px Gotham Pro,Proxima Nova,arial,serif;color:rgba(52,52,52,.5);display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.cu-task-row__id:after{content:"";display:block;position:absolute;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row__id:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row__id-body{cursor:pointer;height:20px;display:flex;align-items:center;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.cu-task-row_auto-wrap .cu-task-row__id-body{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;height:auto;padding:5px;text-align:center}.cu-task-row__datetime{display:flex;justify-content:center;align-items:center;flex-shrink:0;width:73px;position:relative;overflow:hidden}@media print{.cu-task-row__datetime{width:50px}}.cu-task-row__datetime:after{content:"";display:block;position:absolute;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row__datetime:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row__datetime-body{display:inline-block}.cu-task-row__datetime .due-date__info-value{cursor:default;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.dark-theme .cu-task-row__datetime .due-date__info-value{color:#abaeb0}.cu-task-row__latest-comment{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;display:flex;align-items:center;word-break:break-word;margin:5px}.cu-task-row__latest-comment cu-comment{font-size:11px;line-height:15px;max-width:100%}.cu-task-row__latest-comment cu-comment a{color:#4a90e2;text-decoration:underline}.cu-task-row__latest-comment cu-comment a:hover{text-decoration:none}.dark-theme .cu-task-row__latest-comment cu-comment a{color:#72b3fd}.cu-task-row__latest-comment .cu-comment-viewer-content{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.cu-task-row_auto-wrap .cu-task-row__latest-comment .cu-comment-viewer-content{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;display:block}.cu-task-row__latest-comment .cu-comment-viewer-content>*{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.cu-task-row_auto-wrap .cu-task-row__latest-comment .cu-comment-viewer-content>*{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;display:block}.cu-task-row__latest-comment .ql-doc-mention__icon{width:30px}.cu-task-row__latest-comment cu-doc-page{display:none}.cu-task-row__latest-comment_clickable{cursor:pointer}.cu-task-row__latest-comment_blank{justify-content:center}.cu-task-row__linked{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif}.cu-task-row_auto-wrap .cu-task-row__linked{display:flex;align-items:center;text-align:center}.cu-task-row__linked-toggle{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;padding:2px 4px;border-radius:3px;border:1px solid transparent}.cu-dropdown_open .cu-task-row__linked-toggle,.cu-task-row__linked-toggle:hover{border-color:#e4e4e4}.dark-theme .cu-dropdown_open .cu-task-row__linked-toggle,.dark-theme .cu-task-row__linked-toggle:hover{border-color:#1e272e}.cu-task-row_auto-wrap .cu-task-row__linked-toggle{height:auto;min-height:32px;text-align:center}.cu-task-row__linked-menu{width:650px}.cu-task-row__rollup{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.cu-task-row__linked-item,.cu-task-row__rollup-item{min-width:40px;height:20px;border-radius:3px;display:flex;align-items:center;padding:0 4px;position:relative;margin:2px;border:1px solid #e4e4e4}.dark-theme .cu-task-row__linked-item,.dark-theme .cu-task-row__rollup-item{border:1px solid #abaeb0}.cu-task-row_auto-wrap .cu-task-row__linked-item,.cu-task-row_auto-wrap .cu-task-row__rollup-item{height:auto;min-height:20px;display:inline-flex;text-align:center}.cu-task-row__linked-item-text,.cu-task-row__rollup-item-text{font-weight:400;font-size:11px;line-height:1.2;font-family:Gotham Pro,Proxima Nova,arial,serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#343434}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row__linked-item-text,.cu-task-row__rollup-item-text{font-family:var(--global-font-support)}}.dark-theme .cu-task-row__linked-item-text,.dark-theme .cu-task-row__rollup-item-text{color:#d5d6d7}.cu-task-row_auto-wrap .cu-task-row__linked-item-text,.cu-task-row_auto-wrap .cu-task-row__rollup-item-text{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;white-space:normal;overflow:visible;text-overflow:clip;text-align:center}.cu-task-row__comment-count,.cu-task-row__comment-count-toggle{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif}.cu-task-row__comment-count-toggle{display:inline-flex;align-items:center;margin-left:50%;transform:translateX(-5px);height:100%}.cu-dropdown_open .cu-task-row__comment-count-toggle,.cu-task-row__comment-count-toggle:hover{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-dropdown_open .cu-task-row__comment-count-toggle,.cu-task-row__comment-count-toggle:hover{color:var(--theme-main-color)}}.cu-dropdown_open .cu-task-row__comment-count-toggle .cu-task-row__comment-count-icon,.cu-task-row__comment-count-toggle:hover .cu-task-row__comment-count-icon{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-dropdown_open .cu-task-row__comment-count-toggle .cu-task-row__comment-count-icon,.cu-task-row__comment-count-toggle:hover .cu-task-row__comment-count-icon{fill:var(--theme-main-color)}}.cu-task-row__comment-count-icon{margin-right:8px;width:18px;height:16px;fill:#b9bec7}.dark-theme .cu-task-row__comment-count-icon{fill:#979797}.cu-task-row__comment-count-menu{width:500px}.cu-task-row__comment-count-menu .thread-container{max-height:calc(100vh - 100px)}.cu-task-row__comment-count-menu .cu-comment__aside .comment-reaction{margin-left:4px}.cu-task-row__comment-count-menu .comment-bar{padding:0;min-height:0}.cu-task-row__comment-count-menu .comment-bar_active{padding:10px 0}.cu-task-row__comment-count-menu .comment-bar_active .comment-bar__icon{width:30px;height:30px;top:5px}.cu-task-row__comment-count-menu .comment-bar .comment-bar__icon{width:20px;height:20px;top:10px}.cu-task-row__comment-count-menu .comment-bar .ql-editor{max-height:280px;min-height:0;text-align:left;direction:ltr}.cu-task-row__comment-count-menu .comments-container{flex:1;padding:0 15px}.cu-task-row .cu-task-row-date-picker{padding-left:16px;display:flex;align-items:center;flex-shrink:0;position:relative}.cu-task-row .cu-task-row-date-picker:after{content:"";display:block;position:absolute;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row .cu-task-row-date-picker:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row .cu-task-row-date-picker .due-date_list-view.due-date__row{margin-left:-5px}.cu-task-row__time-estimate{display:flex;justify-content:center;align-items:center;flex-shrink:0;position:relative}@media print{.cu-task-row__time-estimate{width:60px}}.cu-task-row__time-estimate:after{content:"";display:block;position:absolute;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row__time-estimate:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row__time-estimate_disabled *{cursor:default!important}.cu-task-row__time-estimate .time-tracking__display-time{padding-right:35px;display:flex;justify-content:center}.cu-task-row__time-estimate .cu-user-group__item_time-tracker{margin-left:10px}.cu-task-row__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-fill{fill:var(--theme-main-color)}}.cu-task-row__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row__time-estimate .cu-dropdown_open .cu-user-group__item_time-tracker .cu-stroke{stroke:var(--theme-main-color)}}.cu-task-row__time-estimate .time-estimates-view__full{margin-left:10px}.cu-task-row__time-estimate .icon.time-estimates-view__icon{width:30px;height:30px;cursor:pointer}.cu-task-row__time-estimate .icon.time-estimates-view__icon .cu-stroke{stroke:#cbc9cf}.cu-task-row__time-estimate .icon.time-estimates-view__icon:hover .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row__time-estimate .icon.time-estimates-view__icon:hover .cu-stroke{stroke:var(--theme-main-color)}}.cu-task-row__priority{display:flex;justify-content:center;align-items:center;flex-shrink:0;position:relative}@media print{.cu-task-row__priority{width:60px}}.cu-task-row__priority:after{content:"";display:block;position:absolute;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row__priority:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row__priority [modifier=cu-priorities-view__icon-task-lv] .cu-priorities-view__priority-remove{width:12px;height:12px;top:-2.5px;right:-2.5px}.cu-task-row__priority_disabled *{cursor:default!important}.cu-task-row__priority .cu-priorities-view__icon-select{width:30px;height:30px}.cu-task-row__recurring{display:inline-flex}.cu-task-row__recurring-view{display:inline-block;margin:-1px 0 0;vertical-align:top}.cu-task-row__recurring.recurring-view .recurring-view__toogle{display:none}.cu-task-row__recurring.recurring-view.recurring-view_active .recurring-view__toogle{display:inline-flex;justify-content:center;align-items:center;margin-right:6px}.cu-task-list_dragging-selected .cu-task-row_selected:not(.cdk-drag-placeholder){height:0!important;visibility:hidden}.cu-task-row_selected:not(.cu-task-row_subtasks-visible)+.cu-task-row_selected:before{display:block;position:absolute;content:"";width:calc(100% - 2px);height:2px;top:-1px;left:1px;z-index:10;background:#fff}.dark-theme .cu-task-row_selected:not(.cu-task-row_subtasks-visible)+.cu-task-row_selected:before{background:#2b343b}.cu-task-row_selected:not(.cu-task-row_subtasks-visible)+.cu-task-row_selected .cu-task-row-status_border{margin-top:-2px}.cu-task-row.cdk-drag-preview{opacity:.7;pointer-events:none;height:auto!important}.cu-task-row.cdk-drag-preview .cu-task-list__subtasks{display:none}.cu-task-row.cdk-drag-preview .cu-task-row__container{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cu-task-row.cdk-drag-preview .cu-task-row__handle{opacity:1}.cu-task-row.cdk-drag-placeholder{opacity:.4}.cdk-drop-list-dragging .cu-task-row.cdk-drag:not(.cdk-drag-placeholder){transition:transform .2s cubic-bezier(0,0,.2,1)}.cu-task-row__high-index{z-index:99999}.cu-task-row__pr{display:flex;align-items:center;justify-content:center}.cu-task-row__pr-container{position:relative}.cu-task-row__pr-container span{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:10px;line-height:1;position:absolute;right:0;top:-4px;border-radius:20px;background-color:#67cb48;height:12px;min-width:14px;padding:0 3px;display:flex;align-items:center;justify-content:center;color:#fff;pointer-events:none}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row__pr-container span{font-family:var(--global-font-support)}}.cu-task-row__pr-icon{cursor:pointer;width:20px;height:20px;padding:2px;margin:0 2px}.cu-task-row__pr-icon.cu-task-row__pr-icon-disabled{opacity:.3}.cu-task-row__pr-icon.cu-task-row__pr-icon-placeholder{opacity:.3;cursor:default}.cu-task-row__pr-icon-git{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;fill:#c1c1c1}.cu-task-row__pr-icon-git:hover{fill:var(--theme-main-color)}.dark-theme .cu-task-row__pr-icon{fill:#979797}','.cu-task-row-status .cu-dropdown,.cu-task-row-status cu-status-list{height:100%;width:100%}.cu-task-row-status .cu-dropdown__toggle{height:100%;display:flex;align-items:center}.cu-task-row-status_task-view{position:absolute;margin:14px 0 0 30px}.cu-task-row-status__custom-type-container{display:inline-block}.cu-task-row-status__custom-type-container.cu-task-row-status_dot .cu-task-row-status__item{margin:0 5px 0 0;height:12px}.cu-task-row-status_simple{align-self:center;margin:0 10px}.cu-task-row-status_simple.cu-task-row-status_simple_no-pointer{pointer-events:none}.cu-task-row-status_dot{align-self:stretch}.cu-task-row-status_dot.cu-task-row-status_sub-simple{align-self:unset}.cu-task-row-status_dot .cu-task-row-status__item{position:relative;margin:0 11px;width:14px;height:14px;border-radius:3px;border:1px solid transparent;transition:.1s;cursor:pointer;color:transparent}.cu-task-row-status_dot .cu-task-row-status__item_disabled{pointer-events:none}.cu-task-row-status_dot .cu-task-row-status__item:after{content:"";display:block;position:absolute;top:2px;left:2px;width:8px;height:8px;border-radius:2px;background:currentColor;transition:.1s}.cu-task-row-status_dot .cu-task-row-status__item:hover{border:1px solid}.cu-task-row-status_dot .cu-task-row-status__item_light:hover{border:1px solid #d3d3d3}.cu-task-row-status_dot .cu-task-row-status__item_light:after{box-shadow:0 0 1px 0 #828588}.cu-task-row-status_dot .cu-task-row-status__item.cu-task-row-status__custom-type{transform:rotate(45deg);border-radius:0}.cu-task-row-status_dot .cu-task-row-status__item.cu-task-row-status__custom-type:after{border-radius:2px;top:1px;left:1px;width:10px;height:10px}.task-name-block .cu-task-row-status_dot .cu-task-row-status__item.cu-task-row-status__custom-type:after{width:19px;height:19px;border-radius:3px}.cu-task-row-status_dot .cu-dropdown{display:flex;align-items:center}.cu-task-row-status_border{align-self:stretch;position:relative;display:flex;margin:-1px 0 -1px -1px}.cu-task-row-new_active .cu-task-row-status_border,.cu-task-row_selected .cu-task-row-status_border{margin:0}.cu-task-row-status_border:before{left:0;width:16px}.cu-task-row-status_border:after,.cu-task-row-status_border:before{position:absolute;top:0;content:"";display:block;height:100%;z-index:1}.cu-task-row-status_border:after{right:0;width:13px;background:#fff;pointer-events:none}.dark-theme .cu-task-row-status_border:after{background:#2b343b}.cu-task-row-status_border .cu-dropdown{transition:min-width .2s cubic-bezier(.785,.135,.15,.86) 0s;cursor:pointer;width:16px;min-width:16px;overflow:hidden;z-index:1}.cu-task-row-status_border .cu-dropdown:hover{transition:min-width .2s cubic-bezier(.785,.135,.15,.86) 0s;min-width:53px}.cdk-drop-list-dragging .cu-task-row-status_border .cu-dropdown:hover{min-width:16px}.cu-task-row-new_active .cu-task-row-status_border .cu-dropdown,.cu-task-row_selected .cu-task-row-status_border .cu-dropdown{margin:0;transition:none;width:15px;min-width:15px}.cu-task-row-status_border .cu-dropdown.cu-dropdown_open{transition:min-width .2s cubic-bezier(.785,.135,.15,.86) 0s;min-width:53px}.cu-task-row-status_border .cu-task-row-status__item{display:flex;align-items:center;justify-content:center;position:relative;width:53px;background:currentColor;padding-right:13px;align-self:stretch}.cu-task-row-status_border .cu-task-row-status__item:before{content:"";width:16px;height:16px;border-radius:2px;background:currentColor;filter:brightness(80%)}.cu-task-row-status_border .cu-task-row-status__item.cu-task-row-status__item_dark:before{filter:invert(20%)}.cu-task-row-status_col{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;margin:-1px 0}.cu-task-row-status_col:after{content:"";display:block;position:absolute;display:none;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row-status_col:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row-status_col .cu-task-row-status__item{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:12px;line-height:1;flex-shrink:0;text-transform:uppercase;text-overflow:ellipsis;overflow:hidden;display:flex;justify-content:center}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-status_col .cu-task-row-status__item{font-family:var(--global-font-support)}}.cu-task-row-status_col .cu-task-row-status__item:hover{opacity:.8}.dark-theme .cu-task-row-status_col .cu-task-row-status__item:hover{opacity:.9}.cu-task-row-status_col .cu-task-row-status__item-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#fff;text-align:center;padding:0 5px;font-size:13px}.cu-task-row_auto-wrap .cu-task-row-status_col .cu-task-row-status__item-name{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;white-space:normal;overflow:visible;text-overflow:clip;padding-top:5px;padding-bottom:5px;text-align:center}.cu-task-row-status_col .cu-task-row-status__item_light .cu-task-row-status__item-name{color:#343434}.cu-task-row-status_col .cu-task-row-status__item-simple-full{align-items:center;height:100%;width:100%;cursor:pointer}.cu-task-row-status_badge{display:flex;align-items:center;justify-content:center;position:relative;margin:-1px 0}.cu-task-row-status_badge:after{content:"";display:block;position:absolute;display:none;width:8px;height:100%;right:0;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-task-row-status_badge:after{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-task-row-status_badge .cu-task-row-status__item,.cu-task-row-status_badge .cu-task-row-status__item-simple-full{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:1;flex-shrink:0;text-transform:uppercase;display:flex;justify-content:center;align-items:center;padding:0 12px;border-radius:3px;height:22px;cursor:pointer}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-row-status_badge .cu-task-row-status__item,.cu-task-row-status_badge .cu-task-row-status__item-simple-full{font-family:var(--global-font-support)}}.cu-task-row-status_badge .cu-task-row-status__item-name,.cu-task-row-status_badge .cu-task-row-status__item-simple-full-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#fff;text-align:center}.cu-task-row-status_badge .cu-task-row-status__item-simple-full_light,.cu-task-row-status_badge .cu-task-row-status__item_light{box-shadow:0 0 1px 0 #828588}.cu-task-row-status_badge .cu-task-row-status__item-simple-full_light .cu-task-row-status__item-name,.cu-task-row-status_badge .cu-task-row-status__item_light .cu-task-row-status__item-name{color:#343434}.cu-task-row-status_checkmark{display:none}.cu-task-row:hover .cu-task-row-status_checkmark{display:block}.cu-task-row-status_checkmark .cu-task-row-status__checkmark-btn{transition:stroke .2s cubic-bezier(.785,.135,.15,.86) 0s;width:36px;height:36px;padding:9px;margin:0;stroke:#7c828d;stroke-width:1.2}.cu-task-row-status_checkmark .cu-task-row-status__checkmark-btn:hover{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-status_checkmark .cu-task-row-status__checkmark-btn:hover{stroke:var(--theme-main-color)}}.cu-task-row-status_checkmark .cu-dropdown_open .cu-task-row-status__checkmark-btn{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-status_checkmark .cu-dropdown_open .cu-task-row-status__checkmark-btn{stroke:var(--theme-main-color)}}.cu-task-row-status__done-btn{flex-shrink:0;align-self:center;margin:0 10px 0 5px;width:20px;height:18px;padding:4px;stroke:#7c828d;stroke-width:2px;cursor:pointer;transition:.1s;z-index:10}.dark-theme .cu-task-row-status__done-btn{stroke:rgba(206,207,224,.5)}.cu-task-row-status__done-btn:hover,.cu-task-row-status__done-btn_active,.dark-theme .cu-task-row-status__done-btn_active{stroke:#67cb48}.cu-task-row-status__settings{position:absolute;right:5px;top:0;padding:10px;width:36px;height:36px;cursor:pointer}.cu-task-row-status__settings:hover use{fill:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-task-row-status__settings:hover use{fill:var(--theme-main-color-dark)}}.cu-task-row-status__settings use{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-status__settings use{fill:var(--theme-main-color)}}'],encapsulation:2,data:{animation:[B.f]},changeDetection:0}),t})();var Dn=a("an+h"),Sn=a("X5rV"),On=a("FLRT"),jn=a("AhwN"),Pn=a("Fj0M"),An=a("mwt3"),$n=a("MJ8S"),Rn=a("PN2b"),Fn=a("HIOz"),Mn=a("RtrR"),En=a("yECk"),Un=a("N4ya"),Ln=a("qKyM"),zn=a("V3nW"),Vn=a("5xNR"),Nn=a("WoFS"),qn=a("nm3x"),Bn=a("EP2k"),Gn=a("kC/4");const Xn=["dateTimeRowTemplate"],Wn=["datePickerRowTemplate"],Hn=["assigneeRowTemplate"],Zn=["attachmentsComponent"],Qn=function(t){return{col:t,showOnlyRecurIcon:!0}};function Kn(t,e){if(1&t&&O.Yb(0,25),2&t){const t=O.uc(2),e=O.Rc(11);O.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",O.Hc(2,Qn,t.dueDateCol))}}function Jn(t,e){if(1&t&&(O.cc(0,"div",31),O.gc(1,32),O.bc()),2&t){const t=O.uc(2);O.Ib(1),O.kc(null==t.task||null==t.task.attachments?null:t.task.attachments.length),O.hc(1)}}function Yn(t,e){if(1&t&&(O.cc(0,"div",33),O.gc(1,34),O.vc(2,"username"),O.bc()),2&t){const t=O.uc(2);O.Ib(2),O.kc(O.zc(2,1,null==t.task?null:t.task.delegator,"","",!1)),O.hc(1)}}function ts(t,e){if(1&t&&(O.cc(0,"div",35),O.gc(1,36),O.vc(2,"timeAgo"),O.bc()),2&t){const t=O.uc(2);O.Ib(2),O.kc(O.wc(2,1,t.task.date_completed)),O.hc(1)}}function es(t,e){}function as(t,e){}const is=function(t){return{col:t}};function os(t,e){if(1&t&&O.bd(0,as,0,0,"ng-template",25),2&t){const t=O.uc(2),e=O.Rc(13);O.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",O.Hc(2,is,t.assigneeCol))}}function ns(t,e){}function ss(t,e){}function cs(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-category-list-dropdown",37),O.qc("onSelect",function(e){return O.Uc(t),O.uc(2).convert(e)})("onOpen",function(){return O.Uc(t),O.uc(2).showingPopup(!0)})("onClose",function(){return O.Uc(t),O.uc(2).showingPopup(!1)}),O.Xb(1,"div",38),O.bc()}if(2&t){const t=O.uc(2),e=O.Rc(17);O.Dc("selectableProject",!0)("selectedCategory",!0)("singleCategory",!1)("cuTooltip",t.addToListText)("tooltipDelay",500)("tooltipModifier","tooltip_near")("headerTemplate",e)}}function rs(t,e){}function ls(t,e){if(1&t&&O.bd(0,rs,0,0,"ng-template",25),2&t){const t=O.uc(2),e=O.Rc(13);O.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",O.Hc(2,is,t.assigneeCol))}}function us(t,e){if(1&t){const t=O.dc();O.cc(0,"div",39),O.qc("click",function(){return O.Uc(t),O.uc(2).remove()}),O.bc()}2&t&&O.Dc("tooltipDelay",500)("tooltipModifier","tooltip_near")}function ds(t,e){}const ps=function(t){return{col:t,showOnlyRecurIcon:!1}};function ms(t,e){if(1&t){const t=O.dc();O.cc(0,"div",14),O.Xb(1,"div",15),O.Xb(2,"div",16),O.cc(3,"div",17),O.qc("click",function(){return O.Uc(t),O.uc().setEditing(!0,!0)}),O.cc(4,"cu-editable",18),O.qc("onChange",function(e){return O.Uc(t),O.uc().rename(e)})("onPressEnter",function(){return O.Uc(t),O.uc().setEditing(!1)}),O.cc(5,"div",19),O.qc("click",function(e){return O.Uc(t),O.uc().clickTitle(e)}),O.vc(6,"linkify"),O.bc(),O.bd(7,Kn,1,4,"ng-container",20),O.bc(),O.bd(8,Jn,2,1,"div",21),O.bd(9,Yn,3,6,"div",22),O.bd(10,ts,3,3,"div",23),O.bc(),O.cc(11,"div",24),O.bd(12,es,0,0,"ng-template",25),O.bd(13,os,1,4,void 0,26),O.bc(),O.cc(14,"div",27),O.bd(15,ns,0,0,"ng-template",28),O.bd(16,ss,0,0,"ng-template",25),O.bd(17,cs,2,7,"cu-category-list-dropdown",29),O.vc(18,"async"),O.bd(19,ls,1,4,void 0,26),O.bd(20,us,1,2,"div",30),O.vc(21,"async"),O.bd(22,ds,0,0,"ng-template",28),O.bc(),O.bc()}if(2&t){const t=O.uc(),e=O.Rc(21),a=O.Rc(23),i=O.Rc(11),o=O.Rc(9);O.Jb("data-task",null==t.task?null:t.task.id),O.Ib(1),O.Dc("icon","handle4-no-color"),O.Ib(1),O.Ob("cu-reminder-row__icon_completed",null==t.task?null:t.task.complete),O.Ib(2),O.Dc("text",null==t.task?null:t.task.title)("editing",t.editing)("autosize",!0)("autoFocus",t.autoFocus)("multiline",!0),O.Ib(1),O.Ob("cu-reminder-row__title_completed",null==t.task?null:t.task.complete),O.Dc("innerHTML",O.xc(6,26,null==t.task?null:t.task.title,"text"),O.Vc),O.Ib(2),O.Dc("ngIf",null==t.task?null:t.task.recurring_settings),O.Ib(1),O.Dc("ngIf",null==t.task||null==t.task.attachments?null:t.task.attachments.length),O.Ib(1),O.Dc("ngIf",(null==t.task?null:t.task.delegator)&&(null==t.task||null==t.task.delegator?null:t.task.delegator.id)!==(null==t.task||null==t.task.user?null:t.task.user.id)&&(null==t.task||null==t.task.delegator?null:t.task.delegator.id)!==(null==t.meUser?null:t.meUser.id)),O.Ib(1),O.Dc("ngIf",t.task.date_completed),O.Ib(2),O.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",O.Hc(33,is,t.dueDateCol)),O.Ib(1),O.Dc("ngIf",!((null==t.task||null==t.task.delegator?null:t.task.delegator.id)!==(null==t.meUser?null:t.meUser.id)||null!=t.extraData&&t.extraData.hideAssignee||t.task.pending)),O.Ib(2),O.Dc("ngTemplateOutlet",a),O.Ib(1),O.Dc("ngTemplateOutlet",i)("ngTemplateOutletContext",O.Hc(35,ps,t.dueDateCol)),O.Ib(1),O.Dc("ngIf",!t.task.pending&&!O.wc(18,29,t.offline$)),O.Ib(2),O.Dc("ngIf",!(null!=t.task&&t.task.delegator&&(null==t.task||null==t.task.delegator?null:t.task.delegator.id)!==(null==t.meUser?null:t.meUser.id)||null!=t.extraData&&t.extraData.hideAssignee||t.task.pending)),O.Ib(1),O.Dc("ngIf",!O.wc(21,31,t.offline$)||t.task.pending),O.Ib(2),O.Dc("ngTemplateOutlet",o)}}function hs(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-uploader-bar",47),O.qc("onFilesAdded",function(e){return O.Uc(t),O.uc(2).addFiles(e)}),O.bc()}if(2&t){const t=O.uc(2);O.Dc("badgeVisible",!1)("uniqueId","reminder"+(null==t.task?null:t.task.id))}}function gs(t,e){if(1&t){const t=O.dc();O.cc(0,"div",40),O.qc("ondrop",function(e){return O.Uc(t),O.uc().addFiles(e)}),O.vc(1,"async"),O.cc(2,"cu-attachments",41,42),O.qc("onRemove",function(e){return O.Uc(t),O.uc().removeAttachment(e)})("attachmentsChanged",function(e){return O.Uc(t),O.uc().attachmentsChanged(e)}),O.vc(4,"async"),O.vc(5,"async"),O.vc(6,"async"),O.bc(),O.bd(7,hs,1,2,"cu-uploader-bar",43),O.vc(8,"async"),O.cc(9,"div",44),O.cc(10,"div",45),O.qc("click",function(){return O.Uc(t),O.uc().setEditing(!1)}),O.gc(11,46),O.bc(),O.bc(),O.bc()}if(2&t){const t=O.uc();O.Dc("dropDisabled",O.wc(1,13,t.offline$)),O.Ib(2),O.Ob("cu-hidden-print",0===(null==t.task||null==t.task.attachments?null:t.task.attachments.length)),O.Dc("attachments",null==t.task?null:t.task.attachments)("parentId",null==t.task?null:t.task.id)("attachmentType",t.attachmentType)("uniqueId","reminder"+(null==t.task?null:t.task.id))("canAddAttachments",!O.wc(4,15,t.offline$))("canRemoveAttachments",!O.wc(5,17,t.offline$))("canRemoveOwnAttachments",!O.wc(6,19,t.offline$))("canChangeDescription",!1)("displayHeader",!1),O.Ib(5),O.Dc("ngIf",!O.wc(8,21,t.offline$))}}function bs(t,e){if(1&t&&(O.cc(0,"div",48),O.cc(1,"div",49),O.Xb(2,"cu-datetime",50),O.bc(),O.bc()),2&t){const t=e.col,a=O.uc();O.Ib(2),O.Dc("date",a.task[t.field])("noRelational",!0)("noHighlight",!0)("showOnlyTimeForToday","dateUpdated"===t.name)}}function fs(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-reminder-row-notification",51),O.qc("onChange",function(e){O.Uc(t);const a=O.uc();return a.onEditTask.emit({action:a.EditActions.ReminderNotif,data:e})}),O.bc()}if(2&t){const t=O.uc();O.Dc("minutesBefore",null==t.task?null:t.task.minutes_before_to_notify)("cuTooltip",t.notifyMeText)}}const ks=function(t,e){return{dueDate:t,dueDateTime:e}};function _s(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-recurring-date-picker",52),O.qc("onChange",function(e){O.Uc(t);const a=O.uc();return a.onEditTask.emit({action:a.EditActions.Date,data:e})})("onRecurringChange",function(e){O.Uc(t);const a=O.uc();return a.onEditTask.emit({action:a.EditActions.Recurring,data:e})}),O.vc(1,"startOfRecurring"),O.vc(2,"recurringToText"),O.vc(3,"taskRecurringToOptions"),O.vc(4,"async"),O.vc(5,"taskRecurringToOptions"),O.bc()}if(2&t){const t=e.col,a=e.showOnlyRecurIcon,i=O.uc();O.Dc("field",t.name)("disabled",i.readOnly||i.disabled)("tooltipDelay",500)("recurringTooltip",null!=i.task&&i.task.recurring_settings&&(null==i.task||null==i.task.recurring_settings?null:i.task.recurring_settings.last_reminder)!==(null==i.task?null:i.task.id)?O.wc(1,20,O.wc(2,22,O.wc(3,24,null==i.task?null:i.task.recurring_settings))):null!=i.task&&i.task.recurring_settings&&(null==i.task||null==i.task.recurring_settings?null:i.task.recurring_settings.first_reminder)!==(null==i.task?null:i.task.id)?i.commonStringsService.createdFromRecurringReminderText:null)("adjustRecurringDate",(null==i.task||null==i.task.recurring_settings?null:i.task.recurring_settings.last_reminder)===(null==i.task?null:i.task.id)||!(null!=i.task&&i.task.recurring_settings))("recurringReadonly",O.wc(4,26,i.offline$))("alwaysShowRecurringDate",(null==i.task||null==i.task.recurring_settings?null:i.task.recurring_settings.last_reminder)===(null==i.task?null:i.task.id))("dates",O.Ic(30,ks,null==i.task?null:i.task.due_date,null==i.task?null:i.task.due_date_time))("recurringOptions",O.wc(5,28,null==i.task?null:i.task.recurring_settings))("showStart",!1)("dualDate",!0)("dateFormat",i.dateFormat)("militaryTime",i.militaryTime)("hideDate",null==i.extraData?null:i.extraData.hideDate)("startHour",0)("showCreateNewOption",!1)("datePickerIcon",null==i.extraData?null:i.extraData.dateIcon)("showOnlyIcon",null==i.extraData?null:i.extraData.dateOnlyIcon)("showOnlyRecurIcon",a)("quickDone",!0)}}const ws=function(t){return[t]};function vs(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-row-assignee",54,55),O.qc("onShown",function(){return O.Uc(t),O.uc(2).showingPopup(!0)})("onHidden",function(){return O.Uc(t),O.uc(2).showingPopup(!1)})("click",function(){O.Uc(t);const e=O.Rc(1);return O.uc(2).paywallTemplate&&e.show()})("onLoad",function(){O.Uc(t);const e=O.uc(2);return e.onLoadUsers.emit(),e.showingPopup(!0)})("onClose",function(){return O.Uc(t),O.uc(2).showingPopup(!1)})("onChange",function(e){O.Uc(t);const a=O.uc(2);return a.onEditTask.emit({action:a.EditActions.Assignee,data:e})}),O.vc(2,"async"),O.bc()}if(2&t){const t=O.uc(2),e=O.Rc(15);O.Dc("popover",t.paywallTemplate)("outsideClick",!0)("disabled",t.paywallTemplate||t.readOnly||t.disabled||O.wc(2,13,t.offline$))("multipleAssignees",!1)("assignees",null!=t.task&&t.task.user&&(null==t.task||null==t.task.user?null:t.task.user.id)!==(null==t.user?null:t.user.id)?O.Hc(15,ws,null==t.task?null:t.task.user):null)("users",t.usersExceptMe)("headerTemplate",e)("addAssigneeIcon","cu2-delegate")("cuTooltip",t.delegateText)("tooltipDelay",500)("tooltipModifier","tooltip_near")("tooltipDisabled",(null==t.task?null:t.task.user)&&(null==t.task||null==t.task.user?null:t.task.user.id)!==(null==t.user?null:t.user.id))("weights",t.weights)}}function ys(t,e){if(1&t&&(O.bd(0,vs,3,17,"cu-task-row-assignee",53),O.vc(1,"async")),2&t){const t=O.uc();O.Dc("ngIf",!O.wc(1,1,t.offline$)||(null==t.task?null:t.task.user)&&(null==t.task||null==t.task.user?null:t.task.user.id)!==(null==t.user?null:t.user.id))}}function xs(t,e){1&t&&(O.cc(0,"div",56),O.cc(1,"div",57),O.gc(2,58),O.bc(),O.cc(3,"div",59),O.gc(4,60),O.bc(),O.bc())}function Ts(t,e){if(1&t){const t=O.dc();O.cc(0,"div",61),O.cc(1,"div",57),O.gc(2,62),O.bc(),O.cc(3,"div",59),O.gc(4,63),O.bc(),O.cc(5,"cu-checkbox",64),O.qc("onChange",function(){return O.Uc(t),O.uc().toggleRemoveDate()}),O.gc(6,65),O.bc(),O.bc()}if(2&t){const t=O.uc();O.Ib(5),O.Dc("checked",t.removeDate)}}function Is(t,e){if(1&t&&(O.cc(0,"div",66),O.vc(1,"dateColor"),O.dd(2),O.vc(3,"startDueDatesFormat"),O.bc()),2&t){const t=e.dates,a=e.hideDate,i=O.uc();O.ad("color",O.xc(1,3,t.dueDate,null==t?null:t.closedDate)),O.Ib(2),O.fd(" ",O.zc(3,6,t,a,i.dateFormat,i.militaryTime)," ")}}function Cs(t,e){}const Ds=function(t,e,a){return{col:t,dates:e,hideDate:a}};function Ss(t,e){if(1&t&&O.bd(0,Cs,0,0,"ng-template",25),2&t){const t=e.col,a=O.uc(),i=O.Rc(19);O.Dc("ngTemplateOutlet",i)("ngTemplateOutletContext",O.Jc(5,Ds,t,O.Ic(2,ks,null==a.task?null:a.task.due_date,null==a.task?null:a.task.due_date_time),null==a.extraData?null:a.extraData.hideDate))}}function Os(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-sparks",68),O.cc(1,"cu-task-row-status",69),O.qc("onToggle",function(){return O.Uc(t),O.uc(2).toggleStatus()}),O.bc(),O.bc()}if(2&t){const t=O.uc(2);O.Dc("disabled",null==t.task?null:t.task.complete)("cuColors",!0),O.Ib(1),O.Dc("status",null!=t.task&&t.task.complete?t.closedStatus:t.openStatus)("statuses",t.statuses)("isSimpleStatus",!0)("showSettings",!1)("cuTooltip",null!=t.task&&t.task.complete?t.markIncompleteText:t.doneText)("tooltipDelay",500)("tooltipModifier","tooltip_near")}}function js(t,e){if(1&t&&O.bd(0,Os,2,9,"cu-sparks",67),2&t){const t=O.uc();O.Dc("ngIf",!t.task.pending)}}let Ps=(()=>{class t{constructor(t,e,a,i){this.changeDetectorRef=t,this.store=e,this.localStorageService=a,this.commonStringsService=i,this.destroy$=new R.a,this.multiTaskEnabled=!1,this.disabled=!1,this.readOnly=!1,this.hovered=!1,this.militaryTime=!1,this.onLoadUsers=new O.o,this.onEditTask=new O.o,this.onOpenTask=new O.o,this.onChangeSelection=new O.o,this.onRenaming=new O.o,this.trackByName=Object(z.d)("name"),this.EditActions=q.a,this.editing=!1,this.autoFocus=!1,this.assigneeCol=Object.assign(Object.assign({},S.k),{state:F.b.Visible,calc:null}),this.dueDateCol=Object.assign(Object.assign({},S.w),{state:F.b.Visible,calc:null}),this.statuses=U.d,this.openStatus=U.c,this.closedStatus=U.a,this.attachmentType=9,this.offline$=this.store.select(Mn.b),this.addToListText=$localize`:@@common_add-to-list:Add to List`,this.delegateText=$localize`:@@common_delegate:Delegate`,this.doneText=$localize`:@@common_done:Done`,this.markIncompleteText=$localize`:@@cu-reminder-row__tooltip-msg_mark-incomplete:Mark Incomplete`,this.notifyMeText=$localize`:@@common_notify-me:Notify me`}get removeDate(){return this.localStorageService.get("reminder_remove_due_date")}set removeDate(t){this.localStorageService.set("reminder_remove_due_date",t)}ngOnInit(){}ngOnChanges(t){(t.users||t.meUser)&&(this.usersExceptMe=this.users&&this.users.filter(t=>!this.meUser||t.id!==this.meUser.id))}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}onContextMenu(t){}setEditing(t,e=!1){this.autoFocus=e,this.editing=t,this.changeDetectorRef.markForCheck(),this.onRenaming.emit(t)}clickOutside(){this.editing&&this.setEditing(!1)}openRecurring(){}rename(t){t&&(this.onEditTask.emit({action:q.a.Rename,data:t}),this.task=Object.assign(Object.assign({},this.task),{title:t}))}toggleStatus(){this.onEditTask.emit({action:q.a.Status,data:this.task.complete?U.c:U.a})}remove(){this.onEditTask.emit({action:q.a.Remove,data:null})}convert(t){this.onEditTask.emit({action:q.a.Convert,data:{location:t,removeDate:this.removeDate}})}removeAttachment(t){this.onEditTask.emit({action:q.a.RemoveAttachment,data:t})}attachmentsChanged(t){this.onEditTask.emit({action:q.a.ChangeAttachments,data:t})}addFiles(t){this.attachmentsComponent.addFiles(t)}clickTitle(t){t&&t.target&&t.target.classList&&t.target.classList.contains("cu-linkify-link")?t.stopPropagation():setTimeout(()=>this.setEditing(!0,!0))}showingPopup(t){this.hovered=t}toggleRemoveDate(){this.removeDate=!this.removeDate}}return t.\u0275fac=function(e){return new(e||t)(O.Wb(O.h),O.Wb(wt.Store),O.Wb(Y.b),O.Wb(it.a))},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-reminder-row"]],viewQuery:function(t,e){if(1&t&&(O.jd(Xn,3),O.jd(Wn,3),O.jd(Hn,3),O.jd(Zn,1)),2&t){let t;O.Qc(t=O.rc())&&(e.dateTimeRowTemplate=t.first),O.Qc(t=O.rc())&&(e.datePickerRowTemplate=t.first),O.Qc(t=O.rc())&&(e.assigneeRowTemplate=t.first),O.Qc(t=O.rc())&&(e.attachmentsComponent=t.first)}},hostAttrs:[1,"cu-reminder-row"],hostVars:8,hostBindings:function(t,e){1&t&&O.qc("contextmenu",function(t){return e.onContextMenu(t)}),2&t&&O.Ob("cu-reminder-row_selected",e.selected)("cu-reminder-row_readonly",e.readOnly)("cu-reminder-row_editing",e.editing)("cu-reminder-row_hovered",e.hovered)},inputs:{task:"task",user:"user",users:"users",meUser:"meUser",multiTaskEnabled:"multiTaskEnabled",disabled:"disabled",selected:"selected",readOnly:"readOnly",hovered:"hovered",paywallTemplate:"paywallTemplate",extraData:"extraData",dateFormat:"dateFormat",militaryTime:"militaryTime",weights:"weights"},outputs:{onLoadUsers:"onLoadUsers",onEditTask:"onEditTask",onOpenTask:"onOpenTask",onChangeSelection:"onChangeSelection",onRenaming:"onRenaming"},features:[O.Gb],decls:24,vars:6,consts:function(){let t,e,a,i,o,n,s,c,r,l,u,d,p,m;return t=$localize`:@@common_reminder␟d22932f5540744117213f5eb6b05d255398307a6␟6644465440274384349:Reminder`,e=$localize`:@@common_delete␟826b25211922a1b46436589233cb6f1a163d89b7␟7022070615528435141:Delete`,a=$localize`:␟d6fc76624b950375eca889cfc7b24f31f8954e4f␟7990825517122784549:{VAR_PLURAL, plural, =1 {1 attachment} other {#
      attachments}}`,a=O.lc(a,{VAR_PLURAL:"\ufffd0\ufffd"}),i=$localize`:@@cu-reminder-row__attachments-count␟bb43fa581c01f4c1aeaa40e7e3e1c74a07bdc588␟4685499091776101436: ${a}:ICU: `,o=$localize`:@@cu-reminder-row__delegator_from-user␟d4bb5a947b68b242b827d61e1af3971477d7d66c␟4940165112082836226: from ${"\ufffd0\ufffd"}:INTERPOLATION: `,n=$localize`:@@cu-reminder-row__completed␟a38996f7699983a9fabb114404ee5aa245bafca6␟1815598258464347823: Completed ${"\ufffd0\ufffd"}:INTERPOLATION: `,s=$localize`:@@common_save␟2a62a59d9424e9e869061ebf3e8f8b8f95411571␟4201883793870263566: Save `,c=$localize`:@@cu-reminder-row__tooltip-msg_datepicker-snooze-reminder␟3f7931522c880c96346a7f2fe9d07427abd9a62d␟5785234640314996723:Snooze reminder`,r=$localize`:@@common_cant-change-recurring-settings-offline␟1062e622871911b8afcfac5552704b260772dac7␟8711960159416833200:You cannot changing the recurring setting when offline
    `,l=$localize`:@@reminders_delegate␟a4ee41794f7aa1b2257f692d6a0eba28dadb6b58␟6718460353327277224: Delegate reminder `,u=$localize`:@@common_delegate-reminder-description␟cc2335a5b3d69ada5b2f5dd43e522f88d8e2f914␟86530974711057030: Move this reminder to someone else's Inbox. `,d=$localize`:@@common_convert-to-task␟ef54a5c7fde07e09ec14886ecbfb1087cb9e7ca3␟3228952136296922154: Convert to task `,p=$localize`:@@cu-reminder-row__help-header-desc_convert-reminder-to-task-instruction␟38ed02fded8f4a65bc3356662ac8b617415d823f␟229335959129452200: To convert a reminder into a task, add it to a List. `,m=$localize`:@@cu-reminder-row__checkbox-label_remove-due-date␟cc8a1bd3ba609f39d1c2491a158b5eede07a0da8␟7398634071833073602: Remove due date `,[["cuLazyItemPlaceholder","",1,"cu-reminder-row__container"],["icon","cu2-remainder",1,"cu-reminder-row__icon"],[1,"cu-reminder-row__title","cu-reminder-row__title_placeholder"],["class","cu-reminder-row__container",4,"cuLazyItemBody"],["class","cu-reminder-row__extend","cuDropArea","",3,"dropDisabled","ondrop",4,"ngIf"],["dateTimeRowTemplate",""],["reminderRowNotificationTemplate",""],["datePickerRowTemplate",""],["assigneeRowTemplate",""],["assigneeHeaderTemplate",""],["addToListHeaderTemplate",""],["readOnlyDateTemplate",""],["readOnlyDateRowTemplate",""],["taskRowStatusTemplate",""],[1,"cu-reminder-row__container"],["cuPreventDefault","",1,"cu-reminder-row__handle",3,"icon"],["icon","cu2-remainder","cuTooltip",t,1,"cu-reminder-row__icon"],[1,"cu-reminder-row__main",3,"click"],[1,"cu-reminder-row-main",3,"text","editing","autosize","autoFocus","multiline","onChange","onPressEnter"],[1,"cu-reminder-row__title",3,"innerHTML","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","cu-reminder-row__attachments",4,"ngIf"],["class","cu-reminder-row__delegator",4,"ngIf"],["class","cu-reminder-row__completed",4,"ngIf"],[1,"cu-reminder-row__actions-placeholder"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"cu-reminder-row__actions"],[3,"ngTemplateOutlet"],[3,"selectableProject","selectedCategory","singleCategory","cuTooltip","tooltipDelay","tooltipModifier","headerTemplate","onSelect","onOpen","onClose",4,"ngIf"],["class","cu-reminder-row__remove","icon","cu2-trash-alt","cuTooltip",e,3,"tooltipDelay","tooltipModifier","click",4,"ngIf"],[1,"cu-reminder-row__attachments"],i,[1,"cu-reminder-row__delegator"],o,[1,"cu-reminder-row__completed"],n,[3,"selectableProject","selectedCategory","singleCategory","cuTooltip","tooltipDelay","tooltipModifier","headerTemplate","onSelect","onOpen","onClose"],["icon","cu2-add-to-list",1,"cu-reminder-row__convert"],["icon","cu2-trash-alt","cuTooltip",e,1,"cu-reminder-row__remove",3,"tooltipDelay","tooltipModifier","click"],["cuDropArea","",1,"cu-reminder-row__extend",3,"dropDisabled","ondrop"],["parentType","reminder",3,"attachments","parentId","attachmentType","uniqueId","canAddAttachments","canRemoveAttachments","canRemoveOwnAttachments","canChangeDescription","displayHeader","onRemove","attachmentsChanged"],["attachmentsComponent",""],[3,"badgeVisible","uniqueId","onFilesAdded",4,"ngIf"],[1,"cu-reminder-row__extend-footer"],[1,"cu-reminder-row__extend-button",3,"click"],s,[3,"badgeVisible","uniqueId","onFilesAdded"],[1,"cu-reminder-row__datetime"],[1,"cu-reminder-row__datetim-body"],[3,"date","noRelational","noHighlight","showOnlyTimeForToday"],["tooltipModifier","tooltip_near",3,"minutesBefore","cuTooltip","onChange"],["tooltip",c,"recurringReadonlyTooltip",r,3,"field","disabled","tooltipDelay","recurringTooltip","adjustRecurringDate","recurringReadonly","alwaysShowRecurringDate","dates","recurringOptions","showStart","dualDate","dateFormat","militaryTime","hideDate","startHour","showCreateNewOption","datePickerIcon","showOnlyIcon","showOnlyRecurIcon","quickDone","onChange","onRecurringChange"],["containerClass","popover_white popover_no-max-width popover_no-padding cu-task-row-assignee__paywall","triggers","","container","body","placement","left",3,"popover","outsideClick","disabled","multipleAssignees","assignees","users","headerTemplate","addAssigneeIcon","cuTooltip","tooltipDelay","tooltipModifier","tooltipDisabled","weights","onShown","onHidden","click","onLoad","onClose","onChange",4,"ngIf"],["containerClass","popover_white popover_no-max-width popover_no-padding cu-task-row-assignee__paywall","triggers","","container","body","placement","left",3,"popover","outsideClick","disabled","multipleAssignees","assignees","users","headerTemplate","addAssigneeIcon","cuTooltip","tooltipDelay","tooltipModifier","tooltipDisabled","weights","onShown","onHidden","click","onLoad","onClose","onChange"],["pop","bs-popover"],[1,"cu-reminder-row__help-header"],[1,"cu-reminder-row__help-header-title"],l,[1,"cu-reminder-row__help-header-desc"],u,[1,"cu-reminder-row__help-header","cu-reminder-row__help-header_add-to-list"],d,p,[3,"checked","onChange"],m,[1,"cu-task-row-date-picker__dual-dates"],["class","cu-reminder-row__sparks",3,"disabled","cuColors",4,"ngIf"],[1,"cu-reminder-row__sparks",3,"disabled","cuColors"],["itemClass","cu-task-row-status_dot",3,"status","statuses","isSimpleStatus","showSettings","cuTooltip","tooltipDelay","tooltipModifier","onToggle"]]},template:function(t,e){1&t&&(O.cc(0,"div",0),O.Xb(1,"div",1),O.cc(2,"div",2),O.dd(3),O.bc(),O.bc(),O.bd(4,ms,23,37,"div",3),O.bd(5,gs,12,23,"div",4),O.bd(6,bs,3,4,"ng-template",null,5,O.cd),O.bd(8,fs,1,2,"ng-template",null,6,O.cd),O.bd(10,_s,6,33,"ng-template",null,7,O.cd),O.bd(12,ys,2,3,"ng-template",null,8,O.cd),O.bd(14,xs,5,0,"ng-template",null,9,O.cd),O.bd(16,Ts,7,1,"ng-template",null,10,O.cd),O.bd(18,Is,4,11,"ng-template",null,11,O.cd),O.bd(20,Ss,1,9,"ng-template",null,12,O.cd),O.bd(22,js,1,1,"ng-template",null,13,O.cd)),2&t&&(O.Ib(1),O.Ob("cu-reminder-row__icon_completed",null==e.task?null:e.task.complete),O.Ib(1),O.Ob("cu-reminder-row__title_completed",null==e.task?null:e.task.complete),O.Ib(1),O.fd(" ",null==e.task?null:e.task.title," "),O.Ib(2),O.Dc("ngIf",e.editing))},directives:[ot.a,st.a,nt.a,l.q,Tt.a,lt.a,ut.a,l.x,En.a,Un.a,Ln.a,zn.a,Me.a,Vn.a,De.a,ze.a,m.c,Nn.a,qn.a,rt.a],pipes:[Zt.a,l.b,Bn.a,Gn.a,ra.a,la.a,ua.a,da.a,pa.a],styles:['.cu-reminder-row{transition:margin .2s cubic-bezier(.785,.135,.15,.86) 0s;display:block;padding:0;background:#fff;border:1px solid #fff;box-shadow:0 0 10px 0 rgba(0,0,0,.05);will-change:margin;position:relative}.dark-theme .cu-reminder-row{background:#2b343b;border:1px solid #2b343b;box-shadow:0 0 10px 0 rgba(0,0,0,.2)}.cu-reminder-row_editing{margin:10px -10px;box-shadow:0 5px 15px 0 rgba(0,0,0,.1)}@media screen and (max-width:544px){.cu-reminder-row_editing{margin:2px 0 0}}.cu-reminder-row__container{display:flex;align-items:center;position:relative;width:100%;min-height:38px}.cu-reminder-row__container>*{flex-shrink:0}.cu-reminder-row__container .cu-stroke-dasharray{display:none}.cu-reminder-row_selected>.cu-reminder-row__container{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row_selected>.cu-reminder-row__container{border-color:var(--theme-main-color)}}.cu-reminder-row__extend{padding:10px;margin-bottom:10px;position:relative}.cu-reminder-row__extend.cu-state-drag-over{background-color:hsla(0,0%,100%,.6)}.cu-reminder-row__extend:before{content:"";display:block;position:absolute;height:1px;width:calc(100% - 22px);top:2px;background:#e9ebf0}.dark-theme .cu-reminder-row__extend:before{background:#384047}.cu-reminder-row__extend .cu-uploader.cu-uploader_compact{padding:0}.cu-reminder-row__extend .cu-attachments{margin-top:0}.cu-reminder-row__extend .cu-attachments-tiles-list{padding:5px 0}.cu-reminder-row__extend-footer{display:flex;justify-content:flex-end}.cu-reminder-row__extend-button{background:#7b68ee;width:54px;height:20px;border-radius:2px;color:#fff;font:500 11px/1 Gotham Pro,Proxima Nova,arial,serif;display:flex;align-items:center;justify-content:center;text-transform:uppercase;cursor:pointer;margin:0 10px}@supports (--theme-main-color:#7b68ee){.cu-reminder-row__extend-button{background:var(--theme-main-color)}}.cu-reminder-row__extend-button:hover{background:#5f48ea}@supports (--theme-main-color-dark:#5f48ea){.cu-reminder-row__extend-button:hover{background:var(--theme-main-color-dark)}}.cu-reminder-row:first-child .cu-reminder-row__container{border-radius:0 4px 0 0}.cu-reminder-row:last-child .cu-reminder-row__container{border-radius:0 0 4px 0}.cu-reminder-row:only-of-type .cu-reminder-row__container{border-radius:0 4px 4px 0}.cu-reminder-row-main{padding:3px 10px;flex-grow:1;display:flex;align-items:center}.cu-reminder-row-main.cu-editable_editing{width:100%}.cu-reminder-row-main.cu-editable_editing .cu-editable__input{font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1.5;background:transparent;color:#111}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-reminder-row-main.cu-editable_editing .cu-editable__input{font-family:var(--global-font-support)}}.dark-theme .cu-reminder-row-main.cu-editable_editing .cu-editable__input{background:transparent;color:#d5d6d7}.cu-reminder-row-main .icon{height:12px;width:12px;stroke:#979797;margin-left:5px}.cu-reminder-row__title{transition:color .2s cubic-bezier(.785,.135,.15,.86) 0s;word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:400;font-size:13px;line-height:1.5;color:#111;display:inline;cursor:text}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-reminder-row__title{font-family:var(--global-font-support)}}@media print{.cu-reminder-row__title{font-size:10px!important}}.dark-theme .cu-reminder-row__title{color:#d5d6d7}.cu-reminder-row__title_completed{text-decoration:line-through}.cu-reminder-row__title_subtask{font-size:12px}.cu-reminder-row__title_placeholder{word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding:0 10px;display:flex;flex-direction:column;min-width:349px;flex-shrink:1;flex-grow:1;align-self:center}.cu-reminder-row:hover .cu-reminder-row__title{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row:hover .cu-reminder-row__title{color:var(--theme-main-color)}}.cu-reminder-row:hover .cu-reminder-row__title .cu-linkify-link{color:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row:hover .cu-reminder-row__title .cu-linkify-link{color:var(--theme-main-color)}}.cu-reminder-row__title .cu-linkify-link{pointer-events:all;vertical-align:baseline}.cu-reminder-row__title .cu-linkify-link:hover{color:#7b68ee;text-decoration:underline}@supports (--theme-main-color:#7b68ee){.cu-reminder-row__title .cu-linkify-link:hover{color:var(--theme-main-color)}}.cu-reminder-row__index{font-size:8px;line-height:8px}.cu-reminder-row__handle{position:absolute;flex-shrink:0;width:14px;padding:0;left:-15px;opacity:0;cursor:move;overflow:hidden;fill:#bcc0c7;display:none}.dark-theme .cu-reminder-row__handle{fill:#828588}.cu-reminder-row__handle_disabled{cursor:not-allowed}.cu-reminder-row__container:hover .cu-reminder-row__handle{opacity:1}.cu-inbox-list__block .cu-reminder-row__handle,.cu-list-group .cu-reminder-row__handle{display:flex;align-items:center}.cu-reminder-row__handle svg{width:6px;height:23px}.cu-reminder-row__column-stub{cursor:not-allowed;height:28px}.cu-reminder-row__column-stub:hover{background-color:rgba(52,52,52,.05)}.dark-theme .cu-reminder-row__column-stub:hover{background:rgba(30,39,46,.5)}.cu-reminder-row__icon{fill:#7b68ee;stroke:#7b68ee;stroke-width:1.2px;width:14px;height:16px;margin-right:2px;margin-left:16px}@supports (--theme-main-color:#7b68ee){.cu-reminder-row__icon{fill:var(--theme-main-color);stroke:var(--theme-main-color)}}.cu-reminder-row__icon_completed{fill:#67cb48;stroke:#67cb48}.cu-reminder-row__main{display:flex;flex-direction:column;flex-shrink:1;flex-grow:1;align-self:stretch}.cu-reminder-row__actions{display:flex;align-items:center;height:100%;position:absolute;right:0;padding-right:5px;background:#fff}.dark-theme .cu-reminder-row__actions{background:#2b343b}.cu-reminder-row__actions:before{content:"";display:block;position:absolute;display:none;width:10px;height:100%;left:-10px;pointer-events:none;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff)}.dark-theme .cu-reminder-row__actions:before{background:linear-gradient(90deg,rgba(43,52,59,0) 0,#2b343b)}.cu-reminder-row__actions-placeholder{display:flex;align-items:center;height:100%;padding-right:5px}.cu-reminder-row__actions-placeholder .cu-task-row-date-picker__dual-dates{margin-right:10px}.cu-reminder-row__actions .cu-reminder-row-notification-view{margin-right:-5px}.cu-reminder-row__attachments{color:#7b68ee;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin:0 0 3px 10px}@supports (--theme-main-color:#7b68ee){.cu-reminder-row__attachments{color:var(--theme-main-color)}}.cu-reminder-row__delegator{opacity:.6}.cu-reminder-row__completed,.cu-reminder-row__delegator{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;margin:0 0 3px 10px}.cu-reminder-row__completed{color:#67cb48}.cu-reminder-row .cu-task-row-status__done-btn{transition:stroke .2s cubic-bezier(.785,.135,.15,.86) 0s;display:none;width:36px;height:36px;padding:9px;margin:0;stroke:#7c828d;stroke-width:1.2}.dark-theme .cu-reminder-row .cu-task-row-status__done-btn{stroke:#82868d}.cu-reminder-row .cu-task-row-status__done-btn_active{display:flex;stroke:#67cb48}.cu-reminder-row .cu-task-row-status__done-btn:hover{stroke:#67cb48}.cu-reminder-row .cu-task-row-status_border:before{width:0}.cu-reminder-row .cu-task-row-status_border:after{display:none}.cu-reminder-row__datetime{display:flex;align-items:center;flex-shrink:0;width:auto;padding:0;position:relative}@media print{.cu-reminder-row__datetime{width:50px}}.cu-reminder-row__datetime-body{display:inline-block}.cu-reminder-row__datetime .due-date__info-value{cursor:default;font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.dark-theme .cu-reminder-row__datetime .due-date__info-value{color:#abaeb0}.cu-reminder-row .cu-task-row-date-picker{padding:0;display:flex;align-items:center;flex-shrink:0;position:relative}.cu-reminder-row .cu-task-row-date-picker:after{display:none}.cu-reminder-row .cu-task-row-date-picker .due-date_list-view.due-date__row{margin-left:10px}.cu-reminder-row .cu-task-row-date-picker__dual-dates{transition:opacity .2s cubic-bezier(.785,.135,.15,.86) 0s;width:auto}.cu-reminder-row .cu-task-row-date-picker__dual-dates-icon{display:none;width:34px;height:34px;padding:9px;fill:#7c828d}.dark-theme .cu-reminder-row .cu-task-row-date-picker__dual-dates-icon{fill:#82868d}.cu-reminder-row .cu-task-row-date-picker__dual-dates-icon:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row .cu-task-row-date-picker__dual-dates-icon:hover{fill:var(--theme-main-color)}}.cu-reminder-row .cu-task-row-assignee{padding:0;width:auto;overflow:visible;height:36px}.cu-reminder-row .cu-task-row-assignee:after{display:none}.cu-reminder-row .cu-task-row-assignee .cu-user-group{margin:0;padding:0}.cu-reminder-row .cu-task-row-assignee .cu-user-group__item{margin:0}.cu-reminder-row .cu-user-group__item_assign-mono{display:none;margin:0}.cu-reminder-row .cu-user-group__icon-mono{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;width:36px;height:36px;padding:10px;fill:#7c828d}.dark-theme .cu-reminder-row .cu-user-group__icon-mono{fill:#82868d}.cu-reminder-row .cu-user-group__icon-mono:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row .cu-user-group__icon-mono:hover{fill:var(--theme-main-color)}}.cu-reminder-row__recurring{display:inline-flex}.cu-reminder-row__recurring-view{display:inline-block;margin:-1px 0 0;vertical-align:top}.cu-reminder-row__recurring.recurring-view .recurring-view__toogle{display:none}.cu-reminder-row__recurring.recurring-view.recurring-view_active .recurring-view__toogle{display:inline-flex;justify-content:center;align-items:center;margin-right:6px}.cu-reminder-row .cu-task-row-recurring-date-picker .cu-task-row-recurring-date-picker__recur.icon{display:none}.cu-reminder-row .cu-task-row-recurring-date-picker .cu-task-row-recurring-date-picker__icon-recurring{transition:stroke .2s cubic-bezier(.785,.135,.15,.86) 0s;display:inline-flex!important;padding:0}.cu-reminder-row .cu-task-row-recurring-date-picker .cu-task-row-recurring-date-picker__icon-recurring:hover{stroke:var(--theme-main-color)}.cu-reminder-row .cu-task-row-recurring-date-picker:after{display:none}.cu-reminder-row__remove{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;display:none;width:36px;height:36px;padding:10px;cursor:pointer;fill:#7c828d}.dark-theme .cu-reminder-row__remove{fill:#82868d}.cu-reminder-row__remove:hover{fill:#fd71af}.cu-reminder-row .cu-sparks{display:none}.cu-reminder-row__convert{transition:fill .2s cubic-bezier(.785,.135,.15,.86) 0s;display:none;width:36px;height:36px;padding:11px 9px 9px;cursor:pointer;fill:#7c828d}.dark-theme .cu-reminder-row__convert{fill:#82868d}.cu-reminder-row__convert:hover{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-reminder-row__convert:hover{fill:var(--theme-main-color)}}.cu-reminder-row__help-header{padding:10px 15px 0;border-bottom:1px solid #f4f4f4}.dark-theme .cu-reminder-row__help-header{border-bottom-color:#2b343b}.cu-reminder-row__help-header_add-to-list{padding:10px 15px;border-bottom-color:#e3e3e3}.dark-theme .cu-reminder-row__help-header_add-to-list{border-bottom-color:#2b343b}.cu-reminder-row__help-header-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font:500 12px/20px Gotham Pro,Proxima Nova,arial,serif;color:#292d34;margin-bottom:2px}.dark-theme .cu-reminder-row__help-header-title{color:#d5d6d7}.cu-reminder-row__help-header-desc{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-bottom:10px;font:400 12px/15px Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.dark-theme .cu-reminder-row__help-header-desc{color:#abaeb0}.cu-task-list_dragging-selected .cu-reminder-row_selected:not(.cdk-drag-placeholder){height:0!important;visibility:hidden}.cu-reminder-row.cdk-drag-preview .cu-reminder-row__container{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cu-reminder-row.cdk-drag-preview .cu-reminder-row__handle{opacity:1}.cu-reminder-row.cdk-drag-placeholder{opacity:.4}.cdk-drop-list-dragging .cu-reminder-row.cdk-drag:not(.cdk-drag-placeholder){transition:transform .2s cubic-bezier(0,0,.2,1)}.cu-reminder-row.cdk-drag-animating{transition:transform .15s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging .cu-reminder-row.cdk-drag{pointer-events:none}.cu-reminder-row.cu-reminder-row_editing .cu-reminder-row__convert,.cu-reminder-row.cu-reminder-row_editing .cu-reminder-row__remove,.cu-reminder-row.cu-reminder-row_editing .cu-user-group__item_assign-mono,.cu-reminder-row.cu-reminder-row_hovered .cu-reminder-row__convert,.cu-reminder-row.cu-reminder-row_hovered .cu-reminder-row__remove,.cu-reminder-row.cu-reminder-row_hovered .cu-user-group__item_assign-mono,.cu-reminder-row:hover .cu-reminder-row__convert,.cu-reminder-row:hover .cu-reminder-row__remove,.cu-reminder-row:hover .cu-user-group__item_assign-mono{display:block}.cu-reminder-row.cu-reminder-row_editing .cu-reminder-row-notification-view,.cu-reminder-row.cu-reminder-row_hovered .cu-reminder-row-notification-view,.cu-reminder-row:hover .cu-reminder-row-notification-view{display:flex;align-items:center;justify-content:center}.cu-reminder-row.cu-reminder-row_editing .cu-task-row-date-picker__dual-dates-icon,.cu-reminder-row.cu-reminder-row_editing .cu-task-row-date-picker__icon,.cu-reminder-row.cu-reminder-row_editing .cu-task-row-recurring-date-picker__icon,.cu-reminder-row.cu-reminder-row_editing .cu-task-row-status__done-btn,.cu-reminder-row.cu-reminder-row_hovered .cu-task-row-date-picker__dual-dates-icon,.cu-reminder-row.cu-reminder-row_hovered .cu-task-row-date-picker__icon,.cu-reminder-row.cu-reminder-row_hovered .cu-task-row-recurring-date-picker__icon,.cu-reminder-row.cu-reminder-row_hovered .cu-task-row-status__done-btn,.cu-reminder-row:hover .cu-task-row-date-picker__dual-dates-icon,.cu-reminder-row:hover .cu-task-row-date-picker__icon,.cu-reminder-row:hover .cu-task-row-recurring-date-picker__icon,.cu-reminder-row:hover .cu-task-row-status__done-btn{display:flex}.cu-reminder-row.cu-reminder-row_editing .cu-sparks,.cu-reminder-row.cu-reminder-row_hovered .cu-reminder-row__actions:before,.cu-reminder-row.cu-reminder-row_hovered .cu-sparks,.cu-reminder-row:hover .cu-reminder-row__actions:before,.cu-reminder-row:hover .cu-sparks{display:block}.cu-reminder-row.cu-reminder-row_editing .cu-reminder-row__actions{position:relative}'],encapsulation:2,changeDetection:0}),t})();var As=a("kUJR"),$s=a("wGqn"),Rs=a("kHoN"),Fs=a("bpMd"),Ms=a("obfd"),Es=a("SgaY"),Us=a("K0KF"),Ls=a("prfv"),zs=a("2E2X"),Vs=a("bFKe"),Ns=a("bx+h"),qs=a("csDc"),Bs=a("fTg4"),Gs=a("C8uC"),Xs=a("UDEt"),Ws=a("dzSB");let Hs=(()=>{class t{}return t.\u0275mod=O.Ub({type:t}),t.\u0275inj=O.Tb({factory:function(e){return new(e||t)},imports:[[l.c,Us.a,Ns.a,Gs.LoaderModule,_.a]]}),t})();var Zs=a("T5D4"),Qs=a("4xwl"),Ks=a("AGVE"),Js=a("tyNb"),Ys=a("viDW"),tc=a("zBTC"),ec=a("E5a2"),ac=a("KyjD"),ic=a("yPlU"),oc=a("FZDf"),nc=a("zkEv"),sc=a("Y9Pr"),cc=a("Z0uM"),rc=a("dsEp"),lc=a("3Pt+"),uc=a("EHXF"),dc=a("wRSl"),pc=a("5ygy"),mc=a("sdT0"),hc=a("YEAa"),gc=a("IP3u"),bc=a("0qC/"),fc=a("3u9o");let kc=(()=>{class t{}return t.\u0275mod=O.Ub({type:t}),t.\u0275inj=O.Tb({factory:function(e){return new(e||t)},imports:[[l.c,_.a,f.a,ac.a]]}),t})();var _c=a("Ue6b"),wc=a("x52m"),vc=a("FYty"),yc=a("gwei"),xc=a("sf8M"),Tc=a("N3Tp"),Ic=a("Zq4E"),Cc=a("3uaV"),Dc=a("AEtP");function Sc(t,e){if(1&t){const t=O.dc();O.cc(0,"div",4),O.qc("click",function(){return O.Uc(t),O.uc().onCreateTask.emit()}),O.cc(1,"div",5),O.dd(2),O.bc(),O.bc()}if(2&t){const t=O.uc();O.Ib(2),O.fd(" ",t.createTaskText||t.defaultCreateText," ")}}function Oc(t,e){1&t&&(O.cc(0,"div",6),O.Xb(1,"div",7),O.ac(2),O.gc(3,8),O.Zb(),O.bc())}function jc(t,e){if(1&t){const t=O.dc();O.cc(0,"cu-task-list-footer-field",13,14),O.qc("onSaveCalc",function(e){O.Uc(t);const a=O.uc().$implicit;return O.uc(2).saveCalc(e,a)})("click",function(){O.Uc(t);const e=O.Rc(1),a=O.uc(3);return a.disabled?a.onDisabledClick.emit():a.paywallTemplate&&e.show()}),O.bc()}if(2&t){const t=O.uc().$implicit,e=O.uc(2);O.ad("width",t.width+"px"),O.Dc("popover",e.paywallTemplate)("outsideClick",!0)("disabled",!!e.paywallTemplate||e.disabled||!!e.publicViewData||e.isSharingApp)("column",t)("total",e.totals[null==t?null:t.name])("overallTotal",e.overallTotals&&e.overallTotals[null==t?null:t.name])("publicViewData",e.publicViewData)}}function Pc(t,e){if(1&t&&O.Xb(0,"div",15),2&t){const t=O.uc().$implicit;O.ad("width",t.width+"px")}}function Ac(t,e){if(1&t&&(O.ac(0),O.bd(1,jc,2,9,"cu-task-list-footer-field",11),O.bd(2,Pc,1,2,"div",12),O.Zb()),2&t){const t=e.$implicit;O.Ib(1),O.Dc("ngIf",t.aggregableType&&!t.link),O.Ib(1),O.Dc("ngIf",!t.aggregableType||t.link)}}function $c(t,e){if(1&t&&(O.ac(0),O.cc(1,"div",9),O.bd(2,Ac,3,2,"ng-container",10),O.bc(),O.Zb()),2&t){const t=O.uc();O.Ib(1),O.Dc("cuTooltip",t.disabledTooltip),O.Ib(1),O.Dc("ngForOf",t.visibleColumns)("ngForTrackBy",t.trackByName)}}let Rc=(()=>{class t{constructor(){this.defaultCreateText="+ New task",this.isSharingApp=L.k,this.totals={},this.overallTotals={},this.showCreateTask=!0,this.showColumnTotals=!0,this.disabled=!1,this.createTaskText=this.defaultCreateText,this.isSubtasksSection=!1,this.onCreateTask=new O.o,this.onAction=new O.o,this.onDisabledClick=new O.o,this.trackByName=Object(z.d)("name")}ngOnInit(){}ngOnChanges(t){t.columns&&(this.visibleColumns=this.columns?this.columns.filter(t=>t.state===F.b.Visible):[])}saveCalc(t,e){this.onAction.emit({action:C.a.SetCalc,col:e,data:t})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=O.Qb({type:t,selectors:[["cu-task-list-footer"]],hostAttrs:[1,"cu-task-list-footer"],hostVars:2,hostBindings:function(t,e){2&t&&O.Ob("cu-task-list-footer_subtask",e.isSubtasksSection)},inputs:{columns:"columns",totals:"totals",overallTotals:"overallTotals",showCreateTask:"showCreateTask",showColumnTotals:"showColumnTotals",disabled:"disabled",disabledTooltip:"disabledTooltip",paywallTemplate:"paywallTemplate",createTaskText:"createTaskText",collapsed:"collapsed",isSubtasksSection:"isSubtasksSection",publicViewData:"publicViewData",isMultiListInvalid:"isMultiListInvalid"},outputs:{onCreateTask:"onCreateTask",onAction:"onAction",onDisabledClick:"onDisabledClick"},features:[O.Gb],decls:4,vars:3,consts:function(){let t;return t=$localize`:@@common__group-with-tasks-from-lists␟6b1545636dea8b27e77723923cafb90769a92f6c␟285437842764707114:This is a group with tasks from other Lists`,[[1,"cu-task-list-footer__item","cu-task-list-footer__item_main"],["class","cu-task-list-footer__add",3,"click",4,"ngIf"],["class","cu-task-list-footer__multi-list-warning",4,"ngIf"],[4,"ngIf"],[1,"cu-task-list-footer__add",3,"click"],[1,"cu-task-list-footer__add-text"],[1,"cu-task-list-footer__multi-list-warning"],["icon","cu2-info-circle"],t,[1,"cu-task-list-footer__items",3,"cuTooltip"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cu-task-list-footer__item","containerClass","popover_white popover_no-max-width popover_no-padding","triggers","","container","body","placement","left",3,"popover","outsideClick","disabled","column","total","overallTotal","width","publicViewData","onSaveCalc","click",4,"ngIf"],["class","cu-task-list-footer__item",3,"width",4,"ngIf"],["containerClass","popover_white popover_no-max-width popover_no-padding","triggers","","container","body","placement","left",1,"cu-task-list-footer__item",3,"popover","outsideClick","disabled","column","total","overallTotal","publicViewData","onSaveCalc","click"],["pop","bs-popover"],[1,"cu-task-list-footer__item"]]},template:function(t,e){1&t&&(O.cc(0,"div",0),O.bd(1,Sc,3,1,"div",1),O.bd(2,Oc,4,0,"div",2),O.bc(),O.bd(3,$c,3,3,"ng-container",3)),2&t&&(O.Ib(1),O.Dc("ngIf",e.showCreateTask&&!e.collapsed&&!e.isMultiListInvalid),O.Ib(1),O.Dc("ngIf",e.isMultiListInvalid),O.Ib(1),O.Dc("ngIf",e.showColumnTotals&&!e.collapsed))},directives:[l.q,st.a,lt.a,l.p,Dc.a,m.c],styles:['.cu-task-list-footer{display:flex;position:relative}.cu-task-list-footer_subtask{background:#fff;position:relative;width:100%;border-left:3px solid transparent}.dark-theme .cu-task-list-footer_subtask{background:#2b343b}.cu-task-list-footer_subtask .cu-task-list-footer__add{margin-bottom:2px;margin-left:29px}.cu-task-list-footer__add{transition:background .2s cubic-bezier(.785,.135,.15,.86) 0s;position:absolute;left:9px;top:4px;font:11px/11px Gotham Pro,Proxima Nova,arial,serif;color:#7c828d;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;padding:4px 7px;border-radius:3px}.cu-task-list-footer__add [contenteditable=true]{-webkit-user-select:text;-ms-user-select:text;user-select:text}.dark-theme .cu-task-list-footer__add{color:#bcc0c7}.cu-task-list-footer__add:hover{background:rgba(188,192,199,.3)}.cu-task-list-footer__add-text{transition:opacity .1s cubic-bezier(.785,.135,.15,.86) 0s;font:11px/11px Gotham Pro,Proxima Nova,arial,serif;color:#7c828d}.dark-theme .cu-task-list-footer__add-text{color:#bcc0c7}.cu-task-list__subtasks .cu-task-list-footer__add-text{opacity:0}.cu-task-list__subtasks:hover .cu-task-list-footer__add-text{opacity:1}.cu-task-list__subtasks .cu-task-list-footer__add{position:sticky;left:30px;height:19px}.cu-task-list-footer__items{display:inline-flex;align-items:center;padding-right:75px}.cu-task-list-footer__items_disabled>*{pointer-events:none}.cu-task-list-footer__item_main{display:inline-flex;flex-grow:1;min-width:346px;height:24px;align-items:flex-end;position:sticky;left:0;z-index:10}@media screen and (max-width:768px){.cu-task-list-footer__item_main{max-width:30%;min-width:0}}.cu-task-list__subtasks .cu-task-list-footer__item_main{left:23px;align-items:flex-start}.cu-task-list-footer__multi-list-warning{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Gotham Pro,Proxima Nova,arial,serif;font-weight:500;font-size:11px;line-height:11px;color:#b9bec7;display:flex;align-items:center;margin:0 0 7px 10px}@supports (--global-font-support:"Gotham Pro","Proxima Nova",arial,serif){.cu-task-list-footer__multi-list-warning{font-family:var(--global-font-support)}}.cu-task-list-footer__multi-list-warning .icon{width:12px;height:12px;fill:#b9bec7;margin-right:5px}'],encapsulation:2,changeDetection:0}),t})();var Fc=a("zx/h"),Mc=a("/8Ka");let Ec=(()=>{class t{}return t.\u0275mod=O.Ub({type:t}),t.\u0275inj=O.Tb({factory:function(e){return new(e||t)},imports:[[l.c,_.a,v.a,r.f,g.b,h.b,x.a,y.a,s.a,I.a,w.a,p.a,m.d,u.a,Ns.a,f.a,d.b,b.a,k.a,T.a,Dn.a,Sn.a,On.a,jn.a,tc.a,Pn.CreateCustomFieldFormModule,An.a,$n.a,Rn.a,Fn.a,As.a,$s.a,Rs.a,Fs.a,Ms.a,u.a,Es.a,Us.a,Ls.a,zs.a,Vs.b,Ns.a,qs.a,Bs.a,Gs.LoaderModule,Xs.a,Ws.a,Hs,Zs.a,Qs.a,Ks.a,Js.l,Ys.a,ec.a,c.a,ac.a,ic.a,oc.a,nc.a,cc.a,sc.a,rc.a,lc.l,uc.a,dc.a,pc.a,mc.a,hc.a,n.a,o.a,gc.a,fc.a,i.a,bc.a,kc,_c.a,wc.a]]}),t})();O.Yc(C.c,[l.q,l.x,vc.a,l.o,r.d,yc.a,lt.a,l.p,Cn,r.a,xc.a,Tc.a,r.c,C.c,Ic.a,Ps,Cc.a,Pt.a,D.a,Rc,Fc.a,Mc.a],[l.b])},yhnL:function(t,e,a){"use strict";a.d(e,"b",function(){return b}),a.d(e,"a",function(){return f});var i=a("itXk"),o=a("2p4s"),n=a("zp1y"),s=a("lJxs"),c=a("vkgz"),r=a("o7Ov"),l=a("fXoL"),u=a("tk/3"),d=a("irDL"),p=a("jJW4"),m=a("l7P3");function h(t){const e=t.updates[t.updates.length-1];return{id:String(t.id),title:t.title,repository:{id:t.bb_repo_id,name:t.repo_name,owner:t.repo_owner},url:t.url,author:t.author,status:e,reviewers:t.reviewers,build_status:t.build_status?t.build_status.toLowerCase():null,target_branch:t.target_branch,source_branch:t.source_branch,number:+t.number}}function g(t,e,a){return t?t.map(t=>Object.assign(Object.assign({},t),{url:e?e+(a?"#":"#chg-")+t.filename:null,short_name:t.filename.split("/").pop()})):null}function b(t){return{author:t.author,date:new Date(+t.date),message:t.message,sha:t.hash,branch_name:t.branch_name,repository:{id:t.bb_repo_id,name:t.bb_repo_name},commit_url:t.self_link,modified_files:g(t.modified_files,t.self_link,t.self_hosted)}}let f=(()=>{class t{constructor(t,e,a,i){this.http=t,this.errorHandler=e,this.sharedData=a,this.store=i,this.name="Bitbucket",this.links={docs:"https://docs.clickup.com/integrations/bitbucket",faq:"https://docs.clickup.com/f-a-q/troubleshooting-bitbucket"},this.canBeSelfHosted=!0,this.canBeStaticIp=!0,this.canAttachBranchesToTasks=!0,this.hasModifiedFiles=!0,this.asyncPullRequestSearch=!0,this.asyncBranchSearch=!0,this.usePopupWindowForAuth=!0,this.asyncRepoSearch=!0,this.pullRequestLabel="Pull Request",this.reviewerLabel="Reviewer",this.apiUrl=o.a.apiUrl,this.apiUrlV2=o.a.apiUrlV2}getAuthLink(){return`https://bitbucket.org/site/oauth2/authorize?client_id=${o.a.bitbucketClientId}&response_type=code`}isAuthenticated(){return this.http.get(this.apiUrlV2+"/bb/teams").pipe(Object(n.a)(this.sharedData.compatCurrentTeam$),Object(s.a)(([t,e])=>t.includes(e.id)),this.errorHandler.http())}getSettings(t){return this.http.get(`${this.apiUrlV2}/bb/team/${t.id}/settings`).pipe(Object(s.a)(t=>({enabled:t.using_bitbucket,branchNameFormat:t.branch_name_format,canDeauthTeam:t.can_deauth_team,authedWithIntegration:t.authed_bitbucket,isSelfHosted:t.is_self_hosted})))}updateSettings(t,{enabled:e,branchNameFormat:a}){const n=[];return void 0!==e&&n.push(this.http.put(`${o.a.apiUrlV2}/bb/team/${t.id}/settings`,{options:{using_bitbucket:e}}).pipe(Object(c.a)(()=>{t.using_bitbucket=!0,this.sharedData.compatCurrentProject&&this.sharedData.compatCurrentProject.team.id===t.id&&(this.sharedData.compatCurrentProject.team.using_bitbucket=e),this.store.dispatch(new r.dj(t))}))),void 0!==a&&n.push(this.http.put(`${o.a.apiUrlV2}/bb/team/${t.id}/bitbucketSettings`,{options:{branch_name_format:a}})),Object(i.a)(n)}getLink(t,e){return e.find(e=>String(e.id)===String(t.id))}getAccessToken(t,e){return this.http.post(`${this.apiUrlV2}/bb/team/${e}/authorize`,{code:t}).pipe(this.errorHandler.http())}revokeAccessToken(t){return this.http.delete(`${this.apiUrlV2}/bb/team/${t}/deauthorize`).pipe(this.errorHandler.http())}getAllRepositories(t,e){return this.http.get(`${this.apiUrlV2}/bb/team/${t}/repos/search`,{params:e?{page:e.page,query:e.search}:void 0}).pipe(Object(s.a)(t=>({repos:t.repos.map(t=>({id:t.bb_repo_id,full_name:t.full_name,name:t.bb_repo_name,owner:{id:t.bb_owner_id,username:t.bb_repo_name},url:t.url})),nextPage:t.hasMore||void 0})),this.errorHandler.http())}linkRepository(t,e){return this.http.post(`${this.apiUrlV2}/bb/team/${e}/repo`,{bb_repo_id:t.id,bb_repo_name:t.name,bb_owner_id:t.owner.id,project_ids:[]}).pipe(Object(s.a)(a=>({id:a.bb_repo_id,name:a.bb_repo_name,owner:{id:String(a.userid),username:t.owner.username},projectIds:[],teamId:e})),this.errorHandler.http())}unlinkRepository(t){return this.http.delete(`${this.apiUrlV2}/bb/team/${t.teamId}/repo/${t.id}`).pipe(this.errorHandler.http())}getLinkedRepositories(t){return this.http.get(`${this.apiUrlV2}/bb/team/${t}/repo`).pipe(Object(s.a)(e=>e.map(e=>({id:e.bb_repo_id,name:e.bb_repo_name,owner:{id:String(e.userid)},projectIds:e.projects,teamId:t}))),this.errorHandler.http())}addLinkedRepositoryToProjects(t,e){return this.http.post(`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/bb_repos/projects`,{repos:[{bb_repo_id:t.id,projects:e}]}).pipe(Object(s.a)(()=>Object.assign(Object.assign({},t),{projectIds:[...t.projectIds,...e]})),this.errorHandler.http())}removeLinkedRepositoryFromProjects(t,e){return this.http.request("delete",`${this.apiUrl}/team/${this.sharedData.compatCurrentTeam.id}/bb_repos/projects`,{body:{repos:[{bb_repo_id:t.id,projects:e}]}}).pipe(Object(s.a)(()=>Object.assign(Object.assign({},t),{projectIds:t.projectIds.filter(t=>!e.includes(t))})),this.errorHandler.http())}getTaskRepositories(t){return this.http.get(`${this.apiUrlV2}/bb/task/${t.id}/repo`).pipe(Object(s.a)(e=>e.map(e=>({id:e.bb_repo_id,name:e.bb_repo_name,owner:{},projectIds:[],teamId:t.team}))),this.errorHandler.http())}getTaskRepositoryBranches(t,e,a){return this.http.get(`${this.apiUrlV2}/bb/repo/${t.id}/branches/search`,{params:a?{query:a.search,page:a.page}:{}}).pipe(Object(s.a)(({branches:t,hasMore:e})=>({branches:t.map(({name:t})=>({name:t})),next:e||void 0})),this.errorHandler.http())}getAllBranchCommits(t,e,a){return this.http.get(`${this.apiUrlV2}/bb/repo/${t.id}/commits`,{params:{source_branch:e.name}}).pipe(Object(s.a)(({commits:a})=>({commits:a.map(a=>({author:a.author,commit_url:a.self_link,date:new Date(Number(a.date)),message:a.message,sha:a.hash,branch_name:e.name,repository:{id:t.id,name:t.name},modified_files:g(a.modified_files,a.self_link,a.self_hosted)}))})),this.errorHandler.http())}getTaskCommits(t){return this.http.get(`${this.apiUrlV2}/bb/task/${t.id}/commits`).pipe(Object(s.a)(t=>t.map(b)),this.errorHandler.http())}attachRepositoryCommitsToTask(t,e,a,i){return this.http.post(`${this.apiUrlV2}/bb/task/${e.id}/repo/${t.id}/commits`,{commits:a.map(t=>({branch_name:t.branch_name,self_link:t.commit_url,hash:t.sha,message:t.message,author:t.author,date:t.date.valueOf(),modified_files:t.modified_files}))}).pipe(Object(s.a)(e=>e.map(e=>b(Object.assign(Object.assign({},e),{bb_repo_name:t.name})))),this.errorHandler.http())}unattachRepositoryCommitsFromTask(t,e){return this.http.request("delete",`${this.apiUrlV2}/bb/task/${t.id}/repo/${e[0].repository.id}/commits`,{body:{commits:e.map(t=>t.sha)}}).pipe(this.errorHandler.http())}configureSelfHosting(t,e,a,i,o,n){let s;if(a){const{origin:t}=new URL(a);s={host_url:t,self_hosted:!0,personal_access_token:e,use_hosted_secret:i,static_ip:n,canonical_url:o}}else s={personal_access_token:e};return this.http.post(`${this.apiUrlV2}/bb/team/${t}/hosting`,s).pipe(this.errorHandler.http())}updateSelfHostingAccessToken(t,e){return this.http.put(`${this.apiUrlV2}/bb/team/${t}/hosting`,{personal_access_token:e}).pipe(this.errorHandler.http())}getAttachedTaskBranches(t){return this.http.get(`${this.apiUrlV2}/bb/task/${t.id}/branches`).pipe(Object(s.a)(t=>t.map(t=>({id:t.id,name:t.branch_name,repository:{id:t.bb_repo_id,name:t.bb_repo_name}}))),this.errorHandler.http())}attachBranchToTask(t,e,a){return this.http.post(`${this.apiUrlV2}/bb/task/${a.id}/repo/${t.id}/branches`,{branch_name:e.name}).pipe(Object(s.a)(a=>({id:a.id,name:e.name,repository:{id:t.id,name:t.name}})),this.errorHandler.http())}unattachBranchToTask(t,e){return this.http.delete(`${this.apiUrlV2}/bb/task/${e.id}/repo/${t.repository.id}/branches/${t.id}`).pipe(this.errorHandler.http())}getAttachedTaskPullRequests(t){return this.http.get(`${this.apiUrlV2}/bb/task/${t.id}/pulls`).pipe(Object(s.a)(t=>t.map(h)),this.errorHandler.http())}getRepositoryPullRequests(t,e){return this.http.get(`${this.apiUrlV2}/bb/repo/${t.id}/pulls/search`,{params:{page:e.page,query:e.search,"state[]":e.showClosed?["declined","merged","open"]:["open"]}}).pipe(Object(s.a)(({prs:e,hasMore:a})=>({pullRequests:e.map(e=>({id:String(e.number),title:e.title,repository:{id:t.id,name:t.name,owner:t.owner.username},url:e.url,author:e.author,status:e.state.toLowerCase(),number:e.number,current_sha:e.current_sha,reviewers:[],build_status:null,target_branch:e.target_branch,source_branch:e.source_branch})),next:a||void 0})),this.errorHandler.http())}attachPullRequestToTask(t,e,a){return this.http.post(`${this.apiUrlV2}/bb/task/${a.id}/repo/${t.id}/pulls`,{number:e.number,title:e.title,current_sha:e.current_sha,author:e.author,state:e.status,source_branch:e.source_branch,target_branch:e.target_branch}).pipe(Object(s.a)(t=>Object.assign(Object.assign({},h(t)),{url:e.url})),this.errorHandler.http())}unattachPullRequestFromTask(t,e){return this.http.delete(`${this.apiUrlV2}/bb/task/${e.id}/repo/${t.repository.id}/pulls/${t.id}`).pipe(this.errorHandler.http())}createBranch(t,e,a,i){return this.http.post(`${this.apiUrlV2}/bb/task/${t.id}/repo/${e.id}/branches/new`,{source_branch:a,branch_name:i}).pipe(Object(s.a)(t=>({id:t.id,name:t.branch_name,repository:{id:e.id,name:e.name}})),this.errorHandler.http())}createPullRequest(t,e,a,i,o,n){return this.http.post(`${this.apiUrlV2}/bb/task/${t.id}/repo/${e.id}/pulls/new`,{target_branch:a,source_branch:i,title:o,description:n}).pipe(Object(s.a)(t=>h(Object.assign(Object.assign({},t),{bb_repo_id:e.id,repo_owner:e.owner.username,repo_name:e.name}))),this.errorHandler.http())}}return t.\u0275fac=function(e){return new(e||t)(l.nc(u.b),l.nc(d.a),l.nc(p.a),l.nc(m.Store))},t.\u0275prov=l.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},yrdX:function(t,e,a){"use strict";a.d(e,"a",function(){return m});var i=a("fXoL"),o=a("XNiG"),n=a("2Vo4"),s=a("TqRa"),c=a("iRz7"),r=a("8it8"),l=a("ofXK"),u=a("UdVN"),d=a("j2Cv");function p(t,e){if(1&t&&(i.Xb(0,"time-tracking-display",3),i.vc(1,"async")),2&t){const t=i.uc();i.Dc("totalTimeTracked",null==t.rollups||!t.rollups.tracking||t.dontShowRollup?null==t.task?null:t.task.total_time_spent:null==t.task?null:t.task.rolled_up_time_spent)("running",!(null==t.timeTrackerTaskData||null==t.timeTrackerTaskData.currentEntryMap[t.task.id]||!t.timeTrackerTaskData.currentEntryMap[t.task.id].duration))("displayLabel",!1)("timeEntry",i.wc(1,7,t.timeEntry$))("timeTrackedTooltip",null!=t.task&&null!=t.task.permissions&&t.task.permissions.track_time?t.logTimeText:t.isSharingApp?null:t.commonStringsService.noPermissionToChangeText)("useTimeTrackerDuration",!0)("forceDisplayTime",!0)}}let m=(()=>{class t{constructor(t){this.commonStringsService=t,this.destroy$=new o.a,this.isSharingApp=s.k,this.taskTimeEntries=[],this.forceLog=!1,this.timeEntry$=new n.a(null),this.disabled=!1,this.dontShowRollup=!1,this.onChange=new i.o,this.onTimeTrackerAction=new i.o,this.startTrialFromTimeTracking=new i.o,this.onClose=new i.o,this.onOpen=new i.o,this.logTimeText=$localize`:@@common_log-time:Log Time`}ngOnInit(){}ngOnChanges(t){t.timeTrackerTaskData&&this.timeTrackerTaskData&&this.timeTrackerTaskData.timeEntryGroupMap&&this.timeTrackerTaskData.timeEntryGroupMap[this.task.id]&&(this.taskTimeEntries=this.timeTrackerTaskData.timeEntryGroupMap[this.task.id].map(t=>{const e=(t.intervalIds||[]).map(t=>this.timeTrackerTaskData.timeEntriesMap[t]).filter(t=>!!t),a=e.reduce((t,e)=>t+e.duration,0);return Object.assign(Object.assign({},t),{intervals:e,time:a})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}displayTrackedEntry(t){this.timeEntry$.next("Added "+t),setTimeout(()=>{this.timeEntry$.next(null)},2500)}open(){this.timeTrackingDropdown.open()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-task-row-time-tracker"]],viewQuery:function(t,e){if(1&t&&i.jd(c.a,3),2&t){let t;i.Qc(t=i.rc())&&(e.timeTrackingDropdown=t.first)}},hostAttrs:[1,"cu-task-row-time-tracker"],hostVars:2,hostBindings:function(t,e){2&t&&i.Ob("cu-task-row-time-tracker_disabled",e.disabled)},inputs:{disabled:"disabled",task:"task",parentSpace:"parentSpace",timeTrackerTaskData:"timeTrackerTaskData",user:"user",dontShowRollup:"dontShowRollup",rollups:"rollups",team:"team"},outputs:{onChange:"onChange",onTimeTrackerAction:"onTimeTrackerAction",startTrialFromTimeTracking:"startTrialFromTimeTracking",onClose:"onClose",onOpen:"onOpen"},features:[i.Gb],decls:3,vars:19,consts:[[3,"disabled","totalTimeTracked","taskId","task","taskName","taskStatusColor","timeSpentList","defaultProject","spaceId","teamId","currentEntry","user","rolledUpSpent","showManualTime","tags","showActiveTimer","team","forceLog","onChange","onTimeTrackerAction","onStartTrial","onOpen","onClose","onDisplayEntry"],[3,"totalTimeTracked","running","displayLabel","timeEntry","timeTrackedTooltip","useTimeTrackerDuration","forceDisplayTime",4,"ngIf"],["icon","cu2-caret-down",1,"cu-task-info__time-tracking-container-arrow-down",3,"click"],[3,"totalTimeTracked","running","displayLabel","timeEntry","timeTrackedTooltip","useTimeTrackerDuration","forceDisplayTime"]],template:function(t,e){1&t&&(i.cc(0,"cu-time-tracking-dropdown",0),i.qc("onChange",function(t){return e.onChange.emit(t)})("onTimeTrackerAction",function(t){return e.onTimeTrackerAction.emit(t)})("onStartTrial",function(){return e.startTrialFromTimeTracking.emit()})("onOpen",function(){return e.onOpen.emit()})("onClose",function(){return e.forceLog=!1,e.onClose.emit()})("onDisplayEntry",function(t){return e.displayTrackedEntry(t)}),i.bd(1,p,2,9,"time-tracking-display",1),i.cc(2,"div",2),i.qc("click",function(){return e.forceLog=!0}),i.bc(),i.bc()),2&t&&(i.Dc("disabled",e.disabled||!(null!=e.task&&null!=e.task.permissions&&e.task.permissions.track_time))("totalTimeTracked",null==e.task?null:e.task.total_time_spent)("taskId",null==e.task?null:e.task.id)("task",e.task)("taskName",null==e.task?null:e.task.name)("taskStatusColor",null==e.task||null==e.task.status?null:e.task.status.color)("timeSpentList",e.taskTimeEntries)("defaultProject",e.parentSpace)("spaceId",e.task.project_id)("teamId",e.task.team)("currentEntry",(null==e.timeTrackerTaskData?null:e.timeTrackerTaskData.currentEntryMap[e.task.id])||(null==e.timeTrackerTaskData?null:e.timeTrackerTaskData.unsavedMap[e.task.id]))("user",e.user)("rolledUpSpent",null==e.task?null:e.task.rolled_up_time_spent)("showManualTime",!0)("tags",null==e.timeTrackerTaskData?null:e.timeTrackerTaskData.timeEntryTags)("showActiveTimer",!0)("team",e.team)("forceLog",e.forceLog),i.Ib(1),i.Dc("ngIf",!(null!=e.timeTrackerTaskData&&null!=e.timeTrackerTaskData.currentEntryMap[e.task.id]&&e.timeTrackerTaskData.currentEntryMap[e.task.id].duration)))},directives:[c.a,l.q,u.a,d.a],pipes:[l.b],styles:[".cu-task-row-time-tracker{display:flex;justify-content:center;align-items:center;flex-shrink:0;width:120px;overflow:hidden;position:relative}.cu-task-row-time-tracker_disabled *{cursor:default!important}.cu-task-row-time-tracker .time-tracking__display-time{padding:0}.cu-task-row-time-tracker .cu-user-group{padding-left:2px}.cu-task-row-time-tracker .cu-task-info__value{font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;color:#82868d}.dark-theme .cu-task-row-time-tracker .cu-task-info__value{color:#abaeb0}.cu-task-row-time-tracker .cu-dropdown_open .cu-user-group__item_time-tracker .cu-fill{fill:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-time-tracker .cu-dropdown_open .cu-user-group__item_time-tracker .cu-fill{fill:var(--theme-main-color)}}.cu-task-row-time-tracker .cu-dropdown_open .cu-user-group__item_time-tracker .cu-stroke{stroke:#7b68ee}@supports (--theme-main-color:#7b68ee){.cu-task-row-time-tracker .cu-dropdown_open .cu-user-group__item_time-tracker .cu-stroke{stroke:var(--theme-main-color)}}.cu-dashboard-board-card .cu-task-row-time-tracker{width:auto;margin-top:-2px}.cu-dashboard-board-card .cu-task-row-time-tracker .cu-user-group__item_time-tracker,.cu-dashboard-board-card .cu-task-row-time-tracker .cu-user-group__item_time-tracker .icon{width:24px;height:24px}.cu-dashboard-board-card .cu-task-row-time-tracker .cu-time-tracker-timer__items{margin-top:0}.cu-dashboard-board-card .cu-task-row-time-tracker .cu-time-tracking-dropdown__toggle:hover .cu-task-info__time-tracking-container-arrow-down{opacity:1}.cu-dashboard-board-card .cu-task-row-time-tracker .cu-time-tracker-toggle__play-container{margin-right:5px!important}.cu-dashboard-board-card .cu-task-row-time-tracker .time-tracking__value .time-tracking__icon{display:none}.cu-task-row .cu-task-row-time-tracker .cu-time-tracker-timer__items{margin-top:0}.cu-task-row .cu-task-row-time-tracker .cu-time-tracker-toggle__play-container{margin:-1px 5px 0 0!important}.cu-task-row .cu-task-row-time-tracker .time-tracking__value .time-tracking__icon{display:none}.cu-task-row .cu-task-row-time-tracker .cu-task-info__time-tracking-container-arrow-down{margin-left:2px}.cu-task-row .cu-task-row-time-tracker .cu-user-group{padding:0}.cu-task-row .cu-task-row-time-tracker .cu-user-group__item_time-tracker{margin-left:-8px;margin-right:-6px}.cu-task-row .cu-task-row-time-tracker:hover .cu-task-info__time-tracking-container-arrow-down{opacity:1}"],encapsulation:2,changeDetection:0}),t})()},yvFi:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var i=a("XNiG"),o=a("9ppp"),n=a("lJxs"),s=a("fXoL");let c=(()=>{class t extends i.a{constructor(){super()}get keys(){return this.getAllStrategyKeys()}get value(){return this.getValue()}getKeys(){return this.getAllStrategyKeys()}get keys$(){return this.pipe(Object(n.a)(t=>t.map(t=>t.key)))}setStrategies(t){this.next(t)}addStrategies(t){this.next([...this.getValue(),...this.ensureNoDuplication(...t)])}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this.strategies||[]}next(t){super.next(this.strategies=t)}ensureNoDuplication(...t){return t.filter(t=>!this.getKeys().includes(t.key))}getAllStrategyKeys(){return this.getValue().map(t=>t.key)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Sb({token:t,factory:t.\u0275fac}),t})()},"zx/h":function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("LdyQ"),o=a("fXoL"),n=a("5b//"),s=a("KzhV");const c=["*"];let r=(()=>{class t{constructor(){this.PRESET_COLORS=n.b.filter(t=>"#fff"!==t),this.disabled=!1,this.colorPickerWidth=255,this.onChangeColor=new o.o}ngAfterViewInit(){this.disabled||this.colorPicker.open()}changeColor(t){this.onChangeColor.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Qb({type:t,selectors:[["cu-task-status-edit-dropdown"]],viewQuery:function(t,e){if(1&t&&(o.jd(i.b,3),o.jd(s.a,1)),2&t){let t;o.Qc(t=o.rc())&&(e.dropdown=t.first),o.Qc(t=o.rc())&&(e.colorPicker=t.first)}},hostAttrs:[1,"cu-task-status-edit-dropdown"],inputs:{currentColor:"currentColor",disabled:"disabled",colorPickerWidth:"colorPickerWidth"},outputs:{onChangeColor:"onChangeColor"},ngContentSelectors:c,decls:2,vars:5,consts:[[3,"selectedColor","panelWidth","showClose","presetColors","dropdownDisabled","selectedColorChange"]],template:function(t,e){1&t&&(o.Cc(),o.cc(0,"cu-color-picker-dropdown",0),o.qc("selectedColorChange",function(t){return e.changeColor(t)}),o.Bc(1),o.bc()),2&t&&o.Dc("selectedColor",e.currentColor)("panelWidth",e.colorPickerWidth)("showClose",!0)("presetColors",e.PRESET_COLORS)("dropdownDisabled",e.disabled)},directives:[s.a],styles:[".cu-task-status-edit-dropdown{display:flex}"],encapsulation:2,changeDetection:0}),t})()}}]);