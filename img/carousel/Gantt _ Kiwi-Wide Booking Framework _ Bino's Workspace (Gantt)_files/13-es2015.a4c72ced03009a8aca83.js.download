(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{NtPy:function(t,e,a){"use strict";a.r(e),a.d(e,"CommentAttachmentModule",function(){return h});var i=a("ofXK"),c=a("chQ0"),n=a("sKwi"),o=a("KPoG"),r=a("K0KF"),m=a("fXoL");let h=(()=>{class t{}return t.\u0275mod=m.Ub({type:t}),t.\u0275inj=m.Tb({factory:function(e){return new(e||t)},imports:[[i.c,c.a,r.a,o.a.forChild(n.a)]]}),t})()},T7pm:function(t,e,a){"use strict";a.d(e,"a",function(){return L});var i=a("fXoL"),c=a("82+D"),n=a("IE5h"),o=a("TqRa"),r=a("Uo20"),m=a("8it8"),h=a("jJW4"),u=a("ofXK"),l=a("UdVN"),p=a("NsZK"),s=a("loh9");function _(t,e){if(1&t&&i.Xb(0,"div",15),2&t){const t=i.uc(2);i.Mb("icon cu-attachment-preview__thumbnail-",t.cloudIcons[t.attachment.source].cssSufix,""),i.Dc("icon",t.cloudIcons[t.attachment.source].icon)}}function d(t,e){1&t&&i.Xb(0,"div",16)}function v(t,e){if(1&t){const t=i.dc();i.cc(0,"div",17),i.qc("click",function(){i.Uc(t);const e=i.uc(2);return e.canChangeDescription?e.setCoverImage():null}),i.bc()}if(2&t){const t=i.uc(2);i.Dc("cuTooltip",t.canChangeDescription?(null==t.attachment?null:t.attachment.id)===(null==t.coverImage?null:t.coverImage.id)?t.commonStringsService.unpinCoverImageText:t.commonStringsService.pinCoverImageText:null)}}function w(t,e){1&t&&i.Xb(0,"div",16)}function f(t,e){1&t&&i.Xb(0,"div",18)}function b(t,e){1&t&&i.Xb(0,"div",19)}function g(t,e){1&t&&i.Xb(0,"div",20)}function x(t,e){if(1&t){const t=i.dc();i.cc(0,"div",6),i.cc(1,"div",7),i.cc(2,"img",8),i.qc("load",function(){return i.Uc(t),i.uc().loaded()})("error",function(e){return i.Uc(t),i.uc().thumbnailError(e)}),i.bc(),i.bc(),i.bd(3,_,1,4,"div",9),i.bd(4,d,1,0,"div",10),i.bd(5,v,1,1,"div",11),i.bd(6,w,1,0,"div",10),i.bd(7,f,1,0,"div",12),i.bd(8,b,1,0,"div",13),i.bd(9,g,1,0,"div",14),i.bc()}if(2&t){const t=i.uc();i.Ob("cu-attachment-preview__selected-cover",(null==t.attachment?null:t.attachment.id)===(null==t.coverImage?null:t.coverImage.id)),i.Ib(2),i.Ob("cu-attachment-preview__img_loading",!t.isLoaded),i.Dc("src",t.src,i.Xc),i.Ib(1),i.Dc("ngIf",t.cloudIcons[t.attachment.source]),i.Ib(1),i.Dc("ngIf",t.attachment.source==t.AttachmentSource.email),i.Ib(1),i.Dc("ngIf",t.canChangeDescription),i.Ib(1),i.Dc("ngIf",t.isEmail),i.Ib(1),i.Dc("ngIf",t.isGmail),i.Ib(1),i.Dc("ngIf",t.isInbox),i.Ib(1),i.Dc("ngIf",t.isOutlook)}}function I(t,e){if(1&t&&i.Xb(0,"div",28),2&t){const t=i.uc(2);i.Dc("icon",t.isImage?"file-image":t.isVideo?"file-video":t.isAudio?"file-audio":t.isEmail?"file-email":"file")}}function k(t,e){1&t&&(i.cc(0,"div",29),i.Xb(1,"img",30),i.bc())}function D(t,e){if(1&t&&(i.cc(0,"div",31),i.cc(1,"span"),i.dd(2),i.bc(),i.bc()),2&t){const t=i.uc(2);i.ad("background-color",t.isVideo||t.isAudio||t.isImage?null:t.color),i.Ib(2),i.ed(t.attachment.extension)}}function y(t,e){if(1&t&&i.Xb(0,"div",15),2&t){const t=i.uc(2);i.Mb("icon cu-attachment-preview__file-",t.cloudIcons[t.attachment.source].cssSufix,""),i.Dc("icon",t.cloudIcons[t.attachment.source].icon)}}function C(t,e){1&t&&i.Xb(0,"div",32)}function X(t,e){1&t&&i.Xb(0,"div",33)}function O(t,e){1&t&&i.Xb(0,"div",34)}const P=function(t,e,a){return{"cu-attachment-preview__file_image":t,"cu-attachment-preview__file_video":e,"cu-attachment-preview__file_audio":a}};function S(t,e){if(1&t&&(i.cc(0,"div",21),i.bd(1,I,1,1,"div",22),i.bd(2,k,2,0,"div",23),i.bd(3,D,3,3,"div",24),i.bd(4,y,1,4,"div",9),i.bd(5,C,1,0,"div",25),i.bd(6,X,1,0,"div",26),i.bd(7,O,1,0,"div",27),i.bc()),2&t){const t=i.uc();i.Dc("ngClass",i.Jc(8,P,t.isImage,t.isVideo,t.isAudio)),i.Ib(1),i.Dc("ngIf",9!==(null==t.attachment||null==t.attachment.view?null:t.attachment.view.type)),i.Ib(1),i.Dc("ngIf",9===(null==t.attachment||null==t.attachment.view?null:t.attachment.view.type)),i.Ib(1),i.Dc("ngIf",t.attachment.extension&&!t.isEmail),i.Ib(1),i.Dc("ngIf",t.cloudIcons[t.attachment.source]),i.Ib(1),i.Dc("ngIf",t.isGmail),i.Ib(1),i.Dc("ngIf",t.isInbox),i.Ib(1),i.Dc("ngIf",t.isOutlook)}}function T(t,e){if(1&t&&i.Xb(0,"div",15),2&t){const t=i.uc(2);i.Mb("icon cu-attachment-preview__folder-",t.cloudIcons[t.attachment.source].cssSufix,""),i.Dc("icon",t.cloudIcons[t.attachment.source].icon)}}function j(t,e){if(1&t&&(i.cc(0,"div",35),i.Xb(1,"div",36),i.bd(2,T,1,4,"div",9),i.bc()),2&t){const t=i.uc();i.Ib(2),i.Dc("ngIf",t.cloudIcons[t.attachment.source])}}function A(t,e){if(1&t&&(i.cc(0,"div",37),i.Xb(1,"div",38),i.bc()),2&t){const t=i.uc();i.Ib(1),i.Dc("icon","slide"===t.googleDocType?"file-doc-slide":"sheet"===t.googleDocType?"file-doc-sheet":"file-doc-doc")}}function z(t,e){if(1&t&&(i.cc(0,"div",39),i.cc(1,"span"),i.dd(2),i.bc(),i.dd(3),i.bc()),2&t){const t=i.uc();i.Ib(2),i.ed(t.attachment.resolved_comments),i.Ib(1),i.fd("/",t.attachment.total_comments,"\n")}}let L=(()=>{class t{constructor(t,e,a,r){this.attachmentsService=t,this.commonStringsService=e,this.changeDetectorRef=a,this.sharedData=r,this.isImage=!1,this.isVideo=!1,this.isAudio=!1,this.isCloud=!1,this.isGmail=!1,this.isInbox=!1,this.isOutlook=!1,this.isEmail=!1,this.isLoaded=!1,this.isSharingApp=o.k,this.disableLink=!1,this.thumbSize="large",this.canChangeDescription=!0,this.showComments=!0,this.onOpen=new i.o,this.onSetCoverImage=new i.o,this.AttachmentSource=c.a,this.cloudIcons=n.c}ngOnChanges(){this.src="small"===this.thumbSize?this.attachment.thumbnail_small:this.attachment.thumbnail_large,this.isLoaded=!this.src,this.color=Object(n.f)(this.attachment),this.isImage=Object(n.l)(this.attachment),this.isVideo=Object(n.p)(this.attachment),this.isAudio=Object(n.g)(this.attachment),this.isCloud=Object(n.h)(this.attachment),this.isInbox=Object(n.n)(this.attachment),this.isOutlook=Object(n.o)(this.attachment),this.isGmail=Object(n.k)(this.attachment)}thumbnailError(t){this.src=null,this.isLoaded=!0}clickImage(t){Object(n.a)(this.attachment,this.sharedData.compatCurrentTeam.microsoft_365_preview)&&(t&&(t.stopPropagation(),t.preventDefault()),this.onOpen.emit(Object.assign(Object.assign({},this.attachment),{taskId:this.taskId})))}setCoverImage(){this.onSetCoverImage.emit(this.attachment.id)}loaded(){this.isLoaded=!0,this.changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.a),i.Wb(m.a),i.Wb(i.h),i.Wb(h.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-attachment-preview"]],hostAttrs:[1,"cu-attachment-preview"],inputs:{attachment:"attachment",coverImage:"coverImage",disableLink:"disableLink",taskId:"taskId",thumbSize:"thumbSize",canChangeDescription:"canChangeDescription",showComments:"showComments"},outputs:{onOpen:"onOpen",onSetCoverImage:"onSetCoverImage"},features:[i.Gb],decls:6,vars:12,consts:[["target","_blank","cuLink","",1,"cu-clickable","cu-attachment-preview",3,"click"],["class","cu-attachment-preview__thumbnail",3,"cu-attachment-preview__selected-cover",4,"ngIf"],["class","cu-attachment-preview__file",3,"ngClass",4,"ngIf"],["class","cu-attachment-preview__folder",4,"ngIf"],["class","cu-attachment-preview__doc",4,"ngIf"],["class","cu-attachment-preview__comments",4,"ngIf"],[1,"cu-attachment-preview__thumbnail"],[1,"cu-attachment-preview__container"],["alt","",1,"cu-clickable","cu-attachment-preview__img",3,"src","load","error"],[3,"class","icon",4,"ngIf"],["class","cu-attachment-preview__thumbnail-email","icon","email",4,"ngIf"],["class","cu-attachment-preview__cover","icon","pin",3,"cuTooltip","cuPreventDefault","click",4,"ngIf"],["class","cu-attachment-preview__thumbnail-gmail","icon","gmail",4,"ngIf"],["class","cu-attachment-preview__thumbnail-inbox","icon","inbox",4,"ngIf"],["class","cu-attachment-preview__thumbnail-outlook","icon","outlook",4,"ngIf"],[3,"icon"],["icon","email",1,"cu-attachment-preview__thumbnail-email"],["icon","pin",1,"cu-attachment-preview__cover",3,"cuTooltip","cuPreventDefault","click"],["icon","gmail",1,"cu-attachment-preview__thumbnail-gmail"],["icon","inbox",1,"cu-attachment-preview__thumbnail-inbox"],["icon","outlook",1,"cu-attachment-preview__thumbnail-outlook"],[1,"cu-attachment-preview__file",3,"ngClass"],["class","cu-attachment-preview__file-icon",3,"icon",4,"ngIf"],["class","cu-attachment-preview__file-icon icon",4,"ngIf"],["class","cu-attachment-preview__file-ext",3,"background-color",4,"ngIf"],["class","cu-attachment-preview__gmail","icon","gmail",4,"ngIf"],["class","cu-attachment-preview__inbox","icon","inbox",4,"ngIf"],["class","cu-attachment-preview__outlook","icon","outlook",4,"ngIf"],[1,"cu-attachment-preview__file-icon",3,"icon"],[1,"cu-attachment-preview__file-icon","icon"],["height","100%","src","./assets/images/components/attachment-preview/file-doc.svg","alt","",2,"height","100%"],[1,"cu-attachment-preview__file-ext"],["icon","gmail",1,"cu-attachment-preview__gmail"],["icon","inbox",1,"cu-attachment-preview__inbox"],["icon","outlook",1,"cu-attachment-preview__outlook"],[1,"cu-attachment-preview__folder"],["icon","folder",1,"cu-attachment-preview__folder-icon"],[1,"cu-attachment-preview__doc"],[1,"cu-attachment-preview__doc-icon",3,"icon"],[1,"cu-attachment-preview__comments"]],template:function(t,e){1&t&&(i.cc(0,"a",0),i.qc("click",function(t){return e.clickImage(t)}),i.bd(1,x,10,12,"div",1),i.bd(2,S,8,12,"div",2),i.bd(3,j,3,1,"div",3),i.bd(4,A,2,1,"div",4),i.bc(),i.bd(5,z,4,2,"div",5)),2&t&&(i.Ob("cu-attachment-preview_large","large"==e.thumbSize)("cu-attachment-preview_medium","medium"==e.thumbSize)("cu-attachment-preview_small","small"==e.thumbSize),i.Jb("href",e.disableLink?null:e.attachment.url,i.Xc),i.Ib(1),i.Dc("ngIf",e.src),i.Ib(1),i.Dc("ngIf",!e.src&&!e.attachment.is_folder&&!e.googleDocType),i.Ib(1),i.Dc("ngIf",!e.src&&e.attachment.is_folder),i.Ib(1),i.Dc("ngIf",!e.src&&e.googleDocType),i.Ib(1),i.Dc("ngIf",e.showComments&&e.attachment.total_comments&&!e.isSharingApp))},directives:[u.q,l.a,p.a,s.a,u.o],styles:[".cu-attachment-preview{width:100%;position:relative}.cu-attachment-preview_small .cu-attachment-preview__folder,.cu-attachment-preview_small .cu-attachment-preview__folder-icon{width:30px;height:26px}.cu-attachment-preview_small .cu-attachment-preview__folder-box,.cu-attachment-preview_small .cu-attachment-preview__folder-dropbox,.cu-attachment-preview_small .cu-attachment-preview__folder-google-drive,.cu-attachment-preview_small .cu-attachment-preview__folder-onedrive{width:17px;height:17px;padding:3px;right:-6px}.cu-attachment-preview_small .cu-attachment-preview__file,.cu-attachment-preview_small .cu-attachment-preview__file-icon{width:22px;height:30px}.cu-attachment-preview_small .cu-attachment-preview__file_audio .cu-attachment-preview__file-ext,.cu-attachment-preview_small .cu-attachment-preview__file_image .cu-attachment-preview__file-ext,.cu-attachment-preview_small .cu-attachment-preview__file_video .cu-attachment-preview__file-ext{background-color:transparent;top:15px}.cu-attachment-preview_small .cu-attachment-preview__file-ext{white-space:nowrap;text-overflow:ellipsis;width:18px;height:9px;top:4px;line-height:9px!important;font-size:5px;font-weight:300;border-radius:2px;overflow:hidden}.cu-attachment-preview_small .cu-attachment-preview__file-ext span{line-height:9px!important;font:300 6px Gotham Pro,Proxima Nova,arial,serif}.cu-attachment-preview_small .cu-attachment-preview__thumbnail-box,.cu-attachment-preview_small .cu-attachment-preview__thumbnail-dropbox,.cu-attachment-preview_small .cu-attachment-preview__thumbnail-email,.cu-attachment-preview_small .cu-attachment-preview__thumbnail-gmail,.cu-attachment-preview_small .cu-attachment-preview__thumbnail-google-drive,.cu-attachment-preview_small .cu-attachment-preview__thumbnail-inbox,.cu-attachment-preview_small .cu-attachment-preview__thumbnail-onedrive,.cu-attachment-preview_small .cu-attachment-preview__thumbnail-outlook{width:17px;height:17px;padding:3px;margin:auto}.cu-attachment-preview_small .cu-attachment-preview__file-box,.cu-attachment-preview_small .cu-attachment-preview__file-dropbox,.cu-attachment-preview_small .cu-attachment-preview__file-gmail,.cu-attachment-preview_small .cu-attachment-preview__file-google-drive,.cu-attachment-preview_small .cu-attachment-preview__file-inbox,.cu-attachment-preview_small .cu-attachment-preview__file-onedrive,.cu-attachment-preview_small .cu-attachment-preview__file-outlook,.cu-attachment-preview_small .cu-attachment-preview__file_file-doc{width:17px;height:17px;padding:3px;left:-6px}.cu-attachment-preview_small .cu-attachment-preview__doc,.cu-attachment-preview_small .cu-attachment-preview__doc-icon{width:24px;height:30px;margin:auto}.cu-attachment-preview_medium .cu-attachment-preview__folder,.cu-attachment-preview_medium .cu-attachment-preview__folder-icon{width:62px;height:54px;margin:auto}.cu-attachment-preview_medium .cu-attachment-preview__folder-box,.cu-attachment-preview_medium .cu-attachment-preview__folder-dropbox,.cu-attachment-preview_medium .cu-attachment-preview__folder-google-drive,.cu-attachment-preview_medium .cu-attachment-preview__folder-onedrive{width:27px;height:27px;padding:5px;right:-9px}.cu-attachment-preview_medium .cu-attachment-preview__file,.cu-attachment-preview_medium .cu-attachment-preview__file-icon{width:53px;height:70px;margin:auto}.cu-attachment-preview_medium .cu-attachment-preview__file_audio .cu-attachment-preview__file-ext,.cu-attachment-preview_medium .cu-attachment-preview__file_image .cu-attachment-preview__file-ext,.cu-attachment-preview_medium .cu-attachment-preview__file_video .cu-attachment-preview__file-ext{background-color:transparent;top:26px}.cu-attachment-preview_medium .cu-attachment-preview__file-ext{white-space:nowrap;text-overflow:ellipsis;padding:0 5px;width:auto;height:19px;top:4px;line-height:19px!important;font-size:12px;font-weight:400;border-radius:3px;overflow:hidden}.cu-attachment-preview_medium .cu-attachment-preview__file-ext span{line-height:19px!important;font:400 12px Gotham Pro,Proxima Nova,arial,serif}.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-box,.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-dropbox,.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-email,.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-gmail,.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-google-drive,.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-inbox,.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-onedrive,.cu-attachment-preview_medium .cu-attachment-preview__thumbnail-outlook{width:27px;height:27px;padding:5px}.cu-attachment-preview_medium .cu-attachment-preview__file-box,.cu-attachment-preview_medium .cu-attachment-preview__file-dropbox,.cu-attachment-preview_medium .cu-attachment-preview__file-gmail,.cu-attachment-preview_medium .cu-attachment-preview__file-google-drive,.cu-attachment-preview_medium .cu-attachment-preview__file-inbox,.cu-attachment-preview_medium .cu-attachment-preview__file-onedrive,.cu-attachment-preview_medium .cu-attachment-preview__file-outlook{width:27px;height:27px;padding:5px;left:-9px}.cu-attachment-preview_medium .cu-attachment-preview__doc,.cu-attachment-preview_medium .cu-attachment-preview__doc-icon{width:50px;height:63px;margin:auto}.cu-attachment-preview__thumbnail{margin:0 auto;min-height:43px;position:relative}.cu-attachment-preview__thumbnail-box,.cu-attachment-preview__thumbnail-dropbox,.cu-attachment-preview__thumbnail-email,.cu-attachment-preview__thumbnail-gmail,.cu-attachment-preview__thumbnail-google-drive,.cu-attachment-preview__thumbnail-inbox,.cu-attachment-preview__thumbnail-onedrive,.cu-attachment-preview__thumbnail-outlook{position:absolute;width:38px;height:38px;left:7px;top:7px;padding:8px;background-color:#fff;box-shadow:0 0 4px 0 rgba(0,0,0,.07);border-radius:50%}.cu-attachment-preview__thumbnail-email{background-color:#217ffb}.cu-attachment-preview__container{min-height:45px;display:flex;align-items:center}.task-history-attachment__body .cu-attachment-preview__container{transition:all .2s cubic-bezier(.785,.135,.15,.86) 0s;width:130px;height:115px;background:#fff;border-radius:4px;box-shadow:0 0 2px 0 rgba(0,0,0,.15);border:1px solid transparent}.dark-theme .task-history-attachment__body .cu-attachment-preview__container{background:#384047}.task-history-attachment__body .cu-attachment-preview__container:hover{border-color:#7b68ee}@supports (--theme-main-color:#7b68ee){.task-history-attachment__body .cu-attachment-preview__container:hover{border-color:var(--theme-main-color)}}.cu-search-modal__body .cu-attachment-preview__container{display:flex;align-items:center;justify-content:center}.cu-attachment-preview__img{display:block;width:auto;height:auto;max-width:100%;max-height:100px;object-fit:contain}.cu-attachments__body .cu-attachment-preview__img{margin:auto auto 0}.cu-attachment-preview__img_loading{min-height:100px}.cu-attachment-preview__folder{position:relative;width:89px;height:77px;margin:0 auto 0 0}.cu-attachments__body .cu-attachment-preview__folder{margin:0 auto}.cu-attachment-preview__folder-icon{position:absolute;width:89px;height:77px;left:0;right:0;margin:auto}.dark-theme .cu-attachment-preview__folder-icon{opacity:.8}.cu-attachment-preview__folder-box,.cu-attachment-preview__folder-dropbox,.cu-attachment-preview__folder-google-drive,.cu-attachment-preview__folder-onedrive{position:absolute;width:38px;height:38px;right:-12px;top:0;padding:8px;background-color:#fff;box-shadow:0 0 4px 0 rgba(0,0,0,.07);border-radius:50%}.cu-attachment-preview__file{position:relative;width:75px;height:100px;margin:0 auto 0 7px}.cu-attachments__body .cu-attachment-preview__file,.cu-search-modal__body .cu-attachment-preview__file{margin:0 auto}.cu-attachment-preview__file-icon{position:absolute;width:75px;height:100px;left:0;right:0;margin:auto}.cu-search-modal__body .cu-attachment-preview__file-icon{left:50%;transform:translateX(-50%)}.cu-attachment-preview__file-ext{white-space:nowrap;text-overflow:ellipsis;position:absolute;width:55px;height:27px;left:0;right:0;top:8px;bottom:0;border-radius:4px;text-transform:uppercase;margin:auto;background-color:#989898;line-height:30px!important;color:#fff;font:500 14px Gotham Pro,Proxima Nova,arial,serif;text-align:center;overflow:hidden}.cu-attachment-preview__file-ext span{line-height:30px!important;color:#fff;font:500 18px Gotham Pro,Proxima Nova,arial,serif}.cu-attachment-preview__file_audio .cu-attachment-preview__file-ext,.cu-attachment-preview__file_image .cu-attachment-preview__file-ext,.cu-attachment-preview__file_video .cu-attachment-preview__file-ext{background-color:transparent;top:30px}.cu-attachment-preview__file-box,.cu-attachment-preview__file-dropbox,.cu-attachment-preview__file-google-drive,.cu-attachment-preview__file-onedrive{position:absolute;width:38px;height:38px;left:-12px;top:0;padding:8px;background-color:#fff;box-shadow:0 0 4px 0 rgba(0,0,0,.07);border-radius:50%}.cu-attachment-preview__doc{position:relative;width:72px;height:90px;margin:0 auto 0 0}.cu-attachments__body .cu-attachment-preview__doc{margin:0 auto}.cu-attachment-preview__doc-icon{position:absolute;width:72px;height:90px;left:0;right:0;margin:auto}.dark-theme .cu-attachment-preview__doc-icon{opacity:.8}.cu-attachment-preview__comments{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;position:absolute;top:-7px;left:50%;transform:translateX(-50%);background-color:#fd71af;border-radius:9px;color:hsla(0,0%,100%,.6);font:400 11px/1 Gotham Pro,Proxima Nova,arial,serif;z-index:2;padding:4px 5px;height:20px;white-space:nowrap;border:2px solid #fff}.dark-theme .cu-attachment-preview__comments{border-color:#384047}.cu-attachment-preview__comments span{color:#fff;font-weight:500}"],encapsulation:2,changeDetection:0}),t})()},chQ0:function(t,e,a){"use strict";a.d(e,"a",function(){return m});var i=a("gb9A"),c=a("ofXK"),n=a("K0KF"),o=a("bx+h"),r=a("fXoL");let m=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[c.c,n.a,i.a,o.a]]}),t})()},kfzT:function(t,e,a){t.exports=a.p+"no-thumbnail_no-bg.e12d2b6f82e15a17d324.svg"},sKwi:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=a("fXoL"),c=a("XNiG"),n=a("IE5h"),o=a("jJW4"),r=a("T7pm"),m=a("ofXK"),h=a("UdVN");function u(t,e){1&t&&(i.ac(0),i.dd(1,"("),i.ac(2),i.gc(3,7),i.Zb(),i.dd(4,")"),i.Zb())}function l(t,e){if(1&t&&(i.cc(0,"a",8),i.Xb(1,"div",9),i.bc()),2&t){const t=i.uc();i.Dc("href",t.attachment.url,i.Xc),i.Ib(1),i.Dc("icon","go")}}function p(t,e){if(1&t&&(i.cc(0,"a",10),i.Xb(1,"div",11),i.bc()),2&t){const t=i.uc();i.Ob("no-margin",t.noMargin),i.Dc("href",t.attachment.url,i.Xc)}}let s=(()=>{class t{constructor(t){this.sharedData=t,this.noThumbnailPath=a("kfzT"),this.destroy$=new c.a,this.isCloud=!1,this.isThumbnailError=!1,this.allowPreview=!0,this.noMargin=!1,this.onAttachmentPreview=new i.o}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}ngOnChanges(t){this.isCloud=Object(n.h)(this.attachment)}linkClick(t){!this.isThumbnailError&&this.allowPreview&&Object(n.a)(this.attachment,this.sharedData.compatCurrentTeam.microsoft_365_preview)&&(this.onAttachmentPreview.next(this.attachment),t.preventDefault(),t.stopPropagation())}imageClick(t){Object(n.a)(this.attachment,this.sharedData.compatCurrentTeam.microsoft_365_preview)&&this.onAttachmentPreview.next(this.attachment)}thumbnailError(t){this.isThumbnailError=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(o.a))},t.\u0275cmp=i.Qb({type:t,selectors:[["cu-comment-attachment"]],inputs:{attachment:"attachment",taskId:"taskId",allowPreview:"allowPreview",noMargin:"noMargin"},outputs:{onAttachmentPreview:"onAttachmentPreview"},features:[i.Gb],decls:8,vars:9,consts:function(){let t;return t=$localize`:@@cu-comment-attachment__deleted␟28df1b02fd88d2deb0212bc5d7ff34cf9492fa54␟6381490568322624964:Deleted`,[[1,"attachment-preview"],["thumbSize","medium",1,"attachment-preview__picture",3,"taskId","attachment","onOpen"],[1,"attachment-preview__body"],[1,"attachment-preview__name",3,"href","click"],[4,"ngIf"],["class","attachment-preview__download-link","target","_blank",3,"href",4,"ngIf"],["class","attachment-preview__download-link","download","",3,"no-margin","href",4,"ngIf"],t,["target","_blank",1,"attachment-preview__download-link",3,"href"],[1,"attachment-preview__download-link-icon","attachment-preview__download-link-icon_go",3,"icon"],["download","",1,"attachment-preview__download-link",3,"href"],["icon","download-v2",1,"attachment-preview__download-link-icon","attachment-preview__download-link-icon_download"]]},template:function(t,e){1&t&&(i.cc(0,"div",0),i.cc(1,"cu-attachment-preview",1),i.qc("onOpen",function(t){return e.imageClick(t)}),i.bc(),i.cc(2,"div",2),i.cc(3,"a",3),i.qc("click",function(t){return e.linkClick(t)}),i.dd(4),i.bd(5,u,5,0,"ng-container",4),i.bc(),i.bd(6,l,2,2,"a",5),i.bd(7,p,2,3,"a",6),i.bc(),i.bc()),2&t&&(i.Ib(1),i.Dc("taskId",e.taskId)("attachment",e.attachment),i.Ib(2),i.Dc("href",e.attachment.url,i.Xc),i.Jb("target",e.isCloud?"_blank":null)("download",!e.isCloud&&!e.attachment.deleted||null),i.Ib(1),i.fd(" ",e.attachment.name||e.attachment.title," "),i.Ib(1),i.Dc("ngIf",e.attachment.deleted),i.Ib(1),i.Dc("ngIf",e.isCloud&&!e.attachment.deleted),i.Ib(1),i.Dc("ngIf",!e.isCloud&&!e.attachment.deleted))},directives:[r.a,m.q,h.a],encapsulation:2,changeDetection:0}),t})()}}]);